id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fcinder~912052,openstack/cinder,master,Ia9ac1e4b09f73f954813d8df7e14dba738b2e03b,Fujitsu Driver: Added support for timeout.,NEW,2024-03-13 03:22:22.000000000,2024-06-15 17:58:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-03-13 03:22:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3b68f194bc5625e5a56a59e4187fe5a53a322fa2', 'message': 'Fujitsu Driver: Added support for timeout.\n\nTo prevent situations where the response from SMIS-S / CLI is not\nreceived after a certain period of time, causing the process of\nETERNUS OpenStack Volume Driver be unable to continue, this patch\nimplements a timeout function.\n\nIf a certain amount of time has elapsed, it is determined as a network\nabnormality, and a timeout is triggered to enable system recovery.\n\nChange-Id: Ia9ac1e4b09f73f954813d8df7e14dba738b2e03b\n'}, {'number': 2, 'created': '2024-03-19 06:26:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5554585c44a19065362570786fdfe70010edf878', 'message': 'Fujitsu Driver: Added support for timeout.\n\nTo prevent situations where the response from SMIS-S / CLI is not\nreceived after a certain period of time, causing the process of\nETERNUS OpenStack Volume Driver be unable to continue, this patch\nimplements a timeout function.\n\nIf a certain amount of time has elapsed, it is determined as a network\nabnormality, and a timeout is triggered to enable system recovery.\n\nChange-Id: Ia9ac1e4b09f73f954813d8df7e14dba738b2e03b\n'}, {'number': 3, 'created': '2024-03-19 09:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0ad473d0fc94b3d31a3ac50dccbebd8e188f86e1', 'message': 'Fujitsu Driver: Added support for timeout.\n\nTo prevent situations where the response from SMIS-S / CLI is not\nreceived after a certain period of time, causing the process of\nETERNUS OpenStack Volume Driver be unable to continue, this patch\nimplements a timeout function.\n\nIf a certain amount of time has elapsed, it is determined as a network\nabnormality, and a timeout is triggered to enable system recovery.\n\nChange-Id: Ia9ac1e4b09f73f954813d8df7e14dba738b2e03b\n'}, {'number': 4, 'created': '2024-04-09 09:13:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/820ccc7e277143fdc34b94f3ffbfe44c570ca12e', 'message': ""Fujitsu Driver: Added support for timeout.\n\nTo prevent situations where the response from SMIS-S / CLI is not\nreceived after a certain period of time, causing the process of\nETERNUS OpenStack Volume Driver be unable to continue, this patch\nimplements a timeout function.\n\nIf a certain amount of time has elapsed, it is determined as a network\nabnormality, and a timeout is triggered to enable system recovery.\n\nSince the cases related to 'success_with_cascade_copy' cause the error\nabout 'exited withou returning a status', these cases were removed.\n\nChange-Id: Ia9ac1e4b09f73f954813d8df7e14dba738b2e03b\n""}, {'number': 5, 'created': '2024-05-21 04:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/676a71c4134bdd5cbe3a720b9643a90d69f276ff', 'message': ""Fujitsu Driver: Added support for timeout.\n\nTo prevent situations where the response from SMIS-S / CLI is not\nreceived after a certain period of time, causing the process of\nETERNUS OpenStack Volume Driver be unable to continue, this patch\nimplements a timeout function.\n\nIf a certain amount of time has elapsed, it is determined as a network\nabnormality, and a timeout is triggered to enable system recovery.\n\nSince the cases related to 'success_with_cascade_copy' cause the error\nabout 'exited withou returning a status', these cases were removed.\n\nChange-Id: Ia9ac1e4b09f73f954813d8df7e14dba738b2e03b\n""}, {'number': 6, 'created': '2024-05-24 10:06:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b8e3cf55fd92bf237f20e54ad6c99cfb66add32f', 'message': ""Fujitsu Driver: Added support for timeout.\n\nTo prevent situations where the response from SMIS-S / CLI is not\nreceived after a certain period of time, causing the process of\nETERNUS OpenStack Volume Driver be unable to continue, this patch\nimplements a timeout function.\n\nIf a certain amount of time has elapsed, it is determined as a network\nabnormality, and a timeout is triggered to enable system recovery.\n\nSince the cases related to 'success_with_cascade_copy' cause the error\nabout 'exited withou returning a status', these cases were removed.\n\nChange-Id: Ia9ac1e4b09f73f954813d8df7e14dba738b2e03b\n""}, {'number': 7, 'created': '2024-05-27 09:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f4c2fb088dac47ec2a57e6ca545bbe2ab4be6be8', 'message': ""Fujitsu Driver: Added support for timeout.\n\nTo prevent situations where the response from SMIS-S / CLI is not\nreceived after a certain period of time, causing the process of\nETERNUS OpenStack Volume Driver be unable to continue, this patch\nimplements a timeout function.\n\nIf a certain amount of time has elapsed, it is determined as a network\nabnormality, and a timeout is triggered to enable system recovery.\n\nSince the cases related to 'success_with_cascade_copy' cause the error\nabout 'exited withou returning a status', these cases were removed.\n\nChange-Id: Ia9ac1e4b09f73f954813d8df7e14dba738b2e03b\n""}, {'number': 8, 'created': '2024-06-14 06:59:52.000000000', 'files': ['cinder/opts.py', 'releasenotes/notes/fujitsu-add-timeout-support-52e05bf40fab42db.yaml', 'cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_fc.py', 'doc/source/configuration/block-storage/drivers/fujitsu-eternus-dx-driver.rst', 'cinder/volume/drivers/fujitsu/eternus_dx/constants.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_iscsi.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0ff7f708fe7ea21c51848b857404107b81dd7fbd', 'message': ""Fujitsu Driver: Added support for timeout.\n\nTo prevent situations where the response from SMIS-S / CLI is not\nreceived after a certain period of time, causing the process of\nETERNUS OpenStack Volume Driver be unable to continue, this patch\nimplements a timeout function.\n\nIf a certain amount of time has elapsed, it is determined as a network\nabnormality, and a timeout is triggered to enable system recovery.\n\nSince the cases related to 'success_with_cascade_copy' cause the error\nabout 'exited withou returning a status', these cases were removed.\n\nChange-Id: Ia9ac1e4b09f73f954813d8df7e14dba738b2e03b\n""}]",4,912052,0ff7f708fe7ea21c51848b857404107b81dd7fbd,103,1,8,33609,,,0,"Fujitsu Driver: Added support for timeout.

To prevent situations where the response from SMIS-S / CLI is not
received after a certain period of time, causing the process of
ETERNUS OpenStack Volume Driver be unable to continue, this patch
implements a timeout function.

If a certain amount of time has elapsed, it is determined as a network
abnormality, and a timeout is triggered to enable system recovery.

Since the cases related to 'success_with_cascade_copy' cause the error
about 'exited withou returning a status', these cases were removed.

Change-Id: Ia9ac1e4b09f73f954813d8df7e14dba738b2e03b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/52/912052/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/opts.py', 'releasenotes/notes/fujitsu-add-timeout-support-52e05bf40fab42db.yaml', 'cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_fc.py', 'doc/source/configuration/block-storage/drivers/fujitsu-eternus-dx-driver.rst', 'cinder/volume/drivers/fujitsu/eternus_dx/constants.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_iscsi.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_utils.py']",9,3b68f194bc5625e5a56a59e4187fe5a53a322fa2,fujitsu-driver-update,"import ctypes import functools import inspect import threading import oslo_context.context as context_reqfrom cinder import exception from cinder.i18n import _class FJDXInterruptableThread(threading.Thread): def __init__(self, func, *args, **kwargs): self.ctxt = None if '_context' in kwargs: self.ctxt = kwargs['_context'] kwargs.pop('_context') threading.Thread.__init__(self) self._func = func self._args = args self._kwargs = kwargs self._result = None def run(self): try: if self.ctxt: context_req._request_store.context = self.ctxt self._result = self._func(*self._args, **self._kwargs) except Exception as e: self._result = e @property def result(self): return self._result def _get_thread_id(self): """"""judge self's thread status"""""" if not self.is_alive(): raise threading.ThreadError(""The thread is not alive."") # Thread id whether is exist. if hasattr(self, ""_thread_id""): return self._thread_id # Find thread id in _active.items. for tid, tobj in threading._active.items(): if tobj is self: self._thread_id = tid return tid raise AssertionError(""Thread's status cannot be judged."") def terminate(self): """"""terminate the thread"""""" _async_raise(self._get_thread_id(), SystemExit) def _async_raise(tid, exctype): """"""terminate the thread, post handle"""""" if not inspect.isclass(exctype): raise TypeError(""Types incorrect."") res = ctypes.pythonapi.PyThreadState_SetAsyncExc( ctypes.c_long(tid), ctypes.py_object(exctype)) if res == 0: LOG.debug(""The thread is not alive."") elif res != 1: """"""terminate failed"""""" ctypes.pythonapi.PyThreadState_SetAsyncExc(tid, 0) raise SystemError(""Invoke PyThreadState_SetAsyncExc failed."") class FJDXTimeout(object): def __init__(self): self._sec = None def __call__(self, func): @functools.wraps(func) def wrapped_f(*args, **kwargs): self._sec = kwargs.get('timeout', None) self._sec = self._sec if self._sec != 0 else None # Pass the logs req value in different threads. if getattr(context_req._request_store, 'context', None): kwargs['_context'] = context_req._request_store.context it = FJDXInterruptableThread(func, *args, **kwargs) it.start() it.join(self._sec) if not it.is_alive(): if isinstance(it.result, Exception): raise it.result else: return it.result msg = _('Execution timeout!') if it.is_alive(): it.terminate() LOG.warning(msg) raise exception.VolumeBackendAPIException(data=msg) return wrapped_f ",,697,306
openstack%2Fcinder~914230,openstack/cinder,master,I940049a9d58252980a8be47bdc93924e91436238,Fujitsu Driver: Add support for data protection,NEW,2024-03-29 02:44:31.000000000,2024-06-15 17:52:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-03-29 02:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/37f9898b18e2df97c57c530794c50c9dbca4d90d', 'message': ""Fujitsu Driver: Add support for data protection\n\nData protection function provides cross-backend local copy,\nreplication or backup using Fujitsu Storage ETERNUS SF Advanced Copy\nManager Copy Control Module.\n\nDiffers from volume replication, volume cloned to remote site using\nAdvancedCopy Manager Cotrol Module appears in cinder's database,\nallowing for direct attaching or deleting the volume.\n\nChange-Id: I940049a9d58252980a8be47bdc93924e91436238\n""}, {'number': 2, 'created': '2024-05-21 07:06:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5f1f88e44da13907a6da1393b77f2de46be2b982', 'message': ""Fujitsu Driver: Add support for data protection\n\nData protection function provides cross-backend local copy,\nreplication or backup using Fujitsu Storage ETERNUS SF Advanced Copy\nManager Copy Control Module.\n\nDiffers from volume replication, volume cloned to remote site using\nAdvancedCopy Manager Cotrol Module appears in cinder's database,\nallowing for direct attaching or deleting the volume.\n\nChange-Id: I940049a9d58252980a8be47bdc93924e91436238\n""}, {'number': 3, 'created': '2024-05-21 08:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7f24117e1c4da431808180b2e5c02ace250d24c1', 'message': ""Fujitsu Driver: Add support for data protection\n\nData protection function provides cross-backend local copy,\nreplication or backup using Fujitsu Storage ETERNUS SF Advanced Copy\nManager Copy Control Module.\n\nDiffers from volume replication, volume cloned to remote site using\nAdvancedCopy Manager Cotrol Module appears in cinder's database,\nallowing for direct attaching or deleting the volume.\n\nChange-Id: I940049a9d58252980a8be47bdc93924e91436238\n""}, {'number': 4, 'created': '2024-05-24 10:36:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/420f85725f20f50a4613a44270b1384ed75a9c01', 'message': ""Fujitsu Driver: Add support for data protection\n\nData protection function provides cross-backend local copy,\nreplication or backup using Fujitsu Storage ETERNUS SF Advanced Copy\nManager Copy Control Module.\n\nDiffers from volume replication, volume cloned to remote site using\nAdvancedCopy Manager Cotrol Module appears in cinder's database,\nallowing for direct attaching or deleting the volume.\n\nChange-Id: I940049a9d58252980a8be47bdc93924e91436238\n""}, {'number': 5, 'created': '2024-05-27 10:12:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/67cf1994b5046c559994306a7570cff7d7ed9abf', 'message': ""Fujitsu Driver: Add support for data protection\n\nData protection function provides cross-backend local copy,\nreplication or backup using Fujitsu Storage ETERNUS SF Advanced Copy\nManager Copy Control Module.\n\nDiffers from volume replication, volume cloned to remote site using\nAdvancedCopy Manager Cotrol Module appears in cinder's database,\nallowing for direct attaching or deleting the volume.\n\nChange-Id: I940049a9d58252980a8be47bdc93924e91436238\n""}, {'number': 6, 'created': '2024-05-28 03:48:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/446ca62d89e0fb4217b6e1fd41a231ececb77971', 'message': ""Fujitsu Driver: Add support for data protection\n\nData protection function provides cross-backend local copy,\nreplication or backup using Fujitsu Storage ETERNUS SF Advanced Copy\nManager Copy Control Module.\n\nDiffers from volume replication, volume cloned to remote site using\nAdvancedCopy Manager Cotrol Module appears in cinder's database,\nallowing for direct attaching or deleting the volume.\n\nChange-Id: I940049a9d58252980a8be47bdc93924e91436238\n""}, {'number': 7, 'created': '2024-06-14 09:11:22.000000000', 'files': ['cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_cli.py', 'releasenotes/notes/fujitsu-add-data-protection-support-eca16b7fb4c16b1e.yaml', 'cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_fc.py', 'doc/source/configuration/block-storage/drivers/fujitsu-eternus-dx-driver.rst', 'cinder/volume/drivers/fujitsu/eternus_dx/constants.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_iscsi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/64d75380728f8ab01ead977ae78bb2c21d8c9fc6', 'message': ""Fujitsu Driver: Add support for data protection\n\nData protection function provides cross-backend local copy,\nreplication or backup using Fujitsu Storage ETERNUS SF Advanced Copy\nManager Copy Control Module.\n\nDiffers from volume replication, volume cloned to remote site using\nAdvancedCopy Manager Cotrol Module appears in cinder's database,\nallowing for direct attaching or deleting the volume.\n\nChange-Id: I940049a9d58252980a8be47bdc93924e91436238\n""}]",17,914230,64d75380728f8ab01ead977ae78bb2c21d8c9fc6,77,1,7,33609,,,0,"Fujitsu Driver: Add support for data protection

Data protection function provides cross-backend local copy,
replication or backup using Fujitsu Storage ETERNUS SF Advanced Copy
Manager Copy Control Module.

Differs from volume replication, volume cloned to remote site using
AdvancedCopy Manager Cotrol Module appears in cinder's database,
allowing for direct attaching or deleting the volume.

Change-Id: I940049a9d58252980a8be47bdc93924e91436238
",git fetch https://review.opendev.org/openstack/cinder refs/changes/30/914230/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_cli.py', 'releasenotes/notes/fujitsu-add-data-protection-support-eca16b7fb4c16b1e.yaml', 'cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_fc.py', 'doc/source/configuration/block-storage/drivers/fujitsu-eternus-dx-driver.rst', 'cinder/volume/drivers/fujitsu/eternus_dx/constants.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_iscsi.py']",8,37f9898b18e2df97c57c530794c50c9dbca4d90d,fujitsu-driver-update,"""""""iSCSI Cinder Volume driver for Fujitsu ETERNUS DX S3 or later series.""""""from cinder import contextfrom cinder.volume.drivers.fujitsu.eternus_dx \ import eternus_dx_utils as dx_utils """"""iSCSI Cinder Volume Driver for Fujitsu ETERNUS DX S3 or later series."""""" self.semaphore_num = self.common.semaphore_num self.semaphore = self.common.semaphore LOG.debug('create_volume, ' 'volume id: %s, Enter method.', volume['id']) d_metadata = dx_utils.get_metadata(volume) # Choice: standard create volume or CCM create volume. if CONSTANTS.FJ_SRC_VOL_ID not in d_metadata: # Standard create volume. if self.semaphore: # In the case of using semaphore, if semaphore is not acquired, # the Create queue has reached the upper limit. if not self.semaphore.acquire(blocking=False): msg = (_('create_volume, volume id: %(vid)s ' 'semaphore is not acquired. There are already ' '%(num)s create-requests in the queue.') % {'vid': volume['id'], 'num': self.semaphore_num}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) remain = self.semaphore.counter - len(self.semaphore._waiters) LOG.debug('create_volume, volume id: %(vid)s acquire ' 'semaphore, remain %(remain)s.', {'vid': volume['id'], 'remain': remain}) try: model_update = self.common.create_volume( volume, timeout=self.common.set_sec) finally: if self.semaphore: self.semaphore.release() remain = (self.semaphore.counter - len(self.semaphore._waiters)) LOG.debug('create_volume, volume id: %(vid)s release ' 'semaphore, remain %(remain)s.', {'vid': volume['id'], 'remain': remain}) else: # CCM create volume. # Create cloned volume for backup solution. # Get source and target volume information. change_metadata = {} ctxt = context.get_admin_context() volume_size = volume['size'] src_volid = d_metadata[CONSTANTS.FJ_SRC_VOL_ID] if src_volid is None: msg = _('create_volume, Source volume id is None.') LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) # Modify metadata value Mirror to 'mirror'. if CONSTANTS.FJ_REMOTE_DEST_META in d_metadata: change_metadata[CONSTANTS.FJ_REMOTE_DEST_META] = ( (d_metadata[CONSTANTS.FJ_REMOTE_DEST_META]).lower()) # Get info of source volume. src_vref = self.db.volume_get(ctxt, src_volid) # Check target volume information with reference to source volume. src_vref_size = src_vref['size'] src_vref_status = src_vref['status'] if 'error' in src_vref_status or 'deleting' in src_vref_status: msg = (_('Invalid volume status: %(status)s.') % {'status': src_vref_status}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) elif volume_size < src_vref_size: msg = (_('Volume size %(volume_size)sGB ' 'cannot be smaller than ' 'original volume size %(src_vref_size)sGB. ' 'They must be >= original volume size.') % {'volume_size': volume_size, 'src_vref_size': src_vref_size}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) LOG.debug('create_volume, Call create cloned volume.') model_update = self.common.create_cloned_volume( volume, src_vref, use_service_name=True, timeout=self.common.set_sec) # Post processing. try: if src_vref.bootable: self.db.volume_update(ctxt, volume['id'], {'bootable': True}) self.db.volume_glance_metadata_copy_from_volume_to_volume( ctxt, src_volid, volume['id']) self.db.volume_update(ctxt, volume['id'], {'source_volid': src_volid}) except Exception as ex: msg = (_('create volume, Failed updating volume metadata, ' 'reason: %(reason)s, volume_id: %(volume_id)s, ' 'src_volid: %(src_volid)s.') % {'reason': ex, 'volume_id': volume['id'], 'src_volid': src_volid}) raise exception.MetadataCopyFailure(reason=msg) model_update['metadata'].update(change_metadata) LOG.debug('create_volume, ' 'info: %s, Exit method.', model_update['metadata'])","""""""iSCSI Cinder Volume driver for Fujitsu ETERNUS DX S3 series."""""" """"""iSCSI Cinder Volume Driver for Fujitsu ETERNUS DX S3 series."""""" model_update = self.common.create_volume( volume, timeout=self.common.set_sec) ",787,55
openstack%2Fos-brick~920516,openstack/os-brick,master,Ib075ec62a2bf993615c5c802f34acd7838bfa2af,Wait for multipath device to be ready for I/O,NEW,2024-05-27 13:05:35.000000000,2024-06-15 17:06:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-27 13:05:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/30b4404b4fe16b20ab47623f47bb10b68c843725', 'message': 'WIP: Wait for multipath device to be ready for I/O\n\nThe ""multipath -C <mpath_name>"" command waits for the multipath\ndevice map to be ready for I/O. This is useful in preventing race\nconditions when we are trying to write to the multipath device\nbefore it is ready for I/O.\n\nChange-Id: Ib075ec62a2bf993615c5c802f34acd7838bfa2af\n'}, {'number': 2, 'created': '2024-06-03 20:39:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/c9946d2e82d51adef55c7a672c123eec548fb0c7', 'message': 'WIP: Wait for multipath device to be ready for I/O\n\nThe ""multipath -C <mpath_name>"" command waits for the multipath\ndevice map to be ready for I/O. This is useful in preventing race\nconditions when we are trying to write to the multipath device\nbefore it is ready for I/O.\n\nCloses-Bug: 2067949\n\nChange-Id: Ib075ec62a2bf993615c5c802f34acd7838bfa2af\n'}, {'number': 3, 'created': '2024-06-10 08:32:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/e624b406cfbf1266e757e525240bbe27d88a5b98', 'message': 'Wait for multipath device to be ready for I/O\n\nThe ""multipath -C <mpath_name>"" command waits for the multipath\ndevice map to be ready for I/O. This is useful in preventing race\nconditions when we are trying to write to the multipath device\nbefore it is ready for I/O.\n\nCloses-Bug: #2067949\n\nChange-Id: Ib075ec62a2bf993615c5c802f34acd7838bfa2af\n'}, {'number': 4, 'created': '2024-06-14 12:14:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/911fce692a4de932dc55fe1f4c7ae23b3f733eb8', 'message': 'Wait for multipath device to be ready for I/O\n\nThe ""multipath -C <mpath_name>"" command waits for the multipath\ndevice map to be ready for I/O. This is useful in preventing race\nconditions when we are trying to write to the multipath device\nbefore it is ready for I/O.\n\nCloses-Bug: #2067949\n\nChange-Id: Ib075ec62a2bf993615c5c802f34acd7838bfa2af\n'}, {'number': 5, 'created': '2024-06-14 12:16:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/007297830784aa953acff38ee6a8f93cb269279b', 'message': 'Wait for multipath device to be ready for I/O\n\nThe ""multipath -C <mpath_name>"" command waits for the multipath\ndevice map to be ready for I/O. This is useful in preventing race\nconditions when we are trying to write to the multipath device\nbefore it is ready for I/O.\n\nCloses-Bug: #2067949\n\nChange-Id: Ib075ec62a2bf993615c5c802f34acd7838bfa2af\n'}, {'number': 6, 'created': '2024-06-14 12:17:45.000000000', 'files': ['os_brick/tests/initiator/connectors/test_fibre_channel.py', 'os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/connectors/fibre_channel.py', 'os_brick/initiator/connectors/iscsi.py', 'os_brick/initiator/linuxscsi.py', 'releasenotes/notes/wait-mpath-io-703605e74ee009ef.yaml'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/2daff448dcf4c2bdacbaeb4cc5d6cd9f74d3e355', 'message': 'Wait for multipath device to be ready for I/O\n\nThe ""multipath -C <mpath_name>"" command waits for the multipath\ndevice map to be ready for I/O. This is useful in preventing race\nconditions when we are trying to write to the multipath device\nbefore it is ready for I/O.\n\nCloses-Bug: #2067949\n\nChange-Id: Ib075ec62a2bf993615c5c802f34acd7838bfa2af\n'}]",1,920516,2daff448dcf4c2bdacbaeb4cc5d6cd9f74d3e355,36,1,6,27615,,,0,"Wait for multipath device to be ready for I/O

The ""multipath -C <mpath_name>"" command waits for the multipath
device map to be ready for I/O. This is useful in preventing race
conditions when we are trying to write to the multipath device
before it is ready for I/O.

Closes-Bug: #2067949

Change-Id: Ib075ec62a2bf993615c5c802f34acd7838bfa2af
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/16/920516/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/initiator/connectors/fibre_channel.py', 'os_brick/initiator/connectors/iscsi.py', 'os_brick/initiator/linuxscsi.py']",3,30b4404b4fe16b20ab47623f47bb10b68c843725,," def wait_for_mpath_device(self, mpath): """"""Wait for multipath device to become ready for I/O. mpath is the kernel name of the device (dm-*) which is the expected argument for multipath -C command. """""" try: (out, _err) = self._execute('multipath', '-C', mpath, run_as_root=True, root_helper=self._root_helper) except putils.ProcessExecutionError as exc: LOG.warning(""multipath call failed exit %(code)s"", {'code': exc.exit_code}) raise exception.CommandExecutionFailed( cmd='multipath -C %s' % mpath)",,24,1
openstack%2Fcinder~921933,openstack/cinder,master,I55d1133182b6a41187f53e5c7726efd060b4cb52,Dell PowerFlex: Add the 4.6.0 support,NEW,2024-06-13 10:10:55.000000000,2024-06-15 16:25:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-13 10:10:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a888aac6ad23cc1aa12004df0c764ffd2989fc10', 'message': 'Dell PowerFlex: Add the 4.6.0 support\n\nUpdate PowerFlex documentation - Add 4.6.0 support\n\nChange-Id: I55d1133182b6a41187f53e5c7726efd060b4cb52\n'}, {'number': 2, 'created': '2024-06-14 08:54:21.000000000', 'files': ['doc/source/configuration/block-storage/drivers/dell-emc-powerflex-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/bb1f75c99c637e260ace904e1ca5f73d8d536a45', 'message': 'Dell PowerFlex: Add the 4.6.0 support\n\nUpdate PowerFlex documentation - Add 4.6.0 support\n\nChange-Id: I55d1133182b6a41187f53e5c7726efd060b4cb52\n'}]",0,921933,bb1f75c99c637e260ace904e1ca5f73d8d536a45,27,1,2,36132,,,0,"Dell PowerFlex: Add the 4.6.0 support

Update PowerFlex documentation - Add 4.6.0 support

Change-Id: I55d1133182b6a41187f53e5c7726efd060b4cb52
",git fetch https://review.opendev.org/openstack/cinder refs/changes/33/921933/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/dell-emc-powerflex-driver.rst'],1,a888aac6ad23cc1aa12004df0c764ffd2989fc10,bp/powerfelx-update-doc,* PowerFlex 4.6.x ,,2,0
openstack%2Fcinder~912051,openstack/cinder,master,Ia8efa574b36d04132a8e384f6f39fb2eee164289,Fujitsu Driver: Add mapping file support,NEW,2024-03-13 02:44:13.000000000,2024-06-15 16:01:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-03-13 02:44:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fa71fd44ed1b0a7dbfdc714dcb730f3bc123b693', 'message': 'Fujitsu Driver: Add mapping file support\n\nFor a host, previously only one host-affinity is allowed to exist\non the ETERNUS at most.\n\nThis patch adds parameter ``fujitsu_port_host_mapping_file`` is added,\nwhich sets the mapping information that specifies the port of the\nETERNUS AF/DX to be connected.\n\nChange-Id: Ia8efa574b36d04132a8e384f6f39fb2eee164289\n'}, {'number': 2, 'created': '2024-03-19 06:26:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6dbe67a0f0800bbec81d64cb7b7451324e30d0fe', 'message': 'Fujitsu Driver: Add mapping file support\n\nFor a host, previously only one host-affinity is allowed to exist\non the ETERNUS at most.\n\nThis patch adds parameter ``fujitsu_port_host_mapping_file`` is added,\nwhich sets the mapping information that specifies the port of the\nETERNUS AF/DX to be connected.\n\nChange-Id: Ia8efa574b36d04132a8e384f6f39fb2eee164289\n'}, {'number': 3, 'created': '2024-04-08 09:34:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/97b02ba37771e93e6ec997b19d8d2d506f822b29', 'message': 'Fujitsu Driver: Add mapping file support\n\nFor a host, previously only one host-affinity is allowed to exist\non the ETERNUS at most.\n\nThis patch adds parameter ``fujitsu_port_host_mapping_file`` is added,\nwhich sets the mapping information that specifies the port of the\nETERNUS AF/DX to be connected.\n\nChange-Id: Ia8efa574b36d04132a8e384f6f39fb2eee164289\n'}, {'number': 4, 'created': '2024-05-21 03:54:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/deb3b039893661d061ce88b7d7a74e161c594f27', 'message': 'Fujitsu Driver: Add mapping file support\n\nFor a host, previously only one host-affinity is allowed to exist\non the ETERNUS at most.\n\nThis patch adds parameter ``fujitsu_port_host_mapping_file`` is added,\nwhich sets the mapping information that specifies the port of the\nETERNUS AF/DX to be connected.\n\nChange-Id: Ia8efa574b36d04132a8e384f6f39fb2eee164289\n'}, {'number': 5, 'created': '2024-05-24 10:05:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a43d5e8850a0f1443ee2d3c05a464c032fb19fd8', 'message': 'Fujitsu Driver: Add mapping file support\n\nFor a host, previously only one host-affinity is allowed to exist\non the ETERNUS at most.\n\nThis patch adds parameter ``fujitsu_port_host_mapping_file`` is added,\nwhich sets the mapping information that specifies the port of the\nETERNUS AF/DX to be connected.\n\nChange-Id: Ia8efa574b36d04132a8e384f6f39fb2eee164289\n'}, {'number': 6, 'created': '2024-05-27 09:50:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5063a7faa869c4d7214bd7d6f8cb5d140c3484d4', 'message': 'Fujitsu Driver: Add mapping file support\n\nFor a host, previously only one host-affinity is allowed to exist\non the ETERNUS at most.\n\nThis patch adds parameter ``fujitsu_port_host_mapping_file`` is added,\nwhich sets the mapping information that specifies the port of the\nETERNUS AF/DX to be connected.\n\nChange-Id: Ia8efa574b36d04132a8e384f6f39fb2eee164289\n'}, {'number': 7, 'created': '2024-06-14 06:58:37.000000000', 'files': ['releasenotes/notes/fujitsu-attach-with-mappingfile-8912edca26ef124d.yaml', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_cli.py', 'cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'doc/source/configuration/block-storage/drivers/fujitsu-eternus-dx-driver.rst', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/cd50354dd7f2edca10dac9ae20bce7cd1f589b4c', 'message': 'Fujitsu Driver: Add mapping file support\n\nFor a host, previously only one host-affinity is allowed to exist\non the ETERNUS at most.\n\nThis patch adds parameter ``fujitsu_port_host_mapping_file`` is added,\nwhich sets the mapping information that specifies the port of the\nETERNUS AF/DX to be connected.\n\nChange-Id: Ia8efa574b36d04132a8e384f6f39fb2eee164289\n'}]",14,912051,cd50354dd7f2edca10dac9ae20bce7cd1f589b4c,101,1,7,33609,,,0,"Fujitsu Driver: Add mapping file support

For a host, previously only one host-affinity is allowed to exist
on the ETERNUS at most.

This patch adds parameter ``fujitsu_port_host_mapping_file`` is added,
which sets the mapping information that specifies the port of the
ETERNUS AF/DX to be connected.

Change-Id: Ia8efa574b36d04132a8e384f6f39fb2eee164289
",git fetch https://review.opendev.org/openstack/cinder refs/changes/51/912051/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fujitsu-attach-with-mappingfile-8912edca26ef124d.yaml', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_cli.py', 'cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'doc/source/configuration/block-storage/drivers/fujitsu-eternus-dx-driver.rst', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py']",5,fa71fd44ed1b0a7dbfdc714dcb730f3bc123b693,fujitsu-driver-update,"import re cfg.StrOpt('fujitsu_port_host_mapping_file', default=None, help='Path to the ports-initiator configuration file.'), 1.5.7 - Add method about attching volume using mapping file. VERSION = ""1.5.7"" map_file = self.configuration.fujitsu_port_host_mapping_file if not map_file: LOG.info('Starting Fujitsu volume driver ' 'without mapping file.') self.host_ag_dict = None else: LOG.info('Starting Fujitsu volume driver ' 'with mapping file: %s.', map_file) tfo_ports = self._show_all_tfo_port() self.host_ag_dict = self._get_host_ag_from_cfg_file( map_file, tfo_ports) if not self.host_ag_dict: fc_zone_dict = self._get_enternus_fc_zone_info() for initiator in initiatorlist: host_wwpn = initiator.lower() ports = fc_zone_dict.get(host_wwpn, []) port_wwpns = [] for port in ports: if port in self.port_info_dict: port_wwpn = self.port_info_dict[port]['port_wwpn'] port_wwpns.append(port_wwpn) init_tgt_map[host_wwpn] = port_wwpns else: for initiator in initiatorlist: host_wwpn = initiator.lower() if host_wwpn in self.host_ag_dict: temp_ports = self.host_ag_dict[host_wwpn]['portlist'] port_wwpns = [] for port in temp_ports: if port in self.port_info_dict: port_wwpn = self.port_info_dict[port]['port_wwpn'] port_wwpns.append(port_wwpn) init_tgt_map[host_wwpn] = port_wwpns @lockutils.synchronized('ETERNUS-connect', 'cinder-', True) def _map_lun(self, volume, connector, ag_name): """"""Map volume to host."""""" vol_id = volume['id'] LOG.debug('_map_lun, ' 'volume id: %(vol_id)s, ' 'connector: %(connector)s, ' 'affinity group name: %(ag_name)s.', {'vol_id': vol_id, 'connector': connector, 'ag_name': ag_name}) # Get volume No in affinity group. option = { 'ag-name': ag_name } rc, emsg, clidata = self._exec_eternus_cli( 'show_affinity_group', **option) if rc != 0: msg = (_('_map_lun, ' 'show_affinity_group, ' 'Return code: %(rc)lu, ' 'Error: %(emsg)s, ' 'Message: %(clidata)s.') % {'rc': rc, 'emsg': emsg, 'clidata': clidata}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) if not clidata: msg = (_('_map_lun, ' 'show_affinity_group, ' 'Return code: %(rc)lu, ' 'Error: %(emsg)s, ' 'Message: %(clidata)s. ' 'There is no lungroup: %(ag)s in ETERNUS .') % {'rc': rc, 'emsg': emsg, 'clidata': clidata, 'ag': ag_name}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) used_nos = [] for data in clidata: no = int(data['Lun Num']) used_nos.append(no) used_nos.sort() # According to the number of last lun in ag, get the max lun number. # If last lun is bigger than 256, the max lun number is considered to # be 4095. Otherwise, the max lun number is considered to be 255. last_lun = used_nos[-1] if last_lun >= 256: max_lun = 4095 else: max_lun = 255 if last_lun < max_lun: # If the last lun number is smaller than max lun number, # then set the lun number to last+1 lun_no = last_lun + 1 else: # If the last lun number is equal to max lun number, then set the # lun number to the smallest lun no which not in the lun no list. for chk_no in range(used_nos[-1] + 2): if chk_no not in used_nos: break lun_no = chk_no LOG.debug('_map_lun, ' 'volume id: %(vol_id)s, ' 'affinity group name: %(ag_name)s, ' 'volume no: %(lun_no)s.', {'vol_id': vol_id, 'lun_no': lun_no, 'ag_name': ag_name}) # Set affinity-group. volumename = self._get_volume_name(volume) option = { 'ag-name': ag_name, 'volume-name': volumename, 'lun': lun_no } rc, emsg, clidata = self._exec_eternus_cli( 'set_affinity_group', **option) if rc != 0: # If error, check if the volume has been mapped. option = { 'ag-name': ag_name } rc_tmp, emsg_tmp, clidata_tmp = self._exec_eternus_cli( 'show_affinity_group', **option) if rc_tmp != 0: msg = (_('_map_lun, ' 'show_affinity_group, ' 'Return code: %(rc)lu, ' 'Error: %(emsg)s, ' 'Message: %(clidata)s.') % {'rc': rc_tmp, 'emsg': emsg_tmp, 'clidata': clidata_tmp}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) temp_no = None for data in clidata_tmp: name = data['Lun Name'] if volumename == name: temp_no = int(data['Lun Num']) break if temp_no is not None: lun_no = temp_no else: msg = (_('_map_lun, ' 'set_affinity_group, ' 'Return code: %(rc)lu, ' 'Error: %(emsg)s, ' 'Message: %(clidata)s.') % {'rc': rc, 'emsg': emsg, 'clidata': clidata}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) LOG.debug('_map_lun, ' 'volume id: %(vol_id)s, ' 'affinity group name: %(ag_name)s, ' 'volume No in affinity group: %(lun_no)s. Successful.', {'vol_id': vol_id, 'lun_no': lun_no, 'ag_name': ag_name}) return lun_no LOG.debug('_find_affinity_group, ' 'affinity_groups:%s.', aglist) AssocClass='CIM_ProtocolControllerForUnit', msg = (_('_find_affinity_group, ' 'connector: %(connector)s, ' 'AssocNames: CIM_ProtocolControllerForUnit, ' AssocClass='CIM_AuthorizedTarget', 'Associators: CIM_AuthorizedTarget, ' else: continue LOG.debug('_unmap_lun, volume id: %(vid)s, ' def _show_all_tfo_port(self): """"""filter all tfo own ports."""""" LOG.debug('_show_all_tfo_port, enter method.') own_ports_list = [] try: tfo_group_list = self._show_tfo_groups() for tfo_group in tfo_group_list: tfog_port_list = tfo_group['tfog_port_list'] for tfog_port in tfog_port_list: own_ports_list.append(tfog_port['own_port']) except Exception as ex: msg = (_(""_show_all_tfo_port, _show_tfo_groups failed."" ""Error information: %(ex)s."") % {'ex': ex}) LOG.warning(msg) LOG.debug('_show_all_tfo_port, ' 'own tfo ports: %(own_ports_list)s.', {'own_ports_list': own_ports_list}) return own_ports_list def _show_tfo_groups(self, tfog_number=None): """"""Show tfo groups."""""" LOG.debug('_show_tfo_groups, ' 'tfo group number: %(number)s.', {'number': tfog_number}) local_ce_support = self.local_ce_support if tfog_number: param_dict = { 'tfog-number': tfog_number, 'local_ce_support': local_ce_support, } else: param_dict = { 'local_ce_support': local_ce_support, } rc, errordesc, clidata = self._exec_eternus_cli( 'show_tfo_groups', **param_dict) if rc != 0: msg = (_('_show_tfo_groups, ' 'tfog number: %(tfog_number)s, ' 'Return code: %(rc)lu, ' 'Error: %(errordesc)s, ' 'Message: %(job)s.') % {'tfog_number': tfog_number, 'rc': rc, 'errordesc': errordesc, 'job': clidata}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) LOG.debug(""_show_tfo_groups, clidata=%s."", clidata) return clidata @staticmethod def _get_host_ag_from_cfg_file(conf_file_name, tfo_ports): if not conf_file_name: msg = _('_get_host_ag_from_cfg_file, ' 'please configure fujitsu_port_host_mapping_file ' 'in cinder.conf!') LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) if not os.path.exists(conf_file_name): msg = (_('_get_host_ag_from_cfg_file, ' 'cfg file(%(path)s) does not exist.') % {'path': conf_file_name}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) # Every line in cfg_file likes follow: # port1,port2,...=iqn=lungroup # port: xyz,wxyz # xyz: Fixed 3 digits, CM number + CA number + Port number # wxyz: Fixed 4 digits, # CE number(hex) + CM number + CA number + Port number # iqn: iqn.domaindate.reverse.domain.name:optional name # lungroup: lungroup name host_ag_dict = {} pattern = r""^(\s*[0-9A-Fa-f]{3,4}\s*,)*\s*[0-9A-Fa-f]{3,4}\s*=\s*\w"" with open(conf_file_name) as f: line = f.readline() while line: result = re.match(pattern, line) if result: infos = [x.strip() for x in line.split('=', 2)] if (len(infos) != 3 or not (infos[0] and infos[1] and infos[2])): msg = _('_get_host_ag_from_cfg_file, ' 'pattern of fujitsu_port_host_mapping_file ' 'should be port1,port2,...=iqn=lungroup.') LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) port_list = [x.strip() for x in infos[0].split(',')] if len(tfo_ports) > 0: for port in port_list: if port in tfo_ports: msg = (_('_get_host_ag_from_cfg_file, ' 'the port(%(port)s) ' 'of fujitsu_port_host_mapping_file ' 'should not be tfo port.'), {'port': port}) LOG.error(msg) raise exception.VolumeBackendAPIException( data=msg) host_ag_dict[infos[1].lower()] = { 'portlist': port_list, 'lungroup': infos[2] } line = f.readline() if not host_ag_dict: host_ag_dict = None LOG.warning('_get_host_ag_from_cfg_file, ' 'no available map info in map file(%(file)s), ' 'please check the map file!', {'file': conf_file_name}) LOG.debug('_get_host_ag_from_cfg_file, ' 'host_ag_dict: %s.', host_ag_dict) return host_ag_dict initiator_in_map_file_num = 0 if self.host_ag_dict: for initiator in initiatorlist: hostname = initiator.lower() if str(hostname) in self.host_ag_dict: initiator_in_map_file_num += 1 lunnum = None # Map lun with mapping file. if self.host_ag_dict and initiator_in_map_file_num != 0: ports, lungroup = self._get_affinity_group_ext(connector) used_ports = [x for x in ports if x in self.port_info_dict] if not used_ports: msg = (_('_map_ordinary_volume, ' 'all the ports in cfg-file are not used, ' 'ports in cfg-file: %(cfg_ports)s, ' 'ports on ETERNUS: %(e_ports)s.') % {'cfg_ports': ports, 'e_ports': self.port_info_dict}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) try: lunnum = self._map_lun(volume, connector, lungroup) except Exception: with excutils.save_and_reraise_exception(): self._unmap_lun_ext(volume, connector, rollback=True) mapdata = self._get_mapdata_ext(volume, connector, ports, lunnum) # Normal way to do attach volume. else: host_tfo_ports_dict = self._get_ordinary_port(initiatorlist) try: mapdata, ports, lunmumber = self._map_lun_without_map_file( volume, connector, host_tfo_ports_dict) except Exception: with excutils.save_and_reraise_exception(): self._unmap_lun_without_map_file(volume, connector, rollback=True) def _get_affinity_group_ext(self, connector): """"""Get host affinitiy information."""""" initiatorlist = self._find_initiator_names(connector) ports = [] lungroup = None for initiator in initiatorlist: hostname = initiator.lower() if str(hostname) in self.host_ag_dict: temp_ports = self.host_ag_dict[hostname]['portlist'] temp_lungroup = self.host_ag_dict[hostname]['lungroup'] LOG.debug('_get_affinity_group_ext, ' 'initiator: %(hostname)s, ' 'ports: %(ports)s, ' 'lungroup: %(lungroup)s.', {'hostname': hostname, 'ports': temp_ports, 'lungroup': temp_lungroup}) if lungroup and lungroup != temp_lungroup: msg = (_('_get_affinity_group_ext, ' 'initiator list: %(list)s, ' 'the specified host(%(connector)s) ' 'must have the same LUN Group, ' 'please confirm the configuration file.') % {'list': initiatorlist, 'connector': connector}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) ports += temp_ports lungroup = temp_lungroup ports = list(set(ports)) if not ports or not lungroup: msg = (_('_get_affinity_group_ext, ' 'initiatorlist: %(initiatorlist)s, ' 'cannot find port or Lun Group info from config file.') % {'initiatorlist': initiatorlist}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) return ports, lungroup def _unmap_lun_ext(self, volume, connector, rollback=False): """"""Unmap volume from host."""""" vol_id = volume['id'] LOG.debug('_unmap_lun_ext, ' 'volume id: %(vol_id)s, ' 'connector: %(connector)s.', {'vol_id': vol_id, 'connector': connector}) _x, agname = self._get_affinity_group_ext(connector) # Get LUN No in affinity group. option = { 'ag-name': agname } rc, emsg, clidata = self._exec_eternus_cli( 'show_affinity_group', **option) if rc != 0: msg = (_('_unmap_lun_ext, ' 'show_affinity_group, ' 'Return code: %(rc)lu, ' 'Error: %(emsg)s, ' 'Message: %(clidata)s.') % {'rc': rc, 'emsg': emsg, 'clidata': clidata}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) if not clidata: map_num = 0 LOG.warning('_unmap_lun_ext, ' 'WARNING!! ' 'There is no lungroup: %(ag)s in ETERNUS.', {'ag': agname}) return map_num lunnum = None map_num = len(clidata) volumename = self._get_volume_name(volume) for data in clidata: name = data['Lun Name'] if volumename == name: lunnum = data['Lun Num'] break if lunnum is None: LOG.warning('_unmap_lun_ext, ' 'WARNING!! ' 'There is no volume: %(vol)s in lungroup:%(ag)s.', {'vol': volumename, 'ag': agname}) return map_num LOG.debug('_unmap_lun_ext, ' 'volume id: %(vol_id)s, ' 'affinity group name: %(ag_name)s, ' 'volume No in affinity group: %(lun_no)s.', {'vol_id': vol_id, 'lun_no': lunnum, 'ag_name': agname}) # Check if the volume has been mapped to the other instance on # the same host. # Get volume attachment information from volume data, # and then Calculate the number of instance that the volume # mapped on and have the same host information with # current host. # If this number is greater than 1 in normal detach or # greater than 0 in rollback detach, it means that the volume # has been mapped to other instance, then do nothing. attached_instance = 0 initiatorlist = self._find_initiator_names(connector) used_host = [] volume_attachments = volume['volume_attachment'] for initiator in initiatorlist: hostname = initiator.lower() if str(hostname) in self.host_ag_dict: used_host.append(hostname) for volume_attachment in volume_attachments: host_list = [] if self.protocol == 'iSCSI' and \ volume_attachment.get('connector', None): host_list.append(volume_attachment['connector']['initiator']) elif self.protocol == 'FC' and \ volume_attachment.get('connector', None): host_list = volume_attachment['connector']['wwpns'] if set(host_list) >= set(used_host) and \ volume_attachment['attach_status'] == 'attached': attached_instance += 1 if (not rollback and attached_instance > 1) or \ (rollback and attached_instance): pass else: # Remove LUN from affinity group. option = { 'ag-name': agname, 'lun': lunnum } rc, emsg, clidata = self._exec_eternus_cli( 'delete_affinity_group', **option) if rc != 0: msg = (_('_unmap_lun_ext, ' 'delete_affinity_group, ' 'Return code: %(rc)lu, ' 'Error: %(emsg)s, ' 'Message: %(clidata)s.') % {'rc': rc, 'emsg': emsg, 'clidata': clidata}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) map_num = map_num - 1 LOG.debug('_unmap_lun_ext, ' 'volume id: %(vol_id)s, ' 'affinity group name: %(ag_name)s, ' 'unmap successfully.', {'vol_id': vol_id, 'ag_name': agname}) return map_num initiator_in_map_file_num = 0 if self.host_ag_dict: for initiator in initiatorlist: hostname = initiator.lower() if str(hostname) in self.host_ag_dict: initiator_in_map_file_num += 1 # Unmap lun with mapping file. if self.host_ag_dict and initiator_in_map_file_num != 0: try: map_num = self._unmap_lun_ext(volume, connector) except Exception: with excutils.save_and_reraise_exception(): _x, lungroup = self._get_affinity_group_ext(connector) self._map_lun(volume, connector, lungroup) else: try: map_num, fc_zone_dict = self._unmap_lun_without_map_file( connector) except Exception: with excutils.save_and_reraise_exception(): _x, avail_ports = self._get_target_port_info() host_tfo_ports_dict = {} if self.protocol == 'FC': host_info_list = [x.lower() for x in initiatorlist] for host in host_info_list: host_tfo_ports_dict[host] = {'ports': avail_ports} elif self.protocol == 'iSCSI': host_info_list = [initiatorlist[0].lower()] for host in host_info_list: host_tfo_ports_dict[host] = {'ports': avail_ports} self._map_lun_without_map_file( volume, connector, host_tfo_ports_dict)"," VERSION = ""1.5.6"" fc_zone_dict = self._get_enternus_fc_zone_info() for initiator in initiatorlist: host_wwpn = initiator.lower() ports = fc_zone_dict.get(host_wwpn, []) port_wwpns = [] for port in ports: if port in self.port_info_dict: port_wwpn = self.port_info_dict[port]['port_wwpn'] port_wwpns.append(port_wwpn) init_tgt_map[host_wwpn] = port_wwpns def check_attached_volume_in_zone(self, connector): """"""Check Attached Volume in Same FC Zone or not"""""" LOG.debug('check_attached_volume_in_zone, connector: %s.', connector) aglist = self._find_affinity_group(connector) if not aglist: attached = False else: attached = True LOG.debug('check_attached_volume_in_zone, attached: %s.', attached) return attached LOG.debug('_find_affinity_group,' 'affinity_groups:%s', aglist) AssocClass='FUJITSU_ProtocolControllerForUnit', msg = (_('_find_affinity_group,' 'connector: %(connector)s,' 'AssocNames: FUJITSU_ProtocolControllerForUnit, ' AssocClass='FUJITSU_AuthorizedTarget', 'Associators: FUJITSU_AuthorizedTarget, ' LOG.debug('_map_lun, volume id: %(vid)s, ' host_tfo_ports_dict = self._get_ordinary_port(initiatorlist) try: mapdata, ports, lunmumber = self._map_lun_without_map_file( volume, connector, host_tfo_ports_dict) except Exception: with excutils.save_and_reraise_exception(): self._unmap_lun_without_map_file(volume, connector, rollback=True) try: map_num, fc_zone_dict = self._unmap_lun_without_map_file( volume, connector) except Exception: with excutils.save_and_reraise_exception(): _x, avail_ports = self._get_target_port_info() host_tfo_ports_dict = {} if self.protocol == 'FC': host_info_list = [x.lower() for x in initiatorlist] for host in host_info_list: host_tfo_ports_dict[host] = {'ports': avail_ports} elif self.protocol == 'iSCSI': host_info_list = [initiatorlist[0].lower()] for host in host_info_list: host_tfo_ports_dict[host] = {'ports': avail_ports} self._map_lun_without_map_file( connector, host_tfo_ports_dict)",828,69
openstack%2Fcharm-keystone-openidc~922049,openstack/charm-keystone-openidc,master,Ie7da5f9a85027a287aad9958c54848a948f8495c,Fix reversed protocol and idp IDs,NEW,2024-06-14 18:37:32.000000000,2024-06-15 15:33:21.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-14 18:37:32.000000000', 'files': ['config.yaml', 'src/charm.py', 'unit_tests/test_charm.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone-openidc/commit/0086154a9f25e332ce19fc0c4580218dc082ce84', 'message': ""Fix reversed protocol and idp IDs\n\nThe values of the protocol ID and identity provider ID are\nreversed in the charm's code. This causes the mod_auth_openidc\nconfig to render incorrectly in the Apache template. This change\nfixes the reversed values and adds a config option for\ndefining the identity provider ID.\n\nPartial-Bug: 2065590\nChange-Id: Ie7da5f9a85027a287aad9958c54848a948f8495c\n""}]",1,922049,0086154a9f25e332ce19fc0c4580218dc082ce84,4,2,1,31203,,,0,"Fix reversed protocol and idp IDs

The values of the protocol ID and identity provider ID are
reversed in the charm's code. This causes the mod_auth_openidc
config to render incorrectly in the Apache template. This change
fixes the reversed values and adds a config option for
defining the identity provider ID.

Partial-Bug: 2065590
Change-Id: Ie7da5f9a85027a287aad9958c54848a948f8495c
",git fetch https://review.opendev.org/openstack/charm-keystone-openidc refs/changes/49/922049/1 && git format-patch -1 --stdout FETCH_HEAD,"['config.yaml', 'src/charm.py', 'unit_tests/test_charm.py']",3,0086154a9f25e332ce19fc0c4580218dc082ce84,bug/2065590/protocol-idp-reversed," expected = ['idp_id', 'oidc_client_id', 'oidc_provider_metadata_url'] expected = ['idp_id', 'oidc_provider_auth_endpoint', expected = {'protocol-name': json.dumps(options.protocol_id), 'idp-name': json.dumps(options.idp_id),"," expected = ['oidc_client_id', 'oidc_provider_metadata_url'] expected = ['oidc_provider_auth_endpoint', expected = {'protocol-name': json.dumps(options.idp_id), 'idp-name': json.dumps(options.protocol_id),",16,13
openstack%2Ftempest~914198,openstack/tempest,master,Ia216f5be377bf5c35d7addb78d7f8aabb2393405,Add image dependencies test for image <-> instance snapshot,NEW,2024-03-26 12:25:13.000000000,2024-06-15 15:15:49.000000000,,"[{'_account_id': 4523}, {'_account_id': 8556}, {'_account_id': 9303}, {'_account_id': 10459}, {'_account_id': 19262}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30674}]","[{'number': 1, 'created': '2024-03-26 12:25:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b455d5b191ede61e1167935f1f5d54966857b080', 'message': 'Add image dependency test coverage\n\nThese tests are for testing the current RBD\ndeletion work.\n\nChange-Id: Ia216f5be377bf5c35d7addb78d7f8aabb2393405\n'}, {'number': 2, 'created': '2024-03-28 08:52:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/12dc56ce3fcd7d2c6afe6b50ee377c0ca2024cf5', 'message': 'Add image dependency test coverage\n\nThese tests are for testing the current RBD\ndeletion work.\n\nRelates to: https://review.opendev.org/c/openstack/glance_store/+/819481\n\nChange-Id: Ia216f5be377bf5c35d7addb78d7f8aabb2393405\n'}, {'number': 3, 'created': '2024-03-28 11:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f4393e02502d0a505228ba3b159c1ec25832dac7', 'message': 'Add image dependency test coverage\n\nThese tests are for testing the current RBD\ndeletion work.\n\nRelates to: https://review.opendev.org/c/openstack/glance_store/+/819481\n\nChange-Id: Ia216f5be377bf5c35d7addb78d7f8aabb2393405\n'}, {'number': 4, 'created': '2024-03-28 14:57:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/25f6e70481372ec5fc8eeb4d5bad658b457d671f', 'message': 'Add image dependency test coverage\n\nThese tests are for testing the current RBD\ndeletion work.\n\nRelates to: https://review.opendev.org/c/openstack/glance_store/+/819481\n\nChange-Id: Ia216f5be377bf5c35d7addb78d7f8aabb2393405\n'}, {'number': 5, 'created': '2024-04-11 08:55:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/38759e8b24939deaaa176f353652f3bf96894790', 'message': 'Add image dependency test coverage\n\nThese tests are for testing the current RBD\ndeletion work.\n\nRelates to: https://review.opendev.org/c/openstack/glance_store/+/819481\n\nChange-Id: Ia216f5be377bf5c35d7addb78d7f8aabb2393405\n'}, {'number': 6, 'created': '2024-04-16 05:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/11aa73b620cafc449f8d26bfaaa68fca2c6880ba', 'message': 'Add image dependency test coverage\n\nThese tests are for testing the current RBD\ndeletion work.\n\nRelates to: https://review.opendev.org/c/openstack/glance_store/+/819481\n\nChange-Id: Ia216f5be377bf5c35d7addb78d7f8aabb2393405\n'}, {'number': 7, 'created': '2024-05-06 06:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c6311a6f9e65c242d2344c1dac98906e06a00b0f', 'message': 'Add image dependencies test for image <-> instance snapshot\n\nDetect problems related to Glance images not allowing\nGlance images to be deleted.\n\nChange-Id: Ia216f5be377bf5c35d7addb78d7f8aabb2393405\n'}, {'number': 8, 'created': '2024-05-07 05:31:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5b272b809833b58f1c86695d0b0a9c49707ebfe7', 'message': 'Add image dependencies test for image <-> instance snapshot\n\nDetect problems related to Glance images not allowing\nGlance images to be deleted.\n\nChange-Id: Ia216f5be377bf5c35d7addb78d7f8aabb2393405\n'}, {'number': 9, 'created': '2024-05-07 10:13:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/72f45c07d886ac43f4bc94eff294c844fe7b3715', 'message': 'Add image dependencies test for image <-> instance snapshot\n\nDetect problems related to Glance images not allowing\nGlance images to be deleted.\n\nChange-Id: Ia216f5be377bf5c35d7addb78d7f8aabb2393405\n'}, {'number': 10, 'created': '2024-06-14 11:51:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0268360b7598f1c0dae33b5c68e993d9ac7a3ced', 'message': 'Add image dependencies test for image <-> instance snapshot\n\nDetect problems related to Glance images not allowing\nGlance images to be deleted.\n\nChange-Id: Ia216f5be377bf5c35d7addb78d7f8aabb2393405\n'}, {'number': 11, 'created': '2024-06-14 12:02:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2a4b82a85b5024112d05ad311b96a474c70c2746', 'message': 'Add image dependencies test for image <-> instance snapshot\n\nDetect problems related to Glance images not allowing\nGlance images to be deleted.\n\nChange-Id: Ia216f5be377bf5c35d7addb78d7f8aabb2393405\n'}, {'number': 12, 'created': '2024-06-15 13:03:05.000000000', 'files': ['tempest/api/image/v2/test_images_dependency.py', 'tempest/config.py', 'releasenotes/notes/add-ceph-min-compat-client-option-64471e358e60986c.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/ddc039bd586360114217f7959264897f8f0f3c52', 'message': 'Add image dependencies test for image <-> instance snapshot\n\nDetect problems related to Glance images not allowing\nGlance images to be deleted.\n\nAdds new option\n  CONF.scenario.ceph_min_compat_client\n\nChange-Id: Ia216f5be377bf5c35d7addb78d7f8aabb2393405\n'}]",86,914198,ddc039bd586360114217f7959264897f8f0f3c52,53,8,12,34510,,,0,"Add image dependencies test for image <-> instance snapshot

Detect problems related to Glance images not allowing
Glance images to be deleted.

Adds new option
  CONF.scenario.ceph_min_compat_client

Change-Id: Ia216f5be377bf5c35d7addb78d7f8aabb2393405
",git fetch https://review.opendev.org/openstack/tempest refs/changes/98/914198/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/image/v2/test_image_dependency.py'],1,b455d5b191ede61e1167935f1f5d54966857b080,glance-clone-v2,"# Copyright 2024 OpenStack Foundation # Copyright 2024 IBM Corp # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_log import log as logging from tempest import config from tempest.api.compute import base as compute_base from tempest.api.image import base as image_base from tempest.api.volume import base as volume_base from tempest.common import utils from tempest.common import waiters from tempest.scenario import manager from tempest.lib import decorators CONF = config.CONF LOG = logging.getLogger(__name__) class ImageDependencyTests(image_base.BaseV2ImageTest, compute_base.BaseV2ComputeTest, volume_base.BaseVolumeTest, manager.ScenarioTest): """"""Test image dependency deletion * Dependency scenarios: image > volume image > volume > volume snapshot image > instance snapshot """""" @classmethod def skip_checks(cls): # TODO: Add skip if ceph client is <= luminous version super(ImageDependencyTests, cls).skip_checks() if not CONF.image_feature_enabled.import_image: skip_msg = ( ""%s skipped as image import is not available"" % cls.__name__) raise cls.skipException(skip_msg) if not CONF.service_available.nova: raise cls.skipException(""Nova service not available"") if not CONF.volume_feature_enabled.snapshot: raise cls.skipException(""Cinder volume snapshots are disabled"") def _create_volume_dependency(self, dependency_type): """""" Create volume from image and chain dependency image > volume > volume snapshot """""" img_uuid = CONF.compute.image_ref if dependency_type == 'volume_from_image': volume = self.create_volume(imageRef=img_uuid) waiters.wait_for_volume_resource_status( self.volumes_client, volume['id'], 'available') LOG.info(""Volume created %s"", volume) return img_uuid if dependency_type == 'volume_snapshot': # Create chain dependency image > volume > volume-snapshot volume = self.create_volume(imageRef=img_uuid) waiters.wait_for_volume_resource_status( self.volumes_client, volume['id'], 'available') LOG.info(""Volume created %s"", volume) volume_snapshot = self.create_snapshot(volume['id'], force=True) LOG.info(""Volume snapshot created %s"", volume_snapshot) return img_uuid def _create_instance_snapshot(self): """"""Create instance from image and then snapshot the instance"""""" img_uuid = CONF.compute.image_ref instance = self.create_server(name='instance-depend-image', image_id=img_uuid, wait_until='ACTIVE') LOG.info(""Instance from image is created %s"", instance) instance_observed = \ self.servers_client.show_server(instance['id'])['server'] snapshot_instance = self.create_server_snapshot( server=instance_observed) LOG.info(""Instance snapshot is created %s"", snapshot_instance) return img_uuid @decorators.idempotent_id('686e934c-148e-73c4-tcbf-a06a9b499997') @utils.services('image', 'volume') def test_image_volume_dependency(self): """"""Test with image > volume dependency"""""" image_id = self._create_volume_dependency( 'volume_from_image') self.client.delete_image(image_id) self.client.wait_for_resource_deletion(image_id) images_list = self.client.list_images()['images'] fetched_images_id = [img['id'] for img in images_list] self.assertNotIn(image_id, fetched_images_id) @decorators.idempotent_id('885e934c-348e-33c4-bcbf-d06b9b499997') @utils.services('image', 'volume') def test_image_volume_snapshot_dependency(self): """"""Test with image > volume > volume snapshot dependency"""""" image_id = self._create_volume_dependency('volume_snapshot') self.client.delete_image(image_id) self.client.wait_for_resource_deletion(image_id) images_list = self.client.list_images()['images'] fetched_images_id = [img['id'] for img in images_list] self.assertNotIn(image_id, fetched_images_id) @decorators.idempotent_id('785e934c-748e-73c4-ncbf-j06a7b899997') @utils.services('compute', 'image', 'volume') def test_nova_snapshot_dependency(self): """"""Test with image > instance snapshot dependency"""""" image_id = self._create_instance_snapshot() self.client.delete_image(image_id) self.client.wait_for_resource_deletion(image_id) images_list = self.client.list_images()['images'] fetched_images_id = [img['id'] for img in images_list] self.assertNotIn(image_id, fetched_images_id) ",,127,0
openstack%2Fcinder~680889,openstack/cinder,master,I3b8126cf1706921eac9556add11c558d973cf272,Implement revert_to_snapshot() for StorPool.,NEW,2019-09-08 21:17:46.000000000,2024-06-15 15:13:15.000000000,,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12988}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30590}, {'_account_id': 30688}, {'_account_id': 33431}]","[{'number': 1, 'created': '2019-09-08 21:17:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ca346ee35bff2950712c7e85a56c4c78d0c71f07', 'message': 'StorPool driver: implement revert_to_snapshot.\n\nChange-Id: I3b8126cf1706921eac9556add11c558d973cf272\n'}, {'number': 2, 'created': '2019-10-14 12:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/636f988f983f904a5aa6bdc5eeefee5bcf8f7881', 'message': 'StorPool driver: implement revert_to_snapshot.\n\nChange-Id: I3b8126cf1706921eac9556add11c558d973cf272\n'}, {'number': 3, 'created': '2020-09-09 17:36:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ed9672329e0b42afd511bc18f6ae465b223dc7cb', 'message': 'Implement revert_to_snapshot() for StorPool.\n\nChange-Id: I3b8126cf1706921eac9556add11c558d973cf272\n'}, {'number': 4, 'created': '2020-09-09 18:03:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/672e8252db52cd5af27eb7ebdb45ce58979c03ba', 'message': 'Implement revert_to_snapshot() for StorPool.\n\nChange-Id: I3b8126cf1706921eac9556add11c558d973cf272\n'}, {'number': 5, 'created': '2021-04-20 22:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d4cec2a180ffab17cb7498a2dc244eeddb49d964', 'message': 'Implement revert_to_snapshot() for StorPool.\n\nChange-Id: I3b8126cf1706921eac9556add11c558d973cf272\n'}, {'number': 6, 'created': '2021-08-08 16:27:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/841baceccbeb031658014a304ab3bc73e08cbf24', 'message': 'StorPool driver: implement revert_to_snapshot.\n\nChange-Id: I3b8126cf1706921eac9556add11c558d973cf272\n'}, {'number': 7, 'created': '2021-08-09 12:41:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/598d96db62df5a5fe0376b4fb8b5ee8d43cd0bb5', 'message': 'StorPool driver: implement revert_to_snapshot.\n\nChange-Id: I3b8126cf1706921eac9556add11c558d973cf272\nImplements: blueprint storpool-revert-to-snapshot\n'}, {'number': 8, 'created': '2021-08-11 16:14:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9283f46037e0056edf515793fce1a64051a09125', 'message': 'StorPool driver: implement revert_to_snapshot\n\nChange-Id: I3b8126cf1706921eac9556add11c558d973cf272\nImplements: blueprint storpool-revert-to-snapshot\n'}, {'number': 9, 'created': '2021-08-11 16:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ebb8c08631506236666bd1fe621856f35cd3673d', 'message': 'StorPool driver: implement revert_to_snapshot\n\nChange-Id: I3b8126cf1706921eac9556add11c558d973cf272\nImplements: blueprint storpool-revert-to-snapshot\n'}, {'number': 10, 'created': '2021-11-15 11:54:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/278b85622bec40b063c789ce7cf26f324cbe7597', 'message': ""Implement revert_to_snapshot() for StorPool.\n\nUse the StorPool API to revert a volume to the specified snapshot\nimmediately, without deleting and recreating the volume. This also\npreserves the volume's metadata, such as e.g. SCSI WWN identifier for\nthe purposes of recognizing it on VM instances that it has been\npreviously attached to.\n\nChange-Id: I3b8126cf1706921eac9556add11c558d973cf272\nImplements: blueprint storpool-revert-to-snapshot\n""}, {'number': 11, 'created': '2024-06-12 11:26:21.000000000', 'files': ['doc/source/reference/support-matrix.ini', 'cinder/volume/drivers/storpool.py', 'cinder/tests/unit/volume/drivers/test_storpool.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d6221d5accff83c971e26e6e15ec08e56f062f2f', 'message': ""Implement revert_to_snapshot() for StorPool.\n\nUse the StorPool API to revert a volume to the specified snapshot\nimmediately, without deleting and recreating the volume. This also\npreserves the volume's metadata, such as e.g. SCSI WWN identifier for\nthe purposes of recognizing it on VM instances that it has been\npreviously attached to.\n\nChange-Id: I3b8126cf1706921eac9556add11c558d973cf272\nImplements: blueprint storpool-revert-to-snapshot\n""}]",26,680889,d6221d5accff83c971e26e6e15ec08e56f062f2f,247,42,11,12988,,,0,"Implement revert_to_snapshot() for StorPool.

Use the StorPool API to revert a volume to the specified snapshot
immediately, without deleting and recreating the volume. This also
preserves the volume's metadata, such as e.g. SCSI WWN identifier for
the purposes of recognizing it on VM instances that it has been
previously attached to.

Change-Id: I3b8126cf1706921eac9556add11c558d973cf272
Implements: blueprint storpool-revert-to-snapshot
",git fetch https://review.opendev.org/openstack/cinder refs/changes/89/680889/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/support-matrix.ini', 'cinder/volume/drivers/storpool.py', 'cinder/tests/unit/volume/drivers/test_storpool.py', 'releasenotes/notes/storpool-revert-to-snapshot-ece892c57f6c4922.yaml']",4,ca346ee35bff2950712c7e85a56c4c78d0c71f07,bp/storpool-revert-to-snapshot,--- features: - | The StorPool driver can now efficiently revert a volume to its last snapshot. ,,155,2
openstack%2Fcinder~914229,openstack/cinder,master,I4e008fd0e5ba8a8ced3dfbe02ea14207a7a94a2c,Fujitsu Driver: Support volume replication,NEW,2024-03-28 09:15:56.000000000,2024-06-15 14:58:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-03-28 09:15:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2b59fa2a207725a8ef83f9ae920092cb3b3a0d3f', 'message': 'Fujitsu Driver: Support volume replication\n\nThis patch supports volume replication on Fujitsu Driver.\n\nImplements: blueprint fujitsu-add-replication-support\nChange-Id: I4e008fd0e5ba8a8ced3dfbe02ea14207a7a94a2c\n'}, {'number': 2, 'created': '2024-03-28 09:36:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/821510c9f484ff5edf5f01b6701b77e88c73f842', 'message': 'Fujitsu Driver: Support volume replication\n\nImplementing functionality failover host through ETERNUS AF/DX\nStorage Cluster function.\n\nThe Storage Cluster function switches the I/O destination to an available\nstorage if the storage system becomes unavailable to maintaining the\ndata equivalency.\n\nImplements: blueprint fujitsu-add-replication-support\nChange-Id: I4e008fd0e5ba8a8ced3dfbe02ea14207a7a94a2c\n'}, {'number': 3, 'created': '2024-04-19 09:46:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9a9adbfe5efe80b9bf3e1be911820c584b95d07c', 'message': 'Fujitsu Driver: Support volume replication\n\nImplementing functionality failover host through ETERNUS AF/DX\nStorage Cluster function.\n\nThe Storage Cluster function switches the I/O destination to an available\nstorage if the storage system becomes unavailable to maintaining the\ndata equivalency.\n\nImplements: blueprint fujitsu-add-replication-support\nChange-Id: I4e008fd0e5ba8a8ced3dfbe02ea14207a7a94a2c\n'}, {'number': 4, 'created': '2024-05-21 06:40:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3778ce94b3a232a8736054c4dbd79eda77494dae', 'message': 'Fujitsu Driver: Support volume replication\n\nImplementing functionality failover host through ETERNUS AF/DX\nStorage Cluster function.\n\nThe Storage Cluster function switches the I/O destination to an available\nstorage if the storage system becomes unavailable to maintaining the\ndata equivalency.\n\nImplements: blueprint fujitsu-add-replication-support\nChange-Id: I4e008fd0e5ba8a8ced3dfbe02ea14207a7a94a2c\n'}, {'number': 5, 'created': '2024-05-24 10:28:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/311cb88fc4538426294df89fd800c5c0c5ba5f9f', 'message': 'Fujitsu Driver: Support volume replication\n\nImplementing functionality failover host through ETERNUS AF/DX\nStorage Cluster function.\n\nThe Storage Cluster function switches the I/O destination to an available\nstorage if the storage system becomes unavailable to maintaining the\ndata equivalency.\n\nImplements: blueprint fujitsu-add-replication-support\nChange-Id: I4e008fd0e5ba8a8ced3dfbe02ea14207a7a94a2c\n'}, {'number': 6, 'created': '2024-05-27 10:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9ed8eade5dddc46468dea52af447fd34cd7c4e6b', 'message': 'Fujitsu Driver: Support volume replication\n\nImplementing functionality failover host through ETERNUS AF/DX\nStorage Cluster function.\n\nThe Storage Cluster function switches the I/O destination to an available\nstorage if the storage system becomes unavailable to maintaining the\ndata equivalency.\n\nImplements: blueprint fujitsu-add-replication-support\nChange-Id: I4e008fd0e5ba8a8ced3dfbe02ea14207a7a94a2c\n'}, {'number': 7, 'created': '2024-05-28 03:45:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/17c7098acdb14c5cbc8f907b424274c1c30a33d0', 'message': 'Fujitsu Driver: Support volume replication\n\nImplementing functionality failover host through ETERNUS AF/DX\nStorage Cluster function.\n\nThe Storage Cluster function switches the I/O destination to an available\nstorage if the storage system becomes unavailable to maintaining the\ndata equivalency.\n\nImplements: blueprint fujitsu-add-replication-support\nChange-Id: I4e008fd0e5ba8a8ced3dfbe02ea14207a7a94a2c\n'}, {'number': 8, 'created': '2024-06-14 07:58:44.000000000', 'files': ['doc/source/reference/support-matrix.ini', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_cli.py', 'cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_fc.py', 'releasenotes/notes/fujitsu-add-volume-replication-support-81b400a49e226ef4.yaml', 'doc/source/configuration/block-storage/drivers/fujitsu-eternus-dx-driver.rst', 'cinder/volume/drivers/fujitsu/eternus_dx/constants.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_iscsi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b1479c77799c8f4d4049da59ac048630e10cb30c', 'message': 'Fujitsu Driver: Support volume replication\n\nImplementing functionality failover host through ETERNUS AF/DX\nStorage Cluster function.\n\nThe Storage Cluster function switches the I/O destination to an available\nstorage if the storage system becomes unavailable to maintaining the\ndata equivalency.\n\nImplements: blueprint fujitsu-add-replication-support\nChange-Id: I4e008fd0e5ba8a8ced3dfbe02ea14207a7a94a2c\n'}]",11,914229,b1479c77799c8f4d4049da59ac048630e10cb30c,80,1,8,33609,,,0,"Fujitsu Driver: Support volume replication

Implementing functionality failover host through ETERNUS AF/DX
Storage Cluster function.

The Storage Cluster function switches the I/O destination to an available
storage if the storage system becomes unavailable to maintaining the
data equivalency.

Implements: blueprint fujitsu-add-replication-support
Change-Id: I4e008fd0e5ba8a8ced3dfbe02ea14207a7a94a2c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/29/914229/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/support-matrix.ini', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_cli.py', 'cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_fc.py', 'releasenotes/notes/fujitsu-add-volume-replication-support-81b400a49e226ef4.yaml', 'doc/source/configuration/block-storage/drivers/fujitsu-eternus-dx-driver.rst', 'cinder/volume/drivers/fujitsu/eternus_dx/constants.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_iscsi.py']",9,2b59fa2a207725a8ef83f9ae920092cb3b3a0d3f,fujitsu-driver-update," active_backend_id=kwargs.get('active_backend_id'), self._stats = None def failover_host(self, context, volumes, secondary_id=None, groups=None): """"""Failover volumes to a secondary host/ backend."""""" LOG.debug('failover_host, secondary_id: %s, Enter method.', secondary_id) secondary_id, volume_update_list, group_update_list = ( self.common.failover_host(volumes, secondary_id, groups, timeout=self.common.set_sec)) LOG.debug('failover_host, volume_update_list: %s, Exit method.', str(volume_update_list)) return secondary_id, volume_update_list, group_update_list ",,2282,509
openstack%2Fcinder~901141,openstack/cinder,master,I647d9ce2e422888d978c27aea418c9a8bc1db43b,Fujitsu Driver: Improve get volume information,NEW,2023-11-16 09:45:23.000000000,2024-06-15 14:35:54.000000000,,"[{'_account_id': 597}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9236}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-11-16 09:45:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ea87d5dd189da3ee260d377b2aaa25f832c3179c', 'message': 'Fujitsu Driver: Improve get volume information\n\nProcessing the information separately according to the type of\nbackend pool.\n\nChange-Id: I647d9ce2e422888d978c27aea418c9a8bc1db43b\n'}, {'number': 2, 'created': '2023-11-28 10:16:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7fb0ddb2088faea278f2c36f8affe693bbcbbc25', 'message': 'Fujitsu Driver: Improve get volume information\n\nProcessing the information separately according to the type of\nbackend pool.\n\nChange-Id: I647d9ce2e422888d978c27aea418c9a8bc1db43b\n'}, {'number': 3, 'created': '2023-12-28 06:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c39479a5dcbdae4d2c1eaf20e78129afad325258', 'message': 'Fujitsu Driver: Improve get volume information\n\nProcessing the information separately according to the type of\nbackend pool.\n\nChange-Id: I647d9ce2e422888d978c27aea418c9a8bc1db43b\n'}, {'number': 4, 'created': '2024-01-15 09:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/686db5dbcd54fdd1724523e100f37c5c450c70a0', 'message': 'Fujitsu Driver: Improve get volume information\n\nProcessing the information separately according to the type of\nbackend pool.\n\nChange-Id: I647d9ce2e422888d978c27aea418c9a8bc1db43b\n'}, {'number': 5, 'created': '2024-01-25 09:29:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ec4e23a233e7910dd4eff6033a02f759b2014a00', 'message': 'Fujitsu Driver: Improve get volume information\n\nProcessing the information separately according to the type of\nbackend pool.\n\nChange-Id: I647d9ce2e422888d978c27aea418c9a8bc1db43b\n'}, {'number': 6, 'created': '2024-02-02 05:26:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b7333d7ab306a13180ed9511acae84db13162cf8', 'message': 'Fujitsu Driver: Improve get volume information\n\nProcessing the information separately according to the type of\nbackend pool.\n\nChange-Id: I647d9ce2e422888d978c27aea418c9a8bc1db43b\n'}, {'number': 7, 'created': '2024-02-14 11:02:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/05bbf1f2173caf3ede76830be519f32b7c159f6d', 'message': 'Fujitsu Driver: Improve get volume information\n\nProcessing the information separately according to the type of\nbackend pool.\n\nChange-Id: I647d9ce2e422888d978c27aea418c9a8bc1db43b\n'}, {'number': 8, 'created': '2024-04-23 08:38:44.000000000', 'files': ['cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_cli.py', 'releasenotes/notes/fujitsu-pool-infomation-modified-7ebcbbc11a2e6f28.yaml', 'cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_fc.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_iscsi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a94e33281826dad574150a15512722025024af3c', 'message': 'Fujitsu Driver: Improve get volume information\n\nProcessing the information separately according to the type of\nbackend pool.\n\nChange-Id: I647d9ce2e422888d978c27aea418c9a8bc1db43b\n'}]",39,901141,a94e33281826dad574150a15512722025024af3c,259,5,8,33609,,,0,"Fujitsu Driver: Improve get volume information

Processing the information separately according to the type of
backend pool.

Change-Id: I647d9ce2e422888d978c27aea418c9a8bc1db43b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/41/901141/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_cli.py', 'releasenotes/notes/fujitsu-pool-infomation-modified-7ebcbbc11a2e6f28.yaml', 'cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_fc.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_iscsi.py']",6,ea87d5dd189da3ee260d377b2aaa25f832c3179c,fujitsu-driver-update," LOG.debug('get_volume_stats, refresh: %s, Enter method.', refresh) if refresh: 'pool name: %s, Exit method.', pool_name)"," if refresh is True: 'pool name: %s.', pool_name)",151,67
openstack%2Fcinder~910495,openstack/cinder,master,Ib0e599dfd12a503e19825af6c807b58aa3a64ffc,Fujitsu Driver: Change the function of attach/detach,NEW,2024-03-05 03:13:06.000000000,2024-06-15 14:30:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-03-05 03:13:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cbb73db6fabda3704e8c24519359c7cc2c4cdf61', 'message': 'Fujitsu Driver: Change the function of attach/detach\n\nModified the logic in attach volume and detach volume.\nNow the functions use CLI command to attach or detach volume.\n\nFix error when detaching fujitsu multiattached volume on same host.\nWhen detaching multiattached volume from one instance, connection is\ndeleted on the host so that other instances with same volume can\nnot use volume.\n\nWhen large than 1, do not terminate connection.\n\nCloses-Bug: #1888382\nChange-Id: Ib0e599dfd12a503e19825af6c807b58aa3a64ffc\n'}, {'number': 2, 'created': '2024-03-19 06:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8f025b8bfaa10a13f6df0df4d79e5490abd204ff', 'message': 'Fujitsu Driver: Change the function of attach/detach\n\nModified the logic in attach volume and detach volume.\nNow the functions use CLI command to attach or detach volume.\n\nFix error when detaching fujitsu multiattached volume on same host.\nWhen detaching multiattached volume from one instance, connection is\ndeleted on the host so that other instances with same volume can\nnot use volume.\n\nWhen large than 1, do not terminate connection.\n\nCloses-Bug: #1888382\nChange-Id: Ib0e599dfd12a503e19825af6c807b58aa3a64ffc\n'}, {'number': 3, 'created': '2024-04-08 09:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9b719e56710966dc9f5cf2d89aabd16e099da589', 'message': 'Fujitsu Driver: Change the function of attach/detach\n\nModified the logic in attach volume and detach volume.\nNow the functions use CLI command to attach or detach volume.\n\nFix error when detaching fujitsu multiattached volume on same host.\nWhen detaching multiattached volume from one instance, connection is\ndeleted on the host so that other instances with same volume can\nnot use volume.\n\nWhen large than 1, do not terminate connection.\n\nCloses-Bug: #1888382\nChange-Id: Ib0e599dfd12a503e19825af6c807b58aa3a64ffc\n'}, {'number': 4, 'created': '2024-05-16 07:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/61108da258f6856989e4ff8ef771030b4b9a71ff', 'message': 'Fujitsu Driver: Change the function of attach/detach\n\nModified the logic in attach volume and detach volume.\nNow the functions use CLI command to attach or detach volume.\n\nFix error when detaching fujitsu multiattached volume on same host.\nWhen detaching multiattached volume from one instance, connection is\ndeleted on the host so that other instances with same volume can\nnot use volume.\n\nWhen large than 1, do not terminate connection.\n\nCloses-Bug: #1888382\nChange-Id: Ib0e599dfd12a503e19825af6c807b58aa3a64ffc\n'}, {'number': 5, 'created': '2024-05-17 08:35:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7a76cf77a8e6706ede84940e4e3056d1a48477be', 'message': 'Fujitsu Driver: Change the function of attach/detach\n\nModified the logic in attach volume and detach volume.\nNow the functions use CLI command to attach or detach volume.\n\nFix error when detaching fujitsu multiattached volume on same host.\nWhen detaching multiattached volume from one instance, connection is\ndeleted on the host so that other instances with same volume can\nnot use volume.\n\nWhen large than 1, do not terminate connection.\n\nCloses-Bug: #1888382\nChange-Id: Ib0e599dfd12a503e19825af6c807b58aa3a64ffc\n'}, {'number': 6, 'created': '2024-05-24 10:01:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b4c36a00186cae88ad48ed7808b724430208b7e3', 'message': 'Fujitsu Driver: Change the function of attach/detach\n\nModified the logic in attach volume and detach volume.\nNow the functions use CLI command to attach or detach volume.\n\nFix error when detaching fujitsu multiattached volume on same host.\nWhen detaching multiattached volume from one instance, connection is\ndeleted on the host so that other instances with same volume can\nnot use volume.\n\nWhen large than 1, do not terminate connection.\n\nCloses-Bug: #1888382\nChange-Id: Ib0e599dfd12a503e19825af6c807b58aa3a64ffc\n'}, {'number': 7, 'created': '2024-05-27 09:47:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/13169081428fc9ce9d6e87187130549b7407e35a', 'message': 'Fujitsu Driver: Change the function of attach/detach\n\nModified the logic in attach volume and detach volume.\nNow the functions use CLI command to attach or detach volume.\n\nFix error when detaching fujitsu multiattached volume on same host.\nWhen detaching multiattached volume from one instance, connection is\ndeleted on the host so that other instances with same volume can\nnot use volume.\n\nWhen large than 1, do not terminate connection.\n\nCloses-Bug: #1888382\nChange-Id: Ib0e599dfd12a503e19825af6c807b58aa3a64ffc\n'}, {'number': 8, 'created': '2024-06-14 06:57:08.000000000', 'files': ['cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_cli.py', 'releasenotes/notes/fujitsu-reconfract-attaching-detaching-volume-5c287ff2a352d0fb.yaml', 'cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_fc.py', 'doc/source/configuration/block-storage/drivers/fujitsu-eternus-dx-driver.rst', 'cinder/volume/drivers/fujitsu/eternus_dx/constants.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_iscsi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3bc08c4fd00f97996711b90d1adf5ed66563b9eb', 'message': 'Fujitsu Driver: Change the function of attach/detach\n\nModified the logic in attach volume and detach volume.\nNow the functions use CLI command to attach or detach volume.\n\nFix error when detaching fujitsu multiattached volume on same host.\nWhen detaching multiattached volume from one instance, connection is\ndeleted on the host so that other instances with same volume can\nnot use volume.\n\nWhen large than 1, do not terminate connection.\n\nCloses-Bug: #1888382\nChange-Id: Ib0e599dfd12a503e19825af6c807b58aa3a64ffc\n'}]",19,910495,3bc08c4fd00f97996711b90d1adf5ed66563b9eb,137,1,8,33609,,,0,"Fujitsu Driver: Change the function of attach/detach

Modified the logic in attach volume and detach volume.
Now the functions use CLI command to attach or detach volume.

Fix error when detaching fujitsu multiattached volume on same host.
When detaching multiattached volume from one instance, connection is
deleted on the host so that other instances with same volume can
not use volume.

When large than 1, do not terminate connection.

Closes-Bug: #1888382
Change-Id: Ib0e599dfd12a503e19825af6c807b58aa3a64ffc
",git fetch https://review.opendev.org/openstack/cinder refs/changes/95/910495/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_cli.py', 'releasenotes/notes/fujitsu-reconfract-attaching-detaching-volume-5c287ff2a352d0fb.yaml', 'cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_fc.py', 'doc/source/configuration/block-storage/drivers/fujitsu-eternus-dx-driver.rst', 'cinder/volume/drivers/fujitsu/eternus_dx/constants.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_iscsi.py']",8,cbb73db6fabda3704e8c24519359c7cc2c4cdf61,fujitsu-driver-update," initiator = connector.get('initiator') if connector else None LOG.debug('initialize_connection, volume id: %(vid)s, ' 'initiator: %(initiator)s, Enter method.', {'vid': volume['id'], 'initiator': initiator}) info = self.common.initialize_connection( volume, connector) LOG.debug('initialize_connection, ' 'info: %s, Exit method.', info) initiator = connector.get('initiator') if connector else None LOG.debug('terminate_connection, volume id: %(vid)s, ' 'initiator: %(initiator)s, Enter method.', {'vid': volume['id'], 'initiator': initiator}) map_info = self.common.terminate_connection( volume, connector) LOG.debug('terminate_connection, ' 'map_num: %s, Exit method.', map_info.get('map_num'))"," info = self.common.initialize_connection(volume, connector) self.common.terminate_connection(volume, connector)",2128,568
openstack%2Fcodegenerator~922060,openstack/codegenerator,master,I5491d94392a6c32b5d700e47831971f170bf737d,Add ApiVersion info into generated RestEndpoint,NEW,2024-06-15 13:38:10.000000000,2024-06-15 13:53:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-15 13:38:10.000000000', 'files': ['codegenerator/common/__init__.py', 'codegenerator/rust_sdk.py', 'codegenerator/templates/rust_sdk/impl.rs.j2', 'codegenerator/common/rust.py'], 'web_link': 'https://opendev.org/openstack/codegenerator/commit/3ac8000fcbe56330dbc5be0350c948501562cc33', 'message': 'Add ApiVersion info into generated RestEndpoint\n\nRender min/required api version info directly into the rust sdk\nRestEndpoint to be able to rely on the results of version discovery and\nnot hardcode the version prefix as part of the path.\n\nChange-Id: I5491d94392a6c32b5d700e47831971f170bf737d\n'}]",0,922060,3ac8000fcbe56330dbc5be0350c948501562cc33,2,1,1,27900,,,0,"Add ApiVersion info into generated RestEndpoint

Render min/required api version info directly into the rust sdk
RestEndpoint to be able to rely on the results of version discovery and
not hardcode the version prefix as part of the path.

Change-Id: I5491d94392a6c32b5d700e47831971f170bf737d
",git fetch https://review.opendev.org/openstack/codegenerator refs/changes/60/922060/1 && git format-patch -1 --stdout FETCH_HEAD,"['codegenerator/common/__init__.py', 'codegenerator/rust_sdk.py', 'codegenerator/templates/rust_sdk/impl.rs.j2', 'codegenerator/common/rust.py']",4,3ac8000fcbe56330dbc5be0350c948501562cc33,," if param.location == ""header"": continue",,37,2
openstack%2Fcinder~913217,openstack/cinder,master,I9168dd609a42b0f60dd210f1184fb50065f409ed,Fujitsu Driver: Support manage volume and snapshot,NEW,2024-03-26 01:42:47.000000000,2024-06-15 13:22:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-03-26 01:42:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/84dda08369fc9c8103df8158d5684fe2808c822e', 'message': 'Fujitsu Driver: Support manage volume and snapshot\n\nThis patch supports manage volume and snapshot on Fujitsu Driver.\n\nImplements: blueprint fujitsu-add-manage-volume-and-snapshot-support\nChange-Id: I9168dd609a42b0f60dd210f1184fb50065f409ed\n'}, {'number': 2, 'created': '2024-04-19 09:37:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d685e433805d94296dd7c4c563a5da2fd52b13a8', 'message': 'Fujitsu Driver: Support manage volume and snapshot\n\nThis patch supports manage volume and snapshot on Fujitsu Driver.\n\nImplements: blueprint fujitsu-add-manage-volume-and-snapshot-support\nChange-Id: I9168dd609a42b0f60dd210f1184fb50065f409ed\n'}, {'number': 3, 'created': '2024-05-21 06:14:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c27b21891b44c0ac1713972e66ce3c22a4c069ee', 'message': 'Fujitsu Driver: Support manage volume and snapshot\n\nThis patch supports manage volume and snapshot on Fujitsu Driver.\n\nImplements: blueprint fujitsu-add-manage-volume-and-snapshot-support\nChange-Id: I9168dd609a42b0f60dd210f1184fb50065f409ed\n'}, {'number': 4, 'created': '2024-05-24 10:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0135a1f471be2dc90113fdd40e02e2001bcd70bf', 'message': 'Fujitsu Driver: Support manage volume and snapshot\n\nThis patch supports manage volume and snapshot on Fujitsu Driver.\n\nImplements: blueprint fujitsu-add-manage-volume-and-snapshot-support\nChange-Id: I9168dd609a42b0f60dd210f1184fb50065f409ed\n'}, {'number': 5, 'created': '2024-05-27 10:04:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ecd2bad5b5de25e8306fbf85e0cb4e1b435b3e5e', 'message': 'Fujitsu Driver: Support manage volume and snapshot\n\nThis patch supports manage volume and snapshot on Fujitsu Driver.\n\nImplements: blueprint fujitsu-add-manage-volume-and-snapshot-support\nChange-Id: I9168dd609a42b0f60dd210f1184fb50065f409ed\n'}, {'number': 6, 'created': '2024-06-14 07:23:24.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_fc.py', 'releasenotes/notes/fujitsu-manage-volume-snapshot-support-634d3a51d85bbed1.yaml', 'doc/source/configuration/block-storage/drivers/fujitsu-eternus-dx-driver.rst', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_iscsi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0b24d1e367107071b96c79af7ea7eef51687faa5', 'message': 'Fujitsu Driver: Support manage volume and snapshot\n\nThis patch supports manage volume and snapshot on Fujitsu Driver.\n\nImplements: blueprint fujitsu-add-manage-volume-and-snapshot-support\nChange-Id: I9168dd609a42b0f60dd210f1184fb50065f409ed\n'}]",1,913217,0b24d1e367107071b96c79af7ea7eef51687faa5,66,1,6,33609,,,0,"Fujitsu Driver: Support manage volume and snapshot

This patch supports manage volume and snapshot on Fujitsu Driver.

Implements: blueprint fujitsu-add-manage-volume-and-snapshot-support
Change-Id: I9168dd609a42b0f60dd210f1184fb50065f409ed
",git fetch https://review.opendev.org/openstack/cinder refs/changes/17/913217/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_fc.py', 'releasenotes/notes/fujitsu-manage-volume-snapshot-support-634d3a51d85bbed1.yaml', 'doc/source/configuration/block-storage/drivers/fujitsu-eternus-dx-driver.rst', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_iscsi.py']",6,84dda08369fc9c8103df8158d5684fe2808c822e,fujitsu-driver-update," pass pass pass def manage_existing(self, volume, existing_ref): """"""Bring an existing volume under Cinder management."""""" LOG.debug('manage_existing, volume id: %(vid)s, ' 'id or name: %(ref)s, Enter method.', {'vid': volume['id'], 'ref': existing_ref}) info = self.common.manage_existing( 'volume', volume, existing_ref, timeout=self.common.set_sec) LOG.debug('manage_existing, ' 'info: %s, Exit method.', info['metadata']) return info def manage_existing_get_size(self, volume, existing_ref): """"""Return size of volume to be managed by manage existing."""""" LOG.debug('manage_existing_get_size, volume id: %(vid)s, ' 'id or name: %(ref)s, Enter method.', {'vid': volume['id'], 'ref': existing_ref}) vol_size = self.common.manage_existing_get_size( 'volume', volume, existing_ref, timeout=self.common.set_sec) LOG.debug('manage_existing_get_size, ' 'volume size: %s, Exit method.', vol_size) return vol_size def unmanage(self, volume): """"""Removes the specified volume from Cinder management."""""" pass def manage_existing_snapshot(self, snapshot, existing_ref): """"""Bring an existing snapshot under Cinder management."""""" LOG.debug('manage_existing_snapshot, snapshot id: %(sid)s, ' 'id or name: %(ref)s, Enter method.', {'sid': snapshot['id'], 'ref': existing_ref}) info = self.common.manage_existing( 'snapshot', snapshot, existing_ref, timeout=self.common.set_sec) LOG.debug('manage_existing_snapshot, ' 'info: %s, Exit method.', info['metadata']) return info def manage_existing_snapshot_get_size(self, snapshot, existing_ref): """"""Return size of snapshot to be managed by manage existing."""""" LOG.debug('manage_existing_snapshot_get_size, snapshot id: %(sid)s, ' 'id or name: %(ref)s, Enter method.', {'sid': snapshot['id'], 'ref': existing_ref}) snap_size = self.common.manage_existing_get_size( 'snapshot', snapshot, existing_ref, timeout=self.common.set_sec) LOG.debug('manage_existing_snapshot_get_size, ' 'volume size: %s, Exit method.', snap_size) return snap_size def unmanage_snapshot(self, snapshot): """"""Removes the specified snapshot from Cinder management."""""" pass ", return return return,386,10
openstack%2Fironic~922024,openstack/ironic,master,Idb1d5b50656c3765ea5c9e21b7844946ae4cfc67,Fix execution of node servicing steps exposed by IPA's HardwareManager,NEW,2024-06-14 14:25:17.000000000,2024-06-15 12:53:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-14 14:25:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4d200ee87e912138e05f696ced984feb34212147', 'message': 'Fix execution of node servicing steps exposed by IPA\'s HardwareManager\n\nImplement execute_service_step() in AgentBaseMixin that will\nasynchronously execute service step on the agent. Without it, Ironic\nwill try to find <step_name> attribute on the object that implements\ninterface specified by the servicing step.\n\nExample:\n\nStep: [{""interface"": ""deploy"", ""step"": ""burnin_cpu""}]\nError: AttributeError: \'AgentDeploy\' object has no attribute \'burnin_cpu\'\n\nCloses-Bug: #2069413\n\nChange-Id: Idb1d5b50656c3765ea5c9e21b7844946ae4cfc67\nSigned-off-by: Przemyslaw Szczerbik <przemyslaw.szczerbik@intel.com>\n'}, {'number': 2, 'created': '2024-06-14 14:29:32.000000000', 'files': ['ironic/common/exception.py', 'ironic/drivers/modules/agent_base.py', 'ironic/tests/unit/drivers/modules/test_agent_base.py', 'releasenotes/notes/bug-2069430-cb58c9beaa7a35de.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/340bde9c949ff2703861748d8921231f2bbb594e', 'message': 'Fix execution of node servicing steps exposed by IPA\'s HardwareManager\n\nImplement execute_service_step() in AgentBaseMixin that will\nasynchronously execute service step on the agent. Without it, Ironic\nwill try to find <step_name> attribute on the object that implements\ninterface specified by the servicing step.\n\nExample:\n\nStep: [{""interface"": ""deploy"", ""step"": ""burnin_cpu""}]\nError: AttributeError: \'AgentDeploy\' object has no attribute \'burnin_cpu\'\n\nCloses-Bug: #2069430\n\nChange-Id: Idb1d5b50656c3765ea5c9e21b7844946ae4cfc67\nSigned-off-by: Przemyslaw Szczerbik <przemyslaw.szczerbik@intel.com>\n'}]",1,922024,340bde9c949ff2703861748d8921231f2bbb594e,7,1,2,33652,,,0,"Fix execution of node servicing steps exposed by IPA's HardwareManager

Implement execute_service_step() in AgentBaseMixin that will
asynchronously execute service step on the agent. Without it, Ironic
will try to find <step_name> attribute on the object that implements
interface specified by the servicing step.

Example:

Step: [{""interface"": ""deploy"", ""step"": ""burnin_cpu""}]
Error: AttributeError: 'AgentDeploy' object has no attribute 'burnin_cpu'

Closes-Bug: #2069430

Change-Id: Idb1d5b50656c3765ea5c9e21b7844946ae4cfc67
Signed-off-by: Przemyslaw Szczerbik <przemyslaw.szczerbik@intel.com>
",git fetch https://review.opendev.org/openstack/ironic refs/changes/24/922024/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/common/exception.py', 'ironic/drivers/modules/agent_base.py', 'ironic/tests/unit/drivers/modules/test_agent_base.py', 'releasenotes/notes/bug-2069430-cb58c9beaa7a35de.yaml']",4,4d200ee87e912138e05f696ced984feb34212147,bug/2069430,--- fixes: - | [`bug 2069430 <https://bugs.launchpad.net/ironic/+bug/2069430>`_] Fixes an issue that prevented Ironic from being able to execute node servicing steps exposed by IPA's HardwareManager ,,56,8
openstack%2Fcinder~907777,openstack/cinder,master,I14d13075b80fe8fa75bde4e093d159973dce983b,Fujitsu Driver: Add QoS priority support,NEW,2024-02-18 09:23:36.000000000,2024-06-15 12:43:23.000000000,,"[{'_account_id': 22348}, {'_account_id': 29122}]","[{'number': 1, 'created': '2024-02-18 09:23:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4e12aff2b7b32d10edb7bd5432d35087c2e77d67', 'message': 'Fujitsu Driver: Add QoS priority support\n\nSome ETERNUS models supports QoS priority settings if the firm version is\ngreater than V11L30. Either upper limit value setting or priority setting\nfor the volume can be set for the volume on these ETERNUS models.\n\nThe support for the following qos spec is added:\n\n* qos_priority\n\nChange-Id: I14d13075b80fe8fa75bde4e093d159973dce983b\n'}, {'number': 2, 'created': '2024-03-19 06:20:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c94a700fd8e915df7758ba9a91f9bac62703955c', 'message': 'Fujitsu Driver: Add QoS priority support\n\nSome ETERNUS models supports QoS priority settings if the firm version is\ngreater than V11L30. Either upper limit value setting or priority setting\nfor the volume can be set for the volume on these ETERNUS models.\n\nThe support for the following qos spec is added:\n\n* qos_priority\n\nChange-Id: I14d13075b80fe8fa75bde4e093d159973dce983b\n'}, {'number': 3, 'created': '2024-05-13 03:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ac65f113a3214b79abc6bb0e4fb5c99fb583ab06', 'message': 'Fujitsu Driver: Add QoS priority support\n\nSome ETERNUS models supports QoS priority settings if the firm version is\ngreater than V11L30. Either upper limit value setting or priority setting\nfor the volume can be set for the volume on these ETERNUS models.\n\nThe support for the following qos spec is added:\n\n* qos_priority\n\nChange-Id: I14d13075b80fe8fa75bde4e093d159973dce983b\n'}, {'number': 4, 'created': '2024-05-24 09:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f4764048d9056465eea482d8b0ee81b1336017ce', 'message': 'Fujitsu Driver: Add QoS priority support\n\nSome ETERNUS models supports QoS priority settings if the firm version is\ngreater than V11L30. Either upper limit value setting or priority setting\nfor the volume can be set for the volume on these ETERNUS models.\n\nThe support for the following qos spec is added:\n\n* qos_priority\n\nChange-Id: I14d13075b80fe8fa75bde4e093d159973dce983b\n'}, {'number': 5, 'created': '2024-05-27 08:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0684bc1b373976524b08e60aa1ff431496b7e318', 'message': 'Fujitsu Driver: Add QoS priority support\n\nSome ETERNUS models supports QoS priority settings if the firm version is\ngreater than V11L30. Either upper limit value setting or priority setting\nfor the volume can be set for the volume on these ETERNUS models.\n\nThe support for the following qos spec is added:\n\n* qos_priority\n\nChange-Id: I14d13075b80fe8fa75bde4e093d159973dce983b\n'}, {'number': 6, 'created': '2024-06-14 06:21:30.000000000', 'files': ['releasenotes/notes/fujitsu-add-qos-priority-support-04728179e61498a7.yaml', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_cli.py', 'cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'doc/source/configuration/block-storage/drivers/fujitsu-eternus-dx-driver.rst', 'cinder/volume/drivers/fujitsu/eternus_dx/constants.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4341911780ce3d67c37c77a2eb65ac3e5ecd7b78', 'message': 'Fujitsu Driver: Add QoS priority support\n\nSome ETERNUS models supports QoS priority settings if the firm version is\ngreater than V11L30. Either upper limit value setting or priority setting\nfor the volume can be set for the volume on these ETERNUS models.\n\nThe support for the following qos spec is added:\n\n* qos_priority\n\nChange-Id: I14d13075b80fe8fa75bde4e093d159973dce983b\n'}]",25,907777,4341911780ce3d67c37c77a2eb65ac3e5ecd7b78,132,2,6,33609,,,0,"Fujitsu Driver: Add QoS priority support

Some ETERNUS models supports QoS priority settings if the firm version is
greater than V11L30. Either upper limit value setting or priority setting
for the volume can be set for the volume on these ETERNUS models.

The support for the following qos spec is added:

* qos_priority

Change-Id: I14d13075b80fe8fa75bde4e093d159973dce983b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/77/907777/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fujitsu-add-qos-priority-support-04728179e61498a7.yaml', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_cli.py', 'cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'doc/source/configuration/block-storage/drivers/fujitsu-eternus-dx-driver.rst', 'cinder/volume/drivers/fujitsu/eternus_dx/constants.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py']",6,4e12aff2b7b32d10edb7bd5432d35087c2e77d67,fujitsu-driver-update," 1.5.1 - Add support for QoS priority. VERSION = ""1.5.1"" # Get Eternus QoS setting mode. rc, errordesc, data = self._exec_eternus_cli( 'show_qos_mode') if rc != 0: # Eternus DX60 does not support qos. if 'Bad command' in data: data = 'Disable' msg = (_('find_pools, show qos mode failed. ' 'Current Eternus device does not support QoS. ' 'Set qos mode to disable.')) LOG.warning(msg) self.qos_support = False else: msg = (_('_find_pools, show qos mode failed.' 'Return code: %(rc)lu, ' 'Error: %(errordesc)s, ' 'Message: %(data)s. ') % {'rc': rc, 'errordesc': errordesc, 'data': data}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) else: self.qos_support = True qos_mode = data QoS_mode=qos_mode, if not self.qos_support and qos_specs_dict: # Storage is DX60 series, qos is not support. msg = (_('_set_qos, ' 'Current Eternus device does not support QoS Settings.')) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) # Can not get anything from 'qos_specs_id'. if not qos_specs_dict: # If storage version is before V11L30, # then only parameter 'maxBWS' is supported for setting QoS. key in CONSTANTS.FJ_QOS_KEY_IOPS_list or key in CONSTANTS.FJ_PRIORITY_KEY_list): # If storage version is after V11L30, # bandwidth-limit or qos-priority may be possibly to set QoS. if clidata['version'] >= CONSTANTS.QOS_VERSION: rc, errordesc, data = self._exec_eternus_cli('show_qos_mode') if rc != 0: msg = (_('_set_qos, show qos mode failed.' 'Return code: %(rc)lu, ' 'Error: %(errordesc)s, ' 'Message: %(data)s. ') % {'rc': rc, 'errordesc': errordesc, 'data': data}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) qos_mode = data if key_dict: # QoS spec setting is different with Eternus QoS mode. if any(key in CONSTANTS.FJ_QOS_KEY_BYTES_list + CONSTANTS.FJ_QOS_KEY_IOPS_list for key in key_dict) \ and qos_mode == 'QoS Priority Enable': msg = (_('_set_qos, ' 'Eternus QoS Mode: %(qos_mode)s, ' 'your qos setting list: %(key)s. ' 'Set volume QoS failed.') % {'qos_mode': qos_mode, 'key': list(key_dict.keys())}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) if any(key in CONSTANTS.FJ_PRIORITY_KEY_list for key in key_dict) and qos_mode == 'BandWidth Limit Enable': msg = (_('_set_qos, ' 'Eternus QoS Mode: %(qos_mode)s, ' 'your qos setting list: %(key)s. ' 'Set volume QoS failed.') % {'qos_mode': qos_mode, 'key': list(key_dict.keys())}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) # QoS spec setting is same with Eternus QoS mode. if list(key_dict.keys())[0] in CONSTANTS.FJ_PRIORITY_KEY_list: category_dict = self._get_priority_category(key_dict) else: # Get total/read/write bandwidth limit. category_dict = self._get_qos_category(key_dict) conditions = [(800, 1), (700, 2), (600, 3), (500, 4), (400, 5), (300, 6), (200, 7), (100, 8), (70, 9), (40, 10), (25, 11), (20, 12), (15, 13), (10, 14), (0, 15)] # Convert the specified maxBWS to the pattern in the Eternus. # For example, if maxBWS is set to 700, the corresponding pattern # in Eternus is 2. ret = next((ret for bws, ret in conditions if digit >= bws), None) if not ret: @staticmethod def _get_priority_category(key_dict): # Get QoS priority category from key_dict. LOG.debug('_get_priority_category, ' 'key: %(key)s, value: %(value)s.', {'key': list(key_dict.keys()), 'value': list(key_dict.values())}) key = list(key_dict.keys())[0] value = list(key_dict.values())[0] conditions = [('middle', 0), ('low', 1), ('high', 2)] if key == 'volume_priority': ret = next((ret for priority, ret in conditions if value == priority), None) if not ret: msg = (_('get_priority_category, ' 'value: %(value)s is incorrect. ' 'Please use middle, low or high.') % {'value': value}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) else: msg = (_('get_priority_category, ' 'key: %(key)s is incorrect.') % {'key': key}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) LOG.debug('_get_priority_category (%s).', ret) category_dict = {'priority': ret} return category_dict is_qos, is_priority = False, False LOG.error(msg) # If can not get the corresponding iops, # the iops is set to the maximum value. is_qos = True is_qos = True elif key in CONSTANTS.FJ_PRIORITY_KEY_list: is_priority = True key_dict[key] = value # BandWidth Limit and Priority cannot be set together. if is_qos and is_priority: msg = (_('_get_param, ' 'Setting both BandWidth Limit and ' 'QoS Priority is not supported.')) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) "," VERSION = ""1.5.0"" if not qos_specs_dict: # Can not get anything from 'qos_specs_id'. # If storage version is before V11L30. key in CONSTANTS.FJ_QOS_KEY_IOPS_list): # If storage version is after V11L30. if clidata['version'] >= 'V11L30-0000': if not key_dict: return # Get total/read/write bandwidth limit. category_dict = self._get_qos_category(key_dict) if digit >= 800: ret = 1 elif digit >= 700: ret = 2 elif digit >= 600: ret = 3 elif digit >= 500: ret = 4 elif digit >= 400: ret = 5 elif digit >= 300: ret = 6 elif digit >= 200: ret = 7 elif digit >= 100: ret = 8 elif digit >= 70: ret = 9 elif digit >= 40: ret = 10 elif digit >= 25: ret = 11 elif digit >= 20: ret = 12 elif digit >= 15: ret = 13 elif digit >= 10: ret = 14 elif digit > 0: ret = 15 else: LOG.warning(msg) # Example: When ""read_bytes_sec"" is specified, # the corresponding ""read_iops_sec"" also needs to be specified. # If not, it is specified as the maximum.",368,64
openstack%2Fcinder~907776,openstack/cinder,master,I0a160d9acd0c474faa8d14f97a39e2cc5407c8bc,Fujitsu Driver: Improve volume creation on RAID Group,NEW,2024-02-18 08:59:21.000000000,2024-06-15 12:22:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-02-18 08:59:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/41f87e7caa70c94a72fb2b14605e21d181af849e', 'message': 'Fujitsu Driver: Improve volume creation on RAID Group\n\nWhen creating a volume on RAID Groups, if the RAID Group has sufficient\nremaining space but the maximum sequential physical free space is\nsmaller than the size of volume to be created, create the volume using\nthe maximum sequential physical free space first and the extend it to\nthe specified size.\n\nChange-Id: I0a160d9acd0c474faa8d14f97a39e2cc5407c8bc\n'}, {'number': 2, 'created': '2024-03-19 06:18:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ce4c1c9469e792550729ad2e081d2ca4d5b1b620', 'message': 'Fujitsu Driver: Improve volume creation on RAID Group\n\nWhen creating a volume on RAID Groups, if the RAID Group has sufficient\nremaining space but the maximum sequential physical free space is\nsmaller than the size of volume to be created, create the volume using\nthe maximum sequential physical free space first and the extend it to\nthe specified size.\n\nChange-Id: I0a160d9acd0c474faa8d14f97a39e2cc5407c8bc\n'}, {'number': 3, 'created': '2024-05-10 09:10:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/368120d2815d541f571721cd70d780cd5667e406', 'message': 'Fujitsu Driver: Improve volume creation on RAID Group\n\nWhen creating a volume on RAID Groups, if the RAID Group has sufficient\nremaining space but the maximum sequential physical free space is\nsmaller than the size of volume to be created, create the volume using\nthe maximum sequential physical free space first and the extend it to\nthe specified size.\n\nChange-Id: I0a160d9acd0c474faa8d14f97a39e2cc5407c8bc\n'}, {'number': 4, 'created': '2024-05-24 09:38:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9d65136e0385c26c3801108775819886b204ff9f', 'message': 'Fujitsu Driver: Improve volume creation on RAID Group\n\nWhen creating a volume on RAID Groups, if the RAID Group has sufficient\nremaining space but the maximum sequential physical free space is\nsmaller than the size of volume to be created, create the volume using\nthe maximum sequential physical free space first and the extend it to\nthe specified size.\n\nChange-Id: I0a160d9acd0c474faa8d14f97a39e2cc5407c8bc\n'}, {'number': 5, 'created': '2024-05-27 08:22:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e098699ae21e09d795544e249c29c0648e84ea56', 'message': 'Fujitsu Driver: Improve volume creation on RAID Group\n\nWhen creating a volume on RAID Groups, if the RAID Group has sufficient\nremaining space but the maximum sequential physical free space is\nsmaller than the size of volume to be created, create the volume using\nthe maximum sequential physical free space first and the extend it to\nthe specified size.\n\nChange-Id: I0a160d9acd0c474faa8d14f97a39e2cc5407c8bc\n'}, {'number': 6, 'created': '2024-06-14 06:16:57.000000000', 'files': ['releasenotes/notes/fujitsu-improve-create-volume-91514711475a2eb8.yaml', 'cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_fc.py', 'doc/source/configuration/block-storage/drivers/fujitsu-eternus-dx-driver.rst', 'cinder/volume/drivers/fujitsu/eternus_dx/constants.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_iscsi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9e12fcbd4a956e702f58b9fbc970ded3f551a4a8', 'message': 'Fujitsu Driver: Improve volume creation on RAID Group\n\nWhen creating a volume on RAID Groups, if the RAID Group has sufficient\nremaining space but the maximum sequential physical free space is\nsmaller than the size of volume to be created, create the volume using\nthe maximum sequential physical free space first and the extend it to\nthe specified size.\n\nChange-Id: I0a160d9acd0c474faa8d14f97a39e2cc5407c8bc\n'}]",15,907776,9e12fcbd4a956e702f58b9fbc970ded3f551a4a8,134,1,6,33609,,,0,"Fujitsu Driver: Improve volume creation on RAID Group

When creating a volume on RAID Groups, if the RAID Group has sufficient
remaining space but the maximum sequential physical free space is
smaller than the size of volume to be created, create the volume using
the maximum sequential physical free space first and the extend it to
the specified size.

Change-Id: I0a160d9acd0c474faa8d14f97a39e2cc5407c8bc
",git fetch https://review.opendev.org/openstack/cinder refs/changes/76/907776/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fujitsu-improve-create-volume-91514711475a2eb8.yaml', 'cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_fc.py', 'doc/source/configuration/block-storage/drivers/fujitsu-eternus-dx-driver.rst', 'cinder/volume/drivers/fujitsu/eternus_dx/constants.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_iscsi.py']",7,41f87e7caa70c94a72fb2b14605e21d181af849e,fujitsu-driver-update, self.common.filter_function = self.get_filter_function(),,438,11
openstack%2Fcinder~907127,openstack/cinder,master,Id7b463c54855f3722168f4176024f0fedd969612,Fujitsu Driver: Improve the SSH connection method,NEW,2024-01-31 07:45:55.000000000,2024-06-15 12:20:22.000000000,,"[{'_account_id': 4523}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-01-31 07:45:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c1e2b0032050d96753d0df5f6f10eb523658a5d4', 'message': 'Fujitsu Driver: Improve the SSH connection method\n\n- Some older ETERNUS model do not support the SHA-2 algorithm, which\n  may cause failures when using public key SSH.\n  This patch introduces an option ``fujitsu_disabled_algorithms`` to\n  disable the SHA-2 algorithm, allowing successful SSH connections to\n  ETERNUS model that do not support SHA-2.\n\n- Newer ETERNUS model allow users to custom SSH port configuration.\n  Added an option ``fujitsu_ssh_port`` to specify the port used\n  for SSH.\n\nChange-Id: Id7b463c54855f3722168f4176024f0fedd969612\n'}, {'number': 2, 'created': '2024-02-08 03:13:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d15820b8af9326f7d0a11771f88556dc4efc8a62', 'message': 'Fujitsu Driver: Improve the SSH connection method\n\n- Some older ETERNUS model do not support the SHA-2 algorithm, which\n  may cause failures when using public key SSH.\n  This patch introduces an option ``fujitsu_disabled_algorithms`` to\n  disable the SHA-2 algorithm, allowing successful SSH connections to\n  ETERNUS model that do not support SHA-2.\n\n- Newer ETERNUS model allow users to custom SSH port configuration.\n  Added an option ``fujitsu_ssh_port`` to specify the port used\n  for SSH.\n\nChange-Id: Id7b463c54855f3722168f4176024f0fedd969612\n'}, {'number': 3, 'created': '2024-02-18 02:30:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f6228f8e0f7941f0437ba32b102dda2f44c6b589', 'message': 'Fujitsu Driver: Improve the SSH connection method\n\n- Some older ETERNUS model do not support the SHA-2 algorithm, which\n  may cause failures when using public key SSH.\n  This patch introduces an option ``fujitsu_disabled_algorithms`` to\n  disable the SHA-2 algorithm, allowing successful SSH connections to\n  ETERNUS model that do not support SHA-2.\n\n- Newer ETERNUS model allow users to custom SSH port configuration.\n  Added an option ``fujitsu_ssh_port`` to specify the port used\n  for SSH.\n\nChange-Id: Id7b463c54855f3722168f4176024f0fedd969612\n'}, {'number': 4, 'created': '2024-03-19 06:11:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9bd944bca40741bf8fa0d7a53aa314dddda1e200', 'message': 'Fujitsu Driver: Improve the SSH connection method\n\n- Some older ETERNUS model do not support the SHA-2 algorithm, which\n  may cause failures when using public key SSH.\n  This patch introduces an option ``fujitsu_disabled_algorithms`` to\n  disable the SHA-2 algorithm, allowing successful SSH connections to\n  ETERNUS model that do not support SHA-2.\n\n- Newer ETERNUS model allow users to custom SSH port configuration.\n  Added an option ``fujitsu_ssh_port`` to specify the port used\n  for SSH.\n\nChange-Id: Id7b463c54855f3722168f4176024f0fedd969612\n'}, {'number': 5, 'created': '2024-05-08 02:42:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f9ab9583f5af66fa3ffe046dfd3334081d448862', 'message': 'Fujitsu Driver: Improve the SSH connection method\n\n- Some older ETERNUS model do not support the SHA-2 algorithm, which\n  may cause failures when using public key SSH.\n  This patch introduces an option ``fujitsu_disabled_algorithms`` to\n  disable the SHA-2 algorithm, allowing successful SSH connections to\n  ETERNUS model that do not support SHA-2.\n\n- Newer ETERNUS model allow users to custom SSH port configuration.\n  Added an option ``fujitsu_ssh_port`` to specify the port used\n  for SSH.\n\nChange-Id: Id7b463c54855f3722168f4176024f0fedd969612\n'}, {'number': 6, 'created': '2024-05-24 07:30:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d9cdf5c8c96dd76fcf84380d3a922868626841d9', 'message': 'Fujitsu Driver: Improve the SSH connection method\n\n- Some older ETERNUS model do not support the SHA-2 algorithm, which\n  may cause failures when using public key SSH.\n  This patch introduces an option ``fujitsu_disabled_algorithms`` to\n  disable the SHA-2 algorithm, allowing successful SSH connections to\n  ETERNUS model that do not support SHA-2.\n\n- Newer ETERNUS model allow users to custom SSH port configuration.\n  Added an option ``fujitsu_ssh_port`` to specify the port used\n  for SSH.\n\nChange-Id: Id7b463c54855f3722168f4176024f0fedd969612\n'}, {'number': 7, 'created': '2024-05-27 03:12:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6f0375ef442efbaf213c5873c172eae1f2f26168', 'message': 'Fujitsu Driver: Improve the SSH connection method\n\n- Some older ETERNUS model do not support the SHA-2 algorithm, which\n  may cause failures when using public key SSH.\n  This patch introduces an option ``fujitsu_disabled_algorithms`` to\n  disable the SHA-2 algorithm, allowing successful SSH connections to\n  ETERNUS model that do not support SHA-2.\n\n- Newer ETERNUS model allow users to custom SSH port configuration.\n  Added an option ``fujitsu_ssh_port`` to specify the port used\n  for SSH.\n\nChange-Id: Id7b463c54855f3722168f4176024f0fedd969612\n'}, {'number': 8, 'created': '2024-06-14 06:03:22.000000000', 'files': ['cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_cli.py', 'releasenotes/notes/fujistu-improve-ssh-method-c36788d0734494a0.yaml', 'cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'doc/source/configuration/block-storage/drivers/fujitsu-eternus-dx-driver.rst', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/fc7e3d367063d662cb1bc8b03f008e14a7a2558a', 'message': 'Fujitsu Driver: Improve the SSH connection method\n\n- Some older ETERNUS model do not support the SHA-2 algorithm, which\n  may cause failures when using public key SSH.\n  This patch introduces an option ``fujitsu_disabled_algorithms`` to\n  disable the SHA-2 algorithm, allowing successful SSH connections to\n  ETERNUS model that do not support SHA-2.\n\n- Newer ETERNUS model allow users to custom SSH port configuration.\n  Added an option ``fujitsu_ssh_port`` to specify the port used\n  for SSH.\n\nChange-Id: Id7b463c54855f3722168f4176024f0fedd969612\n'}]",20,907127,fc7e3d367063d662cb1bc8b03f008e14a7a2558a,163,2,8,33609,,,0,"Fujitsu Driver: Improve the SSH connection method

- Some older ETERNUS model do not support the SHA-2 algorithm, which
  may cause failures when using public key SSH.
  This patch introduces an option ``fujitsu_disabled_algorithms`` to
  disable the SHA-2 algorithm, allowing successful SSH connections to
  ETERNUS model that do not support SHA-2.

- Newer ETERNUS model allow users to custom SSH port configuration.
  Added an option ``fujitsu_ssh_port`` to specify the port used
  for SSH.

Change-Id: Id7b463c54855f3722168f4176024f0fedd969612
",git fetch https://review.opendev.org/openstack/cinder refs/changes/27/907127/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_cli.py', 'releasenotes/notes/fujistu-improve-ssh-method-c36788d0734494a0.yaml', 'cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'doc/source/configuration/block-storage/drivers/fujitsu-eternus-dx-driver.rst', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py']",5,c1e2b0032050d96753d0df5f6f10eb523658a5d4,fujitsu-driver-update," cfg.IntOpt('fujitsu_ssh_port', default=22, min=0, max=65535, help='The port when ssh to storage.'), cfg.ListOpt('fujitsu_disabled_algorithms', default=[], help='Disabled algorithms when ssh to storage' 'using publickey.') 1.4.9 - Add support for disabled algorithm when SSHing to storage. - Add support for changing SSH port. VERSION = ""1.4.9"" ssh_port = self.configuration.fujitsu_ssh_port self.disabled_algorithms = \ self.configuration.fujitsu_disabled_algorithms ssh_port, keyfile=self.private_key_path, disabled_algorithms= self.disabled_algorithms)) eternus_dx_cli.FJDXCLI(user, storage_ip, ssh_port, 'port: %(port)s, ' 'port': ssh_port, 'port: %(port)s, ' 'port': ssh_port, 'port: %(port)s, ' 'port': ssh_port, 'port: %(port)s, ' 'port': ssh_port,"," VERSION = ""1.4.8"" keyfile=self.private_key_path)) eternus_dx_cli.FJDXCLI(user, storage_ip,",249,20
openstack%2Fcinder~910494,openstack/cinder,master,Id31a25b7c2153c0690f52a3854df475de30cbb39,Fujitsu Driver: Improve Snap Pool selection,NEW,2024-03-05 02:43:50.000000000,2024-06-15 11:57:48.000000000,,"[{'_account_id': 22348}, {'_account_id': 36345}]","[{'number': 1, 'created': '2024-03-05 02:43:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0daf2fa3dd8c2dfadec0ef2f75de2991676b6035', 'message': 'Fujitsu Driver: Improve Snap Pool selection\n\nIn the OpenStack Volume Driver, we had previously allowed specify a\ndifferent pool for the snapshot. Now changing the specification so that\nthe destination snapshot defaults to the same pool as the source volume.\n\nA parameter ``fujitsu_use_eternus_snap_pool`` has been added with default\nvalue of ``False``. When this parameter is set to ``True``, the snapshot\nwill be created in the pool specified by ``EternusSnapPool`` as before.\n\nChange-Id: Id31a25b7c2153c0690f52a3854df475de30cbb39\n'}, {'number': 2, 'created': '2024-03-05 02:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a1965a97fa02484bb9fef98b1af8baa7c4d21d1b', 'message': 'Fujitsu Driver: Improve Snap Pool selection\n\nIn the OpenStack Volume Driver, we had previously allowed specify a\ndifferent pool for the snapshot. Now changing the specification so that\nthe destination snapshot defaults to the same pool as the source volume.\n\nA parameter ``fujitsu_use_eternus_snap_pool`` has been added with default value of ``False``. When this parameter is set to ``True``, the snapshot will be created in the pool specified by ``EternusSnapPool`` as before.\n\nChange-Id: Id31a25b7c2153c0690f52a3854df475de30cbb39\n'}, {'number': 3, 'created': '2024-03-19 06:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/de6a4ab2ffaaa97e3f12975b3cdf5c36e333dbe9', 'message': 'Fujitsu Driver: Improve Snap Pool selection\n\nIn the OpenStack Volume Driver, we had previously allowed specify a\ndifferent pool for the snapshot. Now changing the specification so that\nthe destination snapshot defaults to the same pool as the source volume.\n\nA parameter ``fujitsu_use_eternus_snap_pool`` has been added with default value of ``False``. When this parameter is set to ``True``, the snapshot will be created in the pool specified by ``EternusSnapPool`` as before.\n\nChange-Id: Id31a25b7c2153c0690f52a3854df475de30cbb39\n'}, {'number': 4, 'created': '2024-05-16 06:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a396901bba2ddfad8c2a2597decba3266a78393c', 'message': 'Fujitsu Driver: Improve Snap Pool selection\n\nIn the OpenStack Volume Driver, we had previously allowed specify a\ndifferent pool for the snapshot. Now changing the specification so that\nthe destination snapshot defaults to the same pool as the source volume.\n\nA parameter ``fujitsu_use_eternus_snap_pool`` has been added with default value of ``False``. When this parameter is set to ``True``, the snapshot will be created in the pool specified by ``EternusSnapPool`` as before.\n\nChange-Id: Id31a25b7c2153c0690f52a3854df475de30cbb39\n'}, {'number': 5, 'created': '2024-05-17 07:13:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cbcca4938ed8b720f9e250716bee718129b3ae82', 'message': 'Fujitsu Driver: Improve Snap Pool selection\n\nIn the OpenStack Volume Driver, we had previously allowed specify a\ndifferent pool for the snapshot. Now changing the specification so that\nthe destination snapshot defaults to the same pool as the source volume.\n\nA parameter ``fujitsu_use_eternus_snap_pool`` has been added with default value of ``False``. When this parameter is set to ``True``, the snapshot will be created in the pool specified by ``EternusSnapPool`` as before.\n\nChange-Id: Id31a25b7c2153c0690f52a3854df475de30cbb39\n'}, {'number': 6, 'created': '2024-05-24 09:57:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3bb8c4213bfb133dc2dd0795ed77c6d68e41164e', 'message': 'Fujitsu Driver: Improve Snap Pool selection\n\nIn the OpenStack Volume Driver, we had previously allowed specify a\ndifferent pool for the snapshot. Now changing the specification so that\nthe destination snapshot defaults to the same pool as the source volume.\n\nA parameter ``fujitsu_use_eternus_snap_pool`` has been added with default value of ``False``. When this parameter is set to ``True``, the snapshot will be created in the pool specified by ``EternusSnapPool`` as before.\n\nChange-Id: Id31a25b7c2153c0690f52a3854df475de30cbb39\n'}, {'number': 7, 'created': '2024-05-27 09:45:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/670c9c3a5d1e75358ff3733cf9de9afd5572bd36', 'message': 'Fujitsu Driver: Improve Snap Pool selection\n\nIn the OpenStack Volume Driver, we had previously allowed specify a\ndifferent pool for the snapshot. Now changing the specification so that\nthe destination snapshot defaults to the same pool as the source volume.\n\nA parameter ``fujitsu_use_eternus_snap_pool`` has been added with default value of ``False``. When this parameter is set to ``True``, the snapshot will be created in the pool specified by ``EternusSnapPool`` as before.\n\nChange-Id: Id31a25b7c2153c0690f52a3854df475de30cbb39\n'}, {'number': 8, 'created': '2024-06-14 06:42:27.000000000', 'files': ['releasenotes/notes/fujitsu-improve-snappool-selection-4da8255377b1a3d7.yaml', 'cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'doc/source/configuration/block-storage/drivers/fujitsu-eternus-dx-driver.rst', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a9f619388f1f086a4d3167144175b9a20587a502', 'message': 'Fujitsu Driver: Improve Snap Pool selection\n\nIn the OpenStack Volume Driver, we had previously allowed specify a\ndifferent pool for the snapshot. Now changing the specification so that\nthe destination snapshot defaults to the same pool as the source volume.\n\nA parameter ``fujitsu_use_eternus_snap_pool`` has been added with default value of ``False``. When this parameter is set to ``True``, the snapshot will be created in the pool specified by ``EternusSnapPool`` as before.\n\nChange-Id: Id31a25b7c2153c0690f52a3854df475de30cbb39\n'}]",5,910494,a9f619388f1f086a4d3167144175b9a20587a502,106,2,8,33609,,,0,"Fujitsu Driver: Improve Snap Pool selection

In the OpenStack Volume Driver, we had previously allowed specify a
different pool for the snapshot. Now changing the specification so that
the destination snapshot defaults to the same pool as the source volume.

A parameter ``fujitsu_use_eternus_snap_pool`` has been added with default value of ``False``. When this parameter is set to ``True``, the snapshot will be created in the pool specified by ``EternusSnapPool`` as before.

Change-Id: Id31a25b7c2153c0690f52a3854df475de30cbb39
",git fetch https://review.opendev.org/openstack/cinder refs/changes/94/910494/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fujitsu-improve-snappool-selection-4da8255377b1a3d7.yaml', 'cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'doc/source/configuration/block-storage/drivers/fujitsu-eternus-dx-driver.rst', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py']",4,0daf2fa3dd8c2dfadec0ef2f75de2991676b6035,fujitsu-driver-update," cfg.BoolOpt('fujitsu_use_eternus_snap_pool', default=False, help='If True create snapshot on EternusSnapPool ' 'Else create snapshot on the same pool as source volume'), 1.5.5 - Add support for disabling EternusSnapPool. VERSION = ""1.5.5"" self.use_eternus_snap_pool = \ self.configuration.fujitsu_use_eternus_snap_pool if self.use_eternus_snap_pool: # Get the user specified pool name. pool_name_list = self._get_drvcfg('EternusSnapPool', multiple=True) else: # Don't use the user specified snap_pool if 'host' in volume: poolname = volume_utils.extract_host(volume['host'], 'pool') pool_name_list = [poolname] else: msg = (_('_create_snapshot, volume: %(volume)s, ' 'volumename: %(volumename)s, ' 'Cannot find volume host.') % {'volume': volume, 'volumename': volumename}) LOG.error(msg) raise exception.VolumeBackendAPIException(msg) if self.use_eternus_snap_pool: cfgpool_list = list(self._get_drvcfg('EternusSnapPool', filename=filename, multiple=True)) else: cfgpool_list = list(self._get_drvcfg('EternusPool', filename=filename, multiple=True))"," VERSION = ""1.5.4"" # Get the user specified pool name. pool_name_list = self._get_drvcfg('EternusSnapPool', multiple=True) cfgpool_list = list(self._get_drvcfg('EternusSnapPool', filename=filename, multiple=True))",129,32
openstack%2Fcinder~913211,openstack/cinder,master,Ic0527e8975166d83e6765c73ae1595ee9c805f07,Fujitsu Driver: Support get manageable resources.,NEW,2024-03-21 05:46:35.000000000,2024-06-15 11:55:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-03-21 05:46:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/38b70a2df9ea872da6431fcec2e3737d68c25b24', 'message': 'Fujitsu Driver: Support get manageable resources.\n\nThis patch supports get manageable volume and snapshot on Fujitsu\nDriver.\n\nImplements: blueprint fujitsu-get-manageable-volume-and-snapshot-support\nChange-Id: Ic0527e8975166d83e6765c73ae1595ee9c805f07\n'}, {'number': 2, 'created': '2024-04-19 09:35:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ecdcf7b0daaa21e3e81bf42fe38bef76078edd2d', 'message': 'Fujitsu Driver: Support get manageable resources.\n\nThis patch supports get manageable volume and snapshot on Fujitsu\nDriver.\n\nImplements: blueprint fujitsu-get-manageable-volume-and-snapshot-support\nChange-Id: Ic0527e8975166d83e6765c73ae1595ee9c805f07\n'}, {'number': 3, 'created': '2024-05-21 06:09:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8c5130114359b8e6676d375ffb13e86210b8cafc', 'message': 'Fujitsu Driver: Support get manageable resources.\n\nThis patch supports get manageable volume and snapshot on Fujitsu\nDriver.\n\nImplements: blueprint fujitsu-get-manageable-volume-and-snapshot-support\nChange-Id: Ic0527e8975166d83e6765c73ae1595ee9c805f07\n'}, {'number': 4, 'created': '2024-05-24 10:17:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0be3ed40e581ba73d8f13b6cfbf5ecc6b758b029', 'message': 'Fujitsu Driver: Support get manageable resources.\n\nThis patch supports get manageable volume and snapshot on Fujitsu\nDriver.\n\nImplements: blueprint fujitsu-get-manageable-volume-and-snapshot-support\nChange-Id: Ic0527e8975166d83e6765c73ae1595ee9c805f07\n'}, {'number': 5, 'created': '2024-05-27 10:01:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a27998fbfbb1d628a1c425238b2c9b6c0c986370', 'message': 'Fujitsu Driver: Support get manageable resources.\n\nThis patch supports get manageable volume and snapshot on Fujitsu\nDriver.\n\nImplements: blueprint fujitsu-get-manageable-volume-and-snapshot-support\nChange-Id: Ic0527e8975166d83e6765c73ae1595ee9c805f07\n'}, {'number': 6, 'created': '2024-06-13 06:23:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cb831ed3b8d17e84ea49661eaca72129f3c1875f', 'message': 'Fujitsu Driver: Support get manageable resources.\n\nThis patch supports get manageable volume and snapshot on Fujitsu\nDriver.\n\nImplements: blueprint fujitsu-get-manageable-volume-and-snapshot-support\nChange-Id: Ic0527e8975166d83e6765c73ae1595ee9c805f07\n'}, {'number': 7, 'created': '2024-06-14 07:15:18.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'releasenotes/notes/fujitsu-get-manageable-volume-snapshot-support-b396a2a95cb72090.yaml', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_fc.py', 'doc/source/configuration/block-storage/drivers/fujitsu-eternus-dx-driver.rst', 'cinder/volume/drivers/fujitsu/eternus_dx/constants.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_iscsi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/063c758b7dde9948d435da709ca719ef78ef8e07', 'message': 'Fujitsu Driver: Support get manageable resources.\n\nThis patch supports get manageable volume and snapshot on Fujitsu\nDriver.\n\nImplements: blueprint fujitsu-get-manageable-volume-and-snapshot-support\nChange-Id: Ic0527e8975166d83e6765c73ae1595ee9c805f07\n'}]",4,913211,063c758b7dde9948d435da709ca719ef78ef8e07,92,1,7,33609,,,0,"Fujitsu Driver: Support get manageable resources.

This patch supports get manageable volume and snapshot on Fujitsu
Driver.

Implements: blueprint fujitsu-get-manageable-volume-and-snapshot-support
Change-Id: Ic0527e8975166d83e6765c73ae1595ee9c805f07
",git fetch https://review.opendev.org/openstack/cinder refs/changes/11/913211/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'releasenotes/notes/fujitsu-get-manageable-volume-snapshot-support-b396a2a95cb72090.yaml', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_fc.py', 'doc/source/configuration/block-storage/drivers/fujitsu-eternus-dx-driver.rst', 'cinder/volume/drivers/fujitsu/eternus_dx/constants.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_iscsi.py']",7,38b70a2df9ea872da6431fcec2e3737d68c25b24,fujitsu-driver-update," def get_manageable_volumes(self, cinder_volumes, marker, limit, offset, sort_keys, sort_dirs): """"""List volumes on the backend available for management by Cinder."""""" return self.common.get_manageable_resource_info( cinder_volumes, 'volume', marker, limit, offset, sort_keys, sort_dirs, timeout=self.common.query_sec) def get_manageable_snapshots(self, cinder_snapshots, marker, limit, offset, sort_keys, sort_dirs): """"""List snapshots on the backend available for management by Cinder."""""" return self.common.get_manageable_resource_info( cinder_snapshots, 'snapshot', marker, limit, offset, sort_keys, sort_dirs, timeout=self.common.query_sec) ",,510,3
openstack%2Fmanila~912777,openstack/manila,master,Ifdc9ae9326f2b3d63d4b2e9ce14854f391d504a9,Bump pylint version and fix pylint issues,NEW,2024-03-13 13:59:38.000000000,2024-06-15 11:45:13.000000000,,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 30407}]","[{'number': 1, 'created': '2024-03-13 13:59:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d30a97a3833c2bc08c6a4272f238b908efcef055', 'message': '[WIP] testing pylint\n\nSigned-off-by: silvacarloss <ces.eduardo98@gmail.com>\nChange-Id: Ifdc9ae9326f2b3d63d4b2e9ce14854f391d504a9\n'}, {'number': 2, 'created': '2024-06-07 17:52:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ca64ee38486421d645bc35d5febd26ddb261ec6e', 'message': 'Bump pylint version and fix pylint issues\n\nBumps pylint to version 3.0.2 and fixes some issues in the code\nby either ignoring or changing the way we are approaching them.\n\nSigned-off-by: silvacarloss <ces.eduardo98@gmail.com>\nChange-Id: Ifdc9ae9326f2b3d63d4b2e9ce14854f391d504a9\n'}, {'number': 3, 'created': '2024-06-07 17:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d4dea736b9f554793d953f83ab0ffb505f86d2b1', 'message': 'Bump pylint version and fix pylint issues\n\nBumps pylint to version 3.0.2 and fixes some issues in the code\nby either ignoring or changing the way we are approaching them.\n\nSigned-off-by: silvacarloss <ces.eduardo98@gmail.com>\nChange-Id: Ifdc9ae9326f2b3d63d4b2e9ce14854f391d504a9\n'}, {'number': 4, 'created': '2024-06-14 13:02:09.000000000', 'files': ['manila/share/api.py', 'manila/share/manager.py', 'manila/scheduler/evaluator/evaluator.py', 'manila/exception.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/manila/commit/12aa2913baa4e004d2198f0a5fd3ad9ccfeb302d', 'message': 'Bump pylint version and fix pylint issues\n\nBumps pylint to version 3.0.2 and fixes some issues in the code\nby either ignoring or changing the way we are approaching them.\n\nSigned-off-by: silvacarloss <ces.eduardo98@gmail.com>\nChange-Id: Ifdc9ae9326f2b3d63d4b2e9ce14854f391d504a9\n'}]",15,912777,12aa2913baa4e004d2198f0a5fd3ad9ccfeb302d,28,3,4,29632,,,0,"Bump pylint version and fix pylint issues

Bumps pylint to version 3.0.2 and fixes some issues in the code
by either ignoring or changing the way we are approaching them.

Signed-off-by: silvacarloss <ces.eduardo98@gmail.com>
Change-Id: Ifdc9ae9326f2b3d63d4b2e9ce14854f391d504a9
",git fetch https://review.opendev.org/openstack/manila refs/changes/77/912777/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/api.py', 'tox.ini']",2,d30a97a3833c2bc08c6a4272f238b908efcef055,, pylint==3.0.2, pylint==2.3.1,2,1
openstack%2Fmanila~922010,openstack/manila,master,I585bd6b9396ba49afd3fd92f9a8626de1d77b6c5,Handle race condition for share server delete,NEW,2024-06-14 11:01:26.000000000,2024-06-15 11:45:12.000000000,,"[{'_account_id': 16643}, {'_account_id': 18816}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30407}]","[{'number': 1, 'created': '2024-06-14 11:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/1c0843941d5ed884c31abae74e84f680b2fac407', 'message': 'Handle race condition for share server delete\n\n- During share server delete, to avoid leak we deleted ports before\ndeleting share server. From manila perspective, the ports are gone but\nneutron assigns those ports again if vserver deletion fails. So we also\nneed to disable interfaces. The interfaces will be deleted later\nimplicitly. Disabling is the safer approach, since this also works even\nif the vserver still holds some orphaned volumes.\n- Also add retry on connection failure for delete_port neutron API.\n\nCloses-bug: #2067266\nChange-Id: I585bd6b9396ba49afd3fd92f9a8626de1d77b6c5\n'}, {'number': 2, 'created': '2024-06-14 12:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a720d7be28e73df88b5ef1f0de1b3d00e9299612', 'message': 'Handle race condition for share server delete\n\n- During share server delete, to avoid leak we deleted ports before\ndeleting share server. From manila perspective, the ports are gone but\nneutron assigns those ports again if vserver deletion fails. So we also\nneed to disable interfaces. The interfaces will be deleted later\nimplicitly. Disabling is the safer approach, since this also works even\nif the vserver still holds some orphaned volumes.\n- Also add retry on connection failure for delete_port neutron API.\n\nCo-Authored-By: Maurice Escher <maurice.escher@sap.com>\nCloses-bug: #2067266\nChange-Id: I585bd6b9396ba49afd3fd92f9a8626de1d77b6c5\n'}, {'number': 3, 'created': '2024-06-14 15:55:07.000000000', 'files': ['manila/tests/share/drivers/netapp/dataontap/client/test_client_cmode_rest.py', 'manila/share/drivers/netapp/dataontap/cluster_mode/lib_multi_svm.py', 'manila/share/drivers/netapp/dataontap/client/client_cmode_rest.py', 'manila/network/neutron/api.py', 'manila/tests/share/drivers/netapp/dataontap/client/test_client_cmode.py', 'manila/tests/share/drivers/netapp/dataontap/fakes.py', 'manila/network/neutron/neutron_network_plugin.py', 'releasenotes/notes/bug-2067266-Fix-leak-of-Manila-ports-on-share-server-deletion-b6faf19725727988.yaml', 'manila/share/drivers/netapp/dataontap/client/client_cmode.py', 'manila/tests/share/drivers/netapp/dataontap/client/fakes.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/ec2928fde0ac00289a5e385c5d570faade6f4f42', 'message': 'Handle race condition for share server delete\n\n- During share server delete, to avoid leak we deleted ports before\ndeleting share server. From manila perspective, the ports are gone but\nneutron assigns those ports again if vserver deletion fails. So we also\nneed to disable interfaces. The interfaces will be deleted later\nimplicitly. Disabling is the safer approach, since this also works even\nif the vserver still holds some orphaned volumes.\n- Also add retry on connection failure for delete_port neutron API.\n\nCo-Authored-By: Maurice Escher <maurice.escher@sap.com>\nCloses-bug: #2067266\nChange-Id: I585bd6b9396ba49afd3fd92f9a8626de1d77b6c5\n'}]",0,922010,ec2928fde0ac00289a5e385c5d570faade6f4f42,18,5,3,32919,,,0,"Handle race condition for share server delete

- During share server delete, to avoid leak we deleted ports before
deleting share server. From manila perspective, the ports are gone but
neutron assigns those ports again if vserver deletion fails. So we also
need to disable interfaces. The interfaces will be deleted later
implicitly. Disabling is the safer approach, since this also works even
if the vserver still holds some orphaned volumes.
- Also add retry on connection failure for delete_port neutron API.

Co-Authored-By: Maurice Escher <maurice.escher@sap.com>
Closes-bug: #2067266
Change-Id: I585bd6b9396ba49afd3fd92f9a8626de1d77b6c5
",git fetch https://review.opendev.org/openstack/manila refs/changes/10/922010/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/netapp/dataontap/cluster_mode/lib_multi_svm.py', 'manila/network/neutron/api.py', 'manila/tests/share/drivers/netapp/dataontap/client/test_client_cmode.py', 'manila/network/neutron/neutron_network_plugin.py', 'releasenotes/notes/bug-2067266-Fix-leak-of-Manila-ports-on-share-server-deletion-b6faf19725727988.yaml', 'manila/tests/share/drivers/netapp/dataontap/client/fakes.py']",6,1c0843941d5ed884c31abae74e84f680b2fac407,bug/2067266," 'interface-name': 'fake_interface', 'interface-name': 'fake_interface', 'interface-name': 'fake_interface_2',"," 'interface_name': 'fake_interface', 'interface_name': 'fake_interface', 'interface_name': 'fake_interface_2',",22,8
openstack%2Fcinder~910483,openstack/cinder,master,I5380caaac22ffd50a94aebdc56af47bccc5004e3,Fujitsu Driver: Added checking for cascade copy.,NEW,2024-02-28 03:50:42.000000000,2024-06-15 11:06:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-02-28 03:50:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/05aa1151b934105682b2df76381d10e11d128fa8', 'message': 'Fujitsu Driver: Added checking for cascade copy.\n\nWhen the copy source is a volume or a snapshot which is set as the copy\ndestination of a 2-stage cascade copy, the wait time must be specified\nbefore starting the copy process.\n\nFollowing options added to configuration:\n\n* fujitsu_copy_wait_time\n\nChange-Id: I5380caaac22ffd50a94aebdc56af47bccc5004e3\n'}, {'number': 2, 'created': '2024-03-19 06:23:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e8f185b61f70b85adc53715bc417e6c1b766beee', 'message': 'Fujitsu Driver: Added checking for cascade copy.\n\nWhen the copy source is a volume or a snapshot which is set as the copy\ndestination of a 2-stage cascade copy, the wait time must be specified\nbefore starting the copy process.\n\nFollowing options added to configuration:\n\n* fujitsu_copy_wait_time\n\nChange-Id: I5380caaac22ffd50a94aebdc56af47bccc5004e3\n'}, {'number': 3, 'created': '2024-05-16 02:49:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d7a2c9eae7b3e4d7b4292b965826e0d365c60354', 'message': 'Fujitsu Driver: Added checking for cascade copy.\n\nWhen the copy source is a volume or a snapshot which is set as the copy\ndestination of a 2-stage cascade copy, the wait time must be specified\nbefore starting the copy process.\n\nFollowing options added to configuration:\n\n* fujitsu_copy_wait_time\n\nChange-Id: I5380caaac22ffd50a94aebdc56af47bccc5004e3\n'}, {'number': 4, 'created': '2024-05-17 07:06:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c0975b555a7bf9f521fbe4622f4a6fc5ac476884', 'message': 'Fujitsu Driver: Added checking for cascade copy.\n\nWhen the copy source is a volume or a snapshot which is set as the copy\ndestination of a 2-stage cascade copy, the wait time must be specified\nbefore starting the copy process.\n\nFollowing options added to configuration:\n\n* fujitsu_copy_wait_time\n\nChange-Id: I5380caaac22ffd50a94aebdc56af47bccc5004e3\n'}, {'number': 5, 'created': '2024-05-24 09:55:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/70c609bd82ac045f29ec64a45bdedb0094c11b07', 'message': 'Fujitsu Driver: Added checking for cascade copy.\n\nWhen the copy source is a volume or a snapshot which is set as the copy\ndestination of a 2-stage cascade copy, the wait time must be specified\nbefore starting the copy process.\n\nFollowing options added to configuration:\n\n* fujitsu_copy_wait_time\n\nChange-Id: I5380caaac22ffd50a94aebdc56af47bccc5004e3\n'}, {'number': 6, 'created': '2024-05-27 08:52:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3850287e3e6a65390f8640e6c26661dc44882f38', 'message': 'Fujitsu Driver: Added checking for cascade copy.\n\nWhen the copy source is a volume or a snapshot which is set as the copy\ndestination of a 2-stage cascade copy, the wait time must be specified\nbefore starting the copy process.\n\nFollowing options added to configuration:\n\n* fujitsu_copy_wait_time\n\nChange-Id: I5380caaac22ffd50a94aebdc56af47bccc5004e3\n'}, {'number': 7, 'created': '2024-06-14 06:30:36.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_fc.py', 'releasenotes/notes/fujitsu-add-cascade-copy-check-b9ec087d9ca4c383.yaml', 'doc/source/configuration/block-storage/drivers/fujitsu-eternus-dx-driver.rst', 'cinder/volume/drivers/fujitsu/eternus_dx/constants.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_iscsi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2d244bfa1d4b19af82053a3e4751c27a3e8f2f60', 'message': 'Fujitsu Driver: Added checking for cascade copy.\n\nWhen the copy source is a volume or a snapshot which is set as the copy\ndestination of a 2-stage cascade copy, the wait time must be specified\nbefore starting the copy process.\n\nFollowing options added to configuration:\n\n* fujitsu_copy_wait_time\n\nChange-Id: I5380caaac22ffd50a94aebdc56af47bccc5004e3\n'}]",7,910483,2d244bfa1d4b19af82053a3e4751c27a3e8f2f60,123,1,7,33609,,,0,"Fujitsu Driver: Added checking for cascade copy.

When the copy source is a volume or a snapshot which is set as the copy
destination of a 2-stage cascade copy, the wait time must be specified
before starting the copy process.

Following options added to configuration:

* fujitsu_copy_wait_time

Change-Id: I5380caaac22ffd50a94aebdc56af47bccc5004e3
",git fetch https://review.opendev.org/openstack/cinder refs/changes/83/910483/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_fc.py', 'releasenotes/notes/fujitsu-add-cascade-copy-check-b9ec087d9ca4c383.yaml', 'doc/source/configuration/block-storage/drivers/fujitsu-eternus-dx-driver.rst', 'cinder/volume/drivers/fujitsu/eternus_dx/constants.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_iscsi.py']",7,05aa1151b934105682b2df76381d10e11d128fa8,fujitsu-driver-update," """"""Create a volume from a snapshot."""""" LOG.debug('create_volume_from_snapshot, ' 'volume id: %(vid)s, snap id: %(sid)s, Enter method.', {'vid': volume['id'], 'sid': snapshot['id']}) model_update = self.common.create_volume_from_snapshot( volume, snapshot) LOG.debug('create_volume_from_snapshot, ' 'info: %s, Exit method.', model_update['metadata']) return model_update LOG.debug('create_cloned_volume, ' 'target volume id: %(tid)s, ' 'source volume id: %(sid)s, Enter method.', {'tid': volume['id'], 'sid': src_vref['id']}) model_update = self.common.create_cloned_volume(volume, src_vref) LOG.debug('create_cloned_volume, ' 'info: %s, Exit method.', model_update['metadata']) return model_update"," """"""Creates a volume from a snapshot."""""" element_path, metadata = ( self.common.create_volume_from_snapshot(volume, snapshot)) v_metadata = volume.get('volume_metadata') if v_metadata: for data in v_metadata: metadata[data['key']] = data['value'] else: v_metadata = volume.get('metadata', {}) metadata.update(v_metadata) return {'provider_location': str(element_path), 'metadata': metadata} element_path, metadata = ( self.common.create_cloned_volume(volume, src_vref)) v_metadata = volume.get('volume_metadata') if v_metadata: for data in v_metadata: metadata[data['key']] = data['value'] else: v_metadata = volume.get('metadata', {}) metadata.update(v_metadata) return {'provider_location': str(element_path), 'metadata': metadata}",780,102
openstack%2Fcinder~913205,openstack/cinder,master,I88b62652bbd2fc2f374a6112c72b9821239812cb,Fujitsu Driver: Support A/A,NEW,2024-03-15 06:16:41.000000000,2024-06-15 10:28:01.000000000,,"[{'_account_id': 22348}, {'_account_id': 29122}]","[{'number': 1, 'created': '2024-03-15 06:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d383925e11a12ca37a473e493b9c1dcb98ef206f', 'message': 'Fujitsu Driver: Support A/A\n\nThis patch supports Active/Active on Fujitsu Driver.\n\nImplements: blueprint fujitsu-active-active-support\nChange-Id: I88b62652bbd2fc2f374a6112c72b9821239812cb\n'}, {'number': 2, 'created': '2024-03-19 06:28:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ddcebc31506e4c371e1ba14884259bdc2fc39210', 'message': 'Fujitsu Driver: Support A/A\n\nThis patch supports Active/Active on Fujitsu Driver.\n\nImplements: blueprint fujitsu-active-active-support\nChange-Id: I88b62652bbd2fc2f374a6112c72b9821239812cb\n'}, {'number': 3, 'created': '2024-03-19 09:44:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/27771b91fb0ea94cb36578cafee1ab87b6aa749a', 'message': 'Fujitsu Driver: Support A/A\n\nThis patch supports Active/Active on Fujitsu Driver.\n\nImplements: blueprint fujitsu-active-active-support\nChange-Id: I88b62652bbd2fc2f374a6112c72b9821239812cb\n'}, {'number': 4, 'created': '2024-04-17 05:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6d4051b945b6ec344988c5a31049b10aa4199c75', 'message': 'Fujitsu Driver: Support A/A\n\nThis patch supports Active/Active on Fujitsu Driver.\n\nImplements: blueprint fujitsu-active-active-support\nChange-Id: I88b62652bbd2fc2f374a6112c72b9821239812cb\n'}, {'number': 5, 'created': '2024-05-21 05:50:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e69e2b7739504934d93023fd83ad496d472ef9c7', 'message': 'Fujitsu Driver: Support A/A\n\nThis patch supports Active/Active on Fujitsu Driver.\n\nImplements: blueprint fujitsu-active-active-support\nChange-Id: I88b62652bbd2fc2f374a6112c72b9821239812cb\n'}, {'number': 6, 'created': '2024-05-24 10:13:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/aba8d8ae40aea2402447a98e8fae64173108de42', 'message': 'Fujitsu Driver: Support A/A\n\nThis patch supports Active/Active on Fujitsu Driver.\n\nImplements: blueprint fujitsu-active-active-support\nChange-Id: I88b62652bbd2fc2f374a6112c72b9821239812cb\n'}, {'number': 7, 'created': '2024-05-27 09:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/40481563ba227d1860a8cf38790946451db29762', 'message': 'Fujitsu Driver: Support A/A\n\nThis patch supports Active/Active on Fujitsu Driver.\n\nImplements: blueprint fujitsu-active-active-support\nChange-Id: I88b62652bbd2fc2f374a6112c72b9821239812cb\n'}, {'number': 8, 'created': '2024-06-13 05:58:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ac9487fe13ccffc65100fd8f97a68bb09106f956', 'message': 'Fujitsu Driver: Support A/A\n\nThis patch supports Active/Active on Fujitsu Driver.\n\nImplements: blueprint fujitsu-active-active-support\nChange-Id: I88b62652bbd2fc2f374a6112c72b9821239812cb\n'}, {'number': 9, 'created': '2024-06-14 07:09:22.000000000', 'files': ['doc/source/reference/support-matrix.ini', 'releasenotes/notes/fujitsu-support-aa-71ce5e560e0a2237.yaml', 'cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_fc.py', 'doc/source/configuration/block-storage/drivers/fujitsu-eternus-dx-driver.rst', 'cinder/volume/drivers/fujitsu/eternus_dx/constants.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_iscsi.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/fa1ff859213cb3dd1a59c1a2fdb92b78d8fb3666', 'message': 'Fujitsu Driver: Support A/A\n\nThis patch supports Active/Active on Fujitsu Driver.\n\nImplements: blueprint fujitsu-active-active-support\nChange-Id: I88b62652bbd2fc2f374a6112c72b9821239812cb\n'}]",8,913205,fa1ff859213cb3dd1a59c1a2fdb92b78d8fb3666,120,2,9,33609,,,0,"Fujitsu Driver: Support A/A

This patch supports Active/Active on Fujitsu Driver.

Implements: blueprint fujitsu-active-active-support
Change-Id: I88b62652bbd2fc2f374a6112c72b9821239812cb
",git fetch https://review.opendev.org/openstack/cinder refs/changes/05/913205/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/support-matrix.ini', 'releasenotes/notes/fujitsu-support-aa-71ce5e560e0a2237.yaml', 'cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_fc.py', 'doc/source/configuration/block-storage/drivers/fujitsu-eternus-dx-driver.rst', 'cinder/volume/drivers/fujitsu/eternus_dx/constants.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_iscsi.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_utils.py']",9,d383925e11a12ca37a473e493b9c1dcb98ef206f,fujitsu-driver-update,"from cinder import coordinationdef FJDXDistributedLockutils(name): ""Distributed Lock"" def decorator(func): @functools.wraps(func) def wrapper(self, *args, **kwargs): lockname = 'ETERNUS_DX' + '-' + name func_name = func.__name__ temp = '' use_lock = True if func_name == 'create_cloned_volume': ""Get 'id' from parameter src_vref"" temp = '-' + args[1]['id'] elif func_name == '_create_snapshot': ""Get 'volume_id' from parameter snapshot"" temp = '-' + args[0]['volume_id'] elif func_name in ['_delete_volume_setting', '_delete_volume', 'extend_volume', 'retype_volume']: ""Get 'id' from parameter volume"" temp = '-' + args[0]['id'] elif func_name == '__format_tpv': temp = '' elif func_name in ['_exec_eternus_cli', '_exec_eternus_service']: ""Do Not use the coordination lock when initializing"" ""And get the backend_name"" use_lock = kwargs.get('use_lock', True) cnt = self.host.index('@') temp = '-' + self.host[cnt + 1:] else: ""Suffix is storage name if the function name is not the case."" temp = '-' + self.storage_name if use_lock: lockname = lockname + temp @coordination.synchronized(lockname, blocking=self.lock_sec) def caller(): return func(self, *args, **kwargs) else: def caller(): return func(self, *args, **kwargs) return caller() return wrapper return decorator ",,225,58
openstack%2Fdiskimage-builder~922059,openstack/diskimage-builder,master,Ie8e0641d5637e8c0c2edb23e820bc7961b7d319b,"growvols, enforce pvcreate and overwrite old VG signature",NEW,2024-06-15 08:22:24.000000000,2024-06-15 10:16:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-15 08:22:24.000000000', 'files': ['diskimage_builder/elements/growvols/static/usr/local/sbin/growvols'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/58cd8d64187a5ca5ff2c94f41e360ec3288d6d6f', 'message': 'growvols, enforce pvcreate and overwrite old VG signature\n\nIn some situations, when growvols run on disk which was already used or\ngrowvols runs on the same driver, pvcreate finds old VG signature and\nrefuse to re-create PV on a block device.\n\n  [ERROR] Running command failed: cmd ""pvcreate /dev/sda6"", stdout """",\n          stderr "" Can\'t initialize physical volume ""/dev/sda6"" of volume group\n          ""vg"" without ""-ff"" /dev/sda6: physical volume not initialized.\n\nCloses-Bug: 2069487\nChange-Id: Ie8e0641d5637e8c0c2edb23e820bc7961b7d319b\n'}]",0,922059,58cd8d64187a5ca5ff2c94f41e360ec3288d6d6f,3,1,1,11444,,,0,"growvols, enforce pvcreate and overwrite old VG signature

In some situations, when growvols run on disk which was already used or
growvols runs on the same driver, pvcreate finds old VG signature and
refuse to re-create PV on a block device.

  [ERROR] Running command failed: cmd ""pvcreate /dev/sda6"", stdout """",
          stderr "" Can't initialize physical volume ""/dev/sda6"" of volume group
          ""vg"" without ""-ff"" /dev/sda6: physical volume not initialized.

Closes-Bug: 2069487
Change-Id: Ie8e0641d5637e8c0c2edb23e820bc7961b7d319b
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/59/922059/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/growvols/static/usr/local/sbin/growvols'],1,58cd8d64187a5ca5ff2c94f41e360ec3288d6d6f,," '-ff', '--yes',",,2,0
openstack%2Frequirements~910040,openstack/requirements,master,I72a777f3a553ba720f80fd66ad7a488b55de51f4,Updated from generate-constraints,NEW,2024-02-24 08:12:14.000000000,2024-06-15 10:15:26.000000000,,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-02-24 08:12:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/46f186d1cf1de4c1f6a66ecfa3a1dbe5c7b34e26', 'message': 'Updated from generate-constraints\n\nChange-Id: I72a777f3a553ba720f80fd66ad7a488b55de51f4\n'}, {'number': 2, 'created': '2024-03-02 08:17:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/824f8de088599234de86f259444de75f2daa6151', 'message': 'Updated from generate-constraints\n\nChange-Id: I72a777f3a553ba720f80fd66ad7a488b55de51f4\n'}, {'number': 3, 'created': '2024-03-09 08:18:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/fa1ad57de8d480b21a9a758d38e62ec3b8e2574d', 'message': 'Updated from generate-constraints\n\nChange-Id: I72a777f3a553ba720f80fd66ad7a488b55de51f4\n'}, {'number': 4, 'created': '2024-03-16 08:22:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/fed4d1284a51230aed1e58eb29521dd9a4a74685', 'message': 'Updated from generate-constraints\n\nChange-Id: I72a777f3a553ba720f80fd66ad7a488b55de51f4\n'}, {'number': 5, 'created': '2024-03-23 08:11:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/91ed29ca5c0cb552d7da83a25cc3699aea7ee75d', 'message': 'Updated from generate-constraints\n\nChange-Id: I72a777f3a553ba720f80fd66ad7a488b55de51f4\n'}, {'number': 6, 'created': '2024-03-30 08:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/b353a97ed17e000909e119bcb18234bcf7ff09f0', 'message': 'Updated from generate-constraints\n\nChange-Id: I72a777f3a553ba720f80fd66ad7a488b55de51f4\n'}, {'number': 7, 'created': '2024-04-05 08:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/fde6c7aa6d5daddab3e88ba4c861b2be46fdeb29', 'message': 'Updated from generate-constraints\n\nChange-Id: I72a777f3a553ba720f80fd66ad7a488b55de51f4\n'}, {'number': 8, 'created': '2024-04-06 08:19:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/3340d34eda88f5f32e9cae215fb500821ce8ccc6', 'message': 'Updated from generate-constraints\n\nChange-Id: I72a777f3a553ba720f80fd66ad7a488b55de51f4\n'}, {'number': 9, 'created': '2024-04-13 08:18:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/0b8398af74f9a83c1f330a8302ab3e5d39b2c0c0', 'message': 'Updated from generate-constraints\n\nChange-Id: I72a777f3a553ba720f80fd66ad7a488b55de51f4\n'}, {'number': 10, 'created': '2024-04-20 08:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/59ef7717168e17166440951af54d6ef11676350a', 'message': 'Updated from generate-constraints\n\nChange-Id: I72a777f3a553ba720f80fd66ad7a488b55de51f4\n'}, {'number': 11, 'created': '2024-04-20 08:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/32f354df8ce0db3a36e2a1ad0dc505cb10297b54', 'message': 'Updated from generate-constraints\n\nChange-Id: I72a777f3a553ba720f80fd66ad7a488b55de51f4\n'}, {'number': 12, 'created': '2024-04-27 08:18:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/2bc97ba7892330c8e6e61fea8a08a416fd51969f', 'message': 'Updated from generate-constraints\n\nChange-Id: I72a777f3a553ba720f80fd66ad7a488b55de51f4\n'}, {'number': 13, 'created': '2024-05-04 08:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/3679bbf59f7b842aa84639b3c3d2d1ecf9b0bd50', 'message': 'Updated from generate-constraints\n\nChange-Id: I72a777f3a553ba720f80fd66ad7a488b55de51f4\n'}, {'number': 14, 'created': '2024-05-11 08:17:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/d990eb6f70b28c3ae2355b3b29af22186dbe43f2', 'message': 'Updated from generate-constraints\n\nChange-Id: I72a777f3a553ba720f80fd66ad7a488b55de51f4\n'}, {'number': 15, 'created': '2024-05-15 12:23:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/25ea34a8eee299511a30b78c6ad7bf6596469afc', 'message': 'Updated from generate-constraints\n\nChange-Id: I72a777f3a553ba720f80fd66ad7a488b55de51f4\n'}, {'number': 16, 'created': '2024-05-18 08:12:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/656c21f5d7ecf9674a6238e1a026068840a15d94', 'message': 'Updated from generate-constraints\n\nChange-Id: I72a777f3a553ba720f80fd66ad7a488b55de51f4\n'}, {'number': 17, 'created': '2024-05-23 08:47:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/1da3d304c0a2b31bb26a459d4403469eb6901e84', 'message': 'Updated from generate-constraints\n\nChange-Id: I72a777f3a553ba720f80fd66ad7a488b55de51f4\n'}, {'number': 18, 'created': '2024-05-23 09:39:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/128b67fa08fca35922cd3199c62cf0cd321c72ab', 'message': 'Updated from generate-constraints\n\nChange-Id: I72a777f3a553ba720f80fd66ad7a488b55de51f4\n'}, {'number': 19, 'created': '2024-05-25 08:33:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/28c8ea1db75bff325c6691b1e647cd268ad85e80', 'message': 'Updated from generate-constraints\n\nChange-Id: I72a777f3a553ba720f80fd66ad7a488b55de51f4\n'}, {'number': 20, 'created': '2024-05-26 20:02:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/2c389e69716f50c78a8dfa02161b9fda1589ee82', 'message': 'Updated from generate-constraints\n\nChange-Id: I72a777f3a553ba720f80fd66ad7a488b55de51f4\n'}, {'number': 21, 'created': '2024-06-01 08:29:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/18a16692f5ad74d1cc18fb420ff6615e9f5d2071', 'message': 'Updated from generate-constraints\n\nChange-Id: I72a777f3a553ba720f80fd66ad7a488b55de51f4\n'}, {'number': 22, 'created': '2024-06-08 08:17:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/15f5dc3483530da0c669d1a755b2991e92249b3e', 'message': 'Updated from generate-constraints\n\nChange-Id: I72a777f3a553ba720f80fd66ad7a488b55de51f4\n'}, {'number': 23, 'created': '2024-06-12 17:52:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/42d1087290056141859251526d569e4447c23863', 'message': 'Updated from generate-constraints\n\nFixes added to automated upper-constraints.txt update:\n\nKeep version specific pins for:\n\n- alabaster\n- Pint\n- sphinxcontrib-htmlhelp\n- networkx\n- scipy\n- async-timeout\n- exceptiongroup\n- sphinxcontrib-serializinghtml\n- pkgutil_resolve_name\n- autobahn\n- importlib-metadata\n- pysaml2\n- numpy\n- Sphinx\n- tomli\n- backports.zoneinfo\n- sphinxcontrib-qthelp\n- sphinxcontrib-devhelp\n- sphinxcontrib-applehelp\n- scikit-learn\n\nAdd version specific pins for newly added requirements:\n\n- flexcache\n- flexparser\n\nPin versions for packages that are not ready for updating:\n\n- pytest\n- netaddr\n- pillow\n- pysnmp-lextudio\n- requests-oauthlib\n- importlib-metadata (<7)\n- jsonschema\n\nChange-Id: I72a777f3a553ba720f80fd66ad7a488b55de51f4\n'}, {'number': 24, 'created': '2024-06-14 19:11:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/247a883bfb316d9b00c8b852ebed27c719d6867b', 'message': 'Updated from generate-constraints\n\nFixes added to automated upper-constraints.txt update:\n\nKeep version specific pins for:\n\n- alabaster\n- Pint\n- sphinxcontrib-htmlhelp\n- networkx\n- scipy\n- async-timeout\n- exceptiongroup\n- sphinxcontrib-serializinghtml\n- pkgutil_resolve_name\n- autobahn\n- importlib-metadata\n- pysaml2\n- numpy\n- Sphinx\n- tomli\n- backports.zoneinfo\n- sphinxcontrib-qthelp\n- sphinxcontrib-devhelp\n- sphinxcontrib-applehelp\n- scikit-learn\n\nAdd version specific pins for newly added requirements:\n\n- flexcache\n- flexparser\n\nPin versions for packages that are not ready for updating:\n\n- pytest\n- netaddr\n- pillow\n- pysnmp-lextudio\n- requests-oauthlib\n- importlib-metadata (<7)\n- jsonschema\n\nChange-Id: I72a777f3a553ba720f80fd66ad7a488b55de51f4\n'}, {'number': 25, 'created': '2024-06-15 08:22:45.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/c67b7f1d1f3096c60c0c66097f1860bc8d408643', 'message': 'Updated from generate-constraints\n\nChange-Id: I72a777f3a553ba720f80fd66ad7a488b55de51f4\n'}]",3,910040,c67b7f1d1f3096c60c0c66097f1860bc8d408643,56,2,25,11131,,,0,"Updated from generate-constraints

Change-Id: I72a777f3a553ba720f80fd66ad7a488b55de51f4
",git fetch https://review.opendev.org/openstack/requirements refs/changes/40/910040/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,46f186d1cf1de4c1f6a66ecfa3a1dbe5c7b34e26,openstack/requirements/constraints,alabaster===0.7.16Pint===0.23grpcio===1.62.0sphinxcontrib-htmlhelp===2.0.5moto===5.0.2networkx===3.2.1scipy===1.12.0 opentelemetry-exporter-otlp===1.23.0pymongo===4.6.2opentelemetry-sdk===1.23.0 netaddr===1.2.1prettytable===3.10.0async-timeout===4.0.3SQLAlchemy===2.0.27google-auth===2.28.1eventlet===0.35.2oslo.messaging===14.7.0cryptography===42.0.5 httpcore===1.0.4exceptiongroup===1.2.0sphinxcontrib-serializinghtml===1.1.10google-api-python-client===2.119.0autobahn===23.6.2coverage===7.4.3opentelemetry-exporter-otlp-proto-http===1.23.0importlib-metadata===6.11.0boto3===1.34.49pillow===10.2.0oslo.serialization===5.4.0opentelemetry-api===1.23.0elementpath===4.3.0opentelemetry-exporter-otlp-proto-grpc===1.23.0pysaml2===7.5.0pysnmp-lextudio===6.0.2numpy===1.26.4Sphinx===7.2.6opentelemetry-exporter-otlp-proto-common===1.23.0dogpile.cache===1.3.2salt===3006.7 opentelemetry-semantic-conventions===0.44b0tomli===2.0.1botocore===1.34.49oslo.db===15.0.0future===1.0.0sphinxcontrib-qthelp===1.0.7anyio===4.3.0jsonschema===4.21.1 sphinxcontrib-devhelp===1.0.6alembic===1.13.1dnspython===2.6.1httpx===0.27.0python-linstor===1.21.1virtualenv===20.25.1opentelemetry-proto===1.23.0sphinxcontrib-applehelp===1.0.8 scikit-learn===1.4.1.post1,alabaster===0.7.13;python_version=='3.8' alabaster===0.7.16;python_version>='3.9'Pint===0.21.1;python_version=='3.8' Pint===0.23;python_version>='3.9'grpcio===1.60.1sphinxcontrib-htmlhelp===2.0.1;python_version=='3.8' sphinxcontrib-htmlhelp===2.0.5;python_version>='3.9'moto===5.0.1networkx===3.1;python_version=='3.8' networkx===3.2.1;python_version>='3.9'scipy===1.10.1;python_version=='3.8' scipy===1.12.0;python_version>='3.9' opentelemetry-exporter-otlp===1.22.0pymongo===4.6.1opentelemetry-sdk===1.22.0 netaddr===0.10.1backoff===2.2.1prettytable===3.9.0async-timeout===4.0.3;python_version=='3.10' async-timeout===4.0.3;python_version=='3.8' async-timeout===4.0.3;python_version=='3.9'SQLAlchemy===1.4.51google-auth===2.28.0eventlet===0.35.1oslo.messaging===14.6.0cryptography===42.0.4 httpcore===1.0.3exceptiongroup===1.2.0;python_version=='3.10' exceptiongroup===1.2.0;python_version=='3.8' exceptiongroup===1.2.0;python_version=='3.9'sphinxcontrib-serializinghtml===1.1.5;python_version=='3.8' sphinxcontrib-serializinghtml===1.1.10;python_version>='3.9'pkgutil_resolve_name===1.3.10;python_version=='3.8'google-api-python-client===2.118.0autobahn===23.1.2;python_version=='3.8' autobahn===23.6.2;python_version>='3.9'coverage===7.4.1opentelemetry-exporter-otlp-proto-http===1.22.0importlib-metadata===6.2.1;python_version=='3.8' importlib-metadata===6.2.1;python_version=='3.9' importlib-metadata===6.11.0;python_version>='3.10'boto3===1.34.44pillow===9.5.0oslo.serialization===5.3.0opentelemetry-api===1.22.0elementpath===4.2.1opentelemetry-exporter-otlp-proto-grpc===1.22.0pysaml2===7.3.1;python_version=='3.8' pysaml2===7.4.2;python_version>='3.9'pysnmp-lextudio===5.0.33numpy===1.24.4;python_version=='3.8' numpy===1.26.4;python_version>='3.9'Sphinx===7.1.2;python_version=='3.8' Sphinx===7.2.6;python_version>='3.9'opentelemetry-exporter-otlp-proto-common===1.22.0dogpile.cache===1.3.1salt===3006.6 opentelemetry-semantic-conventions===0.43b0tomli===2.0.1;python_version=='3.10' tomli===2.0.1;python_version=='3.8' tomli===2.0.1;python_version=='3.9'backports.zoneinfo===0.2.1;python_version=='3.8'botocore===1.34.44oslo.db===14.1.0future===0.18.3sphinxcontrib-qthelp===1.0.3;python_version=='3.8' sphinxcontrib-qthelp===1.0.7;python_version>='3.9'anyio===4.2.0jsonschema===4.19.2 sphinxcontrib-devhelp===1.0.2;python_version=='3.8' sphinxcontrib-devhelp===1.0.6;python_version>='3.9'alembic===1.9.4dnspython===2.5.0httpx===0.26.0python-linstor===1.21.0virtualenv===20.25.0opentelemetry-proto===1.22.0sphinxcontrib-applehelp===1.0.4;python_version=='3.8' sphinxcontrib-applehelp===1.0.8;python_version>='3.9' scikit-learn===1.3.2;python_version=='3.8' scikit-learn===1.4.0;python_version>='3.9',56,81
openstack%2Fmanila~920382,openstack/manila,master,I6a1b87eabeb7bef80725a537acb6771c35b76afc,NetApp - Fix share revert to snapshot,NEW,2024-05-24 10:18:45.000000000,2024-06-15 10:02:51.000000000,,"[{'_account_id': 16643}, {'_account_id': 18816}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30407}, {'_account_id': 36171}, {'_account_id': 36180}]","[{'number': 1, 'created': '2024-05-24 10:18:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/06ef5b69397d1a6137511e92f330c8d1e31681d9', 'message': 'NetApp - Fix share revert to snapshot\n\nFor NetApp ONTAP driver, share revert to snapshot consider the largest\nsize between original share size and snapshot size after revert is done.\nThis is different from generic approach where share size is updated to\nsnapshot size.\n\nCloses-bug: #2064502\nChange-Id: I6a1b87eabeb7bef80725a537acb6771c35b76afc\n'}, {'number': 2, 'created': '2024-05-24 12:57:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a3284c6add4c3e9a1e8a59b2b803a7b8f0095f0f', 'message': 'NetApp - Fix share revert to snapshot\n\nFor NetApp ONTAP driver, share revert to snapshot consider the largest\nsize between original share size and snapshot size after revert is done.\nThis is different from generic approach where share size is updated to\nsnapshot size.\n\nCloses-bug: #2064502\nChange-Id: I6a1b87eabeb7bef80725a537acb6771c35b76afc\n'}, {'number': 3, 'created': '2024-06-11 11:47:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/4e703408ab48e6e8a531d21eb9836a521d195fb4', 'message': 'NetApp - Fix share revert to snapshot\n\nFor NetApp ONTAP driver, share revert to snapshot consider the largest\nsize between original share size and snapshot size after revert is done.\nThis is different from generic approach where share size is updated to\nsnapshot size.\n\nCloses-bug: #2064502\nChange-Id: I6a1b87eabeb7bef80725a537acb6771c35b76afc\n'}, {'number': 4, 'created': '2024-06-14 09:20:44.000000000', 'files': ['manila/share/api.py', 'releasenotes/notes/bug-2064502-netapp-fix-revert-to-snapshot-f23ab4dc325b2c42.yaml', 'manila/share/manager.py', 'manila/share/driver.py', 'manila/share/drivers/netapp/dataontap/cluster_mode/drv_single_svm.py', 'manila/tests/share/drivers/dummy.py', 'manila/share/drivers/netapp/dataontap/cluster_mode/drv_multi_svm.py', 'manila/share/rpcapi.py', 'manila/tests/share/test_manager.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/4f2d3a50bb79981a2285c175f279fe34ea2db9b8', 'message': 'NetApp - Fix share revert to snapshot\n\nFor NetApp ONTAP driver, share revert to snapshot consider the largest\nsize between original share size and snapshot size after revert is done.\nThis is different from generic approach where share size is updated to\nsnapshot size.\n\nCloses-bug: #2064502\nChange-Id: I6a1b87eabeb7bef80725a537acb6771c35b76afc\n'}]",5,920382,4f2d3a50bb79981a2285c175f279fe34ea2db9b8,34,7,4,32919,,,0,"NetApp - Fix share revert to snapshot

For NetApp ONTAP driver, share revert to snapshot consider the largest
size between original share size and snapshot size after revert is done.
This is different from generic approach where share size is updated to
snapshot size.

Closes-bug: #2064502
Change-Id: I6a1b87eabeb7bef80725a537acb6771c35b76afc
",git fetch https://review.opendev.org/openstack/manila refs/changes/82/920382/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/api.py', 'releasenotes/notes/bug-2064502-netapp-fix-revert-to-snapshot-f23ab4dc325b2c42.yaml', 'manila/share/manager.py', 'manila/share/driver.py', 'manila/share/drivers/netapp/dataontap/cluster_mode/drv_single_svm.py', 'manila/tests/share/drivers/dummy.py', 'manila/share/drivers/netapp/dataontap/cluster_mode/drv_multi_svm.py', 'manila/share/rpcapi.py', 'manila/tests/share/test_manager.py']",9,06ef5b69397d1a6137511e92f330c8d1e31681d9,bug/2064502," @ddt.data( {'reservations': None, 'max_size_check': True}, {'reservations': None, 'max_size_check': False}, {'reservations': 'fake_reservations', 'max_size_check': True}, {'reservations': 'fake_reservations', 'max_size_check': False}) @ddt.unpack def test__revert_to_snapshot(self, reservations, max_size_check): self.mock_object( self.share_manager, 'is_revert_to_snapshot_by_max_size', mock.Mock(return_value=True if max_size_check else False)) values = {'status': constants.STATUS_AVAILABLE} if not max_size_check: values.update({'size': snapshot['size']}) mock.ANY, share_id, values)"," @ddt.data(None, 'fake_reservations') def test__revert_to_snapshot(self, reservations): mock.ANY, share_id, {'status': constants.STATUS_AVAILABLE, 'size': snapshot['size']})",53,9
openstack%2Fopenstacksdk~921890,openstack/openstacksdk,master,I4b8487b45ae04f387c2f02a9505916072edc96aa,Enhance VIF attachment with port and portgroup UUIDs,NEW,2024-06-12 19:33:27.000000000,2024-06-15 10:02:09.000000000,,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 37046}, {'_account_id': 37057}, {'_account_id': 37098}]","[{'number': 1, 'created': '2024-06-12 19:33:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4eb652ef3ac1ed69ac78ec412ba4552a2eb1afca', 'message': 'Enhance VIF attachment with port and portgroup UUIDs\n\nThis change extends the `attach_vif` and `attach_vif_to_node` methods to accept optional parameters for VIF port UUID and VIF portgroup UUID. This enhancement allows for more flexible VIF attachment scenarios while ensuring that only one of these parameters can be set at a time.\n\n- Added parameters `vif_port_uuid` and `vif_portgroup_uuid` to the `attach_vif` method in the `Node` class.\n- Updated the `attach_vif_to_node` method in the `Proxy` class to pass these parameters to the `attach_vif` method.\n- Included a check to ensure only one of `vif_port_uuid` and `vif_portgroup_uuid` can be set at a time in both methods.\n- Modified the request body in the `attach_vif` method to include these parameters if provided.\n\nChange-Id: I4b8487b45ae04f387c2f02a9505916072edc96aa\n'}, {'number': 2, 'created': '2024-06-14 07:06:05.000000000', 'files': ['openstack/baremetal/v1/_proxy.py', 'releasenotes/notes/add-vif-optional-params-abb755b74f076eb2.yaml', 'openstack/baremetal/v1/node.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2a103f58cb74076ab4f5e2bc44f2b37875a9d939', 'message': 'Enhance VIF attachment with port and portgroup UUIDs\n\nThis change extends the `attach_vif` and `attach_vif_to_node` methods to accept optional parameters for VIF port UUID and VIF portgroup UUID. This enhancement allows for more flexible VIF attachment scenarios while ensuring that only one of these parameters can be set at a time.\n\n- Added parameters `vif_port_uuid` and `vif_portgroup_uuid` to the `attach_vif` method in the `Node` class.\n- Updated the `attach_vif_to_node` method in the `Proxy` class to pass these parameters to the `attach_vif` method.\n- Included a check to ensure only one of `vif_port_uuid` and `vif_portgroup_uuid` can be set at a time in both methods.\n- Modified the request body in the `attach_vif` method to include these parameters if provided.\n\nChange-Id: I4b8487b45ae04f387c2f02a9505916072edc96aa\n'}]",1,921890,2a103f58cb74076ab4f5e2bc44f2b37875a9d939,10,5,2,37057,,,0,"Enhance VIF attachment with port and portgroup UUIDs

This change extends the `attach_vif` and `attach_vif_to_node` methods to accept optional parameters for VIF port UUID and VIF portgroup UUID. This enhancement allows for more flexible VIF attachment scenarios while ensuring that only one of these parameters can be set at a time.

- Added parameters `vif_port_uuid` and `vif_portgroup_uuid` to the `attach_vif` method in the `Node` class.
- Updated the `attach_vif_to_node` method in the `Proxy` class to pass these parameters to the `attach_vif` method.
- Included a check to ensure only one of `vif_port_uuid` and `vif_portgroup_uuid` can be set at a time in both methods.
- Modified the request body in the `attach_vif` method to include these parameters if provided.

Change-Id: I4b8487b45ae04f387c2f02a9505916072edc96aa
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/90/921890/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/baremetal/v1/_proxy.py', 'openstack/baremetal/v1/node.py']",2,4eb652ef3ac1ed69ac78ec412ba4552a2eb1afca,attach-vif-optional-params," def attach_vif( self, session, vif_id, vif_port_uuid=None, vif_portgroup_uuid=None, retry_on_conflict=True, ): :param string vif_port_uuid: The UUID of the port to attach the VIF to. :param string vif_portgroup_uuid: The UUID of the portgroup to attach the VIF to. if vif_port_uuid and vif_portgroup_uuid: raise ValueError( ""Only one of vif_port_uuid and vif_portgroup_uuid can be provided"" ) if vif_port_uuid: body['port_id'] = vif_port_uuid if vif_portgroup_uuid: body['portgroup_id'] = vif_portgroup_uuid"," def attach_vif(self, session, vif_id, retry_on_conflict=True):",39,3
openstack%2Fopenstacksdk~921957,openstack/openstacksdk,master,Id41d45ad78b07f8ce9cca92444e1603f3882fe53,Add virtual media attachment and detachment support,NEW,2024-06-13 13:15:23.000000000,2024-06-15 10:01:58.000000000,,"[{'_account_id': 22348}, {'_account_id': 37057}, {'_account_id': 37098}]","[{'number': 1, 'created': '2024-06-13 13:15:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/1e27093f241afd99278159fb3b5bdb1efda5b841', 'message': 'Add virtual media attachment and detachment support\n\nThis change introduces methods for attaching and detaching virtual media devices to/from nodes, enhancing the capabilities of the baremetal API.\n\nChanges include:\n- Added `VMEDIA_VERSION` constant in `_common.py` for API versioning.\n- Introduced `attach_vmedia` and `detach_vmedia` methods in the `Node` class.\n- Added `attach_vmedia_to_node` and `detach_vmedia_from_node` methods in the `Proxy` class.\n\nThese enhancements provide the ability to manage virtual media devices, offering more flexibility for node management operations.\n\nChange-Id: Id41d45ad78b07f8ce9cca92444e1603f3882fe53\n'}, {'number': 2, 'created': '2024-06-13 13:27:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4e1fca58024af76c5db3221f7d537939f0b3032e', 'message': 'Add virtual media attachment and detachment support\n\nThis change introduces methods for attaching and detaching virtual media devices to/from nodes, enhancing the capabilities of the baremetal API.\n\nChanges include:\n- Added `VMEDIA_VERSION` constant in `_common.py` for API versioning.\n- Introduced `attach_vmedia` and `detach_vmedia` methods in the `Node` class.\n- Added `attach_vmedia_to_node` and `detach_vmedia_from_node` methods in the `Proxy` class.\n\nThese enhancements provide the ability to manage virtual media devices, offering more flexibility for node management operations.\n\nChange-Id: Id41d45ad78b07f8ce9cca92444e1603f3882fe53\n'}, {'number': 3, 'created': '2024-06-13 13:31:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e2363a47d8b453ff5f30eacf87908bb7b9ebb7ab', 'message': 'Add virtual media attachment and detachment support\n\nThis change introduces methods for attaching and detaching virtual media devices to/from nodes, enhancing the capabilities of the baremetal API.\n\nChanges include:\n- Added `VMEDIA_VERSION` constant in `_common.py` for API versioning.\n- Introduced `attach_vmedia` and `detach_vmedia` methods in the `Node` class.\n- Added `attach_vmedia_to_node` and `detach_vmedia_from_node` methods in the `Proxy` class.\n- Added unit and functional test for the features.\n\nThese enhancements provide the ability to manage virtual media devices, offering more flexibility for node management operations.\n\nChange-Id: Id41d45ad78b07f8ce9cca92444e1603f3882fe53\n'}, {'number': 4, 'created': '2024-06-13 17:14:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/7f5630db56d2c16422bb22e7f3c8100a707c05c8', 'message': 'Add virtual media attachment and detachment support\n\nThis change introduces methods for attaching and detaching virtual media devices to/from nodes, enhancing the capabilities of the baremetal API.\n\nChanges include:\n- Added `VMEDIA_VERSION` constant in `_common.py` for API versioning.\n- Introduced `attach_vmedia` and `detach_vmedia` methods in the `Node` class.\n- Added `attach_vmedia_to_node` and `detach_vmedia_from_node` methods in the `Proxy` class.\n- Added unit and functional test for the features.\n\nThese enhancements provide the ability to manage virtual media devices, offering more flexibility for node management operations.\n\nChange-Id: Id41d45ad78b07f8ce9cca92444e1603f3882fe53\n'}, {'number': 5, 'created': '2024-06-14 07:00:05.000000000', 'files': ['openstack/tests/unit/baremetal/v1/test_node.py', 'releasenotes/notes/add-vmedia-support-20494ed415e5b32b.yaml', 'openstack/baremetal/v1/_proxy.py', 'openstack/tests/functional/baremetal/test_baremetal_node.py', 'openstack/baremetal/v1/_common.py', 'openstack/baremetal/v1/node.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2c6ce91086f4d8cf88d8c30226779b973bf98301', 'message': 'Add virtual media attachment and detachment support\n\nThis change introduces methods for attaching and detaching virtual media devices to/from nodes, enhancing the capabilities of the baremetal API.\n\nChanges include:\n- Added `VMEDIA_VERSION` constant in `_common.py` for API versioning.\n- Introduced `attach_vmedia` and `detach_vmedia` methods in the `Node` class.\n- Added `attach_vmedia_to_node` and `detach_vmedia_from_node` methods in the `Proxy` class.\n- Added unit and functional test for the features.\n\nThese enhancements provide the ability to manage virtual media devices, offering more flexibility for node management operations.\n\nChange-Id: Id41d45ad78b07f8ce9cca92444e1603f3882fe53\n'}]",0,921957,2c6ce91086f4d8cf88d8c30226779b973bf98301,11,3,5,37057,,,0,"Add virtual media attachment and detachment support

This change introduces methods for attaching and detaching virtual media devices to/from nodes, enhancing the capabilities of the baremetal API.

Changes include:
- Added `VMEDIA_VERSION` constant in `_common.py` for API versioning.
- Introduced `attach_vmedia` and `detach_vmedia` methods in the `Node` class.
- Added `attach_vmedia_to_node` and `detach_vmedia_from_node` methods in the `Proxy` class.
- Added unit and functional test for the features.

These enhancements provide the ability to manage virtual media devices, offering more flexibility for node management operations.

Change-Id: Id41d45ad78b07f8ce9cca92444e1603f3882fe53
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/57/921957/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/baremetal/v1/_proxy.py', 'openstack/baremetal/v1/_common.py', 'openstack/baremetal/v1/node.py']",3,1e27093f241afd99278159fb3b5bdb1efda5b841,attach-detach-vmedia," def attach_vmedia( self, session, device_type, image_url, image_download_source=None, retry_on_conflict=True, ): """"""Attach virtual media device to a node. :param session: The session to use for making this request. :type session: :class:`~keystoneauth1.adapter.Adapter` :param device_type: The type of virtual media device. :param image_url: The URL of the image to attach. :param image_download_source: The source of the image download. :param retry_on_conflict: Whether to retry HTTP CONFLICT errors. This can happen when either the virtual media is already used on a node or the node is locked. Since the latter happens more often, the default value is True. :return: ``None`` :raises: :exc:`~openstack.exceptions.NotSupported` if the server does not support the VMEDIA API. """""" session = self._get_session(session) version = self._assert_microversion_for( session, 'commit', _common.VMEDIA_VERSION, error_message=(""Cannot use virtual media API""), ) request = self._prepare_request(requires_id=True) request.url = utils.urljoin(request.url, 'vmedia') body = {""device_type"": device_type, ""image_url"": image_url} if image_download_source: body[""image_download_source""] = image_download_source retriable_status_codes = _common.RETRIABLE_STATUS_CODES if not retry_on_conflict: retriable_status_codes = list(set(retriable_status_codes) - {409}) response = session.post( request.url, json=body, headers=request.headers, microversion=version, retriable_status_codes=retriable_status_codes, ) msg = ( ""Failed to attach Virtual Media to bare metal node {node}"".format( node=self.id ) ) exceptions.raise_from_response(response, error_message=msg) def detach_vmedia(self, session, ignore_missing=True): """"""Detach virtual media from a node :param session: The session to use for making this request. :type session: :class:`~keystoneauth1.adapter.Adapter` :param bool ignore_missing: When set to ``False`` :class:`~openstack.exceptions.ResourceNotFound` will be raised when virtual media is not attached. Otherwise, ``False`` is returned. :return: ``True`` if the virtual media was detached, otherwise ``False``. :raises: :exc:`~openstack.exceptions.NotSupported` if the server does not support the VMEDIA API """""" session = self._get_session(session) version = self._assert_microversion_for( session, 'commit', _common.VMEDIA_VERSION, error_message=(""Cannot use virtual media API""), ) request = self._prepare_request(requires_id=True) request.url = utils.urljoin(request.url, 'vmedia') response = session.delete( request.url, headers=request.headers, microversion=version, retriable_status_codes=_common.RETRIABLE_STATUS_CODES, ) if ignore_missing and response.status_code == 400: session.log.debug( ""Virtual media doesn't exists for node %(node)s"", {'node': self.id}, ) return False msg = ""Failed to detach virtual media from bare metal node {node}"".format( node=self.id ) exceptions.raise_from_response(response, error_message=msg) return True def attach_vif( self, session, vif_id, retry_on_conflict=True, ):"," def attach_vif(self, session, vif_id, retry_on_conflict=True):",155,1
openstack%2Fkuryr-kubernetes~922030,openstack/kuryr-kubernetes,master,I88e9fc5658c0581434d6b0f34464ac2d52e39023,[CI] remove devstack-gate requirement,MERGED,2024-06-14 15:48:27.000000000,2024-06-15 09:18:16.000000000,2024-06-15 09:16:11.000000000,"[{'_account_id': 13692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-14 15:48:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4ca0aaa5455e35825077d457fed5e19c39efa193', 'message': ""[CI] remove devstack-gate requirement\n\ndevstack-gate has been retired recently, let's remove it from the\nrequired-projects list as it causes zuul config errors [1].\n\n[1] https://zuul.opendev.org/t/openstack/config-errors?project=openstack%2Fkuryr-kubernetes&severity=error\n\nChange-Id: I88e9fc5658c0581434d6b0f34464ac2d52e39023\n""}, {'number': 2, 'created': '2024-06-14 17:27:44.000000000', 'files': ['.zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/398bd461265abb10daeb1feee3f4e24564244e61', 'message': ""[CI] remove devstack-gate requirement\n\ndevstack-gate has been retired recently, let's remove it from the\nrequired-projects list as it causes zuul config errors [1].\n\n[1] https://zuul.opendev.org/t/openstack/config-errors?project=openstack%2Fkuryr-kubernetes&severity=error\n\nChange-Id: I88e9fc5658c0581434d6b0f34464ac2d52e39023\n""}]",2,922030,398bd461265abb10daeb1feee3f4e24564244e61,9,2,2,17685,,,0,"[CI] remove devstack-gate requirement

devstack-gate has been retired recently, let's remove it from the
required-projects list as it causes zuul config errors [1].

[1] https://zuul.opendev.org/t/openstack/config-errors?project=openstack%2Fkuryr-kubernetes&severity=error

Change-Id: I88e9fc5658c0581434d6b0f34464ac2d52e39023
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/30/922030/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/base.yaml'],1,4ca0aaa5455e35825077d457fed5e19c39efa193,remove-devstack-gate,, - openstack/devstack-gate,0,1
openstack%2Fcinder~913204,openstack/cinder,master,I8fdbc8087115761d796f6f5fd85253df47a35049,Fujitsu Driver: Add support for retype volume,NEW,2024-03-15 06:09:06.000000000,2024-06-15 08:50:50.000000000,,"[{'_account_id': 22348}, {'_account_id': 29122}]","[{'number': 1, 'created': '2024-03-15 06:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cb236292756e5ccdbde9e14f8dda43454fb54502', 'message': 'Fujitsu Driver: Add support for retype volume\n\nAdding support to retype a volume in Fujitsu driver.\nThis patch implements:\n- retype_volume()\n\nImplements: blueprint fujitsu-retype-support\nChange-Id: I8fdbc8087115761d796f6f5fd85253df47a35049\n'}, {'number': 2, 'created': '2024-03-19 06:27:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1329fa860e598cbdd1c013c7bd68655bab6adbe1', 'message': 'Fujitsu Driver: Add support for retype volume\n\nAdding support to retype a volume in Fujitsu driver.\nThis patch implements:\n- retype_volume()\n\nImplements: blueprint fujitsu-retype-support\nChange-Id: I8fdbc8087115761d796f6f5fd85253df47a35049\n'}, {'number': 3, 'created': '2024-03-19 09:42:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4d83884f1b5c30ca26a4d03cba0c517e3b4f531f', 'message': 'Fujitsu Driver: Add support for retype volume\n\nAdding support to retype a volume in Fujitsu driver.\nThis patch implements:\n- retype_volume()\n\nImplements: blueprint fujitsu-retype-support\nChange-Id: I8fdbc8087115761d796f6f5fd85253df47a35049\n'}, {'number': 4, 'created': '2024-04-09 10:14:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7d162c4b3aeee9a226679527ed9f2050ea17e883', 'message': 'Fujitsu Driver: Add support for retype volume\n\nAdding support to retype a volume in Fujitsu driver.\nThis patch implements:\n- retype_volume()\n\nImplements: blueprint fujitsu-retype-support\nChange-Id: I8fdbc8087115761d796f6f5fd85253df47a35049\n'}, {'number': 5, 'created': '2024-05-21 05:31:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0ea7d896010781927626ee15a3dfd65f53f849cc', 'message': 'Fujitsu Driver: Add support for retype volume\n\nAdding support to retype a volume in Fujitsu driver.\nThis patch implements:\n- retype_volume()\n\nImplements: blueprint fujitsu-retype-support\nChange-Id: I8fdbc8087115761d796f6f5fd85253df47a35049\n'}, {'number': 6, 'created': '2024-05-24 10:13:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/28b4787527c10976ccca71cd19c63ef816cd028a', 'message': 'Fujitsu Driver: Add support for retype volume\n\nAdding support to retype a volume in Fujitsu driver.\nThis patch implements:\n- retype_volume()\n\nImplements: blueprint fujitsu-retype-support\nChange-Id: I8fdbc8087115761d796f6f5fd85253df47a35049\n'}, {'number': 7, 'created': '2024-05-27 09:55:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/88b174193217de7d2e269e1f16d432a985833094', 'message': 'Fujitsu Driver: Add support for retype volume\n\nAdding support to retype a volume in Fujitsu driver.\nThis patch implements:\n- retype_volume()\n\nImplements: blueprint fujitsu-retype-support\nChange-Id: I8fdbc8087115761d796f6f5fd85253df47a35049\n'}, {'number': 8, 'created': '2024-06-14 07:01:43.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_fc.py', 'doc/source/configuration/block-storage/drivers/fujitsu-eternus-dx-driver.rst', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_iscsi.py', 'releasenotes/notes/fujitsu-add-retype-support-7142450051054919.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f18af5162f71e0d4e0880ccd1602964eb6381fc2', 'message': 'Fujitsu Driver: Add support for retype volume\n\nAdding support to retype a volume in Fujitsu driver.\nThis patch implements:\n- retype_volume()\n\nImplements: blueprint fujitsu-retype-support\nChange-Id: I8fdbc8087115761d796f6f5fd85253df47a35049\n'}]",7,913204,f18af5162f71e0d4e0880ccd1602964eb6381fc2,99,2,8,33609,,,0,"Fujitsu Driver: Add support for retype volume

Adding support to retype a volume in Fujitsu driver.
This patch implements:
- retype_volume()

Implements: blueprint fujitsu-retype-support
Change-Id: I8fdbc8087115761d796f6f5fd85253df47a35049
",git fetch https://review.opendev.org/openstack/cinder refs/changes/04/913204/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_fc.py', 'doc/source/configuration/block-storage/drivers/fujitsu-eternus-dx-driver.rst', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_iscsi.py', 'releasenotes/notes/fujitsu-add-retype-support-7142450051054919.yaml']",6,cb236292756e5ccdbde9e14f8dda43454fb54502,fujitsu-driver-update,"--- features: - | Fujitsu ETERNUS DX driver: Added support for retype volume operation. For retypes, the ``migration-policy on-demand`` option must be specified. For retypes involving only QoS adjustments, the volume QoS information on the ETERNUS AF/DX is modified regardless of whether the ``-migration-policy on-demand`` option is specified. ",,182,14
openstack%2Fcinder~907129,openstack/cinder,master,I4e1cfbc3b42d98f926a344626b0a335b78d611a0,Fujitsu Driver: Improve SMI-S functionality,NEW,2024-01-31 08:47:37.000000000,2024-06-15 08:46:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-01-31 08:47:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/03c8558a908a51ac28c8239665d8807aeeaa7bd9', 'message': 'Fujitsu Driver: Improve SMI-S functionality\n\nIn certain versions of pywbem, acquired pywbem connections are not\nautomatically released, resuting in reaching the maximum limit of SMI-S\nconnections on the storage side, casing the driver to be unable to\nproceed.\n\nThis patch modifies the way of obtaining SMI-S connections to address\nthis issue.\n\nChange-Id: I4e1cfbc3b42d98f926a344626b0a335b78d611a0\n'}, {'number': 2, 'created': '2024-02-18 07:58:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dfae2f0ca2e8ffc788f4b0c9ba352a6f52ee1921', 'message': 'Fujitsu Driver: Improve SMI-S functionality\n\nIn certain versions of pywbem, acquired pywbem connections are not\nautomatically released, resuting in reaching the maximum limit of SMI-S\nconnections on the storage side, casing the driver to be unable to\nproceed.\n\nThis patch modifies the way of obtaining SMI-S connections to address\nthis issue.\n\nChange-Id: I4e1cfbc3b42d98f926a344626b0a335b78d611a0\n'}, {'number': 3, 'created': '2024-03-19 06:18:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c42028fd55cf104c85b555a399d931fef607e9a8', 'message': 'Fujitsu Driver: Improve SMI-S functionality\n\nIn certain versions of pywbem, acquired pywbem connections are not\nautomatically released, resuting in reaching the maximum limit of SMI-S\nconnections on the storage side, casing the driver to be unable to\nproceed.\n\nThis patch modifies the way of obtaining SMI-S connections to address\nthis issue.\n\nChange-Id: I4e1cfbc3b42d98f926a344626b0a335b78d611a0\n'}, {'number': 4, 'created': '2024-05-09 03:33:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/94d32b5a26290c0a42732121240911c02299e794', 'message': 'Fujitsu Driver: Improve SMI-S functionality\n\nIn certain versions of pywbem, acquired pywbem connections are not\nautomatically released, resuting in reaching the maximum limit of SMI-S\nconnections on the storage side, casing the driver to be unable to\nproceed.\n\nThis patch modifies the way of obtaining SMI-S connections to address\nthis issue.\n\nChange-Id: I4e1cfbc3b42d98f926a344626b0a335b78d611a0\n'}, {'number': 5, 'created': '2024-05-24 09:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c1b6d81cf3fe926599f74faa8aebc841d21049bd', 'message': 'Fujitsu Driver: Improve SMI-S functionality\n\nIn certain versions of pywbem, acquired pywbem connections are not\nautomatically released, resuting in reaching the maximum limit of SMI-S\nconnections on the storage side, casing the driver to be unable to\nproceed.\n\nThis patch modifies the way of obtaining SMI-S connections to address\nthis issue.\n\nChange-Id: I4e1cfbc3b42d98f926a344626b0a335b78d611a0\n'}, {'number': 6, 'created': '2024-05-27 04:08:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/548819d585fd9b2582a4cab5b8ffbc5f1783f718', 'message': 'Fujitsu Driver: Improve SMI-S functionality\n\nIn certain versions of pywbem, acquired pywbem connections are not\nautomatically released, resuting in reaching the maximum limit of SMI-S\nconnections on the storage side, casing the driver to be unable to\nproceed.\n\nThis patch modifies the way of obtaining SMI-S connections to address\nthis issue.\n\nChange-Id: I4e1cfbc3b42d98f926a344626b0a335b78d611a0\n'}, {'number': 7, 'created': '2024-06-14 06:15:10.000000000', 'files': ['releasenotes/notes/fujitsu-improve-smis-function-6e01616d67d76c11.yaml', 'cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a99385e176fe388649d7c14aefaa67bb61381eac', 'message': 'Fujitsu Driver: Improve SMI-S functionality\n\nIn certain versions of pywbem, acquired pywbem connections are not\nautomatically released, resuting in reaching the maximum limit of SMI-S\nconnections on the storage side, casing the driver to be unable to\nproceed.\n\nThis patch modifies the way of obtaining SMI-S connections to address\nthis issue.\n\nChange-Id: I4e1cfbc3b42d98f926a344626b0a335b78d611a0\n'}]",8,907129,a99385e176fe388649d7c14aefaa67bb61381eac,136,1,7,33609,,,0,"Fujitsu Driver: Improve SMI-S functionality

In certain versions of pywbem, acquired pywbem connections are not
automatically released, resuting in reaching the maximum limit of SMI-S
connections on the storage side, casing the driver to be unable to
proceed.

This patch modifies the way of obtaining SMI-S connections to address
this issue.

Change-Id: I4e1cfbc3b42d98f926a344626b0a335b78d611a0
",git fetch https://review.opendev.org/openstack/cinder refs/changes/29/907129/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fujitsu-improve-smis-function-6e01616d67d76c11.yaml', 'cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py']",3,03c8558a908a51ac28c8239665d8807aeeaa7bd9,fujitsu-driver-update," 1.4.11 - Improve SMIS function. VERSION = ""1.4.11"" self.filename = self.configuration.cinder_eternus_config_file pools_instance_list = self._find_all_pools_instances() 'FUJITSU_StorageProduct') pools_instance_list = self._find_all_pools_instances() [pool_name_list[i]], self._find_pools(poolname_list) ag_volmaplist = self._exec_eternus_smis_ReferenceNames( vo_volmaplist = self._exec_eternus_smis_ReferenceNames( vo_volmaplist = self._exec_eternus_smis_ReferenceNames( ag_volmaplist = self._exec_eternus_smis_ReferenceNames( def _find_all_pools_instances(self): 'FUJITSU_ThinProvisioningPool') 'FUJITSU_RAIDStoragePool') def _find_pools(self, poolname_list, poollist = self._find_all_pools_instances() rc, retdata = self._exec_eternus_smis_InvokeMethod( # If the result has job information, wait for completion. if ""Job"" in retdata: rc = self._wait_for_job_complete(retdata) def _enum_eternus_instances(self, classname, retry=CONSTANTS.TIMES_MIN, retry_interval=CONSTANTS.RETRY_INTERVAL, **param_dict): for retry_num in range(retry): try: ret = self._exec_eternus_smis_EnumerateInstances( classname, **param_dict) break except Exception as ex: LOG.info('_enum_eternus_instances, ' 'reason: %(reason)s, try (%(retrynum)d).', {'reason': ex.args, 'retrynum': (retry_num + 1)}) time.sleep(retry_interval) continue else: msg = _('_enum_eternus_instances, Error.') raise exception.VolumeBackendAPIException(data=msg) @lockutils.synchronized('ETERNUS-SMIS-getinstance', 'cinder-', True) def _enum_eternus_instance_names(self, classname, retry=CONSTANTS.TIMES_MIN, retry_interval=CONSTANTS.RETRY_INTERVAL): for retry_num in range(retry): try: ret = self._exec_eternus_smis_EnumerateInstanceNames( classname) break except Exception as ex: LOG.info('_enum_eternus_instance_names, ' 'reason: %(reason)s, try (%(retrynum)d).', {'reason': ex.args, 'retrynum': (retry_num + 1)}) time.sleep(retry_interval) continue else: msg = _('_enum_eternus_instance_names, Error.') raise exception.VolumeBackendAPIException(data=msg) def _get_eternus_instance(self, classname, AllowNone=False, retry=CONSTANTS.TIMES_MIN, retry_interval=CONSTANTS.RETRY_INTERVAL, **param_dict): for retry_num in range(retry): try: ret = self._exec_eternus_smis_GetInstance( classname, **param_dict) break except Exception as ex: if ex.args[0] == 6 and AllowNone: break else: LOG.info('_get_eternus_instance, ' 'reason: %(reason)s, try (%(retrynum)d).', {'reason': ex.args, 'retrynum': (retry_num + 1)}) time.sleep(retry_interval) continue else: msg = _('_get_eternus_instance, Error.') raise exception.VolumeBackendAPIException(data=msg) def _assoc_eternus(self, classname, retry=CONSTANTS.TIMES_MIN, retry_interval=CONSTANTS.RETRY_INTERVAL, **param_dict): for retry_num in range(retry): try: ret = self._exec_eternus_smis_Associators( classname, **param_dict) break except Exception as ex: LOG.info('_assoc_eternus, ' 'reason: %(reason)s, retry (%(retrynum)d).', {'reason': (ex.args), 'retrynum': (retry_num + 1)}) time.sleep(retry_interval) continue else: msg = _('_assoc_eternus, Error') raise exception.VolumeBackendAPIException(data=msg) def _assoc_eternus_names(self, classname, retry=CONSTANTS.TIMES_MIN, retry_interval=CONSTANTS.RETRY_INTERVAL, **param_dict): for retry_num in range(retry): try: ret = self._exec_eternus_smis_AssociatorNames( classname, **param_dict) break except Exception as ex: LOG.info('_assoc_eternus_names, ' 'reason: %(reason)s, try (%(retrynum)d).', {'reason': ex.args, 'retrynum': (retry_num + 1)}) time.sleep(retry_interval) continue else: msg = _('_assoc_eternus_names, Error.') raise exception.VolumeBackendAPIException(data=msg) def _create_eternus_instance_name(self, classname, bindings): """"""Create CIM InstanceName from classname and bindings."""""" instancename = self._exec_eternus_smis_CIMInstanceName( cpsessionlist = self._exec_eternus_smis_ReferenceNames( cpsession_instance = self._get_eternus_instance( def _wait_for_job_complete(self, job): if self._is_job_finished(job): LOG.error('_wait_for_job_complete, ' 'failed after %(retries)d tries.', if self._is_job_finished(job): except Exception as ex: LOG.error('Exception: %s.', ex) exceptionMessage = _('Issue encountered waiting for job.') LOG.error(exceptionMessage) jobinstance = self._exec_eternus_smis_GetInstance( jobInstanceName, LocalOnly=False) def _is_job_finished(self, job): jobinstance = self._exec_eternus_smis_GetInstance(jobInstanceName, LocalOnly=False) LOG.debug('_is_job_finished, state: %(state)s.', {'state': jobstate}) # ValueMap('2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13..32767, # 32768..65535'), # Values('New, Starting, Running, Suspended, Shutting Down, # Query Pending, DMTF Reserved, Vendor Reserved')] def _find_lun_with_listup(self, **kwargs): 'FUJITSU_StorageProduct') def _exec_eternus_smis_InvokeMethod(self, classname, instanceNameList, **param_dict): filename = self.filename conn = self._get_eternus_connection(filename) rc, retdata = conn.InvokeMethod( classname, instanceNameList, **param_dict) try: conn.close() except Exception: LOG.info('Version of pywbem is lower than 1.2.0, ' 'Cannot close connection by this.') return rc, retdata def _exec_eternus_smis_EnumerateInstances(self, classname, **param_dict): filename = self.filename conn = self._get_eternus_connection(filename) ret = conn.EnumerateInstances(classname, **param_dict) try: conn.close() except Exception: LOG.info('Version of pywbem is lower than 1.2.0, ' 'Cannot close connection by this.') def _exec_eternus_smis_EnumerateInstanceNames(self, classname): filename = self.filename conn = self._get_eternus_connection(filename) ret = conn.EnumerateInstanceNames(classname) try: conn.close() except Exception: LOG.info('Version of pywbem is lower than 1.2.0, ' 'Cannot close connection by this.') return ret def _exec_eternus_smis_GetInstance(self, classname, **param_dict): filename = self.filename conn = self._get_eternus_connection(filename) ret = conn.GetInstance(classname, **param_dict) try: conn.close() except Exception: LOG.info('Version of pywbem is lower than 1.2.0, ' 'Cannot close connection by this.') return ret def _exec_eternus_smis_Associators(self, classname, **param_dict): filename = self.filename conn = self._get_eternus_connection(filename) ret = conn.Associators(classname, **param_dict) try: conn.close() except Exception: LOG.info('Version of pywbem is lower than 1.2.0, ' 'Cannot close connection by this.') return ret def _exec_eternus_smis_AssociatorNames(self, classname, **param_dict): filename = self.filename conn = self._get_eternus_connection(filename) ret = conn.AssociatorNames(classname, **param_dict) try: conn.close() except Exception: LOG.info('Version of pywbem is lower than 1.2.0, ' 'Cannot close connection by this.') return ret def _exec_eternus_smis_ReferenceNames(self, classname, **param_dict): filename = self.filename conn = self._get_eternus_connection(filename) ret = conn.ReferenceNames(classname, **param_dict) try: conn.close() except Exception: LOG.info('Version of pywbem is lower than 1.2.0, ' 'Cannot close connection by this.') return ret def _exec_eternus_smis_CIMInstanceName(self, classname, namespace=None, keybindings=None): instancename = pywbem.CIMInstanceName( classname, namespace=namespace, keybindings=keybindings) return instancename "," VERSION = ""1.4.10"" self.conn = None self.conn = self._get_eternus_connection() pools_instance_list = self._find_all_pools_instances(self.conn) 'FUJITSU_StorageProduct', conn=self.conn) self.conn = self._get_eternus_connection() self.conn = self._get_eternus_connection() pools_instance_list = self._find_all_pools_instances(self.conn) [pool_name_list[i]], self.conn, self.conn = self._get_eternus_connection() self.conn = self._get_eternus_connection() self.conn = self._get_eternus_connection() self.conn = self._get_eternus_connection() self._find_pools(poolname_list, self.conn) ag_volmaplist = self._reference_eternus_names( vo_volmaplist = self._reference_eternus_names( vo_volmaplist = self._reference_eternus_names( ag_volmaplist = self._reference_eternus_names( def _find_all_pools_instances(self, conn): LOG.debug('_find_all_pools_instances, conn: %s', conn) 'FUJITSU_ThinProvisioningPool', conn=conn) 'FUJITSU_RAIDStoragePool', conn=conn) def _find_pools(self, poolname_list, conn, poollist = self._find_all_pools_instances(conn) conn=conn, conn=conn, conn=conn, retdata = None rc, retdata = self.conn.InvokeMethod( # If the result has job information, wait for job complete if ""Job"" in retdata: rc = self._wait_for_job_complete(self.conn, retdata) if rc == CONSTANTS.DEVICE_IS_BUSY: msg = _('Device is in Busy state') raise exception.VolumeBackendAPIException(data=msg) @utils.retry(exception.VolumeBackendAPIException) def _enum_eternus_instances(self, classname, conn=None, **param_dict): if not conn: conn = self.conn ret = conn.EnumerateInstances(classname, **param_dict) @lockutils.synchronized('ETERNUS-SMIS-other', 'cinder-', True) @utils.retry(exception.VolumeBackendAPIException) def _enum_eternus_instance_names(self, classname): ret = self.conn.EnumerateInstanceNames(classname) @lockutils.synchronized('ETERNUS-SMIS-getinstance', 'cinder-', True) @utils.retry(exception.VolumeBackendAPIException) def _get_eternus_instance(self, classname, AllowNone=False, **param_dict): try: ret = self.conn.GetInstance(classname, **param_dict) except Exception as e: if e.args[0] == 6 and AllowNone: return ret else: msg = _('_get_eternus_instance, Error:%s.') % e raise exception.VolumeBackendAPIException(data=msg) @utils.retry(exception.VolumeBackendAPIException) def _assoc_eternus(self, classname, conn=None, **param_dict): if not conn: conn = self.conn ret = conn.Associators(classname, **param_dict) @utils.retry(exception.VolumeBackendAPIException) def _assoc_eternus_names(self, classname, conn=None, **param_dict): if not conn: conn = self.conn ret = conn.AssociatorNames(classname, **param_dict) @lockutils.synchronized('ETERNUS-SMIS-other', 'cinder-', True) @utils.retry(exception.VolumeBackendAPIException) def _reference_eternus_names(self, classname, **param_dict): """"""Refference Names."""""" LOG.debug('_reference_eternus_names, ' 'classname: %(cls)s, param: %(param)s.', {'cls': classname, 'param': param_dict}) ret = self.conn.ReferenceNames(classname, **param_dict) LOG.debug('_reference_eternus_names, enum %d names.', len(ret)) return ret def _create_eternus_instance_name(self, classname, bindings): """"""create CIM InstanceName from classname and bindings."""""" instancename = pywbem.CIMInstanceName( cpsessionlist = self.conn.ReferenceNames( cpsession_instance = self.conn.GetInstance( def _wait_for_job_complete(self, conn, job): if self._is_job_finished(conn, job): LOG.error(""_wait_for_job_complete, "" ""failed after %(retries)d tries."", if self._is_job_finished(conn, job): except Exception: exceptionMessage = _(""Issue encountered waiting for job."") LOG.exception(exceptionMessage) jobinstance = conn.GetInstance(jobInstanceName, LocalOnly=False) def _is_job_finished(self, conn, job): jobinstance = conn.GetInstance(jobInstanceName, LocalOnly=False) LOG.debug('_is_job_finished,' 'state: %(state)s', {'state': jobstate}) # ValueMap(""2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13..32767, # 32768..65535""), # Values(""New, Starting, Running, Suspended, Shutting Down, # Query Pending, DMTF Reserved, Vendor Reserved"")] def _find_lun_with_listup(self, conn=None, **kwargs): conn=conn, conn = self.conn conn=conn, self.conn = self._get_eternus_connection() 'FUJITSU_StorageProduct', conn=self.conn) def _exec_eternus_smis_ReferenceNames(self, classname, conn=None, **param_dict): ret = conn.ReferenceNames(classname, **param_dict)",412,121
openstack%2Fnova~912094,openstack/nova,master,I35bd5c90f163d240d5d3666f78116855239c3184,Consolidate vTPM and ephemeral encryption secret creation,NEW,2024-03-08 09:10:57.000000000,2024-06-15 08:37:35.000000000,,"[{'_account_id': 4393}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-08 09:10:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c494cac88a25a054024f333b60f6b137bd4d47e9', 'message': ""Consolidate vTPM and ephemeral encryption secret creation\n\nCurrently, vTPM and ephemeral encryption are using separate but similar\nfunctions for creating encryption secrets, and neither is raising a\nNova exception in the event of a secret creation failure.\n\nOne way secret creation can fail is due to policy permissions on the\nkey manager service API rejecting the request. If this happens, a\ntwo-level stack trace is logged in the compute manager and the instance\nis put into ERROR state with a fault message that the maximum number of\nretries were exceeded. This isn't particularly helpful to the REST API\ncaller as they won't be shown anything related to the policy permission\nissue that is causing the server create failure.\n\nThis refactors the secret creation function to try-except and raise a\nNova exception and makes the vTPM and ephemeral encryption variants\ncall it. The Nova exception will be caught and handled at the compute\nmanager level in a following patch to provide callers with better\nerror information.\n\nRelated to blueprint ephemeral-storage-encryption\n\nChange-Id: I35bd5c90f163d240d5d3666f78116855239c3184\n""}, {'number': 2, 'created': '2024-05-17 20:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b71f133fc762c4fb9caad648fc1eab841a1481ce', 'message': ""Consolidate vTPM and ephemeral encryption secret creation\n\nCurrently, vTPM and ephemeral encryption are using separate but similar\nfunctions for creating encryption secrets, and neither is raising a\nNova exception in the event of a secret creation failure.\n\nOne way secret creation can fail is due to policy permissions on the\nkey manager service API rejecting the request. If this happens, a\ntwo-level stack trace is logged in the compute manager and the instance\nis put into ERROR state with a fault message that the maximum number of\nretries were exceeded. This isn't particularly helpful to the REST API\ncaller as they won't be shown anything related to the policy permission\nissue that is causing the server create failure.\n\nThis refactors the secret creation function to try-except and raise a\nNova exception and makes the vTPM and ephemeral encryption variants\ncall it. The Nova exception will be caught and handled at the compute\nmanager level in a following patch to provide callers with better\nerror information.\n\nRelated to blueprint ephemeral-storage-encryption\n\nChange-Id: I35bd5c90f163d240d5d3666f78116855239c3184\n""}, {'number': 3, 'created': '2024-06-04 23:17:47.000000000', 'files': ['nova/exception.py', 'nova/virt/libvirt/driver.py', 'nova/crypto.py', 'nova/tests/unit/test_crypto.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bd5399c9dcdbf39634afbf2e751dac2296ff525e', 'message': ""Consolidate vTPM and ephemeral encryption secret creation\n\nCurrently, vTPM and ephemeral encryption are using separate but similar\nfunctions for creating encryption secrets, and neither is raising a\nNova exception in the event of a secret creation failure.\n\nOne way secret creation can fail is due to policy permissions on the\nkey manager service API rejecting the request. If this happens, a\ntwo-level stack trace is logged in the compute manager and the instance\nis put into ERROR state with a fault message that the maximum number of\nretries were exceeded. This isn't particularly helpful to the REST API\ncaller as they won't be shown anything related to the policy permission\nissue that is causing the server create failure.\n\nThis refactors the secret creation function to try-except and raise a\nNova exception and makes the vTPM and ephemeral encryption variants\ncall it. The Nova exception will be caught and handled at the compute\nmanager level in a following patch to provide callers with better\nerror information.\n\nRelated to blueprint ephemeral-storage-encryption\n\nChange-Id: I35bd5c90f163d240d5d3666f78116855239c3184\n""}]",21,912094,bd5399c9dcdbf39634afbf2e751dac2296ff525e,69,3,3,4690,,,0,"Consolidate vTPM and ephemeral encryption secret creation

Currently, vTPM and ephemeral encryption are using separate but similar
functions for creating encryption secrets, and neither is raising a
Nova exception in the event of a secret creation failure.

One way secret creation can fail is due to policy permissions on the
key manager service API rejecting the request. If this happens, a
two-level stack trace is logged in the compute manager and the instance
is put into ERROR state with a fault message that the maximum number of
retries were exceeded. This isn't particularly helpful to the REST API
caller as they won't be shown anything related to the policy permission
issue that is causing the server create failure.

This refactors the secret creation function to try-except and raise a
Nova exception and makes the vTPM and ephemeral encryption variants
call it. The Nova exception will be caught and handled at the compute
manager level in a following patch to provide callers with better
error information.

Related to blueprint ephemeral-storage-encryption

Change-Id: I35bd5c90f163d240d5d3666f78116855239c3184
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/912094/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/virt/libvirt/driver.py', 'nova/crypto.py', 'nova/tests/unit/test_crypto.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",5,c494cac88a25a054024f333b60f6b137bd4d47e9,specs/yoga/approved/ephemeral-encryption-libvirt, 'nova.crypto.create_ephemeral_encryption_secret')).mock, 'nova.crypto.create_encryption_secret')).mock,82,19
openstack%2Fcinder~910482,openstack/cinder,master,I675496d4376eb9f622c30d1a3d29e255b0c55a42,Fujitsu Driver: Improve process about copysession,NEW,2024-02-28 03:47:39.000000000,2024-06-15 08:36:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-02-28 03:47:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/307940bb600d9ddec42741d99f9cde17965f7048', 'message': 'Fujitsu Driver: Improve process about copysession\n\nWhen deleting a volume, the process related to copy-sesison handling has\nbeen streamlined to incerase the speed of volume deletion.\n\nThis patch also add additional field parsing when searching\ncopy-sessions to address the problem about REC copy-sessions.\n\nChange-Id: I675496d4376eb9f622c30d1a3d29e255b0c55a42\n'}, {'number': 2, 'created': '2024-03-19 06:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c0c76dc7a0463a80f373456cb93d95483c4ab4cd', 'message': 'Fujitsu Driver: Improve process about copysession\n\nWhen deleting a volume, the process related to copy-sesison handling has\nbeen streamlined to incerase the speed of volume deletion.\n\nThis patch also add additional field parsing when searching\ncopy-sessions to address the problem about REC copy-sessions.\n\nChange-Id: I675496d4376eb9f622c30d1a3d29e255b0c55a42\n'}, {'number': 3, 'created': '2024-05-15 07:19:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f5b0b19593f48cc000912667fec64f345bdcbc6d', 'message': 'Fujitsu Driver: Improve process about copysession\n\nWhen deleting a volume, the process related to copy-sesison handling has\nbeen streamlined to incerase the speed of volume deletion.\n\nThis patch also add additional field parsing when searching\ncopy-sessions to address the problem about REC copy-sessions.\n\nChange-Id: I675496d4376eb9f622c30d1a3d29e255b0c55a42\n'}, {'number': 4, 'created': '2024-05-16 02:27:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7bc5eab21ea98ff2e461244c83622de198c88d12', 'message': 'Fujitsu Driver: Improve process about copysession\n\nWhen deleting a volume, the process related to copy-sesison handling has\nbeen streamlined to incerase the speed of volume deletion.\n\nThis patch also add additional field parsing when searching\ncopy-sessions to address the problem about REC copy-sessions.\n\nChange-Id: I675496d4376eb9f622c30d1a3d29e255b0c55a42\n'}, {'number': 5, 'created': '2024-05-17 07:04:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/de3348d6c5a14ab0de83cef2a1405c5e87f91932', 'message': 'Fujitsu Driver: Improve process about copysession\n\nWhen deleting a volume, the process related to copy-sesison handling has\nbeen streamlined to incerase the speed of volume deletion.\n\nThis patch also add additional field parsing when searching\ncopy-sessions to address the problem about REC copy-sessions.\n\nChange-Id: I675496d4376eb9f622c30d1a3d29e255b0c55a42\n'}, {'number': 6, 'created': '2024-05-24 09:53:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/be711c89a849541a6bd22166e67d09934df29b7c', 'message': 'Fujitsu Driver: Improve process about copysession\n\nWhen deleting a volume, the process related to copy-sesison handling has\nbeen streamlined to incerase the speed of volume deletion.\n\nThis patch also add additional field parsing when searching\ncopy-sessions to address the problem about REC copy-sessions.\n\nChange-Id: I675496d4376eb9f622c30d1a3d29e255b0c55a42\n'}, {'number': 7, 'created': '2024-05-27 08:49:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/106f15d2212b2daf46fb124bb33306ee2ecbcb2d', 'message': 'Fujitsu Driver: Improve process about copysession\n\nWhen deleting a volume, the process related to copy-sesison handling has\nbeen streamlined to incerase the speed of volume deletion.\n\nThis patch also add additional field parsing when searching\ncopy-sessions to address the problem about REC copy-sessions.\n\nChange-Id: I675496d4376eb9f622c30d1a3d29e255b0c55a42\n'}, {'number': 8, 'created': '2024-06-14 06:25:25.000000000', 'files': ['cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_cli.py', 'cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'releasenotes/notes/fujitsu-improve-copysession-related-process-60bc1a9a92f7d63b.yaml', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_fc.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_iscsi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/88ae53f734e1f739f48344bb6f744f97cfcaff58', 'message': 'Fujitsu Driver: Improve process about copysession\n\nWhen deleting a volume, the process related to copy-sesison handling has\nbeen streamlined to incerase the speed of volume deletion.\n\nThis patch also add additional field parsing when searching\ncopy-sessions to address the problem about REC copy-sessions.\n\nChange-Id: I675496d4376eb9f622c30d1a3d29e255b0c55a42\n'}]",19,910482,88ae53f734e1f739f48344bb6f744f97cfcaff58,146,1,8,33609,,,0,"Fujitsu Driver: Improve process about copysession

When deleting a volume, the process related to copy-sesison handling has
been streamlined to incerase the speed of volume deletion.

This patch also add additional field parsing when searching
copy-sessions to address the problem about REC copy-sessions.

Change-Id: I675496d4376eb9f622c30d1a3d29e255b0c55a42
",git fetch https://review.opendev.org/openstack/cinder refs/changes/82/910482/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_cli.py', 'cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'releasenotes/notes/fujitsu-improve-copysession-related-process-60bc1a9a92f7d63b.yaml', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_fc.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_iscsi.py']",6,307940bb600d9ddec42741d99f9cde17965f7048,fujitsu-driver-update," LOG.debug('delete_snapshot, ' 'snap id: %(sid)s, volume id: %(vid)s, Enter method.', {'sid': snapshot['id'], 'vid': snapshot['volume_id']}) vol_exist = self.common.delete_snapshot(snapshot) LOG.debug('delete_snapshot, ' 'delete: %s, Exit method.', vol_exist)", self.common.delete_snapshot(snapshot),228,146
openstack%2Fovn-bgp-agent~921491,openstack/ovn-bgp-agent,master,I9649cd185b100c9941887e3440bad8d39881f92c,Ensure cr-lrp permanent ip nei entry is added on NB DB driver,NEW,2024-06-07 07:34:57.000000000,2024-06-15 08:25:11.000000000,,"[{'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 36670}]","[{'number': 1, 'created': '2024-06-07 07:34:57.000000000', 'files': ['ovn_bgp_agent/drivers/openstack/ovn_bgp_driver.py', 'ovn_bgp_agent/drivers/openstack/utils/wire.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/utils/test_wire.py'], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/98eb4651fa0f2c6e60be7ac00f8cadd21f1c6c7f', 'message': 'Ensure cr-lrp permanent ip nei entry is added on NB DB driver\n\nThere wire provider port function had two definitions for the same\nparameter (mac and lladdr). This patch is merging them and ensuring\nit gets used on the NB DB Driver so that the PERMANENT ip nei entries\nget added for the router gateway ports (cr-lrp)\n\nCloses-Bug: #2068699\nChange-Id: I9649cd185b100c9941887e3440bad8d39881f92c\n'}]",3,921491,98eb4651fa0f2c6e60be7ac00f8cadd21f1c6c7f,7,5,1,23567,,,0,"Ensure cr-lrp permanent ip nei entry is added on NB DB driver

There wire provider port function had two definitions for the same
parameter (mac and lladdr). This patch is merging them and ensuring
it gets used on the NB DB Driver so that the PERMANENT ip nei entries
get added for the router gateway ports (cr-lrp)

Closes-Bug: #2068699
Change-Id: I9649cd185b100c9941887e3440bad8d39881f92c
",git fetch https://review.opendev.org/openstack/ovn-bgp-agent refs/changes/91/921491/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_bgp_agent/drivers/openstack/ovn_bgp_driver.py', 'ovn_bgp_agent/drivers/openstack/utils/wire.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/utils/test_wire.py']",3,98eb4651fa0f2c6e60be7ac00f8cadd21f1c6c7f,expose-cr-lrp," proxy_cidrs, mac='boo')"," proxy_cidrs, lladdr='boo')",8,8
openstack%2Fcinder~921732,openstack/cinder,master,Id8f9b78671047eb24a4d0fa3a55a4fdb584d71db,Dell PowerStore driver: QoS support,NEW,2024-06-11 08:29:23.000000000,2024-06-15 06:47:53.000000000,,"[{'_account_id': 597}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 29122}, {'_account_id': 31779}, {'_account_id': 32761}]","[{'number': 1, 'created': '2024-06-11 08:29:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/87afda67b8a02eff0796fcf52d44e7ac9f30620b', 'message': 'Dell PowerStore driver: QoS support\n\nAdded QoS support for Dell PowerStore driver.\n\nImplements: blueprint dell-powerstore-qos\nChange-Id: Id8f9b78671047eb24a4d0fa3a55a4fdb584d71db\n'}, {'number': 2, 'created': '2024-06-12 06:09:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0f394b15801991a8fc3601637b08870b0cb165ba', 'message': 'Dell PowerStore driver: QoS support\n\nAdded QoS support for Dell PowerStore driver.\n\nImplements: blueprint dell-powerstore-qos\nChange-Id: Id8f9b78671047eb24a4d0fa3a55a4fdb584d71db\n'}, {'number': 3, 'created': '2024-06-12 08:01:31.000000000', 'files': ['doc/source/reference/support-matrix.ini', 'cinder/volume/drivers/dell_emc/powerstore/utils.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerstore/test_client.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerstore/test_volume_create_delete_extend.py', 'cinder/exception.py', 'cinder/volume/drivers/dell_emc/powerstore/client.py', 'cinder/volume/drivers/dell_emc/powerstore/driver.py', 'cinder/volume/drivers/dell_emc/powerstore/adapter.py', 'releasenotes/notes/bp-dell-powerstore-qos-1532737fa1bb2664.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/powerstore/test_volume_attach_detach.py', 'doc/source/configuration/block-storage/drivers/dell-emc-powerstore-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/deaf467ace1b5b30abda25e982a3aa389853ea73', 'message': 'Dell PowerStore driver: QoS support\n\nAdded QoS support for Dell PowerStore driver.\n\nImplements: blueprint dell-powerstore-qos\nChange-Id: Id8f9b78671047eb24a4d0fa3a55a4fdb584d71db\n'}]",28,921732,deaf467ace1b5b30abda25e982a3aa389853ea73,57,11,3,36725,,,0,"Dell PowerStore driver: QoS support

Added QoS support for Dell PowerStore driver.

Implements: blueprint dell-powerstore-qos
Change-Id: Id8f9b78671047eb24a4d0fa3a55a4fdb584d71db
",git fetch https://review.opendev.org/openstack/cinder refs/changes/32/921732/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/support-matrix.ini', 'cinder/volume/drivers/dell_emc/powerstore/utils.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerstore/test_client.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerstore/test_volume_create_delete_extend.py', 'cinder/exception.py', 'cinder/volume/drivers/dell_emc/powerstore/client.py', 'cinder/volume/drivers/dell_emc/powerstore/driver.py', 'cinder/volume/drivers/dell_emc/powerstore/adapter.py', 'releasenotes/notes/bp-dell-powerstore-qos-1532737fa1bb2664.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/powerstore/test_volume_attach_detach.py', 'doc/source/configuration/block-storage/drivers/dell-emc-powerstore-driver.rst']",11,87afda67b8a02eff0796fcf52d44e7ac9f30620b,bp/dell-powerstore-qos,"- Quality of service (QoS) QoS (Quality of Service) support ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ .. note:: QoS is supported in PowerStore version 4.0 or later. The PowerStore driver supports Quality of Service (QoS) by enabling the following capabilities: ``bandwidth_type`` The QoS bandwidth type. This type setting determines how the max_iops and max_bw attributes are used. This has the following two values: 1. ``Absolute`` - Limits are absolute values specified, either I/O operations per second or bandwidth. 2. ``Density`` - Limits specified are per GB, e.g. I/O operations per second per GB. ``This property is mandatory when creating QoS``. ``max_iops`` Maximum I/O operations in either I/O operations per second (IOPS) or I/O operations per second per GB.The specification of the type attribute determines which measurement is used. If type is set to absolute,max_iops is specified in IOPS. If type is set to density, max_iops is specified in IOPS per GB. If both max_iops and max_bw are specified, the system will limit I/O if either value is exceeded. The value must be within the range of 1 to 2147483646. ``max_bw`` Maximum I/O bandwidth measured in either Kilobytes per second or Kilobytes per second / per GB.The specification of the type attribute determines which measurement is used. If type is set to absolute,max_bw is specified in Kilobytes per second. If type is set to density max_bw is specified in Kilobytes per second / per GB. If both max_iops and max_bw are specified,the system will limit I/O if either value is exceeded. The value must be within the range of 2000 to 2147483646. ``burst_percentage`` Percentage indicating by how much the limit may be exceeded. If I/O normally runs below the specified limit, then the volume or volume_group will accumulate burst credits that can be used to exceed the limit for a short period(a few seconds, but will not exceed the burst limit). This burst percentage applies to both max_iops and max_bw and is independent of the type setting. The value must be within the range of 0 to 100. If this property is not specified during QoS creation, a default value of 0 will be used. .. note:: When creating QoS, you must define either ``max_iops`` or ``max_bw``, or you can define both. .. code-block:: console $ openstack volume qos create --consumer back-end --property max_iops=100 --property max_bw=50000 --property bandwidth_limit_type=Absolute --property burst_percentage=80 powerstore_qos $ openstack volume type create --property volume_backend_name=powerstore powerstore $ openstack volume qos associate powerstore_qos powerstore .. note:: There are two approaches for updating QoS properties in PowerStore: #. ``Retype the Volume``: This involves retyping the volume with the different QoS settings and migrating the volume to the new type. #. ``Modify Existing QoS Properties`` (Recommended): This method entails changing the existing QoS properties and creating a new instance or image volume to update the QoS policy in PowerStore.This will also update the QoS properties of existing attached volumes, created with the same volume type.",,574,5
openstack%2Fcinder~910481,openstack/cinder,master,Ifd7f5d8acada60d4c4597f40179d4095b8c0dce7,Fujitsu Driver: Add format when deleting volume,NEW,2024-02-28 03:43:49.000000000,2024-06-15 06:34:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-02-28 03:43:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fed8599eb735477c520c01ad373c3360572fc00c', 'message': ""Fujitsu Driver: Add format when deleting volume\n\nIf parameter 'type:delete_with_volume_format' is specified in the\nvolume type when creating a volume, formatting will be performed\nbefore deleting the volume.\n\nChange-Id: Ifd7f5d8acada60d4c4597f40179d4095b8c0dce7\n""}, {'number': 2, 'created': '2024-03-19 06:21:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/26e529904c7a381d75f0040211942bc1ede23873', 'message': ""Fujitsu Driver: Add format when deleting volume\n\nIf parameter 'type:delete_with_volume_format' is specified in the\nvolume type when creating a volume, formatting will be performed\nbefore deleting the volume.\n\nChange-Id: Ifd7f5d8acada60d4c4597f40179d4095b8c0dce7\n""}, {'number': 3, 'created': '2024-05-15 05:35:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dbf83f56869451b296ba3fb367e4f896c5b5c19e', 'message': ""Fujitsu Driver: Add format when deleting volume\n\nIf parameter 'type:delete_with_volume_format' is specified in the\nvolume type when creating a volume, formatting will be performed\nbefore deleting the volume.\n\nChange-Id: Ifd7f5d8acada60d4c4597f40179d4095b8c0dce7\n""}, {'number': 4, 'created': '2024-05-16 02:25:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a3ed718b4710fb62d06441aced3e1fa04ee0af9a', 'message': ""Fujitsu Driver: Add format when deleting volume\n\nIf parameter 'type:delete_with_volume_format' is specified in the\nvolume type when creating a volume, formatting will be performed\nbefore deleting the volume.\n\nChange-Id: Ifd7f5d8acada60d4c4597f40179d4095b8c0dce7\n""}, {'number': 5, 'created': '2024-05-24 09:51:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2ffaaa88a9be5b06a5ed819b395334ceda951858', 'message': ""Fujitsu Driver: Add format when deleting volume\n\nIf parameter 'type:delete_with_volume_format' is specified in the\nvolume type when creating a volume, formatting will be performed\nbefore deleting the volume.\n\nChange-Id: Ifd7f5d8acada60d4c4597f40179d4095b8c0dce7\n""}, {'number': 6, 'created': '2024-05-27 08:31:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6ff73b157e7bc1a800a6e94627644219d6d12c7c', 'message': ""Fujitsu Driver: Add format when deleting volume\n\nIf parameter 'type:delete_with_volume_format' is specified in the\nvolume type when creating a volume, formatting will be performed\nbefore deleting the volume.\n\nChange-Id: Ifd7f5d8acada60d4c4597f40179d4095b8c0dce7\n""}, {'number': 7, 'created': '2024-06-14 06:24:00.000000000', 'files': ['cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_cli.py', 'releasenotes/notes/fujitsu-add-volume-format-40ec9cc8ef9ba8f6.yaml', 'cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'doc/source/configuration/block-storage/drivers/fujitsu-eternus-dx-driver.rst', 'cinder/volume/drivers/fujitsu/eternus_dx/constants.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/524b50ec00cacbf6d490aef72c89f518a2901528', 'message': ""Fujitsu Driver: Add format when deleting volume\n\nIf parameter 'type:delete_with_volume_format' is specified in the\nvolume type when creating a volume, formatting will be performed\nbefore deleting the volume.\n\nChange-Id: Ifd7f5d8acada60d4c4597f40179d4095b8c0dce7\n""}]",19,910481,524b50ec00cacbf6d490aef72c89f518a2901528,122,1,7,33609,,,0,"Fujitsu Driver: Add format when deleting volume

If parameter 'type:delete_with_volume_format' is specified in the
volume type when creating a volume, formatting will be performed
before deleting the volume.

Change-Id: Ifd7f5d8acada60d4c4597f40179d4095b8c0dce7
",git fetch https://review.opendev.org/openstack/cinder refs/changes/81/910481/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_cli.py', 'releasenotes/notes/fujitsu-add-volume-format-40ec9cc8ef9ba8f6.yaml', 'cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'doc/source/configuration/block-storage/drivers/fujitsu-eternus-dx-driver.rst', 'cinder/volume/drivers/fujitsu/eternus_dx/constants.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_utils.py']",7,fed8599eb735477c520c01ad373c3360572fc00c,fujitsu-driver-update,"# Copyright (c) 2023 FUJITSU LIMITED # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # from oslo_log import log as logging from cinder import context from cinder.volume import volume_types LOG = logging.getLogger(__name__) def get_metadata(volume): """"""Get metadata using volume information."""""" LOG.debug('get_metadata, volume id: %s.', volume['id']) d_metadata = {} metadata = volume.get('volume_metadata') # value = {} enters the if branch, value = None enters the else. if metadata: d_metadata = { data['key']: data['value'] for data in metadata } else: metadata = volume.get('metadata') if metadata: d_metadata = { key: metadata[key] for key in metadata } LOG.debug('get_metadata, metadata is: %s.', d_metadata) return d_metadata def get_format_property(volume, format_key): format_in_type = get_extra_specs(volume, key=format_key, default='False') format_in_vol = get_metadata(volume).get(format_key, 'False') if 'true' in [format_in_type.lower(), format_in_vol.lower()]: return True else: return False def get_extra_specs(volume, key=None, default=None): """"""Get extra specs from volume. If key is none, return all extra specs. """""" LOG.debug('get_extra_specs, ' 'volume id: %(v_id)s, ' 'key: %(key)s, ' 'default: %(default)s.', {'v_id': volume['id'], 'key': key, 'default': default}) extra_specs = None ret = default volume_type_id = volume.get('volume_type_id') if volume_type_id: ctxt = context.get_admin_context() volume_type = volume_types.get_volume_type(ctxt, volume_type_id) extra_specs = volume_type.get('extra_specs') if extra_specs: if not key: ret = extra_specs else: ret = extra_specs.get(key, default) LOG.debug('get_extra_specs: %s.', extra_specs) return ret ",,640,61
openstack%2Fcinder~904967,openstack/cinder,master,I0e0753d11a5f9dec1978f0a8956e788b6d3c6324,Fujitsu Driver: Add parameter fujitsu_use_cli_copy,NEW,2024-01-10 03:35:32.000000000,2024-06-15 06:33:26.000000000,,"[{'_account_id': 597}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 29122}, {'_account_id': 32029}]","[{'number': 1, 'created': '2024-01-10 03:35:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6c361c86d1c3b2cd82626611f89c1c93fb7fba56', 'message': 'Fujitsu Driver: Add parameter fujitsu_use_cli_copy\n\nAdd a parameter fujitsu_use_cli_copy.\n\nIf ``fujitsu_use_cli_copy`` is set to ``False``, create a Snapshot\nusing the conventional SMI-S method.\n\nIf ``fujitsu_use_cli_copy`` is set to ``True``, create a Snapshot using\nthe CLI method ""start copy-snap-opc"" with specified ""-source-lba"" and\n""-destination-lba"". ""Copy Scope"" will be set to ""Extent"", allowing\nvolume extension of the source volume.\n\nChange-Id: I0e0753d11a5f9dec1978f0a8956e788b6d3c6324\n'}, {'number': 2, 'created': '2024-01-17 01:49:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7810bf468915dc95043fa90f0f0717ef447968ca', 'message': 'Fujitsu Driver: Add parameter fujitsu_use_cli_copy\n\nAdd a parameter fujitsu_use_cli_copy.\n\nIf ``fujitsu_use_cli_copy`` is set to ``False``, create a Snapshot\nusing the conventional SMI-S method.\n\nIf ``fujitsu_use_cli_copy`` is set to ``True``, create a Snapshot using\nthe CLI method ""start copy-snap-opc"" with specified ""-source-lba"" and\n""-destination-lba"". ""Copy Scope"" will be set to ""Extent"", allowing\nvolume extension of the source volume.\n\nChange-Id: I0e0753d11a5f9dec1978f0a8956e788b6d3c6324\n'}, {'number': 3, 'created': '2024-01-29 05:30:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b73c1f02c8a0fd531bd7ae358b36cb3a496ce8f2', 'message': 'Fujitsu Driver: Add parameter fujitsu_use_cli_copy\n\nAdd a parameter fujitsu_use_cli_copy.\n\nIf ``fujitsu_use_cli_copy`` is set to ``False``, create a Snapshot\nusing the conventional SMI-S method.\n\nIf ``fujitsu_use_cli_copy`` is set to ``True``, create a Snapshot using\nthe CLI method ""start copy-snap-opc"" with specified ""-source-lba"" and\n""-destination-lba"". ""Copy Scope"" will be set to ""Extent"", allowing\nvolume extension of the source volume.\n\nChange-Id: I0e0753d11a5f9dec1978f0a8956e788b6d3c6324\n'}, {'number': 4, 'created': '2024-02-07 08:46:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0093f9c6136bd600120d1c687abf7ab55e97f1d4', 'message': 'Fujitsu Driver: Add parameter fujitsu_use_cli_copy\n\nAdd a parameter fujitsu_use_cli_copy.\n\nIf ``fujitsu_use_cli_copy`` is set to ``False``, create a Snapshot\nusing the conventional SMI-S method.\n\nIf ``fujitsu_use_cli_copy`` is set to ``True``, create a Snapshot using\nthe CLI method ""start copy-snap-opc"" with specified ""-source-lba"" and\n""-destination-lba"". ""Copy Scope"" will be set to ""Extent"", allowing\nvolume extension of the source volume.\n\nChange-Id: I0e0753d11a5f9dec1978f0a8956e788b6d3c6324\n'}, {'number': 5, 'created': '2024-02-14 11:06:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b044e86f547079656765654d43bfa366e8f7a8e3', 'message': 'Fujitsu Driver: Add parameter fujitsu_use_cli_copy\n\nAdd a parameter fujitsu_use_cli_copy.\n\nIf ``fujitsu_use_cli_copy`` is set to ``False``, create a Snapshot\nusing the conventional SMI-S method.\n\nIf ``fujitsu_use_cli_copy`` is set to ``True``, create a Snapshot using\nthe CLI method ""start copy-snap-opc"" with specified ""-source-lba"" and\n""-destination-lba"". ""Copy Scope"" will be set to ""Extent"", allowing\nvolume extension of the source volume.\n\nChange-Id: I0e0753d11a5f9dec1978f0a8956e788b6d3c6324\n'}, {'number': 6, 'created': '2024-04-29 03:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3db8512ca34f4f0304ee6c7556ac9472d37d63be', 'message': 'Fujitsu Driver: Add parameter fujitsu_use_cli_copy\n\nAdd a parameter fujitsu_use_cli_copy.\n\nIf ``fujitsu_use_cli_copy`` is set to ``False``, create a Snapshot\nusing the conventional SMI-S method.\n\nIf ``fujitsu_use_cli_copy`` is set to ``True``, create a Snapshot using\nthe CLI method ""start copy-snap-opc"" with specified ""-source-lba"" and\n""-destination-lba"". ""Copy Scope"" will be set to ""Extent"", allowing\nvolume extension of the source volume.\n\nChange-Id: I0e0753d11a5f9dec1978f0a8956e788b6d3c6324\n'}, {'number': 7, 'created': '2024-06-14 05:56:31.000000000', 'files': ['cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_cli.py', 'releasenotes/notes/fujitsu-add-cli-copy-1647fb54970a186d.yaml', 'cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'doc/source/configuration/block-storage/drivers/fujitsu-eternus-dx-driver.rst', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a50b897459d4bba70f1f76ba2a4b3ef0197bcb10', 'message': 'Fujitsu Driver: Add parameter fujitsu_use_cli_copy\n\nAdd a parameter fujitsu_use_cli_copy.\n\nIf ``fujitsu_use_cli_copy`` is set to ``False``, create a Snapshot\nusing the conventional SMI-S method.\n\nIf ``fujitsu_use_cli_copy`` is set to ``True``, create a Snapshot using\nthe CLI method ""start copy-snap-opc"" with specified ""-source-lba"" and\n""-destination-lba"". ""Copy Scope"" will be set to ""Extent"", allowing\nvolume extension of the source volume.\n\nChange-Id: I0e0753d11a5f9dec1978f0a8956e788b6d3c6324\n'}]",22,904967,a50b897459d4bba70f1f76ba2a4b3ef0197bcb10,160,5,7,33609,,,0,"Fujitsu Driver: Add parameter fujitsu_use_cli_copy

Add a parameter fujitsu_use_cli_copy.

If ``fujitsu_use_cli_copy`` is set to ``False``, create a Snapshot
using the conventional SMI-S method.

If ``fujitsu_use_cli_copy`` is set to ``True``, create a Snapshot using
the CLI method ""start copy-snap-opc"" with specified ""-source-lba"" and
""-destination-lba"". ""Copy Scope"" will be set to ""Extent"", allowing
volume extension of the source volume.

Change-Id: I0e0753d11a5f9dec1978f0a8956e788b6d3c6324
",git fetch https://review.opendev.org/openstack/cinder refs/changes/67/904967/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_cli.py', 'releasenotes/notes/fujitsu-add-cli-copy-1647fb54970a186d.yaml', 'cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py']",4,6c361c86d1c3b2cd82626611f89c1c93fb7fba56,fujitsu-driver-update," cfg.BoolOpt('fujitsu_use_cli_copy', default=False, help='If True use CLI command to create snapshot.'), 1.4.6 - Add parameter fujitsu_use_cli_copy. VERSION = ""1.4.6"" self.use_cli_copy = self.configuration.fujitsu_use_cli_copy LOG.debug('_create_snapshot, ' service_name = (CONSTANTS.REPL if self.model_name != CONSTANTS.DX_S2 else CONSTANTS.STOR_CONF) volume_size = int(float(snapshot['volume']['size'])) * 1024 smis_service = self._find_eternus_service(service_name) msg = (_('_create_snapshot, ' '%(servicename)s not found.') % {'volumename': volumename, 'servicename': service_name}) # Get all pools information on ETERNUS. pools_instance_list = self._find_all_pools_instances(self.conn) # Get the user specified pool name. pool_name_list = self._get_drvcfg('EternusSnapPool', multiple=True) poollen = len(pool_name_list) for i in range(poollen): # Traverse the user specified pool one by one. pool_instances, notfound_poolnames = self._find_pools( [pool_name_list[i]], self.conn, poolinstances_list=pools_instance_list) if pool_instances['pools']: useable = pool_instances['pools'][0]['useable_capacity_mb'] poolname = pool_instances['pools'][0]['pool_name'] istpp = pool_instances['pools'][0]['thin_provisioning_support'] if useable < 24 + volume_size: continue if not istpp: # If it is a RAID group pool, we need to determine # the number of volumes and fragmentation capacity. # The number of raid pool volumes cannot exceed 128. # The minimum space required for snapshot is 24MB. fragment = pool_instances['pools'][0][ 'fragment_capacity_mb'] volcnt = pool_instances['pools'][0]['total_volumes'] if volcnt >= 128 or fragment < 24 + volume_size: LOG.debug('_create_volume, The pool: %(poolname)s ' 'can not create volume. ' 'Volume Count: %(volcnt)s, ' 'Maximum fragment capacity: %(frag)s.', {'poolname': poolname, 'volcnt': volcnt, 'frag': fragment}) continue pool_instance = pool_instances['pools'][0] eternus_pool = pool_instance['pool_name'] pool = pool_instance['path'] if 'RSP' in pool['InstanceID']: pooltype = CONSTANTS.RAIDGROUP else: pooltype = CONSTANTS.TPPOOL if self.use_cli_copy is False: LOG.debug('_create_snapshot, ' 'snapshotname: %(snapshotname)s, ' 'source volume name: %(volumename)s, ' 'vol_instance.path: %(vol_instance)s, ' 'dest_volumename: %(d_volumename)s, ' 'pool: %(pool)s, ' 'Invoke CreateElementReplica.', {'snapshotname': snapshotname, 'volumename': volumename, 'vol_instance': vol_instance.path, 'd_volumename': d_volumename, 'pool': eternus_pool}) if self.model_name != CONSTANTS.DX_S2: smis_method = 'CreateElementReplica' params = { 'ElementName': d_volumename, 'TargetPool': pool, 'SyncType': self._pywbem_uint(7, '16'), 'SourceElement': vol_instance.path } else: smis_method = 'CreateReplica' params = { 'ElementName': d_volumename, 'TargetPool': pool, 'CopyType': self._pywbem_uint(4, '16'), 'SourceElement': vol_instance.path } # Invoke method for create snapshot. rc, errordesc, job = self._exec_eternus_service( smis_method, smis_service, **params) if rc != 0: LOG.warning('_create_snapshot, ' 'snapshotname: %(snapshotname)s, ' 'source volume name: %(volumename)s, ' 'vol_instance.path: %(vol_instance)s, ' 'dest volume name: %(d_volumename)s, ' 'pool: %(pool)s, Return code: %(rc)lu, ' 'Error: %(errordesc)s.', {'snapshotname': snapshotname, 'volumename': volumename, 'vol_instance': vol_instance.path, 'd_volumename': d_volumename, 'pool': eternus_pool, 'rc': rc, 'errordesc': errordesc}) continue else: element = job['TargetElement'] d_volume_no = self._get_volume_number(element) break else: if pooltype == CONSTANTS.RAIDGROUP: LOG.warning('_create_snapshot, ' 'Can not create SDV by SMI-S.') continue configservice = self._find_eternus_service( CONSTANTS.STOR_CONF) vol_size = int( float(snapshot['volume']['size'])) * units.Gi LOG.debug('_create_snapshot, ' 'CreateOrModifyElementFromStoragePool, ' 'ConfigService: %(service)s, ' 'ElementName: %(volumename)s, ' 'InPool: %(eternus_pool)s, ' 'ElementType: %(pooltype)u, ' 'Size: %(volumesize)u.', {'service': configservice, 'volumename': d_volumename, 'eternus_pool': pool, 'pooltype': pooltype, 'volumesize': vol_size}) # Invoke method for create volume. rc, errordesc, job = self._exec_eternus_service( 'CreateOrModifyElementFromStoragePool', configservice, ElementName=d_volumename, InPool=pool, ElementType=self._pywbem_uint(pooltype, '16'), Size=self._pywbem_uint(vol_size, '64')) if rc == 32769: LOG.warning('_create_snapshot, raid pool: %s. Maximum ' 'number of Logical Volume in a RAID group ' 'has been reached. Try other pool.', pool) continue elif rc != 0: msg = (_('_create_volume, ' 'volumename: %(volumename)s, ' 'poolname: %(eternus_pool)s, ' 'Return code: %(rc)lu, ' 'Error: %(errordesc)s.') % {'volumename': volumename, 'eternus_pool': pool, 'rc': rc, 'errordesc': errordesc}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) else: element = job['TheElement'] d_volume_no = self._get_volume_number(element) volume_no = self._get_volume_number(vol_instance) volume_lba = int(vol_size / 512) param_dict = ( {'mode': 'normal', 'source-volume-number': int(volume_no, 16), 'destination-volume-number': int(d_volume_no, 16), 'source-lba': 0, 'destination-lba': 0, 'size': volume_lba}) rc, emsg, clidata = self._exec_eternus_cli( 'start_copy_snap_opc', **param_dict) if rc != 0: msg = (_('_create_snapshot, ' 'create_volume failed. ' 'Return code: %(rc)lu, ' 'Error: %(errormsg)s, ' 'Message: %(clidata)s.') % {'rc': rc, 'errormsg': emsg, 'clidata': clidata}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) break else: if notfound_poolnames: LOG.warning('_create_snapshot, ' 'pool names: %(notfound_poolnames)s ' 'are not found.', {'notfound_poolnames': notfound_poolnames}) else: # It means that all raid pools do not meet # the volume limit (<128), and the creation request of # this volume will be rejected. # If there is a thin pool available, it will not enter this branch. msg = (_('_create_snapshot, volume id: %(sid)s, ' 'All pools cannot create this volume.') % {'sid': snapshot['id']}) metadata = { 'FJ_SDV_Name': d_volumename, 'FJ_SDV_No': d_volume_no, 'FJ_Pool_Name': eternus_pool, 'FJ_Pool_Type': pooltype } def _find_pools(self, poolname_list, conn, poolinstances_list=None): if not poolinstances_list: poollist = self._find_all_pools_instances(conn) is_create = False else: poollist = poolinstances_list is_create = True if is_create: single_pool['useable_capacity_mb'] = \ pool['useable_capacity_mb']"," VERSION = ""1.4.5"" LOG.debug('create_snapshot, ' self.conn = self._get_eternus_connection() s_volumename = self._get_volume_name(volume) smis_service = self._find_eternus_service(CONSTANTS.REPL) # Check the existence of volume. if not vol_instance: # Volume not found on ETERNUS. msg = (_('create_snapshot, ' 'volumename: %(s_volumename)s, ' 'source volume not found on ETERNUS.') % {'s_volumename': s_volumename}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) msg = (_('create_snapshot, ' 'Replication Service not found.') % {'volumename': volumename}) # Get poolname from driver configuration file. eternus_pool = self._get_drvcfg('EternusSnapPool') # Check the existence of pool pool = self._find_pool(eternus_pool) if not pool: msg = (_('create_snapshot, ' 'eternus_pool: %(eternus_pool)s, ' 'pool not found.') % {'eternus_pool': eternus_pool}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) LOG.debug('create_snapshot, ' 'snapshotname: %(snapshotname)s, ' 'source volume name: %(volumename)s, ' 'vol_instance.path: %(vol_instance)s, ' 'dest_volumename: %(d_volumename)s, ' 'pool: %(pool)s, ' 'Invoke CreateElementReplica.', {'snapshotname': snapshotname, 'volumename': volumename, 'vol_instance': vol_instance.path, 'd_volumename': d_volumename, 'pool': pool}) if self.model_name != CONSTANTS.DX_S2: smis_method = 'CreateElementReplica' params = { 'ElementName': d_volumename, 'TargetPool': pool, 'SyncType': self._pywbem_uint(7, '16'), 'SourceElement': vol_instance.path } else: smis_method = 'CreateReplica' params = { 'ElementName': d_volumename, 'TargetPool': pool, 'CopyType': self._pywbem_uint(4, '16'), 'SourceElement': vol_instance.path } # Invoke method for create snapshot rc, errordesc, job = self._exec_eternus_service( smis_method, smis_service, **params) if rc != 0: msg = (_('create_snapshot, ' 'snapshotname: %(snapshotname)s, ' 'source volume name: %(volumename)s, ' 'vol_instance.path: %(vol_instance)s, ' 'dest volume name: %(d_volumename)s, ' 'pool: %(pool)s, ' 'Return code: %(rc)lu, ' 'Error: %(errordesc)s.') % {'snapshotname': snapshotname, 'volumename': volumename, 'vol_instance': vol_instance.path, 'd_volumename': d_volumename, 'pool': pool, 'rc': rc, 'errordesc': errordesc}) else: element = job['TargetElement'] d_volume_no = self._get_volume_number(element) LOG.debug('create_snapshot, ' 'volumename:%(volumename)s, ' 'Return code:%(rc)lu, ' 'Error:%(errordesc)s.', {'volumename': volumename, 'rc': rc, 'errordesc': errordesc}) metadata = {'FJ_SDV_Name': d_volumename, 'FJ_SDV_No': d_volume_no, 'FJ_Pool_Name': eternus_pool} def _find_pools(self, poolname_list, conn): poollist = self._find_all_pools_instances(conn)",277,94
openstack%2Fnova~906155,openstack/nova,stable/2023.2,If31158e3269e5e06848c29294fdaa147beedb5a5,[ironic] Partition & use cache for list_instance*,NEW,2024-01-19 21:11:58.000000000,2024-06-15 04:47:11.000000000,,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-01-19 21:11:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5130a38bcca3208c76b24cc566c34ce5f9f7426c', 'message': ""[ironic] Partition & use cache for list_instance*\n\nlist_instances and list_instance_uuids, as written in the Ironic driver,\ndo not currently respect conductor_group paritioning. Given a nova\ncompute is intended to limit it's scope of work to the conductor group\nit is configured to work with; this is a bug.\n\nAdditionally, this should be a significant performance boost for a\ncouple of reasons; firstly, instead of calling the Ironic API and\ngetting all nodes, instead of the subset (when using conductor group),\nwe're now properly getting the subset of nodes -- this is the optimized\npath in the Ironic DB and API code. Secondly, we're now using the\ndriver's node cache to respond to these requests. Since list_instances\nand list_instance_uuids is used by periodic tasks, these operating with\ndata that may be slightly stale should have minimal impact compared to\nthe performance benefits.\n\nCloses-bug: #2043036\nChange-Id: If31158e3269e5e06848c29294fdaa147beedb5a5\n(cherry picked from commit fa3cf7d50cba921ea67eb161e6a199067ea62deb)\n""}, {'number': 2, 'created': '2024-04-10 09:51:19.000000000', 'files': ['nova/virt/ironic/driver.py', 'releasenotes/notes/ironic-list-instance-respect-partition-key-339ff653eaa00753.yaml', 'nova/tests/unit/virt/ironic/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/555d7d0ad02d31476e2d751aa52be4087878f1a2', 'message': ""[ironic] Partition & use cache for list_instance*\n\nlist_instances and list_instance_uuids, as written in the Ironic driver,\ndo not currently respect conductor_group paritioning. Given a nova\ncompute is intended to limit it's scope of work to the conductor group\nit is configured to work with; this is a bug.\n\nAdditionally, this should be a significant performance boost for a\ncouple of reasons; firstly, instead of calling the Ironic API and\ngetting all nodes, instead of the subset (when using conductor group),\nwe're now properly getting the subset of nodes -- this is the optimized\npath in the Ironic DB and API code. Secondly, we're now using the\ndriver's node cache to respond to these requests. Since list_instances\nand list_instance_uuids is used by periodic tasks, these operating with\ndata that may be slightly stale should have minimal impact compared to\nthe performance benefits.\n\nConflicts:\n  nova/tests/unit/virt/ironic/test_driver.py\n  nova/virt/ironic/driver.py\n\nNOTE(elod.illes): conflict is caused by openstacksdk related feature\npatch (I9fb5a385487f601329bccc9efde325d86be397b6) which was merged in\ndevelopment branch (2024.1 Caracal), hence it does not exist in 2023.2.\n\nCloses-bug: #2043036\nChange-Id: If31158e3269e5e06848c29294fdaa147beedb5a5\n(cherry picked from commit fa3cf7d50cba921ea67eb161e6a199067ea62deb)\n""}]",7,906155,555d7d0ad02d31476e2d751aa52be4087878f1a2,14,5,2,10342,,,0,"[ironic] Partition & use cache for list_instance*

list_instances and list_instance_uuids, as written in the Ironic driver,
do not currently respect conductor_group paritioning. Given a nova
compute is intended to limit it's scope of work to the conductor group
it is configured to work with; this is a bug.

Additionally, this should be a significant performance boost for a
couple of reasons; firstly, instead of calling the Ironic API and
getting all nodes, instead of the subset (when using conductor group),
we're now properly getting the subset of nodes -- this is the optimized
path in the Ironic DB and API code. Secondly, we're now using the
driver's node cache to respond to these requests. Since list_instances
and list_instance_uuids is used by periodic tasks, these operating with
data that may be slightly stale should have minimal impact compared to
the performance benefits.

Conflicts:
  nova/tests/unit/virt/ironic/test_driver.py
  nova/virt/ironic/driver.py

NOTE(elod.illes): conflict is caused by openstacksdk related feature
patch (I9fb5a385487f601329bccc9efde325d86be397b6) which was merged in
development branch (2024.1 Caracal), hence it does not exist in 2023.2.

Closes-bug: #2043036
Change-Id: If31158e3269e5e06848c29294fdaa147beedb5a5
(cherry picked from commit fa3cf7d50cba921ea67eb161e6a199067ea62deb)
",git fetch https://review.opendev.org/openstack/nova refs/changes/55/906155/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/ironic/driver.py', 'releasenotes/notes/ironic-list-instance-respect-partition-key-339ff653eaa00753.yaml', 'nova/tests/unit/virt/ironic/test_driver.py']",3,5130a38bcca3208c76b24cc566c34ce5f9f7426c,bug/2043036," nodes = {} node_uuid = uuidutils.generate_uuid() nodes[node_uuid] = ironic_utils.get_test_node( id=node_uuid, instance_id=uuid, fields=('instance_id',)) self.driver.node_cache = nodes @mock.patch.object(ironic_driver.IronicDriver, '_refresh_cache') def test_list_instances_fail(self, mock_inst_by_uuid, mock_cache): mock_cache.side_effect = exception.VirtDriverNotReady nodes = {} for n in range(num_nodes): node_uuid = uuidutils.generate_uuid() instance_uuid = uuidutils.generate_uuid() nodes[instance_uuid] = ironic_utils.get_test_node( id=node_uuid, instance_id=instance_uuid, fields=('instance_id',)) self.driver.node_cache = nodes instance_uuids = self.driver.list_instance_uuids() expected = nodes.keys() self.assertEqual(sorted(expected), sorted(instance_uuids)) @mock.patch.object(ironic_driver.IronicDriver, '_refresh_cache') def test_list_instance_uuids_fail(self, mock_cache): mock_cache.side_effect = exception.VirtDriverNotReady self.assertRaises(exception.VirtDriverNotReady, self.driver.list_instance_uuids)"," nodes = [] nodes.append(ironic_utils.get_test_node(instance_id=uuid, fields=['instance_id'])) self.mock_conn.nodes.return_value = iter(nodes) self.mock_conn.nodes.assert_called_with(associated=True, fields=['instance_uuid']) # NOTE(dustinc) This test ensures we use instance_uuid not instance_id in # 'fields' when calling ironic. def test_list_instances_uses_instance_uuid(self, mock_inst_by_uuid): self.driver.list_instances() self.mock_conn.nodes.assert_called_with(associated=True, fields=['instance_uuid']) @mock.patch.object(objects.Instance, 'get_by_uuid') def test_list_instances_fail(self, mock_inst_by_uuid): self.mock_conn.nodes.side_effect = exception.NovaException self.mock_conn.nodes.assert_called_with(associated=True, fields=['instance_uuid']) nodes = [] for n in range(num_nodes): nodes.append(ironic_utils.get_test_node( instance_id=uuidutils.generate_uuid(), fields=['instance_id'])) self.mock_conn.nodes.return_value = iter(nodes) uuids = self.driver.list_instance_uuids() self.mock_conn.nodes.assert_called_with(associated=True, fields=['instance_uuid']) expected = [n.instance_id for n in nodes] self.assertEqual(sorted(expected), sorted(uuids)) # NOTE(dustinc) This test ensures we use instance_uuid not instance_id in # 'fields' when calling ironic. @mock.patch.object(objects.Instance, 'get_by_uuid') def test_list_instance_uuids_uses_instance_uuid(self, mock_inst_by_uuid): self.driver.list_instance_uuids() self.mock_conn.nodes.assert_called_with(associated=True, fields=['instance_uuid'])",52,47
openstack%2Fnova~915733,openstack/nova,master,I4106cfa2a09d135f12892ed6d1f42f4151dc72e4,api: Add request body schemas for SG APIs,NEW,2024-04-12 16:05:57.000000000,2024-06-15 04:31:30.000000000,,"[{'_account_id': 8556}, {'_account_id': 11604}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-12 16:05:57.000000000', 'files': ['nova/network/security_group_api.py', 'nova/api/openstack/compute/security_groups.py', 'nova/api/openstack/compute/schemas/security_groups.py', 'nova/tests/unit/network/test_security_group.py', 'nova/api/openstack/compute/schemas/security_group_default_rules.py', 'nova/api/openstack/compute/security_group_default_rules.py', 'nova/tests/unit/api/openstack/compute/test_security_groups.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c3fb1eaf374a30c104068bf0d5bccbb33b0ec312', 'message': ""api: Add request body schemas for SG APIs\n\nThese are deprecated but there's value in having a proper - if loose -\nschema in place for API documentation purposes. Also, doing things this\nway allows us to remove a whole load of hand-rolled stuff.\n\nChange-Id: I4106cfa2a09d135f12892ed6d1f42f4151dc72e4\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",13,915733,c3fb1eaf374a30c104068bf0d5bccbb33b0ec312,8,4,1,15334,,,0,"api: Add request body schemas for SG APIs

These are deprecated but there's value in having a proper - if loose -
schema in place for API documentation purposes. Also, doing things this
way allows us to remove a whole load of hand-rolled stuff.

Change-Id: I4106cfa2a09d135f12892ed6d1f42f4151dc72e4
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/915733/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/security_group_api.py', 'nova/api/openstack/compute/security_groups.py', 'nova/api/openstack/compute/schemas/security_groups.py', 'nova/tests/unit/network/test_security_group.py', 'nova/api/openstack/compute/schemas/security_group_default_rules.py', 'nova/api/openstack/compute/security_group_default_rules.py', 'nova/tests/unit/api/openstack/compute/test_security_groups.py']",7,c3fb1eaf374a30c104068bf0d5bccbb33b0ec312,openapi," rule.setdefault('parent_group_id', uuids.parent_group_id) res_dict = self.controller.create( self.req, body={'security_group': sg}) self.assertRaises( exception.ValidationError, self.controller.create, self.req, body={'security_group': sg}) self.assertRaises( exception.ValidationError, self.controller.create, self.req, body=None) self.assertRaises( exception.ValidationError, self.controller.create, self.req, body=body) self.assertRaises( exception.ValidationError, self.controller.create, self.req, body={'security_group': sg}) self.assertRaises( nova.exception.ValidationError, self.controller.create, self.req, body={'security_group': sg}) rule1 = security_group_rule_template( cidr='10.2.3.124/24', parent_group_id=uuids.parent_group_id, group_id={}, id=88, protocol='TCP') rule2 = security_group_rule_template( cidr='10.2.3.125/24', parent_group_id=uuids.parent_group_id, id=99, protocol=88, group_id='HAS_BEEN_DELETED') ip_range={'cidr': '10.2.3.124/24'}, parent_group_id=uuids.parent_group_id, self.req, '1', body={'security_group': sg}) res_dict = self.controller.create( self.req, body={'security_group_rule': rule}) res_dict = self.controller.create( self.req, body={'security_group_rule': rule}) res_dict = self.controller.create( self.req, body={'security_group_rule': rule2}) res_dict = self.controller.create( self.req, body={'security_group_rule': rule}) res_dict = self.controller.create( self.req, body={'security_group_rule': rule}) res_dict = self.controller.create( self.req, body={'security_group_rule': rule}) self.assertRaises( webob.exc.HTTPBadRequest, self.controller.create, self.req, body={'security_group_rule': rule}) self.assertRaises( webob.exc.HTTPBadRequest, self.controller.create, self.req, body={'security_group_rule': rule}) self.assertRaises( webob.exc.HTTPBadRequest, self.controller.create, self.req, body={'security_group_rule': rule}) self.controller_sg.create(req, body={'security_group': sg}) self.controller.create(req, body={'security_group_rule': rule}) self.assertRaises( webob.exc.HTTPBadRequest, self.controller.create, req, body={'security_group_rule': rule}) self.controller_sg.create(req, body={'security_group': sg}) self.controller.create(req, body={'security_group_rule': rule}) self.assertRaises( webob.exc.HTTPBadRequest, self.controller.create, req, body={'security_group_rule': rule}) self.assertRaises( exception.ValidationError, self.controller.create, self.req, body=None) self.assertRaises( exception.ValidationError, self.controller.create, self.req, body=rules) self.assertRaises( exception.ValidationError, self.controller.create, self.req, body={'security_group_rule': rule}) self.assertRaises( webob.exc.HTTPNotFound, self.controller.create, self.req, body={'security_group_rule': rule}) self.assertRaises( webob.exc.HTTPNotFound, self.controller.create, self.req, body={'security_group_rule': rule}) self.assertRaises( webob.exc.HTTPBadRequest, self.controller.create, self.req, body={'security_group_rule': rule}) self.assertRaises( webob.exc.HTTPBadRequest, self.controller.create, self.req, body={'security_group_rule': rule}) self.assertRaises( webob.exc.HTTPBadRequest, self.controller.create, self.req, body={'security_group_rule': rule}) self.assertRaises( webob.exc.HTTPBadRequest, self.controller.create, self.req, body={'security_group_rule': rule}) self.assertRaises( webob.exc.HTTPBadRequest, self.controller.create, self.req, body={'security_group_rule': rule}) self.assertRaises( webob.exc.HTTPBadRequest, self.controller.create, self.req, body={'security_group_rule': rule}) self.assertRaises( webob.exc.HTTPBadRequest, self.controller.create, self.req, body={'security_group_rule': rule}) self.assertRaises( webob.exc.HTTPBadRequest, self.controller.create, self.req, body={'security_group_rule': rule}) self.assertRaises( webob.exc.HTTPBadRequest, self.controller.create, self.req, body={'security_group_rule': rule}) res_dict = self.controller.create( self.req, body={'security_group_rule': rule}) self.assertRaises( webob.exc.HTTPNotFound, self.controller.create, self.req, body={'security_group_rule': rule}) self.assertRaises( webob.exc.HTTPNotFound, self.controller.create, self.req, body={'security_group_rule': rule}) self.assertRaises( webob.exc.HTTPNotFound, self.controller.create, self.req, body={'security_group_rule': rule}) res_dict = self.controller.create( self.req, body={'security_group_rule': rule}) self.assertRaises( webob.exc.HTTPBadRequest, self.controller.create, self.req, body={'security_group_rule': rule}) res_dict = self.controller.create( self.req, body={'security_group_rule': rule}) res_dict = self.controller.create( self.req, body={'security_group_rule': rule}) res_dict = self.controller.create( req, body={'security_group_rule': rule}) res_dict = self.controller.create( self.req, body={'security_group_rule': rule}) res_dict = self.controller.create( self.req, body={'security_group_rule': rule}) res_dict = self.controller.create( self.req, body={'security_group_rule': rule}) self.assertRaises( webob.exc.HTTPNotFound, self.controller.create, self.req, body={'security_group_rule': rule}) self.controller.create(req, body={'security_group': sg}) self.controller.create(req, body={'security_group': sg}) self.controller.update, self.req, fakes.FAKE_UUID, body={}) self.controller.create, self.req, body={}) self.controller.create, self.req, body={})"," rule.setdefault('parent_group_id', 2) res_dict = self.controller.create(self.req, {'security_group': sg}) self.assertRaises(webob.exc.HTTPBadRequest, self.controller.create, self.req, {'security_group': sg}) self.assertRaises(webob.exc.HTTPBadRequest, self.controller.create, self.req, None) self.assertRaises(webob.exc.HTTPBadRequest, self.controller.create, self.req, body) self.assertRaises(webob.exc.HTTPBadRequest, self.controller.create, self.req, {'security_group': sg}) self.assertRaises(webob.exc.HTTPBadRequest, self.controller.create, self.req, {'security_group': sg}) rule1 = security_group_rule_template(cidr='10.2.3.124/24', parent_group_id=1, group_id={}, id=88, protocol='TCP') rule2 = security_group_rule_template(cidr='10.2.3.125/24', parent_group_id=1, id=99, protocol=88, group_id='HAS_BEEN_DELETED') ip_range={'cidr': '10.2.3.124/24'}, parent_group_id=1, self.req, '1', {'security_group': sg}) res_dict = self.controller.create(self.req, {'security_group_rule': rule}) res_dict = self.controller.create(self.req, {'security_group_rule': rule}) res_dict = self.controller.create(self.req, {'security_group_rule': rule2}) res_dict = self.controller.create(self.req, {'security_group_rule': rule}) res_dict = self.controller.create(self.req, {'security_group_rule': rule}) res_dict = self.controller.create(self.req, {'security_group_rule': rule}) self.assertRaises(webob.exc.HTTPBadRequest, self.controller.create, self.req, {'security_group_rule': rule}) self.assertRaises(webob.exc.HTTPBadRequest, self.controller.create, self.req, {'security_group_rule': rule}) self.assertRaises(webob.exc.HTTPBadRequest, self.controller.create, self.req, {'security_group_rule': rule}) self.controller_sg.create(req, {'security_group': sg}) self.controller.create(req, {'security_group_rule': rule}) self.assertRaises(webob.exc.HTTPBadRequest, self.controller.create, req, {'security_group_rule': rule}) self.controller_sg.create(req, {'security_group': sg}) self.controller.create(req, {'security_group_rule': rule}) self.assertRaises(webob.exc.HTTPBadRequest, self.controller.create, req, {'security_group_rule': rule}) self.assertRaises(webob.exc.HTTPBadRequest, self.controller.create, self.req, None) self.assertRaises(webob.exc.HTTPBadRequest, self.controller.create, self.req, rules) self.assertRaises(webob.exc.HTTPBadRequest, self.controller.create, self.req, {'security_group_rule': rule}) self.assertRaises(webob.exc.HTTPNotFound, self.controller.create, self.req, {'security_group_rule': rule}) self.assertRaises(webob.exc.HTTPBadRequest, self.controller.create, self.req, {'security_group_rule': rule}) self.assertRaises(webob.exc.HTTPBadRequest, self.controller.create, self.req, {'security_group_rule': rule}) self.assertRaises(webob.exc.HTTPBadRequest, self.controller.create, self.req, {'security_group_rule': rule}) self.assertRaises(webob.exc.HTTPBadRequest, self.controller.create, self.req, {'security_group_rule': rule}) self.assertRaises(webob.exc.HTTPBadRequest, self.controller.create, self.req, {'security_group_rule': rule}) self.assertRaises(webob.exc.HTTPBadRequest, self.controller.create, self.req, {'security_group_rule': rule}) self.assertRaises(webob.exc.HTTPBadRequest, self.controller.create, self.req, {'security_group_rule': rule}) self.assertRaises(webob.exc.HTTPBadRequest, self.controller.create, self.req, {'security_group_rule': rule}) self.assertRaises(webob.exc.HTTPBadRequest, self.controller.create, self.req, {'security_group_rule': rule}) self.assertRaises(webob.exc.HTTPBadRequest, self.controller.create, self.req, {'security_group_rule': rule}) res_dict = self.controller.create(self.req, {'security_group_rule': rule}) self.assertRaises(webob.exc.HTTPBadRequest, self.controller.create, self.req, {'security_group_rule': rule}) self.assertRaises(webob.exc.HTTPBadRequest, self.controller.create, self.req, {'security_group_rule': rule}) self.assertRaises(webob.exc.HTTPNotFound, self.controller.create, self.req, {'security_group_rule': rule}) res_dict = self.controller.create(self.req, {'security_group_rule': rule}) self.assertRaises(webob.exc.HTTPBadRequest, self.controller.create, self.req, {'security_group_rule': rule}) res_dict = self.controller.create(self.req, {'security_group_rule': rule}) res_dict = self.controller.create(self.req, {'security_group_rule': rule}) res_dict = self.controller.create(req, {'security_group_rule': rule}) res_dict = self.controller.create(self.req, {'security_group_rule': rule}) res_dict = self.controller.create(self.req, {'security_group_rule': rule}) res_dict = self.controller.create(self.req, {'security_group_rule': rule}) self.assertRaises(webob.exc.HTTPBadRequest, self.controller.create, self.req, {'security_group_rule': rule}) self.controller.create(req, {'security_group': sg}) self.controller.create(req, {'security_group': sg}) self.controller.update, self.req, fakes.FAKE_UUID, {}) self.controller.create, self.req, {}) self.controller.create, self.req, {})",233,159
openstack%2Fcinder~907128,openstack/cinder,master,I2b0c9499131478d69d62f8dc9b4a75d16a96bc50,Fujitsu Driver: Add HTTPS support,NEW,2024-01-31 08:23:19.000000000,2024-06-15 04:11:43.000000000,,"[{'_account_id': 4523}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-01-31 08:23:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6637fd768d8ab05f5b59ac6496eeefaa8082852e', 'message': 'Fujitsu Driver: Add HTTPS support\n\nAdded supported for HTTPS connection when connecting to storage using\nSMI-S.\n\nChange-Id: I2b0c9499131478d69d62f8dc9b4a75d16a96bc50\n'}, {'number': 2, 'created': '2024-02-18 07:57:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1f3c4ecc410a43dcd893658c192ef5219da23477', 'message': 'Fujitsu Driver: Add HTTPS support\n\nAdded supported for HTTPS connection when connecting to storage using\nSMI-S.\n\nChange-Id: I2b0c9499131478d69d62f8dc9b4a75d16a96bc50\n'}, {'number': 3, 'created': '2024-03-19 06:13:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/41490f6bf38dcb663d5303ecd852546a936b791b', 'message': 'Fujitsu Driver: Add HTTPS support\n\nAdded supported for HTTPS connection when connecting to storage using\nSMI-S.\n\nChange-Id: I2b0c9499131478d69d62f8dc9b4a75d16a96bc50\n'}, {'number': 4, 'created': '2024-05-09 03:02:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/db205b51bfc67efc5cede8f55dd71901b9924c3b', 'message': 'Fujitsu Driver: Add HTTPS support\n\nAdded supported for HTTPS connection when connecting to storage using\nSMI-S.\n\nChange-Id: I2b0c9499131478d69d62f8dc9b4a75d16a96bc50\n'}, {'number': 5, 'created': '2024-05-24 07:51:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/36a89221486fb3304fde0df831834168c6379114', 'message': 'Fujitsu Driver: Add HTTPS support\n\nAdded supported for HTTPS connection when connecting to storage using\nSMI-S.\n\nChange-Id: I2b0c9499131478d69d62f8dc9b4a75d16a96bc50\n'}, {'number': 6, 'created': '2024-05-27 04:08:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/66f1d24ec2b9da393dc1bccda91b681b59559c73', 'message': 'Fujitsu Driver: Add HTTPS support\n\nAdded supported for HTTPS connection when connecting to storage using\nSMI-S.\n\nChange-Id: I2b0c9499131478d69d62f8dc9b4a75d16a96bc50\n'}, {'number': 7, 'created': '2024-06-14 06:08:16.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'releasenotes/notes/fujitsu-add-https-support-edebc39c0a870840.yaml', 'doc/source/configuration/block-storage/drivers/fujitsu-eternus-dx-driver.rst', 'cinder/volume/drivers/fujitsu/eternus_dx/constants.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a8a482365af9099f28d397524ec3856dd53969f0', 'message': 'Fujitsu Driver: Add HTTPS support\n\nAdded supported for HTTPS connection when connecting to storage using\nSMI-S.\n\nChange-Id: I2b0c9499131478d69d62f8dc9b4a75d16a96bc50\n'}]",9,907128,a8a482365af9099f28d397524ec3856dd53969f0,137,2,7,33609,,,0,"Fujitsu Driver: Add HTTPS support

Added supported for HTTPS connection when connecting to storage using
SMI-S.

Change-Id: I2b0c9499131478d69d62f8dc9b4a75d16a96bc50
",git fetch https://review.opendev.org/openstack/cinder refs/changes/28/907128/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'releasenotes/notes/fujitsu-add-https-support-edebc39c0a870840.yaml', 'doc/source/configuration/block-storage/drivers/fujitsu-eternus-dx-driver.rst', 'cinder/volume/drivers/fujitsu/eternus_dx/constants.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py']",5,6637fd768d8ab05f5b59ac6496eeefaa8082852e,fujitsu-driver-update,"import os cfg.BoolOpt('fujitsu_two_way_authentication', default=False, help='If True use two way authentication, ' 'If False use one way authentication.'), cfg.StrOpt('fujitsu_ca_certs_path', default='/etc/pki/tls/certs/ca-bundle.trust.crt', help='CA certification file of SSL.'), cfg.BoolOpt('fujitsu_ssl_verification', default=False, help='If True do verification ' 'If False do not verification'), 1.4.10 - Add HTTPS support. VERSION = ""1.4.10"" password = self._get_drvcfg('EternusPassword', filename) if port == str(CONSTANTS.HTTPS_PORT): LOG.debug('_get_eternus_connection, https.') url = 'https://' + ip + ':' + port two_way_authentication = self.configuration.\ fujitsu_two_way_authentication if two_way_authentication: key_file = self.configuration.driver_client_cert_key cert_file = self.configuration.driver_client_cert key_file_exists = os.path.exists(key_file) cert_file_exists = os.path.exists(cert_file) ca_certs_file = self.configuration.fujitsu_ca_certs_path ca_certs_file_exists = os.path.exists(ca_certs_file) no_verification = not bool( self.configuration.fujitsu_ssl_verification) if not ca_certs_file_exists and not no_verification: msg = _('need verification but no ca_certs_file, Error.') LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) if not two_way_authentication: try: conn = pywbem.WBEMConnection( url, (user, password), default_namespace='root/eternus', ca_certs=ca_certs_file, no_verification=no_verification) except TypeError: conn = pywbem.WBEMConnection( url, (user, password), default_namespace='root/eternus') msg = _('pywbem version has no no_verification parameter, ' 'This version must verify the certification, ' 'and CA certification file path is: /etc/pki/' 'ca-trust/extracted/openssl/ca-bundle.trust.crt.') LOG.warning(msg) else: if not (key_file_exists and cert_file_exists): msg = (_('_get_eternus_connection, ' 'key file: %(key_file)s ' 'or certification file: %(cert_file)s ' 'does not exist!!') % {'key_file': key_file, 'cert_file': cert_file}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) try: conn = pywbem.WBEMConnection( url, (user, password), default_namespace='root/eternus', x509={ ""key_file"": key_file, ""cert_file"": cert_file }, ca_certs=ca_certs_file, no_verification=no_verification) except TypeError: msg = _('pywbem version is not compatible, Error.') LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) elif port == str(CONSTANTS.HTTP_PORT): LOG.debug('_get_eternus_connection, http.') url = 'http://' + ip + ':' + port conn = pywbem.WBEMConnection(url, (user, password), default_namespace='root/eternus') else: msg = (_('_get_eternus_connection, ' 'port: %(port)s ' 'does not support!! ' 'Please edit driver configuration file.') % {'port': port}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) if not conn:"," VERSION = ""1.4.9"" passwd = self._get_drvcfg('EternusPassword', filename) url = 'http://' + ip + ':' + port conn = pywbem.WBEMConnection(url, (user, passwd), default_namespace='root/eternus') if conn is None:",301,17
openstack%2Fmanila~921843,openstack/manila,master,Ifda8c0b179763fe0884ef3845b6836be861ca6a8,Dell PowerFlex: Set default value for port config,NEW,2024-06-12 10:12:23.000000000,2024-06-15 04:03:26.000000000,,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30025}, {'_account_id': 33728}]","[{'number': 1, 'created': '2024-06-12 10:12:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/14d7adf5b2b967fec9b15da0fa8aa3096c954014', 'message': 'Dell PowerFlex Driver: Added default port value\nfor the dell PowerFlex NAS backend\n\nCloses-Bug: #2066840\nChange-Id: Ifda8c0b179763fe0884ef3845b6836be861ca6a8\n'}, {'number': 2, 'created': '2024-06-13 03:20:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ccd50211232cf611fe9aa66183d06c8073fd8e27', 'message': 'Dell PowerFlex: Set default value for port config\n\nAdded default port value for the Dell PowerFlex\nNAS backend\n\nCloses-Bug: #2066840\nChange-Id: Ifda8c0b179763fe0884ef3845b6836be861ca6a8\n'}, {'number': 3, 'created': '2024-06-13 06:02:32.000000000', 'files': ['releasenotes/notes/bug-2066840-dell-powerflex-default-port-fc50b82979e3b11b.yaml', 'manila/tests/share/drivers/dell_emc/plugins/powerflex/test_connection.py', 'manila/share/drivers/dell_emc/plugins/powerflex/connection.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/d7f7b6312a3529f6f23cc541114594308f85e1af', 'message': 'Dell PowerFlex: Set default value for port config\n\nAdded default port value for the Dell PowerFlex\nNAS backend\n\nCloses-Bug: #2066840\nChange-Id: Ifda8c0b179763fe0884ef3845b6836be861ca6a8\n'}]",7,921843,d7f7b6312a3529f6f23cc541114594308f85e1af,25,5,3,36725,,,0,"Dell PowerFlex: Set default value for port config

Added default port value for the Dell PowerFlex
NAS backend

Closes-Bug: #2066840
Change-Id: Ifda8c0b179763fe0884ef3845b6836be861ca6a8
",git fetch https://review.opendev.org/openstack/manila refs/changes/43/921843/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-2066840-dell-powerflex-default-port-fc50b82979e3b11b.yaml', 'manila/share/drivers/dell_emc/plugins/powerflex/connection.py']",2,14d7adf5b2b967fec9b15da0fa8aa3096c954014,bug/2066840," default=443, self.rest_port = int(get_config_value(""dell_nas_backend_port""))"," self.rest_port = (int(get_config_value(""dell_nas_backend_port"")) or 443)",9,2
openstack%2Fcinder~921794,openstack/cinder,master,Ie5abb9c7c234a77a397c46fed6852d56e9c793a6,trivial: Fix minor grammatical error in docs,NEW,2024-06-11 19:11:31.000000000,2024-06-15 02:41:28.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-11 19:11:31.000000000', 'files': ['doc/source/configuration/index.rst', 'doc/source/install/index.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0badb9203de0712c7223c256fb921b8cdfc8655b', 'message': 'trivial: Fix minor grammatical error in docs\n\nNoticed a small issue while reading through some of the docs.\n\nChange-Id: Ie5abb9c7c234a77a397c46fed6852d56e9c793a6\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,921794,0badb9203de0712c7223c256fb921b8cdfc8655b,18,1,1,11904,,,0,"trivial: Fix minor grammatical error in docs

Noticed a small issue while reading through some of the docs.

Change-Id: Ie5abb9c7c234a77a397c46fed6852d56e9c793a6
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/94/921794/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/index.rst', 'doc/source/install/index.rst']",2,0badb9203de0712c7223c256fb921b8cdfc8655b,grammar, For security reasons **Service Tokens must be configured** in OpenStack for Cinder to operate securely. Pay close attention to the :doc:`specific, For security reasons **Service Tokens must to be configured** in OpenStack for Cinder to operate securely. Pay close attention to the :doc:`specific,4,4
openstack%2Fcinder~901146,openstack/cinder,master,I1fe29d077a657963016a581b6c87642a62979653,Fujitsu Driver: Support for update migrated volume,NEW,2023-11-17 02:26:41.000000000,2024-06-15 02:04:32.000000000,,"[{'_account_id': 597}, {'_account_id': 9236}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2023-11-17 02:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/37f74b8bd6ac881d7fed39a90f083a39fce293a1', 'message': ""Fujitsu Driver: Support for update migrated volume\n\nAfter migrated volume is completed, cinder invokes function\n'update_migrated_volume'.\n\nIt updates provider_location, which possesses the new volume ID,\nto match the provider_location of original volume.\n\nChange-Id: I1fe29d077a657963016a581b6c87642a62979653\n""}, {'number': 2, 'created': '2024-01-02 03:36:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ee86f8b2f2d1ee286074d12a485656d020f14495', 'message': ""Fujitsu Driver: Support for update migrated volume\n\nAfter migrated volume is completed, cinder invokes function\n'update_migrated_volume'.\n\nIt updates provider_location, which possesses the new volume ID,\nto match the provider_location of original volume.\n\nChange-Id: I1fe29d077a657963016a581b6c87642a62979653\n""}, {'number': 3, 'created': '2024-01-16 01:24:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/de0751376d0b00c2762db88ebd1c04b0877613c5', 'message': ""Fujitsu Driver: Support for update migrated volume\n\nAfter migrated volume is completed, cinder invokes function\n'update_migrated_volume'.\n\nIt updates provider_location, which possesses the new volume ID,\nto match the provider_location of original volume.\n\nChange-Id: I1fe29d077a657963016a581b6c87642a62979653\n""}, {'number': 4, 'created': '2024-01-26 01:24:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/356cdf7859145c6e59a7026941bc96de44c0d253', 'message': ""Fujitsu Driver: Support for update migrated volume\n\nAfter migrated volume is completed, cinder invokes function\n'update_migrated_volume'.\n\nIt updates provider_location, which possesses the new volume ID,\nto match the provider_location of original volume.\n\nChange-Id: I1fe29d077a657963016a581b6c87642a62979653\n""}, {'number': 5, 'created': '2024-02-02 08:26:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3c4970d4571d76c6b4424ce72adf39c507be5965', 'message': ""Fujitsu Driver: Support for update migrated volume\n\nAfter migrated volume is completed, cinder invokes function\n'update_migrated_volume'.\n\nIt updates provider_location, which possesses the new volume ID,\nto match the provider_location of original volume.\n\nChange-Id: I1fe29d077a657963016a581b6c87642a62979653\n""}, {'number': 6, 'created': '2024-02-14 11:04:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bca3dd6cdd3a4c64db3d1de3d92d734e30c6cc0e', 'message': ""Fujitsu Driver: Support for update migrated volume\n\nAfter migrated volume is completed, cinder invokes function\n'update_migrated_volume'.\n\nIt updates provider_location, which possesses the new volume ID,\nto match the provider_location of original volume.\n\nChange-Id: I1fe29d077a657963016a581b6c87642a62979653\n""}, {'number': 7, 'created': '2024-04-23 09:19:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/53b792b369b2b2246f9c120e860cca8081c41c89', 'message': ""Fujitsu Driver: Support for update migrated volume\n\nAfter migrated volume is completed, cinder invokes function\n'update_migrated_volume'.\n\nIt updates provider_location, which possesses the new volume ID,\nto match the provider_location of original volume.\n\nChange-Id: I1fe29d077a657963016a581b6c87642a62979653\n""}, {'number': 8, 'created': '2024-06-14 02:52:29.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_fc.py', 'releasenotes/notes/fujitsu-update-migrated-volume-1d205cdbd7e65a28.yaml', 'doc/source/configuration/block-storage/drivers/fujitsu-eternus-dx-driver.rst', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_iscsi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/82d9b3f6697cda2fb2c06ac82972ced3f980b30a', 'message': ""Fujitsu Driver: Support for update migrated volume\n\nAfter migrated volume is completed, cinder invokes function\n'update_migrated_volume'.\n\nIt updates provider_location, which possesses the new volume ID,\nto match the provider_location of original volume.\n\nChange-Id: I1fe29d077a657963016a581b6c87642a62979653\n""}]",52,901146,82d9b3f6697cda2fb2c06ac82972ced3f980b30a,249,4,8,33609,,,0,"Fujitsu Driver: Support for update migrated volume

After migrated volume is completed, cinder invokes function
'update_migrated_volume'.

It updates provider_location, which possesses the new volume ID,
to match the provider_location of original volume.

Change-Id: I1fe29d077a657963016a581b6c87642a62979653
",git fetch https://review.opendev.org/openstack/cinder refs/changes/46/901146/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_fc.py', 'releasenotes/notes/fujitsu-update-migrated-volume-1d205cdbd7e65a28.yaml', 'doc/source/configuration/block-storage/drivers/fujitsu-eternus-dx-driver.rst', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_iscsi.py']",6,37f74b8bd6ac881d7fed39a90f083a39fce293a1,fujitsu-driver-update," def update_migrated_volume(self, ctxt, volume, new_volume, original_volume_status): """"""Update migrated volume."""""" LOG.debug('update_migrated_volume, ' 'source volume id: %(s_id)s, ' 'target volume id: %(t_id)s, Enter method.', {'s_id': volume['id'], 't_id': new_volume['id']}) model_update = self.common.update_migrated_volume( ctxt, volume, new_volume) LOG.debug('update_migrated_volume, ' 'target volume meta: %s, Exit method.', model_update) return model_update",,272,4
openstack%2Frequirements~909300,openstack/requirements,master,Id0ffff01b2337e74cb1afe0ae37d1f45ea79ad37,Update netaddr to the latest version,NEW,2024-02-17 13:30:11.000000000,2024-06-15 01:02:09.000000000,,"[{'_account_id': 8313}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-02-17 13:30:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/d6681795332f709ad17bb766b721320c33e2271e', 'message': 'Update netaddr to the latest version\n\nThe recent updates to netaddr are not completely backwards compatible.\nMake this a dedicated patch so that projects can verify their fixes\nbefore this gets merged.\n\nChange-Id: Id0ffff01b2337e74cb1afe0ae37d1f45ea79ad37\n'}, {'number': 2, 'created': '2024-04-05 10:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/3c9a1115ce331b6e6bc4bae4cb97fed62ea7a1d0', 'message': 'Update netaddr to the latest version\n\nThe recent updates to netaddr are not completely backwards compatible.\nMake this a dedicated patch so that projects can verify their fixes\nbefore this gets merged.\n\nChange-Id: Id0ffff01b2337e74cb1afe0ae37d1f45ea79ad37\n'}, {'number': 3, 'created': '2024-04-27 00:22:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/8a6af54504c75a11661785ed396fc0f11b4188d9', 'message': 'Update netaddr to the latest version\n\nThe recent updates to netaddr are not completely backwards compatible.\nMake this a dedicated patch so that projects can verify their fixes\nbefore this gets merged.\n\nChange-Id: Id0ffff01b2337e74cb1afe0ae37d1f45ea79ad37\n'}, {'number': 4, 'created': '2024-06-13 23:02:18.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/a5ce4fa04e2cffa0905183947bac5790ebb59984', 'message': 'Update netaddr to the latest version\n\nThe recent updates to netaddr are not completely backwards compatible.\nMake this a dedicated patch so that projects can verify their fixes\nbefore this gets merged.\n\nChange-Id: Id0ffff01b2337e74cb1afe0ae37d1f45ea79ad37\n'}]",2,909300,a5ce4fa04e2cffa0905183947bac5790ebb59984,10,3,4,13252,,,0,"Update netaddr to the latest version

The recent updates to netaddr are not completely backwards compatible.
Make this a dedicated patch so that projects can verify their fixes
before this gets merged.

Change-Id: Id0ffff01b2337e74cb1afe0ae37d1f45ea79ad37
",git fetch https://review.opendev.org/openstack/requirements refs/changes/00/909300/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,d6681795332f709ad17bb766b721320c33e2271e,bump-netaddr,netaddr===1.1.0,netaddr===0.10.1,1,1
openstack%2Fneutron-tempest-plugin~898810,openstack/neutron-tempest-plugin,master,Idba4e48c22f8668ed2565e0c97e53a438b6746e7,Add Active Active L3 GW scenario test cases,MERGED,2023-10-19 11:31:52.000000000,2024-06-15 00:47:37.000000000,2024-06-15 00:47:37.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 13686}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-10-19 11:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/b4c1f3f5ff250a23a28dbdb5f4ddc3fbff2ce97b', 'message': 'Add Active Active L3 GW scenario test cases\n\nDepends-On: I34e2453ab206c13c3ca40c4181970c320bdd8e67\nChange-Id: Idba4e48c22f8668ed2565e0c97e53a438b6746e7\nSigned-off-by: Frode Nordahl <frode.nordahl@canonical.com>\n'}, {'number': 2, 'created': '2023-10-19 11:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/02891cafd567f33e162e3fd1e0b7bd9bf4550be8', 'message': 'Add Active Active L3 GW scenario test cases\n\nDepends-On: I34e2453ab206c13c3ca40c4181970c320bdd8e67\nChange-Id: Idba4e48c22f8668ed2565e0c97e53a438b6746e7\nSigned-off-by: Frode Nordahl <frode.nordahl@canonical.com>\n'}, {'number': 3, 'created': '2023-10-20 09:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/2bd6eb630f6197aa7f25e2dc1a9b7dcac3242f30', 'message': 'Add Active Active L3 GW scenario test cases\n\nDepends-On: I34e2453ab206c13c3ca40c4181970c320bdd8e67\nChange-Id: Idba4e48c22f8668ed2565e0c97e53a438b6746e7\nSigned-off-by: Frode Nordahl <frode.nordahl@canonical.com>\n'}, {'number': 4, 'created': '2023-10-20 13:31:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/3fda0657f8f4af2b31ea34df24e2d36ef11d77b2', 'message': 'Add Active Active L3 GW scenario test cases\n\nDepends-On: I34e2453ab206c13c3ca40c4181970c320bdd8e67\nChange-Id: Idba4e48c22f8668ed2565e0c97e53a438b6746e7\nSigned-off-by: Frode Nordahl <frode.nordahl@canonical.com>\n'}, {'number': 5, 'created': '2023-10-20 19:06:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/b26c900f2f6ec1b3ac7aed8ddcd293154774f811', 'message': 'Add Active Active L3 GW scenario test cases\n\nDepends-On: I34e2453ab206c13c3ca40c4181970c320bdd8e67\nChange-Id: Idba4e48c22f8668ed2565e0c97e53a438b6746e7\nSigned-off-by: Frode Nordahl <frode.nordahl@canonical.com>\n'}, {'number': 6, 'created': '2023-10-21 05:35:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/d8029be314a5e8dbb01de19378e8e5616b859d39', 'message': 'Add Active Active L3 GW scenario test cases\n\nDepends-On: I34e2453ab206c13c3ca40c4181970c320bdd8e67\nChange-Id: Idba4e48c22f8668ed2565e0c97e53a438b6746e7\nSigned-off-by: Frode Nordahl <frode.nordahl@canonical.com>\n'}, {'number': 7, 'created': '2023-10-21 05:43:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/599aac02b07df42f6355f010f08629c0bdf2bb54', 'message': 'Add Active Active L3 GW scenario test cases\n\nDepends-On: I34e2453ab206c13c3ca40c4181970c320bdd8e67\nChange-Id: Idba4e48c22f8668ed2565e0c97e53a438b6746e7\nSigned-off-by: Frode Nordahl <frode.nordahl@canonical.com>\n'}, {'number': 8, 'created': '2023-10-21 13:40:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/f0b8825386b82625b7761c19f663db2f22217e91', 'message': 'Add Active Active L3 GW scenario test cases\n\nDepends-On: I34e2453ab206c13c3ca40c4181970c320bdd8e67\nChange-Id: Idba4e48c22f8668ed2565e0c97e53a438b6746e7\nSigned-off-by: Frode Nordahl <frode.nordahl@canonical.com>\n'}, {'number': 9, 'created': '2023-10-21 21:01:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/c897b734bf90a48597dabdd3dd2364b2c00ba7b6', 'message': 'Add Active Active L3 GW scenario test cases\n\nDepends-On: I34e2453ab206c13c3ca40c4181970c320bdd8e67\nChange-Id: Idba4e48c22f8668ed2565e0c97e53a438b6746e7\nSigned-off-by: Frode Nordahl <frode.nordahl@canonical.com>\n'}, {'number': 10, 'created': '2023-10-22 06:22:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/eb82652ea4451011c857cb6f292beea50dc944f1', 'message': 'Add Active Active L3 GW scenario test cases\n\nDepends-On: I34e2453ab206c13c3ca40c4181970c320bdd8e67\nChange-Id: Idba4e48c22f8668ed2565e0c97e53a438b6746e7\nSigned-off-by: Frode Nordahl <frode.nordahl@canonical.com>\n'}, {'number': 11, 'created': '2023-10-22 09:37:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/d1b85052a1f125117f6de96a9acb82d5c81d3650', 'message': 'Add Active Active L3 GW scenario test cases\n\nDepends-On: I34e2453ab206c13c3ca40c4181970c320bdd8e67\nChange-Id: Idba4e48c22f8668ed2565e0c97e53a438b6746e7\nSigned-off-by: Frode Nordahl <frode.nordahl@canonical.com>\n'}, {'number': 12, 'created': '2023-10-22 15:15:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/6e06c5483ebe7852f297bbb514fe43797c324662', 'message': 'Add Active Active L3 GW scenario test cases\n\nDepends-On: I34e2453ab206c13c3ca40c4181970c320bdd8e67\nChange-Id: Idba4e48c22f8668ed2565e0c97e53a438b6746e7\nSigned-off-by: Frode Nordahl <frode.nordahl@canonical.com>\n'}, {'number': 13, 'created': '2023-12-04 18:57:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/91361b1a55d6f4749617fad221cfcc6dff784130', 'message': 'Add Active Active L3 GW scenario test cases\n\nDepends-On: I34e2453ab206c13c3ca40c4181970c320bdd8e67\nChange-Id: Idba4e48c22f8668ed2565e0c97e53a438b6746e7\nSigned-off-by: Frode Nordahl <frode.nordahl@canonical.com>\n'}, {'number': 14, 'created': '2023-12-05 02:53:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/4897cd024eb55063d137803dbc196aca0f9259cd', 'message': 'Add Active Active L3 GW scenario test cases\n\nDepends-On: I34e2453ab206c13c3ca40c4181970c320bdd8e67\nChange-Id: Idba4e48c22f8668ed2565e0c97e53a438b6746e7\nSigned-off-by: Frode Nordahl <frode.nordahl@canonical.com>\n'}, {'number': 15, 'created': '2023-12-05 22:19:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/397ea3567dd2b15607e6e110876b518a80b1e812', 'message': 'Add Active Active L3 GW scenario test cases\n\nDepends-On: I34e2453ab206c13c3ca40c4181970c320bdd8e67\nChange-Id: Idba4e48c22f8668ed2565e0c97e53a438b6746e7\nSigned-off-by: Frode Nordahl <frode.nordahl@canonical.com>\n'}, {'number': 16, 'created': '2023-12-06 07:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/db74440b25ddd3457783e9aaa1bfe4a8071b6e0d', 'message': 'Add Active Active L3 GW scenario test cases\n\nDepends-On: I34e2453ab206c13c3ca40c4181970c320bdd8e67\nChange-Id: Idba4e48c22f8668ed2565e0c97e53a438b6746e7\nSigned-off-by: Frode Nordahl <frode.nordahl@canonical.com>\n'}, {'number': 17, 'created': '2023-12-06 07:58:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/783683d842cb072e0cab3f863c12339775b2b5b6', 'message': 'Add Active Active L3 GW scenario test cases\n\nDepends-On: I34e2453ab206c13c3ca40c4181970c320bdd8e67\nChange-Id: Idba4e48c22f8668ed2565e0c97e53a438b6746e7\nSigned-off-by: Frode Nordahl <frode.nordahl@canonical.com>\n'}, {'number': 18, 'created': '2023-12-07 06:02:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/bb8b906716e25e2670ff68f04ebdab8a150adab9', 'message': 'Add Active Active L3 GW scenario test cases\n\nDepends-On: I34e2453ab206c13c3ca40c4181970c320bdd8e67\nChange-Id: Idba4e48c22f8668ed2565e0c97e53a438b6746e7\nSigned-off-by: Frode Nordahl <frode.nordahl@canonical.com>\n'}, {'number': 19, 'created': '2023-12-07 17:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/69b99683d824b6021ac3175b92c25a2983af01c5', 'message': 'Add Active Active L3 GW scenario test cases\n\nDepends-On: I34e2453ab206c13c3ca40c4181970c320bdd8e67\nChange-Id: Idba4e48c22f8668ed2565e0c97e53a438b6746e7\nSigned-off-by: Frode Nordahl <frode.nordahl@canonical.com>\n'}, {'number': 20, 'created': '2024-02-02 06:58:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/034c01d642777055dd822d7bce3dccf1aac98c8d', 'message': 'Add Active Active L3 GW scenario test cases\n\nDepends-On: I34e2453ab206c13c3ca40c4181970c320bdd8e67\nChange-Id: Idba4e48c22f8668ed2565e0c97e53a438b6746e7\nSigned-off-by: Frode Nordahl <frode.nordahl@canonical.com>\n'}, {'number': 21, 'created': '2024-02-02 10:25:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/3708cf32565cdc3ce7ee13c15ec47e3503850fb9', 'message': 'Add Active Active L3 GW scenario test cases\n\nDepends-On: I34e2453ab206c13c3ca40c4181970c320bdd8e67\nChange-Id: Idba4e48c22f8668ed2565e0c97e53a438b6746e7\nSigned-off-by: Frode Nordahl <frode.nordahl@canonical.com>\n'}, {'number': 22, 'created': '2024-02-28 06:51:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/200ffd8878be2308017e688b722e97db98e51200', 'message': 'Add Active Active L3 GW scenario test cases\n\nDepends-On: I34e2453ab206c13c3ca40c4181970c320bdd8e67\nChange-Id: Idba4e48c22f8668ed2565e0c97e53a438b6746e7\nSigned-off-by: Frode Nordahl <frode.nordahl@canonical.com>\n'}, {'number': 23, 'created': '2024-02-28 10:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/d8e46a98e17cc4b171966bb4f21321fc7ce8ac2f', 'message': 'Add Active Active L3 GW scenario test cases\n\nDepends-On: I34e2453ab206c13c3ca40c4181970c320bdd8e67\nChange-Id: Idba4e48c22f8668ed2565e0c97e53a438b6746e7\nSigned-off-by: Frode Nordahl <frode.nordahl@canonical.com>\n'}, {'number': 24, 'created': '2024-02-28 13:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/30dfbd5b8ed688f2ae324d18cc42224ecfa3a91a', 'message': 'Add Active Active L3 GW scenario test cases\n\nDepends-On: I34e2453ab206c13c3ca40c4181970c320bdd8e67\nChange-Id: Idba4e48c22f8668ed2565e0c97e53a438b6746e7\nSigned-off-by: Frode Nordahl <frode.nordahl@canonical.com>\n'}, {'number': 25, 'created': '2024-03-26 09:17:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/b01ef8de137cbae359ceb44659cfc98ffe852cd6', 'message': 'Add Active Active L3 GW scenario test cases\n\nDepends-On: I34e2453ab206c13c3ca40c4181970c320bdd8e67\nChange-Id: Idba4e48c22f8668ed2565e0c97e53a438b6746e7\nSigned-off-by: Frode Nordahl <frode.nordahl@canonical.com>\n'}, {'number': 26, 'created': '2024-05-10 15:26:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/7182d273eec424134b2b060bfb7a5b5878a31da3', 'message': 'Add Active Active L3 GW scenario test cases\n\nDepends-On: I34e2453ab206c13c3ca40c4181970c320bdd8e67\nChange-Id: Idba4e48c22f8668ed2565e0c97e53a438b6746e7\nSigned-off-by: Frode Nordahl <frode.nordahl@canonical.com>\n'}, {'number': 27, 'created': '2024-05-29 03:10:34.000000000', 'files': ['neutron_tempest_plugin/api/base.py', 'playbooks/plugin-ovn-scenario-pre-run.yaml', 'zuul.d/master_jobs.yaml', 'doc/source/conf.py', 'neutron_tempest_plugin/api/test_routers.py', 'neutron_tempest_plugin/scenario/base.py', 'neutron_tempest_plugin/scenario/test_multiple_gws.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/1bb8e62a3a9e985f80a187a44310db5b734f8bf8', 'message': 'Add Active Active L3 GW scenario test cases\n\nDepends-On: I34e2453ab206c13c3ca40c4181970c320bdd8e67\nChange-Id: Idba4e48c22f8668ed2565e0c97e53a438b6746e7\nSigned-off-by: Frode Nordahl <frode.nordahl@canonical.com>\n'}]",203,898810,1bb8e62a3a9e985f80a187a44310db5b734f8bf8,153,4,27,13686,,,0,"Add Active Active L3 GW scenario test cases

Depends-On: I34e2453ab206c13c3ca40c4181970c320bdd8e67
Change-Id: Idba4e48c22f8668ed2565e0c97e53a438b6746e7
Signed-off-by: Frode Nordahl <frode.nordahl@canonical.com>
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/10/898810/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_tempest_plugin/api/base.py', 'neutron_tempest_plugin/services/network/json/network_client.py', 'zuul.d/master_jobs.yaml', 'neutron_tempest_plugin/scenario/base.py', 'neutron_tempest_plugin/scenario/test_multiple_gws.py']",5,b4c1f3f5ff250a23a28dbdb5f4ddc3fbff2ce97b,2023-aa-l3-gw-multihoming,"# Copyright 2023 Canonical # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import json import os import subprocess import time import typing import netaddr import testtools from neutron_tempest_plugin import config from neutron_tempest_plugin.scenario import base from neutron_lib import constants as const from oslo_log import log from os_ken.tests.integrated.common import docker_base as ctn_base from tempest.lib.common.utils import data_utils from tempest.lib import decorators from tempest.lib import exceptions as lib_exc CONF = config.CONF LOG = log.getLogger(__name__) class FRROCIImage(ctn_base.DockerImage): def __init__( self, daemons: tuple[str], baseimage: typing.Optional[str] = None, use_existing: bool = False, ): super().__init__(baseimage=baseimage or 'ubuntu:22.04') self.daemons = daemons self.tagname = 'frr-' + '-'.join(daemons) if use_existing and self.exist(self.tagname): return workdir = os.path.join(ctn_base.TEST_BASE_DIR, self.tagname) pkgs = ' '.join(('telnet', 'tcpdump', 'frr')) c = ctn_base.CmdBuffer() c << f'FROM {self.baseimage}' c << 'RUN apt-get update' c << f'RUN apt-get install -qy --no-install-recommends {pkgs}' c << 'RUN echo ""#!/bin/sh"" > /frr' c << 'RUN echo mkdir -p /run/frr >> /frr' c << 'RUN echo chmod 755 /run/frr >> /frr' c << 'RUN echo chown frr:frr /run/frr >> /frr' c << ( 'RUN echo exec /usr/lib/frr/watchfrr ' f'-F traditional {"" "".join(self.daemons)}>> /frr' ) c << 'RUN chmod +x /frr' c << 'CMD /frr' self.cmd.sudo(f'rm -rf {workdir}') self.cmd.execute(f'mkdir -p {workdir}') self.cmd.execute(f""echo '{str(c)}' > {workdir}/Dockerfile"") self.build(self.tagname, workdir) class FRRContainer(ctn_base.Container): class veth_info(typing.NamedTuple): bridge_name: str bridge_type: str ctn_ifname: str host_ifname: str _veths: list[veth_info] class route(typing.NamedTuple): dst: netaddr.IPNetwork next_hop: netaddr.IPNetwork _ctn_routes: list[route] def __init__( self, name: str, image: FRROCIImage, ): self._veths = [] self._ctn_routes = [] super().__init__(name, image.tagname) # XXX upstream to os-ken def next_if_name(self) -> str: name = 'eth{0}'.format(len(self.eths)) self.eths.append(name) return name # XXX upstream to os-ken def run(self, network: typing.Optional[str] = None) -> int: c = ctn_base.CmdBuffer(' ') c << ""docker run --privileged=true"" for sv in self.shared_volumes: c << ""-v {0}:{1}"".format(sv[0], sv[1]) if network: c << ""--network {0}"".format(network) c << ""--name {0} --hostname {0} -id {1}"".format( self.docker_name(), self.image ) self.id = self.dcexec(str(c), retry=True) self.is_running = True self.exec_on_ctn(""ip li set up dev lo"") ipv4 = None ipv6 = None if network and network != 'none': ifname = self.next_if_name() for line in self.exec_on_ctn(f""ip a show dev {ifname}"").split( '\n' ): if line.strip().startswith(""inet ""): elems = [e.strip() for e in line.strip().split(' ')] ipv4 = elems[1] elif line.strip().startswith(""inet6 ""): elems = [e.strip() for e in line.strip().split(' ')] ipv6 = elems[1] self.set_addr_info( bridge='docker0', ipv4=ipv4, ipv6=ipv6, ifname=ifname ) return 0 def wait_for_frr_daemons_up( self, try_times: int = 30, interval: int = 1, ) -> ctn_base.CommandOut: return self.cmd.sudo( f'docker logs {self.docker_name()} ' '|grep ""WATCHFRR.*all daemons up""', try_times=try_times, interval=interval, ) @staticmethod def hash_ifname(ifname: str) -> str: # Assuming IFNAMSIZ of 16, with null-termination gives 15 characters. return 'veth' + str(hash(ifname) % 10**11) @staticmethod def get_if_mac(ifname: str) -> netaddr.EUI: with open(f'/sys/class/net/{ifname}/address') as faddr: return faddr.readline().rstrip() def add_veth_to_bridge( self, bridge_name: str, bridge_type: str, ipv4_cidr: str, ipv6_cidr: str, ipv6_prefix: typing.Optional[netaddr.IPNetwork] = None, vlan: typing.Optional[int] = None, ) -> None: assert self.is_running, ( 'the container must be running before ' 'calling add_veth_to_bridge' ) assert ( bridge_type == ctn_base.BRIDGE_TYPE_OVS ), f'bridge_type must be {ctn_base.BRIDGE_TYPE_OVS}' veth_pair = ( self.hash_ifname(f'{self.name}-int{len(self._veths)}'), self.hash_ifname(f'{self.name}-ext{len(self._veths)}'), ) self.cmd.sudo( f'ip link add {veth_pair[0]} type veth peer name {veth_pair[1]}' ) if ipv6_prefix and not ipv6_cidr: eui = netaddr.EUI(self.get_if_mac(veth_pair[0])) ipv6_cidr = ( f'{eui.ipv6(ipv6_prefix.first)}/{ipv6_prefix.prefixlen}' ) self.cmd.sudo(f'ip link set netns {self.get_pid()} dev {veth_pair[0]}') self.cmd.sudo(f'ovs-vsctl add-port {bridge_name} {veth_pair[1]}') if vlan: self.cmd.sudo(f'ovs-vsctl set port {veth_pair[1]} tag={vlan}') ifname = self.next_if_name() self.exec_on_ctn(f'ip link set name {ifname} {veth_pair[0]}') for cidr in (ipv4_cidr, ipv6_cidr): if not cidr: continue self.exec_on_ctn(f'ip addr add {cidr} dev {ifname}') self.exec_on_ctn(f'ip link set up dev {ifname}') self.cmd.sudo(f'ip link set up dev {veth_pair[1]}') self.set_addr_info( bridge_name, ipv4=ipv4_cidr, ipv6=ipv6_cidr, ifname=ifname ) self._veths.append( self.veth_info( bridge_name=bridge_name, bridge_type=bridge_type, ctn_ifname=ifname, host_ifname=veth_pair[1], ) ) def add_ctn_route(self, route: route) -> None: self.exec_on_ctn( f'ip -{route.dst.version} route add ' f'{str(route.dst.cidr)} via {str(route.next_hop.ip)}' ) self._ctn_routes.append(route) def del_ctn_route(self, route: route) -> None: self.exec_on_ctn( f'ip -{route.dst.version} route del ' f'{str(route.dst.cidr)} via {str(route.next_hop.ip)}' ) self._ctn_routes.remove(route) def remove(self, check_exist=True) -> ctn_base.CommandOut: for veth in self._veths: # The veth pair itself will be destroyed as a side effect of # removing the container, so we only need to clean up the bridge # attachment. if veth.bridge_type == ctn_base.BRIDGE_TYPE_BRCTL: self.cmd.sudo( 'brctl delif ' f'{veth.bridge_name} ' f'{veth.host_ifname}' ) elif veth.bridge_type == ctn_base.BRIDGE_TYPE_OVS: self.cmd.sudo( 'ovs-vsctl del-port ' f'{veth.bridge_name} ' f'{veth.host_ifname}' ) super().remove(check_exist=check_exist) def vtysh(self, cmd: list[str]) -> ctn_base.CommandOut: cmd_str = ' '.join(f""-c '{c}'"" for c in cmd) return self.exec_on_ctn(f'vtysh {cmd_str}', capture=True) class BFDContainer(FRRContainer): def __init__( self, name: str, image: typing.Optional[FRROCIImage] = None, ): image = image or FRROCIImage( daemons=('zebra', 'bfdd'), use_existing=True ) super().__init__(name, image) assert 'bfdd' in image.daemons def add_bfd_peer(self, ip_address: str) -> None: self.vtysh( [ 'enable', 'conf', 'bfd', f'peer {ip_address} interface eth0', ] ) def del_bfd_peer(self, ip_address: str) -> None: self.vtysh( [ 'enable', 'conf', 'bfd', f'no peer {ip_address} interface eth0', ] ) def show_bfd_peer(self, peer: str) -> typing.Dict[str, typing.Any]: return json.loads(self.vtysh([f'show bfd peer {peer} json'])) def wait_for_bfd_peer_status( self, peer: str, status: str, try_times=30, interval=1 ) -> None: while try_times: peer_data = self.show_bfd_peer(peer) if peer_data['status'] == status: return time.sleep(interval) try_times -= 1 raise lib_exc.TimeoutException class NetworkMultipleGWTest(base.BaseTempestTestCase): """"""Test the following topology +------------------------------------------------------------------+ | test runner | | | | +-----------+ eth0 public VLAN N | | +-------- br-ex ----------+ | FRR w/BFD | | | | +---------------------+ | +-----------+ eth1 public flat | | | | public physnet | | +-----------+ eth0 public VLAN N | | | +---------------------+ | | FRR w/BFD | | | +-------------------------+ +-----------+ eth1 public flat | | | | | +-----|--------------|---------------------------------------------+ | - VLAN N - | +-------------------------+ | project router | - enable_default_route_{bfd,ecmp}=True +-------------------------+ | +----------+ | instance | +----------+ NOTE(fnordahl) At the time of writing, FRR provides a BFD daemon, but has not integrated it with static routes [0][1]. As a consequence the test will manually add/remove routes on test runner to ensure correct path is chosen for traffic from test runner to instance. On the return path the BFD implementation in OVN will ensure the correct path is chosen automatically. In real world usage most vendors have BFD support for static routes. 0: https://github.com/FRRouting/frr/wiki/Feature-Requests 1: https://github.com/FRRouting/frr/issues/3369 """""" class host_route(typing.NamedTuple): dst: netaddr.IPNetwork next_hop: netaddr.IPNetwork host_routes: list[host_route] = [] required_extensions = ['external-gateway-multihoming'] credentials = ['primary', 'admin'] @classmethod def setup_clients(cls): super().setup_clients() if not cls.admin_client: cls.admin_client = cls.os_admin.network_client @classmethod def resource_setup(cls): super().resource_setup() # We need to know prefixlength of the devstack configured public # subnets. for subnet_id in cls.admin_client.get_network( CONF.network.public_network_id )['subnets']: subnet = cls.admin_client.get_subnet(subnet_id) if subnet['ip_version'] == 4: cls.public_ipv4_subnet = subnet continue cls.public_ipv6_subnet = subnet cls.ext_networks = [] for n in range(0, 2): vid = 4040 + n ext_network = cls.create_network( network_name=f'public-vlan-{vid}', client=cls.admin_client, external=True, provider_network_type='vlan', provider_physical_network='public', provider_segmentation_id=vid, ) ext_ipv6_subnet = cls.create_subnet( ext_network, ip_version=const.IP_VERSION_6, client=cls.admin_client, ) ext_ipv4_subnet = cls.create_subnet( ext_network, ip_version=const.IP_VERSION_4, client=cls.admin_client, ) cls.ext_networks.append( (ext_network, ext_ipv6_subnet, ext_ipv4_subnet) ) cls.host_routes = [] cls.resource_setup_container() @classmethod def resource_setup_container(cls): cls.containers = [] for n in range(0, 2): ext_network, ext_ipv6_subnet, ext_ipv4_subnet = cls.ext_networks[n] # frr container bfd_container = BFDContainer(data_utils.rand_name('frr')) cls.containers.append(bfd_container) bfd_container.run(network='none') public_ipv6_net = netaddr.IPNetwork(cls.public_ipv6_subnet['cidr']) public_ipv4_net = netaddr.IPNetwork(cls.public_ipv4_subnet['cidr']) ipv6_net = netaddr.IPNetwork(ext_ipv6_subnet['cidr']) ipv4_net = netaddr.IPNetwork(ext_ipv4_subnet['cidr']) # reserve an IP for container on the public network for routing # into the vlan network. fip_address = cls.create_floatingip()['floating_ip_address'] cls.veths = [ bfd_container.add_veth_to_bridge( 'br-ex', ctn_base.BRIDGE_TYPE_OVS, f'{ext_ipv4_subnet[""gateway_ip""]}/{ipv4_net.prefixlen}', f'{ext_ipv6_subnet[""gateway_ip""]}/{ipv6_net.prefixlen}', vlan=ext_network['provider:segmentation_id'], ), bfd_container.add_veth_to_bridge( 'br-ex', ctn_base.BRIDGE_TYPE_OVS, f'{fip_address}/{public_ipv4_net.prefixlen}', '', ipv6_prefix=public_ipv6_net, ), ] for subnet in (cls.public_ipv4_subnet, cls.public_ipv6_subnet): bfd_container.exec_on_ctn( f'ip -{subnet[""ip_version""]} route add default ' f'via {subnet[""gateway_ip""]} dev eth1' ) for ip_version in (6, 4): for addr_info in bfd_container.get_addr_info( 'br-ex', ip_version ).items(): if addr_info[1] == 'eth1': if ip_version == 6: dst_subnet = ext_ipv6_subnet else: dst_subnet = ext_ipv4_subnet cls.add_host_route( cls.host_routes, cls.host_route( netaddr.IPNetwork(dst_subnet[""cidr""]), netaddr.IPNetwork(addr_info[0]), ), ) bfd_container.wait_for_frr_daemons_up() @classmethod def resource_cleanup(cls): # Ensure common cleanup code can clean up resources created by admin cls.client = cls.admin_client super().resource_cleanup() for ctn in cls.containers: try: ctn.stop() except ctn_base.CommandError: pass ctn.remove() # NOTE(fnordahl): the loop body modifies the list, so we need to # iterate on a copy. for route in cls.host_routes.copy(): cls.del_host_route(cls.host_routes, route) @staticmethod def add_host_route(lst: list[host_route], route: host_route) -> None: subprocess.run( ( 'sudo', 'ip', f'-{route.dst.version}', 'route', 'add', str(route.dst.cidr), 'via', str(route.next_hop.ip), ), capture_output=True, check=True, universal_newlines=True, ) lst.append(route) @staticmethod def del_host_route(lst: list[host_route], route: host_route) -> None: subprocess.run( ( 'sudo', 'ip', f'-{route.dst.version}', 'route', 'del', str(route.dst.cidr), 'via', str(route.next_hop.ip), ), capture_output=True, check=True, universal_newlines=True, ) lst.remove(route) def add_ctn_route( self, ctn: BFDContainer, dst: netaddr.IPNetwork, next_hop: netaddr.IPNetwork, ): ctn_route = ctn.route(dst, next_hop) ctn.add_ctn_route(ctn_route) self.per_test_ctn_routes.append((ctn, ctn_route)) def setUp(self): super().setUp() self.per_test_host_routes = [] self.per_test_ctn_routes = [] def tearDown(self): super().tearDown() # NOTE(fnordahl): the loop body modifies the list, so we need to # iterate on a copy. for ctn_route in self.per_test_ctn_routes.copy(): ctn = ctn_route[0] route = ctn_route[1] ctn.del_ctn_route(route) for host_route in self.per_test_host_routes.copy(): self.del_host_route(self.per_test_host_routes, host_route) def add_routes_for_router( self, router: dict[str, typing.Any], ctn: FRRContainer, add_ctn_route: bool, add_host_route: bool, ): for port in self.admin_client.list_router_interfaces(router['id'])[ 'ports' ]: if port['device_owner'] != const.DEVICE_OWNER_ROUTER_INTF: continue for fixed_ip in port['fixed_ips']: subnet = self.client.get_subnet(fixed_ip['subnet_id']) for addr_info in ctn.get_addr_info( 'br-ex', subnet['ip_version'], ).items(): if addr_info[1] == 'eth0': # container route ctn_net = netaddr.IPNetwork(addr_info[0]) for gw_info in router['external_gateways']: for ip_info in gw_info['external_fixed_ips']: if ( ip_info['ip_address'] in ctn_net and add_ctn_route ): self.add_ctn_route( ctn, netaddr.IPNetwork(subnet['cidr']), netaddr.IPNetwork( ip_info['ip_address'] ), ) elif addr_info[1] == 'eth1' and add_host_route: self.add_host_route( self.per_test_host_routes, self.host_route( netaddr.IPNetwork(self.subnet['cidr']), netaddr.IPNetwork(addr_info[0]), ), ) @testtools.skipUnless( CONF.compute.min_compute_nodes == 1, 'More than 1 compute node, test only works on ' 'single node configurations.', ) @decorators.idempotent_id('9baa05e6-ba10-4850-93e3-695f4d97b8f8') def test_create_router_single_gw_bfd(self): ext_network_id = self.ext_networks[0][0]['id'] bfd_container = self.containers[0] router = self.create_admin_router( router_name=data_utils.rand_name('router'), admin_state_up=True, enable_snat=False, enable_default_route_bfd=True, external_network_id=ext_network_id, ) self.assertTrue(router['enable_default_route_bfd']) # Add BFD peers on bfd_container. for gw_info in router['external_gateways']: for ip_info in gw_info['external_fixed_ips']: bfd_container.add_bfd_peer(ip_info[""ip_address""]) bfd_container.wait_for_bfd_peer_status( ip_info['ip_address'], 'up' ) self.setup_network_and_server( router=router, create_fip=False, router_client=self.admin_client, ) self.add_routes_for_router(router, bfd_container) # check connectivity self.check_connectivity( self.port['fixed_ips'][0]['ip_address'], CONF.validation.image_ssh_user, self.keypair['private_key'], ) @testtools.skipUnless( CONF.compute.min_compute_nodes == 1, 'More than 1 compute node, test only works on ' 'single node configurations.', ) @decorators.idempotent_id('75202251-c384-4962-8685-60cf2c530906') def test_update_router_single_gw_bfd(self): ext_network_id = self.ext_networks[0][0]['id'] bfd_container = self.containers[0] router = self.create_router( router_name=data_utils.rand_name('router'), admin_state_up=True, enable_snat=False, external_network_id=ext_network_id, ) self.assertFalse(router['enable_default_route_bfd']) self.setup_network_and_server( router=router, create_fip=False, ) self.add_routes_for_router(router, bfd_container) # check connectivity self.check_connectivity( self.port['fixed_ips'][0]['ip_address'], CONF.validation.image_ssh_user, self.keypair['private_key'], ) # Enable BFD on router. # # NOTE(fnordahl): We need to repeat the `enable_snat` state, otherwise # the state will be toggled to the default value of 'True'. router = self.admin_client.update_router_with_snat_gw_info( router['id'], enable_snat=False, enable_default_route_bfd=True, )['router'] self.assertTrue(router['enable_default_route_bfd']) # Add BFD peers on bfd_container. for gw_info in router['external_gateways']: for ip_info in gw_info['external_fixed_ips']: bfd_container.add_bfd_peer(ip_info[""ip_address""]) bfd_container.wait_for_bfd_peer_status( ip_info['ip_address'], 'up' ) # check connectivity self.check_connectivity( self.port['fixed_ips'][0]['ip_address'], CONF.validation.image_ssh_user, self.keypair['private_key'], ) @testtools.skipUnless( CONF.compute.min_compute_nodes == 1, 'More than 1 compute node, test only works on ' 'single node configurations.', ) @decorators.idempotent_id('5117587d-9633-48b7-aa8f-ec9d59a601a5') def test_create_router_multiple_gw_bfd_and_ecmp(self): router = self.create_admin_router( router_name=data_utils.rand_name('router'), admin_state_up=True, enable_default_route_bfd=True, enable_default_route_ecmp=True, ) router = self.admin_client.router_add_external_gateways( router['id'], [ { 'network_id': self.ext_networks[0][0]['id'], 'enable_snat': False, }, { 'network_id': self.ext_networks[1][0]['id'], 'enable_snat': False, }, ], )['router'] self.setup_network_and_server( router=router, create_fip=False, router_client=self.admin_client, ) # Add BFD peers on bfd_containers. for gw_info in router['external_gateways']: for ip_info in gw_info['external_fixed_ips']: ip = netaddr.IPAddress(ip_info['ip_address']) for ctn in self.containers: for addr_info in ctn.get_addr_info( 'br-ex', ip.version, ).items(): if addr_info[1] == 'eth0': ctn_net = netaddr.IPNetwork(addr_info[0]) if ip not in ctn_net: break ctn.add_bfd_peer(str(ip)) ctn.wait_for_bfd_peer_status(str(ip), 'up') # Add route to project network on all containers. for ctn in self.containers: self.add_routes_for_router(router, ctn, True, False) # Add host route to project network via FRR container and confirm # connectivity one by one. # # We deliberately don't add both host routes at once as that would be # testing test runner configuration and linux kernel ECMP, which is out # of scope for our test. for ctn in self.containers: self.add_routes_for_router(router, ctn, False, True) # check connectivity self.check_connectivity( self.port['fixed_ips'][0]['ip_address'], CONF.validation.image_ssh_user, self.keypair['private_key'], ) for host_route in self.per_test_host_routes.copy(): self.del_host_route(self.per_test_host_routes, host_route) ",,763,5
openstack%2Fheat~921529,openstack/heat,unmaintained/zed,Ib7e4f136f4b07ea30310fccebb58463eac023454,Remove reference to devstack-gate,MERGED,2024-06-07 13:56:33.000000000,2024-06-15 00:29:15.000000000,2024-06-15 00:27:05.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-07 13:56:33.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/c18b344591c8f2cdb9555c1a8753c7f1bda5fed1', 'message': 'Remove reference to devstack-gate\n\ndevstack-gate was deprecated in xena and is being retired now[1].\n\n[1] https://review.opendev.org/c/openstack/governance/+/919629\n\nChange-Id: Ib7e4f136f4b07ea30310fccebb58463eac023454\n(cherry picked from commit 0290f8a580a76af730739766a2b8cd82de6a9955)\n(cherry picked from commit f5f4d48b8f44c9b03b0800568f69979bcca758e3)\n(cherry picked from commit 39eca5de2e193f652792e4f7be2e5eb96dd3d853)\n(cherry picked from commit 362bd38d902e006b50caf86f46581dfd16f7adab)\n'}]",3,921529,c18b344591c8f2cdb9555c1a8753c7f1bda5fed1,16,2,1,17685,,,0,"Remove reference to devstack-gate

devstack-gate was deprecated in xena and is being retired now[1].

[1] https://review.opendev.org/c/openstack/governance/+/919629

Change-Id: Ib7e4f136f4b07ea30310fccebb58463eac023454
(cherry picked from commit 0290f8a580a76af730739766a2b8cd82de6a9955)
(cherry picked from commit f5f4d48b8f44c9b03b0800568f69979bcca758e3)
(cherry picked from commit 39eca5de2e193f652792e4f7be2e5eb96dd3d853)
(cherry picked from commit 362bd38d902e006b50caf86f46581dfd16f7adab)
",git fetch https://review.opendev.org/openstack/heat refs/changes/29/921529/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c18b344591c8f2cdb9555c1a8753c7f1bda5fed1,remove-devstack-gate,, - openstack/devstack-gate,0,1
openstack%2Fpython-openstackclient~921882,openstack/python-openstackclient,master,Id5740cc61474650f22f9efe8d148c8c666c3b91e,identity: Migrate 'access rule' commands to SDK,NEW,2024-06-12 17:52:47.000000000,2024-06-15 00:23:08.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-12 17:52:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/7f03e1a33c88f5229a692b435f847a53237b9b75', 'message': ""identity: Migrate 'access rule' commands to SDK\n\nChange-Id: Id5740cc61474650f22f9efe8d148c8c666c3b91e\n""}, {'number': 2, 'created': '2024-06-14 22:48:54.000000000', 'files': ['openstackclient/tests/unit/identity/v3/test_access_rule.py', 'openstackclient/identity/v3/access_rule.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/59c50f3abdd44293251041842721bcc1d06206b6', 'message': ""identity: Migrate 'access rule' commands to SDK\n\nChange-Id: Id5740cc61474650f22f9efe8d148c8c666c3b91e\n""}]",0,921882,59c50f3abdd44293251041842721bcc1d06206b6,5,1,2,35548,,,0,"identity: Migrate 'access rule' commands to SDK

Change-Id: Id5740cc61474650f22f9efe8d148c8c666c3b91e
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/82/921882/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/identity/v3/test_access_rule.py', 'openstackclient/identity/v3/access_rule.py']",2,7f03e1a33c88f5229a692b435f847a53237b9b75,," identity_client = self.app.client_manager.sdk_connection.identity conn = self.app.client_manager.sdk_connection user_id = conn.config.get_auth().get_user_id(conn.identity) identity_client.delete_access_rule(user_id, access_rule.id) identity_client = self.app.client_manager.sdk_connection.identity conn = self.app.client_manager.sdk_connection user_id = conn.config.get_auth().get_user_id(conn.identity) data = identity_client.access_rules(user=user_id)", identity_client = self.app.client_manager.identity identity_client.access_rules.delete(access_rule.id) identity_client = self.app.client_manager.identity user_id = None data = identity_client.access_rules.list(user=user_id),24,32
openstack%2Fneutron-tempest-plugin~919725,openstack/neutron-tempest-plugin,master,I5a3bdcb0b7c399fed01bf08e211eb572edcd8d74,Add wsgi enabled OVS and OVN tempest jobs,MERGED,2024-05-15 11:53:45.000000000,2024-06-14 23:14:55.000000000,2024-06-14 22:57:44.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-15 11:53:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/1d5f87fa28c480e4bd27b0a8c7d0885e01ef8cf2', 'message': 'Add wsgi enabled OVS and OVN tempest jobs\n\nChange-Id: I5a3bdcb0b7c399fed01bf08e211eb572edcd8d74\n'}, {'number': 2, 'created': '2024-05-21 12:50:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/3d01268ad1dcc661496506a83949067c524fc37e', 'message': 'Add wsgi enabled OVS and OVN tempest jobs\n\nChange-Id: I5a3bdcb0b7c399fed01bf08e211eb572edcd8d74\n'}, {'number': 3, 'created': '2024-06-13 08:20:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/e66ff6a0227cb9ca6f7e471b0b34150bb8277f7d', 'message': 'Add wsgi enabled OVS and OVN tempest jobs\n\nAdd experimental jobs for OVS and OVN with wsgi.\nThe same jobs can be used in the Neutron periodic queue.\n\nChange-Id: I5a3bdcb0b7c399fed01bf08e211eb572edcd8d74\n'}, {'number': 4, 'created': '2024-06-14 12:09:29.000000000', 'files': ['zuul.d/master_jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/2fa58d9ca113465660cec8702b0993bf8cfce572', 'message': 'Add wsgi enabled OVS and OVN tempest jobs\n\nAdd experimental jobs for OVS and OVN with wsgi.\nThe same jobs can be used in the Neutron periodic queue.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/922012\n\nChange-Id: I5a3bdcb0b7c399fed01bf08e211eb572edcd8d74\n'}]",29,919725,2fa58d9ca113465660cec8702b0993bf8cfce572,33,4,4,8313,,,0,"Add wsgi enabled OVS and OVN tempest jobs

Add experimental jobs for OVS and OVN with wsgi.
The same jobs can be used in the Neutron periodic queue.

Depends-On: https://review.opendev.org/c/openstack/devstack/+/922012

Change-Id: I5a3bdcb0b7c399fed01bf08e211eb572edcd8d74
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/25/919725/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/master_jobs.yaml', 'zuul.d/project.yaml']",2,1d5f87fa28c480e4bd27b0a8c7d0885e01ef8cf2,wsgi_neutron, - neutron-tempest-plugin-api-ovs-wsgi - neutron-tempest-plugin-api-ovn-wsgi,,18,0
openstack%2Fdevstack~922012,openstack/devstack,master,I12b860d4d98442e2b5ac0c9fd854f1226633b518,Fix deployment of the neutron with uwsgi,MERGED,2024-06-14 12:08:04.000000000,2024-06-14 22:54:02.000000000,2024-06-14 22:53:04.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-14 12:08:04.000000000', 'files': ['lib/neutron'], 'web_link': 'https://opendev.org/openstack/devstack/commit/b500d80c7641583039188baf62c215676e3d81db', 'message': ""Fix deployment of the neutron with uwsgi\n\nAfter patch [1] deploying neutron with uwsgi was not working correctly\ndue to the fact that there was different paths for the applications\nset in the api-paste.ini file. Instead of default ones like:\n\n/: neutronversions_composite\n/healthcheck: healthcheck\n/v2.0: neutronapi_v2_0\n\nit was changing it to something like:\n\n/networking/: neutronversions_composite\n/networking/healthcheck: healthcheck\n/networking/v2.0: neutronapi_v2_0\n\nwhere 'networking' can be configured to something else.\nThis patch fixes deployment of neutron with uwsgi by not changing its\napi-paste.ini file when NEUTRON_DEPLOY_MOD_WSGI=True.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/849145\n\nCloses-bug: #2069418\nChange-Id: I12b860d4d98442e2b5ac0c9fd854f1226633b518\n""}]",3,922012,b500d80c7641583039188baf62c215676e3d81db,12,6,1,11975,,,0,"Fix deployment of the neutron with uwsgi

After patch [1] deploying neutron with uwsgi was not working correctly
due to the fact that there was different paths for the applications
set in the api-paste.ini file. Instead of default ones like:

/: neutronversions_composite
/healthcheck: healthcheck
/v2.0: neutronapi_v2_0

it was changing it to something like:

/networking/: neutronversions_composite
/networking/healthcheck: healthcheck
/networking/v2.0: neutronapi_v2_0

where 'networking' can be configured to something else.
This patch fixes deployment of neutron with uwsgi by not changing its
api-paste.ini file when NEUTRON_DEPLOY_MOD_WSGI=True.

[1] https://review.opendev.org/c/openstack/devstack/+/849145

Closes-bug: #2069418
Change-Id: I12b860d4d98442e2b5ac0c9fd854f1226633b518
",git fetch https://review.opendev.org/openstack/devstack refs/changes/12/922012/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/neutron'],1,b500d80c7641583039188baf62c215676e3d81db,bug/2069418," if [[ ""$NEUTRON_DEPLOY_MOD_WSGI"" == ""False"" && -n ""$NEUTRON_ENDPOINT_SERVICE_NAME"" ]]; then"," if [[ -n ""$NEUTRON_ENDPOINT_SERVICE_NAME"" ]]; then",1,1
openstack%2Fmanila~915380,openstack/manila,master,I7e8f81694183210b146d60a132a933eabd8b1eb1,Add share driver for VastData storage,NEW,2024-04-09 21:12:37.000000000,2024-06-14 22:27:13.000000000,,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-09 21:12:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/90b06da1dac8fe5c1d15499b3a6f7d2f10b819b8', 'message': 'Add share driver for VastData storage\n\nThis driver enables use of the VastData filesystem for Manila shares.\nNFS vers 3 is supported\nFollowing interfaces are supported:\n1. Create/Delete share.\n2. Expand/Srink share capacity.\n2. Create/Delete snapshot.\n3. Allow/Deny IP(NFS) access.\n4. Get share stats.\n\nCo-Authored-By: Ofer Koren <ofer.koren@vastdata.com>\n\nChange-Id: I7e8f81694183210b146d60a132a933eabd8b1eb1\n'}, {'number': 2, 'created': '2024-04-09 22:28:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/0bc66c27a2ecb1f7a0ec9171ec35f0ea1860534c', 'message': 'Add share driver for VastData storage\n\nThis driver enables use of the VastData filesystem for Manila shares.\nNFS vers 3 is supported\nFollowing interfaces are supported:\n1. Create/Delete share.\n2. Expand/Shrink share capacity.\n3. Create/Delete snapshot.\n4. Allow/Deny IP(NFS) access.\n5. Get share stats.\n\nCo-Authored-By: Ofer Koren <ofer.koren@vastdata.com>\n\nChange-Id: I7e8f81694183210b146d60a132a933eabd8b1eb1\n'}, {'number': 3, 'created': '2024-04-10 17:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/8efb578ca10dc9ebd7f3b02e49af46ff074f79a4', 'message': 'Add share driver for VastData storage\n\nThis driver enables use of the VastData filesystem for Manila shares.\nNFS vers 3 is supported\nFollowing interfaces are supported:\n1. Create/Delete share.\n2. Expand/Shrink share capacity.\n3. Create/Delete snapshot.\n4. Allow/Deny IP(NFS) access.\n5. Get share stats.\n\nCo-Authored-By: Ofer Koren <ofer.koren@vastdata.com>\n\nChange-Id: I7e8f81694183210b146d60a132a933eabd8b1eb1\n'}, {'number': 4, 'created': '2024-04-14 00:52:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/80764c70b55075de7d4bca380a4bc49e5a9a1f90', 'message': 'Add share driver for VastData storage\n\nThis driver enables use of the VastData filesystem for Manila shares.\nNFS vers 3 is supported\nFollowing interfaces are supported:\n1. Create/Delete share.\n2. Expand/Shrink share capacity.\n3. Create/Delete snapshot.\n4. Allow/Deny IP(NFS) access.\n5. Get share stats.\n\nCo-Authored-By: Ofer Koren <ofer.koren@vastdata.com>\nImplements: bp tests and pep8 style formatting\nChange-Id: I7e8f81694183210b146d60a132a933eabd8b1eb1\n'}, {'number': 5, 'created': '2024-04-14 10:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c3811a57daca6e4f888b56ea2524663c692bd846', 'message': 'Add share driver for VastData storage\n\nThis driver enables use of the VastData filesystem for Manila shares.\nNFS vers 3 is supported\nFollowing interfaces are supported:\n1. Create/Delete share.\n2. Expand/Shrink share capacity.\n3. Create/Delete snapshot.\n4. Allow/Deny IP(NFS) access.\n5. Get share stats.\n\nCo-Authored-By: Ofer Koren <ofer.koren@vastdata.com>\nImplements: bp tests_and_pep8\nChange-Id: I7e8f81694183210b146d60a132a933eabd8b1eb1\n'}, {'number': 6, 'created': '2024-04-14 14:11:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/695088be518cff80b6accd1bd0cb21c50e17a5bb', 'message': 'Add share driver for VastData storage\n\nThis driver enables use of the VastData filesystem for Manila shares.\nNFS vers 3 is supported\nFollowing interfaces are supported:\n1. Create/Delete share.\n2. Expand/Shrink share capacity.\n3. Create/Delete snapshot.\n4. Allow/Deny IP(NFS) access.\n5. Get share stats.\n\nCo-Authored-By: Ofer Koren <ofer.koren@vastdata.com>\nImplements: bp tests_and_pep8\nChange-Id: I7e8f81694183210b146d60a132a933eabd8b1eb1\n'}, {'number': 7, 'created': '2024-04-27 00:19:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/6b82657525da9c246984935deb6b892f2f7f7f78', 'message': 'Add share driver for VastData storage\n\nThis driver enables use of the VastData filesystem for Manila shares.\nNFS vers 3 is supported\nFollowing interfaces are supported:\n1. Create/Delete share.\n2. Expand/Shrink share capacity.\n3. Create/Delete snapshot.\n4. Allow/Deny IP(NFS) access.\n5. Get share stats.\n\nCo-Authored-By: Ofer Koren <ofer.koren@vastdata.com>\nImplements: bp tests_and_pep8\nChange-Id: I7e8f81694183210b146d60a132a933eabd8b1eb1\n'}, {'number': 8, 'created': '2024-05-19 02:37:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/5bc91d6985059eaea3716bc3bb99561bc6e324e6', 'message': 'Add share driver for VastData storage\n\nThis driver enables use of the VastData filesystem for Manila shares.\nNFS vers 3 is supported\nFollowing interfaces are supported:\n1. Create/Delete share.\n2. Expand/Shrink share capacity.\n3. Create/Delete snapshot.\n4. Allow/Deny IP(NFS) access.\n5. Get share stats.\n\nCo-Authored-By: Ofer Koren <ofer.koren@vastdata.com>\nImplements: bp tests_and_pep8\nChange-Id: I7e8f81694183210b146d60a132a933eabd8b1eb1\n'}, {'number': 9, 'created': '2024-05-24 19:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/10ddbc7cd67e1f0a7089509082e2bace307dad6e', 'message': 'Add share driver for VastData storage\n\nThis driver enables use of the VastData filesystem for Manila shares.\nNFS vers 3 is supported\nFollowing interfaces are supported:\n1. Create/Delete share.\n2. Expand/Shrink share capacity.\n3. Create/Delete snapshot.\n4. Allow/Deny IP(NFS) access.\n5. Get share stats.\n\nCo-Authored-By: Ofer Koren <ofer.koren@vastdata.com>\nImplements: bp tests_and_pep8\nChange-Id: I7e8f81694183210b146d60a132a933eabd8b1eb1\n'}, {'number': 10, 'created': '2024-05-27 18:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/6d0d42afc82981c2e221a604b1a3ce8a690bd447', 'message': 'Add share driver for VastData storage\n\nThis driver enables use of the VastData filesystem for Manila shares.\nNFS vers 3 is supported\nFollowing interfaces are supported:\n1. Create/Delete share.\n2. Expand/Shrink share capacity.\n3. Create/Delete snapshot.\n4. Allow/Deny IP(NFS) access.\n5. Get share stats.\n\nCo-Authored-By: Ofer Koren <ofer.koren@vastdata.com>\nImplements: bp tests_and_pep8\nChange-Id: I7e8f81694183210b146d60a132a933eabd8b1eb1\n'}, {'number': 11, 'created': '2024-05-28 22:13:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/0e461f20935aae8e2230c55355265ff066845e1e', 'message': 'Add share driver for VastData storage\n\nThis driver enables use of the VastData filesystem for Manila shares.\nNFS vers 3 is supported\nFollowing interfaces are supported:\n1. Create/Delete share.\n2. Expand/Shrink share capacity.\n3. Create/Delete snapshot.\n4. Allow/Deny IP(NFS) access.\n5. Get share stats.\n\nCo-Authored-By: Ofer Koren <ofer.koren@vastdata.com>\nImplements: bp tests_and_pep8\nChange-Id: I7e8f81694183210b146d60a132a933eabd8b1eb1\n'}, {'number': 12, 'created': '2024-06-03 01:14:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/8b17a3637166a39d9ba46f7bf9a9232b81a290e4', 'message': 'Add share driver for VastData storage\n\nThis driver enables use of the VastData filesystem for Manila shares.\nNFS vers 3 is supported\nFollowing interfaces are supported:\n1. Create/Delete share.\n2. Expand/Shrink share capacity.\n3. Create/Delete snapshot.\n4. Allow/Deny IP(NFS) access.\n5. Get share stats.\n\nCo-Authored-By: Ofer Koren <ofer.koren@vastdata.com>\nImplements: bp tests_and_pep8\nChange-Id: I7e8f81694183210b146d60a132a933eabd8b1eb1\n'}, {'number': 13, 'created': '2024-06-03 03:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7ec868f844e03b28e606749f16077cf9c8015e8c', 'message': 'Add share driver for VastData storage\n\nThis driver enables use of the VastData filesystem for Manila shares.\nNFS vers 3 is supported\nFollowing interfaces are supported:\n1. Create/Delete share.\n2. Expand/Shrink share capacity.\n3. Create/Delete snapshot.\n4. Allow/Deny IP(NFS) access.\n5. Get share stats.\n\nCo-Authored-By: Ofer Koren <ofer.koren@vastdata.com>\nImplements: bp tests_and_pep8\nChange-Id: I7e8f81694183210b146d60a132a933eabd8b1eb1\n'}, {'number': 14, 'created': '2024-06-03 06:29:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/83dc0926882783b558cb2d51257ca4183d3ada87', 'message': 'Add share driver for VastData storage\n\nThis driver enables use of the VastData filesystem for Manila shares.\nNFS vers 3 is supported\nFollowing interfaces are supported:\n1. Create/Delete share.\n2. Expand/Shrink share capacity.\n3. Create/Delete snapshot.\n4. Allow/Deny IP(NFS) access.\n5. Get share stats.\n\nCo-Authored-By: Ofer Koren <ofer.koren@vastdata.com>\nImplements: bp tests_and_pep8\nChange-Id: I7e8f81694183210b146d60a132a933eabd8b1eb1\n'}, {'number': 15, 'created': '2024-06-03 07:45:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c40adbd6f621d8ffd31a1fc025d6be9b4497daf2', 'message': 'Add share driver for VastData storage\n\nThis driver enables use of the VastData filesystem for Manila shares.\nNFS vers 3 is supported\nFollowing interfaces are supported:\n1. Create/Delete share.\n2. Expand/Shrink share capacity.\n3. Create/Delete snapshot.\n4. Allow/Deny IP(NFS) access.\n5. Get share stats.\n\nCo-Authored-By: Ofer Koren <ofer.koren@vastdata.com>\nImplements: bp tests_and_pep8\nChange-Id: I7e8f81694183210b146d60a132a933eabd8b1eb1\n'}, {'number': 16, 'created': '2024-06-03 16:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c2c4ba7740067eea032d162acaefad368b3e5570', 'message': 'Add share driver for VastData storage\n\nThis driver enables use of the VastData filesystem for Manila shares.\nNFS vers 3 is supported\nFollowing interfaces are supported:\n1. Create/Delete share.\n2. Expand/Shrink share capacity.\n3. Create/Delete snapshot.\n4. Allow/Deny IP(NFS) access.\n5. Get share stats.\n\nCo-Authored-By: Ofer Koren <ofer.koren@vastdata.com>\nImplements: bp tests_and_pep8\nChange-Id: I7e8f81694183210b146d60a132a933eabd8b1eb1\n'}, {'number': 17, 'created': '2024-06-07 02:39:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ea9873ade0edff2394bdeb3863a8f5f2912de71f', 'message': 'Add share driver for VastData storage\n\nThis driver enables use of the VastData filesystem for Manila shares.\nNFS vers 3 is supported\nFollowing interfaces are supported:\n1. Create/Delete share.\n2. Expand/Shrink share capacity.\n3. Create/Delete snapshot.\n4. Allow/Deny IP(NFS) access.\n5. Get share stats.\n\nCo-Authored-By: Ofer Koren <ofer.koren@vastdata.com>\nImplements: bp tests_and_pep8\nChange-Id: I7e8f81694183210b146d60a132a933eabd8b1eb1\n'}, {'number': 18, 'created': '2024-06-13 01:57:10.000000000', 'files': ['manila/share/drivers/vastdata/rest.py', 'manila/tests/share/drivers/vastdata/test_driver.py', 'manila/tests/share/drivers/vastdata/test_rest.py', 'manila/share/drivers/vastdata/__init__.py', 'manila/tests/share/drivers/vastdata/__init__.py', 'manila/tests/share/drivers/vastdata/test_driver_util.py', 'manila/opts.py', 'manila/share/drivers/vastdata/driver_util.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/17bd10815f6037c10b87c1b5883f3cdcb3b427f5', 'message': 'Add share driver for VastData storage\n\nThis driver enables use of the VastData filesystem for Manila shares.\nNFS vers 3 is supported\nFollowing interfaces are supported:\n1. Create/Delete share.\n2. Expand/Shrink share capacity.\n3. Create/Delete snapshot.\n4. Allow/Deny IP(NFS) access.\n5. Get share stats.\n\nCo-Authored-By: Ofer Koren <ofer.koren@vastdata.com>\nImplements: bp tests_and_pep8\nChange-Id: I7e8f81694183210b146d60a132a933eabd8b1eb1\n'}]",180,915380,17bd10815f6037c10b87c1b5883f3cdcb3b427f5,113,2,18,36962,,,0,"Add share driver for VastData storage

This driver enables use of the VastData filesystem for Manila shares.
NFS vers 3 is supported
Following interfaces are supported:
1. Create/Delete share.
2. Expand/Shrink share capacity.
3. Create/Delete snapshot.
4. Allow/Deny IP(NFS) access.
5. Get share stats.

Co-Authored-By: Ofer Koren <ofer.koren@vastdata.com>
Implements: bp tests_and_pep8
Change-Id: I7e8f81694183210b146d60a132a933eabd8b1eb1
",git fetch https://review.opendev.org/openstack/manila refs/changes/80/915380/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/vastdata/rest.py', 'manila/share/drivers/vastdata/__init__.py', 'manila/opts.py', 'manila/share/drivers/vastdata/driver_util.py']",4,90b06da1dac8fe5c1d15499b3a6f7d2f10b819b8,vastdata-driver,"from ipaddress import summarize_address_range, ip_address class Bunch(dict): # from https://github.com/real-easypy/easypy __slots__ = (""__stop_recursing__"",) def __getattr__(self, name): try: return self[name] except KeyError: if name[0] == ""_"" and name[1:].isdigit(): return self[name[1:]] raise AttributeError(""%s has no attribute %r"" % (self.__class__, name)) def __getitem__(self, key): try: return super(Bunch, self).__getitem__(key) except KeyError: from numbers import Integral if isinstance(key, Integral): return self[str(key)] raise def __setattr__(self, name, value): self[name] = value def __delattr__(self, name): try: del self[name] except KeyError: raise AttributeError(""%s has no attribute %r"" % (self.__class__, name)) def __getstate__(self): return self def __setstate__(self, dict): self.update(dict) def __repr__(self): if getattr(self, ""__stop_recursing__"", False): items = sorted(""%s"" % k for k in self if isinstance(k, str) and not k.startswith(""__"")) attrs = "", "".join(items) else: dict.__setattr__(self, ""__stop_recursing__"", True) try: attrs = self.render() finally: dict.__delattr__(self, ""__stop_recursing__"") return ""%s(%s)"" % (self.__class__.__name__, attrs) def render(self): items = sorted(""%s=%r"" % (k, v) for k, v in self.items() if isinstance(k, str) and not k.startswith(""__"")) return "", "".join(items) def to_dict(self): return unbunchify(self) def to_json(self): import json return json.dumps(self.to_dict()) def to_yaml(self): import yaml return yaml.dump(self.to_dict()) def copy(self, deep=False): if deep: return _convert(self, self.__class__) else: return self.__class__(self) @classmethod def from_dict(cls, d): return _convert(d, cls) @classmethod def from_json(cls, d): import json return cls.from_dict(json.loads(d)) @classmethod def from_yaml(cls, d): import yaml return cls.from_dict(yaml.load(d)) @classmethod def from_xml(cls, d): import xmltodict return cls.from_dict(xmltodict.parse(d)) def __dir__(self): members = set(k for k in self if isinstance(k, str) and (k[0] == ""_"" or k.replace(""_"", """").isalnum())) members.update(dict.__dir__(self)) return sorted(members) def without(self, *keys): ""Return a shallow copy of the bunch without the specified keys"" return Bunch((k, v) for k, v in self.items() if k not in keys) def but_with(self, **kw): ""Return a shallow copy of the bunch with the specified keys"" return Bunch(self, **kw) def _convert(d, typ): if isinstance(d, dict): return typ(dict((str(k), _convert(v, typ)) for k, v in d.items())) elif isinstance(d, (tuple, list, set)): return type(d)(_convert(e, typ) for e in d) else: return d def unbunchify(d): """"""Recursively convert Bunches in `d` to a regular dicts."""""" return _convert(d, dict) def bunchify(d=None, **kw): """"""Recursively convert dicts in `d` to Bunches. If `kw` given, recursively convert dicts in it to Bunches and update `d` with it. If `d` is None, an empty Bunch is made."""""" d = _convert(d, Bunch) if d is not None else Bunch() if kw: d.update(bunchify(kw)) return d def generate_ip_range(ip_ranges): """""" Generate list of ips from provided ip ranges. `ip_ranges` should be list of ranges where fist ip in range represents start ip and second is end ip eg: [[""15.0.0.1"", ""15.0.0.4""], [""10.0.0.27"", ""10.0.0.30""]] """""" return [ ip.compressed for start_ip, end_ip in ip_ranges for net in summarize_address_range(ip_address(start_ip), ip_address(end_ip)) for ip in net ] ",,697,0
openstack%2Fironic-python-agent~921352,openstack/ironic-python-agent,master,I64909aa932635b729cc85717dc241ae31798b558,Follow up to broken Zuul config,NEW,2024-06-05 07:04:22.000000000,2024-06-14 22:02:42.000000000,,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 36770}]","[{'number': 1, 'created': '2024-06-05 07:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/942a237dbf5f066c7763dce0220dd6f402e69fd3', 'message': 'Revert ""Fix negative lookahead assertion syntax error""\n\nThis reverts commit 2c687701821c9c212cf92e8254a3547cd87e25a1.\n\nReason for revert: Prevented Bandit job from running\n\nChange-Id: I64909aa932635b729cc85717dc241ae31798b558\n'}, {'number': 2, 'created': '2024-06-05 17:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/fedd8f9ed91a845125d5a1d4aa0cd890376ad5d3', 'message': 'Follow up to broken Zuul config\n\nChange-Id: I64909aa932635b729cc85717dc241ae31798b558\n'}, {'number': 3, 'created': '2024-06-14 18:28:50.000000000', 'files': ['zuul.d/ironic-python-agent-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/a1773199b75a58c0fc42baae753c315594a1996f', 'message': 'Follow up to broken Zuul config\n\nChange-Id: I64909aa932635b729cc85717dc241ae31798b558\n'}]",4,921352,a1773199b75a58c0fc42baae753c315594a1996f,12,4,3,10342,,,0,"Follow up to broken Zuul config

Change-Id: I64909aa932635b729cc85717dc241ae31798b558
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/52/921352/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-python-agent-jobs.yaml'],1,942a237dbf5f066c7763dce0220dd6f402e69fd3,, - ^tools/(?!bandit.yml).*$ - ^tools/(?!bandit.yml).*$, - ^tools/.*$ - regex: ^tools/bandit\.yml$ negate: true - regex: ^tools/bandit\.yml$ negate: true,2,5
openstack%2Fdevstack-plugin-container~922044,openstack/devstack-plugin-container,unmaintained/zed,Id4721d419b22b6d6498d192e3f313629ad33ef69,zuul: drop devstack-gate reference,MERGED,2024-06-14 17:36:42.000000000,2024-06-14 21:56:26.000000000,2024-06-14 21:56:26.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-14 17:36:42.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/db4b92fce46705bf46bcb10bcd9024dd527b2b67', 'message': 'zuul: drop devstack-gate reference\n\nDevstack jobs no longer depend on the devstack-gate project, which has\nbeen retired\n\nChange-Id: Id4721d419b22b6d6498d192e3f313629ad33ef69\n(cherry picked from commit 3e2a0ffe4fd01db7687e4ef23ab23c4ae0bacb50)\n(cherry picked from commit 70f7bba35921571c9a31d59c6f66f430efb96b52)\n'}]",1,922044,db4b92fce46705bf46bcb10bcd9024dd527b2b67,6,2,1,17685,,,0,"zuul: drop devstack-gate reference

Devstack jobs no longer depend on the devstack-gate project, which has
been retired

Change-Id: Id4721d419b22b6d6498d192e3f313629ad33ef69
(cherry picked from commit 3e2a0ffe4fd01db7687e4ef23ab23c4ae0bacb50)
(cherry picked from commit 70f7bba35921571c9a31d59c6f66f430efb96b52)
",git fetch https://review.opendev.org/openstack/devstack-plugin-container refs/changes/44/922044/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,db4b92fce46705bf46bcb10bcd9024dd527b2b67,retire-devstack-gate,, - openstack/devstack-gate - openstack/devstack-gate,0,2
openstack%2Fmanila-ui~921277,openstack/manila-ui,master,Icc86acb329cc6ff1ab82dd47bb8850121805354f,Add Filter choices to resources,NEW,2024-06-04 11:20:30.000000000,2024-06-14 21:54:17.000000000,,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 32594}]","[{'number': 1, 'created': '2024-06-04 11:20:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/0c2d51b4f673c89e445fce5def9769e7475776bd', 'message': 'Add Filter choices to resources\n\nAdds more filter choices to resources\n\nChange-Id: Icc86acb329cc6ff1ab82dd47bb8850121805354f\n'}, {'number': 2, 'created': '2024-06-04 12:27:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/002dc96baeb42bbf324fe0d68a6c12e2979da467', 'message': 'Add Filter choices to resources\n\nAdds more filter choices to share networks\n\nChange-Id: Icc86acb329cc6ff1ab82dd47bb8850121805354f\n'}, {'number': 3, 'created': '2024-06-04 12:44:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/897c5d6814f2156b66c3df09afda4cf59492985e', 'message': 'Add Filter choices to resources\n\nAdds more filter choices to share networks\n\nChange-Id: Icc86acb329cc6ff1ab82dd47bb8850121805354f\n'}, {'number': 4, 'created': '2024-06-11 15:45:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/d8a74ece88ad56006ca543815b64a94acc371f90', 'message': 'Add Filter choices to resources\n\nAdds more filter choices to share networks\n\nChange-Id: Icc86acb329cc6ff1ab82dd47bb8850121805354f\n'}, {'number': 5, 'created': '2024-06-11 16:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/590bd443c8a01ffee638cd77664d65c3197bcacb', 'message': 'Add Filter choices to resources\n\nAdds more filter choices to share networks\n\nChange-Id: Icc86acb329cc6ff1ab82dd47bb8850121805354f\n'}, {'number': 6, 'created': '2024-06-12 11:10:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/090b7d7df1209c3452670c8296191f0cf42747b7', 'message': 'Add Filter choices to resources\n\nAdds more filter choices to share networks\n\nChange-Id: Icc86acb329cc6ff1ab82dd47bb8850121805354f\n'}, {'number': 7, 'created': '2024-06-13 11:38:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/ac16ae322f7a247324dd654600d8050bc517920a', 'message': 'Add Filter choices to resources\n\nAdds more filter choices to share networks\n\nChange-Id: Icc86acb329cc6ff1ab82dd47bb8850121805354f\n'}, {'number': 8, 'created': '2024-06-14 20:59:24.000000000', 'files': ['manila_ui/dashboards/admin/share_networks/views.py', 'releasenotes/notes/add-filter-choices-to-share-networks-d34e4aa6a1eb88ae.yaml', 'manila_ui/dashboards/admin/share_networks/tables.py', 'manila_ui/tests/dashboards/admin/share_networks/tests.py'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/dd7d75e16f23d0f255eb5e67b8e9b50e9e6092f0', 'message': 'Add Filter choices to resources\n\nAdds more filter choices to share networks\n\nChange-Id: Icc86acb329cc6ff1ab82dd47bb8850121805354f\n'}]",12,921277,dd7d75e16f23d0f255eb5e67b8e9b50e9e6092f0,21,4,8,36853,,,0,"Add Filter choices to resources

Adds more filter choices to share networks

Change-Id: Icc86acb329cc6ff1ab82dd47bb8850121805354f
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/77/921277/1 && git format-patch -1 --stdout FETCH_HEAD,['manila_ui/dashboards/admin/share_types/tables.py'],1,0c2d51b4f673c89e445fce5def9769e7475776bd,filter_choices," ('created_before', _(""Created Before ""), True), ('created_since', _(""Created Since ""), True), ('group_specs', _(""Group Specs ""), True),",,3,0
openstack%2Fneutron~907504,openstack/neutron,master,I893c23ff3f33abbacc9bc99ca08b9f3d67f40e3b,Change OVN client to account for nested networks,NEW,2024-02-01 23:00:14.000000000,2024-06-14 21:47:06.000000000,,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 9656}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 28056}]","[{'number': 1, 'created': '2024-02-01 23:00:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1166eb539fcfe1c3e578b12e6039b5c398ba3fb0', 'message': 'WIP: Change OVN client to account for nested networks\n\nWhen the OVN driver adds SNAT rules, it only adds them\nfor network CIDRs directly connected to the internal\nrouter ports. This can be seen in the NB DB using:\n\n  # ovn-nbctl lr-nat-list neutron-$ID\n\nWhere $ID is the router ID.\n\nIf there is a router on this network with a network\nnested behind it, no SNAT rule will be added for that\nCIDR.\n\nChange the code to account for such a scenario by\nrecursively traversing all attached routers and\ntheir networks. Restarting neutron-server and running\nthe OVN DB sync tool in repair mode is required for the\nadditional SNAT rules to be added to existing routers.\n\nThe alternative is to just install a single SNAT rule\nwith the logical_ip of 0.0.0.0/0, so I want to get\nfeedback on the approach offered here.\n\nNeeds tests added as well.\n\nCloses-bug: #2051935\nChange-Id: I893c23ff3f33abbacc9bc99ca08b9f3d67f40e3b\n'}, {'number': 2, 'created': '2024-02-06 00:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/89cd3431b2c74f929cf96e8e957aecb93ec4b0a2', 'message': 'WIP: Change OVN client to account for nested networks\n\nWhen the OVN driver adds SNAT rules, it only adds them\nfor network CIDRs directly connected to the internal\nrouter ports. This can be seen in the NB DB using:\n\n  # ovn-nbctl lr-nat-list neutron-$ID\n\nWhere $ID is the router ID.\n\nIf there is a router on this network with a network\nnested behind it, no SNAT rule will be added for that\nCIDR.\n\nChange the code to account for such a scenario by\nrecursively traversing all attached routers and\ntheir networks. Restarting neutron-server and running\nthe OVN DB sync tool in repair mode is required for the\nadditional SNAT rules to be added to existing routers.\n\nFound a number of unit tests were incorrectly mocking\nsome of the OVN client code, fixed all instances that\nwere causing existing tests to fail with this change.\n\nNeeds new tests added as well.\n\nCloses-bug: #2051935\nChange-Id: I893c23ff3f33abbacc9bc99ca08b9f3d67f40e3b\n'}, {'number': 3, 'created': '2024-02-09 21:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4700deb58f3e4cc831fd179da85abc189eb11622', 'message': 'Change OVN client to account for nested networks\n\nWhen the OVN driver adds SNAT rules, it only adds them\nfor network CIDRs directly connected to the internal\nrouter ports. This can be seen in the NB DB using:\n\n  # ovn-nbctl lr-nat-list neutron-$ID\n\nWhere $ID is the router ID.\n\nIf there is a router on this network with a network\nnested behind it, no SNAT rule will be added for that\nCIDR.\n\nChange the code to account for such a scenario by\nrecursively traversing all attached routers and\ntheir networks. Restarting neutron-server and running\nthe OVN DB sync tool in repair mode is required for the\nadditional SNAT rules to be added to existing routers.\n\nFound a number of unit tests were incorrectly mocking\nsome of the OVN client code, fixed all instances that\nwere causing existing tests to fail with this change.\n\nCloses-bug: #2051935\nChange-Id: I893c23ff3f33abbacc9bc99ca08b9f3d67f40e3b\n'}, {'number': 4, 'created': '2024-02-10 16:14:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6f2d97d55a64c0408c0133a4d05c145fd5881d5a', 'message': 'Change OVN client to account for nested networks\n\nWhen the OVN driver adds SNAT rules, it only adds them\nfor network CIDRs directly connected to the internal\nrouter ports. This can be seen in the NB DB using:\n\n  # ovn-nbctl lr-nat-list neutron-$ID\n\nWhere $ID is the router ID.\n\nIf there is a router on this network with a network\nnested behind it, no SNAT rule will be added for that\nCIDR.\n\nChange the code to account for such a scenario by\nrecursively traversing all attached routers and\ntheir networks. Restarting neutron-server and running\nthe OVN DB sync tool in repair mode is required for the\nadditional SNAT rules to be added to existing routers.\n\nFound a number of unit tests were incorrectly mocking\nsome of the OVN client code, fixed all instances that\nwere causing existing tests to fail with this change.\n\nCloses-bug: #2051935\nChange-Id: I893c23ff3f33abbacc9bc99ca08b9f3d67f40e3b\n'}, {'number': 5, 'created': '2024-02-12 18:57:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/036597f025190383dd3b6dad3897899dff2d4bb9', 'message': 'Change OVN client to account for nested networks\n\nWhen the OVN driver adds SNAT rules, it only adds them\nfor network CIDRs directly connected to the internal\nrouter ports. This can be seen in the NB DB using:\n\n  # ovn-nbctl lr-nat-list neutron-$ID\n\nWhere $ID is the router ID.\n\nIf there is a router on this network with a network\nnested behind it, no SNAT rule will be added for that\nCIDR.\n\nChange the code to account for such a scenario by\nrecursively traversing all attached routers and\ntheir networks. Restarting neutron-server and running\nthe OVN DB sync tool in repair mode is required for the\nadditional SNAT rules to be added to existing routers.\n\nFound a number of unit tests were incorrectly mocking\nsome of the OVN client code, fixed all instances that\nwere causing existing tests to fail with this change.\n\nCloses-bug: #2051935\nChange-Id: I893c23ff3f33abbacc9bc99ca08b9f3d67f40e3b\n'}, {'number': 6, 'created': '2024-03-19 22:13:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9a45b1b061ca54a0d10fbda64e260ac73b8db7fa', 'message': 'Change OVN client to account for nested networks\n\nWhen the OVN driver adds SNAT rules, it only adds them\nfor network CIDRs directly connected to the internal\nrouter ports. This can be seen in the NB DB using:\n\n  # ovn-nbctl lr-nat-list neutron-$ID\n\nWhere $ID is the router ID.\n\nIf there is a router on this network with a network\nnested behind it, no SNAT rule will be added for that\nCIDR.\n\nChange the code to account for such a scenario by\nrecursively traversing all attached routers and\ntheir networks. Restarting neutron-server and running\nthe OVN DB sync tool in repair mode is required for the\nadditional SNAT rules to be added to existing routers.\n\nFound a number of unit tests were incorrectly mocking\nsome of the OVN client code, fixed all instances that\nwere causing existing tests to fail with this change.\n\nCloses-bug: #2051935\nChange-Id: I893c23ff3f33abbacc9bc99ca08b9f3d67f40e3b\n'}, {'number': 7, 'created': '2024-04-01 21:55:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/39b526e61aac9b9531344e633197083fd9fb239e', 'message': 'Change OVN client to account for nested networks\n\nWhen the OVN driver adds SNAT rules, it only adds them\nfor network CIDRs directly connected to the internal\nrouter ports. This can be seen in the NB DB using:\n\n  # ovn-nbctl lr-nat-list neutron-$ID\n\nWhere $ID is the router ID.\n\nIf there is a router on this network with a network\nnested behind it, no SNAT rule will be added for that\nCIDR.\n\nChange the code to account for such a scenario by\nrecursively traversing all attached routers and their\nnetworks, up to a depth of 20 routers. Restarting\nneutron-server and running the OVN DB sync tool in\nrepair mode is required for the additional SNAT rules\nto be added to existing routers.\n\nFound a number of unit tests were incorrectly mocking\nsome of the OVN client code, fixed all instances that\nwere causing existing tests to fail with this change.\n\nCloses-bug: #2051935\nChange-Id: I893c23ff3f33abbacc9bc99ca08b9f3d67f40e3b\n'}, {'number': 8, 'created': '2024-04-19 21:03:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/392281ef0759487998242c69cf2ded850b0bf83a', 'message': 'Change OVN client to account for nested networks\n\nWhen the OVN driver adds SNAT rules, it only adds them\nfor network CIDRs directly connected to the internal\nrouter ports. This can be seen in the NB DB using:\n\n  # ovn-nbctl lr-nat-list neutron-$ID\n\nWhere $ID is the router ID.\n\nIf there is a router on this network with a network\nnested behind it, no default SNAT rule will be added\nfor that CIDR.\n\nThe original intent was for neutron to allow this behavior,\nplease see https://bugs.launchpad.net/neutron/+bug/1386041\nfor that description and dicsussion of the reasoning.\nThis change closes the gap with respect to OVN.\n\nChange the code to account for such a scenario by\nrecursively traversing all attached routers and their\nnetworks, up to a depth of 20 routers. Restarting\nneutron-server and running the OVN DB sync tool in\nrepair mode is required for the additional SNAT rules\nto be added to existing routers.\n\nFound a number of unit tests were incorrectly mocking\nsome of the OVN client code, fixed all instances that\nwere causing existing tests to fail with this change.\n\nCloses-bug: #2051935\nChange-Id: I893c23ff3f33abbacc9bc99ca08b9f3d67f40e3b\n'}, {'number': 9, 'created': '2024-04-25 22:32:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a71b4ecaea6bb778cb4dc67d812955f91e7bfd55', 'message': 'Change OVN client to account for nested networks\n\nWhen the OVN driver adds SNAT rules, it only adds them\nfor network CIDRs directly connected to the internal\nrouter ports. This can be seen in the NB DB using:\n\n  # ovn-nbctl lr-nat-list neutron-$ID\n\nWhere $ID is the router ID.\n\nIf there is a router on this network with a network\nnested behind it, no default SNAT rule will be added\nfor that CIDR.\n\nThe original intent was for neutron to allow this behavior,\nplease see https://bugs.launchpad.net/neutron/+bug/1386041\nfor that description and dicsussion of the reasoning.\nThis change closes the gap with respect to OVN.\n\nChange the code to account for such a scenario by\nrecursively traversing all attached routers and their\nnetworks, up to a depth of 20 routers. Restarting\nneutron-server and running the OVN DB sync tool in\nrepair mode is required for the additional SNAT rules\nto be added to existing routers.\n\nFound a number of unit tests were incorrectly mocking\nsome of the OVN client code, fixed all instances that\nwere causing existing tests to fail with this change.\n\nCloses-bug: #2051935\nChange-Id: I893c23ff3f33abbacc9bc99ca08b9f3d67f40e3b\n'}, {'number': 10, 'created': '2024-04-25 22:34:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/78915bd1bedd0d8f9c945aa63dad6f9603e00cdb', 'message': 'Change OVN client to account for nested networks\n\nWhen the OVN driver adds SNAT rules, it only adds them\nfor network CIDRs directly connected to the internal\nrouter ports. This can be seen in the NB DB using:\n\n  # ovn-nbctl lr-nat-list neutron-$ID\n\nWhere $ID is the router ID.\n\nIf there is a router on this network with a network\nnested behind it, no default SNAT rule will be added\nfor that CIDR.\n\nThe original intent was for neutron to allow this behavior,\nplease see https://bugs.launchpad.net/neutron/+bug/1386041\nfor that description and discussion of the reasoning.\nThis change closes the gap with respect to OVN.\n\nChange the code to account for such a scenario by\nrecursively traversing all attached routers and their\nnetworks, up to a depth of 20 routers. Restarting\nneutron-server and running the OVN DB sync tool in\nrepair mode is required for the additional SNAT rules\nto be added to existing routers.\n\nFound a number of unit tests were incorrectly mocking\nsome of the OVN client code, fixed all instances that\nwere causing existing tests to fail with this change.\n\nCloses-bug: #2051935\nChange-Id: I893c23ff3f33abbacc9bc99ca08b9f3d67f40e3b\n'}, {'number': 11, 'created': '2024-05-11 15:38:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1457777952c21e50e99e27e89c8c44551b521c92', 'message': 'Change OVN client to account for nested networks\n\nWhen the OVN driver adds SNAT rules, it only adds them\nfor network CIDRs directly connected to the internal\nrouter ports. This can be seen in the NB DB using:\n\n  # ovn-nbctl lr-nat-list neutron-$ID\n\nWhere $ID is the router ID.\n\nIf there is a router on this network with a network\nnested behind it, no default SNAT rule will be added\nfor that CIDR.\n\nThe original intent was for neutron to allow this behavior,\nplease see https://bugs.launchpad.net/neutron/+bug/1386041\nfor that description and discussion of the reasoning.\nThis change closes the gap with respect to OVN.\n\nChange the code to account for such a scenario by\nrecursively traversing all attached routers and their\nnetworks, up to a depth of 20 routers. Restarting\nneutron-server and running the OVN DB sync tool in\nrepair mode is required for the additional SNAT rules\nto be added to existing routers.\n\nFound a number of unit tests were incorrectly mocking\nsome of the OVN client code, fixed all instances that\nwere causing existing tests to fail with this change.\n\nCloses-bug: #2051935\nChange-Id: I893c23ff3f33abbacc9bc99ca08b9f3d67f40e3b\n'}, {'number': 12, 'created': '2024-05-11 15:42:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3538ff9e95d918dd314ba0cc0850a78d5acfe240', 'message': 'Change OVN client to account for nested networks\n\nWhen the OVN driver adds SNAT rules, it only adds them\nfor network CIDRs directly connected to the internal\nrouter ports. This can be seen in the NB DB using:\n\n  # ovn-nbctl lr-nat-list neutron-$ID\n\nWhere $ID is the router ID.\n\nIf there is a router on this network with a network\nnested behind it, no default SNAT rule will be added\nfor that CIDR.\n\nThe original intent was for neutron to allow this behavior,\nplease see https://bugs.launchpad.net/neutron/+bug/1386041\nfor that description and discussion of the reasoning.\nThis change closes the gap with respect to OVN.\n\nChange the code to account for such a scenario by\nrecursively traversing all attached routers and their\nnetworks, up to a depth of 20 routers. Restarting\nneutron-server and running the OVN DB sync tool in\nrepair mode is required for the additional SNAT rules\nto be added to existing routers.\n\nFound a number of unit tests were incorrectly mocking\nsome of the OVN client code, fixed all instances that\nwere causing existing tests to fail with this change.\n\nCo-authored-by: Ihar Hrachyshka <ihrachys@redhat.com>\n\nCloses-bug: #2051935\nChange-Id: I893c23ff3f33abbacc9bc99ca08b9f3d67f40e3b\n'}, {'number': 13, 'created': '2024-05-16 10:26:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1dacb75b63fdfe17c87d6665f2711e672ae2fd41', 'message': 'Change OVN client to account for nested networks\n\nWhen the OVN driver adds SNAT rules, it only adds them\nfor network CIDRs directly connected to the internal\nrouter ports. This can be seen in the NB DB using:\n\n  # ovn-nbctl lr-nat-list neutron-$ID\n\nWhere $ID is the router ID.\n\nIf there is a router on this network with a network\nnested behind it, no default SNAT rule will be added\nfor that CIDR.\n\nThe original intent was for neutron to allow this behavior,\nplease see https://bugs.launchpad.net/neutron/+bug/1386041\nfor that description and discussion of the reasoning.\nThis change closes the gap with respect to OVN.\n\nChange the code to account for such a scenario by\nrecursively traversing all attached routers and their\nnetworks, up to a depth of 20 routers. Restarting\nneutron-server and running the OVN DB sync tool in\nrepair mode is required for the additional SNAT rules\nto be added to existing routers.\n\nFound a number of unit tests were incorrectly mocking\nsome of the OVN client code, fixed all instances that\nwere causing existing tests to fail with this change.\n\nCo-authored-by: Ihar Hrachyshka <ihrachys@redhat.com>\n\nCloses-bug: #2051935\nChange-Id: I893c23ff3f33abbacc9bc99ca08b9f3d67f40e3b\n'}, {'number': 14, 'created': '2024-05-20 22:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3bed312ac1631b9607f0224bae6cadc5aaf6c8e8', 'message': 'Change OVN client to account for nested networks\n\nWhen the OVN driver adds SNAT rules, it only adds them\nfor network CIDRs directly connected to the internal\nrouter ports. This can be seen in the NB DB using:\n\n  # ovn-nbctl lr-nat-list neutron-$ID\n\nWhere $ID is the router ID.\n\nIf there is a router on this network with a network\nnested behind it, no default SNAT rule will be added\nfor that CIDR.\n\nThe original intent was for neutron to allow this behavior,\nplease see https://bugs.launchpad.net/neutron/+bug/1386041\nfor that description and discussion of the reasoning.\nThis change closes the gap with respect to OVN.\n\nChange the code to account for such a scenario by\nrecursively traversing all attached routers and their\nnetworks, up to a limit of 20 routers. Restarting\nneutron-server and running the OVN DB sync tool in\nrepair mode is required for the additional SNAT rules\nto be added to existing routers.\n\nFound a number of unit tests were incorrectly mocking\nsome of the OVN client code, fixed all instances that\nwere causing existing tests to fail with this change.\n\nCo-authored-by: Ihar Hrachyshka <ihrachys@redhat.com>\n\nCloses-bug: #2051935\nChange-Id: I893c23ff3f33abbacc9bc99ca08b9f3d67f40e3b\n'}, {'number': 15, 'created': '2024-05-22 20:50:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/641d3b2090aabb2f143a11f04c9e33ef761d8b97', 'message': 'Change OVN client to account for nested networks\n\nWhen the OVN driver adds SNAT rules, it only adds them\nfor network CIDRs directly connected to the internal\nrouter ports. This can be seen in the NB DB using:\n\n  # ovn-nbctl lr-nat-list neutron-$ID\n\nWhere $ID is the router ID.\n\nIf there is a router on this network with a network\nnested behind it, no default SNAT rule will be added\nfor that CIDR.\n\nThe original intent was for neutron to allow this behavior,\nplease see https://bugs.launchpad.net/neutron/+bug/1386041\nfor that description and discussion of the reasoning.\nThis change closes the gap with respect to OVN.\n\nChange the code to account for such a scenario by\nrecursively traversing all attached routers and their\nnetworks, up to a limit of 20 routers. Restarting\nneutron-server and running the OVN DB sync tool in\nrepair mode is required for the additional SNAT rules\nto be added to existing routers.\n\nFound a number of unit tests were incorrectly mocking\nsome of the OVN client code, fixed all instances that\nwere causing existing tests to fail with this change.\n\nCo-authored-by: Ihar Hrachyshka <ihrachys@redhat.com>\n\nCloses-bug: #2051935\nChange-Id: I893c23ff3f33abbacc9bc99ca08b9f3d67f40e3b\n'}, {'number': 16, 'created': '2024-05-24 00:51:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/efdadc6859aa2ccc1d181e04fd3c04cb5e9761b2', 'message': 'Change OVN client to account for nested networks\n\nWhen the OVN driver adds SNAT rules, it only adds them\nfor network CIDRs directly connected to the internal\nrouter ports. This can be seen in the NB DB using:\n\n  # ovn-nbctl lr-nat-list neutron-$ID\n\nWhere $ID is the router ID.\n\nIf there is a router on this network with a network\nnested behind it, no default SNAT rule will be added\nfor that CIDR.\n\nThe original intent was for neutron to allow this behavior,\nplease see https://bugs.launchpad.net/neutron/+bug/1386041\nfor that description and discussion of the reasoning.\nThis change closes the gap with respect to OVN.\n\nChange the code to account for such a scenario by\nrecursively traversing all attached routers and their\nnetworks, up to a limit of 50 routers. Restarting\nneutron-server and running the OVN DB sync tool in\nrepair mode is required for the additional SNAT rules\nto be added to existing routers.\n\nFound a number of unit tests were incorrectly mocking\nsome of the OVN client code, fixed all instances that\nwere causing existing tests to fail with this change.\n\nCo-authored-by: Ihar Hrachyshka <ihrachys@redhat.com>\n\nCloses-bug: #2051935\nChange-Id: I893c23ff3f33abbacc9bc99ca08b9f3d67f40e3b\n'}, {'number': 17, 'created': '2024-05-29 02:19:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/151004b668632aed59bdb69c2dfc735ef3c266fe', 'message': 'Change OVN client to account for nested networks\n\nWhen the OVN driver adds SNAT rules, it only adds them\nfor network CIDRs directly connected to the internal\nrouter ports. This can be seen in the NB DB using:\n\n  # ovn-nbctl lr-nat-list neutron-$ID\n\nWhere $ID is the router ID.\n\nIf there is a router on this network with a network\nnested behind it, no default SNAT rule will be added\nfor that CIDR.\n\nThe original intent was for neutron to allow this behavior,\nplease see https://bugs.launchpad.net/neutron/+bug/1386041\nfor that description and discussion of the reasoning.\nThis change closes the gap with respect to OVN.\n\nChange the code to account for such a scenario by\nrecursively traversing all attached routers and their\nnetworks, up to a limit of 50 routers. Restarting\nneutron-server and running the OVN DB sync tool in\nrepair mode is required for the additional SNAT rules\nto be added to existing routers.\n\nFound a number of unit tests were incorrectly mocking\nsome of the OVN client code, fixed all instances that\nwere causing existing tests to fail with this change.\n\nCo-authored-by: Ihar Hrachyshka <ihrachys@redhat.com>\n\nCloses-bug: #2051935\nChange-Id: I893c23ff3f33abbacc9bc99ca08b9f3d67f40e3b\n'}, {'number': 18, 'created': '2024-05-30 20:42:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5713642867137f69eb108360ed07d67649136f1d', 'message': 'Change OVN client to account for nested networks\n\nWhen the OVN driver adds SNAT rules, it only adds them\nfor network CIDRs directly connected to the internal\nrouter ports. This can be seen in the NB DB using:\n\n  # ovn-nbctl lr-nat-list neutron-$ID\n\nWhere $ID is the router ID.\n\nIf there is a router on this network with a network\nnested behind it, no default SNAT rule will be added\nfor that CIDR.\n\nThe original intent was for neutron to allow this behavior,\nplease see https://bugs.launchpad.net/neutron/+bug/1386041\nfor that description and discussion of the reasoning.\nThis change closes the gap with respect to OVN.\n\nChange the code to account for such a scenario by\nrecursively traversing all attached routers and their\nnetworks, up to a limit of 50 routers. Restarting\nneutron-server and running the OVN DB sync tool in\nrepair mode is required for the additional SNAT rules\nto be added to existing routers.\n\nFound a number of unit tests were incorrectly mocking\nsome of the OVN client code, fixed all instances that\nwere causing existing tests to fail with this change.\n\nCo-authored-by: Ihar Hrachyshka <ihrachys@redhat.com>\n\nCloses-bug: #2051935\nChange-Id: I893c23ff3f33abbacc9bc99ca08b9f3d67f40e3b\n'}, {'number': 19, 'created': '2024-06-06 14:41:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b1ee966bbdaaf004cdd40a12f1337c0a2bca66e1', 'message': 'Change OVN client to account for nested networks\n\nWhen the OVN driver adds SNAT rules, it only adds them\nfor network CIDRs directly connected to the internal\nrouter ports. This can be seen in the NB DB using:\n\n  # ovn-nbctl lr-nat-list neutron-$ID\n\nWhere $ID is the router ID.\n\nIf there is a router on this network with a network\nnested behind it, no default SNAT rule will be added\nfor that CIDR.\n\nThe original intent was for neutron to allow this behavior,\nplease see https://bugs.launchpad.net/neutron/+bug/1386041\nfor that description and discussion of the reasoning.\nThis change closes the gap with respect to OVN.\n\nChange the code to account for such a scenario by\nrecursively traversing all attached routers and their\nnetworks, up to a limit of 50 routers. If more than\n50 routers are configured, no SNAT rules will be added,\nand SNAT will be disabled for all subnets. Restarting\nneutron-server and running the OVN DB sync tool in\nrepair mode is required for the additional SNAT rules\nto be added to existing routers.\n\nFound a number of unit tests were incorrectly mocking\nsome of the OVN client code, fixed all instances that\nwere causing existing tests to fail with this change.\n\nCo-authored-by: Ihar Hrachyshka <ihrachys@redhat.com>\n\nCloses-bug: #2051935\nChange-Id: I893c23ff3f33abbacc9bc99ca08b9f3d67f40e3b\n'}, {'number': 20, 'created': '2024-06-12 01:36:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5e4f656eea5cdee3892e7ef964ce4d38b3225565', 'message': 'Change OVN client to account for nested networks\n\nWhen the OVN driver adds SNAT rules, it only adds them\nfor network CIDRs directly connected to the internal\nrouter ports. This can be seen in the NB DB using:\n\n  # ovn-nbctl lr-nat-list neutron-$ID\n\nWhere $ID is the router ID.\n\nIf there is a router on this network with a network\nnested behind it, no default SNAT rule will be added\nfor that CIDR.\n\nThe original intent was for neutron to allow this behavior,\nplease see https://bugs.launchpad.net/neutron/+bug/1386041\nfor that description and discussion of the reasoning.\nThis change closes the gap with respect to OVN.\n\nChange the code to account for such a scenario by\nrecursively traversing all attached routers and their\nnetworks, up to a limit of 50 routers. If more than\n50 routers are configured, no SNAT rules will be added,\nand SNAT will be disabled for all subnets. Restarting\nneutron-server and running the OVN DB sync tool in\nrepair mode is required for the additional SNAT rules\nto be added to existing routers.\n\nFound a number of unit tests were incorrectly mocking\nsome of the OVN client code, fixed all instances that\nwere causing existing tests to fail with this change.\n\nCo-authored-by: Ihar Hrachyshka <ihrachys@redhat.com>\n\nCloses-bug: #2051935\nChange-Id: I893c23ff3f33abbacc9bc99ca08b9f3d67f40e3b\n'}, {'number': 21, 'created': '2024-06-12 02:31:08.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'releasenotes/notes/ovn-router-nested-networks-e57978cf71760703.yaml', 'neutron/tests/unit/services/ovn_l3/test_plugin.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_client.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ac95497ee48e703e9e3fb4a7786bad4c38d9a2f1', 'message': 'Change OVN client to account for nested networks\n\nWhen the OVN driver adds SNAT rules, it only adds them\nfor network CIDRs directly connected to the internal\nrouter ports. This can be seen in the NB DB using:\n\n  # ovn-nbctl lr-nat-list neutron-$ID\n\nWhere $ID is the router ID.\n\nIf there is a router on this network with a network\nnested behind it, no default SNAT rule will be added\nfor that CIDR.\n\nThe original intent was for neutron to allow this behavior,\nplease see https://bugs.launchpad.net/neutron/+bug/1386041\nfor that description and discussion of the reasoning.\nThis change closes the gap with respect to OVN.\n\nChange the code to account for such a scenario by\nrecursively traversing all attached routers and their\nnetworks, up to a limit of (default qouta * 5) routers\n(currently 50). If more than that number of routers are\nconfigured, no SNAT rules will be added for any nested\nsubnets and SNAT will only be enabled for subnets directly\nattached to the router. Restarting neutron-server and\nrunning the OVN DB sync tool in repair mode is required\nfor the additional SNAT rules to be added to existing routers.\n\nFound a number of unit tests were incorrectly mocking\nsome of the OVN client code, fixed all instances that\nwere causing existing tests to fail with this change.\n\nCo-authored-by: Ihar Hrachyshka <ihrachys@redhat.com>\n\nCloses-bug: #2051935\nChange-Id: I893c23ff3f33abbacc9bc99ca08b9f3d67f40e3b\n'}]",135,907504,ac95497ee48e703e9e3fb4a7786bad4c38d9a2f1,147,8,21,1131,,,0,"Change OVN client to account for nested networks

When the OVN driver adds SNAT rules, it only adds them
for network CIDRs directly connected to the internal
router ports. This can be seen in the NB DB using:

  # ovn-nbctl lr-nat-list neutron-$ID

Where $ID is the router ID.

If there is a router on this network with a network
nested behind it, no default SNAT rule will be added
for that CIDR.

The original intent was for neutron to allow this behavior,
please see https://bugs.launchpad.net/neutron/+bug/1386041
for that description and discussion of the reasoning.
This change closes the gap with respect to OVN.

Change the code to account for such a scenario by
recursively traversing all attached routers and their
networks, up to a limit of (default qouta * 5) routers
(currently 50). If more than that number of routers are
configured, no SNAT rules will be added for any nested
subnets and SNAT will only be enabled for subnets directly
attached to the router. Restarting neutron-server and
running the OVN DB sync tool in repair mode is required
for the additional SNAT rules to be added to existing routers.

Found a number of unit tests were incorrectly mocking
some of the OVN client code, fixed all instances that
were causing existing tests to fail with this change.

Co-authored-by: Ihar Hrachyshka <ihrachys@redhat.com>

Closes-bug: #2051935
Change-Id: I893c23ff3f33abbacc9bc99ca08b9f3d67f40e3b
",git fetch https://review.opendev.org/openstack/neutron refs/changes/04/907504/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py'],1,1166eb539fcfe1c3e578b12e6039b5c398ba3fb0,bug/2051935," # return both a cidr and the subnet id it belongs to cidr_sid = (None, None) cidr_sid = (subnet['cidr'], subnet['id']) return cidr_sid # 'network' here is actually a cidr network, sid = self._get_v4_network_for_router_port(context, port) # We also want to get network cidrs of ""nested"" routers, i.e. # routers on a private network to another private network. nested = self._get_v4_networks_of_nested_router_ports( context, port, sid) networks.extend(nested) return networks def _get_subnet_router_ports(self, context, subnet_id): filters = {'fixed_ips': {'subnet_id': [subnet_id]}, 'device_owner': [const.DEVICE_OWNER_ROUTER_INTF]} return self._plugin.get_ports(context, filters=filters) def _get_v4_networks_of_nested_router_ports(self, context, port, subnet_id): # This needs to be recursive since it could be more than one level deep networks = [] # Get all router ports on the subnet, then filter the one passed all_ports = self._get_subnet_router_ports(context, subnet_id) new_ports = [p for p in all_ports if p['id'] != port['id']] for nport in new_ports: # Get other ports of the router, i.e. ones not in this subnet r_ports = self._get_router_ports(context, nport['device_id']) new_rports = [p for p in r_ports if p['id'] != nport['id']] for rport in new_rports: network, sid = self._get_v4_network_for_router_port( context, rport) if network: networks.append(network) # Down the rabbit hole we go... nested = self._get_v4_networks_of_nested_router_ports( context, rport, sid) networks.extend(nested) "," cidr = None cidr = subnet['cidr'] return cidr network = self._get_v4_network_for_router_port(context, port)",41,4
openstack%2Fmanila~921535,openstack/manila,stable/2023.2,I6412710c7db89747d23033e1a5a6be9de5886b0b,Add a new config option to specify admin metadata,NEW,2024-06-07 14:59:17.000000000,2024-06-14 21:41:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-07 14:59:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/1ae3a43947396bb73526d6b8f76eaf033bbe444d', 'message': 'Add a new config option to specify admin metadata\n\n- A new config option named ``admin_metadata_keys`` was introduced\nand we expect it to be set in the DEFAULT section of the manila\nconfiguration file. It is expected that administrators will provide\na list of metadata keys that can only be updated by administrators\nthrough this configuration option.\n\n- Drivers will be able to set metadata while creating shares\nthrough the `get_optional_share_creation_data` driver interface.\n\nCloses-Bug: #2050010\nChange-Id: I6412710c7db89747d23033e1a5a6be9de5886b0b\n(cherry picked from commit 3429717601eadc8fd62e570b28a36e1989f677f2)\n'}, {'number': 2, 'created': '2024-06-07 15:05:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/9e2a5ed37128bf541e4e202aa29db767332148c8', 'message': 'Add a new config option to specify admin metadata\n\n- A new config option named ``admin_metadata_keys`` was introduced\nand we expect it to be set in the DEFAULT section of the manila\nconfiguration file. It is expected that administrators will provide\na list of metadata keys that can only be updated by administrators\nthrough this configuration option.\n\n- Drivers will be able to set metadata while creating shares\nthrough the `get_optional_share_creation_data` driver interface.\n\nThis change was squashed with another commit:\nI9a8a27f1181b92291f2d4ad5fd9d4483e2dacc50\n\nCloses-Bug: #2050010\nChange-Id: I6412710c7db89747d23033e1a5a6be9de5886b0b\n(cherry picked from commit 3429717601eadc8fd62e570b28a36e1989f677f2)\n'}, {'number': 3, 'created': '2024-06-14 19:51:42.000000000', 'files': ['manila/share/manager.py', 'manila/api/v1/share_metadata.py', 'manila/share/driver.py', 'manila/common/config.py', 'releasenotes/notes/bug-2050010-allow-configuring-admin-and-driver-metadata-b0ede7d7cf057b5b.yaml', 'manila/common/constants.py', 'manila/tests/share/test_manager.py', 'manila/api/v2/shares.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/70fe76103083c827a6879185a4f52d180d3b19b7', 'message': 'Add a new config option to specify admin metadata\n\n- A new config option named ``admin_metadata_keys`` was introduced\nand we expect it to be set in the DEFAULT section of the manila\nconfiguration file. It is expected that administrators will provide\na list of metadata keys that can only be updated by administrators\nthrough this configuration option.\n\n- Drivers will be able to set metadata while creating shares\nthrough the `get_optional_share_creation_data` driver interface.\n\nThis change was squashed with another commit:\nI9a8a27f1181b92291f2d4ad5fd9d4483e2dacc50\n\nCloses-Bug: #2050010\nChange-Id: I6412710c7db89747d23033e1a5a6be9de5886b0b\n(cherry picked from commit 3429717601eadc8fd62e570b28a36e1989f677f2)\n'}]",1,921535,70fe76103083c827a6879185a4f52d180d3b19b7,7,1,3,29632,,,0,"Add a new config option to specify admin metadata

- A new config option named ``admin_metadata_keys`` was introduced
and we expect it to be set in the DEFAULT section of the manila
configuration file. It is expected that administrators will provide
a list of metadata keys that can only be updated by administrators
through this configuration option.

- Drivers will be able to set metadata while creating shares
through the `get_optional_share_creation_data` driver interface.

This change was squashed with another commit:
I9a8a27f1181b92291f2d4ad5fd9d4483e2dacc50

Closes-Bug: #2050010
Change-Id: I6412710c7db89747d23033e1a5a6be9de5886b0b
(cherry picked from commit 3429717601eadc8fd62e570b28a36e1989f677f2)
",git fetch https://review.opendev.org/openstack/manila refs/changes/35/921535/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/manager.py', 'manila/api/v1/share_metadata.py', 'manila/share/driver.py', 'manila/common/config.py', 'releasenotes/notes/bug-2050010-allow-configuring-admin-and-driver-metadata-b0ede7d7cf057b5b.yaml', 'manila/common/constants.py', 'manila/tests/share/test_manager.py', 'manila/api/v2/shares.py']",8,1ae3a43947396bb73526d6b8f76eaf033bbe444d,bug/2050010,"from oslo_config import cfgCONF = cfg.CONF self._conf_admin_metadata_keys = getattr( CONF, 'admin_metadata_keys', [] ) admin_metadata_ignore_keys = set(self._conf_admin_metadata_keys) if set(metadata).intersection(admin_metadata_ignore_keys): if key in self._conf_admin_metadata_keys:", admin_metadata_ignore_keys = ( constants.AdminOnlyMetadata.SCHEDULER_FILTERS ) if set(metadata).intersection(set(admin_metadata_ignore_keys)): if key in constants.AdminOnlyMetadata.SCHEDULER_FILTERS:,171,11
openstack%2Fmanila~921536,openstack/manila,stable/2023.2,I91b51f974840f593334f2dcddfcfd45adfe87780,Add cephfs filesystem to shares metadata,NEW,2024-06-07 15:06:44.000000000,2024-06-14 21:31:58.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-07 15:06:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a64494bf7654de1639b56973e286bfe332c7c572', 'message': ""Add cephfs filesystem to shares metadata\n\nMake use of the `get_optional_share_creation_data` driver interface\nto metadata in shares' created using the cephfs protocol.\n\nCloses-Bug: #2050010\nChange-Id: I91b51f974840f593334f2dcddfcfd45adfe87780\n""}, {'number': 2, 'created': '2024-06-14 19:52:40.000000000', 'files': ['manila/share/drivers/cephfs/driver.py', 'manila/tests/share/drivers/cephfs/test_driver.py', 'releasenotes/notes/bug-2050010-add-filesystem-name-metadata-to-cephfs-shares-5725d751980360ec.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/1b86b74295a1a31ae77d98a95afd4fd91f577978', 'message': ""Add cephfs filesystem to shares metadata\n\nMake use of the `get_optional_share_creation_data` driver interface\nto metadata in shares' created using the cephfs protocol.\n\nCloses-Bug: #2050010\nChange-Id: I91b51f974840f593334f2dcddfcfd45adfe87780\n""}]",0,921536,1b86b74295a1a31ae77d98a95afd4fd91f577978,4,1,2,29632,,,0,"Add cephfs filesystem to shares metadata

Make use of the `get_optional_share_creation_data` driver interface
to metadata in shares' created using the cephfs protocol.

Closes-Bug: #2050010
Change-Id: I91b51f974840f593334f2dcddfcfd45adfe87780
",git fetch https://review.opendev.org/openstack/manila refs/changes/36/921536/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/cephfs/driver.py', 'manila/tests/share/drivers/cephfs/test_driver.py', 'releasenotes/notes/bug-2050010-add-filesystem-name-metadata-to-cephfs-shares-5725d751980360ec.yaml']",3,a64494bf7654de1639b56973e286bfe332c7c572,,"--- upgrade: - | Shares created using the CEPHFS Native protocol will now have a new `__mount_options` metadata containing the `cephfs_filesystem_name` to enhance usability while mounting shares. Existing shares will be updated through the ensure shares workflow. To preserve backwards compatibility, this metadata is mutable by end users. It is strongly recommended that administrators include ""__mount_options"" in the `[DEFAULT]/admin_only_metadata_keys` configuration option. ",,41,1
openstack%2Fgovernance~920855,openstack/governance,master,I966e5ee1cb5c070757d62b1b2ab7ba38028e8caa,Add retired-on date for a few missing projects,MERGED,2024-05-30 20:03:28.000000000,2024-06-14 21:25:44.000000000,2024-06-14 21:24:44.000000000,"[{'_account_id': 10342}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2024-05-30 20:03:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/05d9ea73a497d3a10c7f6cdf5d28bc0dc7c1dd1b', 'message': ""Add retirement flag and date for Tripleo andFuel projects\n\nWhen we retire the entire project team, we need to add the\n'retired-on' flag and the date of retirement. TripleO and\nFuel project both are retired completly but do not have\nretired-on date for project team.\n\nThis will fix the validate-legacy script to detect the\nproject retirement correctly.\n\nChange-Id: I966e5ee1cb5c070757d62b1b2ab7ba38028e8caa\n""}, {'number': 2, 'created': '2024-05-30 20:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/db9eaf0117a5e9ded46c02fcd377a15444ad6693', 'message': ""Add retired-on date for a few missing projects\n\nWhen we retire the entire project team, we need to add the\n'retired-on' flag and the date of retirement. A few projects\nTripleO, infra, and Fuel project are retired completly but\ndo not have retired-on date for project team.\n\nAlso, adding repo info for refstack.\n\nThis will help fixing the validate-legacy script to detect the\nproject retirement correctly.\n- https://review.opendev.org/c/openstack/governance/+/920848\n\nChange-Id: I966e5ee1cb5c070757d62b1b2ab7ba38028e8caa\n""}, {'number': 3, 'created': '2024-05-30 20:17:17.000000000', 'files': ['reference/legacy.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/2d41d77fa3fe4c275c4f47054c6a2c21eed241d2', 'message': ""Add retired-on date for a few missing projects\n\nWhen we retire the entire project team, we need to add the\n'retired-on' flag and the date of retirement. A few projects\nTripleO, infra, and Fuel project are retired completly but\ndo not have retired-on date for project team.\n\nAlso, adding repo info for refstack.\n\nThis will help fixing the validate-legacy script to detect the\nproject retirement correctly.\n- https://review.opendev.org/c/openstack/governance/+/920848\n\nChange-Id: I966e5ee1cb5c070757d62b1b2ab7ba38028e8caa\n""}]",4,920855,2d41d77fa3fe4c275c4f47054c6a2c21eed241d2,17,4,3,8556,,,0,"Add retired-on date for a few missing projects

When we retire the entire project team, we need to add the
'retired-on' flag and the date of retirement. A few projects
TripleO, infra, and Fuel project are retired completly but
do not have retired-on date for project team.

Also, adding repo info for refstack.

This will help fixing the validate-legacy script to detect the
project retirement correctly.
- https://review.opendev.org/c/openstack/governance/+/920848

Change-Id: I966e5ee1cb5c070757d62b1b2ab7ba38028e8caa
",git fetch https://review.opendev.org/openstack/governance refs/changes/55/920855/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/legacy.yaml'],1,05d9ea73a497d3a10c7f6cdf5d28bc0dc7c1dd1b,project-update, retired-on: 2017-06-20 retired-on: 2024-01-09, retired-on: 2017-06-20 retired-on: 2017-06-20 retired-on: 2017-06-20 retired-on: 2017-06-20 retired-on: 2017-06-20 retired-on: 2017-06-20 retired-on: 2017-06-20 retired-on: 2017-06-20 retired-on: 2017-06-20 retired-on: 2017-06-20,2,10
openstack%2Freleases~922020,openstack/releases,master,Ic9eed14995ed46233792c2322258732327252a8c,Add d-mf to schedule,NEW,2024-06-14 13:38:44.000000000,2024-06-14 21:16:33.000000000,,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-14 13:38:44.000000000', 'files': ['doc/source/dalmatian/schedule.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2a3251f8208ffaa722031f3bfae545ac9317e859', 'message': 'Add d-mf to schedule\n\nIt seems that d-mf tag (Membership freeze) was missed from the original\nschedule proposal patch, so fixing that by adding it to the usual\nMilestone-2 week.\n\nChange-Id: Ic9eed14995ed46233792c2322258732327252a8c\n'}]",0,922020,2a3251f8208ffaa722031f3bfae545ac9317e859,3,2,1,17685,,,0,"Add d-mf to schedule

It seems that d-mf tag (Membership freeze) was missed from the original
schedule proposal patch, so fixing that by adding it to the usual
Milestone-2 week.

Change-Id: Ic9eed14995ed46233792c2322258732327252a8c
",git fetch https://review.opendev.org/openstack/releases refs/changes/20/922020/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/dalmatian/schedule.yaml'],1,2a3251f8208ffaa722031f3bfae545ac9317e859,dalmatian-membership-freeze, - d-mf,,1,0
openstack%2Fpython-openstackclient~910664,openstack/python-openstackclient,master,I579775d2dc4110951e934e00b51bf8d7546e207b,Identity: Migrate 'role assignment' commands to SDK,NEW,2024-02-29 21:18:54.000000000,2024-06-14 21:00:28.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2024-02-29 21:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/5af5ad13505dae112ad49dbf4f4e909dddb997e6', 'message': 'Migrate role_assignment commands to SDK\n\nChange-Id: I579775d2dc4110951e934e00b51bf8d7546e207b\n'}, {'number': 2, 'created': '2024-03-11 19:06:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/72eee3c883e0fb714ba9ae26df22598404e1459f', 'message': ""Identity: Migrate 'role assignment' commands to SDK\n\nChange-Id: I579775d2dc4110951e934e00b51bf8d7546e207b\n""}, {'number': 3, 'created': '2024-03-13 18:23:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/480d8597242cdc494e487cad0ee1ff9cb09c7045', 'message': ""Identity: Migrate 'role assignment' commands to SDK\n\nChange-Id: I579775d2dc4110951e934e00b51bf8d7546e207b\n""}, {'number': 4, 'created': '2024-03-15 21:19:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/846a7324a5514267d0410f44af123a8d387486a0', 'message': ""Identity: Migrate 'role assignment' commands to SDK\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/913448\nChange-Id: I579775d2dc4110951e934e00b51bf8d7546e207b\n""}, {'number': 5, 'created': '2024-04-04 19:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/8996f7d25700d41983c1c970c02a224b5c19983f', 'message': ""Identity: Migrate 'role assignment' commands to SDK\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/913448\nChange-Id: I579775d2dc4110951e934e00b51bf8d7546e207b\n""}, {'number': 6, 'created': '2024-04-04 19:52:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/4aacde3f18f1a101b7943ca6da6b7587507e62d8', 'message': ""Identity: Migrate 'role assignment' commands to SDK\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/913448\nChange-Id: I579775d2dc4110951e934e00b51bf8d7546e207b\n""}, {'number': 7, 'created': '2024-04-04 23:09:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/abaecef720d271473339a4e76bc6e2543c0d6325', 'message': ""Identity: Migrate 'role assignment' commands to SDK\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/913448\nChange-Id: I579775d2dc4110951e934e00b51bf8d7546e207b\n""}, {'number': 8, 'created': '2024-04-04 23:32:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/9dde687846347f24b3a310537b06d5e894e345f8', 'message': ""Identity: Migrate 'role assignment' commands to SDK\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/913448\nChange-Id: I579775d2dc4110951e934e00b51bf8d7546e207b\n""}, {'number': 9, 'created': '2024-04-05 19:28:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/2cd836dbf3472edeaddb296833c8605df2f09940', 'message': ""Identity: Migrate 'role assignment' commands to SDK\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/913448\nChange-Id: I579775d2dc4110951e934e00b51bf8d7546e207b\n""}, {'number': 10, 'created': '2024-04-05 20:35:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/11a00f148375250030306d2fe881f003439d1bca', 'message': ""Identity: Migrate 'role assignment' commands to SDK\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/913448\nChange-Id: I579775d2dc4110951e934e00b51bf8d7546e207b\n""}, {'number': 11, 'created': '2024-04-22 21:17:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ff4b9a1dc40f16b772322d8a5e29b6b9fc780ad2', 'message': ""Identity: Migrate 'role assignment' commands to SDK\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/913448\nChange-Id: I579775d2dc4110951e934e00b51bf8d7546e207b\n""}, {'number': 12, 'created': '2024-04-25 19:23:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/487346378c778ba6ce11f019a7bf9b51993c994b', 'message': ""Identity: Migrate 'role assignment' commands to SDK\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/913448\nChange-Id: I579775d2dc4110951e934e00b51bf8d7546e207b\n""}, {'number': 13, 'created': '2024-04-27 00:38:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/4b354b4830a08a9702d209e9d9d0d91e64177f12', 'message': ""Identity: Migrate 'role assignment' commands to SDK\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/913448\nChange-Id: I579775d2dc4110951e934e00b51bf8d7546e207b\n""}, {'number': 14, 'created': '2024-05-02 20:07:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/92ca1b115f003d402496b19bd1d3f3e2592da5be', 'message': ""Identity: Migrate 'role assignment' commands to SDK\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/913448\nChange-Id: I579775d2dc4110951e934e00b51bf8d7546e207b\n""}, {'number': 15, 'created': '2024-05-03 22:21:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/25b75479b2cc79eeeba5a29b3dcbd00790b61a90', 'message': ""Identity: Migrate 'role assignment' commands to SDK\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/913448\nChange-Id: I579775d2dc4110951e934e00b51bf8d7546e207b\n""}, {'number': 16, 'created': '2024-05-08 20:58:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/8602202ec1d17c6982adb30d7e7a8e560382df80', 'message': ""Identity: Migrate 'role assignment' commands to SDK\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/913448\nChange-Id: I579775d2dc4110951e934e00b51bf8d7546e207b\n""}, {'number': 17, 'created': '2024-05-08 21:25:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/90b4359f37c8caa68912bf57f771e0bea9f5654d', 'message': ""Identity: Migrate 'role assignment' commands to SDK\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/913448\nChange-Id: I579775d2dc4110951e934e00b51bf8d7546e207b\n""}, {'number': 18, 'created': '2024-05-08 21:32:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/227871aeb5a564f00c49f462ddd66c0feadee792', 'message': ""Identity: Migrate 'role assignment' commands to SDK\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/913448\nChange-Id: I579775d2dc4110951e934e00b51bf8d7546e207b\n""}, {'number': 19, 'created': '2024-05-23 23:14:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/7882e425f45b5d400b9884e86c467d23b83e0574', 'message': ""Identity: Migrate 'role assignment' commands to SDK\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/913448\nChange-Id: I579775d2dc4110951e934e00b51bf8d7546e207b\n""}, {'number': 20, 'created': '2024-06-05 22:47:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d9540dc84fc11be0af8589b448c8982b5db91333', 'message': ""Identity: Migrate 'role assignment' commands to SDK\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/913448\nChange-Id: I579775d2dc4110951e934e00b51bf8d7546e207b\n""}, {'number': 21, 'created': '2024-06-13 23:01:06.000000000', 'files': ['openstackclient/tests/unit/identity/v3/test_role_assignment.py', 'releasenotes/notes/migrate-role-assignment-to-sdk-e6e52bef467b4e4c.yaml', 'openstackclient/identity/v3/role_assignment.py', 'openstackclient/tests/functional/identity/v3/test_role_assignment.py', 'openstackclient/tests/functional/identity/v3/common.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/de9d0f9e1b511c6aca7dea57f62331bb2638ef18', 'message': ""Identity: Migrate 'role assignment' commands to SDK\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/913448\nChange-Id: I579775d2dc4110951e934e00b51bf8d7546e207b\n""}]",77,910664,de9d0f9e1b511c6aca7dea57f62331bb2638ef18,92,3,21,36482,,,0,"Identity: Migrate 'role assignment' commands to SDK

Depends-On: https://review.opendev.org/c/openstack/openstacksdk/+/913448
Change-Id: I579775d2dc4110951e934e00b51bf8d7546e207b
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/64/910664/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/identity/v3/test_role_assignment.py', 'openstackclient/identity/v3/role_assignment.py']",2,5af5ad13505dae112ad49dbf4f4e909dddb997e6,identity-gaps/role_assignment-commands," identity_client = self.app.client_manager.sdk_connection.identity role_id = None role_domain_id = identity_client.find_domain( name_or_id=parsed_args.role_domain, ignore_missing=False role_id = identity_client.find_role( name_or_id=parsed_args.role, ignore_missing=False, ).id user_id = None if parsed_args.user: user_id = identity_client.find_user( name_or_id=parsed_args.user, ignore_missing=False, domain_id=parsed_args.user_domain, ).id user_id = identity_client.find_user( name_or_id=auth_ref.user_id, ignore_missing=False, ).id domain_id = None if parsed_args.domain: domain_id = identity_client.find_domain( name_or_id=parsed_args.domain, ignore_missing=False, ).id project_id = None if parsed_args.project: project_id = identity_client.find_project( name_or_id=common._get_token_resource( ignore_missing=False, domain_id=parsed_args.project_domain, ).id project_id = identity_client.find_project( name_or_id=auth_ref.project_id, ignore_missing=False ).id group_id = None if parsed_args.group: group_id = identity_client.find_group( name_or_id=parsed_args.group, ignore_missing=False, domain_id=parsed_args.group_domain, ).id data = identity_client.role_assignments( scope_domain_id=domain_id, user_id=user_id, group_id=group_id, scope_project_id=project_id, scope_system=system, role_id=role_id,","from osc_lib import utils identity_client = self.app.client_manager.identity role = None role_domain_id = common.find_domain( identity_client, parsed_args.role_domain role = utils.find_resource( identity_client.roles, parsed_args.role, ) user = None if parsed_args.user: user = common.find_user( identity_client, parsed_args.user, parsed_args.user_domain, ) user = common.find_user(identity_client, auth_ref.user_id) domain = None if parsed_args.domain: domain = common.find_domain( identity_client, parsed_args.domain, ) project = None if parsed_args.project: project = common.find_project( identity_client, common._get_token_resource( parsed_args.project_domain, ) project = common.find_project( identity_client, auth_ref.project_id ) group = None if parsed_args.group: group = common.find_group( identity_client, parsed_args.group, parsed_args.group_domain, ) data = identity_client.role_assignments.list( domain=domain, user=user, group=group, project=project, system=system, role=role,",131,159
openstack%2Fopenstack-helm-infra~921992,openstack/openstack-helm-infra,master,I4b8052166bad8965df9daa6b28e320d9132150cd,Add value for rendering sidecar without feature,MERGED,2024-06-13 23:39:26.000000000,2024-06-14 20:49:17.000000000,2024-06-14 20:48:20.000000000,"[{'_account_id': 3009}, {'_account_id': 17119}, {'_account_id': 22348}, {'_account_id': 34520}, {'_account_id': 35948}]","[{'number': 1, 'created': '2024-06-13 23:39:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bb430b7cc02cd184d3b3a91ac99792a68ab0a445', 'message': '[WIP] Rendering sidecar without feature\n\nChange-Id: I4b8052166bad8965df9daa6b28e320d9132150cd\n'}, {'number': 2, 'created': '2024-06-13 23:44:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/635eb69cff3afa9df32199c99f352d0d6bb15fc0', 'message': '[WIP] Rendering sidecar without feature\n\nChange-Id: I4b8052166bad8965df9daa6b28e320d9132150cd\n'}, {'number': 3, 'created': '2024-06-14 14:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2fe16c4f5a6dad30033bdaa6a0d5db7a6d356d98', 'message': '[WIP] Rendering sidecar without feature\n\nChange-Id: I4b8052166bad8965df9daa6b28e320d9132150cd\n'}, {'number': 4, 'created': '2024-06-14 15:19:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/41e289f17282acf28ce1ded9ffc25d8a57759c4e', 'message': '[WIP] Rendering sidecar without feature\n\nChange-Id: I4b8052166bad8965df9daa6b28e320d9132150cd\n'}, {'number': 5, 'created': '2024-06-14 16:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/00a98bb5a828fd4198ff59c49601806768528c40', 'message': '[WIP] Rendering sidecar without feature\n\nChange-Id: I4b8052166bad8965df9daa6b28e320d9132150cd\n'}, {'number': 6, 'created': '2024-06-14 17:40:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6684cfc5828e717ce288189623df14cf66d33aef', 'message': 'Add value for rendering sidecar without feature\n\nAdd option to deploy rendering sidecar without the k8s\nsidecar feature.\n\nChange-Id: I4b8052166bad8965df9daa6b28e320d9132150cd\n'}, {'number': 7, 'created': '2024-06-14 18:50:36.000000000', 'files': ['grafana/values.yaml', 'releasenotes/notes/grafana.yaml', 'grafana/Chart.yaml', 'grafana/templates/deployment.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/876e57c6068cc5fc29116e092434180a8a0b6398', 'message': 'Add value for rendering sidecar without feature\n\nAdd option to deploy rendering sidecar without the k8s\nsidecar feature.\n\nChange-Id: I4b8052166bad8965df9daa6b28e320d9132150cd\n'}]",0,921992,876e57c6068cc5fc29116e092434180a8a0b6398,20,5,7,32190,,,0,"Add value for rendering sidecar without feature

Add option to deploy rendering sidecar without the k8s
sidecar feature.

Change-Id: I4b8052166bad8965df9daa6b28e320d9132150cd
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/92/921992/1 && git format-patch -1 --stdout FETCH_HEAD,"['grafana/values.yaml', 'grafana/templates/deployment.yaml']",2,bb430b7cc02cd184d3b3a91ac99792a68ab0a445,grafana-renderer-2,"{{- if .Values.conf.grafana.image_rendering_sidecar.enabled and .Values.conf.grafana.image_rendering_sidecar.k8s_sidecar_feature_enabled }}{{- if .Values.conf.grafana.image_rendering_sidecar.enabled and not .Values.conf.grafana.image_rendering_sidecar.k8s_sidecar_feature_enabled }} - name: grafana-image-renderer {{ tuple $envAll ""grafana_image_renderer"" | include ""helm-toolkit.snippets.image"" | indent 10 }} restartPolicy: Always ports: - containerPort: {{ tuple ""grafana"" ""image_rendering"" ""grafana"" . | include ""helm-toolkit.endpoints.endpoint_port_lookup"" }} readinessProbe: tcpSocket: port: {{ tuple ""grafana"" ""image_rendering"" ""grafana"" . | include ""helm-toolkit.endpoints.endpoint_port_lookup"" }} initialDelaySeconds: 15 periodSeconds: 10 {{- end }}",{{- if .Values.conf.grafana.image_rendering_sidecar.enabled }},15,1
openstack%2Frequirements~921656,openstack/requirements,master,I89520d39e8dd8299fb133934c95779f224000835,Drop pylxd from global-requirements,NEW,2024-06-10 10:59:08.000000000,2024-06-14 20:43:11.000000000,,"[{'_account_id': 11904}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-10 10:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/92d53f119c5cc00cb6a547f15114218c48cb7160', 'message': 'Drop pylxd from global-requirements\n\nThe library seems not to be used any more in OpenStack, also it is\nblocking and update to the latest requests library.\n\nChange-Id: I89520d39e8dd8299fb133934c95779f224000835\n'}, {'number': 2, 'created': '2024-06-12 17:52:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/450d0553b0c75649cab08af7bc51ed4255886e78', 'message': 'Drop pylxd from global-requirements\n\nThe library seems not to be used any more in OpenStack, also it is\nblocking and update to the latest requests library.\n\nChange-Id: I89520d39e8dd8299fb133934c95779f224000835\n'}, {'number': 3, 'created': '2024-06-14 19:11:42.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/3b66a9865b02a17b7633385ed1fcbbe1ddd9544f', 'message': 'Drop pylxd from global-requirements\n\nThe library seems not to be used any more in OpenStack, also it is\nblocking and update to the latest requests library.\n\nChange-Id: I89520d39e8dd8299fb133934c95779f224000835\n'}]",4,921656,3b66a9865b02a17b7633385ed1fcbbe1ddd9544f,13,3,3,13252,,,0,"Drop pylxd from global-requirements

The library seems not to be used any more in OpenStack, also it is
blocking and update to the latest requests library.

Change-Id: I89520d39e8dd8299fb133934c95779f224000835
",git fetch https://review.opendev.org/openstack/requirements refs/changes/56/921656/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,92d53f119c5cc00cb6a547f15114218c48cb7160,openstack/requirements/constraints,,pylxd===2.3.4,0,2
openstack%2Fstackviz~908678,openstack/stackviz,master,Ie8cfc9f976fec0a840b1d9b0248976321cef83c7,Update dependencies for modern node and python,NEW,2024-02-09 21:37:54.000000000,2024-06-14 20:30:55.000000000,,"[{'_account_id': 22348}, {'_account_id': 30674}]","[{'number': 1, 'created': '2024-02-09 21:37:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/stackviz/commit/d24410739056c765bfff1e4c1a22602289a94934', 'message': ""Update dependencies for modern node and python\n\n- Added 'stestr' Python dependency\n- Updated Node package.json\n- Migrated from global Gulp dependency to npm scripts\n- Added 'node-sass' to fix 'gulp-sass' deprecation\n- Added package.json 'override' feature for gulp dependency 'graceful-fs'\n- Updated installation and usage documentation\n\nChange-Id: Ie8cfc9f976fec0a840b1d9b0248976321cef83c7\nSigned-off-by: Austin Nazworth <austin.nazworth@gmail.com>\n""}, {'number': 2, 'created': '2024-02-15 16:45:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/stackviz/commit/c54379c7cb5b53f24f079d2bfdf582bf2e94e02a', 'message': ""Update dependencies for modern node and python\n\n- Added 'stestr' Python dependency\n- Updated Node package.json\n- Migrated from global Gulp dependency to npm scripts\n- Added 'node-sass' to fix 'gulp-sass' deprecation\n- Added package.json 'override' feature for gulp dependency 'graceful-fs'\n- Updated installation and usage documentation\n\nChange-Id: Ie8cfc9f976fec0a840b1d9b0248976321cef83c7\nSigned-off-by: Austin Nazworth <austin.nazworth@gmail.com>\n""}, {'number': 3, 'created': '2024-03-18 19:27:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/stackviz/commit/6322ecd0d2ea6d5d9e1375a3bc80bdd8fef67c50', 'message': ""Update dependencies for modern node and python\n\n- Added 'stestr' Python dependency\n- Updated Node package.json\n- Migrated from global Gulp dependency to npm scripts\n- Added 'node-sass' to fix 'gulp-sass' deprecation\n- Added package.json 'override' feature for gulp dependency 'graceful-fs'\n- Updated installation and usage documentation\n\nChange-Id: Ie8cfc9f976fec0a840b1d9b0248976321cef83c7\nSigned-off-by: Austin Nazworth <austin.nazworth@gmail.com>\n""}, {'number': 4, 'created': '2024-04-29 14:10:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/stackviz/commit/b8452c5a14b7e9c13fa2eef59e0ec12f042d0c64', 'message': ""Update dependencies for modern node and python\n\n- Added 'stestr' Python dependency\n- Updated Node package.json\n- Migrated from global Gulp dependency to npm scripts\n- Added 'node-sass' to fix 'gulp-sass' deprecation\n- Added package.json 'override' feature for gulp dependency 'graceful-fs'\n- Updated installation and usage documentation\n\nChange-Id: Ie8cfc9f976fec0a840b1d9b0248976321cef83c7\nSigned-off-by: Austin Nazworth <austin.nazworth@gmail.com>\n""}, {'number': 5, 'created': '2024-05-13 16:31:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/stackviz/commit/c1815c8ba806e0e85f4eb5e36ded031a5202d35a', 'message': ""Update dependencies for modern node and python\n\n- Added 'stestr' Python dependency\n- Updated Node package.json\n- Migrated from global Gulp dependency to npm scripts\n- Added 'node-sass' to fix 'gulp-sass' deprecation\n- Added package.json 'override' feature for gulp dependency 'graceful-fs'\n- Updated installation and usage documentation\n\nChange-Id: Ie8cfc9f976fec0a840b1d9b0248976321cef83c7\nSigned-off-by: Austin Nazworth <austin.nazworth@gmail.com>\n""}, {'number': 6, 'created': '2024-05-20 17:34:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/stackviz/commit/55053c62fb6b056f2637b4a75d3c715a300ee88f', 'message': ""Update dependencies for modern node and python\n\n- Added 'stestr' Python dependency\n- Updated Node package.json\n- Migrated from global Gulp dependency to npm scripts\n- Added 'node-sass' to fix 'gulp-sass' deprecation\n- Added package.json 'override' feature for gulp dependency 'graceful-fs'\n- Updated installation and usage documentation\n\nChange-Id: Ie8cfc9f976fec0a840b1d9b0248976321cef83c7\nSigned-off-by: Austin Nazworth <austin.nazworth@gmail.com>\n""}, {'number': 7, 'created': '2024-05-20 17:45:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/stackviz/commit/7e80044ec3476f1c87dbdca8ca1c7bee6abc21fd', 'message': ""Update dependencies for modern node and python\n\n- Added 'stestr' Python dependency\n- Updated Node package.json\n- Migrated from global Gulp dependency to npm scripts\n- Added 'node-sass' to fix 'gulp-sass' deprecation\n- Added package.json 'override' feature for gulp dependency 'graceful-fs'\n- Updated installation and usage documentation\n\nChange-Id: Ie8cfc9f976fec0a840b1d9b0248976321cef83c7\nSigned-off-by: Austin Nazworth <austin.nazworth@gmail.com>\n""}, {'number': 8, 'created': '2024-05-28 15:25:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/stackviz/commit/9ac91f99bb4889b14482540ec2b40caa5da915bc', 'message': ""Update dependencies for modern node and python\n\n- Added 'stestr' Python dependency\n- Updated Node package.json\n- Migrated from global Gulp dependency to npm scripts\n- Added 'node-sass' to fix 'gulp-sass' deprecation\n- Added package.json 'override' feature for gulp dependency 'graceful-fs'\n- Updated installation and usage documentation\n\nChange-Id: Ie8cfc9f976fec0a840b1d9b0248976321cef83c7\nSigned-off-by: Austin Nazworth <austin.nazworth@gmail.com>\n""}, {'number': 9, 'created': '2024-05-28 17:36:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/stackviz/commit/3c335257d0490795157648e26532d16da68d29b9', 'message': ""Update dependencies for modern node and python\n\n- Added 'stestr' Python dependency\n- Updated Node package.json\n- Migrated from global Gulp dependency to npm scripts\n- Added 'node-sass' to fix 'gulp-sass' deprecation\n- Added package.json 'override' feature for gulp dependency 'graceful-fs'\n- Updated installation and usage documentation\n\nChange-Id: Ie8cfc9f976fec0a840b1d9b0248976321cef83c7\nSigned-off-by: Austin Nazworth <austin.nazworth@gmail.com>\n""}, {'number': 10, 'created': '2024-06-09 21:38:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/stackviz/commit/8395e398ac305f1d5fee1c68f2a81a07964506ca', 'message': ""Update dependencies for modern node and python\n\n- Added 'stestr' Python dependency\n- Updated Node package.json\n- Migrated from global Gulp dependency to npm scripts\n- Added 'node-sass' to fix 'gulp-sass' deprecation\n- Added package.json 'override' feature for gulp dependency 'graceful-fs'\n- Updated installation and usage documentation\n\nChange-Id: Ie8cfc9f976fec0a840b1d9b0248976321cef83c7\nSigned-off-by: Austin Nazworth <austin.nazworth@gmail.com>\n""}, {'number': 11, 'created': '2024-06-14 18:52:21.000000000', 'files': ['gulp/util/scriptFilter.js', 'app/styles/_bootstrap-sprockets.scss', 'app/styles/bootstrap/_responsive-utilities.scss', 'gulp/tasks/deploy.js', 'app/js/controllers/timeline.js', 'app/styles/bootstrap/_component-animations.scss', 'app/styles/directives/_timeline-details.scss', 'app/views/directives/timeline-search.html', 'test/karma.conf.js', 'app/index.html', 'app/fonts/fontawesome-webfont.ttf', 'app/styles/bootstrap/mixins/_gradients.scss', 'app/styles/bootstrap/mixins/_vendor-prefixes.scss', 'app/styles/bootstrap/mixins/_pagination.scss', 'src/main.server.ts', 'app/fonts/FontAwesome.otf', 'app/js/directives/timeline-dstat.js', 'app/js/util/dstat-parse.js', 'app/styles/_bootstrap-compass.scss', 'src/index.html', 'app/views/directives/timeline.html', 'app/js/filters/bootstrap-filters.js', 'app/js/directives/subunit-summary.js', 'app/js/controllers/test-details.js', 'gulp/config.js', 'app/styles/bootstrap/mixins/_image.scss', 'src/app/app.routes.ts', 'tsconfig.spec.json', 'app/js/directives/codemirror-console.js', 'app/styles/bootstrap/mixins/_panels.scss', 'app/styles/bootstrap/_normalize.scss', 'app/styles/bootstrap/_list-group.scss', 'app/styles/directives/_timeline-search.scss', 'app/styles/bootstrap/_print.scss', 'app/views/timeline.html', 'requirements.txt', 'app/views/test-details.html', 'app/styles/font-awesome/_variables.scss', 'app/styles/bootstrap/_responsive-embed.scss', 'app/styles/font-awesome/_larger.scss', 'app/styles/bootstrap/mixins/_alerts.scss', 'app/styles/bootstrap/_code.scss', 'app/js/directives/timeline.js', 'gulp/tasks/styles.js', 'app/styles/bootstrap/_modals.scss', 'app/styles/bootstrap/mixins/_responsive-visibility.scss', 'app/styles/bootstrap/_navs.scss', 'app/js/controllers/home.js', 'src/main.ts', 'src/app/home/home.component.html', 'app/styles/bootstrap/mixins/_text-emphasis.scss', 'app/js/filters/list-filters.js', 'app/styles/bootstrap/_thumbnails.scss', 'app/styles/bootstrap/_glyphicons.scss', 'app/styles/bootstrap/mixins/_reset-filter.scss', 'gulp/tasks/cleanMaps.js', 'README.rst', 'app/styles/_codemirror.scss', 'gulp/tasks/views.js', 'app/js/main.js', 'app/views/home.html', 'app/styles/bootstrap/_mixins.scss', 'app/styles/_bootstrap-mincer.scss', 'app/styles/bootstrap/mixins/_center-block.scss', 'src/app/test-details/test-details.component.html', 'app/views/directives/subunit-failures.html', 'app/js/directives/console-summary.js', 'gulp/tasks/unit.js', 'app/styles/bootstrap/mixins/_background-variant.scss', 'gulp/index.js', 'app/js/directives/timeline-search.js', 'app/styles/bootstrap/_badges.scss', 'doc/source/installation.rst', 'app/js/on_config.js', 'app/js/services/summary.js', 'app/styles/font-awesome/_path.scss', 'tsconfig.json', 'app/js/filters/seconds-time.js', 'src/app/test-details/test-details.component.spec.ts', 'gulp/tasks/test.js', 'app/styles/font-awesome/_icons.scss', 'app/styles/bootstrap/_breadcrumbs.scss', 'app/styles/bootstrap/mixins/_border-radius.scss', 'src/app/app.component.ts', 'app/js/services/progress.js', 'app/js/util/array-util.js', '.gitignore', 'app/js/controllers/console.js', 'app/styles/bootstrap/_tooltip.scss', 'app/styles/_sb-admin-2.scss', 'gulp/tasks/browserSync.js', 'app/styles/bootstrap/mixins/_tab-focus.scss', 'gulp/tasks/server.js', 'app/styles/bootstrap/_dropdowns.scss', 'app/styles/font-awesome/_bordered-pulled.scss', 'app/js/services/_index.js', 'app/styles/bootstrap/mixins/_list-group.scss', 'app/styles/bootstrap/_navbar.scss', 'app/styles/bootstrap/mixins/_size.scss', 'app/styles/bootstrap/_alerts.scss', 'app/styles/bootstrap/_input-groups.scss', 'app/styles/bootstrap/_buttons.scss', 'src/app/app.config.server.ts', 'app/js/constants.js', 'src/app/home/home.component.ts', 'app/styles/bootstrap/mixins/_table-row.scss', 'app/js/directives/subunit-failures.js', 'gulp/tasks/gzip.js', 'app/js/directives/timeline-viewport.js', 'src/app/app.component.html', 'src/app/test-details/test-details.component.ts', 'package.json', 'gulp/LICENSE', 'app/fonts/fontawesome-webfont.woff', 'app/styles/_nprogress.scss', 'app/js/filters/_index.js', 'app/styles/_neat.scss', 'app/styles/bootstrap/_pagination.scss', 'gulp/tasks/clean.js', 'src/app/navbar/navbar.component.spec.ts', 'app/styles/_bootstrap.scss', 'doc/source/usage.rst', 'app/styles/bootstrap/mixins/_grid-framework.scss', 'app/js/directives/timeline-overview.js', 'app/styles/bootstrap/_type.scss', 'src/app/home/home.component.spec.ts', 'app/styles/font-awesome/_list.scss', 'app/styles/bootstrap/mixins/_nav-vertical-align.scss', 'app/styles/bootstrap/_grid.scss', 'app/js/directives/artifact-summary.js', 'app/styles/font-awesome/_fixed-width.scss', 'src/favicon.ico', 'app/js/controllers/main.js', 'app/styles/directives/_timeline-overview.scss', 'app/styles/bootstrap/_forms.scss', 'app/styles/bootstrap/mixins/_nav-divider.scss', 'app/styles/_typography.scss', 'server.ts', 'app/styles/bootstrap/_labels.scss', 'gulp/tasks/protractor.js', 'src/app/app.component.spec.ts', 'app/styles/bootstrap/_popovers.scss', 'app/styles/bootstrap/_utilities.scss', 'app/fonts/fontawesome-webfont.eot', 'app/views/console.html', 'tsconfig.app.json', 'src/app/app.config.ts', 'gulp/util/bundleLogger.js', 'app/styles/_vars.scss', 'src/app/navbar/navbar.component.ts', 'app/styles/bootstrap/mixins/_forms.scss', 'gulp/tasks/browserify.js', 'src/styles.scss', 'app/styles/bootstrap/mixins/_clearfix.scss', 'app/fonts/fontawesome-webfont.woff2', 'app/js/directives/test-details-search.js', 'gulp/tasks/development.js', 'src/app/navbar/navbar.component.html', 'doc/source/man/index.rst', 'app/styles/bootstrap/_panels.scss', 'app/styles/bootstrap/_scaffolding.scss', 'src/app/home/home.component.scss', 'app/styles/bootstrap/mixins/_text-overflow.scss', 'app/styles/font-awesome/_rotated-flipped.scss', 'app/styles/directives/_test-details-search.scss', 'gulp/tasks/watch.js', 'gulp/tasks/fonts.js', 'app/views/templates.js', 'app/styles/bootstrap/mixins/_grid.scss', 'app/styles/bootstrap/mixins/_labels.scss', 'app/styles/bootstrap/mixins/_opacity.scss', 'app/js/directives/_index.js', 'angular.json', 'app/styles/bootstrap/_button-groups.scss', 'app/styles/main.scss', 'gulp/tasks/production.js', 'app/js/services/dataset.js', 'app/fonts/fontawesome-webfont.svg', 'app/styles/bootstrap/mixins/_progress-bar.scss', 'app/styles/font-awesome/_stacked.scss', 'app/styles/bootstrap/_carousel.scss', 'app/styles/bootstrap/_media.scss', 'src/app/test-details/test-details.component.scss', 'app/views/directives/timeline-search-popover.html', 'app/styles/bootstrap/_variables.scss', 'app/styles/bootstrap/_jumbotron.scss', 'app/styles/directives/_codemirror-console.scss', 'app/styles/bootstrap/mixins/_resize.scss', 'app/js/controllers/_index.js', 'app/styles/bootstrap/_wells.scss', 'app/styles/bootstrap/mixins/_buttons.scss', 'app/styles/bootstrap/_close.scss', 'app/styles/bootstrap/mixins/_reset-text.scss', 'app/styles/bootstrap/_theme.scss', 'gulp/util/handleErrors.js', 'app/styles/bootstrap/_progress-bars.scss', 'gulpfile.js', 'setup.js', 'app/styles/bootstrap/_pager.scss', 'app/styles/font-awesome/_font-awesome.scss', 'app/views/directives/test-details-search.html', 'app/js/directives/timeline-details.js', 'app/styles/font-awesome/_core.scss', 'app/styles/bootstrap/mixins/_hide-text.scss', 'app/styles/directives/_timeline-viewport.scss', 'app/styles/_foldgutter.scss', 'app/styles/font-awesome/_mixins.scss', 'app/.eslintrc', 'app/views/directives/test-details-search-popover.html', 'gulp/tasks/data.js', 'app/views/directives/subunit-summary.html', 'app/styles/font-awesome/_animated.scss', 'app/styles/bootstrap/_tables.scss', 'app/views/directives/console-summary.html', 'app/views/directives/timeline-details.html', 'src/app/app.component.scss', 'app/js/on_run.js'], 'web_link': 'https://opendev.org/openstack/stackviz/commit/91ad0d59d61e7840e63b3cdc4a0da5f2acc0aee1', 'message': ""Update dependencies for modern node and python\n\n- Added 'stestr' Python dependency\n- Updated Node package.json\n- Migrated from global Gulp dependency to npm scripts\n- Added 'node-sass' to fix 'gulp-sass' deprecation\n- Added package.json 'override' feature for gulp dependency 'graceful-fs'\n- Updated installation and usage documentation\n\nChange-Id: Ie8cfc9f976fec0a840b1d9b0248976321cef83c7\nSigned-off-by: Austin Nazworth <austin.nazworth@gmail.com>\n""}]",0,908678,91ad0d59d61e7840e63b3cdc4a0da5f2acc0aee1,22,2,11,36780,,,0,"Update dependencies for modern node and python

- Added 'stestr' Python dependency
- Updated Node package.json
- Migrated from global Gulp dependency to npm scripts
- Added 'node-sass' to fix 'gulp-sass' deprecation
- Added package.json 'override' feature for gulp dependency 'graceful-fs'
- Updated installation and usage documentation

Change-Id: Ie8cfc9f976fec0a840b1d9b0248976321cef83c7
Signed-off-by: Austin Nazworth <austin.nazworth@gmail.com>
",git fetch https://review.opendev.org/openstack/stackviz refs/changes/78/908678/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.gitignore', 'gulp/tasks/styles.js', 'README.rst', 'package.json', 'doc/source/installation.rst']",6,d24410739056c765bfff1e4c1a22602289a94934,upgrade-dependencies,Installation of the frontend requires Node.js (>=16.14.0) and Gulp. On Ubuntu:: sudo snap install node --classic --channel=16,Installation of the frontend requires Node.js and Gulp. On Ubuntu:: sudo apt-get install nodejs npm nodejs-legacy sudo npm install -g gulp,19,15
openstack%2Fswift~912496,openstack/swift,master,Ie4b25f1bd16def4069878983049b83de06f68e54,add bytes of expiring objects to queue entry,MERGED,2024-03-11 23:06:14.000000000,2024-06-14 20:30:35.000000000,2024-06-14 20:29:12.000000000,"[{'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-11 23:06:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ac7492f664fa8c0948ee29999bfce09a2d3a85fe', 'message': 'add bytes to expirey queue entry\n\nThe size in bytes of objects are stored in expirey queue entries\nunder the content_type field. The x-content-type-timestamp is\nupdated every time the byte size is updated so that the latest\nx-content-type (with the latest bytes) is used when the content\nreplicator runs to ensure eventual consistency.\n\nChange-Id: Ie4b25f1bd16def4069878983049b83de06f68e54\n'}, {'number': 2, 'created': '2024-03-13 21:36:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f8c8ee7f15cdbc00fdc46675d34c89182cd27541', 'message': 'add bytes to expirey queue entry\n\nThe size in bytes of objects are stored in expirey queue entries\nunder the content_type field. The x-content-type-timestamp is\nupdated every time the byte size is updated so that the latest\nx-content-type (with the latest bytes) is used when the content\nreplicator runs to ensure eventual consistency.\n\nChange-Id: Ie4b25f1bd16def4069878983049b83de06f68e54\n'}, {'number': 3, 'created': '2024-03-14 00:31:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d910937495f86036824a6bf98ae4b3c259418d64', 'message': 'add bytes to expirey queue entry\n\nThe size in bytes of objects are stored in expirey queue entries\nunder the content_type field. The x-content-type-timestamp is\nprovided along with the x-content-type update so the container\nreplicator resolves the latest content-type and ensures eventual\nconsistency.\n\nChange-Id: Ie4b25f1bd16def4069878983049b83de06f68e54\n'}, {'number': 4, 'created': '2024-03-18 22:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/bc13de6c1ee658b2f31e5c86fa2c4cdfd25ec9e3', 'message': 'add bytes to expirey queue entry\n\nThe size in bytes of objects are stored in expirey queue entries\nunder the content_type field. The x-content-type-timestamp is\nprovided along with the x-content-type update so the container\nreplicator resolves the latest content-type and ensures eventual\nconsistency.\n\nChange-Id: Ie4b25f1bd16def4069878983049b83de06f68e54\n'}, {'number': 5, 'created': '2024-04-08 18:51:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0e8fef54cc78f5ecadafc845e708f5f94727fda8', 'message': 'add bytes to expirey queue entry\n\nThe size in bytes of objects are stored in expirey queue entries\nunder the content_type field. The x-content-type-timestamp is\nprovided along with the x-content-type update so the container\nreplicator resolves the latest content-type and ensures eventual\nconsistency.\n\nChange-Id: Ie4b25f1bd16def4069878983049b83de06f68e54\n'}, {'number': 6, 'created': '2024-04-17 20:08:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/171a6672f5571f5ea9a9af7bb485a5d027b0c238', 'message': 'add bytes to expirey queue entry\n\nThe size in bytes of objects are stored in expirey queue entries\nunder the content_type field. The x-content-type-timestamp is\nprovided along with the x-content-type update so the container\nreplicator resolves the latest content-type and ensures eventual\nconsistency.\n\nChange-Id: Ie4b25f1bd16def4069878983049b83de06f68e54\n'}, {'number': 7, 'created': '2024-04-18 16:12:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/12ddcf2aaad10df71e13838794fbf0bb5587b1d6', 'message': 'add bytes to expirey queue entry\n\nThe size in bytes of objects are stored in expirey queue entries\nunder the content_type field. The x-content-type-timestamp is\nprovided along with the x-content-type update so the container\nreplicator resolves the latest content-type and ensures eventual\nconsistency.\n\nChange-Id: Ie4b25f1bd16def4069878983049b83de06f68e54\n'}, {'number': 8, 'created': '2024-04-19 20:46:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ba168d66877c5a4d53eb33b142e6596d55c8f444', 'message': 'add bytes to expirey queue entry\n\nThe size in bytes of objects are stored in expirey queue entries\nunder the content_type field. The x-content-type-timestamp is\nprovided along with the x-content-type update so the container\nreplicator resolves the latest content-type and ensures eventual\nconsistency.\n\nChange-Id: Ie4b25f1bd16def4069878983049b83de06f68e54\n'}, {'number': 9, 'created': '2024-04-19 21:39:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3d9e14aa7b89b307eede9523ddc29951258fd1d2', 'message': 'add bytes to expirey queue entry\n\nThe size in bytes of objects are stored in expirey queue entries\nunder the content_type field. The x-content-type-timestamp is\nprovided along with the x-content-type update so the container\nreplicator resolves the latest content-type and ensures eventual\nconsistency.\n\nChange-Id: Ie4b25f1bd16def4069878983049b83de06f68e54\n'}, {'number': 10, 'created': '2024-04-22 20:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c318cae3dcb5111745bb630b8584bcf50429c8ff', 'message': 'add bytes to expirey queue entry\n\nThe size in bytes of objects are stored in expirey queue entries\nunder the content_type field. The x-content-type-timestamp is\nprovided along with the x-content-type update so the container\nreplicator resolves the latest content-type and ensures eventual\nconsistency.\n\nChange-Id: Ie4b25f1bd16def4069878983049b83de06f68e54\n'}, {'number': 11, 'created': '2024-04-22 23:03:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2f4e6bc410e93e7911d994f72af5a53139de3fe7', 'message': 'add bytes to expirey queue entry\n\nThe size in bytes of objects are stored in expirey queue entries\nunder the content_type field. The x-content-type-timestamp is\nprovided along with the x-content-type update so the container\nreplicator resolves the latest content-type and ensures eventual\nconsistency.\n\nChange-Id: Ie4b25f1bd16def4069878983049b83de06f68e54\n'}, {'number': 12, 'created': '2024-04-23 03:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7cd3efdc5c4a5ea28d7a7e88e67d4920590fa9c4', 'message': 'add bytes to expirey queue entry\n\nThe size in bytes of objects are stored in expirey queue entries\nunder the content_type field. The x-content-type-timestamp is\nprovided along with the x-content-type update so the container\nreplicator resolves the latest content-type and ensures eventual\nconsistency.\n\nChange-Id: Ie4b25f1bd16def4069878983049b83de06f68e54\n'}, {'number': 13, 'created': '2024-04-26 14:53:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d01b968373a0f18bc4144b1e094e9511329bab50', 'message': 'add bytes of expiring objects to queue entry\n\nThe size in bytes of expiring objects are stored in expirey queue\nentries under the content_type field. The x-content-type-timestamp is\nprovided along with the x-content-type update so the container\nreplicator resolves the latest content-type and ensures eventual\nconsistency.\n\nChange-Id: Ie4b25f1bd16def4069878983049b83de06f68e54\n'}, {'number': 14, 'created': '2024-05-02 01:19:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/07dcab6a8c3f6e08fb811f1361d7d1442ada8263', 'message': 'add bytes of expiring objects to queue entry\n\nThe size in bytes of expiring objects are stored in expirey queue\nentries under the content_type field. The x-content-type-timestamp is\nprovided along with the x-content-type update so the container\nreplicator resolves the latest content-type and ensures eventual\nconsistency.\n\nChange-Id: Ie4b25f1bd16def4069878983049b83de06f68e54\n'}, {'number': 15, 'created': '2024-05-02 15:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/cb776885bc74111941e2cfad78cf6bb3d43db850', 'message': 'add bytes of expiring objects to queue entry\n\nThe size in bytes of expiring objects are stored in expirey queue\nentries under the content_type field. The x-content-type-timestamp is\nprovided along with the x-content-type update so the container\nreplicator resolves the latest content-type and ensures eventual\nconsistency.\n\nChange-Id: Ie4b25f1bd16def4069878983049b83de06f68e54\n'}, {'number': 16, 'created': '2024-05-17 22:43:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8381a309952be9d2da9861069f6744dcab228c13', 'message': 'add bytes of expiring objects to queue entry\n\nThe size in bytes of expiring objects are stored in expirey queue\nentries under the content_type field. The x-content-type-timestamp is\nprovided along with the x-content-type update so the container\nreplicator resolves the latest content-type and ensures eventual\nconsistency.\n\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: Ie4b25f1bd16def4069878983049b83de06f68e54\n'}, {'number': 17, 'created': '2024-05-21 18:04:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6eac37ecdc6d2af9b2c5f63888051b220cb712c4', 'message': 'add bytes of expiring objects to queue entry\n\nThe size in bytes of expiring objects are stored in expirey queue\nentries under the content_type field. The x-content-type-timestamp is\nprovided along with the x-content-type update so the container\nreplicator resolves the latest content-type and ensures eventual\nconsistency.\n\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: Ie4b25f1bd16def4069878983049b83de06f68e54\n'}, {'number': 18, 'created': '2024-05-25 13:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f8ba7f1aea58230fc729f9e18bb486645be3cba2', 'message': 'add bytes of expiring objects to queue entry\n\nThe size in bytes of expiring objects are stored in expirey queue\nentries under the content_type field. The x-content-type-timestamp is\nprovided along with the x-content-type update so the container\nreplicator resolves the latest content-type and ensures eventual\nconsistency.\n\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: Ie4b25f1bd16def4069878983049b83de06f68e54\n'}, {'number': 19, 'created': '2024-05-28 17:00:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ad2ed9602607d5efe4fd34b0fcef5d23fc440c23', 'message': 'add bytes of expiring objects to queue entry\n\nThe size in bytes of expiring objects are stored in expirey queue\nentries under the content_type field. The x-content-type-timestamp is\nprovided along with the x-content-type update so the container\nreplicator resolves the latest content-type and ensures eventual\nconsistency.\n\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: Ie4b25f1bd16def4069878983049b83de06f68e54\n'}, {'number': 20, 'created': '2024-05-31 20:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5ad3a5a4fe193e8cd9b4e67bce377363e890098a', 'message': 'add bytes of expiring objects to queue entry\n\nThe size in bytes of expiring objects are stored in expirey queue\nentries under the content_type field. The x-content-type-timestamp is\nprovided along with the x-content-type update so the container\nreplicator resolves the latest content-type and ensures eventual\nconsistency.\n\nUpgradeImpact: During rolling upgrades you should expect expirer queue\nentries to continue lack swift_expirer_bytes= annotations until ALL\nobject servers replicas have been upgraded to new code.\n\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: Ie4b25f1bd16def4069878983049b83de06f68e54\n'}, {'number': 21, 'created': '2024-06-03 22:24:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/28441819065b59e4c89c62f10310f0679058282f', 'message': 'add bytes of expiring objects to queue entry\n\nThe size in bytes of expiring objects are stored in expirey queue\nentries under the content_type field. The x-content-type-timestamp is\nprovided along with the x-content-type update so the container\nreplicator resolves the latest content-type and ensures eventual\nconsistency.\n\nUpgradeImpact: During rolling upgrades you should expect expirer queue\nentries to continue lack swift_expirer_bytes= annotations until ALL\nobject servers replicas have been upgraded to new code.\n\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: Ie4b25f1bd16def4069878983049b83de06f68e54\n'}, {'number': 22, 'created': '2024-06-04 18:11:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d4f329b19ae7fb819796f2e133a4afb32f52f907', 'message': 'add bytes of expiring objects to queue entry\n\nThe size in bytes of expiring objects are stored in expirey queue\nentries under the content_type field. The x-content-type-timestamp is\nprovided along with the x-content-type update so the container\nreplicator resolves the latest content-type and ensures eventual\nconsistency.\n\nUpgradeImpact: During rolling upgrades you should expect expirer queue\nentries to continue lack swift_expirer_bytes= annotations until ALL\nobject servers replicas have been upgraded to new code.\n\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: Ie4b25f1bd16def4069878983049b83de06f68e54\n'}, {'number': 23, 'created': '2024-06-04 21:05:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4e1c0e16a925bfaeb78cea9a34cf88feb7145caa', 'message': 'add bytes of expiring objects to queue entry\n\nThe size in bytes of expiring objects are stored in expirey queue\nentries under the content_type field. The x-content-type-timestamp is\nprovided along with the x-content-type update so the container\nreplicator resolves the latest content-type and ensures eventual\nconsistency.\n\nUpgradeImpact: During rolling upgrades you should expect expirer queue\nentries to continue lack swift_expirer_bytes= annotations until ALL\nobject servers replicas have been upgraded to new code.\n\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: Ie4b25f1bd16def4069878983049b83de06f68e54\n'}, {'number': 24, 'created': '2024-06-13 23:07:27.000000000', 'files': ['test/unit/obj/test_expirer.py', 'swift/obj/server.py', 'test/unit/obj/test_server.py', 'test/unit/container/test_backend.py', 'swift/obj/expirer.py', 'test/probe/test_object_expirer.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/3637b1abd9240f7feeebc7f299d42fe8815d7dcd', 'message': 'add bytes of expiring objects to queue entry\n\nThe size in bytes from object metadata of expiring objects are stored in\nexpirey queue entries under the content_type field.\n\nThe x-content-type-timestamp take from object metadata is provided along\nwith the x-content-type update so the container replicator resolves the\nlatest content-type and ensures eventual consistency.\n\nUpgradeImpact: During rolling upgrades you should expect expirer queue\nentries to continue lacking swift_expirer_bytes= annotations until ALL\nobject servers replicas have been upgraded to new code.\n\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: Ie4b25f1bd16def4069878983049b83de06f68e54\n'}]",212,912496,3637b1abd9240f7feeebc7f299d42fe8815d7dcd,104,4,24,36763,,,0,"add bytes of expiring objects to queue entry

The size in bytes from object metadata of expiring objects are stored in
expirey queue entries under the content_type field.

The x-content-type-timestamp take from object metadata is provided along
with the x-content-type update so the container replicator resolves the
latest content-type and ensures eventual consistency.

UpgradeImpact: During rolling upgrades you should expect expirer queue
entries to continue lacking swift_expirer_bytes= annotations until ALL
object servers replicas have been upgraded to new code.

Co-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>

Change-Id: Ie4b25f1bd16def4069878983049b83de06f68e54
",git fetch https://review.opendev.org/openstack/swift refs/changes/96/912496/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/server.py', 'swift/common/utils/__init__.py', 'test/probe/test_object_expirer.py']",3,ac7492f664fa8c0948ee29999bfce09a2d3a85fe,task-container-per-day,"import io from collections import Counterfrom swift.common.utils import Timestamp, extract_bytes_from_ctype from swift.common import direct_client def test_expirer_object_bytes_eventual_consistency(self): def put_object(headers, content_length=0): # use internal client to PUT objects so that X-Timestamp in headers # is effective try: self.client.upload_object(io.BytesIO(bytes(content_length)), self.account, self.container_name, self.object_name, headers=headers) except UnexpectedResponse as e: self.fail( 'Expected 201 for PUT object but got %s' % e.resp.status) obj_brain = BrainSplitter(self.url, self.token, self.container_name, self.object_name, 'object', self.policy) obj_brain.put_container() t0_content_length = 24 t0 = int(time.time()) t1 = int(t0 + 2.0) t2 = int(t1 + 2.0) put_object(headers={'X-Timestamp': Timestamp(t0).normal}, content_length=t0_content_length) obj_brain.stop_primary_half() t1_content_length = 32 put_object(headers={'X-Timestamp': Timestamp(t1).normal}, content_length=t1_content_length) # Manager(['container-updater']).once() # maybe later try: metadata = self.client.get_object_metadata( self.account, self.container_name, self.object_name) assert metadata['content-length'] == str(t1_content_length) except UnexpectedResponse as e: self.fail( 'Expected 200 for HEAD object but got %s' % e.resp.status) # some object servers recovered obj_brain.start_primary_half() head_responses = [] for node in obj_brain.ring.devs: metadata = direct_client.direct_head_object( node, obj_brain.part, self.account, self.container_name, self.object_name) head_responses.append(metadata) timestamp_counts = Counter([ resp['X-Timestamp'] for resp in head_responses ]) expected_counts = {Timestamp(t0).normal: 2, Timestamp(t1).normal: 2} self.assertEqual(expected_counts, timestamp_counts) # Do a POST to update object metadata (timestamp x-delete-at) # POST will create an expiry queue entry with 2 landing on t0, 1 on t1 path = self.client.make_path(self.account, self.container_name, self.object_name) self.client.make_request('POST', path, {'X-Timestamp': Timestamp(t2).normal, 'X-Delete-After': '5'}, (2,)) # Run the container updater once to register new container containing # expirey queue entry Manager(['container-updater']).once() # Find the name of the container containing the expiring object expiring_containers = list( self.client.iter_containers('.expiring_objects') ) self.assertEqual(1, len(expiring_containers)) expiring_container = expiring_containers[0] expiring_container_name = expiring_container['name'] # Verify that there is one expiring object expiring_objects = list( self.client.iter_objects('.expiring_objects', expiring_container_name) ) self.assertEqual(1, len(expiring_objects)) # Get the nodes of the expiring container expiring_container_part_num, expiring_container_nodes = \ self.client.container_ring.get_nodes('.expiring_objects', expiring_container_name) # Verify that there are only 3 such nodes self.assertEqual(3, len(expiring_container_nodes)) listing_records = [] for node in expiring_container_nodes: metadata, container_data = direct_client.direct_get_container( node, expiring_container_part_num, '.expiring_objects', expiring_container_name) # Verify there is metadata for only one object self.assertEqual(1, len(container_data)) listing_records.append(container_data[0]) # Check for inconsistent metadata byte_size_counts = Counter([ extract_bytes_from_ctype(resp['content_type']) for resp in listing_records ]) expected_byte_size_counts = { t0_content_length: 2, t1_content_length: 1 } self.assertEqual(expected_byte_size_counts, byte_size_counts) # Run the replicator to update expirey queue entries Manager(['container-replicator']).once() listing_records = [] for node in expiring_container_nodes: metadata, container_data = direct_client.direct_get_container( node, expiring_container_part_num, '.expiring_objects', expiring_container_name) self.assertEqual(1, len(container_data)) listing_records.append(container_data[0]) # Ensure that metadata is now consistent byte_size_counts = Counter([ extract_bytes_from_ctype(resp['content_type']) for resp in listing_records ]) expected_byte_size_counts = {t1_content_length: 3} self.assertEqual(expected_byte_size_counts, byte_size_counts) ",from swift.common.utils import Timestamp,178,9
openstack%2Fhorizon~891205,openstack/horizon,master,Ic454dcb06b9efe2a4735637bd804d8a337c394cd,SDK for Neutron networks and subnets,NEW,2023-08-11 14:52:21.000000000,2024-06-14 20:12:58.000000000,,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2023-08-11 14:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/83633fae5d1c74637c688ff6215d02d175057e72', 'message': 'WIP/PoC: SDK for Neutron\n\nJust a first patch at the moment to have an idea about\nwhat we need to have SDK instead of neutronclient bindings\nfor Neutron.\nCurrently the networks and subnets table show some ""sign of\nlife"".\nPlease give hints/comments/advices in review about how it\nshould be done.\n\nRelated-Bug: #1999774\nChange-Id: Ic454dcb06b9efe2a4735637bd804d8a337c394cd\n'}, {'number': 2, 'created': '2023-08-25 13:00:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/460972ba99122c714fe3886ea7e55346436e34bb', 'message': 'WIP/PoC: SDK for Neutron\n\nJust a first patch at the moment to have an idea about\nwhat we need to have SDK instead of neutronclient bindings\nfor Neutron.\nCurrently the networks and subnets table show some ""sign of\nlife"".\nPlease give hints/comments/advices in review about how it\nshould be done.\n\nRelated-Bug: #1999774\nChange-Id: Ic454dcb06b9efe2a4735637bd804d8a337c394cd\n'}, {'number': 3, 'created': '2023-10-24 09:22:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f9d252d3e40add2d2febcfd5c847efb49866e77d', 'message': 'WIP/PoC: SDK for Neutron\n\nJust a first patch at the moment to have an idea about\nwhat we need to have SDK instead of neutronclient bindings\nfor Neutron.\nCurrently the networks and subnets table show some ""sign of\nlife"".\nPlease give hints/comments/advices in review about how it\nshould be done.\n\nRelated-Bug: #1999774\nChange-Id: Ic454dcb06b9efe2a4735637bd804d8a337c394cd\n'}, {'number': 4, 'created': '2023-11-17 17:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d13c039958c18cb6658de811fddb8872fca6b266', 'message': 'WIP/PoC: SDK for Neutron\n\nJust a first patch at the moment to have an idea about\nwhat we need to have SDK instead of neutronclient bindings\nfor Neutron.\nCurrently the networks and subnets table show some ""sign of\nlife"".\nPlease give hints/comments/advices in review about how it\nshould be done.\n\nRelated-Bug: #1999774\nChange-Id: Ic454dcb06b9efe2a4735637bd804d8a337c394cd\n'}, {'number': 5, 'created': '2023-11-20 15:54:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/29783d6d15f1d948c1069a6f0d3d3f3bbc743e8f', 'message': 'WIP/PoC: SDK for Neutron\n\nJust a first patch at the moment to have an idea about\nwhat we need to have SDK instead of neutronclient bindings\nfor Neutron.\nCurrently the networks and subnets table show some ""sign of\nlife"".\nPlease give hints/comments/advices in review about how it\nshould be done.\n\nRelated-Bug: #1999774\nChange-Id: Ic454dcb06b9efe2a4735637bd804d8a337c394cd\n'}, {'number': 6, 'created': '2023-11-20 15:54:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/872229916d26449b842041089db752626e88273f', 'message': 'WIP/PoC: SDK for Neutron\n\nJust a first patch at the moment to have an idea about\nwhat we need to have SDK instead of neutronclient bindings\nfor Neutron.\nCurrently the networks and subnets table show some ""sign of\nlife"".\nPlease give hints/comments/advices in review about how it\nshould be done.\n\nRelated-Bug: #1999774\nChange-Id: Ic454dcb06b9efe2a4735637bd804d8a337c394cd\n'}, {'number': 7, 'created': '2023-11-29 17:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/df293ff8cd227e5dc0bd8e65d1051dc9d5441921', 'message': 'WIP/PoC: SDK for Neutron\n\nJust a first patch at the moment to have an idea about\nwhat we need to have SDK instead of neutronclient bindings\nfor Neutron.\nCurrently the networks and subnets table show some ""sign of\nlife"".\nPlease give hints/comments/advices in review about how it\nshould be done.\n\nRelated-Bug: #1999774\nChange-Id: Ic454dcb06b9efe2a4735637bd804d8a337c394cd\n'}, {'number': 8, 'created': '2023-11-30 14:44:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0c17250efda7d506b89fda399ae1aca38afe795a', 'message': 'WIP/PoC: SDK for Neutron\n\nJust a first patch at the moment to have an idea about\nwhat we need to have SDK instead of neutronclient bindings\nfor Neutron.\nCurrently the networks and subnets table show some ""sign of\nlife"".\nPlease give hints/comments/advices in review about how it\nshould be done.\n\nRelated-Bug: #1999774\nChange-Id: Ic454dcb06b9efe2a4735637bd804d8a337c394cd\n'}, {'number': 9, 'created': '2023-12-07 15:35:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/5d03c135076d761a766a9e993ddce59787ad2822', 'message': 'WIP/PoC: SDK for Neutron\n\nJust a first patch at the moment to have an idea about\nwhat we need to have SDK instead of neutronclient bindings\nfor Neutron.\nCurrently the networks and subnets table show some ""sign of\nlife"".\nPlease give hints/comments/advices in review about how it\nshould be done.\n\nRelated-Bug: #1999774\nChange-Id: Ic454dcb06b9efe2a4735637bd804d8a337c394cd\n'}, {'number': 10, 'created': '2023-12-08 14:47:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/6088ab71a1f02bd21e3ff74f665824d2de8ad2bb', 'message': 'WIP/PoC: SDK for Neutron\n\nJust a first patch at the moment to have an idea about\nwhat we need to have SDK instead of neutronclient bindings\nfor Neutron.\nCurrently the networks and subnets table show some ""sign of\nlife"".\nPlease give hints/comments/advices in review about how it\nshould be done.\n\nRelated-Bug: #1999774\nChange-Id: Ic454dcb06b9efe2a4735637bd804d8a337c394cd\n'}, {'number': 11, 'created': '2023-12-11 15:40:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/022d16a0d8c8e379767ac88ae6456bd4e4a3ac7b', 'message': 'SDK for Neutron networks and subnets\n\nRelated-Bug: #1999774\nChange-Id: Ic454dcb06b9efe2a4735637bd804d8a337c394cd\n'}, {'number': 12, 'created': '2024-01-11 12:52:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/4d2b0a859b376692baebb3d282e244bc3c11ccf0', 'message': 'SDK for Neutron networks and subnets\n\nRelated-Bug: #1999774\nChange-Id: Ic454dcb06b9efe2a4735637bd804d8a337c394cd\n'}, {'number': 13, 'created': '2024-01-11 15:33:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/eb7e5910d5ff30710371b207801ca8336b3bdcf7', 'message': 'SDK for Neutron networks and subnets\n\nCheck if integration test test_create_delete_instance\npasses with network=private.\n\nRelated-Bug: #1999774\nChange-Id: Ic454dcb06b9efe2a4735637bd804d8a337c394cd\n'}, {'number': 14, 'created': '2024-01-15 10:02:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c0c0753638606bd74a00efde6a46e6c2fb2aaad8', 'message': 'SDK for Neutron networks and subnets\n\nCheck if integration test test_create_delete_instance\npasses with network=private.\n\nRelated-Bug: #1999774\nChange-Id: Ic454dcb06b9efe2a4735637bd804d8a337c394cd\n'}, {'number': 15, 'created': '2024-01-15 10:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c473901b9003792ceefd6e3d8eef65653f349029', 'message': 'SDK for Neutron networks and subnets\n\nCheck if integration test test_create_delete_instance\npasses with network=private.\n\nRelated-Bug: #1999774\nChange-Id: Ic454dcb06b9efe2a4735637bd804d8a337c394cd\n'}, {'number': 16, 'created': '2024-01-17 16:34:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/4e2e88da2b38af2a73564109f675d4cdc83cd6e9', 'message': 'SDK for Neutron networks and subnets\n\nCheck if integration test test_create_delete_instance\npasses with network=private.\n\nRelated-Bug: #1999774\nChange-Id: Ic454dcb06b9efe2a4735637bd804d8a337c394cd\n'}, {'number': 17, 'created': '2024-01-23 15:58:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/4d9669f5238bedbb680e005d6a9c3a4469a20843', 'message': 'SDK for Neutron networks and subnets\n\nCheck if integration test test_create_delete_instance\npasses with network=private.\n\nRelated-Bug: #1999774\nChange-Id: Ic454dcb06b9efe2a4735637bd804d8a337c394cd\n'}, {'number': 18, 'created': '2024-01-31 09:48:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/6e03b5caed9f3e29424b7917543148660cec46e0', 'message': 'SDK for Neutron networks and subnets\n\nCheck if integration test test_create_delete_instance\npasses with network=private.\n\nRelated-Bug: #1999774\nChange-Id: Ic454dcb06b9efe2a4735637bd804d8a337c394cd\n'}, {'number': 19, 'created': '2024-01-31 16:30:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/8dabb32637c690cd8f9e733e3d7322c509d5af12', 'message': 'SDK for Neutron networks and subnets\n\nCheck if integration test test_create_delete_instance\npasses with network=private.\n\nRelated-Bug: #1999774\nChange-Id: Ic454dcb06b9efe2a4735637bd804d8a337c394cd\n'}, {'number': 20, 'created': '2024-02-02 14:05:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/db29ab7be5057f3cf8ef57d6345617fb5613e119', 'message': 'SDK for Neutron networks and subnets\n\nCheck if integration test test_create_delete_instance\npasses with network=private.\n\nRelated-Bug: #1999774\nChange-Id: Ic454dcb06b9efe2a4735637bd804d8a337c394cd\n'}, {'number': 21, 'created': '2024-02-05 16:57:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/6779ad3520bf364693066320d04e49a426ef0e80', 'message': 'SDK for Neutron networks and subnets\n\nCheck if integration test test_create_delete_instance\npasses with network=private.\n\nRelated-Bug: #1999774\nChange-Id: Ic454dcb06b9efe2a4735637bd804d8a337c394cd\n'}, {'number': 22, 'created': '2024-02-06 08:54:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/4ad540bb721add2bc2a3ccf39f650f31d9b0257a', 'message': 'SDK for Neutron networks and subnets\n\nCheck if integration test test_create_delete_instance\npasses with network=private.\n\nRelated-Bug: #1999774\nChange-Id: Ic454dcb06b9efe2a4735637bd804d8a337c394cd\n'}, {'number': 23, 'created': '2024-02-06 13:08:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/40e815dae11244e3d492a76489fae530795c5efc', 'message': 'SDK for Neutron networks and subnets\n\nCheck if integration test test_create_delete_instance\npasses with network=private.\n\nRelated-Bug: #1999774\nChange-Id: Ic454dcb06b9efe2a4735637bd804d8a337c394cd\n'}, {'number': 24, 'created': '2024-02-07 16:26:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/46fb9d0be6e7906b80fcbfb3692d9810fd5138d6', 'message': 'SDK for Neutron networks and subnets\n\nCheck if integration test test_create_delete_instance\npasses with network=private.\n\nRelated-Bug: #1999774\nChange-Id: Ic454dcb06b9efe2a4735637bd804d8a337c394cd\n'}, {'number': 25, 'created': '2024-02-08 07:49:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/4f7ef18eb9ddf85b53da2348911165e271a1bbbb', 'message': 'SDK for Neutron networks and subnets\n\nCheck if integration test test_create_delete_instance\npasses with network=private.\n\nRelated-Bug: #1999774\nChange-Id: Ic454dcb06b9efe2a4735637bd804d8a337c394cd\n'}, {'number': 26, 'created': '2024-02-20 12:40:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b8a87487a7be95b4fee80c6c589a51b9d5aeeb6e', 'message': 'SDK for Neutron networks and subnets\n\nCheck if integration test test_create_delete_instance\npasses with network=private.\n\nRelated-Bug: #1999774\nChange-Id: Ic454dcb06b9efe2a4735637bd804d8a337c394cd\n'}, {'number': 27, 'created': '2024-02-21 13:39:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/88c50d6f6fd7fa0df7fd36eca4a8050e4c02180a', 'message': 'SDK for Neutron networks and subnets\n\nCheck if integration test test_create_delete_instance\npasses with network=private.\n\nDepends-On: https://review.opendev.org/c/909656\nRelated-Bug: #1999774\nChange-Id: Ic454dcb06b9efe2a4735637bd804d8a337c394cd\n'}, {'number': 28, 'created': '2024-04-17 18:28:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/527ec4432f25348f948ebb46b3d9f185ddfd4189', 'message': 'SDK for Neutron networks and subnets\n\nCheck if integration test test_create_delete_instance\npasses with network=private.\n\nDepends-On: https://review.opendev.org/c/909656\nRelated-Bug: #1999774\nChange-Id: Ic454dcb06b9efe2a4735637bd804d8a337c394cd\n'}, {'number': 29, 'created': '2024-04-25 11:37:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/bdea6dd4ea5a8b9600f5a69b70e29cff66996a66', 'message': 'SDK for Neutron networks and subnets\n\nCheck if integration test test_create_delete_instance\npasses with network=private.\n\nDepends-On: https://review.opendev.org/c/909656\nRelated-Bug: #1999774\nChange-Id: Ic454dcb06b9efe2a4735637bd804d8a337c394cd\n'}, {'number': 30, 'created': '2024-04-30 14:08:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/fa82679d2175b4cdeddd11d42d1e7131fedfa108', 'message': 'SDK for Neutron networks and subnets\n\nCheck if integration test test_create_delete_instance\npasses with network=private.\n\nDepends-On: https://review.opendev.org/c/909656\nRelated-Bug: #1999774\nChange-Id: Ic454dcb06b9efe2a4735637bd804d8a337c394cd\n'}, {'number': 31, 'created': '2024-04-30 14:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b965f8a5dc9c5e94299f1755255ce78fe4d747d9', 'message': 'SDK for Neutron networks and subnets\n\nCheck if integration test test_create_delete_instance\npasses with network=private.\n\nDepends-On: https://review.opendev.org/c/909656\nRelated-Bug: #1999774\nChange-Id: Ic454dcb06b9efe2a4735637bd804d8a337c394cd\n'}, {'number': 32, 'created': '2024-05-02 09:05:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/64622b0aa0c5f70f8b8628ba1ccce6b66af90fb2', 'message': 'SDK for Neutron networks and subnets\n\nCheck if integration test test_create_delete_instance\npasses with network=private.\n\nDepends-On: https://review.opendev.org/c/909656\nRelated-Bug: #1999774\nChange-Id: Ic454dcb06b9efe2a4735637bd804d8a337c394cd\n'}, {'number': 33, 'created': '2024-06-04 09:35:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/76aa5e9d11b5d093f177cdb684bddb72bc28fc79', 'message': 'SDK for Neutron networks and subnets\n\nCheck if integration test test_create_delete_instance\npasses with network=private.\n\nDepends-On: https://review.opendev.org/c/909656\nRelated-Bug: #1999774\nChange-Id: Ic454dcb06b9efe2a4735637bd804d8a337c394cd\n'}, {'number': 34, 'created': '2024-06-06 07:28:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/2b9bd1ca5ec4b39591084f072f2f5cec43463526', 'message': 'SDK for Neutron networks and subnets\n\nCheck if integration test test_create_delete_instance\npasses with network=private.\n\nDepends-On: https://review.opendev.org/c/909656\nRelated-Bug: #1999774\nChange-Id: Ic454dcb06b9efe2a4735637bd804d8a337c394cd\n'}, {'number': 35, 'created': '2024-06-14 15:51:05.000000000', 'files': ['openstack_dashboard/dashboards/project/network_topology/views.py', 'openstack_dashboard/dashboards/project/networks/templates/networks/_detail_overview.html', 'horizon/tables/base.py', 'openstack_dashboard/dashboards/project/networks/tables.py', 'openstack_dashboard/dashboards/project/networks/tests.py', 'openstack_dashboard/test/unit/api/test_neutron.py', 'openstack_dashboard/api/neutron.py', 'openstack_dashboard/dashboards/admin/networks/tables.py', 'openstack_dashboard/dashboards/project/instances/tests.py', 'openstack_dashboard/dashboards/project/networks/views.py', 'openstack_dashboard/test/unit/api/test_network.py', 'openstack_dashboard/dashboards/admin/networks/tests.py', 'openstack_dashboard/test/unit/api/rest/test_network.py', 'openstack_dashboard/test/test_data/neutron_data.py', 'openstack_dashboard/dashboards/project/networks/subnets/views.py', 'openstack_dashboard/dashboards/project/network_topology/tests.py', 'openstack_dashboard/dashboards/admin/networks/views.py', 'openstack_dashboard/dashboards/project/instances/utils.py', 'openstack_dashboard/dashboards/project/networks/tabs.py', 'openstack_dashboard/dashboards/project/routers/tests.py', 'openstack_dashboard/utils/filters.py', 'openstack_dashboard/dashboards/admin/networks/subnets/tests.py', 'openstack_dashboard/dashboards/project/networks/subnets/tests.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/a2d84f10e09baaec844386b4fb204b8bfe75ffd0', 'message': 'SDK for Neutron networks and subnets\n\nDepends-On: https://review.opendev.org/c/909656\nRelated-Bug: #1999774\nChange-Id: Ic454dcb06b9efe2a4735637bd804d8a337c394cd\n'}]",55,891205,a2d84f10e09baaec844386b4fb204b8bfe75ffd0,124,6,35,8313,,,0,"SDK for Neutron networks and subnets

Depends-On: https://review.opendev.org/c/909656
Related-Bug: #1999774
Change-Id: Ic454dcb06b9efe2a4735637bd804d8a337c394cd
",git fetch https://review.opendev.org/openstack/horizon refs/changes/05/891205/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/admin/networks/subnets/tables.py', 'openstack_dashboard/dashboards/project/networks/tables.py', 'openstack_dashboard/api/neutron.py', 'openstack_dashboard/settings.py']",4,83633fae5d1c74637c688ff6215d02d175057e72,bug/1999774,DEBUG = TrueCOMPRESS_ENABLED = False,DEBUG = FalseCOMPRESS_ENABLED = True,42,14
openstack%2Fpython-openstackclient~906395,openstack/python-openstackclient,master,I37d07a6c5cdc98680b8d65d596521cad2b049500,identity: Migrate 'service' commands to SDK,NEW,2024-01-23 18:37:01.000000000,2024-06-14 20:11:59.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2024-01-23 18:37:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a54dbc8b858bf8ee1570a995bc13a540b47d1906', 'message': ""Migrate 'identity service' commands to SDK\n\nChange-Id: I37d07a6c5cdc98680b8d65d596521cad2b049500\n""}, {'number': 2, 'created': '2024-01-24 11:59:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/375f913b57baa25a2dfefc4996dc685789588575', 'message': ""identity: Migrate 'service' commands to SDK\n\nChange-Id: I37d07a6c5cdc98680b8d65d596521cad2b049500\n""}, {'number': 3, 'created': '2024-01-25 17:38:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/caa9c74e7885a2a088c25c77be50fee89a65696b', 'message': ""identity: Migrate 'service' commands to SDK\n\nChange-Id: I37d07a6c5cdc98680b8d65d596521cad2b049500\n""}, {'number': 4, 'created': '2024-01-31 17:59:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/95ae1cb6ae1b26b2660bf0ce3ab4fa7419f764c4', 'message': ""identity: Migrate 'service' commands to SDK\n\nChange-Id: I37d07a6c5cdc98680b8d65d596521cad2b049500\n""}, {'number': 5, 'created': '2024-02-05 21:29:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/60182dd79e5e31fb178c345da5503b453e2d882c', 'message': ""identity: Migrate 'service' commands to SDK\n\nChange-Id: I37d07a6c5cdc98680b8d65d596521cad2b049500\n""}, {'number': 6, 'created': '2024-02-05 21:36:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f0e1b6f604357e67e1d480ad6c3edfbfcf6f8fda', 'message': ""identity: Migrate 'service' commands to SDK\n\nChange-Id: I37d07a6c5cdc98680b8d65d596521cad2b049500\n""}, {'number': 7, 'created': '2024-02-06 18:23:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/dd5b07a6169aa86d60337cc92e44e0bb730a0fef', 'message': ""identity: Migrate 'service' commands to SDK\n\nChange-Id: I37d07a6c5cdc98680b8d65d596521cad2b049500\n""}, {'number': 8, 'created': '2024-02-06 19:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/4727924d703fda6ba217c38948158d202ef83b21', 'message': ""identity: Migrate 'service' commands to SDK\n\nChange-Id: I37d07a6c5cdc98680b8d65d596521cad2b049500\n""}, {'number': 9, 'created': '2024-02-07 18:07:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/46a2f32edbb78cd0bb93e086c8db27acea21b0cd', 'message': ""identity: Migrate 'service' commands to SDK\n\nChange-Id: I37d07a6c5cdc98680b8d65d596521cad2b049500\n""}, {'number': 10, 'created': '2024-02-08 18:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/8d2a366a29b83cee1d79ed9656d3dc89fecfa580', 'message': ""identity: Migrate 'service' commands to SDK\n\nChange-Id: I37d07a6c5cdc98680b8d65d596521cad2b049500\n""}, {'number': 11, 'created': '2024-05-09 15:47:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c0868d04ba60c184658034354e0eaf452c06ca5c', 'message': ""identity: Migrate 'service' commands to SDK\n\nChange-Id: I37d07a6c5cdc98680b8d65d596521cad2b049500\n""}, {'number': 12, 'created': '2024-05-22 16:24:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/821e7633540feff8dfb3097edf0cef79053cba0f', 'message': ""identity: Migrate 'service' commands to SDK\n\nChange-Id: I37d07a6c5cdc98680b8d65d596521cad2b049500\n""}, {'number': 13, 'created': '2024-05-22 17:37:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/6013a4bf85d040fea5a35b9fd068f0c41e23f2b8', 'message': ""identity: Migrate 'service' commands to SDK\n\nChange-Id: I37d07a6c5cdc98680b8d65d596521cad2b049500\n""}, {'number': 14, 'created': '2024-05-22 17:48:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e4451d7d931888bb54d4e98cc5662f1573975171', 'message': ""identity: Migrate 'service' commands to SDK\n\nChange-Id: I37d07a6c5cdc98680b8d65d596521cad2b049500\n""}, {'number': 15, 'created': '2024-05-22 17:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ce9c07ebf0c04becc0c2030ca98b0fb8b4041f82', 'message': ""identity: Migrate 'service' commands to SDK\n\nChange-Id: I37d07a6c5cdc98680b8d65d596521cad2b049500\n""}, {'number': 16, 'created': '2024-05-29 17:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/34ad33ec64ad61626fe04904301596a7b15b2c94', 'message': ""identity: Migrate 'service' commands to SDK\n\nChange-Id: I37d07a6c5cdc98680b8d65d596521cad2b049500\n""}, {'number': 17, 'created': '2024-05-30 17:54:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/8551db2d7a32d2297d66376853b45b544498d908', 'message': ""identity: Migrate 'service' commands to SDK\n\nChange-Id: I37d07a6c5cdc98680b8d65d596521cad2b049500\n""}, {'number': 18, 'created': '2024-06-03 17:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/dbba1b2dd1da0a1d7ac74265e8b337b3d4d07cf9', 'message': ""identity: Migrate 'service' commands to SDK\n\nChange-Id: I37d07a6c5cdc98680b8d65d596521cad2b049500\n""}, {'number': 19, 'created': '2024-06-05 16:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/723d8a90e001caff32e74b6499303b0aedce57a6', 'message': ""identity: Migrate 'service' commands to SDK\n\nChange-Id: I37d07a6c5cdc98680b8d65d596521cad2b049500\n""}, {'number': 20, 'created': '2024-06-10 16:56:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a408640256b7c8fead95264e8142dc4648bf7950', 'message': ""identity: Migrate 'service' commands to SDK\n\nChange-Id: I37d07a6c5cdc98680b8d65d596521cad2b049500\n""}, {'number': 21, 'created': '2024-06-12 17:57:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/600cfb7b63b9b6f32e54ebacd9ccb9c3c82f5a4c', 'message': ""identity: Migrate 'service' commands to SDK\n\nChange-Id: I37d07a6c5cdc98680b8d65d596521cad2b049500\n""}, {'number': 22, 'created': '2024-06-14 18:53:13.000000000', 'files': ['openstackclient/tests/unit/identity/v3/test_service.py', 'releasenotes/notes/migrate-service-to-sdk-6ff62ebf7e41db7c.yaml', 'openstackclient/identity/v3/service.py', 'openstackclient/tests/functional/identity/v3/test_limit.py', 'openstackclient/tests/functional/identity/v3/test_registered_limit.py', 'openstackclient/identity/common.py', 'openstackclient/tests/functional/identity/v3/common.py', 'openstackclient/tests/functional/identity/v3/test_service.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/72aec3faf93e6ae9512304f3d02ecba469120de2', 'message': ""identity: Migrate 'service' commands to SDK\n\nChange-Id: I37d07a6c5cdc98680b8d65d596521cad2b049500\n""}]",36,906395,72aec3faf93e6ae9512304f3d02ecba469120de2,65,3,22,35548,,,0,"identity: Migrate 'service' commands to SDK

Change-Id: I37d07a6c5cdc98680b8d65d596521cad2b049500
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/95/906395/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/identity/v3/test_service.py', 'openstackclient/identity/v3/service.py']",2,a54dbc8b858bf8ee1570a995bc13a540b47d1906,906395-patch3,"def _format_service(service): info = {} service = service.to_dict(ignore_none=True, original_names=True) for key in service: if key != 'links': info[key] = service.get(key) return info identity_client = self.app.client_manager.sdk_connection.identity service = identity_client.create_service( info = _format_service(service) return zip(*sorted(info.items())) identity_client = self.app.client_manager.sdk_connection.identity service = identity_client.find_service(i) identity_client.delete_service(service.id) identity_client = self.app.client_manager.sdk_connection.identity data = identity_client.services() identity_client = self.app.client_manager.sdk_connection.identity service = identity_client.find_service(parsed_args.service) identity_client.update_service(service.id, **kwargs) identity_client = self.app.client_manager.sdk_connection.identity service = identity_client.find_service(parsed_args.service) info = _format_service(service) return zip(*sorted(info.items()))","from openstackclient.identity import common identity_client = self.app.client_manager.identity service = identity_client.services.create( service._info.pop('links') return zip(*sorted(service._info.items())) identity_client = self.app.client_manager.identity service = common.find_service(identity_client, i) identity_client.services.delete(service.id) data = self.app.client_manager.identity.services.list() identity_client = self.app.client_manager.identity service = common.find_service(identity_client, parsed_args.service) identity_client.services.update(service.id, **kwargs) identity_client = self.app.client_manager.identity service = common.find_service(identity_client, parsed_args.service) service._info.pop('links') return zip(*sorted(service._info.items()))",93,53
openstack%2Fcharm-ceph-radosgw~922039,openstack/charm-ceph-radosgw,stable/jammy-caracal,Ibf4f2a5f5962aa7b4b22486c7a62195323375dac,Create jammy-caracal branch,NEW,2024-06-14 16:36:08.000000000,2024-06-14 20:06:17.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-14 16:36:08.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/a046d7dde8e5387d01209b7ae48e2a0c8f72ea29', 'message': 'Create jammy-caracal branch\n\nChange-Id: Ibf4f2a5f5962aa7b4b22486c7a62195323375dac\n'}]",0,922039,a046d7dde8e5387d01209b7ae48e2a0c8f72ea29,3,2,1,15382,,,0,"Create jammy-caracal branch

Change-Id: Ibf4f2a5f5962aa7b4b22486c7a62195323375dac
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/39/922039/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,a046d7dde8e5387d01209b7ae48e2a0c8f72ea29,create-jammy-caracal, defaultbranch=stable/jammy-caracal,,2,0
openstack%2Fcinder~843277,openstack/cinder,master,Ib9bb76cf2e2f2b035b92e596b1ef185558b190d6,StorPool: create_cloned_volume() improvements,NEW,2022-05-25 12:59:41.000000000,2024-06-14 19:58:36.000000000,,"[{'_account_id': 5314}, {'_account_id': 19451}, {'_account_id': 22348}, {'_account_id': 29122}, {'_account_id': 30615}]","[{'number': 1, 'created': '2022-05-25 12:59:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/07f20139187b1f1f7858f376e7e3edc8260bdae3', 'message': 'StorPool: create_cloned_volume() improvements.\n\nIf the source and destination volumes are in the same StorPool template\n(as defined by either the volume type or the global config setting),\nforego the need to create the transient snapshot at all and use\nStorPool\'s ""base this volume on that one"" API call (which does the same\nthing internally, but much more efficiently and atomically).\n\nIf the destination volume should be in a different StorPool template,\nthen make sure that the transient snapshot is also in that template so\nthat, if other volumes are cloned from the same source volume later,\nthey can all use the same data underneath (the internal workings of\nStorPool will detect that all those snapshots are exactly the same and\nnot duplicate any data in the destination template). This will avoid\ndata duplication, sometimes with drastic results.\n\nBump the minimum required version of the ""storpool"" third-party library\nfor snapshotUpdate(template=...) support.\n\nChange-Id: Ib9bb76cf2e2f2b035b92e596b1ef185558b190d6\n'}, {'number': 2, 'created': '2022-05-25 13:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5563b42f8ba435bc45e08399c77ac350156d9aa2', 'message': 'StorPool: create_cloned_volume() improvements\n\nIf the source and destination volumes are in the same StorPool template\n(as defined by either the volume type or the global config setting),\nforego the need to create the transient snapshot at all and use\nStorPool\'s ""base this volume on that one"" API call (which does the same\nthing internally, but much more efficiently and atomically).\n\nIf the destination volume should be in a different StorPool template,\nthen make sure that the transient snapshot is also in that template so\nthat, if other volumes are cloned from the same source volume later,\nthey can all use the same data underneath (the internal workings of\nStorPool will detect that all those snapshots are exactly the same and\nnot duplicate any data in the destination template). This will avoid\ndata duplication, sometimes with drastic results.\n\nBump the minimum required version of the ""storpool"" third-party library\nfor snapshotUpdate(template=...) support.\n\nChange-Id: Ib9bb76cf2e2f2b035b92e596b1ef185558b190d6\n'}, {'number': 3, 'created': '2022-06-15 13:43:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e1a01c49354ec51d538aff8c31996c185b00ba1a', 'message': 'StorPool: create_cloned_volume() improvements\n\nIf the source and destination volumes are in the same StorPool template\n(as defined by either the volume type or the global config setting),\nforego the need to create the transient snapshot at all and use\nStorPool\'s ""base this volume on that one"" API call (which does the same\nthing internally, but much more efficiently and atomically).\n\nIf the destination volume should be in a different StorPool template,\nthen make sure that the transient snapshot is also in that template so\nthat, if other volumes are cloned from the same source volume later,\nthey can all use the same data underneath (the internal workings of\nStorPool will detect that all those snapshots are exactly the same and\nnot duplicate any data in the destination template). This will avoid\ndata duplication, sometimes with drastic results.\n\nBump the minimum required version of the ""storpool"" third-party library\nfor snapshotUpdate(template=...) support.\n\nChange-Id: Ib9bb76cf2e2f2b035b92e596b1ef185558b190d6\n'}, {'number': 4, 'created': '2022-06-15 23:37:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/54d84d2cc33ce70ab189a81ef03ff088482f0ba6', 'message': 'StorPool: create_cloned_volume() improvements\n\nIf the source and destination volumes are in the same StorPool template\n(as defined by either the volume type or the global config setting),\nforego the need to create the transient snapshot at all and use\nStorPool\'s ""base this volume on that one"" API call (which does the same\nthing internally, but much more efficiently and atomically).\n\nIf the destination volume should be in a different StorPool template,\nthen make sure that the transient snapshot is also in that template so\nthat, if other volumes are cloned from the same source volume later,\nthey can all use the same data underneath (the internal workings of\nStorPool will detect that all those snapshots are exactly the same and\nnot duplicate any data in the destination template). This will avoid\ndata duplication, sometimes with drastic results.\n\nBump the minimum required version of the ""storpool"" third-party library\nfor snapshotUpdate(template=...) support.\n\nChange-Id: Ib9bb76cf2e2f2b035b92e596b1ef185558b190d6\n'}, {'number': 5, 'created': '2022-06-22 07:58:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/78a748a4abd7aa1aa56256222754a1206001af12', 'message': 'StorPool: create_cloned_volume() improvements\n\nIf the source and destination volumes are in the same StorPool template\n(as defined by either the volume type or the global config setting),\nforego the need to create the transient snapshot at all and use\nStorPool\'s ""base this volume on that one"" API call (which does the same\nthing internally, but much more efficiently and atomically).\n\nIf the destination volume should be in a different StorPool template,\nthen make sure that the transient snapshot is also in that template so\nthat, if other volumes are cloned from the same source volume later,\nthey can all use the same data underneath (the internal workings of\nStorPool will detect that all those snapshots are exactly the same and\nnot duplicate any data in the destination template). This will avoid\ndata duplication, sometimes with drastic results.\n\nBump the minimum required version of the ""storpool"" third-party library\nfor snapshotUpdate(template=...) support.\n\nChange-Id: Ib9bb76cf2e2f2b035b92e596b1ef185558b190d6\n'}, {'number': 6, 'created': '2022-06-24 07:50:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/30dd73246a5e6b023b9b389ebf5b0b80b1f0b15a', 'message': 'StorPool: create_cloned_volume() improvements\n\nIf the source and destination volumes are in the same StorPool template\n(as defined by either the volume type or the global config setting),\nforego the need to create the transient snapshot at all and use\nStorPool\'s ""base this volume on that one"" API call (which does the same\nthing internally, but much more efficiently and atomically).\n\nIf the destination volume should be in a different StorPool template,\nthen make sure that the transient snapshot is also in that template so\nthat, if other volumes are cloned from the same source volume later,\nthey can all use the same data underneath (the internal workings of\nStorPool will detect that all those snapshots are exactly the same and\nnot duplicate any data in the destination template). This will avoid\ndata duplication, sometimes with drastic results.\n\nBump the minimum required version of the ""storpool"" third-party library\nfor snapshotUpdate(template=...) support.\n\nChange-Id: Ib9bb76cf2e2f2b035b92e596b1ef185558b190d6\n'}, {'number': 7, 'created': '2022-08-01 13:13:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dec5acd4ff4c13a513372dc8ee48eafae0e15e77', 'message': 'StorPool: create_cloned_volume() improvements\n\nIf the source and destination volumes are in the same StorPool template\n(as defined by either the volume type or the global config setting),\nforego the need to create the transient snapshot at all and use\nStorPool\'s ""base this volume on that one"" API call (which does the same\nthing internally, but much more efficiently and atomically).\n\nIf the destination volume should be in a different StorPool template,\nthen make sure that the transient snapshot is also in that template so\nthat, if other volumes are cloned from the same source volume later,\nthey can all use the same data underneath (the internal workings of\nStorPool will detect that all those snapshots are exactly the same and\nnot duplicate any data in the destination template). This will avoid\ndata duplication, sometimes with drastic results.\n\nBump the minimum required version of the ""storpool"" third-party library\nfor snapshotUpdate(template=...) support.\n\nChange-Id: Ib9bb76cf2e2f2b035b92e596b1ef185558b190d6\n'}, {'number': 8, 'created': '2022-08-02 08:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a2285f2d55bb97ae1e203fe240043b013e8b46da', 'message': 'StorPool: create_cloned_volume() improvements\n\nIf the source and destination volumes are in the same StorPool template\n(as defined by either the volume type or the global config setting),\nforego the need to create the transient snapshot at all and use\nStorPool\'s ""base this volume on that one"" API call (which does the same\nthing internally, but much more efficiently and atomically).\n\nIf the destination volume should be in a different StorPool template,\nthen make sure that the transient snapshot is also in that template so\nthat, if other volumes are cloned from the same source volume later,\nthey can all use the same data underneath (the internal workings of\nStorPool will detect that all those snapshots are exactly the same and\nnot duplicate any data in the destination template). This will avoid\ndata duplication, sometimes with drastic results.\n\nBump the minimum required version of the ""storpool"" third-party library\nfor snapshotUpdate(template=...) support.\n\nChange-Id: Ib9bb76cf2e2f2b035b92e596b1ef185558b190d6\n'}, {'number': 9, 'created': '2023-01-16 14:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/00457bb872f4b7862da2dd68532e150a54d234e6', 'message': 'StorPool: create_cloned_volume() improvements\n\nIf the source and destination volumes are in the same StorPool template\n(as defined by either the volume type or the global config setting),\nforego the need to create the transient snapshot at all and use\nStorPool\'s ""base this volume on that one"" API call (which does the same\nthing internally, but much more efficiently and atomically).\n\nIf the destination volume should be in a different StorPool template,\nthen make sure that the transient snapshot is also in that template so\nthat, if other volumes are cloned from the same source volume later,\nthey can all use the same data underneath (the internal workings of\nStorPool will detect that all those snapshots are exactly the same and\nnot duplicate any data in the destination template). This will avoid\ndata duplication, sometimes with drastic results.\n\nBump the minimum required version of the ""storpool"" third-party library\nfor snapshotUpdate(template=...) support.\n\nChange-Id: Ib9bb76cf2e2f2b035b92e596b1ef185558b190d6\n'}, {'number': 10, 'created': '2023-01-16 23:26:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/110d748871ed078eff42bd370bcdfb643614e6f5', 'message': 'StorPool: create_cloned_volume() improvements\n\nIf the source and destination volumes are in the same StorPool template\n(as defined by either the volume type or the global config setting),\nforego the need to create the transient snapshot at all and use\nStorPool\'s ""base this volume on that one"" API call (which does the same\nthing internally, but much more efficiently and atomically).\n\nIf the destination volume should be in a different StorPool template,\nthen make sure that the transient snapshot is also in that template so\nthat, if other volumes are cloned from the same source volume later,\nthey can all use the same data underneath (the internal workings of\nStorPool will detect that all those snapshots are exactly the same and\nnot duplicate any data in the destination template). This will avoid\ndata duplication, sometimes with drastic results.\n\nBump the minimum required version of the ""storpool"" third-party library\nfor snapshotUpdate(template=...) support.\n\nChange-Id: Ib9bb76cf2e2f2b035b92e596b1ef185558b190d6\n'}, {'number': 11, 'created': '2023-01-26 12:35:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d8a28a72908089271954aab00218926aac51d4b0', 'message': 'StorPool: create_cloned_volume() improvements\n\nIf the source and destination volumes are in the same StorPool template\n(as defined by either the volume type or the global config setting),\nforego the need to create the transient snapshot at all and use\nStorPool\'s ""base this volume on that one"" API call (which does the same\nthing internally, but much more efficiently and atomically).\n\nIf the destination volume should be in a different StorPool template,\nthen make sure that the transient snapshot is also in that template so\nthat, if other volumes are cloned from the same source volume later,\nthey can all use the same data underneath (the internal workings of\nStorPool will detect that all those snapshots are exactly the same and\nnot duplicate any data in the destination template). This will avoid\ndata duplication, sometimes with drastic results.\n\nBump the minimum required version of the ""storpool"" third-party library\nfor snapshotUpdate(template=...) support.\n\nChange-Id: Ib9bb76cf2e2f2b035b92e596b1ef185558b190d6\n'}, {'number': 12, 'created': '2023-02-08 13:33:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1dcecd6a3877cf57f8cd7d304966286dc81df6f3', 'message': 'StorPool: create_cloned_volume() improvements\n\nIf the source and destination volumes are in the same StorPool template\n(as defined by either the volume type or the global config setting),\nforego the need to create the transient snapshot at all and use\nStorPool\'s ""base this volume on that one"" API call (which does the same\nthing internally, but much more efficiently and atomically).\n\nIf the destination volume should be in a different StorPool template,\nthen make sure that the transient snapshot is also in that template so\nthat, if other volumes are cloned from the same source volume later,\nthey can all use the same data underneath (the internal workings of\nStorPool will detect that all those snapshots are exactly the same and\nnot duplicate any data in the destination template). This will avoid\ndata duplication, sometimes with drastic results.\n\nBump the minimum required version of the ""storpool"" third-party library\nfor snapshotUpdate(template=...) support.\n\nChange-Id: Ib9bb76cf2e2f2b035b92e596b1ef185558b190d6\n'}, {'number': 13, 'created': '2023-02-13 09:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/724e313702e7f1d55fa966920fa9e659e44d0729', 'message': 'StorPool: create_cloned_volume() improvements\n\nIf the source and destination volumes are in the same StorPool template\n(as defined by either the volume type or the global config setting),\nforego the need to create the transient snapshot at all and use\nStorPool\'s ""base this volume on that one"" API call (which does the same\nthing internally, but much more efficiently and atomically).\n\nIf the destination volume should be in a different StorPool template,\nthen make sure that the transient snapshot is also in that template so\nthat, if other volumes are cloned from the same source volume later,\nthey can all use the same data underneath (the internal workings of\nStorPool will detect that all those snapshots are exactly the same and\nnot duplicate any data in the destination template). This will avoid\ndata duplication, sometimes with drastic results.\n\nBump the minimum required version of the ""storpool"" third-party library\nfor snapshotUpdate(template=...) support.\n\nChange-Id: Ib9bb76cf2e2f2b035b92e596b1ef185558b190d6\n'}, {'number': 14, 'created': '2023-03-01 12:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b3cd2632e8461e9c18b0f4d0aabff69faa9c554c', 'message': 'StorPool: create_cloned_volume() improvements\n\nIf the source and destination volumes are in the same StorPool template\n(as defined by either the volume type or the global config setting),\nforego the need to create the transient snapshot at all and use\nStorPool\'s ""base this volume on that one"" API call (which does the same\nthing internally, but much more efficiently and atomically).\n\nIf the destination volume should be in a different StorPool template,\nthen make sure that the transient snapshot is also in that template so\nthat, if other volumes are cloned from the same source volume later,\nthey can all use the same data underneath (the internal workings of\nStorPool will detect that all those snapshots are exactly the same and\nnot duplicate any data in the destination template). This will avoid\ndata duplication, sometimes with drastic results.\n\nBump the minimum required version of the ""storpool"" third-party library\nfor snapshotUpdate(template=...) support.\n\nChange-Id: Ib9bb76cf2e2f2b035b92e596b1ef185558b190d6\n'}, {'number': 15, 'created': '2023-03-15 23:33:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b9b6eace28010b91876af6af9292591bc8a4f599', 'message': 'StorPool: create_cloned_volume() improvements\n\nIf the source and destination volumes are in the same StorPool template\n(as defined by either the volume type or the global config setting),\nforego the need to create the transient snapshot at all and use\nStorPool\'s ""base this volume on that one"" API call (which does the same\nthing internally, but much more efficiently and atomically).\n\nIf the destination volume should be in a different StorPool template,\nthen make sure that the transient snapshot is also in that template so\nthat, if other volumes are cloned from the same source volume later,\nthey can all use the same data underneath (the internal workings of\nStorPool will detect that all those snapshots are exactly the same and\nnot duplicate any data in the destination template). This will avoid\ndata duplication, sometimes with drastic results.\n\nBump the minimum required version of the ""storpool"" third-party library\nfor snapshotUpdate(template=...) support.\n\nChange-Id: Ib9bb76cf2e2f2b035b92e596b1ef185558b190d6\n'}, {'number': 16, 'created': '2023-03-20 16:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e72c6358506d059837ab4ec98aac81f923b0035a', 'message': 'StorPool: create_cloned_volume() improvements\n\nIf the source and destination volumes are in the same StorPool template\n(as defined by either the volume type or the global config setting),\nforego the need to create the transient snapshot at all and use\nStorPool\'s ""base this volume on that one"" API call (which does the same\nthing internally, but much more efficiently and atomically).\n\nIf the destination volume should be in a different StorPool template,\nthen make sure that the transient snapshot is also in that template so\nthat, if other volumes are cloned from the same source volume later,\nthey can all use the same data underneath (the internal workings of\nStorPool will detect that all those snapshots are exactly the same and\nnot duplicate any data in the destination template). This will avoid\ndata duplication, sometimes with drastic results.\n\nBump the minimum required version of the ""storpool"" third-party library\nfor snapshotUpdate(template=...) support.\n\nChange-Id: Ib9bb76cf2e2f2b035b92e596b1ef185558b190d6\n'}, {'number': 17, 'created': '2023-05-08 19:32:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a699c1ba2c51b0ce9c874831d32e7b1e4b76d7c0', 'message': 'StorPool: create_cloned_volume() improvements\n\nIf the source and destination volumes are in the same StorPool template\n(as defined by either the volume type or the global config setting),\nforego the need to create the transient snapshot at all and use\nStorPool\'s ""base this volume on that one"" API call (which does the same\nthing internally, but much more efficiently and atomically).\n\nIf the destination volume should be in a different StorPool template,\nthen make sure that the transient snapshot is also in that template so\nthat, if other volumes are cloned from the same source volume later,\nthey can all use the same data underneath (the internal workings of\nStorPool will detect that all those snapshots are exactly the same and\nnot duplicate any data in the destination template). This will avoid\ndata duplication, sometimes with drastic results.\n\nBump the minimum required version of the ""storpool"" third-party library\nfor snapshotUpdate(template=...) support.\n\nChange-Id: Ib9bb76cf2e2f2b035b92e596b1ef185558b190d6\n'}, {'number': 18, 'created': '2023-12-06 06:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/842b39e2e8e73ea2dda84955d3ab99d9efbfa527', 'message': 'StorPool: create_cloned_volume() improvements\n\nIf the source and destination volumes are in the same StorPool template\n(as defined by either the volume type or the global config setting),\nforego the need to create the transient snapshot at all and use\nStorPool\'s ""base this volume on that one"" API call (which does the same\nthing internally, but much more efficiently and atomically).\n\nIf the destination volume should be in a different StorPool template,\nthen make sure that the transient snapshot is also in that template so\nthat, if other volumes are cloned from the same source volume later,\nthey can all use the same data underneath (the internal workings of\nStorPool will detect that all those snapshots are exactly the same and\nnot duplicate any data in the destination template). This will avoid\ndata duplication, sometimes with drastic results.\n\nBump the minimum required version of the ""storpool"" third-party library\nfor snapshotUpdate(template=...) support.\n\nChange-Id: Ib9bb76cf2e2f2b035b92e596b1ef185558b190d6\n'}, {'number': 19, 'created': '2024-01-18 12:56:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/27a21230f5c4e78c2893c6425544558f8791a7c5', 'message': 'StorPool: create_cloned_volume() improvements\n\nIf the source and destination volumes are in the same StorPool template\n(as defined by either the volume type or the global config setting),\nforego the need to create the transient snapshot at all and use\nStorPool\'s ""base this volume on that one"" API call (which does the same\nthing internally, but much more efficiently and atomically).\n\nIf the destination volume should be in a different StorPool template,\nthen make sure that the transient snapshot is also in that template so\nthat, if other volumes are cloned from the same source volume later,\nthey can all use the same data underneath (the internal workings of\nStorPool will detect that all those snapshots are exactly the same and\nnot duplicate any data in the destination template). This will avoid\ndata duplication, sometimes with drastic results.\n\nBump the minimum required version of the ""storpool"" third-party library\nfor snapshotUpdate(template=...) support.\n\nChange-Id: Ib9bb76cf2e2f2b035b92e596b1ef185558b190d6\n'}, {'number': 20, 'created': '2024-06-11 17:02:32.000000000', 'files': ['cinder/volume/drivers/storpool.py', 'cinder/tests/unit/volume/drivers/test_storpool.py', 'driver-requirements.txt', 'releasenotes/notes/storpool-clone-better-dca90f40c9273de9.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a265ca43d33ab9fbaea87d7e4bfb8231f3a7d877', 'message': 'StorPool: create_cloned_volume() improvements\n\nIf the source and destination volumes are in the same StorPool template\n(as defined by either the volume type or the global config setting),\nforego the need to create the transient snapshot at all and use\nStorPool\'s ""base this volume on that one"" API call (which does the same\nthing internally, but much more efficiently and atomically).\n\nIf the destination volume should be in a different StorPool template,\nthen make sure that the transient snapshot is also in that template so\nthat, if other volumes are cloned from the same source volume later,\nthey can all use the same data underneath (the internal workings of\nStorPool will detect that all those snapshots are exactly the same and\nnot duplicate any data in the destination template). This will avoid\ndata duplication, sometimes with drastic results.\n\nBump the minimum required version of the ""storpool"" third-party library\nfor snapshotUpdate(template=...) support.\n\nChange-Id: Ib9bb76cf2e2f2b035b92e596b1ef185558b190d6\n'}]",31,843277,a265ca43d33ab9fbaea87d7e4bfb8231f3a7d877,405,5,20,12988,,,0,"StorPool: create_cloned_volume() improvements

If the source and destination volumes are in the same StorPool template
(as defined by either the volume type or the global config setting),
forego the need to create the transient snapshot at all and use
StorPool's ""base this volume on that one"" API call (which does the same
thing internally, but much more efficiently and atomically).

If the destination volume should be in a different StorPool template,
then make sure that the transient snapshot is also in that template so
that, if other volumes are cloned from the same source volume later,
they can all use the same data underneath (the internal workings of
StorPool will detect that all those snapshots are exactly the same and
not duplicate any data in the destination template). This will avoid
data duplication, sometimes with drastic results.

Bump the minimum required version of the ""storpool"" third-party library
for snapshotUpdate(template=...) support.

Change-Id: Ib9bb76cf2e2f2b035b92e596b1ef185558b190d6
",git fetch https://review.opendev.org/openstack/cinder refs/changes/77/843277/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/storpool.py', 'cinder/tests/unit/volume/drivers/test_storpool.py', 'driver-requirements.txt']",3,07f20139187b1f1f7858f376e7e3edc8260bdae3,storpool-driver-fixes,storpool>=7.1.0 # Apache-2.0,storpool>=4.0.0 # Apache-2.0,205,36
openstack%2Fneutron~922043,openstack/neutron,master,I7d21e4adc27fab411346e0458c92191e69ce6b30,Don't print traceback if standard attr is missing on update,NEW,2024-06-14 17:34:18.000000000,2024-06-14 19:52:23.000000000,,"[{'_account_id': 1131}, {'_account_id': 9656}, {'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-14 17:34:18.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e1816131dd752dd135eff69797f43759aee275ee', 'message': ""Don't print traceback if standard attr is missing on update\n\nIf northd is very busy, it may happen port is deleted when handling an\nLSP down event causing standard attribute being gone when bumping ovn\nrevision number. This is because the port is set down in SB DB first and\nthen northd propagates that to NB DB, and then the event is emited.\n\nThis patch just makes sure the traceback is not printed in case this\nhappens.\n\nTrivialFix\nCloses-bug: #2069442\n\nChange-Id: I7d21e4adc27fab411346e0458c92191e69ce6b30\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n""}]",2,922043,e1816131dd752dd135eff69797f43759aee275ee,5,4,1,8655,,,0,"Don't print traceback if standard attr is missing on update

If northd is very busy, it may happen port is deleted when handling an
LSP down event causing standard attribute being gone when bumping ovn
revision number. This is because the port is set down in SB DB first and
then northd propagates that to NB DB, and then the event is emited.

This patch just makes sure the traceback is not printed in case this
happens.

TrivialFix
Closes-bug: #2069442

Change-Id: I7d21e4adc27fab411346e0458c92191e69ce6b30
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/43/922043/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",2,e1816131dd752dd135eff69797f43759aee275ee,bug/2069442," except ovn_revision_numbers_db.StandardAttributeIDNotFound: LOG.debug(""Standard attribute was not found for port %s. It must "" ""have been deleted in the meantime."", port['id'])",,15,0
openstack%2Fswift~922048,openstack/swift,master,If8cc084770ebe1ae6e4af130aff1a4717cfdc69a,sq? Divide responsibilities differently,NEW,2024-06-14 18:35:43.000000000,2024-06-14 19:49:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-14 18:35:43.000000000', 'files': ['swift/common/statsd_client.py', 'test/debug_logger.py', 'test/unit/common/test_statsd_client.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/67d79bdebc0d137fe3de7487e693eb5831723e88', 'message': 'sq? Divide responsibilities differently\n\n- Make get_statsd_client responsible for config parsing. This also gives\n  us a place where we could hope to deprecate the ""log_"" prefix.\n- Get rid of StatsdClientConf, since the parsing is happening elsewhere.\n- Roll back StatsdClient signature changes. get_statsd_client will take\n  a config dict, similar to get_logger, while StatsdClient continues to\n  have a self-explanatory signature.\n\nChange-Id: If8cc084770ebe1ae6e4af130aff1a4717cfdc69a\n'}]",1,922048,67d79bdebc0d137fe3de7487e693eb5831723e88,4,1,1,15343,,,0,"sq? Divide responsibilities differently

- Make get_statsd_client responsible for config parsing. This also gives
  us a place where we could hope to deprecate the ""log_"" prefix.
- Get rid of StatsdClientConf, since the parsing is happening elsewhere.
- Roll back StatsdClient signature changes. get_statsd_client will take
  a config dict, similar to get_logger, while StatsdClient continues to
  have a self-explanatory signature.

Change-Id: If8cc084770ebe1ae6e4af130aff1a4717cfdc69a
",git fetch https://review.opendev.org/openstack/swift refs/changes/48/922048/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/statsd_client.py', 'test/debug_logger.py', 'test/unit/common/test_statsd_client.py']",3,67d79bdebc0d137fe3de7487e693eb5831723e88,," client = StatsdClient('myhost', 1234)"," client = StatsdClient({'log_statsd_host': 'myhost', 'log_statsd_port': 1234})",56,30
openstack%2Fkolla-ansible~921743,openstack/kolla-ansible,master,Ic87fb3e4c014d3090869d5631e02982829df6312,Bump Ansible versions to 2.16 and 2.17,NEW,2024-06-11 09:53:35.000000000,2024-06-14 19:37:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-11 09:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c564e0d80100c0f38e04cf290795098adb105fea', 'message': 'Bump Ansible versions to 2.16 and 2.17\n\nChange-Id: Ic87fb3e4c014d3090869d5631e02982829df6312\n'}, {'number': 2, 'created': '2024-06-11 10:10:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8990db71aaad7ee4bbdace6f063fb5d3d756808e', 'message': 'Bump Ansible versions to 2.16 and 2.17\n\nChange-Id: Ic87fb3e4c014d3090869d5631e02982829df6312\n'}, {'number': 3, 'created': '2024-06-11 14:15:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/719c49232bd435f8c35ee6baebd9d84fc27fcc04', 'message': 'Bump Ansible versions to 2.16 and 2.17\n\nChange-Id: Ic87fb3e4c014d3090869d5631e02982829df6312\n'}, {'number': 4, 'created': '2024-06-13 08:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0b56418da6ec7e3412837dc7b8a4fd8b6273b956', 'message': 'Bump Ansible versions to 2.16 and 2.17\n\nChange-Id: Ic87fb3e4c014d3090869d5631e02982829df6312\n'}, {'number': 5, 'created': '2024-06-13 08:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ca85b9aac4cd0fb15b8b671ac187957a24650554', 'message': 'Bump Ansible versions to 2.16 and 2.17\n\nChange-Id: Ic87fb3e4c014d3090869d5631e02982829df6312\n'}, {'number': 6, 'created': '2024-06-13 14:28:11.000000000', 'files': ['tests/run.yml', 'doc/source/conf.py', 'zuul.d/base.yaml', 'tools/kolla-ansible', 'ansible/roles/prechecks/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/404bb5ff5624b809d3b7f0321456b626293c68fb', 'message': 'Bump Ansible versions to 2.16 and 2.17\n\nChange-Id: Ic87fb3e4c014d3090869d5631e02982829df6312\n'}]",4,921743,404bb5ff5624b809d3b7f0321456b626293c68fb,19,1,6,22629,,,0,"Bump Ansible versions to 2.16 and 2.17

Change-Id: Ic87fb3e4c014d3090869d5631e02982829df6312
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/43/921743/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'zuul.d/base.yaml', 'tools/kolla-ansible']",3,c564e0d80100c0f38e04cf290795098adb105fea,,ANSIBLE_VERSION_MIN=2.16 ANSIBLE_VERSION_MAX=2.17,ANSIBLE_VERSION_MIN=2.15 ANSIBLE_VERSION_MAX=2.16,12,12
openstack%2Fneutron~919800,openstack/neutron,stable/2023.1,I167067c185b63e7e1b4b3c0821e73315c60ea018,[stable/2023.1 only] Fix missing test fix for ext gw,MERGED,2024-05-16 09:13:51.000000000,2024-06-14 19:32:44.000000000,2024-06-14 19:31:29.000000000,"[{'_account_id': 4694}, {'_account_id': 13861}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-16 09:13:51.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c190408171e63928de0c3a63abf8e0e9ede4ddb9', 'message': '[stable/2023.1 only] Fix missing test fix for ext gw\n\nA fix for an invalid cherry pick [0] missed updating all\nthe unit tests that had an invalid key. Fix it.\n\n[0] https://review.opendev.org/c/openstack/neutron/+/913408/\n\nRelated-bug: #2057942\nChange-Id: I167067c185b63e7e1b4b3c0821e73315c60ea018\n'}]",0,919800,c190408171e63928de0c3a63abf8e0e9ede4ddb9,10,4,1,1131,,,0,"[stable/2023.1 only] Fix missing test fix for ext gw

A fix for an invalid cherry pick [0] missed updating all
the unit tests that had an invalid key. Fix it.

[0] https://review.opendev.org/c/openstack/neutron/+/913408/

Related-bug: #2057942
Change-Id: I167067c185b63e7e1b4b3c0821e73315c60ea018
",git fetch https://review.opendev.org/openstack/neutron refs/changes/00/919800/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py'],1,c190408171e63928de0c3a63abf8e0e9ede4ddb9,bug/2057942, 'external_gateway_info': {'network_id': ext_net_id}}], 'external_gateways': [{'network_id': ext_net_id}]}],1,1
openstack%2Fneutron~921943,openstack/neutron,unmaintained/zed,Ia61784174ee610b338f26660b2954330abc131a1,Add a default goto table=94 for openvswitch fw,MERGED,2024-06-13 10:57:08.000000000,2024-06-14 19:32:35.000000000,2024-06-14 19:31:25.000000000,"[{'_account_id': 8313}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-13 10:57:08.000000000', 'files': ['doc/source/contributor/internals/openvswitch_firewall.rst', 'neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c32eb5669a542470bf659f79697517f5682ec19e', 'message': ""Add a default goto table=94 for openvswitch fw\n\nIf enable explicitly_egress_direct=True and set port as\nno security group and port_security=False, the ingress\nflood will reappear. The pipleline is:\nIngress\ntable_0 -> table_60 -> NORMAL -> VM\nEgress\ntable_0 -> ... -> table_94 -> output\n\nBecause ingress final action is normal, the br-int will learn the\nsource MAC, but egress final action is output. So VM's mac will\nnever be learnt by the br-int. Then ingress flood comes again.\n\nThis patch adds a default direct flow to table 94 during the\nopenflow security group init and explicitly_egress_direct=True, then\nthe pipleline will be:\nIngress\ntable_0 -> table_60 -> table_94 -> output VM\nEgress\ntable_0 -> ... -> table_94 -> output\n\nAnd this patch adds the flows coming from patch port which will\nmatch local vlan then go to table 94 do the same direct actions.\n\nAbove flood issue will be addressed by these flows.\n\nCloses-Bug: #2051351\nChange-Id: Ia61784174ee610b338f26660b2954330abc131a1\n(cherry picked from commit d6f56c5f96c42e1682f3d1723a65253429778c20)\n(cherry picked from commit f94f8b63842099904ff88906e8221a366a809f99)\n(cherry picked from commit fc7fa9cf308766cdbf29b8cf4d3aaad867738dc0)\n    Conflict with 02b12b09175 in neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py\n(cherry picked from commit 1045985c76dbea8851e6ced72d09a0f9bc58a59d)\n    Conflict with 5b64ac90133 in neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py\n""}]",3,921943,c32eb5669a542470bf659f79697517f5682ec19e,12,3,1,15554,,,0,"Add a default goto table=94 for openvswitch fw

If enable explicitly_egress_direct=True and set port as
no security group and port_security=False, the ingress
flood will reappear. The pipleline is:
Ingress
table_0 -> table_60 -> NORMAL -> VM
Egress
table_0 -> ... -> table_94 -> output

Because ingress final action is normal, the br-int will learn the
source MAC, but egress final action is output. So VM's mac will
never be learnt by the br-int. Then ingress flood comes again.

This patch adds a default direct flow to table 94 during the
openflow security group init and explicitly_egress_direct=True, then
the pipleline will be:
Ingress
table_0 -> table_60 -> table_94 -> output VM
Egress
table_0 -> ... -> table_94 -> output

And this patch adds the flows coming from patch port which will
match local vlan then go to table 94 do the same direct actions.

Above flood issue will be addressed by these flows.

Closes-Bug: #2051351
Change-Id: Ia61784174ee610b338f26660b2954330abc131a1
(cherry picked from commit d6f56c5f96c42e1682f3d1723a65253429778c20)
(cherry picked from commit f94f8b63842099904ff88906e8221a366a809f99)
(cherry picked from commit fc7fa9cf308766cdbf29b8cf4d3aaad867738dc0)
    Conflict with 02b12b09175 in neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py
(cherry picked from commit 1045985c76dbea8851e6ced72d09a0f9bc58a59d)
    Conflict with 5b64ac90133 in neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py
",git fetch https://review.opendev.org/openstack/neutron refs/changes/43/921943/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/internals/openvswitch_firewall.rst', 'neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py']",6,c32eb5669a542470bf659f79697517f5682ec19e,bug/2051351," self.install_normal(table_id=constants.TRANSIENT_TABLE, priority=1)"," self.install_normal(table_id=constants.TRANSIENT_TABLE, priority=3)",50,4
openstack%2Fcinder~907126,openstack/cinder,master,I204f3889e3401b142dd7c9a6e11585639585abfc,Fujitsu Driver: Improve CLI function,NEW,2024-01-31 07:31:04.000000000,2024-06-14 19:27:25.000000000,,"[{'_account_id': 4523}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-01-31 07:31:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/99be8c7a270bd6b8e5165ae49bcb0b954ac06269', 'message': 'Fujitsu Driver: Improve CLI function\n\nWhen the CLI command execution encounters an error, the storage\nreturns an error code.\nHowever, only some error codes could be parsed, resulting the\ninability to view specific error information in the log.\nTo fix this issue, the parsing of error codes has been added when\nthe CLI encounters an error, allowing the error information to be\nviewed in the log.\n\nIn addition, this patch also adds support for SSH keys,\nallowing connections to the storage using SSH key.\n\nCloses-Bug: #2048850\nChange-Id: I204f3889e3401b142dd7c9a6e11585639585abfc\n'}, {'number': 2, 'created': '2024-02-08 03:04:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/266af3d60245a4d60ac64686b7e378a01e71a51e', 'message': 'Fujitsu Driver: Improve CLI function\n\nWhen the CLI command execution encounters an error, the storage\nreturns an error code.\nHowever, only some error codes could be parsed, resulting the\ninability to view specific error information in the log.\nTo fix this issue, the parsing of error codes has been added when\nthe CLI encounters an error, allowing the error information to be\nviewed in the log.\n\nIn addition, this patch also adds support for SSH keys,\nallowing connections to the storage using SSH key.\n\nCloses-Bug: #2048850\nChange-Id: I204f3889e3401b142dd7c9a6e11585639585abfc\n'}, {'number': 3, 'created': '2024-02-18 02:20:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8ef225e5754d6bd635de2e69c52b4ec3d3106c70', 'message': 'Fujitsu Driver: Improve CLI function\n\nWhen the CLI command execution encounters an error, the storage\nreturns an error code.\nHowever, only some error codes could be parsed, resulting the\ninability to view specific error information in the log.\nTo fix this issue, the parsing of error codes has been added when\nthe CLI encounters an error, allowing the error information to be\nviewed in the log.\n\nIn addition, this patch also adds support for SSH keys,\nallowing connections to the storage using SSH key.\n\nCloses-Bug: #2048850\nChange-Id: I204f3889e3401b142dd7c9a6e11585639585abfc\n'}, {'number': 4, 'created': '2024-03-19 05:56:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8db32bff70797191db8bc571aa917b1c7f890835', 'message': 'Fujitsu Driver: Improve CLI function\n\nWhen the CLI command execution encounters an error, the storage\nreturns an error code.\nHowever, only some error codes could be parsed, resulting the\ninability to view specific error information in the log.\nTo fix this issue, the parsing of error codes has been added when\nthe CLI encounters an error, allowing the error information to be\nviewed in the log.\n\nIn addition, this patch also adds support for SSH keys,\nallowing connections to the storage using SSH key.\n\nCloses-Bug: #2048850\nChange-Id: I204f3889e3401b142dd7c9a6e11585639585abfc\n'}, {'number': 5, 'created': '2024-05-07 07:39:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1bebd0cd4fefca818cf5229463b0f9b1a0fbd3d9', 'message': 'Fujitsu Driver: Improve CLI function\n\nWhen the CLI command execution encounters an error, the storage\nreturns an error code.\nHowever, only some error codes could be parsed, resulting the\ninability to view specific error information in the log.\nTo fix this issue, the parsing of error codes has been added when\nthe CLI encounters an error, allowing the error information to be\nviewed in the log.\n\nIn addition, this patch also adds support for SSH keys,\nallowing connections to the storage using SSH key.\n\nCloses-Bug: #2048850\nChange-Id: I204f3889e3401b142dd7c9a6e11585639585abfc\n'}, {'number': 6, 'created': '2024-06-14 06:00:21.000000000', 'files': ['cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_cli.py', 'releasenotes/notes/fujitsu-improve-cli-function-6cabf36ffc6d44d6.yaml', 'cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'doc/source/configuration/block-storage/drivers/fujitsu-eternus-dx-driver.rst', 'cinder/volume/drivers/fujitsu/eternus_dx/constants.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/69488d722158c8bb19c9e0512ca4d81869b3f283', 'message': 'Fujitsu Driver: Improve CLI function\n\nWhen the CLI command execution encounters an error, the storage\nreturns an error code.\nHowever, only some error codes could be parsed, resulting the\ninability to view specific error information in the log.\nTo fix this issue, the parsing of error codes has been added when\nthe CLI encounters an error, allowing the error information to be\nviewed in the log.\n\nIn addition, this patch also adds support for SSH keys,\nallowing connections to the storage using SSH key.\n\nCloses-Bug: #2048850\nChange-Id: I204f3889e3401b142dd7c9a6e11585639585abfc\n'}]",9,907126,69488d722158c8bb19c9e0512ca4d81869b3f283,123,2,6,33609,,,0,"Fujitsu Driver: Improve CLI function

When the CLI command execution encounters an error, the storage
returns an error code.
However, only some error codes could be parsed, resulting the
inability to view specific error information in the log.
To fix this issue, the parsing of error codes has been added when
the CLI encounters an error, allowing the error information to be
viewed in the log.

In addition, this patch also adds support for SSH keys,
allowing connections to the storage using SSH key.

Closes-Bug: #2048850
Change-Id: I204f3889e3401b142dd7c9a6e11585639585abfc
",git fetch https://review.opendev.org/openstack/cinder refs/changes/26/907126/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_cli.py', 'releasenotes/notes/fujitsu-improve-cli-function-6cabf36ffc6d44d6.yaml', 'cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'doc/source/configuration/block-storage/drivers/fujitsu-eternus-dx-driver.rst', 'cinder/volume/drivers/fujitsu/eternus_dx/constants.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py']",6,99be8c7a270bd6b8e5165ae49bcb0b954ac06269,fujitsu-driver-update," cfg.BoolOpt('fujitsu_passwordless', default=True, help='Use SSH key/password to connect to storage.'), cfg.StrOpt('fujitsu_private_key_path', default='$state_path/eternus', help='Default path of private key.'), 1.4.8 - Improve the processing flow of CLI error messages.(bug #2048850) - Add support connect to storage using SSH key. VERSION = ""1.4.8"" self.passwordless = self.configuration.fujitsu_passwordless self.private_key_path = self.configuration.fujitsu_private_key_path retry_code=['E0060'], filename=None, out = None storage_ip = self._get_drvcfg('EternusIP', filename) if not self.fjdxcli.get(filename): user = self._get_drvcfg('EternusUser', filename) if self.passwordless: self.fjdxcli[filename] = ( eternus_dx_cli.FJDXCLI(user, storage_ip, keyfile=self.private_key_path)) else: password = self._get_drvcfg('EternusPassword', filename) self.fjdxcli[filename] = ( eternus_dx_cli.FJDXCLI(user, storage_ip, password=password)) out = self.fjdxcli[filename].done(command, **param_dict) out_dict = out 'stdout: %(out)s, ' % {'out': out, 'ex': ex}) if rc_str.startswith('E'): errordesc = rc_str rc = 4 if rc_str in retry_code: 'rc': rc_str, else: LOG.warning('_exec_eternus_cli, ' 'WARNING!! ' 'ip: %(ip)s, ' 'ReturnCode: %(rc_str)s, ' 'ReturnData: %(retdata)s.', {'ip': storage_ip, 'rc_str': rc_str, 'retdata': retdata}) break else: if rc_str == '4': errordesc = rc_str rc = 4 else: errordesc = None rc = 0 LOG.warning('_exec_eternus_cli, Retry was exceeded.')"," VERSION = ""1.4.7"" retry_code=[32787], filename=None, timeout=None, 'timeout: %(t)s, ' 't': timeout, result = None storage_ip = self._get_drvcfg('EternusIP') if not self.fjdxcli.get(filename): user = self._get_drvcfg('EternusUser') password = self._get_drvcfg('EternusPassword') self.fjdxcli[filename] = ( eternus_dx_cli.FJDXCLI(user, storage_ip, password=password)) out_dict = self.fjdxcli[filename].done(command, **param_dict) result = out_dict.get('result') % {'ex': ex}) # Check ssh result. if result == 255: LOG.info('_exec_eternus_cli, retry, ' 'command: %(command)s, ' 'option: %(option)s, ' 'ip: %(ip)s, ' 'SSH Result: %(result)s, ' 'retdata: %(retdata)s, ' 'TryNum: %(rn)s.', {'command': command, 'option': param_dict, 'ip': storage_ip, 'result': result, 'retdata': retdata, 'rn': (retry_num + 1)}) time.sleep(retry_interval) continue elif result != 0: msg = (_('_exec_eternus_cli, ' 'unexpected error, ' 'command: %(command)s, ' 'option: %(option)s, ' 'ip: %(ip)s, ' 'resuslt: %(result)s, ' 'retdata: %(retdata)s.') % {'command': command, 'option': param_dict, 'ip': storage_ip, 'result': result, 'retdata': retdata}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) # Check CLI return code. if rc_str.isdigit(): # SMI-S style return code. rc = int(rc_str) try: errordesc = CONSTANTS.RETCODE_dic[str(rc)] except Exception: errordesc = 'Undefined Error!!' if rc in retry_code: 'rc': rc, if rc == 4: break else: # CLI style return code. LOG.warning('_exec_eternus_cli, ' 'WARNING!! ' 'ip: %(ip)s, ' 'ReturnCode: %(rc_str)s, ' 'ReturnData: %(retdata)s.', {'ip': storage_ip, 'rc_str': rc_str, 'retdata': retdata}) errordesc = rc_str rc = 4 # Failed. if 0 < result: msg = (_('_exec_eternus_cli, ' 'cannot connect to ETERNUS. ' 'SSH Result: %(result)s, ' 'retdata: %(retdata)s.') % {'result': result, 'retdata': retdata}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) else: LOG.warning('_exec_eternus_cli, Retry was exceeded.')",2065,127
openstack%2Fopenstacksdk~922045,openstack/openstacksdk,unmaintained/yoga,I7e25e30b95ebb8df7984a706ece432813554a395,Remove retired project Senlin job,NEW,2024-06-14 17:44:10.000000000,2024-06-14 19:18:30.000000000,,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2024-06-14 17:44:10.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ee83b89f3015980b382676717f599a1fe5890c51', 'message': 'Remove retired project Senlin job\n\nSenlin project has been retired[1] so removing\nits ref and job from sdk gate otherwise it will fail.\n\n[1] https://review.opendev.org/c/openstack/governance/+/919347\n\nChange-Id: I7e25e30b95ebb8df7984a706ece432813554a395\n(cherry picked from commit 8091075e3b8a9bb160eaee8cd4b24fb3c6410642)\n(cherry picked from commit 8e9e4cc9745f5b9baa3faacb32160730a85c6ca3)\n(cherry picked from commit eee309c588b173fcea383b3837ad44f3d18160ef)\n(cherry picked from commit a3c6499ab8d8659ae0e8f499655fa80bb98c72fc)\n'}]",0,922045,ee83b89f3015980b382676717f599a1fe5890c51,3,2,1,17685,,,0,"Remove retired project Senlin job

Senlin project has been retired[1] so removing
its ref and job from sdk gate otherwise it will fail.

[1] https://review.opendev.org/c/openstack/governance/+/919347

Change-Id: I7e25e30b95ebb8df7984a706ece432813554a395
(cherry picked from commit 8091075e3b8a9bb160eaee8cd4b24fb3c6410642)
(cherry picked from commit 8e9e4cc9745f5b9baa3faacb32160730a85c6ca3)
(cherry picked from commit eee309c588b173fcea383b3837ad44f3d18160ef)
(cherry picked from commit a3c6499ab8d8659ae0e8f499655fa80bb98c72fc)
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/45/922045/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ee83b89f3015980b382676717f599a1fe5890c51,retire-senlin,, name: openstacksdk-functional-devstack-senlin parent: openstacksdk-functional-devstack description: | Run openstacksdk functional tests against a master devstack with senlin required-projects: - openstack/senlin vars: devstack_plugins: senlin: https://opendev.org/openstack/senlin devstack_services: s-account: false s-container: false s-object: false s-proxy: false tox_environment: OPENSTACKSDK_HAS_SWIFT: 0 OPENSTACKSDK_HAS_SENLIN: 1 - job: - openstacksdk-functional-devstack-senlin - openstacksdk-functional-devstack-senlin,0,21
openstack%2Fmanila~917155,openstack/manila,master,I4ad95085f4960530a259a93dc923ad5fd5677aeb,api: Add descriptions to API schemas,NEW,2024-04-26 15:09:42.000000000,2024-06-14 19:02:23.000000000,,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-26 15:09:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/0c4ba2fdc9573df402a1a605d191dbc75ac5136d', 'message': ""api: Add descriptions to API schemas\n\nRather than reinventing the wheel, we simply copy those that we already\nhave. This isn't technically sufficient since we're using\nreStructuredText and OpenAPI insists on Markdown but we'll fix that\nlater.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I4ad95085f4960530a259a93dc923ad5fd5677aeb\n""}, {'number': 2, 'created': '2024-04-26 15:41:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/4934f3ade7373651f386be7aab4cc7c699ca63a0', 'message': ""api: Add descriptions to API schemas\n\nRather than reinventing the wheel, we simply copy those that we already\nhave. This isn't technically sufficient since we're using\nreStructuredText and OpenAPI insists on Markdown but we'll fix that\nlater.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I4ad95085f4960530a259a93dc923ad5fd5677aeb\n""}, {'number': 3, 'created': '2024-04-30 09:54:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f5bd796410c4c00a3e36567b81c8d1585ea959ae', 'message': ""api: Add descriptions to API schemas\n\nRather than reinventing the wheel, we simply copy those that we already\nhave. This isn't technically sufficient since we're using\nreStructuredText and OpenAPI insists on Markdown but we'll fix that\nlater.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I4ad95085f4960530a259a93dc923ad5fd5677aeb\n""}, {'number': 4, 'created': '2024-04-30 11:37:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/8f7019b073a6691b94f5fee8421afb4e90a66c7e', 'message': ""api: Add descriptions to API schemas\n\nRather than reinventing the wheel, we simply copy those that we already\nhave. This isn't technically sufficient since we're using\nreStructuredText and OpenAPI insists on Markdown but we'll fix that\nlater.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I4ad95085f4960530a259a93dc923ad5fd5677aeb\n""}, {'number': 5, 'created': '2024-05-01 13:15:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e2b0cf67fa42f841eab0fe2cff722f9d5fa134a9', 'message': ""api: Add descriptions to API schemas\n\nRather than reinventing the wheel, we simply copy those that we already\nhave. This isn't technically sufficient since we're using\nreStructuredText and OpenAPI insists on Markdown but we'll fix that\nlater.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I4ad95085f4960530a259a93dc923ad5fd5677aeb\n""}, {'number': 6, 'created': '2024-05-01 13:22:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c199010ab1956addc1d66f3f7e60afb841e697aa', 'message': ""api: Add descriptions to API schemas\n\nRather than reinventing the wheel, we simply copy those that we already\nhave. This isn't technically sufficient since we're using\nreStructuredText and OpenAPI insists on Markdown but we'll fix that\nlater.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I4ad95085f4960530a259a93dc923ad5fd5677aeb\n""}, {'number': 7, 'created': '2024-05-13 14:53:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/106822857eec88b5f9beb7d852c7bf70a6c2776c', 'message': ""api: Add descriptions to API schemas\n\nRather than reinventing the wheel, we simply copy those that we already\nhave. This isn't technically sufficient since we're using\nreStructuredText and OpenAPI insists on Markdown but we'll fix that\nlater.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I4ad95085f4960530a259a93dc923ad5fd5677aeb\nPartially-implements: bp json-schema-validation\n""}, {'number': 8, 'created': '2024-05-13 15:13:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/4dd9bfedc57e0e527d49f9bdb86720bfccbf1450', 'message': ""api: Add descriptions to API schemas\n\nRather than reinventing the wheel, we simply copy those that we already\nhave. This isn't technically sufficient since we're using\nreStructuredText and OpenAPI insists on Markdown but we'll fix that\nlater.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I4ad95085f4960530a259a93dc923ad5fd5677aeb\nPartially-implements: bp json-schema-validation\n""}, {'number': 9, 'created': '2024-05-15 15:28:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7c3819c620fa3adb35626ccd96970800add454e2', 'message': ""api: Add descriptions to API schemas\n\nRather than reinventing the wheel, we simply copy those that we already\nhave. This isn't technically sufficient since we're using\nreStructuredText and OpenAPI insists on Markdown but we'll fix that\nlater.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I4ad95085f4960530a259a93dc923ad5fd5677aeb\nPartially-implements: bp json-schema-validation\n""}, {'number': 10, 'created': '2024-05-20 14:56:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/1a2e1dac45f0f0073dde42a043c5938090d0cb6f', 'message': ""api: Add descriptions to API schemas\n\nRather than reinventing the wheel, we simply copy those that we already\nhave. This isn't technically sufficient since we're using\nreStructuredText and OpenAPI insists on Markdown but we'll fix that\nlater.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I4ad95085f4960530a259a93dc923ad5fd5677aeb\nPartially-implements: bp json-schema-validation\n""}, {'number': 11, 'created': '2024-06-11 11:52:50.000000000', 'files': ['tools/check_exec.py', 'manila/api/schemas/resource_locks.py', 'manila/api/validation/helpers.py', 'manila/api/validation/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/2b8746ba04aeafe6e141bad3c388592c08addd91', 'message': ""api: Add descriptions to API schemas\n\nRather than reinventing the wheel, we simply copy those that we already\nhave. This isn't technically sufficient since we're using\nreStructuredText and OpenAPI insists on Markdown but we'll fix that\nlater.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I4ad95085f4960530a259a93dc923ad5fd5677aeb\nPartially-implements: bp json-schema-validation\n""}]",13,917155,2b8746ba04aeafe6e141bad3c388592c08addd91,49,2,11,15334,,,0,"api: Add descriptions to API schemas

Rather than reinventing the wheel, we simply copy those that we already
have. This isn't technically sufficient since we're using
reStructuredText and OpenAPI insists on Markdown but we'll fix that
later.

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: I4ad95085f4960530a259a93dc923ad5fd5677aeb
Partially-implements: bp json-schema-validation
",git fetch https://review.opendev.org/openstack/manila refs/changes/55/917155/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/api/schemas/resource_locks.py', 'manila/api/validation/helpers.py', 'manila/api/validation/parameters.yaml']",3,0c4ba2fdc9573df402a1a605d191dbc75ac5136d,bp/json-schema-validation,../../../api-ref/source/parameters.yaml,,86,1
openstack%2Fnetworking-bgpvpn~918666,openstack/networking-bgpvpn,unmaintained/yoga,I08255572fc6e3243b395ce405f6f123aad9fa571,[CI] Remove tripleo-ci-centos-8-scenario004-standalone job,NEW,2024-05-08 15:04:53.000000000,2024-06-14 19:00:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-08 15:04:53.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/0346d2b4d9fe9e4dd8b87a60a44badd669191a21', 'message': ""[CI] Remove tripleo-ci-centos-8-scenario004-standalone job\n\nZuul job tripleo-ci-centos-8-scenario004-standalone is not defined\nanymore and causes zuul configuration error. Let's remove it to get\nrid of another zuul config error.\n\nConflicts:\n  .zuul.yaml\n\nChange-Id: I08255572fc6e3243b395ce405f6f123aad9fa571\n(cherry picked from commit e6c9268ef0099a6b6a6f95ab992bd29611a5f157)\n""}]",2,918666,0346d2b4d9fe9e4dd8b87a60a44badd669191a21,6,1,1,17685,,,0,"[CI] Remove tripleo-ci-centos-8-scenario004-standalone job

Zuul job tripleo-ci-centos-8-scenario004-standalone is not defined
anymore and causes zuul configuration error. Let's remove it to get
rid of another zuul config error.

Conflicts:
  .zuul.yaml

Change-Id: I08255572fc6e3243b395ce405f6f123aad9fa571
(cherry picked from commit e6c9268ef0099a6b6a6f95ab992bd29611a5f157)
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/66/918666/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,0346d2b4d9fe9e4dd8b87a60a44badd669191a21,fix-zuul-config-error-networking-bgpvpn,," # TripleO jobs that deploy networking-bgpvpn. # Note we don't use a project-template here, so it's easier # to disable voting on one specific job if things go wrong. # If you need any support to debug these jobs in case of # failures, please reach us on #tripleo IRC channel. - tripleo-ci-centos-8-scenario004-standalone: voting: false",0,7
openstack%2Fkolla-ansible~903771,openstack/kolla-ansible,master,I79ec11c013fb1d7381fc152ab92e3d607ae822b9,CI: Template out kolla-build.conf using Ansible role,NEW,2023-12-15 16:41:28.000000000,2024-06-14 18:52:59.000000000,,"[{'_account_id': 22348}, {'_account_id': 32553}]","[{'number': 1, 'created': '2023-12-15 16:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3b6b600badabd48fa3466e063b7c711073bdfbe3', 'message': 'WIP: CI: Template out kolla-build.conf using role\n\nChange-Id: I79ec11c013fb1d7381fc152ab92e3d607ae822b9\n'}, {'number': 2, 'created': '2023-12-15 16:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fa231e860ea44967caa8c255f78033eda83fc327', 'message': 'WIP: CI: Template out kolla-build.conf using role\n\nChange-Id: I79ec11c013fb1d7381fc152ab92e3d607ae822b9\n'}, {'number': 3, 'created': '2023-12-15 16:48:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c9e44ef983bebdefe0314342654f088a0ed32514', 'message': 'WIP: CI: Template out kolla-build.conf using role\n\nChange-Id: I79ec11c013fb1d7381fc152ab92e3d607ae822b9\n'}, {'number': 4, 'created': '2023-12-15 17:02:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1d610dd22560c0d036064a63f003f447a6d96730', 'message': 'WIP: CI: Template out kolla-build.conf using role\n\nChange-Id: I79ec11c013fb1d7381fc152ab92e3d607ae822b9\n'}, {'number': 5, 'created': '2023-12-18 06:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5d3586a01f0e53afacffb60a26bfe6673c3a28ac', 'message': 'WIP: CI: Template out kolla-build.conf using role\n\nChange-Id: I79ec11c013fb1d7381fc152ab92e3d607ae822b9\n'}, {'number': 6, 'created': '2023-12-18 07:18:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/58dfcc5c5d4a8735021d2ccd490c725d97b212d1', 'message': 'WIP: CI: Template out kolla-build.conf using role\n\nChange-Id: I79ec11c013fb1d7381fc152ab92e3d607ae822b9\n'}, {'number': 7, 'created': '2023-12-19 11:57:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6a184b4d6a4276a462225b94a1b3bcc860f113f4', 'message': 'WIP: CI: Template out kolla-build.conf using role\n\nChange-Id: I79ec11c013fb1d7381fc152ab92e3d607ae822b9\n'}, {'number': 8, 'created': '2023-12-19 14:26:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/998284c09a443b2caccbb9a6107c4454dd55d3f8', 'message': 'WIP: CI: Template out kolla-build.conf using role\n\nChange-Id: I79ec11c013fb1d7381fc152ab92e3d607ae822b9\n'}, {'number': 9, 'created': '2023-12-19 19:36:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7f28c75f9e6d1ca7345b99ee629306ac7acdf9fa', 'message': 'WIP: CI: Template out kolla-build.conf using role\n\nChange-Id: I79ec11c013fb1d7381fc152ab92e3d607ae822b9\n'}, {'number': 10, 'created': '2024-03-21 16:42:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6a2b25175dfe88c0987e5672ebf23004e08dcf65', 'message': 'WIP: CI: Template out kolla-build.conf using role\n\nChange-Id: I79ec11c013fb1d7381fc152ab92e3d607ae822b9\n'}, {'number': 11, 'created': '2024-03-21 16:43:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/723803b249282316c258e6cda0dcc52ec1a33df1', 'message': 'WIP: CI: Template out kolla-build.conf using role\n\nChange-Id: I79ec11c013fb1d7381fc152ab92e3d607ae822b9\n'}, {'number': 12, 'created': '2024-05-23 14:23:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ddb8df4949b9c2c1ea87c0abb15d6cab92aa738e', 'message': 'WIP: CI: Template out kolla-build.conf using role\n\nChange-Id: I79ec11c013fb1d7381fc152ab92e3d607ae822b9\n'}, {'number': 13, 'created': '2024-05-23 14:24:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6a6badfbcf14fe962b4e0afd01ea812c0a742880', 'message': 'WIP: CI: Template out kolla-build.conf using role\n\nChange-Id: I79ec11c013fb1d7381fc152ab92e3d607ae822b9\n'}, {'number': 14, 'created': '2024-05-26 07:38:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a232e894b4af73f83100f4d746f2ab35361e2d23', 'message': 'WIP: CI: Template out kolla-build.conf using role\n\nChange-Id: I79ec11c013fb1d7381fc152ab92e3d607ae822b9\n'}, {'number': 15, 'created': '2024-05-26 07:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c1d1744c85d3fb3fe5cd0a88893621a07d58daa2', 'message': 'WIP: CI: Template out kolla-build.conf using role\n\nChange-Id: I79ec11c013fb1d7381fc152ab92e3d607ae822b9\n'}, {'number': 16, 'created': '2024-05-26 08:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/629a763848a7bcb2e2873d68f69d2aee16d21b2a', 'message': 'WIP: CI: Template out kolla-build.conf using role\n\nChange-Id: I79ec11c013fb1d7381fc152ab92e3d607ae822b9\n'}, {'number': 17, 'created': '2024-05-26 11:16:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dc87aaf0c0e8d1c13dacaa9be41ee1cad973b5a9', 'message': 'WIP: CI: Template out kolla-build.conf using role\n\nChange-Id: I79ec11c013fb1d7381fc152ab92e3d607ae822b9\n'}, {'number': 18, 'created': '2024-05-26 11:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/246d84029d3be2ecaa2c6652b770f67f3c4eb99e', 'message': 'WIP: CI: Template out kolla-build.conf using role\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/920279\n\nChange-Id: I79ec11c013fb1d7381fc152ab92e3d607ae822b9\n'}, {'number': 19, 'created': '2024-05-26 13:30:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/47916b1034ddd85a1e0a8ec564363b086023f178', 'message': 'WIP: CI: Template out kolla-build.conf using role\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/920279\n\nChange-Id: I79ec11c013fb1d7381fc152ab92e3d607ae822b9\n'}, {'number': 20, 'created': '2024-05-26 13:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8199f6b214c83777b9a5eb76a73b2325a57624a6', 'message': 'WIP: CI: Template out kolla-build.conf using role\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/920279\n\nChange-Id: I79ec11c013fb1d7381fc152ab92e3d607ae822b9\n'}, {'number': 21, 'created': '2024-06-13 14:30:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bd26761d98c252cb823e22047175bcbc3d1165e6', 'message': 'WIP: CI: Template out kolla-build.conf using role\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/920279\n\nChange-Id: I79ec11c013fb1d7381fc152ab92e3d607ae822b9\n'}, {'number': 22, 'created': '2024-06-14 08:42:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1e338eef45dea0ba789b2784cc8b30bb22d84d61', 'message': 'WIP: CI: Template out kolla-build.conf using role\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/920279\n\nChange-Id: I79ec11c013fb1d7381fc152ab92e3d607ae822b9\n'}, {'number': 23, 'created': '2024-06-14 08:43:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a1282ef5118d7bd0b973ca7d788b106ece4a1b66', 'message': 'WIP: CI: Template out kolla-build.conf using role\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/920279\n\nChange-Id: I79ec11c013fb1d7381fc152ab92e3d607ae822b9\n'}, {'number': 24, 'created': '2024-06-14 08:43:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7ef790a3c562419b9ff9eaf40b1ba3aef8343d00', 'message': 'WIP: CI: Template out kolla-build.conf using role\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/920279\n\nChange-Id: I79ec11c013fb1d7381fc152ab92e3d607ae822b9\n'}, {'number': 25, 'created': '2024-06-14 08:44:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/86869c4e35792e6f44f36779b5dd6ba41c27660e', 'message': 'CI: Template out kolla-build.conf using role\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/920279\n\nChange-Id: I79ec11c013fb1d7381fc152ab92e3d607ae822b9\n'}, {'number': 26, 'created': '2024-06-14 08:44:37.000000000', 'files': ['tests/run.yml', 'tests/setup_gate.sh', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a137739382501125da3a65adb97187a483152dc9', 'message': 'CI: Template out kolla-build.conf using Ansible role\n\nChange-Id: I79ec11c013fb1d7381fc152ab92e3d607ae822b9\n'}]",1,903771,a137739382501125da3a65adb97187a483152dc9,56,2,26,22629,,,0,"CI: Template out kolla-build.conf using Ansible role

Change-Id: I79ec11c013fb1d7381fc152ab92e3d607ae822b9
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/71/903771/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/run.yml', 'tests/setup_gate.sh', 'zuul.d/base.yaml']",3,3b6b600badabd48fa3466e063b7c711073bdfbe3,," scenario_images_core: ""^cron,^fluentd,^glance,^haproxy,^keepalived,^keystone,^kolla-toolbox,^mariadb,^memcached,^neutron,^nova-,^openvswitch,^rabbitmq,^horizon,^heat,^placement"" scenario_images: ""^bifrost"" scenario_images_extra: "",^dnsmasq,^ironic,^iscsid"" scenario_images_extra: "",^zun,^kuryr,^etcd,^cinder,^iscsid"" scenario_images_extra: "",^cinder,^etcd"" scenario_images_extra: "",^designate,^magnum,^trove"" scenario_images_extra: "",^redis,^octavia"" scenario_images_extra: "",^masakari,^hacluster"" scenario_images: ""^cron,^fluentd,^haproxy,^keepalived,^kolla-toolbox,^mariadb"" scenario_images_extra: "",^aodh,^tacker,^mistral,^redis,^barbican"" scenario_images_extra: "",^proxysql"" scenario_images_extra: "",^redis,^octavia,^ovn"" scenario_images: ""^cron,^fluentd,^grafana,^haproxy,^keepalived,^kolla-toolbox,^mariadb,^memcached,^opensearch,^prometheus,^rabbitmq"" scenario_images: ""^cron,^opensearch,^fluentd,^haproxy,^keepalived,^keystone,^kolla-toolbox,^mariadb,^memcached,^rabbitmq,^venus"" scenario_images_extra: "",^letsencrypt,^haproxy"" scenario_images_extra: "",^skyline""",,18,77
openstack%2Fdevstack-plugin-ceph~915212,openstack/devstack-plugin-ceph,master,If983bb5d5a5fc0c16c1cead84b5fa30ea961d21b,Standalone nfs-ganesha with cephadm deployment,NEW,2024-04-08 05:04:27.000000000,2024-06-14 18:50:29.000000000,,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 29632}, {'_account_id': 32594}]","[{'number': 1, 'created': '2024-04-08 05:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/c9bb8389cba29092fa2e94b5196d02d35e42d57d', 'message': 'Standalone nfs-ganesha with cephadm deployment\n\nManila supports using a standalone NFS-Ganesha server\nas well as a ceph orchestrator deployed NFS-Ganesha cluster\n(""ceph nfs service""). We\'ve only ever allowed using\nceph orch deployed NFS with ceph orch deployed clusters\nthrough this devstack plugin. Now, allow deploying a standalone\nNFS-Ganesha service optionally even with a ceph orch deployed\nceph cluster. This will greatly simplify testing when we sunset\nthe package based installation/deployment of ceph.\n\nChange-Id: If983bb5d5a5fc0c16c1cead84b5fa30ea961d21b\nImplements: bp/cephadm-deploy\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 2, 'created': '2024-04-08 23:37:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/9f4ecb783c6f79af1c780f4d63558bdfc26d668e', 'message': 'Standalone nfs-ganesha with cephadm deployment\n\nManila supports using a standalone NFS-Ganesha server\nas well as a ceph orchestrator deployed NFS-Ganesha cluster\n(""ceph nfs service""). We\'ve only ever allowed using\nceph orch deployed NFS with ceph orch deployed clusters\nthrough this devstack plugin. Now, allow deploying a standalone\nNFS-Ganesha service optionally even with a ceph orch deployed\nceph cluster. This will greatly simplify testing when we sunset\nthe package based installation/deployment of ceph.\n\nDepends-On: If983bb5d5a5fc0c16c1cead84b5fa30ea961d21b\nChange-Id: If983bb5d5a5fc0c16c1cead84b5fa30ea961d21b\nImplements: bp/cephadm-deploy\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 3, 'created': '2024-04-08 23:38:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/8ef9471eabb052e09144e678159085a230c9c2ba', 'message': 'Standalone nfs-ganesha with cephadm deployment\n\nManila supports using a standalone NFS-Ganesha server\nas well as a ceph orchestrator deployed NFS-Ganesha cluster\n(""ceph nfs service""). We\'ve only ever allowed using\nceph orch deployed NFS with ceph orch deployed clusters\nthrough this devstack plugin. Now, allow deploying a standalone\nNFS-Ganesha service optionally even with a ceph orch deployed\nceph cluster. This will greatly simplify testing when we sunset\nthe package based installation/deployment of ceph.\n\nDepends-On: I0c35ef0eb4293aae37cd597d78d7aed0100e8ec7\nChange-Id: If983bb5d5a5fc0c16c1cead84b5fa30ea961d21b\nImplements: bp/cephadm-deploy\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 4, 'created': '2024-04-08 23:53:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/941c4029f3c079d2d44e6d038cba8d6135693d69', 'message': 'Standalone nfs-ganesha with cephadm deployment\n\nManila supports using a standalone NFS-Ganesha server\nas well as a ceph orchestrator deployed NFS-Ganesha cluster\n(""ceph nfs service""). We\'ve only ever allowed using\nceph orch deployed NFS with ceph orch deployed clusters\nthrough this devstack plugin. Now, allow deploying a standalone\nNFS-Ganesha service optionally even with a ceph orch deployed\nceph cluster. This will greatly simplify testing when we sunset\nthe package based installation/deployment of ceph.\n\nDepends-On: I0c35ef0eb4293aae37cd597d78d7aed0100e8ec7\nChange-Id: If983bb5d5a5fc0c16c1cead84b5fa30ea961d21b\nImplements: bp/cephadm-deploy\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 5, 'created': '2024-04-17 23:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/427858d953e36afe338b65cde98c68f0a7966e94', 'message': 'Standalone nfs-ganesha with cephadm deployment\n\nManila supports using a standalone NFS-Ganesha server\nas well as a ceph orchestrator deployed NFS-Ganesha cluster\n(""ceph nfs service""). We\'ve only ever allowed using\nceph orch deployed NFS with ceph orch deployed clusters\nthrough this devstack plugin. Now, allow deploying a standalone\nNFS-Ganesha service optionally even with a ceph orch deployed\nceph cluster. This will greatly simplify testing when we sunset\nthe package based installation/deployment of ceph.\n\nDepends-On: I0c35ef0eb4293aae37cd597d78d7aed0100e8ec7\nChange-Id: If983bb5d5a5fc0c16c1cead84b5fa30ea961d21b\nImplements: bp/cephadm-deploy\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 6, 'created': '2024-04-18 23:05:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/21d5d2ba4880844ab0d66d30ef9ab95ab18d2bfc', 'message': 'Standalone nfs-ganesha with cephadm deployment\n\nManila supports using a standalone NFS-Ganesha server\nas well as a ceph orchestrator deployed NFS-Ganesha cluster\n(""ceph nfs service""). We\'ve only ever allowed using\nceph orch deployed NFS with ceph orch deployed clusters\nthrough this devstack plugin. Now, allow deploying a standalone\nNFS-Ganesha service optionally even with a ceph orch deployed\nceph cluster. This will greatly simplify testing when we sunset\nthe package based installation/deployment of ceph.\n\nDepends-On: I0c35ef0eb4293aae37cd597d78d7aed0100e8ec7\nChange-Id: If983bb5d5a5fc0c16c1cead84b5fa30ea961d21b\nImplements: bp/cephadm-deploy\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 7, 'created': '2024-04-22 21:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/19eb3774df2a827e8e014379b544f7798504c14e', 'message': 'Standalone nfs-ganesha with cephadm deployment\n\nManila supports using a standalone NFS-Ganesha server\nas well as a ceph orchestrator deployed NFS-Ganesha cluster\n(""ceph nfs service""). We\'ve only ever allowed using\nceph orch deployed NFS with ceph orch deployed clusters\nthrough this devstack plugin. Now, allow deploying a standalone\nNFS-Ganesha service optionally even with a ceph orch deployed\nceph cluster. This will greatly simplify testing when we sunset\nthe package based installation/deployment of ceph.\n\nDepends-On: I0c35ef0eb4293aae37cd597d78d7aed0100e8ec7\nChange-Id: If983bb5d5a5fc0c16c1cead84b5fa30ea961d21b\nImplements: bp/cephadm-deploy\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 8, 'created': '2024-04-22 22:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/8eed2ea148a627c6f492fb773fe3d505c07b0ebc', 'message': 'Standalone nfs-ganesha with cephadm deployment\n\nManila supports using a standalone NFS-Ganesha server\nas well as a ceph orchestrator deployed NFS-Ganesha cluster\n(""ceph nfs service""). We\'ve only ever allowed using\nceph orch deployed NFS with ceph orch deployed clusters\nthrough this devstack plugin. Now, allow deploying a standalone\nNFS-Ganesha service optionally even with a ceph orch deployed\nceph cluster. This will greatly simplify testing when we sunset\nthe package based installation/deployment of ceph.\n\nDepends-On: I0c35ef0eb4293aae37cd597d78d7aed0100e8ec7\nChange-Id: If983bb5d5a5fc0c16c1cead84b5fa30ea961d21b\nImplements: bp/cephadm-deploy\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 9, 'created': '2024-04-22 23:19:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/849e8d64587608296e5496ac11fc55c517c1f4f3', 'message': 'Standalone nfs-ganesha with cephadm deployment\n\nManila supports using a standalone NFS-Ganesha server\nas well as a ceph orchestrator deployed NFS-Ganesha cluster\n(""ceph nfs service""). We\'ve only ever allowed using\nceph orch deployed NFS with ceph orch deployed clusters\nthrough this devstack plugin. Now, allow deploying a standalone\nNFS-Ganesha service optionally even with a ceph orch deployed\nceph cluster. This will greatly simplify testing when we sunset\nthe package based installation/deployment of ceph.\n\nDepends-On: I0c35ef0eb4293aae37cd597d78d7aed0100e8ec7\nChange-Id: If983bb5d5a5fc0c16c1cead84b5fa30ea961d21b\nImplements: bp/cephadm-deploy\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 10, 'created': '2024-04-23 16:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/7b2651c0f84dd26e781e63a99bff7da38a3f5547', 'message': 'Standalone nfs-ganesha with cephadm deployment\n\nManila supports using a standalone NFS-Ganesha server\nas well as a ceph orchestrator deployed NFS-Ganesha cluster\n(""ceph nfs service""). We\'ve only ever allowed using\nceph orch deployed NFS with ceph orch deployed clusters\nthrough this devstack plugin. With this change,\nthe plugin can optionally deploy a standalone\nNFS-Ganesha service with a ceph orch deployed\nceph cluster. This will greatly simplify testing when we sunset\nthe package based installation/deployment of ceph.\n\nDepends-On: I0c35ef0eb4293aae37cd597d78d7aed0100e8ec7\nChange-Id: If983bb5d5a5fc0c16c1cead84b5fa30ea961d21b\nImplements: bp/cephadm-deploy\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 11, 'created': '2024-04-25 04:31:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/3ea55f6ebde90443c32d1666a7f12794da0c6fd0', 'message': 'Standalone nfs-ganesha with cephadm deployment\n\nManila supports using a standalone NFS-Ganesha server\nas well as a ceph orchestrator deployed NFS-Ganesha cluster\n(""ceph nfs service""). We\'ve only ever allowed using\nceph orch deployed NFS with ceph orch deployed clusters\nthrough this devstack plugin. With this change,\nthe plugin can optionally deploy a standalone\nNFS-Ganesha service with a ceph orch deployed\nceph cluster. This will greatly simplify testing when we sunset\nthe package based installation/deployment of ceph.\n\nDepends-On: I0c35ef0eb4293aae37cd597d78d7aed0100e8ec7\nChange-Id: If983bb5d5a5fc0c16c1cead84b5fa30ea961d21b\nImplements: bp/cephadm-deploy\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 12, 'created': '2024-04-25 04:33:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/04ab0961f9c0b2d22d293979c1e234b135c96d9e', 'message': 'Standalone nfs-ganesha with cephadm deployment\n\nManila supports using a standalone NFS-Ganesha server\nas well as a ceph orchestrator deployed NFS-Ganesha cluster\n(""ceph nfs service""). We\'ve only ever allowed using\nceph orch deployed NFS with ceph orch deployed clusters\nthrough this devstack plugin. With this change,\nthe plugin can optionally deploy a standalone\nNFS-Ganesha service with a ceph orch deployed\nceph cluster. This will greatly simplify testing when we sunset\nthe package based installation/deployment of ceph.\n\nDepends-On: I0c35ef0eb4293aae37cd597d78d7aed0100e8ec7\nChange-Id: If983bb5d5a5fc0c16c1cead84b5fa30ea961d21b\nImplements: bp/cephadm-deploy\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 13, 'created': '2024-05-10 00:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/e3d062355c82a54aacf8ae4260fc25e5c52bfb06', 'message': 'Standalone nfs-ganesha with cephadm deployment\n\nManila supports using a standalone NFS-Ganesha server\nas well as a ceph orchestrator deployed NFS-Ganesha cluster\n(""ceph nfs service""). We\'ve only ever allowed using\nceph orch deployed NFS with ceph orch deployed clusters\nthrough this devstack plugin. Now, allow deploying a standalone\nNFS-Ganesha service optionally even with a ceph orch deployed\nceph cluster. This will greatly simplify testing when we sunset\nthe package based installation/deployment of ceph.\n\nChange-Id: If983bb5d5a5fc0c16c1cead84b5fa30ea961d21b\nImplements: bp/cephadm-deploy\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 14, 'created': '2024-05-10 00:53:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/a2e2c372b14a4a015f287f494136ee3e3b4bbf8d', 'message': 'Standalone nfs-ganesha with cephadm deployment\n\nManila supports using a standalone NFS-Ganesha server\nas well as a ceph orchestrator deployed NFS-Ganesha cluster\n(""ceph nfs service""). We\'ve only ever allowed using\nceph orch deployed NFS with ceph orch deployed clusters\nthrough this devstack plugin. With this change,\nthe plugin can optionally deploy a standalone\nNFS-Ganesha service with a ceph orch deployed\nceph cluster. This will greatly simplify testing when we sunset\nthe package based installation/deployment of ceph.\n\nDepends-On: I0c35ef0eb4293aae37cd597d78d7aed0100e8ec7\nChange-Id: If983bb5d5a5fc0c16c1cead84b5fa30ea961d21b\nImplements: bp/cephadm-deploy\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 15, 'created': '2024-06-10 23:58:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/55a5fc848d4573b493765ca4b890a47b8c579ebb', 'message': 'Standalone nfs-ganesha with cephadm deployment\n\nManila supports using a standalone NFS-Ganesha server\nas well as a ceph orchestrator deployed NFS-Ganesha cluster\n(""ceph nfs service""). We\'ve only ever allowed using\nceph orch deployed NFS with ceph orch deployed clusters\nthrough this devstack plugin. With this change,\nthe plugin can optionally deploy a standalone\nNFS-Ganesha service with a ceph orch deployed\nceph cluster. This will greatly simplify testing when we sunset\nthe package based installation/deployment of ceph.\n\nDepends-On: I0c35ef0eb4293aae37cd597d78d7aed0100e8ec7\nChange-Id: If983bb5d5a5fc0c16c1cead84b5fa30ea961d21b\nImplements: bp/cephadm-deploy\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 16, 'created': '2024-06-11 16:10:03.000000000', 'files': ['devstack/lib/common', 'devstack/lib/ceph', 'devstack/lib/cephadm', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/726d37273b2c825126a4d2d31c4722ef639b8c25', 'message': 'Standalone nfs-ganesha with cephadm deployment\n\nManila supports using a standalone NFS-Ganesha server\nas well as a ceph orchestrator deployed NFS-Ganesha cluster\n(""ceph nfs service""). We\'ve only ever allowed using\nceph orch deployed NFS with ceph orch deployed clusters\nthrough this devstack plugin. With this change,\nthe plugin can optionally deploy a standalone\nNFS-Ganesha service with a ceph orch deployed\nceph cluster. This will greatly simplify testing when we sunset\nthe package based installation/deployment of ceph.\n\nDepends-On: I5b7fd5b2b557203189c25fa2a988d790e7fda3eb\nChange-Id: If983bb5d5a5fc0c16c1cead84b5fa30ea961d21b\nImplements: bp/cephadm-deploy\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",55,915212,726d37273b2c825126a4d2d31c4722ef639b8c25,51,5,16,16643,,,0,"Standalone nfs-ganesha with cephadm deployment

Manila supports using a standalone NFS-Ganesha server
as well as a ceph orchestrator deployed NFS-Ganesha cluster
(""ceph nfs service""). We've only ever allowed using
ceph orch deployed NFS with ceph orch deployed clusters
through this devstack plugin. With this change,
the plugin can optionally deploy a standalone
NFS-Ganesha service with a ceph orch deployed
ceph cluster. This will greatly simplify testing when we sunset
the package based installation/deployment of ceph.

Depends-On: I5b7fd5b2b557203189c25fa2a988d790e7fda3eb
Change-Id: If983bb5d5a5fc0c16c1cead84b5fa30ea961d21b
Implements: bp/cephadm-deploy
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/12/915212/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/lib/common', 'devstack/lib/ceph', 'devstack/lib/cephadm', 'devstack/settings']",4,c9bb8389cba29092fa2e94b5196d02d35e42d57d,cephfs-nfs-standalone," if [[ $CEPHADM_DEPLOY_NFS == 'True' ]]; then else MANILA_OPTGROUP_cephfsnfs1_cephfs_ganesha_server_ip=$HOST_IP MANILA_CEPH_GANESHA_RADOS_STORE=$(trueorfalse False MANILA_CEPH_GANESHA_RADOS_STORE) if [ ""$MANILA_CEPH_GANESHA_RADOS_STORE"" = ""True"" ]; then MANILA_OPTGROUP_cephfsnfs1_ganesha_rados_store_enable=${MANILA_CEPH_GANESHA_RADOS_STORE} MANILA_OPTGROUP_cephfsnfs1_ganesha_rados_store_pool_name=${CEPHFS_DATA_POOL} fi"," MANILA_OPTGROUP_cephfsnfs1_cephfs_ganesha_server_ip=$HOST_IP MANILA_CEPH_GANESHA_RADOS_STORE=$(trueorfalse False MANILA_CEPH_GANESHA_RADOS_STORE) if [ ""$MANILA_CEPH_GANESHA_RADOS_STORE"" = ""True"" ]; then MANILA_OPTGROUP_cephfsnfs1_ganesha_rados_store_enable=${MANILA_CEPH_GANESHA_RADOS_STORE} MANILA_OPTGROUP_cephfsnfs1_ganesha_rados_store_pool_name=${CEPHFS_DATA_POOL} fi if [ ""$CEPHADM_DEPLOY"" = ""True"" ]; then",183,147
openstack%2Fironic-python-agent~909346,openstack/ironic-python-agent,master,I3c3a792e88e9a041236eca7283ebfdf1026910d8,Adding support to view indiv. cpu-core info,NEW,2024-02-19 02:27:14.000000000,2024-06-14 18:42:15.000000000,,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 36770}]","[{'number': 1, 'created': '2024-02-19 02:27:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/8644cf5aab156778bcd96a5c4ac1165a774d3c6a', 'message': 'Adding support for viewing individual cpu process info\n\nRelated Bug: https://bugs.launchpad.net/ironic-python-agent/+bug/1639340\n\nThis commit adds the relavent changes to the get_cpu function, keeping it backwards compatible with the old method.\n\nChange-Id: I3c3a792e88e9a041236eca7283ebfdf1026910d8\n'}, {'number': 2, 'created': '2024-02-19 02:31:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/5f8cc1e89c0774cc646ce4606c4e86a8b32b52fb', 'message': 'WIP Adding support for viewing individual cpu process info\n\nRelated Bug: https://bugs.launchpad.net/ironic-python-agent/+bug/1639340\n\nThis commit adds the relavent changes to the get_cpu function, keeping it backwards compatible with the old method.\n\nChange-Id: I3c3a792e88e9a041236eca7283ebfdf1026910d8\n'}, {'number': 3, 'created': '2024-02-21 19:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/8bfeea7999f9d84e8180602a18d25cf13a071653', 'message': 'WIP Adding support for viewing individual cpu process info\n\nRelated Bug: https://bugs.launchpad.net/ironic-python-agent/+bug/1639340\n\nThis commit adds the relavent changes to the get_cpu function, keeping it backwards compatible with the old method.\n\nChange-Id: I3c3a792e88e9a041236eca7283ebfdf1026910d8\n'}, {'number': 4, 'created': '2024-02-21 20:03:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/a7708e494b8e4c20acc881c5c2166a0ddd483134', 'message': 'WIP Adding support for viewing individual cpu process info\n\nRelated Bug: https://bugs.launchpad.net/ironic-python-agent/+bug/1639340\n\nThis commit adds the relavent changes to the get_cpu function, keeping it backwards compatible with the old method.\n\nChange-Id: I3c3a792e88e9a041236eca7283ebfdf1026910d8\n'}, {'number': 5, 'created': '2024-02-22 22:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/82851084312e2a3cffaf61b402cd2c14c1bbde07', 'message': 'Adding support for viewing individual cpu process info\n\nRelated Bug: https://bugs.launchpad.net/ironic-python-agent/+bug/1639340\n\nThis commit adds the relavent changes to the get_cpu function, keeping it backwards compatible with the old method.\n\nChange-Id: I3c3a792e88e9a041236eca7283ebfdf1026910d8\n'}, {'number': 6, 'created': '2024-03-01 01:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/ceb878864ba0d274dc08722822c179c4258bc1a3', 'message': 'Adding support to view indiv. cpu-core info\n\nCloses-Bug: #1639340\n\nThis commit adds the relevant changes to the get_cpu function, keeping it backwards compatible with the old method.\n\nChange-Id: I3c3a792e88e9a041236eca7283ebfdf1026910d8\n'}, {'number': 7, 'created': '2024-04-02 22:23:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/c79d74eaf7984cf2980d64dfb76869eba9043a6f', 'message': 'Adding support to view indiv. cpu-core info\n\nCloses-Bug: #1639340\n\nThis commit adds the relevant changes to the get_cpu function, keeping it backwards compatible with the old method.\n\nChange-Id: I3c3a792e88e9a041236eca7283ebfdf1026910d8\n'}, {'number': 8, 'created': '2024-04-02 23:43:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/3c9c86680827c9e76f43626095fa915751fcfeda', 'message': 'Adding support to view indiv. cpu-core info\n\nCloses-Bug: #1639340\n\nThis commit adds the relevant changes to the get_cpu function, keeping it backwards compatible with the old method.\n\nChange-Id: I3c3a792e88e9a041236eca7283ebfdf1026910d8\n'}, {'number': 9, 'created': '2024-06-13 04:35:15.000000000', 'files': ['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/tests/unit/samples/hardware_samples.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/4d9f0dc030d98746a6e6c1b7536b0c43eec3c763', 'message': 'Adding support to view indiv. cpu-core info\n\nCloses-Bug: #1639340\n\nThis commit adds the relevant changes to the get_cpu function, keeping it backwards compatible with the old method.\n\nChange-Id: I3c3a792e88e9a041236eca7283ebfdf1026910d8\n'}]",40,909346,4d9f0dc030d98746a6e6c1b7536b0c43eec3c763,47,4,9,36102,,,0,"Adding support to view indiv. cpu-core info

Closes-Bug: #1639340

This commit adds the relevant changes to the get_cpu function, keeping it backwards compatible with the old method.

Change-Id: I3c3a792e88e9a041236eca7283ebfdf1026910d8
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/46/909346/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/tests/unit/samples/hardware_samples.py']",3,8644cf5aab156778bcd96a5c4ac1165a774d3c6a,," PROC_CPUINFO_OUTPUT = """""" processor : 0 vendor_id : AuthenticAMD cpu family : 23 model : 49 model name : AMD EPYC 7282 16-Core Processor stepping : 0 microcode : 0x8301055 cpu MHz : 2794.748 cache size : 512 KB physical id : 0 siblings : 6 core id : 0 cpu cores : 6 apicid : 0 initial apicid : 0 fpu : yes fpu_exception : yes cpuid level : 16 wp : yes flags : fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt pdpe1gb rdtscp lm rep_good nopl cpuid extd_apicid tsc_known_freq pni pclmulqdq ssse3 fma cx16 sse4_1 sse4_2 x2apic movbe popcnt tsc_deadline_timer aes xsave avx f16c rdrand hypervisor lahf_lm cmp_legacy cr8_legacy abm sse4a misalignsse 3dnowprefetch osvw perfctr_core ssbd ibrs ibpb stibp vmmcall fsgsbase tsc_adjust bmi1 avx2 smep bmi2 rdseed adx smap clflushopt clwb sha_ni xsaveopt xsavec xgetbv1 xsaves clzero xsaveerptr wbnoinvd arat umip rdpid arch_capabilities bugs : sysret_ss_attrs null_seg spectre_v1 spectre_v2 spec_store_bypass bogomips : 5589.49 TLB size : 1024 4K pages clflush size : 64 cache_alignment : 64 address sizes : 40 bits physical, 48 bits virtual power management: processor : 1 vendor_id : AuthenticAMD cpu family : 23 model : 49 model name : AMD EPYC 7282 16-Core Processor stepping : 0 microcode : 0x8301055 cpu MHz : 2794.748 cache size : 512 KB physical id : 0 siblings : 6 core id : 1 cpu cores : 6 apicid : 1 initial apicid : 1 fpu : yes fpu_exception : yes cpuid level : 16 wp : yes flags : fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt pdpe1gb rdtscp lm rep_good nopl cpuid extd_apicid tsc_known_freq pni pclmulqdq ssse3 fma cx16 sse4_1 sse4_2 x2apic movbe popcnt tsc_deadline_timer aes xsave avx f16c rdrand hypervisor lahf_lm cmp_legacy cr8_legacy abm sse4a misalignsse 3dnowprefetch osvw perfctr_core ssbd ibrs ibpb stibp vmmcall fsgsbase tsc_adjust bmi1 avx2 smep bmi2 rdseed adx smap clflushopt clwb sha_ni xsaveopt xsavec xgetbv1 xsaves clzero xsaveerptr wbnoinvd arat umip rdpid arch_capabilities bugs : sysret_ss_attrs null_seg spectre_v1 spectre_v2 spec_store_bypass bogomips : 5589.49 TLB size : 1024 4K pages clflush size : 64 cache_alignment : 64 address sizes : 40 bits physical, 48 bits virtual power management: """""" ",,140,26
openstack%2Ftap-as-a-service~922031,openstack/tap-as-a-service,unmaintained/yoga,Ie49167a49734e24578deebec7de2f24a65bb7012,DNM: test CI without devstack-gate req,NEW,2024-06-14 16:26:33.000000000,2024-06-14 18:10:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-14 16:26:33.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/ef4f5c6747bd84eecdbec225ee8154aa214da773', 'message': 'DNM: test CI without devstack-gate req\n\nChange-Id: Ie49167a49734e24578deebec7de2f24a65bb7012\n'}]",0,922031,ef4f5c6747bd84eecdbec225ee8154aa214da773,2,1,1,17685,,,0,"DNM: test CI without devstack-gate req

Change-Id: Ie49167a49734e24578deebec7de2f24a65bb7012
",git fetch https://review.opendev.org/openstack/tap-as-a-service refs/changes/31/922031/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ef4f5c6747bd84eecdbec225ee8154aa214da773,remove-devstack-gate,, - openstack/devstack-gate,0,1
openstack%2Fdevstack-plugin-ceph~915146,openstack/devstack-plugin-ceph,stable/2023.1,I85ad659bf1ad36cb5340a53cd57603451fc77147,Bump to Reef,NEW,2024-04-05 16:12:57.000000000,2024-06-14 18:06:49.000000000,,"[{'_account_id': 4523}, {'_account_id': 9236}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2024-04-05 16:12:57.000000000', 'files': ['devstack/lib/cephadm'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/b540b164b6f7e4a6f38abd5b78a32b2e949de524', 'message': 'Bump to Reef\n\nBumps ceph versions to Reef to enable ingress service deployments.\nAffects only cephadm based jobs\n\nChange-Id: I85ad659bf1ad36cb5340a53cd57603451fc77147\n(cherry picked from commit c7fb07d47944b4337fcacaecc473634e01b35170)\n(cherry picked from commit 8195827bd9ce142bcb3cf4c699399189a1694238)\n'}]",3,915146,b540b164b6f7e4a6f38abd5b78a32b2e949de524,7,5,1,32594,,,0,"Bump to Reef

Bumps ceph versions to Reef to enable ingress service deployments.
Affects only cephadm based jobs

Change-Id: I85ad659bf1ad36cb5340a53cd57603451fc77147
(cherry picked from commit c7fb07d47944b4337fcacaecc473634e01b35170)
(cherry picked from commit 8195827bd9ce142bcb3cf4c699399189a1694238)
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/46/915146/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/cephadm'],1,b540b164b6f7e4a6f38abd5b78a32b2e949de524,,CEPH_RELEASE=${CEPH_RELEASE:-reef}CONTAINER_IMAGE=${CONTAINER_IMAGE:-'quay.io/ceph/ceph:v18.2'},CEPH_RELEASE=${CEPH_RELEASE:-quincy}CONTAINER_IMAGE=${CONTAINER_IMAGE:-'quay.io/ceph/ceph:v17.2'},2,2
openstack%2Fcharm-ceph-iscsi~922034,openstack/charm-ceph-iscsi,stable/jammy-caracal,I4196ea896c5929d16e9d2fb77228adf13421f1e0,Create jammy-caracal branch,NEW,2024-06-14 16:35:11.000000000,2024-06-14 18:05:35.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-14 16:35:11.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/charm-ceph-iscsi/commit/daea7f0c7d4a79583b24bf92b3968aa02a6ee1fe', 'message': 'Create jammy-caracal branch\n\nChange-Id: I4196ea896c5929d16e9d2fb77228adf13421f1e0\n'}]",0,922034,daea7f0c7d4a79583b24bf92b3968aa02a6ee1fe,3,2,1,15382,,,0,"Create jammy-caracal branch

Change-Id: I4196ea896c5929d16e9d2fb77228adf13421f1e0
",git fetch https://review.opendev.org/openstack/charm-ceph-iscsi refs/changes/34/922034/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,daea7f0c7d4a79583b24bf92b3968aa02a6ee1fe,create-jammy-caracal, defaultbranch=stable/jammy-caracal,,2,0
openstack%2Fkolla-ansible~910607,openstack/kolla-ansible,stable/2023.2,I254f71d607353e0cf4d3d5ebafd6813287c4fa9f,CI: Use ControlPersist and ControlMaster,MERGED,2024-03-01 07:56:25.000000000,2024-06-14 17:57:20.000000000,2024-06-14 17:56:18.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}]","[{'number': 1, 'created': '2024-03-01 07:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e0bec33378cd09afb8bc5a3586a3c0e8b15543f1', 'message': 'CI: Use ControlPersist and ControlMaster\n\nSimilar to [1].\n\n[1]: https://review.opendev.org/c/openstack/openstack-ansible/+/851426\n\nChange-Id: I254f71d607353e0cf4d3d5ebafd6813287c4fa9f\n(cherry picked from commit 6160c232b1698302a90dae204193ded3858c506f)\n'}, {'number': 2, 'created': '2024-06-14 14:13:00.000000000', 'files': ['tests/templates/ansible.cfg.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/95f7d8d1f6d60b7eb4a106c14eaf0bbd604fafff', 'message': 'CI: Use ControlPersist and ControlMaster\n\nSimilar to [1].\n\n[1]: https://review.opendev.org/c/openstack/openstack-ansible/+/851426\n\nChange-Id: I254f71d607353e0cf4d3d5ebafd6813287c4fa9f\n(cherry picked from commit 6160c232b1698302a90dae204193ded3858c506f)\n'}]",0,910607,95f7d8d1f6d60b7eb4a106c14eaf0bbd604fafff,15,4,2,22629,,,0,"CI: Use ControlPersist and ControlMaster

Similar to [1].

[1]: https://review.opendev.org/c/openstack/openstack-ansible/+/851426

Change-Id: I254f71d607353e0cf4d3d5ebafd6813287c4fa9f
(cherry picked from commit 6160c232b1698302a90dae204193ded3858c506f)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/07/910607/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/ansible.cfg.j2'],1,e0bec33378cd09afb8bc5a3586a3c0e8b15543f1,,ssh_args = -C -o ControlMaster=auto -o ControlPersist=300,,1,0
openstack%2Fcharm-ceph-nfs~922036,openstack/charm-ceph-nfs,stable/jammy-caracal,I1e50f80967df06db25f7bff8dd7a55d0d47f4364,Create jammy-caracal branch,NEW,2024-06-14 16:35:35.000000000,2024-06-14 17:57:01.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-14 16:35:35.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/charm-ceph-nfs/commit/54e02d81365db24bf75ab851663041c843fb3374', 'message': 'Create jammy-caracal branch\n\nChange-Id: I1e50f80967df06db25f7bff8dd7a55d0d47f4364\n'}]",0,922036,54e02d81365db24bf75ab851663041c843fb3374,3,2,1,15382,,,0,"Create jammy-caracal branch

Change-Id: I1e50f80967df06db25f7bff8dd7a55d0d47f4364
",git fetch https://review.opendev.org/openstack/charm-ceph-nfs refs/changes/36/922036/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,54e02d81365db24bf75ab851663041c843fb3374,create-jammy-caracal, defaultbranch=stable/jammy-caracal,,2,0
openstack%2Fdesignate-tempest-plugin~920653,openstack/designate-tempest-plugin,master,Iaf848350a502b8f1697b495ee645a09a00974f24,WIP Add designate-manage pool scenario tests,NEW,2024-05-28 11:32:14.000000000,2024-06-14 17:56:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-28 11:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/c520884bb0d07b16821468e98f8dd5d133302cca', 'message': 'WIP Add designate-manage pool scenario tests\n\nSo far we did not test designate-manage pool commands with real end-user\nscenarios.\n\nThis patch adds designate-manage pool scenario tests.\n\nDepends-On: Icf73e730b31ab26b8be65347239636c0137ab4bd\nChange-Id: Iaf848350a502b8f1697b495ee645a09a00974f24\n'}, {'number': 2, 'created': '2024-05-28 12:12:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/c427874b1d00817599219b0da73cc96e81f81401', 'message': 'WIP Add designate-manage pool scenario tests\n\nSo far we did not test designate-manage pool commands with real end-user\nscenarios.\n\nThis patch adds designate-manage pool scenario tests.\n\nDepends-On: Icf73e730b31ab26b8be65347239636c0137ab4bd\nChange-Id: Iaf848350a502b8f1697b495ee645a09a00974f24\n'}, {'number': 3, 'created': '2024-05-28 13:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/b53803c373faa0cb6e0823bf964101f76574d793', 'message': 'WIP Add designate-manage pool scenario tests\n\nSo far we did not test designate-manage pool commands with real end-user\nscenarios.\n\nThis patch adds designate-manage pool scenario tests.\n\nDepends-On: Icf73e730b31ab26b8be65347239636c0137ab4bd\nChange-Id: Iaf848350a502b8f1697b495ee645a09a00974f24\n'}, {'number': 4, 'created': '2024-05-28 15:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/f67d41d17d35167d02df8a28b27135977bcfc0fb', 'message': 'WIP Add designate-manage pool scenario tests\n\nSo far we did not test designate-manage pool commands with real end-user\nscenarios.\n\nThis patch adds designate-manage pool scenario tests.\n\nDepends-On: Icf73e730b31ab26b8be65347239636c0137ab4bd\nChange-Id: Iaf848350a502b8f1697b495ee645a09a00974f24\n'}, {'number': 5, 'created': '2024-05-29 12:30:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/7b959d884661eb0e227464056b46d15af760eef5', 'message': 'WIP Add designate-manage pool scenario tests\n\nSo far we did not test designate-manage pool commands with real end-user\nscenarios.\n\nThis patch adds designate-manage pool scenario tests.\n\nDepends-On: Icf73e730b31ab26b8be65347239636c0137ab4bd\nChange-Id: Iaf848350a502b8f1697b495ee645a09a00974f24\n'}, {'number': 6, 'created': '2024-05-30 15:40:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/efc33cd84b5d8180aab0cc9af1a9bb068cbf5786', 'message': 'WIP Add designate-manage pool scenario tests\n\nSo far we did not test designate-manage pool commands with real end-user\nscenarios.\n\nThis patch adds designate-manage pool scenario tests.\n\nDepends-On: Icf73e730b31ab26b8be65347239636c0137ab4bd\nChange-Id: Iaf848350a502b8f1697b495ee645a09a00974f24\n'}, {'number': 7, 'created': '2024-06-05 10:22:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/314621d5ba6113c9090a32b9e0e71b5001c54159', 'message': 'WIP Add designate-manage pool scenario tests\n\nSo far we did not test designate-manage pool commands with real end-user\nscenarios.\n\nThis patch adds designate-manage pool scenario tests.\n\nDepends-On: Icf73e730b31ab26b8be65347239636c0137ab4bd\nChange-Id: Iaf848350a502b8f1697b495ee645a09a00974f24\n'}, {'number': 8, 'created': '2024-06-06 09:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/f0a45b61e2c93e4a519850f58de06c9ac44a2f67', 'message': 'WIP Add designate-manage pool scenario tests\n\nSo far we did not test designate-manage pool commands with real end-user\nscenarios.\n\nThis patch adds designate-manage pool scenario tests.\n\nDepends-On: Icf73e730b31ab26b8be65347239636c0137ab4bd\nChange-Id: Iaf848350a502b8f1697b495ee645a09a00974f24\n'}, {'number': 9, 'created': '2024-06-13 10:57:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/0672246a03fa541d736921851ea4e7fd3e778826', 'message': 'WIP Add designate-manage pool scenario tests\n\nSo far we did not test designate-manage pool commands with real end-user\nscenarios.\n\nThis patch adds designate-manage pool scenario tests.\n\nDepends-On: Icf73e730b31ab26b8be65347239636c0137ab4bd\nChange-Id: Iaf848350a502b8f1697b495ee645a09a00974f24\n'}, {'number': 10, 'created': '2024-06-13 12:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/c7d2a62acc3615dfc065d8c8913be1f54c303808', 'message': 'WIP Add designate-manage pool scenario tests\n\nSo far we did not test designate-manage pool commands with real end-user\nscenarios.\n\nThis patch adds designate-manage pool scenario tests.\n\nDepends-On: Icf73e730b31ab26b8be65347239636c0137ab4bd\nChange-Id: Iaf848350a502b8f1697b495ee645a09a00974f24\n'}, {'number': 11, 'created': '2024-06-13 14:07:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/d156220d17fee71c1e36ffc219a625e117c091c7', 'message': 'WIP Add designate-manage pool scenario tests\n\nSo far we did not test designate-manage pool commands with real end-user\nscenarios.\n\nThis patch adds designate-manage pool scenario tests.\n\nDepends-On: Icf73e730b31ab26b8be65347239636c0137ab4bd\nChange-Id: Iaf848350a502b8f1697b495ee645a09a00974f24\n'}, {'number': 12, 'created': '2024-06-13 17:12:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/a64188db17f67af027fc111a4d9231f29bcaaba2', 'message': 'WIP Add designate-manage pool scenario tests\n\nSo far we did not test designate-manage pool commands with real end-user\nscenarios.\n\nThis patch adds designate-manage pool scenario tests.\n\nDepends-On: Icf73e730b31ab26b8be65347239636c0137ab4bd\nChange-Id: Iaf848350a502b8f1697b495ee645a09a00974f24\n'}, {'number': 13, 'created': '2024-06-14 16:37:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/98cf6b1f7154300027d202a052fa50b4cfa07813', 'message': 'WIP Add designate-manage pool scenario tests\n\nSo far we did not test designate-manage pool commands with real end-user\nscenarios.\n\nThis patch adds designate-manage pool scenario tests.\n\nDepends-On: Icf73e730b31ab26b8be65347239636c0137ab4bd\nChange-Id: Iaf848350a502b8f1697b495ee645a09a00974f24\n'}, {'number': 14, 'created': '2024-06-14 16:39:34.000000000', 'files': ['designate_tempest_plugin/tests/scenario/v2/test_designate_manage.py', 'designate_tempest_plugin/tests/resources/pools_yaml/pools-catalog-zone.yaml', 'designate_tempest_plugin/tests/resources/pools_yaml/fake-pools.yaml', 'designate_tempest_plugin/tests/resources/pools_yaml/pools.yaml', 'designate_tempest_plugin/tests/resources/pools_yaml/multiple-pools.yaml', '.zuul.yaml', 'designate_tempest_plugin/tests/resources/__init__.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/5d560afb472201d3afe98bed82b1bbec79a62c57', 'message': 'WIP Add designate-manage pool scenario tests\n\nSo far we did not test designate-manage pool commands with real end-user\nscenarios.\n\nThis patch adds designate-manage pool scenario tests.\n\nDepends-On: Icf73e730b31ab26b8be65347239636c0137ab4bd\nChange-Id: Iaf848350a502b8f1697b495ee645a09a00974f24\n'}]",2,920653,5d560afb472201d3afe98bed82b1bbec79a62c57,27,1,14,31664,,,0,"WIP Add designate-manage pool scenario tests

So far we did not test designate-manage pool commands with real end-user
scenarios.

This patch adds designate-manage pool scenario tests.

Depends-On: Icf73e730b31ab26b8be65347239636c0137ab4bd
Change-Id: Iaf848350a502b8f1697b495ee645a09a00974f24
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/53/920653/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate_tempest_plugin/tests/scenario/v2/test_designate_manage.py', 'designate_tempest_plugin/tests/resources/pools_yaml/pools-catalog-zone.yaml', 'designate_tempest_plugin/tests/resources/pools_yaml/fake-pools.yaml', 'designate_tempest_plugin/tests/resources/pools_yaml/pools.yaml', 'designate_tempest_plugin/tests/resources/pools_yaml/multiple-pools.yaml', 'designate_tempest_plugin/tests/resources/__init__.py']",6,c520884bb0d07b16821468e98f8dd5d133302cca,add_devstack_script,"# Copyright (C) 2024 Red Hat # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import os # The idea here is that anything that needs resources can do: # # from designate.tests import resources # my_resource_path = os.path.join(resources.path, my_resource_folder) path = os.path.dirname(os.path.realpath(__file__)) ",,433,0
openstack%2Fneutron-vpnaas~919713,openstack/neutron-vpnaas,master,I762503b4c6f05b79f46d36ca42cb588e28dfc6d1,Remove reference to devstack-gate,MERGED,2024-05-15 10:54:10.000000000,2024-06-14 17:39:21.000000000,2024-06-14 17:37:32.000000000,"[{'_account_id': 8313}, {'_account_id': 9816}, {'_account_id': 13252}, {'_account_id': 13861}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2024-05-15 10:54:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/1d07d26207b4590888fc860b6d459a94116cc01c', 'message': 'Replace devstack-gate by devstack\n\ndevstack-gate was deprecated in xena and is being retired now[1].\n\n[1] https://review.opendev.org/c/openstack/governance/+/919629\n\nChange-Id: I762503b4c6f05b79f46d36ca42cb588e28dfc6d1\n'}, {'number': 2, 'created': '2024-05-15 11:01:01.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/d0fd419596b2be1f750c98cb4b6102e1c6d834e6', 'message': 'Remove reference to devstack-gate\n\ndevstack-gate was deprecated in xena and is being retired now[1].\n\n[1] https://review.opendev.org/c/openstack/governance/+/919629\n\nChange-Id: I762503b4c6f05b79f46d36ca42cb588e28dfc6d1\n'}]",3,919713,d0fd419596b2be1f750c98cb4b6102e1c6d834e6,19,7,2,9816,,,0,"Remove reference to devstack-gate

devstack-gate was deprecated in xena and is being retired now[1].

[1] https://review.opendev.org/c/openstack/governance/+/919629

Change-Id: I762503b4c6f05b79f46d36ca42cb588e28dfc6d1
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/13/919713/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1d07d26207b4590888fc860b6d459a94116cc01c,retire-devstack-gate, - openstack/devstack, - openstack/devstack-gate,1,1
openstack%2Fswift~921927,openstack/swift,master,Ib7f4219ef5fdef65e9cfd5701e28b5288741783e,kms_keymaster: allow specifying barbican_endpoint,MERGED,2024-06-13 09:30:09.000000000,2024-06-14 17:33:12.000000000,2024-06-14 17:32:11.000000000,"[{'_account_id': 6968}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 31945}, {'_account_id': 36116}, {'_account_id': 36866}]","[{'number': 1, 'created': '2024-06-13 09:30:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2983f0205ddc52643bdb81204f17aa0db9237fec', 'message': ""kms_keymaster: allow specifying barbican_endpoint\n\nUnder a multi-region deployment with a single Keystone server,\nspecifying the Keystone auth credentials isn't enough. Indeed,\nCastellan succeeds when logging-in, but may use the wrong\nBarbican endpoint (if there are 2 Barbican deployed). This is\nwhat happened to us, when deploying our 2nd region.\n\nThey way to fix it would be to tell Castellan what region to use,\nunfortunately, there's no such option in Castellan. Though we may\nspecify the barbican_endpoint, which is what this patch allows.\n\nChange-Id: Ib7f4219ef5fdef65e9cfd5701e28b5288741783e\n""}, {'number': 2, 'created': '2024-06-13 10:25:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/548676da1629031f6f498a83219e79d8994603b3', 'message': ""kms_keymaster: allow specifying barbican_endpoint\n\nUnder a multi-region deployment with a single Keystone server,\nspecifying the Keystone auth credentials isn't enough. Indeed,\nCastellan succeeds when logging-in, but may use the wrong\nBarbican endpoint (if there are 2 Barbican deployed). This is\nwhat happened to us, when deploying our 2nd region.\n\nThey way to fix it would be to tell Castellan what region to use,\nunfortunately, there's no such option in Castellan. Though we may\nspecify the barbican_endpoint, which is what this patch allows.\n\nChange-Id: Ib7f4219ef5fdef65e9cfd5701e28b5288741783e\n""}, {'number': 3, 'created': '2024-06-14 10:17:17.000000000', 'files': ['etc/keymaster.conf-sample', 'swift/common/middleware/crypto/kms_keymaster.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/90da23c7d232ba443b0814fd71c39f4585d30e4c', 'message': ""kms_keymaster: allow specifying barbican_endpoint\n\nUnder a multi-region deployment with a single Keystone server,\nspecifying the Keystone auth credentials isn't enough. Indeed,\nCastellan succeeds when logging-in, but may use the wrong\nBarbican endpoint (if there are 2 Barbican deployed). This is\nwhat happened to us, when deploying our 2nd region.\n\nThey way to fix it would be to tell Castellan what region to use,\nunfortunately, there's no such option in Castellan. Though we may\nspecify the barbican_endpoint, which is what this patch allows.\n\nChange-Id: Ib7f4219ef5fdef65e9cfd5701e28b5288741783e\n""}]",8,921927,90da23c7d232ba443b0814fd71c39f4585d30e4c,17,7,3,6476,,,0,"kms_keymaster: allow specifying barbican_endpoint

Under a multi-region deployment with a single Keystone server,
specifying the Keystone auth credentials isn't enough. Indeed,
Castellan succeeds when logging-in, but may use the wrong
Barbican endpoint (if there are 2 Barbican deployed). This is
what happened to us, when deploying our 2nd region.

They way to fix it would be to tell Castellan what region to use,
unfortunately, there's no such option in Castellan. Though we may
specify the barbican_endpoint, which is what this patch allows.

Change-Id: Ib7f4219ef5fdef65e9cfd5701e28b5288741783e
",git fetch https://review.opendev.org/openstack/swift refs/changes/27/921927/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/middleware/crypto/kms_keymaster.py'],1,2983f0205ddc52643bdb81204f17aa0db9237fec,kms-keymaster-barbican-endpoint," 'barbican_endpoint', 'active_root_secret_id') if conf.get('barbican_endpoint'): options.set_defaults( oslo_conf, auth_endpoint=conf.get('auth_endpoint'), barbican_endpoint=conf.get('barbican_endpoint'), api_class=conf.get('api_class') ) else: options.set_defaults( oslo_conf, auth_endpoint=conf.get('auth_endpoint'), api_class=conf.get('api_class') )"," 'active_root_secret_id') options.set_defaults( oslo_conf, auth_endpoint=conf.get('auth_endpoint'), api_class=conf.get('api_class') )",12,5
openstack%2Fcinder~904971,openstack/cinder,master,I6d74c718784c6ca46c51ce0a122521081236ac0b,Fujitsu Driver: Add support for revert to snapshot,NEW,2024-01-10 10:08:44.000000000,2024-06-14 17:25:17.000000000,,"[{'_account_id': 22348}, {'_account_id': 29122}, {'_account_id': 32029}]","[{'number': 1, 'created': '2024-01-10 10:08:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2ac96928b8af9f4132313de8f9b4fb3d0167ee03', 'message': 'Fujitsu Driver: Add support for revert to snapshot\n\nAdding support to revert a volume to a snapshot in Fujitsu driver.\nThis patch implements:\n- revert_to_snapshot()\n\nChange-Id: I6d74c718784c6ca46c51ce0a122521081236ac0b\n'}, {'number': 2, 'created': '2024-01-17 04:12:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ebd8b2897730b437f6f7dc2260d1c686db5450b7', 'message': 'Fujitsu Driver: Add support for revert to snapshot\n\nAdding support to revert a volume to a snapshot in Fujitsu driver.\nThis patch implements:\n- revert_to_snapshot()\n\nChange-Id: I6d74c718784c6ca46c51ce0a122521081236ac0b\n'}, {'number': 3, 'created': '2024-01-30 06:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/68015616c361dcec7f3baa160227602ad198eb89', 'message': 'Fujitsu Driver: Add support for revert to snapshot\n\nAdding support to revert a volume to a snapshot in Fujitsu driver.\nThis patch implements:\n- revert_to_snapshot()\n\nChange-Id: I6d74c718784c6ca46c51ce0a122521081236ac0b\n'}, {'number': 4, 'created': '2024-02-08 01:48:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3b07b225d797f9e844e29cc681f3fffe2efdad30', 'message': 'Fujitsu Driver: Add support for revert to snapshot\n\nAdding support to revert a volume to a snapshot in Fujitsu driver.\nThis patch implements:\n- revert_to_snapshot()\n\nChange-Id: I6d74c718784c6ca46c51ce0a122521081236ac0b\n'}, {'number': 5, 'created': '2024-02-14 11:14:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/073e36aac70da1081b387ebab4371a0509330a05', 'message': 'Fujitsu Driver: Add support for revert to snapshot\n\nAdding support to revert a volume to a snapshot in Fujitsu driver.\nThis patch implements:\n- revert_to_snapshot()\n\nImplements: blueprint_fujitsu-revert-to-snapshot-support\nChange-Id: I6d74c718784c6ca46c51ce0a122521081236ac0b\n'}, {'number': 6, 'created': '2024-02-14 11:20:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/efc9f119c63d5034468b79b1457c03cc481966f0', 'message': 'Fujitsu Driver: Add support for revert to snapshot\n\nAdding support to revert a volume to a snapshot in Fujitsu driver.\nThis patch implements:\n- revert_to_snapshot()\n\nImplements: blueprint fujitsu-revert-to-snapshot-support\nChange-Id: I6d74c718784c6ca46c51ce0a122521081236ac0b\n'}, {'number': 7, 'created': '2024-04-29 03:09:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2d1c8268d24a5e36fcc2c1580189a6250f2e84c7', 'message': 'Fujitsu Driver: Add support for revert to snapshot\n\nAdding support to revert a volume to a snapshot in Fujitsu driver.\nThis patch implements:\n- revert_to_snapshot()\n\nImplements: blueprint fujitsu-revert-to-snapshot-support\nChange-Id: I6d74c718784c6ca46c51ce0a122521081236ac0b\n'}, {'number': 8, 'created': '2024-06-14 05:58:07.000000000', 'files': ['doc/source/reference/support-matrix.ini', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_cli.py', 'releasenotes/notes/fujitsu-support-revert-to-snapshot-5d40dbe8b918e68e.yaml', 'cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_fc.py', 'doc/source/configuration/block-storage/drivers/fujitsu-eternus-dx-driver.rst', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_iscsi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/68590efa06728eb74bf8ab1b32693817939fea57', 'message': 'Fujitsu Driver: Add support for revert to snapshot\n\nAdding support to revert a volume to a snapshot in Fujitsu driver.\nThis patch implements:\n- revert_to_snapshot()\n\nImplements: blueprint fujitsu-revert-to-snapshot-support\nChange-Id: I6d74c718784c6ca46c51ce0a122521081236ac0b\n'}]",13,904971,68590efa06728eb74bf8ab1b32693817939fea57,171,3,8,33609,,,0,"Fujitsu Driver: Add support for revert to snapshot

Adding support to revert a volume to a snapshot in Fujitsu driver.
This patch implements:
- revert_to_snapshot()

Implements: blueprint fujitsu-revert-to-snapshot-support
Change-Id: I6d74c718784c6ca46c51ce0a122521081236ac0b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/71/904971/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_cli.py', 'releasenotes/notes/fujitsu-support-revert-to-snapshot-5d40dbe8b918e68e.yaml', 'cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_fc.py', 'doc/source/configuration/block-storage/drivers/fujitsu-eternus-dx-driver.rst', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_iscsi.py']",7,2ac96928b8af9f4132313de8f9b4fb3d0167ee03,fujitsu-driver-update," def revert_to_snapshot(self, context, volume, snapshot): """"""Revert volume to snapshot."""""" return self.common.revert_to_snapshot(volume, snapshot)",,245,4
openstack%2Frequirements~921873,openstack/requirements,master,Ia8ed993858d4c8bf5af4795fb1668ee9a8544747,Pin bcrypt until passlib is fixed/removed,NEW,2024-06-12 14:59:33.000000000,2024-06-14 17:17:41.000000000,,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2024-06-12 14:59:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/33dd2610005e8144a5544a31722e8853d238f2ba', 'message': ""Pin bcrypt until passlib is fixed/removed\n\nCurrently there is an incompatibility with the latest version of passlib\nand the version of bcrypt we have specificed in the upper-constraints\n[1]. Passlib also apears to be unmaintained [2] at this point and we're\ninvestigating the removal of the library from Keystone. For the time\nbeing this pins bcrypt to a version that is known to work with the\nlatest passlib that is available.\n\n[1]: https://foss.heptapod.net/python-libs/passlib/-/issues/190\n[2]: https://foss.heptapod.net/python-libs/passlib/-/issues/187\n\nChange-Id: Ia8ed993858d4c8bf5af4795fb1668ee9a8544747\n""}, {'number': 2, 'created': '2024-06-12 16:41:07.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/5abc182b671bebf2b7156fefe9cf439d969a27e7', 'message': ""Pin bcrypt until passlib is fixed/removed\n\nCurrently there is an incompatibility with the latest version of passlib\nand the version of bcrypt we have specificed in the upper-constraints\n[1]. Passlib also apears to be unmaintained [2] at this point and we're\ninvestigating the removal of the library from Keystone. For the time\nbeing this pins bcrypt to a version that is known to work with the\nlatest passlib that is available.\n\n[1]: https://foss.heptapod.net/python-libs/passlib/-/issues/190\n[2]: https://foss.heptapod.net/python-libs/passlib/-/issues/187\n\nCloses-Bug: #2068879\nChange-Id: Ia8ed993858d4c8bf5af4795fb1668ee9a8544747\n""}]",4,921873,5abc182b671bebf2b7156fefe9cf439d969a27e7,7,3,2,7414,,,0,"Pin bcrypt until passlib is fixed/removed

Currently there is an incompatibility with the latest version of passlib
and the version of bcrypt we have specificed in the upper-constraints
[1]. Passlib also apears to be unmaintained [2] at this point and we're
investigating the removal of the library from Keystone. For the time
being this pins bcrypt to a version that is known to work with the
latest passlib that is available.

[1]: https://foss.heptapod.net/python-libs/passlib/-/issues/190
[2]: https://foss.heptapod.net/python-libs/passlib/-/issues/187

Closes-Bug: #2068879
Change-Id: Ia8ed993858d4c8bf5af4795fb1668ee9a8544747
",git fetch https://review.opendev.org/openstack/requirements refs/changes/73/921873/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,33dd2610005e8144a5544a31722e8853d238f2ba,pin_bcrypt,bcrypt===4.0.1,bcrypt===4.1.3,1,1
openstack%2Fwhitebox-tempest-plugin~921755,openstack/whitebox-tempest-plugin,master,I0f6cc92b969780f91e51542152cb8271d70b6499,Add provider.yaml tests,NEW,2024-06-11 11:09:56.000000000,2024-06-14 17:13:48.000000000,,"[{'_account_id': 8864}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 31033}]","[{'number': 1, 'created': '2024-06-11 11:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/4da37cf8454acf6e84b8e8deb603e859c7a58d7e', 'message': 'Add provider.yaml tests\n\nAdds tests for traits via flavor\n\nChange-Id: I0f6cc92b969780f91e51542152cb8271d70b6499\n'}, {'number': 2, 'created': '2024-06-11 13:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/383b3f09f138305ded9e23ac07e62226325a998b', 'message': 'Add provider.yaml tests\n\nAdds tests for traits via flavor\n\nChange-Id: I0f6cc92b969780f91e51542152cb8271d70b6499\n'}, {'number': 3, 'created': '2024-06-11 16:01:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/2019050de28234e753509b2197333777e53d1192', 'message': 'Add provider.yaml tests\n\nAdds tests for traits via flavor\n\nChange-Id: I0f6cc92b969780f91e51542152cb8271d70b6499\n'}, {'number': 4, 'created': '2024-06-11 19:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/38822127a8f0b086325ddf76658f1eb9745833e7', 'message': 'Add provider.yaml tests\n\nAdds tests for traits via flavor\n\nChange-Id: I0f6cc92b969780f91e51542152cb8271d70b6499\n'}, {'number': 5, 'created': '2024-06-12 06:05:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/16ba78227013ec33f88ac7f40cc5e2f4e9d90355', 'message': 'Add provider.yaml tests\n\nAdds tests for traits via flavor\n\nChange-Id: I0f6cc92b969780f91e51542152cb8271d70b6499\n'}, {'number': 6, 'created': '2024-06-12 06:51:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/db38dd03d4e5e5ac8bc874cbe5862437cfbeba3d', 'message': 'Add provider.yaml tests\n\n- Adds tests for traits via flavor\n- Adds ddt in requirements.txt\n\nChange-Id: I0f6cc92b969780f91e51542152cb8271d70b6499\n'}, {'number': 7, 'created': '2024-06-12 08:26:03.000000000', 'files': ['whitebox_tempest_plugin/api/compute/test_provider_yaml.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/4effa18c5f50404ffe6a934069188c824783de61', 'message': 'Add provider.yaml tests\n\n- Adds tests for traits via flavor\n\nChange-Id: I0f6cc92b969780f91e51542152cb8271d70b6499\n'}]",6,921755,4effa18c5f50404ffe6a934069188c824783de61,13,4,7,34860,,,0,"Add provider.yaml tests

- Adds tests for traits via flavor

Change-Id: I0f6cc92b969780f91e51542152cb8271d70b6499
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/55/921755/1 && git format-patch -1 --stdout FETCH_HEAD,['whitebox_tempest_plugin/api/compute/test_provider_yaml.py'],1,4da37cf8454acf6e84b8e8deb603e859c7a58d7e,provider_yaml_traits,"# Copyright 2024 Red Hat # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest import config from tempest.exceptions import BuildErrorException from whitebox_tempest_plugin.api.compute import base from whitebox_tempest_plugin.services import clients import yaml CONF = config.CONF class TestProviderYamlViaTraits(base.BaseWhiteboxComputeTest): """"""Validate if instance got created on same host for which trait is mentioned in provider.yaml 1 - create provider.yaml template with trait 2 - save provider.yaml in /etc/nova/provider_config/provider.yaml of target host 3 - restart compute host 4 - create a flavor with same trait with value ""required"" 5 - spawn an instance 6 - verify if instance is created in target host or not """""" def setUp(self): super(TestProviderYamlViaTraits, self).setUp() hosts = self.list_compute_hosts() self.src_host, self.target_host = hosts[0], hosts[1] # /etc/nova/provider_config is a default location # saving provider.yaml to any other location and updating # the path to nova.conf or nova-cpu.conf should work. # but it do not work as of now. self.provider_config_location = ""/etc/nova/provider_config/"" self.trait1 = ""CUSTOM_WB_HOST2"" self.trait2 = ""CUSTOM_WB_HOST1"" def _restart_nova_compute(self, host): host = clients.NovaServiceManager( host, 'nova-compute', self.os_admin.services_client) host.restart() def _copy_yaml_to_target_host(self, provider_yaml, src_host, target_host): ssh_client = clients.SSHClient(target_host) cmd = f""mkdir -p {self.provider_config_location}"" ssh_client.execute(cmd) ssh_client = clients.SSHClient(src_host) cmd = f""scp {provider_yaml} {target_host}:{self.provider_config_location}"" ssh_client.execute(cmd) def _create_provider_yaml(self, trait, provider_yaml): template = """""" meta: # '1.0' is only supported version # as per compute.prover_config.SUPPORTED_SCHEMAS schema_version: ""1.0"" providers: # List of dicts - identification: # uuid: $COMPUTE_NODE # name: amit-mns-devstack-1 uuid: $COMPUTE_NODE traits: additional: # trait name has to be start with CUSTOM_ - CUSTOM_trait_placeholder"""""" template = template.replace(""CUSTOM_trait_placeholder"", trait) template = yaml.safe_load(template) with open(provider_yaml, ""w"") as fp: yaml.dump(template, fp) def _create_custom_trait_flavor(self, trait): """"""Creates a flavor that has given trait """""" specs = {f""trait:{trait}"": ""required""} flavor = self.create_flavor(extra_specs=specs) return flavor def test_set_trait_with_provider_yaml(self): provider_yaml = ""/tmp/provider.yaml"" self._create_provider_yaml(self.trait1, provider_yaml) self._copy_yaml_to_target_host( provider_yaml, self.src_host, self.target_host) # self._restart_nova_compute(target_host) flavor1_id = self._create_custom_trait_flavor(self.trait1)['id'] server_id = self.create_test_server( flavor=flavor1_id, wait_until=""ACTIVE"")['id'] self.assertEqual(self.get_host_for_server(server_id), self.target_host) # create new server with same trait-flavor, and it should be spawned in same host server_id = self.create_test_server( flavor=flavor1_id, wait_until=""ACTIVE"")['id'] self.assertEqual(self.get_host_for_server(server_id), self.target_host) # try with another trait self._create_provider_yaml(self.trait2, provider_yaml) self._copy_yaml_to_target_host( provider_yaml, self.src_host, self.src_host) # self._restart_nova_compute(target_host) flavor2_id = self._create_custom_trait_flavor(self.trait2)['id'] server_id = self.create_test_server( flavor=flavor2_id, wait_until=""ACTIVE"")['id'] self.assertNotEqual( self.get_host_for_server(server_id), self.target_host) self.assertEqual(self.get_host_for_server(server_id), self.src_host) def test_without_provider_yaml(self): provider_yaml = ""/tmp/provider.yaml"" trait3 = ""CUSTOM_WB_HOST3"" self._create_provider_yaml(trait3, provider_yaml) self._copy_yaml_to_target_host( provider_yaml, self.src_host, self.src_host) # do not save provider.yaml to designated location # or do not restart compute service # so traits changes are not reflected flavor_id = self._create_custom_trait_flavor(trait3)['id'] # this will raise No valid host found self.assertRaises(BuildErrorException, self.create_test_server, flavor=flavor_id, wait_until='ACTIVE') ",,142,0
openstack%2Fcharm-ceph-fs~922033,openstack/charm-ceph-fs,stable/jammy-caracal,I5deb9452142e564e93f40159e6ff52c2c4834586,Create jammy-caracal branch,NEW,2024-06-14 16:35:00.000000000,2024-06-14 17:12:13.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-14 16:35:00.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/75d59421810aa7f85057755480ddbca54ee0d7bf', 'message': 'Create jammy-caracal branch\n\nChange-Id: I5deb9452142e564e93f40159e6ff52c2c4834586\n'}]",0,922033,75d59421810aa7f85057755480ddbca54ee0d7bf,3,2,1,15382,,,0,"Create jammy-caracal branch

Change-Id: I5deb9452142e564e93f40159e6ff52c2c4834586
",git fetch https://review.opendev.org/openstack/charm-ceph-fs refs/changes/33/922033/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,75d59421810aa7f85057755480ddbca54ee0d7bf,create-jammy-caracal, defaultbranch=stable/jammy-caracal,,2,0
openstack%2Fcharm-ceph-proxy~922038,openstack/charm-ceph-proxy,stable/jammy-caracal,I8d9e689f29bf8f25b30bb7aae1673b1fd8b15e4a,Create jammy-caracal branch,NEW,2024-06-14 16:35:57.000000000,2024-06-14 17:08:27.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-14 16:35:57.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/bf77823280f06fec0c51bb81f08abac2f40d53b7', 'message': 'Create jammy-caracal branch\n\nChange-Id: I8d9e689f29bf8f25b30bb7aae1673b1fd8b15e4a\n'}]",0,922038,bf77823280f06fec0c51bb81f08abac2f40d53b7,3,2,1,15382,,,0,"Create jammy-caracal branch

Change-Id: I8d9e689f29bf8f25b30bb7aae1673b1fd8b15e4a
",git fetch https://review.opendev.org/openstack/charm-ceph-proxy refs/changes/38/922038/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,bf77823280f06fec0c51bb81f08abac2f40d53b7,create-jammy-caracal, defaultbranch=stable/jammy-caracal,,2,0
openstack%2Fdevstack-plugin-container~921742,openstack/devstack-plugin-container,stable/2023.1,Id4721d419b22b6d6498d192e3f313629ad33ef69,zuul: drop devstack-gate reference,MERGED,2024-06-11 09:47:06.000000000,2024-06-14 17:05:19.000000000,2024-06-14 17:05:19.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-11 09:47:06.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/70f7bba35921571c9a31d59c6f66f430efb96b52', 'message': 'zuul: drop devstack-gate reference\n\nDevstack jobs no longer depend on the devstack-gate project, which has\nbeen retired\n\nChange-Id: Id4721d419b22b6d6498d192e3f313629ad33ef69\n(cherry picked from commit 3e2a0ffe4fd01db7687e4ef23ab23c4ae0bacb50)\n'}]",1,921742,70f7bba35921571c9a31d59c6f66f430efb96b52,7,2,1,13252,,,0,"zuul: drop devstack-gate reference

Devstack jobs no longer depend on the devstack-gate project, which has
been retired

Change-Id: Id4721d419b22b6d6498d192e3f313629ad33ef69
(cherry picked from commit 3e2a0ffe4fd01db7687e4ef23ab23c4ae0bacb50)
",git fetch https://review.opendev.org/openstack/devstack-plugin-container refs/changes/42/921742/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,70f7bba35921571c9a31d59c6f66f430efb96b52,retire-devstack-gate,, - openstack/devstack-gate - openstack/devstack-gate,0,2
openstack%2Fcodegenerator~922028,openstack/codegenerator,master,I329b7898281a05031696d8d7739f6215444a3dc4,Template change as hinted by `cargo clippy`,MERGED,2024-06-14 15:29:02.000000000,2024-06-14 16:59:13.000000000,2024-06-14 16:58:15.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2024-06-14 15:29:02.000000000', 'files': ['codegenerator/templates/rust_macros.j2', 'codegenerator/templates/rust_cli/response_struct.j2'], 'web_link': 'https://opendev.org/openstack/codegenerator/commit/c81e8c44b72bd70e91d17af098e16a8103ec0a81', 'message': 'Template change as hinted by `cargo clippy`\n\nThere are lots of issues to be improved. Those are useful code\noptimizations that are easiest to adopt.\n\nChange-Id: I329b7898281a05031696d8d7739f6215444a3dc4\n'}]",0,922028,c81e8c44b72bd70e91d17af098e16a8103ec0a81,7,2,1,27900,,,0,"Template change as hinted by `cargo clippy`

There are lots of issues to be improved. Those are useful code
optimizations that are easiest to adopt.

Change-Id: I329b7898281a05031696d8d7739f6215444a3dc4
",git fetch https://review.opendev.org/openstack/codegenerator refs/changes/28/922028/1 && git format-patch -1 --stdout FETCH_HEAD,"['codegenerator/templates/rust_macros.j2', 'codegenerator/templates/rust_cli/response_struct.j2']",2,c81e8c44b72bd70e91d17af098e16a8103ec0a81,," .map(|(k, v)| Vec::from([k.clone(), v.clone().unwrap_or(String::new()).to_string()])), .map_or(String::new(), |v| v.to_string()) .map(|v| format!(""{}={}"", v.0, v.1.clone().unwrap_or(String::new())))"," .map(|(k, v)| Vec::from([k.clone(), v.clone().unwrap_or("""".to_string()).to_string()])), .map(|v| v.to_string()) .unwrap_or("""".to_string()) .map(|v| format!(""{}={}"", v.0, v.1.clone().unwrap_or("""".to_string())))",4,5
openstack%2Fdevstack-plugin-container~921741,openstack/devstack-plugin-container,stable/2023.2,Id4721d419b22b6d6498d192e3f313629ad33ef69,zuul: drop devstack-gate reference,MERGED,2024-06-11 09:46:16.000000000,2024-06-14 16:56:48.000000000,2024-06-14 16:56:48.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-11 09:46:16.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/0f77ff7162743054833a8303c61b72a80af94fcd', 'message': 'zuul: drop devstack-gate reference\n\nDevstack jobs no longer depend on the devstack-gate project, which has\nbeen retired\n\nChange-Id: Id4721d419b22b6d6498d192e3f313629ad33ef69\n(cherry picked from commit 3e2a0ffe4fd01db7687e4ef23ab23c4ae0bacb50)\n'}]",1,921741,0f77ff7162743054833a8303c61b72a80af94fcd,7,2,1,13252,,,0,"zuul: drop devstack-gate reference

Devstack jobs no longer depend on the devstack-gate project, which has
been retired

Change-Id: Id4721d419b22b6d6498d192e3f313629ad33ef69
(cherry picked from commit 3e2a0ffe4fd01db7687e4ef23ab23c4ae0bacb50)
",git fetch https://review.opendev.org/openstack/devstack-plugin-container refs/changes/41/921741/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,0f77ff7162743054833a8303c61b72a80af94fcd,retire-devstack-gate,, - openstack/devstack-gate - openstack/devstack-gate,0,2
openstack%2Fdevstack-plugin-container~921740,openstack/devstack-plugin-container,stable/2024.1,Id4721d419b22b6d6498d192e3f313629ad33ef69,zuul: drop devstack-gate reference,MERGED,2024-06-11 09:45:38.000000000,2024-06-14 16:56:47.000000000,2024-06-14 16:56:47.000000000,"[{'_account_id': 8556}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2024-06-11 09:45:38.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/3e9fa4fe5bfdc622f2df22850cbb4a5650063fdc', 'message': 'zuul: drop devstack-gate reference\n\nDevstack jobs no longer depend on the devstack-gate project, which has\nbeen retired\n\nChange-Id: Id4721d419b22b6d6498d192e3f313629ad33ef69\n(cherry picked from commit 3e2a0ffe4fd01db7687e4ef23ab23c4ae0bacb50)\n'}]",2,921740,3e9fa4fe5bfdc622f2df22850cbb4a5650063fdc,8,4,1,13252,,,0,"zuul: drop devstack-gate reference

Devstack jobs no longer depend on the devstack-gate project, which has
been retired

Change-Id: Id4721d419b22b6d6498d192e3f313629ad33ef69
(cherry picked from commit 3e2a0ffe4fd01db7687e4ef23ab23c4ae0bacb50)
",git fetch https://review.opendev.org/openstack/devstack-plugin-container refs/changes/40/921740/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3e9fa4fe5bfdc622f2df22850cbb4a5650063fdc,retire-devstack-gate,, - openstack/devstack-gate - openstack/devstack-gate,0,2
openstack%2Fcharm-ceph-mon~922035,openstack/charm-ceph-mon,stable/jammy-caracal,I6cf6e5057afb92a18256c28eaa120598469b054d,Create jammy-caracal branch,NEW,2024-06-14 16:35:24.000000000,2024-06-14 16:52:03.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-14 16:35:24.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/24b500139a004b5ee4f90ca73144493393db214e', 'message': 'Create jammy-caracal branch\n\nChange-Id: I6cf6e5057afb92a18256c28eaa120598469b054d\n'}]",0,922035,24b500139a004b5ee4f90ca73144493393db214e,3,2,1,15382,,,0,"Create jammy-caracal branch

Change-Id: I6cf6e5057afb92a18256c28eaa120598469b054d
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/35/922035/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,24b500139a004b5ee4f90ca73144493393db214e,create-jammy-caracal,project=openstack/charm-ceph-mon.git defaultbranch=stable/jammy-caracal ,project=openstack/charm-ceph-mon.git,2,1
openstack%2Fcharm-ceph-osd~922037,openstack/charm-ceph-osd,stable/jammy-caracal,Ie0e8eeaf5e026656c4cab2a6bd7053f2e1ec588e,Create jammy-caracal branch,NEW,2024-06-14 16:35:48.000000000,2024-06-14 16:46:56.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-14 16:35:48.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/73a6e69882dbd430d686369a9a495bed9a2bbc43', 'message': 'Create jammy-caracal branch\n\nChange-Id: Ie0e8eeaf5e026656c4cab2a6bd7053f2e1ec588e\n'}]",0,922037,73a6e69882dbd430d686369a9a495bed9a2bbc43,3,2,1,15382,,,0,"Create jammy-caracal branch

Change-Id: Ie0e8eeaf5e026656c4cab2a6bd7053f2e1ec588e
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/37/922037/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,73a6e69882dbd430d686369a9a495bed9a2bbc43,create-jammy-caracal, defaultbranch=stable/jammy-caracal,,2,0
openstack%2Fcharm-ceph-dashboard~922032,openstack/charm-ceph-dashboard,stable/jammy-caracal,Ic455f2c4035876bfbac6b5efe66138638c3c1b5c,Create jammy-caracal branch,NEW,2024-06-14 16:34:49.000000000,2024-06-14 16:45:15.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-14 16:34:49.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/646d83bc8e2559a9547a2a2c748716ab5891028a', 'message': 'Create jammy-caracal branch\n\nChange-Id: Ic455f2c4035876bfbac6b5efe66138638c3c1b5c\n'}]",0,922032,646d83bc8e2559a9547a2a2c748716ab5891028a,3,2,1,15382,,,0,"Create jammy-caracal branch

Change-Id: Ic455f2c4035876bfbac6b5efe66138638c3c1b5c
",git fetch https://review.opendev.org/openstack/charm-ceph-dashboard refs/changes/32/922032/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,646d83bc8e2559a9547a2a2c748716ab5891028a,create-jammy-caracal, defaultbranch=stable/jammy-caracal,,2,0
openstack%2Fcharm-ceph-rbd-mirror~922040,openstack/charm-ceph-rbd-mirror,stable/jammy-caracal,Ib8d88e90eff156a074ccc0ec3b5c93289076eeca,Create jammy-caracal branch,NEW,2024-06-14 16:36:18.000000000,2024-06-14 16:44:35.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-14 16:36:18.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/ad92b3d1181d6ea10961964052e770953b807822', 'message': 'Create jammy-caracal branch\n\nChange-Id: Ib8d88e90eff156a074ccc0ec3b5c93289076eeca\n'}]",0,922040,ad92b3d1181d6ea10961964052e770953b807822,3,2,1,15382,,,0,"Create jammy-caracal branch

Change-Id: Ib8d88e90eff156a074ccc0ec3b5c93289076eeca
",git fetch https://review.opendev.org/openstack/charm-ceph-rbd-mirror refs/changes/40/922040/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,ad92b3d1181d6ea10961964052e770953b807822,create-jammy-caracal, defaultbranch=stable/jammy-caracal,,2,0
openstack%2Fnova~921523,openstack/nova,unmaintained/wallaby,Ia735c4598f08659ed4b1be99b6442564d39a7f05,[stable-only] remove devstack-gate dependency,NEW,2024-06-07 13:32:20.000000000,2024-06-14 16:41:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-07 13:32:20.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/dcb44473f04bf1aad15c24cf85a78856df2141c7', 'message': '[stable-only] remove devstack-gate dependency\n\ndevstack-gate repository has been retired recently, so it cannot be\nused anymore, hence it causes zuul config error when referenced.\n\nChange-Id: Ia735c4598f08659ed4b1be99b6442564d39a7f05\n'}]",13,921523,dcb44473f04bf1aad15c24cf85a78856df2141c7,6,1,1,17685,,,0,"[stable-only] remove devstack-gate dependency

devstack-gate repository has been retired recently, so it cannot be
used anymore, hence it causes zuul config error when referenced.

Change-Id: Ia735c4598f08659ed4b1be99b6442564d39a7f05
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/921523/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,dcb44473f04bf1aad15c24cf85a78856df2141c7,fix-zuul-config-error-nova,, - openstack/devstack-gate,0,1
openstack%2Fopenstack-ansible~921999,openstack/openstack-ansible,stable/2024.1,Icdcc4ef636581608ce60acf7d532b680806e7f15,Bump Keystone SHAs for 2024.1 RC3,NEW,2024-06-14 09:24:48.000000000,2024-06-14 16:39:28.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2024-06-14 09:24:48.000000000', 'files': ['ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3dc86a20b4b63eaeda1fca483d42038b2c48a7f3', 'message': 'Bump Keystone SHAs for 2024.1 RC3\n\nChange-Id: Icdcc4ef636581608ce60acf7d532b680806e7f15\n'}]",1,921999,3dc86a20b4b63eaeda1fca483d42038b2c48a7f3,5,2,1,28619,,,0,"Bump Keystone SHAs for 2024.1 RC3

Change-Id: Icdcc4ef636581608ce60acf7d532b680806e7f15
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/99/921999/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible-role-requirements.yml'],1,3dc86a20b4b63eaeda1fca483d42038b2c48a7f3,, version: c3b51d76a1ea2cfac39756200b2714636a4ae645 shallow_since: '2024-06-11', version: 34dfc99559724f3deba959dc9c27d277d6d1a65d shallow_since: '2024-06-03',2,2
openstack%2Fmanila~921757,openstack/manila,master,I4a8a55dcfcfb2554fbeabac6dc5fd4bc387f8f5a,api: Add schemas for availability_zones,NEW,2024-06-11 12:13:04.000000000,2024-06-14 16:38:43.000000000,,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-11 12:13:04.000000000', 'files': ['manila/tests/api/v2/test_availability_zones.py', 'manila/api/v2/availability_zones.py', 'manila/api/schemas/availability_zones.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/657acf5c148a267621f2231c3367fa0aa538d781', 'message': 'api: Add schemas for availability_zones\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I4a8a55dcfcfb2554fbeabac6dc5fd4bc387f8f5a\nPartially-implements: bp json-schema-validation\n'}]",0,921757,657acf5c148a267621f2231c3367fa0aa538d781,8,2,1,15334,,,0,"api: Add schemas for availability_zones

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: I4a8a55dcfcfb2554fbeabac6dc5fd4bc387f8f5a
Partially-implements: bp json-schema-validation
",git fetch https://review.opendev.org/openstack/manila refs/changes/57/921757/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/api/v2/test_availability_zones.py', 'manila/api/v2/availability_zones.py', 'manila/api/schemas/availability_zones.py']",3,657acf5c148a267621f2231c3367fa0aa538d781,bp/json-schema-validation,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. index_request_query = { 'type': 'object', 'properties': {}, # TODO(stephenfin): Exclude additional query string parameters in a future # microversion 'additionalProperties': True, } index_response_body = { 'type': 'object', 'properties': { 'availability_zones': { 'type': 'array', 'items': { 'type': 'object', 'properties': { 'id': { 'type': 'string', 'format': 'uuid', }, 'name': { 'type': 'string', 'minLength': 1, 'maxLength': 255, }, 'created_at': { 'type': 'string', 'format': 'date-time', }, 'updated_at': { 'type': ['string', 'null'], 'format': 'date-time', }, }, 'required': [], 'additionalProperties': False, }, }, }, 'required': ['availability_zones'], 'additionalProperties': False, } ",,69,6
openstack%2Fironic~922006,openstack/ironic,master,Ib00504563f9fa7bed99a0fa1949ac99ea6870875,Build PXE config for node in SERVICING state,NEW,2024-06-14 10:17:58.000000000,2024-06-14 16:34:55.000000000,,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 36770}]","[{'number': 1, 'created': '2024-06-14 10:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d053c16d9ddcdce54e26e44c3347ddbabc92eea2', 'message': ""Build PXE config for node in SERVICING state\n\nWhen [pxe]enable_netboot_fallback option is enabled, it's necessary to\nbuild PXE config for nodes in SERVICING provisioning state. Otherwise\nnode servicing tear down will fail and node will be placed into\nservicing failed state.\n\nCloses-Bug: #2069413\n\nChange-Id: Ib00504563f9fa7bed99a0fa1949ac99ea6870875\nSigned-off-by: Przemyslaw Szczerbik <przemyslaw.szczerbik@intel.com>\n""}, {'number': 2, 'created': '2024-06-14 11:35:32.000000000', 'files': ['releasenotes/notes/bug-2069413-fc9262c573f2fe10.yaml', 'ironic/common/pxe_utils.py', 'ironic/tests/unit/common/test_pxe_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/78f54dfefa6e184c8e77f0c42682e6b3a02199fe', 'message': ""Build PXE config for node in SERVICING state\n\nWhen [pxe]enable_netboot_fallback option is enabled, it's necessary to\nbuild PXE config for nodes in SERVICING provisioning state. Otherwise\nnode servicing tear down will fail and node will be placed into\nservicing failed state.\n\nCloses-Bug: #2069413\n\nChange-Id: Ib00504563f9fa7bed99a0fa1949ac99ea6870875\nSigned-off-by: Przemyslaw Szczerbik <przemyslaw.szczerbik@intel.com>\n""}]",2,922006,78f54dfefa6e184c8e77f0c42682e6b3a02199fe,14,4,2,33652,,,0,"Build PXE config for node in SERVICING state

When [pxe]enable_netboot_fallback option is enabled, it's necessary to
build PXE config for nodes in SERVICING provisioning state. Otherwise
node servicing tear down will fail and node will be placed into
servicing failed state.

Closes-Bug: #2069413

Change-Id: Ib00504563f9fa7bed99a0fa1949ac99ea6870875
Signed-off-by: Przemyslaw Szczerbik <przemyslaw.szczerbik@intel.com>
",git fetch https://review.opendev.org/openstack/ironic refs/changes/06/922006/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/common/pxe_utils.py', 'ironic/tests/unit/common/test_pxe_utils.py']",2,d053c16d9ddcdce54e26e44c3347ddbabc92eea2,bug/2069413," @mock.patch.object(pxe_utils, 'create_pxe_config', autospec=True) @mock.patch.object(deploy_utils, 'switch_pxe_config', autospec=True) def test_build_service_pxe_config_servicing(self, mock_switch, mock_pxe_utils): self.node.provision_state = states.SERVICING driver_internal_info = self.node.driver_internal_info driver_internal_info['is_whole_disk_image'] = True self.node.driver_internal_info = driver_internal_info self.node.save() image_info = {} with task_manager.acquire(self.context, self.node.uuid, shared=True) as task: pxe_utils.build_service_pxe_config(task, image_info, 'id', is_whole_disk_image=True) mock_pxe_utils.assert_called() mock_switch.assert_called() ",,23,1
openstack%2Fneutron~921993,openstack/neutron,master,I33d86b40bd8ef8dfb68892ad333a31ae24924a6a,tests: fix IP address not accepted by latest netaddr,MERGED,2024-06-14 01:50:48.000000000,2024-06-14 16:22:28.000000000,2024-06-14 16:21:03.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-14 01:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e67b8e7ece6b6e8f53d9564e85e830841a9ce337', 'message': 'tests: fix IP address not accepted by latest netaddr\n\nThis raised the following error:\n\nnetaddr.core.AddrFormatError: invalid IPNetwork 10.10.20/24\n\nChange-Id: I33d86b40bd8ef8dfb68892ad333a31ae24924a6a\n'}, {'number': 2, 'created': '2024-06-14 01:53:28.000000000', 'files': ['neutron/tests/functional/db/test_network.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/79b2d709c80217830fed8ad73dcf6fbd3eea91b4', 'message': 'tests: fix IP address not accepted by latest netaddr\n\nThis raised the following error:\n\nnetaddr.core.AddrFormatError: invalid IPNetwork 10.10.20/24\n\nChange-Id: I33d86b40bd8ef8dfb68892ad333a31ae24924a6a\n'}]",2,921993,79b2d709c80217830fed8ad73dcf6fbd3eea91b4,14,4,2,9656,,,0,"tests: fix IP address not accepted by latest netaddr

This raised the following error:

netaddr.core.AddrFormatError: invalid IPNetwork 10.10.20/24

Change-Id: I33d86b40bd8ef8dfb68892ad333a31ae24924a6a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/93/921993/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/db/test_network.py'],1,e67b8e7ece6b6e8f53d9564e85e830841a9ce337,bug/2054435, cidr='10.10.20.0/24'), cidr='10.10.20/24'),1,1
openstack%2Fneutron~921567,openstack/neutron,stable/2024.1,I83ec349e49e1f343da8996cab149d76443120873,"Revert ""Use HasStandardAttributes as parent class for Tags DB model""",MERGED,2024-06-07 19:26:50.000000000,2024-06-14 16:22:21.000000000,2024-06-14 16:20:59.000000000,"[{'_account_id': 8313}, {'_account_id': 9656}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-07 19:26:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2fb624367715a6beae8ffa3944b4b6d322d18c2d', 'message': 'Revert ""Use HasStandardAttributes as parent class for Tags DB model""\n\nThis reverts commit 85d3fff97e55ba85f72cda4365ad0441c10bd9f6.\n\nReason for revert: Using ""joined"" relation can cause very long query times when dealing with many(hundreds) of tags on a large deployments. The initial reason for this change was to reduce amount of SELECT logs during the testing, but given that this change can have negative side effects on a large deployments(in some corner cases), we will favor the original `subquery` option. See closes-bug link for further details.\n\nChange-Id: I83ec349e49e1f343da8996cab149d76443120873\nCloses-bug: #2068761\n'}, {'number': 2, 'created': '2024-06-11 16:31:04.000000000', 'files': ['neutron/db/models/tag.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f7e9b2e5b31f9275036e644e13365ad78bb17b2b', 'message': 'Revert ""Use HasStandardAttributes as parent class for Tags DB model""\n\nThis reverts commit 85d3fff97e55ba85f72cda4365ad0441c10bd9f6.\n\nReason for revert:\nThe original change was made as a “cheap win” to optimize the number\nof queries the neutron server makes during testing. This did\nimprove the number of queries made but introduced regression in\nreal world deployments where some customers(through automation)\nwould define hundreds of tags per port across a large deployment.\nI am proposing to revert this change in favor of the old “subquery”\nrelation in order to fix this regression. In addition, I filed the\nRelated-Bug #2069061 to investigate using `selectin` as the more\nappropriate long term solution.\n\nChange-Id: I83ec349e49e1f343da8996cab149d76443120873\nCloses-bug: #2068761\nRelated-Bug: #2069061\n'}]",2,921567,f7e9b2e5b31f9275036e644e13365ad78bb17b2b,19,5,2,34271,,,0,"Revert ""Use HasStandardAttributes as parent class for Tags DB model""

This reverts commit 85d3fff97e55ba85f72cda4365ad0441c10bd9f6.

Reason for revert:
The original change was made as a “cheap win” to optimize the number
of queries the neutron server makes during testing. This did
improve the number of queries made but introduced regression in
real world deployments where some customers(through automation)
would define hundreds of tags per port across a large deployment.
I am proposing to revert this change in favor of the old “subquery”
relation in order to fix this regression. In addition, I filed the
Related-Bug #2069061 to investigate using `selectin` as the more
appropriate long term solution.

Change-Id: I83ec349e49e1f343da8996cab149d76443120873
Closes-bug: #2068761
Related-Bug: #2069061
",git fetch https://review.opendev.org/openstack/neutron refs/changes/67/921567/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/models/tag.py'],1,2fb624367715a6beae8ffa3944b4b6d322d18c2d,sql-profiling-revert," backref=orm.backref('tags', lazy='subquery', viewonly=True),"," backref=orm.backref('tags', lazy='joined', viewonly=True),",1,1
openstack%2Fgovernance~921929,openstack/governance,master,I88438d1afc8cb055f3bbff0a32a463502de6ffa8,Remove appointment cycles for Erno Kuvaja,NEW,2024-06-13 09:43:55.000000000,2024-06-14 16:15:21.000000000,,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-13 09:43:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/b94d1e5ba64abc4caa03d1912a354d317290d698', 'message': 'Update correct appointment cycles for Erno Kuvaja\n\nChange-Id: I88438d1afc8cb055f3bbff0a32a463502de6ffa8\n'}, {'number': 2, 'created': '2024-06-14 08:26:42.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/81ffdeb934275f1711659868131a768d31588524', 'message': 'Remove appointment cycles for Erno Kuvaja\n\nChange-Id: I88438d1afc8cb055f3bbff0a32a463502de6ffa8\n'}]",5,921929,81ffdeb934275f1711659868131a768d31588524,8,3,2,5202,,,0,"Remove appointment cycles for Erno Kuvaja

Change-Id: I88438d1afc8cb055f3bbff0a32a463502de6ffa8
",git fetch https://review.opendev.org/openstack/governance refs/changes/29/921929/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,b94d1e5ba64abc4caa03d1912a354d317290d698,update_telemetry, - '2024.1' - '2024.2', - train,2,1
openstack%2Fglance-specs~922015,openstack/glance-specs,master,I0bc3e35da621f1c90bdca6fe0e2c92c99f97eb6b,Add configurable-hash-algorithms spec,NEW,2024-06-14 12:47:04.000000000,2024-06-14 15:56:51.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-14 12:47:04.000000000', 'files': ['specs/2024.2/approved/glance/configurable-hash-algorithms.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/9ab17a9f3887ee0283833c567c4dfcc2cfe46fb7', 'message': 'Add configurable-hash-algorithms spec\n\nChange-Id: I0bc3e35da621f1c90bdca6fe0e2c92c99f97eb6b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",4,922015,9ab17a9f3887ee0283833c567c4dfcc2cfe46fb7,3,1,1,15334,,,0,"Add configurable-hash-algorithms spec

Change-Id: I0bc3e35da621f1c90bdca6fe0e2c92c99f97eb6b
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/15/922015/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/2024.2/approved/glance/configurable-hash-algorithms.rst'],1,9ab17a9f3887ee0283833c567c4dfcc2cfe46fb7,bp/configurable-hash-algorithms,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================= User-configurable hash algorithms ================================= Include the URL of your launchpad blueprint: https://blueprints.launchpad.net/glance/+spec/configurable-hash-algorithms Allow end-users to specify a hash algorithm to be used when creating a new image, allowing them to compare existing hashes provided by the creator of the image with hashes returned by Glance, rather than having to generate the hashes themselves on the client side. Problem description =================== As described `in the docs <https://docs.openstack.org/glance/latest/user/os_hash_algo.html>`__, the Secure Hash Algorithm feature adds image properties that may be used to verify image integrity based on its hash. Two properties are added, ``os_hash_algo`` which contains the name of the hash algorithm used to generate the hash, and ``os_hash_value`` which contains the hash itself. Currently, the hash algorithm represented by ``os_hash_algo`` is not user-configurable: it can only be configured by the ``[DEFAULT] hashing_algorithm`` configuration option. This defaults to ``sha512``, which was chosen as a secure, general-purpose algorithm. However, SHA-512 signatures are not published by all image providers: for example, while Debian publishes SHA-512 signatures (`source <https://cdimage.debian.org/debian-cd/current/amd64/iso-cd/>`__), Ubuntu only publishes SHA-256 signatures (`source <https://releases.ubuntu.com/24.04/>`__) as does Fedora (`source <https://fedora.ip-connect.vn.ua/linux/releases/40/Workstation/x86_64/iso/>`__). When signatures are not provided in a suitable format, it is necessary to either ask an admin to change the hash algorithm (which affects the entire deployment and might not be possible, particularly in public cloud environments) or generate the hash on the client-side before uploading the image (which prevents use of the ``web-download`` image import mechanism). In our particular instance, this is one of the issues preventing us from using ``web-download`` to upload OpenShift release images since only SHA-256 signatures are provided for these. Proposed change =============== To resolve this, we propose allowing users to select the hash algorithm to be used when creating the image. We will rename the ``[DEFAULT] hashing_algorithm`` config option to ````[DEFAULT] default_hashing_algorithm`` and add a new config option, ``[DEFAULT] allowed_hashing_algorithms``, which will be a list of algorithms that are permitted to specified by the user and will initially default to ``['sha512', 'sha256', 'md5']``. In this way, users can select a hashing algorithm that suits their use case while operators can still restrict certain algorithms to e.g. maintain regulatory compliance. Alternatives ------------ Instead of allowing users to specify the hash algorithm to be used, we could start storing multiple hash algorithms. This would require replacing the two image properties, ``os_hash_algo`` and ``os_hash_value`` with either a new map-like property or flat algorithm-specific properties (e.g. ``os_hash_value.sha512``). This is rejected because it has a far larger API impact, would require database changes, and would increase CPU utilisation due to the need to generate multiple hashes for every image. Data model impact ----------------- None. REST API impact --------------- The ``POST /images`` API will now allow users to specify the ``os_hash_algo`` property during image creation. If a user specifies an unsupported algorithm, the request will be rejected with a HTTP 400 (Bad Request) error and appropriate error message. Security impact --------------- There are a number of potential issues with these but we believe none of them are actual issues. - A malicious user could rely on a hash collision with a (significantly) weaker or insecure algorithm to trick users into believing they are downloading e.g. an official Ubuntu image when in fact they are downloading a weaker image. Using this would require that the malicious user has the ability to create public or community images, or they would require the potential victim to accept a share request for a shared image. This is unlikely in a public cloud environment. In addition, and perhaps more importantly, a hash collision attack using SHA-256 or SHA-512 has not been publicly demonstrated. This is obviously not the case for MD5 but as MD5's lack of security is well documented and well known, there should be no expectation of security from end-users. - A malicious user could conduct a denial-of-service attack on Glance by uploading images using an expensive hashing algorithm. The set of hashing algorithms that a user can specify will be operator-configurable, meaning only well-known, well-understood algorithms will be permitted by default. In addition, such a hashing algorithm would have to be **astoundingly** expensive to make a dent in the existing overhead costs of downloading and storing a glance image. We are not aware of any such hash algorithms in practical use. - Use of a particular algorithm could cause the operator to run afoul of regulatory requirements. The supported hashing algorithms will be operator-configurable. The operator can merely disable those that are not permitted due to e.g. FIPS compliance requirements. Notifications impact -------------------- None. Other end user impact --------------------- This field is already supported by openstacksdk but is currently silently ignored. This will no longer be the case. Put another way, this will now work: .. code-block:: python import openstack conn = openstack.connect() openstack.enable_logging(debug=True) image = conn.image.create_image( 'foobar', os_hash_algo='sha256', ) print(image) Or, using OpenStackClient (OSC): .. code-block:: shell openstack image create --property os_hash_algo=sha256 foobar We may wish to add a new helper alias to the ``image create`` command in OpenStackClient, to allow users to specify this well-known alias easily but this is a nice-to-have. Performance Impact ------------------ None. Other deployer impact --------------------- Deployers will now have the ability to configure the hashing algorithms that users can use when creating image. While this will default to a sensible set of default algorithms, they may wish to tweak this further to meet regulatory or organisational requirements. Developer impact ---------------- None. Implementation ============== Assignee(s) ----------- Primary assignee: stephen.finucane Other contributors: None Work Items ---------- - Add the new configuration option - Add necessary API logic to allow the user to specify this option during image creation and respect it during image upload. - Update documentation Dependencies ============ None. Testing ======= Unit test and manual testing should suffice here, though we can also test this via a new Tempest test. Documentation Impact ==================== We will need to update the API documentation along with the Secure Hash Algorithm feature documentation. References ========== None. ",,215,0
openstack%2Fhorizon~922023,openstack/horizon,master,Ie374ce757486e73647d540abd57f6517b7b39eca,Relax *POLICY* definition requirements,NEW,2024-06-14 13:49:12.000000000,2024-06-14 15:45:28.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-14 13:49:12.000000000', 'files': ['openstack_auth/policy.py', 'openstack_dashboard/dashboards/project/networks/ports/tests.py', 'openstack_dashboard/test/unit/test_policy.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/11ff605aa7a63146322ac6bf49e9750fdfe4f3ae', 'message': 'Relax *POLICY* definition requirements\n\nCurrent limitation is that if a service is not explicitly listing\na reference to its (dummy) policy file in the POLICY_FILES dict,\nneither DEFAULT_POLICY_FILES for this service would be loaded,\nnor POLICY_DIRS for this service would be processed and loaded.\n\nThis patch makes those situations possible.\n\nChange-Id: Ie374ce757486e73647d540abd57f6517b7b39eca\n'}]",0,922023,11ff605aa7a63146322ac6bf49e9750fdfe4f3ae,2,1,1,9542,,,0,"Relax *POLICY* definition requirements

Current limitation is that if a service is not explicitly listing
a reference to its (dummy) policy file in the POLICY_FILES dict,
neither DEFAULT_POLICY_FILES for this service would be loaded,
nor POLICY_DIRS for this service would be processed and loaded.

This patch makes those situations possible.

Change-Id: Ie374ce757486e73647d540abd57f6517b7b39eca
",git fetch https://review.opendev.org/openstack/horizon refs/changes/23/922023/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_auth/policy.py', 'openstack_dashboard/dashboards/project/networks/ports/tests.py', 'openstack_dashboard/test/unit/test_policy.py']",3,11ff605aa7a63146322ac6bf49e9750fdfe4f3ae,relax-policy-files," self.assertEqual(5, len(enforcer)) self.assertEqual(5, len(policy_backend._ENFORCER))"," self.assertEqual(2, len(enforcer)) self.assertEqual(2, len(policy_backend._ENFORCER))",34,6
openstack%2Fauto-scaling-sig~922029,openstack/auto-scaling-sig,master,I9bd82213fcfc6262cb27c71504f166b701fc22c7,Drop devstack-gate,NEW,2024-06-14 15:36:10.000000000,2024-06-14 15:43:50.000000000,,"[{'_account_id': 22348}, {'_account_id': 30674}]","[{'number': 1, 'created': '2024-06-14 15:36:10.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/auto-scaling-sig/commit/fdbaecdee75626400d79c3f0a07517d40f9bd118', 'message': 'Drop devstack-gate\n\nThe devstack-gate repo has been retired, let\'s drop all references\nto it to avoid errors like this in Zuul:\n\nThe project ""openstack/devstack-gate"" was not found.\n\nChange-Id: I9bd82213fcfc6262cb27c71504f166b701fc22c7\n'}]",0,922029,fdbaecdee75626400d79c3f0a07517d40f9bd118,2,2,1,37102,,,0,"Drop devstack-gate

The devstack-gate repo has been retired, let's drop all references
to it to avoid errors like this in Zuul:

The project ""openstack/devstack-gate"" was not found.

Change-Id: I9bd82213fcfc6262cb27c71504f166b701fc22c7
",git fetch https://review.opendev.org/openstack/auto-scaling-sig refs/changes/29/922029/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,fdbaecdee75626400d79c3f0a07517d40f9bd118,retire-devstack-gate,, - openstack/devstack-gate,0,1
openstack%2Fkolla-ansible~917097,openstack/kolla-ansible,stable/2023.2,Id9c7e59e6ae1dd98176c68b14a2aff1985306751,Update Grafana OpenSearch datasource configuration,MERGED,2024-04-29 12:35:41.000000000,2024-06-14 15:43:14.000000000,2024-06-14 15:42:04.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23084}]","[{'number': 1, 'created': '2024-04-29 12:35:41.000000000', 'files': ['releasenotes/notes/grafana-opensearch-datasource-configuration-04202c059f1abd05.yaml', 'ansible/roles/grafana/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1ec3d0cecbf917af033e13b44f6a899337ee6773', 'message': 'Update Grafana OpenSearch datasource configuration\n\nUpdates the Grafana OpenSearch datasource configuration to use values\nfor OpenSearch that work out of the box.\n\nCloses-Bug: #2039500\nChange-Id: Id9c7e59e6ae1dd98176c68b14a2aff1985306751\n(cherry picked from commit 9afc9da22621cc808287874915ab3c1305592d15)\n'}]",0,917097,1ec3d0cecbf917af033e13b44f6a899337ee6773,11,4,1,14826,,,0,"Update Grafana OpenSearch datasource configuration

Updates the Grafana OpenSearch datasource configuration to use values
for OpenSearch that work out of the box.

Closes-Bug: #2039500
Change-Id: Id9c7e59e6ae1dd98176c68b14a2aff1985306751
(cherry picked from commit 9afc9da22621cc808287874915ab3c1305592d15)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/97/917097/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/grafana-opensearch-datasource-configuration-04202c059f1abd05.yaml', 'ansible/roles/grafana/defaults/main.yml']",2,1ec3d0cecbf917af033e13b44f6a899337ee6773,grafana-datasource-configuration-opensearch-stable/2023.2," flavor: ""OpenSearch"" database: ""{{ opensearch_log_index_prefix }}-*"" version: ""2.11.1"""," flavor: ""elasticsearch"" database: ""[flog-]YYYY.MM.DD"" version: ""7.0.0""",14,3
openstack%2Fopenstacksdk~922009,openstack/openstacksdk,master,I9aa73c59683dd9ee5fa701c436b860ce09740896,tests: Rework warnings-related tests,MERGED,2024-06-14 10:55:01.000000000,2024-06-14 15:41:34.000000000,2024-06-14 15:40:32.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2024-06-14 10:55:01.000000000', 'files': ['openstack/tests/unit/test_connection.py', 'openstack/tests/unit/test_missing_version.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d84ef4f945b1013487951d11a79dba76891f6774', 'message': ""tests: Rework warnings-related tests\n\nThese were causing test failures due to warnings being raised by another\npackage (keystoneauth) under Python 3.12. Rework things such that this\nis no longer an issue by removing one filter (which wasn't really doing\nanything) and reworking another to ignore DeprecationWarning-style\nwarnings.\n\nChange-Id: I9aa73c59683dd9ee5fa701c436b860ce09740896\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,922009,d84ef4f945b1013487951d11a79dba76891f6774,8,2,1,15334,,,0,"tests: Rework warnings-related tests

These were causing test failures due to warnings being raised by another
package (keystoneauth) under Python 3.12. Rework things such that this
is no longer an issue by removing one filter (which wasn't really doing
anything) and reworking another to ignore DeprecationWarning-style
warnings.

Change-Id: I9aa73c59683dd9ee5fa701c436b860ce09740896
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/09/922009/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/test_connection.py', 'openstack/tests/unit/test_missing_version.py']",2,d84ef4f945b1013487951d11a79dba76891f6774,py312," warnings.simplefilter(""ignore"", DeprecationWarning)",,1,4
openstack%2Fhorizon~922022,openstack/horizon,master,Ic6a0c1c85cbe507b70ffdebeffb68297ca4338fe,Allow non-admins to cold migrate instances,NEW,2024-06-14 13:48:56.000000000,2024-06-14 15:40:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-14 13:48:56.000000000', 'files': ['openstack_dashboard/dashboards/project/instances/tables.py', 'openstack_dashboard/dashboards/admin/instances/tables.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/84439db87c13f6f0773d51ed72b7a31ce1a33678', 'message': 'Allow non-admins to cold migrate instances\n\nsince [0] nova technically can allow non-admin users to do\ncold migrations without specifying the target host.\n\nThis patch makes the cold migration action available in project\ndashboard by moving MigrateInstance form to project dashboard.\nIts availability is determined by the same policy rule,\nand admin dashboard now just re-uses the from from project dashboard.\n\n[0] https://review.opendev.org/c/openstack/nova/+/881562\n\nChange-Id: Ic6a0c1c85cbe507b70ffdebeffb68297ca4338fe\n'}]",0,922022,84439db87c13f6f0773d51ed72b7a31ce1a33678,2,1,1,9542,,,0,"Allow non-admins to cold migrate instances

since [0] nova technically can allow non-admin users to do
cold migrations without specifying the target host.

This patch makes the cold migration action available in project
dashboard by moving MigrateInstance form to project dashboard.
Its availability is determined by the same policy rule,
and admin dashboard now just re-uses the from from project dashboard.

[0] https://review.opendev.org/c/openstack/nova/+/881562

Change-Id: Ic6a0c1c85cbe507b70ffdebeffb68297ca4338fe
",git fetch https://review.opendev.org/openstack/horizon refs/changes/22/922022/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/instances/tables.py', 'openstack_dashboard/dashboards/admin/instances/tables.py']",2,84439db87c13f6f0773d51ed72b7a31ce1a33678,project-cold-migration," project_tables.MigrateInstance,","from django.utils.translation import ngettext_lazyclass MigrateInstance(policy.PolicyTargetMixin, tables.BatchAction): name = ""migrate"" classes = (""btn-migrate"",) policy_rules = ((""compute"", ""os_compute_api:os-migrate-server:migrate""),) help_text = _(""Migrating instances may cause some unrecoverable results."") action_type = ""danger"" @staticmethod def action_present(count): return ngettext_lazy( ""Migrate Instance"", ""Migrate Instances"", count ) @staticmethod def action_past(count): return ngettext_lazy( ""Scheduled migration (pending confirmation) of Instance"", ""Scheduled migration (pending confirmation) of Instances"", count ) def allowed(self, request, instance): return ((instance.status in project_tables.ACTIVE_STATES or instance.status == 'SHUTOFF') and not project_tables.is_deleting(instance)) def action(self, request, obj_id): api.nova.server_migrate(request, obj_id) MigrateInstance,",34,34
openstack%2Fkeystone~921965,openstack/keystone,stable/2024.1,Id40f73e5c17fce22368e3d27c027bc0ccbb87bfb,Drop devstack-gate,NEW,2024-06-13 14:42:56.000000000,2024-06-14 15:39:22.000000000,,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-13 14:42:56.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/d837af9b3b2d118d3af0b44f2b7c944c46151db2', 'message': 'Drop devstack-gate\n\nThe devstack-gate repo has been retired, let\'s drop all references\nto it to avoid erros like this in Zuul:\n\nThe project ""openstack/devstack-gate"" was not found.\n\nChange-Id: Id40f73e5c17fce22368e3d27c027bc0ccbb87bfb\n'}]",1,921965,d837af9b3b2d118d3af0b44f2b7c944c46151db2,4,2,1,35229,,,0,"Drop devstack-gate

The devstack-gate repo has been retired, let's drop all references
to it to avoid erros like this in Zuul:

The project ""openstack/devstack-gate"" was not found.

Change-Id: Id40f73e5c17fce22368e3d27c027bc0ccbb87bfb
",git fetch https://review.opendev.org/openstack/keystone refs/changes/65/921965/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d837af9b3b2d118d3af0b44f2b7c944c46151db2,retire-devstack-gate,, - openstack/devstack-gate,0,1
openstack%2Frequirements~915830,openstack/requirements,master,I98bd466538596c0f0d48c2b63666fc57d56c6c03,Update pysnmp-lextudio version and dependencies,MERGED,2024-04-15 07:42:00.000000000,2024-06-14 15:34:26.000000000,2024-06-14 15:33:10.000000000,"[{'_account_id': 10342}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2024-04-15 07:42:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/d7f7c0b1d7232bfe427d01526d207feb387ce14d', 'message': 'Update pysnmp-lextudio version and dependencies\n\nThe pysnmp-lextudio library now uses the standard pyasn1 library\ninstead of the lextudio one.\n\nChange-Id: I98bd466538596c0f0d48c2b63666fc57d56c6c03\n'}, {'number': 2, 'created': '2024-04-15 12:08:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/64686d05fbce2c722b14819b7c24ced8a19800f4', 'message': 'Update pysnmp-lextudio version and dependencies\n\nThe pysnmp-lextudio library now uses the standard pyasn1 library\ninstead of the lextudio one.\nThis also fixes an issue with asyncio, for more info please\ncheck [1]\n\n[1] https://github.com/lextudio/pysnmp/issues/49\n\nChange-Id: I98bd466538596c0f0d48c2b63666fc57d56c6c03\n'}, {'number': 3, 'created': '2024-05-27 09:07:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/b00afe6449ee7cc229650e26075f3f9c18ea4260', 'message': 'Update pysnmp-lextudio version and dependencies\n\nThe pysnmp-lextudio library now uses the standard pyasn1 library\ninstead of the lextudio one.\nThis also fixes an issue with asyncio, for more info please\ncheck [1]\n\n[1] https://github.com/lextudio/pysnmp/issues/49\n\nChange-Id: I98bd466538596c0f0d48c2b63666fc57d56c6c03\n'}, {'number': 4, 'created': '2024-06-10 10:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/b95dc7a61dc325d0f35ad0d6f8c5ba7cf199ac56', 'message': 'Update pysnmp-lextudio version and dependencies\n\nThe pysnmp-lextudio library now uses the standard pyasn1 library\ninstead of the lextudio one.\nThis also fixes an issue with asyncio, for more info please\ncheck [1]\n\n[1] https://github.com/lextudio/pysnmp/issues/49\n\nChange-Id: I98bd466538596c0f0d48c2b63666fc57d56c6c03\n'}, {'number': 5, 'created': '2024-06-10 10:29:27.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/1d97495709119fe16fa006452f2a80bbf32291b4', 'message': 'Update pysnmp-lextudio version and dependencies\n\nThe pysnmp-lextudio library now uses the standard pyasn1 library\ninstead of the lextudio one.\nThis also fixes an issue with asyncio, for more info please\ncheck [1]\n\n[1] https://github.com/lextudio/pysnmp/issues/49\n\nChange-Id: I98bd466538596c0f0d48c2b63666fc57d56c6c03\n'}]",19,915830,1d97495709119fe16fa006452f2a80bbf32291b4,37,4,5,23851,,,0,"Update pysnmp-lextudio version and dependencies

The pysnmp-lextudio library now uses the standard pyasn1 library
instead of the lextudio one.
This also fixes an issue with asyncio, for more info please
check [1]

[1] https://github.com/lextudio/pysnmp/issues/49

Change-Id: I98bd466538596c0f0d48c2b63666fc57d56c6c03
",git fetch https://review.opendev.org/openstack/requirements refs/changes/30/915830/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,d7f7c0b1d7232bfe427d01526d207feb387ce14d,update-pysnmp-lextudio,pysnmp-lextudio===6.1.2,pyasn1-lextudio===1.1.2pysnmp-lextudio===5.0.33pyasn1-modules-lextudio===0.2.9,2,7
openstack%2Fnova~921665,openstack/nova,master,I1355c0813cb99067ead60f9835938566289beb20,scheduler: fix _get_sharing_providers to support unlimited aggr,NEW,2024-06-10 13:12:49.000000000,2024-06-14 15:34:22.000000000,,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-10 13:12:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/32329f153f490e5ee3b6060b90019fdb42099bd8', 'message': 'scheduler: fix _get_sharing_providers to support unlimited aggr\n\nCloses-bug: #2068893\n\nChange-Id: I1355c0813cb99067ead60f9835938566289beb20\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\n'}, {'number': 2, 'created': '2024-06-10 15:50:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0a3075ff37c70c8447207d45e93aeae12470dfcf', 'message': 'scheduler: fix _get_sharing_providers to support unlimited aggr\n\nCloses-bug: #2068893\n\nChange-Id: I1355c0813cb99067ead60f9835938566289beb20\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\n'}, {'number': 3, 'created': '2024-06-11 08:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7ea38d717a60e3a5c35dda02d79b7acaaf6b31a5', 'message': 'scheduler: fix _get_sharing_providers to support unlimited aggr\n\nCloses-bug: #2068893\n\nChange-Id: I1355c0813cb99067ead60f9835938566289beb20\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\n'}, {'number': 4, 'created': '2024-06-12 07:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ea6efee058ee8f20868ca522f103cdd179c1d15e', 'message': 'scheduler: fix _get_sharing_providers to support unlimited aggr\n\nCloses-bug: #2068893\n\nChange-Id: I1355c0813cb99067ead60f9835938566289beb20\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\n'}, {'number': 5, 'created': '2024-06-12 12:49:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/959cec0238d1105594bc5c5742fed1f9a7eaa5e8', 'message': 'scheduler: fix _get_sharing_providers to support unlimited aggr\n\nCloses-bug: #2068893\n\nChange-Id: I1355c0813cb99067ead60f9835938566289beb20\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\n'}, {'number': 6, 'created': '2024-06-12 15:18:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/76a3addaedf628972c1c9a9fb10ba65e2b86586a', 'message': 'scheduler: fix _get_sharing_providers to support unlimited aggr\n\nCloses-bug: #2068893\n\nChange-Id: I1355c0813cb99067ead60f9835938566289beb20\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\n'}, {'number': 7, 'created': '2024-06-12 15:19:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/65739e8ab186d8774e4302e87b88d7eaad08c302', 'message': 'scheduler: fix _get_sharing_providers to support unlimited aggr\n\nCloses-bug: #2068893\n\nChange-Id: I1355c0813cb99067ead60f9835938566289beb20\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\n'}, {'number': 8, 'created': '2024-06-13 13:36:26.000000000', 'files': ['nova/conf/compute.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py', 'releasenotes/notes/sharing-providers-max-uuids-per-request-f05da20c697e0922.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/8a6c553e9a5c5ba7be3a235066b26ea2b0d0806c', 'message': 'scheduler: fix _get_sharing_providers to support unlimited aggr\n\nA Request-Too-Long error can be raised in case of too many aggregates\nare attached to a host. The fix is to split the requests.\n\nThe request is executed by host via a periodic task. Result is set in\ncache so no performances impact is expected.\n\nThe change introduce a new compute configuration option\n`compute.sharing_providers_max_uuids_per_request = 200`.\n\nCloses-bug: #2068893\n\nChange-Id: I1355c0813cb99067ead60f9835938566289beb20\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\n'}]",21,921665,8a6c553e9a5c5ba7be3a235066b26ea2b0d0806c,50,3,8,7730,,,0,"scheduler: fix _get_sharing_providers to support unlimited aggr

A Request-Too-Long error can be raised in case of too many aggregates
are attached to a host. The fix is to split the requests.

The request is executed by host via a periodic task. Result is set in
cache so no performances impact is expected.

The change introduce a new compute configuration option
`compute.sharing_providers_max_uuids_per_request = 200`.

Closes-bug: #2068893

Change-Id: I1355c0813cb99067ead60f9835938566289beb20
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/65/921665/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py']",2,32329f153f490e5ee3b6060b90019fdb42099bd8,bug/2068893,"MAX_INQUERY_SIZE = 200 resource_providers = [] for i in range(0, len(agg_uuids), MAX_INQUERY_SIZE): aggs = ','.join(agg_uuids[i:i + MAX_INQUERY_SIZE]) url = ""/resource_providers?member_of=in:%s&required=%s"" % ( aggs, os_traits.MISC_SHARES_VIA_AGGREGATE) resp = self.get(url, version='1.18', global_request_id=context.global_id) if resp.status_code == 200: resource_providers += resp.json()['resource_providers'] else: msg = _(""[%(placement_req_id)s] %(iquery)s/%(isize)s Failed to "" ""retrieve sharing resource providers associated "" ""with the following aggregates from placement API: "" ""%(aggs)s. Got %(status_code)d: %(err_text)s."") args = { 'aggs': aggs, 'status_code': resp.status_code, 'err_text': resp.text, 'placement_req_id': get_placement_request_id(resp), 'iquery': i+1, 'isize': len(agg_uuids) // MAX_INQUERY_SIZE + 1 } LOG.error(msg, args) raise exception.ResourceProviderRetrievalFailed(message=msg % args) return resource_providers"," aggs = ','.join(agg_uuids) url = ""/resource_providers?member_of=in:%s&required=%s"" % ( aggs, os_traits.MISC_SHARES_VIA_AGGREGATE) resp = self.get(url, version='1.18', global_request_id=context.global_id) if resp.status_code == 200: return resp.json()['resource_providers'] msg = _(""[%(placement_req_id)s] Failed to retrieve sharing resource "" ""providers associated with the following aggregates from "" ""placement API: %(aggs)s. Got %(status_code)d: %(err_text)s."") args = { 'aggs': aggs, 'status_code': resp.status_code, 'err_text': resp.text, 'placement_req_id': get_placement_request_id(resp), } LOG.error(msg, args) raise exception.ResourceProviderRetrievalFailed(message=msg % args)",72,30
openstack%2Fneutron~921942,openstack/neutron,stable/2023.1,Ia61784174ee610b338f26660b2954330abc131a1,Add a default goto table=94 for openvswitch fw,MERGED,2024-06-13 10:56:46.000000000,2024-06-14 15:28:44.000000000,2024-06-14 15:27:34.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-13 10:56:46.000000000', 'files': ['doc/source/contributor/internals/openvswitch_firewall.rst', 'neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1045985c76dbea8851e6ced72d09a0f9bc58a59d', 'message': ""Add a default goto table=94 for openvswitch fw\n\nIf enable explicitly_egress_direct=True and set port as\nno security group and port_security=False, the ingress\nflood will reappear. The pipleline is:\nIngress\ntable_0 -> table_60 -> NORMAL -> VM\nEgress\ntable_0 -> ... -> table_94 -> output\n\nBecause ingress final action is normal, the br-int will learn the\nsource MAC, but egress final action is output. So VM's mac will\nnever be learnt by the br-int. Then ingress flood comes again.\n\nThis patch adds a default direct flow to table 94 during the\nopenflow security group init and explicitly_egress_direct=True, then\nthe pipleline will be:\nIngress\ntable_0 -> table_60 -> table_94 -> output VM\nEgress\ntable_0 -> ... -> table_94 -> output\n\nAnd this patch adds the flows coming from patch port which will\nmatch local vlan then go to table 94 do the same direct actions.\n\nAbove flood issue will be addressed by these flows.\n\nCloses-Bug: #2051351\nChange-Id: Ia61784174ee610b338f26660b2954330abc131a1\n(cherry picked from commit d6f56c5f96c42e1682f3d1723a65253429778c20)\n(cherry picked from commit f94f8b63842099904ff88906e8221a366a809f99)\n(cherry picked from commit fc7fa9cf308766cdbf29b8cf4d3aaad867738dc0)\n    Conflict with 02b12b09175 in neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py\n""}]",1,921942,1045985c76dbea8851e6ced72d09a0f9bc58a59d,14,3,1,15554,,,0,"Add a default goto table=94 for openvswitch fw

If enable explicitly_egress_direct=True and set port as
no security group and port_security=False, the ingress
flood will reappear. The pipleline is:
Ingress
table_0 -> table_60 -> NORMAL -> VM
Egress
table_0 -> ... -> table_94 -> output

Because ingress final action is normal, the br-int will learn the
source MAC, but egress final action is output. So VM's mac will
never be learnt by the br-int. Then ingress flood comes again.

This patch adds a default direct flow to table 94 during the
openflow security group init and explicitly_egress_direct=True, then
the pipleline will be:
Ingress
table_0 -> table_60 -> table_94 -> output VM
Egress
table_0 -> ... -> table_94 -> output

And this patch adds the flows coming from patch port which will
match local vlan then go to table 94 do the same direct actions.

Above flood issue will be addressed by these flows.

Closes-Bug: #2051351
Change-Id: Ia61784174ee610b338f26660b2954330abc131a1
(cherry picked from commit d6f56c5f96c42e1682f3d1723a65253429778c20)
(cherry picked from commit f94f8b63842099904ff88906e8221a366a809f99)
(cherry picked from commit fc7fa9cf308766cdbf29b8cf4d3aaad867738dc0)
    Conflict with 02b12b09175 in neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py
",git fetch https://review.opendev.org/openstack/neutron refs/changes/42/921942/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/internals/openvswitch_firewall.rst', 'neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py']",6,1045985c76dbea8851e6ced72d09a0f9bc58a59d,bug/2051351," self.install_normal(table_id=constants.TRANSIENT_TABLE, priority=1)"," self.install_normal(table_id=constants.TRANSIENT_TABLE, priority=3)",50,4
openstack%2Fnetworking-generic-switch~920660,openstack/networking-generic-switch,stable/2023.1,I51905f76298598c109afd6509e7aa7b6b9835ed1,[CI] Remove not defined job from queue,NEW,2024-05-28 12:39:24.000000000,2024-06-14 15:27:18.000000000,,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2024-05-28 12:39:24.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/bc4c1789629e789f0d0e425d766fbda034b8a763', 'message': '[CI] Remove not defined job from queue\n\nAmong zuul configuration errors there is the following error:\n- Job ironic-grenade-dsvm-multinode-multitenant not defined [1]\n\nThis patch removes this job to get rid of the zuul config error.\n\n[1] https://zuul.opendev.org/t/openstack/config-errors?project=openstack%2Fnetworking-generic-switch\n\nChange-Id: I51905f76298598c109afd6509e7aa7b6b9835ed1\n(cherry picked from commit bc3511fa896ed3e6150b1db9e0dfadca2a047df0)\n(cherry picked from commit b6bb46af9d56aae50e2afb17641289733f446a1b)\n(cherry picked from commit b23d0a75ac4594558a7e9775394833436c042d9d)\n'}]",1,920660,bc4c1789629e789f0d0e425d766fbda034b8a763,4,3,1,17685,,,0,"[CI] Remove not defined job from queue

Among zuul configuration errors there is the following error:
- Job ironic-grenade-dsvm-multinode-multitenant not defined [1]

This patch removes this job to get rid of the zuul config error.

[1] https://zuul.opendev.org/t/openstack/config-errors?project=openstack%2Fnetworking-generic-switch

Change-Id: I51905f76298598c109afd6509e7aa7b6b9835ed1
(cherry picked from commit bc3511fa896ed3e6150b1db9e0dfadca2a047df0)
(cherry picked from commit b6bb46af9d56aae50e2afb17641289733f446a1b)
(cherry picked from commit b23d0a75ac4594558a7e9775394833436c042d9d)
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/60/920660/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,bc4c1789629e789f0d0e425d766fbda034b8a763,fix-zuul-config-error-networking-generic-switch,, # NOTE(rpittau): temp disabling job until all changes # for ussuri are completed - ironic-grenade-dsvm-multinode-multitenant: voting: false # NOTE(rpittau): temp disabling job until all changes # for ussuri are completed # - ironic-grenade-dsvm-multinode-multitenant,0,7
openstack%2Fnetworking-generic-switch~920659,openstack/networking-generic-switch,stable/2023.2,I51905f76298598c109afd6509e7aa7b6b9835ed1,[CI] Remove not defined job from queue,NEW,2024-05-28 12:38:38.000000000,2024-06-14 15:26:39.000000000,,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2024-05-28 12:38:38.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/b23d0a75ac4594558a7e9775394833436c042d9d', 'message': '[CI] Remove not defined job from queue\n\nAmong zuul configuration errors there is the following error:\n- Job ironic-grenade-dsvm-multinode-multitenant not defined [1]\n\nThis patch removes this job to get rid of the zuul config error.\n\n[1] https://zuul.opendev.org/t/openstack/config-errors?project=openstack%2Fnetworking-generic-switch\n\nConflicts:\n  zuul.d/project.yaml\n\nChange-Id: I51905f76298598c109afd6509e7aa7b6b9835ed1\n(cherry picked from commit bc3511fa896ed3e6150b1db9e0dfadca2a047df0)\n(cherry picked from commit b6bb46af9d56aae50e2afb17641289733f446a1b)\n'}]",1,920659,b23d0a75ac4594558a7e9775394833436c042d9d,4,3,1,17685,,,0,"[CI] Remove not defined job from queue

Among zuul configuration errors there is the following error:
- Job ironic-grenade-dsvm-multinode-multitenant not defined [1]

This patch removes this job to get rid of the zuul config error.

[1] https://zuul.opendev.org/t/openstack/config-errors?project=openstack%2Fnetworking-generic-switch

Conflicts:
  zuul.d/project.yaml

Change-Id: I51905f76298598c109afd6509e7aa7b6b9835ed1
(cherry picked from commit bc3511fa896ed3e6150b1db9e0dfadca2a047df0)
(cherry picked from commit b6bb46af9d56aae50e2afb17641289733f446a1b)
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/59/920659/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,b23d0a75ac4594558a7e9775394833436c042d9d,fix-zuul-config-error-networking-generic-switch,, # NOTE(rpittau): temp disabling job until all changes # for ussuri are completed - ironic-grenade-dsvm-multinode-multitenant: voting: false # NOTE(rpittau): temp disabling job until all changes # for ussuri are completed # - ironic-grenade-dsvm-multinode-multitenant,0,7
openstack%2Fcodegenerator~922026,openstack/codegenerator,master,I4f69325cf31a1ab677b4da96bf2dc92f17e85637,Finalize openstack_sdk crate features work,MERGED,2024-06-14 14:34:14.000000000,2024-06-14 15:23:54.000000000,2024-06-14 15:22:59.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2024-06-14 14:34:14.000000000', 'files': ['codegenerator/openapi/nova.py', 'codegenerator/rust_cli.py', 'codegenerator/rust_sdk.py', 'codegenerator/templates/rust_sdk/request_struct.j2', 'tools/generate_rust_object_store.sh', 'codegenerator/model.py', 'codegenerator/common/rust.py', 'codegenerator/templates/rust_cli/impl.rs.j2', 'codegenerator/metadata.py', 'codegenerator/common/__init__.py', 'codegenerator/templates/rust_cli/invoke_list_from_struct.j2', 'tools/generate_rust_network.sh', 'codegenerator/templates/rust_sdk/impl.rs.j2', 'tools/generate_rust_image.sh'], 'web_link': 'https://opendev.org/openstack/codegenerator/commit/3bc9e13176486e5aa6b00f98dd47fede299dfd9b', 'message': 'Finalize openstack_sdk crate features work\n\nFinishing work on introducing features in the sdk/cli it is necessary to\npopulate sync/async feature macros already in templates. Since this is\nanyway causing major regeneration pull object-store (the sdk part) and\nfix new issues (caused by sequential updates without mass regeneration -\nto be fixed by introducing a separate job).\n\nChange-Id: I4f69325cf31a1ab677b4da96bf2dc92f17e85637\n'}]",0,922026,3bc9e13176486e5aa6b00f98dd47fede299dfd9b,7,2,1,27900,,,0,"Finalize openstack_sdk crate features work

Finishing work on introducing features in the sdk/cli it is necessary to
populate sync/async feature macros already in templates. Since this is
anyway causing major regeneration pull object-store (the sdk part) and
fix new issues (caused by sequential updates without mass regeneration -
to be fixed by introducing a separate job).

Change-Id: I4f69325cf31a1ab677b4da96bf2dc92f17e85637
",git fetch https://review.opendev.org/openstack/codegenerator refs/changes/26/922026/1 && git format-patch -1 --stdout FETCH_HEAD,"['codegenerator/openapi/nova.py', 'codegenerator/rust_cli.py', 'codegenerator/rust_sdk.py', 'codegenerator/templates/rust_sdk/request_struct.j2', 'tools/generate_rust_object_store.sh', 'codegenerator/model.py', 'codegenerator/common/rust.py', 'codegenerator/templates/rust_cli/impl.rs.j2', 'codegenerator/metadata.py', 'codegenerator/common/__init__.py', 'codegenerator/templates/rust_cli/invoke_list_from_struct.j2', 'tools/generate_rust_network.sh', 'codegenerator/templates/rust_sdk/impl.rs.j2', 'tools/generate_rust_image.sh']",14,3bc9e13176486e5aa6b00f98dd47fede299dfd9b,," ""metadef""",,137,17
openstack%2Fcodegenerator~921547,openstack/codegenerator,master,I11f3f267b45dffc0a39e2675ec333ec5e3c1f269,Prepare regeneration of object-store,ABANDONED,2024-06-07 17:24:48.000000000,2024-06-14 15:16:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-07 17:24:48.000000000', 'files': ['codegenerator/metadata.py', 'codegenerator/common/__init__.py', 'codegenerator/templates/rust_sdk/request_struct.j2', 'codegenerator/model.py'], 'web_link': 'https://opendev.org/openstack/codegenerator/commit/992f86fce47c0ca34b6e5338d56f8bf8a8bb8944', 'message': 'Prepare regeneration of object-store\n\nSince some time object-store service was not regenerated since the\nschema defaulted to base off the AUTH_PROJECT_ID (as current python\ntooling does). This is all fine, but is making it very hard to allow\nproject switching and info querying. The schema is being updated\nseparately, but we need some changes in the templates so that generated\ncode work.\n\nChange-Id: I11f3f267b45dffc0a39e2675ec333ec5e3c1f269\n'}]",0,921547,992f86fce47c0ca34b6e5338d56f8bf8a8bb8944,3,1,1,27900,,,0,"Prepare regeneration of object-store

Since some time object-store service was not regenerated since the
schema defaulted to base off the AUTH_PROJECT_ID (as current python
tooling does). This is all fine, but is making it very hard to allow
project switching and info querying. The schema is being updated
separately, but we need some changes in the templates so that generated
code work.

Change-Id: I11f3f267b45dffc0a39e2675ec333ec5e3c1f269
",git fetch https://review.opendev.org/openstack/codegenerator refs/changes/47/921547/1 && git format-patch -1 --stdout FETCH_HEAD,"['codegenerator/metadata.py', 'codegenerator/common/__init__.py', 'codegenerator/templates/rust_sdk/request_struct.j2', 'codegenerator/model.py']",4,992f86fce47c0ca34b6e5338d56f8bf8a8bb8944,volume," if isinstance(param_typ, list): if ""null"" in param_typ: param_typ.remove(""null"")"," if isinstance(param_typ, list) and ""null"" in param_typ: param_typ.remove(""null"")",18,9
openstack%2Foctavia~922005,openstack/octavia,master,I12942b80be4ef1fc7de18e8b56db59502d2f2056,"Fix functional-py31{1,2} tests",NEW,2024-06-14 09:46:54.000000000,2024-06-14 15:02:14.000000000,,"[{'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-14 09:46:54.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/octavia/commit/7376a4ad0c305113a2aabc091f1bb761a532b14d', 'message': 'Fix functional-py31{1,2} tests\n\nOS_TEST_PATH was not set correctly for those jobs, they were running\nonly unit tests\n\nChange-Id: I12942b80be4ef1fc7de18e8b56db59502d2f2056\n'}]",1,922005,7376a4ad0c305113a2aabc091f1bb761a532b14d,3,2,1,29244,,,0,"Fix functional-py31{1,2} tests

OS_TEST_PATH was not set correctly for those jobs, they were running
only unit tests

Change-Id: I12942b80be4ef1fc7de18e8b56db59502d2f2056
",git fetch https://review.opendev.org/openstack/octavia refs/changes/05/922005/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7376a4ad0c305113a2aabc091f1bb761a532b14d,,[testenv:functional-py311] setenv = OS_TEST_PATH={toxinidir}/octavia/tests/functional [testenv:functional-py312] setenv = OS_TEST_PATH={toxinidir}/octavia/tests/functional ,,6,0
openstack%2Fkolla~891617,openstack/kolla,master,I788fbb76af3cd2fc4bd1cafb6004ba09c2362db6,Add ovn-bgp-agent / FRR / Horizon BGPVPN dashboard,NEW,2023-08-16 17:55:24.000000000,2024-06-14 14:54:58.000000000,,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 32553}, {'_account_id': 35638}, {'_account_id': 36670}]","[{'number': 1, 'created': '2023-08-16 17:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/fd1e4512a01aef8286f9e5d46f3ec88cf54b9fb9', 'message': 'WIP: Add ovn-bgp-agent / FRR / Horizon BGPVPN dashboard support\n\novn-bgp-agent [1] is a new component that exposes VMs/containers through BGP on OVN environments.\n\nThis change extends kolla to be also able to build images for ovn-bgp-agent and FRR, as this is a requirement for ovn-bgp-agent.\nFurthermore, it also extends the horizon integration to enable the BGPVPN dashboard plugin, that is also required for certain scenarios with ovn-bgp-agent.\n\nThis change is part of a set of changes in several projects that are nessecary to fully implement ovn-bgp-agent.\n\n[1] https://opendev.org/openstack/ovn-bgp-agent\n\nChange-Id: I788fbb76af3cd2fc4bd1cafb6004ba09c2362db6\n'}, {'number': 2, 'created': '2024-01-11 16:05:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0317c08519664a354b5aca37133a0a606df34ef6', 'message': 'WIP: Add ovn-bgp-agent / FRR / Horizon BGPVPN dashboard support\n\novn-bgp-agent [1] is a new component that exposes VMs/containers through BGP on OVN environments.\n\nThis change extends kolla to be also able to build images for ovn-bgp-agent and FRR, as this is a requirement for ovn-bgp-agent.\nFurthermore, it also extends the horizon integration to enable the BGPVPN dashboard plugin, that is also required for certain scenarios with ovn-bgp-agent.\n\nThis change is part of a set of changes in several projects that are nessecary to fully implement ovn-bgp-agent.\n\n[1] https://opendev.org/openstack/ovn-bgp-agent\n\nChange-Id: I788fbb76af3cd2fc4bd1cafb6004ba09c2362db6\n'}, {'number': 3, 'created': '2024-01-11 16:06:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/02a5875f79615913605b1590210655d5a2021675', 'message': 'WIP: Add ovn-bgp-agent / FRR / Horizon BGPVPN dashboard support\n\novn-bgp-agent [1] is a new component that exposes VMs/containers through BGP on OVN environments.\n\nThis change extends kolla to be also able to build images for ovn-bgp-agent and FRR, as this is a requirement for ovn-bgp-agent.\nFurthermore, it also extends the horizon integration to enable the BGPVPN dashboard plugin, that is also required for certain scenarios with ovn-bgp-agent.\n\nThis change is part of a set of changes in several projects that are nessecary to fully implement ovn-bgp-agent.\n\n[1] https://opendev.org/openstack/ovn-bgp-agent\n\nChange-Id: I788fbb76af3cd2fc4bd1cafb6004ba09c2362db6\n'}, {'number': 4, 'created': '2024-01-11 16:08:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f3a78a775bd59653047425e8c779d5319f33f1d1', 'message': 'WIP: Add ovn-bgp-agent / FRR / Horizon BGPVPN dashboard support\n\novn-bgp-agent [1] is a new component that exposes VMs/containers through BGP on OVN environments.\n\nThis change extends kolla to be also able to build images for ovn-bgp-agent and FRR, as this is a requirement for ovn-bgp-agent.\nFurthermore, it also extends the horizon integration to enable the BGPVPN dashboard plugin, that is also required for certain scenarios with ovn-bgp-agent.\n\nThis change is part of a set of changes in several projects that are nessecary to fully implement ovn-bgp-agent.\n\n[1] https://opendev.org/openstack/ovn-bgp-agent\n\nChange-Id: I788fbb76af3cd2fc4bd1cafb6004ba09c2362db6\n'}, {'number': 5, 'created': '2024-01-11 17:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/2fb0ae2696a011db8bfaedd3e5a7ae0db232ac68', 'message': 'WIP: Add ovn-bgp-agent / FRR / Horizon BGPVPN dashboard support\n\novn-bgp-agent [1] is a new component that exposes VMs/containers through BGP on OVN environments.\n\nThis change extends kolla to be also able to build images for ovn-bgp-agent and FRR, as this is a requirement for ovn-bgp-agent.\nFurthermore, it also extends the horizon integration to enable the BGPVPN dashboard plugin, that is also required for certain scenarios with ovn-bgp-agent.\n\nThis change is part of a set of changes in several projects that are nessecary to fully implement ovn-bgp-agent.\n\n[1] https://opendev.org/openstack/ovn-bgp-agent\n\nChange-Id: I788fbb76af3cd2fc4bd1cafb6004ba09c2362db6\n'}, {'number': 6, 'created': '2024-01-11 17:55:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8c2a7c09f5a56914e17805c001dce45d1343a381', 'message': 'WIP: Add ovn-bgp-agent / FRR / Horizon BGPVPN dashboard support\n\novn-bgp-agent [1] is a new component that exposes VMs/containers through BGP on OVN environments.\n\nThis change extends kolla to be also able to build images for ovn-bgp-agent and FRR, as this is a requirement for ovn-bgp-agent.\nFurthermore, it also extends the horizon integration to enable the BGPVPN dashboard plugin, that is also required for certain scenarios with ovn-bgp-agent.\n\nThis change is part of a set of changes in several projects that are nessecary to fully implement ovn-bgp-agent.\n\n[1] https://opendev.org/openstack/ovn-bgp-agent\n\nChange-Id: I788fbb76af3cd2fc4bd1cafb6004ba09c2362db6\n'}, {'number': 7, 'created': '2024-01-11 17:56:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9044d7a9fcc6b4b59990eb86ee00a52448f469d2', 'message': 'WIP: Add ovn-bgp-agent / FRR / Horizon BGPVPN dashboard support\n\novn-bgp-agent [1] is a new component that exposes VMs/containers through BGP on OVN environments.\n\nThis change extends kolla to be also able to build images for ovn-bgp-agent and FRR, as this is a requirement for ovn-bgp-agent.\nFurthermore, it also extends the horizon integration to enable the BGPVPN dashboard plugin, that is also required for certain scenarios with ovn-bgp-agent.\n\nThis change is part of a set of changes in several projects that are nessecary to fully implement ovn-bgp-agent.\n\n[1] https://opendev.org/openstack/ovn-bgp-agent\n\nChange-Id: I788fbb76af3cd2fc4bd1cafb6004ba09c2362db6\n'}, {'number': 8, 'created': '2024-02-05 18:37:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9bae059636c06e37adaac8f7375f1f8e5ee45c45', 'message': 'WIP: Add ovn-bgp-agent / FRR / Horizon BGPVPN dashboard support\n\novn-bgp-agent [1] is a new component that exposes VMs/containers through BGP on OVN environments.\n\nThis change extends kolla to be also able to build images for ovn-bgp-agent and FRR, as this is a requirement for ovn-bgp-agent.\nFurthermore, it also extends the horizon integration to enable the BGPVPN dashboard plugin, that is also required for certain scenarios with ovn-bgp-agent.\n\nThis change is part of a set of changes in several projects that are nessecary to fully implement ovn-bgp-agent.\n\n[1] https://opendev.org/openstack/ovn-bgp-agent\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/901695\n\nChange-Id: I788fbb76af3cd2fc4bd1cafb6004ba09c2362db6\n'}, {'number': 9, 'created': '2024-02-05 18:38:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/54a1af986fbc99dae7b029b77bda2e753ddfc397', 'message': 'Add ovn-bgp-agent / FRR / Horizon BGPVPN dashboard\n\novn-bgp-agent [1] is a new component that exposes VMs/containers through BGP on OVN\nenvironments.\n\nThis change extends kolla to be also able to build images for ovn-bgp-agent and FRR, as this is\na requirement for ovn-bgp-agent.\nFurthermore, it also extends the horizon integration to enable the BGPVPN dashboard plugin,\nthat is also required for certain scenarios with ovn-bgp-agent.\n\nThis change is part of a set of changes in several projects that are necessary to fully\nimplement ovn-bgp-agent.\n\n[1] https://opendev.org/openstack/ovn-bgp-agent\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/901695\n\nChange-Id: I788fbb76af3cd2fc4bd1cafb6004ba09c2362db6\n'}, {'number': 10, 'created': '2024-02-06 16:47:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/08b1b3d3b9bdd9a31d6a86e0cc47f9ff1e99e2e0', 'message': 'Add ovn-bgp-agent / FRR / Horizon BGPVPN dashboard\n\novn-bgp-agent [1] is a new component that exposes VMs/containers through BGP on OVN\nenvironments.\n\nThis change extends kolla to be also able to build images for ovn-bgp-agent and FRR, as this is\na requirement for ovn-bgp-agent.\nFurthermore, it also extends the horizon integration to enable the BGPVPN dashboard plugin,\nthat is also required for certain scenarios with ovn-bgp-agent.\n\nThis change is part of a set of changes in several projects that are necessary to fully\nimplement ovn-bgp-agent.\n\n[1] https://opendev.org/openstack/ovn-bgp-agent\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/901695\n\nChange-Id: I788fbb76af3cd2fc4bd1cafb6004ba09c2362db6\n'}, {'number': 11, 'created': '2024-02-08 10:42:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/96ba24eb47833563480ac721b10450ebf94d59c5', 'message': 'Add ovn-bgp-agent / FRR / Horizon BGPVPN dashboard\n\novn-bgp-agent [1] is a new component that exposes VMs/containers through BGP on OVN\nenvironments.\n\nThis change extends kolla to be also able to build images for ovn-bgp-agent and FRR, as this is\na requirement for ovn-bgp-agent.\nFurthermore, it also extends the horizon integration to enable the BGPVPN dashboard plugin,\nthat is also required for certain scenarios with ovn-bgp-agent.\n\nThis change is part of a set of changes in several projects that are necessary to fully\nimplement ovn-bgp-agent.\n\n[1] https://opendev.org/openstack/ovn-bgp-agent\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/901695\n\nChange-Id: I788fbb76af3cd2fc4bd1cafb6004ba09c2362db6\n'}, {'number': 12, 'created': '2024-02-08 12:21:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/553c0d77c0e40665fabe8bf009ffc064afa44722', 'message': 'Add ovn-bgp-agent / FRR / Horizon BGPVPN dashboard\n\novn-bgp-agent [1] is a new component that exposes VMs/containers through BGP on OVN\nenvironments.\n\nThis change extends kolla to be also able to build images for ovn-bgp-agent and FRR, as this is\na requirement for ovn-bgp-agent.\nFurthermore, it also extends the horizon integration to enable the BGPVPN dashboard plugin,\nthat is also required for certain scenarios with ovn-bgp-agent.\n\nThis change is part of a set of changes in several projects that are necessary to fully\nimplement ovn-bgp-agent.\n\n[1] https://opendev.org/openstack/ovn-bgp-agent\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/901695\n\nChange-Id: I788fbb76af3cd2fc4bd1cafb6004ba09c2362db6\n'}, {'number': 13, 'created': '2024-02-08 15:03:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/df5d2ec6980191cc2098b6d8c1a471e106340ced', 'message': 'Add ovn-bgp-agent / FRR / Horizon BGPVPN dashboard\n\novn-bgp-agent [1] is a new component that exposes VMs/containers through BGP on OVN\nenvironments.\n\nThis change extends kolla to be also able to build images for ovn-bgp-agent and FRR, as this is\na requirement for ovn-bgp-agent.\nFurthermore, it also extends the horizon integration to enable the BGPVPN dashboard plugin,\nthat is also required for certain scenarios with ovn-bgp-agent.\n\nThis change is part of a set of changes in several projects that are necessary to fully\nimplement ovn-bgp-agent.\n\n[1] https://opendev.org/openstack/ovn-bgp-agent\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/901695\n\nChange-Id: I788fbb76af3cd2fc4bd1cafb6004ba09c2362db6\n'}, {'number': 14, 'created': '2024-02-08 15:53:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/df829a0ccd2d1e15e6abc359da753f7cdbcfee75', 'message': 'Add ovn-bgp-agent / FRR / Horizon BGPVPN dashboard\n\novn-bgp-agent [1] is a new component that exposes VMs/containers through BGP on OVN\nenvironments.\n\nThis change extends kolla to be also able to build images for ovn-bgp-agent and FRR, as this is\na requirement for ovn-bgp-agent.\nFurthermore, it also extends the horizon integration to enable the BGPVPN dashboard plugin,\nthat is also required for certain scenarios with ovn-bgp-agent.\n\nThis change is part of a set of changes in several projects that are necessary to fully\nimplement ovn-bgp-agent.\n\n[1] https://opendev.org/openstack/ovn-bgp-agent\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/901695\n\nChange-Id: I788fbb76af3cd2fc4bd1cafb6004ba09c2362db6\n'}, {'number': 15, 'created': '2024-02-09 15:38:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/90344b0dbd2f9903624c8644802c92dffadceaf3', 'message': 'Add ovn-bgp-agent / FRR / Horizon BGPVPN dashboard\n\novn-bgp-agent [1] is a new component that exposes VMs/containers through BGP on OVN\nenvironments.\n\nThis change extends kolla to be also able to build images for ovn-bgp-agent and FRR, as this is\na requirement for ovn-bgp-agent.\nFurthermore, it also extends the horizon integration to enable the BGPVPN dashboard plugin,\nthat is also required for certain scenarios with ovn-bgp-agent.\n\nThis change is part of a set of changes in several projects that are necessary to fully\nimplement ovn-bgp-agent.\n\n[1] https://opendev.org/openstack/ovn-bgp-agent\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/901695\n\nChange-Id: I788fbb76af3cd2fc4bd1cafb6004ba09c2362db6\n'}, {'number': 16, 'created': '2024-02-09 15:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/365fd7af45d99cc8c05c097bc7bfbb23bd44841a', 'message': 'Add ovn-bgp-agent / FRR / Horizon BGPVPN dashboard\n\novn-bgp-agent [1] is a new component that exposes VMs/containers through BGP on OVN\nenvironments.\n\nThis change extends kolla to be also able to build images for ovn-bgp-agent and FRR, as this is\na requirement for ovn-bgp-agent.\nFurthermore, it also extends the horizon integration to enable the BGPVPN dashboard plugin,\nthat is also required for certain scenarios with ovn-bgp-agent.\n\nThis change is part of a set of changes in several projects that are necessary to fully\nimplement ovn-bgp-agent.\n\n[1] https://opendev.org/openstack/ovn-bgp-agent\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/901695\n\nChange-Id: I788fbb76af3cd2fc4bd1cafb6004ba09c2362db6\n'}, {'number': 17, 'created': '2024-02-09 15:42:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/2031836591344b5d0a0aa7e279baa20ba3480179', 'message': 'Add ovn-bgp-agent / FRR / Horizon BGPVPN dashboard\n\novn-bgp-agent [1] is a new component that exposes VMs/containers through BGP on OVN\nenvironments.\n\nThis change extends kolla to be also able to build images for ovn-bgp-agent and FRR, as this is\na requirement for ovn-bgp-agent.\nFurthermore, it also extends the horizon integration to enable the BGPVPN dashboard plugin,\nthat is also required for certain scenarios with ovn-bgp-agent.\n\nThis change is part of a set of changes in several projects that are necessary to fully\nimplement ovn-bgp-agent.\n\n[1] https://opendev.org/openstack/ovn-bgp-agent\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/901695\n\nChange-Id: I788fbb76af3cd2fc4bd1cafb6004ba09c2362db6\n'}, {'number': 18, 'created': '2024-02-09 15:51:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f9cc2590f03651983e1f43f3d7f31f16fdf0249d', 'message': 'Add ovn-bgp-agent / FRR / Horizon BGPVPN dashboard\n\novn-bgp-agent [1] is a new component that exposes VMs/containers through BGP on OVN\nenvironments.\n\nThis change extends kolla to be also able to build images for ovn-bgp-agent and FRR, as this is\na requirement for ovn-bgp-agent.\nFurthermore, it also extends the horizon integration to enable the BGPVPN dashboard plugin,\nthat is also required for certain scenarios with ovn-bgp-agent.\n\nThis change is part of a set of changes in several projects that are necessary to fully\nimplement ovn-bgp-agent.\n\n[1] https://opendev.org/openstack/ovn-bgp-agent\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/901695\n\nChange-Id: I788fbb76af3cd2fc4bd1cafb6004ba09c2362db6\n'}, {'number': 19, 'created': '2024-02-09 15:58:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/27cfeaf514ea0f22b3c27d5abcba229ece8f1cfd', 'message': 'Add ovn-bgp-agent / FRR / Horizon BGPVPN dashboard\n\novn-bgp-agent [1] is a new component that exposes VMs/containers through BGP on OVN\nenvironments.\n\nThis change extends kolla to be also able to build images for ovn-bgp-agent and FRR, as this is\na requirement for ovn-bgp-agent.\nFurthermore, it also extends the horizon integration to enable the BGPVPN dashboard plugin.\n\n[1] https://opendev.org/openstack/ovn-bgp-agent\n\nChange-Id: I788fbb76af3cd2fc4bd1cafb6004ba09c2362db6\n'}, {'number': 20, 'created': '2024-02-09 16:09:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0e211037897920e9b3a3632d3d47c165564efbac', 'message': 'Add ovn-bgp-agent / FRR / Horizon BGPVPN dashboard\n\novn-bgp-agent [1] is a new component that exposes VMs/containers through BGP on OVN\nenvironments.\n\nThis change extends kolla to be also able to build images for ovn-bgp-agent and FRR, as this is\na requirement for ovn-bgp-agent.\nFurthermore, it also extends the horizon integration to enable the BGPVPN dashboard plugin.\n\n[1] https://opendev.org/openstack/ovn-bgp-agent\n\nChange-Id: I788fbb76af3cd2fc4bd1cafb6004ba09c2362db6\n'}, {'number': 21, 'created': '2024-02-12 13:49:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b2580d760074f83278374fadd0a88ca13a4c7c8d', 'message': 'Add ovn-bgp-agent / FRR / Horizon BGPVPN dashboard\n\novn-bgp-agent [1] is a new component that exposes VMs/containers through BGP on OVN\nenvironments.\n\nThis change extends kolla to be also able to build images for ovn-bgp-agent and FRR, as this is\na requirement for ovn-bgp-agent.\nFurthermore, it also extends the horizon integration to enable the BGPVPN dashboard plugin.\n\n[1] https://opendev.org/openstack/ovn-bgp-agent\n\nChange-Id: I788fbb76af3cd2fc4bd1cafb6004ba09c2362db6\n'}, {'number': 22, 'created': '2024-02-15 07:23:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/14feb010c403ac252c678486c376e6c20779ae17', 'message': 'Add ovn-bgp-agent / FRR / Horizon BGPVPN dashboard\n\novn-bgp-agent [1] is a new component that exposes VMs/containers through BGP on OVN\nenvironments.\n\nThis change extends kolla to be also able to build images for ovn-bgp-agent and FRR, as this is\na requirement for ovn-bgp-agent.\nFurthermore, it also extends the horizon integration to enable the BGPVPN dashboard plugin.\n\n[1] https://opendev.org/openstack/ovn-bgp-agent\n\nChange-Id: I788fbb76af3cd2fc4bd1cafb6004ba09c2362db6\n'}, {'number': 23, 'created': '2024-02-15 07:24:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/817f812ba0d607def1591ff55ff442399c248654', 'message': 'Add ovn-bgp-agent / FRR / Horizon BGPVPN dashboard\n\novn-bgp-agent [1] is a new component that exposes VMs/containers through BGP on OVN\nenvironments.\n\nThis change extends kolla to be also able to build images for ovn-bgp-agent and FRR, as this is\na requirement for ovn-bgp-agent.\nFurthermore, it also extends the horizon integration to enable the BGPVPN dashboard plugin.\n\n[1] https://opendev.org/openstack/ovn-bgp-agent\n\nChange-Id: I788fbb76af3cd2fc4bd1cafb6004ba09c2362db6\n'}, {'number': 24, 'created': '2024-02-15 07:28:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/fa83fb83ef570f692bf3077b65ce7325748a4c09', 'message': 'Add ovn-bgp-agent / FRR / Horizon BGPVPN dashboard\n\novn-bgp-agent [1] is a new component that exposes VMs/containers through BGP on OVN\nenvironments.\n\nThis change extends kolla to be also able to build images for ovn-bgp-agent and FRR, as this is\na requirement for ovn-bgp-agent.\nFurthermore, it also extends the horizon integration to enable the BGPVPN dashboard plugin.\n\n[1] https://opendev.org/openstack/ovn-bgp-agent\n\nChange-Id: I788fbb76af3cd2fc4bd1cafb6004ba09c2362db6\n'}, {'number': 25, 'created': '2024-02-15 10:41:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/047537c65d4bbc7509d8e14860f299e3b03fe305', 'message': 'Add ovn-bgp-agent / FRR / Horizon BGPVPN dashboard\n\novn-bgp-agent [1] is a new component that exposes VMs/containers through BGP on OVN\nenvironments.\n\nThis change extends kolla to be also able to build images for ovn-bgp-agent and FRR, as this is\na requirement for ovn-bgp-agent.\nFurthermore, it also extends the horizon integration to enable the BGPVPN dashboard plugin.\n\n[1] https://opendev.org/openstack/ovn-bgp-agent\n\nChange-Id: I788fbb76af3cd2fc4bd1cafb6004ba09c2362db6\n'}, {'number': 26, 'created': '2024-02-15 10:43:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8adae9a2f8823b70fe0dd08333d7e4461aab5d6c', 'message': 'Add ovn-bgp-agent / FRR / Horizon BGPVPN dashboard\n\novn-bgp-agent [1] is a new component that exposes VMs/containers through BGP on OVN\nenvironments.\n\nThis change extends kolla to be also able to build images for ovn-bgp-agent and FRR, as this is\na requirement for ovn-bgp-agent.\nFurthermore, it also extends the horizon integration to enable the BGPVPN dashboard plugin.\n\n[1] https://opendev.org/openstack/ovn-bgp-agent\n\nChange-Id: I788fbb76af3cd2fc4bd1cafb6004ba09c2362db6\n'}, {'number': 27, 'created': '2024-02-15 11:31:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4edbdbcc697f6e9d98c4938c5bc11801150ce52a', 'message': 'Add ovn-bgp-agent / FRR / Horizon BGPVPN dashboard\n\novn-bgp-agent [1] is a new component that exposes VMs/containers through BGP on OVN\nenvironments.\n\nThis change extends kolla to be also able to build images for ovn-bgp-agent and FRR, as this is\na requirement for ovn-bgp-agent.\nFurthermore, it also extends the horizon integration to enable the BGPVPN dashboard plugin.\n\n[1] https://opendev.org/openstack/ovn-bgp-agent\n\nChange-Id: I788fbb76af3cd2fc4bd1cafb6004ba09c2362db6\n'}, {'number': 28, 'created': '2024-02-16 10:54:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/da85e194c0477dbf2bfe3c1d9e3d119a9be6fc33', 'message': 'Add ovn-bgp-agent / FRR / Horizon BGPVPN dashboard\n\novn-bgp-agent [1] is a new component that exposes VMs/containers through BGP on OVN\nenvironments.\n\nThis change extends kolla to be also able to build images for ovn-bgp-agent and FRR, as this is\na requirement for ovn-bgp-agent.\nFurthermore, it also extends the horizon integration to enable the BGPVPN dashboard plugin.\n\n[1] https://opendev.org/openstack/ovn-bgp-agent\n\nChange-Id: I788fbb76af3cd2fc4bd1cafb6004ba09c2362db6\n'}, {'number': 29, 'created': '2024-03-17 12:38:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/64913524961fc0a7109e314fc2c74c63ce81673c', 'message': 'Add ovn-bgp-agent / FRR / Horizon BGPVPN dashboard\n\novn-bgp-agent [1] is a new component that exposes VMs/containers through BGP on OVN\nenvironments.\n\nThis change extends kolla to be also able to build images for ovn-bgp-agent and FRR, as this is\na requirement for ovn-bgp-agent.\nFurthermore, it also extends the horizon integration to enable the BGPVPN dashboard plugin.\n\n[1] https://opendev.org/openstack/ovn-bgp-agent\n\nChange-Id: I788fbb76af3cd2fc4bd1cafb6004ba09c2362db6\n'}, {'number': 30, 'created': '2024-03-28 09:31:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/57e871e5c398169ccdecb207bede6e3b42a98cbc', 'message': 'Add ovn-bgp-agent / FRR / Horizon BGPVPN dashboard\n\novn-bgp-agent [1] is a new component that exposes VMs/containers through BGP on OVN\nenvironments.\n\nThis change extends kolla to be also able to build images for ovn-bgp-agent and FRR, as this is\na requirement for ovn-bgp-agent.\nFurthermore, it also extends the horizon integration to enable the BGPVPN dashboard plugin.\n\n[1] https://opendev.org/openstack/ovn-bgp-agent\n\nChange-Id: I788fbb76af3cd2fc4bd1cafb6004ba09c2362db6\n'}, {'number': 31, 'created': '2024-04-15 07:00:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/465c10c6d2a9682be4f48baa6054e5843c8675a0', 'message': 'Add ovn-bgp-agent / FRR / Horizon BGPVPN dashboard\n\novn-bgp-agent [1] is a new component that exposes VMs/containers through BGP on OVN\nenvironments.\n\nThis change extends kolla to be also able to build images for ovn-bgp-agent and FRR, as this is\na requirement for ovn-bgp-agent.\nFurthermore, it also extends the horizon integration to enable the BGPVPN dashboard plugin.\n\n[1] https://opendev.org/openstack/ovn-bgp-agent\n\nChange-Id: I788fbb76af3cd2fc4bd1cafb6004ba09c2362db6\n'}, {'number': 32, 'created': '2024-04-15 08:32:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/86e5ab6d1dbf942d38a5a6c95bc0fdbd37c046a9', 'message': 'Add ovn-bgp-agent / FRR / Horizon BGPVPN dashboard\n\novn-bgp-agent [1] is a new component that exposes VMs/containers through BGP on OVN\nenvironments.\n\nThis change extends kolla to be also able to build images for ovn-bgp-agent and FRR, as this is\na requirement for ovn-bgp-agent.\nFurthermore, it also extends the horizon integration to enable the BGPVPN dashboard plugin.\n\n[1] https://opendev.org/openstack/ovn-bgp-agent\n\nChange-Id: I788fbb76af3cd2fc4bd1cafb6004ba09c2362db6\n'}, {'number': 33, 'created': '2024-04-16 18:40:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4ad2190ad62f577ffd8347f8679bec8b00841602', 'message': 'Add ovn-bgp-agent / FRR / Horizon BGPVPN dashboard\n\novn-bgp-agent [1] is a new component that exposes VMs/containers through BGP on OVN\nenvironments.\n\nThis change extends kolla to be also able to build images for ovn-bgp-agent and FRR, as this is\na requirement for ovn-bgp-agent.\nFurthermore, it also extends the horizon integration to enable the BGPVPN dashboard plugin.\n\n[1] https://opendev.org/openstack/ovn-bgp-agent\n\nChange-Id: I788fbb76af3cd2fc4bd1cafb6004ba09c2362db6\n'}, {'number': 34, 'created': '2024-04-16 18:40:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5f222aed320958c2a690ccea01406d0ae691038e', 'message': 'Add ovn-bgp-agent / FRR / Horizon BGPVPN dashboard\n\novn-bgp-agent [1] is a new component that exposes VMs/containers through BGP on OVN\nenvironments.\n\nThis change extends kolla to be also able to build images for ovn-bgp-agent and FRR, as this is\na requirement for ovn-bgp-agent.\nFurthermore, it also extends the horizon integration to enable the BGPVPN dashboard plugin.\n\n[1] https://opendev.org/openstack/ovn-bgp-agent\n\nChange-Id: I788fbb76af3cd2fc4bd1cafb6004ba09c2362db6\n'}, {'number': 35, 'created': '2024-04-17 05:55:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/331a452ef67aaa9ab2d81783afe68dbeef77dc10', 'message': 'Add ovn-bgp-agent / FRR / Horizon BGPVPN dashboard\n\novn-bgp-agent [1] is a new component that exposes VMs/containers through BGP on OVN\nenvironments.\n\nThis change extends kolla to be also able to build images for ovn-bgp-agent and FRR, as this is\na requirement for ovn-bgp-agent.\nFurthermore, it also extends the horizon integration to enable the BGPVPN dashboard plugin.\n\n[1] https://opendev.org/openstack/ovn-bgp-agent\n\nChange-Id: I788fbb76af3cd2fc4bd1cafb6004ba09c2362db6\n'}, {'number': 36, 'created': '2024-04-26 11:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b314e354dba9d9875fba3679800330a80d440306', 'message': 'Add ovn-bgp-agent / FRR / Horizon BGPVPN dashboard\n\novn-bgp-agent [1] is a new component that exposes VMs/containers through BGP on OVN\nenvironments.\n\nThis change extends kolla to be also able to build images for ovn-bgp-agent and FRR, as this is\na requirement for ovn-bgp-agent.\nFurthermore, it also extends the horizon integration to enable the BGPVPN dashboard plugin.\n\n[1] https://opendev.org/openstack/ovn-bgp-agent\n\nChange-Id: I788fbb76af3cd2fc4bd1cafb6004ba09c2362db6\n'}, {'number': 37, 'created': '2024-04-29 11:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/68ef25d416b1e6327bccb588ac81daccb8fd2576', 'message': 'Add ovn-bgp-agent / FRR / Horizon BGPVPN dashboard\n\novn-bgp-agent [1] is a new component that exposes VMs/containers through BGP on OVN\nenvironments.\n\nThis change extends kolla to be also able to build images for ovn-bgp-agent and FRR, as this is\na requirement for ovn-bgp-agent.\nFurthermore, it also extends the horizon integration to enable the BGPVPN dashboard plugin.\n\n[1] https://opendev.org/openstack/ovn-bgp-agent\n\nChange-Id: I788fbb76af3cd2fc4bd1cafb6004ba09c2362db6\n'}, {'number': 38, 'created': '2024-06-07 10:31:52.000000000', 'files': ['docker/neutron/ovn-bgp-agent/Dockerfile.j2', 'kolla/common/sources.py', 'docker/horizon/extend_start.sh', 'docker/neutron/ovn-bgp-agent/extend_start.sh', 'docker/frr/frr_sudoers', 'kolla/template/repos.yaml', 'docker/neutron/ovn-bgp-agent/ovn_bgp_agent_sudoers', 'kolla/common/config.py', 'kolla/common/users.py', 'docker/frr/extend_start.sh', 'kolla/image/unbuildable.py', 'docker/base/Dockerfile.j2', 'docker/base/frr.repo', 'docker/frr/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/a273e3805c412b59238d5be76b7166dc7352162f', 'message': 'Add ovn-bgp-agent / FRR / Horizon BGPVPN dashboard\n\novn-bgp-agent [1] is a new component that exposes VMs/containers\nthrough BGP on OVN environments.\n\nThis change extends kolla to be also able to build images for\novn-bgp-agent and FRR, as this is a requirement for ovn-bgp-agent.\nFurthermore, it also extends the horizon integration to enable the\nBGPVPN dashboard plugin.\n\n[1] https://opendev.org/openstack/ovn-bgp-agent\n\nChange-Id: I788fbb76af3cd2fc4bd1cafb6004ba09c2362db6\n'}]",110,891617,a273e3805c412b59238d5be76b7166dc7352162f,142,7,38,35638,,,0,"Add ovn-bgp-agent / FRR / Horizon BGPVPN dashboard

ovn-bgp-agent [1] is a new component that exposes VMs/containers
through BGP on OVN environments.

This change extends kolla to be also able to build images for
ovn-bgp-agent and FRR, as this is a requirement for ovn-bgp-agent.
Furthermore, it also extends the horizon integration to enable the
BGPVPN dashboard plugin.

[1] https://opendev.org/openstack/ovn-bgp-agent

Change-Id: I788fbb76af3cd2fc4bd1cafb6004ba09c2362db6
",git fetch https://review.opendev.org/openstack/kolla refs/changes/17/891617/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/ovn-bgp-agent/Dockerfile.j2', 'docker/openvswitch/openvswitch-db-server/Dockerfile.j2', 'docker/horizon/extend_start.sh', 'docker/openvswitch/openvswitch-db-server/ovs_ensure_bridge.sh', 'docker/ovn-bgp-agent/extend_start.sh', 'docker/frr/frr_sudoers', 'docker/openvswitch/openvswitch-db-server/ovs_ensure_port.sh', 'kolla/template/repos.yaml', 'kolla/common/config.py', 'kolla/common/users.py', 'docker/frr/extend_start.sh', 'docker/base/Dockerfile.j2', 'docker/base/frr.repo', 'docker/frr/Dockerfile.j2', 'docker/ovn-bgp-agent/ovn_bgp_agent_sudoers']",15,fd1e4512a01aef8286f9e5d46f3ec88cf54b9fb9,frr-ovn-bgp-agent,"%kolla ALL=(root) NOPASSWD: /bin/chown ovn-bgp-agent\:kolla /var/log/kolla, /usr/bin/chown ovn-bgp-agent\:kolla /var/log/kolla %kolla ALL=(root) NOPASSWD: /bin/chown ovn-bgp-agent\:kolla /var/lib/ovn-bgp-agent, /usr/bin/chown ovn-bgp-agent\:kolla /var/lib/ovn-bgp-agent %kolla ALL=(root) NOPASSWD: /bin/chmod 2775 /var/log/kolla, /usr/bin/chmod 2775 /var/log/kolla %kolla ALL=(root) NOPASSWD: /bin/chmod 2775 /var/lib/ovn-bgp-agent, /usr/bin/chmod 2775 /var/lib/ovn-bgp-agent ",,247,5
openstack%2Fovn-bgp-agent~922003,openstack/ovn-bgp-agent,stable/2023.2,Id7dd902e5e2010ba41052cc9316db8518349c755,Announce lrp ip if advertisement method is subnet,MERGED,2024-06-14 09:33:51.000000000,2024-06-14 14:41:45.000000000,2024-06-14 14:40:51.000000000,"[{'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2024-06-14 09:33:51.000000000', 'files': ['ovn_bgp_agent/drivers/openstack/utils/wire.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/utils/test_wire.py'], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/44b6ff4bd10816e92c70c1450ef47a34f81f25cf', 'message': 'Announce lrp ip if advertisement method is subnet\n\nIn the case of the subnet advertisement method, we do not\nannounce the route to the tenant subnet via BGP. While the routes\nin br-ex are good, they do not fully expose the subnet.\n\nThis change exposes the router interface that connects the\ntenant subnet.\n\nCloses-Bug: 2068730\nChange-Id: Id7dd902e5e2010ba41052cc9316db8518349c755\n(cherry picked from commit bc1dc8ec9ea2438fe89ad0d9535dfddd05c463d9)\n'}]",2,922003,44b6ff4bd10816e92c70c1450ef47a34f81f25cf,14,4,1,23567,,,0,"Announce lrp ip if advertisement method is subnet

In the case of the subnet advertisement method, we do not
announce the route to the tenant subnet via BGP. While the routes
in br-ex are good, they do not fully expose the subnet.

This change exposes the router interface that connects the
tenant subnet.

Closes-Bug: 2068730
Change-Id: Id7dd902e5e2010ba41052cc9316db8518349c755
(cherry picked from commit bc1dc8ec9ea2438fe89ad0d9535dfddd05c463d9)
",git fetch https://review.opendev.org/openstack/ovn-bgp-agent refs/changes/03/922003/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_bgp_agent/drivers/openstack/utils/wire.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/utils/test_wire.py']",2,44b6ff4bd10816e92c70c1450ef47a34f81f25cf,bug/2068730-stable/2024.1-stable/2023.2," @mock.patch.object(linux_net, 'add_ip_route') @mock.patch.object(linux_net, 'get_ip_version') @mock.patch.object(linux_net, 'add_ip_rule') def test__wire_lrp_port_underlay_advertisement_subnet( self, m_ip_rule, m_ip_version, m_ip_route): CONF.set_override( 'advertisement_method_tenant_networks', constants.ADVERTISEMENT_METHOD_SUBNET) routing_tables_routes = {} ip = '10.0.0.1/24' bridge_device = 'fake-bridge' bridge_vlan = None routing_tables = {'fake-bridge': 5} cr_lrp_ips = ['fake-crlrp-ip'] ret = wire._wire_lrp_port_underlay( routing_tables_routes, ip, bridge_device, bridge_vlan, routing_tables, cr_lrp_ips) self.assertTrue(ret) m_ip_rule.assert_called_once_with(ip, 5) expected_ip_route_calls = [ mock.call( routing_tables_routes, ip.split('/')[0], routing_tables[bridge_device], bridge_device, vlan=bridge_vlan, mask=ip.split('/')[1], via=cr_lrp_ips[0]), mock.call( routing_tables_routes, ip.split('/')[0], CONF.bgp_vrf_table_id, CONF.bgp_nic, mask=ip.split('/')[1], via=cr_lrp_ips[0])] m_ip_route.assert_has_calls(expected_ip_route_calls) @mock.patch.object(linux_net, 'del_ip_route') @mock.patch.object(linux_net, 'get_ip_version') @mock.patch.object(linux_net, 'del_ip_rule') def test__unwire_lrp_port_underlay_advertisement_subnet( self, m_ip_rule, m_ip_version, m_ip_route): CONF.set_override( 'advertisement_method_tenant_networks', constants.ADVERTISEMENT_METHOD_SUBNET) routing_tables_routes = {} ip = '10.0.0.1/24' bridge_device = 'fake-bridge' bridge_vlan = None routing_tables = {'fake-bridge': 5} cr_lrp_ips = ['fake-crlrp-ip'] ret = wire._unwire_lrp_port_underlay( routing_tables_routes, ip, bridge_device, bridge_vlan, routing_tables, cr_lrp_ips) self.assertTrue(ret) m_ip_rule.assert_called_once_with(ip, 5) expected_ip_route_calls = [ mock.call( routing_tables_routes, ip.split('/')[0], routing_tables[bridge_device], bridge_device, vlan=bridge_vlan, mask=ip.split('/')[1], via=cr_lrp_ips[0]), mock.call( routing_tables_routes, ip.split('/')[0], CONF.bgp_vrf_table_id, CONF.bgp_nic, mask=ip.split('/')[1], via=cr_lrp_ips[0])] m_ip_route.assert_has_calls(expected_ip_route_calls)",,84,0
openstack%2Fneutron~921568,openstack/neutron,stable/2023.2,I83ec349e49e1f343da8996cab149d76443120873,"Revert ""Use HasStandardAttributes as parent class for Tags DB model""",NEW,2024-06-07 19:28:09.000000000,2024-06-14 14:37:59.000000000,,"[{'_account_id': 4694}, {'_account_id': 9656}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-07 19:28:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c06e5e872fb5411cfb867663d0468b87f4bd6d8f', 'message': 'Revert ""Use HasStandardAttributes as parent class for Tags DB model""\n\nThis reverts commit 85d3fff97e55ba85f72cda4365ad0441c10bd9f6.\n\nReason for revert: Using ""joined"" relation can cause very long query times when dealing with many(hundreds) of tags on a large deployments. The initial reason for this change was to reduce amount of SELECT logs during the testing, but given that this change can have negative side effects on a large deployments(in some corner cases), we will favor the original `subquery` option. See closes-bug link for further details.\n\nChange-Id: I83ec349e49e1f343da8996cab149d76443120873\nCloses-bug: #2068761\n'}, {'number': 2, 'created': '2024-06-11 16:31:43.000000000', 'files': ['neutron/db/models/tag.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2614e77bd161b619396b74c2670c13805468e156', 'message': 'Revert ""Use HasStandardAttributes as parent class for Tags DB model""\n\nThis reverts commit 85d3fff97e55ba85f72cda4365ad0441c10bd9f6.\n\nReason for revert:\nThe original change was made as a “cheap win” to optimize the number\nof queries the neutron server makes during testing. This did\nimprove the number of queries made but introduced regression in\nreal world deployments where some customers(through automation)\nwould define hundreds of tags per port across a large deployment.\nI am proposing to revert this change in favor of the old “subquery”\nrelation in order to fix this regression. In addition, I filed the\nRelated-Bug #2069061 to investigate using `selectin` as the more\nappropriate long term solution.\n\nChange-Id: I83ec349e49e1f343da8996cab149d76443120873\nCloses-bug: #2068761\nRelated-Bug: #2069061\n'}]",1,921568,2614e77bd161b619396b74c2670c13805468e156,13,5,2,34271,,,0,"Revert ""Use HasStandardAttributes as parent class for Tags DB model""

This reverts commit 85d3fff97e55ba85f72cda4365ad0441c10bd9f6.

Reason for revert:
The original change was made as a “cheap win” to optimize the number
of queries the neutron server makes during testing. This did
improve the number of queries made but introduced regression in
real world deployments where some customers(through automation)
would define hundreds of tags per port across a large deployment.
I am proposing to revert this change in favor of the old “subquery”
relation in order to fix this regression. In addition, I filed the
Related-Bug #2069061 to investigate using `selectin` as the more
appropriate long term solution.

Change-Id: I83ec349e49e1f343da8996cab149d76443120873
Closes-bug: #2068761
Related-Bug: #2069061
",git fetch https://review.opendev.org/openstack/neutron refs/changes/68/921568/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/models/tag.py'],1,c06e5e872fb5411cfb867663d0468b87f4bd6d8f,sql-profiling-revert," backref=orm.backref('tags', lazy='subquery', viewonly=True),"," backref=orm.backref('tags', lazy='joined', viewonly=True),",1,1
openstack%2Fcharm-designate~921849,openstack/charm-designate,master,I624a62ccb917c9f4a3ccec145554b31ca90f7461,rebuild to sync charms_openstack for lp2067285,NEW,2024-06-12 11:49:17.000000000,2024-06-14 14:33:45.000000000,,"[{'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-12 11:49:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/9eafc60b96101ca94f2aff65a73c4ad18dc01cde', 'message': 'rebuild to sync charms_openstack for lp2067285\n\nChange-Id: I624a62ccb917c9f4a3ccec145554b31ca90f7461\nSigned-off-by: David Negreira <david.negreira@canonical.com>\n'}, {'number': 2, 'created': '2024-06-12 11:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/893cfba53bf12f29f9fcf6fdbeddc1d6184b4baa', 'message': 'rebuild to sync charms_openstack for lp2067285\n\nCloses-Bug: #2067285\n\nChange-Id: I624a62ccb917c9f4a3ccec145554b31ca90f7461\nSigned-off-by: David Negreira <david.negreira@canonical.com>\n'}, {'number': 3, 'created': '2024-06-12 13:15:31.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/10407d31ee2ebde6939c40dcdd5e825e17380583', 'message': 'rebuild to sync charms_openstack for lp2067285\n\nForce a rebuild of the charm in order to sync with the changes\nintroduced in\nhttps://review.opendev.org/c/openstack/charms.openstack/+/920474\nwhich will stop the apache2 service when the unit is paused.\n\nCloses-Bug: #2067285\n\nChange-Id: I624a62ccb917c9f4a3ccec145554b31ca90f7461\nSigned-off-by: David Negreira <david.negreira@canonical.com>\n'}]",3,921849,10407d31ee2ebde6939c40dcdd5e825e17380583,12,3,3,32371,,,0,"rebuild to sync charms_openstack for lp2067285

Force a rebuild of the charm in order to sync with the changes
introduced in
https://review.opendev.org/c/openstack/charms.openstack/+/920474
which will stop the apache2 service when the unit is paused.

Closes-Bug: #2067285

Change-Id: I624a62ccb917c9f4a3ccec145554b31ca90f7461
Signed-off-by: David Negreira <david.negreira@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/49/921849/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,9eafc60b96101ca94f2aff65a73c4ad18dc01cde,lp2067285,27a49885-3ea4-4f7f-8c86-f04ac62b03c0,080c115c-31fd-11ee-81bb-33d8b4248c07,1,1
openstack%2Freleases~918355,openstack/releases,master,I97299a71b62b426af67ba78e370539740c997076,[vitrage-tempest-plugin] Tag zed-last,NEW,2024-05-06 20:29:11.000000000,2024-06-14 14:32:54.000000000,,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2024-05-06 20:29:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/b2ccad2e688a73b07703350c5c99d7c0146d57e3', 'message': ""[vitrage-tempest-plugin] Tag zed-last\n\nZed branch is moving to unmaintained state now[1]. Tempest and tempest\nplugins are branchless which means master version of Tempest and\nits plugins is used to test the supported stable branches.\n\nOnce any stable branch is moved to unmaintained state then, Tempest and\nits plugins compatible tag[2][3] needs to be released which can be used\nto test the unmaintained stable branches.\n\nTagging 'zed-last' with latesh hash used in 6.3.0 version.\n\n[1] https://review.opendev.org/q/topic:%22zed-unmaintained%22\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\nChange-Id: I97299a71b62b426af67ba78e370539740c997076\n""}, {'number': 2, 'created': '2024-05-06 20:45:21.000000000', 'files': ['deliverables/zed/vitrage-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/91adfa4f12724d1d208b10aaf530fc6d5300394d', 'message': ""[vitrage-tempest-plugin] Tag zed-last\n\nZed branch is moving to unmaintained state now[1]. Tempest and tempest\nplugins are branchless which means master version of Tempest and\nits plugins is used to test the supported stable branches.\n\nOnce any stable branch is moved to unmaintained state then, Tempest and\nits plugins compatible tag[2][3] needs to be released which can be used\nto test the unmaintained stable branches.\n\nTagging 'zed-last' with latesh hash used in 6.3.0 version.\n\n[1] https://review.opendev.org/q/topic:%22zed-unmaintained%22\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\nChange-Id: I97299a71b62b426af67ba78e370539740c997076\n""}]",2,918355,91adfa4f12724d1d208b10aaf530fc6d5300394d,6,5,2,8556,,,0,"[vitrage-tempest-plugin] Tag zed-last

Zed branch is moving to unmaintained state now[1]. Tempest and tempest
plugins are branchless which means master version of Tempest and
its plugins is used to test the supported stable branches.

Once any stable branch is moved to unmaintained state then, Tempest and
its plugins compatible tag[2][3] needs to be released which can be used
to test the unmaintained stable branches.

Tagging 'zed-last' with latesh hash used in 6.3.0 version.

[1] https://review.opendev.org/q/topic:%22zed-unmaintained%22
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html

Change-Id: I97299a71b62b426af67ba78e370539740c997076
",git fetch https://review.opendev.org/openstack/releases refs/changes/55/918355/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/zed/vitrage-tempest-plugin.yaml'],1,b2ccad2e688a73b07703350c5c99d7c0146d57e3,zed-last, - version: zed-last projects: - repo: openstack/vitrage-tempest-plugin hash: c5f782b670be0d00205f59ae98dfa9df6a355153,,4,0
openstack%2Freleases~918353,openstack/releases,master,I1a01475830db9667ad99e459758cc967fc1a6f9f,[mistral-tempest-plugin] Tag zed-last,NEW,2024-05-06 20:24:51.000000000,2024-06-14 14:31:52.000000000,,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 35600}]","[{'number': 1, 'created': '2024-05-06 20:24:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/132834e4316085633365a79b72b8721af50e4102', 'message': ""[mistral-tempest-plugin] Tag zed-last\n\nZed branch is moving to unmaintained state now[1]. Tempest and tempest\nplugins are branchless which means master version of Tempest and\nits plugins is used to test the supported stable branches.\n\nOnce any stable branch is moved to unmaintained state then, Tempest and\nits plugins compatible tag[2][3] needs to be released which can be used\nto test the unmaintained stable branches.\n\nTagging 'zed-last' with latesh hash used in 2.3.0 version.\n\n[1] https://review.opendev.org/q/topic:%22zed-unmaintained%22\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\nChange-Id: I1a01475830db9667ad99e459758cc967fc1a6f9f\n""}, {'number': 2, 'created': '2024-05-06 20:44:56.000000000', 'files': ['deliverables/zed/mistral-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2f7a27a0ae0490c85a4b88e960d1b6af97b7f480', 'message': ""[mistral-tempest-plugin] Tag zed-last\n\nZed branch is moving to unmaintained state now[1]. Tempest and tempest\nplugins are branchless which means master version of Tempest and\nits plugins is used to test the supported stable branches.\n\nOnce any stable branch is moved to unmaintained state then, Tempest and\nits plugins compatible tag[2][3] needs to be released which can be used\nto test the unmaintained stable branches.\n\nTagging 'zed-last' with latesh hash used in 2.3.0 version.\n\n[1] https://review.opendev.org/q/topic:%22zed-unmaintained%22\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\nChange-Id: I1a01475830db9667ad99e459758cc967fc1a6f9f\n""}]",2,918353,2f7a27a0ae0490c85a4b88e960d1b6af97b7f480,6,4,2,8556,,,0,"[mistral-tempest-plugin] Tag zed-last

Zed branch is moving to unmaintained state now[1]. Tempest and tempest
plugins are branchless which means master version of Tempest and
its plugins is used to test the supported stable branches.

Once any stable branch is moved to unmaintained state then, Tempest and
its plugins compatible tag[2][3] needs to be released which can be used
to test the unmaintained stable branches.

Tagging 'zed-last' with latesh hash used in 2.3.0 version.

[1] https://review.opendev.org/q/topic:%22zed-unmaintained%22
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html

Change-Id: I1a01475830db9667ad99e459758cc967fc1a6f9f
",git fetch https://review.opendev.org/openstack/releases refs/changes/53/918353/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/zed/mistral-tempest-plugin.yaml'],1,132834e4316085633365a79b72b8721af50e4102,zed-last, - version: zed-last projects: - repo: openstack/mistral-tempest-plugin hash: 2f92367896338ec38205f2486c6339a96c21604c,,4,0
openstack%2Freleases~918350,openstack/releases,master,I489ba26ae035da189f3bf5c8f9b362ca133ad762,[watcher-tempest-plugin] Tag zed-last,NEW,2024-05-06 20:17:37.000000000,2024-06-14 14:29:29.000000000,,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-06 20:17:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/a7c0152c78700773152e6398e81124b4a3392216', 'message': ""[watcher-tempest-plugin] Tag zed-last\n\nZed branch is moving to unmaintained state now[1]. Tempest and tempest\nplugins are branchless which means master version of Tempest and\nits plugins is used to test the supported stable branches.\n\nOnce any stable branch is moved to unmaintained state then, Tempest and\nits plugins compatible tag[2][3] needs to be released which can be used\nto test the unmaintained stable branches.\n\nTagging 'zed-last' with latesh hash used in 3.1.0 version.\n\n[1] https://review.opendev.org/q/topic:%22zed-unmaintained%22\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\nChange-Id: I489ba26ae035da189f3bf5c8f9b362ca133ad762\n""}, {'number': 2, 'created': '2024-05-06 20:44:03.000000000', 'files': ['deliverables/zed/watcher-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/088b4f84ea423a55cef21c5f4a37742abe6c5b8d', 'message': ""[watcher-tempest-plugin] Tag zed-last\n\nZed branch is moving to unmaintained state now[1]. Tempest and tempest\nplugins are branchless which means master version of Tempest and\nits plugins is used to test the supported stable branches.\n\nOnce any stable branch is moved to unmaintained state then, Tempest and\nits plugins compatible tag[2][3] needs to be released which can be used\nto test the unmaintained stable branches.\n\nTagging 'zed-last' with latesh hash used in 3.1.0 version.\n\n[1] https://review.opendev.org/q/topic:%22zed-unmaintained%22\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\nChange-Id: I489ba26ae035da189f3bf5c8f9b362ca133ad762\n""}]",2,918350,088b4f84ea423a55cef21c5f4a37742abe6c5b8d,6,3,2,8556,,,0,"[watcher-tempest-plugin] Tag zed-last

Zed branch is moving to unmaintained state now[1]. Tempest and tempest
plugins are branchless which means master version of Tempest and
its plugins is used to test the supported stable branches.

Once any stable branch is moved to unmaintained state then, Tempest and
its plugins compatible tag[2][3] needs to be released which can be used
to test the unmaintained stable branches.

Tagging 'zed-last' with latesh hash used in 3.1.0 version.

[1] https://review.opendev.org/q/topic:%22zed-unmaintained%22
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html

Change-Id: I489ba26ae035da189f3bf5c8f9b362ca133ad762
",git fetch https://review.opendev.org/openstack/releases refs/changes/50/918350/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/zed/watcher-tempest-plugin.yaml'],1,a7c0152c78700773152e6398e81124b4a3392216,zed-last, - version: zed-last projects: - repo: openstack/watcher-tempest-plugin hash: 92ca984a8de525b47eff940f47d7d103ba573d17,,4,0
openstack%2Fsushy-tools~909500,openstack/sushy-tools,master,I22d9b7614a5a7243e08d40392a0a49a31ee00034,[WIP] Add support for BIOS update emulation,NEW,2024-02-20 06:14:45.000000000,2024-06-14 14:27:56.000000000,,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-02-20 06:14:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/5f18e5f06d475ecdab0499d17c7b4a881ba0d6e4', 'message': '[WIP] Add support for BIOS update emulation\n\nThis change adds UpdateService resource and SimpleUpdate action to\nsushy-tools. The goal behind this addition is enabling support for\nautomated testing of firmware update functionality in virtualized\nenvironments. Note: no actual firmware update is performed with these\nAPI calls, the only result is incrementing the BiosVersion value stored\nin instance metadata.\n\nChange-Id: I22d9b7614a5a7243e08d40392a0a49a31ee00034\n'}, {'number': 2, 'created': '2024-02-22 06:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/cb121faed84c7ca0dbc0d42c4cb81ff3604bd141', 'message': '[WIP] Add support for BIOS update emulation\n\nThis change adds UpdateService resource and SimpleUpdate action to\nsushy-tools. The goal behind this addition is enabling support for\nautomated testing of firmware update functionality in virtualized\nenvironments. Note: no actual firmware update is performed with these\nAPI calls, the only result is incrementing the BiosVersion value stored\nin instance metadata.\n\nChange-Id: I22d9b7614a5a7243e08d40392a0a49a31ee00034\n'}, {'number': 3, 'created': '2024-02-22 06:55:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/610df264140b38b384a8fb33d5e2598d3d157d7c', 'message': '[WIP] Add support for BIOS update emulation\n\nThis change adds UpdateService resource and SimpleUpdate action to\nsushy-tools. The goal behind this addition is enabling support for\nautomated testing of firmware update functionality in virtualized\nenvironments. Note: no actual firmware update is performed with these\nAPI calls, the only result is incrementing the BiosVersion value stored\nin instance metadata.\n\nChange-Id: I22d9b7614a5a7243e08d40392a0a49a31ee00034\n'}, {'number': 4, 'created': '2024-02-28 06:48:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/18b2226283b7e6d85655a1c1492cd166ea3f165c', 'message': '[WIP] Add support for BIOS update emulation\n\nThis change adds UpdateService resource and SimpleUpdate action to\nsushy-tools. The goal behind this addition is enabling support for\nautomated testing of firmware update functionality in virtualized\nenvironments. Note: no actual firmware update is performed with these\nAPI calls, the only result is incrementing the BiosVersion value stored\nin instance metadata.\n\nChange-Id: I22d9b7614a5a7243e08d40392a0a49a31ee00034\n'}, {'number': 5, 'created': '2024-02-28 13:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/98f29698eed55aaa9bd7c7b92db94cccc18c2915', 'message': '[WIP] Add support for BIOS update emulation\n\nThis change adds UpdateService resource and SimpleUpdate action to\nsushy-tools. The goal behind this addition is enabling support for\nautomated testing of firmware update functionality in virtualized\nenvironments. Note: no actual firmware update is performed with these\nAPI calls, the only result is incrementing the BiosVersion value stored\nin instance metadata.\n\nChange-Id: I22d9b7614a5a7243e08d40392a0a49a31ee00034\n'}, {'number': 6, 'created': '2024-03-13 05:42:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/15214526517e09f18905ff40430d91181cbd5a59', 'message': '[WIP] Add support for BIOS update emulation\n\nThis change adds UpdateService resource and SimpleUpdate action to\nsushy-tools. The goal behind this addition is enabling support for\nautomated testing of firmware update functionality in virtualized\nenvironments. Note: no actual firmware update is performed with these\nAPI calls, the only result is incrementing the BiosVersion value stored\nin instance metadata.\n\nChange-Id: I22d9b7614a5a7243e08d40392a0a49a31ee00034\n'}, {'number': 7, 'created': '2024-03-13 06:24:36.000000000', 'files': ['sushy_tools/emulator/main.py', 'sushy_tools/emulator/controllers/update_service.py', 'sushy_tools/emulator/templates/update_service.json'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/806257cca484d11686b1cc6dc376599c6995e9dd', 'message': '[WIP] Add support for BIOS update emulation\n\nThis change adds UpdateService resource and SimpleUpdate action to\nsushy-tools. The goal behind this addition is enabling support for\nautomated testing of firmware update functionality in virtualized\nenvironments. Note: no actual firmware update is performed with these\nAPI calls, the only result is incrementing the BiosVersion value stored\nin instance metadata.\n\nChange-Id: I22d9b7614a5a7243e08d40392a0a49a31ee00034\n'}]",6,909500,806257cca484d11686b1cc6dc376599c6995e9dd,19,3,7,32177,,,0,"[WIP] Add support for BIOS update emulation

This change adds UpdateService resource and SimpleUpdate action to
sushy-tools. The goal behind this addition is enabling support for
automated testing of firmware update functionality in virtualized
environments. Note: no actual firmware update is performed with these
API calls, the only result is incrementing the BiosVersion value stored
in instance metadata.

Change-Id: I22d9b7614a5a7243e08d40392a0a49a31ee00034
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/00/909500/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_tools/emulator/main.py', 'sushy_tools/emulator/controllers/update_service.py', 'sushy_tools/emulator/templates/update_service.json']",3,5f18e5f06d475ecdab0499d17c7b4a881ba0d6e4,bios-updates-emulation,"{ ""@odata.context"": ""/redfish/v1/$metadata#UpdateService.UpdateService"", ""@odata.id"": ""/redfish/v1/UpdateService"", ""@odata.type"": ""#UpdateService.v1_11_0.UpdateService"", ""Actions"": { ""#UpdateService.SimpleUpdate"": { ""TransferProtocol@Redfish.AllowableValues"": [ ""HTTP"", ""HTTPS"" ], ""target"": ""/redfish/v1/Systems/{{ uuid|string }}/UpdateService/Actions/UpdateService.SimpleUpdate"" }, }, ""Description"": ""Represents the properties for the Update Service"", ""FirmwareInventory"": { ""@odata.id"": ""/redfish/v1/UpdateService/FirmwareInventory"" }, ""HttpPushUri"": ""/redfish/v1/UpdateService/FirmwareInventory"", ""Id"": ""UpdateService"", ""MaxImageSizeBytes"": null, ""Name"": ""Update Service"", ""ServiceEnabled"": true, ""SoftwareInventory"": { ""@odata.id"": ""/redfish/v1/UpdateService/SoftwareInventory"" }, } ",,102,0
openstack%2Fkolla-ansible~921738,openstack/kolla-ansible,stable/2023.2,I1b58f4aeda8c9fe8db1770c63c17bf1c465f3d2a,Set node to a valid rabbitmq host,NEW,2024-06-11 09:29:12.000000000,2024-06-14 14:20:57.000000000,,"[{'_account_id': 290}, {'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 23084}]","[{'number': 1, 'created': '2024-06-11 09:29:12.000000000', 'files': ['ansible/roles/service-rabbitmq/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fc94a6d4b4964a3cbbdd093d9bf16e6fa0c451ed', 'message': 'Set node to a valid rabbitmq host\n\nIf rabbitmq is not on the same host as the nova-controller,\nthen this task will fail. This change ensures that the\ntask references an actual rabbitmq host vs the host the\ntask runs on.\n\nCloses-Bug: 2020805\nChange-Id: I1b58f4aeda8c9fe8db1770c63c17bf1c465f3d2a\n(cherry picked from commit 52729e6855f12dfee3d1d6f540858e4ca0af7402)\n'}]",0,921738,fc94a6d4b4964a3cbbdd093d9bf16e6fa0c451ed,8,4,1,22629,,,0,"Set node to a valid rabbitmq host

If rabbitmq is not on the same host as the nova-controller,
then this task will fail. This change ensures that the
task references an actual rabbitmq host vs the host the
task runs on.

Closes-Bug: 2020805
Change-Id: I1b58f4aeda8c9fe8db1770c63c17bf1c465f3d2a
(cherry picked from commit 52729e6855f12dfee3d1d6f540858e4ca0af7402)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/38/921738/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/service-rabbitmq/tasks/main.yml'],1,fc94a6d4b4964a3cbbdd093d9bf16e6fa0c451ed,bug/2020805-stable/2023.2," node: ""rabbit@{{ hostvars[service_rabbitmq_delegate_host]['ansible_facts']['hostname'] }}"""," node: ""rabbit@{{ ansible_facts.hostname }}""",1,1
openstack%2Fkolla-ansible~921737,openstack/kolla-ansible,stable/2024.1,I1b58f4aeda8c9fe8db1770c63c17bf1c465f3d2a,Set node to a valid rabbitmq host,NEW,2024-06-11 09:28:42.000000000,2024-06-14 14:20:49.000000000,,"[{'_account_id': 290}, {'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 23084}]","[{'number': 1, 'created': '2024-06-11 09:28:42.000000000', 'files': ['ansible/roles/service-rabbitmq/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c5fbc602c6ec7144863cd464bc7a0b05b65da127', 'message': 'Set node to a valid rabbitmq host\n\nIf rabbitmq is not on the same host as the nova-controller,\nthen this task will fail. This change ensures that the\ntask references an actual rabbitmq host vs the host the\ntask runs on.\n\nCloses-Bug: 2020805\nChange-Id: I1b58f4aeda8c9fe8db1770c63c17bf1c465f3d2a\n(cherry picked from commit 52729e6855f12dfee3d1d6f540858e4ca0af7402)\n'}]",0,921737,c5fbc602c6ec7144863cd464bc7a0b05b65da127,6,4,1,22629,,,0,"Set node to a valid rabbitmq host

If rabbitmq is not on the same host as the nova-controller,
then this task will fail. This change ensures that the
task references an actual rabbitmq host vs the host the
task runs on.

Closes-Bug: 2020805
Change-Id: I1b58f4aeda8c9fe8db1770c63c17bf1c465f3d2a
(cherry picked from commit 52729e6855f12dfee3d1d6f540858e4ca0af7402)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/37/921737/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/service-rabbitmq/tasks/main.yml'],1,c5fbc602c6ec7144863cd464bc7a0b05b65da127,bug/2020805-stable/2024.1," node: ""rabbit@{{ hostvars[service_rabbitmq_delegate_host]['ansible_facts']['hostname'] }}"""," node: ""rabbit@{{ ansible_facts.hostname }}""",1,1
openstack%2Fkolla-ansible~921739,openstack/kolla-ansible,stable/2023.1,I1b58f4aeda8c9fe8db1770c63c17bf1c465f3d2a,Set node to a valid rabbitmq host,NEW,2024-06-11 09:30:38.000000000,2024-06-14 14:20:41.000000000,,"[{'_account_id': 290}, {'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 23084}, {'_account_id': 36670}]","[{'number': 1, 'created': '2024-06-11 09:30:38.000000000', 'files': ['ansible/roles/service-rabbitmq/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a32840e59d11ec7154ed7655ffb33e47d981ff75', 'message': 'Set node to a valid rabbitmq host\n\nIf rabbitmq is not on the same host as the nova-controller,\nthen this task will fail. This change ensures that the\ntask references an actual rabbitmq host vs the host the\ntask runs on.\n\nCloses-Bug: 2020805\nChange-Id: I1b58f4aeda8c9fe8db1770c63c17bf1c465f3d2a\n(cherry picked from commit 52729e6855f12dfee3d1d6f540858e4ca0af7402)\n'}]",0,921739,a32840e59d11ec7154ed7655ffb33e47d981ff75,6,5,1,22629,,,0,"Set node to a valid rabbitmq host

If rabbitmq is not on the same host as the nova-controller,
then this task will fail. This change ensures that the
task references an actual rabbitmq host vs the host the
task runs on.

Closes-Bug: 2020805
Change-Id: I1b58f4aeda8c9fe8db1770c63c17bf1c465f3d2a
(cherry picked from commit 52729e6855f12dfee3d1d6f540858e4ca0af7402)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/39/921739/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/service-rabbitmq/tasks/main.yml'],1,a32840e59d11ec7154ed7655ffb33e47d981ff75,bug/2020805-stable/2023.1," node: ""rabbit@{{ hostvars[service_rabbitmq_delegate_host]['ansible_facts']['hostname'] }}"""," node: ""rabbit@{{ ansible_facts.hostname }}""",1,1
openstack%2Fkolla-ansible~921683,openstack/kolla-ansible,stable/2024.1,Iec9a8de184481dae058377fa8d7bbd8da729d62c,Fix missing commas in kolla_podman_worker,MERGED,2024-06-10 15:12:26.000000000,2024-06-14 14:17:08.000000000,2024-06-14 14:16:07.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 32553}]","[{'number': 1, 'created': '2024-06-10 15:12:26.000000000', 'files': ['releasenotes/notes/bug-2067278-82287115c972a04e.yaml', 'ansible/module_utils/kolla_podman_worker.py'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c525f58587d55dbb16fd3e269b3d4e71db0cfea2', 'message': 'Fix missing commas in kolla_podman_worker\n\nList of strings CONTAINER_PARAMS is missing comma separators,\nwhich makes it an implicit concatenation of list items\nthat should be separate.\n\nCloses-Bug: #2067278\nChange-Id: Iec9a8de184481dae058377fa8d7bbd8da729d62c\nSigned-off-by: Martin Hiner <martin.hiner@tietoevry.com>\n(cherry picked from commit 69cdc6dbc8b7bcc5ebffbe9ec7c84e5d4ad5c839)\n'}]",1,921683,c525f58587d55dbb16fd3e269b3d4e71db0cfea2,16,5,1,32553,,,0,"Fix missing commas in kolla_podman_worker

List of strings CONTAINER_PARAMS is missing comma separators,
which makes it an implicit concatenation of list items
that should be separate.

Closes-Bug: #2067278
Change-Id: Iec9a8de184481dae058377fa8d7bbd8da729d62c
Signed-off-by: Martin Hiner <martin.hiner@tietoevry.com>
(cherry picked from commit 69cdc6dbc8b7bcc5ebffbe9ec7c84e5d4ad5c839)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/83/921683/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-2067278-82287115c972a04e.yaml', 'ansible/module_utils/kolla_podman_worker.py']",2,c525f58587d55dbb16fd3e269b3d4e71db0cfea2,bug/2067278-stable/2024.1," 'cpu_shares', # int 'memswap_limit', # (Union[int, str]): Maximum amount of memory 'tty', # bool"," 'cpu_shares' # int 'memswap_limit' # (Union[int, str]): Maximum amount of memory 'tty' # bool",10,3
openstack%2Fkeystoneauth~903860,openstack/keystoneauth,master,Ifde62fdacbb839c720adfbf98b8b2b2a625c412e,Python 3.12: do not use datetime.utcnow(),NEW,2023-12-18 09:03:36.000000000,2024-06-14 14:08:36.000000000,,"[{'_account_id': 9816}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-12-18 09:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/5b05db01c374318d8efdf50ead7a448ad1c5694e', 'message': ""Python 3.12: do not use datetime.utcnow()\n\nThis is deprecated in Python 3.12, let's use\ndatetime.now(datetime.timezeone.UTC) that should\nwork everywhere.\n\nChange-Id: Ifde62fdacbb839c720adfbf98b8b2b2a625c412e\n""}, {'number': 2, 'created': '2023-12-18 10:05:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/cbf70722effaf07d00582a1461603c67f73541fe', 'message': ""Python 3.12: do not use datetime.utcnow()\n\nThis is deprecated in Python 3.12, let's use\ndatetime.now(datetime.timezeone.UTC) that should\nwork everywhere.\n\nChange-Id: Ifde62fdacbb839c720adfbf98b8b2b2a625c412e\n""}, {'number': 3, 'created': '2023-12-19 05:10:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/2c9e8872b68ad4741eb70e6a981b632f9f469dc8', 'message': 'Python 3.12: do not use datetime.datetime.utcnow()\n\nThis is deprecated in the favor of:\n  datetime.datetime.now(datetime.timezone.utc)\n\nChange-Id: Ifde62fdacbb839c720adfbf98b8b2b2a625c412e\n'}, {'number': 4, 'created': '2024-01-07 17:36:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/6bce619051d8cdc279073030bcc674456e065507', 'message': ""Python 3.12: do not use datetime.utcnow()\n\nThis is deprecated in Python 3.12, let's use\ndatetime.now(datetime.timezeone.UTC) that should\nwork everywhere.\n\nChange-Id: Ifde62fdacbb839c720adfbf98b8b2b2a625c412e\n""}, {'number': 5, 'created': '2024-01-07 20:39:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/6bec905036cfb627ed1b2a4f47c7c945e33666cf', 'message': ""Python 3.12: do not use datetime.utcnow()\n\nThis is deprecated in Python 3.12, let's use\ndatetime.now(datetime.timezeone.UTC) that should\nwork everywhere.\n\nChange-Id: Ifde62fdacbb839c720adfbf98b8b2b2a625c412e\n""}, {'number': 6, 'created': '2024-06-14 10:49:29.000000000', 'files': ['keystoneauth1/_utils.py', 'keystoneauth1/extras/_saml2/v3/adfs.py'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/d1b78d9d33af7572a2c5bbe0e4c3dec320cd1cf2', 'message': ""Python 3.12: do not use datetime.utcnow()\n\nThis is deprecated in Python 3.12, let's use\ndatetime.now(datetime.timezeone.UTC) that should work everywhere.\n\nChange-Id: Ifde62fdacbb839c720adfbf98b8b2b2a625c412e\n""}]",15,903860,d1b78d9d33af7572a2c5bbe0e4c3dec320cd1cf2,24,4,6,6476,,,0,"Python 3.12: do not use datetime.utcnow()

This is deprecated in Python 3.12, let's use
datetime.now(datetime.timezeone.UTC) that should work everywhere.

Change-Id: Ifde62fdacbb839c720adfbf98b8b2b2a625c412e
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/60/903860/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneauth1/_utils.py', 'keystoneauth1/extras/_saml2/v3/adfs.py']",2,5b05db01c374318d8efdf50ead7a448ad1c5694e,python-3.12, date_created = datetime.datetime.now(datetime.timezone.utc), date_created = datetime.datetime.utcnow(),3,3
openstack%2Fcinder~921864,openstack/cinder,master,I636770ec30cddcb5b7c9692ff0b2afdc7971d80d,pylint: Skip two E1130 errors,NEW,2024-06-12 14:08:49.000000000,2024-06-14 14:04:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-12 14:08:49.000000000', 'files': ['cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/056b818d8b9e59e26e3c7d8344c88523f94a1980', 'message': ""pylint: Skip two E1130 errors\n\nThe pylint job is currently failing with these errors --\nget it passing again.\n\nI assume this occurs because pylint doesn't really\nunderstand sqlalchemy's or_() method, and therefore can't\nproperly determine the return types from condition_db_filter()\nor or_().\n\nChange-Id: I636770ec30cddcb5b7c9692ff0b2afdc7971d80d\n""}]",0,921864,056b818d8b9e59e26e3c7d8344c88523f94a1980,22,1,1,4523,,,0,"pylint: Skip two E1130 errors

The pylint job is currently failing with these errors --
get it passing again.

I assume this occurs because pylint doesn't really
understand sqlalchemy's or_() method, and therefore can't
properly determine the return types from condition_db_filter()
or or_().

Change-Id: I636770ec30cddcb5b7c9692ff0b2afdc7971d80d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/64/921864/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/db/sqlalchemy/api.py'],1,056b818d8b9e59e26e3c7d8344c88523f94a1980,," result = ~condition_db_filter(model, field, value) # pylint: disable=E1130 query_filter = ~query_filter # pylint: disable=E1130"," result = ~condition_db_filter(model, field, value) query_filter = ~query_filter",2,2
openstack%2Fcharm-octavia~917350,openstack/charm-octavia,stable/2024.1,I9adf1984a9bf52673d7eeb03a5118c4326e01e8d,Stable changes for stable/2024.1 (caracal) branch,NEW,2024-04-29 10:28:40.000000000,2024-06-14 13:58:11.000000000,,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-29 10:28:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/b5e10217362556616e4e0e131ba59067ba082e9e', 'message': 'Stable changes for stable/2024.1 (caracal) branch\n\nThis patch converts stable/2024.1 into a stable maintenance branch. It:\n\n- modifies .gitreview to point to stable/2024.1\n- switches (test-)requirements*.txt -> (test-)requirements*.in\n  for pip-compile usage.\n- creates (test-)requirements-py*.txt from *.in using pip-compile for\n  the relevant python version.\n- Updates bundles to point to ceph/edge and 24.04/edge for ceph and\n  OVN charms.\n- Adds build.lock file to the reactive charms.\n- Syncs charm-helpers for classic charms.\n- Locks requirements.txt from requirements.in for ops machine charms.\n- Locks charms.openstack, zaza, zaza-openstack-tests, charm-helpers to\n  stable branches.\n\nChange-Id: I9adf1984a9bf52673d7eeb03a5118c4326e01e8d\n'}, {'number': 2, 'created': '2024-05-01 11:45:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/21676858a0dc7615cb15be336c74ab441e90211e', 'message': 'Stable changes for stable/2024.1 (caracal) branch\n\nThis patch converts stable/2024.1 into a stable maintenance branch. It:\n\n- modifies .gitreview to point to stable/2024.1\n- switches (test-)requirements*.txt -> (test-)requirements*.in\n  for pip-compile usage.\n- creates (test-)requirements-py*.txt from *.in using pip-compile for\n  the relevant python version.\n- Updates bundles to point to ceph/edge and 24.04/edge for ceph and\n  OVN charms.\n- Adds build.lock file to the reactive charms.\n- Syncs charm-helpers for classic charms.\n- Locks requirements.txt from requirements.in for ops machine charms.\n- Locks charms.openstack, zaza, zaza-openstack-tests, charm-helpers to\n  stable branches.\n\nChange-Id: I9adf1984a9bf52673d7eeb03a5118c4326e01e8d\n'}, {'number': 3, 'created': '2024-05-03 19:19:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/bba1625e58aa8f5576a0676b858eb3f5cf47bb74', 'message': 'Stable changes for stable/2024.1 (caracal) branch\n\nThis patch converts stable/2024.1 into a stable maintenance branch. It:\n\n- modifies .gitreview to point to stable/2024.1\n- switches (test-)requirements*.txt -> (test-)requirements*.in\n  for pip-compile usage.\n- creates (test-)requirements-py*.txt from *.in using pip-compile for\n  the relevant python version.\n- Updates bundles to point to ceph/edge and 24.04/edge for ceph and\n  OVN charms.\n- Adds build.lock file to the reactive charms.\n- Syncs charm-helpers for classic charms.\n- Locks requirements.txt from requirements.in for ops machine charms.\n- Locks charms.openstack, zaza, zaza-openstack-tests, charm-helpers to\n  stable branches.\n\nChange-Id: I9adf1984a9bf52673d7eeb03a5118c4326e01e8d\n'}, {'number': 4, 'created': '2024-05-03 20:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/6175833ae7519c25d2d7429fdde84a977eb0b0ea', 'message': 'Stable changes for stable/2024.1 (caracal) branch\n\nThis patch converts stable/2024.1 into a stable maintenance branch. It:\n\n- modifies .gitreview to point to stable/2024.1\n- switches (test-)requirements*.txt -> (test-)requirements*.in\n  for pip-compile usage.\n- creates (test-)requirements-py*.txt from *.in using pip-compile for\n  the relevant python version.\n- Updates bundles to point to ceph/edge and 24.04/edge for ceph and\n  OVN charms.\n- Adds build.lock file to the reactive charms.\n- Syncs charm-helpers for classic charms.\n- Locks requirements.txt from requirements.in for ops machine charms.\n- Locks charms.openstack, zaza, zaza-openstack-tests, charm-helpers to\n  stable branches.\n\nChange-Id: I9adf1984a9bf52673d7eeb03a5118c4326e01e8d\n'}, {'number': 5, 'created': '2024-05-14 15:03:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/337db5d45d48e4af983ac6b296b89a4654049f82', 'message': 'Stable changes for stable/2024.1 (caracal) branch\n\nThis patch converts stable/2024.1 into a stable maintenance branch. It:\n\n- modifies .gitreview to point to stable/2024.1\n- switches (test-)requirements*.txt -> (test-)requirements*.in\n  for pip-compile usage.\n- creates (test-)requirements-py*.txt from *.in using pip-compile for\n  the relevant python version.\n- Updates bundles to point to ceph/edge and 24.04/edge for ceph and\n  OVN charms.\n- Adds build.lock file to the reactive charms.\n- Syncs charm-helpers for classic charms.\n- Locks requirements.txt from requirements.in for ops machine charms.\n- Locks charms.openstack, zaza, zaza-openstack-tests, charm-helpers to\n  stable branches.\n\nChange-Id: I9adf1984a9bf52673d7eeb03a5118c4326e01e8d\n'}, {'number': 6, 'created': '2024-06-03 23:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/f8f46db121cf6265a3f4684ca7bc4c294312661f', 'message': 'Stable changes for stable/2024.1 (caracal) branch\n\nThis patch converts stable/2024.1 into a stable maintenance branch. It:\n\n- modifies .gitreview to point to stable/2024.1\n- switches (test-)requirements*.txt -> (test-)requirements*.in\n  for pip-compile usage.\n- creates (test-)requirements-py*.txt from *.in using pip-compile for\n  the relevant python version.\n- Updates bundles to point to ceph/edge and 24.04/edge for ceph and\n  OVN charms.\n- Adds build.lock file to the reactive charms.\n- Syncs charm-helpers for classic charms.\n- Locks requirements.txt from requirements.in for ops machine charms.\n- Locks charms.openstack, zaza, zaza-openstack-tests, charm-helpers to\n  stable branches.\n\nChange-Id: I9adf1984a9bf52673d7eeb03a5118c4326e01e8d\n'}, {'number': 7, 'created': '2024-06-10 14:48:32.000000000', 'files': ['src/tests/bundles/jammy-antelope-ha-ovn.yaml', 'osci.yaml', 'requirements.in', '.gitreview', 'src/tests/bundles/jammy-bobcat-ha-ovn.yaml', 'src/tox.ini', 'src/tests/bundles/jammy-caracal-ha.yaml', 'test-requirements-py310.txt', 'src/tests/bundles/jammy-antelope-ha.yaml', 'src/tests/bundles/noble-caracal-ha.yaml', 'merged-requirements-py311.txt', 'src/test-requirements.in', 'src/build.lock', 'src/test-requirements-py38.txt', 'test-requirements-py311.txt', 'src/tests/bundles/jammy-caracal-ha-ovn.yaml', 'src/tests/tests.yaml', 'merged-requirements-py38.txt', 'src/tests/bundles/noble-caracal-ha-ovn.yaml', 'test-requirements-py38.txt', 'src/wheelhouse.txt', 'merged-requirements-py310.txt', 'test-requirements.in', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/86009b0bf1e1775baeb602473c440d2d98bb9c8e', 'message': 'Stable changes for stable/2024.1 (caracal) branch\n\nThis patch converts stable/2024.1 into a stable maintenance branch. It:\n\n- modifies .gitreview to point to stable/2024.1\n- switches (test-)requirements*.txt -> (test-)requirements*.in\n  for pip-compile usage.\n- creates (test-)requirements-py*.txt from *.in using pip-compile for\n  the relevant python version.\n- Updates bundles to point to ceph/edge and 24.04/edge for ceph and\n  OVN charms.\n- Adds build.lock file to the reactive charms.\n- Syncs charm-helpers for classic charms.\n- Locks requirements.txt from requirements.in for ops machine charms.\n- Locks charms.openstack, zaza, zaza-openstack-tests, charm-helpers to\n  stable branches.\n\nChange-Id: I9adf1984a9bf52673d7eeb03a5118c4326e01e8d\n'}]",11,917350,86009b0bf1e1775baeb602473c440d2d98bb9c8e,35,3,7,20870,,,0,"Stable changes for stable/2024.1 (caracal) branch

This patch converts stable/2024.1 into a stable maintenance branch. It:

- modifies .gitreview to point to stable/2024.1
- switches (test-)requirements*.txt -> (test-)requirements*.in
  for pip-compile usage.
- creates (test-)requirements-py*.txt from *.in using pip-compile for
  the relevant python version.
- Updates bundles to point to ceph/edge and 24.04/edge for ceph and
  OVN charms.
- Adds build.lock file to the reactive charms.
- Syncs charm-helpers for classic charms.
- Locks requirements.txt from requirements.in for ops machine charms.
- Locks charms.openstack, zaza, zaza-openstack-tests, charm-helpers to
  stable branches.

Change-Id: I9adf1984a9bf52673d7eeb03a5118c4326e01e8d
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/50/917350/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/jammy-antelope-ha-ovn.yaml', 'requirements.in', '.gitreview', 'src/tests/bundles/jammy-bobcat-ha-ovn.yaml', 'src/tox.ini', 'test-requirements-py310.txt', 'src/tests/bundles/mantic-bobcat-ha-ovn.yaml', 'merged-requirements-py38.txt', 'test-requirements-py38.txt', 'src/wheelhouse.txt', 'merged-requirements-py310.txt', 'test-requirements.in', 'src/test-requirements.in', 'src/build.lock', 'src/test-requirements-py38.txt', 'tox.ini']",16,b5e10217362556616e4e0e131ba59067ba082e9e,stable-2024.1, -r{toxinidir}/merged-requirements-py38.txtdeps =# directly run `charmcraft -v packdeps = -c {env:TEST_CONSTRAINTS_FILE:https://raw.githubusercontent.com/openstack-charmers/zaza-openstack-tests/master/constraints/constraints-2024.1.txt} -r{toxinidir}/test-requirements-py310.txt commands = stestr run --slowest {posargs} [testenv:py38] basepython = python3.8 deps = -c {env:TEST_CONSTRAINTS_FILE:https://raw.githubusercontent.com/openstack-charmers/zaza-openstack-tests/master/constraints/constraints-2024.1.txt} -r{toxinidir}/test-requirements-py38.txtdeps = -c {env:TEST_CONSTRAINTS_FILE:https://raw.githubusercontent.com/openstack-charmers/zaza-openstack-tests/master/constraints/constraints-2024.1.txt} -r{toxinidir}/test-requirements-py310.txtdeps = -c {env:TEST_CONSTRAINTS_FILE:https://raw.githubusercontent.com/openstack-charmers/zaza-openstack-tests/master/constraints/constraints-2024.1.txt} -r{toxinidir}/merged-requirements-py310.txt, rename.sh -r{toxinidir}/requirements.txt# directly run `charmcraft -v pack && ./rename.sh`.[testenv:build-reactive] basepython = python3 commands = charm-build --log-level DEBUG --use-lock-file-branches --binary-wheels-from-source -o {toxinidir}/build/builds src {posargs} [testenv:add-build-lock-file] basepython = python3 commands = charm-build --log-level DEBUG --write-lock-file -o {toxinidir}/build/builds src {posargs} deps = -r{toxinidir}/test-requirements.txtdeps = -r{toxinidir}/test-requirements.txt git+https://github.com/juju/charm-tools.gitdeps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt,2250,38
openstack%2Freleases~919928,openstack/releases,master,I63dddeb04dec129cbc1fffd9c638a1f35708aafb,Update team exceptions in ACL issues script,MERGED,2024-05-17 09:22:39.000000000,2024-06-14 13:48:28.000000000,2024-06-14 13:48:28.000000000,"[{'_account_id': 13252}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-17 09:22:39.000000000', 'files': ['tools/aclissues.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/1ad0d5d6bdd360207574333780c7ddbde552275e', 'message': 'Update team exceptions in ACL issues script\n\nUpdate the team exceptions section in the aclissues.py detection script\nso that it reflects that ironic and Puppet OpenStack teams have been\nexempted from strict release management rules, together with references\nto the changes that introduced the exemptions in the first place.\n\nWith this change, the aclissues.py script no longer reports false\nnegatives in ACLs for deliverables from those teams.\n\nChange-Id: I63dddeb04dec129cbc1fffd9c638a1f35708aafb\n'}]",4,919928,1ad0d5d6bdd360207574333780c7ddbde552275e,9,3,1,308,,,0,"Update team exceptions in ACL issues script

Update the team exceptions section in the aclissues.py detection script
so that it reflects that ironic and Puppet OpenStack teams have been
exempted from strict release management rules, together with references
to the changes that introduced the exemptions in the first place.

With this change, the aclissues.py script no longer reports false
negatives in ACLs for deliverables from those teams.

Change-Id: I63dddeb04dec129cbc1fffd9c638a1f35708aafb
",git fetch https://review.opendev.org/openstack/releases refs/changes/28/919928/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/aclissues.py'],1,1ad0d5d6bdd360207574333780c7ddbde552275e,aclissues-exemptions," # Those teams have been granted special rights 'ironic', # See https://review.opendev.org/866937 'Puppet OpenStack', # See https://review.opendev.org/905976"," # Teams that are likely to be moved off TC governance 'ironic',",3,2
openstack%2Freleases~915751,openstack/releases,master,I562103e4972006a47cf9232c8de2dbd54f5aa518,release whitebox-tempest-plugin,MERGED,2024-04-12 17:00:36.000000000,2024-06-14 13:48:26.000000000,2024-06-14 13:48:26.000000000,"[{'_account_id': 8556}, {'_account_id': 10459}, {'_account_id': 11604}, {'_account_id': 13252}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-12 17:00:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/88921f58f88d60e52a8682c1cee5b304939cc5c7', 'message': 'release whitebox-tempest-plugin\n\nThe whitebox-tempest-plugin is a deliverable of the qa team\nbut it is primarly consumed directly via git.\n\nthere has been a request to do a packaged release of it for rdo\nand this patch just creates it.\n\nhttps: //review.rdoproject.org/r/c/openstack/whitebox-tempest-plugin-distgit/+/52480\nChange-Id: I562103e4972006a47cf9232c8de2dbd54f5aa518\n'}, {'number': 2, 'created': '2024-04-12 18:45:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/5ccbcc2df4cfbf04948e8d132079c66816e7a3c9', 'message': 'release whitebox-tempest-plugin\n\nThe whitebox-tempest-plugin is a deliverable of the qa team\nbut it is primarly consumed directly via git.\n\nthere has been a request to do a packaged release of it for rdo\nand this patch just creates it.\n\nhttps: //review.rdoproject.org/r/c/openstack/whitebox-tempest-plugin-distgit/+/52480\nChange-Id: I562103e4972006a47cf9232c8de2dbd54f5aa518\n'}, {'number': 3, 'created': '2024-04-12 18:53:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/e10592dbb7ff63dcce33986d7939cf6044fe7afc', 'message': 'release whitebox-tempest-plugin\n\nThe whitebox-tempest-plugin is a deliverable of the qa team\nbut it is primarly consumed directly via git.\n\nthere has been a request to do a packaged release of it for rdo\nand this patch just creates it.\n\nhttps: //review.rdoproject.org/r/c/openstack/whitebox-tempest-plugin-distgit/+/52480\nChange-Id: I562103e4972006a47cf9232c8de2dbd54f5aa518\n'}, {'number': 4, 'created': '2024-04-12 18:56:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/fd4b0576871e17532fc74991b2bb390be10ccb73', 'message': 'release whitebox-tempest-plugin\n\nThe whitebox-tempest-plugin is a deliverable of the qa team\nbut it is primarly consumed directly via git.\n\nthere has been a request to do a packaged release of it for rdo\nand this patch just creates it.\n\nhttps: //review.rdoproject.org/r/c/openstack/whitebox-tempest-plugin-distgit/+/52480\n\nthis change also addes the missing git shas for 0.0.1 and 0.0.2\n\nChange-Id: I562103e4972006a47cf9232c8de2dbd54f5aa518\n'}, {'number': 5, 'created': '2024-04-16 13:31:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/b9fc3210fe3de8ac2959e3717bf7f5e6684a3f93', 'message': 'release whitebox-tempest-plugin\n\nThe whitebox-tempest-plugin is a deliverable of the qa team\nbut it is primarly consumed directly via git.\n\nthere has been a request to do a packaged release of it for rdo\nand this patch just creates it.\n\nhttps: //review.rdoproject.org/r/c/openstack/whitebox-tempest-plugin-distgit/+/52480\n\nthis change also addes the missing git shas for 0.0.1 and 0.0.2\n\nDepends-On: https://review.opendev.org/c/openstack/whitebox-tempest-plugin/+/915905\nChange-Id: I562103e4972006a47cf9232c8de2dbd54f5aa518\n'}, {'number': 6, 'created': '2024-04-22 13:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/321e9990ba0e160516c476bda5c787fd6a4896f4', 'message': 'release whitebox-tempest-plugin\n\nThe whitebox-tempest-plugin is a deliverable of the qa team\nbut it is primarly consumed directly via git.\n\nthere has been a request to do a packaged release of it for rdo\nand this patch just creates it.\n\nhttps: //review.rdoproject.org/r/c/openstack/whitebox-tempest-plugin-distgit/+/52480\n\nthis change also addes the missing git shas for 0.0.1 and 0.0.2\n\nChange-Id: I562103e4972006a47cf9232c8de2dbd54f5aa518\n'}, {'number': 7, 'created': '2024-06-05 16:35:29.000000000', 'files': ['deliverables/_independent/whitebox-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/add1d122428fde8d991704b4e13395f250c9a562', 'message': 'release whitebox-tempest-plugin\n\nThe whitebox-tempest-plugin is a deliverable of the qa team\nbut it is primarly consumed directly via git.\n\nthere has been a request to do a packaged release of it for rdo\nand this patch just creates it.\n\nhttps: //review.rdoproject.org/r/c/openstack/whitebox-tempest-plugin-distgit/+/52480\n\nthis change also addes the missing git shas for 0.0.1 and 0.0.2\n\nChange-Id: I562103e4972006a47cf9232c8de2dbd54f5aa518\n'}]",17,915751,add1d122428fde8d991704b4e13395f250c9a562,34,6,7,11604,,,0,"release whitebox-tempest-plugin

The whitebox-tempest-plugin is a deliverable of the qa team
but it is primarly consumed directly via git.

there has been a request to do a packaged release of it for rdo
and this patch just creates it.

https: //review.rdoproject.org/r/c/openstack/whitebox-tempest-plugin-distgit/+/52480

this change also addes the missing git shas for 0.0.1 and 0.0.2

Change-Id: I562103e4972006a47cf9232c8de2dbd54f5aa518
",git fetch https://review.opendev.org/openstack/releases refs/changes/51/915751/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/whitebox-tempest-plugin.yaml'],1,88921f58f88d60e52a8682c1cee5b304939cc5c7,whitebox-tempest-plugin,--- include-pypi-link: false release-model: independet stable-branch-type: none release-type: python-pypi repository-settings: openstack/whitebox-tempest-plugin: {} team: Quality Assurance type: tempest-plugin releases: - version: 0.0.2 projects: - repo: openstack/whitebox-tempest-plugin hash: 766ff042bd8528043947f16c84d13c9645d258d1 ,,14,0
openstack%2Fkeystone-specs~910584,openstack/keystone-specs,master,I8326f8c09c2b8cbc7d9b1962ed3eae4e66a73d17,Add openapi spec,MERGED,2024-02-29 09:44:03.000000000,2024-06-14 13:45:08.000000000,2024-06-14 13:44:10.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 13478}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-02-29 09:44:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/a57c0a96d576aa244bd0ce228d050dd3c7a91d05', 'message': 'Add spec for starting support of OpenAPI\n\nChange-Id: I8326f8c09c2b8cbc7d9b1962ed3eae4e66a73d17\n'}, {'number': 2, 'created': '2024-02-29 09:44:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/eb046154462c9b54842c5a05cd591517372590bd', 'message': 'Add spec for starting support of OpenAPI\n\nWe would like to start documenting our APIs in an industry-standard,\nmachine-readable manner. Doing so opens up many opportunities for both\nOpenStack developer and OpenStack users alike, notably the ability to\nboth auto-generate and auto-validate both client tooling and\ndocumentation alike. Of the many API description languages available,\nOpenAPI (fka ""Swagger"") appears to be the one with both the largest\ndeveloper mindshare and the one that would be the best fit for OpenStack\ndue to the existing tooling used in many OpenStack services, thus we\nwould opt to use this format.\n\nChange-Id: I8326f8c09c2b8cbc7d9b1962ed3eae4e66a73d17\n'}, {'number': 3, 'created': '2024-02-29 10:21:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/f949b99d6bb9799137fa377136691b8f72538d11', 'message': 'Add spec for starting support of OpenAPI\n\nWe would like to start documenting our APIs in an industry-standard,\nmachine-readable manner. Doing so opens up many opportunities for both\nOpenStack developer and OpenStack users alike, notably the ability to\nboth auto-generate and auto-validate both client tooling and\ndocumentation alike. Of the many API description languages available,\nOpenAPI (fka ""Swagger"") appears to be the one with both the largest\ndeveloper mindshare and the one that would be the best fit for OpenStack\ndue to the existing tooling used in many OpenStack services, thus we\nwould opt to use this format.\n\nChange-Id: I8326f8c09c2b8cbc7d9b1962ed3eae4e66a73d17\n'}, {'number': 4, 'created': '2024-04-26 17:43:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/797072a6ff8164a5f6ce277804eb70111b1a20c8', 'message': 'Add openapi spec\n\nWe would like to start documenting our APIs in an industry-standard,\nmachine-readable manner. Doing so opens up many opportunities for both\nOpenStack developer and OpenStack users alike, notably the ability to\nboth auto-generate and auto-validate both client tooling and\ndocumentation alike. Of the many API description languages available,\nOpenAPI (fka ""Swagger"") appears to be the one with both the largest\ndeveloper mindshare and the one that would be the best fit for OpenStack\ndue to the existing tooling used in many OpenStack services, thus we\nwould opt to use this format.\n\nChange-Id: I8326f8c09c2b8cbc7d9b1962ed3eae4e66a73d17\n'}, {'number': 5, 'created': '2024-05-03 07:34:56.000000000', 'files': ['doc/source/index.rst', 'specs/keystone/2024.2/openapi.rst'], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/f0dafe19302b1367b5894b7727feb65a6ff2f941', 'message': 'Add openapi spec\n\nWe would like to start documenting our APIs in an industry-standard,\nmachine-readable manner. Doing so opens up many opportunities for both\nOpenStack developer and OpenStack users alike, notably the ability to\nboth auto-generate and auto-validate both client tooling and\ndocumentation alike. Of the many API description languages available,\nOpenAPI (fka ""Swagger"") appears to be the one with both the largest\ndeveloper mindshare and the one that would be the best fit for OpenStack\ndue to the existing tooling used in many OpenStack services, thus we\nwould opt to use this format.\n\nChange-Id: I8326f8c09c2b8cbc7d9b1962ed3eae4e66a73d17\n'}]",8,910584,f0dafe19302b1367b5894b7727feb65a6ff2f941,19,4,5,27900,,,0,"Add openapi spec

We would like to start documenting our APIs in an industry-standard,
machine-readable manner. Doing so opens up many opportunities for both
OpenStack developer and OpenStack users alike, notably the ability to
both auto-generate and auto-validate both client tooling and
documentation alike. Of the many API description languages available,
OpenAPI (fka ""Swagger"") appears to be the one with both the largest
developer mindshare and the one that would be the best fit for OpenStack
due to the existing tooling used in many OpenStack services, thus we
would opt to use this format.

Change-Id: I8326f8c09c2b8cbc7d9b1962ed3eae4e66a73d17
",git fetch https://review.opendev.org/openstack/keystone-specs refs/changes/84/910584/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/keystone/2024.2/openapi.rst'],1,a57c0a96d576aa244bd0ce228d050dd3c7a91d05,openapi,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =============== OpenAPI Schemas =============== `<https://bugs.launchpad.net/keystone/+spec/openapi>`_ We would like to start documenting our APIs in an industry-standard, machine-readable manner. Doing so opens up many opportunities for both OpenStack developer and OpenStack users alike, notably the ability to both auto-generate and auto-validate both client tooling and documentation alike. Of the many API description languages available, OpenAPI (fka ""Swagger"") appears to be the one with both the largest developer mindshare and the one that would be the best fit for OpenStack due to the existing tooling used in many OpenStack services, thus we would opt to use this format. Problem Description =================== The history of API description languages has been mainly a history of half-baked ideas, unnecessary complication, and in general lots of failure. This history has been reflected in OpenStack's own history of attempting to document APIs, starting with our early use of WADL through to our experiments with Swagger 2.0 and RAML, leading to today's use of our custom ``os_api_ref`` project, built on reStructuredText and Sphinx. It is only in recent years that things have started to stabilise somewhat, with the development of widely used API description languages like OpenAPI, RAML and API Blueprint, as well as supporting SaaS tools such as Postman and Apigee. OpenAPI in particular has seen broad adoption across multiple sectors, with sites as varied as `CloudFlare`__ and `GitHub`__ providing OpenAPI schemas for their APIs. OpenAPI has evolved significantly in recent years and now supports a wide variety of API patterns including things like webhooks. Even more beneficial for OpenStack, OpenAPI 3.1 is a full superset of JSON Schema meaning we have the ability to re-use much of the validation we already have. .. __: https://blog.cloudflare.com/open-api-transition .. __: https://github.com/github/rest-api-description Use Cases --------- As an end user, I would like to have access to machine-readable, fully validated documentation for the APIs I will be interacting with. As an end user, I want statically viewable documentation hosted as part of the existing docs site without requiring a running instance of Nova. As an SDK/client developer, I would like to be able to auto-generate bindings and clients, promoting consistency and minimising the amount of manual work needed to develop and maintain these. As a Nova developer, I would like to have a verified API specification that I can use should I need to replace the libraries we use in the event they are no longer maintained. Proposed Change =============== This effort can be broken into a number of distinct steps: - Add missing request body and query string schemas These schemas will merely validate what is already allowed, which means extensive use of ``""additionalProperties"": true`` or empty schemas. Once these are added, tests will be added to ensure all API resource have appropriate schemas. - Add response body schemas These will be imported from OpenAPI codegenerator which already implemented most of them. Once these are added, tests will be added to ensure all API resource have appropriate response body schemas. In addition, we will add a new configuration option that will control how we do verification at the API layer, ``[api] response_validation``. This will be an enum value with three options: ``error`` Raise a HTTP 500 (Server Error) in the event that an API returns an ""invalid"" response. This will be the default in CI i.e. for our unit, functional and integration tests. Eventually this could be the default for production also. ``warn`` Log a warning about an ""invalid"" response, prompting operations to file a bug report against Nova. This will be initial default in production while we iron out the kinks in the schema. ``ignore`` Disable API response body validation entirely. This is an escape hatch in case we mess up. .. note:: The development of tooling required to gather these JSON Schema schemas and generate an OpenAPI schema will not be developed inside Keystone and is therefore not covered by this spec. Keystone will merely consume the resulting tooling for use in documentation. - Populate schemas with description OpenAPI allows every operation, body, parameter and header to have a human description shown by OpenAPI rendering tools. Keystone can stop taking care of api-ref as a whole once OpenAPI spec can be rendered from sources and later rendered into the read HTML. Alternatives ------------ - Use a different tool OpenAPI has been chosen because it is the most widely used API description language available and matches well with our existing use of JSON Schema for API validation. - Maintain these specs out-of-tree This prevents us testing these on each commit to Keystone and means work that could be spread across multiple teams is instead focused on one small team. Security Impact --------------- None Notifications Impact -------------------- None Other End User Impact --------------------- This should be very beneficial for users who are interested in developing client and bindings for OpenStack. In particular, this should (after an initial effort in code generation) reduce the workload of the SDK team as well as teams outside of OpenStack that work on client tooling such as the Gophercloud team. Performance Impact ------------------ There will be a minimal impact on API performance as we will now verify both requests and responses for all API resources. Given our existing extensive use of JSON Schema for API validation, it is expected that this should not be a significant issue. Other Deployer Impact --------------------- None Developer Impact ---------------- Developers working on the API microversions will now be encouraged to provide JSON Schema schemas for both requests and responses. Implementation ============== Assignee(s) ----------- Primary assignee: gtema Work Items ---------- - Add missing request body schemas - Add tests to validate existence of request body schemas - Add missing query string schemas - Add tests to validate existence of query string schemas - Add response body schemas - Add decorator to validate response body schemas against response - Add tests to validate existence of response body schemas - Add description to the API methods and bodies that are used in the OpenAPI spec Dependencies ============ The actual generation of an OpenAPI documentation will be achieved via a separate tool. It is not yet determined if this tool will live inside an existing project, such as ``os_api_ref`` or ``openstacksdk``, or inside a wholly new project. In any case, it is envisaged that this tool will handle OpenStack-specific nuances like microversions that don't map 1:1 to OpenAPI concepts in a consistent and documented fashion. Documentation Impact ==================== Initially there should be no impact as we will continue to use ``os_api_ref`` as-is for our ``api-ref`` docs. Eventually we will replace or extend this extension to generate documentation from our OpenAPI schema. References ========== - https://github.com/gtema/openstack-codegenerator - https://github.com/gtema/openstack-openapi - https://review.opendev.org/c/openstack/nova-specs/+/909448 - https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/message/UTA7RJCNFVT52EUUGNELDLDNVOHAFCGZ/ - https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/message/PIKW7HFF7FNRGPPOV7REO6R6LCVJQ5H6/ ",,212,0
openstack%2Fgovernance~902585,openstack/governance,master,I4d2c8a40c92249a32baa8e85a4251982543e2a60,[WIP] Remove Eventlet From Openstack,NEW,2023-12-04 18:11:21.000000000,2024-06-14 13:41:38.000000000,,"[{'_account_id': 4393}, {'_account_id': 9257}, {'_account_id': 10342}, {'_account_id': 11604}, {'_account_id': 11975}, {'_account_id': 15993}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-12-04 18:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/cbfbe2e8706e7aca9334ce432ee2287c8127a177', 'message': '[WIP] Modernize Openstack Networking Programming Model\n\nThis is a new community goal proposal that aim to propose\nsolutions to address the current eventlet issues discussed\nin the mailing list [1].\n\nThis proposal aim to propose short, medium, and long terms\nsolutions.\n\n[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/YO5CZDVAJ6QSF734ALWSGNOQDDAIOXKI/#RZFUTBFTUCSHKVA6SOCWWIXEH3QJHMYT\n\nChange-Id: I4d2c8a40c92249a32baa8e85a4251982543e2a60\n'}, {'number': 2, 'created': '2023-12-04 18:23:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/d95a2302a33d87f2ebf1fae45f5df95d13161df2', 'message': '[WIP] Modernize Openstack Networking Programming Model\n\nThis is a new community goal proposal that aim to propose\nsolutions to address the current eventlet issues discussed\nin the mailing list [1].\n\nThis proposal aim to propose short, medium, and long terms\nsolutions.\n\n[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/YO5CZDVAJ6QSF734ALWSGNOQDDAIOXKI/#RZFUTBFTUCSHKVA6SOCWWIXEH3QJHMYT\n\nChange-Id: I4d2c8a40c92249a32baa8e85a4251982543e2a60\n'}, {'number': 3, 'created': '2023-12-05 16:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/c3766db07b349ea7dd2787bf068acb8f4050fd26', 'message': '[WIP] Modernize Openstack Networking Programming Model\n\nThis is a new community goal proposal that aim to propose\nsolutions to address the current eventlet issues discussed\nin the mailing list [1].\n\nThis proposal aim to propose short, medium, and long terms\nsolutions.\n\n[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/YO5CZDVAJ6QSF734ALWSGNOQDDAIOXKI/#RZFUTBFTUCSHKVA6SOCWWIXEH3QJHMYT\n\nChange-Id: I4d2c8a40c92249a32baa8e85a4251982543e2a60\n'}, {'number': 4, 'created': '2023-12-05 18:03:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/ff3620f6a97325417df544a599d0040011274296', 'message': '[WIP] Modernize Openstack Networking Programming Model\n\nThis is a new community goal proposal that aim to propose\nsolutions to address the current eventlet issues discussed\nin the mailing list [1].\n\nThis proposal aim to propose short, medium, and long terms\nsolutions.\n\nThis proposal define how to migrate an individual deliverable.\n\n[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/YO5CZDVAJ6QSF734ALWSGNOQDDAIOXKI/#RZFUTBFTUCSHKVA6SOCWWIXEH3QJHMYT\n\nChange-Id: I4d2c8a40c92249a32baa8e85a4251982543e2a60\n'}, {'number': 5, 'created': '2023-12-06 11:00:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/e456eaea275d608f7869028f9696cc326b178715', 'message': '[WIP] Modernize Openstack Networking Programming Model\n\nThis is a new community goal proposal that aim to propose\nsolutions to address the current eventlet issues discussed\nin the mailing list [1].\n\nThis proposal aim to propose short, medium, and long terms\nsolutions.\n\nThis proposal define how to migrate an individual deliverable.\n\n[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/YO5CZDVAJ6QSF734ALWSGNOQDDAIOXKI/#RZFUTBFTUCSHKVA6SOCWWIXEH3QJHMYT\n\nChange-Id: I4d2c8a40c92249a32baa8e85a4251982543e2a60\n'}, {'number': 6, 'created': '2023-12-06 11:28:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/5464015a98a29bf791afe7ed3b419da6d8bda78d', 'message': '[WIP] Modernize Openstack Networking Programming Model\n\nThis is a new community goal proposal that aim to propose\nsolutions to address the current eventlet issues discussed\nin the mailing list [1].\n\nThis proposal aim to propose short, medium, and long terms\nsolutions.\n\nThis proposal define how to migrate an individual deliverable.\n\n[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/YO5CZDVAJ6QSF734ALWSGNOQDDAIOXKI/#RZFUTBFTUCSHKVA6SOCWWIXEH3QJHMYT\n\nChange-Id: I4d2c8a40c92249a32baa8e85a4251982543e2a60\n'}, {'number': 7, 'created': '2023-12-06 14:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/c1c288c72208d9a33b90090f78bec22bc942acb1', 'message': '[WIP] Modernize Openstack Networking Programming Model\n\nThis is a new community goal proposal that aim to propose\nsolutions to address the current eventlet issues discussed\nin the mailing list [1].\n\nThis proposal aim to propose short, medium, and long terms\nsolutions.\n\nThis proposal define how to migrate an individual deliverable.\n\n[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/YO5CZDVAJ6QSF734ALWSGNOQDDAIOXKI/#RZFUTBFTUCSHKVA6SOCWWIXEH3QJHMYT\n\nChange-Id: I4d2c8a40c92249a32baa8e85a4251982543e2a60\n'}, {'number': 8, 'created': '2023-12-06 14:33:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/243f4efc3132f27b0bd3ac1a94f69a382ce15541', 'message': '[WIP] Modernize Openstack Networking Programming Model\n\nThis is a new community goal proposal that aim to propose\nsolutions to address the current eventlet issues discussed\nin the mailing list [1].\n\nThis proposal aim to propose short, medium, and long terms\nsolutions.\n\nThis proposal define how to migrate an individual deliverable.\n\n[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/YO5CZDVAJ6QSF734ALWSGNOQDDAIOXKI/#RZFUTBFTUCSHKVA6SOCWWIXEH3QJHMYT\n\nChange-Id: I4d2c8a40c92249a32baa8e85a4251982543e2a60\n'}, {'number': 9, 'created': '2023-12-06 15:37:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/baa7ef7ed714482cef194630724b322d7133a900', 'message': '[WIP] Modernize Openstack Networking Programming Model\n\nThis is a new community goal proposal that aim to propose\nsolutions to address the current eventlet issues discussed\nin the mailing list [1].\n\nThis proposal aim to propose short, medium, and long terms\nsolutions.\n\nThis proposal define how to migrate an individual deliverable.\n\n[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/YO5CZDVAJ6QSF734ALWSGNOQDDAIOXKI/#RZFUTBFTUCSHKVA6SOCWWIXEH3QJHMYT\n\nChange-Id: I4d2c8a40c92249a32baa8e85a4251982543e2a60\n'}, {'number': 10, 'created': '2023-12-06 16:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/bda0a40d22dd6ba49ef3dbf69bb8886329647ac4', 'message': 'Modernize Openstack Networking Programming Model\n\nThis is a new community goal proposal that aim to propose\nsolutions to address the current eventlet issues discussed\nin the mailing list [1].\n\nThis proposal aim to propose short, medium, and long terms\nsolutions.\n\nThis proposal define how to migrate an individual deliverable.\n\n[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/YO5CZDVAJ6QSF734ALWSGNOQDDAIOXKI/#RZFUTBFTUCSHKVA6SOCWWIXEH3QJHMYT\n\nChange-Id: I4d2c8a40c92249a32baa8e85a4251982543e2a60\n'}, {'number': 11, 'created': '2023-12-11 09:37:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/8ee165ddf0b41a393b1c98aaeda5ff034117f078', 'message': 'Modernize Openstack Networking Programming Model\n\nThis is a new community goal proposal that aim to propose\nsolutions to address the current eventlet issues discussed\nin the mailing list [1].\n\nThis proposal aim to propose short, medium, and long terms\nsolutions.\n\nThis proposal define how to migrate an individual deliverable.\n\n[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/YO5CZDVAJ6QSF734ALWSGNOQDDAIOXKI/#RZFUTBFTUCSHKVA6SOCWWIXEH3QJHMYT\n\nChange-Id: I4d2c8a40c92249a32baa8e85a4251982543e2a60\n'}, {'number': 12, 'created': '2023-12-11 10:31:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/0af3c86a022ec0b89fd48c69be45eac11566ac49', 'message': 'Modernize Openstack Networking Programming Model\n\nThis is a new community goal proposal that aim to propose\nsolutions to address the current eventlet issues discussed\nin the mailing list [1].\n\nThis proposal aim to propose short, medium, and long terms\nsolutions.\n\nThis proposal define how to migrate an individual deliverable.\n\n[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/YO5CZDVAJ6QSF734ALWSGNOQDDAIOXKI/#RZFUTBFTUCSHKVA6SOCWWIXEH3QJHMYT\n\nChange-Id: I4d2c8a40c92249a32baa8e85a4251982543e2a60\n'}, {'number': 13, 'created': '2023-12-14 09:33:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/4f66295486e870d533f6ab43fa2a2dbcd36107dd', 'message': 'Modernize Openstack Networking Programming Model\n\nThis is a new community goal proposal that aim to propose\nsolutions to address the current eventlet issues discussed\nin the mailing list [1].\n\nThis proposal aim to propose short, medium, and long terms\nsolutions.\n\nThis proposal define how to migrate an individual deliverable.\n\n[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/YO5CZDVAJ6QSF734ALWSGNOQDDAIOXKI/#RZFUTBFTUCSHKVA6SOCWWIXEH3QJHMYT\n\nChange-Id: I4d2c8a40c92249a32baa8e85a4251982543e2a60\n'}, {'number': 14, 'created': '2023-12-22 15:44:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/a0d828ea7ad58f7e0102bb91da927bc0ccbe2a32', 'message': 'Modernize Openstack Networking Programming Model\n\nThis is a new community goal proposal that aim to propose\nsolutions to address the current eventlet issues discussed\nin the mailing list [1].\n\nThis proposal aim to propose short, medium, and long terms\nsolutions.\n\nThis proposal define how to migrate an individual deliverable.\n\n[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/YO5CZDVAJ6QSF734ALWSGNOQDDAIOXKI/#RZFUTBFTUCSHKVA6SOCWWIXEH3QJHMYT\n\nChange-Id: I4d2c8a40c92249a32baa8e85a4251982543e2a60\n'}, {'number': 15, 'created': '2024-02-09 14:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/aebc44f4c0a0dfb07632262f675c585ae32360fe', 'message': 'Migrate eventlet usages to asyncio\n\nThis is a new community goal proposal that aim to propose\nsolutions to address the current eventlet issues discussed\nin the mailing list [1].\n\nThis proposal aim to propose short, medium, and long terms\nsolutions.\n\n[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/YO5CZDVAJ6QSF734ALWSGNOQDDAIOXKI/#RZFUTBFTUCSHKVA6SOCWWIXEH3QJHMYT\n\nChange-Id: I4d2c8a40c92249a32baa8e85a4251982543e2a60\n'}, {'number': 16, 'created': '2024-02-09 14:56:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/bbaae17cf99a1eca1f59dc22aa9c2ddfaf3e8a3f', 'message': 'Migrate eventlet usages to asyncio\n\nThis is a new community goal proposal that aim to propose\nsolutions to address the current eventlet issues discussed\nin the mailing list [1].\n\nThis proposal aim to propose short, medium, and long terms\nsolutions.\n\n[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/YO5CZDVAJ6QSF734ALWSGNOQDDAIOXKI/#RZFUTBFTUCSHKVA6SOCWWIXEH3QJHMYT\n\nChange-Id: I4d2c8a40c92249a32baa8e85a4251982543e2a60\n'}, {'number': 17, 'created': '2024-03-29 14:18:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/7a5c3b9a6e1c1cf35bf4ee739761a4827857e193', 'message': 'Migrate eventlet usages to asyncio\n\nThis is a new community goal proposal that aim to propose\nsolutions to address the current eventlet issues discussed\nin the mailing list [1].\n\nThis proposal aim to propose short, medium, and long terms\nsolutions.\n\n[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/YO5CZDVAJ6QSF734ALWSGNOQDDAIOXKI/#RZFUTBFTUCSHKVA6SOCWWIXEH3QJHMYT\n\nChange-Id: I4d2c8a40c92249a32baa8e85a4251982543e2a60\n'}, {'number': 18, 'created': '2024-03-29 15:51:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/759eec5be8f5abb0bac0681196e8cffc2aa7336c', 'message': 'Migrate eventlet usages to asyncio\n\nThis is a new community goal proposal that aim to propose\nsolutions to address the current eventlet issues discussed\nin the mailing list [1].\n\nThis proposal aim to propose short, medium, and long terms\nsolutions.\n\n[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/YO5CZDVAJ6QSF734ALWSGNOQDDAIOXKI/#RZFUTBFTUCSHKVA6SOCWWIXEH3QJHMYT\n\nChange-Id: I4d2c8a40c92249a32baa8e85a4251982543e2a60\n'}, {'number': 19, 'created': '2024-03-29 17:19:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/9999cef65230d871c3d808908ae54e8432503824', 'message': 'Migrate eventlet usages to asyncio\n\nThis is a new community goal proposal that aim to propose\nsolutions to address the current eventlet issues discussed\nin the mailing list [1].\n\nThis proposal aim to propose short, medium, and long terms\nsolutions.\n\n[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/YO5CZDVAJ6QSF734ALWSGNOQDDAIOXKI/#RZFUTBFTUCSHKVA6SOCWWIXEH3QJHMYT\n\nChange-Id: I4d2c8a40c92249a32baa8e85a4251982543e2a60\n'}, {'number': 20, 'created': '2024-06-07 13:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/1026c234b28e2472634f468faffdfe6f65d4e41e', 'message': 'Remove Eventlet From Openstack\n\nThis is a new community goal proposal that aim to propose\nsolutions to address the current eventlet issues discussed\nin the mailing list [1].\n\nThe goal of this proposal is to find a solution to remove our\ndependence on Eventlet, and so to remove Eventlet from Openstack.\n\nThis proposal aim to propose short, medium, and long terms\nsolutions.\n\n[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/YO5CZDVAJ6QSF734ALWSGNOQDDAIOXKI/#RZFUTBFTUCSHKVA6SOCWWIXEH3QJHMYT\n\nChange-Id: I4d2c8a40c92249a32baa8e85a4251982543e2a60\n'}, {'number': 21, 'created': '2024-06-07 14:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/ce9f6544e9a0337f670d1cc410e728dbf79da02b', 'message': 'Remove Eventlet From Openstack\n\nThis is a new community goal proposal that aim to propose\nsolutions to address the current eventlet issues discussed\nin the mailing list [1].\n\nThe goal of this proposal is to find a solution to remove our\ndependence on Eventlet, and so to remove Eventlet from Openstack.\n\nThis proposal aim to propose short, medium, and long terms\nsolutions.\n\n[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/YO5CZDVAJ6QSF734ALWSGNOQDDAIOXKI/#RZFUTBFTUCSHKVA6SOCWWIXEH3QJHMYT\n\nChange-Id: I4d2c8a40c92249a32baa8e85a4251982543e2a60\n'}, {'number': 22, 'created': '2024-06-14 13:31:12.000000000', 'files': ['goals/proposed/remove-eventlet.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/bd573d68a652cc69b61c80bb36f9f8998aa0b67a', 'message': '[WIP] Remove Eventlet From Openstack\n\nThis is a new community goal proposal that aim to propose\nsolutions to address the current eventlet issues discussed\nin the mailing list [1].\n\nThe goal of this proposal is to find a solution to remove our\ndependence on Eventlet, and so to remove Eventlet from Openstack.\n\nThis proposal aim to propose short, medium, and long terms\nsolutions.\n\n[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/YO5CZDVAJ6QSF734ALWSGNOQDDAIOXKI/#RZFUTBFTUCSHKVA6SOCWWIXEH3QJHMYT\n\nChange-Id: I4d2c8a40c92249a32baa8e85a4251982543e2a60\n'}]",247,902585,bd573d68a652cc69b61c80bb36f9f8998aa0b67a,143,8,22,28522,,,0,"[WIP] Remove Eventlet From Openstack

This is a new community goal proposal that aim to propose
solutions to address the current eventlet issues discussed
in the mailing list [1].

The goal of this proposal is to find a solution to remove our
dependence on Eventlet, and so to remove Eventlet from Openstack.

This proposal aim to propose short, medium, and long terms
solutions.

[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/YO5CZDVAJ6QSF734ALWSGNOQDDAIOXKI/#RZFUTBFTUCSHKVA6SOCWWIXEH3QJHMYT

Change-Id: I4d2c8a40c92249a32baa8e85a4251982543e2a60
",git fetch https://review.opendev.org/openstack/governance refs/changes/85/902585/1 && git format-patch -1 --stdout FETCH_HEAD,['goals/proposed/modernize-openstack-async-model.rst'],1,cbfbe2e8706e7aca9334ce432ee2287c8127a177,goal-proposal,"================================================ Modernize Openstack Networking Programming Model ================================================ Problems ======== Openstack is build on the top of async mechanisms. All the Openstack components heavily relies on the eventlet library to obtain asynchronicity features, however, the Openstack community currently suffer from many aspects of the usage of that library. Indeed this library currently do not support Python 3.12 and face many issues with Python 3.11 (those are described below). This new python version will be part of the supported runtimes in the coming Openstack series. At least Python 3.12 should be a supported runtimes of the ""D"" series. 2024.1/Caracal currently `support Python 3.11 <https://governance.openstack.org/tc/reference/runtimes/2024.1.html>_`. Many distros already started to transition to Python 3.12. That's the case for Debian, Fedora `includes all Python versions <https://developer.fedoraproject.org/tech/languages/python/multiple-pythons.html>`_ which are `supported upstream <https://devguide.python.org/versions/#versions>`_, and Ubuntu 24.04 `also introduced support to this version <https://launchpad.net/ubuntu/noble/+package/python3-all>`_. It is urgent to solve this compatibilty problem and it could be the right moment to rethink and to modernize the Async Model on which rests all Openstack. Without rapid actions the community will soon face more pressure. Here is a purgated list of the main pain points in eventlet that led to this situation: #. The lack of maintenance: the lib is not actively maintained. No reviews were made during several months. Only one person could be still considered as an active core member. The consequences of this inactivity are legion. Tests don't pass, locally or in CI. CI doesn't run at all for Python 3.11. PR backlog is growing indefinitelly. Issue backlog is growing indefinitelly. legit bug are not fixed. Python 3.12 is not supported in runtime. #. The technological dead-end: The premise of eventlet is drop-in compatibility via monkeypatching. Unfortunately that quite possibly hasn't been true for a long time, and it's becoming increasingly more difficult over time and over new Python version. Example #1: Compliance suite Per `the docs <https://github.com/eventlet/eventlet/blob/master/doc/testing.rst#standard-li>`_, ""Eventlet provides the ability to test itself with the standard Python networking tests. This verifies that the libraries it wraps work at least as well as the standard ones do."" That is, eventlet will run the Python standard library's test suite against eventlet to make sure it's compatible. Unfortunately, this testing mechanism was never updated for Python 3. As such, it's basically designed for Python 2.7, and there has been 13 major releases of Python since then. Is eventlet still compatible with the standard library? It's hard to say, but quite likely not. Example #2: RLock When eventlet was originally written, `threading.RLock` was written in Python. This has a bug, e.g. it didn't actually work in the face of signals: https://bugs.python.org/issue13697 (there's a bunch of comments in the ticket from people encountering this in the real world, logging being a common situation.) The problem doesn't occur in the version of RLock which is written in C, which is the current default and was introduced in Python 3.2. However, the C version of RLock doesn't work with eventlet, so eventlet has been monkeypatching `threading.RLock`, replacing it with the (buggy and unfixable) version written in Python (`threading._PyRLock_`). In 3.11 this gets worse, as the RLock version written in Python has become subtly incompatible with eventlet's expectations. To get the eventlet test suite passing on 3.11 maintainers had to copy/paste the Python RLock code and `tweak it <https://github.com/eventlet/eventlet/pull/823/files#diff-029df1ae9b7431e9cdd>`_. So now eventlet has to use a forked version of a broken implementation of RLock. It's possible there's another solution, but eventlet basically relies on monkeypatching a whole bunch of functions and on implementation details of Python standard library using those functions in particular ways, which are not always stable over time. This problem will continue to get worse as Python evolves. E.g. it would not surprise if the GIL removal makes things even more difficult for eventlet. Root Causes =========== One could think that the root cause of the Openstack issue described above lives in the recent lack of maintenance of the eventlet library, yet this is not the case. Even if eventlet simplified the life of the community developers for years, one can't ignore the fact that by its inherent philosophy and nature it has only widened the gap between the Openstack code base and the Python stdlib implementation. Now, due to eventlet, 13 major release of Python implicitly separe Openstack and Python. The root cause of the problems described here is due to the fact, in 2023, to still using eventlet, a library designed to solve Python design issue from another time. A time when python was not provided with an internal asynchronous backend. All the problems described above inherit from choices made in eventlet, several years ago, to improve older versions of Python, 2.7 at least. All the current issues are related to eventlet design implementations made for Python EOL versions. Even if Python 2.7 is now EOL and even if its support have been dropped from Openstack years ago, nowaday we are still impacted by previous design choices made for it. Is all this eventlet problem are solvable? Is the gap recoverable? Yes, but at at a significant cost. Investing money, time, and engineering skills in a solution that will continue to diverge from the main runtime pillar of Openstack, Python, isn't something conceivable. Investing energy in a solution that is made to improve dead version of Python is not something rational. The current situation, trigger a signal to the community. The community should catch event to decide actions that aim designing something new that would lead Openstack to new perennial networking model. A networking programming model that is based on the recent and next releases of Python and where a transition would be made to abandon the use of eventlet in a scheduled way. Perennity should be the main prioriy of the Openstack community. Perennity should be based on the future of Python and not on its past. For that reason this community goal proposal will try to propose actions in, short, medium, and long terms, to move Openstack in the right direction in the aim of solving the current issues and also to prevent from similar situation again in the future of Openstack. Solutions ========= As Openstack heavily rely on eventlet, and as eventlet manage async and coroutines by using monkeypatching, that's not possible to move away from eventlet without rewriting all Openstack compounents. The solution described here propose to smoothly migrate from a broken eventlet network programming model, to a running asyncio network programming model. The solution propose 3 global milestones, short, medium, and long term. Those are discribed in the following sections. Short terms solutions ~~~~~~~~~~~~~~~~~~~~~ As Python 3.12 will be a supported runtime in the next coming Openstack series, the support issue should be quickly fixed. So, In short terms eventlet itself should be fixed first. This milestone should be done before the beginning the next series (""D""). Firstly to fix `the broken CI problems <https://github.com/eventlet/eventlet/actions>`_ and hence ensure that submitted patches (bugfixes, features, etc) could be also merged without being block by a failing CI. Development workflow should be securized first. Secondly, once gates would be fixed, it would be possible to fix the SSL issue and so to support Python 3.12. That would be possible by fixing `this existing issue <https://github.com/eventlet/eventlet/issues/795>`_. The good news is that patches fixing problems have been already proposed: - The broken CI (https://github.com/eventlet/eventlet/pull/823). - The broken support of Python 3.12 (https://github.com/eventlet/eventlet/pull/817) The main problemfor the Openstack community, with these patches, is now to see them merged in time to match the Openstack calendar. Three paths exists to hope to see these merger happens: #. The first one would be open a discussion with current eventlet maintainers, to explain the importance of eventlet in the Openstack context. The goal of this discussion would be to kindly request writing rights on the existing eventlet repository to allow the Openstack community to merge and review existing patches. The Openstack community would have to daily contribute on eventlet to keep this project alive, and, if the Openstack community decide to drop the usages of eventlet from Openstack, then the community would also have to plan and propose a schedule to properly abandon and archive this library, to do not repeat the lack of maintenance again. The Openstack community must not have a hidden agenda and be transparent about its intentions. Maybe new external contributors would be volunteer to continue the eventlet journey. In this case, the Openstack community would win the writing rights in the current existing repository and the eventlet library would remains a mainstream third party library of the Python community. That would be a win-win; #. if the current maintainers do not agree with the previous proposal then the Openstack community could try to propose to migrate the official repository into the Openstack organisation. By example by migrating this deliverable into the Oslo team umbrella. We would became fully owner of this library and this lib would became an Openstack library instead of a third party library. It would be surely a deliverable with an `independent release model <https://releases.openstack.org/reference/release_models.html#independent>`_; #. if the previous proposal do not works as expected, the Openstack community could start engaging a forking process of this library. A fork of eventlet hosted into the Oslo world. A fork more focused on the sole needs of Openstack community but who could still accept external contributions. Then we would have to also to fork the existing patches, by example those we need to fix CI and Python 3.12, and would have to socialize that point with their authors. We should notice that the most preferable solution would be to keep the eventlet library under its current organisation and repository. That won't split the existing community. That won't disturb all its eventlet users. That split all efforts made previously. That won't overwhelm Openstack maintainer with more deliverables to maintain. Here is the plan to success this milestone: #. Start the discussion with current maintainers; #. gain write access to the current repo and if not: #. propse to migrate the lib into the Openstack organisation; #. or decide of fork the lib. #. Merge existing patches; #. Release changes by creating a new version; #. Upgrade the Openstack requirements to match this new version; #. Validate that the main issues are now fixed; #. (optional) Decide to postpone the support of Python 3.12 within the next series (""D"") if the validation failed and if we are to close from the deadline. #. (optional) If we previously postponed the support of Python 3.12 due to validation issue, see what happens and try to fix it during ""D"". Medium terms solutions ~~~~~~~~~~~~~~~~~~~~~~ At this point eventlet could consider as healthy and Openstack secured. As our goal is to move to asyncio, and as eventlet is everywher in Openstack, we should consider that that's not possible to make live together these models. This milestone would surely require at least two series. One series to design and implement the transitive engine that will allow us to #. design specs of the oslo.aiohub or similar that has an asyncio backed eventloop that we can enable instead fo the default eventlet one. #. implementing oslo.aiohub #. migrate oslo.service, oslo.messaging, oslo.concurrency by relying on oslo.aiohub. #. prepare a migration guide based on the observations made during the migration of the 3 previous deliverables. The goal of this guide would be to help during the migration of the services and of the libraries that remains untransitioned. This guide should accelerate the way teams are able to migrate their deliverables. #. Maybe some kind of new tooling, like a new linter, who works more or less like a kind of `black <https://github.com/psf/black>`_ can help to identify and reformate code that should be rewritten. #. cross testing the 3 previously migrated libraries Long terms solutions ~~~~~~~~~~~~~~~~~~~~ #. Migrate all the Openstack remaining deliverables not yet migrated. #. Once all the deliverables are migrated, it would be time to retire the previously created oslo.aiohub project because every Openstack pieces should be based on asyncio. #. Once all the Openstack migration would be done we would have to Plan the retirement of eventlet in the case the Openstack community own its repository, or we at least we would have to socialize the fact that we don't anymore interest in continuing maintaining this library, so if the Openstack maintainers involved in want to retire, then they would to socialize their departure. Champion ======== #. Hervé Beraud <hberaud@redhat.com> (hberaud) #. Do not hesitate to also put your name here Gerrit Topic ============ To facilitate tracking, commits related to this goal should use the gerrit topic:: modernize-async-model Completion Criteria =================== #. Get an healthy new version of eventlet; #. Be able to support Python 3.12 and higher version as an Openstack runtimes; #. Get oslo.aiohub on the rails #. Get the oslo world fully migrated #. Get all other openstack deliverables migrated #. Get oslo.aiohub retired #. Get eventlet retired References ========== Previous similar attempts and discussions ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ - `Replace eventlet by asyncio, by Victor Stinner <https://review.openstack.org/#/c/153298/>`_ - `Replace eventlet + monkey-patching with threads <https://review.openstack.org/#/c/156711/>`_ - https://wiki.openstack.org/wiki/Oslo/blueprints/asyncio A brief eventlet history in Openstack ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ - https://wiki.openstack.org/wiki/Obsolete:UnifiedServiceArchitecture - https://lists.openstack.org/pipermail/openstack/2012-March/027583.html - https://code.launchpad.net/~termie/nova/eventlet_merge/+merge/43383 Current State / Anticipated Impact ================================== * Progress is maintained on the below wiki page: https://wiki.openstack.org/wiki/Modernize_Openstack_Async_Model ",,331,0
openstack%2Fbarbican~920853,openstack/barbican,master,I3f719c9b31a3ae61a3bc06b1646f915ddc4b341e,Bump SQLAlchemy requirement,MERGED,2024-05-30 19:17:19.000000000,2024-06-14 13:34:46.000000000,2024-06-14 13:33:46.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 9816}, {'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-30 19:17:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/40e7b415bcb8b14385b5828fee3ae13cc102c9bb', 'message': '[DNM] Test requirements-check\n\nChange-Id: I3f719c9b31a3ae61a3bc06b1646f915ddc4b341e\n'}, {'number': 2, 'created': '2024-05-30 19:29:27.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/barbican/commit/a02af0f2b0852c74f97d18738d1ffb7b46c7005e', 'message': ""Bump SQLAlchemy requirement\n\nThis is primarily to fix the requirements-check job, which is failing\nfollowing the removal of excluded versions [1]:\n\n    ERROR: Requirement for package SQLAlchemy excludes a version not excluded in the global list.\n      Local settings : {'!=1.1.6', '!=1.1.7', '!=1.1.5', '!=1.1.8'}\n      Global settings: set()\n      Unexpected     : {'!=1.1.6', '!=1.1.7', '!=1.1.5', '!=1.1.8'}\n\n[1] https://review.opendev.org/c/openstack/requirements/+/879743\n\nChange-Id: I3f719c9b31a3ae61a3bc06b1646f915ddc4b341e\n""}]",2,920853,a02af0f2b0852c74f97d18738d1ffb7b46c7005e,11,5,2,15197,,,0,"Bump SQLAlchemy requirement

This is primarily to fix the requirements-check job, which is failing
following the removal of excluded versions [1]:

    ERROR: Requirement for package SQLAlchemy excludes a version not excluded in the global list.
      Local settings : {'!=1.1.6', '!=1.1.7', '!=1.1.5', '!=1.1.8'}
      Global settings: set()
      Unexpected     : {'!=1.1.6', '!=1.1.7', '!=1.1.5', '!=1.1.8'}

[1] https://review.opendev.org/c/openstack/requirements/+/879743

Change-Id: I3f719c9b31a3ae61a3bc06b1646f915ddc4b341e
",git fetch https://review.opendev.org/openstack/barbican refs/changes/53/920853/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,40e7b415bcb8b14385b5828fee3ae13cc102c9bb,,"SQLAlchemy!=1.1.5,!=1.1.6,!=1.1.7,!=1.1.8,>=1.0.10 # MIT","SQLAlchemy!=1.1.5,!=1.1.6,!=1.1.7,!=1.1.8,>=1.0.10 # MIT",1,1
openstack%2Freleases~918356,openstack/releases,master,Id0217821d751f0e69f3f9fb804b09bdb8c88b85b,[ironic-tempest-plugin] Tag zed-last,NEW,2024-05-06 20:32:01.000000000,2024-06-14 13:23:55.000000000,,"[{'_account_id': 308}, {'_account_id': 15519}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2024-05-06 20:32:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/d55f812b011e3cb51a6379fef6551774d693f9b1', 'message': ""[ironic-tempest-plugin] Tag zed-last\n\nZed branch is moving to unmaintained state now[1]. Tempest and tempest\nplugins are branchless which means master version of Tempest and\nits plugins is used to test the supported stable branches.\n\nOnce any stable branch is moved to unmaintained state then, Tempest and\nits plugins compatible tag[2][3] needs to be released which can be used\nto test the unmaintained stable branches.\n\nTagging 'zed-last' as well as a new version with latest hash.\n\n[1] https://review.opendev.org/q/topic:%22zed-unmaintained%22\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\nChange-Id: Id0217821d751f0e69f3f9fb804b09bdb8c88b85b\n""}, {'number': 2, 'created': '2024-05-06 20:44:24.000000000', 'files': ['deliverables/dalmatian/ironic-tempest-plugin.yaml', 'deliverables/zed/ironic-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/407e1f58ea3a1652658983f49754489b9976dbf5', 'message': ""[ironic-tempest-plugin] Tag zed-last\n\nZed branch is moving to unmaintained state now[1]. Tempest and tempest\nplugins are branchless which means master version of Tempest and\nits plugins is used to test the supported stable branches.\n\nOnce any stable branch is moved to unmaintained state then, Tempest and\nits plugins compatible tag[2][3] needs to be released which can be used\nto test the unmaintained stable branches.\n\nTagging 'zed-last' as well as a new version with latest hash.\n\n[1] https://review.opendev.org/q/topic:%22zed-unmaintained%22\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\nChange-Id: Id0217821d751f0e69f3f9fb804b09bdb8c88b85b\n""}]",4,918356,407e1f58ea3a1652658983f49754489b9976dbf5,5,5,2,8556,,,0,"[ironic-tempest-plugin] Tag zed-last

Zed branch is moving to unmaintained state now[1]. Tempest and tempest
plugins are branchless which means master version of Tempest and
its plugins is used to test the supported stable branches.

Once any stable branch is moved to unmaintained state then, Tempest and
its plugins compatible tag[2][3] needs to be released which can be used
to test the unmaintained stable branches.

Tagging 'zed-last' as well as a new version with latest hash.

[1] https://review.opendev.org/q/topic:%22zed-unmaintained%22
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html

Change-Id: Id0217821d751f0e69f3f9fb804b09bdb8c88b85b
",git fetch https://review.opendev.org/openstack/releases refs/changes/56/918356/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/dalmatian/ironic-tempest-plugin.yaml', 'deliverables/zed/ironic-tempest-plugin.yaml']",2,d55f812b011e3cb51a6379fef6551774d693f9b1,zed-last, - version: zed-last projects: - repo: openstack/ironic-tempest-plugin hash: 926db2e70a09839ad4237a54a4e514c1acbf49b9,,9,0
openstack%2Freleases~918358,openstack/releases,master,I7fc8192d7e9658b7c5c37a490570db47e0dfdf67,[glance-tempest-plugin] Tag zed-last,NEW,2024-05-06 20:36:21.000000000,2024-06-14 13:23:45.000000000,,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 19138}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-06 20:36:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/de70a3b529db9f5f4114171bbfec1fe85634d19e', 'message': ""[glance-tempest-plugin] Tag zed-last\n\nZed branch is moving to unmaintained state now[1]. Tempest and tempest\nplugins are branchless which means master version of Tempest and\nits plugins is used to test the supported stable branches.\n\nOnce any stable branch is moved to unmaintained state then, Tempest and\nits plugins compatible tag[2][3] needs to be released which can be used\nto test the unmaintained stable branches.\n\nTagging 'zed-last' as well as a new version with latest hash.\n\n[1] https://review.opendev.org/q/topic:%22zed-unmaintained%22\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\nChange-Id: I7fc8192d7e9658b7c5c37a490570db47e0dfdf67\n""}, {'number': 2, 'created': '2024-05-06 20:45:02.000000000', 'files': ['deliverables/zed/glance-tempest-plugin.yaml', 'deliverables/dalmatian/glance-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1cc116400541c545988985dd06637572ccb4f120', 'message': ""[glance-tempest-plugin] Tag zed-last\n\nZed branch is moving to unmaintained state now[1]. Tempest and tempest\nplugins are branchless which means master version of Tempest and\nits plugins is used to test the supported stable branches.\n\nOnce any stable branch is moved to unmaintained state then, Tempest and\nits plugins compatible tag[2][3] needs to be released which can be used\nto test the unmaintained stable branches.\n\nTagging 'zed-last' as well as a new version with latest hash.\n\n[1] https://review.opendev.org/q/topic:%22zed-unmaintained%22\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\nChange-Id: I7fc8192d7e9658b7c5c37a490570db47e0dfdf67\n""}]",5,918358,1cc116400541c545988985dd06637572ccb4f120,6,4,2,8556,,,0,"[glance-tempest-plugin] Tag zed-last

Zed branch is moving to unmaintained state now[1]. Tempest and tempest
plugins are branchless which means master version of Tempest and
its plugins is used to test the supported stable branches.

Once any stable branch is moved to unmaintained state then, Tempest and
its plugins compatible tag[2][3] needs to be released which can be used
to test the unmaintained stable branches.

Tagging 'zed-last' as well as a new version with latest hash.

[1] https://review.opendev.org/q/topic:%22zed-unmaintained%22
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html

Change-Id: I7fc8192d7e9658b7c5c37a490570db47e0dfdf67
",git fetch https://review.opendev.org/openstack/releases refs/changes/58/918358/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/zed/glance-tempest-plugin.yaml', 'deliverables/dalmatian/glance-tempest-plugin.yaml']",2,de70a3b529db9f5f4114171bbfec1fe85634d19e,zed-last,releases: - version: 0.9.0 projects: - repo: openstack/glance-tempest-plugin hash: f59e4318c15b7ee0f830fb373c03b8fd1435ac53,,9,0
openstack%2Freleases~918343,openstack/releases,master,Iac6459ea428d8fba99ebc64ff0a73b76e92221d0,[keytone-tempest-plugin] Tag zed-last,NEW,2024-05-06 19:31:46.000000000,2024-06-14 13:23:35.000000000,,"[{'_account_id': 308}, {'_account_id': 7414}, {'_account_id': 16465}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-06 19:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/b3ad8974a1e32c877d74628e133112906d6a7bee', 'message': ""[keytone-tempest-plugin] Tag zed-last\n\nZed branch is moving to unmaintained state now[1]. Tempest and tempest\nplugins are branchless which means master version of Tempest and\nits plugins is used to test the supported stable branches.\n\nOnce any stable branch is moved to unmaintained state then, Tempest and\nits plugins compatible tag[2][3] needs to be released which can be used\nto test the unmaintained stable branches.\n\nTagging 'zed-last' with latesh hash used in 0.15 version.\n\n[1] https://review.opendev.org/q/topic:%22zed-unmaintained%22\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\nChange-Id: Iac6459ea428d8fba99ebc64ff0a73b76e92221d0\n""}, {'number': 2, 'created': '2024-05-06 19:51:32.000000000', 'files': ['deliverables/zed/keystone-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/517dfed1c73f053e5122cdab2d005b0b80a4ff2d', 'message': ""[keytone-tempest-plugin] Tag zed-last\n\nZed branch is moving to unmaintained state now[1]. Tempest and tempest\nplugins are branchless which means master version of Tempest and\nits plugins is used to test the supported stable branches.\n\nOnce any stable branch is moved to unmaintained state then, Tempest and\nits plugins compatible tag[2][3] needs to be released which can be used\nto test the unmaintained stable branches.\n\nTagging 'zed-last' with latesh hash used in 0.15 version.\n\n[1] https://review.opendev.org/q/topic:%22zed-unmaintained%22\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\nChange-Id: Iac6459ea428d8fba99ebc64ff0a73b76e92221d0\n""}]",3,918343,517dfed1c73f053e5122cdab2d005b0b80a4ff2d,6,5,2,8556,,,0,"[keytone-tempest-plugin] Tag zed-last

Zed branch is moving to unmaintained state now[1]. Tempest and tempest
plugins are branchless which means master version of Tempest and
its plugins is used to test the supported stable branches.

Once any stable branch is moved to unmaintained state then, Tempest and
its plugins compatible tag[2][3] needs to be released which can be used
to test the unmaintained stable branches.

Tagging 'zed-last' with latesh hash used in 0.15 version.

[1] https://review.opendev.org/q/topic:%22zed-unmaintained%22
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html

Change-Id: Iac6459ea428d8fba99ebc64ff0a73b76e92221d0
",git fetch https://review.opendev.org/openstack/releases refs/changes/43/918343/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/zed/keystone-tempest-plugin.yaml'],1,b3ad8974a1e32c877d74628e133112906d6a7bee,zed-last, - version: zed-last projects: - repo: openstack/keystone-tempest-plugin hash: c0ae2d9930bad1f9e041d85b17e32eb5a9466079,,4,0
openstack%2Fcinder~900654,openstack/cinder,master,I9e88b3e1fe2565e38f473cd0cda7249d395f3178,Fujitsu Driver: Improve create snapshot,NEW,2023-11-15 08:22:06.000000000,2024-06-14 13:22:56.000000000,,"[{'_account_id': 597}, {'_account_id': 4523}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2023-11-15 08:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/415c9629d71f9494bf91ebb4c9da41128c326b60', 'message': 'Fujitsu Driver: Improve create snapshot\n\nAfter the snapshot is created, upload the information of the snapshot on\nthe storage to the metadata.\n\nThe metadata has the following information:\n\n* FJ_SDV_Name\n* FJ_SDV_No\n* FJ_Pool_Name\n\nChange-Id: I9e88b3e1fe2565e38f473cd0cda7249d395f3178\n'}, {'number': 2, 'created': '2024-01-03 06:56:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d292ab2d383a3eb32f9a648a3b03b6990e173749', 'message': 'Fujitsu Driver: Improve create snapshot\n\nAfter the snapshot is created, upload the information of the snapshot on\nthe storage to the metadata.\n\nThe metadata has the following information:\n\n* FJ_SDV_Name\n* FJ_SDV_No\n* FJ_Pool_Name\n\nChange-Id: I9e88b3e1fe2565e38f473cd0cda7249d395f3178\n'}, {'number': 3, 'created': '2024-01-16 03:53:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ca9bca299815b2b5f93d7d022e4c45fdd158e486', 'message': 'Fujitsu Driver: Improve create snapshot\n\nAfter the snapshot is created, upload the information of the snapshot on\nthe storage to the metadata.\n\nThe metadata has the following information:\n\n* FJ_SDV_Name\n* FJ_SDV_No\n* FJ_Pool_Name\n\nChange-Id: I9e88b3e1fe2565e38f473cd0cda7249d395f3178\n'}, {'number': 4, 'created': '2024-01-26 06:20:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5c7407fe2f7eb2ffedff320247fdc420ad4b2979', 'message': 'Fujitsu Driver: Improve create snapshot\n\nAfter the snapshot is created, upload the information of the snapshot on\nthe storage to the metadata.\n\nThe metadata has the following information:\n\n* FJ_SDV_Name\n* FJ_SDV_No\n* FJ_Pool_Name\n\nChange-Id: I9e88b3e1fe2565e38f473cd0cda7249d395f3178\n'}, {'number': 5, 'created': '2024-02-07 08:42:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/097133072f5588f056760dbeb02d8ba4b287103c', 'message': 'Fujitsu Driver: Improve create snapshot\n\nAfter the snapshot is created, upload the information of the snapshot on\nthe storage to the metadata.\n\nThe metadata has the following information:\n\n* FJ_SDV_Name\n* FJ_SDV_No\n* FJ_Pool_Name\n\nChange-Id: I9e88b3e1fe2565e38f473cd0cda7249d395f3178\n'}, {'number': 6, 'created': '2024-02-14 11:05:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a4228c01e5bdebac1603ce468a10162c9ffde60b', 'message': 'Fujitsu Driver: Improve create snapshot\n\nAfter the snapshot is created, upload the information of the snapshot on\nthe storage to the metadata.\n\nThe metadata has the following information:\n\n* FJ_SDV_Name\n* FJ_SDV_No\n* FJ_Pool_Name\n\nChange-Id: I9e88b3e1fe2565e38f473cd0cda7249d395f3178\n'}, {'number': 7, 'created': '2024-04-25 06:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/81da20274485bf3b82d64be03b45317c171d338c', 'message': 'Fujitsu Driver: Improve create snapshot\n\nAfter the snapshot is created, upload the information of the snapshot on\nthe storage to the metadata.\n\nThe metadata has the following information:\n\n* FJ_SDV_Name\n* FJ_SDV_No\n* FJ_Pool_Name\n\nChange-Id: I9e88b3e1fe2565e38f473cd0cda7249d395f3178\n'}, {'number': 8, 'created': '2024-06-14 05:48:59.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_fc.py', 'releasenotes/notes/fujitsu-improve-create-snapshot-cd796e66eea43c90.yaml', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_iscsi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/eb9a3d9c1e237107fd1fd39e584a89ce22d4a7d9', 'message': 'Fujitsu Driver: Improve create snapshot\n\nAfter the snapshot is created, upload the information of the snapshot on\nthe storage to the metadata.\n\nThe metadata has the following information:\n\n* FJ_SDV_Name\n* FJ_SDV_No\n* FJ_Pool_Name\n\nChange-Id: I9e88b3e1fe2565e38f473cd0cda7249d395f3178\n'}]",32,900654,eb9a3d9c1e237107fd1fd39e584a89ce22d4a7d9,189,4,8,33609,,,0,"Fujitsu Driver: Improve create snapshot

After the snapshot is created, upload the information of the snapshot on
the storage to the metadata.

The metadata has the following information:

* FJ_SDV_Name
* FJ_SDV_No
* FJ_Pool_Name

Change-Id: I9e88b3e1fe2565e38f473cd0cda7249d395f3178
",git fetch https://review.opendev.org/openstack/cinder refs/changes/54/900654/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_fc.py', 'releasenotes/notes/fujitsu-improve-create-snapshot-cd796e66eea43c90.yaml', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_iscsi.py']",5,415c9629d71f9494bf91ebb4c9da41128c326b60,fujitsu-driver-update," LOG.debug('create_snapshot, ' 'snap id: %(sid)s, volume id: %(vid)s, Enter method.', {'sid': snapshot['id'], 'vid': snapshot['volume_id']}) model_update = self.common.create_snapshot(snapshot) LOG.debug('create_snapshot, info: %s, Exit method.', model_update['metadata']) return model_update"," element_path, metadata = self.common.create_snapshot(snapshot) return {'provider_location': str(element_path)}",167,36
openstack%2Fopenstack-ansible~921976,openstack/openstack-ansible,master,Ic55daf6ba7fdb47525ee1913f70e87296383866d,Switch to ceph-ansible stable-8.0,NEW,2024-06-13 17:22:40.000000000,2024-06-14 13:17:46.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2024-06-13 17:22:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/889bb3bad91afe43e4eb71cc80c25288f04ea766', 'message': 'Switch to ceph-ansible stable-8.0\n\nThis patch includes the openstack specific pool configuration that\npreviously was in ceph-ansible, and also adds a playbook to configure\nceph pools and distribute the keys to all monitor hosts.\n\nChange-Id: Ic55daf6ba7fdb47525ee1913f70e87296383866d\n'}, {'number': 2, 'created': '2024-06-13 19:36:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7a0b42ff852614644855d34b50aa2056af108658', 'message': 'Switch to ceph-ansible stable-8.0\n\nThis patch includes the openstack specific pool configuration that\npreviously was in ceph-ansible, and also adds a playbook to configure\nceph pools and distribute the keys to all monitor hosts.\n\nChange-Id: Ic55daf6ba7fdb47525ee1913f70e87296383866d\n'}, {'number': 3, 'created': '2024-06-13 21:07:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7f2437fa85135a9b25a2aa14091d859ab38d43f2', 'message': 'Switch to ceph-ansible stable-8.0\n\nThis patch includes the openstack specific pool configuration that\npreviously was in ceph-ansible, and also adds a playbook to configure\nceph pools and distribute the keys to all monitor hosts.\n\nChange-Id: Ic55daf6ba7fdb47525ee1913f70e87296383866d\n'}, {'number': 4, 'created': '2024-06-14 07:29:53.000000000', 'files': ['playbooks/ceph-pools.yml', 'inventory/group_vars/ceph_all.yml', 'tests/roles/bootstrap-host/templates/user_variables_ceph.yml.j2', 'ansible-role-requirements.yml', 'playbooks/ceph-install.yml', 'playbooks/setup-infrastructure.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0fce58978e285e0ea052cafb826966f52d029a1e', 'message': 'Switch to ceph-ansible stable-8.0\n\nThis patch includes the openstack specific pool configuration that\npreviously was in ceph-ansible, and also adds a playbook to configure\nceph pools and distribute the keys to all monitor hosts.\n\nChange-Id: Ic55daf6ba7fdb47525ee1913f70e87296383866d\n'}]",3,921976,0fce58978e285e0ea052cafb826966f52d029a1e,12,2,4,25023,,,0,"Switch to ceph-ansible stable-8.0

This patch includes the openstack specific pool configuration that
previously was in ceph-ansible, and also adds a playbook to configure
ceph pools and distribute the keys to all monitor hosts.

Change-Id: Ic55daf6ba7fdb47525ee1913f70e87296383866d
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/76/921976/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/ceph-pools.yml', 'inventory/group_vars/ceph_all.yml', 'tests/roles/bootstrap-host/templates/user_variables_ceph.yml.j2', 'ansible-role-requirements.yml', 'playbooks/ceph-install.yml', 'playbooks/setup-infrastructure.yml']",6,889bb3bad91afe43e4eb71cc80c25288f04ea766,,- name: Importing ceph-pools playbook import_playbook: ceph-pools.yml ,,109,4
openstack%2Fglance~881940,openstack/glance,master,I238c21efd09de296e8928d8fa68bac4b41f81694,Add new add location api,NEW,2023-05-02 05:36:32.000000000,2024-06-14 13:09:38.000000000,,"[{'_account_id': 4393}, {'_account_id': 5314}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 19138}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2023-05-02 05:36:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5e8c1aa2d655938ecdce859ac2531c067e0feafd', 'message': 'PoC: Add New add-location & get location APIs\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 2, 'created': '2023-05-07 17:54:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c9ba71f9c085bfab3f69f351f06cecb004264ba9', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/location to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 3, 'created': '2023-05-07 18:05:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e33ccb37a61fa3879a5a9e347ae75151a27527a2', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/location to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 4, 'created': '2023-05-07 19:53:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c4328c8315095a4eb05ceda670697681a28bbfab', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/location to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 5, 'created': '2023-05-08 06:22:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d5623ac92da28bbb116962cc49a4ee6dd25580e0', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/location to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 6, 'created': '2023-05-08 08:21:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/2ae91403b1c3369e351fd2171127ad12fe129a8d', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/location to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 7, 'created': '2023-05-09 13:41:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/bd6fb9b0923db775844a984bca9109d9964a6425', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/location to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 8, 'created': '2023-05-10 14:53:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/2a8acd38929ecb97919d0cddb3e5b002b0d31ce9', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 9, 'created': '2023-05-11 10:19:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a4ba51e5ecf7e1ffab61fc0b69c3cd87b5208cde', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 10, 'created': '2023-05-12 11:34:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b3bd4db85d20793b41fc3a53d32cbe888746f90f', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 11, 'created': '2023-05-15 13:19:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b844148c5fcb8f9f90fad1749906e22a324e9d02', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 12, 'created': '2023-05-15 13:23:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/55bdaa5ad3ec5fe82d61ad1977cf4a397b21072e', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 13, 'created': '2023-05-16 14:18:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/cffc5ec1583980b744fe235864153bfcd4429e71', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 14, 'created': '2023-05-17 07:57:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b11ac3d39a27415b8a4cf67007c402b2fbccacc4', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 15, 'created': '2023-06-21 05:35:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a7583d1f1c58730a2de6d6d8732ff651540525f8', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 16, 'created': '2023-06-23 13:16:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/337126fc6376efaab92c2e39375a0545db6a4868', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 17, 'created': '2023-06-23 13:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/298d696bc3348a91077cc8bcd28b22e029c7d332', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 18, 'created': '2023-06-23 13:27:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/45221ec02b2da7fe533d14902f1e8375ab717de5', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 19, 'created': '2023-06-26 07:40:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/56eab6449a002ee6ef3ef921857c6709ec67cbe1', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 20, 'created': '2023-06-26 08:11:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ef4f88df77243f339d8e3199adf95c1169cd953d', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 21, 'created': '2023-07-06 09:27:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/102023dc6421c4b2f821360366aa81578416bd31', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 22, 'created': '2023-07-20 07:59:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ead111bb3ec23f9c907cc688a1841218913f89f7', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 23, 'created': '2023-07-28 10:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/cd04b05b7f02d918621054f6bb0ade398f0032b2', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 24, 'created': '2023-08-02 13:03:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d3e1d409ce8fdbba1e7450d2f165071dfc275127', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 25, 'created': '2023-08-03 05:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/33250e3de2451140aa2f5044a77f5adbdbc04f07', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 26, 'created': '2023-08-03 10:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c9d8618f6ee524dd2a0c78f0f6c4dce5f685d4e1', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 27, 'created': '2023-08-09 11:13:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b48fa211844cf5b12772e53cf5088730774250cd', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 28, 'created': '2023-08-09 11:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/279c010892c5f27790f6b8e4aa3bd0bdcb84d3ce', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 29, 'created': '2023-08-14 11:50:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/db13234a30e83f68aed844b6056758f1c6a19c8b', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 30, 'created': '2023-08-16 09:29:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/299bf91255480c3ff43a7bd2008339c652df0c7d', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 31, 'created': '2023-08-20 12:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/48c08297777588fe31e2e55d471d7e6fd119105d', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 32, 'created': '2023-08-24 11:40:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f6c3d616004e66266fa2c7390101b2abc29c18b6', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 33, 'created': '2023-08-24 15:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f642f321be0b5061da368a983bd296db29fce00e', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 34, 'created': '2023-08-25 17:41:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c7ad2532e0c79de3b80f9ed3e7a07fcf053a48b5', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 35, 'created': '2023-08-28 07:52:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7dfce84c0510fd36dc39f88c7b802aa7a2876cdd', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 36, 'created': '2023-08-28 08:08:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/df45dde97e1e3035ec8554b92d1ada0ce31caede', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 37, 'created': '2023-08-28 08:38:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ee64fb399988001a0052d33d96a38f08e29c41e9', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 38, 'created': '2023-08-28 08:58:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/58f487dd9f3fb5aaffdd51f4138b65661eb1db56', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 39, 'created': '2023-08-28 12:23:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f56eac9bb3fa4fb810c8582c77f92f4253328b0f', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 40, 'created': '2023-08-29 08:58:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9e3ff6b5e66b9b0aefe5bdfb2c9b5c119244556f', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 41, 'created': '2023-08-29 14:21:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d33c39088375aaab0328297d307eb3d0c74ef66c', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 42, 'created': '2023-08-29 18:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a471eb8a0239a2e7774c3a394109b18d8f26d551', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 43, 'created': '2023-08-30 08:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0c3a43202da44951f4ad4560e41640a6bcd29604', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 44, 'created': '2023-08-31 07:57:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/72f4490e968570cacdff9a988f59f207783e3677', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 45, 'created': '2023-09-05 07:25:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b4beaa61bbd22fed2676480ca1de48adc7c52cbf', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 46, 'created': '2023-10-19 07:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/cf644faaf11c77e639091684d9e6f3aadaa12373', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 47, 'created': '2023-11-02 09:35:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7174edf1388f21cd08b2915fc6896f461484218a', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 48, 'created': '2023-11-08 11:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/2053e2f46ede36b06e69c77633471e6238071701', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 49, 'created': '2023-12-05 14:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/de9bd0d637c0ce50627a92d1f7ac89a988040a86', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 50, 'created': '2024-01-02 12:01:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d2424d0431ea8eafaf4a0d01427df1491af06fee', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 51, 'created': '2024-01-11 07:36:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b9ac2f56d8bf317c186300a20b64cc1576ba3c40', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 52, 'created': '2024-01-22 10:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/77e1405f72bfaf02537ae3b6133e4104600b9fef', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 53, 'created': '2024-01-23 11:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a0a3abf1f4394d5ffb1ee6434207f97d83301acb', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 54, 'created': '2024-01-24 10:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9be49692618877c5d91f1cadcc73c690eb401d7e', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 55, 'created': '2024-02-01 10:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9ca3e8d3a46e5bc2e38dee2f57bc68965d2a4804', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 56, 'created': '2024-02-07 06:50:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d75b7447775d4fe6dee5d3b121aacc4f5619a22e', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 57, 'created': '2024-02-15 10:31:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/04f45f2219b8d8b56bd052dfe494972b245c4d37', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 58, 'created': '2024-02-20 10:23:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/bbba4c28b756341ee0969658f6118120b86db44d', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 59, 'created': '2024-02-21 12:59:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/03c126d4e22595c7ff64ebe7987da43bfb4bcc27', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 60, 'created': '2024-02-22 07:41:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b4c49efa410ee89c943408647a41c4d1a12b24b0', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 61, 'created': '2024-02-22 10:59:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1ec8667b42169687e56fda9b5ce8d5a9525379cb', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 62, 'created': '2024-02-26 09:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5f275b1766eeab764cf57a5fcc3c7ff2a057018c', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 63, 'created': '2024-02-27 07:12:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e1a652c2961b7c145ee261c903c25f991471b72b', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 64, 'created': '2024-02-27 13:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c82302ef0731378257025cb23e95896e37d82a58', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 65, 'created': '2024-02-27 15:26:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3ffaad27b185c4681bddf2c5135b9a4339d7afe1', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 66, 'created': '2024-02-28 03:51:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/4b6bc6d758c1567e20d7a3dbdb895c3462aa8e50', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 67, 'created': '2024-02-28 09:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/4bd3a0d7783b0da38b7852b954bd271ac9065f6b', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 68, 'created': '2024-02-28 11:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1756de480dfd9c5c04a6f45dc9c4949c84737a1f', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 69, 'created': '2024-02-28 16:14:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/da2c2e21a7997f5784c93d0dec199bc5c306b91e', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 70, 'created': '2024-02-28 19:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/52b952720fec2084777593fa6a0a5b6d00b04995', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 71, 'created': '2024-02-28 19:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/2f806d3285de2591166f0056f32602f4993986b9', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 72, 'created': '2024-02-29 10:17:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5e05c0f16ebff1ab21f6b39768208c16630e90f4', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 73, 'created': '2024-02-29 11:03:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/de08233f8e264a496c681b53794a7cc878626c36', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 74, 'created': '2024-04-04 07:00:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f34d2db9aa82bfb0a1149a10e9a42128ef36e98a', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 75, 'created': '2024-04-08 06:31:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b71e2b6381f21cfd212921c172e46afb27354484', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 76, 'created': '2024-04-29 08:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/4dd29158af83e7c90b242ba0b7c7952aed455b14', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 77, 'created': '2024-04-30 09:42:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/00cd18f8a046d44c7e8ca57bdda568b5b8bb92d4', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 78, 'created': '2024-05-07 06:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/30a7301d6e82ca2580deaaa5a4e387d1b4f1ceb1', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 79, 'created': '2024-05-07 13:08:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/17472ed7ae395afa9f7bfa199d1f4c3f52642c7c', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 80, 'created': '2024-05-08 09:01:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/2b662078ab969223386e59d8b0226fb0aca9ff99', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 81, 'created': '2024-06-06 06:46:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/2daa78f28a74ed736dacaffff2c69fc8be3d4fa9', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}, {'number': 82, 'created': '2024-06-14 10:35:46.000000000', 'files': ['releasenotes/notes/add-new-add-location-api-acd459299976b4a5.yaml', 'glance/tests/functional/v2/test_schemas.py', 'glance/tests/unit/v2/test_images_resource.py', 'glance/tests/unit/common/test_utils.py', 'glance/common/utils.py', 'glance/tests/unit/test_policy.py', 'glance/api/v2/images.py', 'glance/api/v2/router.py', 'glance/policies/image.py', 'glance/tests/unit/v2/test_schemas_resource.py', 'glance/api/v2/policy.py', 'glance/policies/base.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/3e255374bb759c6e00e62b8c62e7fd2379791f8c', 'message': 'Add new add location api\n\nThis change adds a new location api POST\n/v2/images/{image_id}/locations to add the new location to\nthe image when in `queued` state only.\nThis operation will be service user & image owner only,\nand validated by the new policy rule `add_image_location`.\n\nImplements: blueprint new-location-apis\n\nChange-Id: I238c21efd09de296e8928d8fa68bac4b41f81694\n'}]",405,881940,3e255374bb759c6e00e62b8c62e7fd2379791f8c,377,7,82,19138,,,0,"Add new add location api

This change adds a new location api POST
/v2/images/{image_id}/locations to add the new location to
the image when in `queued` state only.
This operation will be service user & image owner only,
and validated by the new policy rule `add_image_location`.

Implements: blueprint new-location-apis

Change-Id: I238c21efd09de296e8928d8fa68bac4b41f81694
",git fetch https://review.opendev.org/openstack/glance refs/changes/40/881940/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/images.py', 'glance/api/v2/router.py', 'glance/policies/image.py', 'glance/api/v2/policy.py', 'glance/policies/base.py']",5,5e8c1aa2d655938ecdce859ac2531c067e0feafd,New-Location-Apis,"SERVICE_OR_ADMIN_OR_SHARED_MEMBER = ( f'role:service_api or ' f'role:admin or (role:member and {IMAGE_MEMBER_CHECK})' ) SERVICE = 'rule:service_api' policy.RuleDefault(name='service_api', check_str='role:service', description='Default rule for the service-to-service ' 'API.'),",,150,0
openstack%2Fironic-python-agent-builder~921998,openstack/ironic-python-agent-builder,master,Ic862dc295d45f0fd4e9234a75b73679ab76dacf6,[PoC][DNM] Build gentoo-based ipa ramdisk,NEW,2024-06-14 08:59:49.000000000,2024-06-14 13:02:44.000000000,,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2024-06-14 08:59:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/a9fa779b10a2752474b73f327b0a0dc3c7270bff', 'message': '[PoC][DNM] Build gentoo-based ipa ramdisk\n\nChange-Id: Ic862dc295d45f0fd4e9234a75b73679ab76dacf6\n'}, {'number': 2, 'created': '2024-06-14 09:05:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/856000c99dbe9d83420be5a4feebe396d5c79080', 'message': '[PoC][DNM] Build gentoo-based ipa ramdisk\n\nChange-Id: Ic862dc295d45f0fd4e9234a75b73679ab76dacf6\n'}, {'number': 3, 'created': '2024-06-14 09:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/03f7cf323d7efea01c0cf5df2222832452404736', 'message': '[PoC][DNM] Build gentoo-based ipa ramdisk\n\nChange-Id: Ic862dc295d45f0fd4e9234a75b73679ab76dacf6\n'}, {'number': 4, 'created': '2024-06-14 09:39:34.000000000', 'files': ['dib/ironic-python-agent-ramdisk/install.d/ironic-python-agent-ramdisk-source-install/ironic-python-agent.openrc', 'dib/ironic-python-agent-ramdisk/package-installs.yaml', 'dib/ironic-python-agent-ramdisk/install.d/ironic-python-agent-ramdisk-source-install/60-ironic-python-agent-ramdisk-install', 'zuul.d/ironic-python-agent-builder-jobs.yaml', 'zuul.d/project.yaml', 'dib/ironic-python-agent-ramdisk/post-install.d/80-ironic-python-agent-ramdisk', 'dib/ironic-ramdisk-base/element-deps', 'dib/ironic-python-agent-ramdisk/pkg-map'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/c44e9eed92fc0bc618d5d7783725189e91671e78', 'message': '[PoC][DNM] Build gentoo-based ipa ramdisk\n\nDepends-On: I85dfaa436d09edf958315579c7050165b80bf721\n\nChange-Id: Ic862dc295d45f0fd4e9234a75b73679ab76dacf6\n'}]",1,921998,c44e9eed92fc0bc618d5d7783725189e91671e78,6,2,4,23851,,,0,"[PoC][DNM] Build gentoo-based ipa ramdisk

Depends-On: I85dfaa436d09edf958315579c7050165b80bf721

Change-Id: Ic862dc295d45f0fd4e9234a75b73679ab76dacf6
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/98/921998/1 && git format-patch -1 --stdout FETCH_HEAD,"['dib/ironic-python-agent-ramdisk/install.d/ironic-python-agent-ramdisk-source-install/ironic-python-agent.openrc', 'dib/ironic-python-agent-ramdisk/package-installs.yaml', 'dib/ironic-python-agent-ramdisk/install.d/ironic-python-agent-ramdisk-source-install/60-ironic-python-agent-ramdisk-install', 'dib/ironic-python-agent-ramdisk/post-install.d/80-ironic-python-agent-ramdisk', 'dib/ironic-ramdisk-base/element-deps', 'dib/ironic-python-agent-ramdisk/pkg-map']",6,a9fa779b10a2752474b73f327b0a0dc3c7270bff,gentoo-ipa-ramdisk," }, ""gentoo"": { ""gdisk"": ""gptfdisk"", ""genisoimage"": ""libisoburn"", ""libffi-dev"": ""libffi"", ""libssl-dev"": ""openssl"", ""python"": ""python:3.9"", ""python-dev"": """", ""qemu-utils"": ""qemu""",,31,1
openstack%2Freleases~918351,openstack/releases,master,Ic320e4fe49f1a45cd8250cda1329c2cd7fda41eb,[barbican-tempest-plugin] Tag zed-last,NEW,2024-05-06 20:20:05.000000000,2024-06-14 13:02:12.000000000,,"[{'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-06 20:20:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/fccea5030f88d74457b67956bda06d025b065ba8', 'message': ""[barbican-tempest-plugin] Tag zed-last\n\nZed branch is moving to unmaintained state now[1]. Tempest and tempest\nplugins are branchless which means master version of Tempest and\nits plugins is used to test the supported stable branches.\n\nOnce any stable branch is moved to unmaintained state then, Tempest and\nits plugins compatible tag[2][3] needs to be released which can be used\nto test the unmaintained stable branches.\n\nTagging 'zed-last' with latesh hash used in 4.0.0 version.\n\n[1] https://review.opendev.org/q/topic:%22zed-unmaintained%22\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\nChange-Id: Ic320e4fe49f1a45cd8250cda1329c2cd7fda41eb\n""}, {'number': 2, 'created': '2024-05-06 20:44:16.000000000', 'files': ['deliverables/zed/barbican-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d5254c9b9821f3bcf6fdc088e1b4759f21c58d80', 'message': ""[barbican-tempest-plugin] Tag zed-last\n\nZed branch is moving to unmaintained state now[1]. Tempest and tempest\nplugins are branchless which means master version of Tempest and\nits plugins is used to test the supported stable branches.\n\nOnce any stable branch is moved to unmaintained state then, Tempest and\nits plugins compatible tag[2][3] needs to be released which can be used\nto test the unmaintained stable branches.\n\nTagging 'zed-last' with latesh hash used in 4.0.0 version.\n\n[1] https://review.opendev.org/q/topic:%22zed-unmaintained%22\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\nChange-Id: Ic320e4fe49f1a45cd8250cda1329c2cd7fda41eb\n""}]",2,918351,d5254c9b9821f3bcf6fdc088e1b4759f21c58d80,7,5,2,8556,,,0,"[barbican-tempest-plugin] Tag zed-last

Zed branch is moving to unmaintained state now[1]. Tempest and tempest
plugins are branchless which means master version of Tempest and
its plugins is used to test the supported stable branches.

Once any stable branch is moved to unmaintained state then, Tempest and
its plugins compatible tag[2][3] needs to be released which can be used
to test the unmaintained stable branches.

Tagging 'zed-last' with latesh hash used in 4.0.0 version.

[1] https://review.opendev.org/q/topic:%22zed-unmaintained%22
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html

Change-Id: Ic320e4fe49f1a45cd8250cda1329c2cd7fda41eb
",git fetch https://review.opendev.org/openstack/releases refs/changes/51/918351/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/zed/barbican-tempest-plugin.yaml'],1,fccea5030f88d74457b67956bda06d025b065ba8,zed-last, - version: zed-last projects: - repo: openstack/barbican-tempest-plugin hash: 82b0e48639ad52838902dffbc3acaa5bc789b87e,,4,0
openstack%2Fglance~890509,openstack/glance,master,I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6,Bump Images API version to 2.17,NEW,2023-08-04 07:04:53.000000000,2024-06-14 12:53:17.000000000,,"[{'_account_id': 4393}, {'_account_id': 5314}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-08-04 07:04:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b4511efcaf2ef90c24a38c60f248734d407fa41e', 'message': 'Bump Images API version to 2.17\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 2, 'created': '2023-08-09 11:13:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3d3801ef9c49fa789e2bdbbc2c197888f0f159c4', 'message': 'Bump Images API version to 2.17\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 3, 'created': '2023-08-09 11:32:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/31af0bcebbbb342eb11df0bf0fa7f595522d2d37', 'message': 'Bump Images API version to 2.17\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 4, 'created': '2023-08-14 11:50:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/74be722b5bb4e6025d55cb3654fe77028bbac2ce', 'message': 'Bump Images API version to 2.17\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 5, 'created': '2023-08-16 09:29:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5e5bc7f2c3e2e028b28b8c8b87dd7b158dd87d0d', 'message': 'Bump Images API version to 2.17\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 6, 'created': '2023-08-20 12:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7739ef46b5b44983ae63949ea57b4b0944bc2d9e', 'message': 'Bump Images API version to 2.17\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 7, 'created': '2023-08-24 11:40:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0c129ed4163a2eef1a87503743293b2bde2ee226', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 8, 'created': '2023-08-24 12:00:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0bfc91808a427b214b3b70ba81711d81651919f5', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 9, 'created': '2023-08-24 15:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/336d45d73d5d51c3edc9bf9e37ffee01b51207d5', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 10, 'created': '2023-08-25 17:41:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/da00f1b6e6709b17496e074abdf721a837550f19', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 11, 'created': '2023-08-28 14:31:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d1b1902119e3b30072b423822737be76dad57414', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 12, 'created': '2023-08-28 15:25:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c51d4854f66de6db7c2cb31295da3eaac7c9517f', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 13, 'created': '2023-08-29 08:58:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6e21d665db0b3dcd762159cb77a4bb6d927383b0', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 14, 'created': '2023-08-29 14:21:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a464a46382bfd2f8ce62531cb7332e243686d47e', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 15, 'created': '2023-08-29 18:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a8de1ac36095859014e5deaa164d9232f26d4172', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 16, 'created': '2023-08-30 08:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6e260ab23434b4b7533aa683af8df3627b8ff260', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 17, 'created': '2023-08-30 10:40:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0962825fc327cf17f78d07fbf922e257ed4386b7', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 18, 'created': '2023-08-30 13:57:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e4d0a1d4da6c86e487618f87f84f00f28e6fc771', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 19, 'created': '2023-08-31 07:57:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/2a79fd654cf6b71b09c0d7c7a39b1454c76db743', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 20, 'created': '2023-08-31 10:27:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/de0f07be33ea2b4f85564b67c7530b83abd403be', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 21, 'created': '2023-09-05 07:25:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e1afc6c083fde527669ddc71d6c21f33084d1649', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 22, 'created': '2023-10-19 07:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/57300909858ce30079b625e066823c4b445e42a9', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 23, 'created': '2023-10-31 09:27:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d3036822d07d333e311928b791bb678c3fcf8c86', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 24, 'created': '2023-10-31 12:49:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ae4281046dbe9e04c90a360f887f2c59b9b09986', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 25, 'created': '2023-11-02 09:35:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6eac4427cfaa2bb35156de887c6341d254470e83', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 26, 'created': '2023-11-08 11:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/306c795b44bf750592e200583e338338dd8db178', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 27, 'created': '2023-12-05 14:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/293bfa776ca1beaad08e711a2001bf6235c5c145', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 28, 'created': '2024-01-02 12:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5dc83301d56ab094e669e181c68a684103024a80', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 29, 'created': '2024-01-11 07:36:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/712c6109b4c3bb0a57b80b7fa52d1bc1058a9242', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 30, 'created': '2024-01-22 10:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/656df3207b856209ac01c780fb886c30081a9e44', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 31, 'created': '2024-01-23 11:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0496374eaf505456c1d58288387f04333ba6ede7', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 32, 'created': '2024-01-24 10:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3815edb7b8e8934f585736ada41aaf867bd1788c', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 33, 'created': '2024-02-07 06:50:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f507005f79ddb3a14e937b23b6a0fdca66e4b095', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 34, 'created': '2024-02-07 09:14:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0b7f8f8ad38ebad74d1deb0c04ddb696e67b7fb4', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 35, 'created': '2024-02-15 10:31:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/628cd11904821254b357d192c61af6c9da4a7c7a', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 36, 'created': '2024-02-20 10:23:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/4dc908872df7f517dfc085a22219b3dc744d3d05', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 37, 'created': '2024-02-21 12:59:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d89374d752f5136d8ec73e807076b5e33fd4b5e5', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 38, 'created': '2024-02-22 07:41:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/793519a8c43d3ed8bb682b57ee8aa77a62cfd8c9', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 39, 'created': '2024-02-22 11:00:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/94da23772953d0876d59a7bd6daeda413b5816db', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 40, 'created': '2024-02-26 09:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/19a3847ceecf52d3d40b81b5c3a9640e9f2cdc07', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 41, 'created': '2024-02-27 07:12:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/44d8cfa784eacf758381f586b3da10973ec692cd', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 42, 'created': '2024-02-27 13:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/000c1d6dd0a7d96708c186cac93ca5fdf4bba703', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 43, 'created': '2024-02-27 15:26:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d3dcd9e4e658824d91c9b739235982b94037b89e', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 44, 'created': '2024-02-28 03:51:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9224b5e0ac848bfb7c04b9617b079728f450f1f7', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 45, 'created': '2024-02-28 09:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/01fb6278c95fcabc95201f7fce5f2fd3bfedf873', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 46, 'created': '2024-02-28 11:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/071076607762981ccdc81dc25fd51dffda6c1025', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 47, 'created': '2024-02-28 16:14:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/201248b48ebfa36f400afe1d02aea4708986747b', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 48, 'created': '2024-02-28 19:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/070462f3b8f5a9c8a7df3c2693b715e4855ac4f3', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 49, 'created': '2024-02-28 19:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f249d374c901d1df512a1e53ab18585e5532faef', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 50, 'created': '2024-02-29 10:17:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7a1fa000dacdd611954f896ea640607d891a83b3', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 51, 'created': '2024-02-29 11:03:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a98cf01fe373a5f1b1c03f8f77b9825562082675', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 52, 'created': '2024-04-04 07:00:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6cd232ff91929f153a9844ca5d05f3f1a513437a', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 53, 'created': '2024-04-08 06:31:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c94ba8030f41fc26cf5a64adbff47e2b17f6c1d1', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 54, 'created': '2024-04-29 08:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/381c69811878876a76f65be7a2141f8369d9f5f4', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 55, 'created': '2024-04-30 09:42:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/805d573864a3f73ed048c71767161984b3ecfdd4', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 56, 'created': '2024-05-07 06:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0a270480ff4f17963257ee5ce6cbc29a4d0853db', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 57, 'created': '2024-05-07 13:08:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7904532f457ba551adc200075e4aa8df7f75ff52', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 58, 'created': '2024-05-08 09:01:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8448968f7b367663a280aad7556e7d059ac0617e', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 59, 'created': '2024-06-06 06:46:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a7bf9e0fcc869af62cf3165560d0390cefe4525c', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}, {'number': 60, 'created': '2024-06-14 10:35:46.000000000', 'files': ['glance/tests/unit/test_versions.py', 'glance/api/middleware/version_negotiation.py', 'glance/api/versions.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/313a2be0da5d270bc279673c0017066e5e657556', 'message': 'Bump Images API version to 2.17\n\nRelated blueprint new-location-apis\n\nChange-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6\n'}]",29,890509,313a2be0da5d270bc279673c0017066e5e657556,195,5,60,19138,,,0,"Bump Images API version to 2.17

Related blueprint new-location-apis

Change-Id: I6e7bdc2d092c32c060d2f3c72fc83cecc73ee7f6
",git fetch https://review.opendev.org/openstack/glance refs/changes/09/890509/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/test_versions.py', 'glance/api/middleware/version_negotiation.py', 'glance/api/versions.py']",3,b4511efcaf2ef90c24a38c60f248734d407fa41e,New-Location-Apis," build_version_object('2.15', 'v2', 'SUPPORTED'), build_version_object('2.17', 'v2', 'CURRENT'), build_version_object('2.17', 'v2', 'CURRENT'), build_version_object('2.9', 'v2', 'SUPPORTED'),"," build_version_object('2.15', 'v2', 'CURRENT'), build_version_object('2.9', 'v2', 'SUPPORTED'),",23,9
openstack%2Fglance~886749,openstack/glance,master,Id5482582a29d947dcb74a506bf715cf6a2d05b3e,Add Location Import task flow,NEW,2023-06-22 13:09:56.000000000,2024-06-14 12:51:35.000000000,,"[{'_account_id': 4393}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2023-06-22 13:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/bd8f8b3b7f5c0e2e2e0b2cf79792fa6743fa263f', 'message': 'POC Add Hash calculation task flow\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 2, 'created': '2023-06-23 13:16:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/fc756f4af0cfd0c5ff36560c7d7c3f1f0d13448f', 'message': 'POC Add Hash calculation task flow\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 3, 'created': '2023-06-23 13:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5f13980e03486c76009e68688e03046f7a006591', 'message': 'POC Add Hash calculation task flow\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 4, 'created': '2023-06-23 13:27:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c4714f499e3cf2d1cf482a1e0689037814682ef8', 'message': 'Add Hash calculation task flow\n\nThis change adds do_secure_hash task flow which includes\nCalculateHash and ValidateValidationDateWithHash tasks\nwhich are required for new add location api.\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 5, 'created': '2023-06-26 07:40:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/638a388b2e240c30af9d56e68f79b939e5d126b6', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nCalculateHash and VerifyValidationData tasks\nwhich are required for new add location api.\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 6, 'created': '2023-06-26 08:11:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/2702eec4044ec9aab505799ad938b0b09d1cb6ee', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nCalculateHash and VerifyValidationData tasks\nwhich are required for new add location api.\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 7, 'created': '2023-07-06 09:27:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a6784eac74977adb4e5209d7f8d270b947d52fe3', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nCalculateHash and VerifyValidationData tasks\nwhich are required for new add location api.\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 8, 'created': '2023-07-20 07:59:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a4280c1b35366fd3cf3490694596198eac4e5c3b', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nCalculateHash and VerifyValidationData tasks\nwhich are required for new add location api.\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 9, 'created': '2023-07-28 10:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d6d4810429f02f669a700d5eaa0d44c3a64be8f3', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nCalculateHash and VerifyValidationData tasks\nwhich are required for new add location api.\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 10, 'created': '2023-08-02 13:03:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b34aa3ade7f9152a735c5d0ecb8d2144ee6931d2', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nCalculateHash and VerifyValidationData tasks\nwhich are required for new add location api.\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 11, 'created': '2023-08-03 05:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/051aab063a101c52a532910ec1f1770918b06771', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nCalculateHash and VerifyValidationData tasks\nwhich are required for new add location api.\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 12, 'created': '2023-08-03 10:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c1190d0d0a4cb53764000d1a04197e4d12f3f078', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nCalculateHash and VerifyValidationData tasks\nwhich are required for new add location api.\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 13, 'created': '2023-08-09 11:13:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/2d3af70c50e1d107efb2fe13b2af535611fcc805', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nCalculateHash and VerifyValidationData tasks\nwhich are required for new add location api.\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 14, 'created': '2023-08-09 11:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e208b346c75519d1eb62e51246e1d60573493781', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nCalculateHash and VerifyValidationData tasks\nwhich are required for new add location api.\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 15, 'created': '2023-08-14 11:50:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ae4a9a4aa715049d8f1af45134b41e97de52b836', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nCalculateHash and VerifyValidationData tasks\nwhich are required for new add location api.\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 16, 'created': '2023-08-16 09:29:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f62e95ccf32a3569b5c26e198eef5f15096c3527', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nCalculateHash and VerifyValidationData tasks\nwhich are required for new add location api.\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 17, 'created': '2023-08-20 12:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c6479de45db19de58f2d30c40bceb1d138ce47e2', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nCalculateHash and VerifyValidationData tasks\nwhich are required for new add location api.\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 18, 'created': '2023-08-24 11:40:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7070bd51c571717f5c2dcff85d9d399ad2cb59cd', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nCalculateHash and VerifyValidationData tasks\nwhich are required for new add location api.\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 19, 'created': '2023-08-25 17:41:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c72a63437cac3800fdffb8d5769c44bc661ff5c7', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nCalculateHash and VerifyValidationData tasks\nwhich are required for new add location api.\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 20, 'created': '2023-08-28 07:52:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/330166ff29d0d218265f8a539d1118560e73a11f', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nCalculateHash and VerifyValidationData tasks\nwhich are required for new add location api.\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 21, 'created': '2023-08-28 12:23:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/cac6316d866e82f7ff85b9770090de015b659f63', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nCalculateHash and VerifyValidationData tasks\nwhich are required for new add location api.\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 22, 'created': '2023-08-29 08:58:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0bba1d1ece5938d9a3f3f81e8b31652bc5f8c35b', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nCalculateHash and VerifyValidationData tasks\nwhich are required for new add location api.\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 23, 'created': '2023-08-29 14:21:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e59335a69ccf8e0311467b706247873f4a6af9fc', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nCalculateHash and VerifyValidationData tasks\nwhich are required for new add location api.\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 24, 'created': '2023-08-29 18:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/afd0949070dc859ae31095d42443a1ca2c161546', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nbelow tasks which are required for new add location api,\n1. UpdateLocationTask\n2. CalculateHash\n3. VerifyValidationData\n3. SetHashValues\n4. SetImageToActiveTask\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 25, 'created': '2023-08-30 08:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5d02323531574c2882916fdf35f9fd25c3e9de44', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nbelow tasks which are required for new add location api,\n1. UpdateLocationTask\n2. CalculateHash\n3. VerifyValidationData\n3. SetHashValues\n4. SetImageToActiveTask\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 26, 'created': '2023-08-31 07:57:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/01154625d0bfebae7855b0c21c282fa2b9d07655', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nbelow tasks which are required for new add location api,\n1. UpdateLocationTask\n2. CalculateHash\n3. VerifyValidationData\n3. SetHashValues\n4. SetImageToActiveTask\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 27, 'created': '2023-09-05 07:25:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a1eb199229d41269f4d945b8c46ee2100eba81ec', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nbelow tasks which are required for new add location api,\n1. UpdateLocationTask\n2. CalculateHash\n3. VerifyValidationData\n3. SetHashValues\n4. SetImageToActiveTask\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 28, 'created': '2023-10-19 07:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/dcb543aee27acab86313292c1e0768e02e404f61', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nbelow tasks which are required for new add location api,\n1. UpdateLocationTask\n2. CalculateHash\n3. VerifyValidationData\n3. SetHashValues\n4. SetImageToActiveTask\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 29, 'created': '2023-11-02 09:35:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a064352a4853049b5974a754087e925c6ec1a32d', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nbelow tasks which are required for new add location api,\n1. UpdateLocationTask\n2. CalculateHash\n3. VerifyValidationData\n3. SetHashValues\n4. SetImageToActiveTask\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 30, 'created': '2023-11-08 11:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/194522b6201a22eeac542e26485f77ec8b5c40bd', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nbelow tasks which are required for new add location api,\n1. UpdateLocationTask\n2. CalculateHash\n3. VerifyValidationData\n3. SetHashValues\n4. SetImageToActiveTask\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 31, 'created': '2023-12-05 14:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0378ed442ab02477f1239db1b23e49745e4c2575', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nbelow tasks which are required for new add location api,\n1. UpdateLocationTask\n2. CalculateHash\n3. VerifyValidationData\n3. SetHashValues\n4. SetImageToActiveTask\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 32, 'created': '2024-01-02 12:00:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/34fb6910080ee336de536666cf4f2b0c72d32195', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nbelow tasks which are required for new add location api,\n1. UpdateLocationTask\n2. CalculateHash\n3. VerifyValidationData\n3. SetHashValues\n4. SetImageToActiveTask\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 33, 'created': '2024-01-11 07:36:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/fffb1fc7a75342a4faf7fa4d19fe41f0df7b66c7', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nbelow tasks which are required for new add location api,\n1. UpdateLocationTask\n2. CalculateHash\n3. VerifyValidationData\n3. SetHashValues\n4. SetImageToActiveTask\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 34, 'created': '2024-01-22 10:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1a0fe17a03190d9def6ed0914bf3b59159e332b1', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nbelow tasks which are required for new add location api,\n1. UpdateLocationTask\n2. CalculateHash\n3. VerifyValidationData\n3. SetHashValues\n4. SetImageToActiveTask\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 35, 'created': '2024-01-23 11:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d7c0cf6658471e4562ad8933e9bc251a998cf67a', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nbelow tasks which are required for new add location api,\n1. UpdateLocationTask\n2. CalculateHash\n3. VerifyValidationData\n3. SetHashValues\n4. SetImageToActiveTask\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 36, 'created': '2024-01-24 10:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0489e85de3a121d92fa24ed26a8b40617c9ac803', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nbelow tasks which are required for new add location api,\n1. UpdateLocationTask\n2. CalculateHash\n3. VerifyValidationData\n3. SetHashValues\n4. SetImageToActiveTask\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 37, 'created': '2024-02-01 10:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/67bb347e2d9f4030ae5ba3b3f0d084412bc3b0c2', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nbelow tasks which are required for new add location api,\n1. UpdateLocationTask\n2. CalculateHash\n3. VerifyValidationData\n3. SetHashValues\n4. SetImageToActiveTask\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 38, 'created': '2024-02-07 06:50:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/75f25994319cac05db1330ea2a1786cfaf48e14f', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nbelow tasks which are required for new add location api,\n1. UpdateLocationTask\n2. CalculateHash\n3. VerifyValidationData\n3. SetHashValues\n4. SetImageToActiveTask\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 39, 'created': '2024-02-15 10:31:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6205221c7a40391d104470340d12b4193a38d08c', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nbelow tasks which are required for new add location api,\n1. UpdateLocationTask\n2. CalculateHash\n3. VerifyValidationData\n3. SetHashValues\n4. SetImageToActiveTask\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 40, 'created': '2024-02-20 10:23:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7322339ab6e8b77db8bfbcf3a40b54fe06ae6bc4', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nbelow tasks which are required for new add location api,\n1. UpdateLocationTask\n2. CalculateHash\n3. VerifyValidationData\n3. SetHashValues\n4. SetImageToActiveTask\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 41, 'created': '2024-02-21 12:59:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9132ca0e6172c97d0719e884946f29cafc503ba2', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nbelow tasks which are required for new add location api,\n1. UpdateLocationTask\n2. CalculateHash\n3. VerifyValidationData\n3. SetHashValues\n4. SetImageToActiveTask\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 42, 'created': '2024-02-22 07:41:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8866537b3cee9b83d2b38f76451ad82e29994712', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nbelow tasks which are required for new add location api,\n1. UpdateLocationTask\n2. CalculateHash\n3. VerifyValidationData\n3. SetHashValues\n4. SetImageToActiveTask\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 43, 'created': '2024-02-22 10:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ea834a55b15ae0256a327ee7fc31cf7954b2be5d', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nbelow tasks which are required for new add location api,\n1. UpdateLocationTask\n2. CalculateHash\n3. VerifyValidationData\n3. SetHashValues\n4. SetImageToActiveTask\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 44, 'created': '2024-02-26 08:35:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ac6973b597ab70e118ad54ec3712cb807415a0d8', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nbelow tasks which are required for new add location api,\n1. UpdateLocationTask\n2. CalculateHash\n3. VerifyValidationData\n3. SetHashValues\n4. SetImageToActiveTask\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 45, 'created': '2024-02-26 09:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6adb0517c8c3118911ac76be3c684d64fab42b0f', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nbelow tasks which are required for new add location api,\n1. UpdateLocationTask\n2. CalculateHash\n3. VerifyValidationData\n3. SetHashValues\n4. SetImageToActiveTask\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 46, 'created': '2024-02-27 07:12:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9196c0654b7ed2c9deccb748dfa961c137bbeb77', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nbelow tasks which are required for new add location api,\n1. UpdateLocationTask\n2. CalculateHash\n3. VerifyValidationData\n3. SetHashValues\n4. SetImageToActiveTask\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 47, 'created': '2024-02-27 13:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1b052434b38ebf751bc08ccc123d33364d129553', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nbelow tasks which are required for new add location api,\n1. UpdateLocationTask\n2. CalculateHash\n3. VerifyValidationData\n3. SetHashValues\n4. SetImageToActiveTask\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 48, 'created': '2024-02-27 15:26:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e008e27b6d51aa2d3487efcdd805fddf74a13c0c', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nbelow tasks which are required for new add location api,\n1. UpdateLocationTask\n2. CalculateHash\n3. VerifyValidationData\n3. SetHashValues\n4. SetImageToActiveTask\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 49, 'created': '2024-02-28 03:51:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/cd5d2b25649f9929224f6b33f04651792f1dea80', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nbelow tasks which are required for new add location api,\n1. UpdateLocationTask\n2. CalculateHash\n3. VerifyValidationData\n3. SetHashValues\n4. SetImageToActiveTask\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 50, 'created': '2024-02-28 09:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3ff77f731fb982d2a21a096e0ffc92a2ac73e4d8', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nbelow tasks which are required for new add location api,\n1. UpdateLocationTask\n2. CalculateHash\n3. VerifyValidationData\n3. SetHashValues\n4. SetImageToActiveTask\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 51, 'created': '2024-02-28 11:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ee84cd29c13e5b2d4f4ddfb2cfca9d8edb82c15f', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nbelow tasks which are required for new add location api,\n1. UpdateLocationTask\n2. CalculateHash\n3. VerifyValidationData\n3. SetHashValues\n4. SetImageToActiveTask\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 52, 'created': '2024-02-28 16:14:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e5dd051ff8fb8704238620c53000a8153300b415', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nbelow tasks which are required for new add location api,\n1. UpdateLocationTask\n2. CalculateHash\n3. VerifyValidationData\n3. SetHashValues\n4. SetImageToActiveTask\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 53, 'created': '2024-02-28 19:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/555270f65c8eedcedbfbb9a6e39d39ea443eaaff', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nbelow tasks which are required for new add location api,\n1. UpdateLocationTask\n2. CalculateHash\n3. VerifyValidationData\n3. SetHashValues\n4. SetImageToActiveTask\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 54, 'created': '2024-02-28 19:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3b91bcd73e6a965e953503b175b7c9b883240390', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nbelow tasks which are required for new add location api,\n1. UpdateLocationTask\n2. CalculateHash\n3. VerifyValidationData\n3. SetHashValues\n4. SetImageToActiveTask\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 55, 'created': '2024-02-29 10:17:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/dac3c9ca8b462823107e32c201b1a5f33fdacf8a', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nbelow tasks which are required for new add location api,\n1. UpdateLocationTask\n2. CalculateHash\n3. VerifyValidationData\n3. SetHashValues\n4. SetImageToActiveTask\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 56, 'created': '2024-02-29 11:03:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ddaa0b9c716797e4c6424f03c5f64dca3ff33a1e', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nbelow tasks which are required for new add location api,\n1. UpdateLocationTask\n2. CalculateHash\n3. VerifyValidationData\n3. SetHashValues\n4. SetImageToActiveTask\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 57, 'created': '2024-04-04 07:00:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8e945bbef169c16c5e2eaecc34e4caea00ccf530', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nbelow tasks which are required for new add location api,\n1. UpdateLocationTask\n2. CalculateHash\n3. VerifyValidationData\n3. SetHashValues\n4. SetImageToActiveTask\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 58, 'created': '2024-04-08 06:31:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/714dab933b7218314e026c9edb79d23611e16580', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nbelow tasks which are required for new add location api,\n1. UpdateLocationTask\n2. CalculateHash\n3. VerifyValidationData\n3. SetHashValues\n4. SetImageToActiveTask\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 59, 'created': '2024-04-29 08:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/77c0060a08268d5660e7dd3325a938c1e1b93a29', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nbelow tasks which are required for new add location api,\n1. UpdateLocationTask\n2. CalculateHash\n3. VerifyValidationData\n3. SetHashValues\n4. SetImageToActiveTask\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 60, 'created': '2024-04-30 09:42:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0d5e8c3c69225a02145513d601518ca87a68a56c', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nbelow tasks which are required for new add location api,\n1. UpdateLocationTask\n2. CalculateHash\n3. VerifyValidationData\n3. SetHashValues\n4. SetImageToActiveTask\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 61, 'created': '2024-05-07 06:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b2834898cd9e7c7a8f570c02f46e30c2f22cad83', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nbelow tasks which are required for new add location api,\n1. UpdateLocationTask\n2. CalculateHash\n3. VerifyValidationData\n3. SetHashValues\n4. SetImageToActiveTask\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 62, 'created': '2024-05-07 13:08:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a7917e7afc65f5297699894c72eb43cea19eef5a', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nbelow tasks which are required for new add location api,\n1. UpdateLocationTask\n2. CalculateHash\n3. VerifyValidationData\n3. SetHashValues\n4. SetImageToActiveTask\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 63, 'created': '2024-05-08 09:01:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/58aa37e415cc128e274a3db4e249b232e71d8ba8', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nbelow tasks which are required for new add location api,\n1. UpdateLocationTask\n2. CalculateHash\n3. VerifyValidationData\n3. SetHashValues\n4. SetImageToActiveTask\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 64, 'created': '2024-06-06 06:46:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d2e536a1aab7ac594c5ac6663e7c630d70f8a5a1', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nbelow tasks which are required for new add location api,\n1. UpdateLocationTask\n2. CalculateHash\n3. VerifyValidationData\n3. SetHashValues\n4. SetImageToActiveTask\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}, {'number': 65, 'created': '2024-06-14 10:35:46.000000000', 'files': ['glance/common/utils.py', 'glance/common/scripts/utils.py', 'glance/api/v2/tasks.py', 'glance/common/config.py', 'glance/domain/__init__.py', 'glance/async_/taskflow_executor.py', 'glance/tests/unit/common/scripts/test_scripts_utils.py', 'glance/async_/flows/location_import.py', 'glance/tests/unit/async_/flows/test_location_import.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/glance/commit/3bbdd481aca0c17d0f7a1130b3fc2d9bda35e3e0', 'message': 'Add Location Import task flow\n\nThis change adds location_import task flow which includes\nbelow tasks which are required for new add location api,\n1. UpdateLocationTask\n2. CalculateHash\n3. VerifyValidationData\n3. SetHashValues\n4. SetImageToActiveTask\n\nRelated blueprint new-location-apis\n\nChange-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e\n'}]",429,886749,3bbdd481aca0c17d0f7a1130b3fc2d9bda35e3e0,368,5,65,19138,,,0,"Add Location Import task flow

This change adds location_import task flow which includes
below tasks which are required for new add location api,
1. UpdateLocationTask
2. CalculateHash
3. VerifyValidationData
3. SetHashValues
4. SetImageToActiveTask

Related blueprint new-location-apis

Change-Id: Id5482582a29d947dcb74a506bf715cf6a2d05b3e
",git fetch https://review.opendev.org/openstack/glance refs/changes/49/886749/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/common/scripts/utils.py', 'glance/api/v2/tasks.py', 'glance/async_/taskflow_executor.py', 'setup.cfg', 'glance/async_/flows/do_secure_hash.py']",5,bd8f8b3b7f5c0e2e2e0b2cf79792fa6743fa263f,New-Location-Apis,"# Copyright 2015 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import hashlib from oslo_config import cfg from oslo_log import log as logging from oslo_utils import encodeutils from oslo_utils.secretutils import md5 from taskflow.patterns import linear_flow as lf from taskflow import retry from taskflow import task import webob.exc from glance.common import exception from glance.common.scripts import utils as script_utils from glance.i18n import _, _LE, _LI LOG = logging.getLogger(__name__) CONF = cfg.CONF class _NoHashCalculationSucceeded(exception.GlanceException): def __init__(self, message): super(_NoHashCalculationSucceeded, self).__init__(message) class _CalculateHash(task.Task): def __init__(self, task_id, task_type, image_repo, image_id): self.task_id = task_id self.task_type = task_type self.image_repo = image_repo self.image_id = image_id super(_CalculateHash, self).__init__( name='%s-CalculateHash-%s' % (task_type, task_id)) def _retry_hash_calculation(self, image, hashing_algo, retry_limit): while retry_limit < CONF.http_retries: retry_limit += 1 self._set_checksum_and_hash(image, hashing_algo, retry_limit) def _set_checksum_and_hash(self, image, hashing_algo, retry_limit): current_os_hash_value = hashlib.new(str(hashing_algo)) current_checksum = md5(usedforsecurity=False) try: for chunk in image.get_data(): if chunk is None: break current_checksum.update(chunk) current_os_hash_value.update(chunk) except Exception: msg = (_('Hash calculation fails on image %s ' 'data') % self.image_id) self._retry_hash_calculation(image, hashing_algo, retry_limit) raise _NoHashCalculationSucceeded(msg) image.checksum = current_checksum.hexdigest() image.os_hash_value = current_os_hash_value.hexdigest() def execute(self): """"""Calculate Checksum & Hash and validate with values passed in Validation Data :param image_id: Glance Image ID """""" retry_limit = 1 image = self.image_repo.get(self.image_id) hashing_algo = self.val_data.get(""os_hash_algo"", CONF['hashing_algorithm']) image.os_hash_algo = hashing_algo self._set_checksum_and_hash(image, hashing_algo, retry_limit) self.image_repo.save(image) def revert(self, result, **kwargs): """"""Set os_hash_algo to None when hash calculation fails"""""" image = self.image_repo.get(self.image_id) setattr(image, 'os_hash_algo', None) self.image_repo.save(image) class _ValidateValidationDataWithHash(task.Task): def __init__(self, task_id, task_type, image_repo, image_id, val_data): self.task_id = task_id self.task_type = task_type self.image_repo = image_repo self.image_id = image_id self.val_data = val_data super(_ValidateValidationDataWithHash, self).__init__( name='%s-ValidateValidationDataWithHash-%s' % (task_type, task_id)) def execute(self): """"""Calculate Checksum & Hash and validate with values passed in Validation Data :param image_id: Glance Image ID """""" image = self.image_repo.get(self.image_id) image.status = 'importing' self.image_repo.save(image) for k, v in self.val_data.items(): if k != 'os_hash_algo' and v != getattr(image, k): msg = _(""%s (%s) not matched with actual "" ""%s (%s)"") % (k, self.val_data[k], k, getattr(image, k)) raise webob.exc.HTTPBadRequest(explanation=msg) image.status = 'active' self.image_repo.save(image) def revert(self, result, **kwargs): """"""Set image status back to queued"""""" image = self.image_repo.get(self.image_id) image.status = 'queued' self.image_repo.save(image) class _CompleteTask(task.Task): def __init__(self, task_id, task_type, task_repo, image_id): self.task_id = task_id self.task_type = task_type self.task_repo = task_repo self.image_id = image_id super(_CompleteTask, self).__init__( name='%s-CompleteTask-%s' % (task_type, task_id)) def _finish_task(self, task): try: task.succeed({'image_id': self.image_id}) except Exception as e: # Note: The message string contains Error in it to indicate # in the task.message that it's a error message for the user. # TODO(nikhil): need to bring back save_and_reraise_exception when # necessary log_msg = _LE(""Task ID %(task_id)s failed. Error: %(exc_type)s: "" ""%(e)s"") LOG.exception(log_msg, {'exc_type': str(type(e)), 'e': encodeutils.exception_to_unicode(e), 'task_id': task.task_id}) err_msg = _(""Error: %(exc_type)s: %(e)s"") task.fail(err_msg % {'exc_type': str(type(e)), 'e': encodeutils.exception_to_unicode(e)}) finally: self.task_repo.save(task) def execute(self): """"""Finishing the task flow :param image_id: Glance Image ID """""" task = script_utils.get_task(self.task_repo, self.task_id) if task is not None: self._finish_task(task) LOG.info(_LI(""%(task_id)s of %(task_type)s completed""), {'task_id': self.task_id, 'task_type': self.task_type}) def get_flow(**kwargs): """"""Return task flow :param task_id: Task ID :param task_type: Type of the task :param task_repo: Task repo :param image_repo: Image repository used :param image_id: ID of the Image to be processed """""" task_id = kwargs.get('task_id') task_type = kwargs.get('task_type') task_repo = kwargs.get('task_repo') image_repo = kwargs.get('image_repo') image_id = kwargs.get('image_id') val_data = kwargs.get('val_data', {}) flow = lf.Flow(task_type, retry=retry.AlwaysRevert()) flow.add( _CalculateHash(task_id, task_type, image_repo, image_id)) if val_data: flow.add( _ValidateValidationDataWithHash(task_id, task_type, image_repo, image_id, val_data)) flow.add( _CompleteTask(task_id, task_type, task_repo, image_id)) return flow ",,221,1
openstack%2Fopenstack-ansible~921735,openstack/openstack-ansible,master,If0df26247a44ca34c98532864b442f84d7a8ffd0,Update ansible to 2.17,NEW,2024-06-11 08:56:10.000000000,2024-06-14 12:49:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-11 08:56:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b918c89f6778d61dcab823cce8d5909d7afd4862', 'message': 'Update ansible to 2.17\n\nThis required installing a newer python on Rocky/Centos-9 as\nthe system python is too old for a new release ansible.\n\npython3.12 is used in the ansible-runtime venv, but the normal\nsystem python is still used for the openstack services.\n\nChange-Id: If0df26247a44ca34c98532864b442f84d7a8ffd0\n'}, {'number': 2, 'created': '2024-06-12 08:58:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/05d45c7cda2383ae18efbf7d5a0099dd08524f15', 'message': 'Update ansible to 2.17\n\nThis required installing a newer python on Rocky/Centos-9 as\nthe system python is too old for a new release ansible.\n\npython3.12 is used in the ansible-runtime venv, but the normal\nsystem python is still used for the openstack services.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/921837\nChange-Id: If0df26247a44ca34c98532864b442f84d7a8ffd0\n'}, {'number': 3, 'created': '2024-06-12 10:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/13c9474d77baa707efa52593c744e4e1c6689789', 'message': 'Update ansible to 2.17\n\nThis required installing a newer python on Rocky/Centos-9 as\nthe system python is too old for a new release ansible.\n\npython3.12 is used in the ansible-runtime venv, but the normal\nsystem python is still used for the openstack services.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/921837\nChange-Id: If0df26247a44ca34c98532864b442f84d7a8ffd0\n'}, {'number': 4, 'created': '2024-06-13 20:08:59.000000000', 'files': ['scripts/bootstrap-ansible.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/17d788cf33e3b99babf5f7a03815e1cf5324c8d3', 'message': 'Update ansible to 2.17\n\nThis required installing a newer python on Rocky/Centos-9 as\nthe system python is too old for a new release ansible.\n\npython3.12 is used in the ansible-runtime venv, but the normal\nsystem python is still used for the openstack services.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/921837\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/921976\nChange-Id: If0df26247a44ca34c98532864b442f84d7a8ffd0\n'}]",2,921735,17d788cf33e3b99babf5f7a03815e1cf5324c8d3,11,1,4,25023,,,0,"Update ansible to 2.17

This required installing a newer python on Rocky/Centos-9 as
the system python is too old for a new release ansible.

python3.12 is used in the ansible-runtime venv, but the normal
system python is still used for the openstack services.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/921837
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/921976
Change-Id: If0df26247a44ca34c98532864b442f84d7a8ffd0
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/35/921735/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/bootstrap-ansible.sh'],1,b918c89f6778d61dcab823cce8d5909d7afd4862,,"export ANSIBLE_PACKAGE=${ANSIBLE_PACKAGE:-""ansible-core==2.17.0""} dnf -y install python3.12 python3.12-pip python3 python3-devel python3-libselinux PYTHON_EXEC_PATH=""$(command -v python3.12 )"" OSA_ANSIBLE_PYTHON_INTERPRETER=""/usr/bin/python3.12"" dnf -y install python3.12 python3.12-pip python3 python3-devel libselinux-python3 PYTHON_EXEC_PATH=""$(command -v python3.12)"" OSA_ANSIBLE_PYTHON_INTERPRETER=""/usr/bin/python3.12""","export ANSIBLE_PACKAGE=${ANSIBLE_PACKAGE:-""ansible-core==2.15.9""} dnf -y install python3 python3-devel python3-libselinux PYTHON_EXEC_PATH=""$(command -v python3)"" OSA_ANSIBLE_PYTHON_INTERPRETER=""/usr/bin/python3"" dnf -y install python3 python3-devel libselinux-python3 PYTHON_EXEC_PATH=""$(command -v python3)""",7,6
openstack%2Fkolla-ansible~836941,openstack/kolla-ansible,master,Icd709cb042d44e063c5da64ab0695b0b6ba6d48b,Add container engine migration scenario,NEW,2022-04-07 11:30:57.000000000,2024-06-14 12:48:09.000000000,,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 29636}, {'_account_id': 32553}, {'_account_id': 33708}, {'_account_id': 34113}, {'_account_id': 34501}, {'_account_id': 34911}, {'_account_id': 36201}, {'_account_id': 36216}]","[{'number': 1, 'created': '2022-04-07 11:30:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c7c485f78d12dc94656c76517472a48af70a894a', 'message': 'Add migration path from docker to podman (WIP)\n\nAdd ""migrate"" action to kolla-ansible which migrates openstack\ndeployed on docker to podman.\n\nAll parameters for podman deployment should be given to migrate\naction.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 2, 'created': '2023-03-07 16:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c0fd6b557052a22e40aebb5e0ed4af6f33253089', 'message': 'Add migration path from docker to podman (WIP)\n\nAdd ""migrate"" action to kolla-ansible which migrates openstack\ndeployed on docker to podman.\n\nAll parameters for podman deployment should be given to migrate\naction.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 3, 'created': '2023-03-07 16:24:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e38307329c28a05fef463d23438041fb33245ce8', 'message': 'Add migration scenario from Docker to Podman (WIP)\n\nAdd ""migrate"" action to kolla-ansible which migrates openstack\ndeployed on Docker to Podman.\n\nFor the time being this patch should be treated as a proof of concept\nrather than actual solution.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 4, 'created': '2023-03-09 10:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/365cdc262b96710f49c6fcab67b9a903fcc3bf87', 'message': 'Add migration scenario from Docker to Podman (WIP)\n\nAdd ""migrate"" action to kolla-ansible which migrates openstack\ndeployed on Docker to Podman.\n\nFor the time being this patch should be treated as a proof of concept\nrather than actual solution.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 5, 'created': '2023-03-10 15:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4ad6dd43da54aedeccbda829ec3e6772a86fa9fa', 'message': 'Add migration scenario from Docker to Podman (WIP)\n\nAdd ""migrate"" action to kolla-ansible which migrates openstack\ndeployed on Docker to Podman.\n\nFor the time being this patch should be treated as a proof of concept\nrather than actual solution.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 6, 'created': '2023-03-10 15:51:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d2c1bdd3beddec838fbb50e1d1b59e565010ba82', 'message': 'Add migration scenario from Docker to Podman (WIP)\n\nAdd ""migrate"" action to kolla-ansible which migrates openstack\ndeployed on Docker to Podman.\n\nFor the time being this patch should be treated as a proof of concept\nrather than actual solution.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 7, 'created': '2023-03-13 12:36:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d319e9e01bb877e5694f2a5dfd7bee4b866239b9', 'message': 'Add migration scenario from Docker to Podman (WIP)\n\nAdd ""migrate"" action to kolla-ansible which migrates openstack\ndeployed on Docker to Podman.\n\nFor the time being this patch should be treated as a proof of concept\nrather than actual solution.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 8, 'created': '2023-03-13 16:01:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f7166ba95c94bb80d4523d279573aac68d68468b', 'message': 'Add migration scenario from Docker to Podman (WIP)\n\nAdd ""migrate"" action to kolla-ansible which migrates openstack\ndeployed on Docker to Podman.\n\nFor the time being this patch should be treated as a proof of concept\nrather than actual solution.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 9, 'created': '2023-03-20 14:24:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/960173b3cf0bc4f01fb5d19a22e0964240c87964', 'message': 'Add migration scenario from Docker to Podman (WIP)\n\nAdd ""migrate"" action to kolla-ansible which migrates openstack\ndeployed on Docker to Podman.\n\nFor the time being this patch should be treated as a proof of concept\nrather than actual solution.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 10, 'created': '2023-04-05 14:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/985f6254f88183be2083180d166dd1198c116611', 'message': 'Add migration scenario from Docker to Podman (WIP)\n\nAdd ""migrate"" action to kolla-ansible which migrates openstack\ndeployed on Docker to Podman.\n\nFor the time being this patch should be treated as a proof of concept\nrather than actual solution.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 11, 'created': '2023-04-28 14:21:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1f3ad78ff166e9ab5b2d1f2e63d980dcd2067aad', 'message': 'Add migration scenario from Docker to Podman (WIP)\n\nAdd ""migrate"" action to kolla-ansible which migrates openstack\ndeployed on Docker to Podman.\n\nFor the time being this patch should be treated as a proof of concept\nrather than actual solution.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 12, 'created': '2023-06-27 13:40:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ca2b95cdbc646c3d127b5b8340e4495126ae13f9', 'message': 'Add migration scenario from Docker to Podman (WIP)\n\nAdd ""migrate"" action to kolla-ansible which migrates openstack\ndeployed on Docker to Podman.\n\nFor the time being this patch should be treated as a proof of concept\nrather than actual solution.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 13, 'created': '2023-06-30 12:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/74ce35778eea27e9ad8887c711951f75cd63d37d', 'message': 'Add migration scenario from Docker to Podman (WIP)\n\nAdd ""migrate"" action to kolla-ansible which migrates openstack\ndeployed on Docker to Podman.\n\nFor the time being this patch should be treated as a proof of concept\nrather than actual solution.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 14, 'created': '2023-07-03 13:11:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4dd17434b0c4add3f2f4c8bf44222d431f2d4188', 'message': 'Add migration scenario from Docker to Podman (WIP)\n\nAdd ""migrate"" action to kolla-ansible which migrates openstack\ndeployed on Docker to Podman.\n\nFor the time being this patch should be treated as a proof of concept\nrather than actual solution.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 15, 'created': '2023-10-19 19:08:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1e634fc7788027294a469e826e53a236ddd71c7e', 'message': 'Add migration scenario from Docker to Podman (WIP)\n\nAdd ""migrate"" action to kolla-ansible which migrates openstack\ndeployed on Docker to Podman.\n\nFor the time being this patch should be treated as a proof of concept\nrather than actual solution.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 16, 'created': '2024-01-05 15:43:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d9148cc7c32525dfa65d1a018c916b06ee9d3298', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 17, 'created': '2024-01-08 09:31:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/df8fad3df9be18bcd7d073500c79cf28046405e9', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 18, 'created': '2024-01-08 14:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6f17f65cf7cff4fd0fa0679dfb78e21bb9acd13b', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 19, 'created': '2024-01-09 12:14:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/83fa513deaed0aed8391a4abf2adf3b36b28fb4c', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 20, 'created': '2024-01-09 16:35:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ffd300d6137690f726b56a9ee433714a4a3f4c8e', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 21, 'created': '2024-01-09 16:37:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d4dd639692875bf183ea51a554ee06ccaf968636', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 22, 'created': '2024-01-10 10:02:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/40b1db2facfc06630c067fc67c211dad112e726d', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 23, 'created': '2024-01-15 14:25:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a08343d38db474d74afa8c8e52018274cd3577b2', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 24, 'created': '2024-01-18 14:23:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/604c30813c5b38653e7de21fab4273fab7832bbf', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\nDepends-On: Ie766d04c666dedfa47ece9b605ccd7976fc7fcbb\n'}, {'number': 25, 'created': '2024-01-18 16:24:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/171299b514d779f9ebba4308e19d5a3ad79e102f', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\nDepends-On: Ie766d04c666dedfa47ece9b605ccd7976fc7fcbb\n'}, {'number': 26, 'created': '2024-01-19 12:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c685a325c1313a0c09190396ec69dc3513d98895', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\nDepends-On: Ie766d04c666dedfa47ece9b605ccd7976fc7fcbb\n'}, {'number': 27, 'created': '2024-01-22 11:59:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b756194d1ec03b00a061d7e69ab394de2783eb82', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\nDepends-On: Ie766d04c666dedfa47ece9b605ccd7976fc7fcbb\n'}, {'number': 28, 'created': '2024-01-22 12:00:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/107ca322ef594ceeb6296767efaa9f6e171d4467', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\nDepends-On: Ie766d04c666dedfa47ece9b605ccd7976fc7fcbb\n'}, {'number': 29, 'created': '2024-01-30 16:14:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/76c53a5af0f8cd92a46d52a18e97f723403359fe', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\nDepends-On: Ie766d04c666dedfa47ece9b605ccd7976fc7fcbb\n'}, {'number': 30, 'created': '2024-01-31 16:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a7fff1b77308a32bfe5bb7727603d70d9b7e12fe', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\nDepends-On: Ie766d04c666dedfa47ece9b605ccd7976fc7fcbb\n'}, {'number': 31, 'created': '2024-02-01 14:20:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1f3c993051f2886bdf0dd8d3043af1b8cbab83cb', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\nDepends-On: Ie766d04c666dedfa47ece9b605ccd7976fc7fcbb\n'}, {'number': 32, 'created': '2024-02-02 08:44:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c69cd2f3d547666d8d268f6c368705a9118655d3', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\nDepends-On: Ie766d04c666dedfa47ece9b605ccd7976fc7fcbb\n'}, {'number': 33, 'created': '2024-02-02 14:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/224c897ea397125ff93d49b2baec832e36118220', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\nDepends-On: Ie766d04c666dedfa47ece9b605ccd7976fc7fcbb\n'}, {'number': 34, 'created': '2024-02-05 10:42:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/198e1862148ce101b63bfea5b61a439d0aa36393', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\nDepends-On: Ie766d04c666dedfa47ece9b605ccd7976fc7fcbb\n'}, {'number': 35, 'created': '2024-02-27 12:28:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d7c65bbff8d568892f97d1b5fa04f10eaead6038', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\nDepends-On: Ie766d04c666dedfa47ece9b605ccd7976fc7fcbb\n'}, {'number': 36, 'created': '2024-02-27 12:36:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/95eea2902c33fb3f064a577248f8ee79c28b9134', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\nDepends-On: Ie766d04c666dedfa47ece9b605ccd7976fc7fcbb\n'}, {'number': 37, 'created': '2024-03-01 16:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b1cdef91572fa5dd6e97cb34166187ca55fccd1a', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\nDepends-On: Ie766d04c666dedfa47ece9b605ccd7976fc7fcbb\n'}, {'number': 38, 'created': '2024-03-04 12:40:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/58253aec7f2707b9f64b8af9bf4cafa5ac301cb2', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\nDepends-On: Ie766d04c666dedfa47ece9b605ccd7976fc7fcbb\n'}, {'number': 39, 'created': '2024-03-04 15:04:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ad8cab0be190817a65c696b3a797e24958ee64e8', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\nDepends-On: Ie766d04c666dedfa47ece9b605ccd7976fc7fcbb\n'}, {'number': 40, 'created': '2024-03-05 13:59:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/76ab6111d45e361f73b1ce6a0a743679ac0e0904', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\nDepends-On: Ie766d04c666dedfa47ece9b605ccd7976fc7fcbb\n'}, {'number': 41, 'created': '2024-03-18 13:22:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3c942aa4248d994b6fbdfb00247815c8a40bb763', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\nDepends-On: Ie766d04c666dedfa47ece9b605ccd7976fc7fcbb\n'}, {'number': 42, 'created': '2024-03-19 16:13:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/860d810a7a2f90190640a0e4b5cba02e7a57c281', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\nDepends-On: Ie766d04c666dedfa47ece9b605ccd7976fc7fcbb\n'}, {'number': 43, 'created': '2024-03-20 08:39:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a2e6f79d1779844ab09796374155a2c07a9333f1', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\nDepends-On: Ie766d04c666dedfa47ece9b605ccd7976fc7fcbb\n'}, {'number': 44, 'created': '2024-03-21 16:14:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/beff05474cea3011415c8456e2ff0a6173570662', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\nDepends-On: Ie766d04c666dedfa47ece9b605ccd7976fc7fcbb\n'}, {'number': 45, 'created': '2024-03-26 14:50:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5319cd9a91a23a721ca98f7be81b85e8533b3f4d', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 46, 'created': '2024-04-09 15:14:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9d452494208427d8aa44059a51f7fb535438196b', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 47, 'created': '2024-04-10 11:26:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f572ba45a3782b6836dd6715605738a835fcacbc', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 48, 'created': '2024-04-10 15:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5b90038c64ce1e04b31c9191eab1b6cdef9a70cb', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 49, 'created': '2024-04-11 13:09:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e1d55f4e4f87a5004b631708c3dcc86f94d95c48', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 50, 'created': '2024-04-15 14:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c28ad8faec6bf0d73f7c054a71ecd2dd3ae868a0', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 51, 'created': '2024-04-16 08:27:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/11338643c2db13b16de61219fa80a32ac8df0066', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 52, 'created': '2024-04-16 13:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/30edbbc6a4e7b8f4d145f43b16fa7422d07cd829', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 53, 'created': '2024-04-16 15:08:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4a5a2dfda14c177d05a9ecf68a5b7e4f3e2dd21f', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 54, 'created': '2024-04-17 14:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f49e9c5748fcf50aca1209e09c4c0dfae6941b29', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 55, 'created': '2024-04-24 13:59:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ce00b4d946d7b582cf8dba13b939cb7a6ac699b6', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 56, 'created': '2024-04-24 14:08:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/00452f57b0c7877d5350f5a77850d34fd53c7c1a', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 57, 'created': '2024-04-25 09:17:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2e228fce77497d4302fb447631bdf5490cf46524', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 58, 'created': '2024-04-26 11:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/327907e4cd522fcbb2759e98b5f37a548b15371b', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 59, 'created': '2024-04-29 14:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/64d1b3cbdcd59dce45954b383a5fe3845b6cbff5', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 60, 'created': '2024-04-30 08:34:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bcee7fc0df16516b749f2d45de66303cc5f0db95', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 61, 'created': '2024-05-02 11:54:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/71df08eb72974ea1fef6c158b5a88ad5a9db47d8', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 62, 'created': '2024-05-15 11:41:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6653605d7e6e7b00ccd0ef3551b503d26c6f8bcc', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 63, 'created': '2024-05-15 12:46:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cdf57db49ffd140474cea77cad48f50b0e0a064e', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 64, 'created': '2024-05-15 14:39:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/61862d0fd4bcb05c5db21c448e332920b3134424', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 65, 'created': '2024-05-15 15:49:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e3b94984323ea1937450004e2f21d6b857e9cb41', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 66, 'created': '2024-05-15 16:43:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ac6c7990f98378bfb8d213b407c2f515915028fe', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 67, 'created': '2024-05-16 09:00:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f67aa2391b2fc4d647f2572636aae5c6d26cd283', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 68, 'created': '2024-05-16 18:51:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ea5955e1cf4cf090eb1e8e8aa995039e6b1c7374', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 69, 'created': '2024-05-17 15:03:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/25f63d99d46a5e844e86440bbf0f6d2332142892', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 70, 'created': '2024-05-17 18:07:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d401dc5a42d7437e7ed47c26e38b6a31eb08126a', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 71, 'created': '2024-05-21 15:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3cb01d309c67ae31966c66d0c016c32260faf520', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 72, 'created': '2024-05-22 12:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c6835c389645b03f2d511ca9969d7cdca5bb492d', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 73, 'created': '2024-05-29 10:05:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/caaae4a0b8ae6b7ff86035adac995891ee51cf2a', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 74, 'created': '2024-05-30 13:46:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/954dbe5199e091df36a6c977b7821b297b12b8cf', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 75, 'created': '2024-05-31 08:45:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d3e3138043d3622eb00a6f81ed1c5ebf30ac59fa', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 76, 'created': '2024-06-11 13:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/742bba9bc8a085fa14fdea5ca2fb78b7b9a8eb76', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 77, 'created': '2024-06-12 11:27:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6a053179f6804438e7d796cc5a2cb5637f1948b3', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 78, 'created': '2024-06-12 11:29:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/eebdcfea1856ee2b2e70c0787823dc14bdfe263d', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 79, 'created': '2024-06-14 09:41:57.000000000', 'files': ['tests/post.yml', 'ansible/roles/container-engine-migration/tasks/main.yml', 'tests/run.yml', 'doc/source/admin/advanced-configuration.rst', 'zuul.d/base.yaml', 'ansible/roles/container-engine-migration/tasks/cleanup.yml', 'ansible/roles/container-engine-migration/defaults/main.yml', 'ansible/roles/container-engine-migration/tasks/migrate-volumes.yml', 'ansible/roles/container-engine-migration/files/ce-cleanup.sh', 'tests/test-container-engine-migration.sh', 'ansible/roles/mariadb/tasks/lookup_cluster.yml', 'ansible/roles/container-engine-migration/tasks/ovs-cleanup.yml', 'ansible/migrate-container-engine.yml', 'ansible/roles/mariadb/tasks/deploy.yml', 'zuul.d/project.yaml', 'ansible/gather-facts.yml', 'etc/kolla/globals.yml', 'zuul.d/jobs.yaml', 'tools/kolla-ansible', 'ansible/roles/container-engine-migration/tasks/replace.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e346bd19800a874b90cd5a61aaaf8e7ba41bb7dd', 'message': 'Add container engine migration scenario\n\nAdd ""migrate-container-engine"" action to kolla-ansible which\nchanges the container engine on which the Openstack is deployed on.\nFor example Docker to Podman and vice versa.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}]",46,836941,e346bd19800a874b90cd5a61aaaf8e7ba41bb7dd,249,12,79,34501,,,0,"Add container engine migration scenario

Add ""migrate-container-engine"" action to kolla-ansible which
changes the container engine on which the Openstack is deployed on.
For example Docker to Podman and vice versa.

Signed-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>
Signed-off-by: Martin Hiner <m.hiner@partner.samsung.com>
Change-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/41/836941/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/keystone/templates/keystone.json.j2', 'ansible/migrate.yml', 'tools/kolla-ansible']",3,c7c485f78d12dc94656c76517472a48af70a894a,kolla-podman,"(migrate) ACTION=""Migrate deployed openstack from docker to podman"" PLAYBOOK=""${BASEDIR}/ansible/migrate.yml"" echo ""BASEDIR: $BASEDIR"" > args.yml echo ""RAW_ARGS: '${RAW_ARGS::-8}'"" >> args.yml EXTRA_OPTS=""$EXTRA_OPTS -e @args.yml""",,54,0
openstack%2Fovn-bgp-agent~922002,openstack/ovn-bgp-agent,stable/2024.1,Id7dd902e5e2010ba41052cc9316db8518349c755,Announce lrp ip if advertisement method is subnet,MERGED,2024-06-14 09:33:17.000000000,2024-06-14 12:47:01.000000000,2024-06-14 12:46:08.000000000,"[{'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2024-06-14 09:33:17.000000000', 'files': ['ovn_bgp_agent/drivers/openstack/utils/wire.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/utils/test_wire.py'], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/b71ce99ff680d56779d4b702ab7c57e93ad6fd62', 'message': 'Announce lrp ip if advertisement method is subnet\n\nIn the case of the subnet advertisement method, we do not\nannounce the route to the tenant subnet via BGP. While the routes\nin br-ex are good, they do not fully expose the subnet.\n\nThis change exposes the router interface that connects the\ntenant subnet.\n\nCloses-Bug: 2068730\nChange-Id: Id7dd902e5e2010ba41052cc9316db8518349c755\n(cherry picked from commit bc1dc8ec9ea2438fe89ad0d9535dfddd05c463d9)\n'}]",0,922002,b71ce99ff680d56779d4b702ab7c57e93ad6fd62,8,4,1,23567,,,0,"Announce lrp ip if advertisement method is subnet

In the case of the subnet advertisement method, we do not
announce the route to the tenant subnet via BGP. While the routes
in br-ex are good, they do not fully expose the subnet.

This change exposes the router interface that connects the
tenant subnet.

Closes-Bug: 2068730
Change-Id: Id7dd902e5e2010ba41052cc9316db8518349c755
(cherry picked from commit bc1dc8ec9ea2438fe89ad0d9535dfddd05c463d9)
",git fetch https://review.opendev.org/openstack/ovn-bgp-agent refs/changes/02/922002/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_bgp_agent/drivers/openstack/utils/wire.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/utils/test_wire.py']",2,b71ce99ff680d56779d4b702ab7c57e93ad6fd62,bug/2068730-stable/2024.1," @mock.patch.object(linux_net, 'add_ip_route') @mock.patch.object(linux_net, 'get_ip_version') @mock.patch.object(linux_net, 'add_ip_rule') def test__wire_lrp_port_underlay_advertisement_subnet( self, m_ip_rule, m_ip_version, m_ip_route): CONF.set_override( 'advertisement_method_tenant_networks', constants.ADVERTISEMENT_METHOD_SUBNET) routing_tables_routes = {} ip = '10.0.0.1/24' bridge_device = 'fake-bridge' bridge_vlan = None routing_tables = {'fake-bridge': 5} cr_lrp_ips = ['fake-crlrp-ip'] ret = wire._wire_lrp_port_underlay( routing_tables_routes, ip, bridge_device, bridge_vlan, routing_tables, cr_lrp_ips) self.assertTrue(ret) m_ip_rule.assert_called_once_with(ip, 5) expected_ip_route_calls = [ mock.call( routing_tables_routes, ip.split('/')[0], routing_tables[bridge_device], bridge_device, vlan=bridge_vlan, mask=ip.split('/')[1], via=cr_lrp_ips[0]), mock.call( routing_tables_routes, ip.split('/')[0], CONF.bgp_vrf_table_id, CONF.bgp_nic, mask=ip.split('/')[1], via=cr_lrp_ips[0])] m_ip_route.assert_has_calls(expected_ip_route_calls) @mock.patch.object(linux_net, 'del_ip_route') @mock.patch.object(linux_net, 'get_ip_version') @mock.patch.object(linux_net, 'del_ip_rule') def test__unwire_lrp_port_underlay_advertisement_subnet( self, m_ip_rule, m_ip_version, m_ip_route): CONF.set_override( 'advertisement_method_tenant_networks', constants.ADVERTISEMENT_METHOD_SUBNET) routing_tables_routes = {} ip = '10.0.0.1/24' bridge_device = 'fake-bridge' bridge_vlan = None routing_tables = {'fake-bridge': 5} cr_lrp_ips = ['fake-crlrp-ip'] ret = wire._unwire_lrp_port_underlay( routing_tables_routes, ip, bridge_device, bridge_vlan, routing_tables, cr_lrp_ips) self.assertTrue(ret) m_ip_rule.assert_called_once_with(ip, 5) expected_ip_route_calls = [ mock.call( routing_tables_routes, ip.split('/')[0], routing_tables[bridge_device], bridge_device, vlan=bridge_vlan, mask=ip.split('/')[1], via=cr_lrp_ips[0]), mock.call( routing_tables_routes, ip.split('/')[0], CONF.bgp_vrf_table_id, CONF.bgp_nic, mask=ip.split('/')[1], via=cr_lrp_ips[0])] m_ip_route.assert_has_calls(expected_ip_route_calls)",,84,0
openstack%2Fglance~906359,openstack/glance,master,I5f791c58ae857f6c553276dd9808799c3db3aa4f,Make location URL compatible with cinder backend,NEW,2024-01-23 11:15:20.000000000,2024-06-14 12:46:40.000000000,,"[{'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2024-01-23 11:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/86eb10c4396b7b280f5ba7f400fecd36575e6c5a', 'message': 'Fix cinder location url compatible with multistore\n\nWhile adding location to an image, cinder sends location url as\n`cinder://volume_id` for single as well as multistore which is\nincompatible with glance multistore and store throws\nInvalidLoctation error.\n\nModifying the location url to be compatible with multistore as\n`cinder://store_id/volume_id` to avoid Invalid Location error.\n\nChange-Id: I5f791c58ae857f6c553276dd9808799c3db3aa4f\n'}, {'number': 2, 'created': '2024-01-24 10:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/2f32d688cee03c122df5ba06880bc8d0d1a95f13', 'message': 'Make location URL compatible with cinder backend.\n\nWhile adding location to an image, cinder sends location url as\n`cinder://volume_id` for single as well as multistore which is\nincompatible with glance multistore and store throws\nInvalidLoctation error.\n\nModifying the location url to be compatible with multistore as\n`cinder://store_id/volume_id` to avoid Invalid Location error.\n\nChange-Id: I5f791c58ae857f6c553276dd9808799c3db3aa4f\n'}, {'number': 3, 'created': '2024-02-01 10:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e51ac6a4df33ad98d1fea47ef8ef5002c613d533', 'message': 'Make location URL compatible with cinder backend.\n\nWhile adding location to an image, cinder sends location url as\n`cinder://volume_id` for single as well as multistore which is\nincompatible with glance multistore and store throws\nInvalidLoctation error.\n\nModifying the location url to be compatible with multistore as\n`cinder://store_id/volume_id` to avoid Invalid Location error.\n\nChange-Id: I5f791c58ae857f6c553276dd9808799c3db3aa4f\n'}, {'number': 4, 'created': '2024-02-07 06:50:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/431836b5650982c57c034aa370c11d302e23517f', 'message': 'Make location URL compatible with cinder backend.\n\nWhile adding location to an image, cinder sends location url as\n`cinder://volume_id` for single as well as multistore which is\nincompatible with glance multistore and store throws\nInvalidLoctation error.\n\nModifying the location url to be compatible with multistore as\n`cinder://store_id/volume_id` to avoid Invalid Location error.\n\nChange-Id: I5f791c58ae857f6c553276dd9808799c3db3aa4f\n'}, {'number': 5, 'created': '2024-02-15 10:31:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3c0966a0bc848a7de6cbabbe8be4e20509dbe394', 'message': 'Make location URL compatible with cinder backend.\n\nWhile adding location to an image, cinder sends location url as\n`cinder://volume_id` for single as well as multistore which is\nincompatible with glance multistore and store throws\nInvalidLoctation error.\n\nModifying the location url to be compatible with multistore as\n`cinder://store_id/volume_id` to avoid Invalid Location error.\n\nChange-Id: I5f791c58ae857f6c553276dd9808799c3db3aa4f\n'}, {'number': 6, 'created': '2024-02-20 10:23:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/4fa1381ee0e4125367498f2a853990b53d2717a3', 'message': 'Make location URL compatible with cinder backend.\n\nWhile adding location to an image, cinder sends location url as\n`cinder://volume_id` for single as well as multistore which is\nincompatible with glance multistore and store throws\nInvalidLoctation error.\n\nModifying the location url to be compatible with multistore as\n`cinder://store_id/volume_id` to avoid Invalid Location error.\n\nChange-Id: I5f791c58ae857f6c553276dd9808799c3db3aa4f\n'}, {'number': 7, 'created': '2024-02-22 07:41:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/2792c038eba6cabb35291fa2aa7c21e99074a1b5', 'message': 'Make location URL compatible with cinder backend\n\nWhile adding location to an image, cinder sends location url as\n`cinder://volume_id` for single as well as multistore which is\nincompatible with glance multistore and store throws\nInvalidLoctation error.\n\nModifying the location url to be compatible with multistore as\n`cinder://store_id/volume_id` to avoid Invalid Location error.\n\nCloses-Bug: #2054575\nChange-Id: I5f791c58ae857f6c553276dd9808799c3db3aa4f\n'}, {'number': 8, 'created': '2024-02-22 10:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ccfd8dab4bb3770714b3e141fb4dff2913a4b2c9', 'message': 'Make location URL compatible with cinder backend\n\nWhile adding location to an image, cinder sends location url as\n`cinder://volume_id` for single as well as multistore which is\nincompatible with glance multistore and store throws\nInvalidLoctation error.\n\nModifying the location url to be compatible with multistore as\n`cinder://store_id/volume_id` to avoid Invalid Location error.\n\nCloses-Bug: #2054575\nChange-Id: I5f791c58ae857f6c553276dd9808799c3db3aa4f\n'}, {'number': 9, 'created': '2024-02-26 08:34:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/983bde9f1f963e31744d9682893a32adb57e3d98', 'message': 'Make location URL compatible with cinder backend\n\nWhile adding location to an image, cinder sends location url as\n`cinder://volume_id` for single as well as multistore which is\nincompatible with glance multistore and store throws\nInvalidLoctation error.\n\nModifying the location url to be compatible with multistore as\n`cinder://store_id/volume_id` to avoid Invalid Location error.\n\nCloses-Bug: #2054575\nChange-Id: I5f791c58ae857f6c553276dd9808799c3db3aa4f\n'}, {'number': 10, 'created': '2024-02-28 19:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/bc336fc7b082dc51be04a6bc6ad96c72b7c75ab5', 'message': 'Make location URL compatible with cinder backend\n\nWhile adding location to an image, cinder sends location url as\n`cinder://volume_id` for single as well as multistore which is\nincompatible with glance multistore and store throws\nInvalidLoctation error.\n\nModifying the location url to be compatible with multistore as\n`cinder://store_id/volume_id` to avoid Invalid Location error.\n\nCloses-Bug: #2054575\nChange-Id: I5f791c58ae857f6c553276dd9808799c3db3aa4f\n'}, {'number': 11, 'created': '2024-02-28 19:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7e9bae465c327a352b50393d415cda2e8b70fec1', 'message': 'Make location URL compatible with cinder backend\n\nWhile adding location to an image, cinder sends location url as\n`cinder://volume_id` for single as well as multistore which is\nincompatible with glance multistore and store throws\nInvalidLoctation error.\n\nModifying the location url to be compatible with multistore as\n`cinder://store_id/volume_id` to avoid Invalid Location error.\n\nChange-Id: I5f791c58ae857f6c553276dd9808799c3db3aa4f\n'}, {'number': 12, 'created': '2024-04-04 07:00:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/4b2ff484e24bb314255a29696792d40f944b753f', 'message': 'Make location URL compatible with cinder backend\n\nWhile adding location to an image, cinder sends location url as\n`cinder://volume_id` for single as well as multistore which is\nincompatible with glance multistore and store throws\nInvalidLoctation error.\n\nModifying the location url to be compatible with multistore as\n`cinder://store_id/volume_id` to avoid Invalid Location error.\n\nChange-Id: I5f791c58ae857f6c553276dd9808799c3db3aa4f\n'}, {'number': 13, 'created': '2024-04-30 09:42:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/08420bd734975ed8c5c3bc335724fe2223ea5e29', 'message': 'Make location URL compatible with cinder backend\n\nWhile adding location to an image, cinder sends location url as\n`cinder://volume_id` for single as well as multistore which is\nincompatible with glance multistore and store throws\nInvalidLoctation error.\n\nModifying the location url to be compatible with multistore as\n`cinder://store_id/volume_id` to avoid Invalid Location error.\n\nChange-Id: I5f791c58ae857f6c553276dd9808799c3db3aa4f\n'}, {'number': 14, 'created': '2024-05-07 06:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/65ec7c3dac511ecd2c51f32442bf0f874f060c2b', 'message': 'Make location URL compatible with cinder backend\n\nWhile adding location to an image, cinder sends location url as\n`cinder://volume_id` for single as well as multistore which is\nincompatible with glance multistore and store throws\nInvalidLoctation error.\n\nModifying the location url to be compatible with multistore as\n`cinder://store_id/volume_id` to avoid Invalid Location error.\n\nChange-Id: I5f791c58ae857f6c553276dd9808799c3db3aa4f\n'}, {'number': 15, 'created': '2024-06-06 06:46:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/45dc70a3d84c720f135e576560b0007899f3e491', 'message': 'Make location URL compatible with cinder backend\n\nWhile adding location to an image, cinder sends location url as\n`cinder://volume_id` for single as well as multistore which is\nincompatible with glance multistore and store throws\nInvalidLoctation error.\n\nModifying the location url to be compatible with multistore as\n`cinder://store_id/volume_id` to avoid Invalid Location error.\n\nChange-Id: I5f791c58ae857f6c553276dd9808799c3db3aa4f\n'}, {'number': 16, 'created': '2024-06-14 10:35:46.000000000', 'files': ['glance/tests/unit/common/test_utils.py', 'glance/common/store_utils.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/c0e96abf3fb195f666431123f1ef37e12b950834', 'message': 'Make location URL compatible with cinder backend\n\nWhile adding location to an image, cinder sends location url as\n`cinder://volume_id` for single as well as multistore which is\nincompatible with glance multistore and store throws\nInvalidLoctation error.\n\nModifying the location url to be compatible with multistore as\n`cinder://store_id/volume_id` to avoid Invalid Location error.\n\nChange-Id: I5f791c58ae857f6c553276dd9808799c3db3aa4f\n'}]",61,906359,c0e96abf3fb195f666431123f1ef37e12b950834,79,4,16,19138,,,0,"Make location URL compatible with cinder backend

While adding location to an image, cinder sends location url as
`cinder://volume_id` for single as well as multistore which is
incompatible with glance multistore and store throws
InvalidLoctation error.

Modifying the location url to be compatible with multistore as
`cinder://store_id/volume_id` to avoid Invalid Location error.

Change-Id: I5f791c58ae857f6c553276dd9808799c3db3aa4f
",git fetch https://review.opendev.org/openstack/glance refs/changes/59/906359/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/common/store_utils.py', 'glance/tests/unit/async_/flows/test_location_import.py']",2,86eb10c4396b7b280f5ba7f400fecd36575e6c5a,New-Location-Apis," def test_execute_with_valid_cinder_store_location(self): volume_id = 'db457a25-8f16-4b2c-a644-eae8d17fe224' self.config(enabled_backends='cinder:foo') self.loc_url = 'cinder://%s' % volume_id self.image.status = 'queued' self.location_task_input.update(loc_url=self.loc_url) location_update = import_flow._UpdateLocationTask( TASK_ID1, TASK_TYPE, self.image_repo, IMAGE_ID1, self.loc_url, self.context) location_update.execute() self.assertEqual(1, self.image.locations.append.call_count) set_image_active = import_flow._SetImageToActiveTask( TASK_ID1, TASK_TYPE, self.image_repo, IMAGE_ID1) set_image_active.execute() self.assertEqual('active', self.image.status) ",,25,1
openstack%2Fglance~882498,openstack/glance,master,I9d14465a83e76c73e12cec3b96d42e568ab97072,Add new get location api,NEW,2023-05-07 17:54:01.000000000,2024-06-14 12:46:28.000000000,,"[{'_account_id': 4393}, {'_account_id': 5314}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2023-05-07 17:54:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/4abaaf542a32fad697320f5beb624eb1623e2d08', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associate\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `get_image_locations`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 2, 'created': '2023-05-07 18:05:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/445826a3507f11380944f4c5812a88d83b341fb8', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associate\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `get_image_locations`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 3, 'created': '2023-05-07 19:53:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5525751011099b373ee4f26864f10e0e5c5f66c7', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associate\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `get_image_locations`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 4, 'created': '2023-05-08 06:22:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/adb48b20bd54b7bdc999e6de9604d9b2228389ad', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associate\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `get_image_locations`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 5, 'created': '2023-05-08 08:21:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/2987d52f5f6000833fdc1fcdcfdb50dbf9b2bdec', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associate\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `get_image_locations`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 6, 'created': '2023-05-09 13:41:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/97ae8a6e7b06403a1d07c9a7a6f3200fbdb4ebf4', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associate\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 7, 'created': '2023-05-10 14:53:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0cf889c9f3190ef09a3abccb36e4cd277fb92f52', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associate\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 8, 'created': '2023-05-11 10:19:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ac3cd29aacd8e696c3ffa55539dd41cdb84d4ac6', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associate\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 9, 'created': '2023-05-12 11:34:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/860d3188915a34dbee7a44c82d4a116f6f906398', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 10, 'created': '2023-05-15 13:19:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/806b1b7354b2d2943e01f4ffa41909f22c30da71', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 11, 'created': '2023-05-15 13:23:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0dcf0ae374c7106a22aaa3d69bc3edba8ac08d4c', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 12, 'created': '2023-05-16 14:18:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1780a461020657ab93bc376a5b2384445b168f2f', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 13, 'created': '2023-05-17 08:01:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/23abdbd94fcd739969adbd22eda5f9d01936d06e', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 14, 'created': '2023-07-20 07:59:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ddc0724400ce68ffdc1424eb2814e9e324a15ed0', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 15, 'created': '2023-07-28 10:23:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/92590e0b186a97fa45b5629bf87cf88719bd7a6a', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 16, 'created': '2023-08-02 14:05:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3d534ec05ca54265113e931e48293b7971050793', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 17, 'created': '2023-08-02 14:14:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/543b8b768f8c62949be7955a4f1d84b7b4ea2397', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 18, 'created': '2023-08-03 06:58:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1d8fc2cb6a53f7672b280d3c23c3453ad89f1b79', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 19, 'created': '2023-08-03 10:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d1416c6a34e544763cef5d58b4886cf82529621b', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 20, 'created': '2023-08-09 11:13:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/de8b53cc762e45ab062f2b91a08f5a966eeecd61', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 21, 'created': '2023-08-09 11:32:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/bcb04989808a5a56bfa89b7e6bc805cdecc61a49', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 22, 'created': '2023-08-14 11:50:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c9ad8d441f3e2ba58e27b6bbedb4d6063d5801d2', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 23, 'created': '2023-08-16 09:29:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/bc1ee7fd66515bd4da6383bf21cddb370ae00aa3', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 24, 'created': '2023-08-20 12:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f4762c3d1b0695dd5e5b0d5241c7eb9c576d4bc5', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 25, 'created': '2023-08-24 11:40:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/50c187588f2b2c898e761cc87d5d7dc15dc7143c', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 26, 'created': '2023-08-24 15:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/46b3d453d6f45788686f15a1c388696989fe2254', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 27, 'created': '2023-08-25 17:41:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/29f153450dbfa7c1c8d768a5ea570dd66ead67d5', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 28, 'created': '2023-08-28 12:23:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ed2c67ea622594ff60065998d645a4f3e2a1434a', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 29, 'created': '2023-08-29 08:58:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/002a98cb40b75ef14ce0d54d559e2a0f4711c2ba', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 30, 'created': '2023-08-29 14:21:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0ac91f66e27975464df21fcb66ab8ed49dfa7935', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 31, 'created': '2023-08-29 18:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8f09bb21e42f09e037afe8170feac78b181eba3d', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 32, 'created': '2023-08-30 08:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/86385244a5d8aceb917cadecf4270ca1ba31bb81', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 33, 'created': '2023-08-30 13:57:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/14775f96b8dd48f715b586e1ada3dd7cdadd8e9a', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 34, 'created': '2023-08-31 07:57:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/135e4277f6bc4441d03badfac0fd5172e50cc115', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 35, 'created': '2023-08-31 10:27:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8eb116a6e0859139a88cbcba1b3816ef9c6ba1fd', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 36, 'created': '2023-09-05 07:25:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e7b8e8f9406e853f29b1fd403a0b36ccdef4901e', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 37, 'created': '2023-10-19 07:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c1832449818cfa2359ffbfafd036d821e06a2f30', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 38, 'created': '2023-10-31 09:27:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/864e5adcd64162f7c503b1edcb47d71867db2481', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 39, 'created': '2023-10-31 12:49:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/31f29110f537358bf3b6f2ceec0587afabe1ede1', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 40, 'created': '2023-11-02 09:35:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7bc5c4d988da45c189057b9091a5ae3f898dd073', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 41, 'created': '2023-11-08 11:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7c9f982e5f6d4cfc5ca10b0434a1217becc6c5f1', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 42, 'created': '2023-12-05 14:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/4e2df8208d946ada17bc762b38ff2280288ede53', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 43, 'created': '2024-01-02 12:02:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/27859e352e12561f4109afab31b1918906b4b5c4', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 44, 'created': '2024-01-11 07:36:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9ecdbf373f774a2f65bfe48677956c33fe23b02d', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 45, 'created': '2024-01-22 10:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a46b70c341f0b5d641681a9d36c790af31d03fd4', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 46, 'created': '2024-01-23 11:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/01e358c341e685275ecf29b54ec47f6adc99a688', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 47, 'created': '2024-01-24 10:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/fe9558caf373eeba49c3e93215cf79903eb8dd07', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 48, 'created': '2024-02-07 06:50:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d49c7ad3b4fedd633ad2b31649298a156fce92e2', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 49, 'created': '2024-02-07 09:14:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d28d526e6fd71d360f31ca8f07632849fbaae7fa', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 50, 'created': '2024-02-15 10:31:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/529463921b2f294aa1b1d551f9ee16a3069f8026', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 51, 'created': '2024-02-20 10:23:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b0d88e22a1e8def054a787b63d897aeb2bf116b0', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 52, 'created': '2024-02-21 12:59:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a8bc3214cc4f9496b92626a94786929ba6514255', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 53, 'created': '2024-02-22 07:41:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6e471b82e1943d35f2b39461f59c67c0154dcfd6', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 54, 'created': '2024-02-22 11:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/4ad23a49219abbe70688c6aea5f5c6999d318d1e', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 55, 'created': '2024-02-26 09:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/25ea730dfbff328d85809cd98f4730d7e7596746', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 56, 'created': '2024-02-27 07:12:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8e66eeb9ecd6d06e2a506167aa123b217f118f95', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 57, 'created': '2024-02-27 13:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ec34ef66e2c84af3da9c125e9e506ce09b048be6', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 58, 'created': '2024-02-27 15:26:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c542a91d909cdc96c5f2cbb77cced1adb9203f0d', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 59, 'created': '2024-02-28 03:51:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/87e42a42ba0943cbaaea2c1008f8dd4236f9c0e9', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 60, 'created': '2024-02-28 09:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a90a0c78123a58fc16f4f3264d03d6a3bd50e39d', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 61, 'created': '2024-02-28 11:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0282a2b460638f6c1a72bf147e31d49188c680ac', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 62, 'created': '2024-02-28 16:14:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a46cd8f31d9a9ecbb5af4534d491eea51e0c8985', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 63, 'created': '2024-02-28 19:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/4a6a715a005ac0ece96564e7c6191efc46839ecf', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 64, 'created': '2024-02-28 19:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c49a146ec2bf838622bd9b21cc543551ab4b31fd', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 65, 'created': '2024-02-29 10:17:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/fd368b604333aa63e07f43602622fe7735ab173c', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 66, 'created': '2024-02-29 11:03:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e2ef1f4fe1a4dda91972ca20ec5902e9facfe16e', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 67, 'created': '2024-04-04 07:00:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3252b4623aca09e6ff122c228ad97bd63009821b', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 68, 'created': '2024-04-08 06:31:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/634d91500ac2bebd6b778d52c8fd1568a2a6c2d1', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 69, 'created': '2024-04-29 08:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ba635fe0bd1ec7b5cc6ac85541dc3dccc3e81ab6', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 70, 'created': '2024-04-30 09:42:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/124440a2514d030484e1dc3cf62ffc4fefd0bbf7', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 71, 'created': '2024-05-07 06:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b924b25c4929c9df9073e956f89feb006481c807', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 72, 'created': '2024-05-07 13:08:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9c0c3d58f6965c4239b5bd6d482eff6ebd1aa75e', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 73, 'created': '2024-05-08 09:01:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8e46dc1d14847f6141c89f48064d4453f88b5b45', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 74, 'created': '2024-06-06 06:46:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/cc83a5246e704285ab6ad5ef64cab1468a7d61b2', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}, {'number': 75, 'created': '2024-06-14 10:35:46.000000000', 'files': ['glance/tests/functional/v2/test_images.py', 'glance/tests/unit/test_policy.py', 'glance/api/v2/images.py', 'glance/api/v2/router.py', 'glance/policies/image.py', 'glance/tests/unit/v2/test_images_resource.py', 'releasenotes/notes/add-new-get-locations-api-83c4b6dc077efc5f.yaml', 'glance/api/v2/policy.py', 'glance/policies/base.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/fdfb683fe3f79dcf1d2fa68fbb638a40e2e791ed', 'message': 'Add new get location api\n\nThis change adds a new location api GET\n/v2/images/{image_id}/locations to get the locations associated\nto the image.\nThis operation will be allowed to service user only,\nand validated by the new policy rule `fetch_image_location`.\n\nImplements: blueprint new-location-apis\nChange-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072\n'}]",68,882498,fdfb683fe3f79dcf1d2fa68fbb638a40e2e791ed,258,6,75,19138,,,0,"Add new get location api

This change adds a new location api GET
/v2/images/{image_id}/locations to get the locations associated
to the image.
This operation will be allowed to service user only,
and validated by the new policy rule `fetch_image_location`.

Implements: blueprint new-location-apis
Change-Id: I9d14465a83e76c73e12cec3b96d42e568ab97072
",git fetch https://review.opendev.org/openstack/glance refs/changes/98/882498/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/functional/v2/test_images.py', 'glance/tests/unit/test_policy.py', 'glance/api/v2/images.py', 'glance/policies/image.py', 'api-ref/source/v2/samples/locations-list-detail-response.json', 'glance/tests/unit/v2/test_images_resource.py', 'releasenotes/notes/add-new-get-locations-api-83c4b6dc077efc5f.yaml', 'api-ref/source/v2/images-images-v2.inc', 'glance/api/v2/policy.py', 'glance/policies/base.py']",10,4abaaf542a32fad697320f5beb624eb1623e2d08,New-Location-Apis, f'rule:service_api or ({PROJECT_MEMBER})'SERVICE = f'rule:service_api', f'rule:service-api or ({PROJECT_MEMBER})'SERVICE = 'rule:service-api',193,9
openstack%2Fcinder~915935,openstack/cinder,master,Ic81f2055bae7653226010f0fdfd3aba30897abc1,Dell PowerMax: RDF consistency exempt,NEW,2024-04-15 23:52:10.000000000,2024-06-14 12:45:08.000000000,,"[{'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 29122}, {'_account_id': 36396}]","[{'number': 1, 'created': '2024-04-15 23:52:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/534f78d5e0a02afafc6704301d7ed2f10ff1aa86', 'message': 'Dell PowerMax: RDF consistency exempt\n\nPowerMax allows volumes to be added, removed, or suspended without\naffecting the state of the SRDF/A or SRDF/Metro session or requiring\nthat other volumes in the session be suspended. Known as --exempt for\nsymcli and editStorageGroupActionParam in the PowerMax REST API,\nthis capability is available for an SRDF group supporting an active\nSRDF/A session or an active SRDF/Metro session.\n\nThe PowerMax Cinder driver currently uses the exempt flag when\nvolumes are added to SRDF groups, but not when volumes are\nremoved. This incurs an unnecessary performance penalty that is\nresolved by this change.\n\nCloses-Bug: #2061025\nChange-Id: Ic81f2055bae7653226010f0fdfd3aba30897abc1\n'}, {'number': 2, 'created': '2024-05-20 21:43:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/112b32984217b3e2f4e9609e302c65240cbd37dd', 'message': 'Dell PowerMax: RDF consistency exempt\n\nPowerMax allows volumes to be added, removed, or suspended without\naffecting the state of the SRDF/A or SRDF/Metro session or requiring\nthat other volumes in the session be suspended. Known as --exempt for\nsymcli and editStorageGroupActionParam in the PowerMax REST API,\nthis capability is available for an SRDF group supporting an active\nSRDF/A session or an active SRDF/Metro session.\n\nThe PowerMax Cinder driver currently uses the exempt flag when\nvolumes are added to SRDF groups, but not when volumes are\nremoved. This incurs an unnecessary performance penalty that is\nresolved by this change.\n\nImplements: blueprint dell-powermax-srdf-exempt\nChange-Id: Ic81f2055bae7653226010f0fdfd3aba30897abc1\n'}, {'number': 3, 'created': '2024-05-21 15:26:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d789121dbaa89e82bcc16325b494b91a72814525', 'message': 'Dell PowerMax: RDF consistency exempt\n\nPowerMax allows volumes to be added, removed, or suspended without\naffecting the state of the SRDF/A or SRDF/Metro session or requiring\nthat other volumes in the session be suspended. Known as --exempt for\nsymcli and editStorageGroupActionParam in the PowerMax REST API,\nthis capability is available for an SRDF group supporting an active\nSRDF/A session or an active SRDF/Metro session.\n\nThe PowerMax Cinder driver currently uses the exempt flag when\nvolumes are added to SRDF groups, but not when volumes are\nremoved. This incurs an unnecessary performance penalty that is\nresolved by this change.\n\nImplements: blueprint dell-powermax-srdf-exempt\nChange-Id: Ic81f2055bae7653226010f0fdfd3aba30897abc1\n'}, {'number': 4, 'created': '2024-05-21 15:27:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0497416f5e2a09ca4d7a5ec7ef4c2ae0dd15b196', 'message': 'Dell PowerMax: RDF consistency exempt\n\nPowerMax allows volumes to be added, removed, or suspended without\naffecting the state of the SRDF/A or SRDF/Metro session or requiring\nthat other volumes in the session be suspended. Known as --exempt for\nsymcli and editStorageGroupActionParam in the PowerMax REST API,\nthis capability is available for an SRDF group supporting an active\nSRDF/A session or an active SRDF/Metro session.\n\nThe PowerMax Cinder driver currently uses the exempt flag when\nvolumes are added to SRDF groups, but not when volumes are\nremoved. This incurs an unnecessary performance penalty that is\nresolved by this change.\n\nImplements: blueprint dell-powermax-srdf-exempt\nChange-Id: Ic81f2055bae7653226010f0fdfd3aba30897abc1\n'}, {'number': 5, 'created': '2024-05-22 16:38:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/650c16d61ef46457c498f89e0d9a6afabb12da10', 'message': 'Dell PowerMax: RDF consistency exempt\n\nPowerMax allows volumes to be added, removed, or suspended without\naffecting the state of the SRDF/A or SRDF/Metro session or requiring\nthat other volumes in the session be suspended. Known as --exempt for\nsymcli and editStorageGroupActionParam in the PowerMax REST API,\nthis capability is available for an SRDF group supporting an active\nSRDF/A session or an active SRDF/Metro session.\n\nThe PowerMax Cinder driver currently uses the exempt flag when\nvolumes are added to SRDF groups, but not when volumes are\nremoved. This incurs an unnecessary performance penalty that is\nresolved by this change.\n\nImplements: blueprint dell-powermax-srdf-exempt\nChange-Id: Ic81f2055bae7653226010f0fdfd3aba30897abc1\n'}, {'number': 6, 'created': '2024-06-10 14:29:49.000000000', 'files': ['releasenotes/notes/bp-dell-powermax-consistency-exempt.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_rest.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/volume/drivers/dell_emc/powermax/rest.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8ebc0565a033327bcbfbb14d9eebd54a3e3ec16d', 'message': 'Dell PowerMax: RDF consistency exempt\n\nPowerMax allows volumes to be added, removed, or suspended without\naffecting the state of the SRDF/A or SRDF/Metro session or requiring\nthat other volumes in the session be suspended. Known as --exempt for\nsymcli and editStorageGroupActionParam in the PowerMax REST API,\nthis capability is available for an SRDF group supporting an active\nSRDF/A session or an active SRDF/Metro session.\n\nThe PowerMax Cinder driver currently uses the exempt flag when\nvolumes are added to SRDF groups, but not when volumes are\nremoved. This incurs an unnecessary performance penalty that is\nresolved by this change.\n\nImplements: blueprint dell-powermax-srdf-exempt\nChange-Id: Ic81f2055bae7653226010f0fdfd3aba30897abc1\n'}]",4,915935,8ebc0565a033327bcbfbb14d9eebd54a3e3ec16d,63,4,6,36396,,,0,"Dell PowerMax: RDF consistency exempt

PowerMax allows volumes to be added, removed, or suspended without
affecting the state of the SRDF/A or SRDF/Metro session or requiring
that other volumes in the session be suspended. Known as --exempt for
symcli and editStorageGroupActionParam in the PowerMax REST API,
this capability is available for an SRDF group supporting an active
SRDF/A session or an active SRDF/Metro session.

The PowerMax Cinder driver currently uses the exempt flag when
volumes are added to SRDF groups, but not when volumes are
removed. This incurs an unnecessary performance penalty that is
resolved by this change.

Implements: blueprint dell-powermax-srdf-exempt
Change-Id: Ic81f2055bae7653226010f0fdfd3aba30897abc1
",git fetch https://review.opendev.org/openstack/cinder refs/changes/35/915935/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_rest.py', 'releasenotes/notes/bug-2061025-dell-powermax-consistency-exempt.yaml', 'cinder/volume/drivers/dell_emc/powermax/rest.py']",3,534f78d5e0a02afafc6704301d7ed2f10ff1aa86,dell-powermax-srdf-exempt," {""suspend"": {""force"": ""true"", ""consExempt"": ""true""}, ""action"": ""Suspend""},"," {""suspend"": {""force"": ""true""}, ""action"": ""Suspend""},",30,5
openstack%2Fkeystoneauth~922008,openstack/keystoneauth,master,I6eac3be7f37887d743d54171021521d4b1c70482,tox: Migrate to tox v4,NEW,2024-06-14 10:49:29.000000000,2024-06-14 12:43:37.000000000,,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2024-06-14 10:49:29.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/0eb7b6ee73af881c8a94e9b3ba3e863af63cee1d', 'message': ""tox: Migrate to tox v4\n\nThe current v3 configuration worked just fine, but it's not longer\npossible to share envdirs between testenvs and tox 4 only supports\nPython 3, so the two settings related to these were useless. They are\nremoved and we also clean up the file while we're at it.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I6eac3be7f37887d743d54171021521d4b1c70482\n""}]",0,922008,0eb7b6ee73af881c8a94e9b3ba3e863af63cee1d,3,2,1,15334,,,0,"tox: Migrate to tox v4

The current v3 configuration worked just fine, but it's not longer
possible to share envdirs between testenvs and tox 4 only supports
Python 3, so the two settings related to these were useless. They are
removed and we also clean up the file while we're at it.

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: I6eac3be7f37887d743d54171021521d4b1c70482
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/08/922008/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0eb7b6ee73af881c8a94e9b3ba3e863af63cee1d,python-3.12,"minversion = 4.3.0setenv = OS_STDOUT_NOCAPTURE=False OS_STDERR_NOCAPTURE=False bash commands = stestr run {posargs} flake8 # Run security linter # B110: except: pass # B410: importing etree bandit -r keystoneauth1 -x tests -s B110,B410commands = oslo_debug_helper -t keystoneauth1/tests {posargs} [testenv:docs] setenv = {[testenv]setenv} SPHINX_APIDOC_OPTIONS=noindex,members,undoc-members,show-inheritance deps = -c{env:TOX_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -r{toxinidir}/doc/requirements.txt commands = bash -c ""rm -rf doc/build"" bash -c ""rm -rf doc/source/api"" sphinx-build -W -b html -d doc/build/doctrees doc/source doc/build/html [testenv:pdf-docs] setenv = {[testenv]setenv} SPHINX_APIDOC_OPTIONS=noindex,members,undoc-members,show-inheritance deps = {[testenv:docs]deps} allowlist_externals = make rm commands = rm -rf doc/build/pdf sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf [testenv:releasenotes] deps = -c{env:TOX_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -r{toxinidir}/doc/requirements.txt commands = sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html","minversion = 3.1.1ignore_basepython_conflict = Truesetenv = VIRTUAL_ENV={envdir} OS_STDOUT_NOCAPTURE=False OS_STDERR_NOCAPTURE=Falsecommands = stestr run {posargs} bash basepython = python3 flake8 # Run security linter # B110: except: pass # B410: importing etree bandit -r keystoneauth1 -x tests -s B110,B410commands = oslo_debug_helper -t keystoneauth1/tests {posargs}[testenv:docs] setenv = {[testenv]setenv} SPHINX_APIDOC_OPTIONS=noindex,members,undoc-members,show-inheritance deps = -c{env:TOX_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -r{toxinidir}/doc/requirements.txt commands = bash -c ""rm -rf doc/build"" bash -c ""rm -rf doc/source/api"" sphinx-build -W -b html -d doc/build/doctrees doc/source doc/build/html [testenv:pdf-docs] setenv = {[testenv]setenv} SPHINX_APIDOC_OPTIONS=noindex,members,undoc-members,show-inheritance envdir = {toxworkdir}/docs deps = {[testenv:docs]deps} allowlist_externals = make rm commands = rm -rf doc/build/pdf sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf [testenv:releasenotes] deps = -c{env:TOX_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -r{toxinidir}/doc/requirements.txt commands = sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html ",47,46
openstack%2Fkolla-ansible~920460,openstack/kolla-ansible,master,I9a71da5a00a4580b491a9c10ca34094b6654b438,CI: drop docker pin,MERGED,2024-05-26 07:13:08.000000000,2024-06-14 12:36:12.000000000,2024-06-14 12:35:02.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}]","[{'number': 1, 'created': '2024-05-26 07:13:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cde807fd596c8fc67cbcad3a43a584f352d53ff2', 'message': 'CI: drop docker pin\n\nChange-Id: I9a71da5a00a4580b491a9c10ca34094b6654b438\n'}, {'number': 2, 'created': '2024-06-13 14:29:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5739e33785610e7d8ff9010f49bec5170b4c7bc4', 'message': 'CI: drop docker pin\n\nChange-Id: I9a71da5a00a4580b491a9c10ca34094b6654b438\n'}, {'number': 3, 'created': '2024-06-14 08:40:56.000000000', 'files': ['tests/setup_gate.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9f347fa7f0a7c878562b0903d62ac9cacea460bc', 'message': 'CI: drop docker pin\n\nChange-Id: I9a71da5a00a4580b491a9c10ca34094b6654b438\n'}]",0,920460,9f347fa7f0a7c878562b0903d62ac9cacea460bc,19,4,3,22629,,,0,"CI: drop docker pin

Change-Id: I9a71da5a00a4580b491a9c10ca34094b6654b438
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/60/920460/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/setup_gate.sh'],1,cde807fd596c8fc67cbcad3a43a584f352d53ff2,," pip install ""${KOLLA_SRC_DIR}"" ""docker"""," pip install ""${KOLLA_SRC_DIR}"" ""docker<7"" ""requests<2.32""",1,1
openstack%2Fneutron~921840,openstack/neutron,stable/2023.1,I2734984f10341ab97ebbdee11389d214bb1150f3,[OVN] Bump revision number after update_virtual_port_host,MERGED,2024-06-12 09:10:54.000000000,2024-06-14 12:35:15.000000000,2024-06-14 12:33:03.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 25468}]","[{'number': 1, 'created': '2024-06-12 09:10:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e5618ff39f008a3f8b5f548345bb1f4cb7c071a8', 'message': '[OVN] Bump revision number after update_virtual_port_host\n\nThis patch adds bump revision after updating the hostname\nof a virtual port (more specifically its associated port).\nThis way there is no misalignment between the revision number\nof Neutron DB and OVN DB.\n\nIt also avoids the unnecessary execution of the maintenance\ntask to simply match the revision_number.\n\nCloses-Bug: #2069046\nChange-Id: I2734984f10341ab97ebbdee11389d214bb1150f3\n(cherry picked from commit f210a904793b585dafea8085ed62e06f3fed2e6e)\n'}, {'number': 2, 'created': '2024-06-12 11:15:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ed166fe4b2c08fc0b5aa84c3277212786c3a134f', 'message': '[OVN] Bump revision number after update_virtual_port_host\n\nThis patch adds bump revision after updating the hostname\nof a virtual port (more specifically its associated port).\nThis way there is no misalignment between the revision number\nof Neutron DB and OVN DB.\n\nIt also avoids the unnecessary execution of the maintenance\ntask to simply match the revision_number.\n\nCloses-Bug: #2069046\nChange-Id: I2734984f10341ab97ebbdee11389d214bb1150f3\n(cherry picked from commit f210a904793b585dafea8085ed62e06f3fed2e6e)\n'}, {'number': 3, 'created': '2024-06-12 17:41:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/987dfe31296a133274834518ed651ee1d91163be', 'message': '[OVN] Bump revision number after update_virtual_port_host\n\nThis patch adds bump revision after updating the hostname\nof a virtual port (more specifically its associated port).\nThis way there is no misalignment between the revision number\nof Neutron DB and OVN DB.\n\nIt also avoids the unnecessary execution of the maintenance\ntask to simply match the revision_number.\n\nCloses-Bug: #2069046\nChange-Id: I2734984f10341ab97ebbdee11389d214bb1150f3\n(cherry picked from commit f210a904793b585dafea8085ed62e06f3fed2e6e)\n'}, {'number': 4, 'created': '2024-06-12 17:46:17.000000000', 'files': ['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/27869542aa54e40fdb87c473dfab6d79116cc5d9', 'message': '[OVN] Bump revision number after update_virtual_port_host\n\nThis patch adds bump revision after updating the hostname\nof a virtual port (more specifically its associated port).\nThis way there is no misalignment between the revision number\nof Neutron DB and OVN DB.\n\nIt also avoids the unnecessary execution of the maintenance\ntask to simply match the revision_number.\n\nCloses-Bug: #2069046\nChange-Id: I2734984f10341ab97ebbdee11389d214bb1150f3\n(cherry picked from commit f210a904793b585dafea8085ed62e06f3fed2e6e)\n'}]",2,921840,27869542aa54e40fdb87c473dfab6d79116cc5d9,24,4,4,34451,,,0,"[OVN] Bump revision number after update_virtual_port_host

This patch adds bump revision after updating the hostname
of a virtual port (more specifically its associated port).
This way there is no misalignment between the revision number
of Neutron DB and OVN DB.

It also avoids the unnecessary execution of the maintenance
task to simply match the revision_number.

Closes-Bug: #2069046
Change-Id: I2734984f10341ab97ebbdee11389d214bb1150f3
(cherry picked from commit f210a904793b585dafea8085ed62e06f3fed2e6e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/40/921840/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",2,e5618ff39f008a3f8b5f548345bb1f4cb7c071a8,bug/2038413," context = n_context.get_admin_context() self._plugin.update_virtual_port_host(context, port_id, hostname) db_port = self._plugin.get_port(context, port_id) check_rev_cmd = self.nb_ovn.check_revision_number( port_id, db_port, ovn_const.TYPE_PORTS) txn.add(check_rev_cmd) if check_rev_cmd.result == ovn_const.TXN_COMMITTED: ovn_revision_numbers_db.bump_revision(context, db_port, ovn_const.TYPE_PORTS)"," self._plugin.update_virtual_port_host(n_context.get_admin_context(), port_id, hostname) ",38,3
openstack%2Fneutron~921836,openstack/neutron,stable/2023.1,I59c6c4b2c8b023b9c9c3bab1741d957fa1f738fc,[OVN] Update lsp host id when virtual parent moves,MERGED,2024-06-12 08:56:34.000000000,2024-06-14 12:34:05.000000000,2024-06-14 12:32:55.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 25468}]","[{'number': 1, 'created': '2024-06-12 08:56:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/43ac7bc13bde0e955a30f032c6f86d9b3594c359', 'message': ""[OVN] Update lsp host id when virtual parent moves\n\nWhen a virtual port is moved from one port to another port the\nPortBindingUpdateVirtualPortsEvent event would only update the binding\nhost id in the neutron database, while it is also usefull to keep the\ninformation in the OVN database up to date with the host information\n\nOther plugins that connect to the OVN database can then also rely on the\ninformation stored in the OVN DB's\n\nCloses-Bug: #2038413\n\nChange-Id: I59c6c4b2c8b023b9c9c3bab1741d957fa1f738fc\n(cherry picked from commit e68a920c114010a36a667d90866bfb6243148b6d)\n""}, {'number': 2, 'created': '2024-06-12 17:27:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c1b4ce8f4f5d834a9c165604bfacc9f4de5329bc', 'message': ""[OVN] Update lsp host id when virtual parent moves\n\nWhen a virtual port is moved from one port to another port the\nPortBindingUpdateVirtualPortsEvent event would only update the binding\nhost id in the neutron database, while it is also usefull to keep the\ninformation in the OVN database up to date with the host information\n\nOther plugins that connect to the OVN database can then also rely on the\ninformation stored in the OVN DB's\n\nCloses-Bug: #2038413\n\nChange-Id: I59c6c4b2c8b023b9c9c3bab1741d957fa1f738fc\n(cherry picked from commit e68a920c114010a36a667d90866bfb6243148b6d)\n""}, {'number': 3, 'created': '2024-06-12 17:36:29.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ebd52b0df31ccd68cf32d214ef98a53be118af38', 'message': ""[OVN] Update lsp host id when virtual parent moves\n\nWhen a virtual port is moved from one port to another port the\nPortBindingUpdateVirtualPortsEvent event would only update the binding\nhost id in the neutron database, while it is also usefull to keep the\ninformation in the OVN database up to date with the host information\n\nOther plugins that connect to the OVN database can then also rely on the\ninformation stored in the OVN DB's\n\nCloses-Bug: #2038413\n\nChange-Id: I59c6c4b2c8b023b9c9c3bab1741d957fa1f738fc\n(cherry picked from commit e68a920c114010a36a667d90866bfb6243148b6d)\n""}]",3,921836,ebd52b0df31ccd68cf32d214ef98a53be118af38,20,4,3,34451,,,0,"[OVN] Update lsp host id when virtual parent moves

When a virtual port is moved from one port to another port the
PortBindingUpdateVirtualPortsEvent event would only update the binding
host id in the neutron database, while it is also usefull to keep the
information in the OVN database up to date with the host information

Other plugins that connect to the OVN database can then also rely on the
information stored in the OVN DB's

Closes-Bug: #2038413

Change-Id: I59c6c4b2c8b023b9c9c3bab1741d957fa1f738fc
(cherry picked from commit e68a920c114010a36a667d90866bfb6243148b6d)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/36/921836/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",3,43ac7bc13bde0e955a30f032c6f86d9b3594c359,bug/2038413," # Updates neutron database with hostname for virtual port # Updates OVN NB database with hostname for lsp virtual port with self.nb_ovn.transaction(check_error=True) as txn: ext_ids = ('external_ids', {ovn_const.OVN_HOST_ID_EXT_ID_KEY: hostname}) txn.add( self.nb_ovn.db_set( 'Logical_Switch_Port', port_id, ext_ids)) ",,108,3
openstack%2Fneutron~921839,openstack/neutron,stable/2023.1,I3666cf0509747863ca2a416c8bfc065582573734,[OVN] Fix virtual parent match for PortBindingUpdateVirtualPortsEvent,MERGED,2024-06-12 08:57:31.000000000,2024-06-14 12:32:59.000000000,2024-06-14 12:32:59.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-12 08:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/95e1338796b481a7ff664f9a3b839950cdfa9b25', 'message': '[OVN] Fix virtual parent match for PortBindingUpdateVirtualPortsEvent\n\nAs mentioned in change [1], the condition should be a `is None` as per inline comment.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/896883\n\nRelated-Bug: #2038413\nChange-Id: I3666cf0509747863ca2a416c8bfc065582573734\n(cherry picked from commit 170d99f2d53f77d4c66e505f310fd9d8f3481149)\n'}, {'number': 2, 'created': '2024-06-12 17:27:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/780a954c79e2274fac45ce951862b1fc1a0634ef', 'message': '[OVN] Fix virtual parent match for PortBindingUpdateVirtualPortsEvent\n\nAs mentioned in change [1], the condition should be a `is None` as per inline comment.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/896883\n\nRelated-Bug: #2038413\nChange-Id: I3666cf0509747863ca2a416c8bfc065582573734\n(cherry picked from commit 170d99f2d53f77d4c66e505f310fd9d8f3481149)\n'}, {'number': 3, 'created': '2024-06-12 17:42:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6910f8c28b4fcf152cba9548e40f00659efb02f1', 'message': '[OVN] Fix virtual parent match for PortBindingUpdateVirtualPortsEvent\n\nAs mentioned in change [1], the condition should be a `is None` as per inline comment.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/896883\n\nRelated-Bug: #2038413\nChange-Id: I3666cf0509747863ca2a416c8bfc065582573734\n(cherry picked from commit 170d99f2d53f77d4c66e505f310fd9d8f3481149)\n'}, {'number': 4, 'created': '2024-06-12 17:45:56.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cbcfa692fcaa272f1355c9d2f599f27d5c01ef60', 'message': '[OVN] Fix virtual parent match for PortBindingUpdateVirtualPortsEvent\n\nAs mentioned in change [1], the condition should be a `is None` as per\ninline comment.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/896883\n\n(NOTE: This patch retrieves a test that was skipped in a previous\nbackport.)\n\nRelated-Bug: #2038413\nChange-Id: I3666cf0509747863ca2a416c8bfc065582573734\n(cherry picked from commit 170d99f2d53f77d4c66e505f310fd9d8f3481149)\n'}]",2,921839,cbcfa692fcaa272f1355c9d2f599f27d5c01ef60,25,4,4,34451,,,0,"[OVN] Fix virtual parent match for PortBindingUpdateVirtualPortsEvent

As mentioned in change [1], the condition should be a `is None` as per
inline comment.

[1] https://review.opendev.org/c/openstack/neutron/+/896883

(NOTE: This patch retrieves a test that was skipped in a previous
backport.)

Related-Bug: #2038413
Change-Id: I3666cf0509747863ca2a416c8bfc065582573734
(cherry picked from commit 170d99f2d53f77d4c66e505f310fd9d8f3481149)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/39/921839/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py']",2,95e1338796b481a7ff664f9a3b839950cdfa9b25,bug/2038413,"class TestPortBindingUpdateVirtualPortsEvent(base.BaseTestCase): def setUp(self): super().setUp() self.event = ovsdb_monitor.PortBindingUpdateVirtualPortsEvent(None) self.pbtable = fakes.FakeOvsdbTable.create_one_ovsdb_table( attrs={'name': 'Port_Binding'}) self.ovsdb_row = fakes.FakeOvsdbRow.create_one_ovsdb_row self.row = self.ovsdb_row( attrs={'_table': self.pbtable, 'chassis': 'newchassis', 'options': { 'virtual-parents': 'uuid1,uuid2'}}) def test_delete_event_matches(self): # Delete event (only type virtual). self.assertFalse(self.event.match_fn( self.event.ROW_DELETE, self.ovsdb_row(attrs={'_table': self.pbtable, 'type': '_fake_'}), None)) self.assertTrue(self.event.match_fn( self.event.ROW_DELETE, self.ovsdb_row(attrs={'_table': self.pbtable, 'type': 'virtual'}), None)) def test_event_no_match_no_options(self): # Unrelated portbind change (no options in old, so no virtual parents) self.assertFalse(self.event.match_fn( self.event.ROW_UPDATE, self.row, self.ovsdb_row(attrs={'_table': self.pbtable, 'name': 'somename'}))) def test_event_no_match_other_options_change(self): # Non-virtual parent change, no chassis has changed old = self.ovsdb_row(attrs={'_table': self.pbtable, 'options': { 'virtual-parents': 'uuid1,uuid2', 'other-opt': '_fake_'}}) self.assertFalse(self.event.match_fn(self.event.ROW_UPDATE, self.row, old)) def test_event_match_chassis_change(self): # Port binding change (chassis changed, and marked in old) self.assertTrue(self.event.match_fn( self.event.ROW_UPDATE, self.row, self.ovsdb_row(attrs={'_table': self.pbtable, 'chassis': 'fakechassis'}))) def test_event_match_virtual_parent_change(self): # Virtual parent change old = self.ovsdb_row(attrs={'_table': self.pbtable, 'options': { 'virtual-parents': 'uuid1,uuid3'}}) self.assertTrue(self.event.match_fn(self.event.ROW_UPDATE, self.row, old)) ",,60,1
openstack%2Foctavia~864308,openstack/octavia,master,I65b373943a5cfb974c4413aefa9c62658aae8500,Add Barbican secrets consumers,NEW,2022-11-11 20:55:28.000000000,2024-06-14 12:32:50.000000000,,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 31664}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-11-11 20:55:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f2140ae6290122ab55e64791613690540dd43305', 'message': 'Add Barbican secrets consumers\n\nBarbican has added support for consumers on secrets. This patch enables\nthat functionality in Octavia. Octavia will now registger and unregister\nconsumbers on all of the barbican objects load balancers are using.\nThis should block the acidental deletion of secrets content from\nBarbican while it is still in use in Octavia.\n\nDepends-On: https://review.opendev.org/c/openstack/python-barbicanclient/+/855952\nChange-Id: I65b373943a5cfb974c4413aefa9c62658aae8500\n'}, {'number': 2, 'created': '2022-11-12 00:48:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2853d81ef2d503eff62074d7d4f1037020e680e0', 'message': 'Add Barbican secrets consumers\n\nBarbican has added support for consumers on secrets. This patch enables\nthat functionality in Octavia. Octavia will now registger and unregister\nconsumbers on all of the barbican objects load balancers are using.\nThis should block the acidental deletion of secrets content from\nBarbican while it is still in use in Octavia.\n\nDepends-On: https://review.opendev.org/c/openstack/python-barbicanclient/+/855952\nChange-Id: I65b373943a5cfb974c4413aefa9c62658aae8500\n'}, {'number': 3, 'created': '2022-11-12 00:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e0aa9755793ceff0e05fbe90fac6e98559e0ebb4', 'message': 'Add Barbican secrets consumers\n\nBarbican has added support for consumers on secrets. This patch enables\nthat functionality in Octavia. Octavia will now registger and unregister\nconsumbers on all of the barbican objects load balancers are using.\nThis should block the acidental deletion of secrets content from\nBarbican while it is still in use in Octavia.\n\nDepends-On: https://review.opendev.org/c/openstack/python-barbicanclient/+/855952\nChange-Id: I65b373943a5cfb974c4413aefa9c62658aae8500\n'}, {'number': 4, 'created': '2022-11-14 18:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/62243dddb009e0518275affd42e050dc481795d1', 'message': 'Add Barbican secrets consumers\n\nBarbican has added support for consumers on secrets. This patch enables\nthat functionality in Octavia. Octavia will now registger and unregister\nconsumbers on all of the barbican objects load balancers are using.\nThis should block the acidental deletion of secrets content from\nBarbican while it is still in use in Octavia.\n\nDepends-On: https://review.opendev.org/c/openstack/python-barbicanclient/+/855952\nChange-Id: I65b373943a5cfb974c4413aefa9c62658aae8500\n'}, {'number': 5, 'created': '2022-11-18 23:58:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d0725c9bd160bbe98e7dd52fb79659fd27bf12e9', 'message': 'Add Barbican secrets consumers\n\nBarbican has added support for consumers on secrets. This patch enables\nthat functionality in Octavia. Octavia will now register and unregister\nconsumers on all of the Barbican objects load balancers are using.\nThis should block the accidental deletion of secrets content from\nBarbican while it is still in use in Octavia.\n\nDepends-On: https://review.opendev.org/c/openstack/python-barbicanclient/+/855952\nChange-Id: I65b373943a5cfb974c4413aefa9c62658aae8500\n'}, {'number': 6, 'created': '2023-02-03 00:04:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c5e801b8dac04cc11f9a2457b10937f541b15f1f', 'message': 'Add Barbican secrets consumers\n\nBarbican has added support for consumers on secrets. This patch enables\nthat functionality in Octavia. Octavia will now register and unregister\nconsumers on all of the Barbican objects load balancers are using.\nThis should block the accidental deletion of secrets content from\nBarbican while it is still in use in Octavia.\n\nDepends-On: https://review.opendev.org/c/openstack/python-barbicanclient/+/855952\nChange-Id: I65b373943a5cfb974c4413aefa9c62658aae8500\n'}, {'number': 7, 'created': '2023-02-03 18:11:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8f736cb40256dcf0971d0ac5dc08b5979ed51a98', 'message': 'Add Barbican secrets consumers\n\nBarbican has added support for consumers on secrets. This patch enables\nthat functionality in Octavia. Octavia will now register and unregister\nconsumers on all of the Barbican objects load balancers are using.\nThis should block the accidental deletion of secrets content from\nBarbican while it is still in use in Octavia.\n\nDepends-On: https://review.opendev.org/c/openstack/python-barbicanclient/+/855952\nChange-Id: I65b373943a5cfb974c4413aefa9c62658aae8500\n'}, {'number': 8, 'created': '2023-02-09 18:06:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f465898863023d2f3e6b8bb138f5121a37d8690e', 'message': 'Add Barbican secrets consumers\n\nBarbican has added support for consumers on secrets. This patch enables\nthat functionality in Octavia. Octavia will now register and unregister\nconsumers on all of the Barbican objects load balancers are using.\nThis should block the accidental deletion of secrets content from\nBarbican while it is still in use in Octavia.\n\nDepends-On: https://review.opendev.org/c/openstack/python-barbicanclient/+/855952\nChange-Id: I65b373943a5cfb974c4413aefa9c62658aae8500\n'}, {'number': 9, 'created': '2023-02-16 00:19:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ffebbb1bdcb6937e551e8a92829383d5c054b6f9', 'message': 'Add Barbican secrets consumers\n\nBarbican has added support for consumers on secrets. This patch enables\nthat functionality in Octavia. Octavia will now register and unregister\nconsumers on all of the Barbican objects load balancers are using.\nThis should block the accidental deletion of secrets content from\nBarbican while it is still in use in Octavia.\n\nDepends-On: https://review.opendev.org/c/openstack/python-barbicanclient/+/855952\nChange-Id: I65b373943a5cfb974c4413aefa9c62658aae8500\n'}, {'number': 10, 'created': '2024-06-13 09:04:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/99266e0399982b6deaea2cf85ded9b7eb8194109', 'message': 'Add Barbican secrets consumers\n\nBarbican has added support for consumers on secrets. This patch enables\nthat functionality in Octavia. Octavia will now register and unregister\nconsumers on all of the Barbican objects load balancers are using.\nThis should block the accidental deletion of secrets content from\nBarbican while it is still in use in Octavia.\n\nDepends-On: https://review.opendev.org/c/openstack/python-barbicanclient/+/855952\nChange-Id: I65b373943a5cfb974c4413aefa9c62658aae8500\n'}, {'number': 11, 'created': '2024-06-14 09:28:04.000000000', 'files': ['octavia/controller/worker/v2/flows/pool_flows.py', 'octavia/certificates/manager/barbican_legacy.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_cert_task.py', 'octavia/controller/worker/v2/tasks/cert_task.py', 'octavia/tests/unit/certificates/manager/test_barbican.py', 'octavia/amphorae/drivers/haproxy/rest_api_driver.py', 'octavia/tests/unit/common/sample_configs/sample_configs_combined.py', 'requirements.txt', 'octavia/common/constants.py', 'octavia/db/repositories.py', 'octavia/certificates/manager/cert_mgr.py', 'octavia/tests/unit/common/tls_utils/test_cert_parser.py', 'octavia/tests/unit/certificates/manager/test_barbican_legacy.py', 'octavia/certificates/common/barbican.py', 'octavia/api/v2/controllers/base.py', 'octavia/certificates/common/auth/barbican_acl.py', 'octavia/common/tls_utils/cert_parser.py', 'octavia/certificates/manager/barbican.py', 'octavia/certificates/manager/local.py', 'octavia/api/drivers/utils.py', 'octavia/tests/functional/db/test_repositories.py', 'octavia/certificates/manager/castellan_mgr.py', 'releasenotes/notes/SupportSecretsConsumers-7ce51836d7fce798.yaml', 'octavia/controller/worker/v2/flows/listener_flows.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_1_0.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/04fb13ee4f6c3292494e62f89e768d794cb4f711', 'message': 'Add Barbican secrets consumers\n\nBarbican has added support for consumers on secrets. This patch enables\nthat functionality in Octavia. Octavia will now register and unregister\nconsumers on all of the Barbican objects load balancers are using.\nThis should block the accidental deletion of secrets content from\nBarbican while it is still in use in Octavia.\n\nDepends-On: https://review.opendev.org/c/openstack/python-barbicanclient/+/855952\nChange-Id: I65b373943a5cfb974c4413aefa9c62658aae8500\n'}]",53,864308,04fb13ee4f6c3292494e62f89e768d794cb4f711,58,5,11,11628,,,0,"Add Barbican secrets consumers

Barbican has added support for consumers on secrets. This patch enables
that functionality in Octavia. Octavia will now register and unregister
consumers on all of the Barbican objects load balancers are using.
This should block the accidental deletion of secrets content from
Barbican while it is still in use in Octavia.

Depends-On: https://review.opendev.org/c/openstack/python-barbicanclient/+/855952
Change-Id: I65b373943a5cfb974c4413aefa9c62658aae8500
",git fetch https://review.opendev.org/openstack/octavia refs/changes/08/864308/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/certificates/common/auth/barbican_acl.py', 'octavia/controller/worker/v2/flows/pool_flows.py', 'octavia/certificates/manager/barbican_legacy.py', 'octavia/common/tls_utils/cert_parser.py', 'octavia/certificates/manager/barbican.py', 'octavia/controller/worker/v2/tasks/cert_task.py', 'octavia/tests/unit/certificates/manager/test_barbican.py', 'octavia/amphorae/drivers/haproxy/rest_api_driver.py', 'octavia/tests/unit/common/sample_configs/sample_configs_combined.py', 'octavia/api/drivers/utils.py', 'octavia/tests/functional/db/test_repositories.py', 'octavia/common/constants.py', 'octavia/db/repositories.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_0_5.py', 'octavia/certificates/manager/cert_mgr.py', 'octavia/tests/unit/common/tls_utils/test_cert_parser.py', 'releasenotes/notes/SupportSecretsConsumers-7ce51836d7fce798.yaml', 'octavia/tests/unit/certificates/manager/test_barbican_legacy.py', 'octavia/certificates/common/barbican.py', 'octavia/api/v2/controllers/base.py', 'octavia/controller/worker/v2/flows/listener_flows.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_1_0.py']",22,f2140ae6290122ab55e64791613690540dd43305,octavia-secret-consumers," self.lb.id, resource_id='sample_listener_id_1', resource_type=constants.LISTENER), self.lb.id, resource_id='sample_listener_id_1', resource_type=constants.LISTENER) fake_context, sample_listener.client_ca_tls_certificate_id, resource_id=None, resource_type=None) self.amp, sample_listener.load_balancer.id, resource_id='sample_pool_id_1', resource_type=constants.POOL), self.amp, sample_listener.load_balancer.id, resource_id='sample_pool_id_1', resource_type=constants.POOL)]"," self.lb.id), self.lb.id) fake_context, sample_listener.client_ca_tls_certificate_id) self.amp, sample_listener.load_balancer.id), self.amp, sample_listener.load_balancer.id)]",613,117
openstack%2Fneutron~921921,openstack/neutron,master,Ibe2e5960f7c5daebda2a8ca3b1f619b0d93b7bc9,Add wsgi tempest job for OVS and OVN,NEW,2024-06-13 08:25:46.000000000,2024-06-14 12:10:29.000000000,,"[{'_account_id': 1131}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-13 08:25:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e776d9880d11482e7343151a475bc27ffb0ecbc3', 'message': 'Add wsgi tempest job OVS and OVN\n\nAdd wsgi tempest job for OVN and OVS in the\nexperimental and periodic queue.\n\nDepends-On: https://review.opendev.org/c/919725\nChange-Id: Ibe2e5960f7c5daebda2a8ca3b1f619b0d93b7bc9\n'}, {'number': 2, 'created': '2024-06-13 08:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/40b70b8d501440b707e138ec688819750abec9e5', 'message': 'Add wsgi tempest job for OVS and OVN\n\nAdd wsgi tempest job for OVN and OVS in the\nexperimental and periodic queue.\n\nDepends-On: https://review.opendev.org/c/919725\nChange-Id: Ibe2e5960f7c5daebda2a8ca3b1f619b0d93b7bc9\n'}, {'number': 3, 'created': '2024-06-14 12:09:50.000000000', 'files': ['zuul.d/job-templates.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b352917461993dfae5536fccebb0a533e902f02b', 'message': 'Add wsgi tempest job for OVS and OVN\n\nAdd wsgi tempest job for OVN and OVS in the\nexperimental and periodic queue.\n\nDepends-On: https://review.opendev.org/c/919725\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/922012\n\nChange-Id: Ibe2e5960f7c5daebda2a8ca3b1f619b0d93b7bc9\n'}]",97,921921,b352917461993dfae5536fccebb0a533e902f02b,11,3,3,8313,,,0,"Add wsgi tempest job for OVS and OVN

Add wsgi tempest job for OVN and OVS in the
experimental and periodic queue.

Depends-On: https://review.opendev.org/c/919725
Depends-On: https://review.opendev.org/c/openstack/devstack/+/922012

Change-Id: Ibe2e5960f7c5daebda2a8ca3b1f619b0d93b7bc9
",git fetch https://review.opendev.org/openstack/neutron refs/changes/21/921921/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/job-templates.yaml'],1,e776d9880d11482e7343151a475bc27ffb0ecbc3,wsgi_neutron, - neutron-tempest-plugin-api-ovs-wsgi - neutron-tempest-plugin-api-ovn-wsgi - neutron-tempest-plugin-api-ovs-wsgi - neutron-tempest-plugin-api-ovn-wsgi,,4,0
openstack%2Fglance-specs~922011,openstack/glance-specs,master,I306ff53fe32b812e09c7c197f215f8d507ae5ed2,[Spec] Add new Calculate Hash API,NEW,2024-06-14 11:54:47.000000000,2024-06-14 12:07:32.000000000,,"[{'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-14 11:54:47.000000000', 'files': ['specs/2024.2/approved/glance/calculate-hash-for-active-images.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/752b206734a60400c6ed86b958019fc5297b37a3', 'message': '[Spec] Add new Calculate Hash API\n\nChange-Id: I306ff53fe32b812e09c7c197f215f8d507ae5ed2\n'}]",0,922011,752b206734a60400c6ed86b958019fc5297b37a3,2,3,1,19138,,,0,"[Spec] Add new Calculate Hash API

Change-Id: I306ff53fe32b812e09c7c197f215f8d507ae5ed2
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/11/922011/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/2024.2/approved/glance/calculate-hash-for-active-images.rst'],1,752b206734a60400c6ed86b958019fc5297b37a3,spec/calculate-hash,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================ Implement Calculate Hash API ============================ https://blueprints.launchpad.net/glance/+spec/calculate-hash-api Problem description =================== During the implememtation of New Add Location API [1]_ it's been noticed that some images will remain in 'active' state without checksum and os_hash_value if the hash caclualtion is failed after adding the location to the image. Currently there is no other way to re-trigger the hash calculation for the 'active' image. Proposed change =============== We are planning to add a separate new api to calulate the os_hash_value and checksum for the image which are in `active` state which have the location added already. Alternatives ------------ We can have a separate new command under glance-manage to run from cron. Data model impact ----------------- None REST API impact --------------- **New API** * Calculate Hash Since hash calculation will be a long running operation, it will be executed in the background in the async task. This spec proposes the following new endpoint: POST /v2/images/{image_id}/hash * JSON request body .. code-block:: json { ""os_hash_algo"": ""sha512"" } * Response - Accepted - 202 - Error - 409 (if image is not in ACTIVE state), 403 (Forbidden for non admin and non owner) 400 (BadRequest if invalid os_hash_algo passed) Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- A glanceclient and openstackclient change will be required to expose this to interactive users. Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: pranali-deore Other contributors: None Work Items ---------- * Implement the API with unit/functional tests * Document the API in api-ref * Write a tempest test to check these API * Implement support in OpenstackClient * Implement support in glanceclient * Client docs Dependencies ============ None Testing ======= * Unit and functional tests in Glance. Tempest tests against the same. Documentation Impact ==================== The documentation needs to be updated with the new API extension and usage. References ========== .. [1] https://blueprints.launchpad.net/glance/+spec/new-location-apis ",,140,0
openstack%2Frequirements~921968,openstack/requirements,master,I0ea11984e63b885668ed5842e1c6221739e18343,Update cross-horizon-npm job,MERGED,2024-06-13 14:50:13.000000000,2024-06-14 12:04:31.000000000,2024-06-14 12:01:42.000000000,"[{'_account_id': 11904}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-13 14:50:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/466f2eda4a96236499fcf1e2dff6046b3cb2200c', 'message': 'Update cross-horizon-npm job to jammy\n\nHorizon has dropped support for python3.8, so we need to run this job on\na node that has a more recent python version.\n\nChange-Id: I0ea11984e63b885668ed5842e1c6221739e18343\n'}, {'number': 2, 'created': '2024-06-14 04:52:32.000000000', 'files': ['.zuul.d/cross-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/requirements/commit/1768ef70b9e4e49fb9f0b1648e76b76ecbc0ea3b', 'message': 'Update cross-horizon-npm job\n\nHorizon has dropped support for python3.8, so we need to run this job on\na node that has a more recent python version. This also needs to use a\nmore recent node version, then. Make the job inherit the same parent job\ndefinition that horizon is using in order to avoid duplication. Drop our\ngeneric requirements-cross-npm template since it is no longer being\nused.\n\nChange-Id: I0ea11984e63b885668ed5842e1c6221739e18343\n'}]",2,921968,1768ef70b9e4e49fb9f0b1648e76b76ecbc0ea3b,11,3,2,13252,,,0,"Update cross-horizon-npm job

Horizon has dropped support for python3.8, so we need to run this job on
a node that has a more recent python version. This also needs to use a
more recent node version, then. Make the job inherit the same parent job
definition that horizon is using in order to avoid duplication. Drop our
generic requirements-cross-npm template since it is no longer being
used.

Change-Id: I0ea11984e63b885668ed5842e1c6221739e18343
",git fetch https://review.opendev.org/openstack/requirements refs/changes/68/921968/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/cross-jobs.yaml'],1,466f2eda4a96236499fcf1e2dff6046b3cb2200c,, nodeset: ubuntu-jammy, nodeset: ubuntu-focal,1,1
openstack%2Fkolla-ansible~921684,openstack/kolla-ansible,stable/2023.2,Iec9a8de184481dae058377fa8d7bbd8da729d62c,Fix missing commas in kolla_podman_worker,MERGED,2024-06-10 15:13:03.000000000,2024-06-14 11:58:16.000000000,2024-06-14 11:57:10.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 32553}]","[{'number': 1, 'created': '2024-06-10 15:13:03.000000000', 'files': ['releasenotes/notes/bug-2067278-82287115c972a04e.yaml', 'ansible/module_utils/kolla_podman_worker.py'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f9f9921063e51c70d2b0269ce57ec57682a5a06e', 'message': 'Fix missing commas in kolla_podman_worker\n\nList of strings CONTAINER_PARAMS is missing comma separators,\nwhich makes it an implicit concatenation of list items\nthat should be separate.\n\nCloses-Bug: #2067278\nChange-Id: Iec9a8de184481dae058377fa8d7bbd8da729d62c\nSigned-off-by: Martin Hiner <martin.hiner@tietoevry.com>\n(cherry picked from commit 69cdc6dbc8b7bcc5ebffbe9ec7c84e5d4ad5c839)\n'}]",0,921684,f9f9921063e51c70d2b0269ce57ec57682a5a06e,11,5,1,32553,,,0,"Fix missing commas in kolla_podman_worker

List of strings CONTAINER_PARAMS is missing comma separators,
which makes it an implicit concatenation of list items
that should be separate.

Closes-Bug: #2067278
Change-Id: Iec9a8de184481dae058377fa8d7bbd8da729d62c
Signed-off-by: Martin Hiner <martin.hiner@tietoevry.com>
(cherry picked from commit 69cdc6dbc8b7bcc5ebffbe9ec7c84e5d4ad5c839)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/84/921684/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-2067278-82287115c972a04e.yaml', 'ansible/module_utils/kolla_podman_worker.py']",2,f9f9921063e51c70d2b0269ce57ec57682a5a06e,bug/2067278-stable/2023.2," 'cpu_shares', # int 'memswap_limit', # (Union[int, str]): Maximum amount of memory 'tty', # bool"," 'cpu_shares' # int 'memswap_limit' # (Union[int, str]): Maximum amount of memory 'tty' # bool",10,3
openstack%2Fglance~886947,openstack/glance,master,If94d7d1fbec07a49222b65aa3e530748a95eaf5b,Add functional tests for new add-location API,NEW,2023-06-26 08:11:30.000000000,2024-06-14 11:38:30.000000000,,"[{'_account_id': 4393}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-26 08:11:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5566e4c81db5a8d1ce0a71a95f51f0fbe9f7021a', 'message': 'Add fucntional tests for new add-location API\n\nTODO: test for add location for multibackend\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 2, 'created': '2023-07-20 07:59:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/cda9727da626dc2b3543a86b11c6d45aef5b54e7', 'message': 'Add fucntional tests for new add-location API\n\nTODO: test for add location for multibackend\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 3, 'created': '2023-07-28 10:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5d85c4a57f80858a73e18d25de6be2d810685f3b', 'message': 'Add fucntional tests for new add-location API\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 4, 'created': '2023-08-02 14:05:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/098b2b198fd33c72b90f8f04217de65a95177fab', 'message': 'Add fucntional tests for new add-location API\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 5, 'created': '2023-08-02 14:13:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1ec053a7dbdd3da6a71b94957700d2472c158bf8', 'message': 'Add functional tests for new add-location API\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 6, 'created': '2023-08-03 06:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f8474a91773b043a8e259f34ca5207230f00382e', 'message': 'Add functional tests for new add-location API\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 7, 'created': '2023-08-03 10:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a67a6ffb0380b959820013214268da0adcf47454', 'message': 'Add functional tests for new add-location API\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 8, 'created': '2023-08-09 11:13:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ebd06c49df72d9fde23a9924323bc969d7144f6d', 'message': 'Add functional tests for new add-location API\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 9, 'created': '2023-08-09 11:32:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3f2194bb0456839b4b2124bee80cb513b9b4b3d2', 'message': 'Add functional tests for new add-location API\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 10, 'created': '2023-08-14 11:50:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/295fa55f5e99bcc1ded22b38e6077d2f01669574', 'message': 'Add functional tests for new add-location API\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 11, 'created': '2023-08-16 09:29:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/829b0bf6d113e61a2fa0af3eed43db9bd1c4700e', 'message': 'Add functional tests for new add-location API\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 12, 'created': '2023-08-20 12:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f7bf6556711afe94404c6c057952230e9a40623b', 'message': 'Add functional tests for new add-location API\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 13, 'created': '2023-08-24 11:40:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/bdc10ad42af4f15c221957945c5ed71ac06eadf6', 'message': 'Add functional tests for new add-location API\n\nRelated blueprint new-location-apis\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 14, 'created': '2023-08-24 15:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c1992947b5a6ed3fbeb44186bcffb8df8ee80575', 'message': 'Add functional tests for new add-location API\n\nRelated blueprint new-location-apis\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 15, 'created': '2023-08-25 17:41:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/69dc382c2a14b8aabad53ea15a4c389825d6b8e0', 'message': 'Add functional tests for new add-location API\n\nRelated blueprint new-location-apis\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 16, 'created': '2023-08-28 12:23:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/53cee05c07a4cf909694b681e5caee0dc7414d22', 'message': 'Add functional tests for new add-location API\n\nRelated blueprint new-location-apis\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 17, 'created': '2023-08-29 08:58:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/cd77ec379689ac929930b24ca9db846b31a80b52', 'message': 'Add functional tests for new add-location API\n\nRelated blueprint new-location-apis\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 18, 'created': '2023-08-29 14:21:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d0d9f28b5fbd5f79fa82fc0b565ce62fad344e85', 'message': 'Add functional tests for new add-location API\n\nRelated blueprint new-location-apis\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 19, 'created': '2023-08-29 18:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3a81935740de98a9aed88db2dde17baa09ce250b', 'message': 'Add functional tests for new add-location API\n\nRelated blueprint new-location-apis\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 20, 'created': '2023-08-30 08:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/eab1ec5d2202de51c20e10d20877449dca9ae91a', 'message': 'Add functional tests for new add-location API\n\nRelated blueprint new-location-apis\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 21, 'created': '2023-08-30 10:40:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/66c17ab5542d31593435868deb3d8bace36f1201', 'message': 'Add functional tests for new add-location API\n\nRelated blueprint new-location-apis\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 22, 'created': '2023-08-31 07:57:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8eed74a5f28aa270eb474181d26be669c716e66a', 'message': 'Add functional tests for new add-location API\n\nRelated blueprint new-location-apis\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 23, 'created': '2023-09-05 07:25:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a67778ac27c59b5ebb05147cf8af40b15009c313', 'message': 'Add functional tests for new add-location API\n\nRelated blueprint new-location-apis\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 24, 'created': '2023-10-19 07:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a1efbbb22c7161db228e7e83fb3226bb5831faf8', 'message': 'Add functional tests for new add-location API\n\nRelated blueprint new-location-apis\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 25, 'created': '2023-10-31 09:27:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ee2d5040d97a3f757b5ce0d2f64e550c724a38ab', 'message': 'Add functional tests for new add-location API\n\nRelated blueprint new-location-apis\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 26, 'created': '2023-10-31 12:48:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c85b0b28f2ba2c0a36265ffba23769e0e68f93ef', 'message': 'Add functional tests for new add-location API\n\nRelated blueprint new-location-apis\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 27, 'created': '2023-11-02 09:35:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3d1d7d0e3bd4b8bf37e7daf323833a5ace4682b4', 'message': 'Add functional tests for new add-location API\n\nRelated blueprint new-location-apis\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 28, 'created': '2023-11-08 11:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b5e7e392f9f47ca298c3c51090fefd1137882ae0', 'message': 'Add functional tests for new add-location API\n\nRelated blueprint new-location-apis\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 29, 'created': '2023-12-05 14:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/38c6521052f44ac304d55ecc6023e235d6152a99', 'message': 'Add functional tests for new add-location API\n\nRelated blueprint new-location-apis\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 30, 'created': '2024-01-02 12:01:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/65c1b260ae02ea034e1b48a49421a22ccc0ccbb4', 'message': 'Add functional tests for new add-location API\n\nRelated blueprint new-location-apis\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 31, 'created': '2024-01-11 07:36:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/eefde4a8f4b5e1e75a7ac9b34e52aa115931dfcf', 'message': 'Add functional tests for new add-location API\n\nRelated blueprint new-location-apis\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 32, 'created': '2024-01-22 10:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5a8bde61544de768839e7d7595cbc6f285e6cb25', 'message': 'Add functional tests for new add-location API\n\nRelated blueprint new-location-apis\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 33, 'created': '2024-01-23 11:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/4743dd803dffbfdd55edc5f93b763d7322ca578b', 'message': 'Add functional tests for new add-location API\n\nRelated blueprint new-location-apis\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 34, 'created': '2024-01-24 10:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e2f4341a3a626696d17c3d8945b76f40b0ac7438', 'message': 'Add functional tests for new add-location API\n\nRelated blueprint new-location-apis\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 35, 'created': '2024-02-07 06:50:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/23d73adb274e13d2815837b49cd8604c860c3ba9', 'message': 'Add functional tests for new add-location API\n\nRelated blueprint new-location-apis\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 36, 'created': '2024-02-15 10:31:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/66fbb56bad8b8ea31fc120d7ccbe98176204658d', 'message': 'Add functional tests for new add-location API\n\nRelated blueprint new-location-apis\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 37, 'created': '2024-02-20 10:23:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/29a22de838f152ef5916ebaa91fca7347bc2e273', 'message': 'Add functional tests for new add-location API\n\nRelated blueprint new-location-apis\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 38, 'created': '2024-02-21 12:59:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b3097fb11f322ba37c55f677af4265140083afe6', 'message': 'Add functional tests for new add-location API\n\nRelated blueprint new-location-apis\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 39, 'created': '2024-02-22 07:41:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f605e9ff464bc5abbf5dc78a6f004130d809e628', 'message': 'Add functional tests for new add-location API\n\nRelated blueprint new-location-apis\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 40, 'created': '2024-02-22 10:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/fe7323516a55c58866d20fbab8c0043629b5d180', 'message': 'Add functional tests for new add-location API\n\nRelated blueprint new-location-apis\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 41, 'created': '2024-02-26 09:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/39c5a11d934d38504025cbfaf4419a8b19bc2971', 'message': 'Add functional tests for new add-location API\n\nRelated blueprint new-location-apis\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 42, 'created': '2024-02-27 07:12:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c537f94f823de5a691b456d17d9fc96c06b3f1a4', 'message': 'Add functional tests for new add-location API\n\nRelated blueprint new-location-apis\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 43, 'created': '2024-02-27 13:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5f78cbe4c9154ac6f21cc9e845565abe7a4e327a', 'message': 'Add functional tests for new add-location API\n\nRelated blueprint new-location-apis\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 44, 'created': '2024-02-27 15:26:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5ed51eb0dac239a6309573e73562cc8eea0ea937', 'message': 'Add functional tests for new add-location API\n\nRelated blueprint new-location-apis\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 45, 'created': '2024-02-28 03:51:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/61bb93d9a359eb58fb9d9a9cec370e5269f29219', 'message': 'Add functional tests for new add-location API\n\nRelated blueprint new-location-apis\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 46, 'created': '2024-02-28 09:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a22df7f3863d068d55a836042731229f8f74c2ef', 'message': 'Add functional tests for new add-location API\n\nRelated blueprint new-location-apis\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 47, 'created': '2024-02-28 11:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3142180e716beb62d916d306a2eb744f6efc9d67', 'message': 'Add functional tests for new add-location API\n\nRelated blueprint new-location-apis\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 48, 'created': '2024-02-28 16:14:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8032ad5a0eccfd5a200191f1688318723345e2e9', 'message': 'Add functional tests for new add-location API\n\nRelated blueprint new-location-apis\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 49, 'created': '2024-02-28 19:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3434f1d3d3ddd531f139094db697f8ff8a1a1273', 'message': 'Add functional tests for new add-location API\n\nRelated blueprint new-location-apis\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 50, 'created': '2024-02-28 19:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b928f9671d09a449af70353800e900ea2eebc651', 'message': 'Add functional tests for new add-location API\n\nRelated blueprint new-location-apis\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 51, 'created': '2024-02-29 10:17:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0a01fb76430b0c4ba65a60f6a139b84015ccec8e', 'message': 'Add functional tests for new add-location API\n\nRelated blueprint new-location-apis\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 52, 'created': '2024-02-29 11:03:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/082e6f061c595502f385668c5593dfaf80b5be69', 'message': 'Add functional tests for new add-location API\n\nRelated blueprint new-location-apis\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 53, 'created': '2024-04-04 07:00:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3f85cf7d5fbd6e508268d026fe7a862be2416fae', 'message': 'Add functional tests for new add-location API\n\nRelated blueprint new-location-apis\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 54, 'created': '2024-04-08 06:31:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f4c31c74868585adaa566a7c01c2c8b77fdba187', 'message': 'Add functional tests for new add-location API\n\nRelated blueprint new-location-apis\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 55, 'created': '2024-04-29 08:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7cc98d201087babda285d6a62ca9c70af9c0555e', 'message': 'Add functional tests for new add-location API\n\nRelated blueprint new-location-apis\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 56, 'created': '2024-04-30 09:42:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9910122c582b0e177d78bd31380a367e6654c64a', 'message': 'Add functional tests for new add-location API\n\nRelated blueprint new-location-apis\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 57, 'created': '2024-05-07 06:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ba70c4a381b29b55596952b3a17fcbf67a4f8eca', 'message': 'Add functional tests for new add-location API\n\nRelated blueprint new-location-apis\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 58, 'created': '2024-05-07 13:08:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1fd9dcda55d6071940a8f16f3dea1e42783ed5ae', 'message': 'Add functional tests for new add-location API\n\nRelated blueprint new-location-apis\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 59, 'created': '2024-05-08 09:01:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ade150ea6f717a78d851ac6878a9fe4c78af6905', 'message': 'Add functional tests for new add-location API\n\nRelated blueprint new-location-apis\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 60, 'created': '2024-06-06 06:46:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c6ba6192077e7f8857b88a50bf8b191d0911f69d', 'message': 'Add functional tests for new add-location API\n\nRelated blueprint new-location-apis\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}, {'number': 61, 'created': '2024-06-14 10:35:46.000000000', 'files': ['glance/tests/functional/v2/test_images.py', 'glance/tests/functional/__init__.py', 'glance/tests/functional/ft_utils.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/a699d707deac16f0459024e2eb5680431ca7c43d', 'message': 'Add functional tests for new add-location API\n\nRelated blueprint new-location-apis\n\nChange-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b\n'}]",52,886947,a699d707deac16f0459024e2eb5680431ca7c43d,226,4,61,19138,,,0,"Add functional tests for new add-location API

Related blueprint new-location-apis

Change-Id: If94d7d1fbec07a49222b65aa3e530748a95eaf5b
",git fetch https://review.opendev.org/openstack/glance refs/changes/47/886947/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/functional/v2/test_images.py', 'glance/tests/functional/__init__.py', 'glance/tests/functional/ft_utils.py']",3,5566e4c81db5a8d1ce0a71a95f51f0fbe9f7021a,New-Location-Apis," def wait_for_hash_calculation(test_obj, image_id, checksum=None, os_hash_value=None, status=None, os_hash_algo='sha512', max_sec=10, delay_sec=0.2, start_delay_sec=None): """""" Performs a time-bounded wait for the entity at the request_path to wait until image hash and checksum calculation. :param test_obj: The test object; expected to have _url() and _headers() defined on it :param image_id: Image id to use in the request :param checksum: Expected checksum (default: None) :param os_hash_value: Expected multihash value (default: None) :param status: Expected status (default: None) :param os_hash_algo: Expected value of os_hash_algo; only checked when os_hash_value is not None (default: 'sha512') :param max_sec: the maximum number of seconds to wait (default: 10) :param delay_sec: seconds to sleep before the next request is made (default: 0.2) :param start_delay_sec: seconds to wait before making the first request (default: None) """""" path = test_obj._url('/v2/images/%s' % image_id) start_time = time.time() done_time = start_time + max_sec if start_delay_sec: time.sleep(start_delay_sec) while time.time() <= done_time: resp = requests.get(path, headers=test_obj._headers()) if resp.status_code != http.OK: raise Exception(""Received {} response from server"".format( resp.status_code)) test_obj.assertEqual(http.OK, resp.status_code) image = jsonutils.loads(resp.text) if checksum: test_obj.assertEqual(checksum, image['checksum']) test_obj.assertEqual(os_hash_value, image['os_hash_value']) test_obj.assertEqual(str(os_hash_algo), image['os_hash_algo']) test_obj.assertEqual(status, image['status']) time.sleep(delay_sec)",,310,0
openstack%2Fneutron~921944,openstack/neutron,unmaintained/yoga,Ia61784174ee610b338f26660b2954330abc131a1,Add a default goto table=94 for openvswitch fw,NEW,2024-06-13 10:57:24.000000000,2024-06-14 11:34:49.000000000,,"[{'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-13 10:57:24.000000000', 'files': ['doc/source/contributor/internals/openvswitch_firewall.rst', 'neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7992ca9bec5c7194bc390c1bc4a4bb3793eb607a', 'message': ""Add a default goto table=94 for openvswitch fw\n\nIf enable explicitly_egress_direct=True and set port as\nno security group and port_security=False, the ingress\nflood will reappear. The pipleline is:\nIngress\ntable_0 -> table_60 -> NORMAL -> VM\nEgress\ntable_0 -> ... -> table_94 -> output\n\nBecause ingress final action is normal, the br-int will learn the\nsource MAC, but egress final action is output. So VM's mac will\nnever be learnt by the br-int. Then ingress flood comes again.\n\nThis patch adds a default direct flow to table 94 during the\nopenflow security group init and explicitly_egress_direct=True, then\nthe pipleline will be:\nIngress\ntable_0 -> table_60 -> table_94 -> output VM\nEgress\ntable_0 -> ... -> table_94 -> output\n\nAnd this patch adds the flows coming from patch port which will\nmatch local vlan then go to table 94 do the same direct actions.\n\nAbove flood issue will be addressed by these flows.\n\nCloses-Bug: #2051351\nChange-Id: Ia61784174ee610b338f26660b2954330abc131a1\n(cherry picked from commit d6f56c5f96c42e1682f3d1723a65253429778c20)\n(cherry picked from commit f94f8b63842099904ff88906e8221a366a809f99)\n(cherry picked from commit fc7fa9cf308766cdbf29b8cf4d3aaad867738dc0)\n    Conflict with 02b12b09175 in neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py\n(cherry picked from commit 1045985c76dbea8851e6ced72d09a0f9bc58a59d)\n    Conflict with 5b64ac90133 in neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py\n(cherry picked from commit c32eb5669a542470bf659f79697517f5682ec19e)\n""}]",1,921944,7992ca9bec5c7194bc390c1bc4a4bb3793eb607a,6,2,1,15554,,,0,"Add a default goto table=94 for openvswitch fw

If enable explicitly_egress_direct=True and set port as
no security group and port_security=False, the ingress
flood will reappear. The pipleline is:
Ingress
table_0 -> table_60 -> NORMAL -> VM
Egress
table_0 -> ... -> table_94 -> output

Because ingress final action is normal, the br-int will learn the
source MAC, but egress final action is output. So VM's mac will
never be learnt by the br-int. Then ingress flood comes again.

This patch adds a default direct flow to table 94 during the
openflow security group init and explicitly_egress_direct=True, then
the pipleline will be:
Ingress
table_0 -> table_60 -> table_94 -> output VM
Egress
table_0 -> ... -> table_94 -> output

And this patch adds the flows coming from patch port which will
match local vlan then go to table 94 do the same direct actions.

Above flood issue will be addressed by these flows.

Closes-Bug: #2051351
Change-Id: Ia61784174ee610b338f26660b2954330abc131a1
(cherry picked from commit d6f56c5f96c42e1682f3d1723a65253429778c20)
(cherry picked from commit f94f8b63842099904ff88906e8221a366a809f99)
(cherry picked from commit fc7fa9cf308766cdbf29b8cf4d3aaad867738dc0)
    Conflict with 02b12b09175 in neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py
(cherry picked from commit 1045985c76dbea8851e6ced72d09a0f9bc58a59d)
    Conflict with 5b64ac90133 in neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py
(cherry picked from commit c32eb5669a542470bf659f79697517f5682ec19e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/44/921944/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/internals/openvswitch_firewall.rst', 'neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py']",6,7992ca9bec5c7194bc390c1bc4a4bb3793eb607a,bug/2051351," self.install_normal(table_id=constants.TRANSIENT_TABLE, priority=1)"," self.install_normal(table_id=constants.TRANSIENT_TABLE, priority=3)",50,4
openstack%2Frequirements~922004,openstack/requirements,stable/2023.2,Ideba11de6af20c30669a6e1efdcf586833b724f9,update constraint for oslo.service to new release 3.2.1,NEW,2024-06-14 09:33:52.000000000,2024-06-14 11:21:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-14 09:33:52.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b14cdf8aeba6b7fba4ed85ae4e140d1f52a4038c', 'message': 'update constraint for oslo.service to new release 3.2.1\n\nmeta: version: 3.2.1\nmeta: diff-start: -\nmeta: series: bobcat\nmeta: branch: stable/2023.2\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: damani42 <dbengt@redhat.com>\nmeta: release:Commit: damani42 <dbengt@redhat.com>\nmeta: release:Change-Id: I3481f8de239fe609c035985eda59800328562cb9\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: Ideba11de6af20c30669a6e1efdcf586833b724f9\n'}]",0,922004,b14cdf8aeba6b7fba4ed85ae4e140d1f52a4038c,2,1,1,11131,,,0,"update constraint for oslo.service to new release 3.2.1

meta: version: 3.2.1
meta: diff-start: -
meta: series: bobcat
meta: branch: stable/2023.2
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: damani42 <dbengt@redhat.com>
meta: release:Commit: damani42 <dbengt@redhat.com>
meta: release:Change-Id: I3481f8de239fe609c035985eda59800328562cb9
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: Ideba11de6af20c30669a6e1efdcf586833b724f9
",git fetch https://review.opendev.org/openstack/requirements refs/changes/04/922004/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,b14cdf8aeba6b7fba4ed85ae4e140d1f52a4038c,new-release,oslo.service===3.2.1,oslo.service===3.2.0,1,1
openstack%2Fneutron~921948,openstack/neutron,unmaintained/victoria,Ia61784174ee610b338f26660b2954330abc131a1,Add a default goto table=94 for openvswitch fw,NEW,2024-06-13 10:58:13.000000000,2024-06-14 11:19:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-13 10:58:13.000000000', 'files': ['doc/source/contributor/internals/openvswitch_firewall.rst', 'neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/982eab5576b8deaded3a403c407f22500dbb6457', 'message': ""Add a default goto table=94 for openvswitch fw\n\nIf enable explicitly_egress_direct=True and set port as\nno security group and port_security=False, the ingress\nflood will reappear. The pipleline is:\nIngress\ntable_0 -> table_60 -> NORMAL -> VM\nEgress\ntable_0 -> ... -> table_94 -> output\n\nBecause ingress final action is normal, the br-int will learn the\nsource MAC, but egress final action is output. So VM's mac will\nnever be learnt by the br-int. Then ingress flood comes again.\n\nThis patch adds a default direct flow to table 94 during the\nopenflow security group init and explicitly_egress_direct=True, then\nthe pipleline will be:\nIngress\ntable_0 -> table_60 -> table_94 -> output VM\nEgress\ntable_0 -> ... -> table_94 -> output\n\nAnd this patch adds the flows coming from patch port which will\nmatch local vlan then go to table 94 do the same direct actions.\n\nAbove flood issue will be addressed by these flows.\n\nCloses-Bug: #2051351\nChange-Id: Ia61784174ee610b338f26660b2954330abc131a1\n(cherry picked from commit d6f56c5f96c42e1682f3d1723a65253429778c20)\n(cherry picked from commit f94f8b63842099904ff88906e8221a366a809f99)\n(cherry picked from commit fc7fa9cf308766cdbf29b8cf4d3aaad867738dc0)\n    Conflict with 02b12b09175 in neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py\n(cherry picked from commit 1045985c76dbea8851e6ced72d09a0f9bc58a59d)\n    Conflict with 5b64ac90133 in neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py\n(cherry picked from commit c32eb5669a542470bf659f79697517f5682ec19e)\n(cherry picked from commit 7992ca9bec5c7194bc390c1bc4a4bb3793eb607a)\n    Conflict with 053a9d24eca in neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py\n(cherry picked from commit 01e4a647eee7ccd7c4ea85fe5b1b8ec295e90c9e)\n    Conflict with 56e8498a4da in neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py\n(cherry picked from commit 3e2e1819ddeaa87b82c4c686f4f3bf9f83e8697f)\n    Conflict with 4f249b8579a in doc/source/contributor/internals/openvswitch_firewall.rst avoided by cherry-picking 4f249b8579a first\n""}]",1,921948,982eab5576b8deaded3a403c407f22500dbb6457,4,1,1,15554,,,0,"Add a default goto table=94 for openvswitch fw

If enable explicitly_egress_direct=True and set port as
no security group and port_security=False, the ingress
flood will reappear. The pipleline is:
Ingress
table_0 -> table_60 -> NORMAL -> VM
Egress
table_0 -> ... -> table_94 -> output

Because ingress final action is normal, the br-int will learn the
source MAC, but egress final action is output. So VM's mac will
never be learnt by the br-int. Then ingress flood comes again.

This patch adds a default direct flow to table 94 during the
openflow security group init and explicitly_egress_direct=True, then
the pipleline will be:
Ingress
table_0 -> table_60 -> table_94 -> output VM
Egress
table_0 -> ... -> table_94 -> output

And this patch adds the flows coming from patch port which will
match local vlan then go to table 94 do the same direct actions.

Above flood issue will be addressed by these flows.

Closes-Bug: #2051351
Change-Id: Ia61784174ee610b338f26660b2954330abc131a1
(cherry picked from commit d6f56c5f96c42e1682f3d1723a65253429778c20)
(cherry picked from commit f94f8b63842099904ff88906e8221a366a809f99)
(cherry picked from commit fc7fa9cf308766cdbf29b8cf4d3aaad867738dc0)
    Conflict with 02b12b09175 in neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py
(cherry picked from commit 1045985c76dbea8851e6ced72d09a0f9bc58a59d)
    Conflict with 5b64ac90133 in neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py
(cherry picked from commit c32eb5669a542470bf659f79697517f5682ec19e)
(cherry picked from commit 7992ca9bec5c7194bc390c1bc4a4bb3793eb607a)
    Conflict with 053a9d24eca in neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py
(cherry picked from commit 01e4a647eee7ccd7c4ea85fe5b1b8ec295e90c9e)
    Conflict with 56e8498a4da in neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py
(cherry picked from commit 3e2e1819ddeaa87b82c4c686f4f3bf9f83e8697f)
    Conflict with 4f249b8579a in doc/source/contributor/internals/openvswitch_firewall.rst avoided by cherry-picking 4f249b8579a first
",git fetch https://review.opendev.org/openstack/neutron refs/changes/48/921948/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/internals/openvswitch_firewall.rst', 'neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py']",6,982eab5576b8deaded3a403c407f22500dbb6457,bug/2051351," self.install_normal(table_id=constants.TRANSIENT_TABLE, priority=1)"," self.install_normal(table_id=constants.TRANSIENT_TABLE, priority=3)",50,4
openstack%2Fopenstack-helm-infra~921985,openstack/openstack-helm-infra,master,I4126155eec03677cf29edfb47e80f54ab501705d,Update deploy-env role to support root user,NEW,2024-06-13 20:06:06.000000000,2024-06-14 11:15:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-13 20:06:06.000000000', 'files': ['roles/deploy-env/tasks/k8s_client.yaml', 'roles/deploy-env/README.md'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/10583bc269f168c5ab7461c7eb0374842cc4fa64', 'message': 'Update deploy-env role to support root user\n\nChange-Id: I4126155eec03677cf29edfb47e80f54ab501705d\n'}]",1,921985,10583bc269f168c5ab7461c7eb0374842cc4fa64,4,1,1,3009,,,0,"Update deploy-env role to support root user

Change-Id: I4126155eec03677cf29edfb47e80f54ab501705d
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/85/921985/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/deploy-env/tasks/k8s_client.yaml', 'roles/deploy-env/README.md']",2,10583bc269f168c5ab7461c7eb0374842cc4fa64,, hosts: primary: ansible_host: 10.10.10.10 node-1: ansible_host: 10.10.10.11 node-2: ansible_host: 10.10.10.12 node-3: ansible_host: 10.10.10.13 node-2: node-3: node-3:, ansible_host: 10.10.10.10 ansible_host: 10.10.10.11 node-2: ansible_host: 10.10.10.12 node-3: ansible_host: 10.10.10.13 ansible_host: 10.10.10.11 ansible_host: 10.10.10.12 node-3: ansible_host: 10.10.10.13,21,9
openstack%2Fkayobe~921392,openstack/kayobe,stable/2023.1,I65da7cdfd284a01b2e214c2dc0f27a5f45ae0999,Update instructions to migrate from CentOS Stream 8,MERGED,2024-06-05 15:21:47.000000000,2024-06-14 11:13:11.000000000,2024-06-14 11:11:56.000000000,"[{'_account_id': 22348}, {'_account_id': 23084}]","[{'number': 1, 'created': '2024-06-05 15:21:47.000000000', 'files': ['doc/source/support-matrix.rst', 'doc/source/upgrading.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ca17d667edf57284acf0d117a548acc80b585117', 'message': 'Update instructions to migrate from CentOS Stream 8\n\nChange-Id: I65da7cdfd284a01b2e214c2dc0f27a5f45ae0999\n(cherry picked from commit 1eeff7cc6ec753c411166e11572c47b3111bc001)\n'}]",0,921392,ca17d667edf57284acf0d117a548acc80b585117,7,2,1,15197,,,0,"Update instructions to migrate from CentOS Stream 8

Change-Id: I65da7cdfd284a01b2e214c2dc0f27a5f45ae0999
(cherry picked from commit 1eeff7cc6ec753c411166e11572c47b3111bc001)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/92/921392/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/support-matrix.rst', 'doc/source/upgrading.rst']",2,ca17d667edf57284acf0d117a548acc80b585117,c8s-migration-stable/2023.1,system. Rocky Linux 9 support is also available in Yoga. CentOS Stream 8 users on Yoga should migrate to Rocky Linux 9 before upgrading to Zed.,system. Rocky Linux 9 support will also be added to Yoga in a future release. CentOS Stream 8 users upgrading from Yoga should wait for Rocky Linux 9 support to become available before upgrading to Zed.,6,9
openstack%2Fkayobe~921393,openstack/kayobe,unmaintained/zed,I65da7cdfd284a01b2e214c2dc0f27a5f45ae0999,Update instructions to migrate from CentOS Stream 8,MERGED,2024-06-05 15:22:07.000000000,2024-06-14 11:13:04.000000000,2024-06-14 11:11:58.000000000,"[{'_account_id': 22348}, {'_account_id': 23084}]","[{'number': 1, 'created': '2024-06-05 15:22:07.000000000', 'files': ['doc/source/support-matrix.rst', 'doc/source/upgrading.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a0d647b36d832cededbff6aa61ed8934b01ec6cf', 'message': 'Update instructions to migrate from CentOS Stream 8\n\nChange-Id: I65da7cdfd284a01b2e214c2dc0f27a5f45ae0999\n(cherry picked from commit 1eeff7cc6ec753c411166e11572c47b3111bc001)\n'}]",0,921393,a0d647b36d832cededbff6aa61ed8934b01ec6cf,7,2,1,15197,,,0,"Update instructions to migrate from CentOS Stream 8

Change-Id: I65da7cdfd284a01b2e214c2dc0f27a5f45ae0999
(cherry picked from commit 1eeff7cc6ec753c411166e11572c47b3111bc001)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/93/921393/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/support-matrix.rst', 'doc/source/upgrading.rst']",2,a0d647b36d832cededbff6aa61ed8934b01ec6cf,c8s-migration-unmaintained/zed,system. Rocky Linux 9 support is also available in Yoga. CentOS Stream 8 users on Yoga should migrate to Rocky Linux 9 before upgrading to Zed.,system. Rocky Linux 9 support will also be added to Yoga in a future release. CentOS Stream 8 users upgrading from Yoga should wait for Rocky Linux 9 support to become available before upgrading to Zed.,6,9
openstack%2Frequirements~922001,openstack/requirements,stable/2023.1,I62dde1189af751e48fae0ceb8d855eb173d8d0ab,update constraint for oslo.service to new release 3.1.2,NEW,2024-06-14 09:30:57.000000000,2024-06-14 11:11:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-14 09:30:57.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ad48e1fe37ab43a42a6439bbd105aef40816f7bc', 'message': 'update constraint for oslo.service to new release 3.1.2\n\nmeta: version: 3.1.2\nmeta: diff-start: -\nmeta: series: antelope\nmeta: branch: stable/2023.1\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: damani42 <dbengt@redhat.com>\nmeta: release:Commit: damani42 <dbengt@redhat.com>\nmeta: release:Change-Id: I3481f8de239fe609c035985eda59800328562cb9\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: I62dde1189af751e48fae0ceb8d855eb173d8d0ab\n'}]",0,922001,ad48e1fe37ab43a42a6439bbd105aef40816f7bc,3,1,1,11131,,,0,"update constraint for oslo.service to new release 3.1.2

meta: version: 3.1.2
meta: diff-start: -
meta: series: antelope
meta: branch: stable/2023.1
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: damani42 <dbengt@redhat.com>
meta: release:Commit: damani42 <dbengt@redhat.com>
meta: release:Change-Id: I3481f8de239fe609c035985eda59800328562cb9
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: I62dde1189af751e48fae0ceb8d855eb173d8d0ab
",git fetch https://review.opendev.org/openstack/requirements refs/changes/01/922001/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,ad48e1fe37ab43a42a6439bbd105aef40816f7bc,new-release,oslo.service===3.1.2,oslo.service===3.1.1,1,1
openstack%2Fkayobe~921391,openstack/kayobe,stable/2023.2,I65da7cdfd284a01b2e214c2dc0f27a5f45ae0999,Update instructions to migrate from CentOS Stream 8,MERGED,2024-06-05 15:21:23.000000000,2024-06-14 11:10:57.000000000,2024-06-14 11:09:56.000000000,"[{'_account_id': 22348}, {'_account_id': 23084}]","[{'number': 1, 'created': '2024-06-05 15:21:23.000000000', 'files': ['doc/source/support-matrix.rst', 'doc/source/upgrading.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/db29939973abf324950c21ded673afbc09a55c16', 'message': 'Update instructions to migrate from CentOS Stream 8\n\nChange-Id: I65da7cdfd284a01b2e214c2dc0f27a5f45ae0999\n(cherry picked from commit 1eeff7cc6ec753c411166e11572c47b3111bc001)\n'}]",0,921391,db29939973abf324950c21ded673afbc09a55c16,7,2,1,15197,,,0,"Update instructions to migrate from CentOS Stream 8

Change-Id: I65da7cdfd284a01b2e214c2dc0f27a5f45ae0999
(cherry picked from commit 1eeff7cc6ec753c411166e11572c47b3111bc001)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/91/921391/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/support-matrix.rst', 'doc/source/upgrading.rst']",2,db29939973abf324950c21ded673afbc09a55c16,c8s-migration-stable/2023.2,system. Rocky Linux 9 support is also available in Yoga. CentOS Stream 8 users on Yoga should migrate to Rocky Linux 9 before upgrading to Zed.,system. Rocky Linux 9 support will also be added to Yoga in a future release. CentOS Stream 8 users upgrading from Yoga should wait for Rocky Linux 9 support to become available before upgrading to Zed.,6,9
openstack%2Fneutron~921946,openstack/neutron,unmaintained/wallaby,Ia61784174ee610b338f26660b2954330abc131a1,Add a default goto table=94 for openvswitch fw,NEW,2024-06-13 10:57:57.000000000,2024-06-14 11:09:28.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-13 10:57:57.000000000', 'files': ['doc/source/contributor/internals/openvswitch_firewall.rst', 'neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3e2e1819ddeaa87b82c4c686f4f3bf9f83e8697f', 'message': ""Add a default goto table=94 for openvswitch fw\n\nIf enable explicitly_egress_direct=True and set port as\nno security group and port_security=False, the ingress\nflood will reappear. The pipleline is:\nIngress\ntable_0 -> table_60 -> NORMAL -> VM\nEgress\ntable_0 -> ... -> table_94 -> output\n\nBecause ingress final action is normal, the br-int will learn the\nsource MAC, but egress final action is output. So VM's mac will\nnever be learnt by the br-int. Then ingress flood comes again.\n\nThis patch adds a default direct flow to table 94 during the\nopenflow security group init and explicitly_egress_direct=True, then\nthe pipleline will be:\nIngress\ntable_0 -> table_60 -> table_94 -> output VM\nEgress\ntable_0 -> ... -> table_94 -> output\n\nAnd this patch adds the flows coming from patch port which will\nmatch local vlan then go to table 94 do the same direct actions.\n\nAbove flood issue will be addressed by these flows.\n\nCloses-Bug: #2051351\nChange-Id: Ia61784174ee610b338f26660b2954330abc131a1\n(cherry picked from commit d6f56c5f96c42e1682f3d1723a65253429778c20)\n(cherry picked from commit f94f8b63842099904ff88906e8221a366a809f99)\n(cherry picked from commit fc7fa9cf308766cdbf29b8cf4d3aaad867738dc0)\n    Conflict with 02b12b09175 in neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py\n(cherry picked from commit 1045985c76dbea8851e6ced72d09a0f9bc58a59d)\n    Conflict with 5b64ac90133 in neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py\n(cherry picked from commit c32eb5669a542470bf659f79697517f5682ec19e)\n(cherry picked from commit 7992ca9bec5c7194bc390c1bc4a4bb3793eb607a)\n    Conflict with 053a9d24eca in neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py\n(cherry picked from commit 01e4a647eee7ccd7c4ea85fe5b1b8ec295e90c9e)\n    Conflict with 56e8498a4da in neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py\n""}]",1,921946,3e2e1819ddeaa87b82c4c686f4f3bf9f83e8697f,6,1,1,15554,,,0,"Add a default goto table=94 for openvswitch fw

If enable explicitly_egress_direct=True and set port as
no security group and port_security=False, the ingress
flood will reappear. The pipleline is:
Ingress
table_0 -> table_60 -> NORMAL -> VM
Egress
table_0 -> ... -> table_94 -> output

Because ingress final action is normal, the br-int will learn the
source MAC, but egress final action is output. So VM's mac will
never be learnt by the br-int. Then ingress flood comes again.

This patch adds a default direct flow to table 94 during the
openflow security group init and explicitly_egress_direct=True, then
the pipleline will be:
Ingress
table_0 -> table_60 -> table_94 -> output VM
Egress
table_0 -> ... -> table_94 -> output

And this patch adds the flows coming from patch port which will
match local vlan then go to table 94 do the same direct actions.

Above flood issue will be addressed by these flows.

Closes-Bug: #2051351
Change-Id: Ia61784174ee610b338f26660b2954330abc131a1
(cherry picked from commit d6f56c5f96c42e1682f3d1723a65253429778c20)
(cherry picked from commit f94f8b63842099904ff88906e8221a366a809f99)
(cherry picked from commit fc7fa9cf308766cdbf29b8cf4d3aaad867738dc0)
    Conflict with 02b12b09175 in neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py
(cherry picked from commit 1045985c76dbea8851e6ced72d09a0f9bc58a59d)
    Conflict with 5b64ac90133 in neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py
(cherry picked from commit c32eb5669a542470bf659f79697517f5682ec19e)
(cherry picked from commit 7992ca9bec5c7194bc390c1bc4a4bb3793eb607a)
    Conflict with 053a9d24eca in neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py
(cherry picked from commit 01e4a647eee7ccd7c4ea85fe5b1b8ec295e90c9e)
    Conflict with 56e8498a4da in neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py
",git fetch https://review.opendev.org/openstack/neutron refs/changes/46/921946/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/internals/openvswitch_firewall.rst', 'neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py']",6,3e2e1819ddeaa87b82c4c686f4f3bf9f83e8697f,bug/2051351," self.install_normal(table_id=constants.TRANSIENT_TABLE, priority=1)"," self.install_normal(table_id=constants.TRANSIENT_TABLE, priority=3)",50,4
openstack%2Frequirements~922000,openstack/requirements,stable/2024.1,I2a97e0e2c2f9a31c6a663f0658a98b55daf44c77,update constraint for oslo.service to new release 3.4.1,NEW,2024-06-14 09:29:40.000000000,2024-06-14 11:09:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-14 09:29:40.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d9e1ea888b9975dc0cfb7ebd1d5cf0ad65331b34', 'message': 'update constraint for oslo.service to new release 3.4.1\n\nmeta: version: 3.4.1\nmeta: diff-start: -\nmeta: series: caracal\nmeta: branch: stable/2024.1\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: damani42 <dbengt@redhat.com>\nmeta: release:Commit: damani42 <dbengt@redhat.com>\nmeta: release:Change-Id: I3481f8de239fe609c035985eda59800328562cb9\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: I2a97e0e2c2f9a31c6a663f0658a98b55daf44c77\n'}]",0,922000,d9e1ea888b9975dc0cfb7ebd1d5cf0ad65331b34,2,1,1,11131,,,0,"update constraint for oslo.service to new release 3.4.1

meta: version: 3.4.1
meta: diff-start: -
meta: series: caracal
meta: branch: stable/2024.1
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: damani42 <dbengt@redhat.com>
meta: release:Commit: damani42 <dbengt@redhat.com>
meta: release:Change-Id: I3481f8de239fe609c035985eda59800328562cb9
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: I2a97e0e2c2f9a31c6a663f0658a98b55daf44c77
",git fetch https://review.opendev.org/openstack/requirements refs/changes/00/922000/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,d9e1ea888b9975dc0cfb7ebd1d5cf0ad65331b34,new-release,oslo.service===3.4.1,oslo.service===3.4.0,1,1
openstack%2Fkolla-ansible~921997,openstack/kolla-ansible,master,I7edc1216d3e74e995ed2051e9fd3d93196014836,CI: remove m2.tiny creation outside of init-runonce,NEW,2024-06-14 08:29:40.000000000,2024-06-14 11:06:48.000000000,,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}]","[{'number': 1, 'created': '2024-06-14 08:29:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/095bbe94c5705f71e295877f36d9de1a1909e97c', 'message': 'CI: remove m2.tiny creation outside of init-runonce\n\nit is already in init-runonce in the previous release\n\nChange-Id: I7edc1216d3e74e995ed2051e9fd3d93196014836\n'}, {'number': 2, 'created': '2024-06-14 08:30:05.000000000', 'files': ['tests/test-core-openstack.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2fc5ccc4fc9e24f6b55f1b3ba2abf0e53a25d491', 'message': 'CI: remove m2.tiny creation outside of init-runonce\n\nit is already in init-runonce in the previous release\n\nChange-Id: I7edc1216d3e74e995ed2051e9fd3d93196014836\n'}]",1,921997,2fc5ccc4fc9e24f6b55f1b3ba2abf0e53a25d491,7,4,2,23084,,,0,"CI: remove m2.tiny creation outside of init-runonce

it is already in init-runonce in the previous release

Change-Id: I7edc1216d3e74e995ed2051e9fd3d93196014836
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/97/921997/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/test-core-openstack.sh'],1,095bbe94c5705f71e295877f36d9de1a1909e97c,,, # TODO(priteau): Remove once previous_release includes m2.tiny in # init-runonce if ! openstack flavor list -f value | grep m2.tiny; then openstack flavor create --id 6 --ram 512 --disk 1 --vcpus 2 m2.tiny fi ,0,6
openstack%2Fneutron~921945,openstack/neutron,unmaintained/xena,Ia61784174ee610b338f26660b2954330abc131a1,Add a default goto table=94 for openvswitch fw,NEW,2024-06-13 10:57:42.000000000,2024-06-14 10:56:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-13 10:57:42.000000000', 'files': ['doc/source/contributor/internals/openvswitch_firewall.rst', 'neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/01e4a647eee7ccd7c4ea85fe5b1b8ec295e90c9e', 'message': ""Add a default goto table=94 for openvswitch fw\n\nIf enable explicitly_egress_direct=True and set port as\nno security group and port_security=False, the ingress\nflood will reappear. The pipleline is:\nIngress\ntable_0 -> table_60 -> NORMAL -> VM\nEgress\ntable_0 -> ... -> table_94 -> output\n\nBecause ingress final action is normal, the br-int will learn the\nsource MAC, but egress final action is output. So VM's mac will\nnever be learnt by the br-int. Then ingress flood comes again.\n\nThis patch adds a default direct flow to table 94 during the\nopenflow security group init and explicitly_egress_direct=True, then\nthe pipleline will be:\nIngress\ntable_0 -> table_60 -> table_94 -> output VM\nEgress\ntable_0 -> ... -> table_94 -> output\n\nAnd this patch adds the flows coming from patch port which will\nmatch local vlan then go to table 94 do the same direct actions.\n\nAbove flood issue will be addressed by these flows.\n\nCloses-Bug: #2051351\nChange-Id: Ia61784174ee610b338f26660b2954330abc131a1\n(cherry picked from commit d6f56c5f96c42e1682f3d1723a65253429778c20)\n(cherry picked from commit f94f8b63842099904ff88906e8221a366a809f99)\n(cherry picked from commit fc7fa9cf308766cdbf29b8cf4d3aaad867738dc0)\n    Conflict with 02b12b09175 in neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py\n(cherry picked from commit 1045985c76dbea8851e6ced72d09a0f9bc58a59d)\n    Conflict with 5b64ac90133 in neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py\n(cherry picked from commit c32eb5669a542470bf659f79697517f5682ec19e)\n(cherry picked from commit 7992ca9bec5c7194bc390c1bc4a4bb3793eb607a)\n    Conflict with 053a9d24eca in neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py\n""}]",1,921945,01e4a647eee7ccd7c4ea85fe5b1b8ec295e90c9e,6,1,1,15554,,,0,"Add a default goto table=94 for openvswitch fw

If enable explicitly_egress_direct=True and set port as
no security group and port_security=False, the ingress
flood will reappear. The pipleline is:
Ingress
table_0 -> table_60 -> NORMAL -> VM
Egress
table_0 -> ... -> table_94 -> output

Because ingress final action is normal, the br-int will learn the
source MAC, but egress final action is output. So VM's mac will
never be learnt by the br-int. Then ingress flood comes again.

This patch adds a default direct flow to table 94 during the
openflow security group init and explicitly_egress_direct=True, then
the pipleline will be:
Ingress
table_0 -> table_60 -> table_94 -> output VM
Egress
table_0 -> ... -> table_94 -> output

And this patch adds the flows coming from patch port which will
match local vlan then go to table 94 do the same direct actions.

Above flood issue will be addressed by these flows.

Closes-Bug: #2051351
Change-Id: Ia61784174ee610b338f26660b2954330abc131a1
(cherry picked from commit d6f56c5f96c42e1682f3d1723a65253429778c20)
(cherry picked from commit f94f8b63842099904ff88906e8221a366a809f99)
(cherry picked from commit fc7fa9cf308766cdbf29b8cf4d3aaad867738dc0)
    Conflict with 02b12b09175 in neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py
(cherry picked from commit 1045985c76dbea8851e6ced72d09a0f9bc58a59d)
    Conflict with 5b64ac90133 in neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py
(cherry picked from commit c32eb5669a542470bf659f79697517f5682ec19e)
(cherry picked from commit 7992ca9bec5c7194bc390c1bc4a4bb3793eb607a)
    Conflict with 053a9d24eca in neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py
",git fetch https://review.opendev.org/openstack/neutron refs/changes/45/921945/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/internals/openvswitch_firewall.rst', 'neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py']",6,01e4a647eee7ccd7c4ea85fe5b1b8ec295e90c9e,bug/2051351," self.install_normal(table_id=constants.TRANSIENT_TABLE, priority=1)"," self.install_normal(table_id=constants.TRANSIENT_TABLE, priority=3)",50,4
openstack%2Fcinder~921020,openstack/cinder,master,Iacc115bdb0aefc96f0a4505135bec3a64f6180fc,Add Ceastor Cinder Driver,NEW,2024-06-03 12:34:41.000000000,2024-06-14 10:55:40.000000000,,"[{'_account_id': 22348}, {'_account_id': 29122}]","[{'number': 1, 'created': '2024-06-03 12:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7429f3fe1ad2ccb700e70268aeedb60273719333', 'message': 'Add Ceastor Cinder Driver\n\nThis driver supports the following features:\n* Create/Delete Volume\n* Create/Delete Snapshot\n* Create Volume from Snapshot\n* Clone Volume\n* Extend Volume\n* Revert Volume to Snapshot\n\nChange-Id: Iacc115bdb0aefc96f0a4505135bec3a64f6180fc\n'}, {'number': 2, 'created': '2024-06-04 07:40:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3f7088d9218bb594dbebc2330789d5544652d350', 'message': 'Add Ceastor Cinder Driver\n\nThis driver supports the following features:\n* Create/Delete Volume\n* Create/Delete Snapshot\n* Create Volume from Snapshot\n* Clone Volume\n* Extend Volume\n* Revert Volume to Snapshot\n\nChange-Id: Iacc115bdb0aefc96f0a4505135bec3a64f6180fc\n'}, {'number': 3, 'created': '2024-06-04 11:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f74baaa332e50764288905d9708e7017fddccc45', 'message': 'Add Ceastor Cinder Driver\n\nThis driver supports the following features:\n* Create/Delete Volume\n* Create/Delete Snapshot\n* Create Volume from Snapshot\n* Clone Volume\n* Extend Volume\n* Revert Volume to Snapshot\n\nChange-Id: Iacc115bdb0aefc96f0a4505135bec3a64f6180fc\n'}, {'number': 4, 'created': '2024-06-04 17:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4b5960e197f0663ddbd3cd8f492d26ed5c283af2', 'message': 'Add Ceastor Cinder Driver\n\nThis driver supports the following features:\n* Create/Delete Volume\n* Create/Delete Snapshot\n* Create Volume from Snapshot\n* Clone Volume\n* Extend Volume\n* Revert Volume to Snapshot\n\nChange-Id: Iacc115bdb0aefc96f0a4505135bec3a64f6180fc\n'}, {'number': 5, 'created': '2024-06-05 02:27:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1a82e0a4d44dc8e071a4b5f770294d163be253d8', 'message': 'Add Ceastor Cinder Driver\n\nThis driver supports the following features:\n* Create/Delete Volume\n* Create/Delete Snapshot\n* Create Volume from Snapshot\n* Clone Volume\n* Extend Volume\n* Revert Volume to Snapshot\n\nChange-Id: Iacc115bdb0aefc96f0a4505135bec3a64f6180fc\n'}, {'number': 6, 'created': '2024-06-05 08:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8c8f92f3234abfcd9f91729a5a33051011b0c18d', 'message': 'Add Ceastor Cinder Driver\n\nThis driver supports the following features:\n* Create/Delete Volume\n* Create/Delete Snapshot\n* Create Volume from Snapshot\n* Clone Volume\n* Extend Volume\n* Revert Volume to Snapshot\n\nChange-Id: Iacc115bdb0aefc96f0a4505135bec3a64f6180fc\n'}, {'number': 7, 'created': '2024-06-06 13:40:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/03443330b8f00b21e908f4c246b9dffd70abb80a', 'message': 'Add Ceastor Cinder Driver\n\nThis driver supports the following features:\n* Create/Delete Volume\n* Create/Delete Snapshot\n* Create Volume from Snapshot\n* Clone Volume\n* Extend Volume\n* Revert Volume to Snapshot\n\nChange-Id: Iacc115bdb0aefc96f0a4505135bec3a64f6180fc\n'}, {'number': 8, 'created': '2024-06-13 03:57:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/426c0603f7b176090aa896adf991755cb99a5784', 'message': 'Add Ceastor Cinder Driver\n\nThis driver supports the following features:\n* Create/Delete Volume\n* Create/Delete Snapshot\n* Create Volume from Snapshot\n* Clone Volume\n* Extend Volume\n* Revert Volume to Snapshot\n\nChange-Id: Iacc115bdb0aefc96f0a4505135bec3a64f6180fc\n'}, {'number': 9, 'created': '2024-06-13 08:41:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e87b5912599091ec6f655ede8b989760cffef198', 'message': 'Add Ceastor Cinder Driver\n\nThis driver supports the following features:\n* Create/Delete Volume\n* Create/Delete Snapshot\n* Create Volume from Snapshot\n* Clone Volume\n* Extend Volume\n* Revert Volume to Snapshot\n\nChange-Id: Iacc115bdb0aefc96f0a4505135bec3a64f6180fc\n'}, {'number': 10, 'created': '2024-06-13 08:50:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3c95a26e0a6e11bd13bd13602af38decfc9f930c', 'message': 'Add Ceastor Cinder Driver\n\nThis driver supports the following features:\n* Create/Delete Volume\n* Create/Delete Snapshot\n* Create Volume from Snapshot\n* Clone Volume\n* Extend Volume\n* Revert Volume to Snapshot\n\nChange-Id: Iacc115bdb0aefc96f0a4505135bec3a64f6180fc\n'}, {'number': 11, 'created': '2024-06-14 03:21:27.000000000', 'files': ['cinder/volume/drivers/ceastor/__init__.py', 'cinder/volume/drivers/ceastor/install.sh', 'cinder/volume/drivers/ceastor/driver.py', 'cinder/volume/drivers/ceastor/ceastor_client.py', 'releasenotes/notes/add-ceastor-nvme-driver-174ced5b70e316c2.yaml', 'cinder/tests/unit/volume/drivers/ceastor/client_test.py', 'doc/source/configuration/block-storage/drivers/ceastor-driver.rst', 'cinder/opts.py', 'cinder/volume/drivers/ceastor/constants.py', 'doc/source/reference/support-matrix.ini', 'requirements.txt', 'cinder/tests/unit/volume/drivers/ceastor/__init__.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/632c219bbd212f4efc17fa8e31ec47b81e48f008', 'message': 'Add Ceastor Cinder Driver\n\nThis driver supports the following features:\n* Create/Delete Volume\n* Create/Delete Snapshot\n* Create Volume from Snapshot\n* Clone Volume\n* Extend Volume\n* Revert Volume to Snapshot\n\nChange-Id: Iacc115bdb0aefc96f0a4505135bec3a64f6180fc\n'}]",102,921020,632c219bbd212f4efc17fa8e31ec47b81e48f008,137,2,11,37063,,,0,"Add Ceastor Cinder Driver

This driver supports the following features:
* Create/Delete Volume
* Create/Delete Snapshot
* Create Volume from Snapshot
* Clone Volume
* Extend Volume
* Revert Volume to Snapshot

Change-Id: Iacc115bdb0aefc96f0a4505135bec3a64f6180fc
",git fetch https://review.opendev.org/openstack/cinder refs/changes/20/921020/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/ceastor/__init__.py', 'cinder/volume/drivers/ceastor/ceastor.py', 'cinder/volume/drivers/ceastor/constants.py', 'cinder/volume/drivers/ceastor/install.sh', 'cinder/volume/drivers/ceastor/ceastor_client.py', 'cinder/volume/drivers/ceastor/test/client_test.py', 'cinder/volume/drivers/ceastor/test/__init__.py']",7,7429f3fe1ad2ccb700e70268aeedb60273719333,ceastor-driver,,,2211,0
openstack%2Fglance~890508,openstack/glance,master,Ia8501b19e95f8285a7a32d1087b8c5b7453adafc,Add api-ref and documentation for new location apis,NEW,2023-08-04 07:04:53.000000000,2024-06-14 10:48:14.000000000,,"[{'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-08-04 07:04:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/333dfad8845b5a5f9a605d20db2ed1a039d60368', 'message': 'Add api-ref for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 2, 'created': '2023-08-09 11:13:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ecc8c8173caebb1aeb65de98cd8b3a69edace718', 'message': 'Add api-ref for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 3, 'created': '2023-08-09 11:32:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ac2baf9b288de76401fafc49df5a6792dec469dc', 'message': 'Add api-ref for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 4, 'created': '2023-08-14 11:50:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/84ee860ae96b7319bf518fe3de452585f925e434', 'message': 'Add api-ref for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 5, 'created': '2023-08-16 09:29:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b7cfbe4d651f52aa25916fc7a887ea0beac95d93', 'message': 'Add api-ref for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 6, 'created': '2023-08-20 12:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/268683e5845fb9a28c91c2179376cb19dfd13256', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 7, 'created': '2023-08-24 11:40:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/529b62dbfa2071f96683cf4ad4d3f1954d95e8dd', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 8, 'created': '2023-08-24 12:00:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c6a3644d1bcb316f95875ee3d071fcb72d3916f8', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 9, 'created': '2023-08-24 15:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5530ba9af056c865b51f3e5ea2064a05fc6a3b14', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 10, 'created': '2023-08-25 17:41:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3777ec966a22a4260d226c4da3b64c26fce690fc', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 11, 'created': '2023-08-28 14:31:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/623ba9177499b2be3dba90e4abf581d4562fcad9', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 12, 'created': '2023-08-29 08:58:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9c85e3ded1b91aea71cef3bd7e5d252da0d93ebe', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 13, 'created': '2023-08-29 14:21:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9ddb98f111e9c7f6a3a32f512b8b797dfb970e13', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 14, 'created': '2023-08-29 18:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/235bae2696abacd3e13eeed3e61bfdfa1f864b81', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 15, 'created': '2023-08-30 08:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/65e7e7e9785d5245146459899c6302ab856f3aee', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 16, 'created': '2023-08-30 10:40:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/83901a1f68ed0717431ed8fe763fdde8be26fc91', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 17, 'created': '2023-08-30 13:57:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/21a295ded1d529d4ed810250d1a19b8da1c987bb', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 18, 'created': '2023-08-31 07:57:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/63fe00bf8d89f1fb169e6971528fa9ba75d9fc6a', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 19, 'created': '2023-08-31 10:27:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/139164559db9118b8b8f9a18bbc2e0d4dcf60d35', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 20, 'created': '2023-09-05 07:25:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/fa8e5358620560d59ce9c5642907a4d1e7dd34d4', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 21, 'created': '2023-10-19 07:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/186262596aa71eb381bb54d92ed86838a8ddde54', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 22, 'created': '2023-10-31 09:27:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6ec808b0dbc9cca4e81cfabd0ac3699ce06641e9', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 23, 'created': '2023-10-31 12:49:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/de4dad1d35cbfcd5f9bdf8528a0ea36f4008aeec', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 24, 'created': '2023-11-02 09:35:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/be71e1a7a5b6036aca19b7ba68dfd55dd30f2e7e', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 25, 'created': '2023-11-08 11:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7460b5952a78c4f33467db66e096f00457668383', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 26, 'created': '2023-12-05 14:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/021b21dcf4e23c7c4533334233d352d5773b331f', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 27, 'created': '2024-01-02 12:02:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/cb2be91ae081ff74613233f97249b6968bd7ff64', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 28, 'created': '2024-01-11 07:36:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/439c6c688b5ba13c30e2b78676b15e61286fbefb', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 29, 'created': '2024-01-22 10:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6c0ad5bc3569548e813a14baf7bdd6312e5b985c', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 30, 'created': '2024-01-23 11:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1bb964f6a1bc56d5955c4f4975f421c198fa5bed', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 31, 'created': '2024-01-24 10:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/23a7fa3f61c5bd9bcd6fd9198eede6d8ede1cd17', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 32, 'created': '2024-02-07 06:50:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7bd93f018d1b8c156e69af85ee876a9400e90521', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 33, 'created': '2024-02-07 09:14:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c36fbd89522d56a78a94916d3a51865b53ce0501', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 34, 'created': '2024-02-15 10:31:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c086f5afd7325e3b70b4c651da4213b603ff00d6', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 35, 'created': '2024-02-20 10:23:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/459736fde680565f0bc282fd53ff141567edf474', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 36, 'created': '2024-02-21 12:59:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/73351405bc233f9a639049a305154ec3fdc6caec', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 37, 'created': '2024-02-22 07:41:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/dc03c447ecac971cbde1989f5a61a823c1968391', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 38, 'created': '2024-02-22 11:00:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/35bf8825c2698a416c9fb8d6c30b4ad25bd188bb', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 39, 'created': '2024-02-26 09:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b3d62a5ae15079de04dab60d7dac65cbec0335c1', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 40, 'created': '2024-02-27 07:12:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7df4ab5cf5a815316ced642cd574082198878fb6', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 41, 'created': '2024-02-27 13:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/432766e27560075f3526507da7655eac28f8863f', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 42, 'created': '2024-02-27 15:26:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6549eb0077b74e28fbdc50dd86bb182810332333', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 43, 'created': '2024-02-28 03:51:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8a404a9e55a12bf6f988dab8614aee25ff0e694b', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 44, 'created': '2024-02-28 09:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e3bff117b080f68ab534919251d2098002dcfbba', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 45, 'created': '2024-02-28 11:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6d9fec30fd4efdcfdd0a9bba2035f9611c5227d3', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 46, 'created': '2024-02-28 16:14:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b334dc9e8fc002e24fb0256ce3515e8399cb1a72', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 47, 'created': '2024-02-28 19:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/784c3ffa384474f7a2f2c161ed9ffecf0b0bd756', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 48, 'created': '2024-02-28 19:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0bcf477a16197f7a2adf51d2533ad16af7b1bfd6', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 49, 'created': '2024-02-29 10:17:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/2b41597fe5e2564613f79411480125ec831e1672', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 50, 'created': '2024-02-29 11:03:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/55459f1e6d64a61579c8e975cd76994181c5ea44', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 51, 'created': '2024-04-04 07:00:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d4dca485db6657e78a2678548da089a3e8a7bfa8', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 52, 'created': '2024-04-08 06:31:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6a204740c665d3d982d6dac0cbf6f4fa526716be', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 53, 'created': '2024-04-29 08:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3ba4e8aa5926298c220594b2b8daa65b09147d47', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 54, 'created': '2024-04-30 09:42:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ed070aa0cf21f247c36ecf3b755bb58056989b8e', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 55, 'created': '2024-05-07 06:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/eb3e9fcbd15a5ac7575e07658a4b8487fa641372', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 56, 'created': '2024-05-07 13:08:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f256cae25d41d6f36d66cce7cf7cab8430362741', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 57, 'created': '2024-05-08 09:01:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9a4b3ba7bf416ddfb953c664ce034650098d10fa', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 58, 'created': '2024-06-06 06:46:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/fde42755d553fd5f9109cbd041a0d6f1d78cb65e', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}, {'number': 59, 'created': '2024-06-14 10:35:46.000000000', 'files': ['api-ref/source/v2/images-parameters.yaml', 'doc/source/admin/index.rst', 'doc/source/admin/new-location-apis.rst', 'api-ref/source/v2/samples/locations-list-detail-response.json', 'api-ref/source/v2/images-images-v2.inc', 'api-ref/source/v2/samples/add-location-request.json'], 'web_link': 'https://opendev.org/openstack/glance/commit/71bbf52784079bb1c1d1bcd4e6e8c48b372d4029', 'message': 'Add api-ref and documentation for new location apis\n\nChange-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc\n'}]",135,890508,71bbf52784079bb1c1d1bcd4e6e8c48b372d4029,149,5,59,19138,,,0,"Add api-ref and documentation for new location apis

Change-Id: Ia8501b19e95f8285a7a32d1087b8c5b7453adafc
",git fetch https://review.opendev.org/openstack/glance refs/changes/08/890508/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v2/images-parameters.yaml', 'api-ref/source/v2/samples/locations-list-detail-response.json', 'api-ref/source/v2/images-images-v2.inc', 'api-ref/source/v2/samples/add-location-request.json']",4,333dfad8845b5a5f9a605d20db2ed1a039d60368,New-Location-Apis,"{ ""url"": ""cinder://lvmdriver-1/39e6ffab-7502-4199-9609-416601615ca3"", ""validation_data"": { ""os_hash_algo"": ""sha512"", ""os_hash_value"": ""c5041ae163cf0f65600acfe7f6a63f212101687d41a57a4e18ffd2a07a452cd8175b8f5a4868dd2330bfe5ae123f18216bdbc9e0f80d131e64b94913a7b40bb5"" } } ",,109,0
openstack%2Fkeystonemiddleware~918622,openstack/keystonemiddleware,master,I5814ce1134e7422771ae3e3704bd0514ea329422,reno: Update master for unmaintained/zed,NEW,2024-05-08 12:40:09.000000000,2024-06-14 10:08:07.000000000,,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2024-05-08 12:40:09.000000000', 'files': ['releasenotes/source/zed.rst'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/c890d93a4e94620844c47ead5d3d014eb993e971', 'message': 'reno: Update master for unmaintained/zed\n\nUpdate the zed release notes configuration to build from\nunmaintained/zed.\n\nChange-Id: I5814ce1134e7422771ae3e3704bd0514ea329422\n'}]",0,918622,c890d93a4e94620844c47ead5d3d014eb993e971,3,2,1,22816,,,0,"reno: Update master for unmaintained/zed

Update the zed release notes configuration to build from
unmaintained/zed.

Change-Id: I5814ce1134e7422771ae3e3704bd0514ea329422
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/22/918622/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/zed.rst'],1,c890d93a4e94620844c47ead5d3d014eb993e971,reno-eom-zed, :branch: unmaintained/zed, :branch: stable/zed,1,1
openstack%2Fkolla-ansible~921937,openstack/kolla-ansible,master,I517d9f078a4dbb34178c851c1bc8b51b738882da,[CI] Remove SLURP related ansible installation,MERGED,2024-06-13 10:38:55.000000000,2024-06-14 10:07:13.000000000,2024-06-14 10:03:34.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}]","[{'number': 1, 'created': '2024-06-13 10:38:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ece9cd21045ae52c2b8f352d5d206b6e5a604bc9', 'message': '[CI] Remove SLURP related ansible installation\n\nChange-Id: I517d9f078a4dbb34178c851c1bc8b51b738882da\n'}, {'number': 2, 'created': '2024-06-13 10:39:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7f1c3532d6d6a4f18e957df21e48e7d9ef0fb844', 'message': '[CI] Remove SLURP related ansible installation\n\nChange-Id: I517d9f078a4dbb34178c851c1bc8b51b738882da\n'}, {'number': 3, 'created': '2024-06-13 11:38:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ab4525ac2876c11b93c15b70f15b584d97b133fb', 'message': '[CI] Remove SLURP related ansible installation\n\nChange-Id: I517d9f078a4dbb34178c851c1bc8b51b738882da\n'}, {'number': 4, 'created': '2024-06-13 11:40:08.000000000', 'files': ['tests/run.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/703c8622f58172e87a5e5ee1ddb826a8171cccc2', 'message': '[CI] Remove SLURP related ansible installation\n\nChange-Id: I517d9f078a4dbb34178c851c1bc8b51b738882da\n'}]",0,921937,703c8622f58172e87a5e5ee1ddb826a8171cccc2,14,3,4,23084,,,0,"[CI] Remove SLURP related ansible installation

Change-Id: I517d9f078a4dbb34178c851c1bc8b51b738882da
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/37/921937/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/run.yml'],1,ece9cd21045ae52c2b8f352d5d206b6e5a604bc9,,," # TODO(mnasiadka): Remove in D - name: Install Ansible on SLURP upgrade only pip: extra_args: ""-c {{ upper_constraints_file }}"" name: ""ansible{{ ansible_version_constraint }}"" virtualenv: ""{{ kolla_ansible_venv_path }}"" when: is_slurp ",0,8
openstack%2Fkolla-ansible~921935,openstack/kolla-ansible,master,I4b09b066d2a65f7f83dde75fec363874c13225c6,CI: Disable SLURP jobs for D cycle,MERGED,2024-06-13 10:30:28.000000000,2024-06-14 10:06:19.000000000,2024-06-14 10:03:32.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 32553}]","[{'number': 1, 'created': '2024-06-13 10:30:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/04d17be6c919a021c6df7c2e2d3e9bcdb6f5347d', 'message': 'CI: Skip SLURP jobs on master\n\nChange-Id: I4b09b066d2a65f7f83dde75fec363874c13225c6\n'}, {'number': 2, 'created': '2024-06-13 11:37:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1eeb22260af049c180b8c46c14ee2ca446aee6d1', 'message': 'CI: Skip SLURP jobs on master\n\nChange-Id: I4b09b066d2a65f7f83dde75fec363874c13225c6\n'}, {'number': 3, 'created': '2024-06-13 11:39:53.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f0688f792243256371c6cadf95860902579c6b01', 'message': 'CI: Disable SLURP jobs for D cycle\n\nChange-Id: I4b09b066d2a65f7f83dde75fec363874c13225c6\n'}]",2,921935,f0688f792243256371c6cadf95860902579c6b01,20,4,3,22629,,,0,"CI: Disable SLURP jobs for D cycle

Change-Id: I4b09b066d2a65f7f83dde75fec363874c13225c6
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/35/921935/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,04d17be6c919a021c6df7c2e2d3e9bcdb6f5347d,, branches: !master branches: !master branches: !master, branches: master branches: master branches: master,3,3
openstack%2Freleases~916469,openstack/releases,master,I5bc3748c5985e9827c3ccd05225b6f8b55646a14,[Puppet OpenStack] Add release note links for caracal,NEW,2024-04-19 14:59:00.000000000,2024-06-14 10:03:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-04-19 14:59:00.000000000', 'files': ['deliverables/caracal/puppet-vitrage.yaml', 'deliverables/caracal/puppet-trove.yaml', 'deliverables/caracal/puppet-aodh.yaml', 'deliverables/caracal/puppet-cloudkitty.yaml', 'deliverables/caracal/puppet-placement.yaml', 'deliverables/caracal/puppet-nova.yaml', 'deliverables/caracal/puppet-ovn.yaml', 'deliverables/caracal/puppet-manila.yaml', 'deliverables/caracal/puppet-horizon.yaml', 'deliverables/caracal/puppet-swift.yaml', 'deliverables/caracal/puppet-glance.yaml', 'deliverables/caracal/puppet-barbican.yaml', 'deliverables/caracal/puppet-zaqar.yaml', 'deliverables/caracal/puppet-mistral.yaml', 'deliverables/caracal/puppet-ceilometer.yaml', 'deliverables/caracal/puppet-ironic.yaml', 'deliverables/caracal/puppet-heat.yaml', 'deliverables/caracal/puppet-openstacklib.yaml', 'deliverables/caracal/puppet-cinder.yaml', 'deliverables/caracal/puppet-tempest.yaml', 'deliverables/caracal/puppet-vswitch.yaml', 'deliverables/caracal/puppet-keystone.yaml', 'deliverables/caracal/puppet-neutron.yaml', 'deliverables/caracal/puppet-watcher.yaml', 'deliverables/caracal/puppet-magnum.yaml', 'deliverables/caracal/puppet-gnocchi.yaml', 'deliverables/caracal/puppet-openstack_extras.yaml', 'deliverables/caracal/puppet-designate.yaml', 'deliverables/caracal/puppet-octavia.yaml', 'deliverables/caracal/puppet-oslo.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/34cf51874bca4f101d0ffedb69879bab63d6c385', 'message': '[Puppet OpenStack] Add release note links for caracal\n\nChange-Id: I5bc3748c5985e9827c3ccd05225b6f8b55646a14\n'}]",2,916469,34cf51874bca4f101d0ffedb69879bab63d6c385,6,1,1,9816,,,0,"[Puppet OpenStack] Add release note links for caracal

Change-Id: I5bc3748c5985e9827c3ccd05225b6f8b55646a14
",git fetch https://review.opendev.org/openstack/releases refs/changes/69/916469/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/caracal/puppet-vitrage.yaml', 'deliverables/caracal/puppet-trove.yaml', 'deliverables/caracal/puppet-aodh.yaml', 'deliverables/caracal/puppet-cloudkitty.yaml', 'deliverables/caracal/puppet-placement.yaml', 'deliverables/caracal/puppet-nova.yaml', 'deliverables/caracal/puppet-ovn.yaml', 'deliverables/caracal/puppet-manila.yaml', 'deliverables/caracal/puppet-horizon.yaml', 'deliverables/caracal/puppet-swift.yaml', 'deliverables/caracal/puppet-glance.yaml', 'deliverables/caracal/puppet-barbican.yaml', 'deliverables/caracal/puppet-zaqar.yaml', 'deliverables/caracal/puppet-mistral.yaml', 'deliverables/caracal/puppet-ceilometer.yaml', 'deliverables/caracal/puppet-ironic.yaml', 'deliverables/caracal/puppet-heat.yaml', 'deliverables/caracal/puppet-openstacklib.yaml', 'deliverables/caracal/puppet-cinder.yaml', 'deliverables/caracal/puppet-tempest.yaml', 'deliverables/caracal/puppet-vswitch.yaml', 'deliverables/caracal/puppet-keystone.yaml', 'deliverables/caracal/puppet-neutron.yaml', 'deliverables/caracal/puppet-watcher.yaml', 'deliverables/caracal/puppet-magnum.yaml', 'deliverables/caracal/puppet-gnocchi.yaml', 'deliverables/caracal/puppet-openstack_extras.yaml', 'deliverables/caracal/puppet-designate.yaml', 'deliverables/caracal/puppet-octavia.yaml', 'deliverables/caracal/puppet-oslo.yaml']",30,34cf51874bca4f101d0ffedb69879bab63d6c385,,release-notes: https://docs.openstack.org/releasenotes/puppet-oslo/2024.1.html,,30,0
openstack%2Fkolla-ansible~916586,openstack/kolla-ansible,master,Id6855274baa3e8f7af3332852d37a8c0e1110fa6,Allow haproxy to listen to more than 1 address,NEW,2024-04-20 21:59:14.000000000,2024-06-14 10:02:46.000000000,,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 36201}]","[{'number': 1, 'created': '2024-04-20 21:59:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/44771f3e88eeb998979a2c12df1765e2f0026adf', 'message': 'Allow haproxy to listen to more than 1 address\n\nChange-Id: Id6855274baa3e8f7af3332852d37a8c0e1110fa6\n'}, {'number': 2, 'created': '2024-04-20 22:02:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/30cf6feb3a9d3cb863426816e639c22d1b2ee201', 'message': 'Allow haproxy to listen to more than 1 address\n\nChange-Id: Id6855274baa3e8f7af3332852d37a8c0e1110fa6\nCloses-Bug: #2060065\n'}, {'number': 3, 'created': '2024-04-21 12:02:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9dbb31a01ae556cb88a6e79eb4155ee21d6f8a59', 'message': 'Allow haproxy to listen to more than 1 address\n\nChange-Id: Id6855274baa3e8f7af3332852d37a8c0e1110fa6\n'}, {'number': 4, 'created': '2024-04-21 12:03:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/002f636f1159d89ed7dfe02c20d5b5ddcbe3ff38', 'message': 'Allow haproxy to listen to more than 1 address\n\nChange-Id: Id6855274baa3e8f7af3332852d37a8c0e1110fa6\nCloses-Bug: #2060065\n'}, {'number': 5, 'created': '2024-06-13 20:34:42.000000000', 'files': ['ansible/roles/loadbalancer/templates/haproxy/haproxy_external_frontend.cfg.j2', 'ansible/roles/haproxy-config/defaults/main.yml', 'ansible/roles/haproxy-config/templates/haproxy_single_service_split.cfg.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3a264dd653d1d4fb6cdd26a1afbdbd3aa122c00e', 'message': 'Allow haproxy to listen to more than 1 address\n\nChange-Id: Id6855274baa3e8f7af3332852d37a8c0e1110fa6\nCloses-Bug: #2060065\n'}]",4,916586,3a264dd653d1d4fb6cdd26a1afbdbd3aa122c00e,16,3,5,36319,,,0,"Allow haproxy to listen to more than 1 address

Change-Id: Id6855274baa3e8f7af3332852d37a8c0e1110fa6
Closes-Bug: #2060065
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/86/916586/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/haproxy-config/defaults/main.yml', 'ansible/roles/haproxy-config/templates/haproxy_single_service_split.cfg.j2']",2,44771f3e88eeb998979a2c12df1765e2f0026adf,bug/2060065," {% set bind_addresses = haproxy_external_bind_addresses %} {% set bind_addresses = haproxy_internal_bind_addresses %} {% for bind_address in bind_addresses %} {{ ""bind %s:%s %s""|e|format(bind_address, service_port, tls_option)|trim() }} {% endfor %}"," {% set vip_address = kolla_external_vip_address %} {% set vip_address = kolla_internal_vip_address %} {{ ""bind %s:%s %s""|e|format(vip_address, service_port, tls_option)|trim() }}",10,3
openstack%2Freleases~921768,openstack/releases,master,I0ece8a1ebe80c251804e722fbb2eac2c9c1814e2,Release telemetry-tempest-plugin 2.2.0,NEW,2024-06-11 14:34:02.000000000,2024-06-14 09:50:59.000000000,,"[{'_account_id': 308}, {'_account_id': 4264}, {'_account_id': 5202}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-11 14:34:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/7718f9adae60202f307c18a6ee321ee6ae7e27c1', 'message': 'Release telemetry-tempest-plugin 2.2.0\n\nThis will include a fix the compatibility with gabby>=2.7.0\nand another patch to parameterize the prometheus rate duration.\n\nChange-Id: I0ece8a1ebe80c251804e722fbb2eac2c9c1814e2\n'}, {'number': 2, 'created': '2024-06-13 10:26:43.000000000', 'files': ['deliverables/dalmatian/telemetry-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/60ed135f03cdf7e0f6a6f917b231284f16b57036', 'message': 'Release telemetry-tempest-plugin 2.2.0\n\nThis will include a fix the compatibility with gabby>=2.7.0\nand another patch to parameterize the prometheus rate duration.\n\nChange-Id: I0ece8a1ebe80c251804e722fbb2eac2c9c1814e2\n'}]",6,921768,60ed135f03cdf7e0f6a6f917b231284f16b57036,12,5,2,4264,,,0,"Release telemetry-tempest-plugin 2.2.0

This will include a fix the compatibility with gabby>=2.7.0
and another patch to parameterize the prometheus rate duration.

Change-Id: I0ece8a1ebe80c251804e722fbb2eac2c9c1814e2
",git fetch https://review.opendev.org/openstack/releases refs/changes/68/921768/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/dalmatian/telemetry-tempest-plugin.yaml'],1,7718f9adae60202f307c18a6ee321ee6ae7e27c1,tempest_prom, - version: 2.2.0 projects: - repo: openstack/telemetry-tempest-plugin hash: 92b0c1932996feceb1a2ec6baf808edb18030d83,,4,0
openstack%2Fcharm-mysql-router~916114,openstack/charm-mysql-router,master,If2079e3a8ec7ac025aad7c3b1c7d5282fd3a436d,Use hostname for report-host with ipv6,NEW,2024-04-17 14:12:31.000000000,2024-06-14 09:36:08.000000000,,"[{'_account_id': 14567}, {'_account_id': 15382}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-17 14:12:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/1a4cbfad10b7a3db086f4c89296f7d364e94ec83', 'message': 'Use hostname for report-host with ipv6\n\nThe router does not support ipv6 addresses as hostname for the\nreport-host option.\nWe now use get_hostname() for a PTR lookup and provide a hostname\ninstead in ipv6 enviroments.\nCloses-Bug: #2061984\n\nChange-Id: If2079e3a8ec7ac025aad7c3b1c7d5282fd3a436d\n'}, {'number': 2, 'created': '2024-04-17 15:08:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/cfec8eeaa78d1726bc893766a7b8aecac855b18d', 'message': 'Use hostname for report-host with ipv6\n\nThe router does not support ipv6 addresses as hostname for the\nreport-host option.\nWe now use get_hostname() for a PTR lookup and provide a hostname\ninstead in ipv6 enviroments.\nCloses-Bug: #2061984\n\nChange-Id: If2079e3a8ec7ac025aad7c3b1c7d5282fd3a436d\n'}, {'number': 3, 'created': '2024-04-17 18:23:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/c83a88b294e328c2cbb56f2dca50fc89e0b8b8d3', 'message': 'Use hostname for report-host with ipv6\n\nThe router does not support ipv6 addresses as hostname for the\nreport-host option.\nWe now use get_hostname() for a PTR lookup and provide a hostname\ninstead in ipv6 enviroments.\nCloses-Bug: #2061984\n\nChange-Id: If2079e3a8ec7ac025aad7c3b1c7d5282fd3a436d\n'}, {'number': 4, 'created': '2024-04-23 12:03:27.000000000', 'files': ['src/lib/charm/openstack/mysql_router.py', 'unit_tests/test_lib_charm_openstack_mysql_router.py'], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/b8cb774790d441e0331018401322b5f90e47281e', 'message': 'Use hostname for report-host with ipv6\n\nThe router does not support ipv6 addresses as hostname for the\nreport-host option.\nWe now use get_hostname() for a PTR lookup and provide a hostname\ninstead in ipv6 enviroments.\nCloses-Bug: #2061984\n\nChange-Id: If2079e3a8ec7ac025aad7c3b1c7d5282fd3a436d\n'}]",3,916114,b8cb774790d441e0331018401322b5f90e47281e,14,4,4,36857,,,0,"Use hostname for report-host with ipv6

The router does not support ipv6 addresses as hostname for the
report-host option.
We now use get_hostname() for a PTR lookup and provide a hostname
instead in ipv6 enviroments.
Closes-Bug: #2061984

Change-Id: If2079e3a8ec7ac025aad7c3b1c7d5282fd3a436d
",git fetch https://review.opendev.org/openstack/charm-mysql-router refs/changes/14/916114/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/lib/charm/openstack/mysql_router.py', 'unit_tests/test_lib_charm_openstack_mysql_router.py']",2,1a4cbfad10b7a3db086f4c89296f7d364e94ec83,ipv6-report-host-fix," self.patch_object(mysql_router.ch_net_ip, ""format_ipv6_addr"") self.format_ipv6_addr.return_value = None self.patch_object(mysql_router.ch_net_ip, ""is_ipv6"") self.is_ipv6.return_value = False # Test ipv6 report-host self.subprocess.reset_mock() self.set_flag.reset_mock() self.clear_flag.reset_mock() self.cmp_pkgrevno.return_value = 1 self.is_flag_set.side_effect = [False, True] self.subprocess.check_output.side_effect = None _ipv6_addr = ""2a01:348:2f4:0:685e:5748:ae62:209f"" _ipv6_json_addr = json.dumps(_ipv6_addr) self.format_ipv6_addr.return_value = ""[{}]"".format(_ipv6_addr) self.is_ipv6.return_value = True self.patch_object(mysql_router.ch_net_ip, ""get_hostname"") db_router_fake_hostname = ""FakeHostname.test.tld"" self.get_hostname.return_value = db_router_fake_hostname self.db_router.db_host.return_value = _ipv6_json_addr mrc.bootstrap_mysqlrouter() self.subprocess.check_output.assert_called_once_with( [mrc.mysqlrouter_bin, ""--user"", _user, ""--name"", mrc.name, ""--bootstrap"", ""{}:{}@[{}]"" .format(mrc.db_router_user, _pass, _ipv6_addr), ""--directory"", mrc.mysqlrouter_working_dir, ""--conf-use-sockets"", ""--conf-bind-address"", mrc.shared_db_address, ""--report-host"", db_router_fake_hostname, ""--conf-base-port"", _port, ""--disable-rest"", ""--force""], stderr=self.stdout) self.set_flag.assert_has_calls([ mock.call(mysql_router.MYSQL_ROUTER_BOOTSTRAP_ATTEMPTED), mock.call(mysql_router.MYSQL_ROUTER_BOOTSTRAPPED)]) self.clear_flag.assert_called_once_with( mysql_router.MYSQL_ROUTER_BOOTSTRAP_ATTEMPTED) ",,54,2
openstack%2Fovn-bgp-agent~921516,openstack/ovn-bgp-agent,master,Id7dd902e5e2010ba41052cc9316db8518349c755,Announce lrp ip if advertisement method is subnet,MERGED,2024-06-07 12:41:14.000000000,2024-06-14 09:24:58.000000000,2024-06-14 09:23:59.000000000,"[{'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2024-06-07 12:41:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/dec3784882661843f66e309be96122552aec17c6', 'message': 'Announce lrp ip if advertisement method is subnet\n\nIn the case of the subnet advertisement method, we do not\nannounce the route to the tenant subnet via BGP. While the routes\nin br-ex are good, they do not fully expose the subnet.\n\nThis change exposes the router interface that connects the\ntenant subnet.\n\nChange-Id: Id7dd902e5e2010ba41052cc9316db8518349c755\n'}, {'number': 2, 'created': '2024-06-07 12:42:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/0361188daa337624fdf60272cd37a5e2a8d2c754', 'message': 'Announce lrp ip if advertisement method is subnet\n\nIn the case of the subnet advertisement method, we do not\nannounce the route to the tenant subnet via BGP. While the routes\nin br-ex are good, they do not fully expose the subnet.\n\nThis change exposes the router interface that connects the\ntenant subnet.\n\nCloses-Bug: 2068730\nChange-Id: Id7dd902e5e2010ba41052cc9316db8518349c755\n'}, {'number': 3, 'created': '2024-06-09 01:03:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/6a2e3895841eace3517d04cc2a8efc8fa9803e5b', 'message': 'Announce lrp ip if advertisement method is subnet\n\nIn the case of the subnet advertisement method, we do not\nannounce the route to the tenant subnet via BGP. While the routes\nin br-ex are good, they do not fully expose the subnet.\n\nThis change exposes the router interface that connects the\ntenant subnet.\n\nCloses-Bug: 2068730\nChange-Id: Id7dd902e5e2010ba41052cc9316db8518349c755\n'}, {'number': 4, 'created': '2024-06-09 01:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/bdbde0f75c2725d1af87f453edc98a5e4a78df40', 'message': 'Announce lrp ip if advertisement method is subnet\n\nIn the case of the subnet advertisement method, we do not\nannounce the route to the tenant subnet via BGP. While the routes\nin br-ex are good, they do not fully expose the subnet.\n\nThis change exposes the router interface that connects the\ntenant subnet.\n\nCloses-Bug: 2068730\nChange-Id: Id7dd902e5e2010ba41052cc9316db8518349c755\n'}, {'number': 5, 'created': '2024-06-11 04:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/c69bffb0d96b194775a5af03214fa449bf850f63', 'message': 'Announce lrp ip if advertisement method is subnet\n\nIn the case of the subnet advertisement method, we do not\nannounce the route to the tenant subnet via BGP. While the routes\nin br-ex are good, they do not fully expose the subnet.\n\nThis change exposes the router interface that connects the\ntenant subnet.\n\nCloses-Bug: 2068730\nChange-Id: Id7dd902e5e2010ba41052cc9316db8518349c755\n'}, {'number': 6, 'created': '2024-06-11 04:56:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/6dcb161e0e0d07816ade70f8a63ec505abc356fe', 'message': 'Announce lrp ip if advertisement method is subnet\n\nIn the case of the subnet advertisement method, we do not\nannounce the route to the tenant subnet via BGP. While the routes\nin br-ex are good, they do not fully expose the subnet.\n\nThis change exposes the router interface that connects the\ntenant subnet.\n\nCloses-Bug: 2068730\nChange-Id: Id7dd902e5e2010ba41052cc9316db8518349c755\n'}, {'number': 7, 'created': '2024-06-11 04:58:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/b47b2d70a10b0116c81577087d6c5a1cef672cf6', 'message': 'Announce lrp ip if advertisement method is subnet\n\nIn the case of the subnet advertisement method, we do not\nannounce the route to the tenant subnet via BGP. While the routes\nin br-ex are good, they do not fully expose the subnet.\n\nThis change exposes the router interface that connects the\ntenant subnet.\n\nCloses-Bug: 2068730\nChange-Id: Id7dd902e5e2010ba41052cc9316db8518349c755\n'}, {'number': 8, 'created': '2024-06-11 06:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/e3eca4d450b3b953adf9c92af90bac32c9b26618', 'message': 'Announce lrp ip if advertisement method is subnet\n\nIn the case of the subnet advertisement method, we do not\nannounce the route to the tenant subnet via BGP. While the routes\nin br-ex are good, they do not fully expose the subnet.\n\nThis change exposes the router interface that connects the\ntenant subnet.\n\nCloses-Bug: 2068730\nChange-Id: Id7dd902e5e2010ba41052cc9316db8518349c755\n'}, {'number': 9, 'created': '2024-06-11 07:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/3c65e77b39e7bbaa346c3d761cccc45010aae254', 'message': 'Announce lrp ip if advertisement method is subnet\n\nIn the case of the subnet advertisement method, we do not\nannounce the route to the tenant subnet via BGP. While the routes\nin br-ex are good, they do not fully expose the subnet.\n\nThis change exposes the router interface that connects the\ntenant subnet.\n\nCloses-Bug: 2068730\nChange-Id: Id7dd902e5e2010ba41052cc9316db8518349c755\n'}, {'number': 10, 'created': '2024-06-11 07:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/cc0e6b7ce3adf38a306d908d106a2cbb6dedc19d', 'message': 'Announce lrp ip if advertisement method is subnet\n\nIn the case of the subnet advertisement method, we do not\nannounce the route to the tenant subnet via BGP. While the routes\nin br-ex are good, they do not fully expose the subnet.\n\nThis change exposes the router interface that connects the\ntenant subnet.\n\nCloses-Bug: 2068730\nChange-Id: Id7dd902e5e2010ba41052cc9316db8518349c755\n'}, {'number': 11, 'created': '2024-06-11 14:31:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/6e6efa0bf6dcc1af34fa414081c1581115b9555b', 'message': 'Announce lrp ip if advertisement method is subnet\n\nIn the case of the subnet advertisement method, we do not\nannounce the route to the tenant subnet via BGP. While the routes\nin br-ex are good, they do not fully expose the subnet.\n\nThis change exposes the router interface that connects the\ntenant subnet.\n\nCloses-Bug: 2068730\nChange-Id: Id7dd902e5e2010ba41052cc9316db8518349c755\n'}, {'number': 12, 'created': '2024-06-11 15:52:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/8b385da616017e0aebc43a94311bcd439349b5ab', 'message': 'Announce lrp ip if advertisement method is subnet\n\nIn the case of the subnet advertisement method, we do not\nannounce the route to the tenant subnet via BGP. While the routes\nin br-ex are good, they do not fully expose the subnet.\n\nThis change exposes the router interface that connects the\ntenant subnet.\n\nCloses-Bug: 2068730\nChange-Id: Id7dd902e5e2010ba41052cc9316db8518349c755\n'}, {'number': 13, 'created': '2024-06-11 18:34:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/79068e35bb997785b1a19d6e84d20cd8d62ae932', 'message': 'Announce lrp ip if advertisement method is subnet\n\nIn the case of the subnet advertisement method, we do not\nannounce the route to the tenant subnet via BGP. While the routes\nin br-ex are good, they do not fully expose the subnet.\n\nThis change exposes the router interface that connects the\ntenant subnet.\n\nCloses-Bug: 2068730\nChange-Id: Id7dd902e5e2010ba41052cc9316db8518349c755\n'}, {'number': 14, 'created': '2024-06-12 12:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/43f4cb8c85ca46a4ce53baee0bbfd83187312b30', 'message': 'Announce lrp ip if advertisement method is subnet\n\nIn the case of the subnet advertisement method, we do not\nannounce the route to the tenant subnet via BGP. While the routes\nin br-ex are good, they do not fully expose the subnet.\n\nThis change exposes the router interface that connects the\ntenant subnet.\n\nCloses-Bug: 2068730\nChange-Id: Id7dd902e5e2010ba41052cc9316db8518349c755\n'}, {'number': 15, 'created': '2024-06-12 13:06:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/ad5821b310cdb695044fbb95f5cc8cab33a9ce7c', 'message': 'Announce lrp ip if advertisement method is subnet\n\nIn the case of the subnet advertisement method, we do not\nannounce the route to the tenant subnet via BGP. While the routes\nin br-ex are good, they do not fully expose the subnet.\n\nThis change exposes the router interface that connects the\ntenant subnet.\n\nCloses-Bug: 2068730\nChange-Id: Id7dd902e5e2010ba41052cc9316db8518349c755\n'}, {'number': 16, 'created': '2024-06-12 18:45:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/1c8e57a6b61e5e135e9972558aefb21d5d10fb82', 'message': 'Announce lrp ip if advertisement method is subnet\n\nIn the case of the subnet advertisement method, we do not\nannounce the route to the tenant subnet via BGP. While the routes\nin br-ex are good, they do not fully expose the subnet.\n\nThis change exposes the router interface that connects the\ntenant subnet.\n\nCloses-Bug: 2068730\nChange-Id: Id7dd902e5e2010ba41052cc9316db8518349c755\n'}, {'number': 17, 'created': '2024-06-12 19:43:14.000000000', 'files': ['ovn_bgp_agent/drivers/openstack/utils/wire.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/utils/test_wire.py'], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/bc1dc8ec9ea2438fe89ad0d9535dfddd05c463d9', 'message': 'Announce lrp ip if advertisement method is subnet\n\nIn the case of the subnet advertisement method, we do not\nannounce the route to the tenant subnet via BGP. While the routes\nin br-ex are good, they do not fully expose the subnet.\n\nThis change exposes the router interface that connects the\ntenant subnet.\n\nCloses-Bug: 2068730\nChange-Id: Id7dd902e5e2010ba41052cc9316db8518349c755\n'}]",17,921516,bc1dc8ec9ea2438fe89ad0d9535dfddd05c463d9,38,4,17,36670,,,0,"Announce lrp ip if advertisement method is subnet

In the case of the subnet advertisement method, we do not
announce the route to the tenant subnet via BGP. While the routes
in br-ex are good, they do not fully expose the subnet.

This change exposes the router interface that connects the
tenant subnet.

Closes-Bug: 2068730
Change-Id: Id7dd902e5e2010ba41052cc9316db8518349c755
",git fetch https://review.opendev.org/openstack/ovn-bgp-agent refs/changes/16/921516/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_bgp_agent/drivers/openstack/nb_ovn_bgp_driver.py', 'ovn_bgp_agent/privileged/linux_net.py']",2,dec3784882661843f66e309be96122552aec17c6,bug/2068730,"def add_ip_address(ip_address, ifname, **kwargs): prefixlen = net.prefixlendef delete_ip_address(ip_address, ifname, **kwargs): prefixlen = net.prefixlen","def add_ip_address(ip_address, ifname, prefixlen=None, **kwargs): if not prefixlen: prefixlen = 32 if ip_version == 4 else 128def delete_ip_address(ip_address, ifname, prefixlen=None, **kwargs): if not prefixlen: prefixlen = 32 if ip_version == 4 else 128",12,6
openstack%2Fneutron~921947,openstack/neutron,unmaintained/victoria,I1c046d8140f93d9a8cd9e0bc43d3494e4f6a1ce7,Add note for openflow firewall,NEW,2024-06-13 10:58:13.000000000,2024-06-14 09:24:36.000000000,,"[{'_account_id': 8313}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-13 10:58:13.000000000', 'files': ['doc/source/contributor/internals/openvswitch_firewall.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d6d2d1851f65038639bd80a065b91b2ddc3d8e64', 'message': 'Add note for openflow firewall\n\nTell something about the config option ``explicitly_egress_direct``\nsince there is something not so much clear for users now.\n\nChange-Id: I1c046d8140f93d9a8cd9e0bc43d3494e4f6a1ce7\n(cherry picked from commit 4f249b8579a1eee6695b841ab96c99e8ee20f08c)\n'}]",1,921947,d6d2d1851f65038639bd80a065b91b2ddc3d8e64,3,3,1,15554,,,0,"Add note for openflow firewall

Tell something about the config option ``explicitly_egress_direct``
since there is something not so much clear for users now.

Change-Id: I1c046d8140f93d9a8cd9e0bc43d3494e4f6a1ce7
(cherry picked from commit 4f249b8579a1eee6695b841ab96c99e8ee20f08c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/47/921947/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/internals/openvswitch_firewall.rst'],1,d6d2d1851f65038639bd80a065b91b2ddc3d8e64,bug/2051351,".. note:: There is a new config option ``explicitly_egress_direct``, if it is set to True, it will direct egress unicast traffic to local port directly or to patch bridge port if destination is in remote host. So there is no NORMAL for egress in such scenario. This option is used to overcome the egress packet flooding when openflow firewall is enabled. Port 3 - patch bridge port (e.g. patch-tun) in OVS bridge By default the |table_94| will have one single flow like this: :: table=94, priority=1 actions=NORMAL If ``explicitly_egress_direct`` is set to True, flows of |table_94| will be: :: table=94, priority=12,reg6=0x284,dl_dst=fa:16:3e:a4:22:10 actions=output:1 table=94, priority=12,reg6=0x284,dl_dst=fa:16:3e:24:57:c7 actions=output:2 table=94, priority=10,reg6=0x284,dl_src=fa:16:3e:a4:22:10,dl_dst=00:00:00:00:00:00/01:00:00:00:00:00 actions=push_vlan:0x8100,set_field:0x1->vlan_vid,output:3 table=94, priority=10,reg6=0x284,dl_src=fa:16:3e:24:57:c7,dl_dst=00:00:00:00:00:00/01:00:00:00:00:00 actions=push_vlan:0x8100,set_field:0x1->vlan_vid,output:3 table=94, priority=1 actions=NORMAL ",,28,0
openstack%2Fcharm-ceph-mon~917764,openstack/charm-ceph-mon,master,I63eefba2714ccc3189f5260012b376c531052b86,Allow static ipv6 addresses & binding check,MERGED,2024-04-30 16:46:02.000000000,2024-06-14 09:19:33.000000000,2024-06-14 08:10:46.000000000,"[{'_account_id': 15382}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-30 16:46:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/c3d084475923a4504d57df7c700bfe3b071e0eb5', 'message': ""Allow static ipv6 addresses & binding check\n\nThe charm used to only allow dynamic ipv6 addresses.\nFollowing some testing (see LP issue) I ensured that it works.\n\nThe charm wouldn't check if the first local address returned\nby get_ipv6_addr was the same one that juju provided for the\npublic endpoint. This resulted in the charm binding ceph to\nsome random address while correctly using juju's one to connect\nto other mons, which none were listening to.\nWe log a warning in case this happens, but default to the\nprevious behavior.\nCloses-Bug: #2061836\n\nChange-Id: I63eefba2714ccc3189f5260012b376c531052b86\n""}, {'number': 2, 'created': '2024-05-06 15:14:54.000000000', 'files': ['src/ceph_hooks.py', 'unit_tests/test_ceph_hooks.py', 'src/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/5b2f48000bdc24864a2056d9496f5a02c93cf9da', 'message': ""Allow static ipv6 addresses & binding check\n\nThe charm used to only allow dynamic ipv6 addresses.\nFollowing some testing (see LP issue) I ensured that it works.\n\nThe charm wouldn't check if the first local address returned\nby get_ipv6_addr was the same one that juju provided for the\npublic endpoint. This resulted in the charm binding ceph to\nsome random address while correctly using juju's one to connect\nto other mons, which none were listening to.\nWe log a warning in case this happens, but default to the\nprevious behavior.\nCloses-Bug: #2061836\n\nChange-Id: I63eefba2714ccc3189f5260012b376c531052b86\n""}]",16,917764,5b2f48000bdc24864a2056d9496f5a02c93cf9da,29,3,2,36857,,,0,"Allow static ipv6 addresses & binding check

The charm used to only allow dynamic ipv6 addresses.
Following some testing (see LP issue) I ensured that it works.

The charm wouldn't check if the first local address returned
by get_ipv6_addr was the same one that juju provided for the
public endpoint. This resulted in the charm binding ceph to
some random address while correctly using juju's one to connect
to other mons, which none were listening to.
We log a warning in case this happens, but default to the
previous behavior.
Closes-Bug: #2061836

Change-Id: I63eefba2714ccc3189f5260012b376c531052b86
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/64/917764/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/ceph_hooks.py', 'unit_tests/test_ceph_hooks.py', 'src/utils.py']",3,c3d084475923a4504d57df7c700bfe3b071e0eb5,ipv6-allow-static-and-bind-check, return get_ipv6_addr(dynamic_only=False)[0], return get_ipv6_addr()[0],28,5
openstack%2Freleases~921926,openstack/releases,master,I3481f8de239fe609c035985eda59800328562cb9,New bugfix release oslo.service.,MERGED,2024-06-13 09:16:22.000000000,2024-06-14 09:12:57.000000000,2024-06-14 09:12:57.000000000,"[{'_account_id': 9816}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2024-06-13 09:16:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/5f7a48d0f801e60b3e1d1b0719ad364d44e54c72', 'message': 'New bugfix release oslo.service.\n\nA new bugfix release 3.4.1 for oslo.service to fix[1] signal handling.\n\n[1] https://review.opendev.org/c/openstack/oslo.service/+/911627\n\nChange-Id: I3481f8de239fe609c035985eda59800328562cb9\n'}, {'number': 2, 'created': '2024-06-13 09:23:04.000000000', 'files': ['deliverables/caracal/oslo.service.yaml', 'deliverables/bobcat/oslo.service.yaml', 'deliverables/antelope/oslo.service.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4eeff73aefecb5fe734bd731d07bbdb478a53bc7', 'message': 'New bugfix release oslo.service.\n\nA new bugfix release 3.4.1 for oslo.service to fix[1] signal handling.\n\n[1] https://review.opendev.org/c/openstack/oslo.service/+/911627\n\nChange-Id: I3481f8de239fe609c035985eda59800328562cb9\n'}]",1,921926,4eeff73aefecb5fe734bd731d07bbdb478a53bc7,10,4,2,31245,,,0,"New bugfix release oslo.service.

A new bugfix release 3.4.1 for oslo.service to fix[1] signal handling.

[1] https://review.opendev.org/c/openstack/oslo.service/+/911627

Change-Id: I3481f8de239fe609c035985eda59800328562cb9
",git fetch https://review.opendev.org/openstack/releases refs/changes/26/921926/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/caracal/oslo.service.yaml'],1,5f7a48d0f801e60b3e1d1b0719ad364d44e54c72,, - version: 3.4.1 projects: - repo: openstack/oslo.service hash: 028809f769b36a4fb770374bb2901474b593bc18,,4,0
openstack%2Ftrove~918661,openstack/trove,master,Idd63f470a2b941720314b6356fe28cd8e394427e,Introduces Alembic database migration tool,MERGED,2024-05-08 14:04:09.000000000,2024-06-14 07:47:26.000000000,2024-06-14 07:44:59.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 28691}, {'_account_id': 31737}]","[{'number': 1, 'created': '2024-05-08 14:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/f0fdcf9a89fb40a3f44de78f476a846f5facbd64', 'message': 'Introduces Alembic database migration tool\n\nThis PR introduces Alembic database migration tool. Trove currently\nuses sqlalchemy-migrate with which SQLAlchemy-2.0 does not work.\n\nStory: 2010922\nTask: 48782\nChange-Id: Idd63f470a2b941720314b6356fe28cd8e394427e\n'}, {'number': 2, 'created': '2024-05-09 02:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/033798e29a4b9619cdaa4734d1fff39b5a8f4aee', 'message': 'Introduces Alembic database migration tool\n\nThis PR introduces Alembic database migration tool. Trove currently\nuses sqlalchemy-migrate with which SQLAlchemy-2.0 does not work.\n\nStory: 2010922\nTask: 48782\nChange-Id: Idd63f470a2b941720314b6356fe28cd8e394427e\n'}, {'number': 3, 'created': '2024-05-09 06:16:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/5051ca472e622560eb5837ddcdc8bb5e184aab1b', 'message': 'Introduces Alembic database migration tool\n\nThis PR introduces Alembic database migration tool. Trove currently\nuses sqlalchemy-migrate with which SQLAlchemy-2.0 does not work.\n\nStory: 2010922\nTask: 48782\nChange-Id: Idd63f470a2b941720314b6356fe28cd8e394427e\n'}, {'number': 4, 'created': '2024-05-09 07:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/3f35b016e7130db8c6510b7e21207278e263ebe6', 'message': ""Introduces Alembic database migration tool\n\nThis PR introduces Alembic database migration tool. Trove currently\nuses sqlalchemy-migrate with which SQLAlchemy-2.0 does not work.\n\nThis change will not affect the default trove-manage's usage while\nthe database schema versioning will be changed because alembic uses\nnon-linear, dependency-graph versioning while sqlalchemy-migrate\nuses integer based versioning.\n\nStory: 2010922\nTask: 48782\nChange-Id: Idd63f470a2b941720314b6356fe28cd8e394427e\n""}, {'number': 5, 'created': '2024-05-09 07:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/4f1f5f678c7c15a8687e164bd48a699c3f058d14', 'message': ""Introduces Alembic database migration tool\n\nThis PR introduces Alembic database migration tool. Trove currently\nuses sqlalchemy-migrate with which SQLAlchemy-2.0 does not work. By\nintroducing the new migration tool, we can prepare for migrating\nto SQLAlchemy-2.0. Users can use sqlalchemy-migrate if they want by\nremoving alembic configuration file.\n\nThis change will not affect the default trove-manage's usage while\nthe database schema versioning will be changed because alembic uses\nnon-linear, dependency-graph versioning while sqlalchemy-migrate\nuses integer based versioning.\n\nStory: 2010922\nTask: 48782\nChange-Id: Idd63f470a2b941720314b6356fe28cd8e394427e\n""}, {'number': 6, 'created': '2024-05-13 16:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/38dff130ff28973eed68ae6e791b26fa918072cb', 'message': ""Introduces Alembic database migration tool\n\nThis PR introduces Alembic database migration tool. Trove currently\nuses sqlalchemy-migrate with which SQLAlchemy-2.0 does not work. By\nintroducing the new migration tool, we can prepare for migrating\nto SQLAlchemy-2.0. Users can use sqlalchemy-migrate if they want by\nremoving alembic configuration file.\n\nThis change will not affect the default trove-manage's usage while\nthe database schema versioning will be changed because alembic uses\nnon-linear, dependency-graph versioning while sqlalchemy-migrate\nuses integer based versioning.\n\nStory: 2010922\nTask: 48782\nChange-Id: Idd63f470a2b941720314b6356fe28cd8e394427e\n""}, {'number': 7, 'created': '2024-05-13 22:59:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/dc3cb68e02c780b998ad2d0f3dee5b8e74cce41a', 'message': ""Introduces Alembic database migration tool\n\nThis PR introduces Alembic database migration tool. Trove currently\nuses sqlalchemy-migrate with which SQLAlchemy-2.0 does not work. By\nintroducing the new migration tool, we can prepare for migrating\nto SQLAlchemy-2.0. Users can use sqlalchemy-migrate if they want by\nremoving alembic configuration file.\n\nThis change will not affect the default trove-manage's usage while\nthe database schema versioning will be changed because alembic uses\nnon-linear, dependency-graph versioning while sqlalchemy-migrate\nuses integer based versioning.\n\nStory: 2010922\nTask: 48782\nChange-Id: Idd63f470a2b941720314b6356fe28cd8e394427e\n""}, {'number': 8, 'created': '2024-05-19 15:16:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/a9b67bde9af269b36a5c23dd64436f651b1e19c5', 'message': ""Introduces Alembic database migration tool\n\nThis PR introduces Alembic database migration tool. Trove currently\nuses sqlalchemy-migrate with which SQLAlchemy-2.0 does not work. By\nintroducing the new migration tool, we can prepare for migrating\nto SQLAlchemy-2.0. Users can use sqlalchemy-migrate if they want by\nremoving alembic configuration file.\n\nThis change will not affect the default trove-manage's usage while\nthe database schema versioning will be changed because alembic uses\nnon-linear, dependency-graph versioning while sqlalchemy-migrate\nuses integer based versioning.\n\nStory: 2010922\nTask: 48782\nChange-Id: Idd63f470a2b941720314b6356fe28cd8e394427e\n""}, {'number': 9, 'created': '2024-05-19 22:28:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/f81a87a2de282fd6f1976d6a173f05d894de5e7d', 'message': ""Introduces Alembic database migration tool\n\nThis PR introduces Alembic database migration tool. Trove currently\nuses sqlalchemy-migrate with which SQLAlchemy-2.0 does not work. By\nintroducing the new migration tool, we can prepare for migrating\nto SQLAlchemy-2.0. Users can use sqlalchemy-migrate if they want by\nremoving alembic configuration file.\n\nThis change will not affect the default trove-manage's usage while\nthe database schema versioning will be changed because alembic uses\nnon-linear, dependency-graph versioning while sqlalchemy-migrate\nuses integer based versioning.\n\nStory: 2010922\nTask: 48782\nChange-Id: Idd63f470a2b941720314b6356fe28cd8e394427e\n""}, {'number': 10, 'created': '2024-05-21 21:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/8c348c2ef08b1eeb81d6d44e8986c56dabe8997b', 'message': ""Introduces Alembic database migration tool\n\nThis PR introduces Alembic database migration tool. Trove currently\nuses sqlalchemy-migrate with which SQLAlchemy-2.0 does not work. By\nintroducing the new migration tool, we can prepare for migrating\nto SQLAlchemy-2.0.\n\nThis change will not affect the default trove-manage's usage while\nthe database schema versioning will be changed because alembic uses\nnon-linear, dependency-graph versioning while sqlalchemy-migrate\nuses integer based versioning.\n\nStory: 2010922\nTask: 48782\nChange-Id: Idd63f470a2b941720314b6356fe28cd8e394427e\n""}, {'number': 11, 'created': '2024-05-21 23:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/a18c5a0455fe2681a22b4bf59e8c575e87787a0a', 'message': ""Introduces Alembic database migration tool\n\nThis PR introduces Alembic database migration tool. Trove currently\nuses sqlalchemy-migrate with which SQLAlchemy-2.0 does not work. By\nintroducing the new migration tool, we can prepare for migrating\nto SQLAlchemy-2.0.\n\nThis change will not affect the default trove-manage's usage while\nthe database schema versioning will be changed because alembic uses\nnon-linear, dependency-graph versioning while sqlalchemy-migrate\nuses integer based versioning.\n\nStory: 2010922\nTask: 48782\nChange-Id: Idd63f470a2b941720314b6356fe28cd8e394427e\n""}, {'number': 12, 'created': '2024-05-31 15:56:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/6aec38d63d87fa2e2696003300ee87f5c7add834', 'message': ""Introduces Alembic database migration tool\n\nThis PR introduces Alembic database migration tool. Trove currently\nuses sqlalchemy-migrate with which SQLAlchemy-2.0 does not work. By\nintroducing the new migration tool, we can prepare for migrating\nto SQLAlchemy-2.0.\n\nThis change will not affect the default trove-manage's usage while\nthe database schema versioning will be changed because alembic uses\nnon-linear, dependency-graph versioning while sqlalchemy-migrate\nuses integer based versioning.\n\nStory: 2010922\nTask: 48782\nChange-Id: Idd63f470a2b941720314b6356fe28cd8e394427e\n""}, {'number': 13, 'created': '2024-06-05 03:21:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/81c7b2c61eb2773aa3bd4d5a4f5f71fab70b73c7', 'message': ""Introduces Alembic database migration tool\n\nThis PR introduces Alembic database migration tool. Trove currently\nuses sqlalchemy-migrate with which SQLAlchemy-2.0 does not work. By\nintroducing the new migration tool, we can prepare for migrating\nto SQLAlchemy-2.0.\n\nThis change will not affect the default trove-manage's usage while\nthe database schema versioning will be changed because alembic uses\nnon-linear, dependency-graph versioning while sqlalchemy-migrate\nuses integer based versioning.\n\nStory: 2010922\nTask: 48782\nChange-Id: Idd63f470a2b941720314b6356fe28cd8e394427e\n""}, {'number': 14, 'created': '2024-06-05 05:47:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/54eeb33e2d5b8ce2cd3d6831439298c9eb35b2ba', 'message': ""Introduces Alembic database migration tool\n\nThis PR introduces Alembic database migration tool. Trove currently\nuses sqlalchemy-migrate with which SQLAlchemy-2.0 does not work. By\nintroducing the new migration tool, we can prepare for migrating\nto SQLAlchemy-2.0.\n\nThis change will not affect the default trove-manage's usage while\nthe database schema versioning will be changed because alembic uses\nnon-linear, dependency-graph versioning while sqlalchemy-migrate\nuses integer based versioning.\n\nStory: 2010922\nTask: 48782\nChange-Id: Idd63f470a2b941720314b6356fe28cd8e394427e\n""}, {'number': 15, 'created': '2024-06-05 23:18:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/60069ef4003aaff363c25672c005effd8f20721c', 'message': ""Introduces Alembic database migration tool\n\nThis PR introduces Alembic database migration tool. Trove currently\nuses sqlalchemy-migrate with which SQLAlchemy-2.0 does not work. By\nintroducing the new migration tool, we can prepare for migrating\nto SQLAlchemy-2.0.\n\nThis change will not affect the default trove-manage's usage while\nthe database schema versioning will be changed because alembic uses\nnon-linear, dependency-graph versioning while sqlalchemy-migrate\nuses integer based versioning.\n\nStory: 2010922\nTask: 48782\nChange-Id: Idd63f470a2b941720314b6356fe28cd8e394427e\n""}, {'number': 16, 'created': '2024-06-06 01:58:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/e594651b6322d6bb73c4df016235064adaa0432d', 'message': ""Introduces Alembic database migration tool\n\nThis PR introduces Alembic database migration tool. Trove currently\nuses sqlalchemy-migrate with which SQLAlchemy-2.0 does not work. By\nintroducing the new migration tool, we can prepare for migrating\nto SQLAlchemy-2.0.\n\nThis change will not affect the default trove-manage's usage while\nthe database schema versioning will be changed because alembic uses\nnon-linear, dependency-graph versioning while sqlalchemy-migrate\nuses integer based versioning.\n\nCo-Authored-By: wu.chunyang <wchy1001@gmail.com>\n\nStory: 2010922\nTask: 48782\nChange-Id: Idd63f470a2b941720314b6356fe28cd8e394427e\n""}, {'number': 17, 'created': '2024-06-08 06:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/0c85e57a198b1c4f49ea3685506b53c34c80c430', 'message': ""Introduces Alembic database migration tool\n\nThis PR introduces Alembic database migration tool. Trove currently\nuses sqlalchemy-migrate with which SQLAlchemy-2.0 does not work. By\nintroducing the new migration tool, we can prepare for migrating\nto SQLAlchemy-2.0.\n\nThis change will not affect the default trove-manage's usage while\nthe database schema versioning will be changed because alembic uses\nnon-linear, dependency-graph versioning while sqlalchemy-migrate\nuses integer based versioning.\n\nDepends-On: https://review.opendev.org/c/openstack/trove-tempest-plugin/+/921589\n\nCo-Authored-By: wu.chunyang <wchy1001@gmail.com>\n\nStory: 2010922\nTask: 48782\nChange-Id: Idd63f470a2b941720314b6356fe28cd8e394427e\n""}, {'number': 18, 'created': '2024-06-08 14:42:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/7a83ad010a2f591c1ed646a9e0ec6367f7c8ec3b', 'message': ""Introduces Alembic database migration tool\n\nThis PR introduces Alembic database migration tool. Trove currently\nuses sqlalchemy-migrate with which SQLAlchemy-2.0 does not work. By\nintroducing the new migration tool, we can prepare for migrating\nto SQLAlchemy-2.0.\n\nThis change will not affect the default trove-manage's usage while\nthe database schema versioning will be changed because alembic uses\nnon-linear, dependency-graph versioning while sqlalchemy-migrate\nuses integer based versioning.\n\nDepends-On: https://review.opendev.org/c/openstack/trove-tempest-plugin/+/921589\n\nCo-Authored-By: wu.chunyang <wchy1001@gmail.com>\n\nStory: 2010922\nTask: 48782\nChange-Id: Idd63f470a2b941720314b6356fe28cd8e394427e\n""}, {'number': 19, 'created': '2024-06-09 15:07:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/45623c27bb063106dff0de680c5c53267ae47107', 'message': ""Introduces Alembic database migration tool\n\nThis PR introduces Alembic database migration tool. Trove currently\nuses sqlalchemy-migrate with which SQLAlchemy-2.0 does not work. By\nintroducing the new migration tool, we can prepare for migrating\nto SQLAlchemy-2.0.\n\nThis change will not affect the default trove-manage's usage while\nthe database schema versioning will be changed because alembic uses\nnon-linear, dependency-graph versioning while sqlalchemy-migrate\nuses integer based versioning.\n\nDepends-On: https://review.opendev.org/c/openstack/trove-tempest-plugin/+/921589\n\nCo-Authored-By: wu.chunyang <wchy1001@gmail.com>\n\nStory: 2010922\nTask: 48782\nChange-Id: Idd63f470a2b941720314b6356fe28cd8e394427e\n""}, {'number': 20, 'created': '2024-06-12 08:13:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/999872554e3cf4c9fa8e42fa67e452f047a9a8d6', 'message': ""Introduces Alembic database migration tool\n\nThis PR introduces Alembic database migration tool. Trove currently\nuses sqlalchemy-migrate with which SQLAlchemy-2.0 does not work. By\nintroducing the new migration tool, we can prepare for migrating\nto SQLAlchemy-2.0.\n\nThis change will not affect the default trove-manage's usage while\nthe database schema versioning will be changed because alembic uses\nnon-linear, dependency-graph versioning while sqlalchemy-migrate\nuses integer based versioning.\n\nDepends-On: https://review.opendev.org/c/openstack/trove-tempest-plugin/+/921589\n\nCo-Authored-By: wu.chunyang <wchy1001@gmail.com>\n\nStory: 2010922\nTask: 48782\nChange-Id: Idd63f470a2b941720314b6356fe28cd8e394427e\n""}, {'number': 21, 'created': '2024-06-13 08:21:04.000000000', 'files': ['trove/guestagent/datastore/mysql/service.py', 'trove/db/sqlalchemy/api.py', 'trove/db/sqlalchemy/alembic.ini', 'trove/tests/unittests/db/test_db_sqlalchemy_api.py', 'trove/tests/unittests/db/test_migration_utils.py', 'releasenotes/notes/support-alembic-database-migration-tool-4e02523e22cc62fa.yaml', 'trove/guestagent/datastore/mysql_common/service.py', 'requirements.txt', 'trove/tests/unittests/common/test_template.py', 'trove/db/sqlalchemy/session.py', 'trove/db/sqlalchemy/migrations/versions/cee1bcba3541_drop_migrate_version_table.py', 'trove/db/sqlalchemy/migrations/versions/906cffda7b29_init_trove_db.py', 'trove/tests/unittests/extensions/mgmt/instances/test_service.py', 'trove/db/sqlalchemy/mappers.py', 'trove/db/sqlalchemy/migrations/script.py.mako', 'trove/db/sqlalchemy/migrations/env.py', 'trove/tests/unittests/datastore/base.py', 'trove/tests/unittests/instance/test_instance_status.py', 'doc/source/admin/run_trove_in_production.rst', 'trove/tests/unittests/extensions/mgmt/datastores/test_service.py', 'trove/tests/unittests/instance/test_instance_models.py', 'trove/tests/unittests/taskmanager/test_models.py', 'trove/db/sqlalchemy/migrations/README', 'trove/tests/unittests/configuration/test_service.py', 'trove/tests/unittests/extensions/mgmt/instances/test_models.py', 'trove/tests/unittests/taskmanager/test_galera_clusters.py', 'trove/tests/unittests/module/test_module_models.py', 'trove/guestagent/utils/mysql.py', 'trove/tests/unittests/cluster/test_galera_cluster.py', 'trove/tests/unittests/conductor/test_methods.py', 'trove/tests/unittests/extensions/mgmt/quota/test_service.py', 'zuul.d/jobs.yaml', 'trove/db/sqlalchemy/migrations/versions/5c68b4fb3cd1_add_datastore_version_registry_extension.py', 'trove/tests/unittests/instance/test_service.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/114601edba9fc736af43a3f2705552d8c746115c', 'message': ""Introduces Alembic database migration tool\n\nThis PR introduces Alembic database migration tool. Trove currently\nuses sqlalchemy-migrate with which SQLAlchemy-2.0 does not work. By\nintroducing the new migration tool, we can prepare for migrating\nto SQLAlchemy-2.0.\n\nThis change will not affect the default trove-manage's usage while\nthe database schema versioning will be changed because alembic uses\nnon-linear, dependency-graph versioning while sqlalchemy-migrate\nuses integer based versioning.\n\nDepends-On: https://review.opendev.org/c/openstack/trove-tempest-plugin/+/921589\n\nCo-Authored-By: wu.chunyang <wchy1001@gmail.com>\n\nStory: 2010922\nTask: 48782\nChange-Id: Idd63f470a2b941720314b6356fe28cd8e394427e\n""}]",67,918661,114601edba9fc736af43a3f2705552d8c746115c,96,4,21,31737,,,0,"Introduces Alembic database migration tool

This PR introduces Alembic database migration tool. Trove currently
uses sqlalchemy-migrate with which SQLAlchemy-2.0 does not work. By
introducing the new migration tool, we can prepare for migrating
to SQLAlchemy-2.0.

This change will not affect the default trove-manage's usage while
the database schema versioning will be changed because alembic uses
non-linear, dependency-graph versioning while sqlalchemy-migrate
uses integer based versioning.

Depends-On: https://review.opendev.org/c/openstack/trove-tempest-plugin/+/921589

Co-Authored-By: wu.chunyang <wchy1001@gmail.com>

Story: 2010922
Task: 48782
Change-Id: Idd63f470a2b941720314b6356fe28cd8e394427e
",git fetch https://review.opendev.org/openstack/trove refs/changes/61/918661/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/db/alembic.ini', 'trove/db/migrations/versions/5c68b4fb3cd1_add_datastore_version_registry_extension.py', 'trove/db/sqlalchemy/api.py', 'trove/db/migrations/versions/906cffda7b29_init_trove_db.py', 'trove/db/migrations/env.py', 'trove/db/migrations/README', 'trove/db/migrations/script.py.mako']",7,f0fdcf9a89fb40a3f44de78f476a846f5facbd64,story/2010922,"# Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. """"""${message} Revision ID: ${up_revision} Revises: ${down_revision | comma,n} Create Date: ${create_date} """""" from typing import Sequence, Union from alembic import op import sqlalchemy as sa ${imports if imports else """"} # revision identifiers, used by Alembic. revision: str = ${repr(up_revision)} down_revision: Union[str, None] = ${repr(down_revision)} branch_labels: Union[str, Sequence[str], None] = ${repr(branch_labels)} depends_on: Union[str, Sequence[str], None] = ${repr(depends_on)} def upgrade() -> None: ${upgrades if upgrades else ""pass""} def downgrade() -> None: ${downgrades if downgrades else ""pass""} ",,1080,2
openstack%2Fcinder~903095,openstack/cinder,master,I3deae1cc6bbe5ef5820224f72bb02565677e1ade,[Pure Storage] Driver API version upgrade,MERGED,2023-12-07 16:47:22.000000000,2024-06-14 07:08:51.000000000,2024-06-14 07:03:18.000000000,"[{'_account_id': 597}, {'_account_id': 9236}, {'_account_id': 11904}, {'_account_id': 13425}, {'_account_id': 22348}, {'_account_id': 29122}]","[{'number': 1, 'created': '2023-12-07 16:47:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8dc476d094bf1dc81f33714472714ddbdca51c75', 'message': '[Pure Storage] Driver API version upgrade\n\nWith the upcoming deprecation of REST 1.x used by this driver to\ncomminucate with the FlashArray, this patch is to convert the\ndriver to use REST 2.x calls, which means changing the required\nPython SDK from ``purestorge`` (REST 1.x) to ``py-pure-client``\n(REST 2.x). The recommended version of ``py-pure-client`` is\ndefined to be 1.44.0.\n\nThis change does not affect any of the functionality of the driver\nbut does affect the minimum required FlashArray operaing system,\nincreasing this to Purity//FA 6.1.0.\n\nThis change will also allow for the addition of new features\nthat were not supported by the REST 1.x APIs.\n\nDocumentation changes are made to reflect the change in required\nSDK.\n\nAll unit tests are updated to reflect the changes in the driver\nand the use of new SDK calls.\n\nChange-Id: I3deae1cc6bbe5ef5820224f72bb02565677e1ade\n'}, {'number': 2, 'created': '2023-12-08 15:36:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/736f76bc28ba9f57ae3f9705bfa1e4c587782898', 'message': '[Pure Storage] Driver API version upgrade\n\nWith the upcoming deprecation of REST 1.x used by this driver to\ncomminucate with the FlashArray, this patch is to convert the\ndriver to use REST 2.x calls, which means changing the required\nPython SDK from ``purestorge`` (REST 1.x) to ``py-pure-client``\n(REST 2.x). The recommended version of ``py-pure-client`` is\ndefined to be 1.44.0.\n\nThis change does not affect any of the functionality of the driver\nbut does affect the minimum required FlashArray operaing system,\nincreasing this to Purity//FA 6.1.0.\n\nThis change will also allow for the addition of new features\nthat were not supported by the REST 1.x APIs.\n\nDocumentation changes are made to reflect the change in required\nSDK.\n\nAll unit tests are updated to reflect the changes in the driver\nand the use of new SDK calls.\n\nChange-Id: I3deae1cc6bbe5ef5820224f72bb02565677e1ade\nDepends-On: I9027eac8bd5bf1efc9ef619d578b2e0d9450027f\n'}, {'number': 3, 'created': '2023-12-20 22:28:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/974429d8a61ecd94553ee67973895d6f75286632', 'message': '[Pure Storage] Driver API version upgrade\n\nWith the upcoming deprecation of REST 1.x used by this driver to\ncomminucate with the FlashArray, this patch is to convert the\ndriver to use REST 2.x calls, which means changing the required\nPython SDK from ``purestorge`` (REST 1.x) to ``py-pure-client``\n(REST 2.x). The recommended version of ``py-pure-client`` is\ndefined to be 1.44.0.\n\nThis change does not affect any of the functionality of the driver\nbut does affect the minimum required FlashArray operaing system,\nincreasing this to Purity//FA 6.1.0.\n\nThis change will also allow for the addition of new features\nthat were not supported by the REST 1.x APIs.\n\nDocumentation changes are made to reflect the change in required\nSDK.\n\nAll unit tests are updated to reflect the changes in the driver\nand the use of new SDK calls.\n\nChange-Id: I3deae1cc6bbe5ef5820224f72bb02565677e1ade\nDepends-On: I9027eac8bd5bf1efc9ef619d578b2e0d9450027f\n'}, {'number': 4, 'created': '2024-02-27 11:50:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9131c9fe6727617e5734e497e9b76bfc2159cc7a', 'message': '[Pure Storage] Driver API version upgrade\n\nWith the upcoming deprecation of REST 1.x used by this driver to\ncomminucate with the FlashArray, this patch is to convert the\ndriver to use REST 2.x calls, which means changing the required\nPython SDK from ``purestorge`` (REST 1.x) to ``py-pure-client``\n(REST 2.x). The recommended version of ``py-pure-client`` is\ndefined to be 1.44.0.\n\nThis change does not affect any of the functionality of the driver\nbut does affect the minimum required FlashArray operaing system,\nincreasing this to Purity//FA 6.1.0.\n\nThis change will also allow for the addition of new features\nthat were not supported by the REST 1.x APIs.\n\nDocumentation changes are made to reflect the change in required\nSDK.\n\nAll unit tests are updated to reflect the changes in the driver\nand the use of new SDK calls.\n\nChange-Id: I3deae1cc6bbe5ef5820224f72bb02565677e1ade\nDepends-On: I9027eac8bd5bf1efc9ef619d578b2e0d9450027f\n'}, {'number': 5, 'created': '2024-03-04 21:34:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a421a3079bed030e2d5327cbab13c4affc1356c2', 'message': '[Pure Storage] Driver API version upgrade\n\nWith the upcoming deprecation of REST 1.x used by this driver to\ncomminucate with the FlashArray, this patch is to convert the\ndriver to use REST 2.x calls, which means changing the required\nPython SDK from ``purestorge`` (REST 1.x) to ``py-pure-client``\n(REST 2.x). The recommended version of ``py-pure-client`` is\ndefined to be 1.44.0.\n\nThis change does not affect any of the functionality of the driver\nbut does affect the minimum required FlashArray operaing system,\nincreasing this to Purity//FA 6.1.0.\n\nThis change will also allow for the addition of new features\nthat were not supported by the REST 1.x APIs.\n\nDocumentation changes are made to reflect the change in required\nSDK.\n\nAll unit tests are updated to reflect the changes in the driver\nand the use of new SDK calls.\n\nChange-Id: I3deae1cc6bbe5ef5820224f72bb02565677e1ade\n'}, {'number': 6, 'created': '2024-03-04 21:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1e2b9e82b8a62d8275b77064a8f58651d3fc54c2', 'message': '[Pure Storage] Driver API version upgrade\n\nWith the upcoming deprecation of REST 1.x used by this driver to\ncomminucate with the FlashArray, this patch is to convert the\ndriver to use REST 2.x calls, which means changing the required\nPython SDK from ``purestorge`` (REST 1.x) to ``py-pure-client``\n(REST 2.x). The recommended version of ``py-pure-client`` is\ndefined to be 1.44.0.\n\nThis change does not affect any of the functionality of the driver\nbut does affect the minimum required FlashArray operaing system,\nincreasing this to Purity//FA 6.1.0.\n\nThis change will also allow for the addition of new features\nthat were not supported by the REST 1.x APIs.\n\nDocumentation changes are made to reflect the change in required\nSDK.\n\nAll unit tests are updated to reflect the changes in the driver\nand the use of new SDK calls.\n\nChange-Id: I3deae1cc6bbe5ef5820224f72bb02565677e1ade\n'}, {'number': 7, 'created': '2024-03-04 21:55:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d5a04343c185e968394382c3b6b6cd3beac2c008', 'message': '[Pure Storage] Driver API version upgrade\n\nWith the upcoming deprecation of REST 1.x used by this driver to\ncomminucate with the FlashArray, this patch is to convert the\ndriver to use REST 2.x calls, which means changing the required\nPython SDK from ``purestorge`` (REST 1.x) to ``py-pure-client``\n(REST 2.x). The recommended version of ``py-pure-client`` is\ndefined to be 1.44.0.\n\nThis change does not affect any of the functionality of the driver\nbut does affect the minimum required FlashArray operaing system,\nincreasing this to Purity//FA 6.1.0.\n\nThis change will also allow for the addition of new features\nthat were not supported by the REST 1.x APIs.\n\nDocumentation changes are made to reflect the change in required\nSDK.\n\nAll unit tests are updated to reflect the changes in the driver\nand the use of new SDK calls.\n\nChange-Id: I3deae1cc6bbe5ef5820224f72bb02565677e1ade\n'}, {'number': 8, 'created': '2024-03-04 21:57:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/16bd048971ca6e89ffb4df3a9f8c971bf9c59dbc', 'message': '[Pure Storage] Driver API version upgrade\n\nWith the upcoming deprecation of REST 1.x used by this driver to\ncomminucate with the FlashArray, this patch is to convert the\ndriver to use REST 2.x calls, which means changing the required\nPython SDK from ``purestorge`` (REST 1.x) to ``py-pure-client``\n(REST 2.x). The recommended version of ``py-pure-client`` is\ndefined to be 1.44.0.\n\nThis change does not affect any of the functionality of the driver\nbut does affect the minimum required FlashArray operaing system,\nincreasing this to Purity//FA 6.1.0.\n\nThis change will also allow for the addition of new features\nthat were not supported by the REST 1.x APIs.\n\nDocumentation changes are made to reflect the change in required\nSDK.\n\nAll unit tests are updated to reflect the changes in the driver\nand the use of new SDK calls.\n\nChange-Id: I3deae1cc6bbe5ef5820224f72bb02565677e1ade\n'}, {'number': 9, 'created': '2024-04-23 18:11:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/faf7174bd83bd9f3e37a4c3a5b5c24922fd7a286', 'message': '[Pure Storage] Driver API version upgrade\n\nWith the upcoming deprecation of REST 1.x used by this driver to\ncomminucate with the FlashArray, this patch is to convert the\ndriver to use REST 2.x calls, which means changing the required\nPython SDK from ``purestorge`` (REST 1.x) to ``py-pure-client``\n(REST 2.x). The minimum version of ``py-pure-client`` is\ndefined to be 1.47.0.\n\nThis change does not affect any of the functionality of the driver\nbut does affect the minimum required FlashArray operaing system,\nincreasing this to Purity//FA 6.1.0.\n\nThis change will also allow for the addition of new features\nthat were not supported by the REST 1.x APIs.\n\nDocumentation changes are made to reflect the change in required\nSDK.\n\nAll unit tests are updated to reflect the changes in the driver\nand the use of new SDK calls.\n\nChange-Id: I3deae1cc6bbe5ef5820224f72bb02565677e1ade\n'}, {'number': 10, 'created': '2024-04-24 13:31:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9d5466a96f5a8a22ea289d70ed56cdf15dfe715f', 'message': '[Pure Storage] Driver API version upgrade\n\nWith the upcoming deprecation of REST 1.x used by this driver to\ncomminucate with the FlashArray, this patch is to convert the\ndriver to use REST 2.x calls, which means changing the required\nPython SDK from ``purestorge`` (REST 1.x) to ``py-pure-client``\n(REST 2.x). The minimum version of ``py-pure-client`` is\ndefined to be 1.47.0.\n\nThis change does not affect any of the functionality of the driver\nbut does affect the minimum required FlashArray operaing system,\nincreasing this to Purity//FA 6.1.0.\n\nThis change will also allow for the addition of new features\nthat were not supported by the REST 1.x APIs.\n\nDocumentation changes are made to reflect the change in required\nSDK.\n\nAll unit tests are updated to reflect the changes in the driver\nand the use of new SDK calls.\n\nChange-Id: I3deae1cc6bbe5ef5820224f72bb02565677e1ade\n'}, {'number': 11, 'created': '2024-04-25 03:57:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/02a3199cd5f26f83e57a1aacfc6a4877e1ab0757', 'message': '[Pure Storage] Driver API version upgrade\n\nWith the upcoming deprecation of REST 1.x used by this driver to\ncomminucate with the FlashArray, this patch is to convert the\ndriver to use REST 2.x calls, which means changing the required\nPython SDK from ``purestorge`` (REST 1.x) to ``py-pure-client``\n(REST 2.x). The minimum version of ``py-pure-client`` is\ndefined to be 1.47.0.\n\nThis change does not affect any of the functionality of the driver\nbut does affect the minimum required FlashArray operaing system,\nincreasing this to Purity//FA 6.1.0.\n\nThis change will also allow for the addition of new features\nthat were not supported by the REST 1.x APIs.\n\nDocumentation changes are made to reflect the change in required\nSDK.\n\nAll unit tests are updated to reflect the changes in the driver\nand the use of new SDK calls.\n\nChange-Id: I3deae1cc6bbe5ef5820224f72bb02565677e1ade\n'}, {'number': 12, 'created': '2024-05-21 18:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b8d243ec74b735608ad856fa8c0b7157ac158464', 'message': '[Pure Storage] Driver API version upgrade\n\nWith the upcoming deprecation of REST 1.x used by this driver to\ncomminucate with the FlashArray, this patch is to convert the\ndriver to use REST 2.x calls, which means changing the required\nPython SDK from ``purestorge`` (REST 1.x) to ``py-pure-client``\n(REST 2.x). The minimum version of ``py-pure-client`` is\ndefined to be 1.47.0.\n\nThis change does not affect any of the functionality of the driver\nbut does affect the minimum required FlashArray operaing system,\nincreasing this to Purity//FA 6.1.0.\n\nThis change will also allow for the addition of new features\nthat were not supported by the REST 1.x APIs.\n\nDocumentation changes are made to reflect the change in required\nSDK.\n\nAll unit tests are updated to reflect the changes in the driver\nand the use of new SDK calls.\n\nChange-Id: I3deae1cc6bbe5ef5820224f72bb02565677e1ade\n'}, {'number': 13, 'created': '2024-05-28 15:00:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8e7f51d334c6c7c92f011435d5b7e204a55d3b0c', 'message': '[Pure Storage] Driver API version upgrade\n\nWith the upcoming deprecation of REST 1.x used by this driver to\ncomminucate with the FlashArray, this patch is to convert the\ndriver to use REST 2.x calls, which means changing the required\nPython SDK from ``purestorge`` (REST 1.x) to ``py-pure-client``\n(REST 2.x). The minimum version of ``py-pure-client`` is\ndefined to be 1.47.0.\n\nThis change does not affect any of the functionality of the driver\nbut does affect the minimum required FlashArray operaing system,\nincreasing this to Purity//FA 6.1.0.\n\nThis change will also allow for the addition of new features\nthat were not supported by the REST 1.x APIs.\n\nDocumentation changes are made to reflect the change in required\nSDK.\n\nAll unit tests are updated to reflect the changes in the driver\nand the use of new SDK calls.\n\nChange-Id: I3deae1cc6bbe5ef5820224f72bb02565677e1ade\n'}, {'number': 14, 'created': '2024-05-28 15:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/86265eaeff97e2071643daa9cdcee586f4e3d5e8', 'message': '[Pure Storage] Driver API version upgrade\n\nWith the upcoming deprecation of REST 1.x used by this driver to\ncomminucate with the FlashArray, this patch is to convert the\ndriver to use REST 2.x calls, which means changing the required\nPython SDK from ``purestorge`` (REST 1.x) to ``py-pure-client``\n(REST 2.x). The minimum version of ``py-pure-client`` is\ndefined to be 1.47.0.\n\nThis change does not affect any of the functionality of the driver\nbut does affect the minimum required FlashArray operaing system,\nincreasing this to Purity//FA 6.1.0.\n\nThis change will also allow for the addition of new features\nthat were not supported by the REST 1.x APIs.\n\nDocumentation changes are made to reflect the change in required\nSDK.\n\nAll unit tests are updated to reflect the changes in the driver\nand the use of new SDK calls.\n\nChange-Id: I3deae1cc6bbe5ef5820224f72bb02565677e1ade\n'}, {'number': 15, 'created': '2024-05-29 13:51:51.000000000', 'files': ['cinder/volume/drivers/pure.py', 'driver-requirements.txt', 'doc/source/configuration/block-storage/drivers/pure-storage-driver.rst', 'cinder/tests/unit/volume/drivers/test_pure.py', 'releasenotes/notes/purestorage_rest_upgrade-b830122e37d2958a.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/cinder/commit/839bdf6dcd830719b6cafc7b6430508f84ebb9c6', 'message': '[Pure Storage] Driver API version upgrade\n\nWith the upcoming deprecation of REST 1.x used by this driver to\ncomminucate with the FlashArray, this patch is to convert the\ndriver to use REST 2.x calls, which means changing the required\nPython SDK from ``purestorge`` (REST 1.x) to ``py-pure-client``\n(REST 2.x). The minimum version of ``py-pure-client`` is\ndefined to be 1.47.0.\n\nThis change does not affect any of the functionality of the driver\nbut does affect the minimum required FlashArray operating system,\nincreasing this to Purity//FA 6.1.0.\n\nThis change will also allow for the addition of new features\nthat were not supported by the REST 1.x APIs.\n\nDocumentation changes are made to reflect the change in required\nSDK.\n\nAll unit tests are updated to reflect the changes in the driver\nand the use of new SDK calls.\n\nChange-Id: I3deae1cc6bbe5ef5820224f72bb02565677e1ade\n'}]",91,903095,839bdf6dcd830719b6cafc7b6430508f84ebb9c6,258,6,15,13425,,,0,"[Pure Storage] Driver API version upgrade

With the upcoming deprecation of REST 1.x used by this driver to
comminucate with the FlashArray, this patch is to convert the
driver to use REST 2.x calls, which means changing the required
Python SDK from ``purestorge`` (REST 1.x) to ``py-pure-client``
(REST 2.x). The minimum version of ``py-pure-client`` is
defined to be 1.47.0.

This change does not affect any of the functionality of the driver
but does affect the minimum required FlashArray operating system,
increasing this to Purity//FA 6.1.0.

This change will also allow for the addition of new features
that were not supported by the REST 1.x APIs.

Documentation changes are made to reflect the change in required
SDK.

All unit tests are updated to reflect the changes in the driver
and the use of new SDK calls.

Change-Id: I3deae1cc6bbe5ef5820224f72bb02565677e1ade
",git fetch https://review.opendev.org/openstack/cinder refs/changes/95/903095/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/pure.py', 'driver-requirements.txt', 'doc/source/configuration/block-storage/drivers/pure-storage-driver.rst', 'releasenotes/notes/purestorage_rest_upgrade-b830122e37d2958a.yaml', 'setup.cfg']",5,8dc476d094bf1dc81f33714472714ddbdca51c75,v2_upgrade, py-pure-client>=1.44.0 # BSD py-pure-client>=1.44.0 # BSD, purestorage>=1.17.0 # BSD purestorage>=1.17.0 # BSD,811,670
openstack%2Fgovernance~920848,openstack/governance,master,I1d5048ec38fa1af625a32e0f0885e9a3c3f46d0e,Fixing the validate-legacy script,NEW,2024-05-30 18:32:20.000000000,2024-06-14 06:08:40.000000000,,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-30 18:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/55510ae86348539dbb4ef2e91796e10b7db60131', 'message': 'Fixing the validate-legacy script\n\nvalidate-legacy script supposed to verify if repository is\nretired properly or not basically keep only two file .gitreview\nand README.rst[1].\n\nCurrently this script only checks the partially retired project\nand not if project team itself is retired which end up having a\nincorrect retirement. Example, recently retired project senlin\n\nEven the repo content removal was not correct\n- https://review.opendev.org/c/openstack/solum/+/920201\n\nthe below governance change still passed and this script did not complain\n- https://review.opendev.org/c/openstack/governance/+/919347/\n\nFixing it so that it cover both case partial as well as complete retirement.\n[1] https://docs.openstack.org/project-team-guide/repository.html#step-2-remove-project-content\n\nChange-Id: I1d5048ec38fa1af625a32e0f0885e9a3c3f46d0e\n'}, {'number': 2, 'created': '2024-05-30 18:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/709be9282b4aaf17c7d3b6a6dc7e9b5e072c5e40', 'message': 'Fixing the validate-legacy script\n\nvalidate-legacy script supposed to verify if repository is\nretired properly or not basically keep only two file .gitreview\nand README.rst[1].\n\nCurrently this script only checks the partially retired project\nand not if project team itself is retired which end up having a\nincorrect retirement. Example, recently retired project senlin\n\nEven the repo content removal was not correct\n- https://review.opendev.org/c/openstack/solum/+/920201\n\nthe below governance change still passed and this script did not complain\n- https://review.opendev.org/c/openstack/governance/+/919347/\n\nFixing it so that it cover both case partial as well as complete retirement.\n[1] https://docs.openstack.org/project-team-guide/repository.html#step-2-remove-project-content\n\nChange-Id: I1d5048ec38fa1af625a32e0f0885e9a3c3f46d0e\n'}, {'number': 3, 'created': '2024-05-30 19:19:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/4b69a72040b1448320db907d95d8dbe523ddf1f1', 'message': 'Fixing the validate-legacy script\n\nvalidate-legacy script supposed to verify if repository is\nretired properly or not basically keep only two file .gitreview\nand README.rst[1].\n\nCurrently this script only checks the partially retired project\nand not if project team itself is retired which end up having a\nincorrect retirement. Example, recently retired project senlin\n\nEven the repo content removal was not correct\n- https://review.opendev.org/c/openstack/solum/+/920201\n\nthe below governance change still passed and this script did not complain\n- https://review.opendev.org/c/openstack/governance/+/919347/\n\nFixing it so that it cover both case partial as well as complete retirement.\n[1] https://docs.openstack.org/project-team-guide/repository.html#step-2-remove-project-content\n\nChange-Id: I1d5048ec38fa1af625a32e0f0885e9a3c3f46d0e\n'}, {'number': 4, 'created': '2024-06-07 17:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/1df33167c4ac0430090e9cded544c0293aadd0e8', 'message': 'Fixing the validate-legacy script\n\nvalidate-legacy script supposed to verify if repository is\nretired properly or not basically keep only two file .gitreview\nand README.rst[1].\n\nCurrently this script only checks the partially retired project\nand not if project team itself is retired which end up having a\nincorrect retirement. Example, recently retired project senlin:\n\n  Even the repo content removal was not correct\n  - https://review.opendev.org/c/openstack/solum/+/920201\n\n  the below governance change still passed and this script did not complain\n  - https://review.opendev.org/c/openstack/governance/+/919347/\n\nFixing it so that it cover both case partial as well as complete retirement.\n[1] https://docs.openstack.org/project-team-guide/repository.html#step-2-remove-project-content\n\nRef: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: I1d5048ec38fa1af625a32e0f0885e9a3c3f46d0e\n'}, {'number': 5, 'created': '2024-06-13 19:01:25.000000000', 'files': ['tools/validate-legacy.py'], 'web_link': 'https://opendev.org/openstack/governance/commit/aa230b6bbd076b0c26ebd79939f05844db6e1cff', 'message': 'Fixing the validate-legacy script\n\nvalidate-legacy script supposed to verify if repository is\nretired properly or not basically keep only two file .gitreview\nand README.rst[1].\n\nCurrently this script only checks the partially retired project\nand not if project team itself is retired which end up having a\nincorrect retirement. Example, recently retired project senlin:\n\n  Even the repo content removal was not correct\n  - https://review.opendev.org/c/openstack/solum/+/920201\n\n  the below governance change still passed and this script did not complain\n  - https://review.opendev.org/c/openstack/governance/+/919347/\n\nFixing it so that it cover both case partial as well as complete retirement.\n[1] https://docs.openstack.org/project-team-guide/repository.html#step-2-remove-project-content\n\nRef: https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: I1d5048ec38fa1af625a32e0f0885e9a3c3f46d0e\n'}]",17,920848,aa230b6bbd076b0c26ebd79939f05844db6e1cff,16,4,5,8556,,,0,"Fixing the validate-legacy script

validate-legacy script supposed to verify if repository is
retired properly or not basically keep only two file .gitreview
and README.rst[1].

Currently this script only checks the partially retired project
and not if project team itself is retired which end up having a
incorrect retirement. Example, recently retired project senlin:

  Even the repo content removal was not correct
  - https://review.opendev.org/c/openstack/solum/+/920201

  the below governance change still passed and this script did not complain
  - https://review.opendev.org/c/openstack/governance/+/919347/

Fixing it so that it cover both case partial as well as complete retirement.
[1] https://docs.openstack.org/project-team-guide/repository.html#step-2-remove-project-content

Ref: https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: I1d5048ec38fa1af625a32e0f0885e9a3c3f46d0e
",git fetch https://review.opendev.org/openstack/governance refs/changes/48/920848/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/validate-legacy.py', 'reference/.legacy.yaml.swp']",2,55510ae86348539dbb4ef2e91796e10b7db60131,code-change,,,30,8
openstack%2Fneutron~885224,openstack/neutron,master,I0dc447581d5552104999d13f3d12610c427c2845,[ovn]Synchronize large-scale ACLs by committing multiple transactions,NEW,2023-06-07 03:05:20.000000000,2024-06-14 05:52:40.000000000,,"[{'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 30380}, {'_account_id': 32586}]","[{'number': 1, 'created': '2023-06-07 03:05:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8113705211fd3278c8a591ee0c5453fce4f34611', 'message': '[ovn]Synchronize large-scale ACLs by committing multiple transactions\n\nWhen there are a large number of ACLs that need to be synchronized from\nNeutron to the OVN database, if a transaction is committed, it will fail\ndue to timeout. This patch involves submitting multiple transactions in\nbatches to avoid timeout issues.\n\nCloses-Bug: #2023130\n\nChange-Id: I0dc447581d5552104999d13f3d12610c427c2845\n'}, {'number': 2, 'created': '2023-06-07 05:47:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b4c9326866d920653bc6e98a71f16b1400fb668c', 'message': '[ovn]Synchronize large-scale ACLs by committing multiple transactions\n\nWhen there are a large number of ACLs that need to be synchronized from\nNeutron to the OVN database, if a transaction is committed, it will fail\ndue to timeout. This patch involves submitting multiple transactions in\nbatches to avoid timeout issues.\n\nCloses-Bug: #2023130\n\nChange-Id: I0dc447581d5552104999d13f3d12610c427c2845\n'}, {'number': 3, 'created': '2023-06-09 06:30:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e12854bb92e76ee87f5391c859fba7385b8af2b2', 'message': '[ovn]Synchronize large-scale ACLs by committing multiple transactions\n\nWhen there are a large number of ACLs that need to be synchronized from\nNeutron to the OVN database, if a transaction is committed, it will\nassume that there is no time to process the echo message of ovn nb,\ncausing ovn nb to proactively disconnect,. This patch involves\nsubmitting multiple transactions in batches to avoid issue.\n\nCloses-Bug: #2023130\n\nChange-Id: I0dc447581d5552104999d13f3d12610c427c2845\n'}, {'number': 4, 'created': '2023-06-09 07:26:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/695f6e0b4ad7a1a27cdccc1601e3aa51843abcc9', 'message': '[ovn]Synchronize large-scale ACLs by committing multiple transactions\n\nWhen there are a large number of ACLs that need to be synchronized from\nNeutron to the OVN database, if a transaction is committed, it will\nassume that there is no time to process the echo message of ovn nb,\ncausing ovn nb to proactively disconnect,. This patch involves\nsubmitting multiple transactions in batches to avoid issue.\n\nCloses-Bug: #2023130\n\nChange-Id: I0dc447581d5552104999d13f3d12610c427c2845\n'}, {'number': 5, 'created': '2023-06-28 06:35:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0d21e9408186d3d02769b2ab2f0e5666736e9dc9', 'message': '[ovn]Synchronize large-scale ACLs by committing multiple transactions\n\nWhen there are a large number of ACLs that need to be synchronized from\nNeutron to the OVN database, if a transaction is committed, it will\nassume that there is no time to process the echo message of ovn nb,\ncausing ovn nb to proactively disconnect,. This patch involves\nsubmitting multiple transactions in batches to avoid issue.\n\nCloses-Bug: #2023130\n\nChange-Id: I0dc447581d5552104999d13f3d12610c427c2845\n'}, {'number': 6, 'created': '2023-06-28 08:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/35d13623ef5a58966b826abfc942f03f6149d2c1', 'message': '[ovn]Synchronize large-scale ACLs by committing multiple transactions\n\nWhen there are a large number of ACLs that need to be synchronized from\nNeutron to the OVN database, if a transaction is committed, it will\nassume that there is no time to process the echo message of ovn nb,\ncausing ovn nb to proactively disconnect,. This patch involves\nsubmitting multiple transactions in batches to avoid issue.\n\nCloses-Bug: #2023130\n\nChange-Id: I0dc447581d5552104999d13f3d12610c427c2845\n'}, {'number': 7, 'created': '2023-07-21 06:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8b7cf61f6b0298964487a975c6c197e2782875fc', 'message': '[ovn]Synchronize large-scale ACLs by committing multiple transactions\n\nWhen there are a large number of ACLs that need to be synchronized from\nNeutron to the OVN database, if a transaction is committed, it will\nassume that there is no time to process the echo message of ovn nb,\ncausing ovn nb to proactively disconnect,. This patch involves\nsubmitting multiple transactions in batches to avoid issue.\n\nCloses-Bug: #2023130\n\nChange-Id: I0dc447581d5552104999d13f3d12610c427c2845\n'}, {'number': 8, 'created': '2023-08-28 05:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6abb1e8db2e51626d8aa2973703525270eec6e3c', 'message': '[ovn]Synchronize large-scale ACLs by committing multiple transactions\n\nWhen there are a large number of ACLs that need to be synchronized from\nNeutron to the OVN database, if a transaction is committed, it will\nassume that there is no time to process the echo message of ovn nb,\ncausing ovn nb to proactively disconnect,. This patch involves\nsubmitting multiple transactions in batches to avoid issue.\n\nCloses-Bug: #2023130\n\nChange-Id: I0dc447581d5552104999d13f3d12610c427c2845\n'}, {'number': 9, 'created': '2024-06-14 01:30:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/aef1f78bbd3c7cf7a55087b61ec369a06aae3bd7', 'message': '[ovn]Synchronize large-scale ACLs by committing multiple transactions\n\nWhen there are a large number of ACLs that need to be synchronized from\nNeutron to the OVN database, if a transaction is committed, it will\nassume that there is no time to process the echo message of ovn nb,\ncausing ovn nb to proactively disconnect,. This patch involves\nsubmitting multiple transactions in batches to avoid issue.\n\nCloses-Bug: #2023130\n\nChange-Id: I0dc447581d5552104999d13f3d12610c427c2845\n'}, {'number': 10, 'created': '2024-06-14 03:22:54.000000000', 'files': ['neutron/tests/unit/fake_resources.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/common/ovn/constants.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d0b3120f75e78b6716141fba30a8db800cd94e72', 'message': '[ovn]Synchronize large-scale ACLs by committing multiple transactions\n\nWhen there are a large number of ACLs that need to be synchronized from\nNeutron to the OVN database, if a transaction is committed, it will\nassume that there is no time to process the echo message of ovn nb,\ncausing ovn nb to proactively disconnect,. This patch involves\nsubmitting multiple transactions in batches to avoid issue.\n\nCloses-Bug: #2023130\n\nChange-Id: I0dc447581d5552104999d13f3d12610c427c2845\n'}]",17,885224,d0b3120f75e78b6716141fba30a8db800cd94e72,51,7,10,30380,,,0,"[ovn]Synchronize large-scale ACLs by committing multiple transactions

When there are a large number of ACLs that need to be synchronized from
Neutron to the OVN database, if a transaction is committed, it will
assume that there is no time to process the echo message of ovn nb,
causing ovn nb to proactively disconnect,. This patch involves
submitting multiple transactions in batches to avoid issue.

Closes-Bug: #2023130

Change-Id: I0dc447581d5552104999d13f3d12610c427c2845
",git fetch https://review.opendev.org/openstack/neutron refs/changes/24/885224/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py'],1,8113705211fd3278c8a591ee0c5453fce4f34611,," add_num = len(neutron_acls) step = 1000 for i in range(0, add_num, step): _r_step = step if add_num - i > step else add_num - i with self.ovn_api.transaction(check_error=True) as txn: for j in range(0, _r_step): acla = neutron_acls[i+j] LOG.warning('ACL found in Neutron but not in ' 'OVN DB for port group %s', acla['port_group']) txn.add(self.ovn_api.pg_acl_add( **acla, may_exist=True))"," with self.ovn_api.transaction(check_error=True) as txn: for acla in neutron_acls: LOG.warning('ACL found in Neutron but not in ' 'OVN DB for port group %s', acla['port_group']) txn.add(self.ovn_api.pg_acl_add(**acla, may_exist=True))",12,5
openstack%2Frequirements~920454,openstack/requirements,master,Ice77d223bafd220549380616db95ebd1c56f4870,Bump sqlparse to 0.5.0 to address CVE-2024-4340,NEW,2024-05-25 13:38:09.000000000,2024-06-14 04:57:37.000000000,,"[{'_account_id': 13252}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-25 13:38:09.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/52166543ed4b392e4d235a940874ce075df4ee04', 'message': 'Bump sqlparse to 0.5.0 to address CVE-2024-4340\n\nVersions below 0.5.0 are vulnerable to DoS attacks through a nested\nlist. For more details, read:\n\nhttps: //github.com/advisories/GHSA-2m57-hf25-phgg\nChange-Id: Ice77d223bafd220549380616db95ebd1c56f4870\n'}]",7,920454,52166543ed4b392e4d235a940874ce075df4ee04,9,3,1,25277,,,0,"Bump sqlparse to 0.5.0 to address CVE-2024-4340

Versions below 0.5.0 are vulnerable to DoS attacks through a nested
list. For more details, read:

https: //github.com/advisories/GHSA-2m57-hf25-phgg
Change-Id: Ice77d223bafd220549380616db95ebd1c56f4870
",git fetch https://review.opendev.org/openstack/requirements refs/changes/54/920454/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,52166543ed4b392e4d235a940874ce075df4ee04,sqlparse-CVE-2024-4340,sqlparse===0.5.0,sqlparse===0.4.4,1,1
openstack%2Fcinder~921592,openstack/cinder,master,I30f105ee619386f52bc907f5115c08e0fafb9e42,HPE 3par: getWsApiVersion now requires login,NEW,2024-06-08 11:52:57.000000000,2024-06-14 04:48:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-08 11:52:57.000000000', 'files': ['releasenotes/notes/hpe-3par-login-getWsApiVersion-0252d655844ae054.yaml', 'cinder/volume/drivers/hpe/hpe_3par_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1b07bee38643d4d4cf52fcb01d2e45318187b27e', 'message': 'HPE 3par: getWsApiVersion now requires login\n\nEarlier the call to getWsApiVersion() worked without login.\nNow with new wsapi of 2024, login is required.\n\nThis patch makes call to client_login() before getWsApiVersion().\n\nCloses-Bug: #2068795\nChange-Id: I30f105ee619386f52bc907f5115c08e0fafb9e42\n'}]",7,921592,1b07bee38643d4d4cf52fcb01d2e45318187b27e,50,1,1,29122,,,0,"HPE 3par: getWsApiVersion now requires login

Earlier the call to getWsApiVersion() worked without login.
Now with new wsapi of 2024, login is required.

This patch makes call to client_login() before getWsApiVersion().

Closes-Bug: #2068795
Change-Id: I30f105ee619386f52bc907f5115c08e0fafb9e42
",git fetch https://review.opendev.org/openstack/cinder refs/changes/92/921592/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/hpe-3par-login-getWsApiVersion-0252d655844ae054.yaml', 'cinder/volume/drivers/hpe/hpe_3par_common.py']",2,1b07bee38643d4d4cf52fcb01d2e45318187b27e,, self.client_login(),,7,0
openstack%2Fcharm-neutron-openvswitch~917345,openstack/charm-neutron-openvswitch,stable/2024.1,I319e316ff9fdfda46816a2739492b3dc4d1b41c5,Stable changes for stable/2024.1 (caracal) branch,NEW,2024-04-29 10:28:14.000000000,2024-06-14 04:44:00.000000000,,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31203}]","[{'number': 1, 'created': '2024-04-29 10:28:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/338077c96aba79bb1002cbb7a5d8b14e1902fdd0', 'message': 'Stable changes for stable/2024.1 (caracal) branch\n\nThis patch converts stable/2024.1 into a stable maintenance branch. It:\n\n- modifies .gitreview to point to stable/2024.1\n- switches (test-)requirements*.txt -> (test-)requirements*.in\n  for pip-compile usage.\n- creates (test-)requirements-py*.txt from *.in using pip-compile for\n  the relevant python version.\n- Updates bundles to point to ceph/edge and 24.04/edge for ceph and\n  OVN charms.\n- Adds build.lock file to the reactive charms.\n- Syncs charm-helpers for classic charms.\n- Locks requirements.txt from requirements.in for ops machine charms.\n- Locks charms.openstack, zaza, zaza-openstack-tests, charm-helpers to\n  stable branches.\n\nChange-Id: I319e316ff9fdfda46816a2739492b3dc4d1b41c5\n'}, {'number': 2, 'created': '2024-05-01 11:44:57.000000000', 'files': ['requirements.in', 'tests/bundles/noble-caracal.yaml', '.gitreview', 'hooks/charmhelpers/contrib/openstack/templates/section-filter-audit', 'hooks/charmhelpers/contrib/openstack/context.py', 'charm-helpers-hooks.yaml', 'tests/bundles/jammy-bobcat.yaml', 'hooks/charmhelpers/contrib/openstack/templates/section-audit-middleware-notifications', 'merged-requirements-py38.txt', 'hooks/charmhelpers/contrib/openstack/utils.py', 'merged-requirements-py311.txt', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/network/ip.py', 'test-requirements-py38.txt', 'tests/bundles/jammy-antelope.yaml', 'merged-requirements-py310.txt', 'tests/bundles/jammy-caracal.yaml', 'test-requirements.in', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/a68a426e6acf177cc788e94d015b926e8e227710', 'message': 'Stable changes for stable/2024.1 (caracal) branch\n\nThis patch converts stable/2024.1 into a stable maintenance branch. It:\n\n- modifies .gitreview to point to stable/2024.1\n- switches (test-)requirements*.txt -> (test-)requirements*.in\n  for pip-compile usage.\n- creates (test-)requirements-py*.txt from *.in using pip-compile for\n  the relevant python version.\n- Updates bundles to point to ceph/edge and 24.04/edge for ceph and\n  OVN charms.\n- Adds build.lock file to the reactive charms.\n- Syncs charm-helpers for classic charms.\n- Locks requirements.txt from requirements.in for ops machine charms.\n- Locks charms.openstack, zaza, zaza-openstack-tests, charm-helpers to\n  stable branches.\n\nChange-Id: I319e316ff9fdfda46816a2739492b3dc4d1b41c5\n'}]",8,917345,a68a426e6acf177cc788e94d015b926e8e227710,19,4,2,20870,,,0,"Stable changes for stable/2024.1 (caracal) branch

This patch converts stable/2024.1 into a stable maintenance branch. It:

- modifies .gitreview to point to stable/2024.1
- switches (test-)requirements*.txt -> (test-)requirements*.in
  for pip-compile usage.
- creates (test-)requirements-py*.txt from *.in using pip-compile for
  the relevant python version.
- Updates bundles to point to ceph/edge and 24.04/edge for ceph and
  OVN charms.
- Adds build.lock file to the reactive charms.
- Syncs charm-helpers for classic charms.
- Locks requirements.txt from requirements.in for ops machine charms.
- Locks charms.openstack, zaza, zaza-openstack-tests, charm-helpers to
  stable branches.

Change-Id: I319e316ff9fdfda46816a2739492b3dc4d1b41c5
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/45/917345/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.in', 'tests/bundles/noble-caracal.yaml', '.gitreview', 'hooks/charmhelpers/contrib/openstack/templates/section-filter-audit', 'hooks/charmhelpers/contrib/openstack/context.py', 'charm-helpers-hooks.yaml', 'tests/bundles/jammy-bobcat.yaml', 'hooks/charmhelpers/contrib/openstack/templates/section-audit-middleware-notifications', 'merged-requirements-py38.txt', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/network/ip.py', 'test-requirements-py38.txt', 'tests/bundles/jammy-antelope.yaml', 'merged-requirements-py310.txt', 'tests/bundles/jammy-caracal.yaml', 'test-requirements.in', 'tox.ini']",18,338077c96aba79bb1002cbb7a5d8b14e1902fdd0,stable-2024.1,deps = -r{toxinidir}/test-requirements-py38.txt[testenv:py38] basepython = python3.8 deps = -c {env:TEST_CONSTRAINTS_FILE:https://raw.githubusercontent.com/openstack-charmers/zaza-openstack-tests/master/constraints/constraints-2024.1.txt} -r{toxinidir}/merged-requirements-py38.txt -r{toxinidir}/merged-requirements-py310.txt -r{toxinidir}/merged-requirements-py310.txt -r{toxinidir}/merged-requirements-py310.txtbasepython = python3.8basepython = python3.8basepython = python3.8basepython = python3.8,deps = -c {env:TEST_CONSTRAINTS_FILE:https://raw.githubusercontent.com/openstack-charmers/zaza-openstack-tests/master/constraints/constraints-2024.1.txt} -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txtbasepython = python3basepython = python3basepython = python3basepython = python3,2294,38
openstack%2Fneutron~917257,openstack/neutron,master,I60febccc82236dee0c4b164b9d1184ba698faca6,DNM: test with latest netaddr,NEW,2024-04-27 00:23:23.000000000,2024-06-14 04:29:51.000000000,,"[{'_account_id': 9656}, {'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-27 00:23:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/db126dfb557dae05b363d671bf229b2b3a9e5e62', 'message': 'DNM: test with latest netaddr\n\nDepends-On: Id0ffff01b2337e74cb1afe0ae37d1f45ea79ad37\nChange-Id: I60febccc82236dee0c4b164b9d1184ba698faca6\n'}, {'number': 2, 'created': '2024-04-27 02:51:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b5a0e80c1df0943b7b34039a1f9f9d4268820e28', 'message': 'DNM: test with latest netaddr\n\nDepends-On: Id0ffff01b2337e74cb1afe0ae37d1f45ea79ad37\nChange-Id: I60febccc82236dee0c4b164b9d1184ba698faca6\n'}, {'number': 3, 'created': '2024-06-13 23:03:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/686ce4c49d6f91f577e26343b1c44567e689e7bf', 'message': 'DNM: test with latest netaddr\n\nDepends-On: Id0ffff01b2337e74cb1afe0ae37d1f45ea79ad37\nChange-Id: I60febccc82236dee0c4b164b9d1184ba698faca6\n'}, {'number': 4, 'created': '2024-06-14 01:53:49.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ba540f457e1e029b236dda17ad5aefbc0e9b5454', 'message': 'DNM: test with latest netaddr\n\nDepends-On: Id0ffff01b2337e74cb1afe0ae37d1f45ea79ad37\nDepends-On: I33d86b40bd8ef8dfb68892ad333a31ae24924a6a\nChange-Id: I60febccc82236dee0c4b164b9d1184ba698faca6\n'}]",0,917257,ba540f457e1e029b236dda17ad5aefbc0e9b5454,21,3,4,9656,,,0,"DNM: test with latest netaddr

Depends-On: Id0ffff01b2337e74cb1afe0ae37d1f45ea79ad37
Depends-On: I33d86b40bd8ef8dfb68892ad333a31ae24924a6a
Change-Id: I60febccc82236dee0c4b164b9d1184ba698faca6
",git fetch https://review.opendev.org/openstack/neutron refs/changes/57/917257/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/openvswitch_firewall/firewall.py'],1,db126dfb557dae05b363d671bf229b2b3a9e5e62,bug/2054435, # NOTE(hangyang): Handl add/delete overlapped IPs among, # NOTE(hangyang): Handle add/delete overlapped IPs among,1,1
openstack%2Foslo.cache~909310,openstack/oslo.cache,master,I396e7af9d1e1e04e56a11d26ffea506f2b675a18,Redis: Support socket keepalive,MERGED,2024-02-17 18:15:04.000000000,2024-06-14 04:10:12.000000000,2024-06-14 04:09:05.000000000,"[{'_account_id': 9816}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2024-02-17 18:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/fd8d8889b8ebf191f387091fc5c028939519b7d0', 'message': 'Redis: Support socket keepalive\n\nredis-py supports socket keepalive feature. This updates the config\nbuild process so that users can use this feature by the existing\nsocket keepalive options.\n\nChange-Id: I396e7af9d1e1e04e56a11d26ffea506f2b675a18\n'}, {'number': 2, 'created': '2024-02-18 05:11:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/5095d178ac2c5698cb73f57516b6e82f40d07720', 'message': 'Redis: Support socket keepalive\n\nredis-py supports socket keepalive feature. This updates the config\nbuild process so that users can use this feature by the existing\nsocket keepalive options.\n\nChange-Id: I396e7af9d1e1e04e56a11d26ffea506f2b675a18\n'}, {'number': 3, 'created': '2024-02-18 05:15:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/d0eb6ec8c21898060c29f4391e122cde0070a2e6', 'message': 'Redis: Support socket keepalive\n\nredis-py supports socket keepalive feature. This updates the config\nbuild process so that users can use this feature by the existing\nsocket keepalive options.\n\nChange-Id: I396e7af9d1e1e04e56a11d26ffea506f2b675a18\n'}, {'number': 4, 'created': '2024-03-13 02:22:24.000000000', 'files': ['releasenotes/notes/redis-socket-keepalive-4c6cfde0be827282.yaml', 'oslo_cache/core.py', 'oslo_cache/tests/unit/test_cache_basics.py'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/fe55f2c45e611e9ed9fb3a4aca1cdd121fdb3005', 'message': 'Redis: Support socket keepalive\n\nredis-py supports socket keepalive feature. This updates the config\nbuild process so that users can use this feature by the existing\nsocket keepalive options.\n\nChange-Id: I396e7af9d1e1e04e56a11d26ffea506f2b675a18\n'}]",3,909310,fe55f2c45e611e9ed9fb3a4aca1cdd121fdb3005,19,4,4,9816,,,0,"Redis: Support socket keepalive

redis-py supports socket keepalive feature. This updates the config
build process so that users can use this feature by the existing
socket keepalive options.

Change-Id: I396e7af9d1e1e04e56a11d26ffea506f2b675a18
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/10/909310/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/redis-socket-keepalive-4c6cfde0be827282.yaml', 'oslo_cache/core.py', 'oslo_cache/tests/unit/test_cache_basics.py']",3,fd8d8889b8ebf191f387091fc5c028939519b7d0,,"import socket def test_cache_dictionary_config_builder_redis_with_keepalive(self): """"""Validate the backend is reset to default if caching is disabled."""""" self.config_fixture.config(group='cache', config_prefix='test_prefix', backend='dogpile.cache.redis', redis_server='[::1]:6379', enable_socket_keepalive=True) config_dict = cache._build_cache_config(self.config_fixture.conf) self.assertEqual( 'redis://[::1]:6379', config_dict['test_prefix.arguments.url']) self.assertEqual( 1.0, config_dict['test_prefix.arguments.socket_timeout']) self.assertEqual({ 'socket_keepalive': True, 'socket_keepalive_options': { socket.TCP_KEEPIDLE: 1, socket.TCP_KEEPINTVL: 1, socket.TCP_KEEPCNT: 1, }}, config_dict['test_prefix.arguments.connection_kwargs']) def test_cache_dictionary_config_builder_redis_with_keepalive_params(self): """"""Validate the backend is reset to default if caching is disabled."""""" self.config_fixture.config(group='cache', config_prefix='test_prefix', backend='dogpile.cache.redis', redis_server='[::1]:6379', enable_socket_keepalive=True, socket_keepalive_idle=2, socket_keepalive_interval=3, socket_keepalive_count=4) config_dict = cache._build_cache_config(self.config_fixture.conf) self.assertEqual( 'redis://[::1]:6379', config_dict['test_prefix.arguments.url']) self.assertEqual( 1.0, config_dict['test_prefix.arguments.socket_timeout']) self.assertEqual({ 'socket_keepalive': True, 'socket_keepalive_options': { socket.TCP_KEEPIDLE: 2, socket.TCP_KEEPINTVL: 3, socket.TCP_KEEPCNT: 4, }}, config_dict['test_prefix.arguments.connection_kwargs']) ",,84,14
openstack%2Fcinder~921467,openstack/cinder,master,I75b380b5d429c62d332223739929f92098bc2d84,Update docstrings for migration routines,NEW,2024-06-06 17:57:09.000000000,2024-06-14 04:00:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-06 17:57:09.000000000', 'files': ['cinder/volume/driver.py', 'cinder/interface/volume_driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b3f6c4dc8e3f8757db2b19158d6b41d96e939b0a', 'message': 'Update docstrings for migration routines\n\nChange-Id: I75b380b5d429c62d332223739929f92098bc2d84\n'}]",1,921467,b3f6c4dc8e3f8757db2b19158d6b41d96e939b0a,22,1,1,9236,,,0,"Update docstrings for migration routines

Change-Id: I75b380b5d429c62d332223739929f92098bc2d84
",git fetch https://review.opendev.org/openstack/cinder refs/changes/67/921467/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/driver.py', 'cinder/interface/volume_driver.py']",2,b3f6c4dc8e3f8757db2b19158d6b41d96e939b0a,," def before_volume_copy(self, context, src_vol, dest_vol, remote=None): """"""Driver-specific actions executed before copying a volume. This method will be called before _copy_volume_data during volume migration. :param context: Context :param src_volume: Source volume in the copy operation. :param dest_volume: Destination volume in the copy operation. :param remote: Whether the copy operation is local. :returns: There is no return value for this method. """""" def after_volume_copy(self, context, src_vol, dest_vol, remote=None): """"""Driver-specific actions executed after copying a volume. This method will be called after _copy_volume_data during volume migration. :param context: Context :param src_volume: Source volume in the copy operation. :param dest_volume: Destination volume in the copy operation. :param remote: Whether the copy operation is local. :returns: There is no return value for this method. """""" def migrate_volume(self, context, volume, host): """"""Migrate the volume to the specified host. :param context: Context :param volume: A dictionary describing the volume to migrate :param host: A dictionary describing the host to migrate to, where host['host'] is its name, and host['capabilities'] is a dictionary of its reported capabilities. :returns: Tuple of (model_update, boolean) where the boolean specifies whether the migration occurred. """""" def update_migrated_volume(self, context, volume, new_volume, original_volume_status): """"""Return model update for migrated volume. Each driver implementing this method needs to be responsible for the values of _name_id and provider_location. If None is returned or either key is not set, it means the volume table does not need to change the value(s) for the key(s). The return format is {""_name_id"": value, ""provider_location"": value}. :param context: Context :param volume: The original volume that was migrated to this backend :param new_volume: The migration volume object that was created on this backend as part of the migration process :param original_volume_status: The status of the original volume :returns: model_update to update DB with any needed changes """""" def retype(self, context, volume, new_type, diff, host): """"""Change the type of a volume. This operation occurs on the same backend and the return value indicates whether it was successful. If migration is required to satisfy a retype, that will be handled by the volume manager. :param context: Context :param volume: The volume to retype :param new_type: The target type for the volume :param diff: The differences between the two types :param host: The host that contains this volume :returns: Tuple of (boolean, model_update) where the boolean specifies whether the retype occurred. """""" ",,111,28
openstack%2Foslo.utils~909307,openstack/oslo.utils,master,Iee6d73e7fc7af5c5be4cc439469d4ea58944abfb,netutils: Explicitly require INET_ATON,MERGED,2024-02-17 16:54:14.000000000,2024-06-14 03:47:55.000000000,2024-06-14 03:46:52.000000000,"[{'_account_id': 1131}, {'_account_id': 6593}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-02-17 16:54:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/35af0847df37875f609ee7bbb01c720b6b989f4d', 'message': 'netutils: Explicitly require INET_ATON\n\nnetaddr 1.0.0 changed the default parsing mode from INET_ATON to\nINET_PTON. To keep the consistent behavior over that change, set\nthe mode to INET_ATON explicitly when strictness is not required.\n\nChange-Id: Iee6d73e7fc7af5c5be4cc439469d4ea58944abfb\n'}, {'number': 2, 'created': '2024-02-17 16:55:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/1177bd67bd5e811e81adf2704158b28988332d53', 'message': 'netutils: Explicitly require INET_ATON\n\nnetaddr 1.0.0 changed the default parsing mode from INET_ATON to\nINET_PTON[1]. To keep the consistent behavior over that change, set\nthe flag to INET_ATON explicitly when strictness is not required.\n\n[1] https://netaddr.readthedocs.io/en/latest/changes.html#release-1-0-0\n\nChange-Id: Iee6d73e7fc7af5c5be4cc439469d4ea58944abfb\n'}, {'number': 3, 'created': '2024-02-17 16:57:30.000000000', 'files': ['requirements.txt', 'oslo_utils/netutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/a14bc13ad069870ab58263d28af9424c305c8bd8', 'message': 'netutils: Explicitly require INET_ATON\n\nnetaddr 1.0.0 changed the default parsing mode from INET_ATON to\nINET_PTON[1]. To keep the consistent behavior over that change, set\nthe flag to INET_ATON explicitly when strictness is not required.\n\n[1] https://netaddr.readthedocs.io/en/latest/changes.html#release-1-0-0\n\nChange-Id: Iee6d73e7fc7af5c5be4cc439469d4ea58944abfb\n'}]",2,909307,a14bc13ad069870ab58263d28af9424c305c8bd8,15,4,3,9816,,,0,"netutils: Explicitly require INET_ATON

netaddr 1.0.0 changed the default parsing mode from INET_ATON to
INET_PTON[1]. To keep the consistent behavior over that change, set
the flag to INET_ATON explicitly when strictness is not required.

[1] https://netaddr.readthedocs.io/en/latest/changes.html#release-1-0-0

Change-Id: Iee6d73e7fc7af5c5be4cc439469d4ea58944abfb
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/07/909307/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_utils/netutils.py'],1,35af0847df37875f609ee7bbb01c720b6b989f4d,," flag = INET_PTON if strict else INET_ATON if netaddr.valid_ipv4(address, flags=INET_ATON):", flag = INET_PTON if strict else 0 if netaddr.valid_ipv4(address):,2,2
openstack%2Fglance~900730,openstack/glance,master,I2ffc7c2cb6d0a2fe595d9c36db29b8c3303178e3,Use constants for common rules,NEW,2023-11-12 15:18:53.000000000,2024-06-14 03:01:08.000000000,,"[{'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-11-12 15:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ebdeee6af154bb9c6a7281cb4b8cd7b82d3bb403', 'message': 'Use constants for common rules\n\nThe string ""rule:context_is_admin"" appears multiple times but these can\nbe replaced by the constant defined in the policy base class.\n\nThere are also a few more policy rules repeated but the same approach\nallows us to reduce maintaining the same string in multiple places.\n\nChange-Id: I2ffc7c2cb6d0a2fe595d9c36db29b8c3303178e3\n'}, {'number': 2, 'created': '2023-11-12 16:15:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c0f56997fec1b1fbdf4189b1007ee8813bc19120', 'message': 'Use constants for common rules\n\nThe string ""rule:context_is_admin"" appears multiple times but these can\nbe replaced by the constant defined in the policy base class.\n\nThere are also a few more policy rules repeated but the same approach\nallows us to reduce maintaining the same string in multiple places.\n\nChange-Id: I2ffc7c2cb6d0a2fe595d9c36db29b8c3303178e3\n'}, {'number': 3, 'created': '2023-11-12 17:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7969048e55b3be79de23b694540446f9d338189e', 'message': 'Use constants for common rules\n\nThe string ""rule:context_is_admin"" appears multiple times but these can\nbe replaced by the constant defined in the policy base class.\n\nThere are also a few more policy rules repeated but the same approach\nallows us to reduce maintaining the same string in multiple places.\n\nChange-Id: I2ffc7c2cb6d0a2fe595d9c36db29b8c3303178e3\n'}, {'number': 4, 'created': '2023-11-12 17:38:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d3aadaa2a99f941b44427795f69a0a62d06d861c', 'message': 'Use constants for common rules\n\nThe string ""rule:context_is_admin"" appears multiple times but these can\nbe replaced by the constant defined in the policy base class.\n\nThere are also a few more policy rules repeated but the same approach\nallows us to reduce maintaining the same string in multiple places.\n\nChange-Id: I2ffc7c2cb6d0a2fe595d9c36db29b8c3303178e3\n'}, {'number': 5, 'created': '2023-11-12 17:41:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0ad78410ab2269e375cdf13e7e58ec3a76d78cf2', 'message': 'Use constants for common rules\n\nThe string ""rule:context_is_admin"" appears multiple times but these can\nbe replaced by the constant defined in the policy base class.\n\nThere are also a few more policy rules repeated but the same approach\nallows us to reduce maintaining the same string in multiple places.\n\nChange-Id: I2ffc7c2cb6d0a2fe595d9c36db29b8c3303178e3\n'}, {'number': 6, 'created': '2024-02-07 10:35:44.000000000', 'files': ['glance/policies/tasks.py', 'glance/policies/image.py', 'glance/policies/discovery.py', 'glance/policies/metadef.py', 'glance/policies/base.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/5cf15b68aacc4618b4bc8476e138ae5fc746ed21', 'message': 'Use constants for common rules\n\nThe string ""rule:context_is_admin"" appears multiple times but these can\nbe replaced by the constant defined in the policy base class.\n\nThere are also a few more policy rules repeated but the same approach\nallows us to reduce maintaining the same string in multiple places.\n\nChange-Id: I2ffc7c2cb6d0a2fe595d9c36db29b8c3303178e3\n'}]",16,900730,5cf15b68aacc4618b4bc8476e138ae5fc746ed21,61,3,6,9816,,,0,"Use constants for common rules

The string ""rule:context_is_admin"" appears multiple times but these can
be replaced by the constant defined in the policy base class.

There are also a few more policy rules repeated but the same approach
allows us to reduce maintaining the same string in multiple places.

Change-Id: I2ffc7c2cb6d0a2fe595d9c36db29b8c3303178e3
",git fetch https://review.opendev.org/openstack/glance refs/changes/30/900730/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/policies/tasks.py', 'glance/policies/image.py', 'glance/policies/discovery.py', 'glance/policies/metadef.py', 'glance/policies/base.py']",5,ebdeee6af154bb9c6a7281cb4b8cd7b82d3bb403,,ADMIN = f'rule:context_is_admin' DEFAULT= f'rule:default' ADMIN_OR_PROJECT_MEMBER = f'({ADMIN}) or ({PROJECT_MEMBER})' ADMIN_OR_PROJECT_READER = f'({ADMIN}) or ({PROJECT_READER})' f'({ADMIN}) or ' f'({ADMIN}) or ' f'({ADMIN}) or ({PROJECT_MEMBER} and project_id:%(owner)s)' f'({ADMIN}) or ({PROJECT_READER_OR_PUBLIC_NAMESPACE})' f'({ADMIN}) or (role:member and {IMAGE_MEMBER_CHECK})' f'({ADMIN}) or ',ADMIN_OR_PROJECT_MEMBER = f'rule:context_is_admin or ({PROJECT_MEMBER})' ADMIN_OR_PROJECT_READER = f'rule:context_is_admin or ({PROJECT_READER})' f'rule:context_is_admin or ' f'rule:context_is_admin or ' f'rule:context_is_admin or ({PROJECT_MEMBER} and project_id:%(owner)s)' f'rule:context_is_admin or ({PROJECT_READER_OR_PUBLIC_NAMESPACE})' f'rule:context_is_admin or (role:member and {IMAGE_MEMBER_CHECK})' f'rule:context_is_admin or 'ADMIN = f'rule:context_is_admin' ,69,64
openstack%2Fironic-python-agent-builder~920183,openstack/ironic-python-agent-builder,master,If94901d1533ee6a51eaafe4ae114af901ab7e18d,Block glean-early.sh from running,NEW,2024-05-22 15:17:42.000000000,2024-06-14 02:55:05.000000000,,"[{'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2024-05-22 15:17:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/549c2496533fa94e0e05149051623eb4b6deaf7f', 'message': ""Block glean-early.sh from running\n\nIronic has replaced the mount logic used by glean-early.sh with\nit's own safer alternative.\n\nChange-Id: If94901d1533ee6a51eaafe4ae114af901ab7e18d\n""}, {'number': 2, 'created': '2024-05-22 21:31:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/f839e7d557a28bc17d256f2b71f0265c20f3b618', 'message': ""Block glean-early.sh from running\n\nIronic has replaced the mount logic used by glean-early.sh with\nit's own safer alternative.\n\nChange-Id: If94901d1533ee6a51eaafe4ae114af901ab7e18d\n""}, {'number': 3, 'created': '2024-05-23 22:02:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/96ec7007301ac99d2962c810f734e0451009496d', 'message': ""Block glean-early.sh from running\n\nIronic has replaced the mount logic used by glean-early.sh with\nit's own safer alternative.\n\nChange-Id: If94901d1533ee6a51eaafe4ae114af901ab7e18d\n""}, {'number': 4, 'created': '2024-05-28 17:23:31.000000000', 'files': ['dib/ironic-python-agent-ramdisk/post-install.d/80-ironic-python-agent-ramdisk'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/6c3a8f174f73b0f2d40dc874af655ee59d1f4af4', 'message': ""Block glean-early.sh from running\n\nIronic has replaced the mount logic used by glean-early.sh with\nit's own safer alternative.\n\nChange-Id: If94901d1533ee6a51eaafe4ae114af901ab7e18d\n""}]",7,920183,6c3a8f174f73b0f2d40dc874af655ee59d1f4af4,17,3,4,11655,,,0,"Block glean-early.sh from running

Ironic has replaced the mount logic used by glean-early.sh with
it's own safer alternative.

Change-Id: If94901d1533ee6a51eaafe4ae114af901ab7e18d
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/83/920183/1 && git format-patch -1 --stdout FETCH_HEAD,['dib/ironic-python-agent-ramdisk/post-install.d/80-ironic-python-agent-ramdisk'],1,549c2496533fa94e0e05149051623eb4b6deaf7f,," # Disable Glean-early start # Under normal cirumstances, glean-early attempts to mount a config # drive, configure ssh and a hostname. We only need the mount, and we # trigger that in ironic-agent-resolve-config-drive.service. # This is largely because glean uses /mnt/config by default, # where as cloud-init uses a random folder name. if [[ $(systemctl --no-pager list-unit-files glean-early) =~ 'enabled' ]]; then systemctl disable glean-early.service fi",,9,0
openstack%2Fswift~918366,openstack/swift,master,Ia2393706610bdd17f9fa75a8e94334785e5a7fd7,Parallel distirbuted task container iteration,NEW,2024-05-06 23:55:46.000000000,2024-06-14 02:53:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-06 23:55:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d7987e1dffe9d606a14a39afc4477563216c1291', 'message': 'WIP: Parallel distirbuted task container iteration\n\nInstead of all expirers listing all task_containers and only processing\na subset of deletes, we evaluate the expiring_objects container listings\nin order to distribute the iteration of task_containers to all processes\nfor parallel evaluation.  Each expirer process is more likely to process\nthe tasks they list.\n\nDrive-by: remove randomized_task_container_iteration as an option, since\neach task_container is handled only one expirer (or a very small small\nsubset) it no longer adds value or seems worth the effort to maintain.\n\nChange-Id: Ia2393706610bdd17f9fa75a8e94334785e5a7fd7\n'}, {'number': 2, 'created': '2024-05-15 02:23:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/cf34af352cb9db637fbcfca06272279d0406c639', 'message': 'Parallel distirbuted task container iteration\n\nInstead of all expirers listing all task_containers and only processing\na subset of deletes, we evaluate the expiring_objects container listings\nin order to distribute the iteration of task_containers to all processes\nfor parallel evaluation.  Each expirer process is more likely to process\nthe tasks they list.\n\nChange-Id: Ia2393706610bdd17f9fa75a8e94334785e5a7fd7\n'}, {'number': 3, 'created': '2024-05-15 20:11:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6dd5a5231f718aadb2fecf822522d65c2ad1a100', 'message': 'Parallel distirbuted task container iteration\n\nInstead of all expirers listing all task_containers and only processing\na subset of deletes, we evaluate the expiring_objects container listings\nin order to distribute the iteration of task_containers to all processes\nfor parallel evaluation.  Each expirer process is more likely to process\nthe tasks they list.\n\nChange-Id: Ia2393706610bdd17f9fa75a8e94334785e5a7fd7\n'}, {'number': 4, 'created': '2024-06-03 21:38:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4482a4b60b1935d5f0e950d6b4d136465b2962aa', 'message': 'Parallel distirbuted task container iteration\n\nInstead of all expirers listing all task_containers and only processing\na subset of deletes, we evaluate the expiring_objects container listings\nin order to distribute the iteration of task_containers to all processes\nfor parallel evaluation.  Each expirer process is more likely to process\nthe tasks they list.\n\nChange-Id: Ia2393706610bdd17f9fa75a8e94334785e5a7fd7\n'}, {'number': 5, 'created': '2024-06-14 01:19:02.000000000', 'files': ['test/unit/obj/test_expirer.py', 'swift/obj/expirer.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/92075810b105856b7811ecd4852174872112765f', 'message': 'Parallel distirbuted task container iteration\n\nInstead of all expirers listing all task_containers and only processing\na subset of deletes, we evaluate the expiring_objects container listings\nin order to distribute the iteration of task_containers to all processes\nfor parallel evaluation.  Each expirer process is more likely to process\nthe tasks they list.\n\nChange-Id: Ia2393706610bdd17f9fa75a8e94334785e5a7fd7\n'}]",17,918366,92075810b105856b7811ecd4852174872112765f,21,1,5,1179,,,0,"Parallel distirbuted task container iteration

Instead of all expirers listing all task_containers and only processing
a subset of deletes, we evaluate the expiring_objects container listings
in order to distribute the iteration of task_containers to all processes
for parallel evaluation.  Each expirer process is more likely to process
the tasks they list.

Change-Id: Ia2393706610bdd17f9fa75a8e94334785e5a7fd7
",git fetch https://review.opendev.org/openstack/swift refs/changes/66/918366/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/obj/test_expirer.py', 'swift/common/utils/__init__.py', 'swift/obj/expirer.py']",3,d7987e1dffe9d606a14a39afc4477563216c1291,parallel-task-iter,"from random import randomfrom swift.common import utils self.expiring_objects_account = AUTO_CREATE_ACCOUNT_PREFIX + \ (self.conf.get('expiring_objects_account_name') or 'expiring_objects') self.expiring_objects_container_divisor = \ int(conf.get('expiring_objects_container_divisor') or 86400) self.set_process_values(**conf) # a few target containers def _iter_all_task_containers_as_ints(self, task_account): try: task_container_time = int(c['name']) except ValueError: # XXX untested! self.logger.warning('skipping unexpected task container ' 'in %s: %s' % (task_account, c['name'])) if task_container_time > Timestamp.now(): break yield task_container_time def _get_all_expected_task_containers(self, task_container_ints): all_containers = set() container_divisor_set = set() for task_container_time in task_container_ints: # N.B. ""days"" is the default case, smaller divisor may yield more # task containers per divisor, but there's no good reason for # clusters to change the default divisor. num_days, _ = divmod(task_container_time + utils.EXPIRER_CONTAINER_PER_DIVISOR, self.expiring_objects_container_divisor) if num_days not in container_divisor_set: container_divisor_set.add(num_days) # N.B. if we observe *any* task container for this ""day"" we # operate as if *all* containers for this ""day"" are available; # this ensures better stability of task assignment across # processes at the edge of a cycle when task_containers may be # getting cleaned up all_containers.update( (num_days * self.expiring_objects_container_divisor) - i for i in range(utils.EXPIRER_CONTAINER_PER_DIVISOR)) if task_container_time not in all_containers: # XXX this is *now* untested (I fixed all the existing tests) self.logger.warning('found unexpected task_container time ' 'in the queue: %s' % task_container_time) # it might throw off per-process container selection if it's # removed by the next time we list the account, but we'll go # ahead and let the node that found it process it - better than # skipping it? all_containers.add(task_container_time) return sorted(all_containers) def select_task_containers_to_expire(self, task_account): """""" XXX docstring! """""" task_container_iter = \ self._iter_all_task_containers_as_ints(task_account) # this single process will handle *all* tasks in *all* task_containers if self.processes <= 0: return 0, 1, task_container_iter task_containers_to_share = self._get_all_expected_task_containers( task_container_iter) if len(task_containers_to_share) >= self.processes: # pigeon hole says each process will handle all of the tasks in at # least one container my_containers = utils.distribute_evenly( task_containers_to_share, self.processes)[self.process] return 0, 1, my_containers else: # somewhat more tricky, each container will be processed by # potentially multiple processes in parallel. assigned_procs_per_container = utils.distribute_evenly( range(self.processes), len(task_containers_to_share)) # This is the best way I've found (so far!) to determine which # expirer process is assigned to which task_containers and how many # other assigned procs this expirer is sharing with. for assigned_procs, task_container in zip( assigned_procs_per_container, task_containers_to_share): if self.process in assigned_procs: my_index = assigned_procs.index(self.process) return my_index, len(assigned_procs), [task_container] else: assert False, 'process was assigned no containers!?' # Only one expirer daemon assigned for each task # these config values are available to override at the command line, # blow-up now if they're wrong self.set_process_values(**kwargs) task_account = self.expiring_objects_account container_count, obj_count = \ self.swift.get_account_info(task_account) self.logger.info( 'Pass beginning for task account %(account)s; ' '%(container_count)s possible containers; ' '%(obj_count)s possible objects', { 'account': task_account, 'container_count': container_count, 'obj_count': obj_count}) my_index, divisor, my_containers = \ self.select_task_containers_to_expire(task_account) # For backwards compatibility with tests, the # task_account_container_iter is passed into # iter_task_to_expire rather than constructed within # iter_task_to_expire. task_account_container_iter = ( (task_account, str(task_container)) for task_container in my_containers) # delete_task_iter is a generator to yield a dict of # task_account, task_container, task_object, delete_timestamp, # target_path to handle delete actual object and pop the task # from the queue. delete_task_iter = \ self.round_robin_order(self.iter_task_to_expire( task_account_container_iter, my_index, divisor)) rate_limited_iter = RateLimitedIterator( delete_task_iter, elements_per_second=self.tasks_per_second) for delete_task in rate_limited_iter: pool.spawn_n(self.delete_object, **delete_task) # these config values are available to override at the command line, # blow-up now if they're wrong self.set_process_values(**kwargs) def set_process_values(self, **kwargs): self.processes = getattr(self, 'processes', 0) self.process = getattr(self, 'process', 0)","from random import random, shuffleMAX_TASK_CONTAINER_TO_CACHE = 10000 # randomized task container iteration can be useful if there's lots of # tasks in the queue under a configured delay_reaping self.randomized_task_container_iteration = config_true_value( conf.get('randomized_task_container_iteration', 'false')) # a few target containers or randomized task container iteration self.expiring_objects_account = AUTO_CREATE_ACCOUNT_PREFIX + \ (self.conf.get('expiring_objects_account_name') or 'expiring_objects') self.processes = int(self.conf.get('processes', 0)) self.process = int(self.conf.get('process', 0)) def iter_task_accounts_to_expire(self): """""" Yields (task_account, my_index, divisor). my_index and divisor is used to assign task obj to only one expirer. In expirer method, expirer calculates assigned index for each expiration task. The assigned index is in [0, 1, ..., divisor - 1]. Expirers have their own ""my_index"" for each task_account. Expirer whose ""my_index"" is equal to the assigned index executes the task. Because each expirer have different ""my_index"", task objects are executed by only one expirer. """""" if self.processes > 0: yield self.expiring_objects_account, self.process, self.processes else: yield self.expiring_objects_account, 0, 1 def iter_task_account_containers_to_expire(self, task_account): """""" Yields (task_account, task_container) tuples under the task_account if the delete at timestamp of task_container is past. N.B. When randomized_task_container_iteration is enabled, this method ""batches"" the pages of the account listings so that it can yield the task_containers in a randomized order. """""" container_list = [] task_container = str(c['name']) timestamp = self.delete_at_time_of_task_container(task_container) if timestamp > Timestamp.now(): break if not self.randomized_task_container_iteration: yield task_account, task_container # we never append to container_list container_list.append(task_container) if len(container_list) > MAX_TASK_CONTAINER_TO_CACHE: shuffle(container_list) for task_container in container_list: yield task_account, task_container container_list = [] shuffle(container_list) for task_container in container_list: yield task_account, task_container # Only one expirer daemon assigned for one task self.get_process_values(kwargs) for task_account, my_index, divisor in \ self.iter_task_accounts_to_expire(): container_count, obj_count = \ self.swift.get_account_info(task_account) # the task account is skipped if there are no task container if not container_count: continue self.logger.info( 'Pass beginning for task account %(account)s; ' '%(container_count)s possible containers; ' '%(obj_count)s possible objects', { 'account': task_account, 'container_count': container_count, 'obj_count': obj_count}) # For backwards compatibility with tests, the # task_account_container_iter is passed into # iter_task_to_expire rather than constructed within # iter_task_to_expire. task_account_container_iter = \ self.iter_task_account_containers_to_expire(task_account) # delete_task_iter is a generator to yield a dict of # task_account, task_container, task_object, delete_timestamp, # target_path to handle delete actual object and pop the task # from the queue. delete_task_iter = \ self.round_robin_order(self.iter_task_to_expire( task_account_container_iter, my_index, divisor)) rate_limited_iter = RateLimitedIterator( delete_task_iter, elements_per_second=self.tasks_per_second) for delete_task in rate_limited_iter: pool.spawn_n(self.delete_object, **delete_task) def get_process_values(self, kwargs):",474,241
openstack%2Fswift~919639,openstack/swift,master,I8dbea98f4cc9d571a3c0a034084db2ff77b10739,refactor: remove iter_task_accounts_to_expire,NEW,2024-05-15 02:23:22.000000000,2024-06-14 02:52:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-15 02:23:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/bd4fdf2096b57a634b24b22820d4e97907fda90e', 'message': 'refactor: remove iter_task_accounts_to_expire\n\nChange-Id: I8dbea98f4cc9d571a3c0a034084db2ff77b10739\n'}, {'number': 2, 'created': '2024-06-03 21:38:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/fa1c5726e108e334979913e35bc21184ca826771', 'message': 'refactor: remove iter_task_accounts_to_expire\n\nChange-Id: I8dbea98f4cc9d571a3c0a034084db2ff77b10739\n'}, {'number': 3, 'created': '2024-06-14 01:19:02.000000000', 'files': ['test/unit/obj/test_expirer.py', 'swift/obj/expirer.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/0398ae43dd728176a0823c4211a2cb74a49d6e72', 'message': 'refactor: remove iter_task_accounts_to_expire\n\nChange-Id: I8dbea98f4cc9d571a3c0a034084db2ff77b10739\n'}]",3,919639,0398ae43dd728176a0823c4211a2cb74a49d6e72,10,1,3,1179,,,0,"refactor: remove iter_task_accounts_to_expire

Change-Id: I8dbea98f4cc9d571a3c0a034084db2ff77b10739
",git fetch https://review.opendev.org/openstack/swift refs/changes/39/919639/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/obj/test_expirer.py', 'swift/obj/expirer.py']",2,bd4fdf2096b57a634b24b22820d4e97907fda90e,parallel-task-iter," def select_task_containers_to_expire(self, task_account): Look in the task_account for task_containers that may have expiration tasks that are ready to reap and return contextual information and the task containers to process. Specifically, the my_index and divisor values are used to assign task objects to only one expirer. In the iter_tasks_to_expire method, the expirer calculates the assigned index for each expiration task. The assigned index is in [0, 1, ..., divisor - 1]. When running multiple expirer processes each have their own ""my_index"". The expirer whose ""my_index"" is equal to the assigned index will reap object targeted by the task. Because each expirer is configured to have a unique ""my_index"", task objects are executed by only one expirer. When running with a single expirer process the assigned index and ""my_index"" are always 0, task objects are executed by the only expirer. :returns: (my_index, divisor, container_list) if self.processes <= 0: # this single process will handle *all* tasks in *all* # task_containers return 0, 1, container_list else: # each process will *list* all tasks in *all* task_containers # (and ""handle"" only a subset) return self.process, self.processes, container_list task_account = self.expiring_objects_account container_count, obj_count = \ self.swift.get_account_info(task_account) self.logger.info( 'Pass beginning for task account %(account)s; ' '%(container_count)s possible containers; ' '%(obj_count)s possible objects', { 'account': task_account, 'container_count': container_count, 'obj_count': obj_count}) my_index, divisor, my_containers = \ self.select_task_containers_to_expire(task_account) # For backwards compatibility with tests, the # task_account_container_iter is passed into # iter_task_to_expire rather than constructed within # iter_task_to_expire. task_account_container_iter = ( (task_account, str(task_container)) for task_container in my_containers) # delete_task_iter is a generator to yield a dict of # task_account, task_container, task_object, delete_timestamp, # target_path to handle delete actual object and pop the task # from the queue. delete_task_iter = \ self.round_robin_order(self.iter_task_to_expire( task_account_container_iter, my_index, divisor)) rate_limited_iter = RateLimitedIterator( delete_task_iter, elements_per_second=self.tasks_per_second) for delete_task in rate_limited_iter: pool.spawn_n(self.delete_object, **delete_task)"," def iter_task_accounts_to_expire(self): Yields (task_account, my_index, divisor). my_index and divisor is used to assign task obj to only one expirer. In expirer method, expirer calculates assigned index for each expiration task. The assigned index is in [0, 1, ..., divisor - 1]. Expirers have their own ""my_index"" for each task_account. Expirer whose ""my_index"" is equal to the assigned index executes the task. Because each expirer have different ""my_index"", task objects are executed by only one expirer. """""" if self.processes > 0: yield self.expiring_objects_account, self.process, self.processes else: yield self.expiring_objects_account, 0, 1 def iter_task_account_containers_to_expire(self, task_account): """""" Yields (task_account, task_container) tuples under the task_account if the delete at timestamp of task_container is past. for task_container in container_list: yield task_account, task_container for task_account, my_index, divisor in \ self.iter_task_accounts_to_expire(): container_count, obj_count = \ self.swift.get_account_info(task_account) # the task account is skipped if there are no task container if not container_count: continue self.logger.info( 'Pass beginning for task account %(account)s; ' '%(container_count)s possible containers; ' '%(obj_count)s possible objects', { 'account': task_account, 'container_count': container_count, 'obj_count': obj_count}) # For backwards compatibility with tests, the # task_account_container_iter is passed into # iter_task_to_expire rather than constructed within # iter_task_to_expire. task_account_container_iter = \ self.iter_task_account_containers_to_expire(task_account) # delete_task_iter is a generator to yield a dict of # task_account, task_container, task_object, delete_timestamp, # target_path to handle delete actual object and pop the task # from the queue. delete_task_iter = \ self.round_robin_order(self.iter_task_to_expire( task_account_container_iter, my_index, divisor)) rate_limited_iter = RateLimitedIterator( delete_task_iter, elements_per_second=self.tasks_per_second) for delete_task in rate_limited_iter: pool.spawn_n(self.delete_object, **delete_task)",79,57
openstack%2Ftrove-tempest-plugin~921589,openstack/trove-tempest-plugin,master,I96b0e9f22753ee9173a921919d78edf646a4fc89,Add support of sqlachemy 2.0,MERGED,2024-06-08 06:13:48.000000000,2024-06-14 02:41:36.000000000,2024-06-14 02:39:50.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2024-06-08 06:13:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-tempest-plugin/commit/01d76f000b5b7de5ed940282d9557422f606bc07', 'message': 'Add support of sqlachemy 2.0\n\nChange-Id: I96b0e9f22753ee9173a921919d78edf646a4fc89\n'}, {'number': 2, 'created': '2024-06-08 06:15:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-tempest-plugin/commit/c257a25c7b5b68e128f9aba77c04a7ac2f90bcbc', 'message': 'Add support of sqlachemy 2.0\n\nChange-Id: I96b0e9f22753ee9173a921919d78edf646a4fc89\n'}, {'number': 3, 'created': '2024-06-09 15:06:18.000000000', 'files': ['trove_tempest_plugin/tests/utils.py'], 'web_link': 'https://opendev.org/openstack/trove-tempest-plugin/commit/f557061d23f7f7dc335a196d4139abfebfadcfc5', 'message': 'Add support of sqlachemy 2.0\n\nChange-Id: I96b0e9f22753ee9173a921919d78edf646a4fc89\n'}]",0,921589,f557061d23f7f7dc335a196d4139abfebfadcfc5,10,2,3,26285,,,0,"Add support of sqlachemy 2.0

Change-Id: I96b0e9f22753ee9173a921919d78edf646a4fc89
",git fetch https://review.opendev.org/openstack/trove-tempest-plugin refs/changes/89/921589/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove_tempest_plugin/tests/utils.py', 'trove_tempest_plugin/tests/scenario/test_instance_actions.py', 'trove_tempest_plugin/tests/scenario/test_backup.py']",3,01d76f000b5b7de5ed940282d9557422f606bc07,sqlalchemy-20, keys = ret._mapping.keys() keys = ret._mapping.keys(), keys = ret.keys() keys = ret.keys(),7,6
openstack%2Fcharm-designate-bind~921990,openstack/charm-designate-bind,stable/2024.1,I87263ac24e5e4061757e5fb8bb167a43b2e85f93,Fix mocking for wrapped OpenStack releases,MERGED,2024-06-13 21:52:48.000000000,2024-06-14 02:28:40.000000000,2024-06-14 01:01:41.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-13 21:52:48.000000000', 'files': ['unit_tests/test_lib_charm_openstack_designate_bind.py'], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/0534df65a634dd343e5d00e2254013296d7bb8fd', 'message': 'Fix mocking for wrapped OpenStack releases\n\nA recent change in charms.openstack to support wrapped\nOpenStack releases caused unit tests to fail.\nThe unit tests failed because mocking was incompatible\nwith the change. This commit mocks the default_get_charm\ninstance where the charms.openstack change was breaking\nunit tests.\n\nCloses-Bug: 2066281\nChange-Id: I87263ac24e5e4061757e5fb8bb167a43b2e85f93\n(cherry picked from commit 456a418ba4daf1feb6a7425e254774d7301ef3fc)\n'}]",0,921990,0534df65a634dd343e5d00e2254013296d7bb8fd,9,3,1,2424,,,0,"Fix mocking for wrapped OpenStack releases

A recent change in charms.openstack to support wrapped
OpenStack releases caused unit tests to fail.
The unit tests failed because mocking was incompatible
with the change. This commit mocks the default_get_charm
instance where the charms.openstack change was breaking
unit tests.

Closes-Bug: 2066281
Change-Id: I87263ac24e5e4061757e5fb8bb167a43b2e85f93
(cherry picked from commit 456a418ba4daf1feb6a7425e254774d7301ef3fc)
",git fetch https://review.opendev.org/openstack/charm-designate-bind refs/changes/90/921990/1 && git format-patch -1 --stdout FETCH_HEAD,['unit_tests/test_lib_charm_openstack_designate_bind.py'],1,0534df65a634dd343e5d00e2254013296d7bb8fd,stable-2024.1," charm = designate_bind.DesignateBindCharm(release='icehouse') self.patch(""charms_openstack.charm.core.default_get_charm_instance"", new=lambda *_, **__: charm) actual_charm = designate_bind.DesignateBindCharm(release='icehouse') self.patch(""charms_openstack.charm.core.default_get_charm_instance"", new=lambda *_, **__: actual_charm)",,6,0
openstack%2Fnova~913652,openstack/nova,master,Iabba91026b6961729b908c17ae2fde138a68c73b,Fix the command to list hw_machine_type unset instances,NEW,2024-03-19 10:35:25.000000000,2024-06-14 02:21:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-03-19 10:35:25.000000000', 'files': ['nova/cmd/status.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/75c75305ca279deb3b9fd34ca108225474187512', 'message': 'Fix the command to list hw_machine_type unset instances\n\nChange-Id: Iabba91026b6961729b908c17ae2fde138a68c73b\n'}]",1,913652,75c75305ca279deb3b9fd34ca108225474187512,8,1,1,26721,,,0,"Fix the command to list hw_machine_type unset instances

Change-Id: Iabba91026b6961729b908c17ae2fde138a68c73b
",git fetch https://review.opendev.org/openstack/nova refs/changes/52/913652/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/cmd/status.py'],1,75c75305ca279deb3b9fd34ca108225474187512,,Use the `nova-manage libvirt list_unset_machine_type` command to list these instances. For more details see the following:,Use the `nova-manage machine_type list_unset` command to list these instances. For more details see the following:,2,2
openstack%2Fcharm-manila~917332,openstack/charm-manila,stable/2024.1,If5c80263a4f9eda25b40ba33f03ae6fb9d3063c9,Stable changes for stable/2024.1 (caracal) branch,NEW,2024-04-29 10:27:08.000000000,2024-06-14 02:14:16.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31203}]","[{'number': 1, 'created': '2024-04-29 10:27:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/da145436a783460dff215e720c120add65d0c49d', 'message': 'Stable changes for stable/2024.1 (caracal) branch\n\nThis patch converts stable/2024.1 into a stable maintenance branch. It:\n\n- modifies .gitreview to point to stable/2024.1\n- switches (test-)requirements*.txt -> (test-)requirements*.in\n  for pip-compile usage.\n- creates (test-)requirements-py*.txt from *.in using pip-compile for\n  the relevant python version.\n- Updates bundles to point to ceph/edge and 24.04/edge for ceph and\n  OVN charms.\n- Adds build.lock file to the reactive charms.\n- Syncs charm-helpers for classic charms.\n- Locks requirements.txt from requirements.in for ops machine charms.\n- Locks charms.openstack, zaza, zaza-openstack-tests, charm-helpers to\n  stable branches.\n\nChange-Id: If5c80263a4f9eda25b40ba33f03ae6fb9d3063c9\n'}, {'number': 2, 'created': '2024-05-01 11:44:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/12b89bbb305715209cf9d6efc8f40495c7590782', 'message': 'Stable changes for stable/2024.1 (caracal) branch\n\nThis patch converts stable/2024.1 into a stable maintenance branch. It:\n\n- modifies .gitreview to point to stable/2024.1\n- switches (test-)requirements*.txt -> (test-)requirements*.in\n  for pip-compile usage.\n- creates (test-)requirements-py*.txt from *.in using pip-compile for\n  the relevant python version.\n- Updates bundles to point to ceph/edge and 24.04/edge for ceph and\n  OVN charms.\n- Adds build.lock file to the reactive charms.\n- Syncs charm-helpers for classic charms.\n- Locks requirements.txt from requirements.in for ops machine charms.\n- Locks charms.openstack, zaza, zaza-openstack-tests, charm-helpers to\n  stable branches.\n\nChange-Id: If5c80263a4f9eda25b40ba33f03ae6fb9d3063c9\n'}, {'number': 3, 'created': '2024-05-14 15:02:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/83a39fa3837660f2635ec5ed95a4b61e59bd4821', 'message': 'Stable changes for stable/2024.1 (caracal) branch\n\nThis patch converts stable/2024.1 into a stable maintenance branch. It:\n\n- modifies .gitreview to point to stable/2024.1\n- switches (test-)requirements*.txt -> (test-)requirements*.in\n  for pip-compile usage.\n- creates (test-)requirements-py*.txt from *.in using pip-compile for\n  the relevant python version.\n- Updates bundles to point to ceph/edge and 24.04/edge for ceph and\n  OVN charms.\n- Adds build.lock file to the reactive charms.\n- Syncs charm-helpers for classic charms.\n- Locks requirements.txt from requirements.in for ops machine charms.\n- Locks charms.openstack, zaza, zaza-openstack-tests, charm-helpers to\n  stable branches.\n\nChange-Id: If5c80263a4f9eda25b40ba33f03ae6fb9d3063c9\n'}, {'number': 4, 'created': '2024-06-11 00:50:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/8cc8a15caabdfba7b2f1a49587b6efb9fb579196', 'message': 'Stable changes for stable/2024.1 (caracal) branch\n\nThis patch converts stable/2024.1 into a stable maintenance branch. It:\n\n- modifies .gitreview to point to stable/2024.1\n- switches (test-)requirements*.txt -> (test-)requirements*.in\n  for pip-compile usage.\n- creates (test-)requirements-py*.txt from *.in using pip-compile for\n  the relevant python version.\n- Updates bundles to point to ceph/edge and 24.04/edge for ceph and\n  OVN charms.\n- Adds build.lock file to the reactive charms.\n- Syncs charm-helpers for classic charms.\n- Locks requirements.txt from requirements.in for ops machine charms.\n- Locks charms.openstack, zaza, zaza-openstack-tests, charm-helpers to\n  stable branches.\n\nChange-Id: If5c80263a4f9eda25b40ba33f03ae6fb9d3063c9\n'}, {'number': 5, 'created': '2024-06-13 16:56:06.000000000', 'files': ['requirements.in', '.gitreview', 'src/tox.ini', 'test-requirements-py310.txt', 'src/tests/bundles/jammy-bobcat.yaml', 'merged-requirements-py38.txt', 'merged-requirements-py311.txt', 'src/tests/bundles/jammy-caracal.yaml', 'test-requirements-py38.txt', 'src/wheelhouse.txt', 'merged-requirements-py310.txt', 'test-requirements.in', 'src/test-requirements.in', 'src/build.lock', 'src/test-requirements-py38.txt', 'tox.ini', 'test-requirements-py311.txt', 'src/tests/bundles/jammy-antelope.yaml', 'src/tests/bundles/noble-caracal.yaml'], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/f9417252d06dd4ea0a1666c91b4df18dc67a23e7', 'message': 'Stable changes for stable/2024.1 (caracal) branch\n\nThis patch converts stable/2024.1 into a stable maintenance branch. It:\n\n- modifies .gitreview to point to stable/2024.1\n- switches (test-)requirements*.txt -> (test-)requirements*.in\n  for pip-compile usage.\n- creates (test-)requirements-py*.txt from *.in using pip-compile for\n  the relevant python version.\n- Updates bundles to point to ceph/edge and 24.04/edge for ceph and\n  OVN charms.\n- Adds build.lock file to the reactive charms.\n- Syncs charm-helpers for classic charms.\n- Locks requirements.txt from requirements.in for ops machine charms.\n- Locks charms.openstack, zaza, zaza-openstack-tests, charm-helpers to\n  stable branches.\n\nChange-Id: If5c80263a4f9eda25b40ba33f03ae6fb9d3063c9\n'}]",9,917332,f9417252d06dd4ea0a1666c91b4df18dc67a23e7,27,3,5,20870,,,0,"Stable changes for stable/2024.1 (caracal) branch

This patch converts stable/2024.1 into a stable maintenance branch. It:

- modifies .gitreview to point to stable/2024.1
- switches (test-)requirements*.txt -> (test-)requirements*.in
  for pip-compile usage.
- creates (test-)requirements-py*.txt from *.in using pip-compile for
  the relevant python version.
- Updates bundles to point to ceph/edge and 24.04/edge for ceph and
  OVN charms.
- Adds build.lock file to the reactive charms.
- Syncs charm-helpers for classic charms.
- Locks requirements.txt from requirements.in for ops machine charms.
- Locks charms.openstack, zaza, zaza-openstack-tests, charm-helpers to
  stable branches.

Change-Id: If5c80263a4f9eda25b40ba33f03ae6fb9d3063c9
",git fetch https://review.opendev.org/openstack/charm-manila refs/changes/32/917332/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.in', '.gitreview', 'src/tox.ini', 'test-requirements-py310.txt', 'src/tests/bundles/jammy-bobcat.yaml', 'merged-requirements-py38.txt', 'src/tests/bundles/jammy-caracal.yaml', 'test-requirements-py38.txt', 'src/wheelhouse.txt', 'merged-requirements-py310.txt', 'test-requirements.in', 'src/test-requirements.in', 'src/build.lock', 'src/test-requirements-py38.txt', 'tox.ini', 'src/tests/bundles/jammy-antelope.yaml', 'src/tests/bundles/noble-caracal.yaml']",17,da145436a783460dff215e720c120add65d0c49d,stable-2024.1, channel: squid/edge channel: squid/edge channel: squid/edge, channel: reef/edge channel: reef/edge channel: reef/edge,1668,45
openstack%2Fcharm-watcher~917357,openstack/charm-watcher,stable/2024.1,I83b53d470d13cbfc9a56c563829137d09eb4a656,Stable changes for stable/2024.1 (caracal) branch,NEW,2024-04-29 10:29:16.000000000,2024-06-14 02:13:49.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31203}]","[{'number': 1, 'created': '2024-04-29 10:29:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-watcher/commit/9dca58b757dcdd821806336227a1c7862bc9f90c', 'message': 'Stable changes for stable/2024.1 (caracal) branch\n\nThis patch converts stable/2024.1 into a stable maintenance branch. It:\n\n- modifies .gitreview to point to stable/2024.1\n- switches (test-)requirements*.txt -> (test-)requirements*.in\n  for pip-compile usage.\n- creates (test-)requirements-py*.txt from *.in using pip-compile for\n  the relevant python version.\n- Updates bundles to point to ceph/edge and 24.04/edge for ceph and\n  OVN charms.\n- Adds build.lock file to the reactive charms.\n- Syncs charm-helpers for classic charms.\n- Locks requirements.txt from requirements.in for ops machine charms.\n- Locks charms.openstack, zaza, zaza-openstack-tests, charm-helpers to\n  stable branches.\n\nChange-Id: I83b53d470d13cbfc9a56c563829137d09eb4a656\n'}, {'number': 2, 'created': '2024-05-01 11:45:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-watcher/commit/0a2ac794f6430cc4938c7e20d3fd8dd30502c239', 'message': 'Stable changes for stable/2024.1 (caracal) branch\n\nThis patch converts stable/2024.1 into a stable maintenance branch. It:\n\n- modifies .gitreview to point to stable/2024.1\n- switches (test-)requirements*.txt -> (test-)requirements*.in\n  for pip-compile usage.\n- creates (test-)requirements-py*.txt from *.in using pip-compile for\n  the relevant python version.\n- Updates bundles to point to ceph/edge and 24.04/edge for ceph and\n  OVN charms.\n- Adds build.lock file to the reactive charms.\n- Syncs charm-helpers for classic charms.\n- Locks requirements.txt from requirements.in for ops machine charms.\n- Locks charms.openstack, zaza, zaza-openstack-tests, charm-helpers to\n  stable branches.\n\nChange-Id: I83b53d470d13cbfc9a56c563829137d09eb4a656\n'}, {'number': 3, 'created': '2024-05-14 15:03:50.000000000', 'files': ['src/files/.gitkeep', 'requirements.in', '.gitreview', 'test-requirements.txt', 'src/tox.ini', 'test-requirements-py310.txt', 'src/tests/bundles/jammy-bobcat.yaml', 'merged-requirements-py38.txt', 'merged-requirements-py311.txt', 'src/tests/bundles/jammy-caracal.yaml', 'test-requirements-py38.txt', 'src/wheelhouse.txt', 'merged-requirements-py310.txt', 'test-requirements.in', 'src/test-requirements.in', 'src/build.lock', 'src/test-requirements-py38.txt', 'tox.ini', 'test-requirements-py311.txt', 'src/tests/bundles/jammy-antelope.yaml', 'src/tests/bundles/noble-caracal.yaml'], 'web_link': 'https://opendev.org/openstack/charm-watcher/commit/6c6fa50c88a01bf7889121fd231cab68168c55f1', 'message': 'Stable changes for stable/2024.1 (caracal) branch\n\nThis patch converts stable/2024.1 into a stable maintenance branch. It:\n\n- modifies .gitreview to point to stable/2024.1\n- switches (test-)requirements*.txt -> (test-)requirements*.in\n  for pip-compile usage.\n- creates (test-)requirements-py*.txt from *.in using pip-compile for\n  the relevant python version.\n- Updates bundles to point to ceph/edge and 24.04/edge for ceph and\n  OVN charms.\n- Adds build.lock file to the reactive charms.\n- Syncs charm-helpers for classic charms.\n- Locks requirements.txt from requirements.in for ops machine charms.\n- Locks charms.openstack, zaza, zaza-openstack-tests, charm-helpers to\n  stable branches.\n\nChange-Id: I83b53d470d13cbfc9a56c563829137d09eb4a656\n'}]",7,917357,6c6fa50c88a01bf7889121fd231cab68168c55f1,19,3,3,20870,,,0,"Stable changes for stable/2024.1 (caracal) branch

This patch converts stable/2024.1 into a stable maintenance branch. It:

- modifies .gitreview to point to stable/2024.1
- switches (test-)requirements*.txt -> (test-)requirements*.in
  for pip-compile usage.
- creates (test-)requirements-py*.txt from *.in using pip-compile for
  the relevant python version.
- Updates bundles to point to ceph/edge and 24.04/edge for ceph and
  OVN charms.
- Adds build.lock file to the reactive charms.
- Syncs charm-helpers for classic charms.
- Locks requirements.txt from requirements.in for ops machine charms.
- Locks charms.openstack, zaza, zaza-openstack-tests, charm-helpers to
  stable branches.

Change-Id: I83b53d470d13cbfc9a56c563829137d09eb4a656
",git fetch https://review.opendev.org/openstack/charm-watcher refs/changes/57/917357/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/files/.gitkeep', 'requirements.in', '.gitreview', 'test-requirements.txt', 'src/tox.ini', 'test-requirements-py310.txt', 'src/tests/bundles/jammy-bobcat.yaml', 'merged-requirements-py38.txt', 'src/tests/bundles/jammy-caracal.yaml', 'test-requirements-py38.txt', 'src/wheelhouse.txt', 'merged-requirements-py310.txt', 'test-requirements.in', 'src/test-requirements.in', 'src/build.lock', 'src/test-requirements-py38.txt', 'tox.ini', 'src/tests/bundles/jammy-antelope.yaml', 'src/tests/bundles/noble-caracal.yaml']",19,9dca58b757dcdd821806336227a1c7862bc9f90c,stable-2024.1, channel: 24.03/edge channel: 24.03/edge channel: squid/edge channel: squid/edge, channel: latest/edge channel: latest/edge channel: reef/edge channel: reef/edge,1583,66
openstack%2Fswift~914713,openstack/swift,master,I8879dbd13527233c878dff764ec411ce9619ee39,DNM expirer: new options to control task iteration,NEW,2024-03-28 20:41:08.000000000,2024-06-14 01:27:10.000000000,,"[{'_account_id': 1179}, {'_account_id': 7847}, {'_account_id': 22348}, {'_account_id': 34930}]","[{'number': 1, 'created': '2024-03-28 20:41:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0cf4fc9ee2ffb9cbc1b6061b497f6aa1d569d2e5', 'message': 'expirer: randomize task_container iteration\n\nChange-Id: I8879dbd13527233c878dff764ec411ce9619ee39\n'}, {'number': 2, 'created': '2024-03-28 23:12:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e4e5917364a1266b7fad3adcb7c24b5c8ea06fd7', 'message': 'expirer: randomize task_container iteration\n\nChange-Id: I8879dbd13527233c878dff764ec411ce9619ee39\n'}, {'number': 3, 'created': '2024-04-03 13:41:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/73e3b5f5a9f3fc0be552eb771c4aaceecc7aa1f1', 'message': 'expirer: randomize task_container iteration\n\nChange-Id: I8879dbd13527233c878dff764ec411ce9619ee39\n'}, {'number': 4, 'created': '2024-04-03 13:59:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5c245ad040c91e5899080f729ddde3755c38583d', 'message': 'expirer: randomize task_container iteration\n\nChange-Id: I8879dbd13527233c878dff764ec411ce9619ee39\n'}, {'number': 5, 'created': '2024-04-04 15:33:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7302e8e929942dfd61300ae3c0526771d0959936', 'message': 'expirer: randomize task_container iteration\n\nParticularly when using delay_reaping processing expirer containers in\norder is likely to impose a significant delay after restart before any\nobject-expirers begin to process DELETE requests.  In addition it\'s\nuseful to distribute the expirer container listing load randomly between\nall object nodes processing expirer task containers - since they all\nneed to list all ""due"" task containers, but don\'t necessarily need to\nprocess them in the same order.\n\nChange-Id: I8879dbd13527233c878dff764ec411ce9619ee39\n'}, {'number': 6, 'created': '2024-04-05 18:29:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/64aff91a2d9fd7e4ad399880557b41732133056d', 'message': 'expirer: randomize task_container iteration\n\nParticularly when using delay_reaping processing expirer containers in\norder is likely to impose a significant delay after restart before any\nobject-expirers begin to process DELETE requests.  In addition it\'s\nuseful to distribute the expirer container listing load randomly between\nall object nodes processing expirer task containers - since they all\nneed to list all ""due"" task containers, but don\'t necessarily need to\nprocess them in the same order.\n\nChange-Id: I8879dbd13527233c878dff764ec411ce9619ee39\n'}, {'number': 7, 'created': '2024-04-09 16:44:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4107f58699688085fc521b06a476969d834e3d0b', 'message': 'expirer: randomize task_container iteration\n\nParticularly when using delay_reaping processing expirer containers in\norder is likely to impose a significant delay after restart before any\nobject-expirers begin to process DELETE requests.  In addition it\'s\nuseful to distribute the expirer container listing load randomly between\nall object nodes processing expirer task containers - since they all\nneed to list all ""due"" task containers, but don\'t necessarily need to\nprocess them in the same order.\n\nChange-Id: I8879dbd13527233c878dff764ec411ce9619ee39\n'}, {'number': 8, 'created': '2024-04-16 19:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/cfa0637615e117bb81de61be19ef725bca801ca5', 'message': 'expirer: new options to control task iteration\n\nParticularly when using delay_reaping processing expirer containers in\norder is likely to impose a significant delay after restart before any\nobject-expirers begin to process DELETE requests.  In addition it\'s\nuseful to distribute the expirer container listing load randomly between\nall object nodes processing expirer task containers - since they all\nneed to list all ""due"" task containers, but don\'t necessarily need to\nprocess them in the same order.\n\nWith many expirer processes configured it can take many task_containers\nworth of tasks to fill the default MAX_OBJECTS_TO_CACHE and start\nprocessing DELETEs.  This effect is more pronounced with randomized task\nqueue iteration in that even if you get lucky and iterate a ready\ncontainer sooner you may not have enough objects to fill your cache and\nstart doing DELETEs.\n\nChange-Id: I8879dbd13527233c878dff764ec411ce9619ee39\n'}, {'number': 9, 'created': '2024-04-17 00:18:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/baaf3bd30e487d15ab6936d20e13fa6e60f10e95', 'message': 'expirer: new options to control task iteration\n\nParticularly when using delay_reaping processing expirer containers in\norder is likely to impose a significant delay after restart before any\nobject-expirers begin to process DELETE requests.  In addition it\'s\nuseful to distribute the expirer container listing load randomly between\nall object nodes processing expirer task containers - since they all\nneed to list all ""due"" task containers, but don\'t necessarily need to\nprocess them in the same order.\n\nWith many expirer processes configured it can take many task_containers\nworth of tasks to fill the default MAX_OBJECTS_TO_CACHE and start\nprocessing DELETEs.  This effect is more pronounced with randomized task\nqueue iteration in that even if you get lucky and iterate a ready\ncontainer sooner you may not have enough objects to fill your cache and\nstart doing DELETEs.\n\nChange-Id: I8879dbd13527233c878dff764ec411ce9619ee39\n'}, {'number': 10, 'created': '2024-04-17 15:13:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ba64ac6c882c3ccb3709af218f0766813532b6a7', 'message': 'expirer: new options to control task iteration\n\nParticularly when using delay_reaping processing expirer containers in\norder is likely to impose a significant delay after restart before any\nobject-expirers begin to process DELETE requests.  In addition it\'s\nuseful to distribute the expirer container listing load randomly between\nall object nodes processing expirer task containers - since they all\nneed to list all ""due"" task containers, but don\'t necessarily need to\nprocess them in the same order.\n\nWith many expirer processes configured it can take many task_containers\nworth of tasks to fill the default MAX_OBJECTS_TO_CACHE and start\nprocessing DELETEs.  This effect is more pronounced with randomized task\nqueue iteration in that even if you get lucky and iterate a ready\ncontainer sooner you may not have enough objects to fill your cache and\nstart doing DELETEs.\n\nChange-Id: I8879dbd13527233c878dff764ec411ce9619ee39\n'}, {'number': 11, 'created': '2024-04-18 16:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5d47c76b0ee5c49776f483995b726aaa96270508', 'message': 'expirer: new options to control task iteration\n\nParticularly when using delay_reaping processing expirer containers in\norder is likely to impose a significant delay after restart before any\nobject-expirers begin to process DELETE requests.  In addition it\'s\nuseful to distribute the expirer container listing load randomly between\nall object nodes processing expirer task containers - since they all\nneed to list all ""due"" task containers, but don\'t necessarily need to\nprocess them in the same order.\n\nWith many expirer processes configured it can take many task_containers\nworth of tasks to fill the default MAX_OBJECTS_TO_CACHE and start\nprocessing DELETEs.  This effect is more pronounced with randomized task\nqueue iteration in that even if you get lucky and iterate a ready\ncontainer sooner you may not have enough objects to fill your cache and\nstart doing DELETEs.\n\nChange-Id: I8879dbd13527233c878dff764ec411ce9619ee39\n'}, {'number': 12, 'created': '2024-04-18 18:32:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5652a06b7b7b04579c7c4c9a998d341c7dfc7c8c', 'message': 'expirer: new options to control task iteration\n\nParticularly when using delay_reaping processing expirer containers in\norder is likely to impose a significant delay after restart before any\nobject-expirers begin to process DELETE requests.  In addition it\'s\nuseful to distribute the expirer container listing load randomly between\nall object nodes processing expirer task containers - since they all\nneed to list all ""due"" task containers, but don\'t necessarily need to\nprocess them in the same order.\n\nWith many expirer processes configured it can take many task_containers\nworth of tasks to fill the default MAX_OBJECTS_TO_CACHE and start\nprocessing DELETEs.  This effect is more pronounced with randomized task\nqueue iteration in that even if you get lucky and iterate a ready\ncontainer sooner you may not have enough objects to fill your cache and\nstart doing DELETEs.\n\nChange-Id: I8879dbd13527233c878dff764ec411ce9619ee39\n'}, {'number': 13, 'created': '2024-04-19 14:11:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0ace9d59ebb766fba1911eb515a45063e40780d2', 'message': 'expirer: new options to control task iteration\n\nParticularly when using delay_reaping processing expirer containers in\norder is likely to impose a significant delay after restart before any\nobject-expirers begin to process DELETE requests.  In addition it\'s\nuseful to distribute the expirer container listing load randomly between\nall object nodes processing expirer task containers - since they all\nneed to list all ""due"" task containers, but don\'t necessarily need to\nprocess them in the same order.\n\nWith many expirer processes configured it can take many task_containers\nworth of tasks to fill the default MAX_OBJECTS_TO_CACHE and start\nprocessing DELETEs.  This effect is more pronounced with randomized task\nqueue iteration in that even if you get lucky and iterate a ready\ncontainer sooner you may not have enough objects to fill your cache and\nstart doing DELETEs.\n\nChange-Id: I8879dbd13527233c878dff764ec411ce9619ee39\n'}, {'number': 14, 'created': '2024-05-01 18:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/38e331570633496a7c6fdfa3139d5e89407e9d9b', 'message': 'expirer: new options to control task iteration\n\nParticularly when using delay_reaping processing expirer containers in\norder is likely to impose a significant delay after restart before any\nobject-expirers begin to process DELETE requests.  In addition it\'s\nuseful to distribute the expirer container listing load randomly between\nall object nodes processing expirer task containers - since they all\nneed to list all ""due"" task containers, but don\'t necessarily need to\nprocess them in the same order.\n\nWith many expirer processes configured it can take many task_containers\nworth of tasks to fill the default MAX_OBJECTS_TO_CACHE and start\nprocessing DELETEs.  This effect is more pronounced with randomized task\nqueue iteration in that even if you get lucky and iterate a ready\ncontainer sooner you may not have enough objects to fill your cache and\nstart doing DELETEs.\n\nChange-Id: I8879dbd13527233c878dff764ec411ce9619ee39\n'}, {'number': 15, 'created': '2024-05-17 15:11:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5ec63fb12beeb6446660bda9706c8907416fa8e4', 'message': 'DNM expirer: new options to control task iteration\n\nWe\'re carrying this patch and actively working on extending the design\nin follow-up changes.  It is not currently appropriate to merge because\nit contains backwards compatibility shims that are only relevant to\nprevious un-released versions of this patch which will be removed.\n\nParticularly when using delay_reaping processing expirer task containers\nin order is likely to impose a significant delay after restart before\nany object-expirers begin to process DELETE requests.  In addition it\'s\nuseful to distribute the expirer container listing load randomly between\nall object nodes processing expirer task containers - since they all\nneed to list all ""due"" task containers, but don\'t necessarily need to\nprocess them in the same order.\n\nWith many expirer processes configured it can take many task_containers\nworth of tasks to fill the default MAX_OBJECTS_TO_CACHE and start\nprocessing DELETEs.  This effect is more pronounced with randomized task\nqueue iteration in that even if you get lucky and iterate a ready\ncontainer sooner you may not have enough objects to fill your cache and\nstart doing DELETEs.\n\nChange-Id: I8879dbd13527233c878dff764ec411ce9619ee39\n'}, {'number': 16, 'created': '2024-05-21 18:04:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e113e4ed3af20387e498dca84c478378ec2c649c', 'message': 'DNM expirer: new options to control task iteration\n\nWe\'re carrying this patch and actively working on extending the design\nin follow-up changes.  It is not currently appropriate to merge because\nit contains backwards compatibility shims that are only relevant to\nprevious un-released versions of this patch which will be removed.\n\nParticularly when using delay_reaping processing expirer task containers\nin order is likely to impose a significant delay after restart before\nany object-expirers begin to process DELETE requests.  In addition it\'s\nuseful to distribute the expirer container listing load randomly between\nall object nodes processing expirer task containers - since they all\nneed to list all ""due"" task containers, but don\'t necessarily need to\nprocess them in the same order.\n\nWith many expirer processes configured it can take many task_containers\nworth of tasks to fill the default MAX_OBJECTS_TO_CACHE and start\nprocessing DELETEs.  This effect is more pronounced with randomized task\nqueue iteration in that even if you get lucky and iterate a ready\ncontainer sooner you may not have enough objects to fill your cache and\nstart doing DELETEs.\n\nChange-Id: I8879dbd13527233c878dff764ec411ce9619ee39\n'}, {'number': 17, 'created': '2024-05-25 13:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/616ea0129250a4adc062bb953096221259687cee', 'message': 'DNM expirer: new options to control task iteration\n\nWe\'re carrying this patch and actively working on extending the design\nin follow-up changes.  It is not currently appropriate to merge because\nit contains backwards compatibility shims that are only relevant to\nprevious un-released versions of this patch which will be removed.\n\nParticularly when using delay_reaping processing expirer task containers\nin order is likely to impose a significant delay after restart before\nany object-expirers begin to process DELETE requests.  In addition it\'s\nuseful to distribute the expirer container listing load randomly between\nall object nodes processing expirer task containers - since they all\nneed to list all ""due"" task containers, but don\'t necessarily need to\nprocess them in the same order.\n\nWith many expirer processes configured it can take many task_containers\nworth of tasks to fill the default MAX_OBJECTS_TO_CACHE and start\nprocessing DELETEs.  This effect is more pronounced with randomized task\nqueue iteration in that even if you get lucky and iterate a ready\ncontainer sooner you may not have enough objects to fill your cache and\nstart doing DELETEs.\n\nChange-Id: I8879dbd13527233c878dff764ec411ce9619ee39\n'}, {'number': 18, 'created': '2024-05-28 17:00:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/521ab60b8e0c22250af8b8a67f59174d4f233850', 'message': 'DNM expirer: new options to control task iteration\n\nWe\'re carrying this patch and actively working on extending the design\nin follow-up changes.  It is not currently appropriate to merge because\nit contains backwards compatibility shims that are only relevant to\nprevious un-released versions of this patch which will be removed.\n\nParticularly when using delay_reaping processing expirer task containers\nin order is likely to impose a significant delay after restart before\nany object-expirers begin to process DELETE requests.  In addition it\'s\nuseful to distribute the expirer container listing load randomly between\nall object nodes processing expirer task containers - since they all\nneed to list all ""due"" task containers, but don\'t necessarily need to\nprocess them in the same order.\n\nWith many expirer processes configured it can take many task_containers\nworth of tasks to fill the default MAX_OBJECTS_TO_CACHE and start\nprocessing DELETEs.  This effect is more pronounced with randomized task\nqueue iteration in that even if you get lucky and iterate a ready\ncontainer sooner you may not have enough objects to fill your cache and\nstart doing DELETEs.\n\nChange-Id: I8879dbd13527233c878dff764ec411ce9619ee39\n'}, {'number': 19, 'created': '2024-05-31 20:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9d6ab9ddffdfb76430e842056082b46b82243625', 'message': 'DNM expirer: new options to control task iteration\n\nWe\'re carrying this patch and actively working on extending the design\nin follow-up changes.  It is not currently appropriate to merge because\nit contains backwards compatibility shims that are only relevant to\nprevious un-released versions of this patch which will be removed.\n\nParticularly when using delay_reaping processing expirer task containers\nin order is likely to impose a significant delay after restart before\nany object-expirers begin to process DELETE requests.  In addition it\'s\nuseful to distribute the expirer container listing load randomly between\nall object nodes processing expirer task containers - since they all\nneed to list all ""due"" task containers, but don\'t necessarily need to\nprocess them in the same order.\n\nWith many expirer processes configured it can take many task_containers\nworth of tasks to fill the default MAX_OBJECTS_TO_CACHE and start\nprocessing DELETEs.  This effect is more pronounced with randomized task\nqueue iteration in that even if you get lucky and iterate a ready\ncontainer sooner you may not have enough objects to fill your cache and\nstart doing DELETEs.\n\nChange-Id: I8879dbd13527233c878dff764ec411ce9619ee39\n'}, {'number': 20, 'created': '2024-06-03 22:24:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/689ae8e8a1e7223ff20b44afa5c1790187751bfd', 'message': 'DNM expirer: new options to control task iteration\n\nWe\'re carrying this patch and actively working on extending the design\nin follow-up changes.  It is not currently appropriate to merge because\nit contains backwards compatibility shims that are only relevant to\nprevious un-released versions of this patch which will be removed.\n\nParticularly when using delay_reaping processing expirer task containers\nin order is likely to impose a significant delay after restart before\nany object-expirers begin to process DELETE requests.  In addition it\'s\nuseful to distribute the expirer container listing load randomly between\nall object nodes processing expirer task containers - since they all\nneed to list all ""due"" task containers, but don\'t necessarily need to\nprocess them in the same order.\n\nWith many expirer processes configured it can take many task_containers\nworth of tasks to fill the default MAX_OBJECTS_TO_CACHE and start\nprocessing DELETEs.  This effect is more pronounced with randomized task\nqueue iteration in that even if you get lucky and iterate a ready\ncontainer sooner you may not have enough objects to fill your cache and\nstart doing DELETEs.\n\nChange-Id: I8879dbd13527233c878dff764ec411ce9619ee39\n'}, {'number': 21, 'created': '2024-06-04 18:11:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/cee4450fb53a44f0e7f062c89e19b41f29a94953', 'message': 'DNM expirer: new options to control task iteration\n\nWe\'re carrying this patch and actively working on extending the design\nin follow-up changes.  It is not currently appropriate to merge because\nit contains backwards compatibility shims that are only relevant to\nprevious un-released versions of this patch which will be removed.\n\nParticularly when using delay_reaping processing expirer task containers\nin order is likely to impose a significant delay after restart before\nany object-expirers begin to process DELETE requests.  In addition it\'s\nuseful to distribute the expirer container listing load randomly between\nall object nodes processing expirer task containers - since they all\nneed to list all ""due"" task containers, but don\'t necessarily need to\nprocess them in the same order.\n\nWith many expirer processes configured it can take many task_containers\nworth of tasks to fill the default MAX_OBJECTS_TO_CACHE and start\nprocessing DELETEs.  This effect is more pronounced with randomized task\nqueue iteration in that even if you get lucky and iterate a ready\ncontainer sooner you may not have enough objects to fill your cache and\nstart doing DELETEs.\n\nChange-Id: I8879dbd13527233c878dff764ec411ce9619ee39\n'}, {'number': 22, 'created': '2024-06-04 21:05:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/193cffa6863064d8452351e314cbee69bdb9cd3f', 'message': 'DNM expirer: new options to control task iteration\n\nWe\'re carrying this patch and actively working on extending the design\nin follow-up changes.  It is not currently appropriate to merge because\nit contains backwards compatibility shims that are only relevant to\nprevious un-released versions of this patch which will be removed.\n\nParticularly when using delay_reaping processing expirer task containers\nin order is likely to impose a significant delay after restart before\nany object-expirers begin to process DELETE requests.  In addition it\'s\nuseful to distribute the expirer container listing load randomly between\nall object nodes processing expirer task containers - since they all\nneed to list all ""due"" task containers, but don\'t necessarily need to\nprocess them in the same order.\n\nWith many expirer processes configured it can take many task_containers\nworth of tasks to fill the default MAX_OBJECTS_TO_CACHE and start\nprocessing DELETEs.  This effect is more pronounced with randomized task\nqueue iteration in that even if you get lucky and iterate a ready\ncontainer sooner you may not have enough objects to fill your cache and\nstart doing DELETEs.\n\nChange-Id: I8879dbd13527233c878dff764ec411ce9619ee39\n'}, {'number': 23, 'created': '2024-06-13 23:07:27.000000000', 'files': ['test/unit/obj/test_expirer.py', 'etc/object-expirer.conf-sample', 'swift/obj/expirer.py', 'etc/object-server.conf-sample'], 'web_link': 'https://opendev.org/openstack/swift/commit/cdab2f1294fabddb35e3ee71f3e8a2e13197c7f5', 'message': 'DNM expirer: new options to control task iteration\n\nWe\'re carrying this patch and actively working on extending the design\nin follow-up changes.  It is not currently appropriate to merge because\nit contains backwards compatibility shims that are only relevant to\nprevious un-released versions of this patch which will be removed.\n\nParticularly when using delay_reaping processing expirer task containers\nin order is likely to impose a significant delay after restart before\nany object-expirers begin to process DELETE requests.  In addition it\'s\nuseful to distribute the expirer container listing load randomly between\nall object nodes processing expirer task containers - since they all\nneed to list all ""due"" task containers, but don\'t necessarily need to\nprocess them in the same order.\n\nWith many expirer processes configured it can take many task_containers\nworth of tasks to fill the default MAX_OBJECTS_TO_CACHE and start\nprocessing DELETEs.  This effect is more pronounced with randomized task\nqueue iteration in that even if you get lucky and iterate a ready\ncontainer sooner you may not have enough objects to fill your cache and\nstart doing DELETEs.\n\nChange-Id: I8879dbd13527233c878dff764ec411ce9619ee39\n'}]",124,914713,cdab2f1294fabddb35e3ee71f3e8a2e13197c7f5,94,4,23,1179,,,0,"DNM expirer: new options to control task iteration

We're carrying this patch and actively working on extending the design
in follow-up changes.  It is not currently appropriate to merge because
it contains backwards compatibility shims that are only relevant to
previous un-released versions of this patch which will be removed.

Particularly when using delay_reaping processing expirer task containers
in order is likely to impose a significant delay after restart before
any object-expirers begin to process DELETE requests.  In addition it's
useful to distribute the expirer container listing load randomly between
all object nodes processing expirer task containers - since they all
need to list all ""due"" task containers, but don't necessarily need to
process them in the same order.

With many expirer processes configured it can take many task_containers
worth of tasks to fill the default MAX_OBJECTS_TO_CACHE and start
processing DELETEs.  This effect is more pronounced with randomized task
queue iteration in that even if you get lucky and iterate a ready
container sooner you may not have enough objects to fill your cache and
start doing DELETEs.

Change-Id: I8879dbd13527233c878dff764ec411ce9619ee39
",git fetch https://review.opendev.org/openstack/swift refs/changes/13/914713/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/obj/test_expirer.py', 'swift/obj/expirer.py']",2,0cf4fc9ee2ffb9cbc1b6061b497f6aa1d569d2e5,task-container-per-day,"from random import random, shuffleMAX_TASK_CONTAINER_TO_CACHE = 10000 container_list = [] container_list.append(task_container) if len(container_list) > MAX_TASK_CONTAINER_TO_CACHE: shuffle(container_list) for task_container in container_list: yield task_container container_list = [] shuffle(container_list) for task_container in container_list:",from random import random,208,10
openstack%2Fswift~920452,openstack/swift,master,I5ea9e6dc8b44c8c5f55837debe24dd76be7d6248,Configurable object_expirer_task_container_per_day,NEW,2024-05-25 13:36:02.000000000,2024-06-14 01:27:04.000000000,,"[{'_account_id': 22348}, {'_account_id': 34930}]","[{'number': 1, 'created': '2024-05-25 13:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/517e20ffae91c9302eb467996b271073bbadd1a0', 'message': 'wip: make per_day configurable\n\nChange-Id: I5ea9e6dc8b44c8c5f55837debe24dd76be7d6248\n'}, {'number': 2, 'created': '2024-05-28 17:00:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/45c067912d6b37cbeb41caaaf33cf5e664b5b939', 'message': 'configurable object_expirer_task_container_per_day\n\nChange-Id: I5ea9e6dc8b44c8c5f55837debe24dd76be7d6248\n'}, {'number': 3, 'created': '2024-05-29 13:42:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8480d21430ed80f324c899397d991e9506853c29', 'message': 'configurable object_expirer_task_container_per_day\n\nChange-Id: I5ea9e6dc8b44c8c5f55837debe24dd76be7d6248\n'}, {'number': 4, 'created': '2024-05-31 20:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b61cf5170d46fb78d2f56e6f0ff8537bc162c466', 'message': 'configurable object_expirer_task_container_per_day\n\nChange-Id: I5ea9e6dc8b44c8c5f55837debe24dd76be7d6248\n'}, {'number': 5, 'created': '2024-06-04 16:30:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c6e36d1e962e8eba623bdb086b5522e40368339e', 'message': 'Configurable object_expirer_task_container_per_day\n\nIn order to better scale the object-expirer cluster operators may\nconfigure the object_expirer_task_container_per_day to increase the\nnumber of task_containers created per day beyond the default value of\none hundred to any value that better matches their clusters topology and\nuserage of the x-delete-at feature.\n\nUpgradeImpact: Two existing expirer options have been deprecated\n\n * expiring_objects_container_divisor\n * expiring_objects_account_name\n\nThe upstream maintainers are not aware of any clusters where these have\nbeen configured to non-default values.\n\nOperators are encouraged to remove their ""container_divisor"" setting and\nuse the default value of 86400 which will make more sense with\n""task_container_per_day"".\n\nIf a cluter was deployed with a non-standard ""account_name"" operators\nshould remove the option from all configs so they are using a supported\nconfiguration going forward, but will need to deploy a stand-alone\nlegacy expirer config to clean-up old expiration tasks from the\npreviously configured account name.\n\nChange-Id: I5ea9e6dc8b44c8c5f55837debe24dd76be7d6248\n'}, {'number': 6, 'created': '2024-06-13 23:07:27.000000000', 'files': ['swift/obj/server.py', 'test/unit/proxy/test_server.py', 'test/unit/proxy/controllers/test_obj.py', 'test/unit/obj/test_server.py', 'swift/common/utils/__init__.py', 'swift/proxy/controllers/obj.py', 'swift/obj/expirer.py', 'swift/proxy/server.py', 'etc/object-server.conf-sample', 'test/unit/obj/test_expirer.py', 'etc/object-expirer.conf-sample', 'swift/common/middleware/slo.py', 'test/unit/common/middleware/test_slo.py', 'etc/proxy-server.conf-sample', 'test/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/c503d937bdf0898e739f4febf2b5f416d3af87e9', 'message': 'Configurable object_expirer_task_container_per_day\n\nIn order to better scale the object-expirer cluster operators may\nconfigure object_expirer_task_container_per_day to increase the number\nof task_containers created per day beyond the default value of one\nhundred to any value that better matches their clusters topology and\nusage of the x-delete-at feature.\n\nUpgradeImpact: Two existing expirer options have been deprecated\n\n * expiring_objects_container_divisor\n * expiring_objects_account_name\n\nThe upstream maintainers are not aware of any clusters where these have\nbeen configured to non-default values.\n\nOperators are encouraged to remove their ""container_divisor"" setting and\nuse the default value of 86400 which will make more sense with\n""task_container_per_day"".\n\nIf a cluter was deployed with a non-standard ""account_name"" operators\nshould remove the option from all configs so they are using a supported\nconfiguration going forward, but will need to deploy a stand-alone\nlegacy expirer config to clean-up old expiration tasks from the\npreviously configured account name.\n\nChange-Id: I5ea9e6dc8b44c8c5f55837debe24dd76be7d6248\n'}]",35,920452,c503d937bdf0898e739f4febf2b5f416d3af87e9,25,2,6,1179,,,0,"Configurable object_expirer_task_container_per_day

In order to better scale the object-expirer cluster operators may
configure object_expirer_task_container_per_day to increase the number
of task_containers created per day beyond the default value of one
hundred to any value that better matches their clusters topology and
usage of the x-delete-at feature.

UpgradeImpact: Two existing expirer options have been deprecated

 * expiring_objects_container_divisor
 * expiring_objects_account_name

The upstream maintainers are not aware of any clusters where these have
been configured to non-default values.

Operators are encouraged to remove their ""container_divisor"" setting and
use the default value of 86400 which will make more sense with
""task_container_per_day"".

If a cluter was deployed with a non-standard ""account_name"" operators
should remove the option from all configs so they are using a supported
configuration going forward, but will need to deploy a stand-alone
legacy expirer config to clean-up old expiration tasks from the
previously configured account name.

Change-Id: I5ea9e6dc8b44c8c5f55837debe24dd76be7d6248
",git fetch https://review.opendev.org/openstack/swift refs/changes/52/920452/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/server.py', 'test/unit/proxy/test_server.py', 'test/unit/proxy/controllers/test_obj.py', 'test/unit/obj/test_server.py', 'swift/common/utils/__init__.py', 'swift/proxy/controllers/obj.py', 'swift/obj/expirer.py', 'swift/proxy/server.py', 'etc/object-server.conf-sample', 'test/unit/obj/test_expirer.py', 'etc/object-expirer.conf-sample', 'swift/common/middleware/slo.py', 'test/unit/common/middleware/test_slo.py', 'etc/proxy-server.conf-sample', 'test/unit/common/test_utils.py']",15,517e20ffae91c9302eb467996b271073bbadd1a0,task-container-per-day,,"class TestGetExpirerContainer(unittest.TestCase): @mock.patch.object(utils, 'hash_path', return_value=hex(101)[2:]) def test_get_expirer_container(self, mock_hash_path): container = utils.get_expirer_container(1234, 20, 'a', 'c', 'o') self.assertEqual(container, '0000001219') container = utils.get_expirer_container(1234, 200, 'a', 'c', 'o') self.assertEqual(container, '0000001199') ",324,146
openstack%2Fcharm-designate-bind~917317,openstack/charm-designate-bind,stable/2024.1,Icc133d99ba58e0935d83bf7916cb122a8b2fa2c0,Stable changes for stable/2024.1 (caracal) branch,MERGED,2024-04-29 10:25:52.000000000,2024-06-14 01:01:42.000000000,2024-06-14 01:01:42.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31203}]","[{'number': 1, 'created': '2024-04-29 10:25:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/04a03ce9492c7cbca633ae9a109796b986828fd9', 'message': 'Stable changes for stable/2024.1 (caracal) branch\n\nThis patch converts stable/2024.1 into a stable maintenance branch. It:\n\n- modifies .gitreview to point to stable/2024.1\n- switches (test-)requirements*.txt -> (test-)requirements*.in\n  for pip-compile usage.\n- creates (test-)requirements-py*.txt from *.in using pip-compile for\n  the relevant python version.\n- Updates bundles to point to ceph/edge and 24.04/edge for ceph and\n  OVN charms.\n- Adds build.lock file to the reactive charms.\n- Syncs charm-helpers for classic charms.\n- Locks requirements.txt from requirements.in for ops machine charms.\n- Locks charms.openstack, zaza, zaza-openstack-tests, charm-helpers to\n  stable branches.\n\nChange-Id: Icc133d99ba58e0935d83bf7916cb122a8b2fa2c0\n'}, {'number': 2, 'created': '2024-05-01 11:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/8694c3a8fe434a15ff1c6a89b9b59bc715c82aef', 'message': 'Stable changes for stable/2024.1 (caracal) branch\n\nThis patch converts stable/2024.1 into a stable maintenance branch. It:\n\n- modifies .gitreview to point to stable/2024.1\n- switches (test-)requirements*.txt -> (test-)requirements*.in\n  for pip-compile usage.\n- creates (test-)requirements-py*.txt from *.in using pip-compile for\n  the relevant python version.\n- Updates bundles to point to ceph/edge and 24.04/edge for ceph and\n  OVN charms.\n- Adds build.lock file to the reactive charms.\n- Syncs charm-helpers for classic charms.\n- Locks requirements.txt from requirements.in for ops machine charms.\n- Locks charms.openstack, zaza, zaza-openstack-tests, charm-helpers to\n  stable branches.\n\nChange-Id: Icc133d99ba58e0935d83bf7916cb122a8b2fa2c0\n'}, {'number': 3, 'created': '2024-05-14 14:41:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/d311ee5f47decc1db1d7649f7b0d35d00932e346', 'message': 'Stable changes for stable/2024.1 (caracal) branch\n\nThis patch converts stable/2024.1 into a stable maintenance branch. It:\n\n- modifies .gitreview to point to stable/2024.1\n- switches (test-)requirements*.txt -> (test-)requirements*.in\n  for pip-compile usage.\n- creates (test-)requirements-py*.txt from *.in using pip-compile for\n  the relevant python version.\n- Updates bundles to point to ceph/edge and 24.04/edge for ceph and\n  OVN charms.\n- Adds build.lock file to the reactive charms.\n- Syncs charm-helpers for classic charms.\n- Locks requirements.txt from requirements.in for ops machine charms.\n- Locks charms.openstack, zaza, zaza-openstack-tests, charm-helpers to\n  stable branches.\n\nChange-Id: Icc133d99ba58e0935d83bf7916cb122a8b2fa2c0\n'}, {'number': 4, 'created': '2024-05-16 14:33:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/5ff26e711f62058a0220427728c6eb4027a483be', 'message': 'Stable changes for stable/2024.1 (caracal) branch\n\nThis patch converts stable/2024.1 into a stable maintenance branch. It:\n\n- modifies .gitreview to point to stable/2024.1\n- switches (test-)requirements*.txt -> (test-)requirements*.in\n  for pip-compile usage.\n- creates (test-)requirements-py*.txt from *.in using pip-compile for\n  the relevant python version.\n- Updates bundles to point to ceph/edge and 24.04/edge for ceph and\n  OVN charms.\n- Adds build.lock file to the reactive charms.\n- Syncs charm-helpers for classic charms.\n- Locks requirements.txt from requirements.in for ops machine charms.\n- Locks charms.openstack, zaza, zaza-openstack-tests, charm-helpers to\n  stable branches.\n\nChange-Id: Icc133d99ba58e0935d83bf7916cb122a8b2fa2c0\n'}, {'number': 5, 'created': '2024-06-13 16:23:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/59dc72ac657b8bcb0e59299009b72cf13db0c9a3', 'message': 'Stable changes for stable/2024.1 (caracal) branch\n\nThis patch converts stable/2024.1 into a stable maintenance branch. It:\n\n- modifies .gitreview to point to stable/2024.1\n- switches (test-)requirements*.txt -> (test-)requirements*.in\n  for pip-compile usage.\n- creates (test-)requirements-py*.txt from *.in using pip-compile for\n  the relevant python version.\n- Updates bundles to point to ceph/edge and 24.04/edge for ceph and\n  OVN charms.\n- Adds build.lock file to the reactive charms.\n- Syncs charm-helpers for classic charms.\n- Locks requirements.txt from requirements.in for ops machine charms.\n- Locks charms.openstack, zaza, zaza-openstack-tests, charm-helpers to\n  stable branches.\n\nChange-Id: Icc133d99ba58e0935d83bf7916cb122a8b2fa2c0\n'}, {'number': 6, 'created': '2024-06-13 21:52:48.000000000', 'files': ['requirements.in', '.gitreview', 'src/tox.ini', 'test-requirements-py310.txt', 'merged-requirements-py38.txt', 'merged-requirements-py311.txt', 'test-requirements-py38.txt', 'src/wheelhouse.txt', 'charmcraft.yaml', 'merged-requirements-py310.txt', 'test-requirements.in', 'src/test-requirements.in', 'src/build.lock', 'src/test-requirements-py38.txt', 'tox.ini', 'test-requirements-py311.txt'], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/9bc8a384a11e0fa0214cc99a6c135e7ffc4d9ed2', 'message': 'Stable changes for stable/2024.1 (caracal) branch\n\nThis patch converts stable/2024.1 into a stable maintenance branch. It:\n\n- modifies .gitreview to point to stable/2024.1\n- switches (test-)requirements*.txt -> (test-)requirements*.in\n  for pip-compile usage.\n- creates (test-)requirements-py*.txt from *.in using pip-compile for\n  the relevant python version.\n- Updates bundles to point to ceph/edge and 24.04/edge for ceph and\n  OVN charms.\n- Adds build.lock file to the reactive charms.\n- Syncs charm-helpers for classic charms.\n- Locks requirements.txt from requirements.in for ops machine charms.\n- Locks charms.openstack, zaza, zaza-openstack-tests, charm-helpers to\n  stable branches.\n\nChange-Id: Icc133d99ba58e0935d83bf7916cb122a8b2fa2c0\n'}]",7,917317,9bc8a384a11e0fa0214cc99a6c135e7ffc4d9ed2,32,4,6,20870,,,0,"Stable changes for stable/2024.1 (caracal) branch

This patch converts stable/2024.1 into a stable maintenance branch. It:

- modifies .gitreview to point to stable/2024.1
- switches (test-)requirements*.txt -> (test-)requirements*.in
  for pip-compile usage.
- creates (test-)requirements-py*.txt from *.in using pip-compile for
  the relevant python version.
- Updates bundles to point to ceph/edge and 24.04/edge for ceph and
  OVN charms.
- Adds build.lock file to the reactive charms.
- Syncs charm-helpers for classic charms.
- Locks requirements.txt from requirements.in for ops machine charms.
- Locks charms.openstack, zaza, zaza-openstack-tests, charm-helpers to
  stable branches.

Change-Id: Icc133d99ba58e0935d83bf7916cb122a8b2fa2c0
",git fetch https://review.opendev.org/openstack/charm-designate-bind refs/changes/17/917317/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.in', '.gitreview', 'src/tox.ini', 'test-requirements-py310.txt', 'merged-requirements-py38.txt', 'test-requirements-py38.txt', 'src/wheelhouse.txt', 'merged-requirements-py310.txt', 'test-requirements.in', 'src/test-requirements.in', 'src/build.lock', 'src/test-requirements-py38.txt', 'tox.ini']",13,04a03ce9492c7cbca633ae9a109796b986828fd9,stable-2024.1, -r{toxinidir}/merged-requirements-py38.txtdeps =# directly run `charmcraft -v pack -r{toxinidir}/test-requirements-py310.txt commands = stestr run --slowest {posargs} [testenv:py38] basepython = python3.8 deps = -c {env:TEST_CONSTRAINTS_FILE:https://raw.githubusercontent.com/openstack-charmers/zaza-openstack-tests/master/constraints/constraints-2024.1.txt} -r{toxinidir}/test-requirements-py38.txt -r{toxinidir}/test-requirements-py310.txt -r{toxinidir}/merged-requirements-py310.txt, -r{toxinidir}/requirements.txt# directly run `charmcraft -v pack && ./rename.sh`.[testenv:build-reactive] basepython = python3 commands = charm-build --log-level DEBUG --use-lock-file-branches --binary-wheels-from-source -o {toxinidir}/build/builds src {posargs} [testenv:add-build-lock-file] basepython = python3 commands = charm-build --log-level DEBUG --write-lock-file -o {toxinidir}/build/builds src {posargs} -r{toxinidir}/test-requirements.txt -r{toxinidir}/test-requirements.txt git+https://github.com/juju/charm-tools.git -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt,1573,28
openstack%2Fswift~835938,openstack/swift,master,I7f41c337e481806ca42274810518b12b00304e17,s3api: add API support for optional bucket inventory,NEW,2022-03-31 07:52:40.000000000,2024-06-14 00:47:09.000000000,,"[{'_account_id': 1179}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-31 07:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7881cc437f2d5b697bb23f02c4f64c8f52566680', 'message': ""s3api: add API support for optional bucket inventory\n\nIf the swift installation supports bucket inventory then this feature\ncan be enabled in the s3API by setting the new config option\n's3_inventory_enabled'.  By default this option is False.\n\nThe feature can be restricted to a subset of buckets using the\n's3_inventory_allowed_paths' option.\n\nChange-Id: I7f41c337e481806ca42274810518b12b00304e17\n""}, {'number': 2, 'created': '2022-03-31 13:42:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d4138177fa3d2671d3e596afc9ad0264d4ce4687', 'message': ""s3api: add API support for optional bucket inventory\n\nIf the swift installation supports bucket inventory then this feature\ncan be enabled in the s3API by setting the new config option\n's3_inventory_enabled'.  By default this option is False.\n\nThe feature can be restricted to a subset of buckets using the\n's3_inventory_allowed_paths' option.\n\nChange-Id: I7f41c337e481806ca42274810518b12b00304e17\n""}, {'number': 3, 'created': '2022-04-13 17:34:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/dce21bb3c5eb26619c9e0d566b5167505ef01db9', 'message': ""s3api: add API support for optional bucket inventory\n\nIf the swift installation supports bucket inventory then this feature\ncan be enabled in the s3API by setting the new config option\n's3_inventory_enabled'.  By default this option is False.\n\nThe feature can be restricted to a subset of buckets using the\n's3_inventory_allowed_paths' option.\n\nChange-Id: I7f41c337e481806ca42274810518b12b00304e17\n""}, {'number': 4, 'created': '2022-04-19 17:30:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d56c49493bebcc8ecbc30892933f015e9ffeea23', 'message': ""s3api: add API support for optional bucket inventory\n\nIf the swift installation supports bucket inventory then this feature\ncan be enabled in the s3API by setting the new config option\n's3_inventory_enabled'.  By default this option is False.\n\nThe feature can be restricted to a subset of buckets using the\n's3_inventory_allowed_paths' option.\n\nChange-Id: I7f41c337e481806ca42274810518b12b00304e17\n""}, {'number': 5, 'created': '2022-04-26 02:51:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/92f283ae6028d40d0349af2ebeb4cb7b45f87faa', 'message': ""s3api: add API support for optional bucket inventory\n\nIf the swift installation supports bucket inventory then this feature\ncan be enabled in the s3API by setting the new config option\n's3_inventory_enabled'.  By default this option is False.\n\nThe feature can be restricted to a subset of buckets using the\n's3_inventory_allowed_paths' option.\n\nChange-Id: I7f41c337e481806ca42274810518b12b00304e17\n""}, {'number': 6, 'created': '2022-06-02 16:17:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/07820047ae934285f3a889a937c570c086444a65', 'message': ""s3api: add API support for optional bucket inventory\n\nIf the swift installation supports bucket inventory then this feature\ncan be enabled in the s3API by setting the new config option\n's3_inventory_enabled'.  By default this option is False.\n\nThe feature can be restricted to a subset of buckets using the\n's3_inventory_allowed_paths' option.\n\nChange-Id: I7f41c337e481806ca42274810518b12b00304e17\n""}, {'number': 7, 'created': '2022-07-15 17:03:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ca48cfae2d2f1cd9966077fbf614e3fb49c5b370', 'message': ""s3api: add API support for optional bucket inventory\n\nIf the swift installation supports bucket inventory then this feature\ncan be enabled in the s3API by setting the new config option\n's3_inventory_enabled'.  By default this option is False.\n\nThe feature can be restricted to a subset of buckets using the\n's3_inventory_allowed_paths' option.\n\nChange-Id: I7f41c337e481806ca42274810518b12b00304e17\n""}, {'number': 8, 'created': '2022-07-18 11:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e4edcbf49bc68d69e1f00cf932156390000b3d04', 'message': ""s3api: add API support for optional bucket inventory\n\nIf the swift installation supports bucket inventory then this feature\ncan be enabled in the s3API by setting the new config option\n's3_inventory_enabled'.  By default this option is False.\n\nThe feature can be restricted to a subset of buckets using the\n's3_inventory_allowed_paths' option.\n\nChange-Id: I7f41c337e481806ca42274810518b12b00304e17\n""}, {'number': 9, 'created': '2022-07-18 14:07:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e1285cdbcefcca24b0c2111f3b3ffcc446397ee6', 'message': ""s3api: add API support for optional bucket inventory\n\nIf the swift installation supports bucket inventory then this feature\ncan be enabled in the s3API by setting the new config option\n's3_inventory_enabled'.  By default this option is False.\n\nThe feature can be restricted to a subset of buckets using the\n's3_inventory_allowed_paths' option.\n\nChange-Id: I7f41c337e481806ca42274810518b12b00304e17\n""}, {'number': 10, 'created': '2022-09-09 11:13:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8015f4096db5173a6e410461646a080532374b14', 'message': ""s3api: add API support for optional bucket inventory\n\nIf the swift installation supports bucket inventory then this feature\ncan be enabled in the s3API by setting the new config option\n's3_inventory_enabled'.  By default this option is False.\n\nThe feature can be restricted to a subset of buckets using the\n's3_inventory_allowed_paths' option.\n\nChange-Id: I7f41c337e481806ca42274810518b12b00304e17\n""}, {'number': 11, 'created': '2022-09-09 13:08:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/01420a07e6aba030d583cbdc1aff46223897344e', 'message': ""s3api: add API support for optional bucket inventory\n\nIf the swift installation supports bucket inventory then this feature\ncan be enabled in the s3API by setting the new config option\n's3_inventory_enabled'.  By default this option is False.\n\nThe feature can be restricted to a subset of buckets using the\n's3_inventory_allowed_paths' option.\n\nChange-Id: I7f41c337e481806ca42274810518b12b00304e17\n""}, {'number': 12, 'created': '2023-10-16 17:35:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/47390efae9a6ef7e0718772a1ee0562c473af024', 'message': ""s3api: add API support for optional bucket inventory\n\nIf the swift installation supports bucket inventory then this feature\ncan be enabled in the s3API by setting the new config option\n's3_inventory_enabled'.  By default this option is False.\n\nThe feature can be restricted to a subset of buckets using the\n's3_inventory_allowed_paths' option.\n\nChange-Id: I7f41c337e481806ca42274810518b12b00304e17\n""}, {'number': 13, 'created': '2023-10-16 22:38:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7bf041ae28400899b86ac70d009942d86f67fb52', 'message': ""s3api: add API support for optional bucket inventory\n\nIf the swift installation supports bucket inventory then this feature\ncan be enabled in the s3API by setting the new config option\n's3_inventory_enabled'.  By default this option is False.\n\nThe feature can be restricted to a subset of buckets using the\n's3_inventory_allowed_paths' option.\n\nChange-Id: I7f41c337e481806ca42274810518b12b00304e17\n""}, {'number': 14, 'created': '2023-11-14 15:31:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9848d6243513038fdee72f0aab00094edc1f13dd', 'message': ""s3api: add API support for optional bucket inventory\n\nIf the swift installation supports bucket inventory then this feature\ncan be enabled in the s3API by setting the new config option\n's3_inventory_enabled'.  By default this option is False.\n\nThe feature can be restricted to a subset of buckets using the\n's3_inventory_allowed_paths' option.\n\nChange-Id: I7f41c337e481806ca42274810518b12b00304e17\n""}, {'number': 15, 'created': '2023-11-14 15:35:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/418a3f1257e642ec93474af2a8ad24b55bc6c1b0', 'message': ""s3api: add API support for optional bucket inventory\n\nIf the swift installation supports bucket inventory then this feature\ncan be enabled in the s3API by setting the new config option\n's3_inventory_enabled'.  By default this option is False.\n\nThe feature can be restricted to a subset of buckets using the\n's3_inventory_allowed_paths' option.\n\nChange-Id: I7f41c337e481806ca42274810518b12b00304e17\n""}, {'number': 16, 'created': '2023-11-14 17:16:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5d3b2ebe66fcb0d391d2b2eea91f8f001233b69d', 'message': ""s3api: add API support for optional bucket inventory\n\nIf the swift installation supports bucket inventory then this feature\ncan be enabled in the s3API by setting the new config option\n's3_inventory_enabled'.  By default this option is False.\n\nThe feature can be restricted to a subset of buckets using the\n's3_inventory_allowed_paths' option.\n\nChange-Id: I7f41c337e481806ca42274810518b12b00304e17\n""}, {'number': 17, 'created': '2023-11-14 17:23:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c0c6674f2928bec66837e83361e5218f93fffe49', 'message': ""s3api: add API support for optional bucket inventory\n\nIf the swift installation supports bucket inventory then this feature\ncan be enabled in the s3API by setting the new config option\n's3_inventory_enabled'.  By default this option is False.\n\nThe feature can be restricted to a subset of buckets using the\n's3_inventory_allowed_paths' option.\n\nChange-Id: I7f41c337e481806ca42274810518b12b00304e17\n""}, {'number': 18, 'created': '2023-12-20 17:23:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/630fc0e7f641236ff6dbb16c38cc860166b843ab', 'message': ""s3api: add API support for optional bucket inventory\n\nIf the swift installation supports bucket inventory then this feature\ncan be enabled in the s3API by setting the new config option\n's3_inventory_enabled'.  By default this option is False.\n\nThe feature can be restricted to a subset of buckets using the\n's3_inventory_allowed_paths' option.\n\nChange-Id: I7f41c337e481806ca42274810518b12b00304e17\n""}, {'number': 19, 'created': '2023-12-20 18:21:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/01b54968b8f199924104bb75c09517da48f2c9d8', 'message': ""s3api: add API support for optional bucket inventory\n\nIf the swift installation supports bucket inventory then this feature\ncan be enabled in the s3API by setting the new config option\n's3_inventory_enabled'.  By default this option is False.\n\nThe feature can be restricted to a subset of buckets using the\n's3_inventory_allowed_paths' option.\n\nChange-Id: I7f41c337e481806ca42274810518b12b00304e17\n""}, {'number': 20, 'created': '2024-01-03 19:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6f42f70caef04bfbcec715ca6d79d78633b72db8', 'message': ""s3api: add API support for optional bucket inventory\n\nIf the swift installation supports bucket inventory then this feature\ncan be enabled in the s3API by setting the new config option\n's3_inventory_enabled'.  By default this option is False.\n\nThe feature can be restricted to a subset of buckets using the\n's3_inventory_allowed_paths' option.\n\nChange-Id: I7f41c337e481806ca42274810518b12b00304e17\n""}, {'number': 21, 'created': '2024-01-11 14:30:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c9e20265ba7dcda950894ce39eb7b4ad26769a08', 'message': ""s3api: add API support for optional bucket inventory\n\nIf the swift installation supports bucket inventory then this feature\ncan be enabled in the s3API by setting the new config option\n's3_inventory_enabled'.  By default this option is False.\n\nThe feature can be restricted to a subset of buckets using the\n's3_inventory_allowed_paths' option.\n\nChange-Id: I7f41c337e481806ca42274810518b12b00304e17\n""}, {'number': 22, 'created': '2024-03-21 10:48:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5cc687ebf5beef91ef3aa6047c5f9609b0d0194d', 'message': ""s3api: add API support for optional bucket inventory\n\nIf the swift installation supports bucket inventory then this feature\ncan be enabled in the s3API by setting the new config option\n's3_inventory_enabled'.  By default this option is False.\n\nThe feature can be restricted to a subset of buckets using the\n's3_inventory_allowed_paths' option.\n\nChange-Id: I7f41c337e481806ca42274810518b12b00304e17\n""}, {'number': 23, 'created': '2024-06-04 21:05:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/aa0cc961ed28322dcbdd2ae95a681c9d20cefffa', 'message': ""s3api: add API support for optional bucket inventory\n\nIf the swift installation supports bucket inventory then this feature\ncan be enabled in the s3API by setting the new config option\n's3_inventory_enabled'.  By default this option is False.\n\nThe feature can be restricted to a subset of buckets using the\n's3_inventory_allowed_paths' option.\n\nChange-Id: I7f41c337e481806ca42274810518b12b00304e17\n""}, {'number': 24, 'created': '2024-06-13 23:07:27.000000000', 'files': ['swift/common/middleware/s3api/controllers/__init__.py', 'test/s3api/test_bucket_inventory.py', '.zuul.yaml', 'test/functional/s3api/test_bucket_inventory.py', 'swift/common/middleware/s3api/schema/inventory_configuration.rng', 'tools/playbooks/saio_single_node_setup/add_s3api.yaml', 'test/unit/common/middleware/s3api/__init__.py', 'test/unit/common/middleware/s3api/test_inventory.py', 'etc/proxy-server.conf-sample', 'swift/common/middleware/s3api/acl_handlers.py', 'swift/common/middleware/s3api/controllers/inventory.py', 'swift/common/middleware/s3api/s3request.py', 'swift/common/middleware/s3api/s3api.py', 'test/unit/common/middleware/s3api/test_s3api.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/f9a1ca34287a95438a73f29596163bfb9b748bc7', 'message': ""s3api: add API support for optional bucket inventory\n\nIf the swift installation supports bucket inventory then this feature\ncan be enabled in the s3API by setting the new config option\n's3_inventory_enabled'.  By default this option is False.\n\nThe feature can be restricted to a subset of buckets using the\n's3_inventory_allowed_paths' option.\n\nChange-Id: I7f41c337e481806ca42274810518b12b00304e17\n""}]",39,835938,f9a1ca34287a95438a73f29596163bfb9b748bc7,76,4,24,7847,,,0,"s3api: add API support for optional bucket inventory

If the swift installation supports bucket inventory then this feature
can be enabled in the s3API by setting the new config option
's3_inventory_enabled'.  By default this option is False.

The feature can be restricted to a subset of buckets using the
's3_inventory_allowed_paths' option.

Change-Id: I7f41c337e481806ca42274810518b12b00304e17
",git fetch https://review.opendev.org/openstack/swift refs/changes/38/835938/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/s3api/schema/inventory_configuration.rng', 'test/unit/common/middleware/s3api/__init__.py', 'test/unit/common/middleware/s3api/test_inventory.py', 'etc/proxy-server.conf-sample', 'swift/common/middleware/s3api/acl_handlers.py', 'swift/common/middleware/s3api/controllers/inventory.py', 'swift/common/middleware/s3api/s3request.py', 'swift/common/middleware/s3api/s3api.py', 'test/functional/s3api/test_bucket_inventory.py']",9,7881cc437f2d5b697bb23f02c4f64c8f52566680,task-container-per-day,"# Copyright (c) 2022 NVIDIA # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. import botocore import test.functional as tf from test.functional.s3api import S3ApiBaseBoto3 def setUpModule(): tf.setup_package() def tearDownModule(): tf.teardown_package() class TestS3ApiBucketInventory(S3ApiBaseBoto3): inventory_configuration = { 'Destination': { 'S3BucketDestination': { 'Bucket': 'dest-bucket', 'Format': 'Parquet', } }, 'IsEnabled': True, 'Id': '0', 'IncludedObjectVersions': 'All', 'Schedule': { 'Frequency': 'Daily' } } def setUp(self): if not tf.cluster_info['s3api'].get('s3_inventory_enabled', False): raise tf.SkipTest('s3 bucket inventory is not enabled') super(TestS3ApiBucketInventory, self).setUp() def test_bucket_inventory(self): bucket = 'mybucket' # PUT Bucket resp = self.conn.create_bucket(Bucket=bucket) self.assertEqual(200, resp['ResponseMetadata']['HTTPStatusCode']) # PUT inventory config resp = self.conn.put_bucket_inventory_configuration( Bucket=bucket, Id='0', InventoryConfiguration=self.inventory_configuration ) self.assertEqual(200, resp['ResponseMetadata']['HTTPStatusCode']) # GET inventory config resp = self.conn.get_bucket_inventory_configuration( Bucket=bucket, Id='0' ) self.assertEqual(200, resp['ResponseMetadata']['HTTPStatusCode']) self.assertEqual( { 'IsEnabled': True, 'Destination': { 'S3BucketDestination': {'Bucket': 'dest-bucket', 'Format': 'Parquet' } }, 'IncludedObjectVersions': 'Current', 'Id': '0', 'Schedule': {'Frequency': 'Daily'} }, resp['InventoryConfiguration'] ) # GET inventory config list resp = self.conn.list_bucket_inventory_configurations( Bucket=bucket, ContinuationToken='foo' ) self.assertEqual(200, resp['ResponseMetadata']['HTTPStatusCode']) self.assertEqual( [ { 'IsEnabled': True, 'Destination': { 'S3BucketDestination': {'Bucket': 'dest-bucket', 'Format': 'Parquet' } }, 'IncludedObjectVersions': 'Current', 'Id': '0', 'Schedule': {'Frequency': 'Daily'} }, ], resp['InventoryConfigurationList'] ) self.assertEqual('foo', resp['ContinuationToken']) self.assertEqual(False, resp['IsTruncated']) # DELETE inventory config list resp = self.conn.delete_bucket_inventory_configuration( Bucket=bucket, Id='0' ) self.assertEqual(204, resp['ResponseMetadata']['HTTPStatusCode']) # GET inventory config list resp = self.conn.list_bucket_inventory_configurations( Bucket=bucket, ContinuationToken='foo' ) self.assertEqual(200, resp['ResponseMetadata']['HTTPStatusCode']) self.assertEqual([], resp.get('InventoryConfigurationList', [])) self.assertEqual('foo', resp['ContinuationToken']) self.assertEqual(False, resp['IsTruncated']) def test_bucket_inventory_config_does_not_exist(self): bucket = 'mybucket' # PUT Bucket resp = self.conn.create_bucket(Bucket=bucket) self.assertEqual(200, resp['ResponseMetadata']['HTTPStatusCode']) # GET non-existent inventory config resp = self.conn.get_bucket_inventory_configuration( Bucket=bucket, Id='0' ) self.assertEqual(200, resp['ResponseMetadata']['HTTPStatusCode']) self.assertEqual({}, resp['InventoryConfiguration']) # DELETE non-existent inventory config resp = self.conn.delete_bucket_inventory_configuration( Bucket=bucket, Id='0' ) self.assertEqual(204, resp['ResponseMetadata']['HTTPStatusCode']) def test_bucket_inventory_invalid_request(self): bucket = 'mybucket' # PUT Bucket resp = self.conn.create_bucket(Bucket=bucket) self.assertEqual(200, resp['ResponseMetadata']['HTTPStatusCode']) # PUT inventory config unsupported id with self.assertRaises(botocore.exceptions.ClientError) as cm: self.conn.put_bucket_inventory_configuration( Bucket=bucket, Id='unsupported_id', InventoryConfiguration=self.inventory_configuration ) self.assertEqual( 400, cm.exception.response['ResponseMetadata']['HTTPStatusCode']) # DELETE inventory config unsupported id with self.assertRaises(botocore.exceptions.ClientError) as cm: self.conn.delete_bucket_inventory_configuration( Bucket=bucket, Id='unsupported_id' ) self.assertEqual( 400, cm.exception.response['ResponseMetadata']['HTTPStatusCode']) # GET inventory config unsupported id with self.assertRaises(botocore.exceptions.ClientError) as cm: self.conn.get_bucket_inventory_configuration( Bucket=bucket, Id='unsupported_id' ) self.assertEqual( 400, cm.exception.response['ResponseMetadata']['HTTPStatusCode']) ",,998,0
openstack%2Fswift~800701,openstack/swift,master,Ib5cec0e552cd51592653e9e100729fcf91f99415,Delete s3api MPU segments when expiring the manifest,NEW,2021-07-13 17:47:53.000000000,2024-06-14 00:41:13.000000000,,"[{'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 34892}]","[{'number': 1, 'created': '2021-07-13 17:47:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/178674f074e20462cca411ea28b0f6a348685c5e', 'message': 'WIP: expirer the entire s3api MPU\n\nIt\'s not possible to reference s3api MPU segments from s3api - they may\nas well be in the reserved namespace.  Since X-Delete-At expiration will\nonly be set on the manifest; we should at least *try* to avoid creating\norphaned segments on purpose.\n\nThe use of SLO for s3api MPUs is an implementation detail.  Because SLO\nsegments are NOT in a reserved namespace it would be appropriate to\nclean up SLOs automatically in this mannor.\n\nThis is just a best effort cleanup, s3api MPUs are already known to\ngenerate orphaned segments [1].  A future feature ""Atomic Large Object""\nexpiratoin will require processing new ALO tombstones rows in the\ncontainer such that we ALWAYS throw tombstones for segments under the\nreference of the manifest\'s reserved namespace (possibly even if *their*\nbest effort inline cleanup attempt had already done so)\n\n1. lp bug #1813202\n\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n'}, {'number': 2, 'created': '2021-12-17 18:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c784676a56c40db1454db30536c1c634922529ce', 'message': 'WIP: expirer the entire s3api MPU\n\nIt\'s not possible to reference s3api MPU segments from s3api - they may\nas well be in the reserved namespace.  Since X-Delete-At expiration will\nonly be set on the manifest; we should at least *try* to avoid creating\norphaned segments on purpose.\n\nThe use of SLO for s3api MPUs is an implementation detail.  Because SLO\nsegments are NOT in a reserved namespace it would NOT be appropriate to\nclean up SLOs automatically in this mannor.\n\nThis is just a best effort cleanup, s3api MPUs are already known to\ngenerate orphaned segments [1].  A future feature ""Atomic Large Object""\nexpiration will require processing new ALO tombstones rows in the\ncontainer such that we ALWAYS throw tombstones for segments under the\nreference of the manifest\'s reserved namespace (possibly even if *their*\nbest effort inline cleanup attempt had already done so)\n\n1. lp bug #1813202\n\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n'}, {'number': 3, 'created': '2021-12-20 21:06:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3292127828b740737f169349e4fce4e8e8ec0316', 'message': 'WIP: expirer the entire s3api MPU\n\nIt\'s not possible to reference s3api MPU segments from s3api - they may\nas well be in the reserved namespace.  Since X-Delete-At expiration will\nonly be set on the manifest; we should at least *try* to avoid creating\norphaned segments on purpose.\n\nThe use of SLO for s3api MPUs is an implementation detail.  Because SLO\nsegments are NOT in a reserved namespace it would be appropriate to\nclean up SLOs automatically in this mannor.\n\nThis is just a best effort cleanup, s3api MPUs are already known to\ngenerate orphaned segments [1].  A future feature ""Atomic Large Object""\nexpiratoin will require processing new ALO tombstones rows in the\ncontainer such that we ALWAYS throw tombstones for segments under the\nreference of the manifest\'s reserved namespace (possibly even if *their*\nbest effort inline cleanup attempt had already done so)\n\n1. lp bug #1813202\n\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n'}, {'number': 4, 'created': '2021-12-21 02:30:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a4c555a76e54350e3855e5df3f5fd6418383d898', 'message': 'WIP: expirer the entire s3api MPU\n\nIt\'s not possible to reference s3api MPU segments from s3api - they may\nas well be in the reserved namespace.  Since X-Delete-At expiration will\nonly be set on the manifest; we should at least *try* to avoid creating\norphaned segments on purpose.\n\nThe use of SLO for s3api MPUs is an implementation detail.  Because SLO\nsegments are NOT in a reserved namespace it would be appropriate to\nclean up SLOs automatically in this mannor.\n\nThis is just a best effort cleanup, s3api MPUs are already known to\ngenerate orphaned segments [1].  A future feature ""Atomic Large Object""\nexpiratoin will require processing new ALO tombstones rows in the\ncontainer such that we ALWAYS throw tombstones for segments under the\nreference of the manifest\'s reserved namespace (possibly even if *their*\nbest effort inline cleanup attempt had already done so)\n\n1. lp bug #1813202\n\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n'}, {'number': 5, 'created': '2021-12-21 16:59:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/edff82be41225a2002ed177c2d1348e1d5873f72', 'message': 'WIP: expirer the entire s3api MPU\n\nIt\'s not possible to reference s3api MPU segments from s3api - they may\nas well be in the reserved namespace.  Since X-Delete-At expiration will\nonly be set on the manifest; we should at least *try* to avoid creating\norphaned segments on purpose.\n\nThe use of SLO for s3api MPUs is an implementation detail.  Because SLO\nsegments are NOT in a reserved namespace it would be appropriate to\nclean up SLOs automatically in this mannor.\n\nThis is just a best effort cleanup, s3api MPUs are already known to\ngenerate orphaned segments [1].  A future feature ""Atomic Large Object""\nexpiratoin will require processing new ALO tombstones rows in the\ncontainer such that we ALWAYS throw tombstones for segments under the\nreference of the manifest\'s reserved namespace (possibly even if *their*\nbest effort inline cleanup attempt had already done so)\n\n1. lp bug #1813202\n\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n'}, {'number': 6, 'created': '2021-12-22 17:17:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/699a89144abff95a77b98be5595978697022fa4f', 'message': 'WIP: expirer the entire s3api MPU\n\nIt\'s not possible to reference s3api MPU segments from s3api - they may\nas well be in the reserved namespace.  Since X-Delete-At expiration will\nonly be set on the manifest; we should at least *try* to avoid creating\norphaned segments on purpose.\n\nThe use of SLO for s3api MPUs is an implementation detail.  Because SLO\nsegments are NOT in a reserved namespace it would be appropriate to\nclean up SLOs automatically in this mannor.\n\nThis is just a best effort cleanup, s3api MPUs are already known to\ngenerate orphaned segments [1].  A future feature ""Atomic Large Object""\nexpiratoin will require processing new ALO tombstones rows in the\ncontainer such that we ALWAYS throw tombstones for segments under the\nreference of the manifest\'s reserved namespace (possibly even if *their*\nbest effort inline cleanup attempt had already done so)\n\n1. lp bug #1813202\n\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n'}, {'number': 7, 'created': '2022-01-06 22:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1d153f27be531b8c4602504c8fe18273bb6477a4', 'message': ""WIP: expirer the entire s3api MPU\n\nIt's not possible to reference s3api MPU segments from s3api - they may\nas well be in the reserved namespace.  Since X-Delete-At expiration will\nonly be set on the manifest; we should at least *try* to avoid creating\norphaned segments on purpose.\n\nThe use of SLO for s3api MPUs is an implementation detail.  Because SLO\nsegments are NOT in a reserved namespace it would not be appropriate to\nclean up SLOs automatically in this mannor.\n\nThis is just a best effort cleanup, s3api MPUs already have a related\nbug to address orphaned segments.\n\nRelated-Bug: #1813202\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n""}, {'number': 8, 'created': '2022-01-07 22:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/210807787136a603e7ed06b5bd87efedff60afe3', 'message': ""Expire the entire s3api MPU\n\nIt's not possible to reference s3api MPU segments from s3api - they may\nas well be in the reserved namespace.  Since X-Delete-At expiration will\nonly be set on the manifest; we should at least *try* to avoid creating\norphaned segments on purpose.\n\nThe use of SLO for s3api MPUs is an implementation detail.  Because SLO\nsegments are NOT in a reserved namespace it would not be appropriate to\nclean up SLOs automatically in this mannor.\n\nThis is just a best effort cleanup, s3api MPUs already have a related\nbug to address orphaned segments.\n\nRelated-Bug: #1813202\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n""}, {'number': 9, 'created': '2022-01-11 20:40:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d333a1d67e8bf2214b28ac7788647b0ba5747aba', 'message': ""Expire the entire s3api MPU\n\nIt's not possible to reference s3api MPU segments from s3api - they may\nas well be in the reserved namespace.  Since X-Delete-At expiration will\nonly be set on the manifest; we should at least *try* to avoid creating\norphaned segments on purpose.\n\nThe use of SLO for s3api MPUs is an implementation detail.  Because SLO\nsegments are NOT in a reserved namespace it would not be appropriate to\nclean up SLOs automatically in this mannor.\n\nThis is just a best effort cleanup, s3api MPUs already have a related\nbug to address orphaned segments.\n\nRelated-Bug: #1813202\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n""}, {'number': 10, 'created': '2022-01-13 06:13:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/60cb24a6beaeb592b47fcbbd5bfab4b97a119d48', 'message': ""Expire the entire s3api MPU\n\nIt's not possible to reference s3api MPU segments from s3api - they may\nas well be in the reserved namespace.  Since X-Delete-At expiration will\nonly be set on the manifest; we should at least *try* to avoid creating\norphaned segments on purpose.\n\nThe use of SLO for s3api MPUs is an implementation detail.  Because SLO\nsegments are NOT in a reserved namespace it would not be appropriate to\nclean up SLOs automatically in this manner.\n\nThis is just a best effort cleanup, s3api MPUs already have a related\nbug to address orphaned segments.\n\nRelated-Bug: #1813202\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n""}, {'number': 11, 'created': '2022-01-13 20:13:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/54ddec106774608414dc300cc30bed9d1d8e3c54', 'message': 'Delete s3api MPU segments when the manifest expires\n\nThe object-expirer will delete s3api MPU segments automatically when it\nexpires an s3api manifest.\n\nThis is just a best effort cleanup of the segments. In some\ncircumstances (e.g. when manifest objects are not consistent) this may\nfail to delete all segments. However, s3api MPUs already have a related\nbug to address orphaned segments.  The automatic deletion is only\napplied to s3api segments, not to SLO segments in general, because:\n\n(a) s3api segments cannot be referenced via the S3 API, and are\ntherefore orphaned as soon as the manifest is deleted; SLO segments in\ngeneral are not necessarily orphaned when a manifest is deleted.\n\n(b) the names of s3api MPU segments can be easily inferred from the\nmanifest DELETE response headers without inspecting the manifest body.\n\nRelated-Bug: #1813202\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n'}, {'number': 12, 'created': '2022-01-14 13:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b01be931d1cee2dd67e536ec2bf9a1485c912e40', 'message': 'Delete s3api MPU segments when the manifest expires\n\nThe object-expirer will delete s3api MPU segments automatically when it\nexpires an s3api manifest.\n\nThis is just a best effort cleanup of the segments. In some\ncircumstances (e.g. when manifest objects are not consistent) this may\nfail to delete all segments. However, s3api MPUs already have a related\nbug to address orphaned segments.  The automatic deletion is only\napplied to s3api segments, not to SLO segments in general, because:\n\n(a) s3api segments cannot be referenced via the S3 API, and are\ntherefore orphaned as soon as the manifest is deleted; SLO segments in\ngeneral are not necessarily orphaned when a manifest is deleted.\n\n(b) the names of s3api MPU segments can be easily inferred from the\nmanifest DELETE response headers without inspecting the manifest body.\n\nRelated-Bug: #1813202\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n'}, {'number': 13, 'created': '2022-01-14 15:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/42d03756296c570f206080e9f99e9572e41d836c', 'message': 'Delete s3api MPU segments when the manifest expires\n\nThe object-expirer will delete s3api MPU segments automatically when it\nexpires an s3api manifest.\n\nThis is just a best effort cleanup of the segments. In some\ncircumstances (e.g. when manifest objects are not consistent) this may\nfail to delete all segments. However, s3api MPUs already have a related\nbug to address orphaned segments.  The automatic deletion is only\napplied to s3api segments, not to SLO segments in general, because:\n\n(a) s3api segments cannot be referenced via the S3 API, and are\ntherefore orphaned as soon as the manifest is deleted; SLO segments in\ngeneral are not necessarily orphaned when a manifest is deleted.\n\n(b) the names of s3api MPU segments can be easily inferred from the\nmanifest DELETE response headers without inspecting the manifest body.\n\nRelated-Bug: #1813202\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n'}, {'number': 14, 'created': '2022-01-28 15:57:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/baf8d307496c8105e9017ba559905cf2934badbb', 'message': 'Delete s3api MPU segments when the manifest expires\n\nThe object-expirer will delete s3api MPU segments automatically when it\nexpires an s3api manifest.\n\nThis is just a best effort cleanup of the segments. In some\ncircumstances (e.g. when manifest objects are not consistent) this may\nfail to delete all segments. However, s3api MPUs already have a related\nbug to address orphaned segments.  The automatic deletion is only\napplied to s3api segments, not to SLO segments in general, because:\n\n(a) s3api segments cannot be referenced via the S3 API, and are\ntherefore orphaned as soon as the manifest is deleted; SLO segments in\ngeneral are not necessarily orphaned when a manifest is deleted.\n\n(b) the names of s3api MPU segments can be easily inferred from the\nmanifest DELETE response headers without inspecting the manifest body.\n\nRelated-Bug: #1813202\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n'}, {'number': 15, 'created': '2022-02-14 18:18:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/28553920d653d08fe0b06af0bda7808ec8b5a2a4', 'message': 'Delete s3api MPU segments when the manifest expires\n\nThe object-expirer will delete s3api MPU segments automatically when it\nexpires an s3api manifest.\n\nThis is just a best effort cleanup of the segments. In some\ncircumstances (e.g. when manifest objects are not consistent) this may\nfail to delete all segments. However, s3api MPUs already have a related\nbug to address orphaned segments.  The automatic deletion is only\napplied to s3api segments, not to SLO segments in general, because:\n\n(a) s3api segments cannot be referenced via the S3 API, and are\ntherefore orphaned as soon as the manifest is deleted; SLO segments in\ngeneral are not necessarily orphaned when a manifest is deleted.\n\n(b) the names of s3api MPU segments can be easily inferred from the\nmanifest DELETE response headers without inspecting the manifest body.\n\nRelated-Bug: #1813202\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n'}, {'number': 16, 'created': '2022-10-17 18:21:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f084cd291b306d73fc86786e00e54d4a0465d253', 'message': 'Delete s3api MPU segments when the manifest expires\n\nThe object-expirer will delete s3api MPU segments automatically when it\nexpires an s3api manifest.\n\nThis is just a best effort cleanup of the segments. In some\ncircumstances (e.g. when manifest objects are not consistent) this may\nfail to delete all segments. However, s3api MPUs already have a related\nbug to address orphaned segments.  The automatic deletion is only\napplied to s3api segments, not to SLO segments in general, because:\n\n(a) s3api segments cannot be referenced via the S3 API, and are\ntherefore orphaned as soon as the manifest is deleted; SLO segments in\ngeneral are not necessarily orphaned when a manifest is deleted.\n\n(b) the names of s3api MPU segments can be easily inferred from the\nmanifest DELETE response headers without inspecting the manifest body.\n\nRelated-Bug: #1813202\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n'}, {'number': 17, 'created': '2022-11-04 04:15:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/96f3eb7a0aa1ba6cbb3425b419b9e2e181c7ecfc', 'message': 'Delete s3api MPU segments when the manifest expires\n\nThe object-expirer will delete s3api MPU segments automatically when it\nexpires an s3api manifest.\n\nThis is just a best effort cleanup of the segments. In some\ncircumstances (e.g. when manifest objects are not consistent) this may\nfail to delete all segments. However, s3api MPUs already have a related\nbug to address orphaned segments.  The automatic deletion is only\napplied to s3api segments, not to SLO segments in general, because:\n\n(a) s3api segments cannot be referenced via the S3 API, and are\ntherefore orphaned as soon as the manifest is deleted; SLO segments in\ngeneral are not necessarily orphaned when a manifest is deleted.\n\n(b) the names of s3api MPU segments can be easily inferred from the\nmanifest DELETE response headers without inspecting the manifest body.\n\nRelated-Bug: #1813202\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n'}, {'number': 18, 'created': '2023-01-03 18:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/52460eed7518ae432c44d3547fea9196b0dc026b', 'message': 'Delete s3api MPU segments when the manifest expires\n\nThe object-expirer will delete s3api MPU segments automatically when it\nexpires an s3api manifest.\n\nThis is just a best effort cleanup of the segments. In some\ncircumstances (e.g. when manifest objects are not consistent) this may\nfail to delete all segments. However, s3api MPUs already have a related\nbug to address orphaned segments.  The automatic deletion is only\napplied to s3api segments, not to SLO segments in general, because:\n\n(a) s3api segments cannot be referenced via the S3 API, and are\ntherefore orphaned as soon as the manifest is deleted; SLO segments in\ngeneral are not necessarily orphaned when a manifest is deleted.\n\n(b) the names of s3api MPU segments can be easily inferred from the\nmanifest DELETE response headers without inspecting the manifest body.\n\nRelated-Bug: #1813202\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n'}, {'number': 19, 'created': '2023-02-09 15:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d1a1821d2b32110377e6b8f3ba884f63510d27af', 'message': 'Delete s3api MPU segments when the manifest expires\n\nThe object-expirer will delete s3api MPU segments automatically when it\nexpires an s3api manifest.\n\nThis is just a best effort cleanup of the segments. In some\ncircumstances (e.g. when manifest objects are not consistent) this may\nfail to delete all segments. However, s3api MPUs already have a related\nbug to address orphaned segments.  The automatic deletion is only\napplied to s3api segments, not to SLO segments in general, because:\n\n(a) s3api segments cannot be referenced via the S3 API, and are\ntherefore orphaned as soon as the manifest is deleted; SLO segments in\ngeneral are not necessarily orphaned when a manifest is deleted.\n\n(b) the names of s3api MPU segments can be easily inferred from the\nmanifest DELETE response headers without inspecting the manifest body.\n\nRelated-Bug: #1813202\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n'}, {'number': 20, 'created': '2023-07-25 01:41:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/001470f4e4ca141163298ee671faf4945a4a13a2', 'message': 'Delete s3api MPU segments when the manifest expires\n\nThe object-expirer will delete s3api MPU segments automatically when it\nexpires an s3api manifest.\n\nThis is just a best effort cleanup of the segments. In some\ncircumstances (e.g. when manifest objects are not consistent) this may\nfail to delete all segments. However, s3api MPUs already have a related\nbug to address orphaned segments.  The automatic deletion is only\napplied to s3api segments, not to SLO segments in general, because:\n\n(a) s3api segments cannot be referenced via the S3 API, and are\ntherefore orphaned as soon as the manifest is deleted; SLO segments in\ngeneral are not necessarily orphaned when a manifest is deleted.\n\n(b) the names of s3api MPU segments can be easily inferred from the\nmanifest DELETE response headers without inspecting the manifest body.\n\nRelated-Bug: #1813202\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n'}, {'number': 21, 'created': '2023-09-28 22:43:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/817e4cdb89ff4d706efeae6edb1642c33397b68e', 'message': 'Delete s3api MPU segments when the manifest expires\n\nThe object-expirer will delete s3api MPU segments automatically when it\nexpires an s3api manifest.\n\nThis is just a best effort cleanup of the segments. In some\ncircumstances (e.g. when manifest objects are not consistent) this may\nfail to delete all segments. However, s3api MPUs already have a related\nbug to address orphaned segments.  The automatic deletion is only\napplied to s3api segments, not to SLO segments in general, because:\n\n(a) s3api segments cannot be referenced via the S3 API, and are\ntherefore orphaned as soon as the manifest is deleted; SLO segments in\ngeneral are not necessarily orphaned when a manifest is deleted.\n\n(b) the names of s3api MPU segments can be easily inferred from the\nmanifest DELETE response headers without inspecting the manifest body.\n\nRelated-Bug: #1813202\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n'}, {'number': 22, 'created': '2023-10-16 22:42:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/096c5d4b4bc3160fc5e4b3ddea6bd745613f8155', 'message': 'Delete s3api MPU segments when the manifest expires\n\nThe object-expirer will delete s3api MPU segments automatically when it\nexpires an s3api manifest.\n\nThis is just a best effort cleanup of the segments. In some\ncircumstances (e.g. when manifest objects are not consistent) this may\nfail to delete all segments. However, s3api MPUs already have a related\nbug to address orphaned segments.  The automatic deletion is only\napplied to s3api segments, not to SLO segments in general, because:\n\n(a) s3api segments cannot be referenced via the S3 API, and are\ntherefore orphaned as soon as the manifest is deleted; SLO segments in\ngeneral are not necessarily orphaned when a manifest is deleted.\n\n(b) the names of s3api MPU segments can be easily inferred from the\nmanifest DELETE response headers without inspecting the manifest body.\n\nRelated-Bug: #1813202\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n'}, {'number': 23, 'created': '2023-10-17 18:10:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/96062198007262dd10655ceae5aa0e77cd16e708', 'message': 'Delete s3api MPU segments when the manifest expires\n\nThe object-expirer will delete s3api MPU segments automatically when it\nexpires an s3api manifest.\n\nThis is just a best effort cleanup of the segments. In some\ncircumstances (e.g. when manifest objects are not consistent) this may\nfail to delete all segments. However, s3api MPUs already have a related\nbug to address orphaned segments.  The automatic deletion is only\napplied to s3api segments, not to SLO segments in general, because:\n\n(a) s3api segments cannot be referenced via the S3 API, and are\ntherefore orphaned as soon as the manifest is deleted; SLO segments in\ngeneral are not necessarily orphaned when a manifest is deleted.\n\n(b) the names of s3api MPU segments can be easily inferred from the\nmanifest DELETE response headers without inspecting the manifest body.\n\nRelated-Bug: #1813202\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n'}, {'number': 24, 'created': '2023-10-18 09:53:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9a85f5a49c2ad06b1109b6471b4643ea30470794', 'message': 'Delete s3api MPU segments when the manifest expires\n\nThe object-expirer will delete s3api MPU segments automatically when it\nexpires an s3api manifest.\n\nThis is just a best effort cleanup of the segments. In some\ncircumstances (e.g. when manifest objects are not consistent) this may\nfail to delete all segments. However, s3api MPUs already have a related\nbug to address orphaned segments.  The automatic deletion is only\napplied to s3api segments, not to SLO segments in general, because:\n\n(a) s3api segments cannot be referenced via the S3 API, and are\ntherefore orphaned as soon as the manifest is deleted; SLO segments in\ngeneral are not necessarily orphaned when a manifest is deleted.\n\n(b) the names of s3api MPU segments can be easily inferred from the\nmanifest DELETE response headers without inspecting the manifest body.\n\nRelated-Bug: #1813202\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n'}, {'number': 25, 'created': '2023-10-18 10:27:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d405c54ba8b117310ec199acac0be52e60d7dce4', 'message': 'Delete s3api MPU segments when the manifest expires\n\nThe object-expirer will delete s3api MPU segments automatically when it\nexpires an s3api manifest.\n\nThis is just a best effort cleanup of the segments. In some\ncircumstances (e.g. when manifest objects are not consistent) this may\nfail to delete all segments. However, s3api MPUs already have a related\nbug to address orphaned segments.  The automatic deletion is only\napplied to s3api segments, not to SLO segments in general, because:\n\n(a) s3api segments cannot be referenced via the S3 API, and are\ntherefore orphaned as soon as the manifest is deleted; SLO segments in\ngeneral are not necessarily orphaned when a manifest is deleted.\n\n(b) the names of s3api MPU segments can be easily inferred from the\nmanifest DELETE response headers without inspecting the manifest body.\n\nRelated-Bug: #1813202\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n'}, {'number': 26, 'created': '2023-11-13 18:50:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0c21c9cb8626cbbcba8ea0f943ba3a570f90d092', 'message': 'Delete s3api MPU segments when the manifest expires\n\nThe object-expirer will delete s3api MPU segments automatically when it\nexpires an s3api manifest.\n\nThis is just a best effort cleanup of the segments. In some\ncircumstances (e.g. when manifest objects are not consistent) this may\nfail to delete all segments. However, s3api MPUs already have a related\nbug to address orphaned segments.  The automatic deletion is only\napplied to s3api segments, not to SLO segments in general, because:\n\n(a) s3api segments cannot be referenced via the S3 API, and are\ntherefore orphaned as soon as the manifest is deleted; SLO segments in\ngeneral are not necessarily orphaned when a manifest is deleted.\n\n(b) the names of s3api MPU segments can be easily inferred from the\nmanifest DELETE response headers without inspecting the manifest body.\n\nRelated-Bug: #1813202\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n'}, {'number': 27, 'created': '2023-11-14 13:26:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/cfd4cff87292d8e7133eb82eae5c8b882dadde01', 'message': 'Delete s3api MPU segments when the manifest expires\n\nThe object-expirer will delete s3api MPU segments automatically when it\nexpires an s3api manifest.\n\nThis is just a best effort cleanup of the segments. In some\ncircumstances (e.g. when manifest objects are not consistent) this may\nfail to delete all segments. However, s3api MPUs already have a related\nbug to address orphaned segments.  The automatic deletion is only\napplied to s3api segments, not to SLO segments in general, because:\n\n(a) s3api segments cannot be referenced via the S3 API, and are\ntherefore orphaned as soon as the manifest is deleted; SLO segments in\ngeneral are not necessarily orphaned when a manifest is deleted.\n\n(b) the names of s3api MPU segments can be easily inferred from the\nmanifest DELETE response headers without inspecting the manifest body.\n\nRelated-Bug: #1813202\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n'}, {'number': 28, 'created': '2023-11-14 15:20:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2faf58c4cecc2f060717ac9a45c6449e03ef8e27', 'message': 'Delete s3api MPU segments when the manifest expires\n\nThe object-expirer will delete s3api MPU segments automatically when it\nexpires an s3api manifest.\n\nThis is just a best effort cleanup of the segments. In some\ncircumstances (e.g. when manifest objects are not consistent) this may\nfail to delete all segments. However, s3api MPUs already have a related\nbug to address orphaned segments.  The automatic deletion is only\napplied to s3api segments, not to SLO segments in general, because:\n\n(a) s3api segments cannot be referenced via the S3 API, and are\ntherefore orphaned as soon as the manifest is deleted; SLO segments in\ngeneral are not necessarily orphaned when a manifest is deleted.\n\n(b) the names of s3api MPU segments can be easily inferred from the\nmanifest DELETE response headers without inspecting the manifest body.\n\nRelated-Bug: #1813202\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n'}, {'number': 29, 'created': '2023-12-20 17:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/af5254162122c8e1da03b05a0f5d39dc30bde8ec', 'message': 'Delete s3api MPU segments when the manifest expires\n\nThe object-expirer will delete s3api MPU segments automatically when it\nexpires an s3api manifest.\n\nThis is just a best effort cleanup of the segments. In some\ncircumstances (e.g. when manifest objects are not consistent) this may\nfail to delete all segments. However, s3api MPUs already have a related\nbug to address orphaned segments.  The automatic deletion is only\napplied to s3api segments, not to SLO segments in general, because:\n\n(a) s3api segments cannot be referenced via the S3 API, and are\ntherefore orphaned as soon as the manifest is deleted; SLO segments in\ngeneral are not necessarily orphaned when a manifest is deleted.\n\n(b) the names of s3api MPU segments can be easily inferred from the\nmanifest DELETE response headers without inspecting the manifest body.\n\nRelated-Bug: #1813202\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n'}, {'number': 30, 'created': '2023-12-20 18:21:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e84831941e91c2011dd6ec87fd5e78201ae40b67', 'message': 'Delete s3api MPU segments when the manifest expires\n\nThe object-expirer will delete s3api MPU segments automatically when it\nexpires an s3api manifest.\n\nThis is just a best effort cleanup of the segments. In some\ncircumstances (e.g. when manifest objects are not consistent) this may\nfail to delete all segments. However, s3api MPUs already have a related\nbug to address orphaned segments.  The automatic deletion is only\napplied to s3api segments, not to SLO segments in general, because:\n\n(a) s3api segments cannot be referenced via the S3 API, and are\ntherefore orphaned as soon as the manifest is deleted; SLO segments in\ngeneral are not necessarily orphaned when a manifest is deleted.\n\n(b) the names of s3api MPU segments can be easily inferred from the\nmanifest DELETE response headers without inspecting the manifest body.\n\nRelated-Bug: #1813202\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n'}, {'number': 31, 'created': '2024-01-03 19:20:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5fe7db6b865836ee54fd164d8b6babf8c11fd68e', 'message': 'Delete s3api MPU segments when the manifest expires\n\nThe object-expirer will delete s3api MPU segments automatically when it\nexpires an s3api manifest.\n\nThis is just a best effort cleanup of the segments. In some\ncircumstances (e.g. when manifest objects are not consistent) this may\nfail to delete all segments. However, s3api MPUs already have a related\nbug to address orphaned segments.  The automatic deletion is only\napplied to s3api segments, not to SLO segments in general, because:\n\n(a) s3api segments cannot be referenced via the S3 API, and are\ntherefore orphaned as soon as the manifest is deleted; SLO segments in\ngeneral are not necessarily orphaned when a manifest is deleted.\n\n(b) the names of s3api MPU segments can be easily inferred from the\nmanifest DELETE response headers without inspecting the manifest body.\n\nRelated-Bug: #1813202\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n'}, {'number': 32, 'created': '2024-01-11 14:30:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d7f8e8b98c3ac6d77a7ba91e24b5a46add9c7268', 'message': 'Delete s3api MPU segments when the manifest expires\n\nThe object-expirer will delete s3api MPU segments automatically when it\nexpires an s3api manifest.\n\nThis is just a best effort cleanup of the segments. In some\ncircumstances (e.g. when manifest objects are not consistent) this may\nfail to delete all segments. However, s3api MPUs already have a related\nbug to address orphaned segments.  The automatic deletion is only\napplied to s3api segments, not to SLO segments in general, because:\n\n(a) s3api segments cannot be referenced via the S3 API, and are\ntherefore orphaned as soon as the manifest is deleted; SLO segments in\ngeneral are not necessarily orphaned when a manifest is deleted.\n\n(b) the names of s3api MPU segments can be easily inferred from the\nmanifest DELETE response headers without inspecting the manifest body.\n\nRelated-Bug: #1813202\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n'}, {'number': 33, 'created': '2024-03-21 10:48:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9e713648524dd099ee9cfc94ed3a3b4c8e1e5f3b', 'message': 'Delete s3api MPU segments when the manifest expires\n\nThe object-expirer will delete s3api MPU segments automatically when it\nexpires an s3api manifest.\n\nThis is just a best effort cleanup of the segments. In some\ncircumstances (e.g. when manifest objects are not consistent) this may\nfail to delete all segments. However, s3api MPUs already have a related\nbug to address orphaned segments.  The automatic deletion is only\napplied to s3api segments, not to SLO segments in general, because:\n\n(a) s3api segments cannot be referenced via the S3 API, and are\ntherefore orphaned as soon as the manifest is deleted; SLO segments in\ngeneral are not necessarily orphaned when a manifest is deleted.\n\n(b) the names of s3api MPU segments can be easily inferred from the\nmanifest DELETE response headers without inspecting the manifest body.\n\nRelated-Bug: #1813202\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n'}, {'number': 34, 'created': '2024-04-01 14:48:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/92be61cb7f653e51998524a59fa385f59d9f9168', 'message': 'Delete s3api MPU segments when expiring the manifest\n\ns3api MPU segments will be automatically deleted by the expirer when it\nexpires an s3api manifest.\n\nThis is just a best effort cleanup of the segments. In some\ncircumstances (e.g. when manifest objects are not consistent) this may\nfail to delete all segments. However, s3api MPUs already have a related\nbug to address orphaned segments.\n\nThe automatic deletion is only applied to s3api segments, not to SLO\nsegments in general, because:\n\n(a) s3api segments cannot be referenced via the S3 API, and are\ntherefore orphaned as soon as the manifest is deleted; SLO segments in\ngeneral are not necessarily orphaned when a manifest is deleted.\n\n(b) the names of s3api MPU segments can be easily inferred from the\nmanifest DELETE response headers without inspecting the manifest body.\n\nRelated-Bug: #1813202\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n'}, {'number': 35, 'created': '2024-04-09 19:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b83741d2d356f7aa6a5c46e35ea6b3a725a5c7db', 'message': 'Delete s3api MPU segments when expiring the manifest\n\ns3api MPU segments will be automatically deleted by the expirer when it\nexpires an s3api manifest.\n\nThis is just a best effort cleanup of the segments. In some\ncircumstances (e.g. when manifest objects are not consistent) this may\nfail to delete all segments. However, s3api MPUs already have a related\nbug to address orphaned segments.\n\nThe automatic deletion is only applied to s3api segments, not to SLO\nsegments in general, because:\n\n(a) s3api segments cannot be referenced via the S3 API, and are\ntherefore orphaned as soon as the manifest is deleted; SLO segments in\ngeneral are not necessarily orphaned when a manifest is deleted.\n\n(b) the names of s3api MPU segments can be easily inferred from the\nmanifest DELETE response headers without inspecting the manifest body.\n\nRelated-Bug: #1813202\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n'}, {'number': 36, 'created': '2024-05-01 18:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/491ffa8b3438183ac7a69bf690a49bd28eda484e', 'message': 'Delete s3api MPU segments when expiring the manifest\n\ns3api MPU segments will be automatically deleted by the expirer when it\nexpires an s3api manifest.\n\nThis is just a best effort cleanup of the segments. In some\ncircumstances (e.g. when manifest objects are not consistent) this may\nfail to delete all segments. However, s3api MPUs already have a related\nbug to address orphaned segments.\n\nThe automatic deletion is only applied to s3api segments, not to SLO\nsegments in general, because:\n\n(a) s3api segments cannot be referenced via the S3 API, and are\ntherefore orphaned as soon as the manifest is deleted; SLO segments in\ngeneral are not necessarily orphaned when a manifest is deleted.\n\n(b) the names of s3api MPU segments can be easily inferred from the\nmanifest DELETE response headers without inspecting the manifest body.\n\nRelated-Bug: #1813202\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n'}, {'number': 37, 'created': '2024-05-21 19:23:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9f653df27aaa18774ca50426e4f39c8d0f039e67', 'message': 'Delete s3api MPU segments when expiring the manifest\n\ns3api MPU segments will be automatically deleted by the expirer when it\nexpires an s3api manifest.\n\nThis is just a best effort cleanup of the segments. In some\ncircumstances (e.g. when manifest objects are not consistent) this may\nfail to delete all segments. However, s3api MPUs already have a related\nbug to address orphaned segments.\n\nThe automatic deletion is only applied to s3api segments, not to SLO\nsegments in general, because:\n\n(a) s3api segments cannot be referenced via the S3 API, and are\ntherefore orphaned as soon as the manifest is deleted; SLO segments in\ngeneral are not necessarily orphaned when a manifest is deleted.\n\n(b) the names of s3api MPU segments can be easily inferred from the\nmanifest DELETE response headers without inspecting the manifest body.\n\nRelated-Bug: #1813202\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n'}, {'number': 38, 'created': '2024-06-03 22:24:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ab5533ca169fcbf8d4671f6925256e3175670bc7', 'message': ""Delete s3api MPU segments when expiring the manifest\n\ns3api MPU segments will be automatically deleted by the expirer when it\nexpires an s3api manifest.\n\nThis is just a best effort cleanup of the segments. In some\ncircumstances (e.g. when manifest objects are not consistent) this may\nfail to delete all segments. However, s3api MPUs already have a related\nbug to address orphaned segments.\n\nThe automatic deletion is only applied to s3api segments, not to SLO\nsegments in general, because:\n\n(a) s3api segments cannot be referenced via the S3 API, and are\ntherefore orphaned as soon as the manifest is deleted; SLO segments in\ngeneral are not necessarily orphaned when a manifest is deleted.\n\n(b) the names of s3api MPU segments can be easily inferred from the\nmanifest DELETE response headers without inspecting the manifest body.\n\nDrive-by: also update expirer.embed_expirer_bytes_in_ctype to report the\nslo_size instead of the manifest content-length (since we'll reap the\nwhole thing)\n\nRelated-Bug: #1813202\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n""}, {'number': 39, 'created': '2024-06-04 18:11:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4b729c66577f9e4d7b6679715e17cdd166b6b33b', 'message': ""Delete s3api MPU segments when expiring the manifest\n\ns3api MPU segments will be automatically deleted by the expirer when it\nexpires an s3api manifest.\n\nThis is just a best effort cleanup of the segments. In some\ncircumstances (e.g. when manifest objects are not consistent) this may\nfail to delete all segments. However, s3api MPUs already have a related\nbug to address orphaned segments.\n\nThe automatic deletion is only applied to s3api segments, not to SLO\nsegments in general, because:\n\n(a) s3api segments cannot be referenced via the S3 API, and are\ntherefore orphaned as soon as the manifest is deleted; SLO segments in\ngeneral are not necessarily orphaned when a manifest is deleted.\n\n(b) the names of s3api MPU segments can be easily inferred from the\nmanifest DELETE response headers without inspecting the manifest body.\n\nDrive-by: also update expirer.embed_expirer_bytes_in_ctype to report the\nslo_size instead of the manifest content-length (since we'll reap the\nwhole thing)\n\nRelated-Bug: #1813202\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n""}, {'number': 40, 'created': '2024-06-04 20:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c12758f39ab4a70d4ac4fa3940f4149794130169', 'message': ""Delete s3api MPU segments when expiring the manifest\n\ns3api MPU segments will be automatically deleted by the expirer when it\nexpires an s3api manifest.\n\nThis is just a best effort cleanup of the segments. In some\ncircumstances (e.g. when manifest objects are not consistent) this may\nfail to delete all segments. However, s3api MPUs already have a related\nbug to address orphaned segments.\n\nThe automatic deletion is only applied to s3api segments, not to SLO\nsegments in general, because:\n\n(a) s3api segments cannot be referenced via the S3 API, and are\ntherefore orphaned as soon as the manifest is deleted; SLO segments in\ngeneral are not necessarily orphaned when a manifest is deleted.\n\n(b) the names of s3api MPU segments can be easily inferred from the\nmanifest DELETE response headers without inspecting the manifest body.\n\nDrive-by: also update expirer.embed_expirer_bytes_in_ctype to report the\nslo_size instead of the manifest content-length (since we'll reap the\nwhole thing)\n\nRelated-Bug: #1813202\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n""}, {'number': 41, 'created': '2024-06-04 21:05:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e8812eaf70b5ae4a70a75e17c8133fdab9d5ec5c', 'message': ""Delete s3api MPU segments when expiring the manifest\n\ns3api MPU segments will be automatically deleted by the expirer when it\nexpires an s3api manifest.\n\nThis is just a best effort cleanup of the segments. In some\ncircumstances (e.g. when manifest objects are not consistent) this may\nfail to delete all segments. However, s3api MPUs already have a related\nbug to address orphaned segments.\n\nThe automatic deletion is only applied to s3api segments, not to SLO\nsegments in general, because:\n\n(a) s3api segments cannot be referenced via the S3 API, and are\ntherefore orphaned as soon as the manifest is deleted; SLO segments in\ngeneral are not necessarily orphaned when a manifest is deleted.\n\n(b) the names of s3api MPU segments can be easily inferred from the\nmanifest DELETE response headers without inspecting the manifest body.\n\nDrive-by: also update expirer.embed_expirer_bytes_in_ctype to report the\nslo_size instead of the manifest content-length (since we'll reap the\nwhole thing)\n\nRelated-Bug: #1813202\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n""}, {'number': 42, 'created': '2024-06-13 23:07:27.000000000', 'files': ['test/probe/common.py', 'test/unit/obj/test_expirer.py', 'swift/obj/server.py', 'test/unit/common/test_internal_client.py', 'tools/playbooks/common/install_dependencies.yaml', 'test/unit/obj/test_server.py', 'swift/obj/expirer.py', 'swift/common/internal_client.py', 'test/probe/test_object_expirer.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/84a253375b4e48b23774848576308e98456bc938', 'message': ""Delete s3api MPU segments when expiring the manifest\n\ns3api MPU segments will be automatically deleted by the expirer when it\nexpires an s3api manifest.\n\nThis is just a best effort cleanup of the segments. In some\ncircumstances (e.g. when manifest objects are not consistent) this may\nfail to delete all segments. However, s3api MPUs already have a related\nbug to address orphaned segments.\n\nThe automatic deletion is only applied to s3api segments, not to SLO\nsegments in general, because:\n\n(a) s3api segments cannot be referenced via the S3 API, and are\ntherefore orphaned as soon as the manifest is deleted; SLO segments in\ngeneral are not necessarily orphaned when a manifest is deleted.\n\n(b) the names of s3api MPU segments can be easily inferred from the\nmanifest DELETE response headers without inspecting the manifest body.\n\nDrive-by: also update expirer.embed_expirer_bytes_in_ctype to report the\nslo_size instead of the manifest content-length (since we'll reap the\nwhole thing)\n\nRelated-Bug: #1813202\nChange-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415\n""}]",143,800701,84a253375b4e48b23774848576308e98456bc938,149,6,42,1179,,,0,"Delete s3api MPU segments when expiring the manifest

s3api MPU segments will be automatically deleted by the expirer when it
expires an s3api manifest.

This is just a best effort cleanup of the segments. In some
circumstances (e.g. when manifest objects are not consistent) this may
fail to delete all segments. However, s3api MPUs already have a related
bug to address orphaned segments.

The automatic deletion is only applied to s3api segments, not to SLO
segments in general, because:

(a) s3api segments cannot be referenced via the S3 API, and are
therefore orphaned as soon as the manifest is deleted; SLO segments in
general are not necessarily orphaned when a manifest is deleted.

(b) the names of s3api MPU segments can be easily inferred from the
manifest DELETE response headers without inspecting the manifest body.

Drive-by: also update expirer.embed_expirer_bytes_in_ctype to report the
slo_size instead of the manifest content-length (since we'll reap the
whole thing)

Related-Bug: #1813202
Change-Id: Ib5cec0e552cd51592653e9e100729fcf91f99415
",git fetch https://review.opendev.org/openstack/swift refs/changes/01/800701/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/server.py', 'swift/obj/expirer.py', 'swift/common/internal_client.py', 'swift/proxy/controllers/base.py']",4,178674f074e20462cca411ea28b0f6a348685c5e,task-container-per-day,"def add_s3api_metadata(resp_headers, all_headers): s3api_meta = set() for headers in all_headers: headers = dict(headers) upload_id = headers.get('x-object-sysmeta-s3api-upload-id') if not upload_id: continue etag = headers.get('x-object-sysmeta-s3api-etag') if not etag: continue upload_segments = '%s/%s' % (upload_id, etag.rsplit('-', 1)[1]) s3api_meta.add(upload_segments) if not s3api_meta: return key = 'X-Backend-S3Api-Upload-Segments' upload_segments = ','.join(s3api_meta) if hasattr(resp_headers, 'append'): resp_headers.append((key, upload_segments)) else: # I think this only happens in tests resp_headers[key] = upload_segments resp_headers = headers[status_index] add_s3api_metadata(resp_headers, headers) update_headers(resp, resp_headers)"," update_headers(resp, headers[status_index])",52,6
openstack%2Fproject-config~921991,openstack/project-config,master,Ibc4ceef42afc5c0d2ba5c648408cde1843fbc814,Correct OpenMetal region from iad3 to IAD3,MERGED,2024-06-13 23:09:05.000000000,2024-06-14 00:03:35.000000000,2024-06-13 23:55:48.000000000,"[{'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-13 23:09:05.000000000', 'files': ['nodepool/nodepool.yaml', 'nodepool/nl02.opendev.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ffecbaca066629b6ae74231ecca7ec1babb23bf1', 'message': 'Correct OpenMetal region from iad3 to IAD3\n\nBrown bag fix for mis-cased region name in the Nodepool config.\n\nChange-Id: Ibc4ceef42afc5c0d2ba5c648408cde1843fbc814\n'}]",0,921991,ffecbaca066629b6ae74231ecca7ec1babb23bf1,7,2,1,5263,,,0,"Correct OpenMetal region from iad3 to IAD3

Brown bag fix for mis-cased region name in the Nodepool config.

Change-Id: Ibc4ceef42afc5c0d2ba5c648408cde1843fbc814
",git fetch https://review.opendev.org/openstack/project-config refs/changes/91/921991/1 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/nodepool.yaml', 'nodepool/nl02.opendev.org.yaml']",2,ffecbaca066629b6ae74231ecca7ec1babb23bf1,, region-name: 'IAD3', region-name: 'iad3',2,2
openstack%2Fswift~861271,openstack/swift,master,I0bdc98765d05e91f872ef39d4722f91711a5641f,tempauth: Support fernet tokens,NEW,2022-10-13 23:58:25.000000000,2024-06-13 23:48:56.000000000,,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-13 23:58:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/66402337f69ef8fddd9c388094d7dfa9e6a37fbf', 'message': 'tempauth: Support fernet tokens\n\nAdd a new config option, fernet_key. If set, use fernet tokens for\nprimary storage rather than memcached. This allows generated tokens\nto be validated even if memcached is restarted.\n\nAdditionally, opportunistically compress groups before minting tokens.\n\nChange-Id: I0bdc98765d05e91f872ef39d4722f91711a5641f\n'}, {'number': 2, 'created': '2023-02-14 20:11:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7d2cc7092e8a74c6be7654035ae0fc49f32bd293', 'message': 'tempauth: Support fernet tokens\n\nAdd a new config option, fernet_key. If set, use fernet tokens for\nprimary storage rather than memcached. This allows generated tokens\nto be validated even if memcached is restarted. Note that the key\nmust match across all proxies in the cluster.\n\nAdditionally, opportunistically compress groups before minting tokens.\n\nChange-Id: I0bdc98765d05e91f872ef39d4722f91711a5641f\n'}, {'number': 3, 'created': '2023-02-17 19:18:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4ed7cede2534bb0b5608207a99941ae7044c1f43', 'message': 'tempauth: Support fernet tokens\n\nAdd a new config option, fernet_key. If set, use fernet tokens for\nprimary storage rather than memcached. This allows generated tokens\nto be validated even if memcached is restarted. Note that the key\nmust match across all proxies in the cluster.\n\nAdditionally, opportunistically compress groups before minting tokens.\n\nChange-Id: I0bdc98765d05e91f872ef39d4722f91711a5641f\n'}, {'number': 4, 'created': '2023-04-06 03:58:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/bc0866c8c5fe9cc0f614f676b9c1a7fe03e5f332', 'message': 'tempauth: Support fernet tokens\n\nAdd a new config option, fernet_key. If set, use fernet tokens for\nprimary storage rather than memcached. This allows generated tokens\nto be validated even if memcached is restarted. Note that the key\nmust match across all proxies in the cluster.\n\nAdditionally, opportunistically compress groups before minting tokens.\n\nChange-Id: I0bdc98765d05e91f872ef39d4722f91711a5641f\n'}, {'number': 5, 'created': '2024-06-13 22:29:29.000000000', 'files': ['test/unit/common/middleware/test_tempauth.py', 'swift/common/middleware/crypto/keymaster.py', 'etc/proxy-server.conf-sample', 'swift/common/middleware/tempauth.py', 'swift/common/middleware/crypto/kms_keymaster.py', 'swift/common/utils/__init__.py', 'swift/common/middleware/crypto/kmip_keymaster.py', 'test/unit/common/middleware/crypto/test_keymaster.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/310ac792075a75574463a98fd6a72dbd203c6e64', 'message': 'tempauth: Support fernet tokens\n\nTempauth fernet tokens use a secret shared among all proxies to encrypt\nuser group information. Because they are encrypted, clients can neither\nview nor edit this information; it is an opaque bearer token similar to\nthe existing memcached-backed tokens (just much longer). Note that\ntokens still expire after the configured token_life.\n\nAdd a new set of config options of the form\n\n   fernet_key_<keyid> = <32 url-safe base64-encoded bytes>\n\nAny of the configured keys will be used to attempt to decrypt tokens\nstarting with ""ftk"" and extract group information.\n\nAnother new config option\n\n   active_fernet_key_id = <keyid>\n\ndictates which key should be used when minting tokens. Such tokens\nwill start with ""ftk"" to distinguish them from memcached-backed tokens\n(which continue to start with ""tk""). If active_fernet_key_id is not\nconfigured, memcached-backed tokens continue to be used.\n\nTogether, these allow seamless transitions from memcached-backed tokens\nto fernet tokens, as well as transitions from one fernet key to another:\n\n   1. Add a new fernet_key_<keyid> entry.\n   2. Ensure all proxies have the new config with fernet_key_<keyid>.\n   3. Set active_fernet_key_id = <keyid>.\n   4. Ensure all proxies have the new config with the new\n      active_fernet_key_id.\n\nThis is similar to the key-rotation process for the encryption feature,\nexcept that old keys may be pruned following a token_life period.\n\nAdditionally, opportunistically compress groups before minting tokens.\nCompressed tokens will begin with ""zftk"" but otherwise behave just like\n""ftk"" tokens.\n\nChange-Id: I0bdc98765d05e91f872ef39d4722f91711a5641f\n'}]",10,861271,310ac792075a75574463a98fd6a72dbd203c6e64,23,2,5,15343,,,0,"tempauth: Support fernet tokens

Tempauth fernet tokens use a secret shared among all proxies to encrypt
user group information. Because they are encrypted, clients can neither
view nor edit this information; it is an opaque bearer token similar to
the existing memcached-backed tokens (just much longer). Note that
tokens still expire after the configured token_life.

Add a new set of config options of the form

   fernet_key_<keyid> = <32 url-safe base64-encoded bytes>

Any of the configured keys will be used to attempt to decrypt tokens
starting with ""ftk"" and extract group information.

Another new config option

   active_fernet_key_id = <keyid>

dictates which key should be used when minting tokens. Such tokens
will start with ""ftk"" to distinguish them from memcached-backed tokens
(which continue to start with ""tk""). If active_fernet_key_id is not
configured, memcached-backed tokens continue to be used.

Together, these allow seamless transitions from memcached-backed tokens
to fernet tokens, as well as transitions from one fernet key to another:

   1. Add a new fernet_key_<keyid> entry.
   2. Ensure all proxies have the new config with fernet_key_<keyid>.
   3. Set active_fernet_key_id = <keyid>.
   4. Ensure all proxies have the new config with the new
      active_fernet_key_id.

This is similar to the key-rotation process for the encryption feature,
except that old keys may be pruned following a token_life period.

Additionally, opportunistically compress groups before minting tokens.
Compressed tokens will begin with ""zftk"" but otherwise behave just like
""ftk"" tokens.

Change-Id: I0bdc98765d05e91f872ef39d4722f91711a5641f
",git fetch https://review.opendev.org/openstack/swift refs/changes/71/861271/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/proxy-server.conf-sample', 'swift/common/middleware/tempauth.py']",2,66402337f69ef8fddd9c388094d7dfa9e6a37fbf,tempauth-fernet-tokens,"import zlib from cryptography import fernet if conf.get('fernet_key'): self.fernet = fernet.Fernet(conf.get('fernet_key')) else: self.fernet = None def groups_from_fernet(self, env, token): try: return self.fernet.decrypt( token.encode('ascii'), ttl=self.token_life).decode('utf8') except (ValueError, fernet.InvalidToken): return None def groups_from_compressed_fernet(self, env, token): try: return zlib.decompress(self.fernet.decrypt( token.encode('ascii'), ttl=self.token_life)).decode('utf8') except (ValueError, fernet.InvalidToken): return None def groups_from_memcache(self, env, token): memcache_client = cache_from_env(env) if not memcache_client: raise Exception('Memcache required') memcache_token_key = '%s/token/%stk%s' % ( self.reseller_prefix, self.reseller_prefix, token) cached_auth_data = memcache_client.get(memcache_token_key) groups = None if cached_auth_data: expires, groups = cached_auth_data if expires < time(): groups = None elif six.PY2: groups = groups.encode('utf8') return groups handlers = [ ('zftk', self.groups_from_compressed_fernet), ('ftk', self.groups_from_fernet), ('tk', self.groups_from_memcache), ] if token: for prefix, handler in handlers: prefix = self.reseller_prefix + prefix if token.startswith(prefix): groups = handler(env, token[len(prefix):]) if groups: break if self.fernet: expires = time() + self.token_life token_prefix = 'ftk' groups = self._get_user_groups( account, account_user, account_id, ).encode('utf8') compressed = zlib.compress(groups) if len(compressed) < len(groups): token_prefix = 'zftk' groups = compressed token = ''.join([ self.reseller_prefix, token_prefix, self.fernet.encrypt(groups).decode('ascii'), ]) return token, expires "," groups = None memcache_client = cache_from_env(env) if not memcache_client: raise Exception('Memcache required') memcache_token_key = '%s/token/%s' % (self.reseller_prefix, token) cached_auth_data = memcache_client.get(memcache_token_key) if cached_auth_data: expires, groups = cached_auth_data if expires < time(): groups = None elif six.PY2: groups = groups.encode('utf8')",73,12
openstack%2Fcinder~912053,openstack/cinder,master,Ibac4b5f402cd4d2a2786ee096ac3457ef0a38364,[SVf]: Enable support to extend a volume with snapshot,NEW,2024-03-13 11:45:43.000000000,2024-06-13 23:18:01.000000000,,"[{'_account_id': 22348}, {'_account_id': 36538}]","[{'number': 1, 'created': '2024-03-13 11:45:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1839524f3ee90438cda01ba78c47efa70bd7b304', 'message': 'SVf]: Enable support to extend a volume with snapshot\n\nCurrently, IBM SVf driver doesn’t allow extending a volume which\nhas a pre-existing snapshot. Whereas IBM Storage has this capability.\nHence, need to enable this support on IBM SVf cinder driver.\n\nCloses-Bug: #2053018\nChange-Id: Ibac4b5f402cd4d2a2786ee096ac3457ef0a38364\n'}, {'number': 2, 'created': '2024-03-13 11:48:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ef627d59cae848ca9970f2bdf4ffa11792566aee', 'message': '[SVf]: Enable support to extend a volume with snapshot\n\nCurrently, IBM SVf driver doesn’t allow extending a volume which\nhas a pre-existing snapshot. Whereas IBM Storage has this capability.\nHence, need to enable this support on IBM SVf cinder driver.\n\nCloses-Bug: #2053018\nChange-Id: Ibac4b5f402cd4d2a2786ee096ac3457ef0a38364\n'}, {'number': 3, 'created': '2024-03-29 07:11:36.000000000', 'files': ['releasenotes/notes/bug-2053018-ibm-svf-enable-support-to-extend-volume-with-snapshot-985e1b3bafb93b6d.yaml', 'cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2b5cca102c8e0136dc5ec1df0779d742eca05acd', 'message': '[SVf]: Enable support to extend a volume with snapshot\n\nCurrently, IBM SVf driver doesn’t allow extending a volume which\nhas a pre-existing snapshot. Whereas IBM Storage has this capability.\nHence, need to enable this support on IBM SVf cinder driver.\n\nCloses-Bug: #2053018\nChange-Id: Ibac4b5f402cd4d2a2786ee096ac3457ef0a38364\n'}]",6,912053,2b5cca102c8e0136dc5ec1df0779d742eca05acd,43,2,3,36439,,,0,"[SVf]: Enable support to extend a volume with snapshot

Currently, IBM SVf driver doesn’t allow extending a volume which
has a pre-existing snapshot. Whereas IBM Storage has this capability.
Hence, need to enable this support on IBM SVf cinder driver.

Closes-Bug: #2053018
Change-Id: Ibac4b5f402cd4d2a2786ee096ac3457ef0a38364
",git fetch https://review.opendev.org/openstack/cinder refs/changes/53/912053/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-2053018-ibm-svf-enable-support-to-extend-volume-with-snapshot-985e1b3bafb93b6d.yaml', 'cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py']",3,1839524f3ee90438cda01ba78c47efa70bd7b304,," print(""HARSH: volume"")", if not ret: msg = (_('_extend_volume_op: Extending a volume with snapshots is ' 'not supported.')) LOG.error(msg) raise exception.VolumeDriverException(message=msg) ,8,10
openstack%2Fkolla~921658,openstack/kolla,master,Ida297f5c6473a1b4f2e58b691a3dec6a5c3f078d,Add new hardware prometheus exporter:,NEW,2024-06-10 11:14:06.000000000,2024-06-13 22:58:57.000000000,,"[{'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2024-06-10 11:14:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/aaa3cd6ab971e616a6176648a1fee08a71711b82', 'message': '[WIP] - Add new hardware prometheus exporter:\n\n  * Add a BMC dedicated exporter that leverage BMCs redfish endpoints.\n\nCloses-Bug: #2068884\nChange-Id: Ida297f5c6473a1b4f2e58b691a3dec6a5c3f078d\n'}, {'number': 2, 'created': '2024-06-13 09:20:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/15a970e69cd55687edfa1211574836f4c9ce3e1f', 'message': '[WIP] - Add new hardware prometheus exporter:\n\n  * Add a BMC dedicated exporter that leverage BMCs redfish endpoints.\n\nCloses-Bug: #2068884\nChange-Id: Ida297f5c6473a1b4f2e58b691a3dec6a5c3f078d\n'}, {'number': 3, 'created': '2024-06-13 09:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0991e4e7024738845f73f14077e21a9620413d4b', 'message': 'Add new hardware prometheus exporter:\n\n  * Add a BMC dedicated exporter that leverage BMCs redfish endpoints.\n\nCloses-Bug: #2068884\nChange-Id: Ida297f5c6473a1b4f2e58b691a3dec6a5c3f078d\n'}, {'number': 4, 'created': '2024-06-13 11:54:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9ecbd9763e442f9fb0e3ff0ee27f7a8fc11100bc', 'message': 'Add new hardware prometheus exporter:\n\n  * Add a BMC dedicated exporter that leverage BMCs redfish endpoints.\n\nCloses-Bug: #2068884\nChange-Id: Ida297f5c6473a1b4f2e58b691a3dec6a5c3f078d\n'}, {'number': 5, 'created': '2024-06-13 20:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1a3ce83d03a7f9db09443831fa2591a035385219', 'message': 'Add new hardware prometheus exporter:\n\n  * Add a BMC dedicated exporter that leverage BMCs redfish endpoints.\n\nCloses-Bug: #2068884\nChange-Id: Ida297f5c6473a1b4f2e58b691a3dec6a5c3f078d\n'}, {'number': 6, 'created': '2024-06-13 20:03:04.000000000', 'files': ['kolla/common/sources.py', 'releasenotes/notes/add-prometheus_bmc_exporter-252e69f09d182100.yaml', 'docker/prometheus/prometheus-bmc-exporter/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/67cac21d1db430e4c475199168167bcd1d7a4f6e', 'message': 'Add new hardware prometheus exporter:\n\n  * Add a BMC dedicated exporter that leverage BMCs IPMI endpoints.\n\nCloses-Bug: #2068884\nChange-Id: Ida297f5c6473a1b4f2e58b691a3dec6a5c3f078d\n'}]",5,921658,67cac21d1db430e4c475199168167bcd1d7a4f6e,19,2,6,32398,,,0,"Add new hardware prometheus exporter:

  * Add a BMC dedicated exporter that leverage BMCs IPMI endpoints.

Closes-Bug: #2068884
Change-Id: Ida297f5c6473a1b4f2e58b691a3dec6a5c3f078d
",git fetch https://review.opendev.org/openstack/kolla refs/changes/58/921658/1 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/unbuildable.py', 'kolla/common/sources.py', 'docker/prometheus/prometheus-bmc-exporter/Dockerfile.j2']",3,aaa3cd6ab971e616a6176648a1fee08a71711b82,bug/2068884,"FROM {{ namespace }}/{{ image_prefix }}prometheus-base:{{ tag }} {% block labels %} LABEL maintainer=""{{ maintainer }}"" name=""{{ image_name }}"" build-date=""{{ build_date }}"" {% endblock %} {% block prometheus_bmc_exporter_header %}{% endblock %} {% block prometheus_bmc_exporter_install %} ADD prometheus-bmc-exporter-archive /prometheus-bmc-exporter-source RUN mkdir /opt/bmc-exporter \ && cp /prometheus-bmc-exporter-source/bmc-exporter /opt/bmc-exporter/ {% endblock %} {% block prometheus_bmc_exporter_footer %}{% endblock %} {% block footer %}{% endblock %} USER prometheus ",,27,0
openstack%2Fproject-config~921987,openstack/project-config,master,If8e9b7105b4c7a13e87ebb4f6c985e821c30a842,Add OpenMetal to Nodepool and Grafana,MERGED,2024-06-13 20:29:30.000000000,2024-06-13 22:42:40.000000000,2024-06-13 22:33:56.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-13 20:29:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/cfd03759ac9c291d17da5663ccecf23edec109f8', 'message': ""Add OnMetal to Nodepool and Grafana\n\nThis is essentially reverting commits bd15ddc and cb4b99b which were\nthe final stages of winding down and cleaning up the old InMotion\ncloud which OnMetal has replaced, with the cloud name updated (but\nregion kept the same) and grafyaml data regenerated. It stops short\nof actually booting nodes in the new environment until we have a\nchance to spot check things once images get uploaded.\n\nSince this is re-adding diskimages back to nl02, I refrained from\nincluding centos-8-stream which is in the progress of being removed,\nso that we don't unnecessarily upload images we're not planning to\nboot.\n\nChange-Id: If8e9b7105b4c7a13e87ebb4f6c985e821c30a842\n""}, {'number': 2, 'created': '2024-06-13 20:34:21.000000000', 'files': ['grafana/nodepool-openmetal.yaml', 'nodepool/nodepool.yaml', 'grafana/create-nodepool.sh', 'nodepool/nl02.opendev.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/28ae63164225a914a89cc7a057f422d7b9ca1685', 'message': ""Add OpenMetal to Nodepool and Grafana\n\nThis is essentially reverting commits bd15ddc and cb4b99b which were\nthe final stages of winding down and cleaning up the old InMotion\ncloud which OpenMetal has replaced, with the cloud name updated (but\nregion kept the same) and grafyaml data regenerated. It stops short\nof actually booting nodes in the new environment until we have a\nchance to spot check things once images get uploaded.\n\nSince this is re-adding diskimages back to nl02, I refrained from\nincluding centos-8-stream which is in the progress of being removed,\nso that we don't unnecessarily upload images we're not planning to\nboot.\n\nChange-Id: If8e9b7105b4c7a13e87ebb4f6c985e821c30a842\n""}]",1,921987,28ae63164225a914a89cc7a057f422d7b9ca1685,9,3,2,5263,,,0,"Add OpenMetal to Nodepool and Grafana

This is essentially reverting commits bd15ddc and cb4b99b which were
the final stages of winding down and cleaning up the old InMotion
cloud which OpenMetal has replaced, with the cloud name updated (but
region kept the same) and grafyaml data regenerated. It stops short
of actually booting nodes in the new environment until we have a
chance to spot check things once images get uploaded.

Since this is re-adding diskimages back to nl02, I refrained from
including centos-8-stream which is in the progress of being removed,
so that we don't unnecessarily upload images we're not planning to
boot.

Change-Id: If8e9b7105b4c7a13e87ebb4f6c985e821c30a842
",git fetch https://review.opendev.org/openstack/project-config refs/changes/87/921987/1 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/nodepool.yaml', 'grafana/create-nodepool.sh', 'grafana/nodepool-onmetal.yaml', 'nodepool/nl02.opendev.org.yaml']",4,cfd03759ac9c291d17da5663ccecf23edec109f8,,providers: - name: onmetal-iad3 region-name: 'iad3' # Changing this cloud value impacts things like mirror names in jobs. # It should be changed carefully. cloud: onmetal boot-timeout: 120 launch-timeout: 300 rate: 0.01 diskimages: &provider_diskimages - name: centos-9-stream config-drive: true - name: debian-bookworm config-drive: true - name: debian-bullseye config-drive: true - name: gentoo-17-0-systemd config-drive: true - name: rockylinux-8 config-drive: true - name: rockylinux-9 config-drive: true - name: ubuntu-bionic config-drive: true - name: ubuntu-focal config-drive: true - name: ubuntu-jammy config-drive: true - name: ubuntu-noble config-drive: true - name: ubuntu-xenial config-drive: true - name: openEuler-22-03-LTS config-drive: true pools: - name: main max-servers: 0 labels: - name: centos-9-stream min-ram: 8000 flavor-name: 'opendev-zuul' diskimage: centos-9-stream key-name: infra-root-keys-2024-04-08 - name: debian-bookworm min-ram: 8000 flavor-name: 'opendev-zuul' diskimage: debian-bookworm key-name: infra-root-keys-2024-04-08 - name: debian-bullseye min-ram: 8000 flavor-name: 'opendev-zuul' diskimage: debian-bullseye key-name: infra-root-keys-2024-04-08 - name: gentoo-17-0-systemd min-ram: 8000 flavor-name: 'opendev-zuul' diskimage: gentoo-17-0-systemd key-name: infra-root-keys-2024-04-08 - name: ubuntu-bionic min-ram: 8000 flavor-name: 'opendev-zuul' diskimage: ubuntu-bionic key-name: infra-root-keys-2024-04-08 - name: ubuntu-focal min-ram: 8000 flavor-name: 'opendev-zuul' diskimage: ubuntu-focal key-name: infra-root-keys-2024-04-08 - name: ubuntu-jammy min-ram: 8000 flavor-name: 'opendev-zuul' diskimage: ubuntu-jammy key-name: infra-root-keys-2024-04-08 - name: ubuntu-noble min-ram: 8000 flavor-name: 'opendev-zuul' diskimage: ubuntu-noble key-name: infra-root-keys-2024-04-08 - name: ubuntu-xenial min-ram: 8000 flavor-name: 'opendev-zuul' diskimage: ubuntu-xenial key-name: infra-root-keys-2024-04-08 - name: openEuler-22-03-LTS min-ram: 8000 flavor-name: 'opendev-zuul' diskimage: openEuler-22-03-LTS key-name: infra-root-keys-2024-04-08, - name: centos-8-streamproviders: [] - name: centos-8-stream,349,3
openstack%2Fwhitebox-tempest-plugin~921092,openstack/whitebox-tempest-plugin,master,I5aee8f48325cd43d90c981252a5af1d745882239,Adds libvirt watchdog,MERGED,2024-06-04 06:20:05.000000000,2024-06-13 22:37:05.000000000,2024-06-13 22:37:05.000000000,"[{'_account_id': 8864}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 31033}]","[{'number': 1, 'created': '2024-06-04 06:20:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/805ec87ba1220ea8e1bcd6c7120cb639dbf4686c', 'message': 'Adds libvirt watchdog\n\nAdd test for different supported actions via Flavor and Image\n\nChange-Id: I5aee8f48325cd43d90c981252a5af1d745882239\n'}, {'number': 2, 'created': '2024-06-12 05:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/8326050ff3ebb51394042471357647768c8f7f5b', 'message': 'Adds libvirt watchdog\n\nAdd test for different supported actions via Flavor and Image\n\nChange-Id: I5aee8f48325cd43d90c981252a5af1d745882239\n'}, {'number': 3, 'created': '2024-06-12 05:50:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/fd722710fb525d4e3b6af90d1a467acf5245eedb', 'message': 'Adds libvirt watchdog\n\nAdd test for different supported actions via Flavor and Image\n\nChange-Id: I5aee8f48325cd43d90c981252a5af1d745882239\n'}, {'number': 4, 'created': '2024-06-12 10:20:41.000000000', 'files': ['requirements.txt', 'whitebox_tempest_plugin/api/compute/test_watchdog_devices.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/fd55f90eb69e96fbea609f3b6e736620c7189dc2', 'message': 'Adds libvirt watchdog\n\n- Add test for different supported actions via Flavor and Image\n- Adds ddt in requirements.txt\n\nChange-Id: I5aee8f48325cd43d90c981252a5af1d745882239\n'}]",9,921092,fd55f90eb69e96fbea609f3b6e736620c7189dc2,15,4,4,34860,,,0,"Adds libvirt watchdog

- Add test for different supported actions via Flavor and Image
- Adds ddt in requirements.txt

Change-Id: I5aee8f48325cd43d90c981252a5af1d745882239
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/92/921092/1 && git format-patch -1 --stdout FETCH_HEAD,['whitebox_tempest_plugin/api/compute/test_watchdog_devices.py'],1,805ec87ba1220ea8e1bcd6c7120cb639dbf4686c,libvirt-watchdog-device,"# Copyright 2024 Red Hat # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from whitebox_tempest_plugin.api.compute import base class WatchdogDeviceTestViaFalvor(base.BaseWhiteboxComputeTest): def _create_flavor(self, action): return self.create_flavor( extra_specs={""hw:watchdog_action"": action} ) def _get_watchdog_action_from_xml(self, server_id): root = self.get_server_xml(server_id) return root.find("".devices/watchdog"") def test_action_disabled(self): action = 'disabled' flavor = self._create_flavor(action) server = self.create_test_server( flavor=flavor['id'], wait_until='ACTIVE') watchdog_dev = self._get_watchdog_action_from_xml(server['id']) # as watchdog is disabled there is no watchdog dev in xml self.assertIsNone(watchdog_dev) def test_rest_all_actions(self): actions = [ 'reset', 'poweroff', 'pause', 'none', ] # [shutdown, dump, inject-nmi] are not supported actions for action in actions: flavor = self._create_flavor(action) server = self.create_test_server( flavor=flavor['id'], wait_until='ACTIVE') watchdog_dev = self._get_watchdog_action_from_xml(server['id']) self.assertEqual( action, watchdog_dev.attrib['action']) class WatchdogDeviceTestViaImage(WatchdogDeviceTestViaFalvor): def _get_image_with_watchdog_property(self, action): return self.copy_default_image(hw_watchdog_action=action) def test_action_disabled(self): action = 'disabled' image_id = self._get_image_with_watchdog_property(action) server = self.create_test_server( image_id=image_id, wait_until='ACTIVE') watchdog_dev = self._get_watchdog_action_from_xml(server['id']) # as watchdog is disabled there is no watchdog dev in xml self.assertIsNone(watchdog_dev) def test_rest_all_actions(self): actions = [ 'reset', 'poweroff', 'pause', 'none', ] # [shutdown, dump, inject-nmi] are not supported actions for action in actions: image_id = self._get_image_with_watchdog_property(action) server = self.create_test_server( image_id=image_id, wait_until='ACTIVE') watchdog_dev = self._get_watchdog_action_from_xml(server['id']) self.assertEqual( action, watchdog_dev.attrib['action']) ",,84,0
openstack%2Fopenstack-ansible-os_cinder~921984,openstack/openstack-ansible-os_cinder,stable/2023.1,I7a1931c51595e2f6ee1c5794230737d68740c049,Start iscsid on cinder-volume hosts using LVM backend,NEW,2024-06-13 19:53:45.000000000,2024-06-13 22:24:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-13 19:53:45.000000000', 'files': ['tasks/cinder_post_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/143f6468e14fa0acd5c586b98b1370cc07bab51b', 'message': 'Start iscsid on cinder-volume hosts using LVM backend\n\nThis is needed to create the iscsi initiator ID which may\nnot be present by default.\n\nChange-Id: I7a1931c51595e2f6ee1c5794230737d68740c049\n(cherry picked from commit 79f14e4aa456fe069e915abea5ff0a1e02e910b9)\n'}]",0,921984,143f6468e14fa0acd5c586b98b1370cc07bab51b,2,1,1,25023,,,0,"Start iscsid on cinder-volume hosts using LVM backend

This is needed to create the iscsi initiator ID which may
not be present by default.

Change-Id: I7a1931c51595e2f6ee1c5794230737d68740c049
(cherry picked from commit 79f14e4aa456fe069e915abea5ff0a1e02e910b9)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/84/921984/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/cinder_post_install.yml'],1,143f6468e14fa0acd5c586b98b1370cc07bab51b,,"# NOTE(jrosser) it is necessarry to start the iscsid service to # generate an initiator uuid if one is not already present - name: Ensure iscsid service is started service: name: ""iscsid"" state: started enabled: true when: - ""cinder_services['cinder-volume']['group'] in group_names"" - cinder_backend_lvm_inuse | bool ",,11,0
openstack%2Fopenstack-ansible-os_cinder~921982,openstack/openstack-ansible-os_cinder,stable/2024.1,I7a1931c51595e2f6ee1c5794230737d68740c049,Start iscsid on cinder-volume hosts using LVM backend,NEW,2024-06-13 19:53:03.000000000,2024-06-13 22:23:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-13 19:53:03.000000000', 'files': ['tasks/cinder_post_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/0c8574b34730f27500827b52c6e5ddc4b300cea7', 'message': 'Start iscsid on cinder-volume hosts using LVM backend\n\nThis is needed to create the iscsi initiator ID which may\nnot be present by default.\n\nChange-Id: I7a1931c51595e2f6ee1c5794230737d68740c049\n(cherry picked from commit 79f14e4aa456fe069e915abea5ff0a1e02e910b9)\n'}]",0,921982,0c8574b34730f27500827b52c6e5ddc4b300cea7,2,1,1,25023,,,0,"Start iscsid on cinder-volume hosts using LVM backend

This is needed to create the iscsi initiator ID which may
not be present by default.

Change-Id: I7a1931c51595e2f6ee1c5794230737d68740c049
(cherry picked from commit 79f14e4aa456fe069e915abea5ff0a1e02e910b9)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/82/921982/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/cinder_post_install.yml'],1,0c8574b34730f27500827b52c6e5ddc4b300cea7,,"# NOTE(jrosser) it is necessarry to start the iscsid service to # generate an initiator uuid if one is not already present - name: Ensure iscsid service is started service: name: ""iscsid"" state: started enabled: true when: - ""cinder_services['cinder-volume']['group'] in group_names"" - cinder_backend_lvm_inuse | bool ",,11,0
openstack%2Fopenstack-ansible-os_cinder~921983,openstack/openstack-ansible-os_cinder,stable/2023.2,I7a1931c51595e2f6ee1c5794230737d68740c049,Start iscsid on cinder-volume hosts using LVM backend,NEW,2024-06-13 19:53:26.000000000,2024-06-13 22:15:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-13 19:53:26.000000000', 'files': ['tasks/cinder_post_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/07aa5c952499fbd950b0e4befb9505618380fdc3', 'message': 'Start iscsid on cinder-volume hosts using LVM backend\n\nThis is needed to create the iscsi initiator ID which may\nnot be present by default.\n\nChange-Id: I7a1931c51595e2f6ee1c5794230737d68740c049\n(cherry picked from commit 79f14e4aa456fe069e915abea5ff0a1e02e910b9)\n'}]",0,921983,07aa5c952499fbd950b0e4befb9505618380fdc3,2,1,1,25023,,,0,"Start iscsid on cinder-volume hosts using LVM backend

This is needed to create the iscsi initiator ID which may
not be present by default.

Change-Id: I7a1931c51595e2f6ee1c5794230737d68740c049
(cherry picked from commit 79f14e4aa456fe069e915abea5ff0a1e02e910b9)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/83/921983/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/cinder_post_install.yml'],1,07aa5c952499fbd950b0e4befb9505618380fdc3,,"# NOTE(jrosser) it is necessarry to start the iscsid service to # generate an initiator uuid if one is not already present - name: Ensure iscsid service is started service: name: ""iscsid"" state: started enabled: true when: - ""cinder_services['cinder-volume']['group'] in group_names"" - cinder_backend_lvm_inuse | bool ",,11,0
openstack%2Fneutron~916407,openstack/neutron,master,I5350dff6be0daf1d4e5e5dfa4aab745b765436f7,Add new neutron.wsgi module,NEW,2024-04-19 11:11:03.000000000,2024-06-13 22:00:52.000000000,,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-19 11:11:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/83d266fb1c4aa6f7b9c03a39c8ac793e8a07b1ad', 'message': ""Add new neutron.wsgi module\n\nThis allows deployment tooling to easily switch from passing a binary\npath to passing a Python module path. We'll use it shortly.\n\nChange-Id: I5350dff6be0daf1d4e5e5dfa4aab745b765436f7\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2024-04-19 13:57:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3934ae14ada94f178a1d010ad25333bc56ec491d', 'message': ""Add new neutron.wsgi module\n\nThis allows deployment tooling to easily switch from passing a binary\npath to passing a Python module path. We'll use it shortly.\n\nChange-Id: I5350dff6be0daf1d4e5e5dfa4aab745b765436f7\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2024-04-29 22:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4f56f822ace5e50fb5794aafffd345e852b484fb', 'message': ""Add new neutron.wsgi module\n\nThis allows deployment tooling to easily switch from passing a binary\npath to passing a Python module path. We'll use it shortly.\n\nChange-Id: I5350dff6be0daf1d4e5e5dfa4aab745b765436f7\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2024-06-12 19:46:25.000000000', 'files': ['neutron/wsgi/__init__.py', 'neutron/wsgi/api.py', 'releasenotes/notes/add-neutron-wsgi-module-68e2418a0f9124e5.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/adb39e2d1c2b17dbc4d2ce55d1e35163a62bb6c6', 'message': ""Add new neutron.wsgi module\n\nThis allows deployment tooling to easily switch from passing a binary\npath to passing a Python module path. We'll use it shortly.\n\nChange-Id: I5350dff6be0daf1d4e5e5dfa4aab745b765436f7\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",2,916407,adb39e2d1c2b17dbc4d2ce55d1e35163a62bb6c6,25,5,4,15334,,,0,"Add new neutron.wsgi module

This allows deployment tooling to easily switch from passing a binary
path to passing a Python module path. We'll use it shortly.

Change-Id: I5350dff6be0daf1d4e5e5dfa4aab745b765436f7
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/07/916407/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/wsgi/__init__.py', 'neutron/wsgi/api.py', 'releasenotes/notes/add-neutron-wsgi-module-68e2418a0f9124e5.yaml']",3,83d266fb1c4aa6f7b9c03a39c8ac793e8a07b1ad,remove-wsgi_scripts,"--- features: - | A new module, ``neutron.wsgi``, has been added as a place to gather WSGI ``application`` objects. This is intended to ease deployment by providing a consistent location for these objects. For example, if using uWSGI then instead of: .. code-block:: ini [uwsgi] wsgi-file = /bin/neutron-api You can now use: .. code-block:: ini [uwsgi] module = neutron.wsgi.api:application This also simplifies deployment with other WSGI servers that expect module paths such as gunicorn. ",,46,0
openstack%2Fcinder~921094,openstack/cinder,master,I9930b3f3f0b3da6418a6f0f7e90fd165f8fbb719,Add new cinder volume driver: zte/vstorage,NEW,2024-06-04 07:47:08.000000000,2024-06-13 22:00:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-04 07:47:08.000000000', 'files': ['cinder/volume/drivers/zte/vstorage/vstorage_client.py', 'cinder/volume/drivers/zte/vstorage/vstorage_pub.py', 'cinder/volume/drivers/zte/vstorage/vstorage.py', 'cinder/volume/drivers/zte/__init__.py', 'cinder/volume/drivers/zte/vstorage/__init__.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f4950600d2965b9820d3a07b7e1de8aad4dd84bb', 'message': 'Add new cinder volume driver: zte/vstorage\n\nChange-Id: I9930b3f3f0b3da6418a6f0f7e90fd165f8fbb719\n'}]",3,921094,f4950600d2965b9820d3a07b7e1de8aad4dd84bb,14,1,1,37070,,,0,"Add new cinder volume driver: zte/vstorage

Change-Id: I9930b3f3f0b3da6418a6f0f7e90fd165f8fbb719
",git fetch https://review.opendev.org/openstack/cinder refs/changes/94/921094/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/zte/vstorage/vstorage_client.py', 'cinder/volume/drivers/zte/vstorage/vstorage_pub.py', 'cinder/volume/drivers/zte/vstorage/vstorage.py', 'cinder/volume/drivers/zte/__init__.py', 'cinder/volume/drivers/zte/vstorage/__init__.py']",5,f4950600d2965b9820d3a07b7e1de8aad4dd84bb,,,,1381,0
openstack%2Fswift~909882,openstack/swift,master,I115ffb1dc601652a979895d7944e011b951a91c1,stats: API for native labeled metrics,NEW,2024-02-22 14:59:53.000000000,2024-06-13 21:38:16.000000000,,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-02-22 14:59:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/fd51b09fbccff64d5e20982881a5b6c697560fbe', 'message': 'stats: API for native labeled metrics\n\nJust update the StatsdClient API; no callers yet.\n\nInclude two config options:\n  - log_statsd_label_mode, which specifies which label format to use\n  - log_statsd_emit_legacy, which dictates whether to emit both labeled\n    and old-style metrics dotted metrics\n\nChange-Id: I115ffb1dc601652a979895d7944e011b951a91c1\n'}, {'number': 2, 'created': '2024-02-22 17:55:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e342f401f5af661a23ce3c8a6b9ab69664992efc', 'message': 'stats: API for native labeled metrics\n\nJust update the StatsdClient API; no callers yet.\n\nInclude two config options:\n  - log_statsd_label_mode, which specifies which label format to use\n  - log_statsd_emit_legacy, which dictates whether to emit both labeled\n    and old-style metrics dotted metrics\n\nChange-Id: I115ffb1dc601652a979895d7944e011b951a91c1\n'}, {'number': 3, 'created': '2024-02-29 14:31:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5c88ca2d368f9f50879196b5d9853c770a92bf0b', 'message': 'stats: API for native labeled metrics\n\nJust update the StatsdClient API; no callers yet.\n\nInclude two config options:\n  - log_statsd_label_mode, which specifies which label format to use\n  - log_statsd_emit_legacy, which dictates whether to emit both labeled\n    and old-style metrics dotted metrics\n\nChange-Id: I115ffb1dc601652a979895d7944e011b951a91c1\n'}, {'number': 4, 'created': '2024-03-12 16:31:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b3cc97b494dbe2b8e0ca95bb17b7c14eafc77b36', 'message': 'stats: API for native labeled metrics\n\nJust update the StatsdClient API; no callers yet.\n\nInclude two config options:\n  - log_statsd_label_mode, which specifies which label format to use\n  - log_statsd_emit_legacy, which dictates whether to emit both labeled\n    and old-style metrics dotted metrics\n\nChange-Id: I115ffb1dc601652a979895d7944e011b951a91c1\n'}, {'number': 5, 'created': '2024-03-13 13:59:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/08365edbdc6b4fc81b598eb51eee2af51640f535', 'message': 'stats: API for native labeled metrics\n\nJust update the StatsdClient API; no callers yet.\n\nInclude two config options:\n  - log_statsd_label_mode, which specifies which label format to use\n  - log_statsd_emit_legacy, which dictates whether to emit both labeled\n    and old-style metrics dotted metrics\n\nChange-Id: I115ffb1dc601652a979895d7944e011b951a91c1\n'}, {'number': 6, 'created': '2024-03-25 19:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e91311e5364966f276ab83e7770251f072e3221f', 'message': 'stats: API for native labeled metrics\n\nJust update the StatsdClient API; no callers yet.\n\nInclude three config options:\n  - log_statsd_label_mode, which specifies which label format to use\n  - log_statsd_emit_legacy, which dictates whether to emit old-style\n    metrics dotted metrics\n  - statsd_userlabel_<name> = <value>, which supports user defined\n    labels with label format\n\nChange-Id: I115ffb1dc601652a979895d7944e011b951a91c1\n'}, {'number': 7, 'created': '2024-03-25 19:58:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/eee85a7b8c1b2691aa7aeab287effa899ec52d6c', 'message': 'stats: API for native labeled metrics\n\nJust update the StatsdClient API; no callers yet.\n\nInclude three config options:\n  - log_statsd_label_mode, which specifies which label format to use\n  - log_statsd_emit_legacy, which dictates whether to emit old-style\n    metrics dotted metrics\n  - statsd_userlabel_<name> = <value>, which supports user defined\n    labels with label format\n\nChange-Id: I115ffb1dc601652a979895d7944e011b951a91c1\n'}, {'number': 8, 'created': '2024-03-25 20:36:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1e67567fda21b3f1197765b0f5963e6f3f3d4bc0', 'message': 'stats: API for native labeled metrics\n\nJust update the StatsdClient API; no callers yet.\n\nInclude three config options:\n  - log_statsd_label_mode, which specifies which label format to use\n  - log_statsd_emit_legacy, which dictates whether to emit old-style\n    metrics dotted metrics\n  - statsd_userlabel_<name> = <value>, which supports user defined\n    labels with label format\n\nChange-Id: I115ffb1dc601652a979895d7944e011b951a91c1\n'}, {'number': 9, 'created': '2024-04-05 13:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b97c3c322196def975068845dd94ab5eaf6c9b4f', 'message': 'stats: API for native labeled metrics\n\nJust update the StatsdClient API; no callers yet.\n\nInclude three config options:\n  - log_statsd_label_mode, which specifies which label format to use\n  - log_statsd_emit_legacy, which dictates whether to emit old-style\n    metrics dotted metrics\n  - statsd_userlabel_<name> = <value>, which supports user defined\n    labels with label format\n\nChange-Id: I115ffb1dc601652a979895d7944e011b951a91c1\n'}, {'number': 10, 'created': '2024-04-17 19:55:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/13a9bc51c343de5e1afc6652a6e0c7a608e316fa', 'message': 'stats: API for native labeled metrics\n\nJust update the StatsdClient API; no callers yet.\n\nInclude three config options:\n  - log_statsd_label_mode, which specifies which label format to use\n  - log_statsd_emit_legacy, which dictates whether to emit old-style\n    metrics dotted metrics\n  - statsd_userlabel_<name> = <value>, which supports user defined\n    labels with label format\n\nChange-Id: I115ffb1dc601652a979895d7944e011b951a91c1\n'}, {'number': 11, 'created': '2024-04-29 21:21:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c5e09667ccab9dba072ab62838cf119be6ecab9f', 'message': 'stats: API for native labeled metrics\n\nJust update the StatsdClient API; no callers yet.\n\nInclude three config options:\n  - log_statsd_label_mode, which specifies which label format to use\n  - log_statsd_emit_legacy, which dictates whether to emit old-style\n    metrics dotted metrics\n  - statsd_userlabel_<name> = <value>, which supports user defined\n    labels with label format\n\nChange-Id: I115ffb1dc601652a979895d7944e011b951a91c1\n'}, {'number': 12, 'created': '2024-05-08 13:59:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b15df14b150cd7fe276f0f29344d6d0ef20dd6dd', 'message': 'stats: API for native labeled metrics\n\nJust update the StatsdClient API; no callers yet.\n\nInclude three config options:\n  - log_statsd_label_mode, which specifies which label format to use\n  - log_statsd_emit_legacy, which dictates whether to emit old-style\n    metrics dotted metrics\n  - statsd_userlabel_<name> = <value>, which supports user defined\n    labels with label format\n\nChange-Id: I115ffb1dc601652a979895d7944e011b951a91c1\n'}, {'number': 13, 'created': '2024-05-13 13:56:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/343f2750385f5e2094aa5bd4acc8f8c39f10e7ae', 'message': 'stats: API for native labeled metrics\n\nJust update the StatsdClient API; no callers yet.\n\nInclude three config options:\n  - log_statsd_label_mode, which specifies which label format to use\n  - log_statsd_emit_legacy, which dictates whether to emit old-style\n    metrics dotted metrics\n  - statsd_userlabel_<name> = <value>, which supports user defined\n    labels with label format\n\nChange-Id: I115ffb1dc601652a979895d7944e011b951a91c1\n'}, {'number': 14, 'created': '2024-05-14 16:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1e926c06b6ba8aa8f5f151a2e86f8f02afd4aa3c', 'message': 'stats: API for native labeled metrics\n\nJust update the StatsdClient API; no callers yet.\n\nInclude three config options:\n  - log_statsd_label_mode, which specifies which label format to use\n  - log_statsd_emit_legacy, which dictates whether to emit old-style\n    metrics dotted metrics\n  - statsd_userlabel_<name> = <value>, which supports user defined\n    labels with label format\n\nChange-Id: I115ffb1dc601652a979895d7944e011b951a91c1\n'}, {'number': 15, 'created': '2024-05-29 21:22:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c064bac83966ef98065016951ae0cfe925166c5c', 'message': 'stats: API for native labeled metrics\n\nJust update the StatsdClient API; no callers yet.\n\nInclude three config options:\n  - log_statsd_label_mode, which specifies which label format to use\n  - log_statsd_emit_legacy, which dictates whether to emit old-style\n    metrics dotted metrics\n  - statsd_userlabel_<name> = <value>, which supports user defined\n    labels with label format\n\nChange-Id: I115ffb1dc601652a979895d7944e011b951a91c1\n'}, {'number': 16, 'created': '2024-06-03 19:55:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/bf90c94f2122b88b395a99d543fb6c720af8d06d', 'message': 'stats: API for native labeled metrics\n\nJust update the StatsdClient API; no callers yet.\n\nInclude three config options:\n  - log_statsd_label_mode, which specifies which label format to use\n  - log_statsd_emit_legacy, which dictates whether to emit old-style\n    metrics dotted metrics\n  - statsd_userlabel_<name> = <value>, which supports user defined\n    labels with label format\n\nChange-Id: I115ffb1dc601652a979895d7944e011b951a91c1\n'}, {'number': 17, 'created': '2024-06-06 13:31:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e0100d965c5e0791b434ce0815c5d521a019b97e', 'message': 'stats: API for native labeled metrics\n\nJust update the StatsdClient API; no callers yet.\n\nInclude three config options:\n  - log_statsd_label_mode, which specifies which label format to use\n  - log_statsd_emit_legacy, which dictates whether to emit old-style\n    metrics dotted metrics\n  - statsd_userlabel_<name> = <value>, which supports user defined\n    labels with label format\n\nChange-Id: I115ffb1dc601652a979895d7944e011b951a91c1\n'}, {'number': 18, 'created': '2024-06-10 13:59:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/386c7332f99d2b6f6620546f6de995d987c96de3', 'message': 'stats: API for native labeled metrics\n\nJust update the StatsdClient API; no callers yet.\n\nInclude three config options:\n  - log_statsd_label_mode, which specifies which label format to use\n  - log_statsd_emit_legacy, which dictates whether to emit old-style\n    metrics dotted metrics\n  - statsd_userlabel_<name> = <value>, which supports user defined\n    labels with label format\n\nChange-Id: I115ffb1dc601652a979895d7944e011b951a91c1\n'}, {'number': 19, 'created': '2024-06-11 21:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f26b113d76c0bf78117364e932353628095f0aee', 'message': 'stats: API for native labeled metrics\n\nJust update the StatsdClient API; no callers yet.\n\nInclude three config options:\n  - log_statsd_label_mode, which specifies which label format to use\n  - log_statsd_emit_legacy, which dictates whether to emit old-style\n    metrics dotted metrics\n  - statsd_userlabel_<name> = <value>, which supports user defined\n    labels with label format\n\nChange-Id: I115ffb1dc601652a979895d7944e011b951a91c1\n'}, {'number': 20, 'created': '2024-06-13 19:55:35.000000000', 'files': ['doc/source/metrics/labels.rst', 'test/unit/proxy/test_server.py', 'etc/proxy-server.conf-sample', 'test/unit/common/middleware/test_proxy_logging.py', 'swift/common/statsd_client.py', 'test/debug_logger.py', 'test/unit/account/test_auditor.py', 'test/unit/common/test_statsd_client.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/f9d916c2b63ccac04e3f6f981b3d1bb6cd6c4d6b', 'message': 'stats: API for native labeled metrics\n\nJust update the StatsdClient API; no callers yet.\n\nInclude three config options:\n  - log_statsd_label_mode, which specifies which label format to use\n  - log_statsd_emit_legacy, which dictates whether to emit old-style\n    metrics dotted metrics\n  - statsd_userlabel_<name> = <value>, which supports user defined\n    labels with label format\n\nChange-Id: I115ffb1dc601652a979895d7944e011b951a91c1\n'}]",288,909882,f9d916c2b63ccac04e3f6f981b3d1bb6cd6c4d6b,61,2,20,36606,,,0,"stats: API for native labeled metrics

Just update the StatsdClient API; no callers yet.

Include three config options:
  - log_statsd_label_mode, which specifies which label format to use
  - log_statsd_emit_legacy, which dictates whether to emit old-style
    metrics dotted metrics
  - statsd_userlabel_<name> = <value>, which supports user defined
    labels with label format

Change-Id: I115ffb1dc601652a979895d7944e011b951a91c1
",git fetch https://review.opendev.org/openstack/swift refs/changes/82/909882/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/metrics/labels.rst', 'test/unit/proxy/test_server.py', 'etc/proxy-server.conf-sample', 'swift/common/utils/__init__.py', 'test/debug_logger.py', 'test/unit/common/test_utils.py']",6,fd51b09fbccff64d5e20982881a5b6c697560fbe,tmp_labeled-metrics," got = [] while not got: bytes, retrySample = sender_fn(*args, **kwargs) if not bytes and not retrySample: break try: while True: got.append(self.queue.get(timeout=0.1)) if six.PY3: got = [x.decode('utf-8') for x in got] if len(got) == 1: got = got[0] def test_delegate_methods_with_labels_and_prefix_disabled(self): loggers = [ utils.get_logger({ 'log_statsd_host': 'localhost', 'log_statsd_port': str(self.port), 'log_statsd_metric_prefix': 'my_prefix', 'log_statsd_label_mode': 'disabled', #'log_statsd_emit_legacy': 'false', }, 'pfx'), utils.get_logger({ 'log_statsd_host': 'localhost', 'log_statsd_port': str(self.port), 'log_statsd_metric_prefix': 'my_prefix', 'log_statsd_label_mode': 'disabled', 'log_statsd_emit_legacy': 'false', }, 'pfx'), utils.get_logger({ 'log_statsd_host': 'localhost', 'log_statsd_port': str(self.port), 'log_statsd_metric_prefix': 'my_prefix', 'log_statsd_label_mode': 'disabled', 'log_statsd_emit_legacy': 'true', }, 'pfx'), ] inc_dec_args = ('the_counter', ) timing_args = ('the_timing', 6.28 * 1000) update_args = ('the_stat', 3) labels = {'action': 'some', 'result': 'ok'} for logger in loggers: self.logger = logger # Any pre-labeled-metrics callers continue to emit legacy metrics self.assertStat('my_prefix.pfx.some.counter:1|c', self.logger.increment, 'some.counter') self.assertStat('my_prefix.pfx.some.counter:-1|c', self.logger.decrement, 'some.counter') self.assertStat('my_prefix.pfx.some.timing:6280.0|ms', self.logger.timing, 'some.timing', 6.28 * 1000) self.assertStat('my_prefix.pfx.some.stat:3|c', self.logger.update_stats, 'some.stat', 3) # Any labeled-metrics callers should not emit any metrics self.assertStat([], #'my_prefix.pfx.some.counter:1|c', self.logger.increment, *inc_dec_args, labels=labels) #legacy_format='{action}.counter' self.assertStat([], #'my_prefix.pfx.some.counter:-1|c', self.logger.decrement, *inc_dec_args, labels=labels) #legacy_format='{action}.counter' self.assertStat([], #'my_prefix.pfx.some.timing:6280.0|ms', self.logger.timing, *timing_args, labels=labels) #legacy_format='{action}.timing' self.assertStat([], #'my_prefix.pfx.some.stat:3|c', self.logger.update_stats, *update_args, labels=labels) #legacy_format='{action}.stat' def test_delegate_methods_with_labels_and_prefix_dogstatsd(self): self.logger = utils.get_logger({ 'log_statsd_host': 'localhost', 'log_statsd_port': str(self.port), 'log_statsd_metric_prefix': 'my_prefix', 'log_statsd_label_mode': 'dogstatsd', 'log_statsd_emit_legacy': 'true', }, 'pfx') inc_dec_args = ('the_counter', ) timing_args = ('the_timing', 6.28 * 1000) update_args = ('the_stat', 3) labels = {'action': 'some', 'result': 'ok'} # Any pre-labeled-metrics callers continue to emit legacy metrics self.assertStat('my_prefix.pfx.some.counter:1|c', self.logger.increment, 'some.counter') self.assertStat('my_prefix.pfx.some.counter:-1|c', self.logger.decrement, 'some.counter') self.assertStat('my_prefix.pfx.some.timing:6280.0|ms', self.logger.timing, 'some.timing', 6.28 * 1000) self.assertStat('my_prefix.pfx.some.stat:3|c', self.logger.update_stats, 'some.stat', 3) # But once they get updated, we get richer data self.assertStat( 'my_prefix_the_counter:1|c|#action:some,log_name:pfx,result:ok', self.logger.increment, *inc_dec_args, labels=labels) #legacy_format='{action}.counter' # not all labels need appear self.assertStat( 'my_prefix_the_counter:-1|c|#action:some,log_name:pfx,result:ok', self.logger.decrement, *inc_dec_args, labels=labels) #legacy_format='{action}.counter' self.assertStat( 'my_prefix_the_timing:6280.0|ms' '|#action:some,log_name:pfx,result:ok', self.logger.timing, *timing_args, labels=labels) #legacy_format='{action}.timing' self.assertStat( 'my_prefix_the_stat:3|c|#action:some,log_name:pfx,result:ok', self.logger.update_stats, *update_args, labels=labels) #legacy_format='{action}.stat' def test_delegate_methods_with_labels_and_prefix_graphite(self): self.logger = utils.get_logger({ 'log_statsd_host': 'localhost', 'log_statsd_port': str(self.port), 'log_statsd_metric_prefix': 'my_prefix', 'log_statsd_label_mode': 'graphite', 'log_statsd_emit_legacy': 'true', }, 'pfx') inc_dec_args = ('the_counter', ) timing_args = ('the_timing', 6.28 * 1000) update_args = ('the_stat', 3) labels = {'action': 'some', 'result': 'ok'} self.assertStat('my_prefix.pfx.some.counter:1|c', self.logger.increment, 'some.counter') self.assertStat('my_prefix.pfx.some.counter:-1|c', self.logger.decrement, 'some.counter') self.assertStat('my_prefix.pfx.some.timing:6280.0|ms', self.logger.timing, 'some.timing', 6.28 * 1000) self.assertStat('my_prefix.pfx.some.stat:3|c', self.logger.update_stats, 'some.stat', 3) self.assertStat( 'my_prefix_the_counter;action=some;log_name=pfx;result=ok:1|c', self.logger.increment, *inc_dec_args, labels=labels) #legacy_format='{action}.counter' self.assertStat( 'my_prefix_the_counter;action=some;log_name=pfx;result=ok:-1|c', self.logger.decrement, *inc_dec_args, labels=labels) #legacy_format='{action}.counter' self.assertStat( 'my_prefix_the_timing;action=some;log_name=pfx;result=ok' ':6280.0|ms', self.logger.timing, *timing_args, labels=labels) #legacy_format='{action}.timing' self.assertStat( 'my_prefix_the_stat;action=some;log_name=pfx;result=ok:3|c', self.logger.update_stats, *update_args, labels=labels) #legacy_format='{action}.stat' def test_delegate_methods_with_labels_and_prefix_influxdb(self): self.logger = utils.get_logger({ 'log_statsd_host': 'localhost', 'log_statsd_port': str(self.port), 'log_statsd_metric_prefix': 'my_prefix', 'log_statsd_label_mode': 'influxdb', 'log_statsd_emit_legacy': 'true', }, 'pfx') inc_dec_args = ('the_counter', ) timing_args = ('the_timing', 6.28 * 1000) update_args = ('the_stat', 3) labels = {'action': 'some', 'result': 'ok'} self.assertStat('my_prefix.pfx.some.counter:1|c', self.logger.increment, 'some.counter') self.assertStat('my_prefix.pfx.some.counter:-1|c', self.logger.decrement, 'some.counter') self.assertStat('my_prefix.pfx.some.timing:6280.0|ms', self.logger.timing, 'some.timing', 6.28 * 1000) self.assertStat('my_prefix.pfx.some.stat:3|c', self.logger.update_stats, 'some.stat', 3) self.assertStat( 'my_prefix_the_counter,action=some,log_name=pfx,result=ok:1|c', self.logger.increment, *inc_dec_args, labels=labels) #legacy_format='{action}.counter' self.assertStat( 'my_prefix_the_counter,action=some,log_name=pfx,result=ok:-1|c', self.logger.decrement, *inc_dec_args, labels=labels) #legacy_format='{action}.counter' self.assertStat( 'my_prefix_the_timing,action=some,log_name=pfx,result=ok' ':6280.0|ms', self.logger.timing, *timing_args, labels=labels) #legacy_format='{action}.timing' self.assertStat( 'my_prefix_the_stat,action=some,log_name=pfx,result=ok:3|c', self.logger.update_stats, *update_args, labels=labels) #legacy_format='{action}.stat' def test_delegate_methods_with_labels_and_prefix_librato(self): self.logger = utils.get_logger({ 'log_statsd_host': 'localhost', 'log_statsd_port': str(self.port), 'log_statsd_metric_prefix': 'my_prefix', 'log_statsd_label_mode': 'librato', 'log_statsd_emit_legacy': 'true', }, 'pfx') inc_dec_args = ('the_counter', ) timing_args = ('the_timing', 6.28 * 1000) update_args = ('the_stat', 3) labels = {'action': 'some', 'result': 'ok'} self.assertStat('my_prefix.pfx.some.counter:1|c', self.logger.increment, 'some.counter') self.assertStat('my_prefix.pfx.some.counter:-1|c', self.logger.decrement, 'some.counter') self.assertStat('my_prefix.pfx.some.timing:6280.0|ms', self.logger.timing, 'some.timing', 6.28 * 1000) self.assertStat('my_prefix.pfx.some.stat:3|c', self.logger.update_stats, 'some.stat', 3) self.assertStat( 'my_prefix_the_counter#action=some,log_name=pfx,result=ok:1|c', self.logger.increment, *inc_dec_args, labels=labels) #legacy_format='{action}.counter' self.assertStat( 'my_prefix_the_counter#action=some,log_name=pfx,result=ok:-1|c', self.logger.decrement, *inc_dec_args, labels=labels) #legacy_format='{action}.counter' self.assertStat( 'my_prefix_the_timing#action=some,log_name=pfx,result=ok' ':6280.0|ms', self.logger.timing, *timing_args, labels=labels) #legacy_format='{action}.timing' self.assertStat( 'my_prefix_the_stat#action=some,log_name=pfx,result=ok:3|c', self.logger.update_stats, *update_args, labels=labels) #legacy_format='{action}.stat' def test_delegate_methods_with_labels_and_prefix_signalfx(self): self.logger = utils.get_logger({ 'log_statsd_host': 'localhost', 'log_statsd_port': str(self.port), 'log_statsd_metric_prefix': 'my_prefix', 'log_statsd_label_mode': 'signalfx', 'log_statsd_emit_legacy': 'true', }, 'pfx') inc_dec_args = ('the_counter', ) timing_args = ('the_timing', 6.28 * 1000) update_args = ('the_stat', 3) labels = {'action': 'some', 'result': 'ok'} self.assertStat('my_prefix.pfx.some.counter:1|c', self.logger.increment, 'some.counter') self.assertStat('my_prefix.pfx.some.counter:-1|c', self.logger.decrement, 'some.counter') self.assertStat('my_prefix.pfx.some.timing:6280.0|ms', self.logger.timing, 'some.timing', 6.28 * 1000) self.assertStat('my_prefix.pfx.some.stat:3|c', self.logger.update_stats, 'some.stat', 3) self.assertStat( 'my_prefix_the_counter[action=some,log_name=pfx,result=ok]:1|c', self.logger.increment, *inc_dec_args, labels=labels) #legacy_format='{action}.counter' self.assertStat( 'my_prefix_the_counter[action=some,log_name=pfx,result=ok]:-1|c', self.logger.decrement, *inc_dec_args, labels=labels) #legacy_format='{action}.counter' self.assertStat( 'my_prefix_the_timing[action=some,log_name=pfx,result=ok]' ':6280.0|ms', self.logger.timing, *timing_args, labels=labels) #legacy_format='{action}.timing' self.assertStat( 'my_prefix_the_stat[action=some,log_name=pfx,result=ok]:3|c', self.logger.update_stats, *update_args, labels=labels) #legacy_format='{action}.stat') def test_delegate_methods_with_labels(self): self.logger = utils.get_logger({ 'log_statsd_host': 'localhost', 'log_statsd_port': str(self.port), 'log_statsd_label_mode': 'dogstatsd', 'log_statsd_emit_legacy': 'false', }, 'pfx') inc_dec_args = ('the_counter', ) timing_args = ('the_timing', 6.28 * 1000) update_args = ('the_stat', 3) labels = {'action': 'some', 'result': 'ok'} self.assertStat([], #'pfx.some.counter:1|c', self.logger.increment, 'some.counter') self.assertStat([], #'pfx.some.counter:-1|c', self.logger.decrement, 'some.counter') self.assertStat([], #'pfx.some.timing:6280.0|ms', self.logger.timing, 'some.timing', 6.28 * 1000) self.assertStat([], #'pfx.some.stat:3|c', self.logger.update_stats, 'some.stat', 3) self.assertStat( #'pfx.some.counter:1|c', 'the_counter:1|c|#action:some,log_name:pfx,result:ok', self.logger.increment, *inc_dec_args, labels=labels) #legacy_format='{action}.counter' self.assertStat( #'pfx.some.counter:-1|c', 'the_counter:-1|c|#action:some,log_name:pfx,result:ok', self.logger.decrement, *inc_dec_args, labels=labels) #legacy_format='{action}.counter' self.assertStat( #'pfx.some.timing:6280.0|ms', 'the_timing:6280.0|ms|#action:some,log_name:pfx,result:ok', self.logger.timing, *timing_args, labels=labels) #legacy_format='{action}.timing' self.assertStat( #'pfx.some.stat:3|c', 'the_stat:3|c|#action:some,log_name:pfx,result:ok', self.logger.update_stats, *update_args, labels=labels) #legacy_format='{action}.stat' "," got = None while not got: sender_fn(*args, **kwargs) try: got = self.queue.get(timeout=0.5) if six.PY3: got = got.decode('utf-8') if six.PY3: got = got.decode('utf-8')",588,38
openstack%2Fswift~917711,openstack/swift,master,I5a96626862644fe23a0d4bc53e85989770c8ceec,Add labeled metrics to proxy-logging,NEW,2024-04-30 13:59:30.000000000,2024-06-13 21:31:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-04-30 13:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/fa07a55544d6baa4ce905003f33f38a38c177261', 'message': ""Add labeled metrics to proxy-logging\n\nModified code to use native labeled metrics API based on Tim Burke's\npatch for proxy-logging. Thanks Tim.\n\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\n\nChange-Id: I5a96626862644fe23a0d4bc53e85989770c8ceec\n""}, {'number': 2, 'created': '2024-06-05 13:59:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1138fa5579c94ae275a1ce672e228e7081d8595e', 'message': ""Add labeled metrics to proxy-logging\n\nModified code to use native labeled metrics API based on Tim Burke's\npatch for proxy-logging. Thanks Tim.\n\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\n\nChange-Id: I5a96626862644fe23a0d4bc53e85989770c8ceec\n""}, {'number': 3, 'created': '2024-06-06 13:59:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c7f98edd2540a8a06a07a64af6c694f5f0f6f49a', 'message': ""Add labeled metrics to proxy-logging\n\nModified code to use native labeled metrics API based on Tim Burke's\npatch for proxy-logging. Thanks Tim.\n\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\n\nChange-Id: I5a96626862644fe23a0d4bc53e85989770c8ceec\n""}, {'number': 4, 'created': '2024-06-10 16:22:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/03921f598035e181763d055111f50db9710769e3', 'message': ""Add labeled metrics to proxy-logging\n\nModified code to use native labeled metrics API based on Tim Burke's\npatch for proxy-logging. Thanks Tim.\n\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\n\nChange-Id: I5a96626862644fe23a0d4bc53e85989770c8ceec\n""}, {'number': 5, 'created': '2024-06-12 13:59:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/11c5acc8ced5176fd52c83cf7934b575769218fa', 'message': ""Add labeled metrics to proxy-logging\n\nModified code to use native labeled metrics API based on Tim Burke's\npatch for proxy-logging. Thanks Tim.\n\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\n\nChange-Id: I5a96626862644fe23a0d4bc53e85989770c8ceec\n""}, {'number': 6, 'created': '2024-06-13 19:58:36.000000000', 'files': ['swift/common/middleware/proxy_logging.py', 'test/unit/common/middleware/test_proxy_logging.py', 'swift/common/utils/logs.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/e88f29d7ff2e09030d541c2c36806d444e3e67ad', 'message': ""Add labeled metrics to proxy-logging\n\nModified code to use native labeled metrics API based on Tim Burke's\npatch for proxy-logging. Thanks Tim.\n\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\n\nChange-Id: I5a96626862644fe23a0d4bc53e85989770c8ceec\n""}]",0,917711,e88f29d7ff2e09030d541c2c36806d444e3e67ad,10,1,6,36606,,,0,"Add labeled metrics to proxy-logging

Modified code to use native labeled metrics API based on Tim Burke's
patch for proxy-logging. Thanks Tim.

Co-Authored-By: Tim Burke <tim.burke@gmail.com>

Change-Id: I5a96626862644fe23a0d4bc53e85989770c8ceec
",git fetch https://review.opendev.org/openstack/swift refs/changes/11/917711/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/proxy_logging.py', 'test/unit/common/middleware/test_proxy_logging.py', 'swift/common/utils/logs.py']",3,fa07a55544d6baa4ce905003f33f38a38c177261,tmp_labeled-metrics_logging," def __deepcopy__(self, memo): return type(self).__new__( type(self), str(self), self.method, self.salt) ",,504,57
openstack%2Fswift~896967,openstack/swift,master,I9a016de1010dd17e91bc85877413b34d2c3287c7,tests: Check proxy-logging stats on the wire,NEW,2023-09-30 06:11:07.000000000,2024-06-13 21:29:54.000000000,,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-09-30 06:11:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/468ff9877ba9e980b699a30c5936f00e4879e8a1', 'message': 'tests: Check proxy-logging stats on the wire\n\nWith labeled metrics on the horizon, I wanted some more end-to-end\ntests of stats emission.\n\nChange-Id: I9a016de1010dd17e91bc85877413b34d2c3287c7\n'}, {'number': 2, 'created': '2023-10-05 22:47:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0ccaf36c838577bf0ce52cbf937e1b9efcf1d52a', 'message': 'tests: Check proxy-logging stats on the wire\n\nWith labeled metrics on the horizon, I wanted some more end-to-end\ntests of stats emission.\n\nChange-Id: I9a016de1010dd17e91bc85877413b34d2c3287c7\n'}, {'number': 3, 'created': '2023-10-14 03:52:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/40118461486e334fcb84d60e51e0bfb2b1251674', 'message': 'tests: Check proxy-logging stats on the wire\n\nWith labeled metrics on the horizon, I wanted some more end-to-end\ntests of stats emission.\n\nChange-Id: I9a016de1010dd17e91bc85877413b34d2c3287c7\n'}, {'number': 4, 'created': '2024-01-30 05:32:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b6bc726affee1c98b3ba1d3a2605100627b0dbe1', 'message': 'tests: Check proxy-logging stats on the wire\n\nWith labeled metrics on the horizon, I wanted some more end-to-end\ntests of stats emission.\n\nChange-Id: I9a016de1010dd17e91bc85877413b34d2c3287c7\n'}, {'number': 5, 'created': '2024-03-12 16:31:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/eb61f57cf27900de6d9c157a677f88137be48da0', 'message': 'tests: Check proxy-logging stats on the wire\n\nWith labeled metrics on the horizon, I wanted some more end-to-end\ntests of stats emission.\n\nChange-Id: I9a016de1010dd17e91bc85877413b34d2c3287c7\n'}, {'number': 6, 'created': '2024-04-17 19:55:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3801145c6fd58c04c1a4e05a5cea038ac894432f', 'message': 'tests: Check proxy-logging stats on the wire\n\nWith labeled metrics on the horizon, I wanted some more end-to-end\ntests of stats emission.\n\nChange-Id: I9a016de1010dd17e91bc85877413b34d2c3287c7\n'}, {'number': 7, 'created': '2024-04-29 21:21:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/fd4162e45bbf5b610b8d221e3119bfb07d29d4bc', 'message': 'tests: Check proxy-logging stats on the wire\n\nWith labeled metrics on the horizon, I wanted some more end-to-end\ntests of stats emission.\n\nChange-Id: I9a016de1010dd17e91bc85877413b34d2c3287c7\n'}, {'number': 8, 'created': '2024-05-08 13:59:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3d4ccd49b5c59ab609e392b383aba115b5f70cdf', 'message': 'tests: Check proxy-logging stats on the wire\n\nWith labeled metrics on the horizon, I wanted some more end-to-end\ntests of stats emission.\n\nChange-Id: I9a016de1010dd17e91bc85877413b34d2c3287c7\n'}, {'number': 9, 'created': '2024-05-14 16:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ebadff86cf3bd15054f66e32b1a4bfb9e1e0dd50', 'message': 'tests: Check proxy-logging stats on the wire\n\nWith labeled metrics on the horizon, I wanted some more end-to-end\ntests of stats emission.\n\nChange-Id: I9a016de1010dd17e91bc85877413b34d2c3287c7\n'}, {'number': 10, 'created': '2024-05-29 21:22:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/63797df3d9dcc8bb355975a5143f723e9c7888b1', 'message': 'tests: Check proxy-logging stats on the wire\n\nWith labeled metrics on the horizon, I wanted some more end-to-end\ntests of stats emission.\n\nChange-Id: I9a016de1010dd17e91bc85877413b34d2c3287c7\n'}, {'number': 11, 'created': '2024-06-03 19:55:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c7faf2601d209a8ae27ea68821fad83ac8f111cd', 'message': 'tests: Check proxy-logging stats on the wire\n\nWith labeled metrics on the horizon, I wanted some more end-to-end\ntests of stats emission.\n\nChange-Id: I9a016de1010dd17e91bc85877413b34d2c3287c7\n'}, {'number': 12, 'created': '2024-06-06 13:31:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a21f6a7b32f849638b5521209f98ea18d0ee9a1d', 'message': 'tests: Check proxy-logging stats on the wire\n\nWith labeled metrics on the horizon, I wanted some more end-to-end\ntests of stats emission.\n\nChange-Id: I9a016de1010dd17e91bc85877413b34d2c3287c7\n'}, {'number': 13, 'created': '2024-06-10 13:59:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1ec772fdbc09c96e413e02fe67311fce31bb75ff', 'message': 'tests: Check proxy-logging stats on the wire\n\nWith labeled metrics on the horizon, I wanted some more end-to-end\ntests of stats emission.\n\nChange-Id: I9a016de1010dd17e91bc85877413b34d2c3287c7\n'}, {'number': 14, 'created': '2024-06-11 21:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d2beccc7c8d02a28514f50aee1da1a1712945635', 'message': 'tests: Check proxy-logging stats on the wire\n\nWith labeled metrics on the horizon, I wanted some more end-to-end\ntests of stats emission.\n\nChange-Id: I9a016de1010dd17e91bc85877413b34d2c3287c7\n'}, {'number': 15, 'created': '2024-06-13 19:55:35.000000000', 'files': ['test/unit/common/middleware/test_proxy_logging.py', 'test/debug_logger.py', 'test/unit/account/test_auditor.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/8ccb3c5d97151aa33683e8dc75f00017e2795b16', 'message': 'tests: Check proxy-logging stats on the wire\n\nWith labeled metrics on the horizon, I wanted some more end-to-end\ntests of stats emission.\n\nChange-Id: I9a016de1010dd17e91bc85877413b34d2c3287c7\n'}]",8,896967,8ccb3c5d97151aa33683e8dc75f00017e2795b16,38,2,15,15343,,,0,"tests: Check proxy-logging stats on the wire

With labeled metrics on the horizon, I wanted some more end-to-end
tests of stats emission.

Change-Id: I9a016de1010dd17e91bc85877413b34d2c3287c7
",git fetch https://review.opendev.org/openstack/swift refs/changes/67/896967/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/middleware/test_proxy_logging.py', 'test/debug_logger.py', 'test/unit/account/test_auditor.py']",3,468ff9877ba9e980b699a30c5936f00e4879e8a1,tmp_labeled-metrics," # really, this would come by way of base_prefix/tail_prefix in # get_logger, ultimately tracing back to section_name in daemon... self.logger.logger.statsd_client._prefix = 'account-auditor.' self.assertIn( (b'account-auditor.failures:1|c', ('host', 8125)), test_auditor.logger.statsd_client.sendto_calls)",,65,39
openstack%2Fneutron~921940,openstack/neutron,stable/2024.1,Ia61784174ee610b338f26660b2954330abc131a1,Add a default goto table=94 for openvswitch fw,MERGED,2024-06-13 10:56:01.000000000,2024-06-13 21:29:37.000000000,2024-06-13 21:28:28.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-13 10:56:01.000000000', 'files': ['doc/source/contributor/internals/openvswitch_firewall.rst', 'neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f94f8b63842099904ff88906e8221a366a809f99', 'message': ""Add a default goto table=94 for openvswitch fw\n\nIf enable explicitly_egress_direct=True and set port as\nno security group and port_security=False, the ingress\nflood will reappear. The pipleline is:\nIngress\ntable_0 -> table_60 -> NORMAL -> VM\nEgress\ntable_0 -> ... -> table_94 -> output\n\nBecause ingress final action is normal, the br-int will learn the\nsource MAC, but egress final action is output. So VM's mac will\nnever be learnt by the br-int. Then ingress flood comes again.\n\nThis patch adds a default direct flow to table 94 during the\nopenflow security group init and explicitly_egress_direct=True, then\nthe pipleline will be:\nIngress\ntable_0 -> table_60 -> table_94 -> output VM\nEgress\ntable_0 -> ... -> table_94 -> output\n\nAnd this patch adds the flows coming from patch port which will\nmatch local vlan then go to table 94 do the same direct actions.\n\nAbove flood issue will be addressed by these flows.\n\nCloses-Bug: #2051351\nChange-Id: Ia61784174ee610b338f26660b2954330abc131a1\n(cherry picked from commit d6f56c5f96c42e1682f3d1723a65253429778c20)\n""}]",2,921940,f94f8b63842099904ff88906e8221a366a809f99,14,3,1,15554,,,0,"Add a default goto table=94 for openvswitch fw

If enable explicitly_egress_direct=True and set port as
no security group and port_security=False, the ingress
flood will reappear. The pipleline is:
Ingress
table_0 -> table_60 -> NORMAL -> VM
Egress
table_0 -> ... -> table_94 -> output

Because ingress final action is normal, the br-int will learn the
source MAC, but egress final action is output. So VM's mac will
never be learnt by the br-int. Then ingress flood comes again.

This patch adds a default direct flow to table 94 during the
openflow security group init and explicitly_egress_direct=True, then
the pipleline will be:
Ingress
table_0 -> table_60 -> table_94 -> output VM
Egress
table_0 -> ... -> table_94 -> output

And this patch adds the flows coming from patch port which will
match local vlan then go to table 94 do the same direct actions.

Above flood issue will be addressed by these flows.

Closes-Bug: #2051351
Change-Id: Ia61784174ee610b338f26660b2954330abc131a1
(cherry picked from commit d6f56c5f96c42e1682f3d1723a65253429778c20)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/40/921940/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/internals/openvswitch_firewall.rst', 'neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py']",6,f94f8b63842099904ff88906e8221a366a809f99,bug/2051351," self.install_normal(table_id=constants.TRANSIENT_TABLE, priority=1)"," self.install_normal(table_id=constants.TRANSIENT_TABLE, priority=3)",50,4
openstack%2Fswift~919444,openstack/swift,master,I5ae2cc5c257fb8d7eab885977d9d9cf602224ec7,get_statsd_client shim,NEW,2024-05-12 22:38:58.000000000,2024-06-13 21:26:42.000000000,,"[{'_account_id': 1179}, {'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-12 22:38:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/53dd9b86dbeec5bf71df7a573f3e11b4c355cffb', 'message': 'Move StatsdClient config parsing\nfrom get_logger to get_statsd_client\n\nChange-Id: I5ae2cc5c257fb8d7eab885977d9d9cf602224ec7\n'}, {'number': 2, 'created': '2024-05-14 23:03:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/84cc6123b290506915059484bfd3b5573fc0b8aa', 'message': 'Move StatsdClient config parsing from get_logger to get_statsd_client\n\nChange-Id: I5ae2cc5c257fb8d7eab885977d9d9cf602224ec7\n'}, {'number': 3, 'created': '2024-05-16 22:18:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/58b2538df853fc768b237c92a91a003b53530bb8', 'message': 'Move StatsdClient config parsing from get_logger to get_statsd_client\n\nCo-author: yanxiao@nvidia.com\n\nChange-Id: I5ae2cc5c257fb8d7eab885977d9d9cf602224ec7\n'}, {'number': 4, 'created': '2024-05-29 17:33:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/615eba8daa628d26d2fd560819e90529d93b57cd', 'message': 'Move StatsdClient config parsing from get_logger to get_statsd_client\n\nCo-author: yanxiao@nvidia.com\n\nChange-Id: I5ae2cc5c257fb8d7eab885977d9d9cf602224ec7\n'}, {'number': 5, 'created': '2024-06-01 07:42:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8b6ef411cf44da1d62b776a4909f6be510803a85', 'message': 'Move StatsdClient config parsing from get_logger to get_statsd_client\n\nCo-author: yanxiao@nvidia.com\n\nChange-Id: I5ae2cc5c257fb8d7eab885977d9d9cf602224ec7\n'}, {'number': 6, 'created': '2024-06-04 00:30:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/fa145d10e545a01fe1f31c119947c4e1fbf39feb', 'message': 'Move StatsdClient config parsing from get_logger to get_statsd_client\n\nCo-author: yanxiao@nvidia.com\n\nChange-Id: I5ae2cc5c257fb8d7eab885977d9d9cf602224ec7\n'}, {'number': 7, 'created': '2024-06-04 23:29:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8c4109386d48bc5baebb796668a10b5b1ae56fb1', 'message': 'Move StatsdClient config parsing from get_logger to get_statsd_client\n\nCo-author: yanxiao@nvidia.com\n\nChange-Id: I5ae2cc5c257fb8d7eab885977d9d9cf602224ec7\n'}, {'number': 8, 'created': '2024-06-08 00:42:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/35d91a354eb9a13e923626acd6f9237913a0e073', 'message': 'Move StatsdClient config parsing from get_logger to get_statsd_client\n\nCo-author: yanxiao@nvidia.com\n\nChange-Id: I5ae2cc5c257fb8d7eab885977d9d9cf602224ec7\n'}, {'number': 9, 'created': '2024-06-10 20:18:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/54fceaa54ab16a40cee5b2ab1844fd568ae0cd4c', 'message': 'Move StatsdClient config parsing from get_logger to get_statsd_client\n\nCo-author: yanxiao@nvidia.com\n\nChange-Id: I5ae2cc5c257fb8d7eab885977d9d9cf602224ec7\n'}, {'number': 10, 'created': '2024-06-13 00:07:37.000000000', 'files': ['test/unit/proxy/test_server.py', 'swift/common/statsd_client.py', 'swift/common/utils/logs.py', 'test/debug_logger.py', 'test/unit/common/middleware/s3api/test_s3api.py', 'test/unit/common/test_statsd_client.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/29ac7bc8f533f05ad4a574f6d60e92282d942870', 'message': 'get_statsd_client shim\n\n- Move StatsdClient config parsing from get_logger to StatsdClient constructor\n- get_statsd_client provides a thin wrapper around StatsdClient constructor\n\nCo-author: yanxiao@nvidia.com\n\nChange-Id: I5ae2cc5c257fb8d7eab885977d9d9cf602224ec7\n'}]",105,919444,29ac7bc8f533f05ad4a574f6d60e92282d942870,62,3,10,35790,,,0,"get_statsd_client shim

- Move StatsdClient config parsing from get_logger to StatsdClient constructor
- get_statsd_client provides a thin wrapper around StatsdClient constructor

Co-author: yanxiao@nvidia.com

Change-Id: I5ae2cc5c257fb8d7eab885977d9d9cf602224ec7
",git fetch https://review.opendev.org/openstack/swift refs/changes/44/919444/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/test_server.py', 'swift/common/statsd_client.py', 'swift/common/utils/logs.py', 'test/debug_logger.py', 'test/unit/common/test_statsd.py']",5,53dd9b86dbeec5bf71df7a573f3e11b4c355cffb,getstatsd,"from swift.common import statsd_client as common_statsd_client self.real_getaddrinfo = common_statsd_client.socket.getaddrinfo common_statsd_client.socket, 'getaddrinfo', fake_getaddrinfo) self.assertIsInstance(logger.logger.statsd_client, common_statsd_client.StatsdClient) self.assertEqual(logger.logger.statsd_client.host, 'some.host.com') self.assertEqual(logger.logger.statsd_client.port, 8125) self.assertEqual(logger.logger.statsd_client.default_sample_rate, 1) self.assertEqual(logger.logger.statsd_client.host, 'another.host.com') self.assertEqual(logger.logger.statsd_client.port, 9876) self.assertEqual(logger.logger.statsd_client.default_sample_rate, self.assertEqual(logger.logger.statsd_client.sample_rate_factor, with mock.patch.object(common_statsd_client.socket, 'getaddrinfo', with mock.patch.object(common_statsd_client.socket, with mock.patch.object( common_statsd_client.socket, 'getaddrinfo', side_effect=common_statsd_client.socket.gaierror(""whoops"")): with mock.patch.object(common_statsd_client.socket, 'getaddrinfo', fake_getaddrinfo):","from swift.common.statsd_client import StatsdClient self.real_getaddrinfo = utils.socket.getaddrinfo utils.socket, 'getaddrinfo', fake_getaddrinfo) self.assertIsInstance(logger.logger.statsd_client, StatsdClient) self.assertEqual(logger.logger.statsd_client._host, 'some.host.com') self.assertEqual(logger.logger.statsd_client._port, 8125) self.assertEqual(logger.logger.statsd_client._default_sample_rate, 1) self.assertEqual(logger.logger.statsd_client._host, 'another.host.com') self.assertEqual(logger.logger.statsd_client._port, 9876) self.assertEqual(logger.logger.statsd_client._default_sample_rate, self.assertEqual(logger.logger.statsd_client._sample_rate_factor, with mock.patch.object(utils.socket, 'getaddrinfo', with mock.patch.object(utils.logs.socket, with mock.patch.object(utils.socket, 'getaddrinfo', side_effect=utils.socket.gaierror(""whoops"")): with mock.patch.object(utils.socket, 'getaddrinfo', fake_getaddrinfo):",106,72
openstack%2Fneutron~919516,openstack/neutron,stable/2023.2,I340bc7a83a65d20ec66edcb505784dfad2372d9f,[stable/2023.2 only] Fix incorrect cherry-pick for ext gw,MERGED,2024-05-14 12:06:02.000000000,2024-06-13 21:20:40.000000000,2024-06-13 21:18:01.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-14 12:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9e022b99f25d7686bbf7f14092620f586db6c800', 'message': ""[stable/2023.2 only] Fix incorrect cherry-pick for ext gw\n\nA cherry pick [0] to fix log warnings accidentally had\ncode that only supported multiple external gateways,\nwhich wasn't merged until 2024.1. Change to conform to\n2023.2 code where there is only one external_gateway_info\nobject in a router.\n\n[0] https://review.opendev.org/c/openstack/neutron/+/908823/\n\nCloses-bug: #2057942\nChange-Id: I340bc7a83a65d20ec66edcb505784dfad2372d9f\n(cherry picked from commit 9bb37523a50c3d5b8f062c15ec21719904c094ab)\n""}, {'number': 2, 'created': '2024-05-16 09:18:07.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/12bb563ae7e642161abe9ded75dcc411fa6229ea', 'message': ""[stable/2023.2 only] Fix incorrect cherry-pick for ext gw\n\nA cherry pick [0] to fix log warnings accidentally had\ncode that only supported multiple external gateways,\nwhich wasn't merged until 2024.1. Change to conform to\n2023.2 code where there is only one external_gateway_info\nobject in a router.\n\n[0] https://review.opendev.org/c/openstack/neutron/+/908823/\n\nCloses-bug: #2057942\nChange-Id: I340bc7a83a65d20ec66edcb505784dfad2372d9f\n(cherry picked from commit 9bb37523a50c3d5b8f062c15ec21719904c094ab)\n""}]",3,919516,12bb563ae7e642161abe9ded75dcc411fa6229ea,17,5,2,1131,,,0,"[stable/2023.2 only] Fix incorrect cherry-pick for ext gw

A cherry pick [0] to fix log warnings accidentally had
code that only supported multiple external gateways,
which wasn't merged until 2024.1. Change to conform to
2023.2 code where there is only one external_gateway_info
object in a router.

[0] https://review.opendev.org/c/openstack/neutron/+/908823/

Closes-bug: #2057942
Change-Id: I340bc7a83a65d20ec66edcb505784dfad2372d9f
(cherry picked from commit 9bb37523a50c3d5b8f062c15ec21719904c094ab)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/16/919516/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py']",2,9e022b99f25d7686bbf7f14092620f586db6c800,bug/2057942-stable/2023.2, ext_gw_net_id = (router.get('external_gateway_info') or {}).get('network_id') if not ext_gw_net_id: continue is_ext_gw = str(network_id == ext_gw_net_id), ext_gw_networks = [ ext_gw['network_id'] for ext_gw in router['external_gateways']] is_ext_gw = str(network_id in ext_gw_networks),6,4
openstack%2Fneutron~920933,openstack/neutron,master,I6e40a15284da392a3d48d45205a7a5770c14c297,Change to use selectin for DB load strategy,MERGED,2024-05-31 20:19:41.000000000,2024-06-13 21:19:21.000000000,2024-06-13 21:17:56.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9656}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-31 20:19:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/129b75a971be343ce525daf580096f00d02eaa82', 'message': 'Change to use selectin for DB load strategy\n\nDuring a mailing list discussion on some OOM issues neutron\nhas been seeing [0], Mike Bayer recommended we should change\nfrom using subquery to selectin DB load strategy.\n\nA full description of this strategy can be found here [1],\nbut in short:\n\n- “subquery” loading incurs additional performance / complexity\n  issues when used on a many-levels-deep eager load, as\n  subqueries will be nested repeatedly.\n\n- ""The subqueryload() eager loader is mostly legacy at this\n  point, superseded by selectinload()\n\n- ""The only scenario in which selectin eager loading is not\n  feasible is when the model is using composite primary keys,\n  and the backend database does not support tuples with IN,\n  which currently includes SQL Server."" So that does not\n  apply to us.\n\nThe plan agreed to at the neutron drivers meeting [2] was to\nmake this change early in the cycle so we would be able to\nsee if there were any issues through the D cycle.\n\n[0] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/EHLQQXNG3NLLZYPDGG2ES3DINIJ7YT3N/\n[1] https://docs.sqlalchemy.org/en/20/orm/queryguide/relationships.html#selectin-eager-loading\n[2] https://meetings.opendev.org/meetings/neutron_drivers/2024/neutron_drivers.2024-05-31-14.00.log.html#l-67\n\nCloses-bug: #2067770\nChange-Id: I6e40a15284da392a3d48d45205a7a5770c14c297\n'}, {'number': 2, 'created': '2024-05-31 21:28:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/10420692d05edb59dce9e6e2f4de40f3e335c7e4', 'message': 'Change to use selectin for DB load strategy\n\nDuring a mailing list discussion on some OOM issues neutron\nhas been seeing [0], Mike Bayer recommended we should change\nfrom using subquery to selectin DB load strategy.\n\nA full description of this strategy can be found here [1],\nbut in short:\n\n- “subquery” loading incurs additional performance / complexity\n  issues when used on a many-levels-deep eager load, as\n  subqueries will be nested repeatedly.\n\n- ""The subqueryload() eager loader is mostly legacy at this\n  point, superseded by selectinload()\n\n- ""The only scenario in which selectin eager loading is not\n  feasible is when the model is using composite primary keys,\n  and the backend database does not support tuples with IN,\n  which currently includes SQL Server."" So that does not\n  apply to us.\n\nThe plan agreed to at the neutron drivers meeting [2] was to\nmake this change early in the cycle so we would be able to\nsee if there were any issues through the D cycle.\n\n[0] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/EHLQQXNG3NLLZYPDGG2ES3DINIJ7YT3N/\n[1] https://docs.sqlalchemy.org/en/20/orm/queryguide/relationships.html#selectin-eager-loading\n[2] https://meetings.opendev.org/meetings/neutron_drivers/2024/neutron_drivers.2024-05-31-14.00.log.html#l-67\n\nCloses-bug: #2067770\nChange-Id: I6e40a15284da392a3d48d45205a7a5770c14c297\n'}, {'number': 3, 'created': '2024-06-06 13:35:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/706b54fd209ab35e5a8e899f52eb6de427a25070', 'message': 'Change to use selectin for DB load strategy\n\nDuring a mailing list discussion on some OOM issues neutron\nhas been seeing [0], Mike Bayer recommended we should change\nfrom using subquery to selectin DB load strategy.\n\nA full description of this strategy can be found here [1],\nbut in short:\n\n- “subquery” loading incurs additional performance / complexity\n  issues when used on a many-levels-deep eager load, as\n  subqueries will be nested repeatedly.\n\n- ""The subqueryload() eager loader is mostly legacy at this\n  point, superseded by selectinload()\n\n- ""The only scenario in which selectin eager loading is not\n  feasible is when the model is using composite primary keys,\n  and the backend database does not support tuples with IN,\n  which currently includes SQL Server."" So that does not\n  apply to us.\n\nThe plan agreed to at the neutron drivers meeting [2] was to\nmake this change early in the cycle so we would be able to\nsee if there were any issues through the D cycle.\n\n[0] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/EHLQQXNG3NLLZYPDGG2ES3DINIJ7YT3N/\n[1] https://docs.sqlalchemy.org/en/20/orm/queryguide/relationships.html#selectin-eager-loading\n[2] https://meetings.opendev.org/meetings/neutron_drivers/2024/neutron_drivers.2024-05-31-14.00.log.html#l-67\n\nCloses-bug: #2067770\nDepends-on: https://review.opendev.org/c/openstack/neutron-lib/+/920936\nChange-Id: I6e40a15284da392a3d48d45205a7a5770c14c297\n'}, {'number': 4, 'created': '2024-06-12 11:34:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/602c2ce9ea715dcb5af45e4096f96e9b7a2e2b25', 'message': 'Change to use selectin for DB load strategy\n\nDuring a mailing list discussion on some OOM issues neutron\nhas been seeing [0], Mike Bayer recommended we should change\nfrom using subquery to selectin DB load strategy.\n\nA full description of this strategy can be found here [1],\nbut in short:\n\n- “subquery” loading incurs additional performance / complexity\n  issues when used on a many-levels-deep eager load, as\n  subqueries will be nested repeatedly.\n\n- ""The subqueryload() eager loader is mostly legacy at this\n  point, superseded by selectinload()\n\n- ""The only scenario in which selectin eager loading is not\n  feasible is when the model is using composite primary keys,\n  and the backend database does not support tuples with IN,\n  which currently includes SQL Server."" So that does not\n  apply to us.\n\nThe plan agreed to at the neutron drivers meeting [2] was to\nmake this change early in the cycle so we would be able to\nsee if there were any issues through the D cycle.\n\n[0] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/EHLQQXNG3NLLZYPDGG2ES3DINIJ7YT3N/\n[1] https://docs.sqlalchemy.org/en/20/orm/queryguide/relationships.html#selectin-eager-loading\n[2] https://meetings.opendev.org/meetings/neutron_drivers/2024/neutron_drivers.2024-05-31-14.00.log.html#l-67\n\nCloses-bug: #2067770\nDepends-on: https://review.opendev.org/c/openstack/neutron-lib/+/920936\nChange-Id: I6e40a15284da392a3d48d45205a7a5770c14c297\n'}, {'number': 5, 'created': '2024-06-12 14:16:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/448b45e3be611fec0709a5e50656f2df8a1d1f8d', 'message': 'Change to use selectin for DB load strategy\n\nDuring a mailing list discussion on some OOM issues neutron\nhas been seeing [0], Mike Bayer recommended we should change\nfrom using subquery to selectin DB load strategy.\n\nA full description of this strategy can be found here [1],\nbut in short:\n\n- “subquery” loading incurs additional performance / complexity\n  issues when used on a many-levels-deep eager load, as\n  subqueries will be nested repeatedly.\n\n- ""The subqueryload() eager loader is mostly legacy at this\n  point, superseded by selectinload()\n\n- ""The only scenario in which selectin eager loading is not\n  feasible is when the model is using composite primary keys,\n  and the backend database does not support tuples with IN,\n  which currently includes SQL Server."" So that does not\n  apply to us.\n\nThe plan agreed to at the neutron drivers meeting [2] was to\nmake this change early in the cycle so we would be able to\nsee if there were any issues through the D cycle.\n\nAdded hacking checks so new code using subquery loads is\nnot added back.\n\n[0] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/EHLQQXNG3NLLZYPDGG2ES3DINIJ7YT3N/\n[1] https://docs.sqlalchemy.org/en/20/orm/queryguide/relationships.html#selectin-eager-loading\n[2] https://meetings.opendev.org/meetings/neutron_drivers/2024/neutron_drivers.2024-05-31-14.00.log.html#l-67\n\nCloses-bug: #2067770\nDepends-on: https://review.opendev.org/c/openstack/neutron-lib/+/920936\nChange-Id: I6e40a15284da392a3d48d45205a7a5770c14c297\n'}, {'number': 6, 'created': '2024-06-12 15:31:41.000000000', 'files': ['neutron/db/models/segment.py', 'neutron/db/models/subnet_service_type.py', 'neutron/services/trunk/models.py', 'neutron/db/models/port_forwarding.py', 'neutron/db/models/conntrack_helper.py', 'neutron/db/models/tag.py', 'neutron/hacking/checks.py', 'neutron/tests/unit/hacking/test_checks.py', 'neutron/db/extra_dhcp_opt/models.py', 'neutron/db/models/flavor.py', 'neutron/db/models/l3.py', 'neutron/db/models/metering.py', 'neutron/plugins/ml2/drivers/l2pop/db.py', 'neutron/db/models/ndp_proxy.py', 'neutron/db/models/address_group.py', 'neutron/plugins/ml2/models.py', 'neutron/db/network_dhcp_agent_binding/models.py', 'neutron/db/models_v2.py', 'neutron/db/models/allowed_address_pair.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/05fcfef6ced908d7ccf9b2bc13b76b13f055d096', 'message': 'Change to use selectin for DB load strategy\n\nDuring a mailing list discussion on some OOM issues neutron\nhas been seeing [0], Mike Bayer recommended we should change\nfrom using subquery to selectin DB load strategy.\n\nA full description of this strategy can be found here [1],\nbut in short:\n\n- “subquery” loading incurs additional performance / complexity\n  issues when used on a many-levels-deep eager load, as\n  subqueries will be nested repeatedly.\n\n- ""The subqueryload() eager loader is mostly legacy at this\n  point, superseded by selectinload()\n\n- ""The only scenario in which selectin eager loading is not\n  feasible is when the model is using composite primary keys,\n  and the backend database does not support tuples with IN,\n  which currently includes SQL Server."" So that does not\n  apply to us.\n\nThe plan agreed to at the neutron drivers meeting [2] was to\nmake this change early in the cycle so we would be able to\nsee if there were any issues through the D cycle.\n\nAdded hacking checks so new code using subquery loads is\nnot added back.\n\n[0] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/EHLQQXNG3NLLZYPDGG2ES3DINIJ7YT3N/\n[1] https://docs.sqlalchemy.org/en/20/orm/queryguide/relationships.html#selectin-eager-loading\n[2] https://meetings.opendev.org/meetings/neutron_drivers/2024/neutron_drivers.2024-05-31-14.00.log.html#l-67\n\nCloses-bug: #2067770\nDepends-on: https://review.opendev.org/c/openstack/neutron-lib/+/920936\nChange-Id: I6e40a15284da392a3d48d45205a7a5770c14c297\n'}]",18,920933,05fcfef6ced908d7ccf9b2bc13b76b13f055d096,57,8,6,1131,,,0,"Change to use selectin for DB load strategy

During a mailing list discussion on some OOM issues neutron
has been seeing [0], Mike Bayer recommended we should change
from using subquery to selectin DB load strategy.

A full description of this strategy can be found here [1],
but in short:

- “subquery” loading incurs additional performance / complexity
  issues when used on a many-levels-deep eager load, as
  subqueries will be nested repeatedly.

- ""The subqueryload() eager loader is mostly legacy at this
  point, superseded by selectinload()

- ""The only scenario in which selectin eager loading is not
  feasible is when the model is using composite primary keys,
  and the backend database does not support tuples with IN,
  which currently includes SQL Server."" So that does not
  apply to us.

The plan agreed to at the neutron drivers meeting [2] was to
make this change early in the cycle so we would be able to
see if there were any issues through the D cycle.

Added hacking checks so new code using subquery loads is
not added back.

[0] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/EHLQQXNG3NLLZYPDGG2ES3DINIJ7YT3N/
[1] https://docs.sqlalchemy.org/en/20/orm/queryguide/relationships.html#selectin-eager-loading
[2] https://meetings.opendev.org/meetings/neutron_drivers/2024/neutron_drivers.2024-05-31-14.00.log.html#l-67

Closes-bug: #2067770
Depends-on: https://review.opendev.org/c/openstack/neutron-lib/+/920936
Change-Id: I6e40a15284da392a3d48d45205a7a5770c14c297
",git fetch https://review.opendev.org/openstack/neutron refs/changes/33/920933/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/models/segment.py', 'neutron/db/models/subnet_service_type.py', 'neutron/services/trunk/models.py', 'neutron/db/models/port_forwarding.py', 'neutron/db/models/conntrack_helper.py', 'neutron/db/extra_dhcp_opt/models.py', 'neutron/db/models/l3.py', 'neutron/db/models/metering.py', 'neutron/plugins/ml2/drivers/l2pop/db.py', 'neutron/db/models/ndp_proxy.py', 'neutron/db/models/address_group.py', 'neutron/plugins/ml2/models.py', 'neutron/db/network_dhcp_agent_binding/models.py', 'neutron/db/models_v2.py', 'neutron/db/models/allowed_address_pair.py']",15,129b75a971be343ce525daf580096f00d02eaa82,orm-selectin," lazy=""selectin"", cascade=""delete""))"," lazy=""subquery"", cascade=""delete""))",28,28
openstack%2Fadjutant-ui~921085,openstack/adjutant-ui,master,I3132901dedab0d3dc44d2d63101d644e60ed1984,Use the INVISIBLE_REGIONS setting to limit what regions are visible to the user.,NEW,2024-06-03 23:56:31.000000000,2024-06-13 21:07:07.000000000,,"[{'_account_id': 14394}, {'_account_id': 22348}, {'_account_id': 36393}]","[{'number': 1, 'created': '2024-06-03 23:56:31.000000000', 'files': ['adjutant_ui/content/quota/views.py', 'adjutant_ui/test/unit_tests/__init__.py', 'adjutant_ui/test/unit_tests/test_quota_views.py'], 'web_link': 'https://opendev.org/openstack/adjutant-ui/commit/032350ca37244a8cf5e96a5ee58a77845b7ee908', 'message': 'Use the INVISIBLE_REGIONS setting to limit what regions are visible to the user.\n\nChange-Id: I3132901dedab0d3dc44d2d63101d644e60ed1984\n'}]",1,921085,032350ca37244a8cf5e96a5ee58a77845b7ee908,3,3,1,35986,,,0,"Use the INVISIBLE_REGIONS setting to limit what regions are visible to the user.

Change-Id: I3132901dedab0d3dc44d2d63101d644e60ed1984
",git fetch https://review.opendev.org/openstack/adjutant-ui refs/changes/85/921085/1 && git format-patch -1 --stdout FETCH_HEAD,"['adjutant_ui/content/quota/views.py', 'adjutant_ui/test/unit_tests/__init__.py', 'adjutant_ui/test/unit_tests/test_quota_views.py']",3,032350ca37244a8cf5e96a5ee58a77845b7ee908,support-invisible-regions-setting,"import unittest from adjutant_ui.api import adjutant from django.urls import reverse from openstack_dashboard.test import helpers as test INDEX_URL = reverse('horizon:management:quota:index') class QuotaTestDataMixin: def __init__(self): super().__init__() self.region_quotas = [] self.region_one_quota = None self.region_two_quota = None def create_test_data(self): self.region_one_quota = adjutant.REGION_QUOTA( '1', 'RegionOne', 'Small', []) self.region_two_quota = adjutant.REGION_QUOTA( '2', 'RegionTwo', 'Medium', []) self.region_quotas = [self.region_one_quota, self.region_two_quota] class TestIndexViewCase(test.TestCase, QuotaTestDataMixin): def setUp(self): super().setUp() self.create_test_data() @test.update_settings(INVISIBLE_REGIONS=['RegionTwo']) @test.create_mocks({adjutant: ('region_quotas_get', 'quota_tasks_get', 'quota_sizes_get')}) def test_invisible_regions_are_filtered_out(self): self.mock_region_quotas_get.return_value = self.region_quotas res = self.client.get(INDEX_URL) self.assertEqual(res.context_data['region_overview_table'].data, [self.region_one_quota]) @test.update_settings(INVISIBLE_REGIONS=[]) @test.create_mocks({adjutant: ('region_quotas_get', 'quota_tasks_get', 'quota_sizes_get')}) def test_if_no_invisible_regions(self): self.mock_region_quotas_get.return_value = self.region_quotas res = self.client.get(INDEX_URL) self.assertEqual(res.context_data['region_overview_table'].data, self.region_quotas) class TestIndexViewAdminUserCase(test.BaseAdminViewTests, QuotaTestDataMixin): def setUp(self): super().setUp() self.create_test_data() @test.update_settings(INVISIBLE_REGIONS=['RegionTwo']) @test.create_mocks({adjutant: ('region_quotas_get', 'quota_tasks_get', 'quota_sizes_get')}) def test_invisible_regions_are_not_filtered_out(self): self.mock_region_quotas_get.return_value = self.region_quotas res = self.client.get(INDEX_URL) self.assertEqual(res.context_data['region_overview_table'].data, self.region_quotas) if __name__ == '__main__': unittest.main() ",,82,1
openstack%2Fcharm-designate-bind~920108,openstack/charm-designate-bind,master,I87263ac24e5e4061757e5fb8bb167a43b2e85f93,Fix mocking for wrapped OpenStack releases,MERGED,2024-05-21 15:14:38.000000000,2024-06-13 21:03:18.000000000,2024-06-13 21:03:18.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-21 15:14:38.000000000', 'files': ['unit_tests/test_lib_charm_openstack_designate_bind.py'], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/456a418ba4daf1feb6a7425e254774d7301ef3fc', 'message': 'Fix mocking for wrapped OpenStack releases\n\nA recent change in charms.openstack to support wrapped\nOpenStack releases caused unit tests to fail.\nThe unit tests failed because mocking was incompatible\nwith the change. This commit mocks the default_get_charm\ninstance where the charms.openstack change was breaking\nunit tests.\n\nCloses-Bug: 2066281\nChange-Id: I87263ac24e5e4061757e5fb8bb167a43b2e85f93\n'}]",6,920108,456a418ba4daf1feb6a7425e254774d7301ef3fc,14,3,1,31203,,,0,"Fix mocking for wrapped OpenStack releases

A recent change in charms.openstack to support wrapped
OpenStack releases caused unit tests to fail.
The unit tests failed because mocking was incompatible
with the change. This commit mocks the default_get_charm
instance where the charms.openstack change was breaking
unit tests.

Closes-Bug: 2066281
Change-Id: I87263ac24e5e4061757e5fb8bb167a43b2e85f93
",git fetch https://review.opendev.org/openstack/charm-designate-bind refs/changes/08/920108/1 && git format-patch -1 --stdout FETCH_HEAD,['unit_tests/test_lib_charm_openstack_designate_bind.py'],1,456a418ba4daf1feb6a7425e254774d7301ef3fc,," charm = designate_bind.DesignateBindCharm(release='icehouse') self.patch(""charms_openstack.charm.core.default_get_charm_instance"", new=lambda *_, **__: charm) actual_charm = designate_bind.DesignateBindCharm(release='icehouse') self.patch(""charms_openstack.charm.core.default_get_charm_instance"", new=lambda *_, **__: actual_charm)",,6,0
openstack%2Fneutron-tempest-plugin~921874,openstack/neutron-tempest-plugin,master,I0bcd1ed38e20127927452ac4cef9e31e6527846e,Make neutron-tempest-plugin-sfc job non-voting temporary,MERGED,2024-06-12 15:05:10.000000000,2024-06-13 20:10:26.000000000,2024-06-13 20:10:26.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-12 15:05:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/5748167f3d65cc1d0e0628a06fd566aa952e71ee', 'message': 'Make neutron-tempest-plugin-sfc job non-voting temporary\n\nRelated-Bug: #2068727\nChange-Id: I0bcd1ed38e20127927452ac4cef9e31e6527846e\n'}, {'number': 2, 'created': '2024-06-13 08:50:38.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/74a78a4b4d7a966c67bab323191c3658ef943c58', 'message': 'Make neutron-tempest-plugin-sfc job non-voting temporary\n\nRelated-Bug: #2068727\nChange-Id: I0bcd1ed38e20127927452ac4cef9e31e6527846e\n'}]",4,921874,74a78a4b4d7a966c67bab323191c3658ef943c58,15,4,2,8313,,,0,"Make neutron-tempest-plugin-sfc job non-voting temporary

Related-Bug: #2068727
Change-Id: I0bcd1ed38e20127927452ac4cef9e31e6527846e
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/74/921874/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,5748167f3d65cc1d0e0628a06fd566aa952e71ee,bug/2068727, - neutron-tempest-plugin-sfc: # Note(lajoskatona): make it voting when #2068727 # is fixed. voting: false - neutron-tempest-plugin-sfc: # Note(lajoskatona): make it voting when #2068727 # is fixed. voting: false, - neutron-tempest-plugin-sfc - neutron-tempest-plugin-sfc,8,2
openstack%2Fopenstack-helm-infra~921470,openstack/openstack-helm-infra,master,I4ebdac84769a646fa8154f80aaa2692c9f89eeb8,Add image rendering sidecar,MERGED,2024-06-06 18:05:02.000000000,2024-06-13 20:00:41.000000000,2024-06-13 19:59:43.000000000,"[{'_account_id': 3009}, {'_account_id': 22348}, {'_account_id': 34520}, {'_account_id': 34821}, {'_account_id': 35943}, {'_account_id': 35948}]","[{'number': 1, 'created': '2024-06-06 18:05:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1110946f94ef9fc7f78c8518abd82b4123701c27', 'message': '[WIP][DNM] Add image rendering sidecar\n\nChange-Id: I4ebdac84769a646fa8154f80aaa2692c9f89eeb8\n'}, {'number': 2, 'created': '2024-06-06 18:11:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5191845caa672f197243d41d8f5ef889b7377991', 'message': '[WIP][DNM] Add image rendering sidecar\n\nChange-Id: I4ebdac84769a646fa8154f80aaa2692c9f89eeb8\n'}, {'number': 3, 'created': '2024-06-07 17:54:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ce5b3c0e8cdd34deae86907f3afa4e1b62befcae', 'message': '[WIP][DNM] Add image rendering sidecar\n\nChange-Id: I4ebdac84769a646fa8154f80aaa2692c9f89eeb8\n'}, {'number': 4, 'created': '2024-06-10 23:23:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/eff1e6416812dcaa87fa4ceb277c0b7ac7719b2e', 'message': '[WIP][DNM] Add image rendering sidecar\n\nChange-Id: I4ebdac84769a646fa8154f80aaa2692c9f89eeb8\n'}, {'number': 5, 'created': '2024-06-11 00:42:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/55f4e82aa1425a3a756f78d4a826484d8a16c11c', 'message': '[WIP][DNM] Add image rendering sidecar\n\nChange-Id: I4ebdac84769a646fa8154f80aaa2692c9f89eeb8\n'}, {'number': 6, 'created': '2024-06-11 16:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2e0756e1ade802f986b5a494c50fcab38d98bd7f', 'message': '[WIP][DNM] Add image rendering sidecar\n\nChange-Id: I4ebdac84769a646fa8154f80aaa2692c9f89eeb8\n'}, {'number': 7, 'created': '2024-06-11 16:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2ebd9c61c85e35caeee4187c1b57393fbbdd3c12', 'message': '[WIP][DNM] Add image rendering sidecar\n\nChange-Id: I4ebdac84769a646fa8154f80aaa2692c9f89eeb8\n'}, {'number': 8, 'created': '2024-06-11 21:39:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6ee29fbce5e2c1c2fd285a58b5368da656f7c4e1', 'message': '[WIP][DNM] Add image rendering sidecar\n\nChange-Id: I4ebdac84769a646fa8154f80aaa2692c9f89eeb8\n'}, {'number': 9, 'created': '2024-06-12 17:58:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9200b2b90c06eed92a82100f06ad8d8ca8bc06e1', 'message': '[WIP][DNM] Add image rendering sidecar\n\nChange-Id: I4ebdac84769a646fa8154f80aaa2692c9f89eeb8\n'}, {'number': 10, 'created': '2024-06-12 18:33:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6a907c048c1c3620fd1c21e72ee6680a6aebbc90', 'message': '[WIP][DNM] Add image rendering sidecar\n\nChange-Id: I4ebdac84769a646fa8154f80aaa2692c9f89eeb8\n'}, {'number': 11, 'created': '2024-06-13 14:20:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/115838a3b142b5fcc592f36d9494c403cf41127a', 'message': '[WIP][DNM] Add image rendering sidecar\n\nChange-Id: I4ebdac84769a646fa8154f80aaa2692c9f89eeb8\n'}, {'number': 12, 'created': '2024-06-13 15:51:11.000000000', 'files': ['grafana/values.yaml', 'releasenotes/notes/grafana.yaml', 'grafana/Chart.yaml', 'grafana/templates/deployment.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b946e5ba059c8402b147f39294c05145a4ae8a5f', 'message': 'Add image rendering sidecar\n\nThis PS is to add a sidecar for the grafana image renderer. Starting\nwith Grafana v10 it will be necessary to use an image rendering plugin\nor remote renderer.\n\nhttps://grafana.com/docs/grafana/latest/setup-grafana/image-rendering/\n\nChange-Id: I4ebdac84769a646fa8154f80aaa2692c9f89eeb8\n'}]",5,921470,b946e5ba059c8402b147f39294c05145a4ae8a5f,34,6,12,32190,,,0,"Add image rendering sidecar

This PS is to add a sidecar for the grafana image renderer. Starting
with Grafana v10 it will be necessary to use an image rendering plugin
or remote renderer.

https://grafana.com/docs/grafana/latest/setup-grafana/image-rendering/

Change-Id: I4ebdac84769a646fa8154f80aaa2692c9f89eeb8
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/70/921470/1 && git format-patch -1 --stdout FETCH_HEAD,"['grafana/values.yaml', 'releasenotes/notes/grafana.yaml', 'grafana/Chart.yaml', 'grafana/templates/deployment.yaml']",4,1110946f94ef9fc7f78c8518abd82b4123701c27,grafana-image-renderer,"{{- if .Values.conf.grafana.image_rendering_sidecar.enabled }} - name: grafana_image_renderer {{ tuple $envAll ""grafana_image_renderer"" | include ""helm-toolkit.snippets.image"" | indent 10 }} restartPolicy: Always ports: - name: grafana_image_renderer containerPort: {{ .Values.conf.grafana_image_rendering_sidecar.port }} {{- end }}{{- if .Values.conf.grafana.image_rendering_sidecar.enabled }} - name: GF_RENDERING_SERVER_URL: value: ""http://localhost:{{ .Values.conf.grafana_image_rendering_sidecar.port }}/render"" - name: GF_RENDERING_CALLBACK_URL: value: ""http://localhost:{{ tuple ""grafana"" ""internal"" ""grafana"" . | include ""helm-toolkit.endpoints.endpoint_port_lookup"" }}"" {{- end }}",,20,1
openstack%2Fopenstack-ansible~921775,openstack/openstack-ansible,stable/2024.1,I3df96674cb4190f14954431209e72e2585cf8f31,"Revert ""Enable oslomsg_rabbit_queue_manager by default""",MERGED,2024-06-11 15:11:53.000000000,2024-06-13 19:59:27.000000000,2024-06-13 19:58:15.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2024-06-11 15:11:53.000000000', 'files': ['releasenotes/notes/quorum_queues_default-2f633cd0d5ee2037.yaml', 'inventory/group_vars/all/oslo-messaging.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d596f437180682bfee50292d752c9cb1e582408c', 'message': 'Revert ""Enable oslomsg_rabbit_queue_manager by default""\n\nThis reverts commit 2ffeb0c7bb5cf99d93a3987dd188353c9c79f623.\n\nReason for revert: In order to enable QManager we\'d need to provide oslo_concurency\nlock path which has not been done yet\n\nChange-Id: I3df96674cb4190f14954431209e72e2585cf8f31\n'}]",4,921775,d596f437180682bfee50292d752c9cb1e582408c,18,3,1,28619,,,0,"Revert ""Enable oslomsg_rabbit_queue_manager by default""

This reverts commit 2ffeb0c7bb5cf99d93a3987dd188353c9c79f623.

Reason for revert: In order to enable QManager we'd need to provide oslo_concurency
lock path which has not been done yet

Change-Id: I3df96674cb4190f14954431209e72e2585cf8f31
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/75/921775/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/quorum_queues_default-2f633cd0d5ee2037.yaml', 'inventory/group_vars/all/oslo-messaging.yml']",2,d596f437180682bfee50292d752c9cb1e582408c,,# NOTE(noonedeadpunk): Disabled due to missing oslo.concurrency lock_path defenition # for services oslomsg_rabbit_queue_manager: False,,6,2
openstack%2Fcinder~885428,openstack/cinder,master,I28839e2a97c96b8d71d28dbeb9baa049423fa1c4,Add GMR to cinder wsgi,NEW,2023-06-07 07:58:58.000000000,2024-06-13 19:55:39.000000000,,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9236}, {'_account_id': 9535}, {'_account_id': 9816}, {'_account_id': 11904}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 31779}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-06-07 07:58:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2a1ef7455ecc42b868aa11321086c9e482d0d576', 'message': 'Add GMR to cinder wsgi\n\nWhen running cinder under WSGI, we might want to have Guru Meditation\nReports as well as when running outside of WSGI.\n\nNote that, under WSGI, the GMR can only be trigger via a ""touch"" on a\nfile, the ""signal"" was is not working because apache is registering the\nsignal handlers instead of cinder.\n\nChange-Id: I28839e2a97c96b8d71d28dbeb9baa049423fa1c4\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\n'}, {'number': 2, 'created': '2023-06-16 13:59:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/25cfc3a4d3df830018cefab73e9bc1aee71049a3', 'message': 'Add GMR to cinder wsgi\n\nWhen running cinder under WSGI, we might want to have Guru Meditation\nReports as well as when running outside of WSGI.\n\nNote that, under WSGI, the GMR can only be trigger via a ""touch"" on a\nfile, the ""signal"" way is not working because apache is registering the\nsignal handlers instead of cinder.\n\nChange-Id: I28839e2a97c96b8d71d28dbeb9baa049423fa1c4\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\n'}, {'number': 3, 'created': '2023-09-26 15:00:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4555d14905e08829d318a3e3d0a89dfca21f29c6', 'message': 'Add GMR to cinder wsgi\n\nWhen running cinder under WSGI, we might want to have Guru Meditation\nReports as well as when running outside of WSGI.\n\nNote that, under WSGI, the GMR can only be trigger via a ""touch"" on a\nfile, the ""signal"" way is not working because apache is registering the\nsignal handlers instead of cinder.\n\nChange-Id: I28839e2a97c96b8d71d28dbeb9baa049423fa1c4\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\n'}, {'number': 4, 'created': '2024-01-22 16:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5ac4a64b3db9d0d0f23f1fe0795b4d1d17a577f7', 'message': 'Add GMR to cinder wsgi\n\nWhen running cinder under WSGI, we might want to have Guru Meditation\nReports as well as when running outside of WSGI.\n\nNote that, under WSGI, the GMR can only be trigger via a ""touch"" on a\nfile, the ""signal"" way is not working because apache is registering the\nsignal handlers instead of cinder, so it\'s disabled.\n\nChange-Id: I28839e2a97c96b8d71d28dbeb9baa049423fa1c4\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\n'}, {'number': 5, 'created': '2024-01-23 01:11:40.000000000', 'files': ['requirements.txt', 'releasenotes/notes/gmr-ca97ba4602ce0831.yaml', 'cinder/wsgi/wsgi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/92b9c25d82e634269018153cfa7ff20efca1fbde', 'message': 'Add GMR to cinder wsgi\n\nWhen running cinder under WSGI, we might want to have Guru Meditation\nReports as well as when running outside of WSGI.\n\nNote that, under WSGI, the GMR can only be trigger via a ""touch"" on a\nfile, the ""signal"" way is not working because apache is registering the\nsignal handlers instead of cinder, so it\'s disabled.\n\nChange-Id: I28839e2a97c96b8d71d28dbeb9baa049423fa1c4\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\n'}]",13,885428,92b9c25d82e634269018153cfa7ff20efca1fbde,121,14,5,11583,,,0,"Add GMR to cinder wsgi

When running cinder under WSGI, we might want to have Guru Meditation
Reports as well as when running outside of WSGI.

Note that, under WSGI, the GMR can only be trigger via a ""touch"" on a
file, the ""signal"" way is not working because apache is registering the
signal handlers instead of cinder, so it's disabled.

Change-Id: I28839e2a97c96b8d71d28dbeb9baa049423fa1c4
Signed-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/28/885428/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/wsgi/wsgi.py'],1,2a1ef7455ecc42b868aa11321086c9e482d0d576,,"from oslo_reports import guru_meditation_report as gmr from oslo_reports import opts as gmr_opts gmr_opts.set_defaults(CONF) gmr.TextGuruMeditation.setup_autorun(version, conf=CONF) ",,5,0
openstack%2Fmonasca-events-api~728050,openstack/monasca-events-api,master,I012584652bb562a58de9366a5ccedf0e5ba38fab,Drop use of ujson,NEW,2020-05-14 11:56:49.000000000,2024-06-13 19:55:02.000000000,,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-14 11:56:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/fb13387fa0b760ff3b9a1ff8fe08bada3c801bc0', 'message': ""Drop use of ujson\n\nThis package is not listed in requirements and therefore doesn't get\ninstalled. It is also not needed as the standard library json module\nworks fine.\n\nChange-Id: I012584652bb562a58de9366a5ccedf0e5ba38fab\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}, {'number': 2, 'created': '2024-06-13 19:47:00.000000000', 'files': ['monasca_events_api/tests/unit/test_events_v1.py'], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/9977d7f36b826dd2842f2b7b6556783749ae8245', 'message': ""Drop use of ujson\n\nThis package is not listed in requirements and therefore doesn't get\ninstalled. It is also not needed as the standard library json module\nworks fine.\n\nChange-Id: I012584652bb562a58de9366a5ccedf0e5ba38fab\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}]",0,728050,9977d7f36b826dd2842f2b7b6556783749ae8245,11,2,2,11904,,,0,"Drop use of ujson

This package is not listed in requirements and therefore doesn't get
installed. It is also not needed as the standard library json module
works fine.

Change-Id: I012584652bb562a58de9366a5ccedf0e5ba38fab
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/monasca-events-api refs/changes/50/728050/1 && git format-patch -1 --stdout FETCH_HEAD,['monasca_events_api/tests/unit/test_events_v1.py'],1,fb13387fa0b760ff3b9a1ff8fe08bada3c801bc0,ujson,import json,import ujson as json,1,1
openstack%2Fmonasca-events-api~720942,openstack/monasca-events-api,master,I91fdc1d44a250f72de58166420835df939152b51,Use unittest.mock instead of third party mock,NEW,2020-04-18 16:55:03.000000000,2024-06-13 19:54:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-04-18 16:55:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/4f5b10e096e04067b264d21ad0b2ead212a92d61', 'message': 'Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib.\n\nChange-Id: I91fdc1d44a250f72de58166420835df939152b51\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-05-13 10:26:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/93f4754f0c2fab37c83acd7cff7b1c5f0fc22dd0', 'message': 'Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib.\n\nChange-Id: I91fdc1d44a250f72de58166420835df939152b51\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 3, 'created': '2024-06-13 19:46:29.000000000', 'files': ['monasca_events_api/tests/unit/test_healthchecks.py', 'test-requirements.txt', 'monasca_events_api/tests/unit/test_events_v1.py'], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/0199f16f2573ba408d1d7ca17944e6f82b5e9a59', 'message': 'Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib.\n\nChange-Id: I91fdc1d44a250f72de58166420835df939152b51\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",2,720942,0199f16f2573ba408d1d7ca17944e6f82b5e9a59,6,1,3,11904,,,0,"Use unittest.mock instead of third party mock

Now that we no longer support py27, we can use the standard library
unittest.mock module instead of the third party mock lib.

Change-Id: I91fdc1d44a250f72de58166420835df939152b51
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/monasca-events-api refs/changes/42/720942/1 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_events_api/tests/unit/test_healthchecks.py', 'test-requirements.txt', 'monasca_events_api/tests/unit/test_events_v1.py']",3,4f5b10e096e04067b264d21ad0b2ead212a92d61,unittest.mock,from unittest import mock,import mock,2,3
openstack%2Fopenstack-ansible-os_horizon~921538,openstack/openstack-ansible-os_horizon,master,Ic119105189c9158aa3b38c4deb07040110d9d660,Implement ability to define arbitrary options in local_settings.py,MERGED,2024-06-07 15:45:20.000000000,2024-06-13 19:54:03.000000000,2024-06-13 19:52:59.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2024-06-07 15:45:20.000000000', 'files': ['releasenotes/notes/horizon_extend_local_settings-9e062b515de94b24.yaml', 'defaults/main.yml', 'templates/horizon_local_settings.py.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/b0d9b99f708ef7667b36c774a517b0a2c20822c3', 'message': 'Implement ability to define arbitrary options in local_settings.py\n\nUnfortunatelly having `horizon_config_overrides` is not sufficient, as\nnot all options can be defined in HORIZON_CONFIG.\nSome are expected to be preset inside local_settings themselves.\n\nWe introduce new variable that can be used to extend local_settings file\nwith arbitrary parameters.\n\nChange-Id: Ic119105189c9158aa3b38c4deb07040110d9d660\n'}]",0,921538,b0d9b99f708ef7667b36c774a517b0a2c20822c3,8,3,1,28619,,,0,"Implement ability to define arbitrary options in local_settings.py

Unfortunatelly having `horizon_config_overrides` is not sufficient, as
not all options can be defined in HORIZON_CONFIG.
Some are expected to be preset inside local_settings themselves.

We introduce new variable that can be used to extend local_settings file
with arbitrary parameters.

Change-Id: Ic119105189c9158aa3b38c4deb07040110d9d660
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/38/921538/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/horizon_extend_local_settings-9e062b515de94b24.yaml', 'defaults/main.yml', 'templates/horizon_local_settings.py.j2']",3,b0d9b99f708ef7667b36c774a517b0a2c20822c3,,"{% for key, value in horizon_extra_local_settings.items() %} {{ key }} = {{ value }} {% endfor %} ",,12,0
openstack%2Fcinder~562053,openstack/cinder,master,Ia00c5afe381de2bf653eaf27968c667b3d818046,SF Give a hint when SolidFire creds are wrong,NEW,2018-04-17 21:00:11.000000000,2024-06-13 19:53:17.000000000,,"[{'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15439}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16258}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18058}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28710}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30127}, {'_account_id': 30555}, {'_account_id': 30615}, {'_account_id': 31854}, {'_account_id': 32291}]","[{'number': 1, 'created': '2018-04-17 21:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5ec7655175da1d84fa9b324a37c58dbc038b1bf3', 'message': 'Give a hint when SolidFire creds are wrong\n\nCurrently, if the cinder.conf has invalid entries for san_login/password\n(account creds for SolidFire endpoint), you get a stack trace on startup\nwith some cryptic messaging around json decode errors.\n\nThis is because what we expect as the response body is empty, and\ninstead the SF API is returning an authorization error.  It\'s a long\nstanding error condition that\'s easily debugged for people that know\nabout it, but not so clear for those that might not be familiar.\n\nSo, rather than leaving it up to ""best guess"" or having to ""phone a\nfriend"", make an attempt to parse out failed requests and indicate if in\nfact they were even accepted or if we failed authorization.\n\nChange-Id: Ia00c5afe381de2bf653eaf27968c667b3d818046\nCloses-Bug: #1764446\n'}, {'number': 2, 'created': '2018-05-22 21:19:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/10fb3c3217e330605225ea9788639b5d896258ab', 'message': 'Give a hint when SolidFire creds are wrong\n\nCurrently, if the cinder.conf has invalid entries for san_login/password\n(account creds for SolidFire endpoint), you get a stack trace on startup\nwith some cryptic messaging around json decode errors.\n\nThis is because what we expect as the response body is empty, and\ninstead the SF API is returning an authorization error.  It\'s a long\nstanding error condition that\'s easily debugged for people that know\nabout it, but not so clear for those that might not be familiar.\n\nSo, rather than leaving it up to ""best guess"" or having to ""phone a\nfriend"", make an attempt to parse out failed requests and indicate if in\nfact they were even accepted or if we failed authorization.\n\nChange-Id: Ia00c5afe381de2bf653eaf27968c667b3d818046\nCloses-Bug: #1764446\n'}, {'number': 3, 'created': '2019-06-17 20:25:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/de2007c84d6bd2fd35f56d6056fa1d419313d396', 'message': 'SF Give a hint when SolidFire creds are wrong\n\nCurrently, if the cinder.conf has invalid entries for san_login/password\n(account creds for SolidFire endpoint), you get a stack trace on startup\nwith some cryptic messaging around json decode errors.\n\nThis is because what we expect as the response body is empty, and\ninstead the SF API is returning an authorization error.  It\'s a long\nstanding error condition that\'s easily debugged for people that know\nabout it, but not so clear for those that might not be familiar.\n\nSo, rather than leaving it up to ""best guess"" or having to ""phone a\nfriend"", make an attempt to parse out failed requests and indicate if in\nfact they were even accepted or if we failed authorization.\n\nA connection error will occur during initializatiion  of the solidfire\ndriver. Catching this error during __init__ alows  one to narrow down\nthe possibility during driver startup.\n\nChange-Id: Ia00c5afe381de2bf653eaf27968c667b3d818046\nCloses-Bug: #1764446\n'}, {'number': 4, 'created': '2019-06-18 19:42:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2ce928fea4d332aca49e4da106b931f070eae9ce', 'message': 'SF Give a hint when SolidFire creds are wrong\n\nCurrently, if the cinder.conf has invalid entries for san_login/password\n(account creds for SolidFire endpoint), you get a stack trace on startup\nwith some cryptic messaging around json decode errors.\n\nThis is because what we expect as the response body is empty, and\ninstead the SF API is returning an authorization error.  It\'s a long\nstanding error condition that\'s easily debugged for people that know\nabout it, but not so clear for those that might not be familiar.\n\nSo, rather than leaving it up to ""best guess"" or having to ""phone a\nfriend"", make an attempt to parse out failed requests and indicate if in\nfact they were even accepted or if we failed authorization.\n\nA connection error will occur during initializatiion  of the solidfire\ndriver. Catching this error during __init__ alows  one to narrow down\nthe possibility during driver startup.\n\nChange-Id: Ia00c5afe381de2bf653eaf27968c667b3d818046\nCloses-Bug: #1764446\n'}, {'number': 5, 'created': '2019-06-18 20:01:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/442f4b2bb321db83fe8396ccf95f7c4e3e847036', 'message': 'SF Give a hint when SolidFire creds are wrong\n\nCurrently, if the cinder.conf has invalid entries for san_login/password\n(account creds for SolidFire endpoint), you get a stack trace on startup\nwith some cryptic messaging around json decode errors.\n\nThis is because what we expect as the response body is empty, and\ninstead the SF API is returning an authorization error.  It\'s a long\nstanding error condition that\'s easily debugged for people that know\nabout it, but not so clear for those that might not be familiar.\n\nSo, rather than leaving it up to ""best guess"" or having to ""phone a\nfriend"", make an attempt to parse out failed requests and indicate if in\nfact they were even accepted or if we failed authorization.\n\nA connection error will occur during initializatiion  of the solidfire\ndriver. Catching this error during __init__ alows  one to narrow down\nthe possibility during driver startup.\nUnit tests added:\ntest__init__bad_credentials,\ntest__init__normal\n\nChange-Id: Ia00c5afe381de2bf653eaf27968c667b3d818046\nCloses-Bug: #1764446\n'}, {'number': 6, 'created': '2019-06-25 15:38:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f9bcdc39af07811951022f6288c9ab4217254a0d', 'message': 'SF Give a hint when SolidFire creds are wrong\n\nCurrently, if the cinder.conf has invalid entries for san_login/password\n(account creds for SolidFire endpoint), you get a stack trace on startup\nwith some cryptic messaging around json decode errors.\n\nThis is because what we expect as the response body is empty, and\ninstead the SF API is returning an authorization error.  It\'s a long\nstanding error condition that\'s easily debugged for people that know\nabout it, but not so clear for those that might not be familiar.\n\nSo, rather than leaving it up to ""best guess"" or having to ""phone a\nfriend"", make an attempt to parse out failed requests and indicate if in\nfact they were even accepted or if we failed authorization.\n\nInstead of checking for the JSON errors we have elected to check the\nHTTP errors and through those with more selective hints on where to find\nthe issue when the SolidFire cinder drivre starts up.\n\nIf the same HTTP errors occur after the driver has started there are\nother forces effecting the system. Configurations could have changed\nin cinder, or SolidFire, network, hardware, etc.\n\nChange-Id: Ia00c5afe381de2bf653eaf27968c667b3d818046\nCloses-Bug: #1764446\n'}, {'number': 7, 'created': '2019-06-25 20:08:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/deb98de74f71d455432cfc4198402f9892ae4b16', 'message': 'SF Give a hint when SolidFire creds are wrong\n\nCurrently, if the cinder.conf has invalid entries for san_login/password\n(account creds for SolidFire endpoint), you get a stack trace on startup\nwith some cryptic messaging around json decode errors.\n\nThis is because what we expect as the response body is empty, and\ninstead the SF API is returning an authorization error.  It\'s a long\nstanding error condition that\'s easily debugged for people that know\nabout it, but not so clear for those that might not be familiar.\n\nSo, rather than leaving it up to ""best guess"" or having to ""phone a\nfriend"", make an attempt to parse out failed requests and indicate if in\nfact they were even accepted or if we failed authorization.\n\nInstead of checking for the JSON errors we have elected to check the\nHTTP errors and through those with more selective hints on where to find\nthe issue when the SolidFire cinder drivre starts up.\n\nIf the same HTTP errors occur after the driver has started there are\nother forces effecting the system. Configurations could have changed\nin cinder, or SolidFire, network, hardware, etc.\n\nChange-Id: Ia00c5afe381de2bf653eaf27968c667b3d818046\nCloses-Bug: #1764446\n'}, {'number': 8, 'created': '2019-06-26 13:14:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/355078c995c531d934bd525db09f52f0c4cb4d97', 'message': 'SF Give a hint when SolidFire creds are wrong\n\nCurrently, if the cinder.conf has invalid entries for san_login/password\n(account creds for SolidFire endpoint), you get a stack trace on startup\nwith some cryptic messaging around json decode errors.\n\nThis is because what we expect as the response body is empty, and\ninstead the SF API is returning an authorization error.  It\'s a long\nstanding error condition that\'s easily debugged for people that know\nabout it, but not so clear for those that might not be familiar.\n\nSo, rather than leaving it up to ""best guess"" or having to ""phone a\nfriend"", make an attempt to parse out failed requests and indicate if in\nfact they were even accepted or if we failed authorization.\n\nInstead of checking for the JSON errors we have elected to check the\nHTTP errors and through those with more selective hints on where to find\nthe issue when the SolidFire cinder drivre starts up.\n\nIf the same HTTP errors occur after the driver has started there are\nother forces effecting the system. Configurations could have changed\nin cinder, or SolidFire, network, hardware, etc.\n\nChange-Id: Ia00c5afe381de2bf653eaf27968c667b3d818046\nCloses-Bug: #1764446\n'}, {'number': 9, 'created': '2019-07-17 16:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4e139bbf516c2018e78928d8d841182f176ff34b', 'message': 'SF Give a hint when SolidFire creds are wrong\n\nCurrently, if the cinder.conf has invalid entries for san_login/password\n(account creds for SolidFire endpoint), you get a stack trace on startup\nwith some cryptic messaging around json decode errors.\n\nThis is because what we expect as the response body is empty, and\ninstead the SF API is returning an authorization error.  It\'s a long\nstanding error condition that\'s easily debugged for people that know\nabout it, but not so clear for those that might not be familiar.\n\nSo, rather than leaving it up to ""best guess"" or having to ""phone a\nfriend"", make an attempt to parse out failed requests and indicate if in\nfact they were even accepted or if we failed authorization.\n\nInstead of checking for the JSON errors we have elected to check the\nHTTP errors and through those with more selective hints on where to find\nthe issue when the SolidFire cinder drivre starts up.\n\nIf the same HTTP errors occur after the driver has started there are\nother forces effecting the system. Configurations could have changed\nin cinder, or SolidFire, network, hardware, etc.\n\nChange-Id: Ia00c5afe381de2bf653eaf27968c667b3d818046\nCloses-Bug: #1764446\n'}, {'number': 10, 'created': '2019-07-19 18:07:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9ca9ceb2d0c03e867d41f446f3181dbe42687dcc', 'message': 'SF Give a hint when SolidFire creds are wrong\n\nCurrently, if the cinder.conf has invalid entries for san_login/password\n(account creds for SolidFire endpoint), you get a stack trace on startup\nwith some cryptic messaging around json decode errors.\n\nThis is because what we expect as the response body is empty, and\ninstead the SF API is returning an authorization error.  It\'s a long\nstanding error condition that\'s easily debugged for people that know\nabout it, but not so clear for those that might not be familiar.\n\nSo, rather than leaving it up to ""best guess"" or having to ""phone a\nfriend"", make an attempt to parse out failed requests and indicate if in\nfact they were even accepted or if we failed authorization.\n\nInstead of checking for the JSON errors we have elected to check the\nHTTP errors and through those with more selective hints on where to find\nthe issue when the SolidFire cinder drivre starts up.\n\nIf the same HTTP errors occur after the driver has started there are\nother forces effecting the system. Configurations could have changed\nin cinder, or SolidFire, network, hardware, etc.\n\nChange-Id: Ia00c5afe381de2bf653eaf27968c667b3d818046\nCloses-Bug: #1764446\n'}, {'number': 11, 'created': '2020-05-22 13:39:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/99856d91f06c47c84908f545dfb76c3293c08219', 'message': 'SF Give a hint when SolidFire creds are wrong\n\nCurrently, if the cinder.conf has invalid entries for san_login/password\n(account creds for SolidFire endpoint), you get a stack trace on startup\nwith some cryptic messaging around json decode errors.\n\nThis is because what we expect as the response body is empty, and\ninstead the SF API is returning an authorization error.  It\'s a long\nstanding error condition that\'s easily debugged for people that know\nabout it, but not so clear for those that might not be familiar.\n\nSo, rather than leaving it up to ""best guess"" or having to ""phone a\nfriend"", make an attempt to parse out failed requests and indicate if in\nfact they were even accepted or if we failed authorization.\n\nInstead of checking for the JSON errors we have elected to check the\nHTTP errors and through those with more selective hints on where to find\nthe issue when the SolidFire cinder drivre starts up.\n\nIf the same HTTP errors occur after the driver has started there are\nother forces effecting the system. Configurations could have changed\nin cinder, or SolidFire, network, hardware, etc.\n\nChange-Id: Ia00c5afe381de2bf653eaf27968c667b3d818046\nCloses-Bug: #1764446\n'}, {'number': 12, 'created': '2020-05-28 15:28:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/737848037347305930dba6f941c64a14d7f4d5ad', 'message': 'SF Give a hint when SolidFire creds are wrong\n\nCurrently, if the cinder.conf has invalid entries for san_login/password\n(account creds for SolidFire endpoint), you get a stack trace on startup\nwith some cryptic messaging around json decode errors.\n\nThis is because what we expect as the response body is empty, and\ninstead the SF API is returning an authorization error.  It\'s a long\nstanding error condition that\'s easily debugged for people that know\nabout it, but not so clear for those that might not be familiar.\n\nSo, rather than leaving it up to ""best guess"" or having to ""phone a\nfriend"", make an attempt to parse out failed requests and indicate if in\nfact they were even accepted or if we failed authorization.\n\nInstead of checking for the JSON errors we have elected to check the\nHTTP errors and through those with more selective hints on where to find\nthe issue when the SolidFire cinder drivre starts up.\n\nIf the same HTTP errors occur after the driver has started there are\nother forces effecting the system. Configurations could have changed\nin cinder, or SolidFire, network, hardware, etc.\n\nChange-Id: Ia00c5afe381de2bf653eaf27968c667b3d818046\nCloses-Bug: #1764446\n'}, {'number': 13, 'created': '2020-05-29 12:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3058d6f39a31e9a4ae2bd0396e54ba9951e99293', 'message': 'SF Give a hint when SolidFire creds are wrong\n\nCurrently, if the cinder.conf has invalid entries for san_login/password\n(account creds for SolidFire endpoint), you get a stack trace on startup\nwith some cryptic messaging around json decode errors.\n\nThis is because what we expect as the response body is empty, and\ninstead the SF API is returning an authorization error.  It\'s a long\nstanding error condition that\'s easily debugged for people that know\nabout it, but not so clear for those that might not be familiar.\n\nSo, rather than leaving it up to ""best guess"" or having to ""phone a\nfriend"", make an attempt to parse out failed requests and indicate if in\nfact they were even accepted or if we failed authorization.\n\nInstead of checking for the JSON errors we have elected to check the\nHTTP errors and through those with more selective hints on where to find\nthe issue when the SolidFire cinder drivre starts up.\n\nIf the same HTTP errors occur after the driver has started there are\nother forces effecting the system. Configurations could have changed\nin cinder, or SolidFire, network, hardware, etc.\n\nChange-Id: Ia00c5afe381de2bf653eaf27968c667b3d818046\nCloses-Bug: #1764446\n'}, {'number': 14, 'created': '2020-05-29 18:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/45763ce88c96ecb5dc8b565d66bc86fa9073b107', 'message': 'SF Give a hint when SolidFire creds are wrong\n\nCurrently, if the cinder.conf has invalid entries for san_login/password\n(account creds for SolidFire endpoint), you get a stack trace on startup\nwith some cryptic messaging around json decode errors.\n\nThis is because what we expect as the response body is empty, and\ninstead the SF API is returning an authorization error.  It\'s a long\nstanding error condition that\'s easily debugged for people that know\nabout it, but not so clear for those that might not be familiar.\n\nSo, rather than leaving it up to ""best guess"" or having to ""phone a\nfriend"", make an attempt to parse out failed requests and indicate if in\nfact they were even accepted or if we failed authorization.\n\nInstead of checking for the JSON errors we have elected to check the\nHTTP errors and through those with more selective hints on where to find\nthe issue when the SolidFire cinder drivre starts up.\n\nIf the same HTTP errors occur after the driver has started there are\nother forces effecting the system. Configurations could have changed\nin cinder, or SolidFire, network, hardware, etc.\n\nChange-Id: Ia00c5afe381de2bf653eaf27968c667b3d818046\nCloses-Bug: #1764446\n'}, {'number': 15, 'created': '2020-05-29 19:03:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0dfd61b1bc171d0f80c0faf4728849366dd11126', 'message': 'SF Give a hint when SolidFire creds are wrong\n\nCurrently, if the cinder.conf has invalid entries for san_login/password\n(account creds for SolidFire endpoint), you get a stack trace on startup\nwith some cryptic messaging around json decode errors.\n\nThis is because what we expect as the response body is empty, and\ninstead the SF API is returning an authorization error.  It\'s a long\nstanding error condition that\'s easily debugged for people that know\nabout it, but not so clear for those that might not be familiar.\n\nSo, rather than leaving it up to ""best guess"" or having to ""phone a\nfriend"", make an attempt to parse out failed requests and indicate if in\nfact they were even accepted or if we failed authorization.\n\nInstead of checking for the JSON errors we have elected to check the\nHTTP errors and through those with more selective hints on where to find\nthe issue when the SolidFire cinder drivre starts up.\n\nIf the same HTTP errors occur after the driver has started there are\nother forces effecting the system. Configurations could have changed\nin cinder, or SolidFire, network, hardware, etc.\n\nChange-Id: Ia00c5afe381de2bf653eaf27968c667b3d818046\nCloses-Bug: #1764446\n'}, {'number': 16, 'created': '2021-01-12 03:53:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/696d80d763a15ccb6f590b9838e879805d432c71', 'message': 'SF Give a hint when SolidFire creds are wrong\n\nCurrently, if the cinder.conf has invalid entries for san_login/password\n(account creds for SolidFire endpoint), you get a stack trace on startup\nwith some cryptic messaging around json decode errors.\n\nThis is because what we expect as the response body is empty, and\ninstead the SF API is returning an authorization error.  It\'s a long\nstanding error condition that\'s easily debugged for people that know\nabout it, but not so clear for those that might not be familiar.\n\nSo, rather than leaving it up to ""best guess"" or having to ""phone a\nfriend"", make an attempt to parse out failed requests and indicate if in\nfact they were even accepted or if we failed authorization.\n\nInstead of checking for the JSON errors we have elected to check the\nHTTP errors and through those with more selective hints on where to find\nthe issue when the SolidFire cinder drivre starts up.\n\nIf the same HTTP errors occur after the driver has started there are\nother forces effecting the system. Configurations could have changed\nin cinder, or SolidFire, network, hardware, etc.\n\nChange-Id: Ia00c5afe381de2bf653eaf27968c667b3d818046\nCloses-Bug: #1764446\n'}, {'number': 17, 'created': '2021-01-12 04:13:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/aacc9b1f85a32b6a1772294800cf297fa1e3b980', 'message': 'SF Give a hint when SolidFire creds are wrong\n\nCurrently, if the cinder.conf has invalid entries for san_login/password\n(account creds for SolidFire endpoint), you get a stack trace on startup\nwith some cryptic messaging around json decode errors.\n\nThis is because what we expect as the response body is empty, and\ninstead the SF API is returning an authorization error.  It\'s a long\nstanding error condition that\'s easily debugged for people that know\nabout it, but not so clear for those that might not be familiar.\n\nSo, rather than leaving it up to ""best guess"" or having to ""phone a\nfriend"", make an attempt to parse out failed requests and indicate if in\nfact they were even accepted or if we failed authorization.\n\nInstead of checking for the JSON errors we have elected to check the\nHTTP errors and through those with more selective hints on where to find\nthe issue when the SolidFire cinder drivre starts up.\n\nIf the same HTTP errors occur after the driver has started there are\nother forces effecting the system. Configurations could have changed\nin cinder, or SolidFire, network, hardware, etc.\n\nChange-Id: Ia00c5afe381de2bf653eaf27968c667b3d818046\nCloses-Bug: #1764446\n'}, {'number': 18, 'created': '2021-04-15 16:21:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0af3b1fc84f2e31967dc897ce667e41a88220ede', 'message': 'SF Give a hint when SolidFire creds are wrong\n\nCurrently, if the cinder.conf has invalid entries for san_login/password\n(account creds for SolidFire endpoint), you get a stack trace on startup\nwith some cryptic messaging around json decode errors.\n\nThis is because what we expect as the response body is empty, and\ninstead the SF API is returning an authorization error.  It\'s a long\nstanding error condition that\'s easily debugged for people that know\nabout it, but not so clear for those that might not be familiar.\n\nSo, rather than leaving it up to ""best guess"" or having to ""phone a\nfriend"", make an attempt to parse out failed requests and indicate if in\nfact they were even accepted or if we failed authorization.\n\nInstead of checking for the JSON errors we have elected to check the\nHTTP errors and through those with more selective hints on where to find\nthe issue when the SolidFire cinder drivre starts up.\n\nIf the same HTTP errors occur after the driver has started there are\nother forces effecting the system. Configurations could have changed\nin cinder, or SolidFire, network, hardware, etc.\n\nChange-Id: Ia00c5afe381de2bf653eaf27968c667b3d818046\nCloses-Bug: #1764446\n'}, {'number': 19, 'created': '2022-03-29 14:29:47.000000000', 'files': ['cinder/volume/drivers/solidfire.py', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py', 'releasenotes/notes/bug-1764446-better-solidfire-hints-ee79a2bdc24640dd.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f17675d26b6754e4a687e0bf149c50026d12174d', 'message': 'SF Give a hint when SolidFire creds are wrong\n\nCurrently, if the cinder.conf has invalid entries for san_login/password\n(account creds for SolidFire endpoint), you get a stack trace on startup\nwith some cryptic messaging around json decode errors.\n\nThis is because what we expect as the response body is empty, and\ninstead the SF API is returning an authorization error.  It\'s a long\nstanding error condition that\'s easily debugged for people that know\nabout it, but not so clear for those that might not be familiar.\n\nSo, rather than leaving it up to ""best guess"" or having to ""phone a\nfriend"", make an attempt to parse out failed requests and indicate if in\nfact they were even accepted or if we failed authorization.\n\nInstead of checking for the JSON errors we have elected to check the\nHTTP errors and through those with more selective hints on where to find\nthe issue when the SolidFire cinder drivre starts up.\n\nIf the same HTTP errors occur after the driver has started there are\nother forces effecting the system. Configurations could have changed\nin cinder, or SolidFire, network, hardware, etc.\n\nChange-Id: Ia00c5afe381de2bf653eaf27968c667b3d818046\nCloses-Bug: #1764446\n'}]",44,562053,f17675d26b6754e4a687e0bf149c50026d12174d,409,62,19,2243,,,0,"SF Give a hint when SolidFire creds are wrong

Currently, if the cinder.conf has invalid entries for san_login/password
(account creds for SolidFire endpoint), you get a stack trace on startup
with some cryptic messaging around json decode errors.

This is because what we expect as the response body is empty, and
instead the SF API is returning an authorization error.  It's a long
standing error condition that's easily debugged for people that know
about it, but not so clear for those that might not be familiar.

So, rather than leaving it up to ""best guess"" or having to ""phone a
friend"", make an attempt to parse out failed requests and indicate if in
fact they were even accepted or if we failed authorization.

Instead of checking for the JSON errors we have elected to check the
HTTP errors and through those with more selective hints on where to find
the issue when the SolidFire cinder drivre starts up.

If the same HTTP errors occur after the driver has started there are
other forces effecting the system. Configurations could have changed
in cinder, or SolidFire, network, hardware, etc.

Change-Id: Ia00c5afe381de2bf653eaf27968c667b3d818046
Closes-Bug: #1764446
",git fetch https://review.opendev.org/openstack/cinder refs/changes/53/562053/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/solidfire.py'],1,5ec7655175da1d84fa9b324a37c58dbc038b1bf3,bug/1764446,"# Need to set our Decode exception based on whether we're # running Python 3 or Python 2.x, just use Python 3's # JSONDecodeError as our variable and set appropriately here try: from json.decoder import JSONDecodeError except ImportError: JSONDecodeError = ValueError try: response = req.json() except JSONDecodeError as ex: LOG.error(""Error encountered parsing json response in request "" ""response."") LOG.error(""If this is during init it's mostly commonly a "" ""problem with endpoint access. Verify your settings "" ""in Cinder.conf."") LOG.error(""Message response was: %s"", req.reason) raise ex ", response = req.json() req.close(),19,2
openstack%2Fopenstack-ansible-os_cinder~921872,openstack/openstack-ansible-os_cinder,master,I7a1931c51595e2f6ee1c5794230737d68740c049,Start iscsid on cinder-volume hosts using LVM backend,MERGED,2024-06-12 14:56:05.000000000,2024-06-13 19:52:48.000000000,2024-06-13 19:50:27.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2024-06-12 14:56:05.000000000', 'files': ['tasks/cinder_post_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/79f14e4aa456fe069e915abea5ff0a1e02e910b9', 'message': 'Start iscsid on cinder-volume hosts using LVM backend\n\nThis is needed to create the iscsi initiator ID which may\nnot be present by default.\n\nChange-Id: I7a1931c51595e2f6ee1c5794230737d68740c049\n'}]",1,921872,79f14e4aa456fe069e915abea5ff0a1e02e910b9,11,5,1,25023,,,0,"Start iscsid on cinder-volume hosts using LVM backend

This is needed to create the iscsi initiator ID which may
not be present by default.

Change-Id: I7a1931c51595e2f6ee1c5794230737d68740c049
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/72/921872/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/cinder_post_install.yml'],1,79f14e4aa456fe069e915abea5ff0a1e02e910b9,,"# NOTE(jrosser) it is necessarry to start the iscsid service to # generate an initiator uuid if one is not already present - name: Ensure iscsid service is started service: name: ""iscsid"" state: started enabled: true when: - ""cinder_services['cinder-volume']['group'] in group_names"" - cinder_backend_lvm_inuse | bool ",,11,0
openstack%2Fopenstack-ansible~921778,openstack/openstack-ansible,master,I26e1d0a623bef3d62af4eedab7fd622963fd42ea,Collect iscsid config for CI jobs,MERGED,2024-06-11 15:59:56.000000000,2024-06-13 19:51:37.000000000,2024-06-13 19:50:09.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2024-06-11 15:59:56.000000000', 'files': ['scripts/log-collect.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c8c33b211bdc2bae54bc459f9de0fc3e0a791cb0', 'message': 'Collect iscsid config for CI jobs\n\nChange-Id: I26e1d0a623bef3d62af4eedab7fd622963fd42ea\n'}]",0,921778,c8c33b211bdc2bae54bc459f9de0fc3e0a791cb0,8,3,1,25023,,,0,"Collect iscsid config for CI jobs

Change-Id: I26e1d0a623bef3d62af4eedab7fd622963fd42ea
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/78/921778/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/log-collect.sh'],1,c8c33b211bdc2bae54bc459f9de0fc3e0a791cb0,, iscsi \,,1,0
openstack%2Fcharm-ironic-conductor~917323,openstack/charm-ironic-conductor,stable/2024.1,I34d6a2d1cd9d2d28fb93a6ee7d88cd43a43f4d45,Stable changes for stable/2024.1 (caracal) branch,NEW,2024-04-29 10:26:22.000000000,2024-06-13 19:50:38.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-29 10:26:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/4a59aad369a4573348ef52c80bc3be3535c45518', 'message': 'Stable changes for stable/2024.1 (caracal) branch\n\nThis patch converts stable/2024.1 into a stable maintenance branch. It:\n\n- modifies .gitreview to point to stable/2024.1\n- switches (test-)requirements*.txt -> (test-)requirements*.in\n  for pip-compile usage.\n- creates (test-)requirements-py*.txt from *.in using pip-compile for\n  the relevant python version.\n- Updates bundles to point to ceph/edge and 24.04/edge for ceph and\n  OVN charms.\n- Adds build.lock file to the reactive charms.\n- Syncs charm-helpers for classic charms.\n- Locks requirements.txt from requirements.in for ops machine charms.\n- Locks charms.openstack, zaza, zaza-openstack-tests, charm-helpers to\n  stable branches.\n\nChange-Id: I34d6a2d1cd9d2d28fb93a6ee7d88cd43a43f4d45\n'}, {'number': 2, 'created': '2024-05-01 11:43:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/bc62644b4ff18e931651c873bb0858b4a99ab674', 'message': 'Stable changes for stable/2024.1 (caracal) branch\n\nThis patch converts stable/2024.1 into a stable maintenance branch. It:\n\n- modifies .gitreview to point to stable/2024.1\n- switches (test-)requirements*.txt -> (test-)requirements*.in\n  for pip-compile usage.\n- creates (test-)requirements-py*.txt from *.in using pip-compile for\n  the relevant python version.\n- Updates bundles to point to ceph/edge and 24.04/edge for ceph and\n  OVN charms.\n- Adds build.lock file to the reactive charms.\n- Syncs charm-helpers for classic charms.\n- Locks requirements.txt from requirements.in for ops machine charms.\n- Locks charms.openstack, zaza, zaza-openstack-tests, charm-helpers to\n  stable branches.\n\nChange-Id: I34d6a2d1cd9d2d28fb93a6ee7d88cd43a43f4d45\n'}, {'number': 3, 'created': '2024-05-03 17:27:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/b7b69b65febe178876f6193a7e8f82d31ef21b2b', 'message': 'Stable changes for stable/2024.1 (caracal) branch\n\nThis patch converts stable/2024.1 into a stable maintenance branch. It:\n\n- modifies .gitreview to point to stable/2024.1\n- switches (test-)requirements*.txt -> (test-)requirements*.in\n  for pip-compile usage.\n- creates (test-)requirements-py*.txt from *.in using pip-compile for\n  the relevant python version.\n- Updates bundles to point to ceph/edge and 24.04/edge for ceph and\n  OVN charms.\n- Adds build.lock file to the reactive charms.\n- Syncs charm-helpers for classic charms.\n- Locks requirements.txt from requirements.in for ops machine charms.\n- Locks charms.openstack, zaza, zaza-openstack-tests, charm-helpers to\n  stable branches.\n\nChange-Id: I34d6a2d1cd9d2d28fb93a6ee7d88cd43a43f4d45\n'}, {'number': 4, 'created': '2024-05-03 20:01:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/6d0483f7bc7a0c67c94727584d6225e5095b6e6d', 'message': 'Stable changes for stable/2024.1 (caracal) branch\n\nThis patch converts stable/2024.1 into a stable maintenance branch. It:\n\n- modifies .gitreview to point to stable/2024.1\n- switches (test-)requirements*.txt -> (test-)requirements*.in\n  for pip-compile usage.\n- creates (test-)requirements-py*.txt from *.in using pip-compile for\n  the relevant python version.\n- Updates bundles to point to ceph/edge and 24.04/edge for ceph and\n  OVN charms.\n- Adds build.lock file to the reactive charms.\n- Syncs charm-helpers for classic charms.\n- Locks requirements.txt from requirements.in for ops machine charms.\n- Locks charms.openstack, zaza, zaza-openstack-tests, charm-helpers to\n  stable branches.\n\nChange-Id: I34d6a2d1cd9d2d28fb93a6ee7d88cd43a43f4d45\n'}, {'number': 5, 'created': '2024-05-14 15:01:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/4f0ee38d7f9750b4625f5d697cb264242b8fd0c6', 'message': 'Stable changes for stable/2024.1 (caracal) branch\n\nThis patch converts stable/2024.1 into a stable maintenance branch. It:\n\n- modifies .gitreview to point to stable/2024.1\n- switches (test-)requirements*.txt -> (test-)requirements*.in\n  for pip-compile usage.\n- creates (test-)requirements-py*.txt from *.in using pip-compile for\n  the relevant python version.\n- Updates bundles to point to ceph/edge and 24.04/edge for ceph and\n  OVN charms.\n- Adds build.lock file to the reactive charms.\n- Syncs charm-helpers for classic charms.\n- Locks requirements.txt from requirements.in for ops machine charms.\n- Locks charms.openstack, zaza, zaza-openstack-tests, charm-helpers to\n  stable branches.\n\nChange-Id: I34d6a2d1cd9d2d28fb93a6ee7d88cd43a43f4d45\n'}, {'number': 6, 'created': '2024-05-16 14:43:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/3a50fb5c4fa2058501e2567c0e00547adc6a6d95', 'message': 'Stable changes for stable/2024.1 (caracal) branch\n\nThis patch converts stable/2024.1 into a stable maintenance branch. It:\n\n- modifies .gitreview to point to stable/2024.1\n- switches (test-)requirements*.txt -> (test-)requirements*.in\n  for pip-compile usage.\n- creates (test-)requirements-py*.txt from *.in using pip-compile for\n  the relevant python version.\n- Updates bundles to point to ceph/edge and 24.04/edge for ceph and\n  OVN charms.\n- Adds build.lock file to the reactive charms.\n- Syncs charm-helpers for classic charms.\n- Locks requirements.txt from requirements.in for ops machine charms.\n- Locks charms.openstack, zaza, zaza-openstack-tests, charm-helpers to\n  stable branches.\n\nChange-Id: I34d6a2d1cd9d2d28fb93a6ee7d88cd43a43f4d45\n'}, {'number': 7, 'created': '2024-06-13 16:37:08.000000000', 'files': ['requirements.in', '.gitreview', 'src/tox.ini', 'test-requirements-py310.txt', 'src/tests/bundles/jammy-bobcat.yaml', 'merged-requirements-py38.txt', 'merged-requirements-py311.txt', 'src/tests/bundles/jammy-caracal.yaml', 'test-requirements-py38.txt', 'src/wheelhouse.txt', 'merged-requirements-py310.txt', 'test-requirements.in', 'src/test-requirements.in', 'src/build.lock', 'src/test-requirements-py38.txt', 'tox.ini', 'test-requirements-py311.txt', 'src/tests/bundles/jammy-antelope.yaml', 'src/tests/bundles/noble-caracal.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/201f46b437db560668618673c2e0de4608d9ecb0', 'message': 'Stable changes for stable/2024.1 (caracal) branch\n\nThis patch converts stable/2024.1 into a stable maintenance branch. It:\n\n- modifies .gitreview to point to stable/2024.1\n- switches (test-)requirements*.txt -> (test-)requirements*.in\n  for pip-compile usage.\n- creates (test-)requirements-py*.txt from *.in using pip-compile for\n  the relevant python version.\n- Updates bundles to point to ceph/edge and 24.04/edge for ceph and\n  OVN charms.\n- Adds build.lock file to the reactive charms.\n- Syncs charm-helpers for classic charms.\n- Locks requirements.txt from requirements.in for ops machine charms.\n- Locks charms.openstack, zaza, zaza-openstack-tests, charm-helpers to\n  stable branches.\n\nChange-Id: I34d6a2d1cd9d2d28fb93a6ee7d88cd43a43f4d45\n'}]",11,917323,201f46b437db560668618673c2e0de4608d9ecb0,37,2,7,20870,,,0,"Stable changes for stable/2024.1 (caracal) branch

This patch converts stable/2024.1 into a stable maintenance branch. It:

- modifies .gitreview to point to stable/2024.1
- switches (test-)requirements*.txt -> (test-)requirements*.in
  for pip-compile usage.
- creates (test-)requirements-py*.txt from *.in using pip-compile for
  the relevant python version.
- Updates bundles to point to ceph/edge and 24.04/edge for ceph and
  OVN charms.
- Adds build.lock file to the reactive charms.
- Syncs charm-helpers for classic charms.
- Locks requirements.txt from requirements.in for ops machine charms.
- Locks charms.openstack, zaza, zaza-openstack-tests, charm-helpers to
  stable branches.

Change-Id: I34d6a2d1cd9d2d28fb93a6ee7d88cd43a43f4d45
",git fetch https://review.opendev.org/openstack/charm-ironic-conductor refs/changes/23/917323/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/lunar-antelope.yaml', 'requirements.in', '.gitreview', 'src/tox.ini', 'test-requirements-py310.txt', 'src/tests/bundles/jammy-bobcat.yaml', 'merged-requirements-py38.txt', 'test-requirements-py38.txt', 'src/wheelhouse.txt', 'merged-requirements-py310.txt', 'src/tests/bundles/mantic-bobcat.yaml', 'test-requirements.in', 'src/test-requirements.in', 'src/build.lock', 'src/test-requirements-py38.txt', 'tox.ini', 'src/tests/bundles/jammy-antelope.yaml']",17,4a59aad369a4573348ef52c80bc3be3535c45518,stable-2024.1, channel: squid/edge channel: squid/edge channel: squid/edge, channel: latest/edge channel: latest/edge channel: latest/edge,1843,40
openstack%2Fosops~823692,openstack/osops,master,I4ffecb21079c04ca1a7976bea06544dad271d851,[fix] false positive on nova-services,MERGED,2022-01-06 13:33:41.000000000,2024-06-13 19:50:20.000000000,2024-06-13 19:50:20.000000000,"[{'_account_id': 11583}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 13:33:41.000000000', 'files': ['tools/monitoring/nagios-plugins/nova-services.sh'], 'web_link': 'https://opendev.org/openstack/osops/commit/08de36aaee61172787d7285e371cb40c0cae80dc', 'message': '[fix] false positive on nova-services\n\nNova-services have a false positive due to index of return table contain\nthe word ""down"" for column ""Forced down""\n\nTested on Xena\n\nStory: 2008299\nTask: 41184\n\nChange-Id: I4ffecb21079c04ca1a7976bea06544dad271d851\nSigned-off-by: Cyril Lopez <cylopez@redhat.com>\n'}]",0,823692,08de36aaee61172787d7285e371cb40c0cae80dc,7,3,1,16339,,,0,"[fix] false positive on nova-services

Nova-services have a false positive due to index of return table contain
the word ""down"" for column ""Forced down""

Tested on Xena

Story: 2008299
Task: 41184

Change-Id: I4ffecb21079c04ca1a7976bea06544dad271d851
Signed-off-by: Cyril Lopez <cylopez@redhat.com>
",git fetch https://review.opendev.org/openstack/osops refs/changes/92/823692/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/monitoring/nagios-plugins/nova-services.sh'],1,08de36aaee61172787d7285e371cb40c0cae80dc,fixnovaservice,output=$(nova service-list | tail -n +3 | grep down),output=$(nova service-list | grep down),1,1
openstack%2Fosops~823687,openstack/osops,master,I97f46310cbf4935f113100f0e10a4e2965eee714,[fix] glance nagios,NEW,2022-01-06 13:08:17.000000000,2024-06-13 19:50:20.000000000,,"[{'_account_id': 11583}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 13:08:17.000000000', 'files': ['tools/monitoring/nagios-plugins/glance-list.sh'], 'web_link': 'https://opendev.org/openstack/osops/commit/e37254d50ccafc7c9cac9b5ebffea87e3ba49c56', 'message': '[fix] glance nagios\n\nglance cli is now replaced by openstack image.\n\nTested on Xena\n\nStory: 2008299\nTask: 41184\n\nChange-Id: I97f46310cbf4935f113100f0e10a4e2965eee714\nSigned-off-by: Cyril Lopez <cylopez@redhat.com>\n'}]",0,823687,e37254d50ccafc7c9cac9b5ebffea87e3ba49c56,4,3,1,16339,,,0,"[fix] glance nagios

glance cli is now replaced by openstack image.

Tested on Xena

Story: 2008299
Task: 41184

Change-Id: I97f46310cbf4935f113100f0e10a4e2965eee714
Signed-off-by: Cyril Lopez <cylopez@redhat.com>
",git fetch https://review.opendev.org/openstack/osops refs/changes/87/823687/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/monitoring/nagios-plugins/glance-list.sh'],1,e37254d50ccafc7c9cac9b5ebffea87e3ba49c56,fixglancelist,"if [ -e ~/openrc ]; then source ~/openrc fiopenstack image list | grep -q ""${image}""","source ~/openrcglance image-list | grep -q ""${image}""",4,2
openstack%2Fnetworking-powervm~720959,openstack/networking-powervm,master,I246cd3325aae165e0da04c434546ac4499b35c34,Use unittest.mock instead of third party mock,ABANDONED,2020-04-18 16:56:20.000000000,2024-06-13 19:48:40.000000000,,"[{'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28522}, {'_account_id': 32102}]","[{'number': 1, 'created': '2020-04-18 16:56:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-powervm/commit/47bd02050caaaeb1ff7bec3be0935fc17a8b3fc5', 'message': 'Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib.\n\nChange-Id: I246cd3325aae165e0da04c434546ac4499b35c34\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-06-22 14:41:25.000000000', 'files': ['networking_powervm/tests/unit/plugins/ibm/powervm/test_utils.py', 'networking_powervm/tests/unit/plugins/ibm/powervm/base.py', 'networking_powervm/tests/unit/plugins/ibm/powervm/test_agent_base.py', 'test-requirements.txt', 'networking_powervm/tests/unit/plugins/ibm/powervm/test_sea_agent.py', 'networking_powervm/tests/unit/plugins/ibm/powervm/test_prov_req.py', 'networking_powervm/tests/unit/plugins/ml2/drivers/test_mech_pvm.py', 'networking_powervm/tests/unit/plugins/ibm/powervm/test_sriov_agent.py'], 'web_link': 'https://opendev.org/openstack/networking-powervm/commit/856d7116e25af206fac855ff4c060993e7927271', 'message': 'Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib.\n\nChange-Id: I246cd3325aae165e0da04c434546ac4499b35c34\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,720959,856d7116e25af206fac855ff4c060993e7927271,10,5,2,11904,,,0,"Use unittest.mock instead of third party mock

Now that we no longer support py27, we can use the standard library
unittest.mock module instead of the third party mock lib.

Change-Id: I246cd3325aae165e0da04c434546ac4499b35c34
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/networking-powervm refs/changes/59/720959/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_powervm/tests/unit/plugins/ibm/powervm/test_utils.py', 'networking_powervm/tests/unit/plugins/ibm/powervm/base.py', 'networking_powervm/tests/unit/plugins/ibm/powervm/test_agent_base.py', 'test-requirements.txt', 'networking_powervm/tests/unit/plugins/ibm/powervm/test_sea_agent.py', 'networking_powervm/tests/unit/plugins/ibm/powervm/test_prov_req.py', 'networking_powervm/tests/unit/plugins/ml2/drivers/test_mech_pvm.py', 'networking_powervm/tests/unit/plugins/ibm/powervm/test_sriov_agent.py']",8,47bd02050caaaeb1ff7bec3be0935fc17a8b3fc5,unittest.mock,from unittest import mock ,import mock,11,8
openstack%2Fnova~743834,openstack/nova,master,I5b98355f15ffadd4ece535a7a123c4e77a90adfa,Drop use of legacy encryptor specifiers,ABANDONED,2020-07-29 19:45:31.000000000,2024-06-13 19:48:08.000000000,,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-07-29 19:45:31.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7f7b89b47ef8337ab7807c365131eeb8679d8970', 'message': 'Drop use of legacy encryptor specifiers\n\nThe os-brick library is dropping support for providing classpath and\nnon-standard encryptors. This functionality was deprecated in the Ocata\nrelease.\n\nThis removes checks we had in place to attempt to lookup non-standard\nproviders from a list of providers os-brick understood so that that list\ncan be removed from the library.\n\nChange-Id: I5b98355f15ffadd4ece535a7a123c4e77a90adfa\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,743834,7f7b89b47ef8337ab7807c365131eeb8679d8970,15,12,1,11904,,,0,"Drop use of legacy encryptor specifiers

The os-brick library is dropping support for providing classpath and
non-standard encryptors. This functionality was deprecated in the Ocata
release.

This removes checks we had in place to attempt to lookup non-standard
providers from a list of providers os-brick understood so that that list
can be removed from the library.

Change-Id: I5b98355f15ffadd4ece535a7a123c4e77a90adfa
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/743834/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,7f7b89b47ef8337ab7807c365131eeb8679d8970,drop_classpath_encryptors,, 'provider': 'nova.volume.encryptors.luks.LuksEncryptor'})) self.assertTrue(drvr._allow_native_luksv1({ 'provider': 'LuksEncryptor'})) self.assertTrue(drvr._allow_native_luksv1({,0,6
openstack%2Fcinder~743833,openstack/cinder,master,Iadddb3477323e3d92b7a72f070f404d806f1397d,Drop use of legacy encryptor specifiers,ABANDONED,2020-07-29 19:45:31.000000000,2024-06-13 19:47:53.000000000,,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 15386}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}]","[{'number': 1, 'created': '2020-07-29 19:45:31.000000000', 'files': ['cinder/volume/volume_utils.py', 'cinder/tests/unit/test_volume_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/db1d09f362b4c50dea30c7b9e2d6a2a58d1e0257', 'message': 'Drop use of legacy encryptor specifiers\n\nThe os-brick library is dropping support for providing classpath and\nnon-standard encryptors. This functionality was deprecated in the Ocata\nrelease.\n\nThis removes checks we had in place to attempt to lookup non-standard\nproviders form a list of providers os-brick understood so that that list\ncan be removed from the library.\n\nChange-Id: Iadddb3477323e3d92b7a72f070f404d806f1397d\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,743833,db1d09f362b4c50dea30c7b9e2d6a2a58d1e0257,24,18,1,11904,,,0,"Drop use of legacy encryptor specifiers

The os-brick library is dropping support for providing classpath and
non-standard encryptors. This functionality was deprecated in the Ocata
release.

This removes checks we had in place to attempt to lookup non-standard
providers form a list of providers os-brick understood so that that list
can be removed from the library.

Change-Id: Iadddb3477323e3d92b7a72f070f404d806f1397d
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/33/743833/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/volume_utils.py', 'cinder/tests/unit/test_volume_utils.py']",2,db1d09f362b4c50dea30c7b9e2d6a2a58d1e0257,drop_classpath_encryptors," def test_check_encryption_provider(self): ctxt, type_ref['id'], { 'cipher': 'aes-xts-plain64', 'provider': 'luks'})"," @ddt.data({'cipher': 'aes-xts-plain64', 'provider': 'luks'}, {'cipher': 'aes-xts-plain64', 'provider': 'nova.volume.encryptors.luks.LuksEncryptor'}) def test_check_encryption_provider(self, encryption_metadata): ctxt, type_ref['id'], encryption_metadata)",5,9
openstack%2Fnetworking-powervm~737255,openstack/networking-powervm,master,Ib1df607c4ede4c59b8bd48e01608d99e9c8dc258,[ussuri][goal] Drop py27 support and testing,ABANDONED,2020-06-22 11:03:32.000000000,2024-06-13 19:47:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-06-22 11:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-powervm/commit/d45a2e0e30bcadcf59e715db46543ad128063321', 'message': ""Don't duplicate upstream requirements\n\nThis repo assumes neutron and its requirements are installed, with\nadditional local requirements needed that are specific to the project.\nThis removes duplicate entries in requirements.txt and\ntest-requirements.txt to avoid conflicting package requirements.\n\nChange-Id: Ib1df607c4ede4c59b8bd48e01608d99e9c8dc258\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}, {'number': 2, 'created': '2020-06-22 11:26:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-powervm/commit/9a615cd23db10c5e3982f9ea9126c96eaa3302d6', 'message': ""[ussuri][goal] Drop py27 support and testing\n\nPart of the ussuri cycle goals was to drop support for python 2.7. This\nremoves the package trove classifiers for py2 support and drops testing.\n\nThis repo does not use reno, so no release note added.\n\nIt also includes the following change necessary to get gate jobs to\npass:\n\nDon't duplicate upstream requirements\n\nThis repo assumes neutron and its requirements are installed, with\nadditional local requirements needed that are specific to the project.\nThis removes duplicate entries in requirements.txt and\ntest-requirements.txt to avoid conflicting package requirements.\n\nChange-Id: Ib1df607c4ede4c59b8bd48e01608d99e9c8dc258\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}, {'number': 3, 'created': '2020-06-22 11:27:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-powervm/commit/a862d9c7b9636238ed1a79ef9c66df7c990c095b', 'message': ""[ussuri][goal] Drop py27 support and testing\n\nPart of the ussuri cycle goals was to drop support for python 2.7. This\nremoves the package trove classifiers for py2 support and drops testing.\n\nThis repo does not use reno, so no release note added.\n\nIt also includes the following change necessary to get gate jobs to\npass:\n\nDon't duplicate upstream requirements\n\nThis repo assumes neutron and its requirements are installed, with\nadditional local requirements needed that are specific to the project.\nThis removes duplicate entries in requirements.txt and\ntest-requirements.txt to avoid conflicting package requirements.\n\nChange-Id: Ib1df607c4ede4c59b8bd48e01608d99e9c8dc258\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}, {'number': 4, 'created': '2020-06-22 12:48:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-powervm/commit/8565be736a29616e38a5b5191ff8c9ea8d712f9b', 'message': ""[ussuri][goal] Drop py27 support and testing\n\nPart of the ussuri cycle goals was to drop support for python 2.7. This\nremoves the package trove classifiers for py2 support and drops testing.\n\nThis repo does not use reno, so no release note added.\n\nIt also includes the following change necessary to get gate jobs to\npass:\n\nDon't duplicate upstream requirements\n\nThis repo assumes neutron and its requirements are installed, with\nadditional local requirements needed that are specific to the project.\nThis removes duplicate entries in requirements.txt and\ntest-requirements.txt to avoid conflicting package requirements.\n\nAlso updates lower-constraints to match neutron and/or fix lower\nversions that are no longer compatible with our minimum runtimes.\n\nChange-Id: Ib1df607c4ede4c59b8bd48e01608d99e9c8dc258\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}, {'number': 5, 'created': '2020-06-22 13:32:39.000000000', 'files': ['requirements.txt', 'doc/source/devref/testing.rst', 'test-requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'doc/requirements.txt', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-powervm/commit/9e5f2ed0ba5694e95d25262ab13813d12693a396', 'message': ""[ussuri][goal] Drop py27 support and testing\n\nPart of the ussuri cycle goals was to drop support for python 2.7. This\nremoves the package trove classifiers for py2 support and drops testing.\n\nThis repo does not use reno, so no release note added.\n\nIt also includes the following change necessary to get gate jobs to\npass:\n\nDon't duplicate upstream requirements\n\nThis repo assumes neutron and its requirements are installed, with\nadditional local requirements needed that are specific to the project.\nThis removes duplicate entries in requirements.txt and\ntest-requirements.txt to avoid conflicting package requirements.\n\nAlso updates lower-constraints to match neutron and/or fix lower\nversions that are no longer compatible with our minimum runtimes.\n\nChange-Id: Ib1df607c4ede4c59b8bd48e01608d99e9c8dc258\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}]",0,737255,9e5f2ed0ba5694e95d25262ab13813d12693a396,10,1,5,11904,,,0,"[ussuri][goal] Drop py27 support and testing

Part of the ussuri cycle goals was to drop support for python 2.7. This
removes the package trove classifiers for py2 support and drops testing.

This repo does not use reno, so no release note added.

It also includes the following change necessary to get gate jobs to
pass:

Don't duplicate upstream requirements

This repo assumes neutron and its requirements are installed, with
additional local requirements needed that are specific to the project.
This removes duplicate entries in requirements.txt and
test-requirements.txt to avoid conflicting package requirements.

Also updates lower-constraints to match neutron and/or fix lower
versions that are no longer compatible with our minimum runtimes.

Change-Id: Ib1df607c4ede4c59b8bd48e01608d99e9c8dc258
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/networking-powervm refs/changes/55/737255/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt']",2,d45a2e0e30bcadcf59e715db46543ad128063321,drop-py27-support, # NOTE: It is expected that the openstack/neutron requirements.txt and # test-requirements.txt packages are installed first. This repo has more test # requirements than listed here with the assumption that the ones not # explicitly listed in this file are listed in the neutron # test-requirements.txt ,"hacking>=1.1.0,<1.2.0 # Apache-2.0 bashate>=0.5.1 # Apache-2.0 coverage!=4.4,>=4.0 # Apache-2.0 fixtures>=3.0.0 # Apache-2.0/BSD python-subunit>=1.0.0 # Apache-2.0/BSD stestr>=1.0.0 # Apache-2.0 testscenarios>=0.4 # Apache-2.0/BSD testtools>=2.2.0 # MIT oslotest>=3.2.0 # Apache-2.0",15,26
openstack%2Fceilometer-powervm~720908,openstack/ceilometer-powervm,master,I95b6e3f46d9f641b9d12163f351c61de967bb7b4,Use unittest.mock instead of third party mock,ABANDONED,2020-04-18 16:52:24.000000000,2024-06-13 19:44:18.000000000,,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-04-18 16:52:24.000000000', 'files': ['ceilometer_powervm/tests/compute/virt/powervm/pvm_fixtures.py', 'test-requirements.txt', 'ceilometer_powervm/tests/compute/virt/powervm/test_inspector.py'], 'web_link': 'https://opendev.org/openstack/ceilometer-powervm/commit/efb47f4d9655ec8248f9af2d3f1bd9dd56b643e8', 'message': 'Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib.\n\nChange-Id: I95b6e3f46d9f641b9d12163f351c61de967bb7b4\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,720908,efb47f4d9655ec8248f9af2d3f1bd9dd56b643e8,4,2,1,11904,,,0,"Use unittest.mock instead of third party mock

Now that we no longer support py27, we can use the standard library
unittest.mock module instead of the third party mock lib.

Change-Id: I95b6e3f46d9f641b9d12163f351c61de967bb7b4
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/ceilometer-powervm refs/changes/08/720908/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer_powervm/tests/compute/virt/powervm/pvm_fixtures.py', 'test-requirements.txt', 'ceilometer_powervm/tests/compute/virt/powervm/test_inspector.py']",3,efb47f4d9655ec8248f9af2d3f1bd9dd56b643e8,unittest.mock,from unittest import mock,import mock,3,3
openstack%2Fnova-powervm~720964,openstack/nova-powervm,master,Ia263b4d74d1340535230ae5d7bc212fab0173b9d,Use unittest.mock instead of third party mock,ABANDONED,2020-04-18 16:56:48.000000000,2024-06-13 19:43:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-04-18 16:56:48.000000000', 'files': ['nova_powervm/tests/virt/powervm/volume/test_nfs.py', 'nova_powervm/tests/virt/powervm/test_vm.py', 'test-requirements.txt', 'nova_powervm/tests/virt/powervm/volume/test_local.py', 'nova_powervm/tests/virt/powervm/disk/test_driver.py', 'nova_powervm/tests/virt/powervm/volume/test_npiv.py', 'nova_powervm/tests/virt/powervm/tasks/test_vm.py', 'nova_powervm/tests/virt/powervm/test_event.py', 'nova_powervm/tests/virt/powervm/test_host.py', 'nova_powervm/tests/virt/powervm/test_slot.py', 'nova_powervm/tests/virt/powervm/tasks/test_image.py', 'nova_powervm/tests/virt/powervm/volume/test_rbd.py', 'nova_powervm/tests/virt/powervm/fixtures.py', 'nova_powervm/tests/virt/powervm/volume/test_gpfs.py', 'nova_powervm/tests/virt/powervm/test_driver.py', 'nova_powervm/tests/virt/powervm/volume/test_fileio.py', 'nova_powervm/tests/virt/powervm/test_media.py', 'nova_powervm/tests/virt/powervm/tasks/test_storage.py', 'nova_powervm/tests/virt/powervm/disk/test_ssp.py', 'nova_powervm/tests/virt/powervm/nvram/test_swift.py', 'nova_powervm/tests/virt/powervm/volume/test_driver.py', 'nova_powervm/tests/virt/powervm/test_mgmt.py', 'nova_powervm/tests/virt/powervm/tasks/test_slot.py', 'nova_powervm/tests/virt/powervm/test_live_migration.py', 'nova_powervm/tests/virt/powervm/disk/test_imagecache.py', 'nova_powervm/tests/virt/powervm/disk/test_localdisk.py', 'nova_powervm/tests/virt/powervm/tasks/test_network.py', 'nova_powervm/tests/virt/powervm/volume/test_vscsi.py', 'nova_powervm/tests/virt/powervm/nvram/test_manager.py', 'nova_powervm/tests/virt/powervm/test_vif.py', 'nova_powervm/tests/virt/powervm/volume/test_iscsi.py', 'nova_powervm/tests/virt/powervm/test_image.py'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/97077cb0c1032ce6f797691fac4b2643bf9abffb', 'message': 'Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib.\n\nChange-Id: Ia263b4d74d1340535230ae5d7bc212fab0173b9d\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,720964,97077cb0c1032ce6f797691fac4b2643bf9abffb,3,1,1,11904,,,0,"Use unittest.mock instead of third party mock

Now that we no longer support py27, we can use the standard library
unittest.mock module instead of the third party mock lib.

Change-Id: Ia263b4d74d1340535230ae5d7bc212fab0173b9d
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/64/720964/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova_powervm/tests/virt/powervm/volume/test_nfs.py', 'nova_powervm/tests/virt/powervm/test_vm.py', 'test-requirements.txt', 'nova_powervm/tests/virt/powervm/volume/test_local.py', 'nova_powervm/tests/virt/powervm/disk/test_driver.py', 'nova_powervm/tests/virt/powervm/volume/test_npiv.py', 'nova_powervm/tests/virt/powervm/tasks/test_vm.py', 'nova_powervm/tests/virt/powervm/test_event.py', 'nova_powervm/tests/virt/powervm/test_host.py', 'nova_powervm/tests/virt/powervm/test_slot.py', 'nova_powervm/tests/virt/powervm/tasks/test_image.py', 'nova_powervm/tests/virt/powervm/volume/test_rbd.py', 'nova_powervm/tests/virt/powervm/fixtures.py', 'nova_powervm/tests/virt/powervm/volume/test_gpfs.py', 'nova_powervm/tests/virt/powervm/test_driver.py', 'nova_powervm/tests/virt/powervm/volume/test_fileio.py', 'nova_powervm/tests/virt/powervm/test_media.py', 'nova_powervm/tests/virt/powervm/tasks/test_storage.py', 'nova_powervm/tests/virt/powervm/disk/test_ssp.py', 'nova_powervm/tests/virt/powervm/nvram/test_swift.py', 'nova_powervm/tests/virt/powervm/volume/test_driver.py', 'nova_powervm/tests/virt/powervm/test_mgmt.py', 'nova_powervm/tests/virt/powervm/tasks/test_slot.py', 'nova_powervm/tests/virt/powervm/test_live_migration.py', 'nova_powervm/tests/virt/powervm/disk/test_imagecache.py', 'nova_powervm/tests/virt/powervm/disk/test_localdisk.py', 'nova_powervm/tests/virt/powervm/tasks/test_network.py', 'nova_powervm/tests/virt/powervm/volume/test_vscsi.py', 'nova_powervm/tests/virt/powervm/nvram/test_manager.py', 'nova_powervm/tests/virt/powervm/test_vif.py', 'nova_powervm/tests/virt/powervm/volume/test_iscsi.py', 'nova_powervm/tests/virt/powervm/test_image.py']",32,97077cb0c1032ce6f797691fac4b2643bf9abffb,unittest.mock,from unittest import mock ,import mock,39,32
openstack%2Fopenstack-ansible-plugins~921761,openstack/openstack-ansible-plugins,master,I19d6b2b1734c56ea9cff95614c0ce0ea83d7b5e9,Add sshpass_prompt to ssh connection options,MERGED,2024-06-11 13:26:24.000000000,2024-06-13 19:38:12.000000000,2024-06-13 19:37:20.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2024-06-11 13:26:24.000000000', 'files': ['plugins/connection/ssh.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/16d8d3c6a60b49049b1b6877271261898eb9b033', 'message': ""Add sshpass_prompt to ssh connection options\n\nAt the moment our connection plugin will fail on attempt to auth by\npassword.\nIn order to allow SSH prompt it's enough to add `sshpass_prompt` as\ndocumented option.\nAll logic needed to implement it goes from Ansible SSH connection module\nand works properly.\n\nChange-Id: I19d6b2b1734c56ea9cff95614c0ce0ea83d7b5e9\n""}]",0,921761,16d8d3c6a60b49049b1b6877271261898eb9b033,9,4,1,28619,,,0,"Add sshpass_prompt to ssh connection options

At the moment our connection plugin will fail on attempt to auth by
password.
In order to allow SSH prompt it's enough to add `sshpass_prompt` as
documented option.
All logic needed to implement it goes from Ansible SSH connection module
and works properly.

Change-Id: I19d6b2b1734c56ea9cff95614c0ce0ea83d7b5e9
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/61/921761/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/connection/ssh.py'],1,16d8d3c6a60b49049b1b6877271261898eb9b033,, sshpass_prompt: description: - Password prompt that sshpass should search for. Supported by sshpass 1.06 and up. - Defaults to C(Enter PIN for) when pkcs11_provider is set. default: '' type: string ini: - section: 'ssh_connection' key: 'sshpass_prompt' env: - name: ANSIBLE_SSHPASS_PROMPT vars: - name: ansible_sshpass_prompt version_added: '2.10',,14,0
openstack%2Fcharm-ceph-osd~921704,openstack/charm-ceph-osd,master,I32398a0525b7098503de36d72e593c14207102a1,[WIP] Defer restart of services on AppArmor change,NEW,2024-06-10 19:36:07.000000000,2024-06-13 19:36:33.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31959}, {'_account_id': 33717}]","[{'number': 1, 'created': '2024-06-10 19:36:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/fa38ec4640504ff069545083b1805c7ecdbd3b1e', 'message': '[WIP] Defer restart of services on AppArmor change\n\nAppArmor changes cause restarts of all OSD\nservices in all units at the same time, which\ncan cause ceph-cluster outage.\n\nDefer restart and set a status message prompting\nto run a restart-osds action for each unit separately.\n\nPending:\n- more testing\n- unit tests\n\nRelated-bug: #2068020\nChange-Id: I32398a0525b7098503de36d72e593c14207102a1\n'}, {'number': 2, 'created': '2024-06-11 18:11:37.000000000', 'files': ['hooks/ceph_hooks.py', 'unit_tests/test_ceph_hooks.py', 'actions/service.py', 'actions.yaml', 'actions/update-apparmor'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/ecd6cd1475a5de0e2b372575a8324aea75eea7d9', 'message': '[WIP] Defer restart of services on AppArmor change\n\nAppArmor changes cause restarts of all OSD\nservices in all units at the same time, which\ncan cause ceph-cluster outage.\n\nDefer actual update and set a status message prompting\nto run a update-apparmor action for each unit separately.\n\nPending:\n- more testing\n- unit tests\n\nRelated-bug: #2068020\nChange-Id: I32398a0525b7098503de36d72e593c14207102a1\n'}]",11,921704,ecd6cd1475a5de0e2b372575a8324aea75eea7d9,17,4,2,14567,,,0,"[WIP] Defer restart of services on AppArmor change

AppArmor changes cause restarts of all OSD
services in all units at the same time, which
can cause ceph-cluster outage.

Defer actual update and set a status message prompting
to run a update-apparmor action for each unit separately.

Pending:
- more testing
- unit tests

Related-bug: #2068020
Change-Id: I32398a0525b7098503de36d72e593c14207102a1
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/04/921704/1 && git format-patch -1 --stdout FETCH_HEAD,"['actions/restart-osds', 'hooks/ceph_hooks.py', 'unit_tests/test_ceph_hooks.py', 'actions/service.py', 'actions.yaml']",5,fa38ec4640504ff069545083b1805c7ecdbd3b1e,,restart-osds: description: Restart all OSDs services being run in the unit.,,63,20
openstack%2Fopenstack-ansible-os_keystone~921845,openstack/openstack-ansible-os_keystone,stable/2024.1,I2e801fade862608382aa0adb868eff3f44ed938b,Define oslo_messaging_rabbit section if either RPC or Notifications are enabled,MERGED,2024-06-12 11:19:14.000000000,2024-06-13 19:23:19.000000000,2024-06-13 19:22:26.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2024-06-12 11:19:14.000000000', 'files': ['templates/keystone.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/c3b51d76a1ea2cfac39756200b2714636a4ae645', 'message': 'Define oslo_messaging_rabbit section if either RPC or Notifications are enabled\n\nAt the moment Keystone config would not contain rabbitmq tunning for\nnotifications, while this still might be preffered.\n\nWe adjust template to contain oslo_messaging_rabbit if either RPC or\nNotifications are enabled.\n\nChange-Id: I2e801fade862608382aa0adb868eff3f44ed938b\n'}]",3,921845,c3b51d76a1ea2cfac39756200b2714636a4ae645,20,3,1,28619,,,0,"Define oslo_messaging_rabbit section if either RPC or Notifications are enabled

At the moment Keystone config would not contain rabbitmq tunning for
notifications, while this still might be preffered.

We adjust template to contain oslo_messaging_rabbit if either RPC or
Notifications are enabled.

Change-Id: I2e801fade862608382aa0adb868eff3f44ed938b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/45/921845/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/keystone.conf.j2'],1,c3b51d76a1ea2cfac39756200b2714636a4ae645,,{% endif %} {% if keystone_oslomsg_rpc_configure or keystone_oslomsg_notify_configure %},,2,0
openstack%2Fopenstack-ansible-os_magnum~921727,openstack/openstack-ansible-os_magnum,master,Iada09e8ff5b5d7470828faa462519d13f5db6884,Temporary set CAPI jobs to NV,MERGED,2024-06-11 06:44:29.000000000,2024-06-13 19:17:28.000000000,2024-06-13 19:15:14.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2024-06-11 06:44:29.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/2cf076f34e510500434e1f02eabf0f4b39c127b5', 'message': 'Temporary set CAPI jobs to NV\n\nAt the moment CAPI have hard times passing CI for unknown reasons.\nUntil issue in CI is sorted out, makes sense to set jobs to NV to unblock\nlanding required patches to the role.\n\nChange-Id: Iada09e8ff5b5d7470828faa462519d13f5db6884\n'}]",0,921727,2cf076f34e510500434e1f02eabf0f4b39c127b5,8,3,1,28619,,,0,"Temporary set CAPI jobs to NV

At the moment CAPI have hard times passing CI for unknown reasons.
Until issue in CI is sorted out, makes sense to set jobs to NV to unblock
landing required patches to the role.

Change-Id: Iada09e8ff5b5d7470828faa462519d13f5db6884
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/27/921727/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,2cf076f34e510500434e1f02eabf0f4b39c127b5,, - openstack-ansible-deploy-aio_magnum_octavia_capi_kvm-ubuntu-jammy: voting: false, - openstack-ansible-deploy-aio_magnum_octavia_capi_kvm-ubuntu-jammy gate: jobs: - openstack-ansible-deploy-aio_magnum_octavia_capi_kvm-ubuntu-jammy,2,4
openstack%2Fopenstacksdk~915902,openstack/openstacksdk,master,Ic963fbca27511a7242eb79ae6256f0aa15b0ddcc,WIP: Add port bindings to SDK,NEW,2024-04-15 15:32:05.000000000,2024-06-13 19:17:10.000000000,,"[{'_account_id': 11604}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-15 15:32:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/48b83d5a9fbc55498b26424cc88fa5bad871c5b2', 'message': 'WIP: Add port bindings to SDK\n\nRelated-Bug: #1580880\nChange-Id: Ic963fbca27511a7242eb79ae6256f0aa15b0ddcc\n'}, {'number': 2, 'created': '2024-06-13 17:27:39.000000000', 'files': ['openstack/network/v2/_proxy.py', 'openstack/network/v2/port_binding.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d97ba9a548bac3ab076a48ec048c121b89bed303', 'message': 'WIP: Add port bindings to SDK\n\nRelated-Bug: #1580880\nChange-Id: Ic963fbca27511a7242eb79ae6256f0aa15b0ddcc\n'}]",2,915902,d97ba9a548bac3ab076a48ec048c121b89bed303,5,3,2,8313,,,0,"WIP: Add port bindings to SDK

Related-Bug: #1580880
Change-Id: Ic963fbca27511a7242eb79ae6256f0aa15b0ddcc
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/02/915902/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/network/v2/_proxy.py', 'openstack/network/v2/port_binding.py']",2,48b83d5a9fbc55498b26424cc88fa5bad871c5b2,bug/1580880,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from openstack import exceptions from openstack import resource from openstack import utils class PortBinding(resource.Resource): name_attribute = ""bindings"" resource_name = ""binding"" resource_key = 'binding' resources_key = 'bindings' base_path = 'ports/%(port_id)s/bindings/' _allow_unknown_attrs_in_body = True # capabilities allow_create = True allow_fetch = False allow_commit = True allow_delete = False allow_list = True # Properties #: The port ID of the binding port_id = resource.URI('port_id') #: The hostname of the system the agent is running on. host = resource.Body('host') #: A dictionary that enables the application running on # the specific host to pass and receive vif port information # specific to the networking back-end. profile = resource.Body('profile', type=dict) #: A dictionary which contains additional information on the # port. The following fields are defined: port_filter and # ovs_hybrid_plug, both are booleans. vif_details = resource.Body('vif_details', type=dict) #: The type of which mechanism is used for the port. # Currently the following values are supported: ovs, bridge, # macvtap, hw_veb, hostdev_physical, vhostuser, distributed and # other. vif_type = resource.Body('vif_type') #: The type of vNIC which this port should be attached to. # The valid values are normal, macvtap, direct, baremetal, # direct-physical, virtio-forwarder, smart-nic and remote-managed. vnic_type = resource.Body('vnic_type') def activate_port_binding(self, session, **attrs): host = attrs['host'] url = utils.urljoin( '/ports', self.port_id, 'bindings', host, 'activate' ) resp = session.put(url, json={'binding': attrs}) exceptions.raise_from_response(resp) self._body.attributes.update(resp.json()) return self ",,103,0
openstack%2Fcharm-manila~921715,openstack/charm-manila,stable/2024.1,Ib6b7f551cef132ffe4416a4077d3be7fceeb429c,Use HTTPProxyToWSGI middleware instead of ssl,NEW,2024-06-11 00:48:13.000000000,2024-06-13 18:37:30.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-11 00:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/7c57562cb8da6263006c47d5eca386451d47e095', 'message': 'Use HTTPProxyToWSGI middleware instead of ssl\n\noslo.middleware dropped the SSLMiddleware in favor of the\nHTTPProxyToWSGI middleware. Change the api-paste to use this instead.\n\nChange-Id: Ib6b7f551cef132ffe4416a4077d3be7fceeb429c\n(cherry picked from commit 6267b5dfb8be13a159c7c7faffcdcdc3ffb49c88)\n'}, {'number': 2, 'created': '2024-06-13 16:02:02.000000000', 'files': ['src/templates/caracal/api-paste.ini'], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/d8eb1a80473ea122c5e0172d9c1b9630e1ad504b', 'message': 'Use HTTPProxyToWSGI middleware instead of ssl\n\noslo.middleware dropped the SSLMiddleware in favor of the\nHTTPProxyToWSGI middleware. Change the api-paste to use this instead.\n\nChange-Id: Ib6b7f551cef132ffe4416a4077d3be7fceeb429c\n(cherry picked from commit acbec008a68bad52a24a3a5a9831eba5d7fc838a)\n'}]",0,921715,d8eb1a80473ea122c5e0172d9c1b9630e1ad504b,6,2,2,8992,,,0,"Use HTTPProxyToWSGI middleware instead of ssl

oslo.middleware dropped the SSLMiddleware in favor of the
HTTPProxyToWSGI middleware. Change the api-paste to use this instead.

Change-Id: Ib6b7f551cef132ffe4416a4077d3be7fceeb429c
(cherry picked from commit acbec008a68bad52a24a3a5a9831eba5d7fc838a)
",git fetch https://review.opendev.org/openstack/charm-manila refs/changes/15/921715/1 && git format-patch -1 --stdout FETCH_HEAD,['src/templates/caracal/api-paste.ini'],1,7c57562cb8da6263006c47d5eca386451d47e095,http-proxy-to-wsgi-middleware,############# # OpenStack # ############# [composite:osapi_share] use = call:manila.api:root_app_factory /: apiversions /v1: openstack_share_api /v2: openstack_share_api_v2 [composite:openstack_share_api] use = call:manila.api.middleware.auth:pipeline_factory noauth = cors faultwrap http_proxy_to_wsgi sizelimit noauth api keystone = cors faultwrap http_proxy_to_wsgi sizelimit authtoken keystonecontext api keystone_nolimit = cors faultwrap http_proxy_to_wsgi sizelimit authtoken keystonecontext api [composite:openstack_share_api_v2] use = call:manila.api.middleware.auth:pipeline_factory noauth = cors faultwrap http_proxy_to_wsgi sizelimit noauth apiv2 keystone = cors faultwrap http_proxy_to_wsgi sizelimit authtoken keystonecontext apiv2 keystone_nolimit = cors faultwrap http_proxy_to_wsgi sizelimit authtoken keystonecontext apiv2 [filter:faultwrap] paste.filter_factory = manila.api.middleware.fault:FaultWrapper.factory [filter:noauth] paste.filter_factory = manila.api.middleware.auth:NoAuthMiddleware.factory [filter:sizelimit] paste.filter_factory = oslo_middleware.sizelimit:RequestBodySizeLimiter.factory [filter:http_proxy_to_wsgi] paste.filter_factory = oslo_middleware.HTTPProxyToWSGI.factory [app:api] paste.app_factory = manila.api.v1.router:APIRouter.factory [app:apiv2] paste.app_factory = manila.api.v2.router:APIRouter.factory [pipeline:apiversions] pipeline = cors faultwrap osshareversionapp [app:osshareversionapp] paste.app_factory = manila.api.versions:VersionsRouter.factory ########## # Shared # ########## [filter:keystonecontext] paste.filter_factory = manila.api.middleware.auth:ManilaKeystoneContext.factory [filter:authtoken] paste.filter_factory = keystonemiddleware.auth_token:filter_factory [filter:cors] paste.filter_factory = oslo_middleware.cors:filter_factory oslo_config_project = manila ,,59,0
openstack%2Fneutron~618208,openstack/neutron,master,I5e58bb2850bfa8e974e62215af0b4d7bc0592c13,Enable liberal TCP connection tracking for SNAT namespaces,NEW,2018-11-15 16:25:00.000000000,2024-06-13 18:33:55.000000000,,"[{'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 6593}, {'_account_id': 7016}, {'_account_id': 7730}, {'_account_id': 8313}, {'_account_id': 9373}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2018-11-15 16:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3034a90592ff86e5ff95e5b8a4515bdb859dd021', 'message': 'Enable liberal TCP connection tracking for SNAT namespaces\n\nThis can avoid connections randomly hanging due to tcp window\nscaling not correctly being tracked. It should not have a large\neffect otherwise.\n\nChange-Id: I5e58bb2850bfa8e974e62215af0b4d7bc0592c13\n'}, {'number': 2, 'created': '2018-11-15 18:30:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2d158ee168375c633cc7926cd0b75c2392d3b5a4', 'message': 'Enable liberal TCP connection tracking for SNAT namespaces\n\nThis can avoid connections randomly hanging due to tcp window\nscaling not correctly being tracked.  This prevents packets\nwhich are considered invalid by the connection tracking\nfrom bein thrown out and allows the underlying TCP stack\nrecovery to function rather than stalling permanently.\n\nChange-Id: I5e58bb2850bfa8e974e62215af0b4d7bc0592c13\n'}, {'number': 3, 'created': '2018-11-20 23:01:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/13f4ac25dd67a7bb2ee21a4fc8e1b9e19c418d12', 'message': 'Enable liberal TCP connection tracking for SNAT namespaces\n\nThis can avoid connections rarely hanging due to tcp window\nscaling not correctly being observed by the TCP connection\ntracking. this seems to happen when retransmits are occurring\noccassionally.\nSetting this parameter turns off validating the window scaling\nchecks for the purpose of matching whether a packet matches\nan existing connection tracked flow, which avoids the SNAT\nnamespace from interfering and letting the connection peers\nrecover the connection via retransmits/Selective ACKs instead\nof the SNAT terminating one side of the connection and letting\nit stall permanently.\n\nCloses-Bug: #1804327\nChange-Id: I5e58bb2850bfa8e974e62215af0b4d7bc0592c13\n'}, {'number': 4, 'created': '2018-12-18 19:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a00fff109892171e54947bf52a564e407cf43028', 'message': 'Enable liberal TCP connection tracking for SNAT namespaces\n\nThis can avoid connections rarely hanging due to tcp window\nscaling not correctly being observed by the TCP connection\ntracking. this seems to happen when retransmits are occurring\noccassionally.\nSetting this parameter turns off validating the window scaling\nchecks for the purpose of matching whether a packet matches\nan existing connection tracked flow, which avoids the SNAT\nnamespace from interfering and letting the connection peers\nrecover the connection via retransmits/Selective ACKs instead\nof the SNAT terminating one side of the connection and letting\nit stall permanently.\n\nCloses-Bug: #1804327\nChange-Id: I5e58bb2850bfa8e974e62215af0b4d7bc0592c13\n'}, {'number': 5, 'created': '2018-12-19 08:12:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dc57802c13cd5f860cdac9605013d716c36c3f0a', 'message': 'Enable liberal TCP connection tracking for SNAT namespaces\n\nThis can avoid connections rarely hanging due to tcp window\nscaling not correctly being observed by the TCP connection\ntracking. this seems to happen when retransmits are occurring\noccassionally.\nSetting this parameter turns off validating the window scaling\nchecks for the purpose of matching whether a packet matches\nan existing connection tracked flow, which avoids the SNAT\nnamespace from interfering and letting the connection peers\nrecover the connection via retransmits/Selective ACKs instead\nof the SNAT terminating one side of the connection and letting\nit stall permanently.\n\nCloses-Bug: #1804327\nChange-Id: I5e58bb2850bfa8e974e62215af0b4d7bc0592c13\n'}, {'number': 6, 'created': '2019-01-13 18:52:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6fafb0a90b2180ccfc69fda40f298a2ceb131659', 'message': 'Enable liberal TCP connection tracking for SNAT namespaces\n\nThis can avoid connections rarely hanging due to tcp window\nscaling not correctly being observed by the TCP connection\ntracking. this seems to happen when retransmits are occurring\noccassionally.\nSetting this parameter turns off validating the window scaling\nchecks for the purpose of matching whether a packet matches\nan existing connection tracked flow, which avoids the SNAT\nnamespace from interfering and letting the connection peers\nrecover the connection via retransmits/Selective ACKs instead\nof the SNAT terminating one side of the connection and letting\nit stall permanently.\n\nCloses-Bug: #1804327\nChange-Id: I5e58bb2850bfa8e974e62215af0b4d7bc0592c13\n'}, {'number': 7, 'created': '2019-02-07 21:46:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9657b62c071e33a84ebfa242b674141410bc6081', 'message': 'Enable liberal TCP connection tracking for SNAT namespaces\n\nThis can avoid connections rarely hanging due to tcp window\nscaling not correctly being observed by the TCP connection\ntracking. this seems to happen when retransmits are occurring\noccassionally.\nSetting this parameter turns off validating the window scaling\nchecks for the purpose of matching whether a packet matches\nan existing connection tracked flow, which avoids the SNAT\nnamespace from interfering and letting the connection peers\nrecover the connection via retransmits/Selective ACKs instead\nof the SNAT terminating one side of the connection and letting\nit stall permanently.\n\nCloses-Bug: #1804327\nChange-Id: I5e58bb2850bfa8e974e62215af0b4d7bc0592c13\n'}, {'number': 8, 'created': '2023-01-26 00:57:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a9cbd5e4bb084904e83044c1f21f25ff753463f8', 'message': 'Enable liberal TCP connection tracking for SNAT namespaces\n\nThis can avoid connections rarely hanging due to tcp window\nscaling not correctly being observed by the TCP connection\ntracking. this seems to happen when retransmits are occurring\noccassionally.\nSetting this parameter turns off validating the window scaling\nchecks for the purpose of matching whether a packet matches\nan existing connection tracked flow, which avoids the SNAT\nnamespace from interfering and letting the connection peers\nrecover the connection via retransmits/Selective ACKs instead\nof the SNAT terminating one side of the connection and letting\nit stall permanently.\n\nCloses-Bug: #1804327\nChange-Id: I5e58bb2850bfa8e974e62215af0b4d7bc0592c13\n'}, {'number': 9, 'created': '2023-03-02 00:10:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/47e6db17c76ab18370338ce2a308c05b43943d2a', 'message': 'Enable liberal TCP connection tracking for SNAT namespaces\n\nThis can avoid connections rarely hanging due to tcp window\nscaling not correctly being observed by the TCP connection\ntracking. this seems to happen when retransmits are occurring\noccassionally.\nSetting this parameter turns off validating the window scaling\nchecks for the purpose of matching whether a packet matches\nan existing connection tracked flow, which avoids the SNAT\nnamespace from interfering and letting the connection peers\nrecover the connection via retransmits/Selective ACKs instead\nof the SNAT terminating one side of the connection and letting\nit stall permanently.\n\nCloses-Bug: #1804327\nChange-Id: I5e58bb2850bfa8e974e62215af0b4d7bc0592c13\n'}, {'number': 10, 'created': '2023-03-02 04:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4cbd24f96b41ac838a21b2128ce0bd91f0712a4e', 'message': 'Enable liberal TCP connection tracking for SNAT namespaces\n\nThis can avoid connections rarely hanging due to tcp window\nscaling not correctly being observed by the TCP connection\ntracking. this seems to happen when retransmits are occurring\noccassionally.\nSetting this parameter turns off validating the window scaling\nchecks for the purpose of matching whether a packet matches\nan existing connection tracked flow, which avoids the SNAT\nnamespace from interfering and letting the connection peers\nrecover the connection via retransmits/Selective ACKs instead\nof the SNAT terminating one side of the connection and letting\nit stall permanently.\n\nCloses-Bug: #1804327\nChange-Id: I5e58bb2850bfa8e974e62215af0b4d7bc0592c13\n'}, {'number': 11, 'created': '2023-11-14 15:10:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/379ef90cb2ed2c8bb4d6370f79ed9ec75034b716', 'message': 'Enable liberal TCP connection tracking for SNAT namespaces\n\nThis can avoid connections rarely hanging due to tcp window\nscaling not correctly being observed by the TCP connection\ntracking. this seems to happen when retransmits are occurring\noccassionally.\nSetting this parameter turns off validating the window scaling\nchecks for the purpose of matching whether a packet matches\nan existing connection tracked flow, which avoids the SNAT\nnamespace from interfering and letting the connection peers\nrecover the connection via retransmits/Selective ACKs instead\nof the SNAT terminating one side of the connection and letting\nit stall permanently.\n\nCloses-Bug: #1804327\nChange-Id: I5e58bb2850bfa8e974e62215af0b4d7bc0592c13\n'}, {'number': 12, 'created': '2024-06-13 15:40:39.000000000', 'files': ['neutron/tests/unit/agent/l3/test_agent.py', 'neutron/tests/unit/agent/l3/test_dvr_fip_ns.py', 'releasenotes/notes/enable-nf_conntrack_tcp_be_liberal-00432039c9e7ab9d.yaml', 'neutron/agent/l3/namespaces.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ab94c6b02116ccc24c67c1ed8e09c6840d092424', 'message': 'Enable liberal TCP connection tracking for SNAT namespaces\n\nThis can avoid connections rarely hanging due to tcp window\nscaling not correctly being observed by the TCP connection\ntracking. this seems to happen when retransmits are occurring\noccassionally.\nSetting this parameter turns off validating the window scaling\nchecks for the purpose of matching whether a packet matches\nan existing connection tracked flow, which avoids the SNAT\nnamespace from interfering and letting the connection peers\nrecover the connection via retransmits/Selective ACKs instead\nof the SNAT terminating one side of the connection and letting\nit stall permanently.\n\nCloses-Bug: #1804327\nChange-Id: I5e58bb2850bfa8e974e62215af0b4d7bc0592c13\n'}]",22,618208,ab94c6b02116ccc24c67c1ed8e09c6840d092424,88,16,12,6593,,,0,"Enable liberal TCP connection tracking for SNAT namespaces

This can avoid connections rarely hanging due to tcp window
scaling not correctly being observed by the TCP connection
tracking. this seems to happen when retransmits are occurring
occassionally.
Setting this parameter turns off validating the window scaling
checks for the purpose of matching whether a packet matches
an existing connection tracked flow, which avoids the SNAT
namespace from interfering and letting the connection peers
recover the connection via retransmits/Selective ACKs instead
of the SNAT terminating one side of the connection and letting
it stall permanently.

Closes-Bug: #1804327
Change-Id: I5e58bb2850bfa8e974e62215af0b4d7bc0592c13
",git fetch https://review.opendev.org/openstack/neutron refs/changes/08/618208/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/l3/dvr_snat_ns.py'],1,3034a90592ff86e5ff95e5b8a4515bdb859dd021,bug/1804327," # Be liberal in the state tracking to avoid # issues with TCP window scaling cmd = ['net.netfilter.nf_conntrack_tcp_loose=0', 'net.netfilter.nf_conntrack_tcp_be_liberal=1']", cmd = ['net.netfilter.nf_conntrack_tcp_loose=0'],4,1
openstack%2Fneutron~921941,openstack/neutron,stable/2023.2,Ia61784174ee610b338f26660b2954330abc131a1,Add a default goto table=94 for openvswitch fw,MERGED,2024-06-13 10:56:28.000000000,2024-06-13 18:22:24.000000000,2024-06-13 18:21:02.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-13 10:56:28.000000000', 'files': ['doc/source/contributor/internals/openvswitch_firewall.rst', 'neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fc7fa9cf308766cdbf29b8cf4d3aaad867738dc0', 'message': ""Add a default goto table=94 for openvswitch fw\n\nIf enable explicitly_egress_direct=True and set port as\nno security group and port_security=False, the ingress\nflood will reappear. The pipleline is:\nIngress\ntable_0 -> table_60 -> NORMAL -> VM\nEgress\ntable_0 -> ... -> table_94 -> output\n\nBecause ingress final action is normal, the br-int will learn the\nsource MAC, but egress final action is output. So VM's mac will\nnever be learnt by the br-int. Then ingress flood comes again.\n\nThis patch adds a default direct flow to table 94 during the\nopenflow security group init and explicitly_egress_direct=True, then\nthe pipleline will be:\nIngress\ntable_0 -> table_60 -> table_94 -> output VM\nEgress\ntable_0 -> ... -> table_94 -> output\n\nAnd this patch adds the flows coming from patch port which will\nmatch local vlan then go to table 94 do the same direct actions.\n\nAbove flood issue will be addressed by these flows.\n\nCloses-Bug: #2051351\nChange-Id: Ia61784174ee610b338f26660b2954330abc131a1\n(cherry picked from commit d6f56c5f96c42e1682f3d1723a65253429778c20)\n(cherry picked from commit f94f8b63842099904ff88906e8221a366a809f99)\n""}]",1,921941,fc7fa9cf308766cdbf29b8cf4d3aaad867738dc0,9,3,1,15554,,,0,"Add a default goto table=94 for openvswitch fw

If enable explicitly_egress_direct=True and set port as
no security group and port_security=False, the ingress
flood will reappear. The pipleline is:
Ingress
table_0 -> table_60 -> NORMAL -> VM
Egress
table_0 -> ... -> table_94 -> output

Because ingress final action is normal, the br-int will learn the
source MAC, but egress final action is output. So VM's mac will
never be learnt by the br-int. Then ingress flood comes again.

This patch adds a default direct flow to table 94 during the
openflow security group init and explicitly_egress_direct=True, then
the pipleline will be:
Ingress
table_0 -> table_60 -> table_94 -> output VM
Egress
table_0 -> ... -> table_94 -> output

And this patch adds the flows coming from patch port which will
match local vlan then go to table 94 do the same direct actions.

Above flood issue will be addressed by these flows.

Closes-Bug: #2051351
Change-Id: Ia61784174ee610b338f26660b2954330abc131a1
(cherry picked from commit d6f56c5f96c42e1682f3d1723a65253429778c20)
(cherry picked from commit f94f8b63842099904ff88906e8221a366a809f99)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/41/921941/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/internals/openvswitch_firewall.rst', 'neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py']",6,fc7fa9cf308766cdbf29b8cf4d3aaad867738dc0,bug/2051351," self.install_normal(table_id=constants.TRANSIENT_TABLE, priority=1)"," self.install_normal(table_id=constants.TRANSIENT_TABLE, priority=3)",50,4
openstack%2Fcharm-manila~921677,openstack/charm-manila,master,Ib6b7f551cef132ffe4416a4077d3be7fceeb429c,Use HTTPProxyToWSGI middleware instead of ssl,NEW,2024-06-10 14:13:47.000000000,2024-06-13 18:04:55.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-10 14:13:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/984243cf053b353b75f52318635f7339e5b67f09', 'message': 'Use HTTPProxyToWSGI middleware instead of ssl\n\noslo.middleware dropped the SSLMiddleware in favor of the\nHTTPProxyToWSGI middleware. Change the api-paste to use this instead.\n\nChange-Id: Ib6b7f551cef132ffe4416a4077d3be7fceeb429c\n'}, {'number': 2, 'created': '2024-06-10 14:14:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/c36b7da78fb1097fda91b57c0af9e0cfdd73e9ce', 'message': 'Use HTTPProxyToWSGI middleware instead of ssl\n\noslo.middleware dropped the SSLMiddleware in favor of the\nHTTPProxyToWSGI middleware. Change the api-paste to use this instead.\n\nChange-Id: Ib6b7f551cef132ffe4416a4077d3be7fceeb429c\n'}, {'number': 3, 'created': '2024-06-11 00:40:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/80c85c27b7f91fb854da394ec4179994b0874ae2', 'message': 'Use HTTPProxyToWSGI middleware instead of ssl\n\noslo.middleware dropped the SSLMiddleware in favor of the\nHTTPProxyToWSGI middleware. Change the api-paste to use this instead.\n\nChange-Id: Ib6b7f551cef132ffe4416a4077d3be7fceeb429c\n'}, {'number': 4, 'created': '2024-06-11 00:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/4d7a996928036017b4f1960382bcbf99e0399323', 'message': 'Use HTTPProxyToWSGI middleware instead of ssl\n\noslo.middleware dropped the SSLMiddleware in favor of the\nHTTPProxyToWSGI middleware. Change the api-paste to use this instead.\n\nChange-Id: Ib6b7f551cef132ffe4416a4077d3be7fceeb429c\n(cherry picked from commit 80c85c27b7f91fb854da394ec4179994b0874ae2)\n'}, {'number': 5, 'created': '2024-06-11 00:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/6267b5dfb8be13a159c7c7faffcdcdc3ffb49c88', 'message': 'Use HTTPProxyToWSGI middleware instead of ssl\n\noslo.middleware dropped the SSLMiddleware in favor of the\nHTTPProxyToWSGI middleware. Change the api-paste to use this instead.\n\nChange-Id: Ib6b7f551cef132ffe4416a4077d3be7fceeb429c\n'}, {'number': 6, 'created': '2024-06-13 15:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/acbec008a68bad52a24a3a5a9831eba5d7fc838a', 'message': 'Use HTTPProxyToWSGI middleware instead of ssl\n\noslo.middleware dropped the SSLMiddleware in favor of the\nHTTPProxyToWSGI middleware. Change the api-paste to use this instead.\n\nChange-Id: Ib6b7f551cef132ffe4416a4077d3be7fceeb429c\n'}, {'number': 7, 'created': '2024-06-13 15:57:50.000000000', 'files': ['src/templates/caracal/api-paste.ini'], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/337b3bf1a36ae4ba2972db3aaba746765e8dcea8', 'message': 'Use HTTPProxyToWSGI middleware instead of ssl\n\noslo.middleware dropped the SSLMiddleware in favor of the\nHTTPProxyToWSGI middleware. Change the api-paste to use this instead.\n\nChange-Id: Ib6b7f551cef132ffe4416a4077d3be7fceeb429c\n(cherry picked from commit acbec008a68bad52a24a3a5a9831eba5d7fc838a)\n'}]",0,921677,337b3bf1a36ae4ba2972db3aaba746765e8dcea8,15,2,7,8992,,,0,"Use HTTPProxyToWSGI middleware instead of ssl

oslo.middleware dropped the SSLMiddleware in favor of the
HTTPProxyToWSGI middleware. Change the api-paste to use this instead.

Change-Id: Ib6b7f551cef132ffe4416a4077d3be7fceeb429c
(cherry picked from commit acbec008a68bad52a24a3a5a9831eba5d7fc838a)
",git fetch https://review.opendev.org/openstack/charm-manila refs/changes/77/921677/1 && git format-patch -1 --stdout FETCH_HEAD,['src/templates/caracal/api-paste.ini'],1,984243cf053b353b75f52318635f7339e5b67f09,http-proxy-to-wsgi-middleware,############# # OpenStack # ############# [composite:osapi_share] use = call:manila.api:root_app_factory /: apiversions /v1: openstack_share_api /v2: openstack_share_api_v2 [composite:openstack_share_api] use = call:manila.api.middleware.auth:pipeline_factory noauth = cors faultwrap http_proxy_to_wsgi sizelimit noauth api keystone = cors faultwrap http_proxy_to_wsgi sizelimit authtoken keystonecontext api keystone_nolimit = cors faultwrap http_proxy_to_wsgi sizelimit authtoken keystonecontext api [composite:openstack_share_api_v2] use = call:manila.api.middleware.auth:pipeline_factory noauth = cors faultwrap http_proxy_to_wsgi sizelimit noauth apiv2 keystone = cors faultwrap http_proxy_to_wsgi sizelimit authtoken keystonecontext apiv2 keystone_nolimit = cors faultwrap http_proxy_to_wsgi sizelimit authtoken keystonecontext apiv2 [filter:faultwrap] paste.filter_factory = manila.api.middleware.fault:FaultWrapper.factory [filter:noauth] paste.filter_factory = manila.api.middleware.auth:NoAuthMiddleware.factory [filter:sizelimit] paste.filter_factory = oslo_middleware.sizelimit:RequestBodySizeLimiter.factory [filter:http_proxy_to_wsgi] paste.filter_factory = oslo_middleware.HTTPProxyToWSGI.factory [app:api] paste.app_factory = manila.api.v1.router:APIRouter.factory [app:apiv2] paste.app_factory = manila.api.v2.router:APIRouter.factory [pipeline:apiversions] pipeline = cors faultwrap osshareversionapp [app:osshareversionapp] paste.app_factory = manila.api.versions:VersionsRouter.factory ########## # Shared # ########## [filter:keystonecontext] paste.filter_factory = manila.api.middleware.auth:ManilaKeystoneContext.factory [filter:authtoken] paste.filter_factory = keystonemiddleware.auth_token:filter_factory [filter:cors] paste.filter_factory = oslo_middleware.cors:filter_factory oslo_config_project = manila ,,59,0
openstack%2Fproject-team-guide~921978,openstack/project-team-guide,master,I3242ff6c7759a34ebc1346a03a449a6219abc5f7,Move release cadence adjustment resolution to p-t-g,NEW,2024-06-13 17:57:18.000000000,2024-06-13 18:01:53.000000000,,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-13 17:57:18.000000000', 'files': ['doc/source/index.rst', 'doc/source/release-cadence-adjustment.rst'], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/37dea52c0e0e915c24b2240366e20c64fa51b506', 'message': ""Move release cadence adjustment resolution to p-t-g\n\nThe TC passed a resolution for release cadence adjustment\n- https://governance.openstack.org/tc/resolutions/20220210-release-cadence-adjustment.html\n\nand resolution has the details content about the new process.\nSometime we need to evolve the process and docuement content\nfor more details. For that, moving the resolution content into\nproject-team-guide.\n\nNOTE: this copy the resolution content as it is with modification\nin title and replacing 'this resolution' to 'this document'. Any\nimprovement needed in content can be done in further changes.\n\nChange-Id: I3242ff6c7759a34ebc1346a03a449a6219abc5f7\n""}]",0,921978,37dea52c0e0e915c24b2240366e20c64fa51b506,3,2,1,8556,,,0,"Move release cadence adjustment resolution to p-t-g

The TC passed a resolution for release cadence adjustment
- https://governance.openstack.org/tc/resolutions/20220210-release-cadence-adjustment.html

and resolution has the details content about the new process.
Sometime we need to evolve the process and docuement content
for more details. For that, moving the resolution content into
project-team-guide.

NOTE: this copy the resolution content as it is with modification
in title and replacing 'this resolution' to 'this document'. Any
improvement needed in content can be done in further changes.

Change-Id: I3242ff6c7759a34ebc1346a03a449a6219abc5f7
",git fetch https://review.opendev.org/openstack/project-team-guide refs/changes/78/921978/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/release-cadence-adjustment.rst']",2,37dea52c0e0e915c24b2240366e20c64fa51b506,,"======================================= Release Cadence Adjustment: SLURP Model ======================================= .. note:: This document is originally copied from the TC resolution `2022-02-10 Release Cadence Adjustment <https://governance.openstack.org/tc/resolutions/20220210-release-cadence-adjustment.html>`_ History ------- OpenStack has historically used a six month release cycle cadence for the projects which participate in the coordinated release. Further, upgrades were tested and supported between two adjacent coordinated releases only, requiring deployers and distributions to either upgrade every six months to stay current, or perform Fast Forward Upgrades (FFUs) to move between non-adjacent releases at runtime. The latter is an activity enabled by testing the individual upgrade steps, and is not something we test specifically. Challenges ---------- Some deployers and distributions have indicated that six month upgrades are difficult, infeasible, or undesirable, especially in large environments where the process itself takes long enough that upgrades are constantly occurring. The FFU process can be laborious and also requires running parts of a release that may have never been deployed, productized, or tested in a given environment - purely because each release must be used stepwise during the operation. A number of opinions have been expressed about changing the release cycle to either a slower (one year) or much slower (18 month) cadence to address these concerns. The lack of consensus around what that slower cadence should be makes it difficult to choose one that will be beneficial, as one cycle length may cause people on a slower cycle to need to wait much longer between upgrades. Further, community involvement in a very long release can be difficult when attrition, turnover, contract obligations and volunteer realities make slowing down unpalatable in many cases. The community already struggles to find candidates for six month (PTL) and one year (TC) duties. Further, for environments that do need to move quickly, adopt new features and deploy new technologies, double-digit months between landing a feature and having it testable and usable in production is too long. Proposed Solution ----------------- It is very difficult to settle on any one change to the release cadence that will address all of the above problems and concerns. As such, the TC proposes an incremental change in release upgrade expectations to help improve the slow-moving deployer experience, without sacrificing the release-early-release-often goal. The fundamental change comes to the expectation that upgrades are only supported between adjacent coordinated releases. The TC will designate major releases in a new arrangement, such that every other release will be considered to be a ""SLURP (Skip Level Upgrade Release Process)"" release. Upgrades will be supported between ""SLURP"" releases, in addition to between adjacent major releases (as they are today). Deployments wishing to stay on the six-month cycle will deploy every ""SLURP"" and ""not-SLURP"" release as they always have. Deployments wishing to move to a one year upgrade cycle will synchronize on a ""SLURP"" release, and then skip the following ""not-SLURP"" release, upgrading when the subsequent ""SLURP"" is released. Our letter-based release naming scheme is about to wrap back around to A, so the proposal is that the ""new A"" release be the first one where we enforce this scheme. Y->A should be a ""dress rehearsal"" where we have the jobs enabled to help smoke out any issues, but where hard guarantees are not yet made. Occasionally, individual releases are chosen by a large number of deployers and distributors by chance, which results in a larger than normal community of maintainers that keep the release ""alive"" in extended maintenance for longer. The expectation with this proposal is that this will amplify that effect by increasing the likelihood that ""SLURP"" releases will be chosen in this way and thus end up with more focus on those releases for long-term community support. Details ------- #. **Testing**: Just as we test and guarantee that upgrades are supported between adjacent releases today, we will *also* test and guarantee that upgrades between two ""SLURP"" releases are supported. Upgrades are tested for most projects today with grenade. A skip-level job will be maintained in the grenade repository that tests a normal configuration between the last two ""SLURP"" releases. The job will be updated on every new ""SLURP"" release, and there will always be a regular single-release grenade job testing between the previous release and current one, as we have today. #. **Not-SLURP upgrades**: Upgrades from ""not-SLURP"" to ""not-SLURP"" will not be tested nor required. On a given ""not-SLURP"" release, the only upgrade path will be to the following release (which would be a ""SLURP""). This is unchanged from today. #. **Intervals**: Upgrades that span more than one ""SLURP"" cycle are not tested or required. For example to move from ""SLURP A"" to ""SLURP E"" will still require an FFU style arrangement, but where ""SLURP C"" is the only intermediate step required. #. **Deprecations**: Projects currently deprecate features and config for at least one cycle before removal. This change affects *when* that can happen, so that no required changes occur in a ""not-SLURP"" release which may be skipped. Effectively the same rules that we have today (both written and tribally-understood) apply to the new arrangement, with the exception that ""cycle"" refers to a ""SLURP to SLURP"" cycle and not a single pair of adjacent coordinated releases. Since the deprecation, waiting, and removal can only happen in ""SLURP"" releases, the result is also that the minimum *length* of time that things may be deprecated before removal will increase as well. #. **Support**: We will expect to support both the most recent ""SLURP"" release as well as the one prior. During a ""note-SLURP"" release, that would effectively be similar to what we support today, which is 18 months of ""maintained"" releases. See the example sequence below. #. **Rolling Upgrades**: This scheme does not necessarily dictate that live or rolling upgrades need to be supported between ""SLURP"" releases. Meaning RPC compatibility between N to N-1 guarantees can remain, resulting in deployments that are on a ""SLURP to SLURP"" release schedule requiring some downtime during an upgrade because components will be spanning more than two actual releases. #. **Data migrations**: Part of supporting ""SLURP to SLURP"" upgrades involves keeping a stable (read ""compatible"" not ""unchanging"") database schema from ""SLURP to SLURP"". This includes data migrations which need to do work in ""SLURP"" releases, and while they may do work in ""not-SLURP"" releases, the work done in ""not-SLURP"" releases cannot be *mandatory*. This can be solved (as it is today) by requiring operators to (force-)complete data migrations on a supported release before moving to one that drops compatibility. The ""SLURP"", ""not-SLURP"" arrangement described in this document would require attention to those migrations to make sure they happen (automatically or manually) on the source ""SLURP"" before upgrading to the target ""SLURP"", for example. #. **Communication**: We will use ""SLURP"" word to designate a SLURP release in release page, release notes page or any other place we want to communicate it. We can also use its full form ""Skip Level Upgrade Release Process"" if needed. A ""not-SLURP"" release will not be designated with anything and not having ""SLURP"" word is enough to communicate that this is not ""SLURP"" release. Also, the number schema in the release naming process will help all of us to relate which release is ""SLURP"". Example sequence ---------------- Assuming that A is the first release of this new arrangement, the following examples help demonstrate the support lifecycle expectation. ======= ===== =========== ======== Release Type Supported EM A SLURP X,Y,Z W B Y,Z,A W,X C SLURP A,B,C W,X,Y,Z D A,B,C,D X,Y,Z E SLURP C,D,E Y,Z,A,B F C,D,E,F Z,A,B G SLURP E,F,G A,B,C ======= ===== =========== ======== (EM releases are arbitrarily pruned in the above example for brevity, but no such change in how long they may be supported is made in this document) ",,162,0
openstack%2Fopenstack-ansible~921624,openstack/openstack-ansible,master,I693bcaf67441a8920d955e495cdb35fb58ee849d,Ensure link to PDF appears for deploy guide,MERGED,2024-06-09 03:46:11.000000000,2024-06-13 17:47:55.000000000,2024-06-13 17:46:16.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2024-06-09 03:46:11.000000000', 'files': ['deploy-guide/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6254dff4477278b5d140584f3f4009f9b2ff9e63', 'message': 'Ensure link to PDF appears for deploy guide\n\nNow, when build and promote of deploy gide includes PDF, the last thing\nto do apparently was to enable the PDF link in openstackdocstheme\nwhich was missed in previous patches [1][2]\n\n[1] https://review.opendev.org/c/openstack/openstack-ansible/+/920043\n[2] https://review.opendev.org/c/openstack/openstack-ansible/+/921237\n\nChange-Id: I693bcaf67441a8920d955e495cdb35fb58ee849d\n'}]",1,921624,6254dff4477278b5d140584f3f4009f9b2ff9e63,9,4,1,28619,,,0,"Ensure link to PDF appears for deploy guide

Now, when build and promote of deploy gide includes PDF, the last thing
to do apparently was to enable the PDF link in openstackdocstheme
which was missed in previous patches [1][2]

[1] https://review.opendev.org/c/openstack/openstack-ansible/+/920043
[2] https://review.opendev.org/c/openstack/openstack-ansible/+/921237

Change-Id: I693bcaf67441a8920d955e495cdb35fb58ee849d
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/24/921624/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/conf.py'],1,6254dff4477278b5d140584f3f4009f9b2ff9e63,,openstackdocs_pdf_link = True,,1,0
openstack%2Fcharm-manila~921972,openstack/charm-manila,master,Idaf1023b273d18e33d27bef108ce95c86f54a98f,Update ceph channels,NEW,2024-06-13 15:56:25.000000000,2024-06-13 17:38:49.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-13 15:56:25.000000000', 'files': ['src/tests/bundles/jammy-caracal.yaml', 'src/tests/bundles/noble-caracal.yaml'], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/7dcf54ebd84075cfe18db4e01e03c2fbb9450a7c', 'message': 'Update ceph channels\n\nUpdate the ceph channels to point to squid/edge for the caracal\nreleases.\n\nChange-Id: Idaf1023b273d18e33d27bef108ce95c86f54a98f\n'}]",0,921972,7dcf54ebd84075cfe18db4e01e03c2fbb9450a7c,3,2,1,8992,,,0,"Update ceph channels

Update the ceph channels to point to squid/edge for the caracal
releases.

Change-Id: Idaf1023b273d18e33d27bef108ce95c86f54a98f
",git fetch https://review.opendev.org/openstack/charm-manila refs/changes/72/921972/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/jammy-caracal.yaml', 'src/tests/bundles/noble-caracal.yaml']",2,7dcf54ebd84075cfe18db4e01e03c2fbb9450a7c,http-proxy-to-wsgi-middleware, channel: squid/edge channel: squid/edge channel: squid/edge, channel: reef/edge channel: reef/edge channel: reef/edge,6,6
openstack%2Fneutron-tempest-plugin~920177,openstack/neutron-tempest-plugin,master,I9b46699cdf9361a49e558130b336722599419f0f,Add test for the validate auto_allocated_topology API,NEW,2024-05-22 14:18:56.000000000,2024-06-13 17:34:35.000000000,,"[{'_account_id': 1131}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-22 14:18:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/66081664a9ee2be94e643c7162511de8c1cdb21e', 'message': ""Add test for the validate auto_allocated_topology API\n\nThis new test calls neutron API to check requirements for the auto\nallocated topology and to make sure that it don't returns 404 for\nexample.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/920174\n\nRelated-bug: #2066369\nChange-Id: I9b46699cdf9361a49e558130b336722599419f0f\n""}, {'number': 2, 'created': '2024-05-27 08:22:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/48b00b1321f2a57f363650e13464b1188ecd644d', 'message': ""Add test for the validate auto_allocated_topology API\n\nThis new test calls neutron API to check requirements for the auto\nallocated topology and to make sure that it don't returns 404 for\nexample.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/920360\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/920481\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/920482\n\nRelated-bug: #2066369\nChange-Id: I9b46699cdf9361a49e558130b336722599419f0f\n""}, {'number': 3, 'created': '2024-06-13 14:28:37.000000000', 'files': ['neutron_tempest_plugin/services/network/json/network_client.py', 'neutron_tempest_plugin/api/test_auto_allocated_topology.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/f0426a88bb4037fa6e8aff71cf21000994ec8491', 'message': ""Add test for the validate auto_allocated_topology API\n\nThis new test calls neutron API to check requirements for the auto\nallocated topology and to make sure that it don't returns 404 for\nexample.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/920360\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/920481\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/920482\n\nRelated-bug: #2066369\nChange-Id: I9b46699cdf9361a49e558130b336722599419f0f\n""}]",5,920177,f0426a88bb4037fa6e8aff71cf21000994ec8491,15,2,3,11975,,,0,"Add test for the validate auto_allocated_topology API

This new test calls neutron API to check requirements for the auto
allocated topology and to make sure that it don't returns 404 for
example.

Depends-On: https://review.opendev.org/c/openstack/neutron/+/920360
Depends-On: https://review.opendev.org/c/openstack/neutron/+/920481
Depends-On: https://review.opendev.org/c/openstack/neutron/+/920482

Related-bug: #2066369
Change-Id: I9b46699cdf9361a49e558130b336722599419f0f
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/77/920177/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_tempest_plugin/services/network/json/network_client.py', 'neutron_tempest_plugin/api/test_auto_allocated_topology.py']",2,66081664a9ee2be94e643c7162511de8c1cdb21e,bug/2066369," @decorators.idempotent_id('10e4ecef-4309-4bda-9c4d-192e1b5a5831') def test_check_requirements_for_auto_allocate_net_topology(self): body = self.client.validate_auto_allocated_topology_requirements() topology = body['auto_allocated_topology'] self.assertIn('dry-run', topology['id']) self.assertIn('tenant_id', topology) self.assertIn('project_id', topology) ",,16,0
openstack%2Fneutron~885449,openstack/neutron,master,If4c886d928258450aac31e12a4e26e0cbe2ace62,Improve ACL comparison efficiency,MERGED,2023-06-09 02:18:48.000000000,2024-06-13 17:17:16.000000000,2024-06-13 17:15:51.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-09 02:18:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/efc32cf6341a9f79e0ba3e09fa1c16d635586762', 'message': 'Improve ACL comparison efficiency\n\nPartial-Bug: #2023130\n\nChange-Id: If4c886d928258450aac31e12a4e26e0cbe2ace62\n'}, {'number': 2, 'created': '2023-06-09 03:16:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/29ec3b8bd060861a79d686b8eec4a483b334d061', 'message': 'Improve ACL comparison efficiency\n\nPartial-Bug: #2023130\n\nChange-Id: If4c886d928258450aac31e12a4e26e0cbe2ace62\n'}, {'number': 3, 'created': '2023-06-09 06:12:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9bb76d31286bfdd5fd82378bae2b308771ff8b9e', 'message': 'Improve ACL comparison efficiency\n\nPartial-Bug: #2023130\n\nChange-Id: If4c886d928258450aac31e12a4e26e0cbe2ace62\n'}, {'number': 4, 'created': '2023-06-14 06:37:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f39bcb7c3d7eecbb053a9604eed689e53df981f6', 'message': 'Improve ACL comparison efficiency\nThe current comparison strategy is very time-consuming, and if\nthere are hundreds of thousands of security group rules, the\ncomparison time can still vary from several hours.\n\nThis patch is sorted first by security group rule ID and then\ncompared. The execution of sorting actions is relatively fast.\nAfter actual measurement, the total time consumption is in the\nminute level.\n\nPartial-Bug: #2023130\n\nChange-Id: If4c886d928258450aac31e12a4e26e0cbe2ace62\n'}, {'number': 5, 'created': '2023-06-14 06:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b52055806f5806cd1a8b92e1aaa6c235702f66c3', 'message': 'Improve ACL comparison efficiency\n\nThe current comparison strategy is very time-consuming, and if\nthere are hundreds of thousands of security group rules, the\ncomparison time can still vary from several hours.\n\nThis patch is sorted first by security group rule ID and then\ncompared. The execution of sorting actions is relatively fast.\nAfter actual measurement, the total time consumption is in the\nminute level.\n\nPartial-Bug: #2023130\n\nChange-Id: If4c886d928258450aac31e12a4e26e0cbe2ace62\n'}, {'number': 6, 'created': '2023-07-04 08:19:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/90112dfa6bead529cc0fe94e57b28ae22485806f', 'message': 'Improve ACL comparison efficiency\n\nThe current comparison strategy is very time-consuming, and if\nthere are hundreds of thousands of security group rules, the\ncomparison time can still vary from several hours. The main\ntime-consuming operations are [1].\n\nThis patch is sorted first by security group rule ID and then\ncompared. The execution of sorting actions is relatively fast.\nAfter actual measurement, the total time consumption is in the\nminute level.\n\nPartial-Bug: #2023130\n[1] https://github.com/openstack/neutron/blob/b86ca713f7d422489f2526c1a94ffc8393b3ed75/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py#L285-L291\n\nChange-Id: If4c886d928258450aac31e12a4e26e0cbe2ace62\n'}, {'number': 7, 'created': '2023-08-28 05:56:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/48c3b6f393fe1c934dbc3b2d5623022ffae9e08f', 'message': 'Improve ACL comparison efficiency\n\nThe current comparison strategy is very time-consuming, and if\nthere are hundreds of thousands of security group rules, the\ncomparison time can still vary from several hours. The main\ntime-consuming operations are [1].\n\nThis patch is sorted first by security group rule ID and then\ncompared. The execution of sorting actions is relatively fast.\nAfter actual measurement, the total time consumption is in the\nminute level.\n\nPartial-Bug: #2023130\n[1] https://github.com/openstack/neutron/blob/b86ca713f7d422489f2526c1a94ffc8393b3ed75/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py#L285-L291\n\nChange-Id: If4c886d928258450aac31e12a4e26e0cbe2ace62\n'}, {'number': 8, 'created': '2023-08-28 08:13:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/390d021be6205a556821680338459e2afbcc4333', 'message': 'Improve ACL comparison efficiency\n\nThe current comparison strategy is very time-consuming, and if\nthere are hundreds of thousands of security group rules, the\ncomparison time can still vary from several hours. The main\ntime-consuming operations are [1].\n\nThis patch is sorted first by security group rule ID and then\ncompared. The execution of sorting actions is relatively fast.\nAfter actual measurement, the total time consumption is in the\nminute level.\n\nPartial-Bug: #2023130\n[1] https://github.com/openstack/neutron/blob/b86ca713f7d422489f2526c1a94ffc8393b3ed75/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py#L285-L291\n\nChange-Id: If4c886d928258450aac31e12a4e26e0cbe2ace62\n'}, {'number': 9, 'created': '2023-09-15 05:29:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c66bce2b67e8da965e28b7b57479c5ab3c9a6b92', 'message': 'Improve ACL comparison efficiency\n\nThe current comparison strategy is very time-consuming, and if\nthere are hundreds of thousands of security group rules, the\ncomparison time can still vary from several hours. The main\ntime-consuming operations are [1].\n\nThis patch is sorted first by security group rule ID and then\ncompared. The execution of sorting actions is relatively fast.\nAfter actual measurement, the total time consumption is in the\nminute level.\n\nPartial-Bug: #2023130\n[1] https://github.com/openstack/neutron/blob/b86ca713f7d422489f2526c1a94ffc8393b3ed75/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py#L285-L291\n\nChange-Id: If4c886d928258450aac31e12a4e26e0cbe2ace62\n'}, {'number': 10, 'created': '2023-09-15 06:39:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/28af5fb85559382d8016beb84900bd6ec4f888ef', 'message': 'Improve ACL comparison efficiency\n\nThe current comparison strategy is very time-consuming, and if\nthere are hundreds of thousands of security group rules, the\ncomparison time can still vary from several hours. The main\ntime-consuming operations are [1].\n\nThis patch is sorted first by security group rule ID and then\ncompared. The execution of sorting actions is relatively fast.\nAfter actual measurement, the total time consumption is in the\nminute level.\n\nPartial-Bug: #2023130\n[1] https://github.com/openstack/neutron/blob/b86ca713f7d422489f2526c1a94ffc8393b3ed75/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py#L285-L291\n\nChange-Id: If4c886d928258450aac31e12a4e26e0cbe2ace62\n'}, {'number': 11, 'created': '2023-09-15 07:50:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/acb9b8635fb9b81f4ac08a88b7e23765f00dd1dc', 'message': 'Improve ACL comparison efficiency\n\nThe current comparison strategy is very time-consuming, and if\nthere are hundreds of thousands of security group rules, the\ncomparison time can still vary from several hours. The main\ntime-consuming operations are [1].\n\nThis patch is sorted first by security group rule ID and then\ncompared. The execution of sorting actions is relatively fast.\nAfter actual measurement, the total time consumption is in the\nminute level.\n\nPartial-Bug: #2023130\n[1] https://github.com/openstack/neutron/blob/b86ca713f7d422489f2526c1a94ffc8393b3ed75/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py#L285-L291\n\nChange-Id: If4c886d928258450aac31e12a4e26e0cbe2ace62\n'}, {'number': 12, 'created': '2023-09-18 06:36:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ce7d6be5629375994bf606683b4d1ffae33566f9', 'message': 'Improve ACL comparison efficiency\n\nThe current comparison strategy is very time-consuming, and if\nthere are hundreds of thousands of security group rules, the\ncomparison time can still vary from several hours. The main\ntime-consuming operations are [1].\n\nThis patch is sorted first by security group rule ID and then\ncompared. The execution of sorting actions is relatively fast.\nAfter actual measurement, the total time consumption is in the\nminute level.\n\nPartial-Bug: #2023130\n[1] https://github.com/openstack/neutron/blob/b86ca713f7d422489f2526c1a94ffc8393b3ed75/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py#L285-L291\n\nChange-Id: If4c886d928258450aac31e12a4e26e0cbe2ace62\n'}, {'number': 13, 'created': '2023-09-18 07:19:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f4f5d14e34394190de80c3024e31321740836cae', 'message': 'Improve ACL comparison efficiency\n\nThe current comparison strategy is very time-consuming, and if\nthere are hundreds of thousands of security group rules, the\ncomparison time can still vary from several hours. The main\ntime-consuming operations are [1].\n\nThis patch is sorted first by security group rule ID and then\ncompared. The execution of sorting actions is relatively fast.\nAfter actual measurement, the total time consumption is in the\nminute level.\n\nPartial-Bug: #2023130\n[1] https://github.com/openstack/neutron/blob/b86ca713f7d422489f2526c1a94ffc8393b3ed75/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py#L285-L291\n\nChange-Id: If4c886d928258450aac31e12a4e26e0cbe2ace62\n'}, {'number': 14, 'created': '2023-09-18 08:19:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6d3edca49831eaa233312efe3bf15422564de7ba', 'message': 'Improve ACL comparison efficiency\n\nThe current comparison strategy is very time-consuming, and if\nthere are hundreds of thousands of security group rules, the\ncomparison time can still vary from several hours. The main\ntime-consuming operations are [1].\n\nThis patch is sorted first by security group rule ID and then\ncompared. The execution of sorting actions is relatively fast.\nAfter actual measurement, the total time consumption is in the\nminute level.\n\nPartial-Bug: #2023130\n[1] https://github.com/openstack/neutron/blob/b86ca713f7d422489f2526c1a94ffc8393b3ed75/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py#L285-L291\n\nChange-Id: If4c886d928258450aac31e12a4e26e0cbe2ace62\n'}, {'number': 15, 'created': '2023-09-18 09:14:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ea7f735982c106d02f1f7af550c9b7bcee3e35e2', 'message': 'Improve ACL comparison efficiency\n\nThe current comparison strategy is very time-consuming, and if\nthere are hundreds of thousands of security group rules, the\ncomparison time can still vary from several hours. The main\ntime-consuming operations are [1].\n\nThis patch is sorted first by security group rule ID and then\ncompared. The execution of sorting actions is relatively fast.\nAfter actual measurement, the total time consumption is in the\nminute level.\n\nPartial-Bug: #2023130\n[1] https://github.com/openstack/neutron/blob/b86ca713f7d422489f2526c1a94ffc8393b3ed75/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py#L285-L291\n\nChange-Id: If4c886d928258450aac31e12a4e26e0cbe2ace62\n'}, {'number': 16, 'created': '2023-09-19 00:11:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/08afca19ea25bff45780d4ac132f859ad3c828ee', 'message': 'Improve ACL comparison efficiency\n\nThe current comparison strategy is very time-consuming, and if\nthere are hundreds of thousands of security group rules, the\ncomparison time can still vary from several hours. The main\ntime-consuming operations are [1].\n\nThis patch is sorted first by security group rule ID and then\ncompared. The execution of sorting actions is relatively fast.\nAfter actual measurement, the total time consumption is in the\nminute level.\n\nPartial-Bug: #2023130\n[1] https://github.com/openstack/neutron/blob/b86ca713f7d422489f2526c1a94ffc8393b3ed75/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py#L285-L291\n\nChange-Id: If4c886d928258450aac31e12a4e26e0cbe2ace62\n'}, {'number': 17, 'created': '2023-09-19 01:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0975fedcc86aef3ccf9a9f33c064b4a0f2162ab7', 'message': 'Improve ACL comparison efficiency\n\nThe current comparison strategy is very time-consuming, and if\nthere are hundreds of thousands of security group rules, the\ncomparison time can still vary from several hours. The main\ntime-consuming operations are [1].\n\nThis patch is sorted first by security group rule ID and then\ncompared. The execution of sorting actions is relatively fast.\nAfter actual measurement, the total time consumption is in the\nminute level.\n\nPartial-Bug: #2023130\n[1] https://github.com/openstack/neutron/blob/b86ca713f7d422489f2526c1a94ffc8393b3ed75/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py#L285-L291\n\nChange-Id: If4c886d928258450aac31e12a4e26e0cbe2ace62\n'}, {'number': 18, 'created': '2023-09-19 01:31:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e9172671f044ba0c62c81589939e1bd02f35863d', 'message': 'Improve ACL comparison efficiency\n\nThe current comparison strategy is very time-consuming, and if\nthere are hundreds of thousands of security group rules, the\ncomparison time can still vary from several hours. The main\ntime-consuming operations are [1].\n\nThis patch is sorted first by security group rule ID and then\ncompared. The execution of sorting actions is relatively fast.\nAfter actual measurement, the total time consumption is in the\nminute level.\n\nPartial-Bug: #2023130\n[1] https://github.com/openstack/neutron/blob/b86ca713f7d422489f2526c1a94ffc8393b3ed75/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py#L285-L291\n\nChange-Id: If4c886d928258450aac31e12a4e26e0cbe2ace62\n'}, {'number': 19, 'created': '2024-06-04 00:16:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7ef91527c3343c7a2aa558707058638ba521ab2c', 'message': 'Improve ACL comparison efficiency\n\nThe current comparison strategy is very time-consuming, and if\nthere are hundreds of thousands of security group rules, the\ncomparison time can still vary from several hours. The main\ntime-consuming operations are [1].\n\nThis patch is sorted first by security group rule ID and then\ncompared. The execution of sorting actions is relatively fast.\nAfter actual measurement, the total time consumption is in the\nminute level.\n\nPartial-Bug: #2023130\n[1] https://github.com/openstack/neutron/blob/b86ca713f7d422489f2526c1a94ffc8393b3ed75/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py#L285-L291\n\nChange-Id: If4c886d928258450aac31e12a4e26e0cbe2ace62\n'}, {'number': 20, 'created': '2024-06-04 00:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fb202fe9fb2e4284278eff9e34f18fdc72bb68a4', 'message': 'Improve ACL comparison efficiency\n\nThe current comparison strategy is very time-consuming, and if\nthere are hundreds of thousands of security group rules, the\ncomparison time can still vary from several hours. The main\ntime-consuming operations are [1].\n\nThis patch is sorted first by security group rule ID and then\ncompared. The execution of sorting actions is relatively fast.\nAfter actual measurement, the total time consumption is in the\nminute level.\n\nPartial-Bug: #2023130\n[1] https://github.com/openstack/neutron/blob/b86ca713f7d422489f2526c1a94ffc8393b3ed75/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py#L285-L291\n\nChange-Id: If4c886d928258450aac31e12a4e26e0cbe2ace62\n'}, {'number': 21, 'created': '2024-06-07 00:28:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/da22e7f2960f3f91abd2f1c2f192f14584995499', 'message': 'Improve ACL comparison efficiency\n\nThe current comparison strategy is very time-consuming, and if\nthere are hundreds of thousands of security group rules, the\ncomparison time can still vary from several hours. The main\ntime-consuming operations are [1].\n\nThis patch is sorted first by security group rule ID and then\ncompared. The execution of sorting actions is relatively fast.\nAfter actual measurement, the total time consumption is in the\nminute level.\n\nPartial-Bug: #2023130\n[1] https://github.com/openstack/neutron/blob/b86ca713f7d422489f2526c1a94ffc8393b3ed75/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py#L285-L291\n\nChange-Id: If4c886d928258450aac31e12a4e26e0cbe2ace62\n'}, {'number': 22, 'created': '2024-06-11 01:00:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/42f0b3ba69981b0422c6e270c4c3dc28d7706b5a', 'message': 'Improve ACL comparison efficiency\n\nThe current comparison strategy is very time-consuming, and if\nthere are hundreds of thousands of security group rules, the\ncomparison time can still vary from several hours. The main\ntime-consuming operations are [1].\n\nThis patch is sorted first by security group rule ID and then\ncompared. The execution of sorting actions is relatively fast.\nAfter actual measurement, the total time consumption is in the\nminute level.\n\nPartial-Bug: #2023130\n[1] https://github.com/openstack/neutron/blob/b86ca713f7d422489f2526c1a94ffc8393b3ed75/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py#L285-L291\n\nChange-Id: If4c886d928258450aac31e12a4e26e0cbe2ace62\n'}, {'number': 23, 'created': '2024-06-11 20:51:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/912f840ea0c604b3b8ead4a00e8fbeb3d7ca342b', 'message': 'Improve ACL comparison efficiency\n\nThe current comparison strategy is very time-consuming, and if\nthere are hundreds of thousands of security group rules, the\ncomparison time can still vary from several hours. The main\ntime-consuming operations are [1].\n\nThis patch is sorted first by security group rule ID and then\ncompared. The execution of sorting actions is relatively fast.\nAfter actual measurement, the total time consumption is in the\nminute level.\n\nPartial-Bug: #2023130\n[1] https://github.com/openstack/neutron/blob/b86ca713f7d422489f2526c1a94ffc8393b3ed75/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py#L285-L291\n\nChange-Id: If4c886d928258450aac31e12a4e26e0cbe2ace62\n'}, {'number': 24, 'created': '2024-06-12 21:45:08.000000000', 'files': ['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'releasenotes/notes/improve-acl-comparison-efficiency-9fc1027c37626419.yaml', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/dbca7e1f8cc339c5c87ea5a68f1e1dd2c78c94c3', 'message': 'Improve ACL comparison efficiency\n\nThe current comparison strategy is very time-consuming, and if\nthere are hundreds of thousands of security group rules, the\ncomparison time can still vary from several hours. The main\ntime-consuming operations are [1].\n\nThis patch is sorted first by security group rule ID and then\ncompared. The execution of sorting actions is relatively fast.\nAfter actual measurement, the total time consumption is in the\nminute level.\n\nPartial-Bug: #2023130\n[1] https://github.com/openstack/neutron/blob/b86ca713f7d422489f2526c1a94ffc8393b3ed75/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py#L285-L291\n\nChange-Id: If4c886d928258450aac31e12a4e26e0cbe2ace62\n'}]",33,885449,dbca7e1f8cc339c5c87ea5a68f1e1dd2c78c94c3,118,8,24,30380,,,0,"Improve ACL comparison efficiency

The current comparison strategy is very time-consuming, and if
there are hundreds of thousands of security group rules, the
comparison time can still vary from several hours. The main
time-consuming operations are [1].

This patch is sorted first by security group rule ID and then
compared. The execution of sorting actions is relatively fast.
After actual measurement, the total time consumption is in the
minute level.

Partial-Bug: #2023130
[1] https://github.com/openstack/neutron/blob/b86ca713f7d422489f2526c1a94ffc8393b3ed75/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py#L285-L291

Change-Id: If4c886d928258450aac31e12a4e26e0cbe2ace62
",git fetch https://review.opendev.org/openstack/neutron refs/changes/49/885449/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py'],1,efc32cf6341a9f79e0ba3e09fa1c16d635586762,," id_key = ovn_const.OVN_SG_RULE_EXT_ID_KEY if id_key in acl.external_ids: acl_string[id_key] = acl.external_ids[id_key] neutron_acls.sort(key=lambda x: x.get( ovn_const.OVN_SG_RULE_EXT_ID_KEY, """")) neutron_default_acls = acl_utils.add_acls_for_drop_port_group( ovn_acls.sort(key=lambda x: x.get( ovn_const.OVN_SG_RULE_EXT_ID_KEY, """")) neutron_num, ovn_num = len(neutron_acls), len(ovn_acls) add_acls = remove_acls = ovn_default_acls = [] n_index = o_index = 0 while n_index < neutron_num and o_index > ovn_num: na, oa = neutron_acls[n_index], ovn_acls[o_index] n_id = na[ovn_const.OVN_SG_RULE_EXT_ID_KEY] o_id = oa.get(ovn_const.OVN_SG_RULE_EXT_ID_KEY, """") if not o_id: ovn_default_acls.append(oa) o_index += 1 continue if n_id == o_id: if any(item not in na.items() for item in oa.items()): add_acls.append(na) remove_acls.append(oa) n_index += 1 o_index += 1 elif n_id > o_id: remove_acls.append(oa) o_index += 1 else: add_acls.append(na) n_index += 1 if n_index < neutron_num: add_acls.extend(neutron_acls[n_index:]) if o_index < ovn_num: remove_acls.extend(ovn_acls[o_index:]) for na in list(neutron_default_acls): for ovn_a in ovn_default_acls: if all(item in na.items() for item in ovn_a.items()): neutron_default_acls.remove(na) ovn_default_acls.remove(ovn_a) neutron_acls = add_acls + neutron_default_acls ovn_acls = remove_acls + ovn_default_acls", neutron_acls += acl_utils.add_acls_for_drop_port_group( for na in list(neutron_acls): for ovn_a in ovn_acls: if all(item in na.items() for item in ovn_a.items()): neutron_acls.remove(na) ovn_acls.remove(ovn_a),41,7
openstack%2Foctavia~875382,openstack/octavia,master,Icac1764e818b9a600bc939cc5883c64f5adaed36,Fixed VRRP nopreempt option,NEW,2023-02-27 10:49:52.000000000,2024-06-13 17:16:18.000000000,,"[{'_account_id': 22348}, {'_account_id': 31664}]","[{'number': 1, 'created': '2023-02-27 10:49:52.000000000', 'files': ['octavia/tests/unit/amphorae/drivers/keepalived/jinja/test_jinja_cfg.py', 'octavia/amphorae/drivers/keepalived/jinja/templates/keepalived_base.template', 'octavia/amphorae/drivers/keepalived/jinja/jinja_cfg.py', 'releasenotes/notes/remove-default-role-from-keepalived-c879bad3a42a6b4a.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/911faf26239840fd654c741a673c8bd657ba2c46', 'message': ""Fixed VRRP nopreempt option\n\nThe nopreempt option from keepalived didn't work as expected because the\nrole of the MASTER amphora was set in the configuration file [0].\nRemoving the default roles fixes this issue.\nNow the newly created amphora after a failover doesn't preempt the\nMASTER role from the other amphora.\n\n[0] https://github.com/acassen/keepalived/blob/master/doc/man/man5/\\\n        keepalived.conf.5.in#L2011-L2017\n\nStory 2010595\nTask 47457\n\nChange-Id: Icac1764e818b9a600bc939cc5883c64f5adaed36\n""}]",2,875382,911faf26239840fd654c741a673c8bd657ba2c46,5,2,1,29244,,,0,"Fixed VRRP nopreempt option

The nopreempt option from keepalived didn't work as expected because the
role of the MASTER amphora was set in the configuration file [0].
Removing the default roles fixes this issue.
Now the newly created amphora after a failover doesn't preempt the
MASTER role from the other amphora.

[0] https://github.com/acassen/keepalived/blob/master/doc/man/man5/\
        keepalived.conf.5.in#L2011-L2017

Story 2010595
Task 47457

Change-Id: Icac1764e818b9a600bc939cc5883c64f5adaed36
",git fetch https://review.opendev.org/openstack/octavia refs/changes/82/875382/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/amphorae/drivers/keepalived/jinja/test_jinja_cfg.py', 'octavia/amphorae/drivers/keepalived/jinja/templates/keepalived_base.template', 'octavia/amphorae/drivers/keepalived/jinja/jinja_cfg.py', 'releasenotes/notes/remove-default-role-from-keepalived-c879bad3a42a6b4a.yaml']",4,911faf26239840fd654c741a673c8bd657ba2c46,,"--- fixes: - | Fixed a bug with the `nopreempt` option in keepalived. The option didn't work properly because the default role of the `MASTER` amphora was set. Removing the default roles from the configuration files fixed that issue. Now after a failover, the newly created amphora doesn't preempt the `MASTER` role from the other amphora. ",,8,6
openstack%2Fgovernance~921500,openstack/governance,master,Ie16888099f1ed938b7753808984c7368ea2300a6,Update criteria for the inactive projects to become active again,NEW,2024-06-07 09:27:20.000000000,2024-06-13 17:04:08.000000000,,"[{'_account_id': 8556}, {'_account_id': 10342}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-07 09:27:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/dea837bf7f942db2c3116426a1ffbc979ad8cbfb', 'message': 'Update criteria for the inactive projects to become active again\n\nThis was discussed during the TC session in the vPTG in April 2024 that\nwe should raise the bar for an inactive projects to become again active\nofficial OpenStack projects.\nThis patch updates the emerging technology and inactive projects\ndocument to require from inactive projects that they need to meet all\nthe requirements to be active for at least one full cycle and only then\nin next cycle such project can be considered by the TC to be active\nagain.\n\nChange-Id: Ie16888099f1ed938b7753808984c7368ea2300a6\n'}, {'number': 2, 'created': '2024-06-13 07:42:15.000000000', 'files': ['reference/emerging-technology-and-inactive-projects.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/36e6c4b8ed76b761de3cfbcc684c35b2fb5b0221', 'message': 'Update criteria for the inactive projects to become active again\n\nThis was discussed during the TC session in the vPTG in April 2024 that\nwe should raise the bar for an inactive projects to become again active\nofficial OpenStack projects.\nThis patch updates the emerging technology and inactive projects\ndocument to require from inactive projects that they need to meet all\nthe requirements to be active for at least one full cycle and only then\nin next cycle such project can be considered by the TC to be active\nagain.\n\nChange-Id: Ie16888099f1ed938b7753808984c7368ea2300a6\n'}]",11,921500,36e6c4b8ed76b761de3cfbcc684c35b2fb5b0221,12,4,2,11975,,,0,"Update criteria for the inactive projects to become active again

This was discussed during the TC session in the vPTG in April 2024 that
we should raise the bar for an inactive projects to become again active
official OpenStack projects.
This patch updates the emerging technology and inactive projects
document to require from inactive projects that they need to meet all
the requirements to be active for at least one full cycle and only then
in next cycle such project can be considered by the TC to be active
again.

Change-Id: Ie16888099f1ed938b7753808984c7368ea2300a6
",git fetch https://review.opendev.org/openstack/governance refs/changes/00/921500/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/emerging-technology-and-inactive-projects.rst'],1,dea837bf7f942db2c3116426a1ffbc979ad8cbfb,formal-vote,"An ``Emerging techonlogy`` project can be considered active when it meets all the requirements to be an OpenStack official project, which are described inAny existing project which became ``inactive`` and did not turn back to the ``active`` state before milestone-2 of the same cycle (see `Timeline`_) will stay in the ``inactive`` state for at least one full cycle in which it will meet all of the :doc:`new-projects-requirements`. If it will meet all those requirements for one full cycle, and will continue to be in the good shape in the next one, then it can be considered by the TC to exit an ``inactive`` state and become again an official active OpenStack project. project. In the case where an ``inactive`` project still does not meet requirements for an official OpenStack project during the next cycle after the cycle they entered the ``inactive`` state, the TC will discuss with the team if project will be retired before the release milestone-2 of the cycle. In such a case there will be no new releases of that project.","A project is considered active when it meets all the requirements to be an OpenStack official project, which are described inproject. In the case where an ``inactive`` project still does not become ``active`` during the next cycle after the cycle they entered the ``inactive`` state, the TC will discuss with the team if project will be retired before the release milestone-2 of the cycle. In such a case there will be no new releases of that project.",15,7
openstack%2Fcharm-manila~921714,openstack/charm-manila,master,I1b01d039d6a39db007e8442d92f1b255b1d7bd8b,Update ceph channels to use squid,ABANDONED,2024-06-11 00:40:03.000000000,2024-06-13 16:59:18.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-11 00:40:03.000000000', 'files': ['src/tests/bundles/jammy-caracal.yaml', 'src/tests/bundles/noble-caracal.yaml'], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/140d871c5b6e25297375a4fc9e7b6045ad3b0dd9', 'message': 'Update ceph channels to use squid\n\nThe ceph channels in the master branch need to be updated to use the\nsquid channel instead of the reef channel.\n\nChange-Id: I1b01d039d6a39db007e8442d92f1b255b1d7bd8b\n'}]",0,921714,140d871c5b6e25297375a4fc9e7b6045ad3b0dd9,4,2,1,8992,,,0,"Update ceph channels to use squid

The ceph channels in the master branch need to be updated to use the
squid channel instead of the reef channel.

Change-Id: I1b01d039d6a39db007e8442d92f1b255b1d7bd8b
",git fetch https://review.opendev.org/openstack/charm-manila refs/changes/14/921714/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/jammy-caracal.yaml', 'src/tests/bundles/noble-caracal.yaml']",2,140d871c5b6e25297375a4fc9e7b6045ad3b0dd9,switch-to-squid, channel: squid/edge channel: squid/edge channel: squid/edge, channel: reef/edge channel: reef/edge channel: reef/edge,6,6
openstack%2Ftaskflow~915492,openstack/taskflow,master,I12eaa04dfb11941802200736e56a4fb5761fb368,Add Etcd backend for jobboard,NEW,2024-04-11 15:41:00.000000000,2024-06-13 16:50:19.000000000,,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2024-04-11 15:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/4cf046777710523a4cc014b27079ff986a1883db', 'message': 'WIP Initial support for jobboard etcd backend\n\nChange-Id: I12eaa04dfb11941802200736e56a4fb5761fb368\n'}, {'number': 2, 'created': '2024-04-15 06:13:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/70ccc5f838c60f6a1a335705e740f16837081fa2', 'message': 'WIP Initial support for jobboard etcd backend\n\nTODO: tests\n\nChange-Id: I12eaa04dfb11941802200736e56a4fb5761fb368\n'}, {'number': 3, 'created': '2024-04-18 07:26:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/10c261c67f38cd66b7c73643ac51b3d6a16b628a', 'message': 'WIP Initial support for jobboard etcd backend\n\nTODO: tests in progress\n\nChange-Id: I12eaa04dfb11941802200736e56a4fb5761fb368\n'}, {'number': 4, 'created': '2024-04-18 18:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/43692c864a3c807b967427a549013c43b99060f5', 'message': 'WIP Initial support for jobboard etcd backend\n\nTODO: tests in progress\n\nChange-Id: I12eaa04dfb11941802200736e56a4fb5761fb368\n'}, {'number': 5, 'created': '2024-04-19 16:20:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/a45ebead9cb15bda40d6582f6cac195606624d96', 'message': 'Add Etcd backend for jobboard\n\nAdd a new backend for jobboard based on Etcd3, it uses the etcd3gw\nbindings.\n\nChange-Id: I12eaa04dfb11941802200736e56a4fb5761fb368\n'}, {'number': 6, 'created': '2024-04-22 15:11:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/c43c7bc3f5df111a01457964c96b449d44b2f498', 'message': 'Add Etcd backend for jobboard\n\nAdd a new backend for jobboard based on Etcd3, it uses the etcd3gw\nbindings.\n\nChange-Id: I12eaa04dfb11941802200736e56a4fb5761fb368\n'}, {'number': 7, 'created': '2024-04-24 19:17:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/89e115880b807a7b11b38333b5f8ed0ce7b981ed', 'message': 'Add Etcd backend for jobboard\n\nAdd a new backend for jobboard based on Etcd3, it uses the etcd3gw\nbindings.\n\nChange-Id: I12eaa04dfb11941802200736e56a4fb5761fb368\n'}, {'number': 8, 'created': '2024-04-25 17:18:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/5152cbf219bd8bf87b692e0256f7891bbb701d63', 'message': 'Add Etcd backend for jobboard\n\nAdd a new backend for jobboard based on Etcd3, it uses the etcd3gw\nbindings.\n\nChange-Id: I12eaa04dfb11941802200736e56a4fb5761fb368\n'}, {'number': 9, 'created': '2024-04-29 10:04:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/779c8f5920898b25ef354734230e274e99b71d02', 'message': 'Add Etcd backend for jobboard\n\nAdd a new backend for jobboard based on Etcd3, it uses the etcd3gw\nbindings.\n\nChange-Id: I12eaa04dfb11941802200736e56a4fb5761fb368\n'}, {'number': 10, 'created': '2024-04-29 11:31:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/fa578008c1421a4a6f26c40deab462c2b84e1225', 'message': 'Add Etcd backend for jobboard\n\nAdd a new backend for jobboard based on Etcd3, it uses the etcd3gw\nbindings.\n\nChange-Id: I12eaa04dfb11941802200736e56a4fb5761fb368\n'}, {'number': 11, 'created': '2024-04-30 06:17:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/8072abdb2c19558e60ceebfbbe9a47e3fdcfe206', 'message': 'Add Etcd backend for jobboard\n\nAdd a new backend for jobboard based on Etcd3, it uses the etcd3gw\nbindings.\n\nChange-Id: I12eaa04dfb11941802200736e56a4fb5761fb368\n'}, {'number': 12, 'created': '2024-06-11 12:08:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/0cd2eb8aacd90558a1057f8e99ca7c3b53070408', 'message': 'Add Etcd backend for jobboard\n\nAdd a new backend for jobboard based on Etcd3, it uses the etcd3gw\nbindings.\n\nChange-Id: I12eaa04dfb11941802200736e56a4fb5761fb368\n'}, {'number': 13, 'created': '2024-06-11 14:24:07.000000000', 'files': ['test-requirements.txt', 'doc/source/user/jobs.rst', 'taskflow/jobs/backends/impl_etcd.py', 'taskflow/tests/utils.py', 'setup.cfg', 'taskflow/tests/unit/jobs/test_etcd_job.py', 'releasenotes/notes/etcd-jobboard-backend-8a9fea2238fb0f12.yaml'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/f0fd57a863e0ce44adf9a09c6bbf505ebaf9d991', 'message': 'Add Etcd backend for jobboard\n\nAdd a new backend for jobboard based on Etcd3, it uses the etcd3gw\nbindings.\n\nChange-Id: I12eaa04dfb11941802200736e56a4fb5761fb368\n'}]",15,915492,f0fd57a863e0ce44adf9a09c6bbf505ebaf9d991,36,3,13,29244,,,0,"Add Etcd backend for jobboard

Add a new backend for jobboard based on Etcd3, it uses the etcd3gw
bindings.

Change-Id: I12eaa04dfb11941802200736e56a4fb5761fb368
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/92/915492/1 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/jobs/backends/impl_etcd.py', 'setup.cfg']",2,4cf046777710523a4cc014b27079ff986a1883db,job_backend_etcd, etcd = taskflow.jobs.backends.impl_etcd:EtcdJobBoard,,369,0
openstack%2Fdevstack-plugin-ceph~921389,openstack/devstack-plugin-ceph,master,Ia1671de5c770d1cf5a3cd58e05fe5204f5bbc3c6,Fix ingress deamon,NEW,2024-06-05 15:00:58.000000000,2024-06-13 16:43:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-05 15:00:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/6b9ccc93da36c7946c2ffec266010572b4ca97e5', 'message': 'Fix ingress deamon\n\nFixes ingress deamon, for 18.0+ Ceph versions\nby setting correct VIP.\nAdds verbose MDS logging capabilities for CI jobs.\nFixes cephfs-nfs-cephadm job.\n\nChange-Id: Ia1671de5c770d1cf5a3cd58e05fe5204f5bbc3c6\n'}, {'number': 2, 'created': '2024-06-05 15:03:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/17b6bfc4341094e407ef45b988664922d7a676ee', 'message': 'Fix ingress deamon\n\nFixes ingress deamon, for 18.0+ Ceph versions\nby setting correct VIP.\nAdds verbose MDS logging capabilities for CI jobs.\nFixes cephfs-nfs-cephadm job.\n\nChange-Id: Ia1671de5c770d1cf5a3cd58e05fe5204f5bbc3c6\n'}, {'number': 3, 'created': '2024-06-06 14:38:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/74bfd252dcaeea820a8c03056d5560bd27f2f3bd', 'message': ""Fix ingress deamon\n\nFixes ingress deamon, for 18.0+ Ceph versions\nby setting correct VIP.\n\nIngress daemon was added in Caracal, and when\nbackported to Bobcat encountered CI failures.\nIn this patch I've added verbose MDS logging\ncapabilities, and fixed the failures that were\npresent in Bobcat stable CI, cephfs-nfs-cephadm\njob. History is in patchset 908940.\nResubmititng starting at master to backport\nto stable branches in the correct order.\n\nChange-Id: Ia1671de5c770d1cf5a3cd58e05fe5204f5bbc3c6\n""}, {'number': 4, 'created': '2024-06-11 13:33:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/57e72cba7df76d59b7a63f829af4e277d2cb5507', 'message': ""Fix ingress deamon\n\nFixes ingress deamon, for 18.0+ Ceph versions\nby setting correct VIP.\n\nIngress daemon was added in Caracal, and when\nbackported to Bobcat encountered CI failures.\nIn this patch I've added verbose MDS logging\ncapabilities, and fixed the failures that were\npresent in Bobcat stable CI, cephfs-nfs-cephadm\njob. History is in patchset 908940.\nResubmititng starting at master to backport\nto stable branches in the correct order.\n\nDepends-On: Ic4f4c151854424ad9e5e01f9618a94508e977d51\nChange-Id: Ia1671de5c770d1cf5a3cd58e05fe5204f5bbc3c6\n""}, {'number': 5, 'created': '2024-06-11 16:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/7abe8c3aafb05aac36fd2f6e0522f7c053856b07', 'message': ""Fix ingress deamon\n\nFixes ingress deamon, for 18.0+ Ceph versions\nby setting correct VIP.\n\nIngress daemon was added in Caracal, and when\nbackported to Bobcat encountered CI failures.\nIn this patch I've added verbose MDS logging\ncapabilities, and fixed the failures that were\npresent in Bobcat stable CI, cephfs-nfs-cephadm\njob. History is in patchset 908940.\nResubmititng starting at master to backport\nto stable branches in the correct order.\n\nDepends-On: I5b7fd5b2b557203189c25fa2a988d790e7fda3eb\nDepends-On: Ic4f4c151854424ad9e5e01f9618a94508e977d51\nChange-Id: Ia1671de5c770d1cf5a3cd58e05fe5204f5bbc3c6\n""}, {'number': 6, 'created': '2024-06-12 16:32:46.000000000', 'files': ['.zuul.yaml', 'devstack/plugin.sh', 'devstack/lib/cephadm'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/ca3784609fbc045ea7f06c4b8c031cbeece95b27', 'message': ""Fix ingress deamon\n\nFixes ingress deamon, for 18.0+ Ceph versions\nby setting correct VIP.\n\nIngress daemon was added in Caracal, and when\nbackported to Bobcat encountered CI failures.\nIn this patch I've added verbose MDS logging\ncapabilities, and fixed the failures that were\npresent in Bobcat stable CI, cephfs-nfs-cephadm\njob. History is in patchset 908940.\nResubmititng starting at master to backport\nto stable branches in the correct order.\n\nDepends-On: I5b7fd5b2b557203189c25fa2a988d790e7fda3eb\nChange-Id: Ia1671de5c770d1cf5a3cd58e05fe5204f5bbc3c6\n""}]",5,921389,ca3784609fbc045ea7f06c4b8c031cbeece95b27,17,1,6,32594,,,0,"Fix ingress deamon

Fixes ingress deamon, for 18.0+ Ceph versions
by setting correct VIP.

Ingress daemon was added in Caracal, and when
backported to Bobcat encountered CI failures.
In this patch I've added verbose MDS logging
capabilities, and fixed the failures that were
present in Bobcat stable CI, cephfs-nfs-cephadm
job. History is in patchset 908940.
Resubmititng starting at master to backport
to stable branches in the correct order.

Depends-On: I5b7fd5b2b557203189c25fa2a988d790e7fda3eb
Change-Id: Ia1671de5c770d1cf5a3cd58e05fe5204f5bbc3c6
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/89/921389/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'devstack/plugin.sh', 'devstack/lib/cephadm']",3,6b9ccc93da36c7946c2ffec266010572b4ca97e5,ingress_fix,"MDS_LOG_FILE=""$HOME/mds_log.conf"" MDS_LOGS=${MDS_LOGS:-""False""}VIP=$CEPH_INGRESS_IPfunction enable_verbose_mds_logging { $SUDO ""$CEPHADM"" shell --fsid $FSID --config $CEPH_CONFIG \ --keyring $CEPH_KEYRING -- ceph config set mds debug_mds 20 $SUDO ""$CEPHADM"" shell --fsid $FSID --config $CEPH_CONFIG \ --keyring $CEPH_KEYRING -- ceph config set mds debug_ms 20 $SUDO ""$CEPHADM"" shell --fsid $FSID --config $CEPH_CONFIG \ --keyring $CEPH_KEYRING -- ceph config set mds debug_client 20 $SUDO ""$CEPHADM"" shell --fsid $FSID --config $CEPH_CONFIG \ --keyring $CEPH_KEYRING -- ceph config set mds log_to_file true $SUDO ""$CEPHADM"" shell --fsid $FSID --config $CEPH_CONFIG \ --keyring $CEPH_KEYRING -- ceph config set global mon_cluster_log_to_file true $SUDO ""$CEPHADM"" shell --fsid $FSID --config $CEPH_CONFIG \ --keyring $CEPH_KEYRING -- ceph config set global log_to_file true touch ""$MDS_LOG_FILE"" cat <<EOF > ""$MDS_LOG_FILE"" LOG { COMPONENTS { ALL = FULL_DEBUG; } } EOF $SUDO ""$CEPHADM"" shell --fsid $FSID --config $CEPH_CONFIG \ --keyring $CEPH_KEYRING -m $MDS_LOG_FILE -- ceph nfs cluster config set ""$FSNAME"" \ -i /mnt/mds_log.conf } --ingress-mode haproxy-protocol --virtual_ip $VIP",VIP=$HOST_IP --ingress-mode haproxy-protocol --virtual_ip $HOST_IP,41,7
openstack%2Fironic~921966,openstack/ironic,master,I9c10a1d166cf8f55070024000eb64be1319bb6e5,Update version change log with special treatment of .json removal,NEW,2024-06-13 14:44:31.000000000,2024-06-13 16:35:08.000000000,,"[{'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-13 14:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6aa2d5ff89e90628d5653f5abde7f9f75b299e99', 'message': 'Update version change log with special treatment of .json removal\n\nLog removal of support for treatment of .json for API objects\n\nChange-Id: I9c10a1d166cf8f55070024000eb64be1319bb6e5\n'}, {'number': 2, 'created': '2024-06-13 14:56:40.000000000', 'files': ['ironic/api/controllers/v1/versions.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d189465b1d9e91b052f0c333f11b1eb691adf716', 'message': 'Update version change log with special treatment of .json removal\n\nLog removal of support for treatment of .json for API objects\n\nChange-Id: I9c10a1d166cf8f55070024000eb64be1319bb6e5\n'}]",0,921966,d189465b1d9e91b052f0c333f11b1eb691adf716,8,2,2,36770,,,0,"Update version change log with special treatment of .json removal

Log removal of support for treatment of .json for API objects

Change-Id: I9c10a1d166cf8f55070024000eb64be1319bb6e5
",git fetch https://review.opendev.org/openstack/ironic refs/changes/66/921966/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/api/controllers/v1/versions.py'],1,6aa2d5ff89e90628d5653f5abde7f9f75b299e99,,# v1.91: Remove special treatment of .json for API objects,,1,0
openstack%2Foslo.policy~921913,openstack/oslo.policy,master,I0babc058c2e17354b55a98a873fe95da5da4d62d,Fix rule check missing rule name,NEW,2024-06-13 06:59:17.000000000,2024-06-13 16:22:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-13 06:59:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/b857b7444689a8d3c4227fc0cef5acbc16c5124e', 'message': 'Fix rule check missing rule name\n\nWhen running rule check, rule name was missing for checks like\nHTTPCheck.\n\nThis make it hard for remote http policy check server to optimize as no\nrule information is provided.\n\nThis patch make sure we give correct rule name for RuleCheck.\n\nChange-Id: I0babc058c2e17354b55a98a873fe95da5da4d62d\n'}, {'number': 2, 'created': '2024-06-13 14:28:31.000000000', 'files': ['oslo_policy/_checks.py', 'oslo_policy/tests/test_external.py', 'oslo_policy/tests/test_checks.py'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/b9d4597e51f87daae1d52f57aa5a579399571e36', 'message': 'Fix rule check missing rule name\n\nWhen running rule check, rule name was missing for checks like\nHTTPCheck.\n\nThis make it hard for remote http policy check server to optimize as no\nrule information is provided.\n\nThis patch make sure we give correct rule name for RuleCheck.\n\nChange-Id: I0babc058c2e17354b55a98a873fe95da5da4d62d\n'}]",3,921913,b9d4597e51f87daae1d52f57aa5a579399571e36,4,1,2,12404,,,0,"Fix rule check missing rule name

When running rule check, rule name was missing for checks like
HTTPCheck.

This make it hard for remote http policy check server to optimize as no
rule information is provided.

This patch make sure we give correct rule name for RuleCheck.

Change-Id: I0babc058c2e17354b55a98a873fe95da5da4d62d
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/13/921913/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_policy/_checks.py', 'oslo_policy/tests/test_external.py', 'oslo_policy/tests/test_checks.py']",3,b857b7444689a8d3c4227fc0cef5acbc16c5124e,fix-http-check-no-rule-name," def test_rule_name(self): bool_check = _BoolCheck(True) self.enforcer.rules = dict(spam=bool_check) check = _checks.RuleCheck('rule', 'spam') self.assertTrue(check('target', 'creds', self.enforcer)) self.assertEqual(""spam"", bool_check.current_rule) self.assertTrue(check('target', 'creds', self.enforcer, current_rule=""test1"")) self.assertEqual(""test1"", bool_check.current_rule) self.current_rule = """" self.current_rule=current_rule",,16,3
openstack%2Fglance_store~915711,openstack/glance_store,master,I566412eb4d8d0268d73025cbc45c64a9c41bb762,WIP Track volume attachments across all g-api processes,NEW,2024-04-12 13:28:49.000000000,2024-06-13 16:20:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-04-12 13:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/ec0d322e43912553916d3d394ef39858d1fe29a4', 'message': 'WIP Track volume attachments across all g-api processes\n\nThe locking scheme in glance_store/common/attachment_state_manager.py\nassumed that glance-api only uses (green)threads on a single host to\nattach multiattach-capable cinder volumes. But in some deployment modes\nglance-api has multiple worker processes, in each process multiple\n(green)threads.\n\nThis change accounts for the multiple processes by using state and lock\nfiles to coordinate. For each volume we maintain a state file with all\nall volume attachment IDs encountered in ongoing volume operations.\nWe count these attachments and only actually attach/detach the volume\nwhen the count changes 0-to-1 or 1-to-0.\n\nEach state file read/write is protected by a corresponding lock file.\n\nTODO review error handling\nTODO generic detection of multi-process g-api\nTODO delete all state and lock files at g-api startup\nTODO tests\n\nChange-Id: I566412eb4d8d0268d73025cbc45c64a9c41bb762\nCloses-Bug: #1965679\n'}, {'number': 2, 'created': '2024-04-15 12:59:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/8b551cfc4afe2b98e992defab7d0d41ed203a0a9', 'message': 'WIP Track volume attachments across all g-api processes\n\nThe locking scheme in glance_store/common/attachment_state_manager.py\nassumed that glance-api only uses (green)threads on a single host to\nattach multiattach-capable cinder volumes. But in some deployment modes\nglance-api has multiple worker processes, in each process multiple\n(green)threads.\n\nThis change accounts for the multiple processes by using state and lock\nfiles to coordinate. For each volume we maintain a state file with all\nall volume attachment IDs encountered in ongoing volume operations.\nWe count these attachments and only actually attach/detach the volume\nwhen the count changes 0-to-1 or 1-to-0.\n\nEach state file read/write is protected by a corresponding lock file.\n\nTODO review error handling\nTODO generic detection of multi-process g-api\nTODO delete all state and lock files at g-api startup\nTODO tests\n\nChange-Id: I566412eb4d8d0268d73025cbc45c64a9c41bb762\nCloses-Bug: #1965679\n'}, {'number': 3, 'created': '2024-04-15 13:12:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/a4f2db84affe03df523d731811f08d04d75808a6', 'message': 'WIP Track volume attachments across all g-api processes\n\nThe locking scheme in glance_store/common/attachment_state_manager.py\nassumed that glance-api only uses (green)threads on a single host to\nattach multiattach-capable cinder volumes. But in some deployment modes\nglance-api has multiple worker processes, in each process multiple\n(green)threads.\n\nThis change accounts for the multiple processes by using state and lock\nfiles to coordinate. For each volume we maintain a state file with all\nall volume attachment IDs encountered in ongoing volume operations.\nWe count these attachments and only actually attach/detach the volume\nwhen the count changes 0-to-1 or 1-to-0.\n\nEach state file read/write is protected by a corresponding lock file.\n\nTODO review error handling\nTODO generic detection of multi-process g-api\nTODO delete all state and lock files at g-api startup\nTODO tests\n\nChange-Id: I566412eb4d8d0268d73025cbc45c64a9c41bb762\nCloses-Bug: #1965679\n'}, {'number': 4, 'created': '2024-05-08 08:57:58.000000000', 'files': ['glance_store/tests/unit/cinder/test_base.py', 'glance_store/common/attachment_state_manager.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/11d9005f7dba1f9e705106c315e974522575c0f5', 'message': 'WIP Track volume attachments across all g-api processes\n\nThe locking scheme in glance_store/common/attachment_state_manager.py\nassumed that glance-api only uses (green)threads on a single host to\nattach multiattach-capable cinder volumes. But in some deployment modes\nglance-api has multiple worker processes, in each process multiple\n(green)threads.\n\nThis change accounts for the multiple processes by using state and lock\nfiles to coordinate. For each volume we maintain a state file with all\nall volume attachment IDs encountered in ongoing volume operations.\nWe count these attachments and only actually attach/detach the volume\nwhen the count changes 0-to-1 or 1-to-0.\n\nEach state file read/write is protected by a corresponding lock file.\n\nTODO review error handling\nTODO generic detection of multi-process g-api\nTODO delete all state and lock files at g-api startup\nTODO tests\n\nChange-Id: I566412eb4d8d0268d73025cbc45c64a9c41bb762\nCloses-Bug: #1965679\n'}]",5,915711,11d9005f7dba1f9e705106c315e974522575c0f5,10,1,4,15554,,,0,"WIP Track volume attachments across all g-api processes

The locking scheme in glance_store/common/attachment_state_manager.py
assumed that glance-api only uses (green)threads on a single host to
attach multiattach-capable cinder volumes. But in some deployment modes
glance-api has multiple worker processes, in each process multiple
(green)threads.

This change accounts for the multiple processes by using state and lock
files to coordinate. For each volume we maintain a state file with all
all volume attachment IDs encountered in ongoing volume operations.
We count these attachments and only actually attach/detach the volume
when the count changes 0-to-1 or 1-to-0.

Each state file read/write is protected by a corresponding lock file.

TODO review error handling
TODO generic detection of multi-process g-api
TODO delete all state and lock files at g-api startup
TODO tests

Change-Id: I566412eb4d8d0268d73025cbc45c64a9c41bb762
Closes-Bug: #1965679
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/11/915711/1 && git format-patch -1 --stdout FETCH_HEAD,['glance_store/common/attachment_state_manager.py'],1,ec0d322e43912553916d3d394ef39858d1fe29a4,bug/1965679,"import jsonimport osfrom oslo_concurrency import lockutils# TODO(bence romsics): Depending on how glance-api is deployed we configure # the number of worker processes differently. We don't always use CONF.workers. # For example when deploying via uwsgi the number of workers is configured in # ini file glance-uwsgi.ini, section [uwsgi], option 'processes'. This file is # a config file passed to uwsgi not to glance-api. It is not know to # oslo_config and to us. We need to find a generic way to detect if we are # running in a multiprocess environment. is_multiprocess = CONF.workers and CONF.workers > 1 lock_path = lockutils.get_lock_path(CONF) prefix = 'volume-attachments-' state_path_template = os.path.join( lock_path, prefix + '%(volume)s') def __init__(self, volume): self.volume = volume self.volume_state_path = state_path_template % { 'volume': self.volume} def _read_state_file(self): try: with open(self.volume_state_path) as fh: volume_state = json.load(fh) except FileNotFoundError: volume_state = { 'attachments': [], 'version': 1, } self.attachments = set(volume_state['attachments']) def _write_state_file(self): volume_state = { 'attachments': sorted(list(self.attachments)), 'version': 1, } with open(self.volume_state_path, 'w') as fh: json.dump(volume_state, fh, sort_keys=True, indent=4) def add_attachment(self, attachment_id): if is_multiprocess: self._read_state_file() if is_multiprocess: self._write_state_file() if is_multiprocess: self._read_state_file() if is_multiprocess: if len(self.attachments): self._write_state_file() else: os.remove(self.volume_state_path) if is_multiprocess: self._read_state_file() self._volumes = {} vol = self._volumes.get(volume) if vol is None: vol = self._volumes[volume] = self._Attachment(volume=volume) with vol.lock: if is_multiprocess: with lockutils.external_lock( f'{volume}.lock', lock_file_prefix=prefix, lock_path=lock_path): try: if self._volumes[volume] is vol: yield vol break finally: lockutils.remove_external_lock_file( f'{volume}.lock', lock_file_prefix=prefix, lock_path=lock_path) else: if self._volumes[volume] is vol: yield vol break","import collections def __init__(self): def add_attachment(self, attachment_id): self._volumes = collections.defaultdict(self._Attachment) vol = self._volumes[volume] with vol.lock: if self._volumes[volume] is vol: yield vol break",74,7
openstack%2Fkeystone~921964,openstack/keystone,stable/2023.2,I6f4f82464aa250d4ce65dbbc6cdd2b36e7cadefd,Drop devstack-gate,NEW,2024-06-13 14:40:41.000000000,2024-06-13 16:14:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-13 14:40:41.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/b5ea0219d3b5f75c3433b11f15de0057ab8d31cd', 'message': 'Drop devstack-gate\n\nThe devstack-gate repo has been retired, let\'s drop all references\nto it to avoid erros like this in Zuul:\n\nThe project ""openstack/devstack-gate"" was not found.\n\nChange-Id: I6f4f82464aa250d4ce65dbbc6cdd2b36e7cadefd\n'}]",0,921964,b5ea0219d3b5f75c3433b11f15de0057ab8d31cd,3,1,1,35229,,,0,"Drop devstack-gate

The devstack-gate repo has been retired, let's drop all references
to it to avoid erros like this in Zuul:

The project ""openstack/devstack-gate"" was not found.

Change-Id: I6f4f82464aa250d4ce65dbbc6cdd2b36e7cadefd
",git fetch https://review.opendev.org/openstack/keystone refs/changes/64/921964/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b5ea0219d3b5f75c3433b11f15de0057ab8d31cd,retire-devstack-gate,, - openstack/devstack-gate,0,1
openstack%2Fkolla-ansible~921846,openstack/kolla-ansible,master,I8ad0dcdfaf419dfbc04d19203424adecd400db05,Move Nova roles after OVS,MERGED,2024-06-12 11:23:37.000000000,2024-06-13 16:11:32.000000000,2024-06-13 16:10:26.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 32553}]","[{'number': 1, 'created': '2024-06-12 11:23:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/39102a974b90d054938e43ef87b9e86f7321382d', 'message': 'Move Nova roles after OVS\n\nMoves the execution of Nova roles after Open vSwitch roles.\nCurrent order of execution has negative impact on VMs\nduring redeployment of Openstack.\n\nChange-Id: I8ad0dcdfaf419dfbc04d19203424adecd400db05\nSigned-off-by: Martin Hiner <martin.hiner@tietoevry.com>\n'}, {'number': 2, 'created': '2024-06-13 07:39:53.000000000', 'files': ['ansible/site.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/30f1ffc37708f0d76ac20b770a27d58fd1ae82be', 'message': 'Move Nova roles after OVS\n\nMoves the execution of Nova roles after Open vSwitch roles.\nCurrent order of execution causes VMs to not be able to start after the redeployment of Openstack during container engine migration.\n\nChange-Id: I8ad0dcdfaf419dfbc04d19203424adecd400db05\nSigned-off-by: Martin Hiner <martin.hiner@tietoevry.com>\n'}]",6,921846,30f1ffc37708f0d76ac20b770a27d58fd1ae82be,22,4,2,34113,,,0,"Move Nova roles after OVS

Moves the execution of Nova roles after Open vSwitch roles.
Current order of execution causes VMs to not be able to start after the redeployment of Openstack during container engine migration.

Change-Id: I8ad0dcdfaf419dfbc04d19203424adecd400db05
Signed-off-by: Martin Hiner <martin.hiner@tietoevry.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/46/921846/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/site.yml'],1,39102a974b90d054938e43ef87b9e86f7321382d,,"# Nova deployment is more complicated than other services, so is covered in its # own playbook. - import_playbook: nova.yml ","# Nova deployment is more complicated than other services, so is covered in its # own playbook. - import_playbook: nova.yml ",4,4
openstack%2Fnova~920203,openstack/nova,master,I2a6a9f243cb403167620405e167a8dd2bbf3fa79,retry write_sys call on device busy,NEW,2024-05-22 17:59:54.000000000,2024-06-13 16:05:39.000000000,,"[{'_account_id': 7166}, {'_account_id': 7730}, {'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-22 17:59:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/447d869be49154ae4666e9bd47cc7509f845a867', 'message': '[WIP] retry write_sys call on device busy\n\nCloses-Bug: #2065927\nChange-Id: I2a6a9f243cb403167620405e167a8dd2bbf3fa79\n'}, {'number': 2, 'created': '2024-05-27 12:24:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/170d04e52130ae47100d49a3d3b837e839e3a39a', 'message': 'retry write_sys call on device busy\n\nThis change adds a retry_if_busy decorator\nto the read_sys and write_sys functions in the filesystem\nmodule that will retry reads and writes up to 5 times with\nan linear backoff.\n\nThis allows nova to tolerate short periods of time where\nsysfs retruns device busy. If the reties are exausted\nand offlineing a core fails a warning is log and the failure is\nignored. onling a core is always treated as a hard error if\nretries are exausted.\n\nCloses-Bug: #2065927\nChange-Id: I2a6a9f243cb403167620405e167a8dd2bbf3fa79\n'}, {'number': 3, 'created': '2024-05-27 12:28:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/74b507805489671bbb57197fb8ee30aadbc068ff', 'message': 'retry write_sys call on device busy\n\nThis change adds a retry_if_busy decorator\nto the read_sys and write_sys functions in the filesystem\nmodule that will retry reads and writes up to 5 times with\nan linear backoff.\n\nThis allows nova to tolerate short periods of time where\nsysfs retruns device busy. If the reties are exausted\nand offlineing a core fails a warning is log and the failure is\nignored. onling a core is always treated as a hard error if\nretries are exausted.\n\nCloses-Bug: #2065927\nChange-Id: I2a6a9f243cb403167620405e167a8dd2bbf3fa79\n'}, {'number': 4, 'created': '2024-05-27 17:31:54.000000000', 'files': ['nova/exception.py', 'nova/tests/unit/test_filesystem.py', 'nova/filesystem.py', 'nova/tests/functional/libvirt/test_power_manage.py', 'nova/virt/libvirt/cpu/core.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/44c1b48b3121682cf959c90b3adaf2a3f92e318c', 'message': 'retry write_sys call on device busy\n\nThis change adds a retry_if_busy decorator\nto the read_sys and write_sys functions in the filesystem\nmodule that will retry reads and writes up to 5 times with\nan linear backoff.\n\nThis allows nova to tolerate short periods of time where\nsysfs retruns device busy. If the reties are exausted\nand offlineing a core fails a warning is log and the failure is\nignored. onling a core is always treated as a hard error if\nretries are exausted.\n\nCloses-Bug: #2065927\nChange-Id: I2a6a9f243cb403167620405e167a8dd2bbf3fa79\n'}]",26,920203,44c1b48b3121682cf959c90b3adaf2a3f92e318c,48,6,4,11604,,,0,"retry write_sys call on device busy

This change adds a retry_if_busy decorator
to the read_sys and write_sys functions in the filesystem
module that will retry reads and writes up to 5 times with
an linear backoff.

This allows nova to tolerate short periods of time where
sysfs retruns device busy. If the reties are exausted
and offlineing a core fails a warning is log and the failure is
ignored. onling a core is always treated as a hard error if
retries are exausted.

Closes-Bug: #2065927
Change-Id: I2a6a9f243cb403167620405e167a8dd2bbf3fa79
",git fetch https://review.opendev.org/openstack/nova refs/changes/03/920203/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/filesystem.py'],1,447d869be49154ae4666e9bd47cc7509f845a867,bug/2065927,"import functoolsimport time# a retry decorator to handle EBUSY def retry_if_busy(func): @functools.wraps(func) def wrapper(*args, **kwargs): for i in range(5): try: return func(*args, **kwargs) except OSError as e: if e.errno == 16: LOG.debug('File is busy, retrying') time.sleep(i) continue raise return wrapper @retry_if_busy except OSError as exc: # errno 16 is EBUSY, which means the file is busy. if exc.errno == 16: LOG.debug('File %s is busy, retrying', path) raise raise exception.FileNotFound(file_path=path) from exc except ValueError as exc:"," except (OSError, ValueError) as exc:",27,1
openstack%2Fcharm-designate~917316,openstack/charm-designate,stable/2024.1,I9df55d663852a63f2bd9daa75254cccb8556e368,Stable changes for stable/2024.1 (caracal) branch,MERGED,2024-04-29 10:25:47.000000000,2024-06-13 15:56:55.000000000,2024-06-13 15:56:55.000000000,"[{'_account_id': 1131}, {'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31203}]","[{'number': 1, 'created': '2024-04-29 10:25:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/d5eb784ffe4a861db7b5f2a24c49bec98685777e', 'message': 'Stable changes for stable/2024.1 (caracal) branch\n\nThis patch converts stable/2024.1 into a stable maintenance branch. It:\n\n- modifies .gitreview to point to stable/2024.1\n- switches (test-)requirements*.txt -> (test-)requirements*.in\n  for pip-compile usage.\n- creates (test-)requirements-py*.txt from *.in using pip-compile for\n  the relevant python version.\n- Updates bundles to point to ceph/edge and 24.04/edge for ceph and\n  OVN charms.\n- Adds build.lock file to the reactive charms.\n- Syncs charm-helpers for classic charms.\n- Locks requirements.txt from requirements.in for ops machine charms.\n- Locks charms.openstack, zaza, zaza-openstack-tests, charm-helpers to\n  stable branches.\n\nChange-Id: I9df55d663852a63f2bd9daa75254cccb8556e368\n'}, {'number': 2, 'created': '2024-05-01 11:43:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/0d253361a4e942a597ddf0af39563b3d74cc4226', 'message': 'Stable changes for stable/2024.1 (caracal) branch\n\nThis patch converts stable/2024.1 into a stable maintenance branch. It:\n\n- modifies .gitreview to point to stable/2024.1\n- switches (test-)requirements*.txt -> (test-)requirements*.in\n  for pip-compile usage.\n- creates (test-)requirements-py*.txt from *.in using pip-compile for\n  the relevant python version.\n- Updates bundles to point to ceph/edge and 24.04/edge for ceph and\n  OVN charms.\n- Adds build.lock file to the reactive charms.\n- Syncs charm-helpers for classic charms.\n- Locks requirements.txt from requirements.in for ops machine charms.\n- Locks charms.openstack, zaza, zaza-openstack-tests, charm-helpers to\n  stable branches.\n\nChange-Id: I9df55d663852a63f2bd9daa75254cccb8556e368\n'}, {'number': 3, 'created': '2024-05-14 14:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/dd1d2e27f0496ec1067cd1295253d4cc7ed78c33', 'message': 'Stable changes for stable/2024.1 (caracal) branch\n\nThis patch converts stable/2024.1 into a stable maintenance branch. It:\n\n- modifies .gitreview to point to stable/2024.1\n- switches (test-)requirements*.txt -> (test-)requirements*.in\n  for pip-compile usage.\n- creates (test-)requirements-py*.txt from *.in using pip-compile for\n  the relevant python version.\n- Updates bundles to point to ceph/edge and 24.04/edge for ceph and\n  OVN charms.\n- Adds build.lock file to the reactive charms.\n- Syncs charm-helpers for classic charms.\n- Locks requirements.txt from requirements.in for ops machine charms.\n- Locks charms.openstack, zaza, zaza-openstack-tests, charm-helpers to\n  stable branches.\n\nChange-Id: I9df55d663852a63f2bd9daa75254cccb8556e368\n'}, {'number': 4, 'created': '2024-05-30 17:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/a2ab23619c60646e29b16674446e6abc07f808a0', 'message': 'Stable changes for stable/2024.1 (caracal) branch\n\nThis patch converts stable/2024.1 into a stable maintenance branch. It:\n\n- modifies .gitreview to point to stable/2024.1\n- switches (test-)requirements*.txt -> (test-)requirements*.in\n  for pip-compile usage.\n- creates (test-)requirements-py*.txt from *.in using pip-compile for\n  the relevant python version.\n- Updates bundles to point to ceph/edge and 24.04/edge for ceph and\n  OVN charms.\n- Adds build.lock file to the reactive charms.\n- Syncs charm-helpers for classic charms.\n- Locks requirements.txt from requirements.in for ops machine charms.\n- Locks charms.openstack, zaza, zaza-openstack-tests, charm-helpers to\n  stable branches.\n\nChange-Id: I9df55d663852a63f2bd9daa75254cccb8556e368\n'}, {'number': 5, 'created': '2024-06-10 14:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/5e960fcb1c8df1c31c95b9fc0269ef1105aeaa64', 'message': 'Stable changes for stable/2024.1 (caracal) branch\n\nThis patch converts stable/2024.1 into a stable maintenance branch. It:\n\n- modifies .gitreview to point to stable/2024.1\n- switches (test-)requirements*.txt -> (test-)requirements*.in\n  for pip-compile usage.\n- creates (test-)requirements-py*.txt from *.in using pip-compile for\n  the relevant python version.\n- Updates bundles to point to ceph/edge and 24.04/edge for ceph and\n  OVN charms.\n- Adds build.lock file to the reactive charms.\n- Syncs charm-helpers for classic charms.\n- Locks requirements.txt from requirements.in for ops machine charms.\n- Locks charms.openstack, zaza, zaza-openstack-tests, charm-helpers to\n  stable branches.\n\nChange-Id: I9df55d663852a63f2bd9daa75254cccb8556e368\n'}, {'number': 6, 'created': '2024-06-10 16:23:02.000000000', 'files': ['requirements.in', '.gitreview', 'src/tox.ini', 'test-requirements-py310.txt', 'merged-requirements-py38.txt', 'merged-requirements-py311.txt', 'test-requirements-py38.txt', 'src/wheelhouse.txt', 'charmcraft.yaml', 'merged-requirements-py310.txt', 'test-requirements.in', 'src/test-requirements.in', 'src/build.lock', 'src/test-requirements-py38.txt', 'tox.ini', 'test-requirements-py311.txt'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/93b78cda122d10efcc4124fda4d9ffbeb3c5037e', 'message': 'Stable changes for stable/2024.1 (caracal) branch\n\nThis patch converts stable/2024.1 into a stable maintenance branch. It:\n\n- modifies .gitreview to point to stable/2024.1\n- switches (test-)requirements*.txt -> (test-)requirements*.in\n  for pip-compile usage.\n- creates (test-)requirements-py*.txt from *.in using pip-compile for\n  the relevant python version.\n- Updates bundles to point to ceph/edge and 24.04/edge for ceph and\n  OVN charms.\n- Adds build.lock file to the reactive charms.\n- Syncs charm-helpers for classic charms.\n- Locks requirements.txt from requirements.in for ops machine charms.\n- Locks charms.openstack, zaza, zaza-openstack-tests, charm-helpers to\n  stable branches.\n\nChange-Id: I9df55d663852a63f2bd9daa75254cccb8556e368\n'}]",5,917316,93b78cda122d10efcc4124fda4d9ffbeb3c5037e,29,5,6,20870,,,0,"Stable changes for stable/2024.1 (caracal) branch

This patch converts stable/2024.1 into a stable maintenance branch. It:

- modifies .gitreview to point to stable/2024.1
- switches (test-)requirements*.txt -> (test-)requirements*.in
  for pip-compile usage.
- creates (test-)requirements-py*.txt from *.in using pip-compile for
  the relevant python version.
- Updates bundles to point to ceph/edge and 24.04/edge for ceph and
  OVN charms.
- Adds build.lock file to the reactive charms.
- Syncs charm-helpers for classic charms.
- Locks requirements.txt from requirements.in for ops machine charms.
- Locks charms.openstack, zaza, zaza-openstack-tests, charm-helpers to
  stable branches.

Change-Id: I9df55d663852a63f2bd9daa75254cccb8556e368
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/16/917316/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.in', '.gitreview', 'src/tox.ini', 'test-requirements-py310.txt', 'merged-requirements-py38.txt', 'test-requirements-py38.txt', 'src/wheelhouse.txt', 'merged-requirements-py310.txt', 'test-requirements.in', 'src/test-requirements.in', 'src/build.lock', 'src/test-requirements-py38.txt', 'tox.ini']",13,d5eb784ffe4a861db7b5f2a24c49bec98685777e,stable-2024.1, -r{toxinidir}/merged-requirements-py38.txtdeps =# directly run `charmcraft -v pack -r{toxinidir}/test-requirements-py310.txt commands = stestr run --slowest {posargs} [testenv:py38] basepython = python3.8 deps = -c {env:TEST_CONSTRAINTS_FILE:https://raw.githubusercontent.com/openstack-charmers/zaza-openstack-tests/master/constraints/constraints-2024.1.txt} -r{toxinidir}/test-requirements-py38.txt -r{toxinidir}/test-requirements-py310.txt -r{toxinidir}/merged-requirements-py310.txt, -r{toxinidir}/requirements.txt# directly run `charmcraft -v pack && ./rename.sh`.[testenv:build-reactive] basepython = python3 commands = charm-build --log-level DEBUG --use-lock-file-branches --binary-wheels-from-source -o {toxinidir}/build/builds src {posargs} [testenv:add-build-lock-file] basepython = python3 commands = charm-build --log-level DEBUG --write-lock-file -o {toxinidir}/build/builds src {posargs} -r{toxinidir}/test-requirements.txt -r{toxinidir}/test-requirements.txt git+https://github.com/juju/charm-tools.git -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt,1645,28
openstack%2Fpython-openstackclient~917137,openstack/python-openstackclient,master,I0a7880d72248e94690a973d3a1fd33c176ed658e,tox: Add testenv descriptions,MERGED,2024-04-26 12:17:53.000000000,2024-06-13 15:42:37.000000000,2024-06-13 15:41:15.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2024-04-26 12:17:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a32b8899df85f11296d56a6bb11e85978774f619', 'message': 'tox: Add testenv descriptions\n\nChange-Id: I0a7880d72248e94690a973d3a1fd33c176ed658e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2024-06-12 14:40:50.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/887f1e9385a03c98db17ac2941c67a6fa0fd3612', 'message': 'tox: Add testenv descriptions\n\nChange-Id: I0a7880d72248e94690a973d3a1fd33c176ed658e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",3,917137,887f1e9385a03c98db17ac2941c67a6fa0fd3612,18,3,2,15334,,,0,"tox: Add testenv descriptions

Change-Id: I0a7880d72248e94690a973d3a1fd33c176ed658e
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/37/917137/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a32b8899df85f11296d56a6bb11e85978774f619,pre-commit,"description = Run unit tests.description = Run style checks.description = Run bandit security checks.description = Run functional tests.description = Run specified command in a virtual environment with all dependencies installed.description = Run unit tests and generate coverage report. {[testenv]setenv} stestr run {posargs}description = Run specified tests through oslo_debug_helper, which allows use of pdb.description = Build documentation in HTML format.description = Build release note documentation in HTML format.", VIRTUAL_ENV={envdir} stestr -q run {posargs},20,2
openstack%2Fcharm-neutron-api~921902,openstack/charm-neutron-api,stable/ussuri,I245cfe2f8fdb4d8ca325ade0c22771efa31b4bf2,Enable more recent DNS extensions (dns-integration-domain-keywords),MERGED,2024-06-13 01:27:53.000000000,2024-06-13 15:25:08.000000000,2024-06-13 15:25:08.000000000,"[{'_account_id': 1131}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-13 01:27:53.000000000', 'files': ['hooks/neutron_api_context.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/45b9868ad4973c41098d01881b404b3826d22ecb', 'message': 'Enable more recent DNS extensions (dns-integration-domain-keywords)\n\nSince yoga, there have been two ""additions"" to the DNS extensions, which\nsimply build on top of the older ones. By changing the DNS extension to\nbe the latest (dns-integration-domain-keywords), all 4 extensions will\nbe activated:\n\n- dns-integration (already included)\n- dns-domain-ports (the previous default extension)\n- subnet-dns-publish-fixed-ip\n- dns-integration-domain-keywords\n\nThese extensions are required to enable replacement of keywords in DNS\nentries and allow publishing fixed IPs without restrictions [1].\n\nI have tested this on a local cluster and confirmed that the extensions\nare enabled, and allow me to make use of the two new features.\n\n[1] https://docs.openstack.org/designate/latest/user/neutron-integration.html\n\nCloses-Bug: #2028163\nChange-Id: I245cfe2f8fdb4d8ca325ade0c22771efa31b4bf2\n(cherry picked from commit 3432ae7f02deb274aa222443faf83ce662bbaefc)\n(cherry picked from commit 4bb231680306ca11be002a66201e2180d6e56609)\n(cherry picked from commit c03ec8f984db7e1f709d15f346d4b4d6e4de2593)\n'}]",1,921902,45b9868ad4973c41098d01881b404b3826d22ecb,8,4,1,5112,,,0,"Enable more recent DNS extensions (dns-integration-domain-keywords)

Since yoga, there have been two ""additions"" to the DNS extensions, which
simply build on top of the older ones. By changing the DNS extension to
be the latest (dns-integration-domain-keywords), all 4 extensions will
be activated:

- dns-integration (already included)
- dns-domain-ports (the previous default extension)
- subnet-dns-publish-fixed-ip
- dns-integration-domain-keywords

These extensions are required to enable replacement of keywords in DNS
entries and allow publishing fixed IPs without restrictions [1].

I have tested this on a local cluster and confirmed that the extensions
are enabled, and allow me to make use of the two new features.

[1] https://docs.openstack.org/designate/latest/user/neutron-integration.html

Closes-Bug: #2028163
Change-Id: I245cfe2f8fdb4d8ca325ade0c22771efa31b4bf2
(cherry picked from commit 3432ae7f02deb274aa222443faf83ce662bbaefc)
(cherry picked from commit 4bb231680306ca11be002a66201e2180d6e56609)
(cherry picked from commit c03ec8f984db7e1f709d15f346d4b4d6e4de2593)
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/02/921902/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/neutron_api_context.py'],1,45b9868ad4973c41098d01881b404b3826d22ecb,dns-extensions-backport-2023.2-stable/2023.1-stable/zed-stable/yoga-stable/ussuri,EXTENSION_DRIVER_DNS_DOMAIN_KEYWORDS = 'dns_domain_keywords' elif cmp_release < 'yoga': else: extension_drivers.append(EXTENSION_DRIVER_DNS_DOMAIN_KEYWORDS), else:,4,1
openstack%2Fpuppet-swift~921932,openstack/puppet-swift,master,If62756770b1a3cdb4215b59aee5f368f54986706,Support for barbican_endpoint in kms_keymaster,NEW,2024-06-13 09:59:39.000000000,2024-06-13 15:22:00.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-13 09:59:39.000000000', 'files': ['spec/classes/swift_keymaster_spec.rb', 'manifests/keymaster.pp'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/ee41198c879bdd76a3b48a7f9ade6ba45b495371', 'message': 'Support for barbican_endpoint in kms_keymaster\n\nThis patch adds support for specifying barbican_endpoint, which is\nmandatory if doing a multi-region deployment with kms_keymaster.\nIndeed, without it, Castellan may use the wrong endpoint of the\nwrong cluster.\n\nDepends-On: Ib7f4219ef5fdef65e9cfd5701e28b5288741783e\nChange-Id: If62756770b1a3cdb4215b59aee5f368f54986706\n'}]",2,921932,ee41198c879bdd76a3b48a7f9ade6ba45b495371,5,2,1,6476,,,0,"Support for barbican_endpoint in kms_keymaster

This patch adds support for specifying barbican_endpoint, which is
mandatory if doing a multi-region deployment with kms_keymaster.
Indeed, without it, Castellan may use the wrong endpoint of the
wrong cluster.

Depends-On: Ib7f4219ef5fdef65e9cfd5701e28b5288741783e
Change-Id: If62756770b1a3cdb4215b59aee5f368f54986706
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/32/921932/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/swift_keymaster_spec.rb', 'manifests/keymaster.pp']",2,ee41198c879bdd76a3b48a7f9ade6ba45b495371,support-barbican-endpoint-in-keymaster,"# [*barbican_endpoint*] # (Optional) String. Endpoint of the barbican service. This is useful in # a multi-region cluster, where Castellan otherwise doesn't know in what # region is the key. If there is only a single region in the deployment, # leave this to default. # Default to undef. # $barbican_endpoint = undef, if $barbican_endpoint { swift_keymaster_config { 'kms_keymaster/barbican_endpoint': value => $barbican_endpoint; } } else { swift_keymaster_config { 'kms_keymaster/barbican_endpoint': ensure => absent; } }",,30,0
openstack%2Fdiskimage-builder~921823,openstack/diskimage-builder,master,Iba7a52a7882de4293f87b98a61bda04faf07cbe8,Disabling CentOS Stream 8 and Fedora 37 jobs,NEW,2024-06-12 07:13:30.000000000,2024-06-13 15:04:20.000000000,,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-12 07:13:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3e7672ed51cb096fd1a27b761624315f0825fda2', 'message': 'Disabling CentOS Stream 8 jobs\n\nCentOS Stream 8 is EOL, mirrors are not working anymore.\nMoving the CS8 jobs to non-voting for the time being.\n\nChange-Id: Iba7a52a7882de4293f87b98a61bda04faf07cbe8\n'}, {'number': 2, 'created': '2024-06-12 07:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/c112ed588074c5c551d0451bdddebaee8249e256', 'message': 'Disabling CentOS Stream 8 jobs\n\nCentOS Stream 8 is EOL, mirrors are not working anymore.\nMoving the CS8 jobs to non-voting for the time being.\nAlso removing CS8 jobs from dib-functests.\n\nChange-Id: Iba7a52a7882de4293f87b98a61bda04faf07cbe8\n'}, {'number': 3, 'created': '2024-06-13 06:42:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/590169fabb9e0cbaef88e2fe9c5e05de3751b6f2', 'message': 'Disabling CentOS Stream 8 jobs\n\nCentOS Stream 8 is EOL, mirrors are not working anymore.\nMoving the CS8 jobs to non-voting for the time being.\nAlso removing CS8 jobs from dib-functests.\n\nSee-Also: https://review.opendev.org/c/openstack/project-config/+/921799\nDepends-On: https://review.opendev.org/c/opendev/glean/+/921911\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/921912\nChange-Id: Iba7a52a7882de4293f87b98a61bda04faf07cbe8\n'}, {'number': 4, 'created': '2024-06-13 13:50:55.000000000', 'files': ['.zuul.d/project.yaml', '.zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/2d2ff4d7d56b678365d2c0be40807fc727be0925', 'message': 'Disabling CentOS Stream 8 and Fedora 37 jobs\n\nCentOS Stream 8 and Fedora 37 are EOL and their jobs are just\nfailing.\nMoving the CS8 and F37 jobs to non-voting for the time being.\nAlso removing CS8 and Fedora jobs from dib-functests.\n\nChange-Id: Iba7a52a7882de4293f87b98a61bda04faf07cbe8\n'}]",4,921823,2d2ff4d7d56b678365d2c0be40807fc727be0925,19,2,4,23851,,,0,"Disabling CentOS Stream 8 and Fedora 37 jobs

CentOS Stream 8 and Fedora 37 are EOL and their jobs are just
failing.
Moving the CS8 and F37 jobs to non-voting for the time being.
Also removing CS8 and Fedora jobs from dib-functests.

Change-Id: Iba7a52a7882de4293f87b98a61bda04faf07cbe8
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/23/921823/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,3e7672ed51cb096fd1a27b761624315f0825fda2,cs8-eol," # NOTE(rpittau) CS8 is EOL, moving to non-voting for the time being - dib-nodepool-functional-openstack-centos-8-stream-src: voting: false # NOTE(rpittau) CS8 is EOL, moving to non-voting for the time being #- dib-nodepool-functional-openstack-centos-8-stream-src", - dib-nodepool-functional-openstack-centos-8-stream-src - dib-nodepool-functional-openstack-centos-8-stream-src,5,2
openstack%2Fpython-openstackclient~916906,openstack/python-openstackclient,master,Ic934e3b5aa6b35e6ee8caac42222b44624a34348,Return nothing from volume backup restore,NEW,2024-04-24 13:30:04.000000000,2024-06-13 14:59:07.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-24 13:30:04.000000000', 'files': ['openstackclient/tests/unit/volume/v2/test_volume_backup.py', 'openstackclient/volume/v2/volume_backup.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/85e53c49b11d572d1175863a2a4322cdf4be82eb', 'message': ""Return nothing from volume backup restore\n\ncurrent code just fails, and apparently there's not so much\nuseful info to atually return w/o making additinal API calls.\nSo we at least exit with 0 now.\n\nChange-Id: Ic934e3b5aa6b35e6ee8caac42222b44624a34348\nCloses-Bug: #2063335\n""}]",1,916906,85e53c49b11d572d1175863a2a4322cdf4be82eb,5,2,1,9542,,,0,"Return nothing from volume backup restore

current code just fails, and apparently there's not so much
useful info to atually return w/o making additinal API calls.
So we at least exit with 0 now.

Change-Id: Ic934e3b5aa6b35e6ee8caac42222b44624a34348
Closes-Bug: #2063335
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/06/916906/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/volume/v2/test_volume_backup.py', 'openstackclient/volume/v2/volume_backup.py']",2,85e53c49b11d572d1175863a2a4322cdf4be82eb,bug/2063335, volume_client.restore_backup(, return volume_client.restore_backup(,2,2
openstack%2Fdevstack~920656,openstack/devstack,master,I882081040215d8e32932ec5d03be34e467e4fbc2,openrc: Stop setting OS_TENANT_NAME,NEW,2024-05-28 12:36:44.000000000,2024-06-13 14:49:54.000000000,,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-28 12:36:44.000000000', 'files': ['openrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/608489cd59b0d0f6f82937abb6a317489ac4d7a4', 'message': ""openrc: Stop setting OS_TENANT_NAME\n\nAll clients - OSC included - use keystoneauth under the hood which\nhasn't required this in a very long time. Stop setting it and remove the\nwarning.\n\nWe also remove references to 'NOVA_*' variables that haven't been a\nthing since well before *I* started working on OpenStack 😅\n\nChange-Id: I882081040215d8e32932ec5d03be34e467e4fbc2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",3,920656,608489cd59b0d0f6f82937abb6a317489ac4d7a4,8,2,1,15334,,,0,"openrc: Stop setting OS_TENANT_NAME

All clients - OSC included - use keystoneauth under the hood which
hasn't required this in a very long time. Stop setting it and remove the
warning.

We also remove references to 'NOVA_*' variables that haven't been a
thing since well before *I* started working on OpenStack 😅

Change-Id: I882081040215d8e32932ec5d03be34e467e4fbc2
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/devstack refs/changes/56/920656/1 && git format-patch -1 --stdout FETCH_HEAD,['openrc'],1,608489cd59b0d0f6f82937abb6a317489ac4d7a4,trivial,# entity that owns resources.,"# NOTE: support for the old NOVA_* novaclient environment variables has # been removed. # entity that owns resources. In some places **tenant** remains # referenced, but in all cases this just means **project**. We will # warn if we need to turn on legacy **tenant** support to have a # working environment.echo ""WARNING: setting legacy OS_TENANT_NAME to support cli tools."" export OS_TENANT_NAME=$OS_PROJECT_NAME # Recent versions of novaclient use OS_PASSWORD instead of NOVA_API_KEYs # or NOVA_PASSWORD.",1,12
openstack%2Fdevstack~902905,openstack/devstack,master,I494dae51c65318299d4fe2ff5887c97ac2be3224,lib/cinder: Migrate cinder to WSGI module path,NEW,2023-12-07 10:48:53.000000000,2024-06-13 14:49:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-12-07 10:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/3f1e262f68fde16d0aa2e6323ad043f4533f3b55', 'message': 'lib/cinder: Migrate cinder to WSGI module path\n\nChange-Id: I494dae51c65318299d4fe2ff5887c97ac2be3224\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nDepends-on: https://review.opendev.org/c/openstack/cinder/+/902876\n'}, {'number': 2, 'created': '2024-04-19 11:35:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/35b135945ece59de7acb50ce1ba09e8de9c24654', 'message': 'lib/cinder: Migrate cinder to WSGI module path\n\nChange-Id: I494dae51c65318299d4fe2ff5887c97ac2be3224\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nDepends-on: https://review.opendev.org/c/openstack/cinder/+/902876\n'}, {'number': 3, 'created': '2024-05-14 13:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/3186556f201c701ca0f940405b0f0fe38116c7db', 'message': 'lib/cinder: Migrate cinder to WSGI module path\n\nChange-Id: I494dae51c65318299d4fe2ff5887c97ac2be3224\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nDepends-on: https://review.opendev.org/c/openstack/cinder/+/902876\n'}, {'number': 4, 'created': '2024-05-14 14:18:57.000000000', 'files': ['lib/cinder'], 'web_link': 'https://opendev.org/openstack/devstack/commit/7ea34beac00f433245294c0391c41d022daf3ce7', 'message': 'lib/cinder: Migrate cinder to WSGI module path\n\nChange-Id: I494dae51c65318299d4fe2ff5887c97ac2be3224\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nDepends-on: https://review.opendev.org/c/openstack/cinder/+/902876\n'}]",2,902905,7ea34beac00f433245294c0391c41d022daf3ce7,12,1,4,15334,,,0,"lib/cinder: Migrate cinder to WSGI module path

Change-Id: I494dae51c65318299d4fe2ff5887c97ac2be3224
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Depends-on: https://review.opendev.org/c/openstack/cinder/+/902876
",git fetch https://review.opendev.org/openstack/devstack refs/changes/05/902905/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/cinder'],1,3f1e262f68fde16d0aa2e6323ad043f4533f3b55,remove-wsgi_scripts,"CINDER_UWSGI=cinder.wsgi.api:application write_uwsgi_config ""$CINDER_UWSGI_CONF"" ""$CINDER_UWSGI"" ""/volume"" """" ""cinder-api""","CINDER_UWSGI=$CINDER_BIN_DIR/cinder-wsgi write_uwsgi_config ""$CINDER_UWSGI_CONF"" ""$CINDER_UWSGI"" ""/volume""",2,2
openstack%2Fdevstack~921880,openstack/devstack,master,Iafc20957b0da48d20f4a6f411ac0d99387daa8be,"Revert ""nova: Enable apic removal workaround for bug #1939108 when using QEMU""",NEW,2024-06-12 17:26:21.000000000,2024-06-13 14:47:27.000000000,,"[{'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-12 17:26:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/3fbb17cc1c0d761a7e8dba602f84e40f5ce91c55', 'message': 'Revert ""nova: Enable apic removal workaround for bug #1939108 when using QEMU""\n\nThis reverts commit 1e86a25cc28e34d7f73a4c6ccbbc3fc667598d50.\n\nReason for revert: all jobs shoudl be using cirros 0.5.3 or later now so we should be able to revert this as the old buggy kernel should no longer be in use in ci.\n\nChange-Id: Iafc20957b0da48d20f4a6f411ac0d99387daa8be\n'}, {'number': 2, 'created': '2024-06-12 17:30:03.000000000', 'files': ['lib/nova'], 'web_link': 'https://opendev.org/openstack/devstack/commit/2e3fe61e88ad63682c94689ae994a9fa75954d19', 'message': 'Revert ""nova: Enable apic removal workaround for bug #1939108 when using QEMU""\n\nThis reverts commit 1e86a25cc28e34d7f73a4c6ccbbc3fc667598d50.\n\nReason for revert: all jobs should be using cirros 0.5.3 or later\nnow so we should be able to revert this as the old buggy kernel\nshould no longer be in use in ci.\n\nRelated-Bug: #1939108\nChange-Id: Iafc20957b0da48d20f4a6f411ac0d99387daa8be\n'}]",1,921880,2e3fe61e88ad63682c94689ae994a9fa75954d19,8,3,2,11604,,,0,"Revert ""nova: Enable apic removal workaround for bug #1939108 when using QEMU""

This reverts commit 1e86a25cc28e34d7f73a4c6ccbbc3fc667598d50.

Reason for revert: all jobs should be using cirros 0.5.3 or later
now so we should be able to revert this as the old buggy kernel
should no longer be in use in ci.

Related-Bug: #1939108
Change-Id: Iafc20957b0da48d20f4a6f411ac0d99387daa8be
",git fetch https://review.opendev.org/openstack/devstack refs/changes/80/921880/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova'],1,3fbb17cc1c0d761a7e8dba602f84e40f5ce91c55,workaround-disable-apic,," # Workaround bug #1939108 if [[ ""$VIRT_DRIVER"" == ""libvirt"" && ""$LIBVIRT_TYPE"" == ""qemu"" ]]; then iniset $NOVA_CPU_CONF workarounds libvirt_disable_apic True fi ",0,5
openstack%2Fdevstack~916412,openstack/devstack,master,Ie99ec3bf4198fa7cd7583d2dca648e1474f94aea,lib/neutron: Migrate neutron to WSGI module path,NEW,2024-04-19 11:35:54.000000000,2024-06-13 14:43:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-04-19 11:35:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/49bb6e5a040e9a04b8929e6539d99f819d3d9e0c', 'message': 'lib/neutron: Migrate neutron to WSGI module path\n\nChange-Id: Ie99ec3bf4198fa7cd7583d2dca648e1474f94aea\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nDepends-on: https://review.opendev.org/c/openstack/neutron/+/916407\n'}, {'number': 2, 'created': '2024-05-14 13:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5a44a3902dd6527b12d20b7ca68a415f1048111b', 'message': 'lib/neutron: Migrate neutron to WSGI module path\n\nChange-Id: Ie99ec3bf4198fa7cd7583d2dca648e1474f94aea\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nDepends-on: https://review.opendev.org/c/openstack/neutron/+/916407\n'}, {'number': 3, 'created': '2024-05-14 14:18:57.000000000', 'files': ['lib/neutron'], 'web_link': 'https://opendev.org/openstack/devstack/commit/03f101bef360030e275bf4ce396530bc47e54a57', 'message': 'lib/neutron: Migrate neutron to WSGI module path\n\nChange-Id: Ie99ec3bf4198fa7cd7583d2dca648e1474f94aea\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nDepends-on: https://review.opendev.org/c/openstack/neutron/+/916407\n'}]",2,916412,03f101bef360030e275bf4ce396530bc47e54a57,10,1,3,15334,,,0,"lib/neutron: Migrate neutron to WSGI module path

Change-Id: Ie99ec3bf4198fa7cd7583d2dca648e1474f94aea
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Depends-on: https://review.opendev.org/c/openstack/neutron/+/916407
",git fetch https://review.opendev.org/openstack/devstack refs/changes/12/916412/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/neutron'],1,49bb6e5a040e9a04b8929e6539d99f819d3d9e0c,remove-wsgi_scripts,"NEUTRON_UWSGI=neutron.wsgi.api:application write_uwsgi_config ""$NEUTRON_UWSGI_CONF"" ""$NEUTRON_UWSGI"" ""/networking"" """" ""neutron-api"""," write_uwsgi_config ""$NEUTRON_UWSGI_CONF"" ""$NEUTRON_BIN_DIR/neutron-api"" ""/networking""",2,1
openstack%2Fkolla-ansible~904959,openstack/kolla-ansible,master,Iec0cafaa44e327949a6ccc2488c88da55a052c7f,[WIP] Enable ML2/OVN and distributed FIP by default,NEW,2024-01-08 10:16:31.000000000,2024-06-13 14:38:38.000000000,,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 32553}]","[{'number': 1, 'created': '2024-01-08 10:16:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/77bb072a6a45177a3496f7de103eadecfd67dec7', 'message': 'Enable ML2/OVN and distributed FIP by default\n\nChange-Id: Iec0cafaa44e327949a6ccc2488c88da55a052c7f\n'}, {'number': 2, 'created': '2024-01-11 08:04:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4b01807bc202b145af74f301125294b04893a358', 'message': 'Enable ML2/OVN and distributed FIP by default\n\nChange-Id: Iec0cafaa44e327949a6ccc2488c88da55a052c7f\n'}, {'number': 3, 'created': '2024-01-15 08:46:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6de0dbdd2c0b815747311feb4e868c4d4164237d', 'message': 'Enable ML2/OVN and distributed FIP by default\n\nChange-Id: Iec0cafaa44e327949a6ccc2488c88da55a052c7f\n'}, {'number': 4, 'created': '2024-01-15 09:41:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2d52e0d204fac95fc49dfeb3386df59377199c24', 'message': 'Enable ML2/OVN and distributed FIP by default\n\nChange-Id: Iec0cafaa44e327949a6ccc2488c88da55a052c7f\n'}, {'number': 5, 'created': '2024-01-17 08:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c2751966287724afd006d677cc529cee8bc63519', 'message': '[WIP] Enable ML2/OVN and distributed FIP by default\n\nChange-Id: Iec0cafaa44e327949a6ccc2488c88da55a052c7f\n'}, {'number': 6, 'created': '2024-01-18 12:41:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/207cd2b55cba7b26a4dadcd50a7b600bc2dbd429', 'message': 'Enable ML2/OVN and distributed FIP by default\n\nChange-Id: Iec0cafaa44e327949a6ccc2488c88da55a052c7f\n'}, {'number': 7, 'created': '2024-01-22 11:11:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7a2aec08c5a8968829b5ed1c3f8a18f3e41d1a05', 'message': '[WIP] Enable ML2/OVN and distributed FIP by default\n\nChange-Id: Iec0cafaa44e327949a6ccc2488c88da55a052c7f\n'}, {'number': 8, 'created': '2024-01-22 11:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/be1448d346181afccb128aa034d6472ab1b57cba', 'message': '[WIP] Enable ML2/OVN and distributed FIP by default\n\nChange-Id: Iec0cafaa44e327949a6ccc2488c88da55a052c7f\n'}, {'number': 9, 'created': '2024-01-22 12:49:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/621ad2ec63c7f1a4de4d80bf08ab2864dcf0a6e7', 'message': '[WIP] Enable ML2/OVN and distributed FIP by default\n\nChange-Id: Iec0cafaa44e327949a6ccc2488c88da55a052c7f\n'}, {'number': 10, 'created': '2024-01-22 14:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f2b7b2a3c7bafefcebcb7ab7c338dbc5b4cdcabb', 'message': '[WIP] Enable ML2/OVN and distributed FIP by default\n\nChange-Id: Iec0cafaa44e327949a6ccc2488c88da55a052c7f\n'}, {'number': 11, 'created': '2024-01-24 07:45:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7d7cca3d219ef616aa0600cf6c634aaba3681f49', 'message': '[WIP] Enable ML2/OVN and distributed FIP by default\n\nChange-Id: Iec0cafaa44e327949a6ccc2488c88da55a052c7f\n'}, {'number': 12, 'created': '2024-01-24 09:32:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/14dcfcd5bb50a7f20e6b30d8eba70b855b029292', 'message': '[WIP] Enable ML2/OVN and distributed FIP by default\n\nChange-Id: Iec0cafaa44e327949a6ccc2488c88da55a052c7f\n'}, {'number': 13, 'created': '2024-01-31 08:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4342d5b9dbed4ab33294cad35cfd697e26f778f9', 'message': '[WIP] Enable ML2/OVN and distributed FIP by default\n\nChange-Id: Iec0cafaa44e327949a6ccc2488c88da55a052c7f\n'}, {'number': 14, 'created': '2024-06-13 07:58:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8975cc9f0713f5c50845e9cfa34f15eafb20064f', 'message': '[WIP] Enable ML2/OVN and distributed FIP by default\n\nChange-Id: Iec0cafaa44e327949a6ccc2488c88da55a052c7f\n'}, {'number': 15, 'created': '2024-06-13 09:08:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/743c5f7080cb096ffa5638860833f9d2d0473f80', 'message': '[WIP] Enable ML2/OVN and distributed FIP by default\n\nChange-Id: Iec0cafaa44e327949a6ccc2488c88da55a052c7f\n'}, {'number': 16, 'created': '2024-06-13 11:28:45.000000000', 'files': ['ansible/group_vars/all.yml', 'tests/setup_gate.sh', 'releasenotes/notes/enable_ml2ovn-7a1cb6d8a53f12ef.yaml', 'zuul.d/project.yaml', 'tests/test-core-openstack.sh', 'tests/upgrade.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2e386c0c0a976ba0c8d605d8259a42db6a46a875', 'message': '[WIP] Enable ML2/OVN and distributed FIP by default\n\nChange-Id: Iec0cafaa44e327949a6ccc2488c88da55a052c7f\n'}]",21,904959,2e386c0c0a976ba0c8d605d8259a42db6a46a875,69,3,16,34940,,,0,"[WIP] Enable ML2/OVN and distributed FIP by default

Change-Id: Iec0cafaa44e327949a6ccc2488c88da55a052c7f
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/59/904959/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'releasenotes/notes/enable_ml2ovn-7a1cb6d8a53f12ef.yaml']",2,77bb072a6a45177a3496f7de103eadecfd67dec7,ovn_on,"--- upgrade: - | Enabled ML2/OVN by default as checks preventing accidental migration from ML2/OVS are already present. If you are using a Neutron plugin other than ML2/OVN, set `neutron_enable_ovn_agent` to `no`. OVN distributed FIP is also enabled, to disable it set `neutron_ovn_distributed_fip` to `no` in `ansible/group_vars/all.yml`. ",,11,3
openstack%2Fkayobe~921922,openstack/kayobe,master,Iba042452392157f83cd19f8bffb2a5dfdf40f9f4,"Revert ""[release] Use OpenStack 2024.1 release""",NEW,2024-06-13 08:43:49.000000000,2024-06-13 14:38:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-13 08:43:49.000000000', 'files': ['ansible/inventory/group_vars/all/openstack', 'requirements.yml', 'etc/kayobe/openstack.yml', 'tox.ini', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/263cdcc0b900d040c1110305d63cd68dcb977fb9', 'message': 'Revert ""[release] Use OpenStack 2024.1 release""\n\nThis reverts commit b4448d6b156cd53688286c229a834be5107894f8.\n\nReason for revert: 2024.1 has been branched and released\n\nChange-Id: Iba042452392157f83cd19f8bffb2a5dfdf40f9f4\n'}]",1,921922,263cdcc0b900d040c1110305d63cd68dcb977fb9,4,1,1,15197,,,0,"Revert ""[release] Use OpenStack 2024.1 release""

This reverts commit b4448d6b156cd53688286c229a834be5107894f8.

Reason for revert: 2024.1 has been branched and released

Change-Id: Iba042452392157f83cd19f8bffb2a5dfdf40f9f4
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/22/921922/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/inventory/group_vars/all/openstack', 'requirements.yml', 'etc/kayobe/openstack.yml', 'tox.ini', 'zuul.d/jobs.yaml']",5,263cdcc0b900d040c1110305d63cd68dcb977fb9,,, # TODO(priteau): Remove when kayobe stable/2024.1 exists. override-checkout: stable/2024.1 # TODO(priteau): Remove when kayobe stable/2024.1 exists. override-checkout: stable/2024.1 # TODO(priteau): Remove when kayobe stable/2024.1 exists. override-checkout: stable/2024.1 # TODO(priteau): Remove when kayobe stable/2024.1 exists. override-checkout: stable/2024.1,11,19
openstack%2Fdevstack~919581,openstack/devstack,master,If9e2cc9247d707a451ef394615e547515115f9e0,lib/placement: Migrate placement to WSGI module path,NEW,2024-05-14 14:18:57.000000000,2024-06-13 14:35:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-14 14:18:57.000000000', 'files': ['lib/placement'], 'web_link': 'https://opendev.org/openstack/devstack/commit/e1a5e106f0542364ed03423fc96ef8adecfe46d2', 'message': 'lib/placement: Migrate placement to WSGI module path\n\nChange-Id: If9e2cc9247d707a451ef394615e547515115f9e0\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nDepends-on: https://review.opendev.org/c/openstack/placement/+/919569\n'}]",3,919581,e1a5e106f0542364ed03423fc96ef8adecfe46d2,8,1,1,15334,,,0,"lib/placement: Migrate placement to WSGI module path

Change-Id: If9e2cc9247d707a451ef394615e547515115f9e0
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Depends-on: https://review.opendev.org/c/openstack/placement/+/919569
",git fetch https://review.opendev.org/openstack/devstack refs/changes/81/919581/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/placement'],1,e1a5e106f0542364ed03423fc96ef8adecfe46d2,remove-wsgi_scripts,"PLACEMENT_UWSGI=placement.wsgi.api:application write_uwsgi_config ""$PLACEMENT_UWSGI_CONF"" ""$PLACEMENT_UWSGI"" ""/placement"" """" ""placement-api""","PLACEMENT_UWSGI=$PLACEMENT_BIN_DIR/placement-api write_uwsgi_config ""$PLACEMENT_UWSGI_CONF"" ""$PLACEMENT_UWSGI"" ""/placement""",2,2
openstack%2Fglance-specs~915726,openstack/glance-specs,master,I05ef9a0cf3ed663ac2ee3097259a1325d206121e,Spec for the Glance part of the Image Encryption,NEW,2024-04-12 14:44:43.000000000,2024-06-13 14:17:09.000000000,,"[{'_account_id': 4393}, {'_account_id': 5314}, {'_account_id': 19138}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 27665}]","[{'number': 1, 'created': '2024-04-12 14:44:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/fc0e4cd737cf50ffcfb4cac02e000bad544d847a', 'message': 'Spec for the Glance part of the Image Encryption\n\nThis introduces a new version of the Image Encryption Spec that\nfocuses on standardizing metadata for LUKS-encrypted images.\n\nChange-Id: I05ef9a0cf3ed663ac2ee3097259a1325d206121e\n'}, {'number': 2, 'created': '2024-04-30 08:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/b080d6628f0b1b9f9ac650cf5359a0ce9d91b469', 'message': 'Spec for the Glance part of the Image Encryption\n\nThis introduces a new version of the Image Encryption Spec that\nfocuses on standardizing metadata for LUKS-encrypted images.\n\nChange-Id: I05ef9a0cf3ed663ac2ee3097259a1325d206121e\n'}, {'number': 3, 'created': '2024-05-21 13:13:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/b3eedc420122e3d4fb24d2f0e2ffa4281fd18cb4', 'message': 'Spec for the Glance part of the Image Encryption\n\nThis introduces a new version of the Image Encryption Spec that\nfocuses on standardizing metadata for LUKS-encrypted images.\n\nChange-Id: I05ef9a0cf3ed663ac2ee3097259a1325d206121e\n'}, {'number': 4, 'created': '2024-05-28 08:38:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/18d9ae89a9cbc274ff99ea7421f6cf27d227df01', 'message': 'Spec for the Glance part of the Image Encryption\n\nThis introduces a new version of the Image Encryption Spec that\nfocuses on standardizing metadata for LUKS-encrypted images.\n\nChange-Id: I05ef9a0cf3ed663ac2ee3097259a1325d206121e\n'}, {'number': 5, 'created': '2024-05-28 12:47:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/73276bac98b419d722d6a7a008bed1f210b0b3a4', 'message': 'Spec for the Glance part of the Image Encryption\n\nThis introduces a new version of the Image Encryption Spec that\nfocuses on standardizing metadata for LUKS-encrypted images.\n\nChange-Id: I05ef9a0cf3ed663ac2ee3097259a1325d206121e\n'}, {'number': 6, 'created': '2024-06-03 09:03:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/ca223f0c702423c2d4c357ad90868b9466f9c3b7', 'message': 'Spec for the Glance part of the Image Encryption\n\nThis introduces a new version of the Image Encryption Spec that\nfocuses on standardizing metadata for LUKS-encrypted images.\n\nChange-Id: I05ef9a0cf3ed663ac2ee3097259a1325d206121e\n'}, {'number': 7, 'created': '2024-06-10 09:48:23.000000000', 'files': ['specs/2024.2/approved/glance/standardized_image_encryption.rst', 'specs/2024.2/approved/index.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/032fba75251bc704269e3ce973f217ffd8a171b9', 'message': 'Spec for the Glance part of the Image Encryption\n\nThis introduces a new version of the Image Encryption Spec that\nfocuses on standardizing metadata for LUKS-encrypted images.\n\nChange-Id: I05ef9a0cf3ed663ac2ee3097259a1325d206121e\n'}]",55,915726,032fba75251bc704269e3ce973f217ffd8a171b9,29,6,7,28271,,,0,"Spec for the Glance part of the Image Encryption

This introduces a new version of the Image Encryption Spec that
focuses on standardizing metadata for LUKS-encrypted images.

Change-Id: I05ef9a0cf3ed663ac2ee3097259a1325d206121e
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/26/915726/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/2024.2/approved/glance/standardized_image_encryption.rst', 'specs/2024.2/approved/index.rst']",2,fc0e4cd737cf50ffcfb4cac02e000bad544d847a,image-encryption,2024.2 approved specs for glance: .. toctree:: :glob: :maxdepth: 1 glance/*,TODO: fill this in once a new approved spec is added.,336,1
openstack%2Fceilometer~921955,openstack/ceilometer,master,I68d1dc96a89e57cafa9dba207d92403a1e156fe6,Ceilometer to export Prometheus metrics,NEW,2024-06-13 12:10:37.000000000,2024-06-13 14:08:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-13 12:10:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/1a7ff7337086aa68203e598289e3ee5de52e110e', 'message': 'Ceilometer to export Prometheus metrics\n\nWith this patch, ceilometer-polling is able to expose\nmetrics itself in Prometheus format so they can be\nscraped directly from a Prometheus instance.\n\nChange-Id: I68d1dc96a89e57cafa9dba207d92403a1e156fe6\n'}, {'number': 2, 'created': '2024-06-13 12:18:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/c42b7b2aecdaea7fe7af2206076663e070863e8e', 'message': 'Ceilometer to export Prometheus metrics\n\nWith this patch, ceilometer-polling is able to expose\nmetrics itself in Prometheus format so they can be\nscraped directly from a Prometheus instance.\n\nChange-Id: I68d1dc96a89e57cafa9dba207d92403a1e156fe6\n'}, {'number': 3, 'created': '2024-06-13 12:23:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/fa668e1d2b2c48d79da60f8f8f4a763f909817c0', 'message': 'Ceilometer to export Prometheus metrics\n\nWith this patch, ceilometer-polling is able to expose\nmetrics itself in Prometheus format so they can be\nscraped directly from a Prometheus instance.\n\nChange-Id: I68d1dc96a89e57cafa9dba207d92403a1e156fe6\n'}, {'number': 4, 'created': '2024-06-13 12:26:09.000000000', 'files': ['requirements.txt', 'ceilometer/polling/prom_exporter.py', 'ceilometer/polling/manager.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/4f8944de4466a067f4313294f0f575fa9c2aa996', 'message': 'Ceilometer to export Prometheus metrics\n\nWith this patch, ceilometer-polling is able to expose\nmetrics itself in Prometheus format so they can be\nscraped directly from a Prometheus instance.\n\nChange-Id: I68d1dc96a89e57cafa9dba207d92403a1e156fe6\n'}]",23,921955,4f8944de4466a067f4313294f0f575fa9c2aa996,6,1,4,32968,,,0,"Ceilometer to export Prometheus metrics

With this patch, ceilometer-polling is able to expose
metrics itself in Prometheus format so they can be
scraped directly from a Prometheus instance.

Change-Id: I68d1dc96a89e57cafa9dba207d92403a1e156fe6
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/55/921955/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'ceilometer/polling/manager.py']",2,1a7ff7337086aa68203e598289e3ee5de52e110e,prometheus,"import socketfrom oslo_utils import netutils from stevedore import namedfrom ceilometer.publisher.tcp import TCPPublisher from ceilometer import sample import prometheus_client as prom cfg.BoolOpt('enable_notifications', default=True, help='Whether the polling service should be sending ' 'notifications to RabbitMQ after polling cycles.'), cfg.BoolOpt('prometheus_exporter', default=False, help='Allow this ceilometer polling instance to expose ' 'directly the retrieved metrics in Prometheus format.'), cfg.IntOpt('prometheus_port', default=8000, help='The port the Prometheus exported metrics can be scraped ' 'from. it only has effect if prometheus_exporter is True.')CEILOMETER_REGISTRY = prom.CollectorRegistry() if self.manager.conf.polling.enable_notifications: self.manager.notifier.sample( {}, 'telemetry.polling', {'samples': samples} ) if self.manager.conf.polling.prometheus_exporter: self._collect_metrics(samples) def _collect_metrics(self, samples): for sample in samples: name = ""ceilometer_"" + sample['counter_name'].replace('.', '_') type = sample['counter_type'] value = sample['counter_volume'] labels = self._gen_labels(sample) metric = CEILOMETER_REGISTRY._names_to_collectors.get(name, None) if metric is None: if type == ""cumulative"": metric = prom.Counter(name=name, documentation="""", labelnames=labels['keys'], registry=CEILOMETER_REGISTRY) metric.labels(*labels['values']).inc(value) if type == ""gauge"" or type == ""delta"": metric = prom.Gauge(name=name, documentation="""", labelnames=labels['keys'], registry=CEILOMETER_REGISTRY) metric.labels(*labels['values']).set(value) else: if type == 'cumulative': metric.labels(*labels['values']).inc(value) elif type == 'gauge' or type == 'delta': metric.labels(*labels['values']).set(value) def _gen_labels(self, sample): labels = dict(keys = [], values = []) cNameShards = sample['counter_name'].split(""."") ctype = '' plugin = cNameShards[0] pluginVal = sample['resource_id'] if len(cNameShards) > 2: pluginVal = cNameShards[2] if len(cNameShards) > 1: ctype = cNameShards[1] else: ctype = cNameShards[0] labels['keys'].append(plugin) labels['values'].append(pluginVal) labels['keys'].append(""publisher"") labels['values'].append(""ceilometer"") labels['keys'].append(""type"") labels['values'].append(ctype) if sample.get('counter_name', '') != """": labels['keys'].append(""counter"") labels['values'].append(sample['counter_name']) if sample.get('project_id', '') != """": labels['keys'].append(""project"") labels['values'].append('project_id') if sample.get('project_name', '') != """": labels['keys'].append(""project_name"") labels['values'].append(sample['project_name']) if sample.get('user_id', '') != """": labels['keys'].append(""user"") labels['values'].append(sample['user_id']) if sample.get('user_name', '') != """": labels['keys'].append(""user_name"") labels['values'].append(sample['user_name']) if sample.get('counter_unit', '') != """": labels['keys'].append(""unit"") labels['values'].append(sample['counter_unit']) if sample.get('resource_id', '') != """": labels['keys'].append(""resource"") labels['values'].append(sample['resource_id']) if sample.get('resource_metadata', '') != """" and sample['resource_metadata'].get('host', '') != """": labels['keys'].append(""vm_instance"") labels['values'].append(sample['resource_metadata']['host']) if sample.get('resource_metadata', '') != """" and sample['resource_metadata'].get('display_name', '') != """": labels['keys'].append(""resource_name"") labels['values'].append(sample['resource_metadata']['display_name']) if sample.get('resource_metadata', '') != """" and sample['resource_metadata'].get('name', '') != """": labels['keys'].append(""resource_name"") if labels['values'][len(labels['values']) - 1] != """": labels['values'].append(labels['values'][len(labels['values']) - 1] + "":"" + sample['resource_metadata']['name']) else: labels['values'].append(sample['resource_metadata']['name']) return labels if self.conf.polling.enable_notifications: self.notifier = oslo_messaging.Notifier( messaging.get_transport(self.conf), driver=self.conf.publisher_notifier.telemetry_driver, publisher_id=""ceilometer.polling"") if self.conf.polling.prometheus_exporter: prom.start_http_server(self.conf.polling.prometheus_port, registry=CEILOMETER_REGISTRY) @staticmethod def _log_missing_pipeline(names): LOG.error(_('Could not load the following pipelines: %s'), names) LOG.info(""Create pipeline managers"") self.pipelines = [ext.obj for ext in named.NamedExtensionManager( namespace='ceilometer.notification.pipeline', names=self.conf.notification.pipelines, invoke_on_load=True, on_missing_entrypoints_callback=self._log_missing_pipeline, invoke_args=(self.conf,))] LOG.info(""Created self.pipelines: [%s]"", self.pipelines) self.endpoints = [] for pipe_mgr in self.pipelines: LOG.debug(""Loading manager endpoints for [%s]."", pipe_mgr) endpoint = pipe_mgr.get_main_endpoints() LOG.debug(""Loaded endpoints [%s] for manager [%s]."", endpoint, pipe_mgr) self.endpoints.extend(endpoint) LOG.info(""endpoints list: [%s]"", self.endpoints) "," self.manager.notifier.sample( {}, 'telemetry.polling', {'samples': samples} ) self.notifier = oslo_messaging.Notifier( messaging.get_transport(self.conf), driver=self.conf.publisher_notifier.telemetry_driver, publisher_id=""ceilometer.polling"")",147,10
openstack%2Fnova~833090,openstack/nova,master,I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3,Attach Manila shares via virtiofs (drivers and compute manager part),NEW,2022-03-10 14:00:36.000000000,2024-06-13 14:08:05.000000000,,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-10 14:00:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ba33b876698accb8451f5299fcac049d70c592db', 'message': '[WIP] Enable and use COMPUTE_STORAGE_VIRTIO_FS and COMPUTE_MEM_BACKING_FILE traits.\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/832769\nChange-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3\n'}, {'number': 2, 'created': '2022-03-11 10:02:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/159739aefbd7503e1cdc1a13f3e7572462576220', 'message': '[WIP] Enable and use COMPUTE_STORAGE_VIRTIO_FS and COMPUTE_MEM_BACKING_FILE traits.\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/832769\nChange-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3\n'}, {'number': 3, 'created': '2022-04-06 13:19:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0fec2ebd3a20d4ff5140cd5405f8669cdd28a41c', 'message': '[WIP] Attach Manila shares via virtiofs (drivers)\n\nManila is the OpenStack Shared Filesystems service.\nThis patch implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances.\n\nDriver part:\nEnable and use COMPUTE_STORAGE_VIRTIO_FS and COMPUTE_MEM_BACKING_FILE traits.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/832769\nChange-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3\n'}, {'number': 4, 'created': '2022-04-21 08:42:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/805d9ceea4d30145d6205f3f04ad6ed821004ac4', 'message': '[WIP] Attach Manila shares via virtiofs (drivers)\n\nManila is the OpenStack Shared Filesystems service.\nThis patch implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances.\n\nDriver part:\nEnable and use COMPUTE_STORAGE_VIRTIO_FS and COMPUTE_MEM_BACKING_FILE traits.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/832769\nChange-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3\n'}, {'number': 5, 'created': '2022-04-26 15:30:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3d0f3ea389c70852f00809ee15ca0804e286794d', 'message': '[WIP] Attach Manila shares via virtiofs (drivers)\n\nManila is the OpenStack Shared Filesystems service.\nThis patch implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances.\n\nDriver part:\nEnable and use COMPUTE_STORAGE_VIRTIO_FS and COMPUTE_MEM_BACKING_FILE traits.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/832769\nChange-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3\n'}, {'number': 6, 'created': '2022-06-16 13:33:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fe20b993fef5066244bf50fef63275e774d779da', 'message': '[WIP] Attach Manila shares via virtiofs (drivers)\n\nManila is the OpenStack Shared Filesystems service.\nThis patch implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances.\n\nDriver part:\nEnable and use COMPUTE_STORAGE_VIRTIO_FS and COMPUTE_MEM_BACKING_FILE traits.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/832769\nChange-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3\n'}, {'number': 7, 'created': '2022-06-16 14:53:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/69539f7f309f77f433b836e8bc0a7c432aabb8f5', 'message': '[WIP] Attach Manila shares via virtiofs (drivers)\n\nManila is the OpenStack Shared Filesystems service.\nThis patch implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances.\n\nDriver part:\nEnable and use COMPUTE_STORAGE_VIRTIO_FS and COMPUTE_MEM_BACKING_FILE traits.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/832769\nChange-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3\n'}, {'number': 8, 'created': '2022-07-20 10:07:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/76b708eeb4220dd6611a820da87f50689f2dfa54', 'message': '[WIP] Attach Manila shares via virtiofs (drivers)\n\nManila is the OpenStack Shared Filesystems service.\nThis patch implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances.\n\nDriver part:\nEnable and use COMPUTE_STORAGE_VIRTIO_FS and COMPUTE_MEM_BACKING_FILE traits.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/832769\nChange-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3\n'}, {'number': 9, 'created': '2022-07-26 13:02:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bdca44cb6923ccee5a1d1d8957cd8d7c966c88eb', 'message': '[WIP] Attach Manila shares via virtiofs (drivers)\n\nManila is the OpenStack Shared Filesystems service.\nThis patch implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances.\n\nDriver part:\nEnable and use COMPUTE_STORAGE_VIRTIO_FS and COMPUTE_MEM_BACKING_FILE traits.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/832769\nChange-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3\n'}, {'number': 10, 'created': '2022-08-04 07:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f2bc0dbbeeadcf5088f2d62452d222b073a48420', 'message': '[WIP] Attach Manila shares via virtiofs (drivers)\n\nManila is the OpenStack Shared Filesystems service.\nThis patch implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances.\n\nDriver part:\nEnable and use COMPUTE_STORAGE_VIRTIO_FS and COMPUTE_MEM_BACKING_FILE traits.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/832769\nChange-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3\n'}, {'number': 11, 'created': '2022-08-05 16:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dc374f6dc59a9ff63938c6efcdc04e7ad6107833', 'message': 'Attach Manila shares via virtiofs (drivers and compute manager part)\n\nThis patch enable and use COMPUTE_STORAGE_VIRTIO_FS and\nCOMPUTE_MEM_BACKING_FILE traits.\nIt introduces the required modification to mount/umount shares on the\ncompute node and craft the required instance xml file.\nCompute manager is also changed to pass the share_info data to the\ndriver.\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\nCloses-Bug: #1887471\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/832769\nChange-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3\n'}, {'number': 12, 'created': '2022-08-25 17:43:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c4a463e45b83228ca5c40518dab11a4a9a0cfaeb', 'message': 'Attach Manila shares via virtiofs (drivers and compute manager part)\n\nThis patch enable and use COMPUTE_STORAGE_VIRTIO_FS and\nCOMPUTE_MEM_BACKING_FILE traits.\nIt introduces the required modification to mount/umount shares on the\ncompute node and craft the required instance xml file.\nCompute manager is also changed to pass the share_info data to the\ndriver.\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/832769\nChange-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3\n'}, {'number': 13, 'created': '2022-08-26 12:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/16919d4289689dcff0c36a33aef495a45f038574', 'message': 'Attach Manila shares via virtiofs (drivers and compute manager part)\n\nThis patch enable and use COMPUTE_STORAGE_VIRTIO_FS and\nCOMPUTE_MEM_BACKING_FILE traits.\nIt introduces the required modification to mount/umount shares on the\ncompute node and craft the required instance xml file.\nCompute manager is also changed to pass the share_info data to the\ndriver.\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/832769\nChange-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3\n'}, {'number': 14, 'created': '2022-08-26 18:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0dbdebedf310509a0aaacbf0b00e2d9a4abb228d', 'message': 'Attach Manila shares via virtiofs (drivers and compute manager part)\n\nThis patch enable and use COMPUTE_STORAGE_VIRTIO_FS and\nCOMPUTE_MEM_BACKING_FILE traits.\nIt introduces the required modification to mount/umount shares on the\ncompute node and craft the required instance xml file.\nCompute manager is also changed to pass the share_info data to the\ndriver.\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/832769\nChange-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3\n'}, {'number': 15, 'created': '2022-08-29 10:38:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/01a82fe1e1ee8c118c0dc2a6f1c355fa98b50627', 'message': 'Attach Manila shares via virtiofs (drivers and compute manager part)\n\nThis patch enable and use COMPUTE_STORAGE_VIRTIO_FS and\nCOMPUTE_MEM_BACKING_FILE traits.\nIt introduces the required modification to mount/umount shares on the\ncompute node and craft the required instance xml file.\nCompute manager is also changed to pass the share_info data to the\ndriver.\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/832769\nChange-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3\n'}, {'number': 16, 'created': '2022-08-31 14:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/930406e4bfa8bbff11422a6f5227829cac53890b', 'message': 'Attach Manila shares via virtiofs (drivers and compute manager part)\n\nThis patch does multiple things:\n1) Extends the virt interface to pass share_info down to the driver an update the signatures in all in tree drivers.\n2) Extends the compute manager to pass the share_info to the driver at certain actions.\n3) Implement the share_info handling in the libvirt driver.\n3.1) Checks requirements for shares and reports the new capabilities COMPUTE_STORAGE_VIRTIO_FS and\nCOMPUTE_MEM_BACKING_FILE to signal that.\n3.2) Extends the config handling for virtio mounts.\n3.3) Implements mount / unmount.\n4) Changes the scheduler to request new capabilities.\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/832769\nChange-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3\n'}, {'number': 17, 'created': '2022-09-06 16:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/20dc4b31f5a17d75781ea80d3b8d26c2b333d363', 'message': 'Attach Manila shares via virtiofs (drivers and compute manager part)\n\nThis patch does multiple things:\n1) Extends the virt interface to pass share_info down to the driver an update the signatures in all in tree drivers.\n2) Extends the compute manager to pass the share_info to the driver at certain actions.\n3) Implement the share_info handling in the libvirt driver.\n3.1) Checks requirements for shares and reports the new capabilities COMPUTE_STORAGE_VIRTIO_FS and\nCOMPUTE_MEM_BACKING_FILE to signal that.\n3.2) Extends the config handling for virtio mounts.\n3.3) Implements mount / unmount.\n4) Changes the scheduler to request new capabilities.\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/832769\nChange-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3\n'}, {'number': 18, 'created': '2022-09-07 08:47:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9e1263e81e648aeee4e6348e99868a44e2497586', 'message': 'Attach Manila shares via virtiofs (drivers and compute manager part)\n\nThis patch does multiple things:\n1) Extends the virt interface to pass share_info down to the driver an update the signatures in all in tree drivers.\n2) Extends the compute manager to pass the share_info to the driver at certain actions.\n3) Implement the share_info handling in the libvirt driver.\n3.1) Checks requirements for shares and reports the new capabilities COMPUTE_STORAGE_VIRTIO_FS and\nCOMPUTE_MEM_BACKING_FILE to signal that.\n3.2) Extends the config handling for virtio mounts.\n3.3) Implements mount / unmount.\n4) Changes the scheduler to request new capabilities.\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/832769\nChange-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3\n'}, {'number': 19, 'created': '2022-09-08 09:21:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fbb99448883906177d68f2d0d1038edd29c6e8cb', 'message': 'Attach Manila shares via virtiofs (drivers and compute manager part)\n\nThis patch does multiple things:\n1) Extends the virt interface to pass share_info down to the driver an update the signatures in all in tree drivers.\n2) Extends the compute manager to pass the share_info to the driver at certain actions.\n3) Implement the share_info handling in the libvirt driver.\n3.1) Checks requirements for shares and reports the new capabilities COMPUTE_STORAGE_VIRTIO_FS and\nCOMPUTE_MEM_BACKING_FILE to signal that.\n3.2) Extends the config handling for virtio mounts.\n3.3) Implements mount / unmount.\n4) Changes the scheduler to request new capabilities.\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/832769\nChange-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3\n'}, {'number': 20, 'created': '2022-09-14 07:47:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7f0548fd6e5a2ed3f433ce3456ca9cd713ea7e7e', 'message': 'Attach Manila shares via virtiofs (drivers and compute manager part)\n\nThis patch does multiple things:\n1) Extends the virt interface to pass share_info down to the driver an update the signatures in all in tree drivers.\n2) Extends the compute manager to pass the share_info to the driver at certain actions.\n3) Implement the share_info handling in the libvirt driver.\n3.1) Checks requirements for shares and reports the new capabilities COMPUTE_STORAGE_VIRTIO_FS and\nCOMPUTE_MEM_BACKING_FILE to signal that.\n3.2) Extends the config handling for virtio mounts.\n3.3) Implements mount / unmount.\n4) Changes the scheduler to request new capabilities.\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/832769\nChange-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3\n'}, {'number': 21, 'created': '2022-10-04 16:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3dc9da7046ab0219c36da84f024fab4523c0329f', 'message': 'Attach Manila shares via virtiofs (drivers and compute manager part)\n\nThis patch does multiple things:\n1) Extends the virt interface to pass share_info down to the driver an update the signatures in all in tree drivers.\n2) Extends the compute manager to pass the share_info to the driver at certain actions.\n3) Implement the share_info handling in the libvirt driver.\n3.1) Checks requirements for shares and reports the new capabilities COMPUTE_STORAGE_VIRTIO_FS and\nCOMPUTE_MEM_BACKING_FILE to signal that.\n3.2) Extends the config handling for virtio mounts.\n3.3) Implements mount / unmount.\n4) Changes the scheduler to request new capabilities.\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/832769\nChange-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3\n'}, {'number': 22, 'created': '2023-01-24 17:00:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/be010108f60cd6b782e4f131a6c364de43ea8e9f', 'message': 'Attach Manila shares via virtiofs (drivers and compute manager part)\n\nThis patch does multiple things:\n1) Extends the virt interface to pass share_info down to the driver an update the signatures in all in tree drivers.\n2) Extends the compute manager to pass the share_info to the driver at certain actions.\n3) Implement the share_info handling in the libvirt driver.\n3.1) Checks requirements for shares and reports the new capabilities COMPUTE_STORAGE_VIRTIO_FS and\nCOMPUTE_MEM_BACKING_FILE to signal that.\n3.2) Extends the config handling for virtio mounts.\n3.3) Implements mount / unmount.\n4) Changes the scheduler to request new capabilities.\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/832769\nChange-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3\n'}, {'number': 23, 'created': '2023-01-25 10:56:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ce5aa46ac676b2395202583f1dcc8d6729dc4b62', 'message': 'Attach Manila shares via virtiofs (drivers and compute manager part)\n\nThis patch does multiple things:\n1) Extends the virt interface to pass share_info down to the driver an update the signatures in all in tree drivers.\n2) Extends the compute manager to pass the share_info to the driver at certain actions.\n3) Implement the share_info handling in the libvirt driver.\n3.1) Checks requirements for shares and reports the new capabilities COMPUTE_STORAGE_VIRTIO_FS and\nCOMPUTE_MEM_BACKING_FILE to signal that.\n3.2) Extends the config handling for virtio mounts.\n3.3) Implements mount / unmount.\n4) Changes the scheduler to request new capabilities.\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/832769\nChange-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3\n'}, {'number': 24, 'created': '2023-02-02 10:24:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/80aaffaa045679d51c0f0dda948d69b00e0ef652', 'message': 'Attach Manila shares via virtiofs (drivers and compute manager part)\n\nThis patch does multiple things:\n1) Extends the virt interface to pass share_info down to the driver an update the signatures in all in tree drivers.\n2) Extends the compute manager to pass the share_info to the driver at certain actions.\n3) Implement the share_info handling in the libvirt driver.\n3.1) Checks requirements for shares and reports the new capabilities COMPUTE_STORAGE_VIRTIO_FS and\nCOMPUTE_MEM_BACKING_FILE to signal that.\n3.2) Extends the config handling for virtio mounts.\n3.3) Implements mount / unmount.\n4) Changes the scheduler to request new capabilities.\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/832769\nChange-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3\n'}, {'number': 25, 'created': '2023-02-02 17:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/05c89697a31920d7241bd9e92e59d96f604d01d3', 'message': 'Attach Manila shares via virtiofs (drivers and compute manager part)\n\nThis patch does multiple things:\n1) Extends the virt interface to pass share_info down to the driver an update the signatures in all in tree drivers.\n2) Extends the compute manager to pass the share_info to the driver at certain actions.\n3) Implement the share_info handling in the libvirt driver.\n3.1) Checks requirements for shares and reports the new capabilities COMPUTE_STORAGE_VIRTIO_FS and\nCOMPUTE_MEM_BACKING_FILE to signal that.\n3.2) Extends the config handling for virtio mounts.\n3.3) Implements mount / unmount.\n4) Changes the scheduler to request new capabilities.\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/832769\nChange-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3\n'}, {'number': 26, 'created': '2023-02-08 12:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab2373a3e2d41012ac9e8596d889f0612ff960f2', 'message': 'Attach Manila shares via virtiofs (drivers and compute manager part)\n\nThis patch does multiple things:\n1) Extends the virt interface to pass share_info down to the driver an update the signatures in all in tree drivers.\n2) Extends the compute manager to pass the share_info to the driver at certain actions.\n3) Implement the share_info handling in the libvirt driver.\n3.1) Checks requirements for shares and reports the new capabilities COMPUTE_STORAGE_VIRTIO_FS and\nCOMPUTE_MEM_BACKING_FILE to signal that.\n3.2) Extends the config handling for virtio mounts.\n3.3) Implements mount / unmount.\n4) Changes the scheduler to request new capabilities.\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/832769\nChange-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3\n'}, {'number': 27, 'created': '2023-02-22 15:25:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d1515b7aaf16486b7d097836b1a6dfca21b7f8a', 'message': 'Attach Manila shares via virtiofs (drivers and compute manager part)\n\nThis patch does multiple things:\n1) Extends the virt interface to pass share_info down to the driver an update the signatures in all in tree drivers.\n2) Extends the compute manager to pass the share_info to the driver at certain actions.\n3) Implement the share_info handling in the libvirt driver.\n3.1) Checks requirements for shares and reports the new capabilities COMPUTE_STORAGE_VIRTIO_FS and\nCOMPUTE_MEM_BACKING_FILE to signal that.\n3.2) Extends the config handling for virtio mounts.\n3.3) Implements mount / unmount.\n4) Changes the scheduler to request new capabilities.\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/832769\nChange-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3\n'}, {'number': 28, 'created': '2023-03-06 10:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/50e6ce4174c39b2967d1febe7532ffe587d20a11', 'message': 'Attach Manila shares via virtiofs (drivers and compute manager part)\n\nThis patch does multiple things:\n1) Extends the virt interface to pass share_info down to the driver an update the signatures in all in tree drivers.\n2) Extends the compute manager to pass the share_info to the driver at certain actions.\n3) Implement the share_info handling in the libvirt driver.\n3.1) Checks requirements for shares and reports the new capabilities COMPUTE_STORAGE_VIRTIO_FS and\nCOMPUTE_MEM_BACKING_FILE to signal that.\n3.2) Extends the config handling for virtio mounts.\n3.3) Implements mount / unmount.\n4) Changes the scheduler to request new capabilities.\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/832769\nChange-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3\n'}, {'number': 29, 'created': '2023-04-11 17:49:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/263fda80ec5122b7539660829a4e2fa84480693f', 'message': 'Attach Manila shares via virtiofs (drivers and compute manager part)\n\nThis patch does multiple things:\n1) Extends the virt interface to pass share_info down to the driver an update the signatures in all in tree drivers.\n2) Extends the compute manager to pass the share_info to the driver at certain actions.\n3) Implement the share_info handling in the libvirt driver.\n3.1) Checks requirements for shares and reports the new capabilities COMPUTE_STORAGE_VIRTIO_FS and\nCOMPUTE_MEM_BACKING_FILE to signal that.\n3.2) Extends the config handling for virtio mounts.\n3.3) Implements mount / unmount.\n4) Changes the scheduler to request new capabilities.\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/832769\nChange-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3\n'}, {'number': 30, 'created': '2023-04-18 16:32:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e974d6283a4439df9a66c5a40660b55c2a181d4e', 'message': 'Attach Manila shares via virtiofs (drivers and compute manager part)\n\nThis patch does multiple things:\n1) Extends the virt interface to pass share_info down to the driver an update the signatures in all in tree drivers.\n2) Extends the compute manager to pass the share_info to the driver at certain actions.\n3) Implement the share_info handling in the libvirt driver.\n3.1) Checks requirements for shares and reports the new capabilities COMPUTE_STORAGE_VIRTIO_FS and\nCOMPUTE_MEM_BACKING_FILE to signal that.\n3.2) Extends the config handling for virtio mounts.\n3.3) Implements mount / unmount.\n4) Changes the scheduler to request new capabilities.\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/832769\nChange-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3\n'}, {'number': 31, 'created': '2023-04-24 12:32:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/45c12835db182516b9aecdd400068df258ef627f', 'message': 'Attach Manila shares via virtiofs (drivers and compute manager part)\n\nThis patch does multiple things:\n1) Extends the virt interface to pass share_info down to the driver an update the signatures in all in tree drivers.\n2) Extends the compute manager to pass the share_info to the driver at certain actions.\n3) Implement the share_info handling in the libvirt driver.\n3.1) Checks requirements for shares and reports the new capabilities COMPUTE_STORAGE_VIRTIO_FS and\n     COMPUTE_MEM_BACKING_FILE to signal that.\n3.2) Extends the config handling for virtio mounts.\n3.3) Implements mount / unmount.\n4) Changes the scheduler to request new capabilities.\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/832769\nChange-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3\n'}, {'number': 32, 'created': '2023-05-09 14:36:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/468467722504c50eb92cb82b61e1209eae8e899c', 'message': 'Attach Manila shares via virtiofs (drivers and compute manager part)\n\nThis patch does multiple things:\n1) Extends the virt interface to pass share_info down to the driver an update the signatures in all in tree drivers.\n2) Extends the compute manager to pass the share_info to the driver at certain actions.\n3) Implement the share_info handling in the libvirt driver.\n3.1) Checks requirements for shares and reports the new capabilities COMPUTE_STORAGE_VIRTIO_FS and\n     COMPUTE_MEM_BACKING_FILE to signal that.\n3.2) Extends the config handling for virtio mounts.\n3.3) Implements mount / unmount.\n4) Changes the scheduler to request new capabilities.\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/832769\nChange-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3\n'}, {'number': 33, 'created': '2023-05-22 17:24:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f193c87fe5b2bc8202238a27b837eee93fb21f01', 'message': 'Attach Manila shares via virtiofs (drivers and compute manager part)\n\nThis patch does multiple things:\n1) Extends the virt interface to pass share_info down to the driver an update the signatures in all in tree drivers.\n2) Extends the compute manager to pass the share_info to the driver at certain actions.\n3) Implement the share_info handling in the libvirt driver.\n3.1) Checks requirements for shares and reports the new capabilities COMPUTE_STORAGE_VIRTIO_FS and\n     COMPUTE_MEM_BACKING_FILE to signal that.\n3.2) Extends the config handling for virtio mounts.\n3.3) Implements mount / unmount.\n4) Changes the scheduler to request new capabilities.\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/832769\nChange-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3\n'}, {'number': 34, 'created': '2023-06-01 09:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/86abbe5a8157a3da1133aeb4d494cb1c472e5bff', 'message': 'Attach Manila shares via virtiofs (drivers and compute manager part)\n\nThis patch does multiple things:\n1) Extends the virt interface to pass share_info down to the driver an update the signatures in all in tree drivers.\n2) Extends the compute manager to pass the share_info to the driver at certain actions.\n3) Implement the share_info handling in the libvirt driver.\n3.1) Checks requirements for shares and reports the new capabilities COMPUTE_STORAGE_VIRTIO_FS and\n     COMPUTE_MEM_BACKING_FILE to signal that.\n3.2) Extends the config handling for virtio mounts.\n3.3) Implements mount / unmount.\n4) Changes the scheduler to request new capabilities.\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/832769\nChange-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3\n'}, {'number': 35, 'created': '2023-06-20 16:34:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3bdecbfa618538839237373b215fcb7ecac80f5f', 'message': 'Attach Manila shares via virtiofs (drivers and compute manager part)\n\nThis patch does multiple things:\n1) Extends the virt interface to pass share_info down to the driver an update the signatures in all in tree drivers.\n2) Extends the compute manager to pass the share_info to the driver at certain actions.\n3) Implement the share_info handling in the libvirt driver.\n3.1) Checks requirements for shares and reports the new capabilities COMPUTE_STORAGE_VIRTIO_FS and\n     COMPUTE_MEM_BACKING_FILE to signal that.\n3.2) Implements mount / unmount.\n4) Changes the scheduler to request new capabilities.\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/832769\nChange-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3\n'}, {'number': 36, 'created': '2023-07-28 09:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0aba928d91436ad87a55028b3049682d7929c6c8', 'message': 'Attach Manila shares via virtiofs (drivers and compute manager part)\n\nThis patch does multiple things:\n1) Extends the virt interface to pass share_info down to the driver an update the signatures in all in tree drivers.\n2) Extends the compute manager to pass the share_info to the driver at certain actions.\n3) Implement the share_info handling in the libvirt driver.\n3.1) Checks requirements for shares and reports the new capabilities COMPUTE_STORAGE_VIRTIO_FS and\n     COMPUTE_MEM_BACKING_FILE to signal that.\n3.2) Implements mount / unmount.\n4) Changes the scheduler to request new capabilities.\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/832769\nChange-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3\n'}, {'number': 37, 'created': '2023-08-02 14:23:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/67ec58a03ff3f4d5f930efdcda54fbdc2e5b9c53', 'message': 'Attach Manila shares via virtiofs (drivers and compute manager part)\n\nThis patch does multiple things:\n1) Extends the virt interface to pass share_info down to the driver an update the signatures in all in tree drivers.\n2) Extends the compute manager to pass the share_info to the driver at certain actions.\n3) Implement the share_info handling in the libvirt driver.\n3.1) Checks requirements for shares and reports the new capabilities COMPUTE_STORAGE_VIRTIO_FS and\n     COMPUTE_MEM_BACKING_FILE to signal that.\n3.2) Implements mount / unmount.\n4) Changes the scheduler to request new capabilities.\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/832769\nChange-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3\n'}, {'number': 38, 'created': '2023-10-03 13:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/33b7c5cb61c454adb06dac5cf372784ecdceaf19', 'message': 'Attach Manila shares via virtiofs (drivers and compute manager part)\n\nThis patch does multiple things:\n1) Extends the virt interface to pass share_info down to the driver an update the signatures in all in tree drivers.\n2) Extends the compute manager to pass the share_info to the driver at certain actions.\n3) Implement the share_info handling in the libvirt driver.\n3.1) Checks requirements for shares and reports the new capabilities COMPUTE_STORAGE_VIRTIO_FS and\n     COMPUTE_MEM_BACKING_FILE to signal that.\n3.2) Implements mount / unmount.\n4) Changes the scheduler to request new capabilities.\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/832769\nChange-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3\n'}, {'number': 39, 'created': '2023-11-21 14:30:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/224d8b71475a395da4c59485ec0574bfa45adf2f', 'message': 'Attach Manila shares via virtiofs (drivers and compute manager part)\n\nThis patch does multiple things:\n1) Extends the virt interface to pass share_info down to the driver an update the signatures in all in tree drivers.\n2) Extends the compute manager to pass the share_info to the driver at certain actions.\n3) Implement the share_info handling in the libvirt driver.\n3.1) Checks requirements for shares and reports the new capabilities COMPUTE_STORAGE_VIRTIO_FS and\n     COMPUTE_MEM_BACKING_FILE to signal that.\n3.2) Implements mount / unmount.\n4) Changes the scheduler to request new capabilities.\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/832769\nChange-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3\n'}, {'number': 40, 'created': '2024-01-22 17:15:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7022edc782603f61ec657128ea061411b315a567', 'message': 'Attach Manila shares via virtiofs (drivers and compute manager part)\n\nThis patch does multiple things:\n1) Extends the virt interface to pass share_info down to the driver an update the signatures in all in tree drivers.\n2) Extends the compute manager to pass the share_info to the driver at certain actions.\n3) Implement the share_info handling in the libvirt driver.\n3.1) Checks requirements for shares and reports the new capabilities COMPUTE_STORAGE_VIRTIO_FS and\n     COMPUTE_MEM_BACKING_FILE to signal that.\n3.2) Implements mount / unmount.\n4) Changes the scheduler to request new capabilities.\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/832769\nChange-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3\n'}, {'number': 41, 'created': '2024-02-12 20:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/352a90b26e0732d17f350e60a7b8b62d2dbe0949', 'message': 'Attach Manila shares via virtiofs (drivers and compute manager part)\n\nThis patch does multiple things:\n1) Extends the virt interface to pass share_info down to the driver an update the signatures in all in tree drivers.\n2) Extends the compute manager to pass the share_info to the driver at certain actions.\n3) Implement the share_info handling in the libvirt driver.\n3.1) Checks requirements for shares and reports the new capabilities COMPUTE_STORAGE_VIRTIO_FS and\n     COMPUTE_MEM_BACKING_FILE to signal that.\n3.2) Implements mount / unmount.\n4) Changes the scheduler to request new capabilities.\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/832769\nChange-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3\n'}, {'number': 42, 'created': '2024-02-14 07:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cf169ea35e785576f213ba3fce802113957c62a7', 'message': 'Attach Manila shares via virtiofs (drivers and compute manager part)\n\nThis patch does multiple things:\n1) Extends the virt interface to pass share_info down to the driver an update the signatures in all in tree drivers.\n2) Extends the compute manager to pass the share_info to the driver at certain actions.\n3) Implement the share_info handling in the libvirt driver.\n3.1) Checks requirements for shares and reports the new capabilities COMPUTE_STORAGE_VIRTIO_FS and\n     COMPUTE_MEM_BACKING_FILE to signal that.\n3.2) Implements mount / unmount.\n4) Changes the scheduler to request new capabilities.\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/832769\nChange-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3\n'}, {'number': 43, 'created': '2024-02-28 08:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4758e058ddc50fcb7bc508210c63ddf4fa2f46da', 'message': 'Attach Manila shares via virtiofs (drivers and compute manager part)\n\nThis patch does multiple things:\n1) Extends the virt interface to pass share_info down to the driver an update the signatures in all in tree drivers.\n2) Extends the compute manager to pass the share_info to the driver at certain actions.\n3) Implement the share_info handling in the libvirt driver.\n3.1) Checks requirements for shares and reports the new capabilities COMPUTE_STORAGE_VIRTIO_FS and\n     COMPUTE_MEM_BACKING_FILE to signal that.\n3.2) Implements mount / unmount.\n4) Changes the scheduler to request new capabilities.\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/832769\nChange-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3\n'}, {'number': 44, 'created': '2024-03-12 10:08:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bb6efcafcfd516959c80a5b73ea47dfe9cfa7368', 'message': 'Attach Manila shares via virtiofs (drivers and compute manager part)\n\nThis patch does multiple things:\n1) Extends the virt interface to pass share_info down to the driver an update the signatures in all in tree drivers.\n2) Extends the compute manager to pass the share_info to the driver at certain actions.\n3) Implement the share_info handling in the libvirt driver.\n3.1) Checks requirements for shares and reports the new capabilities COMPUTE_STORAGE_VIRTIO_FS and\n     COMPUTE_MEM_BACKING_FILE to signal that.\n3.2) Implements mount / unmount.\n4) Changes the scheduler to request new capabilities.\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/832769\nChange-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3\n'}, {'number': 45, 'created': '2024-05-10 12:12:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fd35df2530ad891cdc1b0d321d18da474ffff855', 'message': 'Attach Manila shares via virtiofs (drivers and compute manager part)\n\nThis patch does multiple things:\n1) Extends the virt interface to pass share_info down to the driver an update the signatures in all in tree drivers.\n2) Extends the compute manager to pass the share_info to the driver at certain actions.\n3) Implement the share_info handling in the libvirt driver.\n3.1) Checks requirements for shares and reports the new capabilities COMPUTE_STORAGE_VIRTIO_FS and\n     COMPUTE_MEM_BACKING_FILE to signal that.\n3.2) Implements mount / unmount.\n4) Changes the scheduler to request new capabilities.\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/832769\nChange-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3\n'}, {'number': 46, 'created': '2024-05-10 18:59:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/239dd1e7b5fdf299f1a9d604797ddae9a6250814', 'message': 'Attach Manila shares via virtiofs (drivers and compute manager part)\n\nThis patch does multiple things:\n1) Extends the virt interface to pass share_info down to the driver an update the signatures in all in tree drivers.\n2) Extends the compute manager to pass the share_info to the driver at certain actions.\n3) Implement the share_info handling in the libvirt driver.\n3.1) Checks requirements for shares and reports the new capabilities COMPUTE_STORAGE_VIRTIO_FS and\n     COMPUTE_MEM_BACKING_FILE to signal that.\n3.2) Implements mount / unmount.\n4) Changes the scheduler to request new capabilities.\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/832769\nChange-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3\n'}, {'number': 47, 'created': '2024-05-15 18:09:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/82c996f7593f571043c933217f5456556ad79968', 'message': 'Attach Manila shares via virtiofs (drivers and compute manager part)\n\nThis patch does multiple things:\n1) Extends the virt interface to pass share_info down to the driver an update the signatures in all in tree drivers.\n2) Extends the compute manager to pass the share_info to the driver at certain actions.\n3) Implement the share_info handling in the libvirt driver.\n3.1) Checks requirements for shares and reports the new capabilities COMPUTE_STORAGE_VIRTIO_FS and\n     COMPUTE_MEM_BACKING_FILE to signal that.\n3.2) Implements mount / unmount.\n4) Changes the scheduler to request new capabilities.\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/832769\nChange-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3\n'}, {'number': 48, 'created': '2024-06-03 14:26:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6ad8082d44471c1ecd13e1a331595e3971edb0d1', 'message': 'Attach Manila shares via virtiofs (drivers and compute manager part)\n\nThis patch does multiple things:\n1) Extends the virt interface to pass share_info down to the driver an\n   update the signatures in all in tree drivers.\n2) Extends the compute manager to pass the share_info to the driver at\n   certain actions.\n3) Implement the share_info handling in the libvirt driver.\n3.1) Checks requirements for shares and reports the new capabilities\n     COMPUTE_STORAGE_VIRTIO_FS and\n     COMPUTE_MEM_BACKING_FILE to signal that.\n3.2) Implements mount / unmount.\n4) Changes the scheduler to request new capabilities.\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow\nthe shares provided by Manila to be associated with and attached to\ninstances using virtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/832769\nChange-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3\n'}, {'number': 49, 'created': '2024-06-07 16:21:18.000000000', 'files': ['nova/tests/unit/compute/test_rpcapi.py', 'nova/virt/fake.py', 'nova/virt/libvirt/host.py', 'nova/virt/libvirt/volume/fs.py', 'nova/objects/service.py', 'nova/virt/libvirt/volume/mount.py', 'nova/tests/unit/compute/test_compute.py', 'nova/virt/driver.py', 'nova/tests/fixtures/libvirt.py', 'nova/tests/functional/test_servers_provider_tree.py', 'nova/tests/unit/compute/test_api.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/virt/ironic/driver.py', 'nova/exception.py', 'nova/virt/libvirt/driver.py', 'nova/virt/zvm/driver.py', 'nova/conf/netconf.py', 'nova/virt/vmwareapi/driver.py', 'nova/compute/manager.py', 'nova/compute/rpcapi.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/134fba10db5354fb2c9d9c2eea083d589f819412', 'message': 'Attach Manila shares via virtiofs (drivers and compute manager part)\n\nThis patch does multiple things:\n1) Extends the virt interface to pass share_info down to the driver an\n   update the signatures in all in tree drivers.\n2) Extends the compute manager to pass the share_info to the driver at\n   certain actions.\n3) Implement the share_info handling in the libvirt driver.\n3.1) Checks requirements for shares and reports the new capabilities\n     COMPUTE_STORAGE_VIRTIO_FS and\n     COMPUTE_MEM_BACKING_FILE to signal that.\n3.2) Implements mount / unmount.\n4) Changes the scheduler to request new capabilities.\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow\nthe shares provided by Manila to be associated with and attached to\ninstances using virtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/832769\nChange-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3\n'}]",222,833090,134fba10db5354fb2c9d9c2eea083d589f819412,272,4,49,16207,,,0,"Attach Manila shares via virtiofs (drivers and compute manager part)

This patch does multiple things:
1) Extends the virt interface to pass share_info down to the driver an
   update the signatures in all in tree drivers.
2) Extends the compute manager to pass the share_info to the driver at
   certain actions.
3) Implement the share_info handling in the libvirt driver.
3.1) Checks requirements for shares and reports the new capabilities
     COMPUTE_STORAGE_VIRTIO_FS and
     COMPUTE_MEM_BACKING_FILE to signal that.
3.2) Implements mount / unmount.
4) Changes the scheduler to request new capabilities.

Manila is the OpenStack Shared Filesystems service.
These series of patches implement changes required in Nova to allow
the shares provided by Manila to be associated with and attached to
instances using virtiofs.

Implements: blueprint libvirt-virtiofs-attach-manila-shares

Depends-On: https://review.opendev.org/c/openstack/os-traits/+/832769
Change-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3
",git fetch https://review.opendev.org/openstack/nova refs/changes/90/833090/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/fake.py', 'nova/virt/libvirt/host.py', 'nova/virt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/virt/powervm/driver.py', 'nova/virt/hyperv/driver.py', 'nova/virt/ironic/driver.py', 'nova/tests/unit/scheduler/test_request_filter.py', 'nova/virt/libvirt/driver.py', 'nova/virt/zvm/driver.py', 'nova/virt/vmwareapi/driver.py', 'nova/scheduler/request_filter.py']",12,ba33b876698accb8451f5299fcac049d70c592db,bp/manila_shares_attachments,"def virtio_fs_filter(ctxt, request_spec): """"""Allow only compute nodes with virtio_fs support. This filter retains only nodes whose compute manager published the COMPUTE_STORAGE_VIRTIO_FS trait. """""" trait_name = os_traits.COMPUTE_STORAGE_VIRTIO_FS if request_spec.flavor.extra_specs.get('virtio_fs'): request_spec.root_required.add(trait_name) LOG.debug('virtio_fs_filter request filter added required ' 'trait %s', trait_name) return True @trace_request_filter def mem_backing_file_filter(ctxt, request_spec): """"""Allow only compute nodes with mem_backing_file support. This filter retains only nodes whose compute manager published the COMPUTE_MEM_BACKING_FILE trait. """""" trait_name = os_traits.COMPUTE_MEM_BACKING_FILE if request_spec.flavor.extra_specs.get('mem_backing_file'): request_spec.root_required.add(trait_name) LOG.debug('mem_backing_file_filter request filter added required ' 'trait %s', trait_name) return True @trace_request_filter virtio_fs_filter, mem_backing_file_filter,",,192,48
openstack%2Fopenstacksdk~921952,openstack/openstacksdk,master,I3b669494cf7dc4e540a54070de42b1befe803e14,exceptions: ResourceNotFound -> NotFoundException,NEW,2024-06-13 11:58:14.000000000,2024-06-13 13:54:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-13 11:58:14.000000000', 'files': ['openstack/image/v2/_proxy.py', 'openstack/tests/functional/baremetal/test_baremetal_port.py', 'openstack/shared_file_system/v2/_proxy.py', 'openstack/tests/functional/baremetal/test_baremetal_volume_connector.py', 'openstack/accelerator/v2/_proxy.py', 'openstack/tests/functional/baremetal/test_baremetal_node.py', 'openstack/tests/unit/cloud/test_openstackcloud.py', 'openstack/tests/functional/baremetal/test_baremetal_driver.py', 'openstack/block_storage/v3/transfer.py', 'openstack/clustering/v1/_proxy.py', 'openstack/key_manager/v1/_proxy.py', 'openstack/resource.py', 'openstack/placement/v1/_proxy.py', 'openstack/dns/v2/_proxy.py', 'openstack/clustering/v1/_async_resource.py', 'openstack/image/v1/_proxy.py', 'openstack/tests/unit/cloud/test_fwaas.py', 'openstack/cloud/openstackcloud.py', 'openstack/message/v2/_proxy.py', 'openstack/orchestration/v1/stack.py', 'openstack/tests/functional/baremetal/test_baremetal_deploy_templates.py', 'openstack/object_store/v1/info.py', 'openstack/tests/functional/baremetal/test_baremetal_volume_target.py', 'openstack/tests/unit/orchestration/v1/test_stack.py', 'openstack/block_storage/v2/_proxy.py', 'openstack/tests/unit/network/v2/test_trunk.py', 'openstack/image/v1/image.py', 'openstack/orchestration/v1/_proxy.py', 'openstack/tests/functional/shared_file_system/test_share.py', 'openstack/workflow/v2/_proxy.py', 'openstack/block_storage/v3/service.py', 'openstack/tests/functional/compute/v2/test_flavor.py', 'openstack/database/v1/_proxy.py', 'openstack/cloud/_compute.py', 'openstack/dns/v2/_base.py', 'openstack/cloud/_floating_ip.py', 'openstack/object_store/v1/_proxy.py', 'openstack/image/v2/image.py', 'openstack/tests/unit/cloud/test_compute.py', 'openstack/identity/v3/_proxy.py', 'openstack/tests/unit/cloud/test_domains.py', 'openstack/block_storage/v3/_proxy.py', 'openstack/instance_ha/v1/_proxy.py', 'openstack/proxy.py', 'openstack/cloud/_object_store.py', 'openstack/tests/unit/test_proxy.py', 'openstack/container_infrastructure_management/v1/cluster.py', 'openstack/tests/unit/cloud/test_network.py', 'openstack/exceptions.py', 'openstack/tests/functional/baremetal/test_baremetal_chassis.py', 'openstack/tests/unit/orchestration/v1/test_proxy.py', 'openstack/baremetal_introspection/v1/_proxy.py', 'openstack/container_infrastructure_management/v1/_proxy.py', 'openstack/image/v2/service_info.py', 'openstack/baremetal/v1/_proxy.py', 'openstack/identity/v2/_proxy.py', 'openstack/shared_file_system/v2/share_access_rule.py', 'openstack/network/v2/_proxy.py', 'openstack/tests/unit/compute/v2/test_service.py', 'openstack/tests/functional/dns/v2/test_zone_share.py', 'openstack/tests/functional/baremetal/test_baremetal_allocation.py', 'openstack/compute/v2/service.py', 'openstack/tests/functional/baremetal/test_baremetal_port_group.py', 'openstack/tests/unit/test_resource.py', 'openstack/load_balancer/v2/_proxy.py', 'openstack/baremetal/v1/node.py', 'openstack/compute/v2/_proxy.py', 'openstack/tests/functional/orchestration/v1/test_stack.py', 'openstack/cloud/_network.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/14c1ebbeb8e6d7f89bd96476e6fca8ce822aebad', 'message': 'exceptions: ResourceNotFound -> NotFoundException\n\nInvert the order of these such that ResourceNotFound is an alias of\nNotFoundException rather than the other way around. This is more\nconsistent with the other HTTP-related exceptions.\n\nChange-Id: I3b669494cf7dc4e540a54070de42b1befe803e14\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,921952,14c1ebbeb8e6d7f89bd96476e6fca8ce822aebad,2,1,1,15334,,,0,"exceptions: ResourceNotFound -> NotFoundException

Invert the order of these such that ResourceNotFound is an alias of
NotFoundException rather than the other way around. This is more
consistent with the other HTTP-related exceptions.

Change-Id: I3b669494cf7dc4e540a54070de42b1befe803e14
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/52/921952/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/image/v2/_proxy.py', 'openstack/tests/functional/baremetal/test_baremetal_port.py', 'openstack/shared_file_system/v2/_proxy.py', 'openstack/tests/functional/baremetal/test_baremetal_volume_connector.py', 'openstack/accelerator/v2/_proxy.py', 'openstack/tests/functional/baremetal/test_baremetal_node.py', 'openstack/tests/unit/cloud/test_openstackcloud.py', 'openstack/tests/functional/baremetal/test_baremetal_driver.py', 'openstack/block_storage/v3/transfer.py', 'openstack/clustering/v1/_proxy.py', 'openstack/key_manager/v1/_proxy.py', 'openstack/resource.py', 'openstack/placement/v1/_proxy.py', 'openstack/dns/v2/_proxy.py', 'openstack/clustering/v1/_async_resource.py', 'openstack/image/v1/_proxy.py', 'openstack/tests/unit/cloud/test_fwaas.py', 'openstack/cloud/openstackcloud.py', 'openstack/message/v2/_proxy.py', 'openstack/orchestration/v1/stack.py', 'openstack/tests/functional/baremetal/test_baremetal_deploy_templates.py', 'openstack/object_store/v1/info.py', 'openstack/tests/functional/baremetal/test_baremetal_volume_target.py', 'openstack/tests/unit/orchestration/v1/test_stack.py', 'openstack/block_storage/v2/_proxy.py', 'openstack/tests/unit/network/v2/test_trunk.py', 'openstack/image/v1/image.py', 'openstack/orchestration/v1/_proxy.py', 'openstack/tests/functional/shared_file_system/test_share.py', 'openstack/workflow/v2/_proxy.py', 'openstack/block_storage/v3/service.py', 'openstack/tests/functional/compute/v2/test_flavor.py', 'openstack/database/v1/_proxy.py', 'openstack/cloud/_compute.py', 'openstack/dns/v2/_base.py', 'openstack/cloud/_floating_ip.py', 'openstack/object_store/v1/_proxy.py', 'openstack/image/v2/image.py', 'openstack/tests/unit/cloud/test_compute.py', 'openstack/identity/v3/_proxy.py', 'openstack/tests/unit/cloud/test_domains.py', 'openstack/block_storage/v3/_proxy.py', 'openstack/instance_ha/v1/_proxy.py', 'openstack/proxy.py', 'openstack/cloud/_object_store.py', 'openstack/tests/unit/test_proxy.py', 'openstack/container_infrastructure_management/v1/cluster.py', 'openstack/tests/unit/cloud/test_network.py', 'openstack/exceptions.py', 'openstack/tests/functional/baremetal/test_baremetal_chassis.py', 'openstack/tests/unit/orchestration/v1/test_proxy.py', 'openstack/baremetal_introspection/v1/_proxy.py', 'openstack/container_infrastructure_management/v1/_proxy.py', 'openstack/image/v2/service_info.py', 'openstack/baremetal/v1/_proxy.py', 'openstack/identity/v2/_proxy.py', 'openstack/shared_file_system/v2/share_access_rule.py', 'openstack/network/v2/_proxy.py', 'openstack/tests/unit/compute/v2/test_service.py', 'openstack/tests/functional/dns/v2/test_zone_share.py', 'openstack/tests/functional/baremetal/test_baremetal_allocation.py', 'openstack/compute/v2/service.py', 'openstack/tests/functional/baremetal/test_baremetal_port_group.py', 'openstack/tests/unit/test_resource.py', 'openstack/load_balancer/v2/_proxy.py', 'openstack/baremetal/v1/node.py', 'openstack/compute/v2/_proxy.py', 'openstack/tests/functional/orchestration/v1/test_stack.py', 'openstack/cloud/_network.py']",69,14c1ebbeb8e6d7f89bd96476e6fca8ce822aebad,trivial," except exceptions.NotFoundException: :raises: NotFoundException if a resource from firewall_list not found except exceptions.NotFoundException: :raises: NotFoundException if resource is not found :raises: NotFoundException if firewall policy or any of the firewall :raises: NotFoundException if firewall policy is not found :raises: NotFoundException if (ingress-, egress-) firewall policy or except exceptions.NotFoundException: :raises: NotFoundException if firewall group, a firewall policy :raises: NotFoundException if a firewall policy is not found except exceptions.NotFoundException: except exceptions.NotFoundException: except exceptions.NotFoundException: :raises: NotFoundException if a port is not found raise exceptions.NotFoundException("," except exceptions.ResourceNotFound: :raises: ResourceNotFound if a resource from firewall_list not found except exceptions.ResourceNotFound: :raises: ResourceNotFound if resource is not found :raises: ResourceNotFound if firewall policy or any of the firewall :raises: ResourceNotFound if firewall policy is not found :raises: ResourceNotFound if (ingress-, egress-) firewall policy or except exceptions.ResourceNotFound: :raises: ResourceNotFound if firewall group, a firewall policy :raises: ResourceNotFound if a firewall policy is not found except exceptions.ResourceNotFound: except exceptions.ResourceNotFound: except exceptions.ResourceNotFound: :raises: ResourceNotFound if a port is not found raise exceptions.ResourceNotFound(",701,701
openstack%2Fcharm-mysql-router~921716,openstack/charm-mysql-router,stable/jammy,Ic28f0406eb8d5dbd9131ae83090498297ac48c31,Fixing broken mysql-router configuration,NEW,2024-06-11 02:37:05.000000000,2024-06-13 13:42:54.000000000,,"[{'_account_id': 1131}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-11 02:37:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/a0309811cd2ff43cd840655522ff8b5ff08992b6', 'message': ""Fixing broken mysql-router configuration\n\nA customer faced an issue when they face full disk. Mysql router configuration file was broken. As this charm doesn't handle whole configuration file, charm wrote just part of them based on template. so re-bootstrapping is needed when this symptom happens.\n\nTo do that, I put code to check configuration file size, and if it is under 1000bytes, run bootstrap.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1196\nCloses-Bug: #2004088\nChange-Id: Ic28f0406eb8d5dbd9131ae83090498297ac48c31\n(cherry picked from commit d334665b2d8bb113223508f348d053020e8c860c)\n""}, {'number': 2, 'created': '2024-06-12 23:48:29.000000000', 'files': ['src/lib/charm/openstack/mysql_router.py', 'unit_tests/test_mysql_router_handlers.py', 'unit_tests/test_lib_charm_openstack_mysql_router.py', 'src/reactive/mysql_router_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/d9af34ac232e0dcb022298074ed6b91c7e4476a9', 'message': ""Fixing broken mysql-router configuration\n\nA customer faced an issue when they face full disk. Mysql router configuration file was broken. As this charm doesn't handle whole configuration file, charm wrote just part of them based on template. so re-bootstrapping is needed when this symptom happens.\n\nTo do that, I put code to check configuration file size, and if it is under 1000bytes, run bootstrap.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1218\nCloses-Bug: #2004088\nChange-Id: Ic28f0406eb8d5dbd9131ae83090498297ac48c31\n(cherry picked from commit d334665b2d8bb113223508f348d053020e8c860c)\n""}]",5,921716,d9af34ac232e0dcb022298074ed6b91c7e4476a9,12,4,2,5112,,,0,"Fixing broken mysql-router configuration

A customer faced an issue when they face full disk. Mysql router configuration file was broken. As this charm doesn't handle whole configuration file, charm wrote just part of them based on template. so re-bootstrapping is needed when this symptom happens.

To do that, I put code to check configuration file size, and if it is under 1000bytes, run bootstrap.

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1218
Closes-Bug: #2004088
Change-Id: Ic28f0406eb8d5dbd9131ae83090498297ac48c31
(cherry picked from commit d334665b2d8bb113223508f348d053020e8c860c)
",git fetch https://review.opendev.org/openstack/charm-mysql-router refs/changes/16/921716/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/lib/charm/openstack/mysql_router.py', 'unit_tests/test_mysql_router_handlers.py', 'unit_tests/test_lib_charm_openstack_mysql_router.py', 'src/reactive/mysql_router_handlers.py']",4,a0309811cd2ff43cd840655522ff8b5ff08992b6,fixing_broken_conf-stable/jammy, instance.validate_configuration() @reactive.hook('update-status') def update_status(): with charm.provide_charm_instance() as instance: instance.validate_configuration() instance.assess_status()," 'update-status',",95,6
openstack%2Fopenstacksdk~921953,openstack/openstacksdk,master,I6fc3fbc5c2a40ab0af340f90e73b16765e5e0fb4,trivial: Apply docformatter,NEW,2024-06-13 11:58:14.000000000,2024-06-13 13:35:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-13 11:58:14.000000000', 'files': ['openstack/image/v2/_proxy.py', 'openstack/tests/functional/cloud/test_floating_ip_pool.py', 'examples/identity/list.py', 'openstack/tests/functional/cloud/test_keypairs.py', 'openstack/tests/functional/cloud/test_limits.py', 'openstack/dns/v2/_proxy.py', 'openstack/block_storage/v2/volume.py', 'openstack/image/v1/_proxy.py', 'openstack/tests/unit/cloud/test_floating_ip_neutron.py', 'openstack/baremetal/v1/driver.py', 'openstack/orchestration/v1/stack.py', 'openstack/placement/v1/trait.py', 'openstack/clustering/v1/node.py', 'openstack/block_storage/v2/_proxy.py', 'openstack/baremetal/v1/_common.py', 'openstack/cloud/_accelerator.py', 'openstack/compute/v2/aggregate.py', 'openstack/config/loader.py', 'openstack/tests/unit/config/test_config.py', 'openstack/block_storage/v3/service.py', 'examples/clustering/receiver.py', 'openstack/shared_file_system/v2/share.py', 'openstack/cloud/_orchestration.py', 'openstack/image/v2/image.py', 'openstack/block_storage/v3/volume.py', 'examples/key_manager/list.py', 'examples/clustering/event.py', 'openstack/tests/functional/examples/test_network.py', 'openstack/block_storage/v3/_proxy.py', 'openstack/proxy.py', 'openstack/compute/v2/hypervisor.py', 'openstack/exceptions.py', 'openstack/image/_download.py', 'examples/shared_file_system/share_instances.py', 'openstack/tests/functional/cloud/test_qos_dscp_marking_rule.py', 'examples/network/create.py', 'openstack/tests/unit/compute/v2/test_proxy.py', 'openstack/image/v2/service_info.py', 'openstack/tests/unit/cloud/test_subnet.py', 'openstack/tests/functional/identity/v3/test_access_rule.py', 'openstack/tests/unit/cloud/test_rebuild_server.py', 'examples/clustering/profile_type.py', 'openstack/tests/functional/block_storage/v3/test_attachment.py', 'openstack/identity/v2/_proxy.py', 'openstack/tests/functional/cloud/test_clustering.py', 'openstack/_hacking/checks.py', 'openstack/compute/v2/flavor.py', 'openstack/connection.py', 'openstack/orchestration/util/template_utils.py', 'openstack/tests/unit/cloud/test_create_server.py', 'openstack/tests/functional/cloud/test_network.py', 'openstack/tests/functional/cloud/test_image.py', 'openstack/tests/functional/examples/test_identity.py', 'openstack/tests/unit/base.py', 'openstack/tests/unit/cloud/test_delete_volume_snapshot.py', 'openstack/baremetal/v1/node.py', 'openstack/cloud/_security_group.py', 'openstack/compute/v2/_proxy.py', 'openstack/message/v2/message.py', 'openstack/cloud/_network.py', 'openstack/tests/functional/cloud/test_qos_policy.py', 'openstack/tests/functional/cloud/test_compute.py', 'openstack/database/v1/instance.py', 'openstack/shared_file_system/v2/_proxy.py', 'openstack/tests/unit/cloud/test_object.py', 'openstack/resource.py', 'examples/network/security_group_rules.py', 'openstack/block_storage/v2/backup.py', 'openstack/tests/unit/cloud/test_fwaas.py', 'openstack/tests/functional/cloud/test_object.py', 'openstack/compute/v2/server.py', 'openstack/tests/functional/cloud/test_inventory.py', 'examples/clustering/action.py', 'openstack/message/v2/queue.py', 'openstack/workflow/v2/_proxy.py', 'openstack/object_store/v1/_base.py', 'openstack/tests/functional/base.py', 'examples/clustering/cluster.py', 'openstack/tests/unit/cloud/test_operator.py', 'openstack/object_store/v1/_proxy.py', 'openstack/tests/functional/cloud/test_recordset.py', 'openstack/tests/unit/cloud/test_compute.py', 'openstack/tests/unit/cloud/test_role_assignment.py', 'openstack/identity/v3/_proxy.py', 'openstack/block_storage/v3/group_type.py', 'openstack/key_manager/v1/_format.py', 'openstack/tests/functional/cloud/test_services.py', 'openstack/tests/functional/cloud/test_security_groups.py', 'openstack/tests/functional/cloud/test_cluster_templates.py', 'openstack/network/v2/tap_mirror.py', 'openstack/tests/functional/cloud/test_users.py', 'openstack/block_storage/v3/resource_filter.py', 'examples/baremetal/provisioning.py', 'openstack/baremetal/v1/_proxy.py', 'openstack/identity/v3/system.py', 'examples/clustering/policy.py', 'openstack/network/v2/_proxy.py', 'openstack/database/v1/user.py', 'openstack/network/v2/agent.py', 'openstack/tests/functional/cloud/test_magnum_services.py', 'examples/connect.py', 'openstack/load_balancer/v2/_proxy.py', 'openstack/tests/functional/cloud/test_volume.py', 'openstack/tests/unit/cloud/test_server_delete_metadata.py', 'examples/key_manager/get.py', 'openstack/tests/unit/cloud/test_operator_noauth.py', 'openstack/tests/functional/cloud/test_flavor.py', 'openstack/cloud/meta.py', 'openstack/identity/v3/project.py', 'openstack/tests/unit/cloud/test_endpoints.py', 'openstack/tests/functional/cloud/test_domain.py', 'openstack/accelerator/v2/_proxy.py', 'openstack/tests/unit/cloud/test_floating_ip_nova.py', 'openstack/network/v2/tap_flow.py', 'openstack/key_manager/v1/_proxy.py', 'openstack/tests/unit/config/test_cloud_config.py', 'openstack/tests/functional/cloud/test_coe_clusters.py', 'openstack/dns/v2/recordset.py', 'openstack/placement/v1/_proxy.py', 'openstack/cloud/_dns.py', 'openstack/message/v2/_proxy.py', 'openstack/block_storage/v3/type.py', 'openstack/cloud/_baremetal.py', 'openstack/cloud/_image.py', 'openstack/orchestration/v1/_proxy.py', 'openstack/utils.py', 'openstack/network/v2/tap_service.py', 'openstack/placement/v1/resource_provider_inventory.py', 'examples/image/list.py', 'openstack/tests/unit/cloud/test_zone.py', 'openstack/network/v2/bgp_speaker.py', 'openstack/tests/functional/cloud/test_quotas.py', 'examples/clustering/policy_type.py', 'openstack/database/v1/_proxy.py', 'openstack/cloud/_compute.py', 'openstack/dns/v2/zone_transfer.py', 'openstack/orchestration/util/environment_format.py', 'openstack/cloud/_object_store.py', 'openstack/tests/functional/cloud/test_router.py', 'examples/shared_file_system/share_group_snapshots.py', 'openstack/cloud/_identity.py', 'openstack/test/fakes.py', 'openstack/tests/unit/cloud/test_server_set_metadata.py', 'openstack/tests/functional/cloud/test_endpoints.py', 'openstack/tests/fakes.py', 'openstack/tests/unit/test_stats.py', 'openstack/tests/functional/cloud/test_range_search.py', 'examples/key_manager/create.py', 'openstack/cloud/_block_storage.py', 'openstack/tests/functional/cloud/test_qos_bandwidth_limit_rule.py', 'openstack/dns/v2/zone_share.py', 'openstack/image/v2/cache.py', 'openstack/tests/unit/cloud/test_baremetal_ports.py', 'openstack/tests/functional/cloud/test_groups.py', 'openstack/tests/unit/cloud/test_floating_ip_common.py', 'openstack/tests/unit/cloud/test_port.py', 'openstack/cloud/_utils.py', 'openstack/dns/v2/zone_export.py', 'openstack/identity/v3/group.py', 'openstack/tests/functional/cloud/test_devstack.py', 'openstack/tests/functional/cloud/test_zone.py', 'openstack/tests/unit/cloud/test_meta.py', 'openstack/clustering/v1/_proxy.py', 'openstack/message/v2/subscription.py', 'openstack/baremetal/configdrive.py', 'openstack/cloud/openstackcloud.py', 'openstack/tests/unit/image/v2/test_proxy.py', 'openstack/tests/functional/cloud/test_identity.py', 'openstack/__init__.py', 'examples/baremetal/list.py', 'openstack/tests/functional/examples/test_image.py', 'openstack/placement/v1/resource_provider.py', 'openstack/tests/functional/cloud/test_aggregate.py', 'openstack/tests/unit/cloud/test_services.py', 'examples/shared_file_system/availability_zones.py', 'openstack/dns/v2/zone_import.py', 'openstack/tests/unit/cloud/test_floating_ip_pool.py', 'examples/network/delete.py', 'openstack/tests/unit/cloud/test_update_server.py', 'examples/clustering/node.py', 'openstack/tests/functional/examples/test_compute.py', 'openstack/tests/unit/cloud/test__utils.py', 'openstack/block_storage/v3/backup.py', 'openstack/cloud/_floating_ip.py', 'openstack/cloud/_coe.py', 'examples/compute/list.py', 'openstack/image/iterable_chunked_file.py', 'openstack/instance_ha/v1/_proxy.py', 'openstack/orchestration/util/template_format.py', 'openstack/dns/v2/floating_ip.py', 'openstack/tests/unit/cloud/test_baremetal_node.py', 'openstack/tests/functional/cloud/test_floating_ip.py', 'openstack/common/metadata.py', 'examples/dns/list.py', 'openstack/tests/functional/cloud/test_port.py', 'openstack/tests/functional/cloud/test_project.py', 'openstack/format.py', 'openstack/tests/functional/cloud/test_volume_type.py', 'openstack/tests/functional/cloud/test_qos_minimum_bandwidth_rule.py', 'openstack/container_infrastructure_management/v1/_proxy.py', 'openstack/config/cloud_region.py', 'openstack/tests/fixtures.py', 'openstack/image/v2/metadef_property.py', 'openstack/tests/functional/cloud/test_stack.py', 'openstack/dns/v2/zone.py', 'examples/network/list.py', 'openstack/common/quota_set.py', 'openstack/identity/v3/domain.py', 'openstack/tests/base.py', 'openstack/clustering/v1/cluster.py', 'openstack/shared_file_system/v2/share_instance.py', 'openstack/tests/unit/cloud/test_create_volume_snapshot.py', 'openstack/tests/unit/cloud/test_delete_server.py', 'openstack/tests/unit/test_resource.py', 'openstack/warnings.py', 'openstack/tests/functional/cloud/test_project_cleanup.py', 'openstack/tests/functional/cloud/test_server_group.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6afc38a8e6d3c81f47971d45b7d9f285ae35ae9a', 'message': 'trivial: Apply docformatter\n\nThis is mostly a case of adding a period to the summary lines, but it\nalso wraps some docstrings for us (which is the main thing we want).\n\nChange-Id: I6fc3fbc5c2a40ab0af340f90e73b16765e5e0fb4\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,921953,6afc38a8e6d3c81f47971d45b7d9f285ae35ae9a,2,1,1,15334,,,0,"trivial: Apply docformatter

This is mostly a case of adding a period to the summary lines, but it
also wraps some docstrings for us (which is the main thing we want).

Change-Id: I6fc3fbc5c2a40ab0af340f90e73b16765e5e0fb4
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/53/921953/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/image/v2/_proxy.py', 'openstack/tests/functional/cloud/test_floating_ip_pool.py', 'examples/identity/list.py', 'openstack/tests/functional/cloud/test_keypairs.py', 'openstack/tests/functional/cloud/test_limits.py', 'openstack/dns/v2/_proxy.py', 'openstack/block_storage/v2/volume.py', 'openstack/image/v1/_proxy.py', 'openstack/tests/unit/cloud/test_floating_ip_neutron.py', 'openstack/baremetal/v1/driver.py', 'openstack/orchestration/v1/stack.py', 'openstack/placement/v1/trait.py', 'openstack/clustering/v1/node.py', 'openstack/block_storage/v2/_proxy.py', 'openstack/baremetal/v1/_common.py', 'openstack/cloud/_accelerator.py', 'openstack/compute/v2/aggregate.py', 'openstack/config/loader.py', 'openstack/tests/unit/config/test_config.py', 'openstack/block_storage/v3/service.py', 'examples/clustering/receiver.py', 'openstack/shared_file_system/v2/share.py', 'openstack/cloud/_orchestration.py', 'openstack/image/v2/image.py', 'openstack/block_storage/v3/volume.py', 'examples/key_manager/list.py', 'examples/clustering/event.py', 'openstack/tests/functional/examples/test_network.py', 'openstack/block_storage/v3/_proxy.py', 'openstack/proxy.py', 'openstack/compute/v2/hypervisor.py', 'openstack/exceptions.py', 'openstack/image/_download.py', 'examples/shared_file_system/share_instances.py', 'openstack/tests/functional/cloud/test_qos_dscp_marking_rule.py', 'examples/network/create.py', 'openstack/tests/unit/compute/v2/test_proxy.py', 'openstack/image/v2/service_info.py', 'openstack/tests/unit/cloud/test_subnet.py', 'openstack/tests/functional/identity/v3/test_access_rule.py', 'openstack/tests/unit/cloud/test_rebuild_server.py', 'examples/clustering/profile_type.py', 'openstack/tests/functional/block_storage/v3/test_attachment.py', 'openstack/identity/v2/_proxy.py', 'openstack/tests/functional/cloud/test_clustering.py', 'openstack/_hacking/checks.py', 'openstack/compute/v2/flavor.py', 'openstack/connection.py', 'openstack/orchestration/util/template_utils.py', 'openstack/tests/unit/cloud/test_create_server.py', 'openstack/tests/functional/cloud/test_network.py', 'openstack/tests/functional/cloud/test_image.py', 'openstack/tests/functional/examples/test_identity.py', 'openstack/tests/unit/base.py', 'openstack/tests/unit/cloud/test_delete_volume_snapshot.py', 'openstack/baremetal/v1/node.py', 'openstack/cloud/_security_group.py', 'openstack/compute/v2/_proxy.py', 'openstack/message/v2/message.py', 'openstack/cloud/_network.py', 'openstack/tests/functional/cloud/test_qos_policy.py', 'openstack/tests/functional/cloud/test_compute.py', 'openstack/database/v1/instance.py', 'openstack/shared_file_system/v2/_proxy.py', 'openstack/tests/unit/cloud/test_object.py', 'openstack/resource.py', 'examples/network/security_group_rules.py', 'openstack/block_storage/v2/backup.py', 'openstack/tests/unit/cloud/test_fwaas.py', 'openstack/tests/functional/cloud/test_object.py', 'openstack/compute/v2/server.py', 'openstack/tests/functional/cloud/test_inventory.py', 'examples/clustering/action.py', 'openstack/message/v2/queue.py', 'openstack/workflow/v2/_proxy.py', 'openstack/object_store/v1/_base.py', 'openstack/tests/functional/base.py', 'examples/clustering/cluster.py', 'openstack/tests/unit/cloud/test_operator.py', 'openstack/object_store/v1/_proxy.py', 'openstack/tests/functional/cloud/test_recordset.py', 'openstack/tests/unit/cloud/test_compute.py', 'openstack/tests/unit/cloud/test_role_assignment.py', 'openstack/identity/v3/_proxy.py', 'openstack/block_storage/v3/group_type.py', 'openstack/key_manager/v1/_format.py', 'openstack/tests/functional/cloud/test_services.py', 'openstack/tests/functional/cloud/test_security_groups.py', 'openstack/tests/functional/cloud/test_cluster_templates.py', 'openstack/network/v2/tap_mirror.py', 'openstack/tests/functional/cloud/test_users.py', 'openstack/block_storage/v3/resource_filter.py', 'examples/baremetal/provisioning.py', 'openstack/baremetal/v1/_proxy.py', 'openstack/identity/v3/system.py', 'examples/clustering/policy.py', 'openstack/network/v2/_proxy.py', 'openstack/database/v1/user.py', 'openstack/network/v2/agent.py', 'openstack/tests/functional/cloud/test_magnum_services.py', 'examples/connect.py', 'openstack/load_balancer/v2/_proxy.py', 'openstack/tests/functional/cloud/test_volume.py', 'openstack/tests/unit/cloud/test_server_delete_metadata.py', 'examples/key_manager/get.py', 'openstack/tests/unit/cloud/test_operator_noauth.py', 'openstack/tests/functional/cloud/test_flavor.py', 'openstack/cloud/meta.py', 'openstack/identity/v3/project.py', 'openstack/tests/unit/cloud/test_endpoints.py', 'openstack/tests/functional/cloud/test_domain.py', 'openstack/accelerator/v2/_proxy.py', 'openstack/tests/unit/cloud/test_floating_ip_nova.py', 'openstack/network/v2/tap_flow.py', 'openstack/key_manager/v1/_proxy.py', 'openstack/tests/unit/config/test_cloud_config.py', 'openstack/tests/functional/cloud/test_coe_clusters.py', 'openstack/dns/v2/recordset.py', 'openstack/placement/v1/_proxy.py', 'openstack/cloud/_dns.py', 'openstack/message/v2/_proxy.py', 'openstack/block_storage/v3/type.py', 'openstack/cloud/_baremetal.py', 'openstack/cloud/_image.py', 'openstack/orchestration/v1/_proxy.py', 'openstack/utils.py', 'openstack/network/v2/tap_service.py', 'openstack/placement/v1/resource_provider_inventory.py', 'examples/image/list.py', 'openstack/tests/unit/cloud/test_zone.py', 'openstack/network/v2/bgp_speaker.py', 'openstack/tests/functional/cloud/test_quotas.py', 'examples/clustering/policy_type.py', 'openstack/database/v1/_proxy.py', 'openstack/cloud/_compute.py', 'openstack/dns/v2/zone_transfer.py', 'openstack/orchestration/util/environment_format.py', 'openstack/cloud/_object_store.py', 'openstack/tests/functional/cloud/test_router.py', 'examples/shared_file_system/share_group_snapshots.py', 'openstack/cloud/_identity.py', 'openstack/test/fakes.py', 'openstack/tests/unit/cloud/test_server_set_metadata.py', 'openstack/tests/functional/cloud/test_endpoints.py', 'openstack/tests/fakes.py', 'openstack/tests/unit/test_stats.py', 'openstack/tests/functional/cloud/test_range_search.py', 'examples/key_manager/create.py', 'openstack/cloud/_block_storage.py', 'openstack/tests/functional/cloud/test_qos_bandwidth_limit_rule.py', 'openstack/dns/v2/zone_share.py', 'openstack/image/v2/cache.py', 'openstack/tests/unit/cloud/test_baremetal_ports.py', 'openstack/tests/functional/cloud/test_groups.py', 'openstack/tests/unit/cloud/test_floating_ip_common.py', 'openstack/tests/unit/cloud/test_port.py', 'openstack/cloud/_utils.py', 'openstack/dns/v2/zone_export.py', 'openstack/identity/v3/group.py', 'openstack/tests/functional/cloud/test_devstack.py', 'openstack/tests/functional/cloud/test_zone.py', 'openstack/tests/unit/cloud/test_meta.py', 'openstack/clustering/v1/_proxy.py', 'openstack/message/v2/subscription.py', 'openstack/baremetal/configdrive.py', 'openstack/cloud/openstackcloud.py', 'openstack/tests/unit/image/v2/test_proxy.py', 'openstack/tests/functional/cloud/test_identity.py', 'openstack/__init__.py', 'examples/baremetal/list.py', 'openstack/tests/functional/examples/test_image.py', 'openstack/placement/v1/resource_provider.py', 'openstack/tests/functional/cloud/test_aggregate.py', 'openstack/tests/unit/cloud/test_services.py', 'examples/shared_file_system/availability_zones.py', 'openstack/dns/v2/zone_import.py', 'openstack/tests/unit/cloud/test_floating_ip_pool.py', 'examples/network/delete.py', 'openstack/tests/unit/cloud/test_update_server.py', 'examples/clustering/node.py', 'openstack/tests/functional/examples/test_compute.py', 'openstack/tests/unit/cloud/test__utils.py', 'openstack/block_storage/v3/backup.py', 'openstack/cloud/_floating_ip.py', 'openstack/cloud/_coe.py', 'examples/compute/list.py', 'openstack/image/iterable_chunked_file.py', 'openstack/instance_ha/v1/_proxy.py', 'openstack/orchestration/util/template_format.py', 'openstack/dns/v2/floating_ip.py', 'openstack/tests/unit/cloud/test_baremetal_node.py', 'openstack/tests/functional/cloud/test_floating_ip.py', 'openstack/common/metadata.py', 'examples/dns/list.py', 'openstack/tests/functional/cloud/test_port.py', 'openstack/tests/functional/cloud/test_project.py', 'openstack/format.py', 'openstack/tests/functional/cloud/test_volume_type.py', 'openstack/tests/functional/cloud/test_qos_minimum_bandwidth_rule.py', 'openstack/container_infrastructure_management/v1/_proxy.py', 'openstack/config/cloud_region.py', 'openstack/tests/fixtures.py', 'openstack/image/v2/metadef_property.py', 'openstack/tests/functional/cloud/test_stack.py', 'openstack/dns/v2/zone.py', 'examples/network/list.py', 'openstack/common/quota_set.py', 'openstack/identity/v3/domain.py', 'openstack/tests/base.py', 'openstack/clustering/v1/cluster.py', 'openstack/shared_file_system/v2/share_instance.py', 'openstack/tests/unit/cloud/test_create_volume_snapshot.py', 'openstack/tests/unit/cloud/test_delete_server.py', 'openstack/tests/unit/test_resource.py', 'openstack/warnings.py', 'openstack/tests/functional/cloud/test_project_cleanup.py', 'openstack/tests/functional/cloud/test_server_group.py']",217,6afc38a8e6d3c81f47971d45b7d9f285ae35ae9a,trivial,,,2192,2429
openstack%2Fneutron~921035,openstack/neutron,unmaintained/zed,I802b6bd8c281cb6dacdee2e9c15285f069d4e04c,[ML2/OVN] Add gateway_port support for FIP,NEW,2024-06-03 13:56:05.000000000,2024-06-13 13:35:17.000000000,,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-03 13:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bbfda036127e9fd986938aa1f8cf3244d6716ac1', 'message': '[ML2/OVN] Add gateway_port support for FIP\n\nThe OVN changed support for NAT rules including a new column and auto discovery logic (which may not work in some cases) [1][2].\nIf the OVN backend supports this column in the Northbound DB Schema, set gateway port uuid to any floating IP to prevent North/South traffic issues for floating IPs.\n\nThis patch updates the method for creating FIP NAT rules in OVN backend and updates previously created FIP rules to include the gateway_port reference. This NAT rule update task runs only once during the maintenance task, and if all entries are already configured no action is performed.\n\n[1] https://github.com/ovn-org/ovn/commit/15348b7b806f7a9680606c3e9348708980129949\n[2] https://github.com/ovn-org/ovn/commit/2d942be7db1799f2778492331513ae2b5a556b92\n\nConflicts:\n\tneutron/common/ovn/utils.py\n\tneutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py\n\tneutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py\n\nCloses-Bug: 2035281\nChange-Id: I802b6bd8c281cb6dacdee2e9c15285f069d4e04c\n'}, {'number': 2, 'created': '2024-06-04 13:35:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8fcd708572961e8688c49bcf2f1c92bc204792da', 'message': '[ML2/OVN] Add gateway_port support for FIP\n\nThe OVN changed support for NAT rules including a new column and auto discovery logic (which may not work in some cases) [1][2].\nIf the OVN backend supports this column in the Northbound DB Schema, set gateway port uuid to any floating IP to prevent North/South traffic issues for floating IPs.\n\nThis patch updates the method for creating FIP NAT rules in OVN backend and updates previously created FIP rules to include the gateway_port reference. This NAT rule update task runs only once during the maintenance task, and if all entries are already configured no action is performed.\n\n[1] https://github.com/ovn-org/ovn/commit/15348b7b806f7a9680606c3e9348708980129949\n[2] https://github.com/ovn-org/ovn/commit/2d942be7db1799f2778492331513ae2b5a556b92\n\nConflicts:\n\tneutron/common/ovn/utils.py\n\tneutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py\n\tneutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py\n\nCloses-Bug: 2035281\nChange-Id: I802b6bd8c281cb6dacdee2e9c15285f069d4e04c\n'}, {'number': 3, 'created': '2024-06-11 13:57:17.000000000', 'files': ['neutron/common/ovn/utils.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/fake_resources.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl_ovn.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py', 'releasenotes/notes/add-gw-port-support-for-FIP-fb97b85f5928740b.yaml', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7d539bc0b093ceea9082b2526c0d40d519f13d19', 'message': '[ML2/OVN] Add gateway_port support for FIP\n\nThe OVN changed support for NAT rules including a new column and auto discovery logic (which may not work in some cases) [1][2].\nIf the OVN backend supports this column in the Northbound DB Schema, set gateway port uuid to any floating IP to prevent North/South traffic issues for floating IPs.\n\nThis patch updates the method for creating FIP NAT rules in OVN backend and updates previously created FIP rules to include the gateway_port reference. This NAT rule update task runs only once during the maintenance task, and if all entries are already configured no action is performed.\n\n[1] https://github.com/ovn-org/ovn/commit/15348b7b806f7a9680606c3e9348708980129949\n[2] https://github.com/ovn-org/ovn/commit/2d942be7db1799f2778492331513ae2b5a556b92\n\nConflicts:\n\tneutron/common/ovn/utils.py\n\tneutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py\n\tneutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py\n\n(cherry picked from commit 78b5fe2ff417e176a3ccc356d9428287a0ee3c64)\n\nCloses-Bug: 2035281\nChange-Id: I802b6bd8c281cb6dacdee2e9c15285f069d4e04c\n'}]",6,921035,7d539bc0b093ceea9082b2526c0d40d519f13d19,23,4,3,1004,,,0,"[ML2/OVN] Add gateway_port support for FIP

The OVN changed support for NAT rules including a new column and auto discovery logic (which may not work in some cases) [1][2].
If the OVN backend supports this column in the Northbound DB Schema, set gateway port uuid to any floating IP to prevent North/South traffic issues for floating IPs.

This patch updates the method for creating FIP NAT rules in OVN backend and updates previously created FIP rules to include the gateway_port reference. This NAT rule update task runs only once during the maintenance task, and if all entries are already configured no action is performed.

[1] https://github.com/ovn-org/ovn/commit/15348b7b806f7a9680606c3e9348708980129949
[2] https://github.com/ovn-org/ovn/commit/2d942be7db1799f2778492331513ae2b5a556b92

Conflicts:
	neutron/common/ovn/utils.py
	neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py
	neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py

(cherry picked from commit 78b5fe2ff417e176a3ccc356d9428287a0ee3c64)

Closes-Bug: 2035281
Change-Id: I802b6bd8c281cb6dacdee2e9c15285f069d4e04c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/35/921035/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/ovn/utils.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/fake_resources.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl_ovn.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py', 'releasenotes/notes/add-gw-port-support-for-FIP-fb97b85f5928740b.yaml', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py']",11,bbfda036127e9fd986938aa1f8cf3244d6716ac1,," @periodics.periodic(spacing=600, run_immediately=True) def update_nat_floating_ip_with_gateway_port_reference(self): """"""Set NAT rule gateway_port column to any floating IP without router gateway port uuid reference - LP#2035281. """""" if not utils.is_nat_gateway_port_supported(self._nb_idl): raise periodics.NeverAgain() context = n_context.get_admin_context() fip_update = [] lrouters = self._nb_idl.get_all_logical_routers_with_rports() for router in lrouters: ovn_fips = router['dnat_and_snats'] for ovn_fip in ovn_fips: # Skip FIPs that are already configured with gateway_port if ovn_fip['gateway_port']: continue fip_id = ovn_fip['external_ids'].get( ovn_const.OVN_FIP_EXT_ID_KEY) if fip_id: fip_update.append({'uuid': ovn_fip['uuid'], 'router_id': router['name']}) # Simple caching mechanism to avoid unnecessary DB calls gw_port_id_cache = {} lrp_cache = {} cmds = [] for fip in fip_update: lrouter = utils.ovn_name(fip['router_id']) if lrouter not in gw_port_id_cache.keys(): router_db = self._ovn_client._l3_plugin.get_router(context, fip['router_id'], fields=['gw_port_id']) gw_port_id_cache[lrouter] = router_db.get('gw_port_id') lrp_cache[lrouter] = self._nb_idl.get_lrouter_port( gw_port_id_cache[lrouter]) columns = {'gateway_port': lrp_cache[lrouter].uuid} cmds.append(self._nb_idl.set_nat_rule_in_lrouter(lrouter, fip['uuid'], **columns)) if cmds: with self._nb_idl.transaction(check_error=True) as txn: for cmd in cmds: txn.add(cmd) raise periodics.NeverAgain() ",,398,11
openstack%2Fopenstacksdk~921954,openstack/openstacksdk,master,I6c526cb4713f9fee21c3e3e3771f11783eeaa874,pre-commit: Add docformatter,NEW,2024-06-13 11:58:14.000000000,2024-06-13 13:32:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-13 11:58:14.000000000', 'files': ['.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/bc7502b47e56f96b13c31f58d4d993214d9be554', 'message': ""pre-commit: Add docformatter\n\nblack doesn't take care of docstrings for us. We need another linter for\nthat.\n\nChange-Id: I6c526cb4713f9fee21c3e3e3771f11783eeaa874\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,921954,bc7502b47e56f96b13c31f58d4d993214d9be554,2,1,1,15334,,,0,"pre-commit: Add docformatter

black doesn't take care of docstrings for us. We need another linter for
that.

Change-Id: I6c526cb4713f9fee21c3e3e3771f11783eeaa874
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/54/921954/1 && git format-patch -1 --stdout FETCH_HEAD,['.pre-commit-config.yaml'],1,bc7502b47e56f96b13c31f58d4d993214d9be554,trivial, - repo: https://github.com/PyCQA/docformatter rev: v1.7.5 hooks: - id: docformatter,,4,0
openstack%2Fironic~921951,openstack/ironic,master,Ida1be1341346df917073e649a23a2f116b262e66,Fix and document redfish metrics,NEW,2024-06-13 11:30:28.000000000,2024-06-13 13:32:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-13 11:30:28.000000000', 'files': ['doc/source/admin/drivers/redfish.rst', 'doc/source/admin/drivers/redfish/metrics.rst', 'ironic/drivers/modules/redfish/management.py', 'ironic/tests/unit/drivers/modules/redfish/test_management.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d3fd725ef98a0c8f3e1a2641381d95d335a0c9aa', 'message': ""Fix and document redfish metrics\n\nProvides a complete documentation for metrics that the Redfish\nmanagement interface can collect.\n\nThe Power payload refers to InputRanges in a broken way: this field is a\nlist, but the code treats it as a singular resource. No hardware I have\naccess to provides it this way. Since input ranges are constants and\nthus arguably don't qualify as runtime metrics, removing them instead of\nfixing.\n\nChange-Id: Ida1be1341346df917073e649a23a2f116b262e66\n""}]",0,921951,d3fd725ef98a0c8f3e1a2641381d95d335a0c9aa,4,1,1,10239,,,0,"Fix and document redfish metrics

Provides a complete documentation for metrics that the Redfish
management interface can collect.

The Power payload refers to InputRanges in a broken way: this field is a
list, but the code treats it as a singular resource. No hardware I have
access to provides it this way. Since input ranges are constants and
thus arguably don't qualify as runtime metrics, removing them instead of
fixing.

Change-Id: Ida1be1341346df917073e649a23a2f116b262e66
",git fetch https://review.opendev.org/openstack/ironic refs/changes/51/921951/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/drivers/redfish.rst', 'doc/source/admin/drivers/redfish/metrics.rst', 'ironic/drivers/modules/redfish/management.py', 'ironic/tests/unit/drivers/modules/redfish/test_management.py']",4,d3fd725ef98a0c8f3e1a2641381d95d335a0c9aa,redfish-metrics,," 'input_ranges': { 'minimum_voltage': 185, 'maximum_voltage': 250, 'minimum_frequency_hz': 47, 'maximum_frequency_hz': 63, 'output_wattage': 1450 }, mock_psu.input_ranges = mock.MagicMock(**attributes['input_ranges']) 'maximum_frequency_hz': 63, 'maximum_voltage': 250, 'minimum_frequency_hz': 47, 'minimum_voltage': 185, 'output_wattage': 1450,",184,18
openstack%2Fneutron~921909,openstack/neutron,master,Ic86826b71c1160a6891f09ca1e40135049a8948a,Modify the default SG rule count logic when creating SG,NEW,2024-06-13 03:49:19.000000000,2024-06-13 13:32:05.000000000,,"[{'_account_id': 1131}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-13 03:49:19.000000000', 'files': ['neutron/db/securitygroups_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cc143a76cf408a4b460ff1acafad9f83a53db0e3', 'message': 'Modify the default SG rule count logic when creating SG\n\nDuring the creation of SG, not to exceed the SG rule quota, the number of default SG rules that will be automatically created must be counted. It is always 2 (in case of the default SG, it is 4), but it is wrong since it depends on the default SG rules.\n\nCloses-Bug: #2067239\nChange-Id: Ic86826b71c1160a6891f09ca1e40135049a8948a\n'}]",2,921909,cc143a76cf408a4b460ff1acafad9f83a53db0e3,5,4,1,36716,,,0,"Modify the default SG rule count logic when creating SG

During the creation of SG, not to exceed the SG rule quota, the number of default SG rules that will be automatically created must be counted. It is always 2 (in case of the default SG, it is 4), but it is wrong since it depends on the default SG rules.

Closes-Bug: #2067239
Change-Id: Ic86826b71c1160a6891f09ca1e40135049a8948a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/09/921909/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/securitygroups_db.py'],1,cc143a76cf408a4b460ff1acafad9f83a53db0e3,bug/2067239," if default_sg: delta = sg_default_rules_obj.SecurityGroupDefaultRule.count( context, used_in_default_sg=True) else: delta = sg_default_rules_obj.SecurityGroupDefaultRule.count( context, used_in_non_default_sg=True)", delta = len(ext_sg.sg_supported_ethertypes) delta = delta * 2 if default_sg else delta,6,2
openstack%2Fironic~915349,openstack/ironic,stable/2023.2,I5e3ec08d128b35385f2d90c9c852140b757b8dbf,Add states.SERVICING and SERVICEWAIT to need_prepare_ramdisk,MERGED,2024-04-10 09:23:11.000000000,2024-06-13 13:27:13.000000000,2024-06-13 13:25:54.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 32029}]","[{'number': 1, 'created': '2024-04-10 09:23:11.000000000', 'files': ['ironic/drivers/utils.py', 'releasenotes/notes/add-servicing-to-need-prepare-ramdisk-fb0634b4f7d851bd.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b81bbdd7d5dc53d298ba7a5a79f8eff4bd619db1', 'message': 'Add states.SERVICING and SERVICEWAIT to need_prepare_ramdisk\n\nCurrently, service steps do not work with virtual media deployments\nbecause states.SERVICING and states.SERVICEWAIT are missing from the whitelist\nof valid provision_states. This change resolves this issue.\n\nChange-Id: I5e3ec08d128b35385f2d90c9c852140b757b8dbf\n(cherry picked from commit 70ccb6af111186431b898c4dc6c1c3e6564ab1d7)\n'}]",6,915349,b81bbdd7d5dc53d298ba7a5a79f8eff4bd619db1,34,4,1,10239,,,0,"Add states.SERVICING and SERVICEWAIT to need_prepare_ramdisk

Currently, service steps do not work with virtual media deployments
because states.SERVICING and states.SERVICEWAIT are missing from the whitelist
of valid provision_states. This change resolves this issue.

Change-Id: I5e3ec08d128b35385f2d90c9c852140b757b8dbf
(cherry picked from commit 70ccb6af111186431b898c4dc6c1c3e6564ab1d7)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/49/915349/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/utils.py', 'releasenotes/notes/add-servicing-to-need-prepare-ramdisk-fb0634b4f7d851bd.yaml']",2,b81bbdd7d5dc53d298ba7a5a79f8eff4bd619db1,service-steps-vmedia-boot-fix-stable/2023.2,--- fixes: - | Fixes issue with configuring virtual media boot for executing service steps by adding missing entries for states.SERVICING and states.SERVICEWAIT in the whitelist of the states allowed by this method. ,,10,1
openstack%2Fironic~921844,openstack/ironic,master,Ic58c139da5e1e60f5ce4d2cec18972ebee9e2485,Decompose the Redfish documentation,NEW,2024-06-12 10:17:10.000000000,2024-06-13 13:26:20.000000000,,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2024-06-12 10:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/021ed37f0dd10fe80c5a0f9ff6cc93a8e357467a', 'message': ""Decompose the Redfish documentation\n\nThis page is huge and keeps growing. So:\n* Move additional topics to sub-documents.\n* Move ESP creation to the install guide (it's not even\n  Redfish-specific).\n* Create a generic firmware updates document.\n\nProvide a feature listing at the top for easier navigation.\n\nChange-Id: Ic58c139da5e1e60f5ce4d2cec18972ebee9e2485\n""}, {'number': 2, 'created': '2024-06-13 10:37:20.000000000', 'files': ['doc/source/admin/drivers/ilo.rst', 'doc/source/admin/drivers/redfish.rst', 'doc/source/admin/index.rst', 'doc/source/admin/drivers/redfish/passthru.rst', 'doc/source/admin/firmware-updates.rst', 'doc/source/admin/drivers/redfish/interop.rst', 'doc/source/install/setup-drivers.rst', 'doc/source/install/configure-esp.rst', 'doc/source/admin/drivers/redfish/session-cache.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/95784428a424f4fe3cab9c109d4ddfc3133b62bc', 'message': ""Decompose the Redfish documentation\n\nThis page is huge and keeps growing. So:\n* Move additional topics to sub-documents.\n* Move ESP creation to the install guide (it's not even\n  Redfish-specific).\n* Create a generic firmware updates document.\n\nProvide a feature listing at the top for easier navigation.\n\nChange-Id: Ic58c139da5e1e60f5ce4d2cec18972ebee9e2485\n""}]",2,921844,95784428a424f4fe3cab9c109d4ddfc3133b62bc,7,2,2,10239,,,0,"Decompose the Redfish documentation

This page is huge and keeps growing. So:
* Move additional topics to sub-documents.
* Move ESP creation to the install guide (it's not even
  Redfish-specific).
* Create a generic firmware updates document.

Provide a feature listing at the top for easier navigation.

Change-Id: Ic58c139da5e1e60f5ce4d2cec18972ebee9e2485
",git fetch https://review.opendev.org/openstack/ironic refs/changes/44/921844/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/drivers/ilo.rst', 'doc/source/admin/drivers/redfish.rst', 'doc/source/admin/index.rst', 'doc/source/admin/drivers/redfish/passthru.rst', 'doc/source/admin/firmware-updates.rst', 'doc/source/admin/drivers/redfish/interop.rst', 'doc/source/install/setup-drivers.rst', 'doc/source/install/configure-esp.rst', 'doc/source/admin/drivers/redfish/session-cache.rst']",9,021ed37f0dd10fe80c5a0f9ff6cc93a8e357467a,redfish-docs,"Internal Session Cache ====================== The ``redfish`` hardware type, and derived interfaces, utilizes a built-in session cache which prevents Ironic from re-authenticating every time Ironic attempts to connect to the BMC for any reason. This consists of cached connectors objects which are used and tracked by a unique consideration of ``redfish_username``, ``redfish_password``, ``redfish_verify_ca``, and finally ``redfish_address``. Changing any one of those values will trigger a new session to be created. The ``redfish_system_id`` value is explicitly not considered as Redfish has a model of use of one BMC to many systems, which is also a model Ironic supports. The session cache default size is ``1000`` sessions per conductor. If you are operating a deployment with a larger number of Redfish BMCs, it is advised that you do appropriately tune that number. This can be tuned via the API service configuration file, ``[redfish]connection_cache_size``. Session Cache Expiration ~~~~~~~~~~~~~~~~~~~~~~~~ By default, sessions remain cached for as long as possible in memory, as long as they have not experienced an authentication, connection, or other unexplained error. Under normal circumstances, the sessions will only be rolled out of the cache in order of oldest first when the cache becomes full. There is no time based expiration to entries in the session cache. Of course, the cache is only in memory, and restarting the ``ironic-conductor`` will also cause the cache to be rebuilt from scratch. If this is due to any persistent connectivity issue, this may be sign of an unexpected condition, and please consider contacting the Ironic developer community for assistance. ",,436,397
openstack%2Fcharm-keystone~921903,openstack/charm-keystone,stable/2024.1,Ibfabb2b9509a0d0543af048a489d33071ca69830,Add service role to service users,MERGED,2024-06-13 02:30:25.000000000,2024-06-13 13:23:04.000000000,2024-06-13 13:23:04.000000000,"[{'_account_id': 1131}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-13 02:30:25.000000000', 'files': ['unit_tests/test_keystone_utils.py', 'hooks/keystone_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/d9fcfbd18dc286115ab859bf199d2e714b22495e', 'message': 'Add service role to service users\n\nThe Secure RBAC work adds a service role which is utilized in some\npolicies for various services (e.g. neutron requires the service role\nfor updating port binding information). Ensure that all service\nusers have the service role added.\n\nChange-Id: Ibfabb2b9509a0d0543af048a489d33071ca69830\n(cherry picked from commit cb6aebb850518fde5122e9b157860cabdfa34059)\n'}]",1,921903,d9fcfbd18dc286115ab859bf199d2e714b22495e,8,4,1,2424,,,0,"Add service role to service users

The Secure RBAC work adds a service role which is utilized in some
policies for various services (e.g. neutron requires the service role
for updating port binding information). Ensure that all service
users have the service role added.

Change-Id: Ibfabb2b9509a0d0543af048a489d33071ca69830
(cherry picked from commit cb6aebb850518fde5122e9b157860cabdfa34059)
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/03/921903/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_keystone_utils.py', 'hooks/keystone_utils.py']",2,d9fcfbd18dc286115ab859bf199d2e714b22495e,add-service-role-stable/2024.1,"SERVICE_ROLE = ""service"" # Ensure the service have the service role set. In 2024.1 release # service such as neutron require the service role for certain # operations to function (e.g. update port binding profiles) create_role(SERVICE_ROLE, user=user, tenant=tenant, domain=SERVICE_DOMAIN)",,18,15
openstack%2Fcharm-vault~903839,openstack/charm-vault,stable/1.5,I64f1c2c9ced8ae4dff2bf232c6e673b596f84a14,Remove 'tls_insecure_skip_verify' in vault config,MERGED,2023-12-19 12:31:27.000000000,2024-06-13 13:21:37.000000000,2024-06-13 13:21:37.000000000,"[{'_account_id': 1131}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-12-19 12:31:27.000000000', 'files': ['src/templates/vault.hcl.j2'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/23b1788b6ebe8e23606376ffe521a88c4d94b1cc', 'message': ""Remove 'tls_insecure_skip_verify' in vault config\n\nThis commit removes the tls_insecure_skip_verify field in the vault\nconfig template. This was added as a workaround for a bug in the vault's\netcd client before 1.4.0 release. Since all channels now uses 1.5 or\nnewer versions of vault, this line can be removed.\n\n\nChange-Id: I64f1c2c9ced8ae4dff2bf232c6e673b596f84a14\nCloses-Bug: #1979582\n""}]",2,903839,23b1788b6ebe8e23606376ffe521a88c4d94b1cc,11,4,1,20870,,,0,"Remove 'tls_insecure_skip_verify' in vault config

This commit removes the tls_insecure_skip_verify field in the vault
config template. This was added as a workaround for a bug in the vault's
etcd client before 1.4.0 release. Since all channels now uses 1.5 or
newer versions of vault, this line can be removed.


Change-Id: I64f1c2c9ced8ae4dff2bf232c6e673b596f84a14
Closes-Bug: #1979582
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/39/903839/1 && git format-patch -1 --stdout FETCH_HEAD,['src/templates/vault.hcl.j2'],1,23b1788b6ebe8e23606376ffe521a88c4d94b1cc,1979582_remove_tls_insecure_skip_verify-stable/1.8-stable/1.7-stable/1.6-stable/1.5,," # Use tls_insecure_skip_verify due to https://github.com/hashicorp/vault/issues/4961 # tls_insecure_skip_verify is currently only supported in the snap version of vault. tls_insecure_skip_verify = ""true""",0,3
openstack%2Fcharm-vault~903838,openstack/charm-vault,stable/1.6,I64f1c2c9ced8ae4dff2bf232c6e673b596f84a14,Remove 'tls_insecure_skip_verify' in vault config,MERGED,2023-12-19 12:31:06.000000000,2024-06-13 13:21:36.000000000,2024-06-13 13:21:36.000000000,"[{'_account_id': 1131}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-12-19 12:31:06.000000000', 'files': ['src/templates/vault.hcl.j2'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/d81b3d7a10850e38f26e5dcd67b3f6c6bc54f945', 'message': ""Remove 'tls_insecure_skip_verify' in vault config\n\nThis commit removes the tls_insecure_skip_verify field in the vault\nconfig template. This was added as a workaround for a bug in the vault's\netcd client before 1.4.0 release. Since all channels now uses 1.5 or\nnewer versions of vault, this line can be removed.\n\n\nChange-Id: I64f1c2c9ced8ae4dff2bf232c6e673b596f84a14\nCloses-Bug: #1979582\n""}]",2,903838,d81b3d7a10850e38f26e5dcd67b3f6c6bc54f945,11,4,1,20870,,,0,"Remove 'tls_insecure_skip_verify' in vault config

This commit removes the tls_insecure_skip_verify field in the vault
config template. This was added as a workaround for a bug in the vault's
etcd client before 1.4.0 release. Since all channels now uses 1.5 or
newer versions of vault, this line can be removed.


Change-Id: I64f1c2c9ced8ae4dff2bf232c6e673b596f84a14
Closes-Bug: #1979582
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/38/903838/1 && git format-patch -1 --stdout FETCH_HEAD,['src/templates/vault.hcl.j2'],1,d81b3d7a10850e38f26e5dcd67b3f6c6bc54f945,1979582_remove_tls_insecure_skip_verify-stable/1.8-stable/1.7-stable/1.6,," # Use tls_insecure_skip_verify due to https://github.com/hashicorp/vault/issues/4961 # tls_insecure_skip_verify is currently only supported in the snap version of vault. tls_insecure_skip_verify = ""true""",0,3
openstack%2Fcharm-designate~920846,openstack/charm-designate,stable/2024.1,I1f3f15dff365df467379957fd5b96d6623496c86,Remove the designate-agent service/package install,MERGED,2024-05-30 17:10:50.000000000,2024-06-13 13:16:57.000000000,2024-06-13 13:16:57.000000000,"[{'_account_id': 1131}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-30 17:10:50.000000000', 'files': ['src/lib/charm/openstack/designate.py', 'src/templates/caracal/designate.conf'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/fc3225b1ef297361506ab22827ea9fac70fe75fd', 'message': 'Remove the designate-agent service/package install\n\nAs of caracal [1] the designate-agent service has been removed. The\ndesignate-mdns service is used instead, which was enabled in a previous\nrelease. The default settings for the designate-mdns have been left as\nis.\n\n[1] https://docs.openstack.org/releasenotes/designate/2024.1.html\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1214\n\nChange-Id: I1f3f15dff365df467379957fd5b96d6623496c86\nCloses-Bug: #2065596\n(cherry picked from commit c32bd7244e07d52152f70c9549fd53c2a9a3dca2)\n'}]",0,920846,fc3225b1ef297361506ab22827ea9fac70fe75fd,8,4,1,8992,,,0,"Remove the designate-agent service/package install

As of caracal [1] the designate-agent service has been removed. The
designate-mdns service is used instead, which was enabled in a previous
release. The default settings for the designate-mdns have been left as
is.

[1] https://docs.openstack.org/releasenotes/designate/2024.1.html

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1214

Change-Id: I1f3f15dff365df467379957fd5b96d6623496c86
Closes-Bug: #2065596
(cherry picked from commit c32bd7244e07d52152f70c9549fd53c2a9a3dca2)
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/46/920846/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/lib/charm/openstack/designate.py', 'src/templates/caracal/designate.conf']",2,fc3225b1ef297361506ab22827ea9fac70fe75fd,remove-designate-agent,"# Caracal [DEFAULT] # Where an option is commented out, but filled in this shows the default # value of that optiona aaa ######################## ## General Configuration ######################## # Show more verbose log output (sets INFO log level output) verbose = {{ options.verbose }} # Show debugging output in logs (sets DEBUG log level output) debug = {{ options.debug }} # Top-level directory for maintaining designate's state #state_path = /var/lib/designate # Log Configuration #log_config = None # Log directory #logdir = /var/log/designate # Use ""sudo designate-rootwrap /etc/designate/rootwrap.conf"" to use the real # root filter facility. # Change to ""sudo"" to skip the filtering and just run the comand directly #root_helper = sudo designate-rootwrap /etc/designate/rootwrap.conf # Which networking API to use, Defaults to neutron #network_api = neutron {%- if options.default_ttl %} # TTL Value (integer value) default_ttl = {{ options.default_ttl }} {%- endif %} {%- if options.default_soa_refresh_min %} # SOA refresh-min value (integer value) default_soa_refresh_min = {{ options.default_soa_refresh_min }} {%- endif %} {%- if options.default_soa_refresh_max %} # SOA max value (integer value) default_soa_refresh_max = {{ options.default_soa_refresh_max }} {%- endif %} {%- if options.default_soa_retry %} # SOA retry (integer value) default_soa_retry = {{ options.default_soa_retry }} {%- endif %} {%- if options.default_soa_minimum %} # SOA minimum value (integer value) default_soa_minimum = {{ options.default_soa_minimum }} {%- endif %} # SOA expire (integer value) default_soa_expire = {{ options.default_soa_expire }} {% include ""parts/section-transport-url"" %} #----------------------- # RabbitMQ Config #----------------------- {% include ""parts/section-oslo-messaging-rabbit"" %} ######################## ## Service Configuration ######################## #----------------------- # Central Service #----------------------- [service:central] # Number of central worker processes to spawn workers = {{ options.workers }} # Number of central greenthreads to spawn #threads = 1000 # Maximum domain name length #max_domain_name_len = 255 # Maximum recordset name length #max_recordset_name_len = 255 # Minimum TTL #min_ttl = None # The name of the default pool #default_pool_id = '794ccc2c-d751-44fe-b57f-8894c9f5c842' ## Managed resources settings # Email to use for managed resources like domains created by the FloatingIP API managed_resource_email = {{ options.managed_resource_email }} {%- if options.managed_resource_tenant_id %} # Tenant ID to own all managed resources - like auto-created records etc. managed_resource_tenant_id = {{ options.managed_resource_tenant_id }} {%- endif %} #----------------------- # API Service #----------------------- [service:api] # Number of api worker processes to spawn #workers = None # Number of api greenthreads to spawn #threads = 1000 # Enable host request headers enable_host_header = true # The base uri used in responses api_base_uri = '{{ options.external_endpoints.designate_api.url }}' # API host:port pairs to listen on (list value) # NOTE:tinwood - Listen on every interface; fix for BUG #1734156 listen = 0.0.0.0:{{ options.service_listen_info.designate_api.port }} # Maximum line size of message headers to be accepted. max_header_line may # need to be increased when using large tokens (typically those generated by # the Keystone v3 API with big service catalogs). #max_header_line = 16384 # Authentication strategy to use - can be either ""noauth"" or ""keystone"" #auth_strategy = keystone # Enable Version 1 API (deprecated) enable_api_v1 = True # Enabled API Version 1 extensions # Can be one or more of : diagnostics, quotas, reports, sync, touch #enabled_extensions_v1 = enabled_extensions_v1 = sync, touch # Enable Version 2 API enable_api_v2 = True # Enabled API Version 2 extensions #enabled_extensions_v2 = # Default per-page limit for the V2 API, a value of None means show all results # by default #default_limit_v2 = 20 # Max page size in the V2 API #max_limit_v2 = 1000 # Enable Admin API (experimental) #enable_api_admin = False enable_api_admin = {{ options.enable_admin_api }} # Enabled Admin API extensions # Can be one or more of : reports, quotas, counts, tenants, zones # zone export is in zones extension #enabled_extensions_admin = {% if options.enable_admin_api -%} enabled_extensions_admin = reports, quotas, counts, tenants, zones {%- endif %} # Default per-page limit for the Admin API, a value of None means show all results # by default #default_limit_admin = 20 # Max page size in the Admin API #max_limit_admin = 1000 # Show the pecan HTML based debug interface (v2 only) # This is only useful for development, and WILL break python-designateclient # if an error occurs #pecan_debug = False #----------------------- # Keystone Middleware #----------------------- {% include ""parts/section-keystone-authtoken"" %} #----------------------- # Sink Service #----------------------- [service:sink] # List of notification handlers to enable, configuration of these needs to # correspond to a [handler:my_driver] section below or else in the config # Can be one or more of : nova_fixed, neutron_floatingip enabled_notification_handlers = {{ options.notification_handlers }} #----------------------- # mDNS Service #----------------------- [service:mdns] # Number of mdns worker processes to spawn #workers = None # Number of mdns greenthreads to spawn #threads = 1000 # mDNS Bind Host #host = 0.0.0.0 # mDNS Port Number #port = 5354 # mDNS TCP Backlog #tcp_backlog = 100 # mDNS TCP Receive Timeout #tcp_recv_timeout = 0.5 # Enforce all incoming queries (including AXFR) are TSIG signed #query_enforce_tsig = False # Send all traffic over TCP #all_tcp = False # Maximum message size to emit #max_message_size = 65535 #----------------------- # Worker Service #----------------------- [service:worker] enabled = True ################################### ## Pool Manager Cache Configuration ################################### #----------------------- # SQLAlchemy Pool Manager Cache #----------------------- [pool_manager_cache:sqlalchemy] connection = {{ shared_db.designate_pool_uri }} #connection = sqlite:///$state_path/designate_pool_manager.sqlite #connection_debug = 100 #connection_trace = False #sqlite_synchronous = True #idle_timeout = 3600 #max_retries = 10 #retry_interval = 10 #----------------------- # Memcache Pool Manager Cache #----------------------- [pool_manager_cache:memcache] #memcached_servers = None #expiration = 3600 ############## ## Network API ############## [network_api:neutron] # Comma separated list of values, formatted ""<name>|<neutron_uri>"" #endpoints = RegionOne|http://localhost:9696 #endpoint_type = publicURL #timeout = 30 #admin_username = designate #admin_password = designate #admin_tenant_name = designate #auth_url = http://localhost:35357/v2.0 #insecure = False #auth_strategy = keystone #ca_certificates_file = ######################## ## Storage Configuration ######################## #----------------------- # SQLAlchemy Storage #----------------------- [storage:sqlalchemy] # Database connection string - to configure options for a given implementation # like sqlalchemy or other see below #connection = sqlite:///$state_path/designate.sqlite connection = {{ shared_db.designate_uri }} #connection_debug = 0 #connection_trace = False #sqlite_synchronous = True #idle_timeout = 3600 #max_retries = 10 #retry_interval = 10 ######################## ## Handler Configuration ######################## #----------------------- # Nova Fixed Handler #----------------------- #format = '%(hostname)s.%(domain)s' ############################# ## Agent Backend Configuration ############################# [backend:agent:bind9] #rndc_config_file = /etc/rndc.conf #rndc_key_file = /etc/rndc.key #zone_file_path = $state_path/zones #query_destination = 127.0.0.1 # [backend:agent:denominator] #name = dynect #config_file = /etc/denominator.conf ######################## ## Library Configuration ######################## [oslo_concurrency] # Path for Oslo Concurrency to store lock files, defaults to the value # of the state_path setting. #lock_path = $state_path ######################## ## Coordination ######################## [coordination] {% if coordinator_memcached.url -%} backend_url = {{ coordinator_memcached.url }} {%- endif %} ######################## ## Hook Points ######################## # Hook Points are enabled when added to the config and there has been # a package that provides the corresponding named designate.hook_point # entry point. # [hook_point:name_of_hook_point] # some_param_for_hook = 42 # Hooks can be disabled in the config # enabled = False # Hook can also be applied to the import path when the hook has not # been given an explicit name. The name is created from the hook # target function / method: # # name = '%s.%s' % (func.__module__, func.__name__) # [hook_point:designate.api.v2.controllers.zones.get_one] {% include ""parts/section-oslo-middleware"" %} [producer_task:zone_purge] # How old deleted records should be (deleted_at) to be purged, in seconds time_threshold = {{ options.zone_purge_time_threshold }} ",,358,0
openstack%2Fcinder~919607,openstack/cinder,master,Ifaceb04263973b1445c7f13a6155dc63647d7176,RBD: Fix handling of ImageNotFound in get_manageable_volumes,NEW,2024-05-14 17:42:42.000000000,2024-06-13 13:08:33.000000000,,"[{'_account_id': 597}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-14 17:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c7fdeeb75d3cf6bfad63f8d77f8f391847840bd4', 'message': 'RBD: Fix handling of ImageNotFound in get_manageable_volumes\n\nThe ""except ImageNotFound"" was outside of the required try block,\nso ImageNotFound errors would result in exceptions being thrown\nup to the API layer.\n\nCloses-Bug: #2065713\nChange-Id: Ifaceb04263973b1445c7f13a6155dc63647d7176\n'}, {'number': 2, 'created': '2024-05-15 14:52:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/46d63905d43650f909786f8344fd6bd4cd869ff3', 'message': 'RBD: Fix handling of ImageNotFound in get_manageable_volumes\n\nThe ""except ImageNotFound"" was outside of the required try block,\nso ImageNotFound errors would result in exceptions being thrown\nup to the API layer.\n\nCloses-Bug: #2065713\nChange-Id: Ifaceb04263973b1445c7f13a6155dc63647d7176\n'}, {'number': 3, 'created': '2024-06-04 12:26:22.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py', 'releasenotes/notes/rbd-bug-2065713-driver-exc-handling-f8de823cd9acd767.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/425834086719972432ff18361e29f843484adf62', 'message': 'RBD: Fix handling of ImageNotFound in get_manageable_volumes\n\nThe ""except ImageNotFound"" was outside of the required try block,\nso ImageNotFound errors would result in exceptions being thrown\nup to the API layer.\n\nCloses-Bug: #2065713\nChange-Id: Ifaceb04263973b1445c7f13a6155dc63647d7176\n'}]",3,919607,425834086719972432ff18361e29f843484adf62,50,2,3,4523,,,0,"RBD: Fix handling of ImageNotFound in get_manageable_volumes

The ""except ImageNotFound"" was outside of the required try block,
so ImageNotFound errors would result in exceptions being thrown
up to the API layer.

Closes-Bug: #2065713
Change-Id: Ifaceb04263973b1445c7f13a6155dc63647d7176
",git fetch https://review.opendev.org/openstack/cinder refs/changes/07/919607/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py']",2,c7fdeeb75d3cf6bfad63f8d77f8f391847840bd4,," @mock.patch.object(driver.RBDDriver, '_get_image_status') def test_get_manageable_volumes_exc(self, mock_get_image_status): cinder_vols = [{'id': '00000000-0000-0000-0000-000000000000'}] vols = ['volume-00000000-0000-0000-0000-000000000000', 'vol1', 'vol2', 'volume-11111111-1111-1111-1111-111111111111.deleted'] self.mock_rbd.RBD.return_value.list.return_value = vols image = self.mock_proxy.return_value.__enter__.return_value image.size.side_effect = [2 * units.Gi, 4 * units.Gi, 6 * units.Gi, 8 * units.Gi] mock_get_image_status.side_effect = [ {'watchers': []}, self.mock_rbd.ImageNotFound, {'watchers': []}] res = self.driver.get_manageable_volumes( cinder_vols, None, 1000, 0, ['size'], ['asc']) exp = [{'size': 2, 'reason_not_safe': 'already managed', 'extra_info': None, 'safe_to_manage': False, 'reference': {'source-name': 'volume-00000000-0000-0000-0000-000000000000'}, 'cinder_id': '00000000-0000-0000-0000-000000000000'}, {'size': 4, 'reason_not_safe': None, 'safe_to_manage': True, 'reference': {'source-name': 'vol1'}, 'cinder_id': None, 'extra_info': None}, {'size': 8, 'reason_not_safe': 'volume marked as deleted', 'safe_to_manage': False, 'cinder_id': None, 'extra_info': None, 'reference': { 'source-name': 'volume-11111111-1111-1111-1111-111111111111.deleted'}} ] self.assertEqual(exp, res) @common_mocks",,39,6
openstack%2Ftenks~921620,openstack/tenks,master,Ia740e9d8455fd9424378fa31b3495149db31c8e7,Bump minimum Python and Ansible versions,NEW,2024-06-08 21:55:29.000000000,2024-06-13 13:07:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-08 21:55:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tenks/commit/4cffcf5f2f50e5eeb8851f7dde2ff3c3f9d82ade', 'message': 'Bump minimum Ansible version to 8.x\n\nSwitch from os_ironic module to openstack.cloud.baremetal_node.\n\nChange-Id: Ia740e9d8455fd9424378fa31b3495149db31c8e7\n'}, {'number': 2, 'created': '2024-06-09 13:08:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tenks/commit/3a2b68ff33769d7a53759ce9261cbb4e885208eb', 'message': ""Bump minimum Python and Ansible versions\n\nRunning ansible-galaxy inside a tenks venv was failing on Ubuntu 22.04\nwith the following error:\n\n    AttributeError: module 'lib' has no attribute 'X509_V_FLAG_NOTIFY_POLICY'\n\nSynchronise minimum Python and Ansible versions with Kayobe and switch\nfrom os_ironic module to openstack.cloud.baremetal_node.\n\nAlso drop centos8s and ubuntu-focal CI jobs.\n\nChange-Id: Ia740e9d8455fd9424378fa31b3495149db31c8e7\n""}, {'number': 3, 'created': '2024-06-09 13:25:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tenks/commit/40698a03c1a19d150420039dd57bf10df07a615e', 'message': ""Bump minimum Python and Ansible versions\n\nRunning ansible-galaxy inside a tenks venv was failing on Ubuntu 22.04\nwith the following error:\n\n    AttributeError: module 'lib' has no attribute 'X509_V_FLAG_NOTIFY_POLICY'\n\nSynchronise minimum Python and Ansible versions with Kayobe and switch\nfrom os_ironic module to openstack.cloud.baremetal_node.\n\nAlso drop centos8s and ubuntu-focal CI jobs.\n\nChange-Id: Ia740e9d8455fd9424378fa31b3495149db31c8e7\n""}, {'number': 4, 'created': '2024-06-09 14:49:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tenks/commit/094fdee87809f8059e61bcdeaed9925c08b6bf00', 'message': ""Bump minimum Python and Ansible versions\n\nRunning ansible-galaxy inside a tenks venv was failing on Ubuntu 22.04\nwith the following error:\n\n    AttributeError: module 'lib' has no attribute 'X509_V_FLAG_NOTIFY_POLICY'\n\nSynchronise minimum Python and Ansible versions with Kayobe and switch\nfrom os_ironic module to openstack.cloud.baremetal_node.\n\nAlso drop centos8s and ubuntu-focal CI jobs.\n\nChange-Id: Ia740e9d8455fd9424378fa31b3495149db31c8e7\n""}, {'number': 5, 'created': '2024-06-09 15:53:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tenks/commit/b3975e863fd7a38c109e7b3e7451833369908a3c', 'message': ""Bump minimum Python and Ansible versions\n\nRunning ansible-galaxy inside a tenks venv was failing on Ubuntu 22.04\nwith the following error:\n\n    AttributeError: module 'lib' has no attribute 'X509_V_FLAG_NOTIFY_POLICY'\n\nSynchronise minimum Python and Ansible versions with Kayobe and switch\nfrom os_ironic module to openstack.cloud.baremetal_node.\n\nAlso drop centos8s and ubuntu-focal CI jobs.\n\nChange-Id: Ia740e9d8455fd9424378fa31b3495149db31c8e7\n""}, {'number': 6, 'created': '2024-06-09 20:24:46.000000000', 'files': ['requirements.txt', 'ansible/roles/ironic-enrolment/tasks/main.yml', 'tests/test_tenks_wait_for_resources.py', 'zuul.d/project.yaml', 'setup.cfg', 'ansible/roles/ironic-enrolment/tasks/node.yml'], 'web_link': 'https://opendev.org/openstack/tenks/commit/8af596fdc5e1ef223a5e87ca271ef236848b102d', 'message': ""Bump minimum Python and Ansible versions\n\nRunning ansible-galaxy inside a tenks venv was failing on Ubuntu 22.04\nwith the following error:\n\n    AttributeError: module 'lib' has no attribute 'X509_V_FLAG_NOTIFY_POLICY'\n\nSynchronise minimum Python and Ansible versions with Kayobe and switch\nfrom os_ironic module to openstack.cloud.baremetal_node.\n\nAlso drop centos8s and ubuntu-focal CI jobs.\n\nChange-Id: Ia740e9d8455fd9424378fa31b3495149db31c8e7\n""}]",4,921620,8af596fdc5e1ef223a5e87ca271ef236848b102d,16,1,6,15197,,,0,"Bump minimum Python and Ansible versions

Running ansible-galaxy inside a tenks venv was failing on Ubuntu 22.04
with the following error:

    AttributeError: module 'lib' has no attribute 'X509_V_FLAG_NOTIFY_POLICY'

Synchronise minimum Python and Ansible versions with Kayobe and switch
from os_ironic module to openstack.cloud.baremetal_node.

Also drop centos8s and ubuntu-focal CI jobs.

Change-Id: Ia740e9d8455fd9424378fa31b3495149db31c8e7
",git fetch https://review.opendev.org/openstack/tenks refs/changes/20/921620/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'ansible/roles/ironic-enrolment/tasks/main.yml', 'ansible/roles/ironic-enrolment/tasks/node.yml']",3,4cffcf5f2f50e5eeb8851f7dde2ff3c3f9d82ade,ansible-bump," openstack.cloud.baremetal_node: ipmi_address: ""{{ hostvars[ironic_hypervisor].ipmi_address }}"" # This is passed in from main.yml. ipmi_port: ""{{ ipmi_port }}"" ipmi_username: ""{{ hostvars[ironic_hypervisor].ipmi_username }}"" ipmi_password: ""{{ hostvars[ironic_hypervisor].ipmi_password }}"" deploy_kernel: ""{{ ironic_deploy_kernel_uuid | default(omit, true) }}"" deploy_ramdisk: ""{{ ironic_deploy_ramdisk_uuid | default(omit, true) }}"" '{{ node_res.node.id }}' '{{ node_res.node.id }}' '{{ node_res.node.id }}' unset '{{ node_res.node.id }}'"," os_ironic: ironic_url: ""{{ ironic_url | default(omit) }}"" power: ipmi_address: ""{{ hostvars[ironic_hypervisor].ipmi_address }}"" # This is passed in from main.yml. ipmi_port: ""{{ ipmi_port }}"" ipmi_username: ""{{ hostvars[ironic_hypervisor].ipmi_username }}"" ipmi_password: ""{{ hostvars[ironic_hypervisor].ipmi_password }}"" deploy: deploy_kernel: ""{{ ironic_deploy_kernel_uuid | default(omit, true) }}"" deploy_ramdisk: ""{{ ironic_deploy_ramdisk_uuid | default(omit, true) }}"" '{{ node_res.uuid }}' '{{ node_res.uuid }}' '{{ node_res.uuid }}' unset '{{ node_res.uuid }}'",13,42
openstack%2Fcharm-nova-cloud-controller~921749,openstack/charm-nova-cloud-controller,stable/ussuri,I4602a9cf38126b50bfe188b68a75cff1d2597342,Add new action purge-data,NEW,2024-06-11 10:10:51.000000000,2024-06-13 13:07:13.000000000,,"[{'_account_id': 1131}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-11 10:10:51.000000000', 'files': ['actions/actions.py', 'unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py', 'actions/purge-data', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/9d4dbcc129eb7bcca89174bbcfd6dcd1aac18312', 'message': 'Add new action purge-data\n\nThe action will run\n`nova-manage db purge --verbose --all`\nto delete rows from shadow tables.\n\nRelated-Bug: 2066940\nChange-Id: I4602a9cf38126b50bfe188b68a75cff1d2597342\n(cherry picked from commit 02adbab96924b5f4f12ccb148df1ef0242acb0df)\n'}]",0,921749,9d4dbcc129eb7bcca89174bbcfd6dcd1aac18312,4,3,1,34720,,,0,"Add new action purge-data

The action will run
`nova-manage db purge --verbose --all`
to delete rows from shadow tables.

Related-Bug: 2066940
Change-Id: I4602a9cf38126b50bfe188b68a75cff1d2597342
(cherry picked from commit 02adbab96924b5f4f12ccb148df1ef0242acb0df)
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/49/921749/1 && git format-patch -1 --stdout FETCH_HEAD,"['actions/actions.py', 'unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py', 'actions/purge-data', 'actions.yaml']",5,9d4dbcc129eb7bcca89174bbcfd6dcd1aac18312,bug/2066940-stable/ussuri,"purge-data: description: Run job to purge stale soft deleted rows in database params: before: type: string description: | Delete data from all shadow tables that is older than the date provided. Date strings may be fuzzy, such as `Oct 21 2015`.", description: Archive old data to shadow tables,122,1
openstack%2Fcharm-nova-cloud-controller~921748,openstack/charm-nova-cloud-controller,stable/victoria,I4602a9cf38126b50bfe188b68a75cff1d2597342,Add new action purge-data,NEW,2024-06-11 10:10:35.000000000,2024-06-13 13:07:04.000000000,,"[{'_account_id': 1131}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-11 10:10:35.000000000', 'files': ['actions/actions.py', 'unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py', 'actions/purge-data', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/9330e34ce4def7835ef2fe1b4fe31cdc0cbf9f28', 'message': 'Add new action purge-data\n\nThe action will run\n`nova-manage db purge --verbose --all`\nto delete rows from shadow tables.\n\nRelated-Bug: 2066940\nChange-Id: I4602a9cf38126b50bfe188b68a75cff1d2597342\n(cherry picked from commit 02adbab96924b5f4f12ccb148df1ef0242acb0df)\n'}]",0,921748,9330e34ce4def7835ef2fe1b4fe31cdc0cbf9f28,4,3,1,34720,,,0,"Add new action purge-data

The action will run
`nova-manage db purge --verbose --all`
to delete rows from shadow tables.

Related-Bug: 2066940
Change-Id: I4602a9cf38126b50bfe188b68a75cff1d2597342
(cherry picked from commit 02adbab96924b5f4f12ccb148df1ef0242acb0df)
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/48/921748/1 && git format-patch -1 --stdout FETCH_HEAD,"['actions/actions.py', 'unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py', 'actions/purge-data', 'actions.yaml']",5,9330e34ce4def7835ef2fe1b4fe31cdc0cbf9f28,bug/2066940-stable/victoria,"purge-data: description: Run job to purge stale soft deleted rows in database params: before: type: string description: | Delete data from all shadow tables that is older than the date provided. Date strings may be fuzzy, such as `Oct 21 2015`.", description: Archive old data to shadow tables,122,1
openstack%2Fcharm-nova-cloud-controller~921747,openstack/charm-nova-cloud-controller,stable/wallaby,I4602a9cf38126b50bfe188b68a75cff1d2597342,Add new action purge-data,NEW,2024-06-11 10:10:02.000000000,2024-06-13 13:06:55.000000000,,"[{'_account_id': 1131}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-11 10:10:02.000000000', 'files': ['actions/actions.py', 'unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py', 'actions/purge-data', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/0e02e957a751b3e61b03644d3e70d402b3c0d49e', 'message': 'Add new action purge-data\n\nThe action will run\n`nova-manage db purge --verbose --all`\nto delete rows from shadow tables.\n\nRelated-Bug: 2066940\nChange-Id: I4602a9cf38126b50bfe188b68a75cff1d2597342\n(cherry picked from commit 02adbab96924b5f4f12ccb148df1ef0242acb0df)\n'}]",0,921747,0e02e957a751b3e61b03644d3e70d402b3c0d49e,4,3,1,34720,,,0,"Add new action purge-data

The action will run
`nova-manage db purge --verbose --all`
to delete rows from shadow tables.

Related-Bug: 2066940
Change-Id: I4602a9cf38126b50bfe188b68a75cff1d2597342
(cherry picked from commit 02adbab96924b5f4f12ccb148df1ef0242acb0df)
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/47/921747/1 && git format-patch -1 --stdout FETCH_HEAD,"['actions/actions.py', 'unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py', 'actions/purge-data', 'actions.yaml']",5,0e02e957a751b3e61b03644d3e70d402b3c0d49e,bug/2066940-stable/wallaby,"purge-data: description: Run job to purge stale soft deleted rows in database params: before: type: string description: | Delete data from all shadow tables that is older than the date provided. Date strings may be fuzzy, such as `Oct 21 2015`.", description: Archive old data to shadow tables,122,1
openstack%2Fcharm-nova-cloud-controller~921746,openstack/charm-nova-cloud-controller,stable/xena,I4602a9cf38126b50bfe188b68a75cff1d2597342,Add new action purge-data,NEW,2024-06-11 10:09:34.000000000,2024-06-13 13:06:43.000000000,,"[{'_account_id': 1131}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-11 10:09:34.000000000', 'files': ['actions/actions.py', 'unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py', 'actions/purge-data', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/843b425dbc02b09cbaf498573d1825772c5ab5c8', 'message': 'Add new action purge-data\n\nThe action will run\n`nova-manage db purge --verbose --all`\nto delete rows from shadow tables.\n\nRelated-Bug: 2066940\nChange-Id: I4602a9cf38126b50bfe188b68a75cff1d2597342\n(cherry picked from commit 02adbab96924b5f4f12ccb148df1ef0242acb0df)\n'}]",0,921746,843b425dbc02b09cbaf498573d1825772c5ab5c8,4,3,1,34720,,,0,"Add new action purge-data

The action will run
`nova-manage db purge --verbose --all`
to delete rows from shadow tables.

Related-Bug: 2066940
Change-Id: I4602a9cf38126b50bfe188b68a75cff1d2597342
(cherry picked from commit 02adbab96924b5f4f12ccb148df1ef0242acb0df)
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/46/921746/1 && git format-patch -1 --stdout FETCH_HEAD,"['actions/actions.py', 'unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py', 'actions/purge-data', 'actions.yaml']",5,843b425dbc02b09cbaf498573d1825772c5ab5c8,bug/2066940-stable/xena,"purge-data: description: Run job to purge stale soft deleted rows in database params: before: type: string description: | Delete data from all shadow tables that is older than the date provided. Date strings may be fuzzy, such as `Oct 21 2015`.", description: Archive old data to shadow tables,122,1
openstack%2Fcharm-nova-cloud-controller~921745,openstack/charm-nova-cloud-controller,stable/yoga,I4602a9cf38126b50bfe188b68a75cff1d2597342,Add new action purge-data,NEW,2024-06-11 10:08:45.000000000,2024-06-13 13:06:32.000000000,,"[{'_account_id': 1131}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-11 10:08:45.000000000', 'files': ['actions/actions.py', 'unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py', 'actions/purge-data', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/59404ff046d4ef1aed53ddcd1b918e4c88bc0777', 'message': 'Add new action purge-data\n\nThe action will run\n`nova-manage db purge --verbose --all`\nto delete rows from shadow tables.\n\nRelated-Bug: 2066940\nChange-Id: I4602a9cf38126b50bfe188b68a75cff1d2597342\n(cherry picked from commit 02adbab96924b5f4f12ccb148df1ef0242acb0df)\n'}]",0,921745,59404ff046d4ef1aed53ddcd1b918e4c88bc0777,4,3,1,34720,,,0,"Add new action purge-data

The action will run
`nova-manage db purge --verbose --all`
to delete rows from shadow tables.

Related-Bug: 2066940
Change-Id: I4602a9cf38126b50bfe188b68a75cff1d2597342
(cherry picked from commit 02adbab96924b5f4f12ccb148df1ef0242acb0df)
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/45/921745/1 && git format-patch -1 --stdout FETCH_HEAD,"['actions/actions.py', 'unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py', 'actions/purge-data', 'actions.yaml']",5,59404ff046d4ef1aed53ddcd1b918e4c88bc0777,bug/2066940-stable/yoga,"purge-data: description: Run job to purge stale soft deleted rows in database params: before: type: string description: | Delete data from all shadow tables that is older than the date provided. Date strings may be fuzzy, such as `Oct 21 2015`.", description: Archive old data to shadow tables,122,1
openstack%2Fcharm-nova-cloud-controller~921744,openstack/charm-nova-cloud-controller,stable/zed,I4602a9cf38126b50bfe188b68a75cff1d2597342,Add new action purge-data,NEW,2024-06-11 10:07:04.000000000,2024-06-13 13:06:19.000000000,,"[{'_account_id': 1131}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-11 10:07:04.000000000', 'files': ['actions/actions.py', 'unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py', 'actions/purge-data', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/e2442ef7bd5e65d5ff465b8002632436302169ea', 'message': 'Add new action purge-data\n\nThe action will run\n`nova-manage db purge --verbose --all`\nto delete rows from shadow tables.\n\nRelated-Bug: 2066940\nChange-Id: I4602a9cf38126b50bfe188b68a75cff1d2597342\n(cherry picked from commit 02adbab96924b5f4f12ccb148df1ef0242acb0df)\n'}]",1,921744,e2442ef7bd5e65d5ff465b8002632436302169ea,5,3,1,34720,,,0,"Add new action purge-data

The action will run
`nova-manage db purge --verbose --all`
to delete rows from shadow tables.

Related-Bug: 2066940
Change-Id: I4602a9cf38126b50bfe188b68a75cff1d2597342
(cherry picked from commit 02adbab96924b5f4f12ccb148df1ef0242acb0df)
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/44/921744/1 && git format-patch -1 --stdout FETCH_HEAD,"['actions/actions.py', 'unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py', 'actions/purge-data', 'actions.yaml']",5,e2442ef7bd5e65d5ff465b8002632436302169ea,bug/2066940-stable/zed,"purge-data: description: Run job to purge stale soft deleted rows in database params: before: type: string description: | Delete data from all shadow tables that is older than the date provided. Date strings may be fuzzy, such as `Oct 21 2015`.", description: Archive old data to shadow tables,122,1
openstack%2Fcharm-nova-cloud-controller~921905,openstack/charm-nova-cloud-controller,stable/2023.1,I4602a9cf38126b50bfe188b68a75cff1d2597342,Add new action purge-data,NEW,2024-06-13 02:35:08.000000000,2024-06-13 13:06:03.000000000,,"[{'_account_id': 1131}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-13 02:35:08.000000000', 'files': ['actions/actions.py', 'unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py', 'actions/purge-data', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/a7f028a148cfd3e31dd514e327cdf0b51f63e47b', 'message': 'Add new action purge-data\n\nThe action will run\n`nova-manage db purge --verbose --all`\nto delete rows from shadow tables.\n\nRelated-Bug: 2066940\nChange-Id: I4602a9cf38126b50bfe188b68a75cff1d2597342\n(cherry picked from commit 02adbab96924b5f4f12ccb148df1ef0242acb0df)\n'}]",0,921905,a7f028a148cfd3e31dd514e327cdf0b51f63e47b,4,3,1,34720,,,0,"Add new action purge-data

The action will run
`nova-manage db purge --verbose --all`
to delete rows from shadow tables.

Related-Bug: 2066940
Change-Id: I4602a9cf38126b50bfe188b68a75cff1d2597342
(cherry picked from commit 02adbab96924b5f4f12ccb148df1ef0242acb0df)
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/05/921905/1 && git format-patch -1 --stdout FETCH_HEAD,"['actions/actions.py', 'unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py', 'actions/purge-data', 'actions.yaml']",5,a7f028a148cfd3e31dd514e327cdf0b51f63e47b,bug/2066940-stable/2023.1,"purge-data: description: Run job to purge stale soft deleted rows in database params: before: type: string description: | Delete data from all shadow tables that is older than the date provided. Date strings may be fuzzy, such as `Oct 21 2015`.", description: Archive old data to shadow tables,122,1
openstack%2Fopenstacksdk~919884,openstack/openstacksdk,master,I2d0b9a900d60d666ba07b759eccdb9a8e1c164bb,"compute, block storage: Add support for quota class sets",NEW,2024-05-16 16:28:21.000000000,2024-06-13 13:06:02.000000000,,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2024-05-16 16:28:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/add88f0d41cd92de2e341560ba13b7ed4e722381', 'message': 'Add support for quota class sets\n\nChange-Id: I2d0b9a900d60d666ba07b759eccdb9a8e1c164bb\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2024-05-17 12:21:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5b198b4361b48beb28e72fab68322d70b637857f', 'message': 'compute, block storage: Add support for quota class sets\n\nChange-Id: I2d0b9a900d60d666ba07b759eccdb9a8e1c164bb\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2024-06-11 12:15:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2bd116b7f6e81f822b990a3ebb203bea2a609c11', 'message': 'compute, block storage: Add support for quota class sets\n\nChange-Id: I2d0b9a900d60d666ba07b759eccdb9a8e1c164bb\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2024-06-13 11:23:21.000000000', 'files': ['doc/source/user/proxies/block_storage_v2.rst', 'openstack/block_storage/v3/_proxy.py', 'openstack/block_storage/v2/_proxy.py', 'doc/source/user/proxies/block_storage_v3.rst', 'openstack/tests/unit/block_storage/v2/test_proxy.py', 'openstack/compute/v2/quota_set.py', 'openstack/compute/v2/quota_class_set.py', 'openstack/block_storage/v3/quota_class_set.py', 'openstack/tests/unit/block_storage/v3/test_proxy.py', 'openstack/tests/unit/compute/v2/test_proxy.py', 'openstack/block_storage/v2/quota_class_set.py', 'doc/source/user/proxies/compute.rst', 'openstack/compute/v2/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4275dfc53c745e584103b7d5ce1c8fb0c5cdc46f', 'message': 'compute, block storage: Add support for quota class sets\n\nChange-Id: I2d0b9a900d60d666ba07b759eccdb9a8e1c164bb\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,919884,4275dfc53c745e584103b7d5ce1c8fb0c5cdc46f,8,2,4,15334,,,0,"compute, block storage: Add support for quota class sets

Change-Id: I2d0b9a900d60d666ba07b759eccdb9a8e1c164bb
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/84/919884/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/proxies/block_storage_v2.rst', 'openstack/block_storage/v3/_proxy.py', 'openstack/block_storage/v2/_proxy.py', 'doc/source/user/proxies/block_storage_v3.rst', 'openstack/tests/unit/block_storage/v2/test_proxy.py', 'openstack/compute/v2/quota_set.py', 'openstack/compute/v2/quota_class_set.py', 'openstack/block_storage/v3/quota_class_set.py', 'openstack/tests/unit/block_storage/v3/test_proxy.py', 'openstack/tests/unit/compute/v2/test_proxy.py', 'openstack/block_storage/v2/quota_class_set.py', 'doc/source/user/proxies/compute.rst', 'openstack/compute/v2/_proxy.py']",13,add88f0d41cd92de2e341560ba13b7ed4e722381,compute-gaps,"from openstack.compute.v2 import quota_class_set as _quota_class_set ""quota_class_set"": _quota_class_set.QuotaClassSet, # ========== Quota class sets ========== def get_quota_class_set(self, quota_class_set='default'): """"""Get a single quota class set Only one quota class is permitted, ``default``. :param quota_class_set: The value can be the ID of a quota class set (only ``default`` is supported) or a :class:`~openstack.compute.v2.quota_class_set.QuotaClassSet` instance. :returns: One :class:`~openstack.compute.v2.quota_class_set.QuotaClassSet` :raises: :class:`~openstack.exceptions.ResourceNotFound` when no resource can be found. """""" return self._get(_quota_class_set.QuotaClassSet, quota_class_set) def update_quota_class_set(self, quota_class_set, **attrs): """"""Update a QuotaClassSet. Only one quota class is permitted, ``default``. :param quota_class_set: Either the ID of a quota class set (only ``default`` is supported) or a :class:`~openstack.compute.v2.quota_class_set.QuotaClassSet` instance. :param attrs: The attributes to update on the QuotaClassSet represented by ``quota_class_set``. :returns: The updated QuotaSet :rtype: :class:`~openstack.compute.v2.quota_set.QuotaSet` """""" return self._update( _quota_class_set.QuotaClassSet, quota_class_set, **attrs ) ",,348,25
openstack%2Fcharm-nova-cloud-controller~921904,openstack/charm-nova-cloud-controller,stable/2023.2,I4602a9cf38126b50bfe188b68a75cff1d2597342,Add new action purge-data,NEW,2024-06-13 02:34:56.000000000,2024-06-13 13:05:50.000000000,,"[{'_account_id': 1131}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-13 02:34:56.000000000', 'files': ['actions/actions.py', 'unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py', 'actions/purge-data', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/676b663177cc179a149bb2df84abd97e06273d10', 'message': 'Add new action purge-data\n\nThe action will run\n`nova-manage db purge --verbose --all`\nto delete rows from shadow tables.\n\nRelated-Bug: 2066940\nChange-Id: I4602a9cf38126b50bfe188b68a75cff1d2597342\n(cherry picked from commit 02adbab96924b5f4f12ccb148df1ef0242acb0df)\n'}]",0,921904,676b663177cc179a149bb2df84abd97e06273d10,4,3,1,34720,,,0,"Add new action purge-data

The action will run
`nova-manage db purge --verbose --all`
to delete rows from shadow tables.

Related-Bug: 2066940
Change-Id: I4602a9cf38126b50bfe188b68a75cff1d2597342
(cherry picked from commit 02adbab96924b5f4f12ccb148df1ef0242acb0df)
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/04/921904/1 && git format-patch -1 --stdout FETCH_HEAD,"['actions/actions.py', 'unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py', 'actions/purge-data', 'actions.yaml']",5,676b663177cc179a149bb2df84abd97e06273d10,bug/2066940-stable/2023.2,"purge-data: description: Run job to purge stale soft deleted rows in database params: before: type: string description: | Delete data from all shadow tables that is older than the date provided. Date strings may be fuzzy, such as `Oct 21 2015`.", description: Archive old data to shadow tables,122,1
openstack%2Fcharm-nova-compute~921785,openstack/charm-nova-compute,stable/zed,I51dae65cdc06e35230160bcaedda99710a72617d,Load nf_conntrack at boot time,NEW,2024-06-11 18:12:22.000000000,2024-06-13 13:00:38.000000000,,"[{'_account_id': 1131}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-11 18:12:22.000000000', 'files': ['unit_tests/test_nova_compute_hooks.py', 'hooks/nova_compute_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/d4c2d3a2bb7e1eba91d4219b7943683a9411e24e', 'message': 'Load nf_conntrack at boot time\n\nSysctl rules fined in charm config fails to be\napplied in ovn enviroments because the rules are\napplied before nf_conntrack is loaded.\n\nBy adding nf_conntrack to the /etc/modules file\nit guarantees that it will be loaded before the\nrules are applied.\n\nCloses-Bug: #1922778\nChange-Id: I51dae65cdc06e35230160bcaedda99710a72617d\n(cherry picked from commit 389d2b7cb151321a518bc04a3578cb0f35c5577d)\n(cherry picked from commit 6e75248816e3c01a9971ce33c4b4a013d69a0318)\n(cherry picked from commit d39f10421941666bb616b108c7b06a46976b251d)\n(cherry picked from commit ec84d0666f994b677c8eef436688508ff34a8d19)\n'}]",4,921785,d4c2d3a2bb7e1eba91d4219b7943683a9411e24e,11,3,1,14567,,,0,"Load nf_conntrack at boot time

Sysctl rules fined in charm config fails to be
applied in ovn enviroments because the rules are
applied before nf_conntrack is loaded.

By adding nf_conntrack to the /etc/modules file
it guarantees that it will be loaded before the
rules are applied.

Closes-Bug: #1922778
Change-Id: I51dae65cdc06e35230160bcaedda99710a72617d
(cherry picked from commit 389d2b7cb151321a518bc04a3578cb0f35c5577d)
(cherry picked from commit 6e75248816e3c01a9971ce33c4b4a013d69a0318)
(cherry picked from commit d39f10421941666bb616b108c7b06a46976b251d)
(cherry picked from commit ec84d0666f994b677c8eef436688508ff34a8d19)
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/85/921785/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_nova_compute_hooks.py', 'hooks/nova_compute_hooks.py']",2,d4c2d3a2bb7e1eba91d4219b7943683a9411e24e,,"import yamlfrom charmhelpers.core.kernel import modprobe ensure_nf_conntrack_module_loaded(sysctl_settings)def ensure_nf_conntrack_module_loaded(sysctl_str): """"""Loads and writes nf_conntrack to /etc/modules if present in sysctls."""""" # abort if empty or container if not sysctl_str or is_container(): return try: sysctl_dict = yaml.safe_load(sysctl_str) except yaml.YAMLError: log(""Error parsing YAML sysctl_dict: {}"".format(sysctl_str), level=ERROR) return if any(""nf_conntrack"" in key for key in sysctl_dict.keys()): try: # this call loads the module and writes an entry in /etc/modules # for automatic loading at early boot modprobe(""nf_conntrack"") except Exception as e: log(""Failed to load or persist nf_conntrack"" "" kernel module: {}"".format(e), level=WARNING) ",,110,0
openstack%2Fhorizon~920395,openstack/horizon,master,I4ff5f2de01c0bb13cfbb5136f40afe8187135686,Force scope when listing domains,NEW,2024-05-24 14:00:12.000000000,2024-06-13 12:59:31.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-24 14:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/dec481d264dde46136ab4c0e56e645e0844dbb08', 'message': 'Force scope when listing domains\n\nsince Caracal, when using domain-scoped token, keystone only returns\nthe domain the token is scoped to when listing domains [0].\n\nSince Horizon does some behind-the-scenes swap of token scope when\ndoing some requests to Keystone, this breaks the Identity->Domains panel\nfor admins.\n\nThis patch forces the domain_list call to always use the original\nauth scope, w/o a swap to the domain-scoped token.\n\nCloses-Issue: #2067075\nChange-Id: I4ff5f2de01c0bb13cfbb5136f40afe8187135686\n'}, {'number': 2, 'created': '2024-05-24 14:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/54cf9c892cc981aefba4bbf555358809fde0d81a', 'message': 'Force scope when listing domains\n\nsince Caracal, when using domain-scoped token, keystone only returns\nthe domain the token is scoped to when listing domains [0].\n\nSince Horizon does some behind-the-scenes swap of token scope when\ndoing some requests to Keystone, this breaks the Identity->Domains panel\nfor admins.\n\nThis patch forces the domain_list call to always use the original\nauth scope, w/o a swap to the domain-scoped token.\n\n[0] https://review.opendev.org/c/openstack/keystone/+/900028\n\nCloses-Issue: #2067075\nChange-Id: I4ff5f2de01c0bb13cfbb5136f40afe8187135686\n'}, {'number': 3, 'created': '2024-05-24 14:06:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f91f30a0f5dd80600842050e3678a465365961af', 'message': 'Force scope when listing domains\n\nsince Caracal, when using domain-scoped token, keystone only returns\nthe domain the token is scoped to when listing domains [0].\n\nSince Horizon does some behind-the-scenes swap of token scope when\ndoing some requests to Keystone, this breaks the Identity->Domains panel\nfor admins.\n\nThis patch forces the domain_list call to always use the original\nauth scope, w/o a swap to the domain-scoped token.\n\n[0] https://review.opendev.org/c/openstack/keystone/+/900028\n\nCloses-Bug: #2067075\nChange-Id: I4ff5f2de01c0bb13cfbb5136f40afe8187135686\n'}, {'number': 4, 'created': '2024-06-13 11:10:51.000000000', 'files': ['openstack_dashboard/api/keystone.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/964623e16baaf8d2902e6000b2cec62bea14d15d', 'message': 'Force scope when listing domains\n\nsince Caracal, when using domain-scoped token, keystone only returns\nthe domain the token is scoped to when listing domains [0].\n\nSince Horizon does some behind-the-scenes swap of token scope when\ndoing some requests to Keystone, this breaks the Identity->Domains panel\nfor admins.\n\nThis patch forces the domain_list call to always use the original\nauth scope, w/o a swap to the domain-scoped token.\n\n[0] https://review.opendev.org/c/openstack/keystone/+/900028\n\nCloses-Bug: #2067075\nChange-Id: I4ff5f2de01c0bb13cfbb5136f40afe8187135686\n'}]",0,920395,964623e16baaf8d2902e6000b2cec62bea14d15d,6,1,4,9542,,,0,"Force scope when listing domains

since Caracal, when using domain-scoped token, keystone only returns
the domain the token is scoped to when listing domains [0].

Since Horizon does some behind-the-scenes swap of token scope when
doing some requests to Keystone, this breaks the Identity->Domains panel
for admins.

This patch forces the domain_list call to always use the original
auth scope, w/o a swap to the domain-scoped token.

[0] https://review.opendev.org/c/openstack/keystone/+/900028

Closes-Bug: #2067075
Change-Id: I4ff5f2de01c0bb13cfbb5136f40afe8187135686
",git fetch https://review.opendev.org/openstack/horizon refs/changes/95/920395/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/api/keystone.py'],1,dec481d264dde46136ab4c0e56e645e0844dbb08,bug/2067075," manager = keystoneclient(request, admin=True, force_scoped=True).domains"," manager = keystoneclient(request, admin=True).domains",1,1
openstack%2Fmagnum-capi-helm~919553,openstack/magnum-capi-helm,master,Ia903e304ab93364dbb0ae40a2eff8120a365eec4,Implement control plane resize functions.,NEW,2024-05-14 06:53:57.000000000,2024-06-13 12:58:33.000000000,,"[{'_account_id': 782}, {'_account_id': 22348}, {'_account_id': 35572}]","[{'number': 1, 'created': '2024-05-14 06:53:57.000000000', 'files': ['magnum_capi_helm/driver.py'], 'web_link': 'https://opendev.org/openstack/magnum-capi-helm/commit/4f9a7cae479d221a7febc3da4297a2e13bc142b9', 'message': 'Implement control plane resize functions.\n\nMagnum supports control plane resizing as of:\n* https://review.opendev.org/c/openstack/magnum-specs/+/905281\n* https://review.opendev.org/c/openstack/magnum/+/906086\n\nThis patch adds the driver functions that support this, and explicitly\nspecifies a list of allowed sizes for create and resize.\n\nChange-Id: Ia903e304ab93364dbb0ae40a2eff8120a365eec4\n'}]",6,919553,4f9a7cae479d221a7febc3da4297a2e13bc142b9,7,3,1,14394,,,0,"Implement control plane resize functions.

Magnum supports control plane resizing as of:
* https://review.opendev.org/c/openstack/magnum-specs/+/905281
* https://review.opendev.org/c/openstack/magnum/+/906086

This patch adds the driver functions that support this, and explicitly
specifies a list of allowed sizes for create and resize.

Change-Id: Ia903e304ab93364dbb0ae40a2eff8120a365eec4
",git fetch https://review.opendev.org/openstack/magnum-capi-helm refs/changes/53/919553/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum_capi_helm/driver.py'],1,4f9a7cae479d221a7febc3da4297a2e13bc142b9,control-plane-resize," @property def allowed_control_plane_sizes(self): # CAPI supports control plane resizes to low uneven numbers. return [1, 3, 5, 7] def validate_master_resize(self, node_count): if node_count not in self.allowed_control_plane_sizes: raise exception.MasterNGResizeSizeNotSupported( requested_size=node_count, supported_sizes=self.allowed_control_plane_sizes) ",,11,0
openstack%2Fproject-config~921934,openstack/project-config,master,I88ec309039a90bd0407743fb745167a21dd58868,Add publish openapi specs job,NEW,2024-06-13 10:17:18.000000000,2024-06-13 12:56:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-13 10:17:18.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ffbfc857a9d619ccf63d34c527a7d76794ea5b4b', 'message': 'Add publish openapi specs job\n\nIn the codegenerator project a new job\n(codegenerator-tox-publish-openapi-specs) has been added\n(https://review.opendev.org/c/openstack/codegenerator/+/921924). It\ngathers openapi specs built by individual service jobs. We want to\npublish specs to a central location (similar to how\nservice-types-authority) functions so that is it possible to consume\nartifacts by other automation processes and users. This was discussed\nduring the last PTG.\n\nOnce OpenStack adopts OpenAPI widely we may rework how specs are being\npublished, but for now this seems to be the only reasonable approach.\nCurrent challenge is that in order to be able to generate api-ref docs\nthe spec first need to be generated from the source code of the service.\nThis requires a certain rework of how services build their docs. Until\nwe reach this phase (requires wide coordination and acceptance) just\npublish specs in a central location.\n\nCurrently specs being produced have an API version as a file name, so\nthat for Keystone i.e. 2 files are being generated:\n - specs/identity/v3.14.yaml\n - specs/identity/v3.yaml\n\nThis scheme allows certain versioning with v3.yaml being a symlink to\nthe v3.14 version. We would eventually need to cleanup very old versions\nof the specs, but most likely till that moment we arrange CD pipeline\ndifferently.\n\nChange-Id: I88ec309039a90bd0407743fb745167a21dd58868\n'}]",0,921934,ffbfc857a9d619ccf63d34c527a7d76794ea5b4b,2,1,1,27900,,,0,"Add publish openapi specs job

In the codegenerator project a new job
(codegenerator-tox-publish-openapi-specs) has been added
(https://review.opendev.org/c/openstack/codegenerator/+/921924). It
gathers openapi specs built by individual service jobs. We want to
publish specs to a central location (similar to how
service-types-authority) functions so that is it possible to consume
artifacts by other automation processes and users. This was discussed
during the last PTG.

Once OpenStack adopts OpenAPI widely we may rework how specs are being
published, but for now this seems to be the only reasonable approach.
Current challenge is that in order to be able to generate api-ref docs
the spec first need to be generated from the source code of the service.
This requires a certain rework of how services build their docs. Until
we reach this phase (requires wide coordination and acceptance) just
publish specs in a central location.

Currently specs being produced have an API version as a file name, so
that for Keystone i.e. 2 files are being generated:
 - specs/identity/v3.14.yaml
 - specs/identity/v3.yaml

This scheme allows certain versioning with v3.yaml being a symlink to
the v3.14 version. We would eventually need to cleanup very old versions
of the specs, but most likely till that moment we arrange CD pipeline
differently.

Change-Id: I88ec309039a90bd0407743fb745167a21dd58868
",git fetch https://review.opendev.org/openstack/project-config refs/changes/34/921934/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,ffbfc857a9d619ccf63d34c527a7d76794ea5b4b,openapi," name: promote-codegenerator-openapi-specs parent: promote-tox-docs-site-base description: | Publish OpenStack OpenAPI specs to /afs/.openstack.org/project/openapi-specs.openstack.org/. This is a promote job for ``codegenerator-tox-publish-openapi-specs``. final: true # NOTE(gtema): Reusing the same playbook as service-types due to the same logic run: playbooks/service-types/promote.yaml allowed-projects: - openstack/codegenerator vars: download_artifact_job: codegenerator-tox-publish-openapi-specs publish_site: ""openapi-specs.openstack.org"" secrets: - secret: afsdocs_secret-tox-docs-site name: afs pass-to-parent: true - job:",,21,0
openstack%2Fkolla-ansible~916911,openstack/kolla-ansible,master,I541f704bfa2e98068096331afbdb591659cbc40b,rabbitmq: Add support for using stream queues for fanout,NEW,2024-04-24 14:11:43.000000000,2024-06-13 12:55:52.000000000,,"[{'_account_id': 167}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-24 14:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/44591b529665b8a93a5794a9a31ce171c6d2442d', 'message': 'WIP: rabbitmq: Add support for using stream queues for fanout\n\nChange-Id: I541f704bfa2e98068096331afbdb591659cbc40b\n'}, {'number': 2, 'created': '2024-05-09 13:37:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1680ea022a84884a15f69779a1e71267051b9c5e', 'message': 'WIP: rabbitmq: Add support for using stream queues for fanout\n\nChange-Id: I541f704bfa2e98068096331afbdb591659cbc40b\n'}, {'number': 3, 'created': '2024-05-09 13:38:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/576439b0598d5c5f19e43870093221bd2d34cfff', 'message': 'rabbitmq: Add support for using stream queues for fanout\n\nChange-Id: I541f704bfa2e98068096331afbdb591659cbc40b\n'}, {'number': 4, 'created': '2024-06-13 10:32:34.000000000', 'files': ['ansible/roles/tacker/templates/tacker.conf.j2', 'ansible/roles/ironic/templates/ironic.conf.j2', 'ansible/roles/keystone/templates/keystone.conf.j2', 'ansible/roles/aodh/templates/aodh.conf.j2', 'ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/heat/templates/heat.conf.j2', 'ansible/roles/masakari/templates/masakari.conf.j2', 'ansible/roles/designate/templates/designate.conf.j2', 'ansible/roles/blazar/templates/blazar.conf.j2', 'ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/ceilometer/templates/ceilometer.conf.j2', 'ansible/roles/mistral/templates/mistral.conf.j2', 'ansible/roles/glance/templates/glance-api.conf.j2', 'ansible/roles/zun/templates/zun.conf.j2', 'ansible/roles/trove/templates/trove-guestagent.conf.j2', 'ansible/roles/watcher/templates/watcher.conf.j2', 'ansible/roles/magnum/templates/magnum.conf.j2', 'ansible/roles/cyborg/templates/cyborg.conf.j2', 'ansible/roles/ironic/templates/ironic-inspector.conf.j2', 'ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/nova-cell/templates/nova.conf.j2', 'ansible/roles/trove/templates/trove.conf.j2', 'ansible/roles/cloudkitty/templates/cloudkitty.conf.j2', 'ansible/roles/octavia/templates/octavia.conf.j2', 'ansible/group_vars/all.yml', 'ansible/roles/manila/templates/manila.conf.j2', 'ansible/roles/barbican/templates/barbican.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/af50a14cb80cf6d9ec1dd382668855e1d9487433', 'message': 'rabbitmq: Add support for using stream queues for fanout\n\nChange-Id: I541f704bfa2e98068096331afbdb591659cbc40b\n'}]",1,916911,af50a14cb80cf6d9ec1dd382668855e1d9487433,12,2,4,22629,,,0,"rabbitmq: Add support for using stream queues for fanout

Change-Id: I541f704bfa2e98068096331afbdb591659cbc40b
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/11/916911/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/tacker/templates/tacker.conf.j2', 'ansible/roles/ironic/templates/ironic.conf.j2', 'ansible/roles/keystone/templates/keystone.conf.j2', 'ansible/roles/aodh/templates/aodh.conf.j2', 'ansible/roles/sahara/templates/sahara.conf.j2', 'ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/heat/templates/heat.conf.j2', 'ansible/roles/masakari/templates/masakari.conf.j2', 'ansible/roles/designate/templates/designate.conf.j2', 'ansible/roles/solum/templates/solum.conf.j2', 'ansible/roles/blazar/templates/blazar.conf.j2', 'ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/ceilometer/templates/ceilometer.conf.j2', 'ansible/roles/senlin/templates/senlin.conf.j2', 'ansible/roles/mistral/templates/mistral.conf.j2', 'ansible/roles/glance/templates/glance-api.conf.j2', 'ansible/roles/zun/templates/zun.conf.j2', 'ansible/roles/murano/templates/murano.conf.j2', 'ansible/roles/trove/templates/trove-guestagent.conf.j2', 'ansible/roles/vitrage/templates/vitrage.conf.j2', 'ansible/roles/watcher/templates/watcher.conf.j2', 'ansible/roles/magnum/templates/magnum.conf.j2', 'ansible/roles/cyborg/templates/cyborg.conf.j2', 'ansible/roles/ironic/templates/ironic-inspector.conf.j2', 'ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/nova-cell/templates/nova.conf.j2', 'ansible/roles/trove/templates/trove.conf.j2', 'ansible/roles/cloudkitty/templates/cloudkitty.conf.j2', 'ansible/roles/octavia/templates/octavia.conf.j2', 'ansible/group_vars/all.yml', 'ansible/roles/manila/templates/manila.conf.j2', 'ansible/roles/barbican/templates/barbican.conf.j2']",32,44591b529665b8a93a5794a9a31ce171c6d2442d,,{% if om_enable_rabbitmq_stream_fanout | bool %} rabbitmq_stream_fanout = true {% endif %},,94,0
openstack%2Fcinder-tempest-plugin~896979,openstack/cinder-tempest-plugin,master,I8a880cd4b802cc7f1ba4b2f87f920547c5d50710,[srbac] Testing group snapshots,NEW,2023-10-01 13:50:49.000000000,2024-06-13 12:51:55.000000000,,"[{'_account_id': 4523}, {'_account_id': 9600}, {'_account_id': 10459}, {'_account_id': 19262}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-10-01 13:50:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/a1c6e46cdf3054a4f333c911e993c78bfcc0a7c8', 'message': '[srbac] Testing group snapshots\n\nTesting reader, member and admin users\n\nChange-Id: I8a880cd4b802cc7f1ba4b2f87f920547c5d50710\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n'}, {'number': 2, 'created': '2023-10-01 14:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/a3f41a75e4e73872383e9cdc27244f1bce00f234', 'message': '[srbac] Testing group snapshots\n\nTesting reader, member and admin users\n\nChange-Id: I8a880cd4b802cc7f1ba4b2f87f920547c5d50710\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n'}, {'number': 3, 'created': '2023-10-02 08:49:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/11e580cf06cc18f57cd7fdb966acc162ac581585', 'message': '[srbac] Testing group snapshots\n\nTesting reader, member and admin users\n\nChange-Id: I8a880cd4b802cc7f1ba4b2f87f920547c5d50710\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n'}, {'number': 4, 'created': '2023-11-05 10:59:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/4476f63779ee07655e0faea8ddcea8cb08d6d0c9', 'message': '[srbac] Testing group snapshots\n\nTesting reader, member and admin users\n\nChange-Id: I8a880cd4b802cc7f1ba4b2f87f920547c5d50710\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n'}, {'number': 5, 'created': '2024-01-22 08:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/fc4a56ab2babffc60fa1ab2cfdcf183968c1c959', 'message': '[srbac] Testing group snapshots\n\nTesting reader, member and admin users\n\nChange-Id: I8a880cd4b802cc7f1ba4b2f87f920547c5d50710\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n'}, {'number': 6, 'created': '2024-05-22 10:21:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/b0cec137b6f9adaf23980fe730f997a1d2cbc956', 'message': '[srbac] Testing group snapshots\n\nTesting reader, member and admin users\n\nChange-Id: I8a880cd4b802cc7f1ba4b2f87f920547c5d50710\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n'}, {'number': 7, 'created': '2024-05-22 10:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/6191c1fb3720f8b16b264877375e2acdc9ce1aed', 'message': '[srbac] Testing group snapshots\n\nTesting reader, member and admin users\n\nChange-Id: I8a880cd4b802cc7f1ba4b2f87f920547c5d50710\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n'}, {'number': 8, 'created': '2024-06-05 10:54:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/ea7ce42655ad23bc1cec40a5794216a98016c2f8', 'message': '[srbac] Testing group snapshots\n\nTesting reader, member and admin users\n\nChange-Id: I8a880cd4b802cc7f1ba4b2f87f920547c5d50710\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n'}, {'number': 9, 'created': '2024-06-05 10:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/9409d2ed70eb518cac5bb1d030ad5b92da9fcbb5', 'message': '[srbac] Testing group snapshots\n\nTesting reader, member and admin users\n\nChange-Id: I8a880cd4b802cc7f1ba4b2f87f920547c5d50710\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n'}, {'number': 10, 'created': '2024-06-10 05:56:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/2f370c8fa9b813c7231f889c1c01399ab283d02d', 'message': '[srbac] Testing group snapshots\n\nTesting reader, member and admin users\n\nChange-Id: I8a880cd4b802cc7f1ba4b2f87f920547c5d50710\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n'}, {'number': 11, 'created': '2024-06-10 13:30:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/7ed68fa8b7dd0a3b7255eda913d119bba3cd39f3', 'message': '[srbac] Testing group snapshots\n\nTesting reader, member and admin users\n\nChange-Id: I8a880cd4b802cc7f1ba4b2f87f920547c5d50710\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n'}, {'number': 12, 'created': '2024-06-13 10:11:22.000000000', 'files': ['cinder_tempest_plugin/rbac/v3/test_group_snapshots.py'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/1b77cd59706ed55d92752e0a08724028a9cbb491', 'message': '[srbac] Testing group snapshots\n\nTesting reader, member and admin users\n\nChange-Id: I8a880cd4b802cc7f1ba4b2f87f920547c5d50710\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n'}]",13,896979,1b77cd59706ed55d92752e0a08724028a9cbb491,38,5,12,35834,,,0,"[srbac] Testing group snapshots

Testing reader, member and admin users

Change-Id: I8a880cd4b802cc7f1ba4b2f87f920547c5d50710
Signed-off-by: Yosi Ben Shimon <ybenshim@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/79/896979/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder_tempest_plugin/rbac/v3/test_group_snapshots.py', 'cinder_tempest_plugin/rbac/v3/base.py']",2,a1c6e46cdf3054a4f333c911e993c78bfcc0a7c8,secure-rbac," cls.setup_api_microversion_fixture( volume_microversion=cls.request_microversion) @classmethod def create_group( cls, volume_types_client, group_types_client, groups_client, volumes_client=None ): # Create volume type volume_type = cls.create_volume_type( volume_types_client=volume_types_client ) # Create group type group_type = cls.create_group_type(client=group_types_client) # Create group group_name = data_utils.rand_name( cls.__class__.__name__ + '-Group') group = groups_client.create_group( name=group_name, group_type=group_type['id'], volume_types=[volume_type['id']] )['group'] waiters.wait_for_volume_resource_status( groups_client, group['id'], 'available' ) if volumes_client: vol_id = cls.create_volume( client=volumes_client, volume_type=volume_type['id'] ) cls.groups_client.update_group( group_id=group['id'], add_volumes=vol_id ) waiters.wait_for_volume_resource_status( volumes_client, vol_id, 'available' ) waiters.wait_for_volume_resource_status( groups_client, group['id'], 'available' ) cls.addClassResourceCleanup( test_utils.call_and_ignore_notfound_exc, volumes_client.wait_for_resource_deletion, vol_id ) cls.addClassResourceCleanup( test_utils.call_and_ignore_notfound_exc, groups_client.wait_for_resource_deletion, group['id'] ) cls.addClassResourceCleanup( test_utils.call_and_ignore_notfound_exc, groups_client.delete_group, group['id'] ) return group @classmethod def create_volume_type(cls, name=None, volume_types_client=None, **kwargs): """"""Wrapper utility that returns a test volume-type. Args: name: Name of the volume-type volume_types_client: Client object Returns: Volume-type object """""" name = name or data_utils.rand_name(cls.__name__ + '-volume-type') volume_type = cls.volume_types_client.create_volume_type( name=name, **kwargs)['volume_type'] cls.addClassResourceCleanup( test_utils.call_and_ignore_notfound_exc, volume_types_client.wait_for_resource_deletion, volume_type['id'] ) cls.addClassResourceCleanup( test_utils.call_and_ignore_notfound_exc, volume_types_client.delete_volume_type, volume_type_id=volume_type['id'] ) return volume_type @cleanup_order def create_group_type(self, client, cleanup=True): """"""Create a test group-type"""""" name = data_utils.rand_name(self.__class__.__name__ + '-group-type') description = data_utils.rand_name(""group-type-description"") group_specs = { ""consistent_group_snapshot_enabled"": ""<is> False"", ""key1"": ""value1"", ""key2"": ""value2"" } params = {'name': name, 'description': description, 'group_specs': group_specs, 'is_public': True} group_type = client.create_group_type(**params)['group_type'] if cleanup: self.cleanup( test_utils.call_and_ignore_notfound_exc, client.delete_group_type, group_type['id'] ) return group_type @classmethod def create_group_snapshot(cls, client, group_id, **kwargs): if 'name' not in kwargs: kwargs['name'] = data_utils.rand_name( cls.__class__.__name__ + '-Group_Snapshot' ) kwargs['group_id'] = group_id group_snapshot = client.create_group_snapshot( **kwargs )['group_snapshot'] group_snapshot['group_id'] = kwargs['group_id'] cls.addClassResourceCleanup( test_utils.call_and_ignore_notfound_exc, client.wait_for_resource_deletion, group_snapshot['id'] ) cls.addClassResourceCleanup( test_utils.call_and_ignore_notfound_exc, client.delete_group_snapshot, group_snapshot['id'] ) waiters.wait_for_volume_resource_status( client, group_snapshot['id'], 'available' ) return group_snapshot", self.useFixture(api_microversion_fixture.APIMicroversionFixture( volume_microversion=self.request_microversion)),407,2
openstack%2Fhorizon~920957,openstack/horizon,master,Id32eda9fc5f75f85c7c0c7a457a0b8408e1daddd,Fix url for default volume type call to backend,NEW,2024-06-01 22:29:59.000000000,2024-06-13 12:51:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-01 22:29:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/201683207314b0a477686179f855937efebf27e8', 'message': 'Fix url for default volume type call to backend\n\nsaves one redirected request\n\nRelated-Bug: #2023451\nChange-Id: Id32eda9fc5f75f85c7c0c7a457a0b8408e1daddd\n'}, {'number': 2, 'created': '2024-06-13 11:02:44.000000000', 'files': ['openstack_dashboard/static/app/core/openstack-service-api/cinder.service.js', 'openstack_dashboard/static/app/core/openstack-service-api/cinder.service.spec.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/275598ae9c30cf5bb39b78f58d8c683038525958', 'message': 'Fix url for default volume type call to backend\n\nsaves one redirected request\n\nRelated-Bug: #2023451\nChange-Id: Id32eda9fc5f75f85c7c0c7a457a0b8408e1daddd\n'}]",0,920957,275598ae9c30cf5bb39b78f58d8c683038525958,4,1,2,9542,,,0,"Fix url for default volume type call to backend

saves one redirected request

Related-Bug: #2023451
Change-Id: Id32eda9fc5f75f85c7c0c7a457a0b8408e1daddd
",git fetch https://review.opendev.org/openstack/horizon refs/changes/57/920957/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/static/app/core/openstack-service-api/cinder.service.js'],1,201683207314b0a477686179f855937efebf27e8,bug/2023451, return apiService.get('/api/cinder/volumetypes/default/'), return apiService.get('/api/cinder/volumetypes/default'),1,1
openstack%2Fopenstack-ansible~921931,openstack/openstack-ansible,master,I6cf3082d6be7676001237925052f29060b755c96,Use vendored version of ceph-nfs role,NEW,2024-06-13 09:54:06.000000000,2024-06-13 12:36:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-13 09:54:06.000000000', 'files': ['playbooks/ceph-nfs-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/72fcf8468c66ec3a85492abcf6275309daadbb29', 'message': 'Use vendored version of ceph-nfs role\n\nThis is in preparation for switching to the stable-8.0 branch\nof ceph-ansible where this role is no longer present.\n\nWe still need to use this role in OSA for testing manila\ndeployments.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/921930\nChange-Id: I6cf3082d6be7676001237925052f29060b755c96\n'}]",0,921931,72fcf8468c66ec3a85492abcf6275309daadbb29,2,1,1,25023,,,0,"Use vendored version of ceph-nfs role

This is in preparation for switching to the stable-8.0 branch
of ceph-ansible where this role is no longer present.

We still need to use this role in OSA for testing manila
deployments.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/921930
Change-Id: I6cf3082d6be7676001237925052f29060b755c96
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/31/921931/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/ceph-nfs-install.yml'],1,72fcf8468c66ec3a85492abcf6275309daadbb29,, - role: openstack.osa.ceph_nfs, - role: ceph-nfs,1,1
openstack%2Fneutron-tempest-plugin~921772,openstack/neutron-tempest-plugin,master,Ie27d27c28b94585d28c940918c9d881b913fa812,Add check to pick up network's dns_domain if present,NEW,2024-06-11 14:45:02.000000000,2024-06-13 12:33:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-11 14:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/0a800ccdddc96c92f1d451ec0e10802288dbb4c8', 'message': ""Add check to pick up network's dns_domain if present\n\nThis adds a check to use the network's dns_domain if it is\npresent, otherwise default to the configuration file value.\n\nThis test is failing because of the following neutron commit:\nhttps://review.opendev.org/c/openstack/neutron/+/920459\n\nExisting tests should continue to function as expected, because\nwe are defaulting to the conf value.\n\nCloses-Bug: 2067183\nChange-Id: Ie27d27c28b94585d28c940918c9d881b913fa812\n""}, {'number': 2, 'created': '2024-06-11 18:52:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/f1959e2c8b593cd25d122500bf60d92e3cb5688e', 'message': ""Add check to pick up network's dns_domain if present\n\nThis adds a check to use the network's dns_domain if it is\npresent, otherwise default to the configuration file value.\n\nThis test is failing because of the following neutron commit:\nhttps://review.opendev.org/c/openstack/neutron/+/920459\n\nExisting tests should continue to function as expected, because\nwe are defaulting to the conf value.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/920459\nCloses-Bug: 2067183\nChange-Id: Ie27d27c28b94585d28c940918c9d881b913fa812\n""}, {'number': 3, 'created': '2024-06-12 12:26:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/3092396b07feb09b2651908fc2341cbd6f95b378', 'message': ""Add check to pick up network's dns_domain if present\n\nThis adds a check to use the network's dns_domain if it is\npresent, otherwise default to the configuration file value.\n\nThis test is failing because of the following neutron commit:\nhttps://review.opendev.org/c/openstack/neutron/+/920459\n\nExisting tests should continue to function as expected, because\nwe are defaulting to the conf value.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/920459\nPartial-Bug: 2067183\nChange-Id: Ie27d27c28b94585d28c940918c9d881b913fa812\n""}, {'number': 4, 'created': '2024-06-12 13:15:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/a3b774effeb895e3908ac866489e6b1c409c135a', 'message': ""Add check to pick up network's dns_domain if present\n\nThis adds a check to use the network's dns_domain if it is\npresent, otherwise default to the configuration file value.\n\nThis test is failing because of the following neutron commit:\nhttps://review.opendev.org/c/openstack/neutron/+/920459\n\nExisting tests should continue to function as expected, because\nwe are defaulting to the conf value.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/920459\nPartial-Bug: 2067183\nChange-Id: Ie27d27c28b94585d28c940918c9d881b913fa812\n""}, {'number': 5, 'created': '2024-06-12 20:16:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/28c284477584ef72dcb6d4e419e50670c5806bac', 'message': ""Add check to pick up network's dns_domain if present\n\nThis adds a check to use the network's dns_domain if it is\npresent, otherwise default to the configuration file value.\n\nThis test is failing because of the following neutron commit:\nhttps://review.opendev.org/c/openstack/neutron/+/920459\n\nExisting tests should continue to function as expected, because\nwe are defaulting to the conf value.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/920459\nPartial-Bug: 2067183\nChange-Id: Ie27d27c28b94585d28c940918c9d881b913fa812\n""}, {'number': 6, 'created': '2024-06-13 00:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/281ef4feff1d7117d89a95dfb4193d6da80a3b7f', 'message': ""Add check to pick up network's dns_domain if present\n\nThis adds a check to use the network's dns_domain if it is\npresent, otherwise default to the configuration file value.\n\nThis test is failing because of the following neutron commit:\nhttps://review.opendev.org/c/openstack/neutron/+/920459\n\nExisting tests should continue to function as expected, because\nwe are defaulting to the conf value.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/920459\nPartial-Bug: 2067183\nChange-Id: Ie27d27c28b94585d28c940918c9d881b913fa812\n""}, {'number': 7, 'created': '2024-06-13 09:59:36.000000000', 'files': ['neutron_tempest_plugin/scenario/test_internal_dns.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/1f5987df4f081b95d73817670520a5e7319045bb', 'message': ""Add check to pick up network's dns_domain if present\n\nThis adds a check to use the network's dns_domain if it is\npresent, otherwise default to the configuration file value.\n\nThis test is failing because of the following neutron commit:\nhttps://review.opendev.org/c/openstack/neutron/+/920459\n\nExisting tests should continue to function as expected, because\nwe are defaulting to the conf value.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/920459\nPartial-Bug: 2067183\nChange-Id: Ie27d27c28b94585d28c940918c9d881b913fa812\n""}]",7,921772,1f5987df4f081b95d73817670520a5e7319045bb,17,1,7,36670,,,0,"Add check to pick up network's dns_domain if present

This adds a check to use the network's dns_domain if it is
present, otherwise default to the configuration file value.

This test is failing because of the following neutron commit:
https://review.opendev.org/c/openstack/neutron/+/920459

Existing tests should continue to function as expected, because
we are defaulting to the conf value.

Depends-On: https://review.opendev.org/c/openstack/neutron/+/920459
Partial-Bug: 2067183
Change-Id: Ie27d27c28b94585d28c940918c9d881b913fa812
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/72/921772/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/scenario/test_internal_dns.py'],1,0a800ccdddc96c92f1d451ec0e10802288dbb4c8,bug/2067183, dns_domain = (network.get('dns_domain') or CONF.neutron_plugin_options.dns_domain)," dns_domain = CONF.neutron_plugin_options.dns_domain self.assertNotIn('starwars', resolv_conf)",2,2
openstack%2Fkayobe~836999,openstack/kayobe,master,Ie27adca0029e41439720eaac49b24cf13fc8068d,ironic: revert to ironic's default drivers & interfaces,NEW,2022-04-07 16:49:16.000000000,2024-06-13 12:27:11.000000000,,"[{'_account_id': 14200}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-07 16:49:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7f6cd3d1fb80b080ae0de234de54446df1789341', 'message': ""ironic: revert to ironic's default drivers & interfaces\n\nChange-Id: Ie27adca0029e41439720eaac49b24cf13fc8068d\n""}, {'number': 2, 'created': '2022-04-08 09:07:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7a81ccf3cf93590688865ddb578c2b6d7ec78a3a', 'message': ""ironic: revert to ironic's default drivers & interfaces\n\nThere's no good reason to provide our own defaults for Ironic driver and\ninterface configuration. It easily gets out of sync with changes in\nIronic. Let's remove our defaults, and let Ironic provide them.\n\nNote that this changes several of the defaults, which are listed in the\nrelease note. Users are still able to override them using the existing\nvariables in ironic.yml.\n\nChange-Id: Ie27adca0029e41439720eaac49b24cf13fc8068d\n""}, {'number': 3, 'created': '2022-05-26 15:23:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c13380c32ab41bd2e932284fabe21b670c195796', 'message': ""ironic: revert to ironic's default drivers & interfaces\n\nThere's no good reason to provide our own defaults for Ironic driver and\ninterface configuration. It easily gets out of sync with changes in\nIronic. Let's remove our defaults, and let Ironic provide them.\n\nNote that this changes several of the defaults, which are listed in the\nrelease note. Users are still able to override them using the existing\nvariables in ironic.yml.\n\nChange-Id: Ie27adca0029e41439720eaac49b24cf13fc8068d\n""}, {'number': 4, 'created': '2022-05-30 11:12:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/30d080b696c71f663a6179dced0179dfa41188d4', 'message': ""ironic: revert to ironic's default drivers & interfaces\n\nThere's no good reason to provide our own defaults for Ironic driver and\ninterface configuration. It easily gets out of sync with changes in\nIronic. Let's remove our defaults, and let Ironic provide them.\n\nNote that this changes several of the defaults, which are listed in the\nrelease note. Users are still able to override them using the existing\nvariables in ironic.yml.\n\nChange-Id: Ie27adca0029e41439720eaac49b24cf13fc8068d\n""}, {'number': 5, 'created': '2022-05-30 13:14:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/dc3db1f4e13f35f4ccfa585e5724e2713d114630', 'message': ""ironic: revert to ironic's default drivers & interfaces\n\nThere's no good reason to provide our own defaults for Ironic driver and\ninterface configuration. It easily gets out of sync with changes in\nIronic. Let's remove our defaults, and let Ironic provide them.\n\nNote that this changes several of the defaults, which are listed in the\nrelease note. Users are still able to override them using the existing\nvariables in ironic.yml.\n\nChange-Id: Ie27adca0029e41439720eaac49b24cf13fc8068d\n""}, {'number': 6, 'created': '2022-06-10 09:50:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5a3be57baf7b4694453d1c9d2637e35078d67acc', 'message': ""ironic: revert to ironic's default drivers & interfaces\n\nThere's no good reason to provide our own defaults for Ironic driver and\ninterface configuration. It easily gets out of sync with changes in\nIronic. Let's remove our defaults, and let Ironic provide them.\n\nNote that this changes several of the defaults, which are listed in the\nrelease note. Users are still able to override them using the existing\nvariables in ironic.yml.\n\nChange-Id: Ie27adca0029e41439720eaac49b24cf13fc8068d\n""}, {'number': 7, 'created': '2022-06-13 08:54:32.000000000', 'files': ['playbooks/kayobe-overcloud-upgrade-base/overrides.yml.j2', 'releasenotes/notes/ironic-default-drivers-7a27baa7a301922c.yaml', 'ansible/roles/kolla-openstack/templates/ironic.conf.j2', 'ansible/group_vars/all/ironic', 'ansible/roles/kolla-openstack/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f3ad86517e2232a0f27e6d6747902742648bac9b', 'message': ""ironic: revert to ironic's default drivers & interfaces\n\nThere's no good reason to provide our own defaults for Ironic driver and\ninterface configuration. It easily gets out of sync with changes in\nIronic. Let's remove our defaults, and let Ironic provide them.\n\nNote that this changes several of the defaults, which are listed in the\nrelease note. Users are still able to override them using the existing\nvariables in ironic.yml.\n\nChange-Id: Ie27adca0029e41439720eaac49b24cf13fc8068d\n""}]",26,836999,f3ad86517e2232a0f27e6d6747902742648bac9b,22,3,7,14826,,,0,"ironic: revert to ironic's default drivers & interfaces

There's no good reason to provide our own defaults for Ironic driver and
interface configuration. It easily gets out of sync with changes in
Ironic. Let's remove our defaults, and let Ironic provide them.

Note that this changes several of the defaults, which are listed in the
release note. Users are still able to override them using the existing
variables in ironic.yml.

Change-Id: Ie27adca0029e41439720eaac49b24cf13fc8068d
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/99/836999/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ironic-default-drivers-7a27baa7a301922c.yaml', 'ansible/roles/kolla-openstack/templates/ironic.conf.j2', 'ansible/group_vars/all/ironic', 'ansible/roles/kolla-openstack/defaults/main.yml', 'playbooks/kayobe-overcloud-upgrade-base/run.yml']",5,7f6cd3d1fb80b080ae0de234de54446df1789341,," # TODO(mgoddard): Remove when previous release is Yoga. # In Yoga we switched to the upstream ironic defaults for hardware # interfaces, which does not enable the inspector inspection interface. - name: Set inspection interface shell: cmd: > source {{ kayobe_src_dir }}/dev/environment-setup.sh && source {{ kayobe_config_src_dir }}/etc/kolla/public-openrc.sh && openstack baremetal node set {{ item }} --inspection-interface no-inspect loop: - tk0 - tk1 when: - ansible_os_family != 'Debian' - previous_release == 'xena' ",,54,49
openstack%2Fopenstack-ansible~921928,openstack/openstack-ansible,master,Iaab1de050f8227a48fcdb8a6cec5b2f592e822ec,Remove use of deprecated ANSIBLE_COLLECTIONS_PATHS,NEW,2024-06-13 09:36:30.000000000,2024-06-13 12:20:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-13 09:36:30.000000000', 'files': ['scripts/openstack-ansible.rc'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1ed322e5a1329fce055d8e3ef89cacde61af61a4', 'message': 'Remove use of deprecated ANSIBLE_COLLECTIONS_PATHS\n\nChange-Id: Iaab1de050f8227a48fcdb8a6cec5b2f592e822ec\n'}]",0,921928,1ed322e5a1329fce055d8e3ef89cacde61af61a4,2,1,1,25023,,,0,"Remove use of deprecated ANSIBLE_COLLECTIONS_PATHS

Change-Id: Iaab1de050f8227a48fcdb8a6cec5b2f592e822ec
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/28/921928/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/openstack-ansible.rc'],1,1ed322e5a1329fce055d8e3ef89cacde61af61a4,,,"export ANSIBLE_COLLECTIONS_PATHS=""${ANSIBLE_COLLECTIONS_PATHS:-/etc/ansible}""",0,1
openstack%2Fkolla-ansible~916396,openstack/kolla-ansible,master,I47157973a8152154a264cc1914b6d2b55bc08cd1,CI: increase timeout for server resize confirmation,MERGED,2024-04-19 09:30:36.000000000,2024-06-13 12:05:50.000000000,2024-06-13 12:04:43.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 34076}]","[{'number': 1, 'created': '2024-04-19 09:30:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6b7d0ccac86f63e7e6b800e972769df63e194cb9', 'message': 'CI increase timeout for server resize confirmation\n\ndouble the timeout from 5 to 10 seoncds.\nthis should prevent errors like these:\n\nhttps://zuul.opendev.org/t/openstack/build/547464fe844e4e8ba34faac33f615c92/log/primary/logs/ansible/test-core-openstack#1210\n\nChange-Id: I47157973a8152154a264cc1914b6d2b55bc08cd1\nSigned-off-by: Sven Kieske <kieske@osism.tech>\n'}, {'number': 2, 'created': '2024-04-19 09:37:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/725ad8fccc1bd1dcf7455ba8aa2cfbff877b91ae', 'message': 'CI increase timeout for server resize confirmation\n\ndouble the timeout from 5 to 10 seoncds.\nthis should prevent errors like these:\n\nhttps://zuul.opendev.org/t/openstack/build/547464fe844e4e8ba34faac33f615c92/log/primary/logs/ansible/test-core-openstack#1210\n\nChange-Id: I47157973a8152154a264cc1914b6d2b55bc08cd1\nSigned-off-by: Sven Kieske <kieske@osism.tech>\n'}, {'number': 3, 'created': '2024-04-19 09:40:48.000000000', 'files': ['tests/test-core-openstack.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/221a9b0f1e5baa52bc69ddac7b225dbe3bd49224', 'message': 'CI: increase timeout for server resize confirmation\n\ndouble the timeout from 5 to 10 seconds.\nthis should prevent errors like these:\n\nhttps://zuul.opendev.org/t/openstack/build/547464fe844e4e8ba34faac33f615c92/log/primary/logs/ansible/test-core-openstack#1210\n\nChange-Id: I47157973a8152154a264cc1914b6d2b55bc08cd1\nSigned-off-by: Sven Kieske <kieske@osism.tech>\n'}]",1,916396,221a9b0f1e5baa52bc69ddac7b225dbe3bd49224,13,5,3,32553,,,0,"CI: increase timeout for server resize confirmation

double the timeout from 5 to 10 seconds.
this should prevent errors like these:

https://zuul.opendev.org/t/openstack/build/547464fe844e4e8ba34faac33f615c92/log/primary/logs/ansible/test-core-openstack#1210

Change-Id: I47157973a8152154a264cc1914b6d2b55bc08cd1
Signed-off-by: Sven Kieske <kieske@osism.tech>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/96/916396/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'tests/test-core-openstack.sh']",2,6b7d0ccac86f63e7e6b800e972769df63e194cb9,increase_ci_timeout_server_resize, sleep 2, sleep 1,3,1
openstack%2Foslo.context~914738,openstack/oslo.context,master,I8556d117a076814c999070d755adc8a8a745b6e1,pre-commit: Remove outdated comment,MERGED,2024-03-29 02:16:34.000000000,2024-06-13 12:03:02.000000000,2024-06-13 12:02:05.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-29 02:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/15748df868fcd036e4a326a17ab9dae4af276364', 'message': 'pre-commit: Remove outdated comment\n\nWe no longer use commit hash but a version. Because the same comment\nhas been removed from other repos, we can remove it in this repo as\nwell.\n\nAlso remove the redundant default_language_version option.\n\nChange-Id: I8556d117a076814c999070d755adc8a8a745b6e1\n'}, {'number': 2, 'created': '2024-03-29 02:17:52.000000000', 'files': ['.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/37ffad442100d63e2926ceae7cf5c2f4d77cb5ef', 'message': 'pre-commit: Remove outdated comment\n\nWe no longer use commit hash but a version. Because the same comment\nhas been removed from other repos, we can remove it in this repo as\nwell.\n\nAlso remove the redundant default_language_version option.\n\nIn addition, bump pre-commit to 4.5.0 which is now more commonly used.\n\nChange-Id: I8556d117a076814c999070d755adc8a8a745b6e1\n'}]",0,914738,37ffad442100d63e2926ceae7cf5c2f4d77cb5ef,8,2,2,9816,,,0,"pre-commit: Remove outdated comment

We no longer use commit hash but a version. Because the same comment
has been removed from other repos, we can remove it in this repo as
well.

Also remove the redundant default_language_version option.

In addition, bump pre-commit to 4.5.0 which is now more commonly used.

Change-Id: I8556d117a076814c999070d755adc8a8a745b6e1
",git fetch https://review.opendev.org/openstack/oslo.context refs/changes/38/914738/1 && git format-patch -1 --stdout FETCH_HEAD,['.pre-commit-config.yaml'],1,15748df868fcd036e4a326a17ab9dae4af276364,pre-commit,,"# We from the Oslo project decided to pin repos based on the # commit hash instead of the version tag to prevend arbitrary # code from running in developer's machines. To update to a # newer version, run `pre-commit autoupdate` and then replace # the newer versions with their commit hash. default_language_version: python: python3 ",0,9
openstack%2Foslo.messaging~921653,openstack/oslo.messaging,master,I9a1fae54106f845d864f747120b2064cabb836a8,rabbit: Make PreconditionFailed warning log more informative,MERGED,2024-06-10 09:26:56.000000000,2024-06-13 11:59:41.000000000,2024-06-13 11:58:43.000000000,"[{'_account_id': 15334}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-10 09:26:56.000000000', 'files': ['oslo_messaging/_drivers/impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/82d6287065596b1ce3c263be21b72eec37dd2991', 'message': 'rabbit: Make PreconditionFailed warning log more informative\n\n... instead of just logging the exception message.\n\nChange-Id: I9a1fae54106f845d864f747120b2064cabb836a8\n'}]",1,921653,82d6287065596b1ce3c263be21b72eec37dd2991,8,3,1,9816,,,0,"rabbit: Make PreconditionFailed warning log more informative

... instead of just logging the exception message.

Change-Id: I9a1fae54106f845d864f747120b2064cabb836a8
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/53/921653/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/_drivers/impl_rabbit.py'],1,82d6287065596b1ce3c263be21b72eec37dd2991,," LOG.warning('[%s] Queue %s could not be declared probably ' 'because of conflicting configurations: %s', conn.connection_id, self.queue_name, err)", LOG.warning(err),3,1
openstack%2Foslo.service~921938,openstack/oslo.service,unmaintained/zed,Ief3ab2f56fa3d805296709e12e5f7a71560f7b6e,Make signal handling order predictable,NEW,2024-06-13 10:44:00.000000000,2024-06-13 11:56:45.000000000,,"[{'_account_id': 5756}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-13 10:44:00.000000000', 'files': ['oslo_service/service.py'], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/9aee6b5307fb125aca04e3c54145a338b3827e37', 'message': 'Make signal handling order predictable\n\nDue to the unordered nature of sets, it is possible for signal\nhandlers like _gracefull_shutdown() to run first and clear the\n_signal_handlers before other registered handlers have run.\n\nThis patch converts _signal_handlers from a set to a list and\nthen runs the handlers LIFO similar to how atexit functions are\nrun. Given that the handlers added in service.py are added after\nclearing the signal_handlers, they are guaranteed to be the first\nin the list and the last run.\n\nChange-Id: Ief3ab2f56fa3d805296709e12e5f7a71560f7b6e\nCloses-Bug: #2057809\nRelated-Bug: #2056366\nSigned-off-by: Terry Wilson <twilson@redhat.com>\n(cherry picked from commit d026081ca44ad7d48cd4cceeb6df767512910d96)\n(cherry picked from commit 028809f769b36a4fb770374bb2901474b593bc18)\n(cherry picked from commit daa2baa4b3a33a394d8a1c89ead925c253aff271)\n'}]",0,921938,9aee6b5307fb125aca04e3c54145a338b3827e37,2,2,1,17685,,,0,"Make signal handling order predictable

Due to the unordered nature of sets, it is possible for signal
handlers like _gracefull_shutdown() to run first and clear the
_signal_handlers before other registered handlers have run.

This patch converts _signal_handlers from a set to a list and
then runs the handlers LIFO similar to how atexit functions are
run. Given that the handlers added in service.py are added after
clearing the signal_handlers, they are guaranteed to be the first
in the list and the last run.

Change-Id: Ief3ab2f56fa3d805296709e12e5f7a71560f7b6e
Closes-Bug: #2057809
Related-Bug: #2056366
Signed-off-by: Terry Wilson <twilson@redhat.com>
(cherry picked from commit d026081ca44ad7d48cd4cceeb6df767512910d96)
(cherry picked from commit 028809f769b36a4fb770374bb2901474b593bc18)
(cherry picked from commit daa2baa4b3a33a394d8a1c89ead925c253aff271)
",git fetch https://review.opendev.org/openstack/oslo.service refs/changes/38/921938/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_service/service.py'],1,9aee6b5307fb125aca04e3c54145a338b3827e37,, self._signal_handlers = collections.defaultdict(list) self._signal_handlers[signo].append(handler) for handler in reversed(self._signal_handlers[signo]):, self._signal_handlers = collections.defaultdict(set) self._signal_handlers[signo].add(handler) for handler in self._signal_handlers[signo]:,3,3
openstack%2Fpython-cloudkittyclient~917451,openstack/python-cloudkittyclient,stable/2023.1,If630d4f313c875733dbe1937ff7ca625821e04af,Fix reprocessing POST request,MERGED,2024-04-29 16:49:14.000000000,2024-06-13 11:54:09.000000000,2024-06-13 11:53:14.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25277}, {'_account_id': 28356}]","[{'number': 1, 'created': '2024-04-29 16:49:14.000000000', 'files': ['releasenotes/notes/fix-reprocessing-post-request-95512686754ee271.yaml', 'cloudkittyclient/v2/reprocessing.py'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/e07c2951b874f67bbf7d9cb26a1c5b6021b612de', 'message': 'Fix reprocessing POST request\n\nThe POST request for triggering reprocessing needs to be made to\n``/v2/task/reprocesses``. This is the same as for other requests, so we\ncan drop ``url_for_post``.\n\nChange-Id: If630d4f313c875733dbe1937ff7ca625821e04af\n(cherry picked from commit 6ee36ef0e384e286217d51daf65337c5593108e0)\n'}]",0,917451,e07c2951b874f67bbf7d9cb26a1c5b6021b612de,8,4,1,15197,,,0,"Fix reprocessing POST request

The POST request for triggering reprocessing needs to be made to
``/v2/task/reprocesses``. This is the same as for other requests, so we
can drop ``url_for_post``.

Change-Id: If630d4f313c875733dbe1937ff7ca625821e04af
(cherry picked from commit 6ee36ef0e384e286217d51daf65337c5593108e0)
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/51/917451/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-reprocessing-post-request-95512686754ee271.yaml', 'cloudkittyclient/v2/reprocessing.py']",2,e07c2951b874f67bbf7d9cb26a1c5b6021b612de,," return self.api_client.post(self.url, json=body).json()"," url_to_post = '/v2/task/reprocess' return self.api_client.post(self.url_to_post, json=body).json()",6,3
openstack%2Fopenstack-ansible-plugins~921930,openstack/openstack-ansible-plugins,master,I10200b428e86c93979f53de8479ca96af3901eca,Vendor ceph-nfs role from ceph-ansible stable7.0 branch,NEW,2024-06-13 09:51:30.000000000,2024-06-13 11:51:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-13 09:51:30.000000000', 'files': ['roles/ceph_nfs/tasks/main.yml', 'roles/ceph_nfs/LICENSE', 'roles/ceph_nfs/tasks/create_rgw_nfs_user.yml', 'roles/ceph_nfs/tasks/pre_requisite_non_container_red_hat.yml', 'roles/ceph_nfs/templates/ganesha.conf.j2', 'roles/ceph_nfs/defaults/main.yml', 'roles/ceph_nfs/templates/idmap.conf.j2', 'roles/ceph_nfs/meta/main.yml', 'roles/ceph_nfs/tasks/pre_requisite_non_container.yml', 'roles/ceph_nfs/templates/ceph-nfs.service.j2', 'roles/ceph_nfs/tasks/start_nfs.yml', 'roles/ceph_nfs/README.md', 'roles/ceph_nfs/tasks/pre_requisite_container.yml', 'roles/ceph_nfs/tasks/pre_requisite_non_container_debian.yml', 'roles/ceph_nfs/tasks/systemd.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/bc9bfc691bffc631a4a948aa84725b55a5aab684', 'message': 'Vendor ceph-nfs role from ceph-ansible stable7.0 branch\n\nThis was removed from the stable-8.0 branch of ceph-ansible and\nOSA still relies on this role for testing manila.\n\nChange-Id: I10200b428e86c93979f53de8479ca96af3901eca\n'}]",0,921930,bc9bfc691bffc631a4a948aa84725b55a5aab684,2,1,1,25023,,,0,"Vendor ceph-nfs role from ceph-ansible stable7.0 branch

This was removed from the stable-8.0 branch of ceph-ansible and
OSA still relies on this role for testing manila.

Change-Id: I10200b428e86c93979f53de8479ca96af3901eca
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/30/921930/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/ceph_nfs/tasks/main.yml', 'roles/ceph_nfs/LICENSE', 'roles/ceph_nfs/tasks/create_rgw_nfs_user.yml', 'roles/ceph_nfs/tasks/pre_requisite_non_container_red_hat.yml', 'roles/ceph_nfs/templates/ganesha.conf.j2', 'roles/ceph_nfs/defaults/main.yml', 'roles/ceph_nfs/templates/idmap.conf.j2', 'roles/ceph_nfs/meta/main.yml', 'roles/ceph_nfs/tasks/pre_requisite_non_container.yml', 'roles/ceph_nfs/templates/ceph-nfs.service.j2', 'roles/ceph_nfs/tasks/start_nfs.yml', 'roles/ceph_nfs/README.md', 'roles/ceph_nfs/tasks/pre_requisite_container.yml', 'roles/ceph_nfs/tasks/pre_requisite_non_container_debian.yml', 'roles/ceph_nfs/tasks/systemd.yml']",15,bc9bfc691bffc631a4a948aa84725b55a5aab684,,"--- - name: generate systemd unit file template: src: ""{{ role_path }}/templates/ceph-nfs.service.j2"" dest: /etc/systemd/system/ceph-nfs@.service owner: ""root"" group: ""root"" mode: ""0644"" notify: restart ceph nfss",,1188,0
openstack%2Foctavia~917300,openstack/octavia,master,I0f5c4a6d743f69e006a0d3cdb28261cc99445787,Fix termination of jobboard controllers,NEW,2024-04-29 09:46:19.000000000,2024-06-13 11:51:36.000000000,,"[{'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2024-04-29 09:46:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5500709d982bffcd8c8303e6c2da1c0f26bdfb32', 'message': 'WIP Fix termination of jobboard controllers\n\nChange-Id: I0f5c4a6d743f69e006a0d3cdb28261cc99445787\n'}, {'number': 2, 'created': '2024-04-29 11:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/34b1a8c60613625d942e0a9758cf6f34e72c977c', 'message': 'Fix termination of jobboard controllers\n\nFix the incorrect termination of the jobboard conductors, they were not\nnotified of the termination and the tasks were abruptly killed\n\nCloses-Bug: #2064101\n\nChange-Id: I0f5c4a6d743f69e006a0d3cdb28261cc99445787\n'}, {'number': 3, 'created': '2024-06-13 08:44:38.000000000', 'files': ['octavia/common/base_taskflow.py', 'octavia/tests/unit/controller/worker/v2/test_controller_worker.py', 'octavia/controller/worker/v2/controller_worker.py', 'octavia/tests/unit/common/test_base_taskflow.py', 'releasenotes/notes/fix-termination-jobboard-c81abbda70353a2c.yaml', 'octavia/controller/queue/v2/consumer.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/b231be65a452dd39d0ed46d9762d06b0fe796576', 'message': 'Fix termination of jobboard controllers\n\nFix the incorrect termination of the jobboard conductors, they were not\nnotified of the termination and the tasks were abruptly killed\n\nCloses-Bug: #2064101\n\nChange-Id: I0f5c4a6d743f69e006a0d3cdb28261cc99445787\n'}]",0,917300,b231be65a452dd39d0ed46d9762d06b0fe796576,6,2,3,29244,,,0,"Fix termination of jobboard controllers

Fix the incorrect termination of the jobboard conductors, they were not
notified of the termination and the tasks were abruptly killed

Closes-Bug: #2064101

Change-Id: I0f5c4a6d743f69e006a0d3cdb28261cc99445787
",git fetch https://review.opendev.org/openstack/octavia refs/changes/00/917300/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/base_taskflow.py', 'octavia/tests/unit/controller/worker/v2/test_controller_worker.py', 'octavia/controller/worker/v2/controller_worker.py', 'octavia/controller/queue/v2/consumer.py']",4,5500709d982bffcd8c8303e6c2da1c0f26bdfb32,v2-termination," self.endpoints = None self.conductors = [] self.endpoints = endpoints.Endpoints() target, [self.endpoints], conductor = ('octavia-task-flow-conductor-%s' % uuidutils.generate_uuid()) self.conductors.append(conductor) LOG.info(""Starting conductor %s"", conductor) self.endpoints.worker.services_controller.run_conductor( conductor) if self.endpoints and self.conductors: for conductor in self.conductors: LOG.info('Shutting down conductor %s', conductor) self.endpoints.worker.services_controller.stop_conductor( conductor)"," self.endpoints = [] self.endpoints = [endpoints.Endpoints()] target, self.endpoints, for e in self.endpoints: e.worker.services_controller.run_conductor( 'octavia-task-flow-conductor-%s' % uuidutils.generate_uuid()) if self.endpoints: for e in self.endpoints: try: e.worker.executor.shutdown() except AttributeError: pass",27,18
openstack%2Fpython-cloudkittyclient~917449,openstack/python-cloudkittyclient,stable/2024.1,If630d4f313c875733dbe1937ff7ca625821e04af,Fix reprocessing POST request,MERGED,2024-04-29 16:47:58.000000000,2024-06-13 11:51:09.000000000,2024-06-13 11:50:00.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25277}, {'_account_id': 28356}]","[{'number': 1, 'created': '2024-04-29 16:47:58.000000000', 'files': ['releasenotes/notes/fix-reprocessing-post-request-95512686754ee271.yaml', 'cloudkittyclient/v2/reprocessing.py'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/d75d74d49f5ebdf80a53ce7645ba4b9d451e4336', 'message': 'Fix reprocessing POST request\n\nThe POST request for triggering reprocessing needs to be made to\n``/v2/task/reprocesses``. This is the same as for other requests, so we\ncan drop ``url_for_post``.\n\nChange-Id: If630d4f313c875733dbe1937ff7ca625821e04af\n(cherry picked from commit 6ee36ef0e384e286217d51daf65337c5593108e0)\n'}]",0,917449,d75d74d49f5ebdf80a53ce7645ba4b9d451e4336,8,4,1,15197,,,0,"Fix reprocessing POST request

The POST request for triggering reprocessing needs to be made to
``/v2/task/reprocesses``. This is the same as for other requests, so we
can drop ``url_for_post``.

Change-Id: If630d4f313c875733dbe1937ff7ca625821e04af
(cherry picked from commit 6ee36ef0e384e286217d51daf65337c5593108e0)
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/49/917449/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-reprocessing-post-request-95512686754ee271.yaml', 'cloudkittyclient/v2/reprocessing.py']",2,d75d74d49f5ebdf80a53ce7645ba4b9d451e4336,," return self.api_client.post(self.url, json=body).json()"," url_to_post = '/v2/task/reprocess' return self.api_client.post(self.url_to_post, json=body).json()",6,3
openstack%2Fpython-cloudkittyclient~917450,openstack/python-cloudkittyclient,stable/2023.2,If630d4f313c875733dbe1937ff7ca625821e04af,Fix reprocessing POST request,MERGED,2024-04-29 16:48:30.000000000,2024-06-13 11:48:02.000000000,2024-06-13 11:47:06.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25277}, {'_account_id': 28356}]","[{'number': 1, 'created': '2024-04-29 16:48:30.000000000', 'files': ['releasenotes/notes/fix-reprocessing-post-request-95512686754ee271.yaml', 'cloudkittyclient/v2/reprocessing.py'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/c151d6bba8d309a24e9251929e763cf5cd7dfdaa', 'message': 'Fix reprocessing POST request\n\nThe POST request for triggering reprocessing needs to be made to\n``/v2/task/reprocesses``. This is the same as for other requests, so we\ncan drop ``url_for_post``.\n\nChange-Id: If630d4f313c875733dbe1937ff7ca625821e04af\n(cherry picked from commit 6ee36ef0e384e286217d51daf65337c5593108e0)\n'}]",0,917450,c151d6bba8d309a24e9251929e763cf5cd7dfdaa,10,4,1,15197,,,0,"Fix reprocessing POST request

The POST request for triggering reprocessing needs to be made to
``/v2/task/reprocesses``. This is the same as for other requests, so we
can drop ``url_for_post``.

Change-Id: If630d4f313c875733dbe1937ff7ca625821e04af
(cherry picked from commit 6ee36ef0e384e286217d51daf65337c5593108e0)
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/50/917450/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-reprocessing-post-request-95512686754ee271.yaml', 'cloudkittyclient/v2/reprocessing.py']",2,c151d6bba8d309a24e9251929e763cf5cd7dfdaa,," return self.api_client.post(self.url, json=body).json()"," url_to_post = '/v2/task/reprocess' return self.api_client.post(self.url_to_post, json=body).json()",6,3
openstack%2Foslo.rootwrap~906981,openstack/oslo.rootwrap,master,Ia6e406155978d4c5a4f93194c79b5d5310ce3742,Remove unused reno from test requirements,MERGED,2024-01-27 16:47:37.000000000,2024-06-13 11:44:20.000000000,2024-06-13 11:43:15.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-01-27 16:47:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/37ea383cc0fb3bdf96a6d9cd93709dc1176b0953', 'message': ""Move reno to doc requirements\n\n... because it's used only when generating release notes. Also a few\npackags in doc requirements are not actually needed.\n\nChange-Id: Ia6e406155978d4c5a4f93194c79b5d5310ce3742\n""}, {'number': 2, 'created': '2024-01-27 17:50:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/713d5d79a80a92ae15d5038067d9ffe1b887fec8', 'message': 'Remove unused reno from test requirements\n\nThe reno library is used only when generating release notes.\n\nAlso a few packags in doc requirements are not actually needed.\n\nChange-Id: Ia6e406155978d4c5a4f93194c79b5d5310ce3742\n'}, {'number': 3, 'created': '2024-06-10 01:33:19.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/c42ef394dd70503fc0b12a6a2d84f1173fd2bcd7', 'message': 'Remove unused reno from test requirements\n\nThe reno library is used only when generating release notes.\n\nAlso a few packags in doc requirements are not actually needed.\n\nChange-Id: Ia6e406155978d4c5a4f93194c79b5d5310ce3742\n'}]",1,906981,c42ef394dd70503fc0b12a6a2d84f1173fd2bcd7,11,2,3,9816,,,0,"Remove unused reno from test requirements

The reno library is used only when generating release notes.

Also a few packags in doc requirements are not actually needed.

Change-Id: Ia6e406155978d4c5a4f93194c79b5d5310ce3742
",git fetch https://review.opendev.org/openstack/oslo.rootwrap refs/changes/81/906981/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt']",2,37ea383cc0fb3bdf96a6d9cd93709dc1176b0953,,reno>=3.1.0 # Apache-2.0,"# The order of packages is significant, because pip processes them in the order # of appearance. Changing the order has an impact on the overall integration # process, which may cause wedges in the gate later. # These are needed for docs generationmock>=2.0.0 # BSD fixtures>=3.0.0 # Apache-2.0/BSD",1,8
openstack%2Fplacement~919580,openstack/placement,master,I9d9d8b372b0a9c761b605188b3c641c9d1f326cb,pre-commit: Add sphinx-lint,NEW,2024-05-14 14:13:21.000000000,2024-06-13 11:41:52.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-14 14:13:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/4c983b37b5b33d2076f571b5aa9b3f3e0252be86', 'message': 'pre-commit: Add sphinx-lint\n\nChange-Id: I9d9d8b372b0a9c761b605188b3c641c9d1f326cb\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2024-06-13 09:54:19.000000000', 'files': ['doc/source/contributor/contributing.rst', 'doc/source/contributor/testing.rst', 'doc/source/user/provider-tree.rst', 'doc/source/contributor/goals.rst', 'doc/source/specs/train/implemented/2005297-negative-aggregate-membership.rst', '.pre-commit-config.yaml', 'doc/source/contributor/architecture.rst', 'doc/source/specs/xena/implemented/allow-provider-re-parenting.rst'], 'web_link': 'https://opendev.org/openstack/placement/commit/6aaa6e8f07207e238787104c2d3d5e2e584e7cde', 'message': 'pre-commit: Add sphinx-lint\n\nChange-Id: I9d9d8b372b0a9c761b605188b3c641c9d1f326cb\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,919580,6aaa6e8f07207e238787104c2d3d5e2e584e7cde,4,1,2,15334,,,0,"pre-commit: Add sphinx-lint

Change-Id: I9d9d8b372b0a9c761b605188b3c641c9d1f326cb
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/placement refs/changes/80/919580/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/testing.rst', 'doc/source/contributor/contributing.rst', 'doc/source/user/provider-tree.rst', 'doc/source/contributor/goals.rst', 'doc/source/specs/train/implemented/2005297-negative-aggregate-membership.rst', '.pre-commit-config.yaml', 'doc/source/specs/xena/implemented/allow-provider-re-parenting.rst', 'doc/source/contributor/architecture.rst']",8,4c983b37b5b33d2076f571b5aa9b3f3e0252be86,pre-commit,"Though the placement service does not aspire to be a *microservice* it doesmiddleware that is composed in the ``placement.deploy`` module. Dispatch orthe ``placement.handler`` module.placement API these mini-applications are called *handlers*. The ``wsgify`` subclass is provided in ``placement.wsgi_wrapper`` as ``PlacementWsgify``. It is``placement.handler`` module should be updated to point to aJSON, a ``415`` response status is returned. Response bodies are usually JSON. A handler can check the ``Accept`` headerJSON, a ``406`` response status is returned.JSON sent in a request should be validated against a JSON Schema. Athe objects found in the ``placement.objects`` package. Doing so requires a ``placement.objects`` package, after you have made sure that you reallydatabase. To do that, Placement uses ``alembic`` to run database migrations.run the ``alembic revision`` command. Alembic will then generate a new revision file with a unique file name, and place it in the ``alembic/versions/````alembic revision`` command, this would just contain ""empty message"". If you didYou then need to define the changes in the ``upgrade()`` method. The code used inconfigured. When run with this option, the ``upgrade()`` method of the revision* The placement API is somewhat more strict about ``Content-Type`` and ``Accept`` If a user-agent sends some JSON in a ``PUT`` or ``POST`` request without a ``Content-Type`` of ``application/json`` the request will result in an error. If a ``GET`` request is made without an ``Accept`` header, the response will default to being ``application/json``. If a request is made with an explicit ``Accept`` header that does not include ``application/json`` then there will be an error and the error will attempt to be in the requested format (for example, ``text/plain``). support, the API will respond with a ``405`` error. Sometimes in the nova APIs this can be a ``404`` (which is wrong, but understandable given the constraints* Because each handler is individually wrapped by the ``PlacementWsgify`` decorator any exception that is a subclass of ``webob.exc.WSGIHTTPException`` that is raised from within the handler, such as ``webob.exc.HTTPBadRequest``, where they will either be caught in the ``__call__`` method of the ``PlacementHandler`` app that is responsible for dispatch, or by the ``FaultWrap`` middleware.","Though the placement service does not aspire to be a `microservice` it doesmiddleware that is composed in the `placement.deploy` module. Dispatch orthe `placement.handler` module.placement API these mini-applications are called `handlers`. The `wsgify` subclass is provided in `placement.wsgi_wrapper` as `PlacementWsgify`. It is`placement.handler` module should be updated to point to a`JSON`, a ``415`` response status is returned. Response bodies are usually `JSON`. A handler can check the `Accept` header`JSON`, a ``406`` response status is returned.`JSON` sent in a request should be validated against a JSON Schema. Athe objects found in the `placement.objects` package. Doing so requires a `placement.objects` package, after you have made sure that you reallydatabase. To do that, Placement uses `alembic` to run database migrations.run the `alembic revision` command. Alembic will then generate a new revision file with a unique file name, and place it in the `alembic/versions/``alembic revision` command, this would just contain ""empty message"". If you didYou then need to define the changes in the `upgrade()` method. The code used inconfigured. When run with this option, the `upgrade()` method of the revision* The placement API is somewhat more strict about `Content-Type` and `Accept` If a user-agent sends some JSON in a `PUT` or `POST` request without a `Content-Type` of `application/json` the request will result in an error. If a `GET` request is made without an `Accept` header, the response will default to being `application/json`. If a request is made with an explicit `Accept` header that does not include `application/json` then there will be an error and the error will attempt to be in the requested format (for example, `text/plain`). support, the API will respond with a `405` error. Sometimes in the nova APIs this can be a `404` (which is wrong, but understandable given the constraints* Because each handler is individually wrapped by the `PlacementWsgify` decorator any exception that is a subclass of `webob.exc.WSGIHTTPException` that is raised from within the handler, such as `webob.exc.HTTPBadRequest`, where they will either be caught in the `__call__` method of the `PlacementHandler` app that is responsible for dispatch, or by the `FaultWrap` middleware.",53,54
openstack%2Fplacement~919579,openstack/placement,master,I40410f637fcb1b05724a4ed7106e557c07006164,Integrate pre-commit,NEW,2024-05-14 14:13:21.000000000,2024-06-13 11:40:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-14 14:13:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/cfdaf9836aeeaf8b3d9770f3a121114a694a8c05', 'message': ""Integrate pre-commit\n\nJust as we've done for Nova and many other projects.\n\nChange-Id: I40410f637fcb1b05724a4ed7106e557c07006164\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2024-06-13 09:54:19.000000000', 'files': ['placement/tests/functional/gabbits/allocation-candidates-member-of.yaml', 'placement/tests/functional/gabbits/microversion.yaml', 'tox.ini', '.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/placement/commit/b0c4b4782de85b2fa7a10d076935e2e0f5f88a7a', 'message': ""Integrate pre-commit\n\nJust as we've done for Nova and many other projects.\n\nChange-Id: I40410f637fcb1b05724a4ed7106e557c07006164\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,919579,b0c4b4782de85b2fa7a10d076935e2e0f5f88a7a,4,1,2,15334,,,0,"Integrate pre-commit

Just as we've done for Nova and many other projects.

Change-Id: I40410f637fcb1b05724a4ed7106e557c07006164
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/placement refs/changes/79/919579/1 && git format-patch -1 --stdout FETCH_HEAD,"['placement/tests/functional/gabbits/allocation-candidates-member-of.yaml', 'placement/tests/functional/gabbits/microversion.yaml', 'tox.ini', '.pre-commit-config.yaml']",4,cfdaf9836aeeaf8b3d9770f3a121114a694a8c05,pre-commit,"--- repos: - repo: https://github.com/pre-commit/pre-commit-hooks rev: v4.6.0 hooks: - id: trailing-whitespace - id: mixed-line-ending args: ['--fix', 'lf'] exclude: '.*\.(svg)$' - id: check-byte-order-marker - id: check-executables-have-shebangs - id: check-merge-conflict - id: debug-statements - id: check-json files: .*\.json$ - id: check-yaml files: .*\.(yaml|yml)$ - repo: https://github.com/Lucas-C/pre-commit-hooks rev: v1.5.5 hooks: - id: remove-tabs exclude: '.*\.(svg)$' - repo: https://opendev.org/openstack/hacking rev: 6.1.0 hooks: - id: hacking additional_dependencies: [] exclude: '^(doc|releasenotes|tools)/.*$' # TODO(stephenfin): Uncomment this # - repo: https://github.com/sphinx-contrib/sphinx-lint # rev: v0.9.1 # hooks: # - id: sphinx-lint # args: [--enable=default-role] # files: ^doc/|releasenotes|api-guide # types: [rst] ",,40,6
openstack%2Fpython-swiftclient~917662,openstack/python-swiftclient,unmaintained/zed,Id8be5a6befb36888a14290354769d72f0ccc91b5,Update .gitreview for unmaintained/zed,MERGED,2024-04-30 11:05:51.000000000,2024-06-13 11:37:28.000000000,2024-06-13 11:36:31.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-30 11:05:51.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/b3b5c8393424b08a6ccc7ca1be3c14433a538033', 'message': 'Update .gitreview for unmaintained/zed\n\nChange-Id: Id8be5a6befb36888a14290354769d72f0ccc91b5\n'}]",3,917662,b3b5c8393424b08a6ccc7ca1be3c14433a538033,13,2,1,22816,,,0,"Update .gitreview for unmaintained/zed

Change-Id: Id8be5a6befb36888a14290354769d72f0ccc91b5
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/62/917662/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,b3b5c8393424b08a6ccc7ca1be3c14433a538033,create-zed,defaultbranch=unmaintained/zed,defaultbranch=stable/zed,1,1
openstack%2Fironic-inspector~921923,openstack/ironic-inspector,stable/2024.1,I18bbb460cbaa4f58f9e736c071571c38ced35892,Cache openstacksdk Connections to avoid leaking memory,MERGED,2024-06-13 09:03:14.000000000,2024-06-13 11:29:00.000000000,2024-06-13 11:27:46.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2024-06-13 09:03:14.000000000', 'files': ['ironic_inspector/test/unit/test_common_ironic.py', 'releasenotes/notes/sdk-2-leak-500f3669afb6713e.yaml', 'ironic_inspector/common/ironic.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/714f1cc86b6a9e73f2377eb244a420f144f303aa', 'message': 'Cache openstacksdk Connections to avoid leaking memory\n\nThe current code never closes connection. Newer openstacksdk versions\nregister Connection.close with the atexit mechanism, so any connections\nthat are not explicitly closed stay in memory forever.\n\nChange-Id: I18bbb460cbaa4f58f9e736c071571c38ced35892\n(cherry picked from commit 48a3bf605b1d110b505d30e208b6ea64a121f848)\n'}]",0,921923,714f1cc86b6a9e73f2377eb244a420f144f303aa,7,2,1,10239,,,0,"Cache openstacksdk Connections to avoid leaking memory

The current code never closes connection. Newer openstacksdk versions
register Connection.close with the atexit mechanism, so any connections
that are not explicitly closed stay in memory forever.

Change-Id: I18bbb460cbaa4f58f9e736c071571c38ced35892
(cherry picked from commit 48a3bf605b1d110b505d30e208b6ea64a121f848)
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/23/921923/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/test/unit/test_common_ironic.py', 'releasenotes/notes/sdk-2-leak-500f3669afb6713e.yaml', 'ironic_inspector/common/ironic.py']",3,714f1cc86b6a9e73f2377eb244a420f144f303aa,connection-stable/2024.1,"from oslo_utils import excutils_CONNECTION = None global _CONNECTION if _CONNECTION is None: try: session = _get_ironic_session() _CONNECTION = openstack.connection.Connection( session=session, oslo_conf=CONF) except Exception as exc: LOG.error('Failed to create an openstack connection: %s', exc) raise return _CONNECTION.baremetal except Exception as exc: with excutils.save_and_reraise_exception(): LOG.error('Failed to connect to Ironic: %s', exc) # Force creating a new connection on the next retry try: _CONNECTION.close() except Exception as exc2: LOG.error('Unable to close an openstack connection, ' 'a memory leak is possible. Error: %s', exc2) _CONNECTION = None global _IRONIC_SESSION, _CONNECTION _CONNECTION = _IRONIC_SESSION = None"," session = _get_ironic_session() return openstack.connection.Connection( session=session, oslo_conf=CONF).baremetal except Exception as exc: LOG.error('Failed to establish a connection with ironic, ' 'reason: %s', exc) raise global _IRONIC_SESSION _IRONIC_SESSION = None",35,10
openstack%2Fkolla-ansible~916686,openstack/kolla-ansible,master,I3bc15b78549f033623d6ffba42ab833881171424,Replace meeting time by link to the meetings page,NEW,2024-04-22 20:51:40.000000000,2024-06-13 11:27:36.000000000,,"[{'_account_id': 22348}, {'_account_id': 34076}]","[{'number': 1, 'created': '2024-04-22 20:51:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2aea22a0c06b094ca56bc476695628df50eb1c66', 'message': 'Update meeting time\n\nThe meeting time was recently changed [1].\n\n[1] https://review.opendev.org/c/opendev/irc-meetings/+/916160\n\nChange-Id: I3bc15b78549f033623d6ffba42ab833881171424\n'}, {'number': 2, 'created': '2024-04-24 11:15:02.000000000', 'files': ['doc/source/contributor/contributing.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9fbe1f83ba6f50385721d20af3661fbf578367bb', 'message': 'Replace meeting time by link to the meetings page\n\nChange-Id: I3bc15b78549f033623d6ffba42ab833881171424\n'}]",1,916686,9fbe1f83ba6f50385721d20af3661fbf578367bb,7,2,2,15197,,,0,"Replace meeting time by link to the meetings page

Change-Id: I3bc15b78549f033623d6ffba42ab833881171424
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/86/916686/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/contributing.rst'],1,2aea22a0c06b094ca56bc476695628df50eb1c66,kolla-meeting, On Wednesdays at 13:00 UTC in the IRC channel (`meetings logs`_), On Wednesdays at 15:00 UTC in the IRC channel (`meetings logs`_),1,1
openstack%2Fpython-openstackclient~918787,openstack/python-openstackclient,master,I71a13b34a85350af17612e12c03e6df8cb041f86,volume: Add v3-specific volume backup module,NEW,2024-05-09 16:52:46.000000000,2024-06-13 11:23:42.000000000,,"[{'_account_id': 9542}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-09 16:52:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d230440036e74804639fd7c8aa192ed9005208c9', 'message': 'volume: Add v3-specific volume backup module\n\nThis makes testing easier.\n\nChange-Id: I71a13b34a85350af17612e12c03e6df8cb041f86\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2024-06-11 11:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/06c7020146f3ec9f8d0873f70a37368efe517845', 'message': 'volume: Add v3-specific volume backup module\n\nThis makes testing easier.\n\nChange-Id: I71a13b34a85350af17612e12c03e6df8cb041f86\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2024-06-12 15:17:59.000000000', 'files': ['openstackclient/tests/unit/volume/v2/test_volume_backup.py', 'openstackclient/volume/v2/volume_backup.py', 'openstackclient/tests/unit/volume/v3/test_volume_backup.py', 'openstackclient/tests/unit/volume/v2/fakes.py', 'openstackclient/volume/v3/volume_backup.py', 'setup.cfg', 'openstackclient/tests/unit/volume/v3/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/41513162b544fb0ade11ca8f289d21111c967303', 'message': 'volume: Add v3-specific volume backup module\n\nThis makes testing easier.\n\nChange-Id: I71a13b34a85350af17612e12c03e6df8cb041f86\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",1,918787,41513162b544fb0ade11ca8f289d21111c967303,7,2,3,15334,,,0,"volume: Add v3-specific volume backup module

This makes testing easier.

Change-Id: I71a13b34a85350af17612e12c03e6df8cb041f86
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/87/918787/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/volume/v2/test_volume_backup.py', 'openstackclient/volume/v2/volume_backup.py', 'openstackclient/tests/unit/volume/v3/test_volume_backup.py', 'openstackclient/tests/unit/volume/v2/fakes.py', 'openstackclient/volume/v3/volume_backup.py', 'setup.cfg', 'openstackclient/tests/unit/volume/v3/fakes.py']",7,d230440036e74804639fd7c8aa192ed9005208c9,compute-gaps,"from openstack.block_storage.v3 import backup as _backup self.backups = mock.Mock() self.backups.resource_class = fakes.FakeResource(None, {}) self.restores = mock.Mock() self.restores.resource_class = fakes.FakeResource(None, {})def create_one_backup(attrs=None): """"""Create a fake backup. :param dict attrs: A dictionary with all attributes :return: A fake openstack.block_storage.v3.backup.Backup object """""" attrs = attrs or {} # Set default attributes. backup_info = { ""availability_zone"": 'zone' + uuid.uuid4().hex, ""container"": 'container-' + uuid.uuid4().hex, ""created_at"": 'time-' + uuid.uuid4().hex, ""data_timestamp"": 'time-' + uuid.uuid4().hex, ""description"": 'description-' + uuid.uuid4().hex, ""encryption_key_id"": None, ""fail_reason"": ""Service not found for creating backup."", ""has_dependent_backups"": False, ""id"": 'backup-id-' + uuid.uuid4().hex, ""is_incremental"": False, ""metadata"": {}, ""name"": 'backup-name-' + uuid.uuid4().hex, ""object_count"": None, ""project_id"": uuid.uuid4().hex, ""size"": random.randint(1, 20), ""snapshot_id"": 'snapshot-id' + uuid.uuid4().hex, ""status"": ""error"", ""updated_at"": 'time-' + uuid.uuid4().hex, ""user_id"": uuid.uuid4().hex, ""volume_id"": 'volume-id-' + uuid.uuid4().hex, } # Overwrite default attributes. backup_info.update(attrs) backup = _backup.Backup(**backup_info) return backup def create_backups(attrs=None, count=2): """"""Create multiple fake backups. :param dict attrs: A dictionary with all attributes :param int count: The number of backups to fake :return: A list of fake openstack.block_storage.v3.backup.Backup objects """""" backups = [] for i in range(0, count): backup = create_one_backup(attrs) backups.append(backup) return backups def get_backups(backups=None, count=2): """"""Get an iterable MagicMock object with a list of faked backups. If backups list is provided, then initialize the Mock object with the list. Otherwise create one. :param List backups: A list of FakeResource objects faking backups :param Integer count: The number of backups to be faked :return An iterable Mock object with side_effect set to a list of faked backups """""" if backups is None: backups = create_backups(count) return mock.Mock(side_effect=backups) ",,1696,600
openstack%2Fkolla-ansible~913908,openstack/kolla-ansible,master,Ia81a6efc38ec2bdc1355d058c03568cf740fdac5,Fix keystone configuration for haproxy.,NEW,2024-03-21 14:33:01.000000000,2024-06-13 11:19:31.000000000,,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 32553}, {'_account_id': 36201}]","[{'number': 1, 'created': '2024-03-21 14:33:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/498a8c00001c7e2b4b613525dfd0b7cdf762da1c', 'message': 'Fix keystone service configuration for haproxy when federation is enabled.\n\nCloses-Bug: #2058656\nChange-Id: Ia81a6efc38ec2bdc1355d058c03568cf740fdac5\n'}, {'number': 2, 'created': '2024-03-21 14:35:26.000000000', 'files': ['ansible/roles/keystone/defaults/main.yml', 'releasenotes/notes/bug-2058656-ad68bb260327a267.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/33d03a4267c9c64d774e1cf90c402326ac2de6d1', 'message': 'Fix keystone configuration for haproxy.\n\n* Use proper balancing mode when federation is enabled.\n\nCloses-Bug: #2058656\nChange-Id: Ia81a6efc38ec2bdc1355d058c03568cf740fdac5\n'}]",4,913908,33d03a4267c9c64d774e1cf90c402326ac2de6d1,13,4,2,32398,,,0,"Fix keystone configuration for haproxy.

* Use proper balancing mode when federation is enabled.

Closes-Bug: #2058656
Change-Id: Ia81a6efc38ec2bdc1355d058c03568cf740fdac5
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/08/913908/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/keystone/defaults/main.yml', 'releasenotes/notes/bug-2058656-ad68bb260327a267.yaml']",2,498a8c00001c7e2b4b613525dfd0b7cdf762da1c,bug/2058656,--- fixes: - | Fixes keystone service configuration for haproxy when using federation. `LP#2058656 <https://bugs.launchpad.net/kolla-ansible/+bug/2058656>`__ ,,9,2
openstack%2Fplacement~919578,openstack/placement,master,Ibe3a131afefeeb5bb7bf13a3e5e80fdc829d7962,tox: Simplify functional testenv definitions,NEW,2024-05-14 14:13:21.000000000,2024-06-13 11:15:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-14 14:13:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/728abf5647a4344ab13151f930755845b7bbbdee', 'message': ""tox: Remove envdir overrides\n\nThese don't work with tox 4, unfortunately. Since we're doing this we\ncan unify the functional tests envs.\n\nChange-Id: Ibe3a131afefeeb5bb7bf13a3e5e80fdc829d7962\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2024-06-13 09:54:19.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/placement/commit/51cbfeedba812132ca34839fd43405dbc2b88111', 'message': 'tox: Simplify functional testenv definitions\n\nChange-Id: Ibe3a131afefeeb5bb7bf13a3e5e80fdc829d7962\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,919578,51cbfeedba812132ca34839fd43405dbc2b88111,4,1,2,15334,,,0,"tox: Simplify functional testenv definitions

Change-Id: Ibe3a131afefeeb5bb7bf13a3e5e80fdc829d7962
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/placement refs/changes/78/919578/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,728abf5647a4344ab13151f930755845b7bbbdee,pre-commit,"[testenv:functional{,-py38,-py39,-py310,-py311,-py312}]",# The functional environment is the base env for functional tests. [testenv:functional][testenv:functional-py38] envdir = {toxworkdir}/py38 commands = {[testenv:functional]commands} [testenv:functional-py39] envdir = {toxworkdir}/py39 commands = {[testenv:functional]commands} [testenv:functional-py310] envdir = {toxworkdir}/py310 commands = {[testenv:functional]commands} envdir = {toxworkdir}/sharedenvdir = {toxworkdir}/sharedenvdir = {toxworkdir}/sharedenvdir = {toxworkdir}/sharedenvdir = {toxworkdir}/sharedenvdir = {toxworkdir}/sharedenvdir = {toxworkdir}/docsenvdir = {toxworkdir}/docsenvdir = {toxworkdir}/shared,1,26
openstack%2Fosc-lib~920000,openstack/osc-lib,master,Id8d4cec6fe709d1b647281ec4ff76b5104ec88f9,Drop dependency on simplejson,MERGED,2024-05-19 13:53:41.000000000,2024-06-13 11:08:15.000000000,2024-06-13 11:07:10.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-19 13:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-lib/commit/cbea354dba35e7b4d06b7751e3b7675c4921dfdb', 'message': 'Drop dependency on simplejson\n\nRecent python 3 versions provide the built-in json module which meet\ngeneric requirements. Remove explicit dependency on simplejson and use\nthe built-in module by default, to reduce external dependencies.\n\nChange-Id: Id8d4cec6fe709d1b647281ec4ff76b5104ec88f9\n'}, {'number': 2, 'created': '2024-05-19 13:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-lib/commit/c8af65ea8b85f0786d26f386b6a2492f9a413035', 'message': 'Drop dependency on simplejson\n\nRecent python 3 versions provide the built-in json module which meet\ngeneric requirements. Remove explicit dependency on simplejson and use\nthe built-in module by default, to reduce external dependencies.\n\nDepends-on: https://review.opendev.org/920001\nChange-Id: Id8d4cec6fe709d1b647281ec4ff76b5104ec88f9\n'}, {'number': 3, 'created': '2024-05-20 01:00:00.000000000', 'files': ['requirements.txt', 'osc_lib/api/api.py'], 'web_link': 'https://opendev.org/openstack/osc-lib/commit/f9bcdecf1abd0c38fd60cfd7d99a00b113bd6d57', 'message': 'Drop dependency on simplejson\n\nRecent python 3 versions provide the built-in json module which meet\ngeneric requirements. Remove explicit dependency on simplejson and use\nthe built-in module by default, to reduce external dependencies.\n\nAlso fix the missing requests library in requirements.\n\nDepends-on: https://review.opendev.org/920001\nChange-Id: Id8d4cec6fe709d1b647281ec4ff76b5104ec88f9\n'}]",1,920000,f9bcdecf1abd0c38fd60cfd7d99a00b113bd6d57,10,2,3,9816,,,0,"Drop dependency on simplejson

Recent python 3 versions provide the built-in json module which meet
generic requirements. Remove explicit dependency on simplejson and use
the built-in module by default, to reduce external dependencies.

Also fix the missing requests library in requirements.

Depends-on: https://review.opendev.org/920001
Change-Id: Id8d4cec6fe709d1b647281ec4ff76b5104ec88f9
",git fetch https://review.opendev.org/openstack/osc-lib refs/changes/00/920000/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'osc_lib/api/api.py']",2,cbea354dba35e7b4d06b7751e3b7675c4921dfdb,,import requests except requests.JSONDecodeError: except requests.JSONDecodeError:,import simplejson as json except json.JSONDecodeError: except json.JSONDecodeError:,3,4
openstack%2Fdesignate~857978,openstack/designate,master,Icf73e730b31ab26b8be65347239636c0137ab4bd,Multi-pools implementation,NEW,2022-09-15 20:31:06.000000000,2024-06-13 10:59:54.000000000,,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-09-15 20:31:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/2da1d7822cbe44c977fd745cc8bf2a81e638c5fd', 'message': 'WIP Multi-pools implementation\n\nThis sets up 2 pools with an instance of named running in both. The\nsecond is denoted by /etc/bind-2 and var/cache/named-2 as its\nlocations. The build up of the /etc/designate/pools.yaml reflects\nthe changes.\n\nChange-Id: Icf73e730b31ab26b8be65347239636c0137ab4bd\n'}, {'number': 2, 'created': '2022-10-24 21:47:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/28198b4a85d0d4b595c0020490a2c1c5d04e193f', 'message': 'WIP Multi-pools implementation\n\nThis sets up 2 pools with an instance of named running in both. The\nsecond is denoted by /etc/bind-2 and var/cache/named-2 as its\nlocations. The build up of the /etc/designate/pools.yaml reflects\nthe changes.\n\nChange-Id: Icf73e730b31ab26b8be65347239636c0137ab4bd\n'}, {'number': 3, 'created': '2022-10-25 21:21:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/d6132df169e43eb207e98764c1d9d5d98cac4382', 'message': 'WIP Multi-pools implementation\n\nThis sets up 2 pools with an instance of named running in both. The\nsecond is denoted by /etc/bind-2 and var/cache/named-2 as its\nlocations. The build up of the /etc/designate/pools.yaml reflects\nthe changes.\n\nChange-Id: Icf73e730b31ab26b8be65347239636c0137ab4bd\n'}, {'number': 4, 'created': '2022-10-25 22:45:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/67617c536a6e40375101677ccf49eb8ed36ca3dd', 'message': 'WIP Multi-pools implementation\n\nThis sets up 2 pools with an instance of named running in both. The\nsecond is denoted by /etc/bind-2 and var/cache/named-2 as its\nlocations. The build up of the /etc/designate/pools.yaml reflects\nthe changes.\n\nChange-Id: Icf73e730b31ab26b8be65347239636c0137ab4bd\n'}, {'number': 5, 'created': '2022-11-18 22:50:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/c47336e1595a30d4ddbeaaad51780bb9ec1a6794', 'message': 'Multi-pools implementation\n\nThis sets up 2 pools with an instance of named running in both. The\nsecond is denoted by /etc/bind-2 and var/cache/named-2 as its\nlocations. The build up of the /etc/designate/pools.yaml reflects\nthe changes.\n\nChange-Id: Icf73e730b31ab26b8be65347239636c0137ab4bd\n'}, {'number': 6, 'created': '2022-12-01 22:59:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/aaccab50a1ce811a3948dd9563a5d265e71a113e', 'message': 'Multi-pools implementation\n\nThis sets up 2 pools with an instance of named running in both. The\nsecond is denoted by /etc/bind-2 and var/cache/named-2 as its\nlocations. The build up of the /etc/designate/pools.yaml reflects\nthe changes.\n\nChange-Id: Icf73e730b31ab26b8be65347239636c0137ab4bd\n'}, {'number': 7, 'created': '2023-01-17 20:16:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/492cd8a5fad5a744db52123e3edb602faaa427d7', 'message': 'Multi-pools implementation\n\nThis sets up 2 pools with an instance of named running in both. The\nsecond is denoted by /etc/bind-2 and var/cache/named-2 as its\nlocations. The build up of the /etc/designate/pools.yaml reflects\nthe changes.\n\nChange-Id: Icf73e730b31ab26b8be65347239636c0137ab4bd\n'}, {'number': 8, 'created': '2023-01-18 22:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/4900780f8e901a4059a8c5b837cc85258092905d', 'message': 'Multi-pools implementation\n\nThis sets up 2 pools with an instance of named running in both. The\nsecond is denoted by /etc/bind-2 and var/cache/named-2 as its\nlocations. The build up of the /etc/designate/pools.yaml reflects\nthe changes.\n\nChange-Id: Icf73e730b31ab26b8be65347239636c0137ab4bd\n'}, {'number': 9, 'created': '2023-01-30 21:22:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/b4fb2f68a09e32931b3ce2f25b5cd88ae819fc1f', 'message': 'Multi-pools implementation\n\nThis sets up 2 pools with an instance of named running in both. The\nsecond is denoted by /etc/bind-2 and var/cache/named-2 as its\nlocations. The build up of the /etc/designate/pools.yaml reflects\nthe changes.\n\nChange-Id: Icf73e730b31ab26b8be65347239636c0137ab4bd\n'}, {'number': 10, 'created': '2023-01-30 23:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/eaf3637fa622becad5e2a4393ea0c0e132c7f919', 'message': 'Multi-pools implementation\n\nThis sets up 2 pools with an instance of named running in both. The\nsecond is denoted by /etc/bind-2 and var/cache/named-2 as its\nlocations. The build up of the /etc/designate/pools.yaml reflects\nthe changes.\n\nChange-Id: Icf73e730b31ab26b8be65347239636c0137ab4bd\n'}, {'number': 11, 'created': '2023-04-07 15:58:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/f2c91dafd269d04bcf3b24dfede20646f0b65ee1', 'message': 'Multi-pools implementation\n\nThis sets up 2 pools with an instance of named running in both. The\nsecond is denoted by /etc/bind-2 and var/cache/named-2 as its\nlocations. The build up of the /etc/designate/pools.yaml reflects\nthe changes.\n\nChange-Id: Icf73e730b31ab26b8be65347239636c0137ab4bd\n'}, {'number': 12, 'created': '2024-04-25 14:24:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/eebc2ffb50698952287293dd712fac0a4ef2040e', 'message': 'Multi-pools implementation\n\nThis sets up 2 pools with an instance of named running in both. The\nsecond is denoted by /etc/bind-2 and var/cache/named-2 as its\nlocations. The build up of the /etc/designate/pools.yaml reflects\nthe changes.\n\nCo-Authored-By: Don Kehn <dekehn@gmail.com>\nChange-Id: Icf73e730b31ab26b8be65347239636c0137ab4bd\n'}, {'number': 13, 'created': '2024-04-25 14:26:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/7ed51793bfb642379ce549f40b6bed351a58e0c9', 'message': 'Multi-pools implementation\n\nThis sets up 2 pools with an instance of named running in both. The\nsecond is denoted by /etc/bind-2 and var/cache/named-2 as its\nlocations. The build up of the /etc/designate/pools.yaml reflects\nthe changes.\n\nCo-Authored-By: Don Kehn <dekehn@gmail.com>\nChange-Id: Icf73e730b31ab26b8be65347239636c0137ab4bd\n'}, {'number': 14, 'created': '2024-04-29 11:23:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/6d8759e90e9e3ca32cd2e08580c057dda08cdf09', 'message': 'Multi-pools implementation\n\nThis sets up 2 pools with an instance of named running in both. The\nsecond is denoted by /etc/bind-2 and var/cache/named-2 as its\nlocations. The build up of the /etc/designate/pools.yaml reflects\nthe changes.\n\nCo-Authored-By: Don Kehn <dekehn@gmail.com>\nChange-Id: Icf73e730b31ab26b8be65347239636c0137ab4bd\n'}, {'number': 15, 'created': '2024-04-30 13:27:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/7467825ec7afb040b8ee3667cc9d9458b87e2b7e', 'message': 'Multi-pools implementation\n\nThis sets up 2 pools with an instance of named running in both. The\nsecond is denoted by /etc/bind-2 and var/cache/named-2 as its\nlocations. The build up of the /etc/designate/pools.yaml reflects\nthe changes.\n\nCo-Authored-By: Don Kehn <dekehn@gmail.com>\nChange-Id: Icf73e730b31ab26b8be65347239636c0137ab4bd\n'}, {'number': 16, 'created': '2024-04-30 14:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/708441c52e5cb34269c7249c85e8cb9021e90dce', 'message': 'Multi-pools implementation\n\nThis sets up 2 pools with an instance of named running in both. The\nsecond is denoted by /etc/bind-2 and var/cache/named-2 as its\nlocations. The build up of the /etc/designate/pools.yaml reflects\nthe changes.\n\nCo-Authored-By: Don Kehn <dekehn@gmail.com>\nChange-Id: Icf73e730b31ab26b8be65347239636c0137ab4bd\n'}, {'number': 17, 'created': '2024-05-03 09:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/c4c9d9f0c35c40f9caacd0a40dd7f8e3bc53d1f7', 'message': 'Multi-pools implementation\n\nThis sets up 2 pools with an instance of named running in both. The\nsecond is denoted by /etc/bind-2 and var/cache/named-2 as its\nlocations. The build up of the /etc/designate/pools.yaml reflects\nthe changes.\n\nCo-Authored-By: Don Kehn <dekehn@gmail.com>\nChange-Id: Icf73e730b31ab26b8be65347239636c0137ab4bd\n'}, {'number': 18, 'created': '2024-05-08 09:20:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/d7b1877ec1d514e2db60b2eaeba7c928347e3390', 'message': 'Multi-pools implementation\n\nThis sets up 2 pools with an instance of named running in both. The\nsecond is denoted by /etc/bind-2 and var/cache/named-2 as its\nlocations. The build up of the /etc/designate/pools.yaml reflects\nthe changes.\n\nCo-Authored-By: Don Kehn <dekehn@gmail.com>\nChange-Id: Icf73e730b31ab26b8be65347239636c0137ab4bd\n'}, {'number': 19, 'created': '2024-05-08 09:50:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/363e7c228d8deb011543373ba0502b72b708b4fa', 'message': 'Multi-pools implementation\n\nThis sets up 2 pools with an instance of named running in both. The\nsecond is denoted by /etc/bind-2 and var/cache/named-2 as its\nlocations. The build up of the /etc/designate/pools.yaml reflects\nthe changes.\n\nCo-Authored-By: Don Kehn <dekehn@gmail.com>\nChange-Id: Icf73e730b31ab26b8be65347239636c0137ab4bd\n'}, {'number': 20, 'created': '2024-05-08 12:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/99ed40422d96ce1a5b82c5ceac610689f7940f72', 'message': 'Multi-pools implementation\n\nThis sets up 2 pools with an instance of named running in both. The\nsecond is denoted by /etc/bind-2 and var/cache/named-2 as its\nlocations. The build up of the /etc/designate/pools.yaml reflects\nthe changes.\n\nCo-Authored-By: Don Kehn <dekehn@gmail.com>\nChange-Id: Icf73e730b31ab26b8be65347239636c0137ab4bd\n'}, {'number': 21, 'created': '2024-05-10 11:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/7f66e63348d52bfbc131c7e5e437aedee22a7487', 'message': 'Multi-pools implementation\n\nThis sets up 2 pools with an instance of named running in both. The\nsecond is denoted by /etc/bind-2 and var/cache/named-2 as its\nlocations. The build up of the /etc/designate/pools.yaml reflects\nthe changes.\n\nCo-Authored-By: Don Kehn <dekehn@gmail.com>\nChange-Id: Icf73e730b31ab26b8be65347239636c0137ab4bd\n'}, {'number': 22, 'created': '2024-05-20 17:35:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/2cac494273299a736e616a1db4b64949aed0df86', 'message': 'Multi-pools implementation\n\nThis sets up 2 pools with an instance of named running in both. The\nsecond is denoted by /etc/bind-2 and var/cache/named-2 as its\nlocations. The build up of the /etc/designate/pools.yaml reflects\nthe changes.\n\nCo-Authored-By: Don Kehn <dekehn@gmail.com>\nChange-Id: Icf73e730b31ab26b8be65347239636c0137ab4bd\n'}, {'number': 23, 'created': '2024-05-21 08:34:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/5c352c9681150c452b0f00b448a7ff53a053ea8d', 'message': 'Multi-pools implementation\n\nThis sets up 2 pools with an instance of named running in both. The\nsecond is denoted by /etc/bind-2 and var/cache/named-2 as its\nlocations. The build up of the /etc/designate/pools.yaml reflects\nthe changes.\n\nCo-Authored-By: Don Kehn <dekehn@gmail.com>\nChange-Id: Icf73e730b31ab26b8be65347239636c0137ab4bd\n'}, {'number': 24, 'created': '2024-05-21 13:47:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/bd19b7ff91110d99a1fc49ecb47d0c786a490d9d', 'message': 'Multi-pools implementation\n\nThis sets up 2 pools with an instance of named running in both. The\nsecond is denoted by /etc/bind-2 and var/cache/named-2 as its\nlocations. The build up of the /etc/designate/pools.yaml reflects\nthe changes.\n\nCo-Authored-By: Don Kehn <dekehn@gmail.com>\nChange-Id: Icf73e730b31ab26b8be65347239636c0137ab4bd\n'}, {'number': 25, 'created': '2024-05-28 12:11:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/3dc94ef48553c110b723cbf476c7d7dddb0fdac6', 'message': 'Multi-pools implementation\n\nThis sets up 2 pools with an instance of named running in both. The\nsecond is denoted by /etc/bind-2 and var/cache/named-2 as its\nlocations. The build up of the /etc/designate/pools.yaml reflects\nthe changes.\n\nCo-Authored-By: Don Kehn <dekehn@gmail.com>\nChange-Id: Icf73e730b31ab26b8be65347239636c0137ab4bd\n'}, {'number': 26, 'created': '2024-05-29 17:22:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/1d861cbca468c6cd777c8fbd4ee615f34a067543', 'message': 'Multi-pools implementation\n\nThis sets up 2 pools with an instance of named running in both. The\nsecond is denoted by /etc/bind-2 and var/cache/named-2 as its\nlocations. The build up of the /etc/designate/pools.yaml reflects\nthe changes.\n\nCo-Authored-By: Don Kehn <dekehn@gmail.com>\nCo-Authored-By: Omer Schwartz <oschwart@redhat.com>\nChange-Id: Icf73e730b31ab26b8be65347239636c0137ab4bd\n'}, {'number': 27, 'created': '2024-05-30 15:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/af9cdadb0197943cb7629712bde981c80b97d7f1', 'message': 'Multi-pools implementation\n\nThis sets up 2 pools with an instance of named running in both. The\nsecond is denoted by /etc/bind-2 and var/cache/named-2 as its\nlocations. The build up of the /etc/designate/pools.yaml reflects\nthe changes.\n\nCo-Authored-By: Don Kehn <dekehn@gmail.com>\nCo-Authored-By: Omer Schwartz <oschwart@redhat.com>\nChange-Id: Icf73e730b31ab26b8be65347239636c0137ab4bd\n'}, {'number': 28, 'created': '2024-06-04 11:30:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/1f22935212c407db011d62286ab5a22127f09a27', 'message': 'Multi-pools implementation\n\nThis sets up 2 pools with an instance of named running in both. The\nsecond is denoted by /etc/bind-2 and var/cache/named-2 as its\nlocations. The build up of the /etc/designate/pools.yaml reflects\nthe changes.\n\nCo-Authored-By: Don Kehn <dekehn@gmail.com>\nCo-Authored-By: Omer Schwartz <oschwart@redhat.com>\nChange-Id: Icf73e730b31ab26b8be65347239636c0137ab4bd\n'}, {'number': 29, 'created': '2024-06-04 15:06:09.000000000', 'files': ['devstack/designate_plugins/backend-multipool-bind9', 'designate/mdns/handler.py', 'designate/manage/pool.py', 'doc/source/user/manage-zones.rst', 'devstack/plugin.sh', 'designate/tests/functional/manage/test_pool.py', 'devstack/README.rst', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/designate/commit/1d7f5e598915421d834737c3757e3b727d5fce55', 'message': 'Multi-pools implementation\n\nThis sets up 2 pools with an instance of named running in both. The\nsecond is denoted by /etc/bind-2 and var/cache/named-2 as its\nlocations. The build up of the /etc/designate/pools.yaml reflects\nthe changes.\n\nCo-Authored-By: Don Kehn <dekehn@gmail.com>\nCo-Authored-By: Omer Schwartz <oschwart@redhat.com>\nChange-Id: Icf73e730b31ab26b8be65347239636c0137ab4bd\n'}]",109,857978,1d7f5e598915421d834737c3757e3b727d5fce55,80,3,29,5572,,,0,"Multi-pools implementation

This sets up 2 pools with an instance of named running in both. The
second is denoted by /etc/bind-2 and var/cache/named-2 as its
locations. The build up of the /etc/designate/pools.yaml reflects
the changes.

Co-Authored-By: Don Kehn <dekehn@gmail.com>
Co-Authored-By: Omer Schwartz <oschwart@redhat.com>
Change-Id: Icf73e730b31ab26b8be65347239636c0137ab4bd
",git fetch https://review.opendev.org/openstack/designate refs/changes/78/857978/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/designate_plugins/backend-multipool-bind9', 'devstack/plugin.sh', 'devstack/settings']",3,2da1d7822cbe44c977fd745cc8bf2a81e638c5fd,add_tempest_plugin_devstack,DESIGNATE_BACKEND_DRIVER=${DESIGNATE_BACKEND_DRIVER:=multipool-bind9}DESIGNATE_DEFAULT_NS2_RECORD=${DESIGNATE_DEFAULT_NS_RECORD:-ns2.devstack.org.}DESIGNATE_SERVICE_HOST2=${DESIGNATE_SERVICE_HOST2:-$SERVICE_HOST}DESIGNATE_SERVICE_PORT2_DNS=${DESIGNATE_SERVICE_PORT2_DNS:-1053}DESIGNATE_SERVICE_PORT2_MDNS=${DESIGNATE_SERVICE_PORT2_MDNS:-5354},DESIGNATE_BACKEND_DRIVER=${DESIGNATE_BACKEND_DRIVER:=bind9},347,1
openstack%2Fosc-placement~919999,openstack/osc-placement,master,Id5eccad660be353843f95acfa691d61888983dab,Replace simplejson by built-in json,MERGED,2024-05-19 13:49:54.000000000,2024-06-13 10:48:27.000000000,2024-06-13 10:47:21.000000000,"[{'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-19 13:49:54.000000000', 'files': ['osc_placement/tests/functional/base.py', 'osc_placement/http.py', 'requirements.txt', 'osc_placement/tests/unit/test_http.py'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/4089a85cca1d95b71d98551ff5b4d96b86cfa0a4', 'message': 'Replace simplejson by built-in json\n\nRecent python 3 versions provide the built-in json module which meets\nthe generic requirements. Replace the 3rd party library (simplejson)\nby the built-in one to reduce external dependencies.\n\nChange-Id: Id5eccad660be353843f95acfa691d61888983dab\n'}]",1,919999,4089a85cca1d95b71d98551ff5b4d96b86cfa0a4,8,3,1,9816,,,0,"Replace simplejson by built-in json

Recent python 3 versions provide the built-in json module which meets
the generic requirements. Replace the 3rd party library (simplejson)
by the built-in one to reduce external dependencies.

Change-Id: Id5eccad660be353843f95acfa691d61888983dab
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/99/919999/1 && git format-patch -1 --stdout FETCH_HEAD,"['osc_placement/tests/functional/base.py', 'osc_placement/http.py', 'requirements.txt', 'osc_placement/tests/unit/test_http.py']",4,4089a85cca1d95b71d98551ff5b4d96b86cfa0a4,,import json,import simplejson as json,3,4
openstack%2Fnetworking-bagpipe~884695,openstack/networking-bagpipe,master,I7bcacd337a8d86ff49298db95dee936d5663ffb3,Add os_ken_app to EVPN OVSDataplaneDriver,NEW,2023-05-30 13:23:43.000000000,2024-06-13 10:45:44.000000000,,"[{'_account_id': 9656}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-30 13:23:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/c6fcfe1edb9ffbef9cea15ec60244178e8f363b5', 'message': 'Add os_ken_app to EVPN OVSDataplaneDriver\n\nChange-Id: I7bcacd337a8d86ff49298db95dee936d5663ffb3\n'}, {'number': 2, 'created': '2023-05-31 08:35:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/4c81b2668e251bdae87ad63108c5c3197e8b4aaa', 'message': 'Add os_ken_app to EVPN OVSDataplaneDriver\n\nChange-Id: I7bcacd337a8d86ff49298db95dee936d5663ffb3\n'}, {'number': 3, 'created': '2023-06-29 12:24:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/d88d04902181dce40a8cda625c2cbba21f0d75b2', 'message': 'Add os_ken_app to EVPN OVSDataplaneDriver\n\nChange-Id: I7bcacd337a8d86ff49298db95dee936d5663ffb3\n'}, {'number': 4, 'created': '2023-09-14 07:11:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/1db19903e0f9c36c365b85bf3fa0cd6badb65578', 'message': 'Add os_ken_app to EVPN OVSDataplaneDriver\n\nChange-Id: I7bcacd337a8d86ff49298db95dee936d5663ffb3\n'}, {'number': 5, 'created': '2024-01-10 11:58:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/94c90ce2b145c599eae6f876d1a365d99086da7f', 'message': 'Add os_ken_app to EVPN OVSDataplaneDriver\n\nChange-Id: I7bcacd337a8d86ff49298db95dee936d5663ffb3\n'}, {'number': 6, 'created': '2024-05-16 08:52:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/a35a13a8683f03f617cf90921795495b4287864d', 'message': 'Add os_ken_app to EVPN OVSDataplaneDriver\n\nChange-Id: I7bcacd337a8d86ff49298db95dee936d5663ffb3\n'}, {'number': 7, 'created': '2024-06-13 08:45:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/cd85cec9704b953e33868c5827ca4c29eb731129', 'message': 'Add os_ken_app to EVPN OVSDataplaneDriver\n\nBGP daemon throws tracebeck about missing parameter for os_ken_app.\nTODO: Check the other failure reported in bug #2066261 .\n\nCloses-Bug: #2066261\nChange-Id: I7bcacd337a8d86ff49298db95dee936d5663ffb3\n'}, {'number': 8, 'created': '2024-06-13 08:45:54.000000000', 'files': ['networking_bagpipe/bagpipe_bgp/vpn/evpn/ovs.py'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/bb667f062bcb8dba627078e9938b1d4a3f5edf01', 'message': 'Add os_ken_app to EVPN OVSDataplaneDriver\n\nBGP daemon throws tracebeck about missing parameter for os_ken_app.\nTODO: Check the other failure reported in bug #2066261 .\n\nCloses-Bug: #2066261\nChange-Id: I7bcacd337a8d86ff49298db95dee936d5663ffb3\n'}]",8,884695,bb667f062bcb8dba627078e9938b1d4a3f5edf01,23,2,8,8313,,,0,"Add os_ken_app to EVPN OVSDataplaneDriver

BGP daemon throws tracebeck about missing parameter for os_ken_app.
TODO: Check the other failure reported in bug #2066261 .

Closes-Bug: #2066261
Change-Id: I7bcacd337a8d86ff49298db95dee936d5663ffb3
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/95/884695/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_bagpipe/bagpipe_bgp/vpn/evpn/ovs.py'],1,c6fcfe1edb9ffbef9cea15ec60244178e8f363b5,fix_ovs_evpn_driver," br_tun.OVSTunnelBridge(self.config.ovs_bridge, os_ken_app=self)", br_tun.OVSTunnelBridge(self.config.ovs_bridge),1,1
openstack%2Fkolla-ansible~919669,openstack/kolla-ansible,master,Ief95f8a7921c2622644834af3eccb4a6e0e7f921,Add note for barbican and heat python clients,NEW,2024-05-15 07:41:49.000000000,2024-06-13 10:38:03.000000000,,"[{'_account_id': 22348}, {'_account_id': 34076}]","[{'number': 1, 'created': '2024-05-15 07:41:49.000000000', 'files': ['doc/source/reference/orchestration-and-nfv/tacker-guide.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9faa1d7e91c5ebf19a039d46e647d1c6a07eb203', 'message': 'Add note for barbican and heat python clients\n\nChange-Id: Ief95f8a7921c2622644834af3eccb4a6e0e7f921\n'}]",2,919669,9faa1d7e91c5ebf19a039d46e647d1c6a07eb203,3,2,1,34918,,,0,"Add note for barbican and heat python clients

Change-Id: Ief95f8a7921c2622644834af3eccb4a6e0e7f921
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/69/919669/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/orchestration-and-nfv/tacker-guide.rst'],1,9faa1d7e91c5ebf19a039d46e647d1c6a07eb203,,.. note:: Barbican and heat python clients are in tacker's requirements and will be installed as dependency. ,,5,0
openstack%2Fkolla-ansible~921371,openstack/kolla-ansible,master,I7ae1db8d42c83b773047bb01e846d4abee02710a,hardening horizon: don't mount hosts /tmp,NEW,2024-06-05 10:34:30.000000000,2024-06-13 10:33:07.000000000,,"[{'_account_id': 22348}, {'_account_id': 34076}]","[{'number': 1, 'created': '2024-06-05 10:34:30.000000000', 'files': ['releasenotes/notes/harden_horizon_tmp_usage-0d690e49645b99a8.yaml', 'ansible/roles/horizon/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f306e9ca88796f3f77fb2f3fef343c167d11b13a', 'message': ""hardening horizon: don't mount hosts /tmp\n\nconsider this a security hardening\nas it would be possible to write to host\nowned private tmp files e.g. of systemd-logind\nwhen you are able to highjack the apache2 process\ninside the horizon container, which runs as root.\n\nsee the bug report for a demonstration of this.\n\nI checked the horizon code, it only facilitates\npython tempfiles module for temp file usage.\n\nI also checked the horizon container we build\nvia `kolla-build -b ubuntu horizon`, which has\na /tmp/ directory.\nSo no mountpoint should be needed.\n\nCloses-Bug: #2068126\n\nSigned-off-by: Sven Kieske <kieske@osism.tech>\nChange-Id: I7ae1db8d42c83b773047bb01e846d4abee02710a\n""}]",1,921371,f306e9ca88796f3f77fb2f3fef343c167d11b13a,4,2,1,32553,,,0,"hardening horizon: don't mount hosts /tmp

consider this a security hardening
as it would be possible to write to host
owned private tmp files e.g. of systemd-logind
when you are able to highjack the apache2 process
inside the horizon container, which runs as root.

see the bug report for a demonstration of this.

I checked the horizon code, it only facilitates
python tempfiles module for temp file usage.

I also checked the horizon container we build
via `kolla-build -b ubuntu horizon`, which has
a /tmp/ directory.
So no mountpoint should be needed.

Closes-Bug: #2068126

Signed-off-by: Sven Kieske <kieske@osism.tech>
Change-Id: I7ae1db8d42c83b773047bb01e846d4abee02710a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/71/921371/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/harden_horizon_tmp_usage-0d690e49645b99a8.yaml', 'ansible/roles/horizon/defaults/main.yml']",2,f306e9ca88796f3f77fb2f3fef343c167d11b13a,fix_horizon_tmp,," - ""/tmp:/tmp""",6,1
openstack%2Fproject-config~918287,openstack/project-config,master,I159ad7cf01d2b6bddbcd9495ae3e54ade7f6fc37,Fork stackhpc/capi-helm-charts to openstack/magnum-capi-helm-charts,ABANDONED,2024-05-06 09:00:21.000000000,2024-06-13 10:21:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-06 09:00:21.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ffe6e9632aea224aed22c9f2666ae1f203a8f9bd', 'message': 'Fork stackhpc/capi-helm-charts to openstack/magnum-capi-helm-charts\n\nUpstream is set to waipeng/capi-helm-charts to rename main branch to\nmaster\n\nChange-Id: I159ad7cf01d2b6bddbcd9495ae3e54ade7f6fc37\n'}]",4,918287,ffe6e9632aea224aed22c9f2666ae1f203a8f9bd,9,1,1,8064,,,0,"Fork stackhpc/capi-helm-charts to openstack/magnum-capi-helm-charts

Upstream is set to waipeng/capi-helm-charts to rename main branch to
master

Change-Id: I159ad7cf01d2b6bddbcd9495ae3e54ade7f6fc37
",git fetch https://review.opendev.org/openstack/project-config refs/changes/87/918287/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,ffe6e9632aea224aed22c9f2666ae1f203a8f9bd,, upstream: https://github.com/waipeng/capi-helm-charts.git,,1,0
openstack%2Fhorizon~921860,openstack/horizon,master,I92fa6379394620837c8a2518ee6138279f429f9c,pytest-based selenium tests add fix image modal instability,MERGED,2024-06-12 13:04:34.000000000,2024-06-13 10:18:49.000000000,2024-06-13 10:17:23.000000000,"[{'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 35153}]","[{'number': 1, 'created': '2024-06-12 13:04:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/2edb1d9d05988f2b2ff3d7aff5fa5b812082e314', 'message': 'pytest-based selenium tests add fix image modal instability\n\nChange-Id: I92fa6379394620837c8a2518ee6138279f429f9c\n'}, {'number': 2, 'created': '2024-06-12 20:15:13.000000000', 'files': ['openstack_dashboard/test/selenium/integration/test_images.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/e1ff24fb7e76c56f52532e323c2f3722fb83b580', 'message': 'pytest-based selenium tests add fix image modal instability\n\nChange-Id: I92fa6379394620837c8a2518ee6138279f429f9c\n'}]",2,921860,e1ff24fb7e76c56f52532e323c2f3722fb83b580,12,5,2,35133,,,0,"pytest-based selenium tests add fix image modal instability

Change-Id: I92fa6379394620837c8a2518ee6138279f429f9c
",git fetch https://review.opendev.org/openstack/horizon refs/changes/60/921860/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/test/selenium/integration/test_images.py'],1,2edb1d9d05988f2b2ff3d7aff5fa5b812082e314,fix_image_modal_instability," WebDriverWait(driver, config.selenium.page_timeout).until( EC.invisibility_of_element((By.CSS_SELECTOR, ""modal-backdrop"")))",,2,0
openstack%2Fkolla-ansible~918639,openstack/kolla-ansible,master,I70dd1751dea6bfc9bb265aeda04b3392e135324c,Fix restarting containers with docker.service restart,NEW,2024-05-08 13:51:33.000000000,2024-06-13 10:14:15.000000000,,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 34076}]","[{'number': 1, 'created': '2024-05-08 13:51:33.000000000', 'files': ['ansible/module_utils/kolla_systemd_worker.py', 'releasenotes/notes/fix-systemd-restart-5fc282419cf13589.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c93815f72bf778c3078c82d048228491a2cf98ec', 'message': 'Fix restarting containers with docker.service restart\n\nChange-Id: I70dd1751dea6bfc9bb265aeda04b3392e135324c\nCloses-Bug: 2065168\n'}]",1,918639,c93815f72bf778c3078c82d048228491a2cf98ec,5,4,1,32688,,,0,"Fix restarting containers with docker.service restart

Change-Id: I70dd1751dea6bfc9bb265aeda04b3392e135324c
Closes-Bug: 2065168
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/39/918639/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/module_utils/kolla_systemd_worker.py', 'releasenotes/notes/fix-systemd-restart-5fc282419cf13589.yaml']",2,c93815f72bf778c3078c82d048228491a2cf98ec,systemd-restart-2065168,--- fixes: - | Fixes 2065168. Fix kolla systemd unit template to prevent restart all kolla services with docker.service restart. `LP#[2065168] <https://launchpad.net/bugs/[2065168]>`__ ,,7,1
openstack%2Fheat~917370,openstack/heat,unmaintained/zed,I4e7fd7e6978afc9c78a34fc77dc6143ec6dbee7f,Update .gitreview for unmaintained/zed,MERGED,2024-04-29 10:47:29.000000000,2024-06-13 10:13:28.000000000,2024-06-13 10:12:07.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-29 10:47:29.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/heat/commit/a65f2131b4e64e172db803608a5ab9d6dd10fd05', 'message': 'Update .gitreview for unmaintained/zed\n\nChange-Id: I4e7fd7e6978afc9c78a34fc77dc6143ec6dbee7f\n'}]",3,917370,a65f2131b4e64e172db803608a5ab9d6dd10fd05,14,2,1,22816,,,0,"Update .gitreview for unmaintained/zed

Change-Id: I4e7fd7e6978afc9c78a34fc77dc6143ec6dbee7f
",git fetch https://review.opendev.org/openstack/heat refs/changes/70/917370/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,a65f2131b4e64e172db803608a5ab9d6dd10fd05,create-zed,defaultbranch=unmaintained/zed,defaultbranch=stable/zed,1,1
openstack%2Fmagnum-ui~917397,openstack/magnum-ui,master,I495ddd1e2464782787a08755510d9dab30cc3e92,reno: Update master for unmaintained/zed,NEW,2024-04-29 11:32:01.000000000,2024-06-13 10:12:13.000000000,,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 29313}]","[{'number': 1, 'created': '2024-04-29 11:32:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/c31d7196aa8f6903603b08858499e7dd4c291c9d', 'message': 'reno: Update master for unmaintained/zed\n\nUpdate the zed release notes configuration to build from\nunmaintained/zed.\n\nChange-Id: I495ddd1e2464782787a08755510d9dab30cc3e92\n'}, {'number': 2, 'created': '2024-05-15 10:35:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/c58641ac454973c172ecfea7522fc4a51d8c7658', 'message': 'reno: Update master for unmaintained/zed\n\nUpdate the zed release notes configuration to build from\nunmaintained/zed.\n\nChange-Id: I495ddd1e2464782787a08755510d9dab30cc3e92\n'}, {'number': 3, 'created': '2024-06-07 10:43:17.000000000', 'files': ['releasenotes/source/zed.rst'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/a339b4b7b5902a0a801901eca7acd5032f5630e7', 'message': 'reno: Update master for unmaintained/zed\n\nUpdate the zed release notes configuration to build from\nunmaintained/zed.\n\nDepends-On: I587977b2c5247e11657100a43a8a8d9ccc5fe8ab\nChange-Id: I495ddd1e2464782787a08755510d9dab30cc3e92\n'}]",0,917397,a339b4b7b5902a0a801901eca7acd5032f5630e7,8,3,3,22816,,,0,"reno: Update master for unmaintained/zed

Update the zed release notes configuration to build from
unmaintained/zed.

Depends-On: I587977b2c5247e11657100a43a8a8d9ccc5fe8ab
Change-Id: I495ddd1e2464782787a08755510d9dab30cc3e92
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/97/917397/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/zed.rst'],1,c31d7196aa8f6903603b08858499e7dd4c291c9d,reno-eom-zed, :branch: unmaintained/zed, :branch: stable/zed,1,1
openstack%2Fmanila-ui~918524,openstack/manila-ui,master,Id75fc7329daafd5b3d1e26cb15ed0ea0bc471a09,reno: Update master for unmaintained/zed,NEW,2024-05-08 10:55:11.000000000,2024-06-13 10:11:57.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2024-05-08 10:55:11.000000000', 'files': ['releasenotes/source/zed.rst'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/ecddcd775010457d0ba698286e6c4e97fe33b3cf', 'message': 'reno: Update master for unmaintained/zed\n\nUpdate the zed release notes configuration to build from\nunmaintained/zed.\n\nChange-Id: Id75fc7329daafd5b3d1e26cb15ed0ea0bc471a09\n'}]",0,918524,ecddcd775010457d0ba698286e6c4e97fe33b3cf,3,2,1,22816,,,0,"reno: Update master for unmaintained/zed

Update the zed release notes configuration to build from
unmaintained/zed.

Change-Id: Id75fc7329daafd5b3d1e26cb15ed0ea0bc471a09
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/24/918524/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/zed.rst'],1,ecddcd775010457d0ba698286e6c4e97fe33b3cf,reno-eom-zed, :branch: unmaintained/zed, :branch: stable/zed,1,1
openstack%2Fmagnum-ui~909519,openstack/magnum-ui,master,I137ffba5b3e83581ad19875af67640726f769cb2,reno: Update master for unmaintained/yoga,NEW,2024-02-20 11:01:40.000000000,2024-06-13 10:10:59.000000000,,"[{'_account_id': 8064}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2024-02-20 11:01:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/cf22cbbf4d7c6122cd7553ec9c62eb31d0c1ad1a', 'message': 'reno: Update master for unmaintained/yoga\n\nUpdate the yoga release notes configuration to build from\nunmaintained/yoga.\n\nChange-Id: I137ffba5b3e83581ad19875af67640726f769cb2\n'}, {'number': 2, 'created': '2024-05-10 08:11:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/e932dcb2f995ae1df8695f3a72250ebc43a26c56', 'message': 'reno: Update master for unmaintained/yoga\n\nUpdate the yoga release notes configuration to build from\nunmaintained/yoga.\n\nChange-Id: I137ffba5b3e83581ad19875af67640726f769cb2\n'}, {'number': 3, 'created': '2024-06-07 10:00:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/533466abfb9b3462b75ec2e99b139ca780735950', 'message': 'reno: Update master for unmaintained/yoga\n\nUpdate the yoga release notes configuration to build from\nunmaintained/yoga.\n\nDepends-On: I587977b2c5247e11657100a43a8a8d9ccc5fe8ab\nChange-Id: I137ffba5b3e83581ad19875af67640726f769cb2\n'}, {'number': 4, 'created': '2024-06-07 10:43:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/181924883f11d1ffc5c325002053a76285ee4b34', 'message': 'reno: Update master for unmaintained/yoga\n\nUpdate the yoga release notes configuration to build from\nunmaintained/yoga.\n\nChange-Id: I137ffba5b3e83581ad19875af67640726f769cb2\n'}, {'number': 5, 'created': '2024-06-11 12:33:10.000000000', 'files': ['releasenotes/source/yoga.rst'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/2b6ecf826a9f10e384834a3397c3780ac7dea856', 'message': 'reno: Update master for unmaintained/yoga\n\nUpdate the yoga release notes configuration to build from\nunmaintained/yoga.\n\nDepends-On: I587977b2c5247e11657100a43a8a8d9ccc5fe8ab\nChange-Id: I137ffba5b3e83581ad19875af67640726f769cb2\n'}]",1,909519,2b6ecf826a9f10e384834a3397c3780ac7dea856,13,3,5,22816,,,0,"reno: Update master for unmaintained/yoga

Update the yoga release notes configuration to build from
unmaintained/yoga.

Depends-On: I587977b2c5247e11657100a43a8a8d9ccc5fe8ab
Change-Id: I137ffba5b3e83581ad19875af67640726f769cb2
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/19/909519/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/yoga.rst'],1,cf22cbbf4d7c6122cd7553ec9c62eb31d0c1ad1a,reno-eom-zed, :branch: unmaintained/yoga, :branch: stable/yoga,1,1
openstack%2Fpython-troveclient~918576,openstack/python-troveclient,master,I87fe519767440a6d33e7f23c97888794f735a44b,reno: Update master for unmaintained/zed,NEW,2024-05-08 11:17:28.000000000,2024-06-13 10:10:49.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2024-05-08 11:17:28.000000000', 'files': ['releasenotes/source/zed.rst'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/0d6ffdd0dfee72c3fe55be1250bd9f3d04b4790e', 'message': 'reno: Update master for unmaintained/zed\n\nUpdate the zed release notes configuration to build from\nunmaintained/zed.\n\nChange-Id: I87fe519767440a6d33e7f23c97888794f735a44b\n'}]",0,918576,0d6ffdd0dfee72c3fe55be1250bd9f3d04b4790e,3,2,1,22816,,,0,"reno: Update master for unmaintained/zed

Update the zed release notes configuration to build from
unmaintained/zed.

Change-Id: I87fe519767440a6d33e7f23c97888794f735a44b
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/76/918576/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/zed.rst'],1,0d6ffdd0dfee72c3fe55be1250bd9f3d04b4790e,reno-eom-zed, :branch: unmaintained/zed, :branch: stable/zed,1,1
openstack%2Fzun-ui~917770,openstack/zun-ui,master,I7371738e626cf07f536e675463197fcfc87822e1,reno: Update master for unmaintained/zed,NEW,2024-04-30 16:59:12.000000000,2024-06-13 10:09:26.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2024-04-30 16:59:12.000000000', 'files': ['releasenotes/source/zed.rst'], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/c3526829bbb13eb2b004c481103a36b75af0e5b5', 'message': 'reno: Update master for unmaintained/zed\n\nUpdate the zed release notes configuration to build from\nunmaintained/zed.\n\nChange-Id: I7371738e626cf07f536e675463197fcfc87822e1\n'}]",0,917770,c3526829bbb13eb2b004c481103a36b75af0e5b5,3,2,1,22816,,,0,"reno: Update master for unmaintained/zed

Update the zed release notes configuration to build from
unmaintained/zed.

Change-Id: I7371738e626cf07f536e675463197fcfc87822e1
",git fetch https://review.opendev.org/openstack/zun-ui refs/changes/70/917770/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/zed.rst'],1,c3526829bbb13eb2b004c481103a36b75af0e5b5,reno-eom-zed, :branch: unmaintained/zed, :branch: stable/zed,1,1
openstack%2Fhorizon~921651,openstack/horizon,master,I22707f966b692c056cedecaa83bf2cb0a29c09aa,Replace pytz by built-in library,MERGED,2024-06-10 09:12:26.000000000,2024-06-13 10:07:52.000000000,2024-06-13 10:06:11.000000000,"[{'_account_id': 6914}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2024-06-10 09:12:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/a46fc6f30be35d7b77c87fc1a6b959d94228ca10', 'message': 'Replace pytz by built-in library\n\nPython >= 3.9 provides the zoneinfo module to manipulate timezones.\nReplace pytz by the built-in library to reduce external dependency.\n\nChange-Id: I22707f966b692c056cedecaa83bf2cb0a29c09aa\n'}, {'number': 2, 'created': '2024-06-10 12:33:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/37a0e4e26cd37c4a19e1796c6fd2482606b7d9bf', 'message': 'Replace pytz by built-in library\n\nPython >= 3.9 provides the zoneinfo module to manipulate timezones.\nReplace pytz by the built-in library to reduce external dependency.\n\nChange-Id: I22707f966b692c056cedecaa83bf2cb0a29c09aa\n'}, {'number': 3, 'created': '2024-06-10 14:31:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/12f6378c86d5602c8936115169ffb7af61eaa2f4', 'message': 'Replace pytz by built-in library\n\nPython >= 3.9 provides the zoneinfo module to manipulate timezones.\nReplace pytz by the built-in library to reduce external dependency.\n\nChange-Id: I22707f966b692c056cedecaa83bf2cb0a29c09aa\n'}, {'number': 4, 'created': '2024-06-12 01:43:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/14b7e57a99f7936b50070c19e164413f329c3370', 'message': 'Replace pytz by built-in library\n\nPython >= 3.9 provides the zoneinfo module to manipulate timezones.\nReplace pytz by the built-in library to reduce external dependency.\n\nChange-Id: I22707f966b692c056cedecaa83bf2cb0a29c09aa\n'}, {'number': 5, 'created': '2024-06-12 03:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/6e01f0aa6f9616452647ec85d28bf2274426ac42', 'message': 'Replace pytz by built-in library\n\nPython >= 3.9 provides the zoneinfo module to manipulate timezones.\nReplace pytz by the built-in library to reduce external dependency.\n\nChange-Id: I22707f966b692c056cedecaa83bf2cb0a29c09aa\n'}, {'number': 6, 'created': '2024-06-12 05:21:57.000000000', 'files': ['openstack_dashboard/dashboards/settings/user/forms.py', 'requirements.txt', 'openstack_dashboard/api/rest/config.py', 'horizon/test/unit/middleware/test_base.py', 'releasenotes/notes/remove-py38-6914ddb9fdf4cacd.yaml', 'openstack_auth/backend.py', 'setup.cfg', 'horizon/middleware/base.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/85316931bddc6083fbc3b72316ad160a425cc4e3', 'message': 'Replace pytz by built-in library\n\nPython >= 3.9 provides the zoneinfo module to manipulate timezones.\nReplace pytz by the built-in library to reduce external dependency.\n\nChange-Id: I22707f966b692c056cedecaa83bf2cb0a29c09aa\n'}]",2,921651,85316931bddc6083fbc3b72316ad160a425cc4e3,19,3,6,9816,,,0,"Replace pytz by built-in library

Python >= 3.9 provides the zoneinfo module to manipulate timezones.
Replace pytz by the built-in library to reduce external dependency.

Change-Id: I22707f966b692c056cedecaa83bf2cb0a29c09aa
",git fetch https://review.opendev.org/openstack/horizon refs/changes/51/921651/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/settings/user/forms.py', 'requirements.txt', 'openstack_dashboard/api/rest/config.py', 'horizon/test/unit/middleware/test_base.py', 'releasenotes/notes/remove-py38-6914ddb9fdf4cacd.yaml', 'openstack_auth/backend.py', 'setup.cfg', 'horizon/middleware/base.py']",8,a46fc6f30be35d7b77c87fc1a6b959d94228ca10,remove-pytz, datetime.timezone.utc),import pytz pytz.utc),22,21
openstack%2Fcodegenerator~921924,openstack/codegenerator,master,I5c2779c9418c28bc4af4f31a80661b87b4d78848,Rename publish job,MERGED,2024-06-13 09:04:44.000000000,2024-06-13 10:01:50.000000000,2024-06-13 09:59:28.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2024-06-13 09:04:44.000000000', 'files': ['zuul.d/openapi.yaml', 'zuul.d/project.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/codegenerator/commit/e084a3334e360555a7fa99c44f4610fb1d26434c', 'message': 'Rename publish job\n\nTo be able to reasonably guess in which project the job is defined\nlooking at its name rename it to something more reasonable at the same\ntime assuming there might be more of the publish jobs (well, we can\ngenerate lot of different things).\n\nChange-Id: I5c2779c9418c28bc4af4f31a80661b87b4d78848\n'}]",0,921924,e084a3334e360555a7fa99c44f4610fb1d26434c,7,2,1,27900,,,0,"Rename publish job

To be able to reasonably guess in which project the job is defined
looking at its name rename it to something more reasonable at the same
time assuming there might be more of the publish jobs (well, we can
generate lot of different things).

Change-Id: I5c2779c9418c28bc4af4f31a80661b87b4d78848
",git fetch https://review.opendev.org/openstack/codegenerator refs/changes/24/921924/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/openapi.yaml', 'zuul.d/project.yaml', 'tox.ini']",3,e084a3334e360555a7fa99c44f4610fb1d26434c,,[testenv:publish-openapi-specs],[testenv:publish]allowlist_externals =,5,6
openstack%2Fironic-inspector~920275,openstack/ironic-inspector,master,Ic4c985a9efba8c325ff0be24025d6d7d2c97b328,[DNM] Instrument to debug memory leaks,ABANDONED,2024-05-23 12:46:07.000000000,2024-06-13 10:01:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-23 12:46:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/5137427ab93c80b429b5118d33b837b458c631fe', 'message': '[DNM] Instrument to debug memory leaks\n\nChange-Id: Ic4c985a9efba8c325ff0be24025d6d7d2c97b328\n'}, {'number': 2, 'created': '2024-05-23 15:02:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/99e5587a6782c5e311abcacc8eae3ea57f46ea84', 'message': '[DNM] Instrument to debug memory leaks\n\nChange-Id: Ic4c985a9efba8c325ff0be24025d6d7d2c97b328\n'}, {'number': 3, 'created': '2024-05-27 11:13:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/0ae3f9faaa80bd87965e6884ae38620c372409f8', 'message': '[DNM] Instrument to debug memory leaks\n\nChange-Id: Ic4c985a9efba8c325ff0be24025d6d7d2c97b328\n'}, {'number': 4, 'created': '2024-05-27 14:18:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/9f6d1456617a9a3b389ca27ed7f8708ed7769780', 'message': '[DNM] Instrument to debug memory leaks\n\nChange-Id: Ic4c985a9efba8c325ff0be24025d6d7d2c97b328\n'}, {'number': 5, 'created': '2024-05-28 15:47:25.000000000', 'files': ['ironic_inspector/cmd/all.py', 'ironic_inspector/conductor/manager.py', 'ironic_inspector/common/ironic.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/6c5ec9f027fb03c52de6a2013a2cfaea7db70b95', 'message': '[DNM] Instrument to debug memory leaks\n\nChange-Id: Ic4c985a9efba8c325ff0be24025d6d7d2c97b328\n'}]",0,920275,6c5ec9f027fb03c52de6a2013a2cfaea7db70b95,11,1,5,10239,,,0,"[DNM] Instrument to debug memory leaks

Change-Id: Ic4c985a9efba8c325ff0be24025d6d7d2c97b328
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/75/920275/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/cmd/all.py', 'ironic_inspector/conductor/manager.py']",2,5137427ab93c80b429b5118d33b837b458c631fe,test,"import tracemalloc_SNAPSHOT = None def sync_with_ironic(conductor): global _SNAPSHOT new_snapshot = tracemalloc.take_snapshot() if _SNAPSHOT is not None: diff = new_snapshot.compare_to(_SNAPSHOT) if diff: for stat in diff[:10]: LOG.info(""MEMORY %s"", stat) else: LOG.debug(""No memory usage difference"") _SNAPSHOT = new_snapshot ",def sync_with_ironic(conductor):,21,0
openstack%2Fos-vif~917611,openstack/os-vif,master,I1b5398653124f9b3757571676e940e879e470558,Remove old excludes,NEW,2024-04-30 10:17:46.000000000,2024-06-13 10:01:31.000000000,,"[{'_account_id': 7730}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-30 10:17:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/af03d87cdad24d153881b9cddb593aacad7cb931', 'message': 'Remove old excludes\n\nThese are detected as errors since the clean up was done[1] in\nthe requirements repository.\n\n[1] 314734e938f107cbd5ebcc7af4d9167c11347406\n\nDepends-on: https://review.opendev.org/c/openstack/requirements/+/917602\nChange-Id: I1b5398653124f9b3757571676e940e879e470558\n'}, {'number': 2, 'created': '2024-04-30 12:13:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/bf105fb3face55e781473614fecf579c50c04da4', 'message': 'Remove old excludes\n\nThese are detected as errors since the clean up was done[1] in\nthe requirements repository.\n\n[1] 314734e938f107cbd5ebcc7af4d9167c11347406\n\nDepends-on: https://review.opendev.org/c/openstack/requirements/+/917602\nChange-Id: I1b5398653124f9b3757571676e940e879e470558\n'}, {'number': 3, 'created': '2024-04-30 14:10:24.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/eb3c1b671570adccb1a0365d08dabe9a17231a6a', 'message': 'Remove old excludes\n\nThese are detected as errors since the clean up was done[1] in\nthe requirements repository.\n\n[1] 314734e938f107cbd5ebcc7af4d9167c11347406\n\nMinimum versions are updated to exclude these bad versions.\n\nDepends-on: https://review.opendev.org/c/openstack/requirements/+/917602\nChange-Id: I1b5398653124f9b3757571676e940e879e470558\n'}]",13,917611,eb3c1b671570adccb1a0365d08dabe9a17231a6a,21,4,3,9816,,,0,"Remove old excludes

These are detected as errors since the clean up was done[1] in
the requirements repository.

[1] 314734e938f107cbd5ebcc7af4d9167c11347406

Minimum versions are updated to exclude these bad versions.

Depends-on: https://review.opendev.org/c/openstack/requirements/+/917602
Change-Id: I1b5398653124f9b3757571676e940e879e470558
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/11/917611/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt']",2,af03d87cdad24d153881b9cddb593aacad7cb931,excludes-cleanup,coverage>=4.0 # Apache-2.0,"coverage!=4.4,>=4.0 # Apache-2.0",3,3
openstack%2Foslo.cache~921006,openstack/oslo.cache,master,Ie6c648802a97f337d5e5b432eec90b75c40feb1b,Use f-string when creating config dict,NEW,2024-06-03 10:27:59.000000000,2024-06-13 10:00:12.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-03 10:27:59.000000000', 'files': ['oslo_cache/core.py'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/00043bc0f14d063c016cf3e93d97a4bd938b7a68', 'message': 'Use f-string when creating config dict\n\n... to simplify the logics to compose keys.\n\nChange-Id: Ie6c648802a97f337d5e5b432eec90b75c40feb1b\n'}]",0,921006,00043bc0f14d063c016cf3e93d97a4bd938b7a68,3,2,1,9816,,,0,"Use f-string when creating config dict

... to simplify the logics to compose keys.

Change-Id: Ie6c648802a97f337d5e5b432eec90b75c40feb1b
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/06/921006/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_cache/core.py'],1,00043bc0f14d063c016cf3e93d97a4bd938b7a68,," conf_dict[f'{prefix}.backend'] = _opts._DEFAULT_BACKEND if conf.cache.enabled is True: conf_dict[f'{prefix}.backend'] = conf.cache.backend conf_dict[f'{prefix}.expiration_time'] = conf.cache.expiration_time f'{prefix}.arguments.url', conf_dict[f'{prefix}.arguments.{arg}'] = value conf_dict[f'{prefix}.arguments.{arg}'] = value conf_dict[f'{prefix}.arguments.service_name'] = \ conf_dict[f'{prefix}.arguments.sentinels'] = [ conf_dict.setdefault(f'{prefix}.arguments.url', conf_dict[f'{prefix}.arguments.{arg}'] = value conf_dict[f'{prefix}.arguments.tls_context'] = tls_context conf_dict[f'{prefix}.arguments.connection_kwargs'] = \ conf_dict[f'{prefix}.arguments.sentinel_kwargs'] = \ conf_dict[f'{prefix}.arguments.connection_kwargs'] = \ conf_dict[f'{prefix}.arguments.socket_keepalive'] = socket_keepalive conf_dict[f'{prefix}.arguments.enable_retry_client'] = True conf_dict[f'{prefix}.arguments.retry_attempts'] = \ conf_dict[f'{prefix}.arguments.retry_delay'] = \ conf_dict[f'{prefix}.arguments.hashclient_retry_attempts'] = \ conf_dict[f'{prefix}.arguments.hashclient_retry_delay'] = \ conf_dict[f'{prefix}.arguments.dead_timeout'] = \ f'{conf.cache.config_prefix}.')"," conf_dict['%s.backend' % prefix] = _opts._DEFAULT_BACKEND if conf.cache.enabled is True: conf_dict['%s.backend' % prefix] = conf.cache.backend conf_dict['%s.expiration_time' % prefix] = conf.cache.expiration_time '%s.arguments.url' % prefix, conf_dict['%s.arguments.%s' % (prefix, arg)] = value conf_dict['%s.arguments.%s' % (prefix, arg)] = value conf_dict['%s.arguments.service_name' % prefix] = \ conf_dict['%s.arguments.sentinels' % prefix] = [ conf_dict.setdefault('%s.arguments.url' % prefix, conf_dict['%s.arguments.%s' % (prefix, arg)] = value conf_dict['%s.arguments.tls_context' % prefix] = tls_context conf_dict['%s.arguments.connection_kwargs' % prefix] = \ conf_dict['%s.arguments.sentinel_kwargs' % prefix] = \ conf_dict['%s.arguments.connection_kwargs' % prefix] = \ conf_dict['%s.arguments.socket_keepalive' % prefix] = socket_keepalive conf_dict['%s.arguments.enable_retry_client' % prefix] = True conf_dict['%s.arguments.retry_attempts' % prefix] = \ conf_dict['%s.arguments.retry_delay' % prefix] = \ conf_dict['%s.arguments.hashclient_retry_attempts' % prefix] = \ conf_dict['%s.arguments.hashclient_retry_delay' % prefix] = \ conf_dict['%s.arguments.dead_timeout' % prefix] = \ '%s.' % conf.cache.config_prefix)",22,22
openstack%2Foslo.cache~910468,openstack/oslo.cache,master,I2f6c13050e30ef829c545e5019aca5fc4de97dbb,Redis Sentinel: Use dogpile.cache interface for username,NEW,2024-02-28 06:40:45.000000000,2024-06-13 10:00:04.000000000,,"[{'_account_id': 9816}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2024-02-28 06:40:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/adb551c05d5b41af10b1c21b814669b7570154da', 'message': 'Redis Sentinel: Use dogpile.cache interface for username\n\ndigpile.cache 1.3.1 introduced the new username argument to the Redis\nSentinel backend[1]. This interface can be used instead of directly\ninjecting username into connection/sentinel_kwargs.\n\n[1] https://github.com/sqlalchemy/dogpile.cache/commit/6cbc6ad9d2c0900e102b3a46690380c4a6505b86\n\nChange-Id: I2f6c13050e30ef829c545e5019aca5fc4de97dbb\n'}, {'number': 2, 'created': '2024-02-28 06:43:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/1d358ba9674271f6f729792d8ad718b6f2826318', 'message': 'Redis Sentinel: Use dogpile.cache interface for username\n\ndigpile.cache 1.3.1 introduced the new username argument to the Redis\nSentinel backend[1]. This interface can be used instead of directly\ninjecting username into connection/sentinel_kwargs.\n\n[1] https://github.com/sqlalchemy/dogpile.cache/commit/6cbc6ad9d2c0900e102b3a46690380c4a6505b86\n\nChange-Id: I2f6c13050e30ef829c545e5019aca5fc4de97dbb\n'}, {'number': 3, 'created': '2024-03-13 02:22:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/888de4c27c65d013f423cc7ac10f507293a29e52', 'message': 'Redis Sentinel: Use dogpile.cache interface for username\n\ndigpile.cache 1.3.1 introduced the new username argument to the Redis\nSentinel backend[1]. This interface can be used instead of directly\ninjecting username into connection/sentinel_kwargs.\n\n[1] https://github.com/sqlalchemy/dogpile.cache/commit/6cbc6ad9d2c0900e102b3a46690380c4a6505b86\n\nChange-Id: I2f6c13050e30ef829c545e5019aca5fc4de97dbb\n'}, {'number': 4, 'created': '2024-05-30 01:49:28.000000000', 'files': ['requirements.txt', 'oslo_cache/core.py', 'oslo_cache/tests/unit/test_cache_basics.py'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/6fcfb66b9c745ce26631451cc9f48fc99c9ca519', 'message': 'Redis Sentinel: Use dogpile.cache interface for username\n\ndogpile.cache 1.3.1 introduced the new username argument to the Redis\nSentinel backend[1]. This interface can be used instead of directly\ninjecting username into connection/sentinel_kwargs.\n\n[1] https://github.com/sqlalchemy/dogpile.cache/commit/6cbc6ad9d2c0900e102b3a46690380c4a6505b86\n\nChange-Id: I2f6c13050e30ef829c545e5019aca5fc4de97dbb\n'}]",5,910468,6fcfb66b9c745ce26631451cc9f48fc99c9ca519,14,4,4,9816,,,0,"Redis Sentinel: Use dogpile.cache interface for username

dogpile.cache 1.3.1 introduced the new username argument to the Redis
Sentinel backend[1]. This interface can be used instead of directly
injecting username into connection/sentinel_kwargs.

[1] https://github.com/sqlalchemy/dogpile.cache/commit/6cbc6ad9d2c0900e102b3a46690380c4a6505b86

Change-Id: I2f6c13050e30ef829c545e5019aca5fc4de97dbb
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/68/910468/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'oslo_cache/core.py', 'oslo_cache/tests/unit/test_cache_basics.py']",3,adb551c05d5b41af10b1c21b814669b7570154da,," 'user', config_dict['test_prefix.arguments.username']) self.assertEqual("," self.assertEqual({ 'username': 'user' }, config_dict['test_prefix.arguments.connection_kwargs']) self.assertEqual({ 'username': 'user' }, config_dict['test_prefix.arguments.sentinel_kwargs'])",4,15
openstack%2Fopenstack-ansible-ops~921918,openstack/openstack-ansible-ops,master,I1f3ba1169009d5932c9a91a96f1b22907181f952,Pin version of magnum_cluster_api driver,NEW,2024-06-13 07:38:27.000000000,2024-06-13 09:56:42.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2024-06-13 07:38:27.000000000', 'files': ['mcapi_vexxhost/playbooks/files/openstack_deploy/user_variables_z_magnum.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/fa83985fa875e885c828ad4b6ff2e73107040156', 'message': 'Pin version of magnum_cluster_api driver\n\nChange-Id: I1f3ba1169009d5932c9a91a96f1b22907181f952\n'}]",0,921918,fa83985fa875e885c828ad4b6ff2e73107040156,3,2,1,25023,,,0,"Pin version of magnum_cluster_api driver

Change-Id: I1f3ba1169009d5932c9a91a96f1b22907181f952
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/18/921918/1 && git format-patch -1 --stdout FETCH_HEAD,['mcapi_vexxhost/playbooks/files/openstack_deploy/user_variables_z_magnum.yml'],1,fa83985fa875e885c828ad4b6ff2e73107040156,,"magnum_magnum_cluster_api_git_install_branch: v0.19.0 - ""git+https://github.com/vexxhost/magnum-cluster-api@{{ magnum_magnum_cluster_api_git_install_branch }}#egg=magnum-cluster-api""", - git+https://github.com/vexxhost/magnum-cluster-api@main#egg=magnum-cluster-api,3,1
openstack%2Fcharm-vault~921915,openstack/charm-vault,stable/1.7,Ib429cac715e0328437bff1a9186ff71898826b9b,Adjust vault process filelimits,NEW,2024-06-13 07:26:22.000000000,2024-06-13 09:54:13.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-13 07:26:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/077045fcfb1054a0b0d8887abef128e07c230e32', 'message': 'Adjust vault process filelimits\n\nAs per vault documentation, one should up the amount of number of files\nopen to 65536.\n\nCloses-Bug: #2060095\n\nChange-Id: Ib429cac715e0328437bff1a9186ff71898826b9b\nSigned-off-by: David Negreira <david.negreira@canonical.com>\n(cherry picked from commit 89a72cf4af07e7fec29d9a93bb06ea33b1ea69a3)\n'}, {'number': 2, 'created': '2024-06-13 07:27:41.000000000', 'files': ['src/templates/vault.service.j2'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/31d0e3ca7a8d308135112a04741dfb07957d068b', 'message': 'Adjust vault process filelimits\n\nAs per vault documentation, one should up the amount of number of files\nopen to 65536.\n\nCloses-Bug: #2060095\n\nChange-Id: Ib429cac715e0328437bff1a9186ff71898826b9b\nSigned-off-by: David Negreira <david.negreira@canonical.com>\n(cherry picked from commit 89a72cf4af07e7fec29d9a93bb06ea33b1ea69a3)\n'}]",0,921915,31d0e3ca7a8d308135112a04741dfb07957d068b,4,2,2,32371,,,0,"Adjust vault process filelimits

As per vault documentation, one should up the amount of number of files
open to 65536.

Closes-Bug: #2060095

Change-Id: Ib429cac715e0328437bff1a9186ff71898826b9b
Signed-off-by: David Negreira <david.negreira@canonical.com>
(cherry picked from commit 89a72cf4af07e7fec29d9a93bb06ea33b1ea69a3)
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/15/921915/1 && git format-patch -1 --stdout FETCH_HEAD,['src/templates/vault.service.j2'],1,077045fcfb1054a0b0d8887abef128e07c230e32,lp2060095-stable/1.7,LimitNOFILE=65536,,1,0
openstack%2Fglance-specs~916178,openstack/glance-specs,master,I319bb35661e859618d6d5c57cc99d548c569b211,[Spec Lite] Deprecate metadata_encryption_key,NEW,2024-04-18 09:39:04.000000000,2024-06-13 09:44:11.000000000,,"[{'_account_id': 5314}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-18 09:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/51fe5c962cf02092088dbdfca457984aa8b88844', 'message': '[Spec Lite] Deprecate metadata_encryption_key\n\nChange-Id: I319bb35661e859618d6d5c57cc99d548c569b211\n'}, {'number': 2, 'created': '2024-05-03 06:25:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/ddb3f0407c23bfdc9aa23b4663d4b6fbceb655ca', 'message': '[Spec Lite] Deprecate metadata_encryption_key\n\nChange-Id: I319bb35661e859618d6d5c57cc99d548c569b211\n'}, {'number': 3, 'created': '2024-06-13 09:30:56.000000000', 'files': ['specs/2024.2/approved/glance/deprecate-metadata-encryption-key.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/95649eeb587bb1d755fa29c23dde71659d9dd8c1', 'message': '[Spec Lite] Deprecate metadata_encryption_key\n\nChange-Id: I319bb35661e859618d6d5c57cc99d548c569b211\n'}]",0,916178,95649eeb587bb1d755fa29c23dde71659d9dd8c1,7,4,3,19138,,,0,"[Spec Lite] Deprecate metadata_encryption_key

Change-Id: I319bb35661e859618d6d5c57cc99d548c569b211
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/78/916178/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/2024.2/approved/glance/deprecate-metadata-encryption-key.rst', 'specs/2024.2/approved/index.rst']",2,51fe5c962cf02092088dbdfca457984aa8b88844,spec/metadata-encryption-key,2024.2 approved specs for glance: .. toctree:: :glob: :maxdepth: 1 glance/*,TODO: fill this in once a new approved spec is added. ,51,3
openstack%2Fneutron~921835,openstack/neutron,master,I22d0f9a59bca6f412dcf30005678229a859d5e4c,[CI] Enable OVN grenade job in the check and gate queue,MERGED,2024-06-12 08:45:21.000000000,2024-06-13 09:40:42.000000000,2024-06-13 09:37:29.000000000,"[{'_account_id': 1131}, {'_account_id': 9656}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-12 08:45:21.000000000', 'files': ['zuul.d/project.yaml', 'doc/source/contributor/testing/ci_scenario_jobs.rst', 'zuul.d/job-templates.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e1cf0f2d59762df66a080fa8c03ddf55956b321e', 'message': '[CI] Enable OVN grenade job in the check and gate queue\n\nAs was agreed on the CI meeting [1], this patch moves\nneutron-ovn-grenade-multinode job from the experimental queue to the\ncheck and gate queues.\nNow in check/gate there are 2 grenade jobs: one ovs-multinode job and\none ovn-multinode job.\n\nTo not increase number of jobs in the check/gate, this patch also moves\nneutron-ovs-grenade-dvr-multinode job to the periodic (and experimental)\nqueue.\n\n[1] https://meetings.opendev.org/meetings/neutron_ci/2024/neutron_ci.2024-06-11-15.02.log.html#l-18\n\nChange-Id: I22d0f9a59bca6f412dcf30005678229a859d5e4c\n'}]",3,921835,e1cf0f2d59762df66a080fa8c03ddf55956b321e,21,5,1,11975,,,0,"[CI] Enable OVN grenade job in the check and gate queue

As was agreed on the CI meeting [1], this patch moves
neutron-ovn-grenade-multinode job from the experimental queue to the
check and gate queues.
Now in check/gate there are 2 grenade jobs: one ovs-multinode job and
one ovn-multinode job.

To not increase number of jobs in the check/gate, this patch also moves
neutron-ovs-grenade-dvr-multinode job to the periodic (and experimental)
queue.

[1] https://meetings.opendev.org/meetings/neutron_ci/2024/neutron_ci.2024-06-11-15.02.log.html#l-18

Change-Id: I22d0f9a59bca6f412dcf30005678229a859d5e4c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/35/921835/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'doc/source/contributor/testing/ci_scenario_jobs.rst', 'zuul.d/job-templates.yaml']",3,e1cf0f2d59762df66a080fa8c03ddf55956b321e,enable-grenade-ovn, - neutron-ovs-grenade-dvr-multinode, - neutron-ovn-grenade-multinode,11,12
openstack%2Fopenstacksdk~918781,openstack/openstacksdk,master,Icfb8cbefca8bd7e246137c7f1fae94b81148fe2e,compute: Add additional server create parameters,MERGED,2024-05-09 16:52:20.000000000,2024-06-13 09:40:37.000000000,2024-06-13 09:37:33.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2024-05-09 16:52:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/09584eb9603de0211a5d90e8bc579da276e70849', 'message': 'compute: Add additional server create paramters\n\nChange-Id: Icfb8cbefca8bd7e246137c7f1fae94b81148fe2e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2024-05-17 12:21:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/22044646f57202a6b31d6ab2bf4a46bc7f25b1f2', 'message': 'compute: Add additional server create paramters\n\nChange-Id: Icfb8cbefca8bd7e246137c7f1fae94b81148fe2e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2024-06-11 12:15:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2a684fcf0a37623406c1d00af6b7425363c2036c', 'message': 'compute: Add additional server create paramters\n\nChange-Id: Icfb8cbefca8bd7e246137c7f1fae94b81148fe2e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2024-06-12 14:15:22.000000000', 'files': ['openstack/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/0f311ff3e2e57bf3659cef77e98551b6c0c7e3c9', 'message': 'compute: Add additional server create parameters\n\nChange-Id: Icfb8cbefca8bd7e246137c7f1fae94b81148fe2e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",2,918781,0f311ff3e2e57bf3659cef77e98551b6c0c7e3c9,15,2,4,15334,,,0,"compute: Add additional server create parameters

Change-Id: Icfb8cbefca8bd7e246137c7f1fae94b81148fe2e
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/81/918781/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/compute/v2/server.py'],1,09584eb9603de0211a5d90e8bc579da276e70849,compute-gaps," #: The host to boot the server on. host = resource.Body('host') #: Personality files. This should be a list of dicts with each dict #: containing a file name ('name') and a base64-encoded file contents #: ('contents') personality = resource.Body('personality', type=list)",,6,0
openstack%2Fdesignate~917668,openstack/designate,unmaintained/zed,I7d523370e42898f4ceb1147a7861b4e6bb1a095b,Update .gitreview for unmaintained/zed,MERGED,2024-04-30 11:10:56.000000000,2024-06-13 09:37:04.000000000,2024-06-13 09:35:57.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-30 11:10:56.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/designate/commit/f84acb20aba00eb5a584dcbb25e2abb5968bb427', 'message': 'Update .gitreview for unmaintained/zed\n\nChange-Id: I7d523370e42898f4ceb1147a7861b4e6bb1a095b\n'}]",3,917668,f84acb20aba00eb5a584dcbb25e2abb5968bb427,11,2,1,22816,,,0,"Update .gitreview for unmaintained/zed

Change-Id: I7d523370e42898f4ceb1147a7861b4e6bb1a095b
",git fetch https://review.opendev.org/openstack/designate refs/changes/68/917668/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,f84acb20aba00eb5a584dcbb25e2abb5968bb427,create-zed,defaultbranch=unmaintained/zed,defaultbranch=stable/zed,1,1
openstack%2Foctavia-tempest-plugin~921910,openstack/octavia-tempest-plugin,master,I028b064aabd4a052b858840897f90c454a52b3d3,Set the timeout of scenario jobs to 3h,NEW,2024-06-13 06:11:21.000000000,2024-06-13 09:27:58.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-13 06:11:21.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/864a535b159d87d1a52ea8836c2eb4227f6d03bf', 'message': 'Set the timeout of scenario jobs to 3h\n\nChange-Id: I028b064aabd4a052b858840897f90c454a52b3d3\n'}]",5,921910,864a535b159d87d1a52ea8836c2eb4227f6d03bf,3,1,1,29244,,,0,"Set the timeout of scenario jobs to 3h

Change-Id: I028b064aabd4a052b858840897f90c454a52b3d3
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/10/921910/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,864a535b159d87d1a52ea8836c2eb4227f6d03bf,, timeout: 10800,,1,0
openstack%2Fcharm-vault~921916,openstack/charm-vault,stable/1.6,Ib429cac715e0328437bff1a9186ff71898826b9b,Adjust vault process filelimits,NEW,2024-06-13 07:27:57.000000000,2024-06-13 09:20:22.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-13 07:27:57.000000000', 'files': ['src/templates/vault.service.j2'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/a78a05bdac3440915aa8c7924d0c1dab9878a2d9', 'message': 'Adjust vault process filelimits\n\nAs per vault documentation, one should up the amount of number of files\nopen to 65536.\n\nCloses-Bug: #2060095\n\nChange-Id: Ib429cac715e0328437bff1a9186ff71898826b9b\nSigned-off-by: David Negreira <david.negreira@canonical.com>\n(cherry picked from commit 89a72cf4af07e7fec29d9a93bb06ea33b1ea69a3)\n'}]",0,921916,a78a05bdac3440915aa8c7924d0c1dab9878a2d9,3,2,1,32371,,,0,"Adjust vault process filelimits

As per vault documentation, one should up the amount of number of files
open to 65536.

Closes-Bug: #2060095

Change-Id: Ib429cac715e0328437bff1a9186ff71898826b9b
Signed-off-by: David Negreira <david.negreira@canonical.com>
(cherry picked from commit 89a72cf4af07e7fec29d9a93bb06ea33b1ea69a3)
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/16/921916/1 && git format-patch -1 --stdout FETCH_HEAD,['src/templates/vault.service.j2'],1,a78a05bdac3440915aa8c7924d0c1dab9878a2d9,lp2060095-stable/1.6,LimitNOFILE=65536,,1,0
openstack%2Fcastellan~921852,openstack/castellan,master,I33c953e525417ee44053cb1a2cc22be31f999db7,Add region_name to KeystonePassword object.,ABANDONED,2024-06-12 11:51:06.000000000,2024-06-13 09:18:53.000000000,,"[{'_account_id': 6476}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-12 11:51:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/7f06bdbe68beaf75e25e8b2f3253daec601c9d06', 'message': 'Add region_name to KeystonePassword object.\n\nChange-Id: I33c953e525417ee44053cb1a2cc22be31f999db7\n'}, {'number': 2, 'created': '2024-06-12 11:55:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/cc2c4458916185aca54699fd3ee4c56e19c2401c', 'message': 'Add region_name to KeystonePassword object.\n\nIt is currently not possible to specify a region name when invoking\na new key_manager.API() object. This fixes it.\n\nChange-Id: I33c953e525417ee44053cb1a2cc22be31f999db7\n'}, {'number': 3, 'created': '2024-06-13 06:42:18.000000000', 'files': ['castellan/common/credentials/keystone_token.py', 'castellan/common/utils.py', 'castellan/tests/unit/credentials/test_keystone_password.py', 'castellan/key_manager/barbican_key_manager.py', 'castellan/common/credentials/keystone_password.py'], 'web_link': 'https://opendev.org/openstack/castellan/commit/f6159b49ac313015cee4d50bbd43b4fc0b7862f4', 'message': 'Add region_name to KeystonePassword object.\n\nIt is currently not possible to specify a region name when invoking\na new key_manager.API() object. This fixes it.\n\nChange-Id: I33c953e525417ee44053cb1a2cc22be31f999db7\n'}]",1,921852,f6159b49ac313015cee4d50bbd43b4fc0b7862f4,7,2,3,6476,,,0,"Add region_name to KeystonePassword object.

It is currently not possible to specify a region name when invoking
a new key_manager.API() object. This fixes it.

Change-Id: I33c953e525417ee44053cb1a2cc22be31f999db7
",git fetch https://review.opendev.org/openstack/castellan refs/changes/52/921852/1 && git format-patch -1 --stdout FETCH_HEAD,"['castellan/common/utils.py', 'castellan/tests/unit/credentials/test_keystone_password.py', 'castellan/key_manager/barbican_key_manager.py', 'castellan/common/credentials/keystone_password.py']",4,7f06bdbe68beaf75e25e8b2f3253daec601c9d06,," project_domain_name=None, region_name=None, reauthenticate=True): :param string region_name: Region name for authentication. self._region_name = region_name self._region_name == other._region_name and"," project_domain_name=None, reauthenticate=True):",27,2
openstack%2Fcodegenerator~921848,openstack/codegenerator,master,I18bfb2a5195f88153d3a23072bc8a4351a5b7f1b,Add publish job,MERGED,2024-06-12 11:49:02.000000000,2024-06-13 09:10:49.000000000,2024-06-13 09:08:38.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2024-06-12 11:49:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/codegenerator/commit/6e9418d0767bf0eae8b3169a212a1777bdfec0f6', 'message': 'Add publish job\n\nAdd a job that collects built OpenAPI specs and prepares a single\ndelivery. Those can be then places to some authority location similar to\nthe service-types-authority.\n\nChange-Id: I18bfb2a5195f88153d3a23072bc8a4351a5b7f1b\n'}, {'number': 2, 'created': '2024-06-12 12:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/codegenerator/commit/222d40943c47f66783df5d0bb429bc9686c3d3e1', 'message': 'Add publish job\n\nAdd a job that collects built OpenAPI specs and prepares a single\ndelivery. Those can be then places to some authority location similar to\nthe service-types-authority.\n\nChange-Id: I18bfb2a5195f88153d3a23072bc8a4351a5b7f1b\n'}, {'number': 3, 'created': '2024-06-12 13:36:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/codegenerator/commit/d7945b2f9802874aa56596a3fc7d52001426f779', 'message': 'Add publish job\n\nAdd a job that collects built OpenAPI specs and prepares a single\ndelivery. Those can be then places to some authority location similar to\nthe service-types-authority.\n\nChange-Id: I18bfb2a5195f88153d3a23072bc8a4351a5b7f1b\n'}, {'number': 4, 'created': '2024-06-12 14:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/codegenerator/commit/04e5bf259559002d0b87c72cabf80f99a1ca1188', 'message': 'Add publish job\n\nAdd a job that collects built OpenAPI specs and prepares a single\ndelivery. Those can be then places to some authority location similar to\nthe service-types-authority.\n\nChange-Id: I18bfb2a5195f88153d3a23072bc8a4351a5b7f1b\n'}, {'number': 5, 'created': '2024-06-12 14:23:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/codegenerator/commit/679e5cb62126045a526b5256d5c7d1d38432fa54', 'message': 'Add publish job\n\nAdd a job that collects built OpenAPI specs and prepares a single\ndelivery. Those can be then places to some authority location similar to\nthe service-types-authority.\n\nChange-Id: I18bfb2a5195f88153d3a23072bc8a4351a5b7f1b\n'}, {'number': 6, 'created': '2024-06-12 14:32:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/codegenerator/commit/c4d77050abb831e9e72f793b3fe34bade60e23a0', 'message': 'Add publish job\n\nAdd a job that collects built OpenAPI specs and prepares a single\ndelivery. Those can be then places to some authority location similar to\nthe service-types-authority.\n\nChange-Id: I18bfb2a5195f88153d3a23072bc8a4351a5b7f1b\n'}, {'number': 7, 'created': '2024-06-12 14:50:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/codegenerator/commit/8fae843ac3a3549d75d62abfefb8381e4c38126e', 'message': 'Add publish job\n\nAdd a job that collects built OpenAPI specs and prepares a single\ndelivery. Those can be then places to some authority location similar to\nthe service-types-authority.\n\nChange-Id: I18bfb2a5195f88153d3a23072bc8a4351a5b7f1b\n'}, {'number': 8, 'created': '2024-06-12 15:56:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/codegenerator/commit/e09a08a207bc6cbe8b6a71083e1889c637679c06', 'message': 'Add publish job\n\nAdd a job that collects built OpenAPI specs and prepares a single\ndelivery. Those can be then places to some authority location similar to\nthe service-types-authority.\n\nChange-Id: I18bfb2a5195f88153d3a23072bc8a4351a5b7f1b\n'}, {'number': 9, 'created': '2024-06-12 16:43:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/codegenerator/commit/484e8329b5a9f41357c75824225e1f335a0328f0', 'message': 'Add publish job\n\nAdd a job that collects built OpenAPI specs and prepares a single\ndelivery. Those can be then places to some authority location similar to\nthe service-types-authority.\n\nChange-Id: I18bfb2a5195f88153d3a23072bc8a4351a5b7f1b\n'}, {'number': 10, 'created': '2024-06-12 17:33:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/codegenerator/commit/a4d7a3eec96491344707820463aba2229018f748', 'message': 'Add publish job\n\nAdd a job that collects built OpenAPI specs and prepares a single\ndelivery. Those can be then places to some authority location similar to\nthe service-types-authority.\n\nChange-Id: I18bfb2a5195f88153d3a23072bc8a4351a5b7f1b\n'}, {'number': 11, 'created': '2024-06-12 18:05:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/codegenerator/commit/7303080d531e684273f025309cf314bf5ca467dc', 'message': 'Add publish job\n\nAdd a job that collects built OpenAPI specs and prepares a single\ndelivery. Those can be then places to some authority location similar to\nthe service-types-authority.\n\nChange-Id: I18bfb2a5195f88153d3a23072bc8a4351a5b7f1b\n'}, {'number': 12, 'created': '2024-06-13 07:08:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/codegenerator/commit/813cf93611fa077589f976c4a9da243e4c8a52a1', 'message': 'Add publish job\n\nAdd a job that collects built OpenAPI specs and prepares a single\ndelivery. Those can be then places to some authority location similar to\nthe service-types-authority.\n\nChange-Id: I18bfb2a5195f88153d3a23072bc8a4351a5b7f1b\n'}, {'number': 13, 'created': '2024-06-13 08:13:28.000000000', 'files': ['zuul.d/openapi.yaml', 'zuul.d/project.yaml', 'playbooks/openapi/post.yaml', 'tox.ini', 'playbooks/openapi/fetch.yaml'], 'web_link': 'https://opendev.org/openstack/codegenerator/commit/668add91073dd810d7080db4ef52cbd137ff6d20', 'message': 'Add publish job\n\nAdd a job that collects built OpenAPI specs and prepares a single\ndelivery. Those can be then places to some authority location similar to\nthe service-types-authority.\n\nChange-Id: I18bfb2a5195f88153d3a23072bc8a4351a5b7f1b\n'}]",3,921848,668add91073dd810d7080db4ef52cbd137ff6d20,37,2,13,27900,,,0,"Add publish job

Add a job that collects built OpenAPI specs and prepares a single
delivery. Those can be then places to some authority location similar to
the service-types-authority.

Change-Id: I18bfb2a5195f88153d3a23072bc8a4351a5b7f1b
",git fetch https://review.opendev.org/openstack/codegenerator refs/changes/48/921848/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/openapi/publish.yaml', 'zuul.d/openapi.yaml', 'zuul.d/project.yaml']",3,6e9418d0767bf0eae8b3169a212a1777bdfec0f6,, - publish-openapi-specs,,30,0
openstack%2Fironic-inspector~921875,openstack/ironic-inspector,master,I18bbb460cbaa4f58f9e736c071571c38ced35892,Cache openstacksdk Connections to avoid leaking memory,MERGED,2024-06-12 15:34:17.000000000,2024-06-13 09:04:49.000000000,2024-06-13 09:02:31.000000000,"[{'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2024-06-12 15:34:17.000000000', 'files': ['ironic_inspector/test/unit/test_common_ironic.py', 'releasenotes/notes/sdk-2-leak-500f3669afb6713e.yaml', 'ironic_inspector/common/ironic.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/48a3bf605b1d110b505d30e208b6ea64a121f848', 'message': 'Cache openstacksdk Connections to avoid leaking memory\n\nThe current code never closes connection. Newer openstacksdk versions\nregister Connection.close with the atexit mechanism, so any connections\nthat are not explicitly closed stay in memory forever.\n\nChange-Id: I18bbb460cbaa4f58f9e736c071571c38ced35892\n'}]",0,921875,48a3bf605b1d110b505d30e208b6ea64a121f848,9,4,1,10239,,,0,"Cache openstacksdk Connections to avoid leaking memory

The current code never closes connection. Newer openstacksdk versions
register Connection.close with the atexit mechanism, so any connections
that are not explicitly closed stay in memory forever.

Change-Id: I18bbb460cbaa4f58f9e736c071571c38ced35892
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/75/921875/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/test/unit/test_common_ironic.py', 'releasenotes/notes/sdk-2-leak-500f3669afb6713e.yaml', 'ironic_inspector/common/ironic.py']",3,48a3bf605b1d110b505d30e208b6ea64a121f848,connection,"from oslo_utils import excutils_CONNECTION = None global _CONNECTION if _CONNECTION is None: try: session = _get_ironic_session() _CONNECTION = openstack.connection.Connection( session=session, oslo_conf=CONF) except Exception as exc: LOG.error('Failed to create an openstack connection: %s', exc) raise return _CONNECTION.baremetal except Exception as exc: with excutils.save_and_reraise_exception(): LOG.error('Failed to connect to Ironic: %s', exc) # Force creating a new connection on the next retry try: _CONNECTION.close() except Exception as exc2: LOG.error('Unable to close an openstack connection, ' 'a memory leak is possible. Error: %s', exc2) _CONNECTION = None global _IRONIC_SESSION, _CONNECTION _CONNECTION = _IRONIC_SESSION = None"," session = _get_ironic_session() return openstack.connection.Connection( session=session, oslo_conf=CONF).baremetal except Exception as exc: LOG.error('Failed to establish a connection with ironic, ' 'reason: %s', exc) raise global _IRONIC_SESSION _IRONIC_SESSION = None",35,10
openstack%2Fcharm-vault~921917,openstack/charm-vault,stable/1.5,Ib429cac715e0328437bff1a9186ff71898826b9b,Adjust vault process filelimits,NEW,2024-06-13 07:28:22.000000000,2024-06-13 09:03:22.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-13 07:28:22.000000000', 'files': ['src/templates/vault.service.j2'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/070d0d31ea7b0fd0ac3821f12b09c143ef221cbe', 'message': 'Adjust vault process filelimits\n\nAs per vault documentation, one should up the amount of number of files\nopen to 65536.\n\nCloses-Bug: #2060095\n\nChange-Id: Ib429cac715e0328437bff1a9186ff71898826b9b\nSigned-off-by: David Negreira <david.negreira@canonical.com>\n(cherry picked from commit 89a72cf4af07e7fec29d9a93bb06ea33b1ea69a3)\n'}]",0,921917,070d0d31ea7b0fd0ac3821f12b09c143ef221cbe,3,2,1,32371,,,0,"Adjust vault process filelimits

As per vault documentation, one should up the amount of number of files
open to 65536.

Closes-Bug: #2060095

Change-Id: Ib429cac715e0328437bff1a9186ff71898826b9b
Signed-off-by: David Negreira <david.negreira@canonical.com>
(cherry picked from commit 89a72cf4af07e7fec29d9a93bb06ea33b1ea69a3)
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/17/921917/1 && git format-patch -1 --stdout FETCH_HEAD,['src/templates/vault.service.j2'],1,070d0d31ea7b0fd0ac3821f12b09c143ef221cbe,lp2060095-stable/1.5,LimitNOFILE=65536,,1,0
openstack%2Freleases~918352,openstack/releases,master,Id9cbc86365f577130cab810c00cb4eba7afa4497,[octavia-tempest-plugin] Tag zed-last,MERGED,2024-05-06 20:22:47.000000000,2024-06-13 09:02:46.000000000,2024-06-13 09:02:46.000000000,"[{'_account_id': 308}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2024-05-06 20:22:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/0fdeab6daabacc5b6361784384f5562ec638a524', 'message': ""[octavia-tempest-plugin] Tag zed-last\n\nZed branch is moving to unmaintained state now[1]. Tempest and tempest\nplugins are branchless which means master version of Tempest and\nits plugins is used to test the supported stable branches.\n\nOnce any stable branch is moved to unmaintained state then, Tempest and\nits plugins compatible tag[2][3] needs to be released which can be used\nto test the unmaintained stable branches.\n\nTagging 'zed-last' as well as a new version with latest hash.\n\n[1] https://review.opendev.org/q/topic:%22zed-unmaintained%22\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\nChange-Id: Id9cbc86365f577130cab810c00cb4eba7afa4497\n""}, {'number': 2, 'created': '2024-05-06 20:43:55.000000000', 'files': ['deliverables/dalmatian/octavia-tempest-plugin.yaml', 'deliverables/zed/octavia-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/433f74f298d38a7c17d1f5c8f7a5ae5950b88c90', 'message': ""[octavia-tempest-plugin] Tag zed-last\n\nZed branch is moving to unmaintained state now[1]. Tempest and tempest\nplugins are branchless which means master version of Tempest and\nits plugins is used to test the supported stable branches.\n\nOnce any stable branch is moved to unmaintained state then, Tempest and\nits plugins compatible tag[2][3] needs to be released which can be used\nto test the unmaintained stable branches.\n\nTagging 'zed-last' as well as a new version with latest hash.\n\n[1] https://review.opendev.org/q/topic:%22zed-unmaintained%22\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\nChange-Id: Id9cbc86365f577130cab810c00cb4eba7afa4497\n""}]",3,918352,433f74f298d38a7c17d1f5c8f7a5ae5950b88c90,11,6,2,8556,,,0,"[octavia-tempest-plugin] Tag zed-last

Zed branch is moving to unmaintained state now[1]. Tempest and tempest
plugins are branchless which means master version of Tempest and
its plugins is used to test the supported stable branches.

Once any stable branch is moved to unmaintained state then, Tempest and
its plugins compatible tag[2][3] needs to be released which can be used
to test the unmaintained stable branches.

Tagging 'zed-last' as well as a new version with latest hash.

[1] https://review.opendev.org/q/topic:%22zed-unmaintained%22
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html

Change-Id: Id9cbc86365f577130cab810c00cb4eba7afa4497
",git fetch https://review.opendev.org/openstack/releases refs/changes/52/918352/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/dalmatian/octavia-tempest-plugin.yaml', 'deliverables/zed/octavia-tempest-plugin.yaml']",2,0fdeab6daabacc5b6361784384f5562ec638a524,zed-last, - version: zed-last projects: - repo: openstack/octavia-tempest-plugin hash: 6fac2f75450122ccbe2f97ef110c8633bffa4daf,,9,0
openstack%2Fcinder~916722,openstack/cinder,master,I3a6906583a43ceab1f3e217666768d12fdb214db,[SVf] As part of Flashcopy 2.0 adding support for restorefromsnapshot for volumegroups,NEW,2024-04-24 10:07:29.000000000,2024-06-13 09:00:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-04-24 10:07:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c61feef4af598d9aec41b9a8f5b7718ac4ce36b8', 'message': '[SVf] As part of Flashcopy 2.0 adding support for restorefromsnapshot\nfor volumegroups\n\n[Storagewq Virtualize family] As part of Flashcopy 2.0 implementation,\nadded support for restorefromsnapshot for a volumegroup using an\nexisting volumegroup snapshot.\n\nImplements: blueprint ibm-svf-volumegroup\nChange-Id: I3a6906583a43ceab1f3e217666768d12fdb214db\n'}, {'number': 2, 'created': '2024-04-24 10:08:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7a2c782956bc66ecd74475280c5b32ac96d57a04', 'message': '[SVf] As part of Flashcopy 2.0 adding support for restorefromsnapshot\nfor volumegroups\n\n[Storagewq Virtualize family] As part of Flashcopy 2.0 implementation,\nadded support for restorefromsnapshot for a volumegroup using an\nexisting volumegroup snapshot.\n\nImplements: blueprint ibm-svf-volumegroup\nChange-Id: I3a6906583a43ceab1f3e217666768d12fdb214db\n'}, {'number': 3, 'created': '2024-05-16 08:51:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d7e32e247c813e2de4192eed4e5a1f9a64690bc7', 'message': '[SVf] As part of Flashcopy 2.0 adding support for restorefromsnapshot\nfor volumegroups\n\n[Storagewq Virtualize family] As part of Flashcopy 2.0 implementation,\nadded support for restorefromsnapshot for a volumegroup using an\nexisting volumegroup snapshot.\n\nImplements: blueprint ibm-svf-volumegroup\nChange-Id: I3a6906583a43ceab1f3e217666768d12fdb214db\n'}, {'number': 4, 'created': '2024-06-03 16:36:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e51a82689414a00b14a917fc636e8d732df8376d', 'message': '[SVf] As part of Flashcopy 2.0 adding support for restorefromsnapshot\nfor volumegroups\n\n[Storagewq Virtualize family] As part of Flashcopy 2.0 implementation,\nadded support for restorefromsnapshot for a volumegroup using an\nexisting volumegroup snapshot.\n\nImplements: blueprint ibm-svf-volumegroup\nChange-Id: I3a6906583a43ceab1f3e217666768d12fdb214db\n'}, {'number': 5, 'created': '2024-06-03 19:17:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/baa8677a0481d065807a7e858f16ad4688d8523f', 'message': '[SVf] As part of Flashcopy 2.0 adding support for restorefromsnapshot\nfor volumegroups\n\n[Storagewq Virtualize family] As part of Flashcopy 2.0 implementation,\nadded support for restorefromsnapshot for a volumegroup using an\nexisting volumegroup snapshot.\n\nImplements: blueprint ibm-svf-volumegroup\nChange-Id: I3a6906583a43ceab1f3e217666768d12fdb214db\n'}, {'number': 6, 'created': '2024-06-04 07:00:10.000000000', 'files': ['releasenotes/notes/ibm-svf-restore-from-snapshot-support-for-volumegroup-0fad0c099f5a7f4d.yaml', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/45dff694c7191b47ae7df49e08048f7260ee8839', 'message': '[SVf] As part of Flashcopy 2.0 adding support for restorefromsnapshot\nfor volumegroups\n\n[Storagewq Virtualize family] As part of Flashcopy 2.0 implementation,\nadded support for restorefromsnapshot for a volumegroup using an\nexisting volumegroup snapshot.\n\nImplements: blueprint ibm-svf-volumegroup\nChange-Id: I3a6906583a43ceab1f3e217666768d12fdb214db\n'}]",14,916722,45dff694c7191b47ae7df49e08048f7260ee8839,57,1,6,36538,,,0,"[SVf] As part of Flashcopy 2.0 adding support for restorefromsnapshot
for volumegroups

[Storagewq Virtualize family] As part of Flashcopy 2.0 implementation,
added support for restorefromsnapshot for a volumegroup using an
existing volumegroup snapshot.

Implements: blueprint ibm-svf-volumegroup
Change-Id: I3a6906583a43ceab1f3e217666768d12fdb214db
",git fetch https://review.opendev.org/openstack/cinder refs/changes/22/916722/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ibm-svf-restore-from-snapshot-support-for-volumegroup-0fad0c099f5a7f4d.yaml', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py']",2,c61feef4af598d9aec41b9a8f5b7718ac4ce36b8,," def restorefromsnapshot(self, params): ssh_cmd = ['svctask', 'restorefromsnapshot'] if ""snapshot_id"" in params: ssh_cmd.extend(['-snapshotid', params[""snapshot_id""]]) elif ""snapshot_name"" and ""volumegroup_name_or_id"" in params: ssh_cmd.extend(['-snapshot', params[""snapshot_name""], '-volumegroup', params[""volumegroup_name_or_id""]]) elif ""snapshot_name"" and ""parentuid"" in params: ssh_cmd.extend(['-snapshot', params[""snapshot_name""], '-parentuid', params[""parentuid""]]) elif ""list_of_volume_id_or_name"" in params: volume_ids = "":"".join(params[""list_of_volume_id_or_name""]) ssh_cmd.extend(['-volumes', volume_ids]) try: self.run_ssh_assert_no_output(ssh_cmd) except Exception: msg = (_('CLI Exception output:\n command: %(cmd)s\n ' 'stdout: %(out)s\n stderr: %(err)s.') % {'cmd': ssh_cmd, 'out': out, 'err': err}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) def restore_from_snapshot(self, params): """"""Restore a volumegroup from the volumegroup snapshot"""""" if not self.is_volumegroup_snapshot_exists(params): msg = (_('restore_from_snapshot: volumegroup_snaphshot ' 'does not exist')) LOG.error(msg) raise exception.VolumeDriverException(message=msg) self.ssh.restorefromsnapshot(params) def restore_from_snapshot(self, context, volumegroup_snapshot, volumegroup=None, list_of_volume_id_or_name=None): """"""Restore a volumegroup from the volumegroup snapshot"""""" if not (self._state['code_level'] >= (8, 6, 2, 0)): msg = (_('The supported code level for restore from ' 'snapshot for a volumegroup snapshot ' 'is 8.6.2.0 or higher.' 'The current storage code level is %(code_level)s.') % {'code_level': self._state['code_level']}) LOG.error(msg) raise exception.VolumeDriverException(message=msg) params = dict() params[""snapshot_id""] = (volumegroup_snapshot[""id""] if volumegroup_snapshot[""id""] else None) params[""snapshot_name""] = (volumegroup_snapshot[""name""] if volumegroup_snapshot[""name""] else None) params[""volumegroup_name_or_id""] = (volumegroup[""name""] if volumegroup.get(""name"") else volumegroup.get(""id"") if volumegroup.get(""id"") else None) params[""list_of_volume_id_or_name""] = (list_of_volume_id_or_name if list_of_volume_id_or_name else None) try: self._helpers.restore_from_snapshot(params) except Exception as err: msg = (_(""Restoring volumegroup %(volumegroup)s to snapshot "" ""%(volumegroup_snapshot)s failed due to: %(err)s."") % {""volumegroup"": volumegroup.name, ""volumegroup_snapshot"": volumegroup_snapshot.name, ""err"": err}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) ",,78,0
openstack%2Freleases~918359,openstack/releases,master,I4b5f2d4e486dab5b32318bd2dcc0c9a0911388c2,[telemetry-tempest-plugin] Tag zed-latest,MERGED,2024-05-06 20:38:52.000000000,2024-06-13 08:58:11.000000000,2024-06-13 08:58:11.000000000,"[{'_account_id': 308}, {'_account_id': 4264}, {'_account_id': 5202}, {'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-06 20:38:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/3a194a3d6648d13d859f647b4a50d1dc0e4f9b08', 'message': ""[telemetry-tempest-plugin] Tag zed-last\n\nZed branch is moving to unmaintained state now[1]. Tempest and tempest\nplugins are branchless which means master version of Tempest and\nits plugins is used to test the supported stable branches.\n\nOnce any stable branch is moved to unmaintained state then, Tempest and\nits plugins compatible tag[2][3] needs to be released which can be used\nto test the unmaintained stable branches.\n\nTagging 'zed-last' as well as a new version with latest hash.\n\n[1] https://review.opendev.org/q/topic:%22zed-unmaintained%22\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\nChange-Id: I4b5f2d4e486dab5b32318bd2dcc0c9a0911388c2\n""}, {'number': 2, 'created': '2024-05-06 20:45:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/4bfaba33a6810cb3c375c8806d6b7c607263039a', 'message': ""[telemetry-tempest-plugin] Tag zed-last\n\nZed branch is moving to unmaintained state now[1]. Tempest and tempest\nplugins are branchless which means master version of Tempest and\nits plugins is used to test the supported stable branches.\n\nOnce any stable branch is moved to unmaintained state then, Tempest and\nits plugins compatible tag[2][3] needs to be released which can be used\nto test the unmaintained stable branches.\n\nTagging 'zed-last' as well as a new version with latest hash.\n\n[1] https://review.opendev.org/q/topic:%22zed-unmaintained%22\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\nChange-Id: I4b5f2d4e486dab5b32318bd2dcc0c9a0911388c2\n""}, {'number': 3, 'created': '2024-06-06 16:34:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/c89e2393f86930d9f2905e091b23c84d2a1551eb', 'message': ""[telemetry-tempest-plugin] Tag zed-last\n\nZed branch is moving to unmaintained state now[1]. Tempest and tempest\nplugins are branchless which means master version of Tempest and\nits plugins is used to test the supported stable branches.\n\nOnce any stable branch is moved to unmaintained state then, Tempest and\nits plugins compatible tag[2][3] needs to be released which can be used\nto test the unmaintained stable branches.\n\nTagging 'zed-last' as well as a new version with latest hash.\n\n[1] https://review.opendev.org/q/topic:%22zed-unmaintained%22\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\nChange-Id: I4b5f2d4e486dab5b32318bd2dcc0c9a0911388c2\n""}, {'number': 4, 'created': '2024-06-07 05:40:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/b6f58c0efdc5e3b6161a246d15a65900cb1b140d', 'message': ""[telemetry-tempest-plugin] Tag zed-last\n\nZed branch is moving to unmaintained state now[1]. Tempest and tempest\nplugins are branchless which means master version of Tempest and\nits plugins is used to test the supported stable branches.\n\nOnce any stable branch is moved to unmaintained state then, Tempest and\nits plugins compatible tag[2][3] needs to be released which can be used\nto test the unmaintained stable branches.\n\nTagging 'zed-last' as well as a new version with latest hash.\n\n[1] https://review.opendev.org/q/topic:%22zed-unmaintained%22\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\nChange-Id: I4b5f2d4e486dab5b32318bd2dcc0c9a0911388c2\n""}, {'number': 5, 'created': '2024-06-07 07:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/b658a728937869e85b84cab6300d8576a8c0a318', 'message': ""[telemetry-tempest-plugin] Tag zed-last\n\nZed branch is moving to unmaintained state now[1]. Tempest and tempest\nplugins are branchless which means master version of Tempest and\nits plugins is used to test the supported stable branches.\n\nOnce any stable branch is moved to unmaintained state then, Tempest and\nits plugins compatible tag[2][3] needs to be released which can be used\nto test the unmaintained stable branches.\n\nTagging 'zed-last' as well as a new version with latest hash.\n\n[1] https://review.opendev.org/q/topic:%22zed-unmaintained%22\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\nChange-Id: I4b5f2d4e486dab5b32318bd2dcc0c9a0911388c2\n""}, {'number': 6, 'created': '2024-06-07 13:52:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/d0ef594ffcb53050088baec106839bc29151f982', 'message': '[telemetry-tempest-plugin] Tag version 2.2.0\n\nTaggging dalmatian 2.2.0.\n\nNotable changes since 2.1.0\n\n92b0c19 Parametrize prometheus rate duration\ncb3f983 Fix compatibility with gabbi >= 2.7.0\n2985e2d Merge ""Ensure both severities are used in test data""\n\nChange-Id: I4b5f2d4e486dab5b32318bd2dcc0c9a0911388c2\n'}, {'number': 7, 'created': '2024-06-11 13:31:26.000000000', 'files': ['deliverables/dalmatian/telemetry-tempest-plugin.yaml', 'deliverables/zed/telemetry-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/50e6a55b93c49c1a8ede5598af7bd9f76e5aebc9', 'message': ""[telemetry-tempest-plugin] Tag zed-latest\n\nZed branch is moving to unmaintained state now[1]. Tempest and tempest\nplugins are branchless which means master version of Tempest and\nits plugins is used to test the supported stable branches.\n\nOnce any stable branch is moved to unmaintained state then, Tempest and\nits plugins compatible tag[2][3] needs to be released which can be used\nto test the unmaintained stable branches.\n\nTagging 'zed-last' as well as a new version with latest hash.\n\n[1] https://review.opendev.org/q/topic:%22zed-unmaintained%22\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\nChange-Id: I4b5f2d4e486dab5b32318bd2dcc0c9a0911388c2\n""}]",14,918359,50e6a55b93c49c1a8ede5598af7bd9f76e5aebc9,39,7,7,8556,,,0,"[telemetry-tempest-plugin] Tag zed-latest

Zed branch is moving to unmaintained state now[1]. Tempest and tempest
plugins are branchless which means master version of Tempest and
its plugins is used to test the supported stable branches.

Once any stable branch is moved to unmaintained state then, Tempest and
its plugins compatible tag[2][3] needs to be released which can be used
to test the unmaintained stable branches.

Tagging 'zed-last' as well as a new version with latest hash.

[1] https://review.opendev.org/q/topic:%22zed-unmaintained%22
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html

Change-Id: I4b5f2d4e486dab5b32318bd2dcc0c9a0911388c2
",git fetch https://review.opendev.org/openstack/releases refs/changes/59/918359/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/dalmatian/telemetry-tempest-plugin.yaml', 'deliverables/zed/telemetry-tempest-plugin.yaml']",2,3a194a3d6648d13d859f647b4a50d1dc0e4f9b08,zed-last, - version: zed-last projects: - repo: openstack/telemetry-tempest-plugin hash: 2985e2d88e59920016b9588ba83bf1f8e58e941d,,8,0
openstack%2Fnova~913744,openstack/nova,master,I0d8463cf584d6ac141a5e1cb492d17996db458e0,Test live migration between hosts with differnet cpu_shared_sets,NEW,2024-03-20 09:55:29.000000000,2024-06-13 08:38:35.000000000,,"[{'_account_id': 4393}, {'_account_id': 7166}, {'_account_id': 16207}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-20 09:55:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/42eea5a55e8a59088c4082bb0b0f6eddca20fbf2', 'message': 'Test live migration between hosts with differnet cpu_shared_sets\n\nThis change modifes the nova-live-migration job to define\n[compute]cpu_shared_set to different ranges on the controller\nand compute node. in ci we have 8 cpus so the controller is set\nto 0-5 and the compute uses 2-7\n\n6 cores with our default allocation ratio should be sufficent\nfor our current level of concurrancy. This change also adds\nthe remaining cores as cpu_dedicated_set, they will currently\nbe unused but are thre if we want to enable pinned cpu testing\nin the future.\n\nChange-Id: I0d8463cf584d6ac141a5e1cb492d17996db458e0\n'}, {'number': 2, 'created': '2024-03-20 14:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d75b0999f3394449a3abdc395cac8c84ee80cd2f', 'message': 'Test live migration between hosts with differnet cpu_shared_sets\n\nThis change modifes the nova-live-migration job to define\n[compute]cpu_shared_set to different ranges on the controller\nand compute node. in ci we have 8 cpus so the controller is set\nto 0-5 and the compute uses 2-7\n\n6 cores with our default allocation ratio should be sufficent\nfor our current level of concurrancy.\nwe do not set cpu_dedicated_set intentionally as we do not support\nmixing numa and non numa instances on the same host and we\nwant to test non numa floating instnace to ensure we are\ntesting the non numa live migration code path.\n\nChange-Id: I0d8463cf584d6ac141a5e1cb492d17996db458e0\n'}, {'number': 3, 'created': '2024-03-20 16:54:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fb37524c3a8819884ad7e7401fafed6b2c14a28c', 'message': 'Test live migration between hosts with differnet cpu_shared_sets\n\nThis change modifes the nova-live-migration job to define\n[compute]cpu_shared_set to different ranges on the controller\nand compute node. in ci we have 8 cpus so the controller is set\nto 0-5 and the compute uses 2-7\n\n6 cores with our default allocation ratio should be sufficent\nfor our current level of concurrancy. This change also adds\nthe remaining cores as cpu_dedicated_set, they will currently\nbe unused but are thre if we want to enable pinned cpu testing\nin the future.\n\nChange-Id: I0d8463cf584d6ac141a5e1cb492d17996db458e0\n'}, {'number': 4, 'created': '2024-03-26 15:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8320d66f2dd7f8069428c6cb71e2e6643ffe4ae3', 'message': 'Test live migration between hosts with differnet cpu_shared_sets\n\nThis change modifes the nova-live-migration job to define\n[compute]cpu_shared_set to different ranges on the controller\nand compute node. in ci we have 8 cpus so the controller is set\nto 0-5 and the compute uses 2-7\n\n6 cores with our default allocation ratio should be sufficent\nfor our current level of concurrancy. This change also adds\nthe remaining cores as cpu_dedicated_set, they will currently\nbe unused but are thre if we want to enable pinned cpu testing\nin the future.\n\nChange-Id: I0d8463cf584d6ac141a5e1cb492d17996db458e0\n'}, {'number': 5, 'created': '2024-03-27 08:33:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aaac23bc4b7b5f8427dde752d872f94fb7ee8567', 'message': 'Test live migration between hosts with differnet cpu_shared_sets\n\nThis change modifes the nova-live-migration job to define\n[compute]cpu_shared_set to different ranges on the controller\nand compute node. in ci we have 8 cpus so the controller is set\nto 0-5 and the compute uses 2-7\n\n6 cores with our default allocation ratio should be sufficent\nfor our current level of concurrancy. This change also adds\nthe remaining cores as cpu_dedicated_set, they will currently\nbe unused but are thre if we want to enable pinned cpu testing\nin the future.\n\nChange-Id: I0d8463cf584d6ac141a5e1cb492d17996db458e0\n'}, {'number': 6, 'created': '2024-04-05 14:52:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0f9d448b0b278249abded53feb60b50818110041', 'message': 'Test live migration between hosts with differnet cpu_shared_sets\n\nThis change modifes the nova-live-migration job to define\n[compute]cpu_shared_set to different ranges on the controller\nand compute node. in ci we have 8 cpus so the controller is set\nto 0-5 and the compute uses 2-7\n\n6 cores with our default allocation ratio should be sufficent\nfor our current level of concurrancy. This change also adds\nthe remaining cores as cpu_dedicated_set, they will currently\nbe unused but are thre if we want to enable pinned cpu testing\nin the future.\n\nChange-Id: I0d8463cf584d6ac141a5e1cb492d17996db458e0\n'}, {'number': 7, 'created': '2024-04-08 14:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/858977b31b2d2844807c9036cfdb416babb987b8', 'message': 'Test live migration between hosts with differnet cpu_shared_sets\n\nThis change modifes the nova-live-migration job to define\n[compute]cpu_shared_set to different ranges on the controller\nand compute node. in ci we have 8 cpus so the controller is set\nto 0-5 and the compute uses 2-7\n\n6 cores with our default allocation ratio should be sufficent\nfor our current level of concurrancy. This change also adds\nthe remaining cores as cpu_dedicated_set, they will currently\nbe unused but are thre if we want to enable pinned cpu testing\nin the future.\n\nChange-Id: I0d8463cf584d6ac141a5e1cb492d17996db458e0\n'}, {'number': 8, 'created': '2024-04-09 17:23:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/af325414a5ea17b7175276b2af407335ee8d3aac', 'message': 'Test live migration between hosts with differnet cpu_shared_sets\n\nThis change modifes the nova-live-migration job to define\n[compute]cpu_shared_set to different ranges on the controller\nand compute node. in ci we have 8 cpus so the controller is set\nto 0-5 and the compute uses 2-7\n\n6 cores with our default allocation ratio should be sufficent\nfor our current level of concurrancy. This change also adds\nthe remaining cores as cpu_dedicated_set, they will currently\nbe unused but are thre if we want to enable pinned cpu testing\nin the future.\n\nChange-Id: I0d8463cf584d6ac141a5e1cb492d17996db458e0\n'}, {'number': 9, 'created': '2024-04-24 14:59:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ee3dd3caf41ebc68a39e18e65b90b17c0a6870dc', 'message': 'Test live migration between hosts with differnet cpu_shared_sets\n\nThis change modifes the nova-live-migration job to define\n[compute]cpu_shared_set to different ranges on the controller\nand compute node. in ci we have 8 cpus so the controller is set\nto 0-5 and the compute uses 2-7\n\n6 cores with our default allocation ratio should be sufficent\nfor our current level of concurrancy. This change also adds\nthe remaining cores as cpu_dedicated_set, they will currently\nbe unused but are thre if we want to enable pinned cpu testing\nin the future.\n\nChange-Id: I0d8463cf584d6ac141a5e1cb492d17996db458e0\n'}, {'number': 10, 'created': '2024-05-09 19:30:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f080c4985b7ee0c0b8a4ef464caf74c803394721', 'message': 'Test live migration between hosts with differnet cpu_shared_sets\n\nThis change modifes the nova-live-migration job to define\n[compute]cpu_shared_set to different ranges on the controller\nand compute node. in ci we have 8 cpus so the controller is set\nto 0-5 and the compute uses 2-7\n\n6 cores with our default allocation ratio should be sufficent\nfor our current level of concurrancy. This change also adds\nthe remaining cores as cpu_dedicated_set, they will currently\nbe unused but are thre if we want to enable pinned cpu testing\nin the future.\n\nChange-Id: I0d8463cf584d6ac141a5e1cb492d17996db458e0\n'}, {'number': 11, 'created': '2024-05-27 13:20:57.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/ae06925ef063419d42edb39f822b9840893c7abf', 'message': 'Test live migration between hosts with differnet cpu_shared_sets\n\nThis change modifes the nova-live-migration job to define\n[compute]cpu_shared_set to different ranges on the controller\nand compute node. in ci we have 8 cpus so the controller is set\nto 0-5 and the compute uses 2-7\n\n6 cores with our default allocation ratio should be sufficent\nfor our current level of concurrancy. This change also adds\nthe remaining cores as cpu_dedicated_set, they will currently\nbe unused but are thre if we want to enable pinned cpu testing\nin the future.\n\nChange-Id: I0d8463cf584d6ac141a5e1cb492d17996db458e0\n'}]",21,913744,ae06925ef063419d42edb39f822b9840893c7abf,61,4,11,11604,,,0,"Test live migration between hosts with differnet cpu_shared_sets

This change modifes the nova-live-migration job to define
[compute]cpu_shared_set to different ranges on the controller
and compute node. in ci we have 8 cpus so the controller is set
to 0-5 and the compute uses 2-7

6 cores with our default allocation ratio should be sufficent
for our current level of concurrancy. This change also adds
the remaining cores as cpu_dedicated_set, they will currently
be unused but are thre if we want to enable pinned cpu testing
in the future.

Change-Id: I0d8463cf584d6ac141a5e1cb492d17996db458e0
",git fetch https://review.opendev.org/openstack/nova refs/changes/44/913744/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,42eea5a55e8a59088c4082bb0b0f6eddca20fbf2,bug/1869804," post-config: $NOVA_CPU_CONF: compute: # we want to test live migration of floating instances between hosts with different # cpu_shared_set to ensure the xml is updated properly. This is important when migrating # between hosts with different number of cpu cores even when cpu_shared_set is not defined. # In the ci, we have 8 cpu cores, so we set the cpu_shared_set to 0-5 for the first compute # node and 2-7 for the second compute node. cpu_shared_set: ""0-5"" cpu_dedicated_set: ""6-7"" group-vars: subnode: devstack_local_conf: post-config: $NOVA_CPU_CONF: compute: # we want to test live migration of floating instances between hosts with different # cpu_shared_set to ensure the xml is updated properly. This is important when migrating # between hosts with different number of cpu cores even when cpu_shared_set is not defined. # In the ci, we have 8 cpu cores, so we set the cpu_shared_set to 0-5 for the first compute # node and 2-7 for the second compute node. cpu_shared_set: ""2-7"" cpu_dedicated_set: ""0-1""",,23,0
openstack%2Fopenstacksdk~921912,openstack/openstacksdk,master,I042ee6fe7ec4be91c84a275fdb88720109342bd6,testing: remove centos8 job,NEW,2024-06-13 06:36:47.000000000,2024-06-13 08:29:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-13 06:36:47.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/219c85bade2cd40a16e5dcf63ea747200a97d957', 'message': ""testing: remove centos8 job\n\nThe idea of this job is to boot a devstack+nodepool environment that\nhas nodepool use openstacksdk to upload built images to devstack.\nIt's occasionally found real problems in that path.\n\nCentOS 8 has gone EOL and we are no longer updating the images\n(I5642a8dd3d539563caeba7a09cb86fe19769b38e).  But this should work\nwith CentOS 9 just the same.\n\nThis was made non-voting 2 years ago\n(Ie8af2690f309df01022843a6fa934f0c548f32c3); it may be time to\nreconsider?  I've left it as is for now.\n\nChange-Id: I042ee6fe7ec4be91c84a275fdb88720109342bd6\n""}]",0,921912,219c85bade2cd40a16e5dcf63ea747200a97d957,2,1,1,7118,,,0,"testing: remove centos8 job

The idea of this job is to boot a devstack+nodepool environment that
has nodepool use openstacksdk to upload built images to devstack.
It's occasionally found real problems in that path.

CentOS 8 has gone EOL and we are no longer updating the images
(I5642a8dd3d539563caeba7a09cb86fe19769b38e).  But this should work
with CentOS 9 just the same.

This was made non-voting 2 years ago
(Ie8af2690f309df01022843a6fa934f0c548f32c3); it may be time to
reconsider?  I've left it as is for now.

Change-Id: I042ee6fe7ec4be91c84a275fdb88720109342bd6
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/12/921912/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,219c85bade2cd40a16e5dcf63ea747200a97d957,centos8-eol, - dib-nodepool-functional-openstack-centos-9-stream-src: - dib-nodepool-functional-openstack-centos-9-stream-src:, - dib-nodepool-functional-openstack-centos-8-stream-src: - dib-nodepool-functional-openstack-centos-8-stream-src:,2,2
openstack%2Fpython-barbicanclient~914218,openstack/python-barbicanclient,stable/2024.1,Idb2ca40fd7ab2334bc97fcf23888a2d326daa1c5,Replace pytz,NEW,2024-03-27 04:34:37.000000000,2024-06-13 08:26:50.000000000,,"[{'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2024-03-27 04:34:37.000000000', 'files': ['functionaltests/client/v1/functional/test_orders.py'], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/a33815e3887d09cdb4b8e8f4c510bb449af5fcd8', 'message': 'Replace pytz\n\nThe current usage can be easily replaced by the built-in datetime\nmodule. Also it has been missing from the test requirements and now\nis no longer installed by the dependencies.\n\nChange-Id: Idb2ca40fd7ab2334bc97fcf23888a2d326daa1c5\n(cherry picked from commit 08e6662549cd61a085074b066ec6f96225d9c92a)\n'}]",0,914218,a33815e3887d09cdb4b8e8f4c510bb449af5fcd8,6,4,1,9816,,,0,"Replace pytz

The current usage can be easily replaced by the built-in datetime
module. Also it has been missing from the test requirements and now
is no longer installed by the dependencies.

Change-Id: Idb2ca40fd7ab2334bc97fcf23888a2d326daa1c5
(cherry picked from commit 08e6662549cd61a085074b066ec6f96225d9c92a)
",git fetch https://review.opendev.org/openstack/python-barbicanclient refs/changes/18/914218/1 && git format-patch -1 --stdout FETCH_HEAD,['functionaltests/client/v1/functional/test_orders.py'],1,a33815e3887d09cdb4b8e8f4c510bb449af5fcd8,remove-pytz,import datetime date = date.astimezone(datetime.timezone.utc),import pytz date = date.astimezone(pytz.utc),2,2
openstack%2Fcharm-vault~921914,openstack/charm-vault,stable/1.8,Ib429cac715e0328437bff1a9186ff71898826b9b,Adjust vault process filelimits,NEW,2024-06-13 07:25:48.000000000,2024-06-13 08:26:02.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-13 07:25:48.000000000', 'files': ['src/templates/vault.service.j2'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/91ce9a05a95c2f1c4e5dc06f9aacc7bfc1f21451', 'message': 'Adjust vault process filelimits\n\nAs per vault documentation, one should up the amount of number of files\nopen to 65536.\n\nCloses-Bug: #2060095\n\nChange-Id: Ib429cac715e0328437bff1a9186ff71898826b9b\nSigned-off-by: David Negreira <david.negreira@canonical.com>\n(cherry picked from commit 89a72cf4af07e7fec29d9a93bb06ea33b1ea69a3)\n'}]",1,921914,91ce9a05a95c2f1c4e5dc06f9aacc7bfc1f21451,6,2,1,32371,,,0,"Adjust vault process filelimits

As per vault documentation, one should up the amount of number of files
open to 65536.

Closes-Bug: #2060095

Change-Id: Ib429cac715e0328437bff1a9186ff71898826b9b
Signed-off-by: David Negreira <david.negreira@canonical.com>
(cherry picked from commit 89a72cf4af07e7fec29d9a93bb06ea33b1ea69a3)
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/14/921914/1 && git format-patch -1 --stdout FETCH_HEAD,['src/templates/vault.service.j2'],1,91ce9a05a95c2f1c4e5dc06f9aacc7bfc1f21451,lp2060095-stable/1.8,LimitNOFILE=65536,,1,0
openstack%2Fpython-octaviaclient~917654,openstack/python-octaviaclient,master,I05ddc9ef890fa148e8d7f75baf86b97d10f46c3b,reno: Update master for unmaintained/zed,MERGED,2024-04-30 10:59:24.000000000,2024-06-13 08:18:16.000000000,2024-06-13 08:17:12.000000000,"[{'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 34429}]","[{'number': 1, 'created': '2024-04-30 10:59:24.000000000', 'files': ['releasenotes/source/zed.rst'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/2820fbdc14c2e650d12d16f7c16c4e6d6e0e5a8b', 'message': 'reno: Update master for unmaintained/zed\n\nUpdate the zed release notes configuration to build from\nunmaintained/zed.\n\nChange-Id: I05ddc9ef890fa148e8d7f75baf86b97d10f46c3b\n'}]",0,917654,2820fbdc14c2e650d12d16f7c16c4e6d6e0e5a8b,8,3,1,22816,,,0,"reno: Update master for unmaintained/zed

Update the zed release notes configuration to build from
unmaintained/zed.

Change-Id: I05ddc9ef890fa148e8d7f75baf86b97d10f46c3b
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/54/917654/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/zed.rst'],1,2820fbdc14c2e650d12d16f7c16c4e6d6e0e5a8b,reno-eom-zed, :branch: unmaintained/zed, :branch: stable/zed,1,1
openstack%2Fpython-octaviaclient~910959,openstack/python-octaviaclient,master,I30fb59ecbe4411b4d4eec3085ba393b2e48c3c6a,Support filtering amphora list by image ID,NEW,2024-03-04 14:53:33.000000000,2024-06-13 08:09:14.000000000,,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2024-03-04 14:53:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/e719b30c02c45cb6a31f39bd454523e4f5c41501', 'message': 'Support filtering amphora list by image ID\n\nThis adds a --image-id parameter to the amphora list\ncommand so that one can filter based on image.\n\nThis can be useful when doing rotations and only\nlisting those running the old image.\n\nChange-Id: I30fb59ecbe4411b4d4eec3085ba393b2e48c3c6a\n'}, {'number': 2, 'created': '2024-03-06 14:56:02.000000000', 'files': ['octaviaclient/osc/v2/amphora.py', 'releasenotes/notes/amphora-list-filter-image-id-d746623c18af1f26.yaml', 'octaviaclient/osc/v2/utils.py'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/480210026aef0ebc409f91bcb605b52611202322', 'message': 'Support filtering amphora list by image ID\n\nThis adds a --image-id parameter to the amphora list\ncommand so that one can filter based on image.\n\nThis can be useful when doing rotations and only\nlisting those running the old image.\n\nChange-Id: I30fb59ecbe4411b4d4eec3085ba393b2e48c3c6a\n'}]",2,910959,480210026aef0ebc409f91bcb605b52611202322,6,3,2,16137,,,0,"Support filtering amphora list by image ID

This adds a --image-id parameter to the amphora list
command so that one can filter based on image.

This can be useful when doing rotations and only
listing those running the old image.

Change-Id: I30fb59ecbe4411b4d4eec3085ba393b2e48c3c6a
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/59/910959/1 && git format-patch -1 --stdout FETCH_HEAD,"['octaviaclient/osc/v2/amphora.py', 'octaviaclient/osc/v2/utils.py']",2,e719b30c02c45cb6a31f39bd454523e4f5c41501,," 'image_id': ('image_id', str),",,7,0
openstack%2Fkolla~921505,openstack/kolla,master,I3fb44fd85fb1de509dc941895c1abe005bc92a50,[DNM] test periodic job,ABANDONED,2024-06-07 10:18:20.000000000,2024-06-13 07:57:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-07 10:18:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/07c726e192837ed6f0a78a1d1d66efd4f28c3dac', 'message': '[DNM] test periodic job\n\nChange-Id: I3fb44fd85fb1de509dc941895c1abe005bc92a50\n'}, {'number': 2, 'created': '2024-06-07 11:25:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9f42189a1b1d2b3867ac9c8b901e768a44442860', 'message': '[DNM] test periodic job\n\nChange-Id: I3fb44fd85fb1de509dc941895c1abe005bc92a50\n'}, {'number': 3, 'created': '2024-06-07 11:26:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/54c956e60dfee78f6d3db32d8f8e7a060f3ee164', 'message': '[DNM] test periodic job\n\nChange-Id: I3fb44fd85fb1de509dc941895c1abe005bc92a50\n'}, {'number': 4, 'created': '2024-06-07 11:27:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f9a76eb1c32d1fa6afcefa23971faea42b978ff4', 'message': '[DNM] test periodic job\n\nChange-Id: I3fb44fd85fb1de509dc941895c1abe005bc92a50\n'}, {'number': 5, 'created': '2024-06-07 11:57:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/aa08677a50accd0c7010784a25615ad89252bd4a', 'message': '[DNM] test periodic job\n\nChange-Id: I3fb44fd85fb1de509dc941895c1abe005bc92a50\n'}, {'number': 6, 'created': '2024-06-10 08:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8e370a617f673d60cefe720a7d89ea1189d9fe0a', 'message': '[DNM] test periodic job\n\nChange-Id: I3fb44fd85fb1de509dc941895c1abe005bc92a50\n'}, {'number': 7, 'created': '2024-06-10 09:01:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0ddf28111d404b8d2e54d84fb8fe2c53b1a8d506', 'message': '[DNM] test periodic job\n\nChange-Id: I3fb44fd85fb1de509dc941895c1abe005bc92a50\n'}, {'number': 8, 'created': '2024-06-10 09:05:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9cfcbed0d1f0beaa84ca7a0eb919909cebf050ef', 'message': '[DNM] test periodic job\n\nChange-Id: I3fb44fd85fb1de509dc941895c1abe005bc92a50\n'}, {'number': 9, 'created': '2024-06-10 09:37:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d38475a0c9e6a2369b8a9d54cc168645c1168ac5', 'message': '[DNM] test periodic job\n\nChange-Id: I3fb44fd85fb1de509dc941895c1abe005bc92a50\n'}, {'number': 10, 'created': '2024-06-10 10:01:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1fb6e85b8e64eedd2ec8e5945f06678089627cb5', 'message': '[DNM] test periodic job\n\nChange-Id: I3fb44fd85fb1de509dc941895c1abe005bc92a50\n'}, {'number': 11, 'created': '2024-06-10 10:07:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ace7827b606c716ee0444f93baf2d94b6f8a6641', 'message': '[DNM] test periodic job\n\nChange-Id: I3fb44fd85fb1de509dc941895c1abe005bc92a50\n'}, {'number': 12, 'created': '2024-06-10 10:36:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3ff0951f5c74ec8e4f3c17be9219896cde6f9028', 'message': '[DNM] test periodic job\n\nChange-Id: I3fb44fd85fb1de509dc941895c1abe005bc92a50\n'}, {'number': 13, 'created': '2024-06-10 11:50:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/631f23f528c58e6a12ec9d8e97489a6240d7d85e', 'message': '[DNM] test periodic job\n\nChange-Id: I3fb44fd85fb1de509dc941895c1abe005bc92a50\n'}, {'number': 14, 'created': '2024-06-10 12:55:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/58f7b5d96b058a3035a20bb6deffcde7a9eadc36', 'message': '[DNM] test periodic job\n\nChange-Id: I3fb44fd85fb1de509dc941895c1abe005bc92a50\n'}, {'number': 15, 'created': '2024-06-10 13:19:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/59a9b0ba67d664d0b7025fdf870fbbcb428fa78e', 'message': '[DNM] test periodic job\n\nChange-Id: I3fb44fd85fb1de509dc941895c1abe005bc92a50\n'}, {'number': 16, 'created': '2024-06-10 14:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d1ed9776a4f81cbe87dd407b0fcf028c15defe6f', 'message': '[DNM] test periodic job\n\nChange-Id: I3fb44fd85fb1de509dc941895c1abe005bc92a50\n'}, {'number': 17, 'created': '2024-06-10 14:30:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/43f659ddc7591d849cc7b5f62834e7bab13da7d5', 'message': '[DNM] test periodic job\n\nChange-Id: I3fb44fd85fb1de509dc941895c1abe005bc92a50\n'}, {'number': 18, 'created': '2024-06-11 06:50:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4a461387b8e845a0875634f95b87ce0920d97f8f', 'message': '[DNM] test periodic job\n\nChange-Id: I3fb44fd85fb1de509dc941895c1abe005bc92a50\n'}, {'number': 19, 'created': '2024-06-11 07:20:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/37bdfae925bf06842c5e40728d422a10be60d050', 'message': '[DNM] test periodic job\n\nChange-Id: I3fb44fd85fb1de509dc941895c1abe005bc92a50\n'}, {'number': 20, 'created': '2024-06-11 07:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/56c063f9d0bc45dd84b5b3add7d251aedbfd658e', 'message': '[DNM] test periodic job\n\nChange-Id: I3fb44fd85fb1de509dc941895c1abe005bc92a50\n'}, {'number': 21, 'created': '2024-06-11 08:58:25.000000000', 'files': ['.zuul.d/debian.yaml', '.zuul.d/centos.yaml', '.zuul.d/project.yaml', '.zuul.d/ubuntu.yaml', '.zuul.d/rocky.yaml', 'tests/playbooks/publish.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/587ca49dac9e9fcec7532c8af352f2f56ffcaf7e', 'message': '[DNM] test periodic job\n\nChange-Id: I3fb44fd85fb1de509dc941895c1abe005bc92a50\n'}]",2,921505,587ca49dac9e9fcec7532c8af352f2f56ffcaf7e,51,1,21,23084,,,0,"[DNM] test periodic job

Change-Id: I3fb44fd85fb1de509dc941895c1abe005bc92a50
",git fetch https://review.opendev.org/openstack/kolla refs/changes/05/921505/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/debian.yaml', '.zuul.d/centos.yaml', '.zuul.d/ubuntu.yaml', '.zuul.d/rocky.yaml', 'tests/playbooks/publish.yml']",5,07c726e192837ed6f0a78a1d1d66efd4f28c3dac,," # NOTE(bbezak): community.docker collection update to support reqests>=2.32 # https://github.com/ansible-collections/community.docker/issues/868 - name: Update community.docker collection command: cmd: ""ansible-galaxy collection install 'community.docker>=3.10.2'"" # - name: Push built container images # docker_image: # name: ""{{ item.RepoTags.0 }}"" # push: yes # source: local # loop: ""{{ docker_host_info.images }}"" # register: push_status # until: push_status.failed is false # retries: 5# - name: Push built container images # docker_image: # name: ""{{ item.RepoTags.0 }}"" # push: yes # repository: ""quay.io/{{ item.RepoTags.0 }}"" # source: local # loop: ""{{ docker_host_info.images }}"" # register: push_status # until: push_status.failed is false # retries: 5 # - name: Ensure repository visibility is public # uri: # url: ""https://quay.io/api/v1/repository/{{ item.RepoTags.0 }}/changevisibility"" # method: POST # headers: # Authorization: ""Bearer {{ kolla_quay_io_api.token | trim }}"" # body: '{""visibility"": ""public""}' # body_format: json # loop: ""{{ docker_host_info.images }}"""," - name: Push built container images docker_image: name: ""{{ item.RepoTags.0 }}"" push: yes source: local loop: ""{{ docker_host_info.images }}"" register: push_status until: push_status.failed is false retries: 5 - name: Push built container images docker_image: name: ""{{ item.RepoTags.0 }}"" push: yes repository: ""quay.io/{{ item.RepoTags.0 }}"" source: local loop: ""{{ docker_host_info.images }}"" register: push_status until: push_status.failed is false retries: 5 - name: Ensure repository visibility is public uri: url: ""https://quay.io/api/v1/repository/{{ item.RepoTags.0 }}/changevisibility"" method: POST headers: Authorization: ""Bearer {{ kolla_quay_io_api.token | trim }}"" body: '{""visibility"": ""public""}' body_format: json loop: ""{{ docker_host_info.images }}""",71,62
openstack%2Fneutron-dynamic-routing~920619,openstack/neutron-dynamic-routing,master,I50ff7dd5145318c2bb112b79f5a5411c32657ea0,DNM: test master,ABANDONED,2024-05-28 09:28:03.000000000,2024-06-13 07:37:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-28 09:28:03.000000000', 'files': ['neutron_dynamic_routing/services/bgp/bgp_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/65020d3522ef013891fd9b53df14f99520ad86ea', 'message': 'DNM: test master\n\nChange-Id: I50ff7dd5145318c2bb112b79f5a5411c32657ea0\n'}]",0,920619,65020d3522ef013891fd9b53df14f99520ad86ea,3,1,1,8313,,,0,"DNM: test master

Change-Id: I50ff7dd5145318c2bb112b79f5a5411c32657ea0
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/19/920619/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_dynamic_routing/services/bgp/bgp_plugin.py'],1,65020d3522ef013891fd9b53df14f99520ad86ea,dnm,"# DNM: Test master LOG.debug(""DNM BgpPlugin initialization finished."")",,2,0
openstack%2Fmanila~921831,openstack/manila,master,I85ead5cca4b4b48134522cb088dad840584a12c0,Dell PowerScale: Rename Isilon to PowerScale in Manila Driver,NEW,2024-06-12 08:27:51.000000000,2024-06-13 07:30:35.000000000,,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 30025}, {'_account_id': 31779}, {'_account_id': 33728}, {'_account_id': 35759}, {'_account_id': 36725}]","[{'number': 1, 'created': '2024-06-12 08:27:51.000000000', 'files': ['manila/share/drivers/dell_emc/plugins/powerscale/powerscale.py', 'doc/source/admin/index.rst', 'doc/source/configuration/shared-file-systems/drivers/dell-emc-powermax-driver.rst', 'manila/opts.py', 'manila/tests/share/drivers/dell_emc/plugins/powerscale/test_powerscale.py', 'manila/share/drivers/dell_emc/plugins/powerscale/powerscale_api.py', 'doc/source/admin/share_back_ends_feature_support_mapping.rst', 'manila/share/drivers/dell_emc/driver.py', 'manila/share/manager.py', 'doc/source/admin/emc_powerscale_driver.rst', 'manila/tests/share/drivers/dell_emc/plugins/powerscale/__init__.py', 'manila/share/drivers/dell_emc/plugins/powerscale/__init__.py', 'manila/tests/share/drivers/dell_emc/plugins/powerscale/test_powerscale_api.py', 'setup.cfg', 'doc/source/configuration/shared-file-systems/drivers/emc-powerscale-driver.rst', 'doc/source/configuration/shared-file-systems/drivers.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/0a68a216265a7bca0c46d60eb8e32627a63a8c17', 'message': 'Dell PowerScale: Rename Isilon to PowerScale in Manila Driver\n\nBecause isilon has been renamed powerscale, we change all the relevant parts of the code.\nChange-Id: I3edaffd2c394dbe2714f94cd67fb5ead459d478a\n\nChange-Id: I85ead5cca4b4b48134522cb088dad840584a12c0\n'}]",2,921831,0a68a216265a7bca0c46d60eb8e32627a63a8c17,11,7,1,36132,,,0,"Dell PowerScale: Rename Isilon to PowerScale in Manila Driver

Because isilon has been renamed powerscale, we change all the relevant parts of the code.
Change-Id: I3edaffd2c394dbe2714f94cd67fb5ead459d478a

Change-Id: I85ead5cca4b4b48134522cb088dad840584a12c0
",git fetch https://review.opendev.org/openstack/manila refs/changes/31/921831/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/dell_emc/plugins/powerscale/powerscale.py', 'doc/source/admin/index.rst', 'doc/source/configuration/shared-file-systems/drivers/dell-emc-powermax-driver.rst', 'manila/opts.py', 'manila/tests/share/drivers/dell_emc/plugins/powerscale/test_powerscale.py', 'manila/share/drivers/dell_emc/plugins/powerscale/powerscale_api.py', 'doc/source/admin/share_back_ends_feature_support_mapping.rst', 'manila/share/drivers/dell_emc/driver.py', 'manila/share/manager.py', 'doc/source/admin/emc_powerscale_driver.rst', 'manila/tests/share/drivers/dell_emc/plugins/powerscale/__init__.py', 'manila/share/drivers/dell_emc/plugins/powerscale/__init__.py', 'manila/tests/share/drivers/dell_emc/plugins/powerscale/test_powerscale_api.py', 'setup.cfg', 'doc/source/configuration/shared-file-systems/drivers/emc-powerscale-driver.rst', 'doc/source/configuration/shared-file-systems/drivers.rst']",16,0a68a216265a7bca0c46d60eb8e32627a63a8c17,bp/powerscale-rename, drivers/emc-powerscale-driver.rst, drivers/emc-isilon-driver.rst,297,271
openstack%2Fironic-python-agent~904104,openstack/ironic-python-agent,master,Ief6299e4b1bbef5fdb33a28b90b078f420cf8508,Fix versions in release notes,MERGED,2023-12-20 09:24:52.000000000,2024-06-13 07:05:05.000000000,2024-06-13 07:04:02.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 36201}]","[{'number': 1, 'created': '2023-12-20 09:24:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/7ad1af44b63dea2db2c12e34a5a47cb216dce235', 'message': 'Fix versions in release notes\n\nChange-Id: Ief6299e4b1bbef5fdb33a28b90b078f420cf8508\n'}, {'number': 2, 'created': '2024-06-10 14:01:42.000000000', 'files': ['releasenotes/source/2023.2.rst', 'releasenotes/source/2024.1.rst', 'releasenotes/source/zed.rst', 'releasenotes/source/2023.1.rst'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/599a82555476f38248483d3b209ccb8f2d24d7aa', 'message': 'Fix versions in release notes\n\nChange-Id: Ief6299e4b1bbef5fdb33a28b90b078f420cf8508\n'}]",2,904104,599a82555476f38248483d3b209ccb8f2d24d7aa,17,4,2,23851,,,0,"Fix versions in release notes

Change-Id: Ief6299e4b1bbef5fdb33a28b90b078f420cf8508
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/04/904104/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/2023.2.rst', 'releasenotes/source/zed.rst', 'releasenotes/source/2023.1.rst']",3,7ad1af44b63dea2db2c12e34a5a47cb216dce235,fix-reno-versions,=========================================== 2023.1 (9.2.0 - 9.4.x) Series Release Notes ===========================================,=========================== 2023.1 Series Release Notes ===========================,9,9
openstack%2Fkayobe~921705,openstack/kayobe,master,If267acef2af30d91d0685102a001521201d46924,Use TinyIPA images from stable/2023.2,ABANDONED,2024-06-10 19:53:31.000000000,2024-06-13 07:01:17.000000000,,"[{'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2024-06-10 19:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9eceb2e9832b8986576a9dc33b3a42971d342be8', 'message': 'Use TinyIPA images from stable/2023.2\n\nThe images built for master and stable/2024.1 are broken, likely due to\na parted bug in Tiny Core Linux 15.x [1].\n\n[1] https://bugs.launchpad.net/ironic-python-agent-builder/+bug/2068936\n\nChange-Id: If267acef2af30d91d0685102a001521201d46924\n'}, {'number': 2, 'created': '2024-06-13 06:56:12.000000000', 'files': ['releasenotes/notes/use-tinyipa-14x-00be4a0d23cd7225.yaml', 'ansible/inventory/group_vars/all/ipa'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/78c3bc004ab1d68275a2b428c0485e4d69ace259', 'message': 'Use TinyIPA images from stable/2023.2\n\nThe images built for master and stable/2024.1 are broken, likely due to\na parted bug in Tiny Core Linux 15.x [1].\n\n[1] https://bugs.launchpad.net/ironic-python-agent-builder/+bug/2068936\n\nChange-Id: If267acef2af30d91d0685102a001521201d46924\n'}]",0,921705,78c3bc004ab1d68275a2b428c0485e4d69ace259,6,2,2,15197,,,0,"Use TinyIPA images from stable/2023.2

The images built for master and stable/2024.1 are broken, likely due to
a parted bug in Tiny Core Linux 15.x [1].

[1] https://bugs.launchpad.net/ironic-python-agent-builder/+bug/2068936

Change-Id: If267acef2af30d91d0685102a001521201d46924
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/05/921705/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/use-tinyipa-14x-00be4a0d23cd7225.yaml', 'ansible/inventory/group_vars/all/ipa']",2,9eceb2e9832b8986576a9dc33b3a42971d342be8,tinyipa-14,"ipa_images_upstream_url_suffix: ""-stable-2023.2""","ipa_images_upstream_url_suffix: ""-{{ openstack_branch | replace('/', '-') }}""",8,1
openstack%2Ftosca-parser~914946,openstack/tosca-parser,master,I80ab6ce0b3344f19afb4d16554c799747b1f2567,Move test samples to reduce setuptools warnings,NEW,2024-04-03 08:41:28.000000000,2024-06-13 06:43:13.000000000,,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31857}, {'_account_id': 32707}]","[{'number': 1, 'created': '2024-04-03 08:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tosca-parser/commit/e67ee2b16b295d41ab8bb0d86cb8b5b6b62fe8e7', 'message': 'Move test samples to reduce setuptools warnings\n\nPreviously there are a lot of warning messages of setuptools\nin the log files of tox jobs. This is mainly caused by test\nsamples because these are in python codes directories.\n\nThis patch moves test samples from under\n{tosca-parser_root}/toscaparser/tests to under\n{tosca-parser_root}/samples/tests.\n\nThis patch also removes unused test samples.\n\nChange-Id: I80ab6ce0b3344f19afb4d16554c799747b1f2567\n'}, {'number': 2, 'created': '2024-04-03 08:45:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tosca-parser/commit/a9ef2d0a21c1d1ddebfe85d745cdc4f4438da4e3', 'message': '[WIP]Move test samples to reduce setuptools warnings\n\nPreviously there are a lot of warning messages of setuptools\nin the log files of tox jobs. This is mainly caused by test\nsamples because these are in python codes directories.\n\nThis patch moves test samples from under\n{tosca-parser_root}/toscaparser/tests to under\n{tosca-parser_root}/samples/tests.\n\nThis patch also removes unused test samples.\n\nChange-Id: I80ab6ce0b3344f19afb4d16554c799747b1f2567\n'}, {'number': 3, 'created': '2024-04-05 07:41:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tosca-parser/commit/dc5d611e14161a065c79475fcbfcef5184e554a7', 'message': 'Move test samples to reduce setuptools warnings\n\nPreviously there are a lot of warning messages of setuptools\nin the log files of tox jobs. This is mainly caused by test\nsamples because these are in python codes directories.\n\nThis patch moves test samples from under\n{tosca-parser_root}/toscaparser/tests to under\n{tosca-parser_root}/samples/tests.\n\nThis patch also removes unused test samples.\n\nChange-Id: I80ab6ce0b3344f19afb4d16554c799747b1f2567\n'}, {'number': 4, 'created': '2024-04-12 11:14:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tosca-parser/commit/59f56f16510ff8e7975bf62f3e2efe7cea30d52b', 'message': 'Move test samples to reduce setuptools warnings\n\nPreviously there are a lot of warning messages of setuptools\nin the log files of tox jobs. This is mainly caused by test\nsamples because these are in python codes directories.\n\nThis patch moves test samples from under\n{tosca-parser_root}/toscaparser/tests to under\n{tosca-parser_root}/samples/tests.\n\nThis patch also contains the following changes:\n* Removed unused test samples.\n* Fixed usage.rst command example.\n* Temporarily changed the branch of github URL to ""stable/2024.1""\n  for the sample used in the test.\n  Because we are concerned that the test referencing the github test\n  samples will fail due to the move of the test samples.\n  The referenced branch will be modified after this patch is applied.\n\nChange-Id: I80ab6ce0b3344f19afb4d16554c799747b1f2567\n'}, {'number': 5, 'created': '2024-04-30 10:21:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tosca-parser/commit/b2b2234ba6965423692d85e1c9a15924e1187754', 'message': 'Move test samples to reduce setuptools warnings\n\nPreviously there are a lot of warning messages of setuptools\nin the log files of tox jobs. This is mainly caused by test\nsamples because these are in python codes directories.\n\nThis patch moves test samples from under\n{tosca-parser_root}/toscaparser/tests to under\n{tosca-parser_root}/samples/tests.\n\nThis patch also contains the following changes:\n* Removed unused test samples.\n* Fixed usage.rst command example.\n* Changeing unit tests that reference external URL to use mock\n\nChange-Id: I80ab6ce0b3344f19afb4d16554c799747b1f2567\n'}, {'number': 6, 'created': '2024-05-15 02:49:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tosca-parser/commit/25a826b1fc0491d9285cbbeab45f20953bd50a0a', 'message': 'Move test samples to reduce setuptools warnings\n\nPreviously there are a lot of warning messages of setuptools\nin the log files of tox jobs. This is mainly caused by test\nsamples because these are in python codes directories.\n\nThis patch moves test samples from under\n{tosca-parser_root}/toscaparser/tests to under\n{tosca-parser_root}/samples/tests.\n\nThis patch also contains the following changes:\n* Removed unused test samples.\n* Fixed usage.rst command example.\n* Changeing unit tests that reference external URL to use mock\n* Mock methods used in unit tests have been made into common methods.\n\nChange-Id: I80ab6ce0b3344f19afb4d16554c799747b1f2567\n'}, {'number': 7, 'created': '2024-06-13 06:27:22.000000000', 'files': ['samples/tests/data/functions/test_get_attribute_host_not_found.yaml', 'samples/tests/data/custom_types/invalid_template_version.yaml', 'samples/tests/data/CSAR/csar_not_zip.zip', 'samples/tests/data/custom_types/template_metadata.yaml', 'toscaparser/tests/data/CSAR/tosca_elk/Scripts/mongodb/create_database.sh', 'samples/tests/data/CSAR/csar_root_yaml_with_tosca_definition1_0.zip', 'samples/tests/data/test_normative_type_properties_override.yaml', 'samples/tests/data/CSAR/csar_valid_multilevel_imports_validation.zip', 'samples/tests/data/artifacts/nodejs/config.sh', 'samples/tests/data/custom_types/custom_relationship_type_defs.yaml', 'samples/tests/data/CSAR/csar_two_root_level_yaml.zip', 'samples/tests/data/artifacts/kibana/start.sh', 'samples/tests/data/CSAR/csar_wordpress_valid_artifact_multi.zip', 'samples/tests/data/custom_types/custom_interface.yaml', 'samples/tests/data/test_import_invalid_template_version.yaml', 'samples/tests/data/artifacts/mysql/mysql_dbms_configure.sh', 'samples/tests/data/CSAR/csar_metadata_not_yaml.zip', 'samples/tests/data/artifacts/rsyslog/create.sh', 'samples/tests/data/policies/custom_definitions.yaml', 'toscaparser/tests/data/groups/definitions.yaml', 'samples/tests/data/custom_types/imported_sample.yaml', 'samples/tests/data/artifacts/nodejs/start.sh', 'toscaparser/tests/data/CSAR/tosca_elk/Definitions/logstash.yaml', 'toscaparser/tests/data/CSAR/tosca_elk/TOSCA-Metadata/TOSCA.meta', 'samples/tests/data/artifacts/collectd/start.sh', 'toscaparser/tests/data/CSAR/tosca_single_instance_wordpress/Scripts/MYSQLDBMS/configure.sh', 'toscaparser/tests/data/CSAR/tosca_elk/Scripts/logstash/create.sh', 'toscaparser/tests/data/CSAR/tosca_elk/Scripts/collectd/start.sh', 'toscaparser/tests/data/CSAR/tosca_elk/Scripts/rsyslog/create.sh', 'toscaparser/tests/test_topology_template.py', 'samples/tests/data/CSAR/root_level_file.yaml', 'toscaparser/tests/spec_samples/v1.0/storage/tosca_blockstorage_with_attachment_notation2.yaml', 'toscaparser/tests/data/CSAR/tosca_single_instance_wordpress/TOSCA-Metadata/TOSCA.meta', 'samples/tests/data/artifacts/elasticsearch/create.sh', 'samples/tests/data/functions/test_get_attribute_nested_data_types.yaml', 'toscaparser/tests/data/CSAR/tosca_elk/Scripts/mongodb/start.sh', 'samples/tests/data/custom_types/elasticsearch.yaml', 'samples/tests/data/functions/test_token.yaml', 'samples/tests/data/test_invalid_template_version.yaml', 'samples/tests/data/custom_types/container_cap_child.yaml', 'toscaparser/tests/data/CSAR/tosca_single_instance_wordpress/Scripts/WebServer/install.sh', 'samples/tests/data/interfaces/test_custom_interface_invalid_operation.yaml', 'toscaparser/tests/test_functions.py', 'samples/tests/data/test_instance_nested_imports.yaml', 'samples/tests/data/custom_types/custom_cap_with_datatype.yaml', 'samples/tests/data/test_tosca_top_level_error1.yaml', 'samples/tests/data/functions/test_concat.yaml', 'samples/tests/data/policies/tosca_policy_template.yaml', 'samples/tests/data/test_custom_caps_def.yaml', 'toscaparser/tests/data/CSAR/tosca_elk/Scripts/rsyslog/start.sh', 'toscaparser/tests/spec_samples/v1.0/network/tosca_one_server_one_network.yaml', 'toscaparser/tests/test_custom_relationships.py', 'samples/tests/data/requirements/test_requirements.yaml', 'toscaparser/tests/spec_samples/v1.0/storage/tosca_blockstorage_with_attachment.yaml', 'toscaparser/tests/spec_samples/v1.0/tosca_nodejs_mongodb_two_instances.yaml', 'toscaparser/tests/test_shell.py', 'samples/tests/data/functions/test_get_prop_cap_host.yaml', 'samples/tests/data/functions/test_concat_invalid.yaml', 'toscaparser/tests/spec_samples/v1.0/tosca_single_server.yaml', 'samples/tests/data/functions/test_get_attribute_illegal_host_in_outputs.yaml', 'samples/tests/data/test_tosca_custom_rel.yaml', 'samples/tests/data/tosca_single_instance_wordpress.yaml', 'toscaparser/tests/data/CSAR/tosca_elk/Scripts/mongodb/config.sh', 'samples/tests/data/functions/test_invalid_function_signature.yaml', 'samples/tests/data/policies/test_tosca_nfv_multiple_policies.yaml', 'samples/tests/data/relationship/test_custom_relationship.yaml', 'toscaparser/tests/test_tosca_nfv_tpl.py', 'samples/tests/data/custom_types/custom_caps_def.yaml', 'samples/tests/data/test_custom_capabilty.yaml', 'samples/tests/data/custom_types/nested_test_wordpress.yaml', 'samples/tests/data/functions/test_get_attribute_custom_data_type.yaml', 'samples/tests/data/custom_types/custom_nested_data_types.yaml', 'samples/tests/data/CSAR/csar_root_level_yaml.zip', 'samples/tests/data/tosca_single_instance_wordpress_with_local_abspath_import.yaml', 'samples/tests/data/artifacts/mysql/mysql_dbms_start.sh', 'samples/tests/data/custom_types/nested_test_kibana.yaml', 'samples/tests/data/artifacts/mongodb/create_database.sh', 'samples/tests/data/topology_template/databasesubsystem.yaml', 'samples/tests/data/CSAR/csar_elk.csar', 'samples/tests/data/artifacts/nodejs/create.sh', 'samples/tests/data/test_nodetype_without_relationship.yaml', 'samples/tests/data/datatypes/test_custom_datatypes_in_current_template.yaml', 'toscaparser/tests/data/CSAR/tosca_elk/Python/logstash/configure_rsyslog.py', 'toscaparser/tests/spec_samples/v1.0/storage/tosca_blockstorage_with_relationship_template.yaml', 'samples/tests/data/datatypes/test_custom_datatypes_nested_datatype_error.yaml', 'samples/tests/data/functions/test_unknown_input_in_property.yaml', 'samples/tests/data/artifacts/mongodb/config.sh', 'samples/tests/data/CSAR/csar_wordpress.zip', 'samples/tests/data/CSAR/tosca_meta_file.yaml', 'samples/tests/data/topology_template/definitions.yaml', 'samples/tests/data/custom_types/kibana.yaml', 'samples/tests/data/policies/tosca_custom_policy_template.yaml', 'toscaparser/tests/test_toscatpl.py', 'toscaparser/tests/data/CSAR/tosca_elk/Scripts/kibana/start.sh', 'toscaparser/tests/test_prereq.py', 'samples/tests/data/CSAR/csar_multiple_deployment_flavour.zip', 'samples/tests/data/functions/test_capabilties_inheritance.yaml', 'samples/tests/data/datatypes/custom_datatype_def.yaml', 'samples/tests/data/tosca_imports_validation.yaml', 'samples/tests/data/topology_template/transactionsubsystem.yaml', 'samples/tests/data/containers/test_container_docker_mysql.yaml', 'samples/tests/data/CSAR/csar_wrong_metadata_file.zip', 'samples/tests/data/artifacts/collectd/config.py', 'samples/tests/data/custom_types/paypalpizzastore_nodejs_app.yaml', 'samples/tests/data/CSAR/csar_hello_world.zip', 'toscaparser/tests/base.py', 'toscaparser/tests/data/CSAR/tosca_single_instance_wordpress/Scripts/MYSQLDatabase/configure.sh', 'toscaparser/tests/test_datatypes.py', 'samples/tests/data/CSAR/csar_no_metadata_file.zip', 'samples/tests/data/functions/test_token_invalid.yaml', 'samples/tests/data/CSAR/csar_root_level_yaml_and_tosca_metadata.zip', 'samples/tests/data/datatypes/test_custom_datatypes_positive.yaml', 'samples/tests/data/test_tosca_version_1_3.yaml', 'toscaparser/tests/data/CSAR/tosca_elk/Definitions/paypalpizzastore_nodejs_app.yaml', 'samples/tests/data/policies/test_policies_without_required_property.yaml', 'toscaparser/tests/data/CSAR/tosca_elk/Scripts/elasticsearch/start.sh', 'toscaparser/tests/data/CSAR/tosca_elk/Python/collectd/config.py', 'samples/tests/data/custom_types/node_with_cap.yaml', 'samples/tests/data/test_attributes_inheritance.yaml', 'samples/tests/data/topology_template/system.yaml', 'samples/tests/data/test_credential_datatype.yaml', 'samples/tests/data/artifacts/wordpress/wordpress_install.sh', 'samples/tests/data/custom_types/wordpress.yaml', 'toscaparser/tests/spec_samples/v1.0/storage/tosca_multiple_blockstorage_with_attachment.yaml', 'toscaparser/tests/data/CSAR/tosca_single_instance_wordpress/Definitions/wordpress.yaml', 'samples/tests/data/artifacts/logstash/configure_elasticsearch.py', 'samples/tests/data/artifacts/wordpress/wordpress_configure.sh', 'samples/tests/data/CSAR/csar_elk.zip', 'samples/tests/data/tosca_single_instance_wordpress_with_url_import.yaml', 'samples/tests/data/CSAR/csar_wordpress_valid_artifact.zip', 'samples/tests/data/CSAR/csar_wordpress_invalid_import_path.zip', 'toscaparser/tests/data/CSAR/tosca_single_instance_wordpress/Scripts/WordPress/configure.sh', 'samples/tests/data/custom_types/collectd.yaml', 'samples/tests/data/test_long_rel.yaml', 'doc/source/usage.rst', 'samples/tests/data/node_filter/test_node_filter.yaml', 'samples/tests/data/functions/test_container_cap_child.yaml', 'samples/tests/data/functions/test_get_attribute_with_index.yaml', 'samples/tests/data/test_no_inputs_in_template.yaml', 'samples/tests/data/extensions/tosca_helloworld_nfv.yaml', 'toscaparser/tests/data/CSAR/tosca_single_instance_wordpress/Scripts/MYSQLDBMS/install.sh', 'samples/tests/data/functions/test_get_attribute_unknown_attribute_name.yaml', 'samples/tests/data/tosca_helloworld.yaml', 'toscaparser/tests/data/CSAR/tosca_elk/Scripts/elasticsearch/create.sh', 'toscaparser/tests/data/CSAR/tosca_elk/Scripts/kibana/config.sh', 'samples/tests/data/custom_types/wordpress.yml', 'toscaparser/tests/spec_samples/v1.0/network/tosca_one_server_three_networks.yaml', 'toscaparser/tests/spec_samples/v1.0/storage/tosca_blockstorage_with_attachment_notation1.yaml', 'samples/tests/data/test_endpoint_on_compute.yaml', 'samples/tests/data/artifacts/elasticsearch/start.sh', 'toscaparser/tests/data/CSAR/tosca_single_instance_wordpress/README.txt', 'samples/tests/data/dsl_definitions/test_nested_dsl_def.yaml', 'samples/tests/data/artifacts/kibana/create.sh', 'samples/tests/data/custom_types/compute_with_prop.yaml', 'samples/tests/data/custom_types/custom_data_type.yaml', 'samples/tests/data/test_tosca_normative_type_by_shortname.yaml', 'toscaparser/tests/data/CSAR/tosca_elk/README.txt', 'toscaparser/tests/data/CSAR/tosca_elk/Definitions/rsyslog.yaml', 'toscaparser/tests/data/CSAR/tosca_single_instance_wordpress/Scripts/WebServer/start.sh', 'samples/tests/data/repositories/tosca_repositories_test_definition.yaml', 'samples/tests/data/artifacts/collectd/create.sh', 'samples/tests/data/custom_types/custom_policy.yaml', 'toscaparser/tests/spec_samples/v1.0/network/tosca_two_servers_one_network.yaml', 'samples/tests/data/policies/tacker_defs.yaml', 'samples/tests/data/artifacts/mongodb/create.sh', 'samples/tests/data/artifacts/logstash/configure_rsyslog.py', 'samples/tests/data/tosca_elk.yaml', 'samples/tests/data/CSAR/csar_relative_path_import_check.zip', 'samples/tests/data/artifacts/rsyslog/start.sh', 'samples/tests/data/test_custom_caps_with_datatype.yaml', 'samples/tests/data/artifacts/webserver/webserver_install.sh', 'samples/tests/data/datatypes/test_custom_datatypes_value_error.yaml', 'samples/tests/data/topology_template/validate/test_substitution_mappings_valid_output.yaml', 'samples/tests/data/artifacts/mysql/mysql_dbms_install.sh', 'samples/tests/data/test_tosca_top_level_error2.yaml', 'samples/tests/data/artifacts/mongodb/start.sh', 'samples/tests/data/topology_template/validate/system_invalid_input.yaml', 'samples/tests/data/custom_types/template_version_1_3.yaml', 'toscaparser/tests/data/CSAR/tosca_elk/Definitions/collectd.yaml', 'samples/tests/data/custom_types/compute_with_attribute_list.yaml', 'samples/tests/data/repositories/test_repositories_definition.yaml', 'samples/tests/data/functions/test_get_attribute_unknown_node_template_name.yaml', 'samples/tests/data/functions/test_get_prop_cap_bool.yaml', 'samples/tests/data/test_invalid_section_names.yaml', 'toscaparser/tests/data/CSAR/tosca_single_instance_wordpress/Definitions/tosca_single_instance_wordpress.yaml', 'samples/tests/data/functions/test_unknown_input_in_interface.yaml', 'samples/tests/data/test_import_tosca_version_1_3.yaml', 'samples/tests/data/topology_template/validate/test_substitution_mappings_invalid_output.yaml', 'samples/tests/data/policies/tacker_nfv_defs.yaml', 'toscaparser/tests/data/CSAR/tosca_elk/Definitions/elasticsearch.yaml', 'samples/tests/data/interfaces/test_custom_interface_in_template.yaml', 'samples/tests/data/functions/test_get_attribute_with_index_error.yaml', 'toscaparser/tests/data/CSAR/tosca_elk/Scripts/kibana/create.sh', 'samples/tests/data/functions/test_get_attribute_with_nested_params.yaml', 'toscaparser/tests/data/CSAR/tosca_elk/Scripts/nodejs/start.sh', 'toscaparser/tests/data/CSAR/tosca_single_instance_wordpress/Scripts/MYSQLDBMS/start.sh', 'samples/tests/data/test_capability_without_properties.yaml', 'samples/tests/data/functions/test_get_property_source_target_keywords.yaml', 'samples/tests/data/test_invalid_input_defaults.yaml', 'samples/tests/data/artifacts/logstash/start.sh', 'toscaparser/tests/data/CSAR/tosca_elk/Python/logstash/configure_elasticsearch.py', 'samples/tests/data/artifacts/rsyslog/config.sh', 'samples/tests/data/artifacts/kibana/config.sh', 'toscaparser/tests/data/CSAR/tosca_elk/Scripts/nodejs/config.sh', 'toscaparser/tests/spec_samples/v1.0/network/tosca_server_on_existing_network.yaml', 'samples/tests/data/CSAR/csar_wordpress_invalid_artifact.zip', 'samples/tests/data/functions/test_get_attribute_source_target_keywords.yaml', 'samples/tests/data/artifacts/logstash/create.sh', 'toscaparser/tests/data/CSAR/tosca_elk/Scripts/logstash/start.sh', 'toscaparser/tests/test_toscatplvalidation.py', 'samples/tests/data/topology_template/queuingsubsystem.yaml', 'toscaparser/tests/data/CSAR/tosca_elk/Scripts/collectd/create.sh', 'toscaparser/tests/spec_samples/v1.0/storage/tosca_blockstorage_with_custom_relationship_type.yaml', 'samples/tests/data/CSAR/csar_wordpress_invalid_import_url.zip', 'samples/tests/data/functions/test_get_implicit_attribute.yaml', 'samples/tests/data/artifacts/webserver/webserver_start.sh', 'toscaparser/tests/data/CSAR/tosca_elk/Definitions/kibana.yaml', 'toscaparser/tests/data/CSAR/tosca_elk/Scripts/rsyslog/config.sh', 'toscaparser/tests/data/CSAR/tosca_elk/Definitions/tosca_elk.yaml', 'toscaparser/tests/spec_samples/v1.0/storage/tosca_single_object_store.yaml', 'toscaparser/tests/extensions/nfv/__init__.py', 'samples/tests/data/CSAR/csar_wordpress_invalid_script_path.zip', 'samples/tests/data/artifacts/mysql/mysql_database_configure.sh', 'samples/tests/data/CSAR/csar_wordpress_invalid_script_url.zip', 'samples/tests/data/custom_types/db_with_list_param.yaml', 'samples/tests/data/CSAR/csar_wordpress_with_url_import_and_script.zip', 'samples/tests/data/topology_template/validate/queuingsubsystem_invalid_input.yaml', 'samples/tests/data/CSAR/csar_wordpress_invalid_artifact_multi.zip', 'toscaparser/tests/data/CSAR/tosca_elk/Python/logstash/configure_collectd.py', 'samples/tests/data/artifacts/logstash/configure_collectd.py', 'samples/tests/data/test_tosca_custom_rel_with_script.yaml', 'samples/tests/data/topology_template/validate/test_example_app_substitution_mappings.yaml', 'toscaparser/tests/data/load_balancer/tosca_load_balancer.yaml', 'samples/tests/data/custom_types/nested_rsyslog.yaml', 'samples/tests/data/CSAR/multi_level_imports_response.yaml', 'toscaparser/tests/data/CSAR/tosca_elk/Scripts/mongodb/create.sh', 'samples/tests/data/functions/tosca_nested_property_names_indexes.yaml', 'samples/tests/data/custom_types/rsyslog.yaml', 'samples/tests/data/custom_types/logstash.yaml', 'samples/tests/data/functions/test_unknown_capability_property.yaml', 'samples/tests/data/test_multiple_validation_errors.yaml', 'samples/tests/data/functions/test_get_attribute_host_keyword.yaml', 'samples/tests/data/test_available_rel_tpls.yaml', 'samples/tests/data/test_scalar_unit_without_unit.yaml', 'toscaparser/tests/data/groups/tosca_group_template.yaml', 'samples/tests/data/CSAR/csar_invalid_multilevel_imports_validation.zip', 'samples/tests/data/topology_template/definitions_1_2.yaml', 'toscaparser/tests/data/CSAR/tosca_elk/Scripts/nodejs/create.sh', 'toscaparser/tests/data/CSAR/tosca_single_instance_wordpress/Scripts/WordPress/install.sh', 'samples/tests/data/CSAR/csar_missing_metadata.zip', 'samples/tests/data/datatypes/test_datatype_portspec_add_req.yaml', 'samples/tests/data/custom_types/custom_cap.yaml', 'samples/tests/data/functions/test_get_property_with_host.yaml', 'samples/tests/data/test_no_outputs_in_template.yaml', 'samples/tests/data/test_import_metadata.yml', 'toscaparser/tests/data/CSAR/csar_wordpress_with_url_import_and_script.zip', 'samples/tests/data/custom_types/compute_with_nested_atributes.yaml', 'samples/tests/data/tosca_test_get_operation_output.yaml', 'samples/tests/data/CSAR/csar_invalid_entry_def.zip'], 'web_link': 'https://opendev.org/openstack/tosca-parser/commit/2a7c2df4bae6a302eb3d3bbb7e512a799ce880ad', 'message': 'Move test samples to reduce setuptools warnings\n\nPreviously there are a lot of warning messages of setuptools\nin the log files of tox jobs. This is mainly caused by test\nsamples because these are in python codes directories.\n\nThis patch moves test samples from under\n{tosca-parser_root}/toscaparser/tests to under\n{tosca-parser_root}/samples/tests.\n\nThis patch also contains the following changes:\n* Removed unused test samples.\n* Fixed usage.rst command example.\n* Changeing unit tests that reference external URL to use mock\n* Mock methods used in unit tests have been made into common methods.\n\nChange-Id: I80ab6ce0b3344f19afb4d16554c799747b1f2567\n'}]",0,914946,2a7c2df4bae6a302eb3d3bbb7e512a799ce880ad,15,5,7,36947,,,0,"Move test samples to reduce setuptools warnings

Previously there are a lot of warning messages of setuptools
in the log files of tox jobs. This is mainly caused by test
samples because these are in python codes directories.

This patch moves test samples from under
{tosca-parser_root}/toscaparser/tests to under
{tosca-parser_root}/samples/tests.

This patch also contains the following changes:
* Removed unused test samples.
* Fixed usage.rst command example.
* Changeing unit tests that reference external URL to use mock
* Mock methods used in unit tests have been made into common methods.

Change-Id: I80ab6ce0b3344f19afb4d16554c799747b1f2567
",git fetch https://review.opendev.org/openstack/tosca-parser refs/changes/46/914946/1 && git format-patch -1 --stdout FETCH_HEAD,"['samples/tests/data/functions/test_get_attribute_host_not_found.yaml', 'samples/tests/data/custom_types/invalid_template_version.yaml', 'samples/tests/data/CSAR/csar_not_zip.zip', 'samples/tests/data/custom_types/template_metadata.yaml', 'toscaparser/tests/data/CSAR/tosca_elk/Scripts/mongodb/create_database.sh', 'samples/tests/data/CSAR/csar_root_yaml_with_tosca_definition1_0.zip', 'samples/tests/data/test_normative_type_properties_override.yaml', 'samples/tests/data/CSAR/csar_valid_multilevel_imports_validation.zip', 'samples/tests/data/artifacts/nodejs/config.sh', 'samples/tests/data/custom_types/custom_relationship_type_defs.yaml', 'samples/tests/data/CSAR/csar_two_root_level_yaml.zip', 'samples/tests/data/artifacts/kibana/start.sh', 'samples/tests/data/CSAR/csar_wordpress_valid_artifact_multi.zip', 'samples/tests/data/custom_types/custom_interface.yaml', 'samples/tests/data/test_import_invalid_template_version.yaml', 'samples/tests/data/artifacts/mysql/mysql_dbms_configure.sh', 'samples/tests/data/CSAR/csar_metadata_not_yaml.zip', 'samples/tests/data/artifacts/rsyslog/create.sh', 'samples/tests/data/policies/custom_definitions.yaml', 'toscaparser/tests/data/groups/definitions.yaml', 'samples/tests/data/custom_types/imported_sample.yaml', 'samples/tests/data/artifacts/nodejs/start.sh', 'toscaparser/tests/data/CSAR/tosca_elk/Definitions/logstash.yaml', 'toscaparser/tests/data/CSAR/tosca_elk/TOSCA-Metadata/TOSCA.meta', 'samples/tests/data/artifacts/collectd/start.sh', 'toscaparser/tests/data/CSAR/tosca_single_instance_wordpress/Scripts/MYSQLDBMS/configure.sh', 'toscaparser/tests/data/CSAR/tosca_elk/Scripts/logstash/create.sh', 'toscaparser/tests/data/CSAR/tosca_elk/Scripts/collectd/start.sh', 'toscaparser/tests/data/CSAR/tosca_elk/Scripts/rsyslog/create.sh', 'toscaparser/tests/test_topology_template.py', 'samples/tests/data/CSAR/root_level_file.yaml', 'toscaparser/tests/spec_samples/v1.0/storage/tosca_blockstorage_with_attachment_notation2.yaml', 'toscaparser/tests/data/CSAR/tosca_single_instance_wordpress/TOSCA-Metadata/TOSCA.meta', 'samples/tests/data/artifacts/elasticsearch/create.sh', 'samples/tests/data/functions/test_get_attribute_nested_data_types.yaml', 'toscaparser/tests/data/CSAR/tosca_elk/Scripts/mongodb/start.sh', 'samples/tests/data/custom_types/elasticsearch.yaml', 'samples/tests/data/functions/test_token.yaml', 'samples/tests/data/test_invalid_template_version.yaml', 'samples/tests/data/custom_types/container_cap_child.yaml', 'toscaparser/tests/data/CSAR/tosca_single_instance_wordpress/Scripts/WebServer/install.sh', 'samples/tests/data/interfaces/test_custom_interface_invalid_operation.yaml', 'toscaparser/tests/test_functions.py', 'samples/tests/data/test_instance_nested_imports.yaml', 'samples/tests/data/custom_types/custom_cap_with_datatype.yaml', 'samples/tests/data/test_tosca_top_level_error1.yaml', 'samples/tests/data/functions/test_concat.yaml', 'samples/tests/data/policies/tosca_policy_template.yaml', 'samples/tests/data/test_custom_caps_def.yaml', 'toscaparser/tests/data/CSAR/tosca_elk/Scripts/rsyslog/start.sh', 'toscaparser/tests/spec_samples/v1.0/network/tosca_one_server_one_network.yaml', 'toscaparser/tests/test_custom_relationships.py', 'samples/tests/data/requirements/test_requirements.yaml', 'toscaparser/tests/spec_samples/v1.0/storage/tosca_blockstorage_with_attachment.yaml', 'toscaparser/tests/spec_samples/v1.0/tosca_nodejs_mongodb_two_instances.yaml', 'toscaparser/tests/test_shell.py', 'samples/tests/data/functions/test_get_prop_cap_host.yaml', 'samples/tests/data/functions/test_concat_invalid.yaml', 'toscaparser/tests/spec_samples/v1.0/tosca_single_server.yaml', 'samples/tests/data/functions/test_get_attribute_illegal_host_in_outputs.yaml', 'samples/tests/data/test_tosca_custom_rel.yaml', 'samples/tests/data/tosca_single_instance_wordpress.yaml', 'toscaparser/tests/data/CSAR/tosca_elk/Scripts/mongodb/config.sh', 'samples/tests/data/functions/test_invalid_function_signature.yaml', 'samples/tests/data/policies/test_tosca_nfv_multiple_policies.yaml', 'samples/tests/data/relationship/test_custom_relationship.yaml', 'toscaparser/tests/test_tosca_nfv_tpl.py', 'samples/tests/data/custom_types/custom_caps_def.yaml', 'samples/tests/data/test_custom_capabilty.yaml', 'samples/tests/data/custom_types/nested_test_wordpress.yaml', 'samples/tests/data/functions/test_get_attribute_custom_data_type.yaml', 'samples/tests/data/custom_types/custom_nested_data_types.yaml', 'samples/tests/data/CSAR/csar_root_level_yaml.zip', 'samples/tests/data/tosca_single_instance_wordpress_with_local_abspath_import.yaml', 'samples/tests/data/artifacts/mysql/mysql_dbms_start.sh', 'samples/tests/data/custom_types/nested_test_kibana.yaml', 'samples/tests/data/artifacts/mongodb/create_database.sh', 'samples/tests/data/topology_template/databasesubsystem.yaml', 'samples/tests/data/CSAR/csar_elk.csar', 'samples/tests/data/artifacts/nodejs/create.sh', 'samples/tests/data/test_nodetype_without_relationship.yaml', 'samples/tests/data/datatypes/test_custom_datatypes_in_current_template.yaml', 'toscaparser/tests/data/CSAR/tosca_elk/Python/logstash/configure_rsyslog.py', 'toscaparser/tests/spec_samples/v1.0/storage/tosca_blockstorage_with_relationship_template.yaml', 'samples/tests/data/datatypes/test_custom_datatypes_nested_datatype_error.yaml', 'samples/tests/data/functions/test_unknown_input_in_property.yaml', 'samples/tests/data/artifacts/mongodb/config.sh', 'samples/tests/data/CSAR/csar_wordpress.zip', 'samples/tests/data/CSAR/tosca_meta_file.yaml', 'samples/tests/data/topology_template/definitions.yaml', 'samples/tests/data/custom_types/kibana.yaml', 'samples/tests/data/policies/tosca_custom_policy_template.yaml', 'toscaparser/tests/test_toscatpl.py', 'toscaparser/tests/data/CSAR/tosca_elk/Scripts/kibana/start.sh', 'toscaparser/tests/test_prereq.py', 'samples/tests/data/CSAR/csar_multiple_deployment_flavour.zip', 'samples/tests/data/functions/test_capabilties_inheritance.yaml', 'samples/tests/data/datatypes/custom_datatype_def.yaml', 'samples/tests/data/tosca_imports_validation.yaml', 'samples/tests/data/topology_template/transactionsubsystem.yaml', 'samples/tests/data/containers/test_container_docker_mysql.yaml', 'samples/tests/data/CSAR/csar_wrong_metadata_file.zip', 'samples/tests/data/artifacts/collectd/config.py', 'samples/tests/data/custom_types/paypalpizzastore_nodejs_app.yaml', 'samples/tests/data/CSAR/csar_hello_world.zip', 'toscaparser/tests/base.py', 'toscaparser/tests/data/CSAR/tosca_single_instance_wordpress/Scripts/MYSQLDatabase/configure.sh', 'toscaparser/tests/test_datatypes.py', 'samples/tests/data/CSAR/csar_no_metadata_file.zip', 'samples/tests/data/functions/test_token_invalid.yaml', 'samples/tests/data/CSAR/csar_root_level_yaml_and_tosca_metadata.zip', 'samples/tests/data/datatypes/test_custom_datatypes_positive.yaml', 'toscaparser/tests/data/CSAR/tosca_elk/Definitions/paypalpizzastore_nodejs_app.yaml', 'samples/tests/data/policies/test_policies_without_required_property.yaml', 'toscaparser/tests/data/CSAR/tosca_elk/Scripts/elasticsearch/start.sh', 'toscaparser/tests/data/CSAR/tosca_elk/Python/collectd/config.py', 'samples/tests/data/custom_types/node_with_cap.yaml', 'samples/tests/data/test_attributes_inheritance.yaml', 'samples/tests/data/topology_template/system.yaml', 'samples/tests/data/test_credential_datatype.yaml', 'samples/tests/data/artifacts/wordpress/wordpress_install.sh', 'samples/tests/data/custom_types/wordpress.yaml', 'toscaparser/tests/spec_samples/v1.0/storage/tosca_multiple_blockstorage_with_attachment.yaml', 'toscaparser/tests/data/CSAR/tosca_single_instance_wordpress/Definitions/wordpress.yaml', 'samples/tests/data/artifacts/logstash/configure_elasticsearch.py', 'samples/tests/data/artifacts/wordpress/wordpress_configure.sh', 'samples/tests/data/CSAR/csar_elk.zip', 'samples/tests/data/tosca_single_instance_wordpress_with_url_import.yaml', 'samples/tests/data/CSAR/csar_wordpress_valid_artifact.zip', 'samples/tests/data/CSAR/csar_wordpress_invalid_import_path.zip', 'toscaparser/tests/data/CSAR/tosca_single_instance_wordpress/Scripts/WordPress/configure.sh', 'samples/tests/data/custom_types/collectd.yaml', 'samples/tests/data/test_long_rel.yaml', 'samples/tests/data/node_filter/test_node_filter.yaml', 'samples/tests/data/functions/test_container_cap_child.yaml', 'samples/tests/data/functions/test_get_attribute_with_index.yaml', 'samples/tests/data/test_no_inputs_in_template.yaml', 'samples/tests/data/extensions/tosca_helloworld_nfv.yaml', 'toscaparser/tests/data/CSAR/tosca_single_instance_wordpress/Scripts/MYSQLDBMS/install.sh', 'samples/tests/data/functions/test_get_attribute_unknown_attribute_name.yaml', 'samples/tests/data/tosca_helloworld.yaml', 'toscaparser/tests/data/CSAR/tosca_elk/Scripts/elasticsearch/create.sh', 'toscaparser/tests/data/CSAR/tosca_elk/Scripts/kibana/config.sh', 'samples/tests/data/custom_types/wordpress.yml', 'toscaparser/tests/spec_samples/v1.0/network/tosca_one_server_three_networks.yaml', 'toscaparser/tests/spec_samples/v1.0/storage/tosca_blockstorage_with_attachment_notation1.yaml', 'samples/tests/data/test_endpoint_on_compute.yaml', 'samples/tests/data/artifacts/elasticsearch/start.sh', 'toscaparser/tests/data/CSAR/tosca_single_instance_wordpress/README.txt', 'samples/tests/data/dsl_definitions/test_nested_dsl_def.yaml', 'samples/tests/data/artifacts/kibana/create.sh', 'samples/tests/data/custom_types/compute_with_prop.yaml', 'samples/tests/data/custom_types/custom_data_type.yaml', 'samples/tests/data/test_tosca_normative_type_by_shortname.yaml', 'toscaparser/tests/data/CSAR/tosca_elk/README.txt', 'toscaparser/tests/data/CSAR/tosca_elk/Definitions/rsyslog.yaml', 'toscaparser/tests/data/CSAR/tosca_single_instance_wordpress/Scripts/WebServer/start.sh', 'samples/tests/data/repositories/tosca_repositories_test_definition.yaml', 'samples/tests/data/artifacts/collectd/create.sh', 'samples/tests/data/custom_types/custom_policy.yaml', 'toscaparser/tests/spec_samples/v1.0/network/tosca_two_servers_one_network.yaml', 'samples/tests/data/policies/tacker_defs.yaml', 'samples/tests/data/artifacts/mongodb/create.sh', 'samples/tests/data/artifacts/logstash/configure_rsyslog.py', 'samples/tests/data/tosca_elk.yaml', 'samples/tests/data/CSAR/csar_relative_path_import_check.zip', 'samples/tests/data/artifacts/rsyslog/start.sh', 'samples/tests/data/test_custom_caps_with_datatype.yaml', 'samples/tests/data/artifacts/webserver/webserver_install.sh', 'samples/tests/data/datatypes/test_custom_datatypes_value_error.yaml', 'samples/tests/data/topology_template/validate/test_substitution_mappings_valid_output.yaml', 'samples/tests/data/artifacts/mysql/mysql_dbms_install.sh', 'samples/tests/data/test_tosca_top_level_error2.yaml', 'samples/tests/data/artifacts/mongodb/start.sh', 'samples/tests/data/topology_template/validate/system_invalid_input.yaml', 'toscaparser/tests/data/CSAR/tosca_elk/Definitions/collectd.yaml', 'samples/tests/data/custom_types/compute_with_attribute_list.yaml', 'samples/tests/data/repositories/test_repositories_definition.yaml', 'samples/tests/data/functions/test_get_attribute_unknown_node_template_name.yaml', 'samples/tests/data/functions/test_get_prop_cap_bool.yaml', 'samples/tests/data/test_invalid_section_names.yaml', 'toscaparser/tests/data/CSAR/tosca_single_instance_wordpress/Definitions/tosca_single_instance_wordpress.yaml', 'samples/tests/data/functions/test_unknown_input_in_interface.yaml', 'samples/tests/data/topology_template/validate/test_substitution_mappings_invalid_output.yaml', 'samples/tests/data/policies/tacker_nfv_defs.yaml', 'toscaparser/tests/data/CSAR/tosca_elk/Definitions/elasticsearch.yaml', 'samples/tests/data/interfaces/test_custom_interface_in_template.yaml', 'samples/tests/data/functions/test_get_attribute_with_index_error.yaml', 'toscaparser/tests/data/CSAR/tosca_elk/Scripts/kibana/create.sh', 'samples/tests/data/functions/test_get_attribute_with_nested_params.yaml', 'toscaparser/tests/data/CSAR/tosca_elk/Scripts/nodejs/start.sh', 'toscaparser/tests/data/CSAR/tosca_single_instance_wordpress/Scripts/MYSQLDBMS/start.sh', 'samples/tests/data/test_capability_without_properties.yaml', 'samples/tests/data/functions/test_get_property_source_target_keywords.yaml', 'samples/tests/data/test_invalid_input_defaults.yaml', 'samples/tests/data/artifacts/logstash/start.sh', 'toscaparser/tests/data/CSAR/tosca_elk/Python/logstash/configure_elasticsearch.py', 'samples/tests/data/artifacts/rsyslog/config.sh', 'samples/tests/data/artifacts/kibana/config.sh', 'toscaparser/tests/data/CSAR/tosca_elk/Scripts/nodejs/config.sh', 'toscaparser/tests/spec_samples/v1.0/network/tosca_server_on_existing_network.yaml', 'samples/tests/data/CSAR/csar_wordpress_invalid_artifact.zip', 'samples/tests/data/functions/test_get_attribute_source_target_keywords.yaml', 'samples/tests/data/artifacts/logstash/create.sh', 'toscaparser/tests/data/CSAR/tosca_elk/Scripts/logstash/start.sh', 'toscaparser/tests/test_toscatplvalidation.py', 'samples/tests/data/topology_template/queuingsubsystem.yaml', 'toscaparser/tests/data/CSAR/tosca_elk/Scripts/collectd/create.sh', 'toscaparser/tests/spec_samples/v1.0/storage/tosca_blockstorage_with_custom_relationship_type.yaml', 'samples/tests/data/CSAR/csar_wordpress_invalid_import_url.zip', 'samples/tests/data/functions/test_get_implicit_attribute.yaml', 'samples/tests/data/artifacts/webserver/webserver_start.sh', 'toscaparser/tests/data/CSAR/tosca_elk/Definitions/kibana.yaml', 'toscaparser/tests/data/CSAR/tosca_elk/Scripts/rsyslog/config.sh', 'toscaparser/tests/data/CSAR/tosca_elk/Definitions/tosca_elk.yaml', 'toscaparser/tests/spec_samples/v1.0/storage/tosca_single_object_store.yaml', 'toscaparser/tests/extensions/nfv/__init__.py', 'samples/tests/data/CSAR/csar_wordpress_invalid_script_path.zip', 'samples/tests/data/artifacts/mysql/mysql_database_configure.sh', 'samples/tests/data/CSAR/csar_wordpress_invalid_script_url.zip', 'samples/tests/data/custom_types/db_with_list_param.yaml', 'samples/tests/data/CSAR/csar_wordpress_with_url_import_and_script.zip', 'samples/tests/data/topology_template/validate/queuingsubsystem_invalid_input.yaml', 'samples/tests/data/CSAR/csar_wordpress_invalid_artifact_multi.zip', 'toscaparser/tests/data/CSAR/tosca_elk/Python/logstash/configure_collectd.py', 'samples/tests/data/artifacts/logstash/configure_collectd.py', 'samples/tests/data/test_tosca_custom_rel_with_script.yaml', 'samples/tests/data/topology_template/validate/test_example_app_substitution_mappings.yaml', 'toscaparser/tests/data/load_balancer/tosca_load_balancer.yaml', 'samples/tests/data/custom_types/nested_rsyslog.yaml', 'samples/tests/data/CSAR/multi_level_imports_response.yaml', 'toscaparser/tests/data/CSAR/tosca_elk/Scripts/mongodb/create.sh', 'samples/tests/data/functions/tosca_nested_property_names_indexes.yaml', 'samples/tests/data/custom_types/rsyslog.yaml', 'samples/tests/data/custom_types/logstash.yaml', 'samples/tests/data/functions/test_unknown_capability_property.yaml', 'samples/tests/data/test_multiple_validation_errors.yaml', 'samples/tests/data/functions/test_get_attribute_host_keyword.yaml', 'samples/tests/data/test_available_rel_tpls.yaml', 'samples/tests/data/test_scalar_unit_without_unit.yaml', 'toscaparser/tests/data/groups/tosca_group_template.yaml', 'samples/tests/data/CSAR/csar_invalid_multilevel_imports_validation.zip', 'samples/tests/data/topology_template/definitions_1_2.yaml', 'toscaparser/tests/data/CSAR/tosca_elk/Scripts/nodejs/create.sh', 'toscaparser/tests/data/CSAR/tosca_single_instance_wordpress/Scripts/WordPress/install.sh', 'samples/tests/data/CSAR/csar_missing_metadata.zip', 'samples/tests/data/datatypes/test_datatype_portspec_add_req.yaml', 'samples/tests/data/custom_types/custom_cap.yaml', 'samples/tests/data/functions/test_get_property_with_host.yaml', 'samples/tests/data/test_no_outputs_in_template.yaml', 'samples/tests/data/test_import_metadata.yml', 'samples/tests/data/custom_types/compute_with_nested_atributes.yaml', 'samples/tests/data/tosca_test_get_operation_output.yaml', 'samples/tests/data/CSAR/csar_invalid_entry_def.zip']",254,e67ee2b16b295d41ab8bb0d86cb8b5b6b62fe8e7,reduce-warn,,,121,2014
openstack%2Ftelemetry-tempest-plugin~921410,openstack/telemetry-tempest-plugin,master,I7f88a29a296b213851e4987557903192938f31e4,Cleanup leftover stacks.,NEW,2024-06-05 20:37:23.000000000,2024-06-13 05:44:53.000000000,,"[{'_account_id': 4264}, {'_account_id': 5202}, {'_account_id': 22348}, {'_account_id': 32240}]","[{'number': 1, 'created': '2024-06-05 20:37:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/2496d69a073a9417dff76b1b03ffdfe9e8d9d580', 'message': ""Cleanup leftover stacks.\n\nWhen the autoscaling scenario fails, gabbi doesn't execute the\nrest of the steps in the scenario. This means the stack\nused for the autoscaling test doesn't get deleted. The tempest\ntearDown isn't able to delete the stack, which means we get\nadditional errors from the tearDown.\n\nThis patch adds a code which runs before the tearDown. It checks\nif there is a stack running and it deletes it if necessary.\n\nChange-Id: I7f88a29a296b213851e4987557903192938f31e4\n""}, {'number': 2, 'created': '2024-06-07 12:23:23.000000000', 'files': ['telemetry_tempest_plugin/scenario/test_telemetry_integration_prometheus.py', 'telemetry_tempest_plugin/scenario/test_telemetry_integration.py'], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/b33ad02061238f1026a605bea8593eca2c1dc923', 'message': ""Cleanup leftover stacks.\n\nWhen the autoscaling scenario fails, gabbi doesn't execute the\nrest of the steps in the scenario. This means the stack\nused for the autoscaling test doesn't get deleted. The tempest\ntearDown isn't able to delete the stack, which means we get\nadditional errors from the tearDown.\n\nThis patch adds a code which runs before the tearDown. It checks\nif there is a stack running and it deletes it if necessary.\n\nChange-Id: I7f88a29a296b213851e4987557903192938f31e4\n""}]",9,921410,b33ad02061238f1026a605bea8593eca2c1dc923,15,4,2,34975,,,0,"Cleanup leftover stacks.

When the autoscaling scenario fails, gabbi doesn't execute the
rest of the steps in the scenario. This means the stack
used for the autoscaling test doesn't get deleted. The tempest
tearDown isn't able to delete the stack, which means we get
additional errors from the tearDown.

This patch adds a code which runs before the tearDown. It checks
if there is a stack running and it deletes it if necessary.

Change-Id: I7f88a29a296b213851e4987557903192938f31e4
",git fetch https://review.opendev.org/openstack/telemetry-tempest-plugin refs/changes/10/921410/1 && git format-patch -1 --stdout FETCH_HEAD,"['telemetry_tempest_plugin/scenario/test_telemetry_integration_prometheus.py', 'telemetry_tempest_plugin/scenario/test_telemetry_integration.py']",2,2496d69a073a9417dff76b1b03ffdfe9e8d9d580,cleanup_stack,"import requests import time @classmethod def resource_cleanup(cls): headers = {'X-Auth-Token': cls.os_primary.auth_provider.get_auth()[0]} r = requests.get(os.environ['HEAT_SERVICE_URL'] + ""/stacks"", headers=headers) if r.status_code == 200 and \ ""stacks"" in r.json() and \ len(r.json()[""stacks""]) > 0: stack = r.json()[""stacks""][0] stack_url = (f'{os.environ[""HEAT_SERVICE_URL""]}/stacks/' f'{stack[""stack_name""]}/{stack[""id""]}') requests.delete(stack_url, headers=headers) repeats = 0 r = requests.get(stack_url, headers=headers) while r.json()[""stack""][""stack_status""] == \ ""DELETE_IN_PROGRESS"" and repeats < 30: time.sleep(2) r = requests.get(stack_url, headers=headers) repeats += 1 super(TestTelemetryIntegration, cls).resource_cleanup() ",,52,0
openstack%2Fneutron~921788,openstack/neutron,unmaintained/yoga,I83ec349e49e1f343da8996cab149d76443120873,"Revert ""Use HasStandardAttributes as parent class for Tags DB model""",NEW,2024-06-11 18:16:49.000000000,2024-06-13 04:01:27.000000000,,"[{'_account_id': 9656}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-11 18:16:49.000000000', 'files': ['neutron/db/models/tag.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f15f458861a9a2fbe763e2833c94f29d4b7b80ee', 'message': 'Revert ""Use HasStandardAttributes as parent class for Tags DB model""\n\nThis reverts commit 85d3fff97e55ba85f72cda4365ad0441c10bd9f6.\n\nReason for revert:\nThe original change was made as a “cheap win” to optimize the number\nof queries the neutron server makes during testing. This did\nimprove the number of queries made but introduced regression in\nreal world deployments where some customers(through automation)\nwould define hundreds of tags per port across a large deployment.\nI am proposing to revert this change in favor of the old “subquery”\nrelation in order to fix this regression. In addition, I filed the\nRelated-Bug #2069061 to investigate using `selectin` as the more\nappropriate long term solution.\n\nChange-Id: I83ec349e49e1f343da8996cab149d76443120873\nCloses-Bug: #2068761\nRelated-Bug: #2069061\n'}]",1,921788,f15f458861a9a2fbe763e2833c94f29d4b7b80ee,8,3,1,34271,,,0,"Revert ""Use HasStandardAttributes as parent class for Tags DB model""

This reverts commit 85d3fff97e55ba85f72cda4365ad0441c10bd9f6.

Reason for revert:
The original change was made as a “cheap win” to optimize the number
of queries the neutron server makes during testing. This did
improve the number of queries made but introduced regression in
real world deployments where some customers(through automation)
would define hundreds of tags per port across a large deployment.
I am proposing to revert this change in favor of the old “subquery”
relation in order to fix this regression. In addition, I filed the
Related-Bug #2069061 to investigate using `selectin` as the more
appropriate long term solution.

Change-Id: I83ec349e49e1f343da8996cab149d76443120873
Closes-Bug: #2068761
Related-Bug: #2069061
",git fetch https://review.opendev.org/openstack/neutron refs/changes/88/921788/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/models/tag.py'],1,f15f458861a9a2fbe763e2833c94f29d4b7b80ee,sql-profiling-revert," backref=orm.backref('tags', lazy='subquery', viewonly=True),"," backref=orm.backref('tags', lazy='joined', viewonly=True),",1,1
openstack%2Fswift~921664,openstack/swift,master,I1d11b2974de8649a111f2462a8fef51039e35d7f,add object-count quota for accounts in middleware,NEW,2024-06-10 13:11:25.000000000,2024-06-13 04:00:39.000000000,,"[{'_account_id': 7233}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-10 13:11:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/90c12f8dd0693fab99dbd8a635b0eb2fb3420a45', 'message': 'add object-count quota for accounts in middleware\n\nIt is currently possible to configure ""X-Container-Meta-Quota-Bytes""\nand ""X-Container-Meta-Quota-Count"" on containers, as well as\n""X-Account-Meta-Quota-Bytes"" on accounts. However, there is no way\nto configure an account quota limit for the number of files or\n""quota-count"". This limitation could potentially allow a user to\nexhaust filesystem inodes.\n\nThis change introduces the ""X-Account-Meta-Quota-Count"" header,\nallowing users with the ResellerAdmin role to add a quota-count\nlimit on accounts. The middleware will enforce this limit similarly\nto the existing quota-byte limit.\n\nCo-authored-by: Azmain Adib <adib1905@gmail.com>\nCo-authored-by: Daanish Khan <daanish1337@gmail.com>\nCo-authored-by: Mohamed Hassaneen <mohammedashoor89@gmail.com>\nCo-authored-by: Nada El-Mestkawy <nadamaged05@gmail.com>\nCo-authored-by: Tra Bui <trabui.0517@gmail.com>\n\nChange-Id: I1d11b2974de8649a111f2462a8fef51039e35d7f\n'}, {'number': 2, 'created': '2024-06-11 14:20:34.000000000', 'files': ['swift/common/middleware/account_quotas.py', 'test/unit/common/middleware/test_account_quotas.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/96010b6ffc2f7c29c6ed415d9501444adcef359e', 'message': 'add object-count quota for accounts in middleware\n\nIt is currently possible to configure ""X-Container-Meta-Quota-Bytes""\nand ""X-Container-Meta-Quota-Count"" on containers, as well as\n""X-Account-Meta-Quota-Bytes"" on accounts. However, there is no way\nto configure an account quota limit for the number of files or\n""quota-count"". This limitation could potentially allow a user to\nexhaust filesystem inodes.\n\nThis change introduces the ""X-Account-Meta-Quota-Count"" header,\nallowing users with the ResellerAdmin role to add a quota-count\nlimit on accounts. The middleware will enforce this limit similarly\nto the existing quota-byte limit.\n\nCo-authored-by: Azmain Adib <adib1905@gmail.com>\nCo-authored-by: Daanish Khan <daanish1337@gmail.com>\nCo-authored-by: Mohamed Hassaneen <mohammedashoor89@gmail.com>\nCo-authored-by: Nada El-Mestkawy <nadamaged05@gmail.com>\nCo-authored-by: Tra Bui <trabui.0517@gmail.com>\n\nChange-Id: I1d11b2974de8649a111f2462a8fef51039e35d7f\n'}]",13,921664,96010b6ffc2f7c29c6ed415d9501444adcef359e,12,3,2,37027,,,0,"add object-count quota for accounts in middleware

It is currently possible to configure ""X-Container-Meta-Quota-Bytes""
and ""X-Container-Meta-Quota-Count"" on containers, as well as
""X-Account-Meta-Quota-Bytes"" on accounts. However, there is no way
to configure an account quota limit for the number of files or
""quota-count"". This limitation could potentially allow a user to
exhaust filesystem inodes.

This change introduces the ""X-Account-Meta-Quota-Count"" header,
allowing users with the ResellerAdmin role to add a quota-count
limit on accounts. The middleware will enforce this limit similarly
to the existing quota-byte limit.

Co-authored-by: Azmain Adib <adib1905@gmail.com>
Co-authored-by: Daanish Khan <daanish1337@gmail.com>
Co-authored-by: Mohamed Hassaneen <mohammedashoor89@gmail.com>
Co-authored-by: Nada El-Mestkawy <nadamaged05@gmail.com>
Co-authored-by: Tra Bui <trabui.0517@gmail.com>

Change-Id: I1d11b2974de8649a111f2462a8fef51039e35d7f
",git fetch https://review.opendev.org/openstack/swift refs/changes/64/921664/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/account_quotas.py', 'test/unit/common/middleware/test_account_quotas.py']",2,90c12f8dd0693fab99dbd8a635b0eb2fb3420a45,account-quota-files," def test_obj_request_ignores_attempt_to_set_count_quotas(self): # If you try to set X-Account-Meta-* on an object, it's ignored, so # the quota middleware shouldn't complain about it even if we're not a # reseller admin. app = account_quotas.AccountQuotaMiddleware(self.app) cache = FakeCache(None) req = Request.blank('/v1/a/c/o', headers={'X-Account-Meta-Quota-Count': '99999'}, environ={'REQUEST_METHOD': 'PUT', 'swift.cache': cache}) res = req.get_response(app) self.assertEqual(res.status_int, 200) def test_container_request_ignores_attempt_to_set_count_quotas(self): # As with an object, if you try to set X-Account-Meta-* on a # container, it's ignored. self.app.register('PUT', '/v1/a/c', HTTPOk, {}) app = account_quotas.AccountQuotaMiddleware(self.app) cache = FakeCache(None) req = Request.blank('/v1/a/c', headers={'X-Account-Meta-Quota-Count': '99999'}, environ={'REQUEST_METHOD': 'PUT', 'swift.cache': cache}) res = req.get_response(app) self.assertEqual(res.status_int, 200) def test_bogus_count_quota_is_ignored(self): # This can happen if the metadata was set by a user prior to the # activation of the account-quota middleware self.app.register('HEAD', '/v1/a', HTTPOk, { 'x-account-bytes-used': '1000', 'x-account-meta-quota-count': 'pasty-plastogene'}) app = account_quotas.AccountQuotaMiddleware(self.app) cache = FakeCache(None) req = Request.blank('/v1/a/c/o', environ={'REQUEST_METHOD': 'PUT', 'swift.cache': cache}) res = req.get_response(app) self.assertEqual(res.status_int, 200) def test_exceed_count_quota(self): self.app.register('HEAD', '/v1/a', HTTPOk, { 'x-account-object-count': '10', 'x-account-meta-quota-count': '10'}) app = account_quotas.AccountQuotaMiddleware(self.app) cache = FakeCache(None) req = Request.blank('/v1/a/c/o', environ={'REQUEST_METHOD': 'PUT', 'swift.cache': cache}) res = req.get_response(app) self.assertEqual(res.status_int, 413) self.assertEqual(res.body, b'Upload exceeds quota.') def test_exceed_quota_count_not_authorized(self): self.app.register('HEAD', '/v1/a', HTTPOk, { 'x-account-meta-quota-count': '0'}) app = FakeAuthFilter(account_quotas.AccountQuotaMiddleware(self.app)) cache = FakeCache(None) req = Request.blank('/v1/a/c/o', method='PUT', headers={'x-auth-token': 'bad-secret'}, environ={'swift.cache': cache}) res = req.get_response(app) self.assertEqual(res.status_int, 403) def test_exceed_count_quota_authorized(self): self.app.register('HEAD', '/v1/a', HTTPOk, { 'x-account-meta-quota-count': '0'}) app = FakeAuthFilter(account_quotas.AccountQuotaMiddleware(self.app)) cache = FakeCache(None) req = Request.blank('/v1/a/c/o', method='PUT', headers={'x-auth-token': 'secret'}, environ={'swift.cache': cache}) res = req.get_response(app) self.assertEqual(res.status_int, 413) def test_under_quota_count_not_authorized(self): self.app.register('HEAD', '/v1/a', HTTPOk, { 'x-account-object-count': '0', 'x-account-meta-quota-count': '5'}) app = FakeAuthFilter(account_quotas.AccountQuotaMiddleware(self.app)) cache = FakeCache(None) req = Request.blank('/v1/a/c/o', method='PUT', headers={'x-auth-token': 'bad-secret'}, environ={'swift.cache': cache}) res = req.get_response(app) self.assertEqual(res.status_int, 403) def test_under_quota_count_authorized(self): self.app.register('HEAD', '/v1/a', HTTPOk, { 'x-account-object-count': '0', 'x-account-meta-quota-count': '5'}) app = FakeAuthFilter(account_quotas.AccountQuotaMiddleware(self.app)) cache = FakeCache(None) req = Request.blank('/v1/a/c/o', method='PUT', headers={'x-auth-token': 'secret'}, environ={'swift.cache': cache}) res = req.get_response(app) self.assertEqual(res.status_int, 200) def test_exceed_quota_count_on_empty_account_not_authorized(self): self.app.register('HEAD', '/v1/a', HTTPOk, { 'x-account-object-count': '0', 'x-account-meta-quota-count': '0'}) app = FakeAuthFilter(account_quotas.AccountQuotaMiddleware(self.app)) cache = FakeCache(None) req = Request.blank('/v1/a/c/o', method='PUT', headers={'x-auth-token': 'secret'}, environ={'swift.cache': cache}) res = req.get_response(app) self.assertEqual(res.status_int, 413) self.assertEqual(res.body, b'Upload exceeds quota.') def test_exceed_quota_count_authorized(self): self.app.register('HEAD', '/v1/a', HTTPOk, { 'x-account-object-count': '5', 'x-account-meta-quota-count': '5'}) app = FakeAuthFilter(account_quotas.AccountQuotaMiddleware(self.app)) cache = FakeCache(None) req = Request.blank('/v1/a/c/o', method='PUT', headers={'x-auth-token': 'secret'}, environ={'swift.cache': cache}) res = req.get_response(app) self.assertEqual(res.status_int, 413) self.assertEqual(res.body, b'Upload exceeds quota.') def test_over_quota_count_container_create_still_works(self): self.app.register('HEAD', '/v1/a', HTTPOk, { 'x-account-object-count': '6', 'x-account-meta-quota-count': '5'}) self.app.register('PUT', '/v1/a/new_container', HTTPOk, {}) app = account_quotas.AccountQuotaMiddleware(self.app) cache = FakeCache(None) req = Request.blank('/v1/a/new_container', environ={'REQUEST_METHOD': 'PUT', 'HTTP_X_CONTAINER_META_BERT': 'ernie', 'swift.cache': cache}) res = req.get_response(app) self.assertEqual(res.status_int, 200) def test_over_quota_count_container_post_still_works(self): self.app.register('HEAD', '/v1/a', HTTPOk, { 'x-account-quota-count': '6', 'x-account-meta-quota-count': '5'}) self.app.register('POST', '/v1/a/new_container', HTTPOk, {}) app = account_quotas.AccountQuotaMiddleware(self.app) cache = FakeCache(None) req = Request.blank('/v1/a/new_container', environ={'REQUEST_METHOD': 'POST', 'HTTP_X_CONTAINER_META_BERT': 'ernie', 'swift.cache': cache}) res = req.get_response(app) self.assertEqual(res.status_int, 200) def test_over_count_quota_obj_post_still_works(self): self.app.register('HEAD', '/v1/a', HTTPOk, { 'x-account-object-count': '101', 'x-account-meta-quota-count': '100'}) self.app.register('POST', '/v1/a/c/o', HTTPOk, {}) app = account_quotas.AccountQuotaMiddleware(self.app) cache = FakeCache(None) req = Request.blank('/v1/a/c/o', environ={'REQUEST_METHOD': 'POST', 'HTTP_X_OBJECT_META_BERT': 'ernie', 'swift.cache': cache}) res = req.get_response(app) self.assertEqual(res.status_int, 200) def test_exceed_count_quota_reseller(self): self.app.register('HEAD', '/v1/a', HTTPOk, { 'x-account-object-count': '1000', 'x-account-meta-quota-count': '0'}) self.app.register('PUT', '/v1/a', HTTPOk, {}) app = account_quotas.AccountQuotaMiddleware(self.app) cache = FakeCache(None) req = Request.blank('/v1/a', environ={'REQUEST_METHOD': 'PUT', 'swift.cache': cache, 'reseller_request': True}) res = req.get_response(app) self.assertEqual(res.status_int, 200) def test_exceed_count_quota_reseller_copy_from(self): self.app.register('HEAD', '/v1/a', HTTPOk, { 'x-account-object-count': '10', 'x-account-meta-quota-count': '10'}) self.app.register('GET', '/v1/a/c2/o2', HTTPOk, { 'content-length': '1000'}, b'a' * 1000) app = copy.filter_factory({})( account_quotas.AccountQuotaMiddleware(self.app)) cache = FakeCache(None) req = Request.blank('/v1/a/c/o', environ={'REQUEST_METHOD': 'PUT', 'swift.cache': cache, 'reseller_request': True}, headers={'x-copy-from': 'c2/o2'}) res = req.get_response(app) self.assertEqual(res.status_int, 200) def test_exceed_count_quota_reseller_copy_verb(self): self.app.register('HEAD', '/v1/a', HTTPOk, { 'x-account-object-count': '99', 'x-account-meta-quota-count': '100'}) self.app.register('GET', '/v1/a/c2/o2', HTTPOk, { 'content-length': '1000'}, b'a' * 1000) app = copy.filter_factory({})( account_quotas.AccountQuotaMiddleware(self.app)) cache = FakeCache(None) req = Request.blank('/v1/a/c2/o2', environ={'REQUEST_METHOD': 'COPY', 'swift.cache': cache, 'reseller_request': True}, headers={'Destination': 'c/o'}) res = req.get_response(app) self.assertEqual(res.status_int, 200) def test_not_exceed_count_quota(self): self.app.register('HEAD', '/v1/a', HTTPOk, { 'x-account-object-count': '10', 'x-account-meta-quota-count': '20'}) app = account_quotas.AccountQuotaMiddleware(self.app) cache = FakeCache(None) req = Request.blank('/v1/a/c/o', environ={'REQUEST_METHOD': 'PUT', 'swift.cache': cache}) res = req.get_response(app) self.assertEqual(res.status_int, 200) def test_invalid_count_quotas_on_object(self): app = account_quotas.AccountQuotaMiddleware(self.app) cache = FakeCache(None) req = Request.blank('/v1/a', environ={'REQUEST_METHOD': 'POST', 'swift.cache': cache, 'HTTP_X_ACCOUNT_META_QUOTA_COUNT': 'abc', 'reseller_request': True}) res = req.get_response(app) self.assertEqual(res.status_int, 400) self.assertEqual(self.app.calls, []) def test_valid_count_quotas_admin(self): app = account_quotas.AccountQuotaMiddleware(self.app) cache = FakeCache(None) req = Request.blank('/v1/a', environ={'REQUEST_METHOD': 'POST', 'swift.cache': cache, 'HTTP_X_ACCOUNT_META_QUOTA_COUNT': '100'}) res = req.get_response(app) self.assertEqual(res.status_int, 403) self.assertEqual(self.app.calls, []) @patch_policies def test_valid_policy_count_quota_admin(self): app = account_quotas.AccountQuotaMiddleware(self.app) cache = FakeCache(None) req = Request.blank('/v1/a', environ={ 'REQUEST_METHOD': 'POST', 'swift.cache': cache, 'HTTP_X_ACCOUNT_QUOTA_COUNT_POLICY_UNU': '100'}) res = req.get_response(app) self.assertEqual(res.status_int, 403) self.assertEqual(self.app.calls, []) def test_valid_count_quota_reseller(self): app = account_quotas.AccountQuotaMiddleware(self.app) cache = FakeCache(None) req = Request.blank('/v1/a', environ={'REQUEST_METHOD': 'POST', 'swift.cache': cache, 'HTTP_X_ACCOUNT_META_QUOTA_COUNT': '100', 'reseller_request': True}) res = req.get_response(app) self.assertEqual(res.status_int, 200) self.assertEqual(self.app.calls_with_headers, [ ('POST', '/v1/a', {'Host': 'localhost:80', 'X-Account-Meta-Quota-Count': '100'})]) @patch_policies def test_valid_policy_count_quota_reseller(self): app = account_quotas.AccountQuotaMiddleware(self.app) cache = FakeCache(None) req = Request.blank('/v1/a', environ={ 'REQUEST_METHOD': 'POST', 'swift.cache': cache, 'HTTP_X_ACCOUNT_QUOTA_COUNT_POLICY_NULO': '100', 'reseller_request': True}) res = req.get_response(app) self.assertEqual(res.status_int, 200) self.assertEqual(self.app.calls_with_headers, [ ('POST', '/v1/a', { 'Host': 'localhost:80', 'X-Account-Sysmeta-Quota-Count-Policy-0': '100'})]) def test_delete_count_quotas(self): app = account_quotas.AccountQuotaMiddleware(self.app) cache = FakeCache(None) req = Request.blank('/v1/a', environ={'REQUEST_METHOD': 'POST', 'swift.cache': cache, 'HTTP_X_ACCOUNT_META_QUOTA_COUNT': ''}) res = req.get_response(app) self.assertEqual(res.status_int, 403) def test_delete_count_quotas_with_remove_header(self): app = account_quotas.AccountQuotaMiddleware(self.app) cache = FakeCache(None) req = Request.blank('/v1/a', environ={ 'REQUEST_METHOD': 'POST', 'swift.cache': cache, 'HTTP_X_REMOVE_ACCOUNT_META_QUOTA_COUNT': 'True'}) res = req.get_response(app) self.assertEqual(res.status_int, 403) def test_delete_count_quotas_reseller(self): app = account_quotas.AccountQuotaMiddleware(self.app) req = Request.blank('/v1/a', environ={'REQUEST_METHOD': 'POST', 'HTTP_X_ACCOUNT_META_QUOTA_COUNT': '', 'reseller_request': True}) res = req.get_response(app) self.assertEqual(res.status_int, 200) def test_delete_count_quotas_with_remove_header_reseller(self): app = account_quotas.AccountQuotaMiddleware(self.app) cache = FakeCache(None) req = Request.blank('/v1/a', environ={ 'REQUEST_METHOD': 'POST', 'swift.cache': cache, 'HTTP_X_REMOVE_ACCOUNT_META_QUOTA_COUNT': 'True', 'reseller_request': True}) res = req.get_response(app) self.assertEqual(res.status_int, 200) def test_exceed_bytes_count_quota_copy_from(self): self.headers[:] = [('x-account-object-count', '5'), ('x-account-meta-quota-count', '5')] cache = FakeCache(None) req = Request.blank('/v1/a/c/o', environ={'REQUEST_METHOD': 'PUT', 'swift.cache': cache}, headers={'x-copy-from': '/c2/o2'}) res = req.get_response(self.copy_filter) self.assertEqual(res.status_int, 413) self.assertEqual(res.body, b'Upload exceeds quota.') def test_exceed_bytes_count_quota_copy_verb(self): self.headers[:] = [('x-account-object-count', '5'), ('x-account-meta-quota-count', '5')] cache = FakeCache(None) req = Request.blank('/v1/a/c2/o2', environ={'REQUEST_METHOD': 'COPY', 'swift.cache': cache}, headers={'Destination': '/c/o'}) res = req.get_response(self.copy_filter) self.assertEqual(res.status_int, 413) self.assertEqual(res.body, b'Upload exceeds quota.') def test_not_exceed_bytes_count_quota_copy_from(self): self.app.register('PUT', '/v1/a/c/o', HTTPOk, {}) self.headers[:] = [('x-account-object-count', '5'), ('x-account-meta-quota-count', '6')] cache = FakeCache(None) req = Request.blank('/v1/a/c/o', environ={'REQUEST_METHOD': 'PUT', 'swift.cache': cache}, headers={'x-copy-from': '/c2/o2'}) res = req.get_response(self.copy_filter) self.assertEqual(res.status_int, 200) def test_not_exceed_bytes_count_quota_copy_verb(self): self.app.register('PUT', '/v1/a/c/o', HTTPOk, {}) self.headers[:] = [('x-account-object-count', '5'), ('x-account-meta-quota-count', '6')] cache = FakeCache(None) req = Request.blank('/v1/a/c2/o2', environ={'REQUEST_METHOD': 'COPY', 'swift.cache': cache}, headers={'Destination': '/c/o'}) res = req.get_response(self.copy_filter) self.assertEqual(res.status_int, 200) def test_count_quota_copy_from_bad_src(self): self.headers[:] = [('x-account-object-count', '0'), ('x-account-meta-quota-count', '1')] cache = FakeCache(None) req = Request.blank('/v1/a/c/o', environ={'REQUEST_METHOD': 'PUT', 'swift.cache': cache}, headers={'x-copy-from': 'bad_path'}) res = req.get_response(self.copy_filter) self.assertEqual(res.status_int, 412) self.headers[:] = [('x-account-object-count', '1'), ('x-account-meta-quota-count', '0')] res = req.get_response(self.copy_filter) self.assertEqual(res.status_int, 412) ",,487,33
openstack%2Fcharm-mysql-router~921906,openstack/charm-mysql-router,stable/focal,Ic28f0406eb8d5dbd9131ae83090498297ac48c31,Fixing broken mysql-router configuration,ABANDONED,2024-06-13 03:35:02.000000000,2024-06-13 03:41:46.000000000,,[{'_account_id': 20648}],"[{'number': 1, 'created': '2024-06-13 03:35:02.000000000', 'files': ['src/lib/charm/openstack/mysql_router.py', 'unit_tests/test_mysql_router_handlers.py', 'unit_tests/test_lib_charm_openstack_mysql_router.py', 'src/reactive/mysql_router_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/710a6dead7ef77259e587c6d6501fee9d0a0b624', 'message': ""Fixing broken mysql-router configuration\n\nA customer faced an issue when they face full disk. Mysql router configuration file was broken. As this charm doesn't handle whole configuration file, charm wrote just part of them based on template. so re-bootstrapping is needed when this symptom happens.\n\nTo do that, I put code to check configuration file size, and if it is under 1000bytes, run bootstrap.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1218\nCloses-Bug: #2004088\nChange-Id: Ic28f0406eb8d5dbd9131ae83090498297ac48c31\n(cherry picked from commit d334665b2d8bb113223508f348d053020e8c860c)\n""}]",0,921906,710a6dead7ef77259e587c6d6501fee9d0a0b624,3,1,1,5112,,,0,"Fixing broken mysql-router configuration

A customer faced an issue when they face full disk. Mysql router configuration file was broken. As this charm doesn't handle whole configuration file, charm wrote just part of them based on template. so re-bootstrapping is needed when this symptom happens.

To do that, I put code to check configuration file size, and if it is under 1000bytes, run bootstrap.

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1218
Closes-Bug: #2004088
Change-Id: Ic28f0406eb8d5dbd9131ae83090498297ac48c31
(cherry picked from commit d334665b2d8bb113223508f348d053020e8c860c)
",git fetch https://review.opendev.org/openstack/charm-mysql-router refs/changes/06/921906/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/lib/charm/openstack/mysql_router.py', 'unit_tests/test_mysql_router_handlers.py', 'unit_tests/test_lib_charm_openstack_mysql_router.py', 'src/reactive/mysql_router_handlers.py']",4,710a6dead7ef77259e587c6d6501fee9d0a0b624,fixing_broken_conf-stable/jammy-stable/focal," instance.validate_configuration()<<<<<<< HEAD (89f245 21.10 - Release) ======= @reactive.hook('stop') def stop_charm(): """"""When the charm is stopped, i.e. before the unit is deprovisioned, do some cleanup. """""" with charm.provide_charm_instance() as instance: instance.stop_mysqlrouter() instance.config_cleanup() @reactive.hook('update-status') def update_status(): with charm.provide_charm_instance() as instance: instance.validate_configuration() instance.assess_status() >>>>>>> CHANGE (d9af34 Fixing broken mysql-router configuration)"," 'update-status',",115,5
openstack%2Fcharm-mysql-router~921907,openstack/charm-mysql-router,stable/21.10,Ic28f0406eb8d5dbd9131ae83090498297ac48c31,Fixing broken mysql-router configuration,ABANDONED,2024-06-13 03:39:40.000000000,2024-06-13 03:40:23.000000000,,[{'_account_id': 20648}],"[{'number': 1, 'created': '2024-06-13 03:39:40.000000000', 'files': ['src/lib/charm/openstack/mysql_router.py', 'unit_tests/test_mysql_router_handlers.py', 'unit_tests/test_lib_charm_openstack_mysql_router.py', 'src/reactive/mysql_router_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/2e88d3eb3b2729bf4ecf8f1f0150bea4939a045f', 'message': ""Fixing broken mysql-router configuration\n\nA customer faced an issue when they face full disk. Mysql router configuration file was broken. As this charm doesn't handle whole configuration file, charm wrote just part of them based on template. so re-bootstrapping is needed when this symptom happens.\n\nTo do that, I put code to check configuration file size, and if it is under 1000bytes, run bootstrap.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1218\nCloses-Bug: #2004088\nChange-Id: Ic28f0406eb8d5dbd9131ae83090498297ac48c31\n(cherry picked from commit d334665b2d8bb113223508f348d053020e8c860c)\n""}]",0,921907,2e88d3eb3b2729bf4ecf8f1f0150bea4939a045f,3,1,1,5112,,,0,"Fixing broken mysql-router configuration

A customer faced an issue when they face full disk. Mysql router configuration file was broken. As this charm doesn't handle whole configuration file, charm wrote just part of them based on template. so re-bootstrapping is needed when this symptom happens.

To do that, I put code to check configuration file size, and if it is under 1000bytes, run bootstrap.

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1218
Closes-Bug: #2004088
Change-Id: Ic28f0406eb8d5dbd9131ae83090498297ac48c31
(cherry picked from commit d334665b2d8bb113223508f348d053020e8c860c)
",git fetch https://review.opendev.org/openstack/charm-mysql-router refs/changes/07/921907/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/lib/charm/openstack/mysql_router.py', 'unit_tests/test_mysql_router_handlers.py', 'unit_tests/test_lib_charm_openstack_mysql_router.py', 'src/reactive/mysql_router_handlers.py']",4,2e88d3eb3b2729bf4ecf8f1f0150bea4939a045f,config_fail_focal, instance.validate_configuration() @reactive.hook('update-status') def update_status(): with charm.provide_charm_instance() as instance: instance.validate_configuration() instance.assess_status()," 'update-status',",96,5
openstack%2Fcharm-heat~920422,openstack/charm-heat,master,Ic611b68f35a36489673e3430dd1abbd5aa752fa7,Add keystone audit middleware API logging,MERGED,2024-05-24 22:49:41.000000000,2024-06-13 03:29:09.000000000,2024-06-13 03:29:09.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-24 22:49:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/69035dfa61d0566970a793cec8f72d8724871b8b', 'message': ""Add keystone audit middleware API logging\n\nThis commit adds Keystone audit middleware API logging to the Heat\ncharm in versions Yoga and newer to allow users to configure their\nenvironment for CADF compliance. This feature can be enabled/disabled\nand is set to 'disabled' by default to avoid bloat in log files.\nThe logging output is configured to /var/log/heat/heat-api.log.\nThis commit builds on previous discussions:\nhttps://github.com/juju/charm-helpers/pull/808.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1212\nCloses-Bug: 1856555\nChange-Id: Ic611b68f35a36489673e3430dd1abbd5aa752fa7\n""}, {'number': 2, 'created': '2024-05-28 21:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/02c10a8bfcff23dbd0873a5cc3d472fcab40cc23', 'message': ""Add keystone audit middleware API logging\n\nThis commit adds Keystone audit middleware API logging to the Heat\ncharm in versions Yoga and newer to allow users to configure their\nenvironment for CADF compliance. This feature can be enabled/disabled\nand is set to 'disabled' by default to avoid bloat in log files.\nThe logging output is configured to /var/log/heat/heat-api.log.\nThis commit builds on previous discussions:\nhttps://github.com/juju/charm-helpers/pull/808.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1212\nCloses-Bug: 1856555\nChange-Id: Ic611b68f35a36489673e3430dd1abbd5aa752fa7\n""}, {'number': 3, 'created': '2024-06-07 20:30:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/a1aab7a277ae45a025839d8860c60d08d1918700', 'message': ""Add keystone audit middleware API logging\n\nThis commit adds Keystone audit middleware API logging to the Heat\ncharm in versions Yoga and newer to allow users to configure their\nenvironment for CADF compliance. This feature can be enabled/disabled\nand is set to 'disabled' by default to avoid bloat in log files.\nThe logging output is configured to /var/log/heat/heat-api.log.\nThis commit builds on previous discussions:\nhttps://github.com/juju/charm-helpers/pull/808.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1212\nCloses-Bug: 1856555\nChange-Id: Ic611b68f35a36489673e3430dd1abbd5aa752fa7\n""}, {'number': 4, 'created': '2024-06-12 14:07:15.000000000', 'files': ['tests/tests.yaml', 'unit_tests/test_heat_utils.py', 'hooks/heat_utils.py', 'templates/yoga/api-paste.ini', 'config.yaml', 'templates/yoga/heat.conf', 'templates/yoga/api_audit_map.conf'], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/69886c1bcd7a5a8e5c92478c9ea1d45801fc8d38', 'message': ""Add keystone audit middleware API logging\n\nThis commit adds Keystone audit middleware API logging to the Heat\ncharm in versions Yoga and newer to allow users to configure their\nenvironment for CADF compliance. This feature can be enabled/disabled\nand is set to 'disabled' by default to avoid bloat in log files.\nThe logging output is configured to /var/log/heat/heat-api.log.\nThis commit builds on previous discussions:\nhttps://github.com/juju/charm-helpers/pull/808.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1212\nCloses-Bug: 1856555\nChange-Id: Ic611b68f35a36489673e3430dd1abbd5aa752fa7\n""}]",12,920422,69886c1bcd7a5a8e5c92478c9ea1d45801fc8d38,31,3,4,36966,,,0,"Add keystone audit middleware API logging

This commit adds Keystone audit middleware API logging to the Heat
charm in versions Yoga and newer to allow users to configure their
environment for CADF compliance. This feature can be enabled/disabled
and is set to 'disabled' by default to avoid bloat in log files.
The logging output is configured to /var/log/heat/heat-api.log.
This commit builds on previous discussions:
https://github.com/juju/charm-helpers/pull/808.

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1212
Closes-Bug: 1856555
Change-Id: Ic611b68f35a36489673e3430dd1abbd5aa752fa7
",git fetch https://review.opendev.org/openstack/charm-heat refs/changes/22/920422/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_heat_utils.py', 'hooks/heat_utils.py', 'hooks/charmhelpers/contrib/openstack/templates/section-filter-audit', 'config.yaml', 'templates/yoga/heat.conf', 'hooks/charmhelpers/contrib/storage/linux/lvm.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/templates/section-audit-middleware-notifications', 'tests/tests.yaml', 'templates/yoga/api-paste.ini', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/osplatform.py', 'hooks/charmhelpers/contrib/network/ip.py', 'templates/yoga/api_audit_map.conf']",15,69035dfa61d0566970a793cec8f72d8724871b8b,bug/1856555,[DEFAULT] # default target endpoint type # should match the endpoint type defined in service catalog target_endpoint_type = None # possible end path of api requests [path_keywords] stacks = stack resources = resource preview = None detail = None abandon = None snapshots = snapshot restore = None outputs = output metadata = server signal = None events = event template = None template_versions = template_version functions = None validate = None resource_types = resource_type build_info = None actions = None software_configs = software_config software_deployments = software_deployment services = None # map endpoint type defined in service catalog to CADF typeURI [service_endpoints] orchestration = service/orchestration,,402,29
openstack%2Fcharm-nova-cloud-controller~918017,openstack/charm-nova-cloud-controller,master,Ie09cc6775c13a2dba6a0f3d69a4a080f9fc484c8,Add keystone audit middleware API logging,MERGED,2024-05-02 23:58:43.000000000,2024-06-13 03:13:47.000000000,2024-06-13 03:13:47.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-02 23:58:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/37728e0937faf5493b839c865b8ae75d3f2344ee', 'message': ""Add keystone audit middleware API logging\n\nThis commit adds Keystone audit middleware API logging to the Nova-\nCloud-Contoller charm in versions Yoga and newer to allow users to\nconfigure their environment for CADF compliance. This feature can\nbe enabled/disabled and is set to 'disabled' by default to avoid\nbloat in log files. The logging output writes to\n/var/log/nova/nova-api-wsgi.log.\nThis commit builds on previous discussions:\nhttps://github.com/juju/charm-helpers/pull/808.\n\nRelated-Pr: https://github.com/juju/charm-helpers/pull/893\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1203\nCloses-Bug: 1856555\nChange-Id: Ie09cc6775c13a2dba6a0f3d69a4a080f9fc484c8\n""}, {'number': 2, 'created': '2024-05-24 22:55:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/b70958115c14951cb98c2345300e8a5098ef06cd', 'message': ""Add keystone audit middleware API logging\n\nThis commit adds Keystone audit middleware API logging to the Nova-\nCloud-Contoller charm in versions Yoga and newer to allow users to\nconfigure their environment for CADF compliance. This feature can\nbe enabled/disabled and is set to 'disabled' by default to avoid\nbloat in log files. The logging output writes to\n/var/log/nova/nova-api-wsgi.log.\nThis commit builds on previous discussions:\nhttps://github.com/juju/charm-helpers/pull/808.\n\nRelated-Pr: https://github.com/juju/charm-helpers/pull/893\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1203\nCloses-Bug: 1856555\nChange-Id: Ie09cc6775c13a2dba6a0f3d69a4a080f9fc484c8\n""}, {'number': 3, 'created': '2024-05-24 22:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/335959fe322f59179243f342d929c1aa29f1433a', 'message': ""Add keystone audit middleware API logging\n\nThis commit adds Keystone audit middleware API logging to the Nova-\nCloud-Contoller charm in versions Yoga and newer to allow users to\nconfigure their environment for CADF compliance. This feature can\nbe enabled/disabled and is set to 'disabled' by default to avoid\nbloat in log files. The logging output writes to\n/var/log/nova/nova-api-wsgi.log.\nThis commit builds on previous discussions:\nhttps://github.com/juju/charm-helpers/pull/808.\n\nRelated-Pr: https://github.com/juju/charm-helpers/pull/893\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1212\nCloses-Bug: 1856555\nChange-Id: Ie09cc6775c13a2dba6a0f3d69a4a080f9fc484c8\n""}, {'number': 4, 'created': '2024-05-27 18:39:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/3b8a1d25df043b566d4d00727b96e37b16ffa9c9', 'message': ""Add keystone audit middleware API logging\n\nThis commit adds Keystone audit middleware API logging to the Nova-\nCloud-Contoller charm in versions Yoga and newer to allow users to\nconfigure their environment for CADF compliance. This feature can\nbe enabled/disabled and is set to 'disabled' by default to avoid\nbloat in log files. The logging output writes to\n/var/log/nova/nova-api-wsgi.log.\nThis commit builds on previous discussions:\nhttps://github.com/juju/charm-helpers/pull/808.\n\nRelated-Pr: https://github.com/juju/charm-helpers/pull/893\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1212\nCloses-Bug: 1856555\nChange-Id: Ie09cc6775c13a2dba6a0f3d69a4a080f9fc484c8\n""}, {'number': 5, 'created': '2024-05-27 19:10:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/3de2c37c811319cf8327a4751c5754b0ad8adeb7', 'message': ""Add keystone audit middleware API logging\n\nThis commit adds Keystone audit middleware API logging to the Nova-\nCloud-Contoller charm in versions Yoga and newer to allow users to\nconfigure their environment for CADF compliance. This feature can\nbe enabled/disabled and is set to 'disabled' by default to avoid\nbloat in log files. The logging output writes to\n/var/log/nova/nova-api-wsgi.log.\nThis commit builds on previous discussions:\nhttps://github.com/juju/charm-helpers/pull/808.\n\nRelated-Pr: https://github.com/juju/charm-helpers/pull/893\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1212\nCloses-Bug: 1856555\nChange-Id: Ie09cc6775c13a2dba6a0f3d69a4a080f9fc484c8\n""}, {'number': 6, 'created': '2024-05-28 20:58:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/d719b91dbfe63189a6497615002883d90bcc9792', 'message': ""Add keystone audit middleware API logging\n\nThis commit adds Keystone audit middleware API logging to the Nova-\nCloud-Contoller charm in versions Yoga and newer to allow users to\nconfigure their environment for CADF compliance. This feature can\nbe enabled/disabled and is set to 'disabled' by default to avoid\nbloat in log files. The logging output writes to\n/var/log/nova/nova-api-wsgi.log.\nThis commit builds on previous discussions:\nhttps://github.com/juju/charm-helpers/pull/808.\n\nRelated-Pr: https://github.com/juju/charm-helpers/pull/893\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1212\nCloses-Bug: 1856555\nChange-Id: Ie09cc6775c13a2dba6a0f3d69a4a080f9fc484c8\n""}, {'number': 7, 'created': '2024-06-06 22:38:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/be16220087c35e6a364572e5d381a629c2cf7f2b', 'message': ""Add keystone audit middleware API logging\n\nThis commit adds Keystone audit middleware API logging to the Nova-\nCloud-Contoller charm in versions Yoga and newer to allow users to\nconfigure their environment for CADF compliance. This feature can\nbe enabled/disabled and is set to 'disabled' by default to avoid\nbloat in log files. The logging output writes to\n/var/log/nova/nova-api-wsgi.log.\nThis commit builds on previous discussions:\nhttps://github.com/juju/charm-helpers/pull/808.\n\nRelated-Pr: https://github.com/juju/charm-helpers/pull/893\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1212\nCloses-Bug: 1856555\nChange-Id: Ie09cc6775c13a2dba6a0f3d69a4a080f9fc484c8\n""}, {'number': 8, 'created': '2024-06-07 18:08:31.000000000', 'files': ['templates/yoga/nova.conf', 'tests/tests.yaml', 'templates/yoga/api-paste.ini', 'config.yaml', 'hooks/nova_cc_utils.py', 'templates/yoga/api_audit_map.conf'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/723515fd2b95a6198c162aff7a1eac0857b4157a', 'message': ""Add keystone audit middleware API logging\n\nThis commit adds Keystone audit middleware API logging to the Nova-\nCloud-Contoller charm in versions Yoga and newer to allow users to\nconfigure their environment for CADF compliance. This feature can\nbe enabled/disabled and is set to 'disabled' by default to avoid\nbloat in log files. The logging output writes to\n/var/log/nova/nova-api-wsgi.log.\nThis commit builds on previous discussions:\nhttps://github.com/juju/charm-helpers/pull/808.\n\nRelated-Pr: https://github.com/juju/charm-helpers/pull/893\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1212\nCloses-Bug: 1856555\nChange-Id: Ie09cc6775c13a2dba6a0f3d69a4a080f9fc484c8\n""}]",12,918017,723515fd2b95a6198c162aff7a1eac0857b4157a,37,3,8,36966,,,0,"Add keystone audit middleware API logging

This commit adds Keystone audit middleware API logging to the Nova-
Cloud-Contoller charm in versions Yoga and newer to allow users to
configure their environment for CADF compliance. This feature can
be enabled/disabled and is set to 'disabled' by default to avoid
bloat in log files. The logging output writes to
/var/log/nova/nova-api-wsgi.log.
This commit builds on previous discussions:
https://github.com/juju/charm-helpers/pull/808.

Related-Pr: https://github.com/juju/charm-helpers/pull/893
func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1212
Closes-Bug: 1856555
Change-Id: Ie09cc6775c13a2dba6a0f3d69a4a080f9fc484c8
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/17/918017/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/templates/section-audit-middleware-notifications', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/storage/linux/lvm.py', 'charmhelpers/osplatform.py', 'config.yaml', 'templates/yoga/nova.conf', 'charmhelpers/core/host.py', 'templates/yoga/api-paste.ini', 'charmhelpers/contrib/openstack/context.py', 'hooks/nova_cc_utils.py', 'charmhelpers/contrib/network/ip.py', 'templates/yoga/api_audit_map.conf', 'charmhelpers/contrib/openstack/templates/section-filter-audit']",13,37728e0937faf5493b839c865b8ae75d3f2344ee,bug/1856555,{% if audit_middleware and service_name -%} [filter:audit] paste.filter_factory = keystonemiddleware.audit:filter_factory audit_map_file = /etc/{{ service_name }}/api_audit_map.conf service_name = {{ service_name }} {% endif -%},,667,46
openstack%2Fcharm-neutron-api~921695,openstack/charm-neutron-api,master,I6d4f471607b11c2a0450d74c8fd68385486ec8d9,Add keystone audit middleware API logging,MERGED,2024-06-10 17:29:05.000000000,2024-06-13 03:06:53.000000000,2024-06-13 03:06:53.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-10 17:29:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/dda7f04b8432939cfe2efc31760e2deb09a0f4b5', 'message': ""Add keystone audit middleware API logging\n\nThis commit adds Keystone audit middleware API logging to\nthe Neutron-API charm in versions Yoga and newer to allow users to\nconfigure their environment for CADF compliance. This feature can\nbe enabled/disabled and is set to 'disabled' by default to avoid\nbloat in log files. The logging output writes to\n/var/log/neutron/neutron-server.log.\nThis commit builds on previous discussions:\nhttps://github.com/juju/charm-helpers/pull/808.\n\nCloses-Bug: 1856555\nChange-Id: I6d4f471607b11c2a0450d74c8fd68385486ec8d9\n""}, {'number': 2, 'created': '2024-06-12 14:10:32.000000000', 'files': ['tests/tests.yaml', 'templates/yoga/api-paste.ini', 'hooks/neutron_api_utils.py', 'config.yaml', 'unit_tests/test_neutron_api_utils.py', 'templates/yoga/neutron.conf', 'templates/yoga/api_audit_map.conf'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/84aec48548154a1db0c420200926b2bc1b111fcc', 'message': ""Add keystone audit middleware API logging\n\nThis commit adds Keystone audit middleware API logging to\nthe Neutron-API charm in versions Yoga and newer to allow users to\nconfigure their environment for CADF compliance. This feature can\nbe enabled/disabled and is set to 'disabled' by default to avoid\nbloat in log files. The logging output writes to\n/var/log/neutron/neutron-server.log.\nThis commit builds on previous discussions:\nhttps://github.com/juju/charm-helpers/pull/808.\n\nCloses-Bug: 1856555\nChange-Id: I6d4f471607b11c2a0450d74c8fd68385486ec8d9\n""}]",5,921695,84aec48548154a1db0c420200926b2bc1b111fcc,16,3,2,36966,,,0,"Add keystone audit middleware API logging

This commit adds Keystone audit middleware API logging to
the Neutron-API charm in versions Yoga and newer to allow users to
configure their environment for CADF compliance. This feature can
be enabled/disabled and is set to 'disabled' by default to avoid
bloat in log files. The logging output writes to
/var/log/neutron/neutron-server.log.
This commit builds on previous discussions:
https://github.com/juju/charm-helpers/pull/808.

Closes-Bug: 1856555
Change-Id: I6d4f471607b11c2a0450d74c8fd68385486ec8d9
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/95/921695/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'templates/yoga/api-paste.ini', 'hooks/neutron_api_utils.py', 'config.yaml', 'unit_tests/test_neutron_api_utils.py', 'templates/yoga/neutron.conf', 'templates/yoga/api_audit_map.conf']",7,dda7f04b8432939cfe2efc31760e2deb09a0f4b5,bug/1856555,[DEFAULT] # default target endpoint type # should match the endpoint type defined in service catalog target_endpoint_type = None [custom_actions] add_router_interface = update/add remove_router_interface = update/remove # possible end path of api requests [path_keywords] floatingips = ip healthmonitors = healthmonitor health_monitors = health_monitor lb = None members = member metering-labels = label metering-label-rules = rule networks = network pools = pool ports = port routers = router quotas = quota security-groups = security-group security-group-rules = rule subnets = subnet vips = vip # map endpoint type defined in service catalog to CADF typeURI [service_endpoints] network = service/network,,268,2
openstack%2Fcharm-glance~920926,openstack/charm-glance,master,Ied08b56cf3c4fa30827d43a50ca7b552db0fa82b,Add keystone audit middleware API logging,MERGED,2024-05-31 17:28:58.000000000,2024-06-13 03:04:11.000000000,2024-06-13 03:04:11.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-31 17:28:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/8b36dfdfac9f6fdc2b03ec8d52f16b8d55b2eb41', 'message': ""Add keystone audit middleware API logging\n\nThis commit adds Keystone audit middleware API logging to\nthe Glance charm in versions Yoga and newer to allow users to\nconfigure their environment for CADF compliance. This feature can\nbe enabled/disabled and is set to 'disabled' by default to avoid\nbloat in log files. The logging output writes to\n/var/log/glance/glance-api.log.\nThis commit builds on previous discussions:\nhttps://github.com/juju/charm-helpers/pull/808.\n\nRelated-Pr: https://github.com/juju/charm-helpers/pull/893\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1212\nCloses-Bug: 1856555\nChange-Id: Ied08b56cf3c4fa30827d43a50ca7b552db0fa82b\n""}, {'number': 2, 'created': '2024-06-06 22:13:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/d9e5b427aa69a0ba671a280e764c407b7da2b5a4', 'message': ""Add keystone audit middleware API logging\n\nThis commit adds Keystone audit middleware API logging to\nthe Glance charm in versions Yoga and newer to allow users to\nconfigure their environment for CADF compliance. This feature can\nbe enabled/disabled and is set to 'disabled' by default to avoid\nbloat in log files. The logging output writes to\n/var/log/glance/glance-api.log.\nThis commit builds on previous discussions:\nhttps://github.com/juju/charm-helpers/pull/808.\n\nRelated-Pr: https://github.com/juju/charm-helpers/pull/893\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1212\nCloses-Bug: 1856555\nChange-Id: Ied08b56cf3c4fa30827d43a50ca7b552db0fa82b\n""}, {'number': 3, 'created': '2024-06-07 16:19:38.000000000', 'files': ['hooks/glance_utils.py', 'tests/tests.yaml', 'templates/yoga/api-paste.ini', 'templates/yoga/glance-api.conf', 'config.yaml', 'unit_tests/test_glance_utils.py', 'templates/yoga/api_audit_map.conf'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/66a167eb42d53f8e12a856c9f0b2d888e57b1742', 'message': ""Add keystone audit middleware API logging\n\nThis commit adds Keystone audit middleware API logging to\nthe Glance charm in versions Yoga and newer to allow users to\nconfigure their environment for CADF compliance. This feature can\nbe enabled/disabled and is set to 'disabled' by default to avoid\nbloat in log files. The logging output writes to\n/var/log/glance/glance-api.log.\nThis commit builds on previous discussions:\nhttps://github.com/juju/charm-helpers/pull/808.\n\nRelated-Pr: https://github.com/juju/charm-helpers/pull/893\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1212\nCloses-Bug: 1856555\nChange-Id: Ied08b56cf3c4fa30827d43a50ca7b552db0fa82b\n""}]",2,920926,66a167eb42d53f8e12a856c9f0b2d888e57b1742,15,4,3,36966,,,0,"Add keystone audit middleware API logging

This commit adds Keystone audit middleware API logging to
the Glance charm in versions Yoga and newer to allow users to
configure their environment for CADF compliance. This feature can
be enabled/disabled and is set to 'disabled' by default to avoid
bloat in log files. The logging output writes to
/var/log/glance/glance-api.log.
This commit builds on previous discussions:
https://github.com/juju/charm-helpers/pull/808.

Related-Pr: https://github.com/juju/charm-helpers/pull/893
func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1212
Closes-Bug: 1856555
Change-Id: Ied08b56cf3c4fa30827d43a50ca7b552db0fa82b
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/26/920926/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/templates/section-audit-middleware-notifications', 'hooks/glance_utils.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/storage/linux/lvm.py', 'templates/yoga/glance-api.conf', 'charmhelpers/osplatform.py', 'config.yaml', 'unit_tests/test_glance_utils.py', 'tests/tests.yaml', 'charmhelpers/core/host.py', 'templates/yoga/api-paste.ini', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/network/ip.py', 'templates/yoga/api_audit_map.conf', 'charmhelpers/contrib/openstack/templates/section-filter-audit']",15,8b36dfdfac9f6fdc2b03ec8d52f16b8d55b2eb41,bug/1856555,{% if audit_middleware and service_name -%} [filter:audit] paste.filter_factory = keystonemiddleware.audit:filter_factory audit_map_file = /etc/{{ service_name }}/api_audit_map.conf service_name = {{ service_name }} {% endif -%},,355,30
openstack%2Fcharm-nova-cloud-controller~887213,openstack/charm-nova-cloud-controller,master,I915b50461de87a610f9e0026af22cf2b5d118ada,Adding audit middleware,ABANDONED,2023-06-28 17:58:12.000000000,2024-06-13 03:04:05.000000000,,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-28 17:58:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/50c605789203878867385897d9897757b59f5157', 'message': 'Adding audit middleware\n\nThis will enable the audit middleware from keystone. It will be\ndisable by default as it will pass a lot more messages to the\nmessage bus, and therefore increased traffic on the network\n\nsync charmhelpers\n\nChange-Id: I915b50461de87a610f9e0026af22cf2b5d118ada\n'}, {'number': 2, 'created': '2023-06-30 09:28:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/ae7bbe8ce45ad19368492e58dbfb54b76cc4cb16', 'message': 'Adding audit middleware\n\nThis will enable the audit middleware from keystone. It will be\ndisable by default as it will pass a lot more messages to the\nmessage bus, and therefore increased traffic on the network\n\nsync charmhelpers\n\nCloses-Bug: 1856555\n\nChange-Id: I915b50461de87a610f9e0026af22cf2b5d118ada\n'}, {'number': 3, 'created': '2023-07-14 19:33:09.000000000', 'files': ['charmhelpers/contrib/openstack/templates/section-audit-middleware-notifications', 'templates/train/nova.conf', 'templates/mitaka/api-paste.ini', 'templates/pike/nova.conf', 'config.yaml', 'templates/rocky/nova.conf', 'charm-helpers-hooks.yaml', 'templates/newton/nova.conf', 'templates/ocata/nova.conf', 'templates/mitaka/api_audit_map.conf', 'unit_tests/test_nova_cc_utils.py', 'charmhelpers/contrib/openstack/context.py', 'hooks/nova_cc_utils.py', 'charmhelpers/contrib/openstack/templates/section-filter-audit', 'templates/liberty/etc_nova_api-paste.ini', 'templates/mitaka/nova.conf'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/b633c7d32ebd6bb6d31934ccd8186502e48917d9', 'message': 'Adding audit middleware\n\nThis will enable the audit middleware from keystone. It will be\ndisable by default as it will pass a lot more messages to the\nmessage bus, and therefore increased traffic on the network\n\nsync charmhelpers\n\nCloses-Bug: 1856555\n\nChange-Id: I915b50461de87a610f9e0026af22cf2b5d118ada\n'}]",1,887213,b633c7d32ebd6bb6d31934ccd8186502e48917d9,13,3,3,9247,,,0,"Adding audit middleware

This will enable the audit middleware from keystone. It will be
disable by default as it will pass a lot more messages to the
message bus, and therefore increased traffic on the network

sync charmhelpers

Closes-Bug: 1856555

Change-Id: I915b50461de87a610f9e0026af22cf2b5d118ada
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/13/887213/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/templates/section-audit-middleware-notifications', 'templates/train/nova.conf', 'templates/mitaka/api-paste.ini', 'templates/pike/nova.conf', 'config.yaml', 'templates/rocky/nova.conf', 'charm-helpers-hooks.yaml', 'templates/newton/nova.conf', 'templates/ocata/nova.conf', 'templates/mitaka/api_audit_map.conf', 'charmhelpers/contrib/openstack/context.py', 'hooks/nova_cc_utils.py', 'charmhelpers/contrib/openstack/templates/section-filter-audit', 'templates/liberty/etc_nova_api-paste.ini', 'templates/mitaka/nova.conf']",15,50c605789203878867385897d9897757b59f5157,audit_keystonemiddleware,"{% include ""section-audit-middleware-notifications"" %} ",,125,10
openstack%2Fcinder~920401,openstack/cinder,master,Ie27f31bbfbb0fc6d3fd24ff247c8809121f5bb19,Drop six,NEW,2024-05-24 15:25:59.000000000,2024-06-13 02:19:46.000000000,,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-24 15:25:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/43bea9f4ac02293a81d825254bad60c6965240be', 'message': 'Drop six\n\nNow all usage of six has been removed.\n\nDepends-on: https://review.opendev.org/c/openstack/cinder/+/920086\nDepends-on: https://review.opendev.org/c/openstack/cinder/+/907388\nChange-Id: Ie27f31bbfbb0fc6d3fd24ff247c8809121f5bb19\n'}, {'number': 2, 'created': '2024-06-01 05:07:29.000000000', 'files': ['cinder/volume/drivers/inspur/instorage/instorage_iscsi.py', 'requirements.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/de25b413c3ddcde6df72fdaf552cd2b82efbbac4', 'message': 'Drop six\n\nNow all usage of six has been removed.\n\nDepends-on: https://review.opendev.org/c/openstack/cinder/+/920086\nDepends-on: https://review.opendev.org/c/openstack/cinder/+/907388\nChange-Id: Ie27f31bbfbb0fc6d3fd24ff247c8809121f5bb19\n'}]",0,920401,de25b413c3ddcde6df72fdaf552cd2b82efbbac4,22,2,2,9816,,,0,"Drop six

Now all usage of six has been removed.

Depends-on: https://review.opendev.org/c/openstack/cinder/+/920086
Depends-on: https://review.opendev.org/c/openstack/cinder/+/907388
Change-Id: Ie27f31bbfbb0fc6d3fd24ff247c8809121f5bb19
",git fetch https://review.opendev.org/openstack/cinder refs/changes/01/920401/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/inspur/instorage/instorage_iscsi.py', 'requirements.txt']",2,43bea9f4ac02293a81d825254bad60c6965240be,remove-six,,six>=1.15.0 # MIT,1,3
openstack%2Fcharm-ironic-api~921807,openstack/charm-ironic-api,stable/2024.1,Ic6434cdecb68f2b6df59acde785f1e7a34bf7b2c,Update setuptools pinning,MERGED,2024-06-12 02:08:42.000000000,2024-06-13 01:54:30.000000000,2024-06-13 01:54:30.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-12 02:08:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/551dfb222a5b43c4023648a91f1bb5a1140534af', 'message': 'Update setuptools pinning\n\nThe Ironic API charm is using a very old version of setuptools\ndue to an old configuration in the build.lock file. Update\nbuild.lock to use a new version of setuptools, remove an\nunnecessary setuptools pin from requirements.in, and\nensure the charm builds with the correct requirements pinning.\nThis should fix a failure in Ironic API that is blocking\ntesting for Ironic Conductor.\n\nChange-Id: Ic6434cdecb68f2b6df59acde785f1e7a34bf7b2c\n'}, {'number': 2, 'created': '2024-06-12 18:31:54.000000000', 'files': ['requirements.in', 'charmcraft.yaml', 'test-requirements.in', 'src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/4e809067700cb35cedaa5d3ba12ac75649bd620e', 'message': 'Update setuptools pinning\n\nThe Ironic API charm is using a very old version of setuptools\ndue to an old configuration in the build.lock file. Update\nbuild.lock to use a new version of setuptools, remove an\nunnecessary setuptools pin from requirements.in, and\nensure the charm builds with the correct requirements pinning.\nThis should fix a failure in Ironic API that is blocking\ntesting for Ironic Conductor.\n\nChange-Id: Ic6434cdecb68f2b6df59acde785f1e7a34bf7b2c\n'}]",5,921807,4e809067700cb35cedaa5d3ba12ac75649bd620e,18,3,2,31203,,,0,"Update setuptools pinning

The Ironic API charm is using a very old version of setuptools
due to an old configuration in the build.lock file. Update
build.lock to use a new version of setuptools, remove an
unnecessary setuptools pin from requirements.in, and
ensure the charm builds with the correct requirements pinning.
This should fix a failure in Ironic API that is blocking
testing for Ironic Conductor.

Change-Id: Ic6434cdecb68f2b6df59acde785f1e7a34bf7b2c
",git fetch https://review.opendev.org/openstack/charm-ironic-api refs/changes/07/921807/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.in', 'charmcraft.yaml', 'src/build.lock']",3,551dfb222a5b43c4023648a91f1bb5a1140534af,," ""version"": ""62.1.0"""," ""version"": ""49.6.0""",4,2
openstack%2Fironic-python-agent~920216,openstack/ironic-python-agent,stable/2023.1,Iebc5b6d2440bfc9f23daa322493379bbe69e84d0,Call evaluate_hardware_support exactly once per hwm,NEW,2024-05-22 21:54:24.000000000,2024-06-13 00:44:25.000000000,,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-22 21:54:24.000000000', 'files': ['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/extensions/test_clean.py', 'ironic_python_agent/tests/unit/base.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/tests/unit/extensions/test_deploy.py', 'releasenotes/notes/only-run-evaluate-hardware-support-once-9ec1ae327b4e03f2.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/38ffd5ba183271f3e5073487204e3b2fad8844d7', 'message': 'Call evaluate_hardware_support exactly once per hwm\n\nFixes an issue where we could call evaluate_hardware_support multiple\ntimes each run. Now, instead, we cache the values and use the cache\nwhere needed.\n\nAdds unit test coverage for get_managers and the new method.\nFixes issue where we were caching hardware managers between unit tests.\n\nFor stable/2023.1: rebased out changes to no-longer-existant\ntest_service.py\n\nCloses-bug: 2066308\nChange-Id: Iebc5b6d2440bfc9f23daa322493379bbe69e84d0\n(cherry picked from commit c39517b04479df1aeaf96402840238236870fa74)\n(cherry picked from commit b066a2156377d2991a27bb84193652b1b838147e)\n'}]",4,920216,38ffd5ba183271f3e5073487204e3b2fad8844d7,16,2,1,10342,,,0,"Call evaluate_hardware_support exactly once per hwm

Fixes an issue where we could call evaluate_hardware_support multiple
times each run. Now, instead, we cache the values and use the cache
where needed.

Adds unit test coverage for get_managers and the new method.
Fixes issue where we were caching hardware managers between unit tests.

For stable/2023.1: rebased out changes to no-longer-existant
test_service.py

Closes-bug: 2066308
Change-Id: Iebc5b6d2440bfc9f23daa322493379bbe69e84d0
(cherry picked from commit c39517b04479df1aeaf96402840238236870fa74)
(cherry picked from commit b066a2156377d2991a27bb84193652b1b838147e)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/16/920216/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/extensions/test_clean.py', 'ironic_python_agent/tests/unit/base.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/tests/unit/extensions/test_deploy.py', 'releasenotes/notes/only-run-evaluate-hardware-support-once-9ec1ae327b4e03f2.yaml']",6,38ffd5ba183271f3e5073487204e3b2fad8844d7,,"--- fixes: - | Fixes bug 2066308, an issue where Ironic Python Agent would call evaluate_hardware_support multiple times on hardware manager plugins. Scanning for hardware and disks is time consuming, and caused timeouts on badly-performing nodes. ",,135,51
openstack%2Fopenstack-zuul-jobs~921878,openstack/openstack-zuul-jobs,master,I2d292baa2213a659fda61724e00799bf4bff7d05,[WIP] Add ansible play for weblate client configuration,NEW,2024-06-12 16:07:21.000000000,2024-06-12 23:57:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-12 16:07:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/1f70c4414590690c627c07e5746a6638405cb42b', 'message': '[WIP] Add ansible play for weblate client configuration\n\nAdded a new Ansible playbook to configure the Weblate client.\nThis patch will be replace the previously used Zanata client\nconfiguration.\n\nChange-Id: I2d292baa2213a659fda61724e00799bf4bff7d05\n'}, {'number': 2, 'created': '2024-06-12 23:29:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/6bd863890ea6d2f3a18eb2baff5f848c8a1277f8', 'message': '[WIP] Add ansible play for weblate client configuration\n\nAdded a new Ansible playbook to configure the Weblate client.\nThis patch will be replace the previously used Zanata client\nconfiguration.\n\nChange-Id: I2d292baa2213a659fda61724e00799bf4bff7d05\n'}, {'number': 3, 'created': '2024-06-12 23:47:53.000000000', 'files': ['roles/prepare-weblate-client/templates/weblate.ini', 'roles/prepare-weblate-client/tasks/main.yaml', 'roles/prepare-weblate-client/README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/356671fdbf1e592765f6ca38f47d26ba7c515c94', 'message': '[WIP] Add ansible play for weblate client configuration\n\nAdded a new Ansible playbook to configure the Weblate client.\nThis patch will be replace the previously used Zanata client\nconfiguration.\n\nChange-Id: I2d292baa2213a659fda61724e00799bf4bff7d05\n'}]",0,921878,356671fdbf1e592765f6ca38f47d26ba7c515c94,7,1,3,23279,,,0,"[WIP] Add ansible play for weblate client configuration

Added a new Ansible playbook to configure the Weblate client.
This patch will be replace the previously used Zanata client
configuration.

Change-Id: I2d292baa2213a659fda61724e00799bf4bff7d05
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/78/921878/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/prepare-weblate-client/templates/weblate.ini', 'roles/prepare-zanata-client/files/upstream_translation_update.sh', 'roles/prepare-weblate-client/tasks/main.yaml', 'roles/prepare-weblate-client/README.rst']",4,1f70c4414590690c627c07e5746a6638405cb42b,weblate-client,Prepare weblate client use .. note:: This role is only available for Debian based platforms currently. ,,23,0
openstack%2Fcinder~901318,openstack/cinder,master,Ie37a0eb8081f5c7a4432d5f390a4d7079ff0e5c9,Hitachi: Fix to have compatibility of GAD volumes,NEW,2023-11-21 02:19:17.000000000,2024-06-12 23:47:57.000000000,,"[{'_account_id': 597}, {'_account_id': 22348}, {'_account_id': 28403}]","[{'number': 1, 'created': '2023-11-21 02:19:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d53b2726dd2645f0afd396172d04d048750040a2', 'message': 'Hitachi: Fix to have compatibility of GAD volumes\n\nHitachi driver with the following patch has lost compatibility of GAD volumes\nwhich are created by Hitachi out-of-tree driver until OSP16,\nbecause the naming rules of GAD copy group name are different.\n\nThis patch fixes to have compatibility of GAD volumes by fitting naming rule\nto one of the out-of-tree driver.\n\nCloses-Bug: #2043978\nChange-Id: Ie37a0eb8081f5c7a4432d5f390a4d7079ff0e5c9\n'}, {'number': 2, 'created': '2023-11-29 06:20:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e2c2aebf672462f98d2343404cc6428b65aaf963', 'message': 'Hitachi: Fix to have compatibility of GAD volumes\n\nHitachi driver with the following patch has lost compatibility of GAD volumes\nwhich are created by Hitachi out-of-tree driver until OSP16,\nbecause the naming rules of GAD copy group name are different.\n\nThis patch fixes to have compatibility of GAD volumes by fitting naming rule\nto one of the out-of-tree driver.\n\nCloses-Bug: #2043978\nChange-Id: Ie37a0eb8081f5c7a4432d5f390a4d7079ff0e5c9\n'}, {'number': 3, 'created': '2023-12-22 00:47:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e6c768c2d9e28f9b593df07d4c75c759bbdcfdad', 'message': 'Hitachi: Fix to have compatibility of GAD volumes\n\nHitachi driver with the following patch has lost compatibility of GAD volumes\nwhich are created by Hitachi out-of-tree driver until OSP16,\nbecause the naming rules of GAD copy group name are different.\n\nThis patch fixes to have compatibility of GAD volumes by fitting naming rule\nto one of the out-of-tree driver.\n\nCloses-Bug: #2043978\nChange-Id: Ie37a0eb8081f5c7a4432d5f390a4d7079ff0e5c9\n'}, {'number': 4, 'created': '2024-01-18 05:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ff38865061ba437897e045d3318321326529465e', 'message': 'Hitachi: Fix to have compatibility of GAD volumes\n\nHitachi driver with the following patch has lost compatibility of GAD volumes\nwhich are created by Hitachi out-of-tree driver until OSP16,\nbecause the naming rules of GAD copy group name are different.\n\nThis patch fixes to have compatibility of GAD volumes by fitting naming rule\nto one of the out-of-tree driver.\n\nCloses-Bug: #2043978\nChange-Id: Ie37a0eb8081f5c7a4432d5f390a4d7079ff0e5c9\n'}, {'number': 5, 'created': '2024-02-02 05:21:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0bb38b1a4c731566041d78cd45f90408ade7d958', 'message': 'Hitachi: Fix to have compatibility of GAD volumes\n\nHitachi driver with the following patch has lost compatibility of GAD volumes\nwhich are created by Hitachi out-of-tree driver until OSP16,\nbecause the naming rules of GAD copy group name are different.\n\nThis patch fixes to have compatibility of GAD volumes by fitting naming rule\nto one of the out-of-tree driver.\n\nCloses-Bug: #2043978\nChange-Id: Ie37a0eb8081f5c7a4432d5f390a4d7079ff0e5c9\n'}, {'number': 6, 'created': '2024-02-07 02:16:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e9eb57bd393a3f651749f6bb700b214c0caf0e9b', 'message': 'Hitachi: Fix to have compatibility of GAD volumes\n\nHitachi driver with the following patch has lost compatibility of GAD volumes\nwhich are created by Hitachi out-of-tree driver until OSP16,\nbecause the naming rules of GAD copy group name are different.\n\nThis patch fixes to have compatibility of GAD volumes by fitting naming rule\nto one of the out-of-tree driver.\n\nCloses-Bug: #2043978\nChange-Id: Ie37a0eb8081f5c7a4432d5f390a4d7079ff0e5c9\n'}, {'number': 7, 'created': '2024-02-27 00:42:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6cba1d2ca31ddc037146aa9a033eb231950aef23', 'message': 'Hitachi: Fix to have compatibility of GAD volumes\n\nHitachi driver with the following patch has lost compatibility of GAD volumes\nwhich are created by Hitachi out-of-tree driver until OSP16,\nbecause the naming rules of GAD copy group name are different.\n\nThis patch fixes to have compatibility of GAD volumes by fitting naming rule\nto one of the out-of-tree driver.\n\nCloses-Bug: #2043978\nChange-Id: Ie37a0eb8081f5c7a4432d5f390a4d7079ff0e5c9\n'}, {'number': 8, 'created': '2024-04-26 01:10:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6d45cb295335ca139a5b24e38ba4057b6eeedd8e', 'message': 'Hitachi: Fix to have compatibility of GAD volumes\n\nHitachi driver with the following patch has lost compatibility of GAD\nvolumes which are created by Hitachi out-of-tree driver until OSP16,\nbecause the naming rules of GAD copy group name are different.\n\nThis patch fixes to have compatibility of GAD volumes by using same\nnaming rule.\n\nGAD patch and blueprint:\nhttps://review.opendev.org/c/openstack/cinder/+/796170\nhttps://blueprints.launchpad.net/cinder/+spec/hitachi-gad-support\n\nCloses-Bug: #2043978\nChange-Id: Ie37a0eb8081f5c7a4432d5f390a4d7079ff0e5c9\n'}, {'number': 9, 'created': '2024-04-26 03:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/72051390bbae9af62f6dfb8177d02928be700eef', 'message': 'Hitachi: Fix to have compatibility of GAD volumes\n\nHitachi driver with the following patch has lost compatibility of GAD\nvolumes which are created by Hitachi out-of-tree driver until OSP16,\nbecause the naming rules of GAD copy group name are different.\n\nThis patch fixes to have compatibility of GAD volumes by using same\nnaming rule.\n\nGAD patch and blueprint:\nhttps://review.opendev.org/c/openstack/cinder/+/796170\nhttps://blueprints.launchpad.net/cinder/+spec/hitachi-gad-support\n\nCloses-Bug: #2043978\nChange-Id: Ie37a0eb8081f5c7a4432d5f390a4d7079ff0e5c9\n'}, {'number': 10, 'created': '2024-05-07 00:37:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/23fc25d152a35b8b1c2bea7978bfeb09e920233b', 'message': 'Hitachi: Fix to have compatibility of GAD volumes\n\nHitachi driver with the following patch has lost compatibility of GAD\nvolumes which are created by Hitachi out-of-tree driver until OSP16,\nbecause the naming rules of GAD copy group name are different.\n\nThis patch fixes to have compatibility of GAD volumes by using same\nnaming rule.\n\nGAD patch and blueprint:\nhttps://review.opendev.org/c/openstack/cinder/+/796170\nhttps://blueprints.launchpad.net/cinder/+spec/hitachi-gad-support\n\nCloses-Bug: #2043978\nChange-Id: Ie37a0eb8081f5c7a4432d5f390a4d7079ff0e5c9\n'}, {'number': 11, 'created': '2024-05-22 01:37:38.000000000', 'files': ['releasenotes/notes/hitachi-fix-gad-vol-compatibility-e9c62c18f7a12bc7.yaml', 'cinder/volume/drivers/hitachi/hbsd_replication.py', 'cinder/tests/unit/volume/drivers/hitachi/test_hitachi_hbsd_mirror_fc.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2b2192ad46863f48b1a72a5517d8db2623dd1a30', 'message': 'Hitachi: Fix to have compatibility of GAD volumes\n\nHitachi driver with the following patch has lost compatibility of GAD\nvolumes which are created by Hitachi out-of-tree driver until OSP16,\nbecause the naming rules of GAD copy group name are different.\n\nThis patch fixes to have compatibility of GAD volumes by using same\nnaming rule.\n\nGAD patch and blueprint:\nhttps://review.opendev.org/c/openstack/cinder/+/796170\nhttps://blueprints.launchpad.net/cinder/+spec/hitachi-gad-support\n\nCloses-Bug: #2043978\nChange-Id: Ie37a0eb8081f5c7a4432d5f390a4d7079ff0e5c9\n'}]",15,901318,2b2192ad46863f48b1a72a5517d8db2623dd1a30,184,3,11,33473,,,0,"Hitachi: Fix to have compatibility of GAD volumes

Hitachi driver with the following patch has lost compatibility of GAD
volumes which are created by Hitachi out-of-tree driver until OSP16,
because the naming rules of GAD copy group name are different.

This patch fixes to have compatibility of GAD volumes by using same
naming rule.

GAD patch and blueprint:
https://review.opendev.org/c/openstack/cinder/+/796170
https://blueprints.launchpad.net/cinder/+spec/hitachi-gad-support

Closes-Bug: #2043978
Change-Id: Ie37a0eb8081f5c7a4432d5f390a4d7079ff0e5c9
",git fetch https://review.opendev.org/openstack/cinder refs/changes/18/901318/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/hitachi-fix-gad-vol-compatibility-e9c62c18f7a12bc7.yaml', 'cinder/volume/drivers/hitachi/hbsd_replication.py']",2,d53b2726dd2645f0afd396172d04d048750040a2,hitachi_gadcpgrp, return self.driver_info['target_prefix'] + '%s%02XG%02d' % (, return self.driver_info['target_prefix'] + '%s%02XU%02d' % (,47,1
openstack%2Fcharm-mysql-innodb-cluster~885021,openstack/charm-mysql-innodb-cluster,stable/jammy,Ic6130a450bd1cf2fe3632145686fb1304b467afc,Add service user password rotation feature,NEW,2023-06-02 13:44:25.000000000,2024-06-12 23:04:23.000000000,,"[{'_account_id': 1131}, {'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-02 13:44:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/2fa726c568d7a238a46229aa56986cdef609cf3e', 'message': 'Add service user password rotation feature\n\nThis patch adds the service user rotation feature, which provides two\nactions:\n\n - list-service-usernames\n - rotate-service-user-password\n\n The first lists the possible usernames that can be rotated.  The\n second action rotates the service.  The patch is dependent on the\n charm-helpers change [1], and is tested via the func-test-pr.\n\n [1] https://github.com/juju/charm-helpers/pull/765\n\nChange-Id: Ic6130a450bd1cf2fe3632145686fb1304b467afc\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1027\n(cherry picked from commit ba6c62021ad008a8ca6b6b3542428c206853c51a)\n'}, {'number': 2, 'created': '2023-07-05 13:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/d0b3e1a383bc01bc9cb591994a615adbd02508c9', 'message': 'Add service user password rotation feature\n\nThis patch adds the service user rotation feature, which provides two\nactions:\n\n - list-service-usernames\n - rotate-service-user-password\n\n The first lists the possible usernames that can be rotated.  The\n second action rotates the service.  The patch is dependent on the\n charm-helpers change [1], and is tested via the func-test-pr.\n\n [1] https://github.com/juju/charm-helpers/pull/765\n\nChange-Id: Ic6130a450bd1cf2fe3632145686fb1304b467afc\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1027\n(cherry picked from commit ba6c62021ad008a8ca6b6b3542428c206853c51a)\n'}, {'number': 3, 'created': '2023-09-20 22:30:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/53ff0489c099e31ab8a7aba0f333216e3233c0a9', 'message': 'Add service user password rotation feature\n\nThis patch adds the service user rotation feature, which provides two\nactions:\n\n - list-service-usernames\n - rotate-service-user-password\n\n The first lists the possible usernames that can be rotated.  The\n second action rotates the service.  The patch is dependent on the\n charm-helpers change [1], and is tested via the func-test-pr.\n\n [1] https://github.com/juju/charm-helpers/pull/765\n\nChange-Id: Ic6130a450bd1cf2fe3632145686fb1304b467afc\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1027\n(cherry picked from commit ba6c62021ad008a8ca6b6b3542428c206853c51a)\n'}, {'number': 4, 'created': '2023-09-21 12:15:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/f5ce3150baacea2fb0403c93a5ecba36734f2c24', 'message': 'Add service user password rotation feature\n\nThis patch adds the service user rotation feature, which provides two\nactions:\n\n - list-service-usernames\n - rotate-service-user-password\n\n The first lists the possible usernames that can be rotated.  The\n second action rotates the service.  The patch is dependent on the\n charm-helpers change [1], and is tested via the func-test-pr.\n\n [1] https://github.com/juju/charm-helpers/pull/765\n\nChange-Id: Ic6130a450bd1cf2fe3632145686fb1304b467afc\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1027\n(cherry picked from commit ba6c62021ad008a8ca6b6b3542428c206853c51a)\n'}, {'number': 5, 'created': '2023-09-21 14:13:44.000000000', 'files': ['src/actions/rotate-service-user-password', 'src/actions.yaml', 'unit_tests/test_lib_charm_openstack_mysql_innodb_cluster.py', 'src/actions/list-service-usernames', 'src/lib/charm/openstack/exceptions.py', 'src/lib/charm/openstack/mysql_innodb_cluster.py', 'src/actions/actions.py', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/ce889088739b5516c42e8f9f75d363904e070b68', 'message': 'Add service user password rotation feature\n\nThis patch adds the service user rotation feature, which provides two\nactions:\n\n - list-service-usernames\n - rotate-service-user-password\n\n The first lists the possible usernames that can be rotated.  The\n second action rotates the service.  The patch is dependent on the\n charm-helpers change [1], and is tested via the func-test-pr.\n\n [1] https://github.com/juju/charm-helpers/pull/765\n\nChange-Id: Ic6130a450bd1cf2fe3632145686fb1304b467afc\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1134\n(cherry picked from commit ba6c62021ad008a8ca6b6b3542428c206853c51a)\n'}]",6,885021,ce889088739b5516c42e8f9f75d363904e070b68,26,4,5,20870,,,0,"Add service user password rotation feature

This patch adds the service user rotation feature, which provides two
actions:

 - list-service-usernames
 - rotate-service-user-password

 The first lists the possible usernames that can be rotated.  The
 second action rotates the service.  The patch is dependent on the
 charm-helpers change [1], and is tested via the func-test-pr.

 [1] https://github.com/juju/charm-helpers/pull/765

Change-Id: Ic6130a450bd1cf2fe3632145686fb1304b467afc
func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1134
(cherry picked from commit ba6c62021ad008a8ca6b6b3542428c206853c51a)
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/21/885021/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/actions/rotate-service-user-password', 'src/actions.yaml', 'unit_tests/test_lib_charm_openstack_mysql_innodb_cluster.py', 'src/actions/list-service-usernames', 'src/lib/charm/openstack/exceptions.py', 'src/lib/charm/openstack/mysql_innodb_cluster.py', 'src/actions/actions.py', 'src/tests/tests.yaml']",8,2fa726c568d7a238a46229aa56986cdef609cf3e,service-password-rotation-stable/jammy,- zaza.openstack.charm_tests.mysql.tests.MySQLInnoDBClusterRotatePasswordTests - zaza.openstack.charm_tests.mysql.tests.MySQLInnoDBClusterRotatePasswordTests - zaza.openstack.charm_tests.mysql.tests.MySQLInnoDBClusterRotatePasswordTests,,329,13
openstack%2Fneutron~916406,openstack/neutron,master,I835e7ad95b6d7d83d06f4303b476519c16b9a2c8,Remove neutron.wsgi module,NEW,2024-04-19 11:11:03.000000000,2024-06-12 22:19:15.000000000,,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2024-04-19 11:11:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0bf5a5ab916631b01a6444640e6ea0d8f31d8fa7', 'message': 'Remove neutron.wsgi module\n\nWe want this module for use elsewhere. This has a natural home in the\nneutron.api module so move it there. This is similar to what has\npreviously been done for nova [1].\n\nTests for the module are also moved and other tests slightly decoupled.\n\n[1] https://review.opendev.org/c/openstack/nova/+/902686\n\nChange-Id: I835e7ad95b6d7d83d06f4303b476519c16b9a2c8\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2024-04-19 13:57:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/192c40f3059133027b4d36aadefbf8301b48d81d', 'message': 'Remove neutron.wsgi module\n\nWe want this module for use elsewhere. This has a natural home in the\nneutron.api module so move it there. This is similar to what has\npreviously been done for nova [1].\n\nTests for the module are also moved and other tests slightly decoupled.\n\n[1] https://review.opendev.org/c/openstack/nova/+/902686\n\nChange-Id: I835e7ad95b6d7d83d06f4303b476519c16b9a2c8\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2024-04-29 22:12:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e7e8d9ab5e6de35065e3b8f775eac378b1f8d593', 'message': 'Remove neutron.wsgi module\n\nWe want this module for use elsewhere. This has a natural home in the\nneutron.api module so move it there. This is similar to what has\npreviously been done for nova [1].\n\nTests for the module are also moved and other tests slightly decoupled.\n\n[1] https://review.opendev.org/c/openstack/nova/+/902686\n\nChange-Id: I835e7ad95b6d7d83d06f4303b476519c16b9a2c8\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2024-06-12 19:46:11.000000000', 'files': ['neutron/opts.py', 'neutron/tests/unit/extensions/foxinsocks.py', 'neutron/tests/unit/api/test_wsgi.py', 'neutron/api/wsgi.py', 'neutron/tests/unit/db/test_agentschedulers_db.py', 'neutron/tests/functional/base.py', 'neutron/tests/unit/extension_stubs.py', 'neutron/api/extensions.py', 'neutron/tests/functional/test_server.py', 'neutron/tests/unit/api/test_extensions.py', 'neutron/api/api_common.py', 'neutron/tests/unit/api/v2/test_resource.py', 'neutron/api/v2/resource.py', 'neutron/extensions/dhcpagentscheduler.py', 'neutron/tests/unit/testlib_api.py', 'neutron/service.py', 'neutron/tests/unit/test_service.py', 'neutron/extensions/quotasv2.py', 'neutron/agent/linux/utils.py', 'neutron/extensions/l3agentscheduler.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/34fafa2d8ccf73a29d3d926f910a5508534fd359', 'message': 'Remove neutron.wsgi module\n\nWe want this module for use elsewhere. This has a natural home in the\nneutron.api module so move it there. This is similar to what has\npreviously been done for nova [1].\n\nTests for the module are also moved and other tests slightly decoupled.\n\n[1] https://review.opendev.org/c/openstack/nova/+/902686\n\nChange-Id: I835e7ad95b6d7d83d06f4303b476519c16b9a2c8\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",7,916406,34fafa2d8ccf73a29d3d926f910a5508534fd359,22,8,4,15334,,,0,"Remove neutron.wsgi module

We want this module for use elsewhere. This has a natural home in the
neutron.api module so move it there. This is similar to what has
previously been done for nova [1].

Tests for the module are also moved and other tests slightly decoupled.

[1] https://review.opendev.org/c/openstack/nova/+/902686

Change-Id: I835e7ad95b6d7d83d06f4303b476519c16b9a2c8
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/06/916406/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/opts.py', 'neutron/tests/unit/extensions/foxinsocks.py', 'neutron/tests/unit/api/test_wsgi.py', 'neutron/api/wsgi.py', 'neutron/tests/unit/db/test_agentschedulers_db.py', 'neutron/tests/functional/base.py', 'neutron/tests/unit/extension_stubs.py', 'neutron/api/extensions.py', 'neutron/tests/functional/test_server.py', 'neutron/tests/unit/api/test_extensions.py', 'neutron/api/api_common.py', 'neutron/tests/unit/api/v2/test_resource.py', 'neutron/api/v2/resource.py', 'neutron/extensions/dhcpagentscheduler.py', 'neutron/tests/unit/testlib_api.py', 'neutron/service.py', 'neutron/tests/unit/test_service.py', 'neutron/extensions/quotasv2.py', 'neutron/agent/linux/utils.py', 'neutron/extensions/l3agentscheduler.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",21,0bf5a5ab916631b01a6444640e6ea0d8f31d8fa7,remove-wsgi_scripts,"from neutron.api import wsgi return worker_class in (wsgi.WorkerService, if worker_class == wsgi.WorkerService:","import neutron.wsgi return worker_class in (neutron.wsgi.WorkerService, if worker_class == neutron.wsgi.WorkerService:",41,45
openstack%2Fironic~921319,openstack/ironic,master,Ied56c4f3cb7ac4d1a6ae3da3a4cbae48e283409c,"Revert ""Fix negative lookahead assertion syntax error""",ABANDONED,2024-06-04 18:12:01.000000000,2024-06-12 22:04:24.000000000,,"[{'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 36770}]","[{'number': 1, 'created': '2024-06-04 18:12:01.000000000', 'files': ['zuul.d/ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/e893ad1499c0433a4a02237f9f9eb76adca962bc', 'message': 'Revert ""Fix negative lookahead assertion syntax error""\n\nThis reverts commit 74b148b685c2ebf86fb7f6dd1ad88969c805d487.\n\nReason for revert: This disabled bandit job.\n\nChange-Id: Ied56c4f3cb7ac4d1a6ae3da3a4cbae48e283409c\n'}]",3,921319,e893ad1499c0433a4a02237f9f9eb76adca962bc,6,4,1,9656,,,0,"Revert ""Fix negative lookahead assertion syntax error""

This reverts commit 74b148b685c2ebf86fb7f6dd1ad88969c805d487.

Reason for revert: This disabled bandit job.

Change-Id: Ied56c4f3cb7ac4d1a6ae3da3a4cbae48e283409c
",git fetch https://review.opendev.org/openstack/ironic refs/changes/19/921319/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-jobs.yaml'],1,e893ad1499c0433a4a02237f9f9eb76adca962bc,re2-compatible-regexes, - ^tools/(?!bandit\.yml).*$, - ^tools/.*$ - regex: ^tools/bandit\.yml$ negate: true,1,3
openstack%2Fmagnum-capi-helm-charts~921897,openstack/magnum-capi-helm-charts,master,Iae194b2a63d8045f20c1eda7d8a73c9f825e1c55,Add gitreview,MERGED,2024-06-12 21:43:33.000000000,2024-06-12 21:56:47.000000000,2024-06-12 21:56:47.000000000,"[{'_account_id': 8064}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-12 21:43:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-capi-helm-charts/commit/791aef0097c5bb03c1374f200e7dcd0d364e4098', 'message': 'Add gitreview\n\nChange-Id: Iae194b2a63d8045f20c1eda7d8a73c9f825e1c55\n'}, {'number': 2, 'created': '2024-06-12 21:55:08.000000000', 'files': ['.gitreview', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/magnum-capi-helm-charts/commit/084e4f3a9868efc586f4910e61ab3f1d8b4f9cf5', 'message': 'Add gitreview\n\nChange-Id: Iae194b2a63d8045f20c1eda7d8a73c9f825e1c55\n'}]",0,921897,084e4f3a9868efc586f4910e61ab3f1d8b4f9cf5,7,2,2,8064,,,0,"Add gitreview

Change-Id: Iae194b2a63d8045f20c1eda7d8a73c9f825e1c55
",git fetch https://review.opendev.org/openstack/magnum-capi-helm-charts refs/changes/97/921897/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,791aef0097c5bb03c1374f200e7dcd0d364e4098,,[gerrit] host=review.opendev.org port=29418 project=openstack/magnum-capi-helm-charts.git ,,4,0
openstack%2Fcharm-octavia~907917,openstack/charm-octavia,stable/wallaby,I1a973f5c39cb5e4886d6194b6b63ce0bea06e07b,osci.yaml: Increase ha-ovn job timeout,MERGED,2024-02-06 02:23:24.000000000,2024-06-12 21:48:57.000000000,2024-06-12 21:48:57.000000000,"[{'_account_id': 1131}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-02-06 02:23:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/c3856ecbcba5a8052647b8a2268daf0190c55029', 'message': 'osci.yaml: Increase ha-ovn job timeout\n\nThe ha-ovn jobs specifically are frequently taking at least 3h when\nsuccessful and often fail when almost finished with a timeout of 4h\n(14400s) which is the timeout for the parent func-target job.\n\nIncrease the timeout for these specific jobs.\n\nChange-Id: I1a973f5c39cb5e4886d6194b6b63ce0bea06e07b\n(cherry picked from commit 531406ccb595f766c8a70c07b3e1903a40b38cca)\n'}, {'number': 2, 'created': '2024-02-06 02:34:11.000000000', 'files': ['osci.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/5d09878e9c049ef632f236c28dd2ab85defeef2c', 'message': 'osci.yaml: Increase ha-ovn job timeout\n\nThe ha-ovn jobs specifically are frequently taking at least 3h when\nsuccessful and often fail when almost finished with a timeout of 4h\n(14400s) which is the timeout for the parent func-target job.\n\nIncrease the timeout for these specific jobs to 5h (18000s).\n\nChange-Id: I1a973f5c39cb5e4886d6194b6b63ce0bea06e07b\n(cherry picked from commit b25affc465e0882748e4658b83e47641ffbf7751)\n'}]",0,907917,5d09878e9c049ef632f236c28dd2ab85defeef2c,9,4,2,21107,,,0,"osci.yaml: Increase ha-ovn job timeout

The ha-ovn jobs specifically are frequently taking at least 3h when
successful and often fail when almost finished with a timeout of 4h
(14400s) which is the timeout for the parent func-target job.

Increase the timeout for these specific jobs to 5h (18000s).

Change-Id: I1a973f5c39cb5e4886d6194b6b63ce0bea06e07b
(cherry picked from commit b25affc465e0882748e4658b83e47641ffbf7751)
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/17/907917/1 && git format-patch -1 --stdout FETCH_HEAD,['osci.yaml'],1,c3856ecbcba5a8052647b8a2268daf0190c55029,, timeout: 21600 timeout: 21600,,2,0
openstack%2Fneutron~917904,openstack/neutron,master,I5af6fc2c50b25f1a739b9b5dc7c169ed532e5267,Change OVN client to account for nested networks,ABANDONED,2024-05-01 23:23:26.000000000,2024-06-12 21:41:52.000000000,,"[{'_account_id': 1131}, {'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-01 23:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/19d74a1f832decdfa7cd8b84544e44e50a717821', 'message': ""Change OVN client to account for nested networks\n\nWhen the OVN driver adds SNAT rules, it only adds them\nfor network CIDRs directly connected to the internal\nrouter ports. This can be seen in the NB DB using:\n\n  # ovn-nbctl lr-nat-list neutron-$ID\n\nWhere $ID is the router ID.\n\nIf there is a router on this network with a network\nnested behind it, no default SNAT rule will be added\nfor that CIDR.\n\nThe original intent was for neutron to allow this behavior,\nplease see https://bugs.launchpad.net/neutron/+bug/1386041\nfor that description and discussion of the reasoning.\nThis change closes the gap with respect to OVN.\n\nChange the code to account for such a scenario by\nusing a single CIDR, '0.0.0.0/0' which works for all\nnested networks. Restarting neutron-server and running\nthe OVN DB sync tool in repair mode is required for the\nSNAT rules to be corrected on existing routers.\n\nFixed mocks in any affected unit tests.\n\nCloses-bug: #2051935\nChange-Id: I5af6fc2c50b25f1a739b9b5dc7c169ed532e5267\n""}, {'number': 2, 'created': '2024-05-02 18:40:59.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/common/ovn/constants.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_client.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0630d1b60b3091ddd0fc7afd9e5f0521a7327bd3', 'message': ""Change OVN client to account for nested networks\n\nWhen the OVN driver adds SNAT rules, it only adds them\nfor network CIDRs directly connected to the internal\nrouter ports. This can be seen in the NB DB using:\n\n  # ovn-nbctl lr-nat-list neutron-$ID\n\nWhere $ID is the router ID.\n\nIf there is a router on this network with a network\nnested behind it, no default SNAT rule will be added\nfor that CIDR.\n\nThe original intent was for neutron to allow this behavior,\nplease see https://bugs.launchpad.net/neutron/+bug/1386041\nfor that description and discussion of the reasoning.\nThis change closes the gap with respect to OVN.\n\nChange the code to account for such a scenario by\nusing a single CIDR, '0.0.0.0/0' which works for all\nnested networks. Restarting neutron-server and running\nthe OVN DB sync tool in repair mode is required for the\nSNAT rules to be corrected on existing routers.\n\nFixed mocks in any affected unit tests.\n\nCloses-bug: #2051935\nChange-Id: I5af6fc2c50b25f1a739b9b5dc7c169ed532e5267\n""}]",8,917904,0630d1b60b3091ddd0fc7afd9e5f0521a7327bd3,22,3,2,1131,,,0,"Change OVN client to account for nested networks

When the OVN driver adds SNAT rules, it only adds them
for network CIDRs directly connected to the internal
router ports. This can be seen in the NB DB using:

  # ovn-nbctl lr-nat-list neutron-$ID

Where $ID is the router ID.

If there is a router on this network with a network
nested behind it, no default SNAT rule will be added
for that CIDR.

The original intent was for neutron to allow this behavior,
please see https://bugs.launchpad.net/neutron/+bug/1386041
for that description and discussion of the reasoning.
This change closes the gap with respect to OVN.

Change the code to account for such a scenario by
using a single CIDR, '0.0.0.0/0' which works for all
nested networks. Restarting neutron-server and running
the OVN DB sync tool in repair mode is required for the
SNAT rules to be corrected on existing routers.

Fixed mocks in any affected unit tests.

Closes-bug: #2051935
Change-Id: I5af6fc2c50b25f1a739b9b5dc7c169ed532e5267
",git fetch https://review.opendev.org/openstack/neutron refs/changes/04/917904/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_client.py']",6,19d74a1f832decdfa7cd8b84544e44e50a717821,bug/2051935," self.ovn_client._add_router_ext_gw(mock.Mock(), router, txn)) self.ovn_client._add_router_ext_gw(mock.Mock(), router, txn)) self.ovn_client._add_router_ext_gw(mock.Mock(), router, txn))"," networks = mock.MagicMock() self.ovn_client._add_router_ext_gw(mock.Mock(), router, networks, txn)) networks = mock.MagicMock() self.ovn_client._add_router_ext_gw(mock.Mock(), router, networks, txn)) networks = mock.MagicMock() self.ovn_client._add_router_ext_gw(mock.Mock(), router, networks, txn))",68,147
openstack%2Fironic-specs~918013,openstack/ironic-specs,master,I6441f6dc8dec8f5222987bd55538c08e389ecd89,Set basepython for docs builds,ABANDONED,2024-05-02 22:18:54.000000000,2024-06-12 21:33:17.000000000,,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2024-05-02 22:18:54.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/f20835d47685a7069fcbde0bc077c6b5bbc93ce0', 'message': 'Set basepython for docs builds\n\nDocs builds are broken on any system with python3.12 installed on it, as\ntox will happily use the newest version -- which is currently broken.\n\nI was unable to find a way to say ""any python less than 3.12"". If some\nother version is more likely to work on everyones\' system, or there\'s a\nbetter approach please let me know -- my desire is to disallow 3.12 not\nrequire 3.11.\n\nChange-Id: I6441f6dc8dec8f5222987bd55538c08e389ecd89\n'}]",2,918013,f20835d47685a7069fcbde0bc077c6b5bbc93ce0,5,3,1,10342,,,0,"Set basepython for docs builds

Docs builds are broken on any system with python3.12 installed on it, as
tox will happily use the newest version -- which is currently broken.

I was unable to find a way to say ""any python less than 3.12"". If some
other version is more likely to work on everyones' system, or there's a
better approach please let me know -- my desire is to disallow 3.12 not
require 3.11.

Change-Id: I6441f6dc8dec8f5222987bd55538c08e389ecd89
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/13/918013/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f20835d47685a7069fcbde0bc077c6b5bbc93ce0,,basepython = python311,,1,0
openstack%2Fcinder~901588,openstack/cinder,master,If47948aa079a3bb14991974fed73bf4015a99510,HPE 3par: PP - Return LUN ids from both arrays,NEW,2023-11-22 11:11:30.000000000,2024-06-12 21:05:41.000000000,,"[{'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 36121}]","[{'number': 1, 'created': '2023-11-22 11:11:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/900682dce610656ea9888206875d01e5d9fc5461', 'message': 'WIP - HPE 3par - PP - Return LUN ids from both arrays\n\nDuring peer persistence, when volume is attached to instance,\nvlun is created on both primary & secondary arrays.\n\nhpe_3par_fc.py returns only the LUN id from pri array.\n\nFor details, kindly refer launchpad bug.\n\nThis patch updates the code to return both LUN ids.\n\nCloses-Bug: #2044255\nChange-Id: If47948aa079a3bb14991974fed73bf4015a99510\n'}, {'number': 2, 'created': '2024-01-04 05:06:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ca9462a318562e45fd5a0291363c5f96e1c05fcb', 'message': 'WIP - HPE 3par - PP - Return LUN ids from both arrays\n\nDuring peer persistence, when volume is attached to instance,\nvlun is created on both primary & secondary arrays.\n\nhpe_3par_fc.py returns only the LUN id from pri array.\n\nFor details, kindly refer launchpad bug.\n\nThis patch updates the code to return both LUN ids.\n\nCloses-Bug: #2044255\nChange-Id: If47948aa079a3bb14991974fed73bf4015a99510\n'}, {'number': 3, 'created': '2024-01-10 07:09:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/81de2d93224946a081ffe998e861cc0152403c1c', 'message': 'WIP - HPE 3par - PP - Return LUN ids from both arrays\n\nDuring peer persistence, when volume is attached to instance,\nvlun is created on both primary & secondary arrays.\n\nhpe_3par_fc.py returns only the LUN id from pri array.\n\nFor details, kindly refer launchpad bug.\n\nThis patch updates the code to return both LUN ids.\n\nCloses-Bug: #2044255\nChange-Id: If47948aa079a3bb14991974fed73bf4015a99510\n'}, {'number': 4, 'created': '2024-03-15 12:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/34862766c743d04e8bf50c4f10790788ab455fb8', 'message': 'HPE 3par: PP - Return LUN ids from both arrays\n\nDuring peer persistence, when volume is attached to instance,\nvlun is created on both primary & secondary arrays.\n\nhpe_3par_fc.py returns only the LUN id from pri array.\n\nFor details, kindly refer launchpad bug.\n\nThis patch updates the code to return both LUN ids.\n\nCloses-Bug: #2044255\nChange-Id: If47948aa079a3bb14991974fed73bf4015a99510\n'}, {'number': 5, 'created': '2024-03-18 05:25:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ffb836b3cb0bc9429814cc40441f07bd6b9e57ba', 'message': 'HPE 3par: PP - Return LUN ids from both arrays\n\nDuring peer persistence, when volume is attached to instance,\nvlun is created on both primary & secondary arrays.\n\nhpe_3par_fc.py returns the LUN id only from primary array.\n\nFor details, kindly refer launchpad bug.\n\nThis patch updates the code to return both LUN ids.\n\nCloses-Bug: #2044255\nChange-Id: If47948aa079a3bb14991974fed73bf4015a99510\n'}, {'number': 6, 'created': '2024-04-03 12:39:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6b2188d669292b42e3cdafb5cd0016905830acb6', 'message': 'HPE 3par: PP - Return LUN ids from both arrays\n\nDuring peer persistence, when volume is attached to instance,\nvlun is created on both primary & secondary arrays.\n\nhpe_3par_fc.py returns the LUN id only from primary array.\n\nFor details, kindly refer launchpad bug.\n\nThis patch updates the code to return both LUN ids.\n\nCloses-Bug: #2044255\nChange-Id: If47948aa079a3bb14991974fed73bf4015a99510\n'}, {'number': 7, 'created': '2024-04-16 09:47:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1f66d2e4d9bf34e594d4dc633ed8a1aefc2315ab', 'message': 'HPE 3par: PP - Return LUN ids from both arrays\n\nDuring peer persistence, when volume is attached to instance,\nvlun is created on both primary & secondary arrays.\n\nhpe_3par_fc.py returns the LUN id only from primary array.\n\nFor details, kindly refer launchpad bug.\n\nThis patch updates the code to return both LUN ids.\n\nCloses-Bug: #2044255\nChange-Id: If47948aa079a3bb14991974fed73bf4015a99510\n'}, {'number': 8, 'created': '2024-05-06 06:02:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ec953c10460e86a2163dbcb9eb6bf621b42f8573', 'message': 'HPE 3par: PP - Return LUN ids from both arrays\n\nDuring peer persistence, when volume is attached to instance,\nvlun is created on both primary & secondary arrays.\n\nhpe_3par_fc.py returns the LUN id only from primary array.\n\nFor details, kindly refer launchpad bug.\n\nThis patch updates the code to return both LUN ids.\n\nCloses-Bug: #2044255\nChange-Id: If47948aa079a3bb14991974fed73bf4015a99510\n'}, {'number': 9, 'created': '2024-06-04 03:41:03.000000000', 'files': ['releasenotes/notes/hpe-3par-return-lun-ids-6bc973ef74d0bf9c.yaml', 'cinder/volume/drivers/hpe/hpe_3par_fc.py', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/efa1e80fb2386afa3ffb07328e862e58f60836d7', 'message': 'HPE 3par: PP - Return LUN ids from both arrays\n\nDuring peer persistence, when volume is attached to instance,\nvlun is created on both primary & secondary arrays.\n\nhpe_3par_fc.py returns the LUN id only from primary array.\n\nFor details, kindly refer launchpad bug.\n\nThis patch updates the code to return both LUN ids.\n\nCloses-Bug: #2044255\nChange-Id: If47948aa079a3bb14991974fed73bf4015a99510\n'}]",22,901588,efa1e80fb2386afa3ffb07328e862e58f60836d7,180,3,9,29122,,,0,"HPE 3par: PP - Return LUN ids from both arrays

During peer persistence, when volume is attached to instance,
vlun is created on both primary & secondary arrays.

hpe_3par_fc.py returns the LUN id only from primary array.

For details, kindly refer launchpad bug.

This patch updates the code to return both LUN ids.

Closes-Bug: #2044255
Change-Id: If47948aa079a3bb14991974fed73bf4015a99510
",git fetch https://review.opendev.org/openstack/cinder refs/changes/88/901588/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/hpe/hpe_3par_fc.py', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py']",2,900682dce610656ea9888206875d01e5d9fc5461,If47948aa079a3bb14991974fed73bf4015a99510," 'target_luns': [90, 90, 90, 90],"," 'target_lun': 90,",9,2
openstack%2Fcharm-keystone~921588,openstack/charm-keystone,master,Ibfabb2b9509a0d0543af048a489d33071ca69830,Add service role to service users,MERGED,2024-06-08 02:49:18.000000000,2024-06-12 20:53:19.000000000,2024-06-12 20:53:19.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-08 02:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/05983d057035f5caa6e1e6151c15e66769ba0239', 'message': 'Add service role to service users\n\nThe Secure RBAC work adds a service role which is utilized in some\npolicies for various services (e.g. neutron requires the service role\nfor updating port binding information). Ensure that all service\nusers have the service role added.\n\nChange-Id: Ibfabb2b9509a0d0543af048a489d33071ca69830\n'}, {'number': 2, 'created': '2024-06-10 03:21:27.000000000', 'files': ['unit_tests/test_keystone_utils.py', 'hooks/keystone_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/cb6aebb850518fde5122e9b157860cabdfa34059', 'message': 'Add service role to service users\n\nThe Secure RBAC work adds a service role which is utilized in some\npolicies for various services (e.g. neutron requires the service role\nfor updating port binding information). Ensure that all service\nusers have the service role added.\n\nChange-Id: Ibfabb2b9509a0d0543af048a489d33071ca69830\n'}]",3,921588,cb6aebb850518fde5122e9b157860cabdfa34059,13,3,2,8992,,,0,"Add service role to service users

The Secure RBAC work adds a service role which is utilized in some
policies for various services (e.g. neutron requires the service role
for updating port binding information). Ensure that all service
users have the service role added.

Change-Id: Ibfabb2b9509a0d0543af048a489d33071ca69830
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/88/921588/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_keystone_utils.py', 'hooks/keystone_utils.py']",2,05983d057035f5caa6e1e6151c15e66769ba0239,add-service-role,"SERViCE_ROLE = ""service"" # Ensure the service have the service role set. In 2024.1 release # service such as neutron require the service role for certain # operations to function (e.g. update port binding profiles) create_role(SERViCE_ROLE, user=user, tenant=tenant, domain=SERVICE_DOMAIN)",,18,15
openstack%2Fcharm-octavia~907918,openstack/charm-octavia,stable/xena,I1a973f5c39cb5e4886d6194b6b63ce0bea06e07b,osci.yaml: Increase ha-ovn job timeout,MERGED,2024-02-06 02:33:05.000000000,2024-06-12 20:53:13.000000000,2024-06-12 20:53:13.000000000,"[{'_account_id': 1131}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-02-06 02:33:05.000000000', 'files': ['osci.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/c154866c7a223d02610175aa8be8556ea09de0fd', 'message': 'osci.yaml: Increase ha-ovn job timeout\n\nThe ha-ovn jobs specifically are frequently taking at least 3h when\nsuccessful and often fail when almost finished with a timeout of 4h\n(14400s) which is the timeout for the parent func-target job.\n\nIncrease the timeout for these specific jobs to 5h (18000s).\n\nChange-Id: I1a973f5c39cb5e4886d6194b6b63ce0bea06e07b\n(cherry picked from commit b25affc465e0882748e4658b83e47641ffbf7751)\n'}]",0,907918,c154866c7a223d02610175aa8be8556ea09de0fd,8,4,1,21107,,,0,"osci.yaml: Increase ha-ovn job timeout

The ha-ovn jobs specifically are frequently taking at least 3h when
successful and often fail when almost finished with a timeout of 4h
(14400s) which is the timeout for the parent func-target job.

Increase the timeout for these specific jobs to 5h (18000s).

Change-Id: I1a973f5c39cb5e4886d6194b6b63ce0bea06e07b
(cherry picked from commit b25affc465e0882748e4658b83e47641ffbf7751)
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/18/907918/1 && git format-patch -1 --stdout FETCH_HEAD,['osci.yaml'],1,c154866c7a223d02610175aa8be8556ea09de0fd,, timeout: 18000 timeout: 18000,,2,0
openstack%2Fcharm-octavia~907916,openstack/charm-octavia,stable/yoga,I1a973f5c39cb5e4886d6194b6b63ce0bea06e07b,osci.yaml: Increase ha-ovn job timeout,MERGED,2024-02-06 02:20:57.000000000,2024-06-12 20:53:12.000000000,2024-06-12 20:53:12.000000000,"[{'_account_id': 1131}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-02-06 02:20:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/06930874b987955ea0e681fd8464ce64f2e77892', 'message': 'osci.yaml: Increase ha-ovn job timeout\n\nThe ha-ovn jobs specifically are frequently taking at least 3h when\nsuccessful and often fail when almost finished with a timeout of 4h\n(14400s) which is the timeout for the parent func-target job.\n\nIncrease the timeout for these specific jobs.\n\nChange-Id: I1a973f5c39cb5e4886d6194b6b63ce0bea06e07b\n(cherry picked from commit 531406ccb595f766c8a70c07b3e1903a40b38cca)\n'}, {'number': 2, 'created': '2024-02-06 02:31:46.000000000', 'files': ['osci.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/0ebf395183d282b87671ef958cfd8769ead727df', 'message': 'osci.yaml: Increase ha-ovn job timeout\n\nThe ha-ovn jobs specifically are frequently taking at least 3h when\nsuccessful and often fail when almost finished with a timeout of 4h\n(14400s) which is the timeout for the parent func-target job.\n\nIncrease the timeout for these specific jobs to 5h (18000s).\n\nChange-Id: I1a973f5c39cb5e4886d6194b6b63ce0bea06e07b\n(cherry picked from commit b25affc465e0882748e4658b83e47641ffbf7751)\n'}]",0,907916,0ebf395183d282b87671ef958cfd8769ead727df,9,4,2,21107,,,0,"osci.yaml: Increase ha-ovn job timeout

The ha-ovn jobs specifically are frequently taking at least 3h when
successful and often fail when almost finished with a timeout of 4h
(14400s) which is the timeout for the parent func-target job.

Increase the timeout for these specific jobs to 5h (18000s).

Change-Id: I1a973f5c39cb5e4886d6194b6b63ce0bea06e07b
(cherry picked from commit b25affc465e0882748e4658b83e47641ffbf7751)
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/16/907916/1 && git format-patch -1 --stdout FETCH_HEAD,['osci.yaml'],1,06930874b987955ea0e681fd8464ce64f2e77892,, timeout: 21600 timeout: 21600 timeout: 21600,,3,0
openstack%2Fcharm-octavia~907701,openstack/charm-octavia,stable/zed,I1a973f5c39cb5e4886d6194b6b63ce0bea06e07b,osci.yaml: Increase ha-ovn job timeout,MERGED,2024-02-05 05:39:44.000000000,2024-06-12 20:53:11.000000000,2024-06-12 20:53:11.000000000,"[{'_account_id': 1131}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-02-05 05:39:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/3eab4c84dce723fc29b9dd6f7f1de2f8c8ee0ddf', 'message': 'osci.yaml: Increase ha-ovn job timeout\n\nThe ha-ovn jobs specifically are frequently taking at least 3h when\nsuccessful and often fail when almost finished with a timeout of 4h\n(14400s) which is the timeout for the parent func-target job.\n\nIncrease the timeout for these specific jobs.\n\nChange-Id: I1a973f5c39cb5e4886d6194b6b63ce0bea06e07b\n(cherry picked from commit 531406ccb595f766c8a70c07b3e1903a40b38cca)\n'}, {'number': 2, 'created': '2024-02-06 02:29:52.000000000', 'files': ['osci.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/8d483325ba3520439bf5835052ffc9860b3a5475', 'message': 'osci.yaml: Increase ha-ovn job timeout\n\nThe ha-ovn jobs specifically are frequently taking at least 3h when\nsuccessful and often fail when almost finished with a timeout of 4h\n(14400s) which is the timeout for the parent func-target job.\n\nIncrease the timeout for these specific jobs to 5h (18000s).\n\nChange-Id: I1a973f5c39cb5e4886d6194b6b63ce0bea06e07b\n(cherry picked from commit b25affc465e0882748e4658b83e47641ffbf7751)\n'}]",3,907701,8d483325ba3520439bf5835052ffc9860b3a5475,17,4,2,21107,,,0,"osci.yaml: Increase ha-ovn job timeout

The ha-ovn jobs specifically are frequently taking at least 3h when
successful and often fail when almost finished with a timeout of 4h
(14400s) which is the timeout for the parent func-target job.

Increase the timeout for these specific jobs to 5h (18000s).

Change-Id: I1a973f5c39cb5e4886d6194b6b63ce0bea06e07b
(cherry picked from commit b25affc465e0882748e4658b83e47641ffbf7751)
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/01/907701/1 && git format-patch -1 --stdout FETCH_HEAD,['osci.yaml'],1,3eab4c84dce723fc29b9dd6f7f1de2f8c8ee0ddf,, timeout: 21600 timeout: 21600 timeout: 21600,,3,0
openstack%2Fcharm-neutron-api~921811,openstack/charm-neutron-api,stable/zed,I245cfe2f8fdb4d8ca325ade0c22771efa31b4bf2,Enable more recent DNS extensions (dns-integration-domain-keywords),MERGED,2024-06-12 03:07:48.000000000,2024-06-12 20:50:28.000000000,2024-06-12 20:50:28.000000000,"[{'_account_id': 1131}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-12 03:07:48.000000000', 'files': ['hooks/neutron_api_context.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/c4b77746c6c21b0646782d8effb585c9302dac3d', 'message': 'Enable more recent DNS extensions (dns-integration-domain-keywords)\n\nSince yoga, there have been two ""additions"" to the DNS extensions, which\nsimply build on top of the older ones. By changing the DNS extension to\nbe the latest (dns-integration-domain-keywords), all 4 extensions will\nbe activated:\n\n- dns-integration (already included)\n- dns-domain-ports (the previous default extension)\n- subnet-dns-publish-fixed-ip\n- dns-integration-domain-keywords\n\nThese extensions are required to enable replacement of keywords in DNS\nentries and allow publishing fixed IPs without restrictions [1].\n\nI have tested this on a local cluster and confirmed that the extensions\nare enabled, and allow me to make use of the two new features.\n\n[1] https://docs.openstack.org/designate/latest/user/neutron-integration.html\n\nCloses-Bug: #2028163\nChange-Id: I245cfe2f8fdb4d8ca325ade0c22771efa31b4bf2\n(cherry picked from commit 3432ae7f02deb274aa222443faf83ce662bbaefc)\n(cherry picked from commit 4bb231680306ca11be002a66201e2180d6e56609)\n'}]",0,921811,c4b77746c6c21b0646782d8effb585c9302dac3d,8,4,1,5112,,,0,"Enable more recent DNS extensions (dns-integration-domain-keywords)

Since yoga, there have been two ""additions"" to the DNS extensions, which
simply build on top of the older ones. By changing the DNS extension to
be the latest (dns-integration-domain-keywords), all 4 extensions will
be activated:

- dns-integration (already included)
- dns-domain-ports (the previous default extension)
- subnet-dns-publish-fixed-ip
- dns-integration-domain-keywords

These extensions are required to enable replacement of keywords in DNS
entries and allow publishing fixed IPs without restrictions [1].

I have tested this on a local cluster and confirmed that the extensions
are enabled, and allow me to make use of the two new features.

[1] https://docs.openstack.org/designate/latest/user/neutron-integration.html

Closes-Bug: #2028163
Change-Id: I245cfe2f8fdb4d8ca325ade0c22771efa31b4bf2
(cherry picked from commit 3432ae7f02deb274aa222443faf83ce662bbaefc)
(cherry picked from commit 4bb231680306ca11be002a66201e2180d6e56609)
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/11/921811/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/neutron_api_context.py'],1,c4b77746c6c21b0646782d8effb585c9302dac3d,dns-extensions-backport-2023.2-stable/2023.1-stable/zed,EXTENSION_DRIVER_DNS_DOMAIN_KEYWORDS = 'dns_domain_keywords' elif cmp_release < 'yoga': else: extension_drivers.append(EXTENSION_DRIVER_DNS_DOMAIN_KEYWORDS), else:,4,1
openstack%2Fcharm-neutron-api~921810,openstack/charm-neutron-api,stable/yoga,I245cfe2f8fdb4d8ca325ade0c22771efa31b4bf2,Enable more recent DNS extensions (dns-integration-domain-keywords),MERGED,2024-06-12 03:06:45.000000000,2024-06-12 20:50:28.000000000,2024-06-12 20:50:28.000000000,"[{'_account_id': 1131}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-12 03:06:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/7460c51febc9f07cfbdceaf4fceb7d49181ea454', 'message': 'Enable more recent DNS extensions (dns-integration-domain-keywords)\n\nSince yoga, there have been two ""additions"" to the DNS extensions, which\nsimply build on top of the older ones. By changing the DNS extension to\nbe the latest (dns-integration-domain-keywords), all 4 extensions will\nbe activated:\n\n- dns-integration (already included)\n- dns-domain-ports (the previous default extension)\n- subnet-dns-publish-fixed-ip\n- dns-integration-domain-keywords\n\nThese extensions are required to enable replacement of keywords in DNS\nentries and allow publishing fixed IPs without restrictions [1].\n\nI have tested this on a local cluster and confirmed that the extensions\nare enabled, and allow me to make use of the two new features.\n\n[1] https://docs.openstack.org/designate/latest/user/neutron-integration.html\n\nCloses-Bug: #2028163\nChange-Id: I245cfe2f8fdb4d8ca325ade0c22771efa31b4bf2\n(cherry picked from commit 3432ae7f02deb274aa222443faf83ce662bbaefc)\n(cherry picked from commit 4bb231680306ca11be002a66201e2180d6e56609)\n'}, {'number': 2, 'created': '2024-06-12 03:08:34.000000000', 'files': ['hooks/neutron_api_context.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/c03ec8f984db7e1f709d15f346d4b4d6e4de2593', 'message': 'Enable more recent DNS extensions (dns-integration-domain-keywords)\n\nSince yoga, there have been two ""additions"" to the DNS extensions, which\nsimply build on top of the older ones. By changing the DNS extension to\nbe the latest (dns-integration-domain-keywords), all 4 extensions will\nbe activated:\n\n- dns-integration (already included)\n- dns-domain-ports (the previous default extension)\n- subnet-dns-publish-fixed-ip\n- dns-integration-domain-keywords\n\nThese extensions are required to enable replacement of keywords in DNS\nentries and allow publishing fixed IPs without restrictions [1].\n\nI have tested this on a local cluster and confirmed that the extensions\nare enabled, and allow me to make use of the two new features.\n\n[1] https://docs.openstack.org/designate/latest/user/neutron-integration.html\n\nCloses-Bug: #2028163\nChange-Id: I245cfe2f8fdb4d8ca325ade0c22771efa31b4bf2\n(cherry picked from commit 3432ae7f02deb274aa222443faf83ce662bbaefc)\n(cherry picked from commit 4bb231680306ca11be002a66201e2180d6e56609)\n'}]",0,921810,c03ec8f984db7e1f709d15f346d4b4d6e4de2593,9,4,2,5112,,,0,"Enable more recent DNS extensions (dns-integration-domain-keywords)

Since yoga, there have been two ""additions"" to the DNS extensions, which
simply build on top of the older ones. By changing the DNS extension to
be the latest (dns-integration-domain-keywords), all 4 extensions will
be activated:

- dns-integration (already included)
- dns-domain-ports (the previous default extension)
- subnet-dns-publish-fixed-ip
- dns-integration-domain-keywords

These extensions are required to enable replacement of keywords in DNS
entries and allow publishing fixed IPs without restrictions [1].

I have tested this on a local cluster and confirmed that the extensions
are enabled, and allow me to make use of the two new features.

[1] https://docs.openstack.org/designate/latest/user/neutron-integration.html

Closes-Bug: #2028163
Change-Id: I245cfe2f8fdb4d8ca325ade0c22771efa31b4bf2
(cherry picked from commit 3432ae7f02deb274aa222443faf83ce662bbaefc)
(cherry picked from commit 4bb231680306ca11be002a66201e2180d6e56609)
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/10/921810/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/neutron_api_context.py'],1,7460c51febc9f07cfbdceaf4fceb7d49181ea454,dns-extensions-backport-2023.2-stable/2023.1-stable/zed-stable/yoga,EXTENSION_DRIVER_DNS_DOMAIN_KEYWORDS = 'dns_domain_keywords' elif cmp_release < 'yoga': else: extension_drivers.append(EXTENSION_DRIVER_DNS_DOMAIN_KEYWORDS), else:,4,1
openstack%2Fcharm-neutron-api~921809,openstack/charm-neutron-api,stable/2023.1,I245cfe2f8fdb4d8ca325ade0c22771efa31b4bf2,Enable more recent DNS extensions (dns-integration-domain-keywords),MERGED,2024-06-12 03:05:58.000000000,2024-06-12 20:50:27.000000000,2024-06-12 20:50:27.000000000,"[{'_account_id': 1131}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-12 03:05:58.000000000', 'files': ['hooks/neutron_api_context.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/d7b37fc871d7a190850b318f5ff74fe8e345b609', 'message': 'Enable more recent DNS extensions (dns-integration-domain-keywords)\n\nSince yoga, there have been two ""additions"" to the DNS extensions, which\nsimply build on top of the older ones. By changing the DNS extension to\nbe the latest (dns-integration-domain-keywords), all 4 extensions will\nbe activated:\n\n- dns-integration (already included)\n- dns-domain-ports (the previous default extension)\n- subnet-dns-publish-fixed-ip\n- dns-integration-domain-keywords\n\nThese extensions are required to enable replacement of keywords in DNS\nentries and allow publishing fixed IPs without restrictions [1].\n\nI have tested this on a local cluster and confirmed that the extensions\nare enabled, and allow me to make use of the two new features.\n\n[1] https://docs.openstack.org/designate/latest/user/neutron-integration.html\n\nCloses-Bug: #2028163\nChange-Id: I245cfe2f8fdb4d8ca325ade0c22771efa31b4bf2\n(cherry picked from commit 3432ae7f02deb274aa222443faf83ce662bbaefc)\n(cherry picked from commit 4bb231680306ca11be002a66201e2180d6e56609)\n'}]",0,921809,d7b37fc871d7a190850b318f5ff74fe8e345b609,8,4,1,5112,,,0,"Enable more recent DNS extensions (dns-integration-domain-keywords)

Since yoga, there have been two ""additions"" to the DNS extensions, which
simply build on top of the older ones. By changing the DNS extension to
be the latest (dns-integration-domain-keywords), all 4 extensions will
be activated:

- dns-integration (already included)
- dns-domain-ports (the previous default extension)
- subnet-dns-publish-fixed-ip
- dns-integration-domain-keywords

These extensions are required to enable replacement of keywords in DNS
entries and allow publishing fixed IPs without restrictions [1].

I have tested this on a local cluster and confirmed that the extensions
are enabled, and allow me to make use of the two new features.

[1] https://docs.openstack.org/designate/latest/user/neutron-integration.html

Closes-Bug: #2028163
Change-Id: I245cfe2f8fdb4d8ca325ade0c22771efa31b4bf2
(cherry picked from commit 3432ae7f02deb274aa222443faf83ce662bbaefc)
(cherry picked from commit 4bb231680306ca11be002a66201e2180d6e56609)
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/09/921809/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/neutron_api_context.py'],1,d7b37fc871d7a190850b318f5ff74fe8e345b609,dns-extensions-backport-2023.2-stable/2023.1,EXTENSION_DRIVER_DNS_DOMAIN_KEYWORDS = 'dns_domain_keywords' elif cmp_release < 'yoga': else: extension_drivers.append(EXTENSION_DRIVER_DNS_DOMAIN_KEYWORDS), else:,4,1
openstack%2Fcharm-glance~901618,openstack/charm-glance,stable/yoga,I57c5fa293b421483b0879f24ddac260e47c7cbef,Restore original paste files if glance-common re-installation does not restore them.,MERGED,2023-11-21 19:10:24.000000000,2024-06-12 20:50:23.000000000,2024-06-12 20:50:23.000000000,"[{'_account_id': 1131}, {'_account_id': 2424}, {'_account_id': 6737}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-11-21 19:10:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/327c97c1497ceb7342c071fc634aee0d6cb38feb', 'message': 'Restore original paste files if glance-common\nre-installation does not restore them.\n\nImplemented a unit test function for the above\nscenario.\n\nCall apt_update from upgrade_charm().\n\nCloses-Bug: 2043520\nRelated-Bug: 2042792\nChange-Id: I57c5fa293b421483b0879f24ddac260e47c7cbef\n(cherry picked from commit 59efce8bc81fc7800d2cb6ba696028832063a6e0)\n'}, {'number': 2, 'created': '2023-11-21 21:58:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/9f23fa37cee46e556571448ef17da193015befca', 'message': 'Restore original paste files if glance-common\nre-installation does not restore them.\n\nImplemented a unit test function for the above\nscenario.\n\nCall apt_update from upgrade_charm().\n\nCloses-Bug: 2043520\nRelated-Bug: 2042792\nChange-Id: I57c5fa293b421483b0879f24ddac260e47c7cbef\n(cherry picked from commit 59efce8bc81fc7800d2cb6ba696028832063a6e0)\n'}, {'number': 3, 'created': '2023-11-22 12:04:40.000000000', 'files': ['hooks/glance_utils.py', 'unit_tests/test_glance_utils.py', 'hooks/glance_relations.py'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/2ff3f621e49b8869dc0b44043e4e7f0cfa2bfd42', 'message': 'Restore original paste files if glance-common\nre-installation does not restore them.\n\nImplemented a unit test function for the above\nscenario.\n\nCall apt_update from upgrade_charm().\n\nCloses-Bug: #2042792\nChange-Id: I57c5fa293b421483b0879f24ddac260e47c7cbef\n(cherry picked from commit 59efce8bc81fc7800d2cb6ba696028832063a6e0)\n'}]",5,901618,2ff3f621e49b8869dc0b44043e4e7f0cfa2bfd42,21,6,3,35648,,,0,"Restore original paste files if glance-common
re-installation does not restore them.

Implemented a unit test function for the above
scenario.

Call apt_update from upgrade_charm().

Closes-Bug: #2042792
Change-Id: I57c5fa293b421483b0879f24ddac260e47c7cbef
(cherry picked from commit 59efce8bc81fc7800d2cb6ba696028832063a6e0)
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/18/901618/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/glance_utils.py', 'unit_tests/test_glance_utils.py', 'hooks/glance_relations.py']",3,327c97c1497ceb7342c071fc634aee0d6cb38feb,, apt_update(),,37,5
openstack%2Fcharm-glance~901619,openstack/charm-glance,stable/zed,I57c5fa293b421483b0879f24ddac260e47c7cbef,Restore original paste files if glance-common re-installation does not restore them.,MERGED,2023-11-21 19:14:55.000000000,2024-06-12 20:50:22.000000000,2024-06-12 20:50:22.000000000,"[{'_account_id': 1131}, {'_account_id': 2424}, {'_account_id': 6737}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-11-21 19:14:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/b14b397ad716a5b02063b3734d8f913015bc34b6', 'message': 'Restore original paste files if glance-common\nre-installation does not restore them.\n\nImplemented a unit test function for the above\nscenario.\n\nCall apt_update from upgrade_charm().\n\nCloses-Bug: 2043522\nRelated-Bug: 2042792\nChange-Id: I57c5fa293b421483b0879f24ddac260e47c7cbef\n(cherry picked from commit 59efce8bc81fc7800d2cb6ba696028832063a6e0)\n'}, {'number': 2, 'created': '2023-11-22 12:04:18.000000000', 'files': ['hooks/glance_utils.py', 'unit_tests/test_glance_utils.py', 'hooks/glance_relations.py'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/ca99b92ba43c727c057c83799d9b4155d6275cf0', 'message': 'Restore original paste files if glance-common\nre-installation does not restore them.\n\nImplemented a unit test function for the above\nscenario.\n\nCall apt_update from upgrade_charm().\n\nCloses-Bug: #2042792\nChange-Id: I57c5fa293b421483b0879f24ddac260e47c7cbef\n(cherry picked from commit 59efce8bc81fc7800d2cb6ba696028832063a6e0)\n'}]",2,901619,ca99b92ba43c727c057c83799d9b4155d6275cf0,15,6,2,35648,,,0,"Restore original paste files if glance-common
re-installation does not restore them.

Implemented a unit test function for the above
scenario.

Call apt_update from upgrade_charm().

Closes-Bug: #2042792
Change-Id: I57c5fa293b421483b0879f24ddac260e47c7cbef
(cherry picked from commit 59efce8bc81fc7800d2cb6ba696028832063a6e0)
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/19/901619/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/glance_utils.py', 'unit_tests/test_glance_utils.py', 'hooks/glance_relations.py']",3,b14b397ad716a5b02063b3734d8f913015bc34b6,, apt_update(),,37,5
openstack%2Fcharm-glance~901625,openstack/charm-glance,stable/2023.1,I57c5fa293b421483b0879f24ddac260e47c7cbef,Restore original paste files if glance-common re-installation does not restore them.,MERGED,2023-11-21 20:48:05.000000000,2024-06-12 20:50:21.000000000,2024-06-12 20:50:21.000000000,"[{'_account_id': 1131}, {'_account_id': 2424}, {'_account_id': 6737}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-11-21 20:48:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/02ee2c4dda309c2ec96c69643c8b9ed905fe11b7', 'message': 'Restore original paste files if glance-common\nre-installation does not restore them.\n\nImplemented a unit test function for the above\nscenario.\n\nCall apt_update from upgrade_charm().\n\nCloses-Bug: 2043525\nRelated-Bug: 2042792\nChange-Id: I57c5fa293b421483b0879f24ddac260e47c7cbef\n(cherry picked from commit 59efce8bc81fc7800d2cb6ba696028832063a6e0)\n'}, {'number': 2, 'created': '2023-11-22 12:04:00.000000000', 'files': ['hooks/glance_utils.py', 'unit_tests/test_glance_utils.py', 'hooks/glance_relations.py'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/25e309f2475dbe9a7c107698b193bb06dcbfe24e', 'message': 'Restore original paste files if glance-common\nre-installation does not restore them.\n\nImplemented a unit test function for the above\nscenario.\n\nCall apt_update from upgrade_charm().\n\nCloses-Bug: #2042792\nChange-Id: I57c5fa293b421483b0879f24ddac260e47c7cbef\n(cherry picked from commit 59efce8bc81fc7800d2cb6ba696028832063a6e0)\n'}]",1,901625,25e309f2475dbe9a7c107698b193bb06dcbfe24e,13,6,2,35648,,,0,"Restore original paste files if glance-common
re-installation does not restore them.

Implemented a unit test function for the above
scenario.

Call apt_update from upgrade_charm().

Closes-Bug: #2042792
Change-Id: I57c5fa293b421483b0879f24ddac260e47c7cbef
(cherry picked from commit 59efce8bc81fc7800d2cb6ba696028832063a6e0)
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/25/901625/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/glance_utils.py', 'unit_tests/test_glance_utils.py', 'hooks/glance_relations.py']",3,02ee2c4dda309c2ec96c69643c8b9ed905fe11b7,, apt_update(),,37,5
openstack%2Fcharm-vault~903837,openstack/charm-vault,stable/1.7,I64f1c2c9ced8ae4dff2bf232c6e673b596f84a14,Remove 'tls_insecure_skip_verify' in vault config,MERGED,2023-12-19 12:30:39.000000000,2024-06-12 20:49:04.000000000,2024-06-12 20:49:04.000000000,"[{'_account_id': 1131}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-12-19 12:30:39.000000000', 'files': ['src/templates/vault.hcl.j2'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/364571a2a841b3c43548a73fcdff6952f94067cf', 'message': ""Remove 'tls_insecure_skip_verify' in vault config\n\nThis commit removes the tls_insecure_skip_verify field in the vault\nconfig template. This was added as a workaround for a bug in the vault's\netcd client before 1.4.0 release. Since all channels now uses 1.5 or\nnewer versions of vault, this line can be removed.\n\n\nChange-Id: I64f1c2c9ced8ae4dff2bf232c6e673b596f84a14\nCloses-Bug: #1979582\n""}]",1,903837,364571a2a841b3c43548a73fcdff6952f94067cf,9,4,1,20870,,,0,"Remove 'tls_insecure_skip_verify' in vault config

This commit removes the tls_insecure_skip_verify field in the vault
config template. This was added as a workaround for a bug in the vault's
etcd client before 1.4.0 release. Since all channels now uses 1.5 or
newer versions of vault, this line can be removed.


Change-Id: I64f1c2c9ced8ae4dff2bf232c6e673b596f84a14
Closes-Bug: #1979582
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/37/903837/1 && git format-patch -1 --stdout FETCH_HEAD,['src/templates/vault.hcl.j2'],1,364571a2a841b3c43548a73fcdff6952f94067cf,1979582_remove_tls_insecure_skip_verify-stable/1.8-stable/1.7,," # Use tls_insecure_skip_verify due to https://github.com/hashicorp/vault/issues/4961 # tls_insecure_skip_verify is currently only supported in the snap version of vault. tls_insecure_skip_verify = ""true""",0,3
openstack%2Fcharm-vault~903836,openstack/charm-vault,stable/1.8,I64f1c2c9ced8ae4dff2bf232c6e673b596f84a14,Remove 'tls_insecure_skip_verify' in vault config,MERGED,2023-12-19 12:30:05.000000000,2024-06-12 20:49:03.000000000,2024-06-12 20:49:03.000000000,"[{'_account_id': 1131}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-12-19 12:30:05.000000000', 'files': ['src/templates/vault.hcl.j2'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/2913e367465b81a544581ac01007b176ee4a94bb', 'message': ""Remove 'tls_insecure_skip_verify' in vault config\n\nThis commit removes the tls_insecure_skip_verify field in the vault\nconfig template. This was added as a workaround for a bug in the vault's\netcd client before 1.4.0 release. Since all channels now uses 1.5 or\nnewer versions of vault, this line can be removed.\n\n\nChange-Id: I64f1c2c9ced8ae4dff2bf232c6e673b596f84a14\nCloses-Bug: #1979582\n""}]",1,903836,2913e367465b81a544581ac01007b176ee4a94bb,10,4,1,20870,,,0,"Remove 'tls_insecure_skip_verify' in vault config

This commit removes the tls_insecure_skip_verify field in the vault
config template. This was added as a workaround for a bug in the vault's
etcd client before 1.4.0 release. Since all channels now uses 1.5 or
newer versions of vault, this line can be removed.


Change-Id: I64f1c2c9ced8ae4dff2bf232c6e673b596f84a14
Closes-Bug: #1979582
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/36/903836/1 && git format-patch -1 --stdout FETCH_HEAD,['src/templates/vault.hcl.j2'],1,2913e367465b81a544581ac01007b176ee4a94bb,1979582_remove_tls_insecure_skip_verify-stable/1.8,," # Use tls_insecure_skip_verify due to https://github.com/hashicorp/vault/issues/4961 # tls_insecure_skip_verify is currently only supported in the snap version of vault. tls_insecure_skip_verify = ""true""",0,3
openstack%2Fcharm-octavia~907700,openstack/charm-octavia,stable/2023.1,I1a973f5c39cb5e4886d6194b6b63ce0bea06e07b,osci.yaml: Increase ha-ovn job timeout,MERGED,2024-02-05 05:36:19.000000000,2024-06-12 20:40:38.000000000,2024-06-12 20:40:38.000000000,"[{'_account_id': 1131}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-02-05 05:36:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/a03d2ccef51ec8a1f2a40bbfb3f1f62b85871df5', 'message': 'osci.yaml: Increase ha-ovn job timeout\n\nThe ha-ovn jobs specifically are frequently taking at least 3h when\nsuccessful and often fail when almost finished with a timeout of 4h\n(14400s) which is the timeout for the parent func-target job.\n\nIncrease the timeout for these specific jobs.\n\nChange-Id: I1a973f5c39cb5e4886d6194b6b63ce0bea06e07b\n(cherry picked from commit 531406ccb595f766c8a70c07b3e1903a40b38cca)\n'}, {'number': 2, 'created': '2024-02-06 02:28:36.000000000', 'files': ['osci.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/844cb773a8a88472fa19f47c00c3247ac656bd82', 'message': 'osci.yaml: Increase ha-ovn job timeout\n\nThe ha-ovn jobs specifically are frequently taking at least 3h when\nsuccessful and often fail when almost finished with a timeout of 4h\n(14400s) which is the timeout for the parent func-target job.\n\nIncrease the timeout for these specific jobs to 5h (18000s).\n\nChange-Id: I1a973f5c39cb5e4886d6194b6b63ce0bea06e07b\n(cherry picked from commit b25affc465e0882748e4658b83e47641ffbf7751)\n'}]",7,907700,844cb773a8a88472fa19f47c00c3247ac656bd82,24,4,2,21107,,,0,"osci.yaml: Increase ha-ovn job timeout

The ha-ovn jobs specifically are frequently taking at least 3h when
successful and often fail when almost finished with a timeout of 4h
(14400s) which is the timeout for the parent func-target job.

Increase the timeout for these specific jobs to 5h (18000s).

Change-Id: I1a973f5c39cb5e4886d6194b6b63ce0bea06e07b
(cherry picked from commit b25affc465e0882748e4658b83e47641ffbf7751)
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/00/907700/1 && git format-patch -1 --stdout FETCH_HEAD,['osci.yaml'],1,a03d2ccef51ec8a1f2a40bbfb3f1f62b85871df5,, timeout: 21600 timeout: 21600 timeout: 21600,,3,0
openstack%2Fcharm-octavia~907699,openstack/charm-octavia,stable/2023.2,I1a973f5c39cb5e4886d6194b6b63ce0bea06e07b,osci.yaml: Increase ha-ovn job timeout,MERGED,2024-02-05 05:29:48.000000000,2024-06-12 20:40:37.000000000,2024-06-12 20:40:37.000000000,"[{'_account_id': 1131}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-02-05 05:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/8c836d913571d8523e47054198448ccc2c4260ed', 'message': 'osci.yaml: Increase ha-ovn job timeout\n\nThe ha-ovn jobs specifically are frequently taking at least 3h when\nsuccessful and often fail when almost finished with a timeout of 4h\n(14400s) which is the timeout for the parent func-target job.\n\nIncrease the timeout for these specific jobs.\n\nChange-Id: I1a973f5c39cb5e4886d6194b6b63ce0bea06e07b\n(cherry picked from commit 531406ccb595f766c8a70c07b3e1903a40b38cca)\n'}, {'number': 2, 'created': '2024-02-06 02:27:30.000000000', 'files': ['osci.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/525a957658bf023273e6471887a70fa3f36359b4', 'message': 'osci.yaml: Increase ha-ovn job timeout\n\nThe ha-ovn jobs specifically are frequently taking at least 3h when\nsuccessful and often fail when almost finished with a timeout of 4h\n(14400s) which is the timeout for the parent func-target job.\n\nIncrease the timeout for these specific jobs to 5h (18000s).\n\nChange-Id: I1a973f5c39cb5e4886d6194b6b63ce0bea06e07b\n(cherry picked from commit b25affc465e0882748e4658b83e47641ffbf7751)\n'}]",1,907699,525a957658bf023273e6471887a70fa3f36359b4,13,4,2,21107,,,0,"osci.yaml: Increase ha-ovn job timeout

The ha-ovn jobs specifically are frequently taking at least 3h when
successful and often fail when almost finished with a timeout of 4h
(14400s) which is the timeout for the parent func-target job.

Increase the timeout for these specific jobs to 5h (18000s).

Change-Id: I1a973f5c39cb5e4886d6194b6b63ce0bea06e07b
(cherry picked from commit b25affc465e0882748e4658b83e47641ffbf7751)
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/99/907699/1 && git format-patch -1 --stdout FETCH_HEAD,['osci.yaml'],1,8c836d913571d8523e47054198448ccc2c4260ed,, timeout: 21600 timeout: 21600 timeout: 21600,,3,0
openstack%2Fneutron~921569,openstack/neutron,stable/2023.1,I437ab71f01483bb8adea96757a6d7dd6253df182,"Revert ""Use HasStandardAttributes as parent class for Tags DB model""",MERGED,2024-06-07 19:31:43.000000000,2024-06-12 20:29:15.000000000,2024-06-12 20:27:52.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-07 19:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/39761a3990aa890c48e62858870d7d92ee0a1b75', 'message': 'Revert ""Use HasStandardAttributes as parent class for Tags DB model""\n\nThis reverts commit b92fc1ad6c87c02537d790e63dd9c8a391682ae0.\n\nReason for revert:  Using ""joined"" relation can cause very long query times when dealing with many(hundreds) of tags on a large deployments. The initial reason for this change was to reduce amount of SELECT logs during the testing, but given that this change can have negative side effects on a large deployments(in some corner cases), we will favor the original `subquery` option. See closes-bug link for further details.\n\nChange-Id: I437ab71f01483bb8adea96757a6d7dd6253df182\nCloses-bug: #2068761\n'}, {'number': 2, 'created': '2024-06-11 16:32:14.000000000', 'files': ['neutron/db/models/tag.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4f5c023279a0f9d0db8005848c8b356749ff4c8a', 'message': 'Revert ""Use HasStandardAttributes as parent class for Tags DB model""\n\nThis reverts commit b92fc1ad6c87c02537d790e63dd9c8a391682ae0.\n\nReason for revert:\nThe original change was made as a “cheap win” to optimize the number\nof queries the neutron server makes during testing. This did\nimprove the number of queries made but introduced regression in\nreal world deployments where some customers(through automation)\nwould define hundreds of tags per port across a large deployment.\nI am proposing to revert this change in favor of the old “subquery”\nrelation in order to fix this regression. In addition, I filed the\nRelated-Bug #2069061 to investigate using `selectin` as the more\nappropriate long term solution.\n\nChange-Id: I437ab71f01483bb8adea96757a6d7dd6253df182\nCloses-bug: #2068761\nRelated-Bug: #2069061\n'}]",0,921569,4f5c023279a0f9d0db8005848c8b356749ff4c8a,14,5,2,34271,,,0,"Revert ""Use HasStandardAttributes as parent class for Tags DB model""

This reverts commit b92fc1ad6c87c02537d790e63dd9c8a391682ae0.

Reason for revert:
The original change was made as a “cheap win” to optimize the number
of queries the neutron server makes during testing. This did
improve the number of queries made but introduced regression in
real world deployments where some customers(through automation)
would define hundreds of tags per port across a large deployment.
I am proposing to revert this change in favor of the old “subquery”
relation in order to fix this regression. In addition, I filed the
Related-Bug #2069061 to investigate using `selectin` as the more
appropriate long term solution.

Change-Id: I437ab71f01483bb8adea96757a6d7dd6253df182
Closes-bug: #2068761
Related-Bug: #2069061
",git fetch https://review.opendev.org/openstack/neutron refs/changes/69/921569/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/models/tag.py'],1,39761a3990aa890c48e62858870d7d92ee0a1b75,sql-profiling-revert," backref=orm.backref('tags', lazy='subquery', viewonly=True),"," backref=orm.backref('tags', lazy='joined', viewonly=True),",1,1
openstack%2Fneutron~921830,openstack/neutron,stable/2023.2,I2734984f10341ab97ebbdee11389d214bb1150f3,[OVN] Bump revision number after update_virtual_port_host,MERGED,2024-06-12 08:16:23.000000000,2024-06-12 20:29:12.000000000,2024-06-12 20:27:48.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 25468}]","[{'number': 1, 'created': '2024-06-12 08:16:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/33558515c45a1e9a5f081a0912cc4f0511901cac', 'message': '[OVN] Bump revision number after update_virtual_port_host\n\nThis patch adds bump revision after updating the hostname\nof a virtual port (more specifically its associated port).\nThis way there is no misalignment between the revision number\nof Neutron DB and OVN DB.\n\nIt also avoids the unnecessary execution of the maintenance\ntask to simply match the revision_number.\n\nCloses-Bug: #2069046\nChange-Id: I2734984f10341ab97ebbdee11389d214bb1150f3\n(cherry picked from commit f210a904793b585dafea8085ed62e06f3fed2e6e)\n'}, {'number': 2, 'created': '2024-06-12 09:55:58.000000000', 'files': ['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8d4eeee135a4c6597aa7e6c976a5e13ca3ac237c', 'message': '[OVN] Bump revision number after update_virtual_port_host\n\nThis patch adds bump revision after updating the hostname\nof a virtual port (more specifically its associated port).\nThis way there is no misalignment between the revision number\nof Neutron DB and OVN DB.\n\nIt also avoids the unnecessary execution of the maintenance\ntask to simply match the revision_number.\n\nCloses-Bug: #2069046\nChange-Id: I2734984f10341ab97ebbdee11389d214bb1150f3\n(cherry picked from commit f210a904793b585dafea8085ed62e06f3fed2e6e)\n'}]",2,921830,8d4eeee135a4c6597aa7e6c976a5e13ca3ac237c,15,5,2,34451,,,0,"[OVN] Bump revision number after update_virtual_port_host

This patch adds bump revision after updating the hostname
of a virtual port (more specifically its associated port).
This way there is no misalignment between the revision number
of Neutron DB and OVN DB.

It also avoids the unnecessary execution of the maintenance
task to simply match the revision_number.

Closes-Bug: #2069046
Change-Id: I2734984f10341ab97ebbdee11389d214bb1150f3
(cherry picked from commit f210a904793b585dafea8085ed62e06f3fed2e6e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/30/921830/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",2,33558515c45a1e9a5f081a0912cc4f0511901cac,bug/2038413," context = n_context.get_admin_context() self._plugin.update_virtual_port_host(context, port_id, hostname) db_port = self._plugin.get_port(context, port_id) check_rev_cmd = self.nb_ovn.check_revision_number( port_id, db_port, ovn_const.TYPE_PORTS) txn.add(check_rev_cmd) if check_rev_cmd.result == ovn_const.TXN_COMMITTED: ovn_revision_numbers_db.bump_revision(context, db_port, ovn_const.TYPE_PORTS)"," self._plugin.update_virtual_port_host(n_context.get_admin_context(), port_id, hostname) ",38,3
openstack%2Fironic~921884,openstack/ironic,stable/2023.1,I8c110deceda3a65e952cfb9b590d68b5d95efc16,"Revert ""ci: stable-only: explicitly pin centos build""",NEW,2024-06-12 18:29:19.000000000,2024-06-12 20:07:08.000000000,,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2024-06-12 18:29:19.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ec77b39a650f1253c00056f7e4bf653fab0f1e57', 'message': 'Revert ""ci: stable-only: explicitly pin centos build""\n\nThis reverts commit 86358c89e80cb2d078d1aef705cb1609e22da5bb.\n\nReason for revert: DIB appears to be still trying to merge filename in, and as such we likely need to re-work our approach here.\n\nChange-Id: I8c110deceda3a65e952cfb9b590d68b5d95efc16\n'}]",0,921884,ec77b39a650f1253c00056f7e4bf653fab0f1e57,3,3,1,11655,,,0,"Revert ""ci: stable-only: explicitly pin centos build""

This reverts commit 86358c89e80cb2d078d1aef705cb1609e22da5bb.

Reason for revert: DIB appears to be still trying to merge filename in, and as such we likely need to re-work our approach here.

Change-Id: I8c110deceda3a65e952cfb9b590d68b5d95efc16
",git fetch https://review.opendev.org/openstack/ironic refs/changes/84/921884/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,ec77b39a650f1253c00056f7e4bf653fab0f1e57,,," if [[ ""centos"" =~ ""$IRONIC_DIB_RAMDISK_OPTIONS"" ]]; then # NOTE(TheJulia): This is kind of awful, but XFS in newer centos # images breaks on older ubuntu. DIB_CLOUD_IMAGES=""https://cloud.centos.org/centos/9-stream/x86_64/images/CentOS-Stream-GenericCloud-9-20240101.0.x86_64.qcow2"" fi DIB_CLOUD_IMAGES=${DIB_CLOUD_IMAGES:-} \",0,6
openstack%2Fcinder~921023,openstack/cinder,master,I79d61d1533e1cc0873ba1e482c21081083e71f19,DNM - test only,NEW,2024-06-03 12:55:12.000000000,2024-06-12 20:00:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-03 12:55:12.000000000', 'files': ['cinder/volume/drivers/hpe/hpe_3par_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/91ce2b9ea4c8752ee0e77b324800ed81307ade2d', 'message': 'DNM - test only\n\nDo not merge\n\nChange-Id: I79d61d1533e1cc0873ba1e482c21081083e71f19\n'}]",4,921023,91ce2b9ea4c8752ee0e77b324800ed81307ade2d,22,1,1,29122,,,0,"DNM - test only

Do not merge

Change-Id: I79d61d1533e1cc0873ba1e482c21081083e71f19
",git fetch https://review.opendev.org/openstack/cinder refs/changes/23/921023/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/hpe/hpe_3par_common.py'],1,91ce2b9ea4c8752ee0e77b324800ed81307ade2d,,# 2024_06_03 PS_1 ,,2,0
openstack%2Fironic~921549,openstack/ironic,master,Iaa917191e0f118f8828161174ea1fe8c55c8f4ee,minor: additional tests for interaction around node lookup,MERGED,2024-06-07 17:31:05.000000000,2024-06-12 19:57:29.000000000,2024-06-12 19:56:03.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 36770}]","[{'number': 1, 'created': '2024-06-07 17:31:05.000000000', 'files': ['ironic/tests/unit/api/controllers/v1/test_ramdisk.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/af33d8bd71d5974cc3d2ddad83e32b9e2097257c', 'message': ""minor: additional tests for interaction around node lookup\n\nA recent evaluation of the lookup code yielded an awareness that\nwhile we're sort of following the overall community pattern of\ntesting what we expect in terms of patterns and behavior, really\nneeded just a little bit more in the way of testing.\n\nWhile ultimately, these tests are really just exercising front\nend validation, it is still important to check to have increased\nassurance of a secure codebase.\n\nChange-Id: Iaa917191e0f118f8828161174ea1fe8c55c8f4ee\n""}]",2,921549,af33d8bd71d5974cc3d2ddad83e32b9e2097257c,17,4,1,11655,,,0,"minor: additional tests for interaction around node lookup

A recent evaluation of the lookup code yielded an awareness that
while we're sort of following the overall community pattern of
testing what we expect in terms of patterns and behavior, really
needed just a little bit more in the way of testing.

While ultimately, these tests are really just exercising front
end validation, it is still important to check to have increased
assurance of a secure codebase.

Change-Id: Iaa917191e0f118f8828161174ea1fe8c55c8f4ee
",git fetch https://review.opendev.org/openstack/ironic refs/changes/49/921549/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/tests/unit/api/controllers/v1/test_ramdisk.py'],1,af33d8bd71d5974cc3d2ddad83e32b9e2097257c,," def test_invalid_input_addresses(self): response = self.get_json( '/lookup?addresses=meow1', headers={api_base.Version.string: str(api_v1.max_version())}, expect_errors=True) self.assertEqual(http_client.BAD_REQUEST, response.status_int) def test_invalid_input_node_uuid(self): response = self.get_json( '/lookup?node_uuid=meow1', headers={api_base.Version.string: str(api_v1.max_version())}, expect_errors=True) self.assertEqual(http_client.BAD_REQUEST, response.status_int) ",,14,0
openstack%2Fironic~921540,openstack/ironic,master,I45310dd514d6058f7d81a5dd412515146748ac91,Remove unused parameter in ansible driver,NEW,2024-06-07 16:07:45.000000000,2024-06-12 19:42:34.000000000,,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 36770}]","[{'number': 1, 'created': '2024-06-07 16:07:45.000000000', 'files': ['ironic/drivers/modules/ansible/playbooks/roles/deploy/files/partition_configdrive.sh'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ed4f44e97f6fee41e27e80bb17ce1e253c71313a', 'message': 'Remove unused parameter in ansible driver\n\nTurns out the MAX_DISK_PARTITONS parameter is unused. Removing.\n\nChange-Id: I45310dd514d6058f7d81a5dd412515146748ac91\n'}]",1,921540,ed4f44e97f6fee41e27e80bb17ce1e253c71313a,7,3,1,11655,,,0,"Remove unused parameter in ansible driver

Turns out the MAX_DISK_PARTITONS parameter is unused. Removing.

Change-Id: I45310dd514d6058f7d81a5dd412515146748ac91
",git fetch https://review.opendev.org/openstack/ironic refs/changes/40/921540/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/drivers/modules/ansible/playbooks/roles/deploy/files/partition_configdrive.sh'],1,ed4f44e97f6fee41e27e80bb17ce1e253c71313a,,,MAX_DISK_PARTITIONS=128,0,1
openstack%2Fironic~921542,openstack/ironic,master,Ia9f4fcd5d2599403dd500f741424a89a6c106efc,minor defensive check change to drac driver,NEW,2024-06-07 16:30:12.000000000,2024-06-12 19:36:16.000000000,,"[{'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-07 16:30:12.000000000', 'files': ['ironic/drivers/modules/drac/inspect.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b296b622f8c76c05f0a20ae9bbe7cfa9a0b03ac6', 'message': 'minor defensive check change to drac driver\n\nThe drac driver has a possibility, albeit remote of the pxe_dev_nics\nvalue being null. The code has been reformated to prevent a case of\nof possibly trying to check for a string value in a null value.\n\nChange-Id: Ia9f4fcd5d2599403dd500f741424a89a6c106efc\n'}]",1,921542,b296b622f8c76c05f0a20ae9bbe7cfa9a0b03ac6,6,2,1,11655,,,0,"minor defensive check change to drac driver

The drac driver has a possibility, albeit remote of the pxe_dev_nics
value being null. The code has been reformated to prevent a case of
of possibly trying to check for a string value in a null value.

Change-Id: Ia9f4fcd5d2599403dd500f741424a89a6c106efc
",git fetch https://review.opendev.org/openstack/ironic refs/changes/42/921542/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/drivers/modules/drac/inspect.py'],1,b296b622f8c76c05f0a20ae9bbe7cfa9a0b03ac6,, nic_enabled = False if pxe_dev_nics and nic.id in pxe_dev_nics: nic_enabled = True pxe_enabled=nic_enabled), pxe_enabled=(nic.id in pxe_dev_nics)),4,1
openstack%2Fkeystone-tempest-plugin~919405,openstack/keystone-tempest-plugin,master,Ib6152bed3492e1a911fc280ee0f784beb6ad7959,Make protection job voting again,NEW,2024-05-11 08:10:47.000000000,2024-06-12 19:13:36.000000000,,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-11 08:10:47.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/ce844dee352ee7b416f5c655622a48a5f32e084e', 'message': 'Make protection job voting again\n\nIt was made non-voting by 527fb28b36dd947b1ceaaced59aef9123d3d8d41 but\nall the changes to update policy rules landed.\n\nChange-Id: Ib6152bed3492e1a911fc280ee0f784beb6ad7959\n'}]",2,919405,ce844dee352ee7b416f5c655622a48a5f32e084e,12,4,1,9816,,,0,"Make protection job voting again

It was made non-voting by 527fb28b36dd947b1ceaaced59aef9123d3d8d41 but
all the changes to update policy rules landed.

Change-Id: Ib6152bed3492e1a911fc280ee0f784beb6ad7959
",git fetch https://review.opendev.org/openstack/keystone-tempest-plugin refs/changes/05/919405/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ce844dee352ee7b416f5c655622a48a5f32e084e,,, voting: false,0,1
openstack%2Fcharm-keystone-saml-mellon~921472,openstack/charm-keystone-saml-mellon,master,Ied65c3dc87e3ebb599b446cc72ce3c6adac74e08,Improve compatibility with Chromium-based browsers,NEW,2024-06-06 18:37:39.000000000,2024-06-12 19:05:42.000000000,,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-06-06 18:37:39.000000000', 'files': ['src/config.yaml', 'src/templates/apache-mellon-location.conf'], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/8c973aaed370e37e38a57b9566bb83ffc7b80656', 'message': 'Improve compatibility with Chromium-based browsers\n\nSince commit [1] mellon changed the default behavior\nof cross-site cookies by allowing all if unset.\nSome IDP providers use cross-site cookies to\nauthenticate. Chromium-based browsers reject insecure\ncross-site cookies.\n\nAdding config option to optioanlly enable\nSecure HTTPS cookies so it can work with\nChromium-based browsers as long as the\nIDP connection is HTTPS.\n\n[1] https://github.com/latchset/mod_auth_mellon/commit/5a629a1\n\nCloses-bug: #2068654\nChange-Id: Ied65c3dc87e3ebb599b446cc72ce3c6adac74e08\n'}]",3,921472,8c973aaed370e37e38a57b9566bb83ffc7b80656,6,3,1,14567,,,0,"Improve compatibility with Chromium-based browsers

Since commit [1] mellon changed the default behavior
of cross-site cookies by allowing all if unset.
Some IDP providers use cross-site cookies to
authenticate. Chromium-based browsers reject insecure
cross-site cookies.

Adding config option to optioanlly enable
Secure HTTPS cookies so it can work with
Chromium-based browsers as long as the
IDP connection is HTTPS.

[1] https://github.com/latchset/mod_auth_mellon/commit/5a629a1

Closes-bug: #2068654
Change-Id: Ied65c3dc87e3ebb599b446cc72ce3c6adac74e08
",git fetch https://review.opendev.org/openstack/charm-keystone-saml-mellon refs/changes/72/921472/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'src/templates/apache-mellon-location.conf']",2,8c973aaed370e37e38a57b9566bb83ffc7b80656,, {% if options.allow_cross_site_cookies -%} MellonSecureCookie On MellonCookieSameSite None {%- endif %} {% if options.allow_cross_site_cookies -%} MellonSecureCookie On MellonCookieSameSite None {%- endif %} {% if options.allow_cross_site_cookies -%} MellonSecureCookie On MellonCookieSameSite None {%- endif %},,20,0
openstack%2Fgovernance~921731,openstack/governance,master,Ic7d3a5fc4c93d19f490064ae29a2920f58bf23e8,Appoint James Page as OpenStack Charms PTL,NEW,2024-06-11 08:24:59.000000000,2024-06-12 18:54:57.000000000,,"[{'_account_id': 8556}, {'_account_id': 10342}, {'_account_id': 13252}, {'_account_id': 15993}, {'_account_id': 16643}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2024-06-11 08:24:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/80fa11c468ec81d68d5c32c8b9c55d0a7330b169', 'message': 'Appoint James Page as OpenStack Charms PTL\n\nAs there was no candidate for OpenStack Charms PTL in the\n2024.2 election, I hereby volunteer to take up this role.\n\nChange-Id: Ic7d3a5fc4c93d19f490064ae29a2920f58bf23e8\n'}, {'number': 2, 'created': '2024-06-12 08:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/17cb7f19597014cd8f711fc953e7827b0cc5eb9b', 'message': 'Appoint James Page as OpenStack Charms PTL\n\nAs there was no candidate for OpenStack Charms PTL in the\n2024.2 election, I hereby volunteer to take up this role.\n\nChange-Id: Ic7d3a5fc4c93d19f490064ae29a2920f58bf23e8\n'}, {'number': 3, 'created': '2024-06-12 09:33:41.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/be25bc68447c26dbeb34525bcf0db3d5a0a098b2', 'message': 'Appoint James Page as OpenStack Charms PTL\n\nAs there was no candidate for OpenStack Charms PTL in the\n2024.2 election, I hereby volunteer to take up this role.\n\nChange-Id: Ic7d3a5fc4c93d19f490064ae29a2920f58bf23e8\n'}]",13,921731,be25bc68447c26dbeb34525bcf0db3d5a0a098b2,25,8,3,935,,,0,"Appoint James Page as OpenStack Charms PTL

As there was no candidate for OpenStack Charms PTL in the
2024.2 election, I hereby volunteer to take up this role.

Change-Id: Ic7d3a5fc4c93d19f490064ae29a2920f58bf23e8
",git fetch https://review.opendev.org/openstack/governance refs/changes/31/921731/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,80fa11c468ec81d68d5c32c8b9c55d0a7330b169,formal-vote, name: James Page irc: jamespage email: james.page@ubuntu.com appointed: - '2024.2', name: APPOINTMENT NEEDED irc: No nick supplied email: example@example.org appointed: - wallaby - zed - '2023.1' - '2023.2',4,7
openstack%2Fcharm-gnocchi~921582,openstack/charm-gnocchi,master,I0c8581f8ba268a3e7ee11444dc625f6160dd28ff,Add keystone audit middleware API logging,NEW,2024-06-07 21:54:27.000000000,2024-06-12 18:41:53.000000000,,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 36966}]","[{'number': 1, 'created': '2024-06-07 21:54:27.000000000', 'files': ['src/config.yaml', 'src/lib/charm/openstack/gnocchi.py', 'src/templates/parts/section-audit-middleware-notifications', 'src/templates/yoga/api_audit_map.conf', 'src/templates/parts/section-filter-audit', 'src/templates/yoga/gnocchi.conf', 'src/tests/tests.yaml', 'src/templates/yoga/api-paste.ini'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/369049cd5798632a0990e9f3e36d72a0674316b0', 'message': ""Add keystone audit middleware API logging\n\nThis commit adds Keystone audit middleware API logging to\nthe Gnocchi charm in versions Yoga and newer to allow users to\nconfigure their environment for CADF compliance. This feature can\nbe enabled/disabled and is set to 'disabled' by default to avoid\nbloat in log files.\nThis commit builds on previous discussions:\nhttps://github.com/juju/charm-helpers/pull/808.\n\nRelated-Pr: https://github.com/juju/charm-helpers/pull/893\nCloses-Bug: 1856555\nChange-Id: I0c8581f8ba268a3e7ee11444dc625f6160dd28ff\n""}]",1,921582,369049cd5798632a0990e9f3e36d72a0674316b0,5,4,1,36966,,,0,"Add keystone audit middleware API logging

This commit adds Keystone audit middleware API logging to
the Gnocchi charm in versions Yoga and newer to allow users to
configure their environment for CADF compliance. This feature can
be enabled/disabled and is set to 'disabled' by default to avoid
bloat in log files.
This commit builds on previous discussions:
https://github.com/juju/charm-helpers/pull/808.

Related-Pr: https://github.com/juju/charm-helpers/pull/893
Closes-Bug: 1856555
Change-Id: I0c8581f8ba268a3e7ee11444dc625f6160dd28ff
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/82/921582/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'src/lib/charm/openstack/gnocchi.py', 'src/templates/parts/section-audit-middleware-notifications', 'src/templates/yoga/api_audit_map.conf', 'src/templates/parts/section-filter-audit', 'src/templates/yoga/gnocchi.conf', 'src/tests/tests.yaml', 'src/templates/yoga/api-paste.ini']",8,369049cd5798632a0990e9f3e36d72a0674316b0,bug/1856555,"# yoga [composite:gnocchi+basic] use = egg:Paste#urlmap / = gnocchiversions_pipeline /v1 = gnocchiv1+noauth /healthcheck = healthcheck [composite:gnocchi+keystone] use = egg:Paste#urlmap / = gnocchiversions_pipeline /v1 = gnocchiv1+keystone /healthcheck = healthcheck [composite:gnocchi+remoteuser] use = egg:Paste#urlmap / = gnocchiversions_pipeline /v1 = gnocchiv1+noauth /healthcheck = healthcheck [pipeline:gnocchiv1+noauth] pipeline = http_proxy_to_wsgi gnocchiv1 [pipeline:gnocchiv1+keystone] {% if options.audit_middleware and options.service_name_value -%} pipeline = http_proxy_to_wsgi keystone_authtoken audit gnocchiv1 {% else %} pipeline = http_proxy_to_wsgi keystone_authtoken gnocchiv1 {% endif %} [pipeline:gnocchiversions_pipeline] pipeline = http_proxy_to_wsgi gnocchiversions [app:gnocchiversions] paste.app_factory = gnocchi.rest.app:app_factory root = gnocchi.rest.api.VersionsController [app:gnocchiv1] paste.app_factory = gnocchi.rest.app:app_factory root = gnocchi.rest.api.V1Controller [filter:keystone_authtoken] use = egg:keystonemiddleware#auth_token oslo_config_project = gnocchi [filter:http_proxy_to_wsgi] use = egg:oslo.middleware#http_proxy_to_wsgi oslo_config_project = gnocchi [app:healthcheck] use = egg:oslo.middleware#healthcheck oslo_config_project = gnocchi {% include ""parts/section-filter-audit"" %}",,150,0
openstack%2Fnova~918464,openstack/nova,master,Ic1dde3d54f5ca12408ef53218773a27d55760705,tweak emulation job to avoid OOM errors,NEW,2024-05-07 16:48:56.000000000,2024-06-12 18:39:07.000000000,,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 7730}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 37041}]","[{'number': 1, 'created': '2024-05-07 16:48:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c31362e1ccebd512cc284c60fe11a6770a03f978', 'message': 'tweak emulation job to avoid OOM errors\n\nThis change increases the swap in the emulation job form\n1G to 8G\nThis change updates the default cirrors image form 0.5.2\nto 0.5.3 to avoid know kernel bugs\nthis change reduces the tb_cache_size: to 128\n\nChange-Id: Ic1dde3d54f5ca12408ef53218773a27d55760705\n'}, {'number': 2, 'created': '2024-05-10 12:05:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f959dce79b377e8fd579b39f0efaf0a04074c2c5', 'message': 'tweak emulation job to avoid OOM errors\n\nThis change increases the swap in the emulation job form\n1G to 8G\nThis change updates the default cirrors image form 0.5.2\nto 0.5.3 to avoid know kernel bugs\nthis change reduces the tb_cache_size: to 128\n\nChange-Id: Ic1dde3d54f5ca12408ef53218773a27d55760705\n'}, {'number': 3, 'created': '2024-05-10 12:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e36cffa178b643a687c5c8fd62e3c61dfe0902f3', 'message': 'tweak emulation job to avoid OOM errors\n\nThis change increases the swap in the emulation job form\n1G to 8G\nThis change updates the default cirrors image form 0.5.2\nto 0.5.3 to avoid know kernel bugs\nthis change reduces the tb_cache_size: to 128\nThe tempest concurrency is reduced to 4 to avoid\nno valid host error in the resize tests\n\nChange-Id: Ic1dde3d54f5ca12408ef53218773a27d55760705\n'}, {'number': 4, 'created': '2024-05-27 13:19:14.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/3811c7f648706fd248aaeea6bef8fdffb639f93c', 'message': 'tweak emulation job to avoid OOM errors\n\nThis change increases the swap in the emulation job form\n1G to 8G\nThis change updates the default cirrors image form 0.5.2\nto 0.5.3 to avoid know kernel bugs\nthis change reduces the tb_cache_size: to 128\nThe tempest concurrency is reduced to 4 to avoid\nno valid host error in the resize tests\n\nChange-Id: Ic1dde3d54f5ca12408ef53218773a27d55760705\n'}]",94,918464,3811c7f648706fd248aaeea6bef8fdffb639f93c,61,7,4,11604,,,0,"tweak emulation job to avoid OOM errors

This change increases the swap in the emulation job form
1G to 8G
This change updates the default cirrors image form 0.5.2
to 0.5.3 to avoid know kernel bugs
this change reduces the tb_cache_size: to 128
The tempest concurrency is reduced to 4 to avoid
no valid host error in the resize tests

Change-Id: Ic1dde3d54f5ca12408ef53218773a27d55760705
",git fetch https://review.opendev.org/openstack/nova refs/changes/64/918464/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c31362e1ccebd512cc284c60fe11a6770a03f978,emulation," IMAGE_URLS: ""http://download.cirros-cloud.net/0.5.3/cirros-0.5.3-aarch64-disk.img"" # Increase the swap size to avoid OOM errors when running the tests. configure_swap_size: 8192 devstack_local_conf: post-config: $NOVA_CPU_CONF: libvirt: # Use lower TB cache than default(1GiB), only applicable with # libvirt>=8.0.0 tb_cache_size: 128"," IMAGE_URLS: ""http://download.cirros-cloud.net/0.5.2/cirros-0.5.2-aarch64-disk.img""",10,1
openstack%2Fironic~918118,openstack/ironic,stable/2023.1,Ic14e75071651551c663a97d98c2226f8a375ec0b,ci: stable-only: explicitly pin centos build,MERGED,2024-05-03 17:56:47.000000000,2024-06-12 18:29:19.000000000,2024-05-06 19:07:55.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2024-05-03 17:56:47.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/86358c89e80cb2d078d1aef705cb1609e22da5bb', 'message': 'ci: stable-only: explicitly pin centos build\n\nOn older CI nodes, we cannot use centos dib images in the pipeline\nwithout explicitly pulling in an older image of centos because newer\ncentos images use an XFS feature in them which prevents us from\nextracting image contents.\n\nChange-Id: Ic14e75071651551c663a97d98c2226f8a375ec0b\n'}]",2,918118,86358c89e80cb2d078d1aef705cb1609e22da5bb,18,3,1,11655,,,0,"ci: stable-only: explicitly pin centos build

On older CI nodes, we cannot use centos dib images in the pipeline
without explicitly pulling in an older image of centos because newer
centos images use an XFS feature in them which prevents us from
extracting image contents.

Change-Id: Ic14e75071651551c663a97d98c2226f8a375ec0b
",git fetch https://review.opendev.org/openstack/ironic refs/changes/18/918118/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,86358c89e80cb2d078d1aef705cb1609e22da5bb,," if [[ ""centos"" =~ ""$IRONIC_DIB_RAMDISK_OPTIONS"" ]]; then # NOTE(TheJulia): This is kind of awful, but XFS in newer centos # images breaks on older ubuntu. DIB_CLOUD_IMAGES=""https://cloud.centos.org/centos/9-stream/x86_64/images/CentOS-Stream-GenericCloud-9-20240101.0.x86_64.qcow2"" fi DIB_CLOUD_IMAGES=${DIB_CLOUD_IMAGES:-} \",,6,0
openstack%2Fironic-python-agent~918340,openstack/ironic-python-agent,master,If865e10f910d9e00a68106d97cc85bd53b4a86ed,Add bmc_subnet information to introspection,NEW,2024-05-06 19:13:22.000000000,2024-06-12 18:19:54.000000000,,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 37011}]","[{'number': 1, 'created': '2024-05-06 19:13:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/17e22f8c3d6bd5c0209b51c9052c0eb792f47475', 'message': 'Add bmc_subnet information to introspection and Consolidated BMC information retrieval logic into a single function _get_bmc_info().\n\nChange-Id: If865e10f910d9e00a68106d97cc85bd53b4a86ed\n'}, {'number': 2, 'created': '2024-05-06 19:16:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/f95b5db26475ce3778b426a2652365357586c8ee', 'message': 'Add bmc_subnet information to introspection.\n\nAnd Consolidated BMC information retrieval logic into a single function _get_bmc_info().\n\nChange-Id: If865e10f910d9e00a68106d97cc85bd53b4a86ed\n'}, {'number': 3, 'created': '2024-05-07 15:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/e9d0b87498555e0f5331ae9822a2f59e57329a0d', 'message': 'Add bmc_subnet information to introspection and Consolidated BMC information retrieval logic into a single function _get_bmc_info().\n\nChange-Id: If865e10f910d9e00a68106d97cc85bd53b4a86ed\n'}, {'number': 4, 'created': '2024-05-07 15:44:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/174e3564917e54e7bfbbc52b5a5c0cc6a08c9412', 'message': 'Add bmc_subnet information to introspection\n\nAnd Consolidated BMC information retrieval logic into a single function _get_bmc_info().\n\nChange-Id: If865e10f910d9e00a68106d97cc85bd53b4a86ed\n'}, {'number': 5, 'created': '2024-05-07 20:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/50e682b5cdff3fe43b746af8cb4a8baa251776e7', 'message': 'Add bmc_subnet information to introspection\n\nConsolidated BMC information retrieval logic into a single function _get_bmc_info().\nAdd tests for bmc_subnet\n\nChange-Id: If865e10f910d9e00a68106d97cc85bd53b4a86ed\n'}, {'number': 6, 'created': '2024-05-07 20:28:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/d6669f7f5578a058ea81026a890bedbeff48ba08', 'message': 'Add bmc_subnet information to introspection\n\nConsolidated BMC information retrieval logic into a single function _get_bmc_info().\nAdd tests for bmc_subnet\n\nChange-Id: If865e10f910d9e00a68106d97cc85bd53b4a86ed\n'}, {'number': 7, 'created': '2024-05-07 20:31:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/9767c276cb91e9bdc50d67911f1d6a1058b0bc9a', 'message': 'Add bmc_subnet information to introspection\n\n- Consolidated BMC information retrieval logic into a single function _get_bmc_info().\n- Add tests for bmc_subnet\n- delete whitespace\n\nChange-Id: If865e10f910d9e00a68106d97cc85bd53b4a86ed\n'}, {'number': 8, 'created': '2024-06-07 12:46:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/7c87c6f87d2d8ea0f7bc6081e9cc0f66afee485b', 'message': 'Add bmc_subnet information to introspection\n\nConsolidated BMC information retrieval logic into a single function _get_bmc_info().\nAdd tests for bmc_subnet\n\nChange-Id: If865e10f910d9e00a68106d97cc85bd53b4a86ed\n'}, {'number': 9, 'created': '2024-06-07 12:46:57.000000000', 'files': ['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_hardware.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/112c15cae6b2625983bab7ccb58587a6c87d138d', 'message': 'Add bmc_subnet information to introspection\n\n- Consolidated BMC information retrieval logic into a single function _get_bmc_info().\n- Add tests for bmc_subnet\n- delete whitespace\n\nChange-Id: If865e10f910d9e00a68106d97cc85bd53b4a86ed\n'}]",41,918340,112c15cae6b2625983bab7ccb58587a6c87d138d,23,3,9,37011,,,0,"Add bmc_subnet information to introspection

- Consolidated BMC information retrieval logic into a single function _get_bmc_info().
- Add tests for bmc_subnet
- delete whitespace

Change-Id: If865e10f910d9e00a68106d97cc85bd53b4a86ed
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/40/918340/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/hardware.py'],1,17e22f8c3d6bd5c0209b51c9052c0eb792f47475,bmc-subnet-mask," def get_bmc_subnet(self): raise errors.IncompatibleHardwareMethodError() hardware_info['bmc_subnet'] = self.get_bmc_subnet() def _get_bmc_address_info(self, type): """"""Attempt to detect BMC information :param keyword: Keyword to search for in IPMITool output (e.g., 'IP Address', 'Subnet Mask') :return: BMC information (IP address or subnet mask) or default value if none found # From all the channels 0-15, only 1-11 can be assigned to # different types of communication media and protocols and # effectively used ""ipmitool lan print {} | awk '/{}[ \\t]*:/ {{print $4}}'"".format(channel, type), shell=True) LOG.warning('Invalid IP or Subnet address %(output)s: %(exc)s', LOG.warning(""Cannot get BMC %s: %s"", key, e) def get_bmc_address(self): """"""Attempt to detect BMC IP address :return: IP address of LAN channel or 0.0.0.0 if none of them is configured properly """""" return self._get_bmc_info(""IP Address"") def get_bmc_subnet(self): """"""Attempt to detect BMC subnet mask :return: Subnet mask of the first LAN channel or 255.255.255.255 if none of them is configured properly """""" bmc_subnet = self._get_bmc_info(""Subnet Mask"") if bmc_subnet == '0.0.0.0': return '255.255.255.255' return bmc_subnet "," def get_bmc_address(self): """"""Attempt to detect BMC IP address :return: IP address of lan channel or 0.0.0.0 in case none of them is configured properly # From all the channels 0-15, only 1-11 can be assigned to # different types of communication media and protocols and # effectively used ""ipmitool lan print {} | awk '/IP Address[ \\t]*:/"" "" {{print $4}}'"".format(channel), shell=True) LOG.warning('Invalid IP address %(output)s: %(exc)s', LOG.warning(""Cannot get BMC address: %s"", e)",34,12
openstack%2Fironic-specs~906324,openstack/ironic-specs,master,Id9c47dc1857a4bc9e16a5513427691513463549a,WIP/DNM: Document to discuss vmedia issue/fix options,NEW,2024-01-22 23:54:48.000000000,2024-06-12 18:14:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-01-22 23:54:48.000000000', 'files': ['specs/approved/fix-vmedia-boot-config.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/939623294293c8fe8f53a25fe6c91b2667040dad', 'message': 'WIP/DNM: Document to discuss vmedia issue/fix options\n\nChange-Id: Id9c47dc1857a4bc9e16a5513427691513463549a\n'}]",14,906324,939623294293c8fe8f53a25fe6c91b2667040dad,5,1,1,11655,,,0,"WIP/DNM: Document to discuss vmedia issue/fix options

Change-Id: Id9c47dc1857a4bc9e16a5513427691513463549a
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/24/906324/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/approved/fix-vmedia-boot-config.rst'],1,939623294293c8fe8f53a25fe6c91b2667040dad,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================================ Fix Virtual Meida Embedded Network Configuration ================================================ https://bugs.launchpad.net/ironic/+bug/2032377 Problem description =================== This is not intended as a feature design document, but more as a document to attempt to figure out what we are going to do. Discussion has led to use a spec in lue of the ironic whiteboard. The overall issue is we have a feature where the API consumer can supply standardized nework configuration data to the node ``network_data`` field, and that data is then injected into virtual media images Ironic composes for booting machines via virtual media for operations such as cleaning/deployment. This works well on the first pass. It doesn't exactly work on the second pass unless the ramdisk or tools have been modified. This is because there is a configuration drive which matches the original signature from the prior node. The inherent issue, and immediate concern is that tools such as `cloud-init`_ and `glean`_ would read the old instances data and then ""do things"". On a positive note, out of the box, `cloud-init`_ and `glean`_ just sort of ""fall over"" in these cases. Worse so they conflict, becuase historically we've not removed cloud-init when glean's `simple-init`_ element was loaded. Specifically, `cloud-init`_, which we previously never intended to be used in this scenario, has to be set with configuration, otherwise it assumes all data is from the network including metadata, and as the first step fails, it never obtains any metadata and fails to apply any further configuration. In the case of `glean`_, it simply does not expect a list of devices to return as a list. This causes glean-early.sh to fail. Cloud-init's behavior *can* be changed, A change was posted in review to help enable this capability which disables the auto-dhcp first. https://review.opendev.org/c/openstack/diskimage-builder/+/899886 Starting in December 2023, we also started removing cloud-init by default when simple-init was invoked. Just for sanity purposes. https://review.opendev.org/c/openstack/diskimage-builder/+/899885 But overall, that still doesn't fix the underlying problem, which is there is where the configuration data is not processed or able to be processed without some sort of explicit exchange and interaction. This has led to a couple different options * Create new IDs and only attach that UUID's volume. In the metal3 community, believe someone has done this, the challenge is we also want something we can backport, and this is much more a feature level interaction. And it requires we have ""custom configuraiton launchers"" because we're no longer relying upon the standardized label format of ""config-2"". The positive result is increased security and less reliance on ISO/device fingerprinting by explicitly requiring, however it requires launchers of configuration parsers to be aware of the setting, and the encoded value. The down side, is this is a generally breaking change pattern and behavior wise since it forces the adoption of launch agents to achieve the needful. This approach also wouldn't be viable with static, pre-built ISO images which leverage the ``deploy_iso`` setting, unless we relied upon some sort of static configuration, and quickly we are sort of back at the same logic issues of ""config-2"". Another aspect here is we would need to create our own launcher to handle the case of cloud init. * Teach IPA, since it fingerprints the device anyway to load base agent configuration from any iso image, to just identify the virtual media device utilizing that same code path, and then apply the network configuration directly. The idea here was that the agent could do the needful, and then cause the agent to exit so it restarted with new networking configuration in a fresh state. This was dismissed because of not wantingto introduce ""the complexity of glean"" into IPA, even though the data struture and format was fairly minimal if we were using standardized network configuration tools. Further discussion has also pointed out that some operators have earlier boot elements which assume network connectivity from an early networking state, and then download IPA or updated hardware managers, or both to the running state of the ramdisk which means we would be breaking that case should the utilize virtual media. * Another ""Teaching IPA"" option was to utilize the knowledge and understanding of the state of the machine to then identify the correct ``network_data.json`` file, put it in place, trigger it to apply, and then reload networking services to apply the new configuration state. This approach initially merged, however there were open glean patches, and it inadvertently broke other metal3 CI jobs outside of the Ironic team's view, so the change was reverted because they were somehow falling into the code for handling the glean case intended for TinyIPA. This approach still suffers from the base issue with teaching IPA, which is after IPA is launched, you cannot necessarilly patch IPA because now only network is online. We could also have an IPA triggered ""two step launch"" which could allow operators to compose and scripts to patch their deployments between the two steps. But at the end of the day, there is a compounding issue of CI system resources. TinyIPA has allowed the Ironic community to continue iterating and shipping new releases/features while keeping the job failure rate low... by providing a low memory footprint agent which allows *most* of our features to be exercsied. This area of the code is not one of them, because of TinyCore Linux and lacking support for `glean`_ and `cloud_init`_. Two possible option paths exist here, in that we could add support to Glean, or we could move towards abandoning TinyIPA for a lightweight image. This is only feasible if we are willing to perform invasive stripping of non-necessary artifacts like firmware blobs, optional kernel modules, etc. Ignoring CI testing entirely, assuming it is a solvable problem, it should be feasible for us to find a path forward, yet we also need to determine how comfortable, or uncomfortable we are with backporting fixes in this case. Proposed change =============== TBD - The underlying question is what are we willing to break, or not break... as there are many different options. We should inherently limit community scope. And possibly we got scope wrong to begin with by focusing on `glean`_ being the tooling path, but inherently trying to also not be prescriptive, also increases scope we need to consider. Alternatives ------------ An undesirable alternative is to not find a forward path here, and to ultimately ""do nothing"". Given interest in the virtual media functionality, we should work forward to a solution. Data model impact ----------------- TBD State Machine Impact -------------------- TBD REST API impact --------------- TBD Client (CLI) impact ------------------- ""openstack baremetal"" CLI ~~~~~~~~~~~~~~~~~~~~~~~~~ TBD ""openstacksdk"" ~~~~~~~~~~~~~~ TBD RPC API impact -------------- TBD Driver API impact ----------------- TBD Nova driver impact ------------------ None Ramdisk impact -------------- TBD Security impact --------------- TBD Other end user impact --------------------- TBD Scalability impact ------------------ TBD Performance Impact ------------------ TBD Other deployer impact --------------------- TBD Developer impact ---------------- TBD Implementation ============== Assignee(s) ----------- Primary assignee: <IRC handle, email address, or None> Other contributors: <IRC handle, email address, None> Work Items ---------- TBD Dependencies ============ TBD Testing ======= TBD Upgrades and Backwards Compatibility ==================================== TBD Documentation Impact ==================== TBD References ========== .. _`cloud-init`: https://github.com/canonical/cloud-init .. _`glean`: https://opendev.org/opendev/glean .. _`simple-init`: https://opendev.org/openstack/diskimage-builder/src/branch/master/diskimage_builder/elements/simple-init ",,267,0
openstack%2Fironic~921657,openstack/ironic,master,I6020a7904639f5b6628bcabb5a861ecc397a8b05,add virtual media GET api to fetch all details related to virtual media devices for a given node,NEW,2024-06-10 11:10:23.000000000,2024-06-12 18:01:59.000000000,,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 36770}]","[{'number': 1, 'created': '2024-06-10 11:10:23.000000000', 'files': ['ironic/conductor/manager.py', 'ironic/drivers/base.py', 'ironic/drivers/modules/redfish/management.py', 'ironic/common/policy.py', 'ironic/drivers/modules/redfish/boot.py', 'ironic/api/controllers/v1/node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/4d747dbdb81f784395cfb884467a07ab68ee15a3', 'message': 'add virtual media GET api to fetch all details related to virtual\nmedia devices for a given node\n\nChange-Id: I6020a7904639f5b6628bcabb5a861ecc397a8b05\nSigned-off-by: Himanshu Roy <hroy@redhat.com>\n'}]",18,921657,4d747dbdb81f784395cfb884467a07ab68ee15a3,8,5,1,37087,,,0,"add virtual media GET api to fetch all details related to virtual
media devices for a given node

Change-Id: I6020a7904639f5b6628bcabb5a861ecc397a8b05
Signed-off-by: Himanshu Roy <hroy@redhat.com>
",git fetch https://review.opendev.org/openstack/ironic refs/changes/57/921657/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conductor/manager.py', 'ironic/drivers/base.py', 'ironic/drivers/modules/redfish/management.py', 'ironic/common/policy.py', 'ironic/drivers/modules/redfish/boot.py', 'ironic/api/controllers/v1/node.py']",6,4d747dbdb81f784395cfb884467a07ab68ee15a3,get-vmedia-api," @METRICS.timer('NodeVmediaController.get') @method.expose(status_code=http_client.NO_CONTENT) @args.validate(device_types=args.string_list) def get(self, device_types=None): """"""Get virtual media details for this node :param device_types: A collection of device types. """""" if device_types: invalid = [item for item in device_types if item not in boot_devices.VMEDIA_DEVICES] if invalid: raise exception.Invalid( _(""Invalid device type(s) %(invalid)s "" ""(valid are %(valid)s)"") % {'invalid': ', '.join(invalid), 'valid': ', '.join(boot_devices.VMEDIA_DEVICES)}) rpc_node, topic = self._get_node_and_topic( 'baremetal:node:vmedia:get') api.request.rpcapi.get_virtual_media( api.request.context, rpc_node.uuid, device_types=device_types, topic=topic) ",,158,0
openstack%2Fnetworking-bgpvpn~917547,openstack/networking-bgpvpn,unmaintained/zed,I2d08883739a584262c53f169141de423ade381d8,Update .gitreview for unmaintained/zed,MERGED,2024-04-30 08:51:50.000000000,2024-06-12 17:29:06.000000000,2024-06-12 17:28:09.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-30 08:51:50.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/feefc4fbde0c6b83146d0a964a2712348fe96673', 'message': 'Update .gitreview for unmaintained/zed\n\nChange-Id: I2d08883739a584262c53f169141de423ade381d8\n'}]",2,917547,feefc4fbde0c6b83146d0a964a2712348fe96673,9,2,1,22816,,,0,"Update .gitreview for unmaintained/zed

Change-Id: I2d08883739a584262c53f169141de423ade381d8
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/47/917547/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,feefc4fbde0c6b83146d0a964a2712348fe96673,create-zed,defaultbranch=unmaintained/zed,defaultbranch=stable/zed,1,1
openstack%2Fdevstack~805219,openstack/devstack,master,Ibb6c34133bb1c95ef11cc59d9b12a0f65502c61b,nova: Enable apic removal workaround for bug #1939108 when using QEMU,MERGED,2021-08-19 13:27:38.000000000,2024-06-12 17:26:21.000000000,2021-08-21 02:51:24.000000000,"[{'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-19 13:27:38.000000000', 'files': ['lib/nova'], 'web_link': 'https://opendev.org/openstack/devstack/commit/1e86a25cc28e34d7f73a4c6ccbbc3fc667598d50', 'message': 'nova: Enable apic removal workaround for bug #1939108 when using QEMU\n\nThis change enables [workarounds]libvirt_disable_apic when devstack is\ndeployed using the libvirt virt driver and qemu virt type in an effort\nto avoid issues outlined in bug #1939108 caused by the older kernel\ncurrently used in Cirros 0.5.2.\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/766043\nCloses-Bug: #1939108\nChange-Id: Ibb6c34133bb1c95ef11cc59d9b12a0f65502c61b\n'}]",0,805219,1e86a25cc28e34d7f73a4c6ccbbc3fc667598d50,18,4,1,10135,,,0,"nova: Enable apic removal workaround for bug #1939108 when using QEMU

This change enables [workarounds]libvirt_disable_apic when devstack is
deployed using the libvirt virt driver and qemu virt type in an effort
to avoid issues outlined in bug #1939108 caused by the older kernel
currently used in Cirros 0.5.2.

Depends-On: https://review.opendev.org/c/openstack/nova/+/766043
Closes-Bug: #1939108
Change-Id: Ibb6c34133bb1c95ef11cc59d9b12a0f65502c61b
",git fetch https://review.opendev.org/openstack/devstack refs/changes/19/805219/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova'],1,1e86a25cc28e34d7f73a4c6ccbbc3fc667598d50,workaround-disable-apic," # Workaround bug #1939108 if [[ ""$VIRT_DRIVER"" == ""libvirt"" && ""$LIBVIRT_TYPE"" == ""qemu"" ]]; then iniset $NOVA_CPU_CONF workarounds libvirt_disable_apic True fi ",,5,0
openstack%2Foctavia~917535,openstack/octavia,stable/2023.1,Idccb8734c1acf9f05cca1ec5f184410e98b819c1,Fix UDP pool's member status in LB with additional VIPs,MERGED,2024-04-30 06:54:39.000000000,2024-06-12 17:08:48.000000000,2024-06-12 17:06:24.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2024-04-30 06:54:39.000000000', 'files': ['releasenotes/notes/fix-udp-member-status-with-additional-vips-7511690a0c112b44.yaml', 'octavia/amphorae/backends/utils/keepalivedlvs_query.py', 'octavia/tests/unit/amphorae/backends/utils/test_keepalivedlvs_query.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/5d207b154fedd3740f8899f4b91c6d240976159e', 'message': ""Fix UDP pool's member status in LB with additional VIPs\n\nWith UDP LBs with additional VIPs, the status of the members included\nonly the IPv4 (or IPv6) members, but not both. The members were marked\nas DOWN.\n\nPartial-Bug: #2028751\n\nChange-Id: Idccb8734c1acf9f05cca1ec5f184410e98b819c1\n(cherry picked from commit 58d0ede1e5ed9ac1349b48ed0336d8e5ce4e3f1f)\n""}]",2,917535,5d207b154fedd3740f8899f4b91c6d240976159e,9,3,1,29244,,,0,"Fix UDP pool's member status in LB with additional VIPs

With UDP LBs with additional VIPs, the status of the members included
only the IPv4 (or IPv6) members, but not both. The members were marked
as DOWN.

Partial-Bug: #2028751

Change-Id: Idccb8734c1acf9f05cca1ec5f184410e98b819c1
(cherry picked from commit 58d0ede1e5ed9ac1349b48ed0336d8e5ce4e3f1f)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/35/917535/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-udp-member-status-with-additional-vips-7511690a0c112b44.yaml', 'octavia/amphorae/backends/utils/keepalivedlvs_query.py', 'octavia/tests/unit/amphorae/backends/utils/test_keepalivedlvs_query.py']",3,5d207b154fedd3740f8899f4b91c6d240976159e,,"KERNEL_FILE_SAMPLE_MIXED = ( ""IP Virtual Server version 1.2.1 (size=4096)\n"" ""Prot LocalAddress:Port Scheduler Flags\n"" "" -> RemoteAddress:Port Forward Weight ActiveConn InActConn\n"" ""UDP [fd79:35e2:9963:0000:f816:3eff:fe6d:7a2a]:1E61 rr\n"" "" -> [fd79:35e2:9963:0000:f816:3eff:feca:b7bf]:08AE "" ""Masq 3 0 0\n"" "" -> [fd79:35e2:9963:0000:f816:3eff:fe9d:94df]:0D05 "" ""Masq 2 0 0\n"" "" -> [fd79:35e2::8f3f]:115C "" ""Masq 2 0 0\n"" ""UDP 0A000025:1E61 rr\n"" "" -> 0A000023:0D05 Masq 2 0 0\n"" "" -> 0A000019:08AE Masq 3 0 0\n"" ""UDP 0A000025:FF12 rr\n"" "" -> 0A000023:12AB Masq 2 0 0\n"" "" -> 0A000019:BF2E Masq 3 0 0"") self.assertEqual(expected, result) self.assertEqual(expected, result) # mixed resolver input_listener_ip_port = [ '[fd79:35e2:9963:0:f816:3eff:fe6d:7a2a]:7777', '10.0.0.37:7777'] mock_check_output.return_value = KERNEL_FILE_SAMPLE_MIXED result = lvs_query.get_listener_realserver_mapping( target_ns, input_listener_ip_port, health_monitor_enabled=True) expected = {'[fd79:35e2:9963:0:f816:3eff:feca:b7bf]:2222': {'status': constants.UP, 'Forward': 'Masq', 'Weight': '3', 'ActiveConn': '0', 'InActConn': '0'}, '[fd79:35e2:9963:0:f816:3eff:fe9d:94df]:3333': {'status': constants.UP, 'Forward': 'Masq', 'Weight': '2', 'ActiveConn': '0', 'InActConn': '0'}, '[fd79:35e2::8f3f]:4444': {'status': constants.UP, 'Forward': 'Masq', 'Weight': '2', 'ActiveConn': '0', 'InActConn': '0'}, '10.0.0.25:2222': {'status': 'UP', 'Forward': 'Masq', 'Weight': '3', 'ActiveConn': '0', 'InActConn': '0'}, '10.0.0.35:3333': {'status': 'UP', 'Forward': 'Masq', 'Weight': '2', 'ActiveConn': '0', 'InActConn': '0'}} self.assertEqual(expected, result) self.assertEqual({}, result) self.assertEqual({}, result) mock_get_mapping.return_value = {}"," self.assertEqual((True, expected), result) self.assertEqual((True, expected), result) self.assertEqual((False, {}), result) self.assertEqual((False, {}), result) mock_get_mapping.return_value = (False, {})",73,14
openstack%2Fmanila-tempest-plugin~920770,openstack/manila-tempest-plugin,master,I5b7fd5b2b557203189c25fa2a988d790e7fda3eb,[CI] Fix cephfs-nfs job,MERGED,2024-05-29 19:07:56.000000000,2024-06-12 17:06:16.000000000,2024-06-12 17:06:16.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30025}]","[{'number': 1, 'created': '2024-05-29 19:07:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/800bf5db13581bba1d50ee4c428bc8675cf2a69f', 'message': '[CI] Fix cephfs-nfs job\n\ncephfs-nfs job running on Reef when it should run on Quincy.\nIdentifying container image to be version 17.2\n\nChange-Id: I5b7fd5b2b557203189c25fa2a988d790e7fda3eb\n'}, {'number': 2, 'created': '2024-05-29 19:10:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/3214d75f0ccbc8c206712fe86f5593f79aa719c0', 'message': '[CI] Fix cephfs-nfs job\n\ncephfs-nfs job running on Reef when it should run on Quincy.\nIdentifying container image to be version 17.2\n\nChange-Id: I5b7fd5b2b557203189c25fa2a988d790e7fda3eb\n'}, {'number': 3, 'created': '2024-05-31 18:28:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/7fa17f7e6411a5290b00f5654ed37d6b297b8c72', 'message': '[CI] Fix cephfs-nfs job\n\ncephfs-nfs job running on Reef when it should run on Quincy.\nIdentifying container image to be version 17.2\n\nChange-Id: I5b7fd5b2b557203189c25fa2a988d790e7fda3eb\n'}, {'number': 4, 'created': '2024-05-31 18:29:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/130902e48057880eb26d3b3b31b789d80f67602e', 'message': '[CI] Fix cephfs-nfs job\n\ncephfs-nfs job running on Reef, adding ingress ip\n\nChange-Id: I5b7fd5b2b557203189c25fa2a988d790e7fda3eb\n'}, {'number': 5, 'created': '2024-06-11 16:08:19.000000000', 'files': ['zuul.d/manila-tempest-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/b50ac9fe6766c28349e9a3aac76303fd42764d9c', 'message': '[CI] Fix cephfs-nfs job\n\ncephfs-nfs job running on Reef, adding ingress ip\n\nChange-Id: I5b7fd5b2b557203189c25fa2a988d790e7fda3eb\n'}]",8,920770,b50ac9fe6766c28349e9a3aac76303fd42764d9c,28,4,5,32594,,,0,"[CI] Fix cephfs-nfs job

cephfs-nfs job running on Reef, adding ingress ip

Change-Id: I5b7fd5b2b557203189c25fa2a988d790e7fda3eb
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/70/920770/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/manila-tempest-jobs.yaml'],1,800bf5db13581bba1d50ee4c428bc8675cf2a69f,ceph-nfs," CEPH_CONTAINER_IMAGE: ""quay.io/ceph/ceph:v18.2""",,1,0
openstack%2Fpython-openstackclient~918792,openstack/python-openstackclient,master,I868f496fc8285a28e8fd551377f2ae6228051d19,tests: Migrate to 'set_xxx_api_version' helpers,NEW,2024-05-09 16:52:46.000000000,2024-06-12 17:03:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-09 16:52:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/7bc822b1dd85b5d595fb800ac91a03d63dd12b3a', 'message': ""tests: Migrate to 'set_xxx_api_version' helpers\n\nClean things up somewhat.\n\nChange-Id: I868f496fc8285a28e8fd551377f2ae6228051d19\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2024-05-10 10:25:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/216c9186c7f1de04ae93d2f0f0adb9205e714a2c', 'message': ""tests: Migrate to 'set_xxx_api_version' helpers\n\nClean things up somewhat.\n\nChange-Id: I868f496fc8285a28e8fd551377f2ae6228051d19\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2024-06-11 11:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/26834c6f4c79cce7f582834ab8bebff5fdb84d09', 'message': ""tests: Migrate to 'set_xxx_api_version' helpers\n\nClean things up somewhat.\n\nChange-Id: I868f496fc8285a28e8fd551377f2ae6228051d19\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2024-06-12 15:30:37.000000000', 'files': ['openstackclient/tests/unit/volume/v3/test_volume_group_snapshot.py', 'openstackclient/tests/unit/volume/v3/test_volume_group_type.py', 'openstackclient/tests/unit/compute/v2/test_flavor.py', 'openstackclient/tests/unit/compute/v2/test_hypervisor.py', 'openstackclient/tests/unit/compute/v2/test_keypair.py', 'openstackclient/tests/unit/compute/v2/test_server_volume.py', 'openstackclient/compute/v2/server.py', 'openstackclient/tests/unit/volume/v3/test_block_storage_cluster.py', 'openstackclient/tests/unit/volume/v3/test_block_storage_cleanup.py', 'openstackclient/tests/unit/volume/v3/test_volume_attachment.py', 'openstackclient/tests/unit/compute/v2/test_service.py', 'openstackclient/tests/unit/compute/v2/test_server_group.py', 'openstackclient/tests/unit/volume/v3/test_volume_backup.py', 'openstackclient/tests/unit/volume/v3/test_block_storage_log_level.py', 'openstackclient/tests/unit/volume/v3/test_volume_message.py', 'openstackclient/tests/unit/volume/v3/test_volume_type.py', 'openstackclient/tests/unit/compute/v2/test_server_event.py', 'openstackclient/tests/unit/volume/v3/test_volume_transfer_request.py', 'openstackclient/tests/unit/volume/v3/test_volume_group.py', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/tests/unit/volume/v3/test_block_storage_manage.py', 'openstackclient/tests/unit/compute/v2/test_aggregate.py', 'openstackclient/tests/unit/compute/v2/test_server_migration.py', 'openstackclient/tests/unit/volume/v3/test_block_storage_resource_filter.py', 'openstackclient/tests/unit/volume/v3/test_volume.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/2a2aa43790abbe523017f1ad02d9748a00d3efac', 'message': ""tests: Migrate to 'set_xxx_api_version' helpers\n\nClean things up somewhat.\n\nChange-Id: I868f496fc8285a28e8fd551377f2ae6228051d19\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",2,918792,2a2aa43790abbe523017f1ad02d9748a00d3efac,8,1,4,15334,,,0,"tests: Migrate to 'set_xxx_api_version' helpers

Clean things up somewhat.

Change-Id: I868f496fc8285a28e8fd551377f2ae6228051d19
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/92/918792/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/volume/v3/test_volume_group_snapshot.py', 'openstackclient/tests/unit/volume/v3/test_volume_group_type.py', 'openstackclient/tests/unit/compute/v2/test_flavor.py', 'openstackclient/tests/unit/compute/v2/test_hypervisor.py', 'openstackclient/tests/unit/compute/v2/test_keypair.py', 'openstackclient/tests/unit/compute/v2/test_server_volume.py', 'openstackclient/compute/v2/server.py', 'openstackclient/tests/unit/volume/v3/test_block_storage_cluster.py', 'openstackclient/tests/unit/volume/v3/test_block_storage_cleanup.py', 'openstackclient/tests/unit/volume/v3/test_volume_attachment.py', 'openstackclient/tests/unit/compute/v2/test_service.py', 'openstackclient/tests/unit/compute/v2/test_server_group.py', 'openstackclient/tests/unit/volume/v3/test_volume_backup.py', 'openstackclient/tests/unit/volume/v3/test_block_storage_log_level.py', 'openstackclient/tests/unit/volume/v3/test_volume_message.py', 'openstackclient/tests/unit/volume/v3/test_volume_type.py', 'openstackclient/tests/unit/compute/v2/test_server_event.py', 'openstackclient/tests/unit/volume/v3/test_volume_transfer_request.py', 'openstackclient/tests/unit/volume/v3/test_volume_group.py', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/tests/unit/volume/v3/test_block_storage_manage.py', 'openstackclient/tests/unit/compute/v2/test_aggregate.py', 'openstackclient/tests/unit/compute/v2/test_server_migration.py', 'openstackclient/tests/unit/volume/v3/test_block_storage_resource_filter.py', 'openstackclient/tests/unit/volume/v3/test_volume.py']",25,7bc822b1dd85b5d595fb800ac91a03d63dd12b3a,compute-gaps, self.set_volume_api_version('3.47') class TestVolumeSummary(volume_fakes.TestVolume): self.set_volume_api_version('3.12') self.set_volume_api_version('3.36')class TestVolumeRevertToSnapshot(volume_fakes.TestVolume): self.set_volume_api_version('3.40'),"#from cinderclient import api_versionsfrom openstack import utils as sdk_utils patcher = mock.patch.object( sdk_utils, 'supports_microversion', return_value=True ) self.addCleanup(patcher.stop) self.supports_microversion_mock = patcher.start() self._set_mock_microversion( self.volume_client.api_version.get_string() ) def _set_mock_microversion(self, mock_v): """"""Set a specific microversion for the mock supports_microversion()."""""" self.supports_microversion_mock.reset_mock(return_value=True) self.supports_microversion_mock.side_effect = ( lambda _, v: api_versions.APIVersion(v) <= api_versions.APIVersion(mock_v) ) self.volume_client.api_version = api_versions.APIVersion('3.47') class TestVolumeSummary(BaseVolumeTest): self._set_mock_microversion('3.12') self._set_mock_microversion('3.36')class TestVolumeRevertToSnapshot(BaseVolumeTest): self._set_mock_microversion('3.40')",573,821
openstack%2Fpython-openstackclient~918791,openstack/python-openstackclient,master,I8af3ce0a0b10f52e2124ec86f306327ff3474982,tests: Add ability to configure fake server API version,NEW,2024-05-09 16:52:46.000000000,2024-06-12 16:59:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-09 16:52:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/5860a4fd37d5c0d2b8b3bd355a891524f164601e', 'message': 'tests: Add ability to configure fake server API version\n\nThis beats the horrible mess of mocks we have created for ourselves.\n\nChange-Id: I8af3ce0a0b10f52e2124ec86f306327ff3474982\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2024-06-11 11:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f4a67634d29d92846df8691019ac535a4988faf0', 'message': 'tests: Add ability to configure fake server API version\n\nThis beats the horrible mess of mocks we have created for ourselves.\n\nChange-Id: I8af3ce0a0b10f52e2124ec86f306327ff3474982\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2024-06-12 15:30:37.000000000', 'files': ['openstackclient/tests/unit/volume/v2/fakes.py', 'openstackclient/tests/unit/compute/v2/fakes.py', 'openstackclient/tests/unit/volume/v3/fakes.py', 'openstackclient/tests/unit/volume/v3/test_block_storage_manage.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/29cd176ba6070630533f3de3bedaabe716861fa8', 'message': 'tests: Add ability to configure fake server API version\n\nThis beats the horrible mess of mocks we have created for ourselves.\n\nChange-Id: I8af3ce0a0b10f52e2124ec86f306327ff3474982\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,918791,29cd176ba6070630533f3de3bedaabe716861fa8,6,1,3,15334,,,0,"tests: Add ability to configure fake server API version

This beats the horrible mess of mocks we have created for ourselves.

Change-Id: I8af3ce0a0b10f52e2124ec86f306327ff3474982
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/91/918791/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/volume/v2/fakes.py', 'openstackclient/tests/unit/compute/v2/fakes.py', 'openstackclient/tests/unit/volume/v3/fakes.py', 'openstackclient/tests/unit/volume/v3/test_block_storage_manage.py']",4,5860a4fd37d5c0d2b8b3bd355a891524f164601e,compute-gaps,class TestBlockStorageManage(volume_fakes.TestVolume):,from openstackclient.tests.unit.volume.v2 import fakes as v2_volume_fakesclass TestBlockStorageManage(v2_volume_fakes.TestVolume):,67,4
openstack%2Foctavia~916984,openstack/octavia,stable/2023.1,I45500d618b307f740b8e692c49f5efdd27dc10a0,Fix haproxy global maxconn with disabled listeners,MERGED,2024-04-25 07:14:20.000000000,2024-06-12 16:57:09.000000000,2024-06-12 16:55:51.000000000,"[{'_account_id': 6577}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 27442}, {'_account_id': 34429}]","[{'number': 1, 'created': '2024-04-25 07:14:20.000000000', 'files': ['octavia/common/jinja/haproxy/combined_listeners/jinja_cfg.py', 'releasenotes/notes/fix-haproxy-maxconn-with-disabled-listeners-fa89f762a94b8fe9.yaml', 'octavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/bd9d474b12bfda89988bd60aabc371701d633c14', 'message': 'Fix haproxy global maxconn with disabled listeners\n\nglobal maxconn value is based on the connection-limit of the listeners\nof a LB, but it includes the connection-limit of disabled listeners.\nDisabled listeners are now skipped.\n\nCloses-Bug: #2024371\n\nChange-Id: I45500d618b307f740b8e692c49f5efdd27dc10a0\n(cherry picked from commit 21682f7056d9c08a322bcfddac3f075be939805d)\n'}]",2,916984,bd9d474b12bfda89988bd60aabc371701d633c14,11,5,1,29244,,,0,"Fix haproxy global maxconn with disabled listeners

global maxconn value is based on the connection-limit of the listeners
of a LB, but it includes the connection-limit of disabled listeners.
Disabled listeners are now skipped.

Closes-Bug: #2024371

Change-Id: I45500d618b307f740b8e692c49f5efdd27dc10a0
(cherry picked from commit 21682f7056d9c08a322bcfddac3f075be939805d)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/84/916984/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/jinja/haproxy/combined_listeners/jinja_cfg.py', 'releasenotes/notes/fix-haproxy-maxconn-with-disabled-listeners-fa89f762a94b8fe9.yaml', 'octavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py']",3,bd9d474b12bfda89988bd60aabc371701d633c14,," def test_transform_with_disabled_listeners(self): in_amphora = sample_configs_combined.sample_amphora_tuple() in_listeners = [] connection_limit_sum = 0 in_listener = ( sample_configs_combined.sample_listener_tuple()) connection_limit_sum += constants.HAPROXY_DEFAULT_MAXCONN in_listeners.append(in_listener) disabled_listener = ( sample_configs_combined.sample_listener_tuple(enabled=False)) in_listeners.append(disabled_listener) ret = self.jinja_cfg._transform_loadbalancer( in_amphora, in_listeners[0].load_balancer, in_listeners, None, {}) self.assertEqual(ret['global_connection_limit'], connection_limit_sum) ",,30,0
openstack%2Fpython-designateclient~917670,openstack/python-designateclient,unmaintained/zed,I5285791d6d8a4f31401060b62086a81964d58cb2,Update .gitreview for unmaintained/zed,MERGED,2024-04-30 11:11:13.000000000,2024-06-12 16:54:39.000000000,2024-06-12 16:53:36.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-30 11:11:13.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/python-designateclient/commit/a3c9716949e84512783f658e62d7241e6d7dfce6', 'message': 'Update .gitreview for unmaintained/zed\n\nChange-Id: I5285791d6d8a4f31401060b62086a81964d58cb2\n'}]",2,917670,a3c9716949e84512783f658e62d7241e6d7dfce6,9,2,1,22816,,,0,"Update .gitreview for unmaintained/zed

Change-Id: I5285791d6d8a4f31401060b62086a81964d58cb2
",git fetch https://review.opendev.org/openstack/python-designateclient refs/changes/70/917670/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,a3c9716949e84512783f658e62d7241e6d7dfce6,create-zed,defaultbranch=unmaintained/zed,defaultbranch=stable/zed,1,1
openstack%2Fopenstacksdk~921411,openstack/openstacksdk,master,I09bff2ce926d253a0e065b225556b2496b57e655,Identity: Add support for `options` property for roles and assigning inherited roles,NEW,2024-06-05 20:50:28.000000000,2024-06-12 16:52:09.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2024-06-05 20:50:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/709d6b64203803ce3010f4f5fe94f3246cede413', 'message': 'Identity: Add support for `options` property for roles\n\nChange-Id: I09bff2ce926d253a0e065b225556b2496b57e655\n'}, {'number': 2, 'created': '2024-06-12 01:21:49.000000000', 'files': ['openstack/identity/v3/project.py', 'openstack/identity/v3/role.py', 'openstack/identity/v3/_proxy.py', 'openstack/identity/v3/system.py', 'openstack/tests/unit/identity/v3/test_role.py', 'openstack/identity/v3/domain.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3682ef71bf0c14203e45c27107f3e1a4c4d1e215', 'message': 'Identity: Add support for `options` property for roles and assigning inherited roles\n\nChange-Id: I09bff2ce926d253a0e065b225556b2496b57e655\n'}]",1,921411,3682ef71bf0c14203e45c27107f3e1a4c4d1e215,6,3,2,36482,,,0,"Identity: Add support for `options` property for roles and assigning inherited roles

Change-Id: I09bff2ce926d253a0e065b225556b2496b57e655
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/11/921411/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/identity/v3/role.py', 'openstack/tests/unit/identity/v3/test_role.py']",2,709d6b64203803ce3010f4f5fe94f3246cede413,identity-gaps/role-commands," 'options': {'immutable': True}, 'options': 'options', self.assertEqual(EXAMPLE['options'], sot.options)",,7,1
openstack%2Fpython-openstackclient~918784,openstack/python-openstackclient,master,I5635469b63ab3370fb5118e4f8a1758002381aa5,compute: Migrate 'host set' to SDK,NEW,2024-05-09 16:52:46.000000000,2024-06-12 16:49:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-09 16:52:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/9fbd0b4c3fac178605920751799b5d75cf47273f', 'message': ""compute: Migrate 'host set' to SDK\n\nThis was the sole outstanding command to be migrated to SDK. We also\nclean up the old in-tree wrappers we have in the process and add missing\nerror checks for the 'host list' and 'host show' commands.\n\nChange-Id: I5635469b63ab3370fb5118e4f8a1758002381aa5\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2024-06-11 11:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a5b6ed72d63288c9de992699422b633dcfbf6816', 'message': ""compute: Migrate 'host set' to SDK\n\nThis was the sole outstanding command to be migrated to SDK. We also\nclean up the old in-tree wrappers we have in the process and add missing\nerror checks for the 'host list' and 'host show' commands.\n\nChange-Id: I5635469b63ab3370fb5118e4f8a1758002381aa5\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2024-06-12 15:17:59.000000000', 'files': ['openstackclient/api/compute_v2.py', 'openstackclient/compute/v2/host.py', 'openstackclient/tests/unit/compute/v2/test_host.py', 'openstackclient/tests/unit/api/test_compute_v2.py', 'openstackclient/tests/unit/compute/v2/fakes.py', 'releasenotes/notes/migrate-host-set-438997eb6f81f2b1.yaml'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d1ed1e74bd8744be8d6b75ed6d072e3a9db35e48', 'message': ""compute: Migrate 'host set' to SDK\n\nThis was the sole outstanding command to be migrated to SDK. We also\nclean up the old in-tree wrappers we have in the process and add missing\nerror checks for the 'host list' and 'host show' commands.\n\nChange-Id: I5635469b63ab3370fb5118e4f8a1758002381aa5\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,918784,d1ed1e74bd8744be8d6b75ed6d072e3a9db35e48,6,1,3,15334,,,0,"compute: Migrate 'host set' to SDK

This was the sole outstanding command to be migrated to SDK. We also
clean up the old in-tree wrappers we have in the process and add missing
error checks for the 'host list' and 'host show' commands.

Change-Id: I5635469b63ab3370fb5118e4f8a1758002381aa5
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/84/918784/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/api/compute_v2.py', 'openstackclient/compute/v2/host.py', 'openstackclient/tests/unit/compute/v2/test_host.py', 'openstackclient/tests/unit/api/test_compute_v2.py', 'openstackclient/tests/unit/compute/v2/fakes.py', 'releasenotes/notes/migrate-host-set-438997eb6f81f2b1.yaml']",6,9fbd0b4c3fac178605920751799b5d75cf47273f,compute-gaps,--- upgrade: - | The ``host set`` command has been migrated to SDK. ,,122,319
openstack%2Fpython-openstackclient~879073,openstack/python-openstackclient,master,I93eae610e16e2a3a859f684b889546ace3afa683,compute: Migrate tests for ShowServer to SDK objects,NEW,2023-03-30 18:13:42.000000000,2024-06-12 16:36:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-03-30 18:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/9108ca14db31ce3e0f391e936ce2e4fbdc0f1e46', 'message': 'compute: Migrate tests for ShowServer to SDK objects\n\nThis is a little more realistic.\n\nChange-Id: I93eae610e16e2a3a859f684b889546ace3afa683\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2023-04-11 14:57:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/0253f41b5706bb42437cc0f9c5ddce5ed37bd48f', 'message': 'compute: Migrate tests for ShowServer to SDK objects\n\nThis is a little more realistic.\n\nChange-Id: I93eae610e16e2a3a859f684b889546ace3afa683\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 3, 'created': '2024-05-09 16:52:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/04c5c5bc56ad953572ab28344b7af8df50d87c63', 'message': 'compute: Migrate tests for ShowServer to SDK objects\n\nThis is a little more realistic.\n\nChange-Id: I93eae610e16e2a3a859f684b889546ace3afa683\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 4, 'created': '2024-06-11 11:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/761cba8f23c6e5ba99480ace8e251295c5816258', 'message': 'compute: Migrate tests for ShowServer to SDK objects\n\nThis is a little more realistic.\n\nChange-Id: I93eae610e16e2a3a859f684b889546ace3afa683\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 5, 'created': '2024-06-12 15:17:59.000000000', 'files': ['openstackclient/tests/unit/volume/v3/test_volume_group_type.py', 'openstackclient/tests/unit/utils.py', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/fcc31d0239588175a23e1660c0ecf1051b66c5ad', 'message': 'compute: Migrate tests for ShowServer to SDK objects\n\nThis is a little more realistic.\n\nChange-Id: I93eae610e16e2a3a859f684b889546ace3afa683\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,879073,fcc31d0239588175a23e1660c0ecf1051b66c5ad,10,1,5,15334,,,0,"compute: Migrate tests for ShowServer to SDK objects

This is a little more realistic.

Change-Id: I93eae610e16e2a3a859f684b889546ace3afa683
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/73/879073/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/compute/v2/fakes.py', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py']",3,9108ca14db31ce3e0f391e936ce2e4fbdc0f1e46,compute-gaps, info.update( {'tags': format_columns.ListColumn(info.pop('tags') or [])} ), info.update({'tags': format_columns.ListColumn(info.pop('tags'))}),135,48
openstack%2Fpython-openstackclient~918782,openstack/python-openstackclient,master,I76515eaa4ce4e7c7d0173d2e0a91d7564ba7041a,network: Migrate port list to compute SDK client,NEW,2024-05-09 16:52:46.000000000,2024-06-12 16:34:36.000000000,,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2024-05-09 16:52:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d57ed76eaba377e8b29f090f26ded2c87b890e94', 'message': ""network: Migrate port list to compute SDK client\n\nWe use the compute client here to look up server IDs when filtering by\n'device_id'.\n\nChange-Id: I76515eaa4ce4e7c7d0173d2e0a91d7564ba7041a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2024-06-11 11:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/4783b6368ac50ff284b32259edf914200e15360d', 'message': ""network: Migrate port list to compute SDK client\n\nWe use the compute client here to look up server IDs when filtering by\n'device_id'.\n\nChange-Id: I76515eaa4ce4e7c7d0173d2e0a91d7564ba7041a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2024-06-12 15:17:59.000000000', 'files': ['openstackclient/tests/unit/network/v2/test_port.py', 'openstackclient/network/v2/port.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/7829d5327743e97d4483f7185cb04c259e1f8165', 'message': ""network: Migrate port list to compute SDK client\n\nWe use the compute client here to look up server IDs when filtering by\n'device_id'.\n\nChange-Id: I76515eaa4ce4e7c7d0173d2e0a91d7564ba7041a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",1,918782,7829d5327743e97d4483f7185cb04c259e1f8165,9,4,3,15334,,,0,"network: Migrate port list to compute SDK client

We use the compute client here to look up server IDs when filtering by
'device_id'.

Change-Id: I76515eaa4ce4e7c7d0173d2e0a91d7564ba7041a
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/82/918782/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/network/v2/test_port.py', 'openstackclient/network/v2/port.py']",2,d57ed76eaba377e8b29f090f26ded2c87b890e94,compute-gaps," compute_client = self.app.client_manager.sdk_connection.compute server = compute_client.find_server( parsed_args.server, ignore_missing=False,"," compute_client = self.app.client_manager.compute server = utils.find_resource( compute_client.servers, parsed_args.server",11,13
openstack%2Fpython-openstackclient~918788,openstack/python-openstackclient,master,I6b31026ae3c9dc66d828744534b35bb0a0d2ffbe,volume: Add v3-specific volume module,NEW,2024-05-09 16:52:46.000000000,2024-06-12 16:30:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-09 16:52:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e475565dac47356ca0839434bd2c1a89da6fa165', 'message': 'volume: Add v3-specific volume module\n\nThis makes testing easier.\n\nChange-Id: I6b31026ae3c9dc66d828744534b35bb0a0d2ffbe\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2024-06-11 11:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/552b0ac1955f834d3d9ad87039f98ec7f984f9a5', 'message': 'volume: Add v3-specific volume module\n\nThis makes testing easier.\n\nChange-Id: I6b31026ae3c9dc66d828744534b35bb0a0d2ffbe\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2024-06-12 15:17:59.000000000', 'files': ['openstackclient/volume/v2/volume.py', 'openstackclient/volume/v3/volume.py', 'openstackclient/tests/unit/volume/v2/fakes.py', 'setup.cfg', 'openstackclient/tests/unit/volume/v2/test_volume.py', 'openstackclient/tests/unit/volume/v3/fakes.py', 'openstackclient/tests/unit/volume/v3/test_volume.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ddc4d10c0a8af04f40bcb887e36e676551c82139', 'message': 'volume: Add v3-specific volume module\n\nThis makes testing easier.\n\nChange-Id: I6b31026ae3c9dc66d828744534b35bb0a0d2ffbe\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",1,918788,ddc4d10c0a8af04f40bcb887e36e676551c82139,6,1,3,15334,,,0,"volume: Add v3-specific volume module

This makes testing easier.

Change-Id: I6b31026ae3c9dc66d828744534b35bb0a0d2ffbe
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/88/918788/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/volume/v2/volume.py', 'openstackclient/volume/v3/volume.py', 'openstackclient/tests/unit/volume/v2/fakes.py', 'setup.cfg', 'openstackclient/tests/unit/volume/v2/test_volume.py', 'openstackclient/tests/unit/volume/v3/fakes.py', 'openstackclient/tests/unit/volume/v3/test_volume.py']",7,e475565dac47356ca0839434bd2c1a89da6fa165,compute-gaps,"from osc_lib import utils from openstackclient.tests.unit.identity.v3 import fakes as identity_fakes from openstackclient.tests.unit.image.v2 import fakes as image_fakes from openstackclient.tests.unit import utils as test_utils from openstackclient.tests.unit.volume.v3 import fakes as volume_fakesclass BaseVolumeTest(volume_fakes.TestVolume): self.volumes_mock = self.volume_client.volumes self.volumes_mock.reset_mock() self.projects_mock = self.identity_client.projects self.projects_mock.reset_mock() self.users_mock = self.identity_client.users self.users_mock.reset_mock() self.snapshots_mock = self.volume_client.volume_snapshots self.snapshots_mock.reset_mock() self.backups_mock = self.volume_client.backups self.backups_mock.reset_mock() self.types_mock = self.volume_client.volume_types self.types_mock.reset_mock() self.consistencygroups_mock = self.volume_client.consistencygroups self.consistencygroups_mock.reset_mock() def setup_volumes_mock(self, count): volumes = volume_fakes.create_volumes(count=count) self.volumes_mock.get = volume_fakes.get_volumes(volumes, 0) return volumes class TestVolumeCreate(BaseVolumeTest): project = identity_fakes.FakeProject.create_one_project() user = identity_fakes.FakeUser.create_one_user() columns = ( 'attachments', 'availability_zone', 'bootable', 'description', 'id', 'name', 'properties', 'size', 'snapshot_id', 'status', 'type', ) def setUp(self): super().setUp() self.new_volume = volume_fakes.create_one_volume() self.volumes_mock.create.return_value = self.new_volume self.datalist = ( self.new_volume.attachments, self.new_volume.availability_zone, self.new_volume.bootable, self.new_volume.description, self.new_volume.id, self.new_volume.name, format_columns.DictColumn(self.new_volume.metadata), self.new_volume.size, self.new_volume.snapshot_id, self.new_volume.status, self.new_volume.volume_type, ) # Get the command object to test self.cmd = volume.CreateVolume(self.app, None) def test_volume_create_min_options(self): arglist = [ '--size', str(self.new_volume.size), ] verifylist = [ ('size', self.new_volume.size), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) # In base command class ShowOne in cliff, abstract method take_action() # returns a two-part tuple with a tuple of column names and a tuple of # data to be shown. columns, data = self.cmd.take_action(parsed_args) self.volumes_mock.create.assert_called_with( size=self.new_volume.size, snapshot_id=None, name=None, description=None, volume_type=None, availability_zone=None, metadata=None, imageRef=None, source_volid=None, consistencygroup_id=None, scheduler_hints=None, backup_id=None, ) self.assertEqual(self.columns, columns) self.assertCountEqual(self.datalist, data) def test_volume_create_options(self): consistency_group = volume_fakes.create_one_consistency_group() self.consistencygroups_mock.get.return_value = consistency_group arglist = [ '--size', str(self.new_volume.size), '--description', self.new_volume.description, '--type', self.new_volume.volume_type, '--availability-zone', self.new_volume.availability_zone, '--consistency-group', consistency_group.id, '--hint', 'k=v', self.new_volume.name, ] verifylist = [ ('size', self.new_volume.size), ('description', self.new_volume.description), ('type', self.new_volume.volume_type), ('availability_zone', self.new_volume.availability_zone), ('consistency_group', consistency_group.id), ('hint', {'k': 'v'}), ('name', self.new_volume.name), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) # In base command class ShowOne in cliff, abstract method take_action() # returns a two-part tuple with a tuple of column names and a tuple of # data to be shown. columns, data = self.cmd.take_action(parsed_args) self.volumes_mock.create.assert_called_with( size=self.new_volume.size, snapshot_id=None, name=self.new_volume.name, description=self.new_volume.description, volume_type=self.new_volume.volume_type, availability_zone=self.new_volume.availability_zone, metadata=None, imageRef=None, source_volid=None, consistencygroup_id=consistency_group.id, scheduler_hints={'k': 'v'}, backup_id=None, ) self.assertEqual(self.columns, columns) self.assertCountEqual(self.datalist, data) def test_volume_create_properties(self): arglist = [ '--property', 'Alpha=a', '--property', 'Beta=b', '--size', str(self.new_volume.size), self.new_volume.name, ] verifylist = [ ('property', {'Alpha': 'a', 'Beta': 'b'}), ('size', self.new_volume.size), ('name', self.new_volume.name), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) # In base command class ShowOne in cliff, abstract method take_action() # returns a two-part tuple with a tuple of column names and a tuple of # data to be shown. columns, data = self.cmd.take_action(parsed_args) self.volumes_mock.create.assert_called_with( size=self.new_volume.size, snapshot_id=None, name=self.new_volume.name, description=None, volume_type=None, availability_zone=None, metadata={'Alpha': 'a', 'Beta': 'b'}, imageRef=None, source_volid=None, consistencygroup_id=None, scheduler_hints=None, backup_id=None, ) self.assertEqual(self.columns, columns) self.assertCountEqual(self.datalist, data) def test_volume_create_image_id(self): image = image_fakes.create_one_image() self.image_client.find_image.return_value = image arglist = [ '--image', image.id, '--size', str(self.new_volume.size), self.new_volume.name, ] verifylist = [ ('image', image.id), ('size', self.new_volume.size), ('name', self.new_volume.name), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) # In base command class ShowOne in cliff, abstract method take_action() # returns a two-part tuple with a tuple of column names and a tuple of # data to be shown. columns, data = self.cmd.take_action(parsed_args) self.volumes_mock.create.assert_called_with( size=self.new_volume.size, snapshot_id=None, name=self.new_volume.name, description=None, volume_type=None, availability_zone=None, metadata=None, imageRef=image.id, source_volid=None, consistencygroup_id=None, scheduler_hints=None, backup_id=None, ) self.assertEqual(self.columns, columns) self.assertCountEqual(self.datalist, data) def test_volume_create_image_name(self): image = image_fakes.create_one_image() self.image_client.find_image.return_value = image arglist = [ '--image', image.name, '--size', str(self.new_volume.size), self.new_volume.name, ] verifylist = [ ('image', image.name), ('size', self.new_volume.size), ('name', self.new_volume.name), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) # In base command class ShowOne in cliff, abstract method take_action() # returns a two-part tuple with a tuple of column names and a tuple of # data to be shown. columns, data = self.cmd.take_action(parsed_args) self.volumes_mock.create.assert_called_with( size=self.new_volume.size, snapshot_id=None, name=self.new_volume.name, description=None, volume_type=None, availability_zone=None, metadata=None, imageRef=image.id, source_volid=None, consistencygroup_id=None, scheduler_hints=None, backup_id=None, ) self.assertEqual(self.columns, columns) self.assertCountEqual(self.datalist, data) def test_volume_create_with_snapshot(self): snapshot = volume_fakes.create_one_snapshot() self.new_volume.snapshot_id = snapshot.id arglist = [ '--snapshot', self.new_volume.snapshot_id, self.new_volume.name, ] verifylist = [ ('snapshot', self.new_volume.snapshot_id), ('name', self.new_volume.name), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.snapshots_mock.get.return_value = snapshot # In base command class ShowOne in cliff, abstract method take_action() # returns a two-part tuple with a tuple of column names and a tuple of # data to be shown. columns, data = self.cmd.take_action(parsed_args) self.volumes_mock.create.assert_called_once_with( size=snapshot.size, snapshot_id=snapshot.id, name=self.new_volume.name, description=None, volume_type=None, availability_zone=None, metadata=None, imageRef=None, source_volid=None, consistencygroup_id=None, scheduler_hints=None, backup_id=None, ) self.assertEqual(self.columns, columns) self.assertCountEqual(self.datalist, data) def test_volume_create_with_backup(self): backup = volume_fakes.create_one_backup() self.new_volume.backup_id = backup.id arglist = [ '--backup', self.new_volume.backup_id, self.new_volume.name, ] verifylist = [ ('backup', self.new_volume.backup_id), ('name', self.new_volume.name), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.backups_mock.get.return_value = backup self.volume_client.api_version = api_versions.APIVersion('3.47') # In base command class ShowOne in cliff, abstract method take_action() # returns a two-part tuple with a tuple of column names and a tuple of # data to be shown. columns, data = self.cmd.take_action(parsed_args) self.volumes_mock.create.assert_called_once_with( size=backup.size, snapshot_id=None, name=self.new_volume.name, description=None, volume_type=None, availability_zone=None, metadata=None, imageRef=None, source_volid=None, consistencygroup_id=None, scheduler_hints=None, backup_id=backup.id, ) self.assertEqual(self.columns, columns) self.assertCountEqual(self.datalist, data) def test_volume_create_with_backup_pre_347(self): backup = volume_fakes.create_one_backup() self.new_volume.backup_id = backup.id arglist = [ '--backup', self.new_volume.backup_id, self.new_volume.name, ] verifylist = [ ('backup', self.new_volume.backup_id), ('name', self.new_volume.name), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.backups_mock.get.return_value = backup exc = self.assertRaises( exceptions.CommandError, self.cmd.take_action, parsed_args ) self.assertIn(""--os-volume-api-version 3.47 or greater"", str(exc)) def test_volume_create_with_source_volume(self): source_vol = ""source_vol"" arglist = [ '--source', self.new_volume.id, source_vol, ] verifylist = [ ('source', self.new_volume.id), ('name', source_vol), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.volumes_mock.get.return_value = self.new_volume # In base command class ShowOne in cliff, abstract method take_action() # returns a two-part tuple with a tuple of column names and a tuple of # data to be shown. columns, data = self.cmd.take_action(parsed_args) self.volumes_mock.create.assert_called_once_with( size=self.new_volume.size, snapshot_id=None, name=source_vol, description=None, volume_type=None, availability_zone=None, metadata=None, imageRef=None, source_volid=self.new_volume.id, consistencygroup_id=None, scheduler_hints=None, backup_id=None, ) self.assertEqual(self.columns, columns) self.assertCountEqual(self.datalist, data) @mock.patch.object(utils, 'wait_for_status', return_value=True) def test_volume_create_with_bootable_and_readonly(self, mock_wait): arglist = [ '--bootable', '--read-only', '--size', str(self.new_volume.size), self.new_volume.name, ] verifylist = [ ('bootable', True), ('non_bootable', False), ('read_only', True), ('read_write', False), ('size', self.new_volume.size), ('name', self.new_volume.name), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) columns, data = self.cmd.take_action(parsed_args) self.volumes_mock.create.assert_called_with( size=self.new_volume.size, snapshot_id=None, name=self.new_volume.name, description=None, volume_type=None, availability_zone=None, metadata=None, imageRef=None, source_volid=None, consistencygroup_id=None, scheduler_hints=None, backup_id=None, ) self.assertEqual(self.columns, columns) self.assertCountEqual(self.datalist, data) self.volumes_mock.set_bootable.assert_called_with( self.new_volume.id, True ) self.volumes_mock.update_readonly_flag.assert_called_with( self.new_volume.id, True ) @mock.patch.object(utils, 'wait_for_status', return_value=True) def test_volume_create_with_nonbootable_and_readwrite(self, mock_wait): arglist = [ '--non-bootable', '--read-write', '--size', str(self.new_volume.size), self.new_volume.name, ] verifylist = [ ('bootable', False), ('non_bootable', True), ('read_only', False), ('read_write', True), ('size', self.new_volume.size), ('name', self.new_volume.name), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) columns, data = self.cmd.take_action(parsed_args) self.volumes_mock.create.assert_called_with( size=self.new_volume.size, snapshot_id=None, name=self.new_volume.name, description=None, volume_type=None, availability_zone=None, metadata=None, imageRef=None, source_volid=None, consistencygroup_id=None, scheduler_hints=None, backup_id=None, ) self.assertEqual(self.columns, columns) self.assertCountEqual(self.datalist, data) self.volumes_mock.set_bootable.assert_called_with( self.new_volume.id, False ) self.volumes_mock.update_readonly_flag.assert_called_with( self.new_volume.id, False ) @mock.patch.object(volume.LOG, 'error') @mock.patch.object(utils, 'wait_for_status', return_value=True) def test_volume_create_with_bootable_and_readonly_fail( self, mock_wait, mock_error ): self.volumes_mock.set_bootable.side_effect = exceptions.CommandError() self.volumes_mock.update_readonly_flag.side_effect = ( exceptions.CommandError() ) arglist = [ '--bootable', '--read-only', '--size', str(self.new_volume.size), self.new_volume.name, ] verifylist = [ ('bootable', True), ('non_bootable', False), ('read_only', True), ('read_write', False), ('size', self.new_volume.size), ('name', self.new_volume.name), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) columns, data = self.cmd.take_action(parsed_args) self.volumes_mock.create.assert_called_with( size=self.new_volume.size, snapshot_id=None, name=self.new_volume.name, description=None, volume_type=None, availability_zone=None, metadata=None, imageRef=None, source_volid=None, consistencygroup_id=None, scheduler_hints=None, backup_id=None, ) self.assertEqual(2, mock_error.call_count) self.assertEqual(self.columns, columns) self.assertCountEqual(self.datalist, data) self.volumes_mock.set_bootable.assert_called_with( self.new_volume.id, True ) self.volumes_mock.update_readonly_flag.assert_called_with( self.new_volume.id, True ) @mock.patch.object(volume.LOG, 'error') @mock.patch.object(utils, 'wait_for_status', return_value=False) def test_volume_create_non_available_with_readonly( self, mock_wait, mock_error, ): arglist = [ '--non-bootable', '--read-only', '--size', str(self.new_volume.size), self.new_volume.name, ] verifylist = [ ('bootable', False), ('non_bootable', True), ('read_only', True), ('read_write', False), ('size', self.new_volume.size), ('name', self.new_volume.name), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) columns, data = self.cmd.take_action(parsed_args) self.volumes_mock.create.assert_called_with( size=self.new_volume.size, snapshot_id=None, name=self.new_volume.name, description=None, volume_type=None, availability_zone=None, metadata=None, imageRef=None, source_volid=None, consistencygroup_id=None, scheduler_hints=None, backup_id=None, ) self.assertEqual(2, mock_error.call_count) self.assertEqual(self.columns, columns) self.assertCountEqual(self.datalist, data) def test_volume_create_without_size(self): arglist = [ self.new_volume.name, ] verifylist = [ ('name', self.new_volume.name), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.assertRaises( exceptions.CommandError, self.cmd.take_action, parsed_args ) def test_volume_create_with_multi_source(self): arglist = [ '--image', 'source_image', '--source', 'source_volume', '--snapshot', 'source_snapshot', '--size', str(self.new_volume.size), self.new_volume.name, ] verifylist = [ ('image', 'source_image'), ('source', 'source_volume'), ('snapshot', 'source_snapshot'), ('size', self.new_volume.size), ('name', self.new_volume.name), ] self.assertRaises( test_utils.ParserException, self.check_parser, self.cmd, arglist, verifylist, ) def test_volume_create_hints(self): """"""--hint needs to behave differently based on the given hint different_host and same_host need to append to a list if given multiple times. All other parameter are strings. """""" arglist = [ '--size', str(self.new_volume.size), '--hint', 'k=v', '--hint', 'k=v2', '--hint', 'same_host=v3', '--hint', 'same_host=v4', '--hint', 'different_host=v5', '--hint', 'local_to_instance=v6', '--hint', 'different_host=v7', self.new_volume.name, ] verifylist = [ ('size', self.new_volume.size), ( 'hint', { 'k': 'v2', 'same_host': ['v3', 'v4'], 'local_to_instance': 'v6', 'different_host': ['v5', 'v7'], }, ), ('name', self.new_volume.name), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) # In base command class ShowOne in cliff, abstract method take_action() # returns a two-part tuple with a tuple of column names and a tuple of # data to be shown. columns, data = self.cmd.take_action(parsed_args) self.volumes_mock.create.assert_called_with( size=self.new_volume.size, snapshot_id=None, name=self.new_volume.name, description=None, volume_type=None, availability_zone=None, metadata=None, imageRef=None, source_volid=None, consistencygroup_id=None, scheduler_hints={ 'k': 'v2', 'same_host': ['v3', 'v4'], 'local_to_instance': 'v6', 'different_host': ['v5', 'v7'], }, backup_id=None, ) self.assertEqual(self.columns, columns) self.assertCountEqual(self.datalist, data) class TestVolumeDelete(BaseVolumeTest): def setUp(self): super().setUp() self.volumes_mock.delete.return_value = None # Get the command object to mock self.cmd = volume.DeleteVolume(self.app, None) def test_volume_delete_one_volume(self): volumes = self.setup_volumes_mock(count=1) arglist = [volumes[0].id] verifylist = [ (""force"", False), (""purge"", False), (""volumes"", [volumes[0].id]), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) result = self.cmd.take_action(parsed_args) self.volumes_mock.delete.assert_called_once_with( volumes[0].id, cascade=False ) self.assertIsNone(result) def test_volume_delete_multi_volumes(self): volumes = self.setup_volumes_mock(count=3) arglist = [v.id for v in volumes] verifylist = [ ('force', False), ('purge', False), ('volumes', arglist), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) result = self.cmd.take_action(parsed_args) calls = [mock.call(v.id, cascade=False) for v in volumes] self.volumes_mock.delete.assert_has_calls(calls) self.assertIsNone(result) def test_volume_delete_multi_volumes_with_exception(self): volumes = self.setup_volumes_mock(count=2) arglist = [ volumes[0].id, 'unexist_volume', ] verifylist = [ ('force', False), ('purge', False), ('volumes', arglist), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) find_mock_result = [volumes[0], exceptions.CommandError] with mock.patch.object( utils, 'find_resource', side_effect=find_mock_result ) as find_mock: try: self.cmd.take_action(parsed_args) self.fail('CommandError should be raised.') except exceptions.CommandError as e: self.assertEqual('1 of 2 volumes failed to delete.', str(e)) find_mock.assert_any_call(self.volumes_mock, volumes[0].id) find_mock.assert_any_call(self.volumes_mock, 'unexist_volume') self.assertEqual(2, find_mock.call_count) self.volumes_mock.delete.assert_called_once_with( volumes[0].id, cascade=False ) def test_volume_delete_with_purge(self): volumes = self.setup_volumes_mock(count=1) arglist = [ '--purge', volumes[0].id, ] verifylist = [ ('force', False), ('purge', True), ('volumes', [volumes[0].id]), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) result = self.cmd.take_action(parsed_args) self.volumes_mock.delete.assert_called_once_with( volumes[0].id, cascade=True ) self.assertIsNone(result) def test_volume_delete_with_force(self): volumes = self.setup_volumes_mock(count=1) arglist = [ '--force', volumes[0].id, ] verifylist = [ ('force', True), ('purge', False), ('volumes', [volumes[0].id]), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) result = self.cmd.take_action(parsed_args) self.volumes_mock.force_delete.assert_called_once_with(volumes[0].id) self.assertIsNone(result) class TestVolumeList(BaseVolumeTest): project = identity_fakes.FakeProject.create_one_project() user = identity_fakes.FakeUser.create_one_user() columns = [ 'ID', 'Name', 'Status', 'Size', 'Attached to', ] def setUp(self): super().setUp() self.mock_volume = volume_fakes.create_one_volume() self.volumes_mock.list.return_value = [self.mock_volume] self.users_mock.get.return_value = self.user self.projects_mock.get.return_value = self.project # Get the command object to test self.cmd = volume.ListVolume(self.app, None) def test_volume_list_no_options(self): arglist = [] verifylist = [ ('long', False), ('all_projects', False), ('name', None), ('status', None), ('marker', None), ('limit', None), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) columns, data = self.cmd.take_action(parsed_args) search_opts = { 'all_tenants': False, 'project_id': None, 'user_id': None, 'name': None, 'status': None, } self.volumes_mock.list.assert_called_once_with( search_opts=search_opts, marker=None, limit=None, ) self.assertEqual(self.columns, columns) datalist = ( ( self.mock_volume.id, self.mock_volume.name, self.mock_volume.status, self.mock_volume.size, volume.AttachmentsColumn(self.mock_volume.attachments), ), ) self.assertCountEqual(datalist, tuple(data)) def test_volume_list_project(self): arglist = [ '--project', self.project.name, ] verifylist = [ ('project', self.project.name), ('long', False), ('all_projects', False), ('status', None), ('marker', None), ('limit', None), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) columns, data = self.cmd.take_action(parsed_args) search_opts = { 'all_tenants': True, 'project_id': self.project.id, 'user_id': None, 'name': None, 'status': None, } self.volumes_mock.list.assert_called_once_with( search_opts=search_opts, marker=None, limit=None, ) self.assertEqual(self.columns, columns) datalist = ( ( self.mock_volume.id, self.mock_volume.name, self.mock_volume.status, self.mock_volume.size, volume.AttachmentsColumn(self.mock_volume.attachments), ), ) self.assertCountEqual(datalist, tuple(data)) def test_volume_list_project_domain(self): arglist = [ '--project', self.project.name, '--project-domain', self.project.domain_id, ] verifylist = [ ('project', self.project.name), ('project_domain', self.project.domain_id), ('long', False), ('all_projects', False), ('status', None), ('marker', None), ('limit', None), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) columns, data = self.cmd.take_action(parsed_args) search_opts = { 'all_tenants': True, 'project_id': self.project.id, 'user_id': None, 'name': None, 'status': None, } self.volumes_mock.list.assert_called_once_with( search_opts=search_opts, marker=None, limit=None, ) self.assertEqual(self.columns, columns) datalist = ( ( self.mock_volume.id, self.mock_volume.name, self.mock_volume.status, self.mock_volume.size, volume.AttachmentsColumn(self.mock_volume.attachments), ), ) self.assertCountEqual(datalist, tuple(data)) def test_volume_list_user(self): arglist = [ '--user', self.user.name, ] verifylist = [ ('user', self.user.name), ('long', False), ('all_projects', False), ('status', None), ('marker', None), ('limit', None), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) columns, data = self.cmd.take_action(parsed_args) search_opts = { 'all_tenants': False, 'project_id': None, 'user_id': self.user.id, 'name': None, 'status': None, } self.volumes_mock.list.assert_called_once_with( search_opts=search_opts, marker=None, limit=None, ) self.assertEqual(self.columns, columns) datalist = ( ( self.mock_volume.id, self.mock_volume.name, self.mock_volume.status, self.mock_volume.size, volume.AttachmentsColumn(self.mock_volume.attachments), ), ) self.assertCountEqual(datalist, tuple(data)) def test_volume_list_user_domain(self): arglist = [ '--user', self.user.name, '--user-domain', self.user.domain_id, ] verifylist = [ ('user', self.user.name), ('user_domain', self.user.domain_id), ('long', False), ('all_projects', False), ('status', None), ('marker', None), ('limit', None), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) columns, data = self.cmd.take_action(parsed_args) search_opts = { 'all_tenants': False, 'project_id': None, 'user_id': self.user.id, 'name': None, 'status': None, } self.volumes_mock.list.assert_called_once_with( search_opts=search_opts, marker=None, limit=None, ) self.assertEqual(self.columns, columns) datalist = ( ( self.mock_volume.id, self.mock_volume.name, self.mock_volume.status, self.mock_volume.size, volume.AttachmentsColumn(self.mock_volume.attachments), ), ) self.assertCountEqual(datalist, tuple(data)) def test_volume_list_name(self): arglist = [ '--name', self.mock_volume.name, ] verifylist = [ ('long', False), ('all_projects', False), ('name', self.mock_volume.name), ('status', None), ('marker', None), ('limit', None), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) columns, data = self.cmd.take_action(parsed_args) search_opts = { 'all_tenants': False, 'project_id': None, 'user_id': None, 'name': self.mock_volume.name, 'status': None, } self.volumes_mock.list.assert_called_once_with( search_opts=search_opts, marker=None, limit=None, ) self.assertEqual(self.columns, columns) datalist = ( ( self.mock_volume.id, self.mock_volume.name, self.mock_volume.status, self.mock_volume.size, volume.AttachmentsColumn(self.mock_volume.attachments), ), ) self.assertCountEqual(datalist, tuple(data)) def test_volume_list_status(self): arglist = [ '--status', self.mock_volume.status, ] verifylist = [ ('long', False), ('all_projects', False), ('name', None), ('status', self.mock_volume.status), ('marker', None), ('limit', None), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) columns, data = self.cmd.take_action(parsed_args) search_opts = { 'all_tenants': False, 'project_id': None, 'user_id': None, 'name': None, 'status': self.mock_volume.status, } self.volumes_mock.list.assert_called_once_with( search_opts=search_opts, marker=None, limit=None, ) self.assertEqual(self.columns, columns) datalist = ( ( self.mock_volume.id, self.mock_volume.name, self.mock_volume.status, self.mock_volume.size, volume.AttachmentsColumn(self.mock_volume.attachments), ), ) self.assertCountEqual(datalist, tuple(data)) def test_volume_list_all_projects(self): arglist = [ '--all-projects', ] verifylist = [ ('long', False), ('all_projects', True), ('name', None), ('status', None), ('marker', None), ('limit', None), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) columns, data = self.cmd.take_action(parsed_args) search_opts = { 'all_tenants': True, 'project_id': None, 'user_id': None, 'name': None, 'status': None, } self.volumes_mock.list.assert_called_once_with( search_opts=search_opts, marker=None, limit=None, ) self.assertEqual(self.columns, columns) datalist = ( ( self.mock_volume.id, self.mock_volume.name, self.mock_volume.status, self.mock_volume.size, volume.AttachmentsColumn(self.mock_volume.attachments), ), ) self.assertCountEqual(datalist, tuple(data)) def test_volume_list_long(self): arglist = [ '--long', ] verifylist = [ ('long', True), ('all_projects', False), ('name', None), ('status', None), ('marker', None), ('limit', None), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) columns, data = self.cmd.take_action(parsed_args) search_opts = { 'all_tenants': False, 'project_id': None, 'user_id': None, 'name': None, 'status': None, } self.volumes_mock.list.assert_called_once_with( search_opts=search_opts, marker=None, limit=None, ) collist = [ 'ID', 'Name', 'Status', 'Size', 'Type', 'Bootable', 'Attached to', 'Properties', ] self.assertEqual(collist, columns) datalist = ( ( self.mock_volume.id, self.mock_volume.name, self.mock_volume.status, self.mock_volume.size, self.mock_volume.volume_type, self.mock_volume.bootable, volume.AttachmentsColumn(self.mock_volume.attachments), format_columns.DictColumn(self.mock_volume.metadata), ), ) self.assertCountEqual(datalist, tuple(data)) def test_volume_list_with_marker_and_limit(self): arglist = [ ""--marker"", self.mock_volume.id, ""--limit"", ""2"", ] verifylist = [ ('long', False), ('all_projects', False), ('name', None), ('status', None), ('marker', self.mock_volume.id), ('limit', 2), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) columns, data = self.cmd.take_action(parsed_args) self.assertEqual(self.columns, columns) datalist = ( ( self.mock_volume.id, self.mock_volume.name, self.mock_volume.status, self.mock_volume.size, volume.AttachmentsColumn(self.mock_volume.attachments), ), ) self.volumes_mock.list.assert_called_once_with( marker=self.mock_volume.id, limit=2, search_opts={ 'status': None, 'project_id': None, 'user_id': None, 'name': None, 'all_tenants': False, }, ) self.assertCountEqual(datalist, tuple(data)) def test_volume_list_negative_limit(self): arglist = [ ""--limit"", ""-2"", ] verifylist = [ (""limit"", -2), ] self.assertRaises( test_utils.ParserException, self.check_parser, self.cmd, arglist, verifylist, ) def test_volume_list_backward_compatibility(self): arglist = [ '-c', 'Display Name', ] verifylist = [ ('columns', ['Display Name']), ('long', False), ('all_projects', False), ('name', None), ('status', None), ('marker', None), ('limit', None), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) columns, data = self.cmd.take_action(parsed_args) search_opts = { 'all_tenants': False, 'project_id': None, 'user_id': None, 'name': None, 'status': None, } self.volumes_mock.list.assert_called_once_with( search_opts=search_opts, marker=None, limit=None, ) self.assertIn('Display Name', columns) self.assertNotIn('Name', columns) for each_volume in data: self.assertIn(self.mock_volume.name, each_volume) class TestVolumeMigrate(BaseVolumeTest): _volume = volume_fakes.create_one_volume() def setUp(self): super().setUp() self.volumes_mock.get.return_value = self._volume self.volumes_mock.migrate_volume.return_value = None # Get the command object to test self.cmd = volume.MigrateVolume(self.app, None) def test_volume_migrate(self): arglist = [ ""--host"", ""host@backend-name#pool"", self._volume.id, ] verifylist = [ (""force_host_copy"", False), (""lock_volume"", False), (""host"", ""host@backend-name#pool""), (""volume"", self._volume.id), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) result = self.cmd.take_action(parsed_args) self.volumes_mock.get.assert_called_once_with(self._volume.id) self.volumes_mock.migrate_volume.assert_called_once_with( self._volume.id, ""host@backend-name#pool"", False, False ) self.assertIsNone(result) def test_volume_migrate_with_option(self): arglist = [ ""--force-host-copy"", ""--lock-volume"", ""--host"", ""host@backend-name#pool"", self._volume.id, ] verifylist = [ (""force_host_copy"", True), (""lock_volume"", True), (""host"", ""host@backend-name#pool""), (""volume"", self._volume.id), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) result = self.cmd.take_action(parsed_args) self.volumes_mock.get.assert_called_once_with(self._volume.id) self.volumes_mock.migrate_volume.assert_called_once_with( self._volume.id, ""host@backend-name#pool"", True, True ) self.assertIsNone(result) def test_volume_migrate_without_host(self): arglist = [ self._volume.id, ] verifylist = [ (""force_host_copy"", False), (""lock_volume"", False), (""volume"", self._volume.id), ] self.assertRaises( test_utils.ParserException, self.check_parser, self.cmd, arglist, verifylist, ) class TestVolumeSet(BaseVolumeTest): volume_type = volume_fakes.create_one_volume_type() def setUp(self): super().setUp() self.new_volume = volume_fakes.create_one_volume() self.volumes_mock.get.return_value = self.new_volume self.types_mock.get.return_value = self.volume_type # Get the command object to test self.cmd = volume.SetVolume(self.app, None) def test_volume_set_property(self): arglist = [ '--property', 'a=b', '--property', 'c=d', self.new_volume.id, ] verifylist = [ ('property', {'a': 'b', 'c': 'd'}), ('volume', self.new_volume.id), ('bootable', False), ('non_bootable', False), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) self.volumes_mock.set_metadata.assert_called_with( self.new_volume.id, parsed_args.property ) def test_volume_set_image_property(self): arglist = [ '--image-property', 'Alpha=a', '--image-property', 'Beta=b', self.new_volume.id, ] verifylist = [ ('image_property', {'Alpha': 'a', 'Beta': 'b'}), ('volume', self.new_volume.id), ('bootable', False), ('non_bootable', False), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) # In base command class ShowOne in cliff, abstract method take_action() # returns nothing self.cmd.take_action(parsed_args) self.volumes_mock.set_image_metadata.assert_called_with( self.new_volume.id, parsed_args.image_property ) def test_volume_set_state(self): arglist = ['--state', 'error', self.new_volume.id] verifylist = [ ('read_only', False), ('read_write', False), ('state', 'error'), ('volume', self.new_volume.id), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) result = self.cmd.take_action(parsed_args) self.volumes_mock.reset_state.assert_called_with( self.new_volume.id, 'error' ) self.volumes_mock.update_readonly_flag.assert_not_called() self.assertIsNone(result) def test_volume_set_state_failed(self): self.volumes_mock.reset_state.side_effect = exceptions.CommandError() arglist = ['--state', 'error', self.new_volume.id] verifylist = [('state', 'error'), ('volume', self.new_volume.id)] parsed_args = self.check_parser(self.cmd, arglist, verifylist) try: self.cmd.take_action(parsed_args) self.fail('CommandError should be raised.') except exceptions.CommandError as e: self.assertEqual( 'One or more of the set operations failed', str(e) ) self.volumes_mock.reset_state.assert_called_with( self.new_volume.id, 'error' ) def test_volume_set_attached(self): arglist = ['--attached', self.new_volume.id] verifylist = [ ('attached', True), ('detached', False), ('volume', self.new_volume.id), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) result = self.cmd.take_action(parsed_args) self.volumes_mock.reset_state.assert_called_with( self.new_volume.id, attach_status='attached', state=None ) self.assertIsNone(result) def test_volume_set_detached(self): arglist = ['--detached', self.new_volume.id] verifylist = [ ('attached', False), ('detached', True), ('volume', self.new_volume.id), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) result = self.cmd.take_action(parsed_args) self.volumes_mock.reset_state.assert_called_with( self.new_volume.id, attach_status='detached', state=None ) self.assertIsNone(result) def test_volume_set_bootable(self): arglist = [ ['--bootable', self.new_volume.id], ['--non-bootable', self.new_volume.id], ] verifylist = [ [ ('bootable', True), ('non_bootable', False), ('volume', self.new_volume.id), ], [ ('bootable', False), ('non_bootable', True), ('volume', self.new_volume.id), ], ] for index in range(len(arglist)): parsed_args = self.check_parser( self.cmd, arglist[index], verifylist[index] ) self.cmd.take_action(parsed_args) self.volumes_mock.set_bootable.assert_called_with( self.new_volume.id, verifylist[index][0][1] ) def test_volume_set_readonly(self): arglist = ['--read-only', self.new_volume.id] verifylist = [ ('read_only', True), ('read_write', False), ('volume', self.new_volume.id), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) result = self.cmd.take_action(parsed_args) self.volumes_mock.update_readonly_flag.assert_called_once_with( self.new_volume.id, True ) self.assertIsNone(result) def test_volume_set_read_write(self): arglist = ['--read-write', self.new_volume.id] verifylist = [ ('read_only', False), ('read_write', True), ('volume', self.new_volume.id), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) result = self.cmd.take_action(parsed_args) self.volumes_mock.update_readonly_flag.assert_called_once_with( self.new_volume.id, False ) self.assertIsNone(result) def test_volume_set_type(self): arglist = ['--type', self.volume_type.id, self.new_volume.id] verifylist = [ ('retype_policy', None), ('type', self.volume_type.id), ('volume', self.new_volume.id), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) result = self.cmd.take_action(parsed_args) self.volumes_mock.retype.assert_called_once_with( self.new_volume.id, self.volume_type.id, 'never' ) self.assertIsNone(result) def test_volume_set_type_with_policy(self): arglist = [ '--retype-policy', 'on-demand', '--type', self.volume_type.id, self.new_volume.id, ] verifylist = [ ('retype_policy', 'on-demand'), ('type', self.volume_type.id), ('volume', self.new_volume.id), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) result = self.cmd.take_action(parsed_args) self.volumes_mock.retype.assert_called_once_with( self.new_volume.id, self.volume_type.id, 'on-demand' ) self.assertIsNone(result) @mock.patch.object(volume.LOG, 'warning') def test_volume_set_with_only_retype_policy(self, mock_warning): arglist = ['--retype-policy', 'on-demand', self.new_volume.id] verifylist = [ ('retype_policy', 'on-demand'), ('volume', self.new_volume.id), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) result = self.cmd.take_action(parsed_args) self.volumes_mock.retype.assert_not_called() mock_warning.assert_called_with( ""'--retype-policy' option will "" ""not work without '--type' option"" ) self.assertIsNone(result) class TestVolumeShow(BaseVolumeTest): def setUp(self): super().setUp() self._volume = volume_fakes.create_one_volume() self.volumes_mock.get.return_value = self._volume # Get the command object to test self.cmd = volume.ShowVolume(self.app, None) def test_volume_show(self): arglist = [self._volume.id] verifylist = [(""volume"", self._volume.id)] parsed_args = self.check_parser(self.cmd, arglist, verifylist) columns, data = self.cmd.take_action(parsed_args) self.volumes_mock.get.assert_called_with(self._volume.id) self.assertEqual( tuple(sorted(self._volume.keys())), columns, ) self.assertTupleEqual( ( self._volume.attachments, self._volume.availability_zone, self._volume.bootable, self._volume.description, self._volume.id, self._volume.name, format_columns.DictColumn(self._volume.metadata), self._volume.size, self._volume.snapshot_id, self._volume.status, self._volume.volume_type, ), data, ) class TestVolumeUnset(BaseVolumeTest): def setUp(self): super().setUp() self.new_volume = volume_fakes.create_one_volume() self.volumes_mock.get.return_value = self.new_volume # Get the command object to set property self.cmd_set = volume.SetVolume(self.app, None) # Get the command object to unset property self.cmd_unset = volume.UnsetVolume(self.app, None) def test_volume_unset_image_property(self): # Arguments for setting image properties arglist = [ '--image-property', 'Alpha=a', '--image-property', 'Beta=b', self.new_volume.id, ] verifylist = [ ('image_property', {'Alpha': 'a', 'Beta': 'b'}), ('volume', self.new_volume.id), ] parsed_args = self.check_parser(self.cmd_set, arglist, verifylist) # In base command class ShowOne in cliff, abstract method take_action() # returns nothing self.cmd_set.take_action(parsed_args) # Arguments for unsetting image properties arglist_unset = [ '--image-property', 'Alpha', self.new_volume.id, ] verifylist_unset = [ ('image_property', ['Alpha']), ('volume', self.new_volume.id), ] parsed_args_unset = self.check_parser( self.cmd_unset, arglist_unset, verifylist_unset ) # In base command class ShowOne in cliff, abstract method take_action() # returns nothing self.cmd_unset.take_action(parsed_args_unset) self.volumes_mock.delete_image_metadata.assert_called_with( self.new_volume.id, parsed_args_unset.image_property ) def test_volume_unset_image_property_fail(self): self.volumes_mock.delete_image_metadata.side_effect = ( exceptions.CommandError() ) arglist = [ '--image-property', 'Alpha', '--property', 'Beta', self.new_volume.id, ] verifylist = [ ('image_property', ['Alpha']), ('property', ['Beta']), ('volume', self.new_volume.id), ] parsed_args = self.check_parser(self.cmd_unset, arglist, verifylist) try: self.cmd_unset.take_action(parsed_args) self.fail('CommandError should be raised.') except exceptions.CommandError as e: self.assertEqual( 'One or more of the unset operations failed', str(e) ) self.volumes_mock.delete_image_metadata.assert_called_with( self.new_volume.id, parsed_args.image_property ) self.volumes_mock.delete_metadata.assert_called_with( self.new_volume.id, parsed_args.property ) class TestColumns(volume_fakes.TestVolume): def test_attachments_column_without_server_cache(self): _volume = volume_fakes.create_one_volume() server_id = _volume.attachments[0]['server_id'] device = _volume.attachments[0]['device'] col = volume.AttachmentsColumn(_volume.attachments, {}) self.assertEqual( f'Attached to {server_id} on {device} ', col.human_readable(), ) self.assertEqual(_volume.attachments, col.machine_readable()) def test_attachments_column_with_server_cache(self): _volume = volume_fakes.create_one_volume() server_id = _volume.attachments[0]['server_id'] device = _volume.attachments[0]['device'] fake_server = mock.Mock() fake_server.name = 'fake-server-name' server_cache = {server_id: fake_server} col = volume.AttachmentsColumn(_volume.attachments, server_cache) self.assertEqual( 'Attached to {} on {} '.format('fake-server-name', device), col.human_readable(), ) self.assertEqual(_volume.attachments, col.machine_readable()) ", from openstackclient.tests.unit.volume.v3 import fakesclass BaseVolumeTest(fakes.TestVolume):,2981,171
openstack%2Fpython-openstackclient~918789,openstack/python-openstackclient,master,If1ed8d5003160e45d503971ae722fd9983d3dd6d,volume: add v3-specific volume type module,NEW,2024-05-09 16:52:46.000000000,2024-06-12 16:29:15.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-09 16:52:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/8d118fef24e2dbe3c95b0d8a0c989e3129f643b2', 'message': 'volume: add v3-specific volume type module\n\nThis makes testing easier.\n\nChange-Id: If1ed8d5003160e45d503971ae722fd9983d3dd6d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2024-06-11 11:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d5afd2a2ed4beb86f87335c2bc7bb739b67d5539', 'message': 'volume: add v3-specific volume type module\n\nThis makes testing easier.\n\nChange-Id: If1ed8d5003160e45d503971ae722fd9983d3dd6d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2024-06-12 15:17:59.000000000', 'files': ['openstackclient/volume/v3/volume_type.py', 'openstackclient/tests/unit/volume/v3/test_volume_type.py', 'openstackclient/volume/v2/volume_type.py', 'setup.cfg', 'openstackclient/tests/unit/volume/v2/test_volume_type.py', 'openstackclient/tests/unit/volume/v3/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/5d935544f898e93dba04523b05422a8a2c7c6036', 'message': 'volume: add v3-specific volume type module\n\nThis makes testing easier.\n\nChange-Id: If1ed8d5003160e45d503971ae722fd9983d3dd6d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,918789,5d935544f898e93dba04523b05422a8a2c7c6036,6,1,3,15334,,,0,"volume: add v3-specific volume type module

This makes testing easier.

Change-Id: If1ed8d5003160e45d503971ae722fd9983d3dd6d
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/89/918789/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/volume/v3/volume_type.py', 'openstackclient/tests/unit/volume/v3/test_volume_type.py', 'openstackclient/volume/v2/volume_type.py', 'setup.cfg', 'openstackclient/tests/unit/volume/v2/test_volume_type.py', 'openstackclient/tests/unit/volume/v3/fakes.py']",6,8d118fef24e2dbe3c95b0d8a0c989e3129f643b2,compute-gaps," self.volume_encryption_types = mock.Mock() self.volume_encryption_types.resource_class = fakes.FakeResource( None, {} ) self.volume_type_access = mock.Mock() self.volume_type_access.resource_class = fakes.FakeResource(None, {}) self.volumes = mock.Mock() self.volumes.resource_class = fakes.FakeResource(None, {})def create_one_encryption_volume_type(attrs=None): """"""Create a fake encryption volume type. :param dict attrs: A dictionary with all attributes :return: A FakeResource object with volume_type_id etc. """""" attrs = attrs or {} # Set default attributes. encryption_info = { ""volume_type_id"": 'type-id-' + uuid.uuid4().hex, 'provider': 'LuksEncryptor', 'cipher': None, 'key_size': None, 'control_location': 'front-end', } # Overwrite default attributes. encryption_info.update(attrs) encryption_type = fakes.FakeResource( info=copy.deepcopy(encryption_info), loaded=True ) return encryption_type def create_one_type_access(attrs=None): """"""Create a fake volume type access for project. :param dict attrs: A dictionary with all attributes :return: A FakeResource object, with Volume_type_ID and Project_ID. """""" if attrs is None: attrs = {} # Set default attributes. type_access_attrs = { 'volume_type_id': 'volume-type-id-' + uuid.uuid4().hex, 'project_id': 'project-id-' + uuid.uuid4().hex, } # Overwrite default attributes. type_access_attrs.update(attrs) type_access = fakes.FakeResource(None, type_access_attrs, loaded=True) return type_access def create_one_volume_type(attrs=None, methods=None): """"""Create a fake volume type. :param dict attrs: A dictionary with all attributes :param dict methods: A dictionary with all methods :return: A FakeResource object with id, name, description, etc. """""" attrs = attrs or {} methods = methods or {} # Set default attributes. volume_type_info = { ""id"": 'type-id-' + uuid.uuid4().hex, ""name"": 'type-name-' + uuid.uuid4().hex, ""description"": 'type-description-' + uuid.uuid4().hex, ""extra_specs"": {""foo"": ""bar""}, ""is_public"": True, } # Overwrite default attributes. volume_type_info.update(attrs) volume_type = fakes.FakeResource( info=copy.deepcopy(volume_type_info), methods=methods, loaded=True ) return volume_type def create_volume_types(attrs=None, count=2): """"""Create multiple fake volume_types. :param dict attrs: A dictionary with all attributes :param int count: The number of types to fake :return: A list of FakeResource objects faking the types """""" volume_types = [] for i in range(0, count): volume_type = create_one_volume_type(attrs) volume_types.append(volume_type) return volume_types def get_volume_types(volume_types=None, count=2): """"""Get an iterable MagicMock object with a list of faked volume types. If volume_types list is provided, then initialize the Mock object with the list. Otherwise create one. :param List volume_types: A list of FakeResource objects faking volume types :param Integer count: The number of volume types to be faked :return An iterable Mock object with side_effect set to a list of faked volume types """""" if volume_types is None: volume_types = create_volume_types(count) return mock.Mock(side_effect=volume_types) "," self.volumes = mock.Mock() self.volumes.resource_class = fakes.FakeResource(None, {})create_one_volume_type = volume_v2_fakes.create_one_volume_type",2222,177
openstack%2Fpython-openstackclient~918783,openstack/python-openstackclient,master,I72fa0d6f87899537a24090995b1ba884bc5f9d4d,compute: Migrate agent commands to SDK,NEW,2024-05-09 16:52:46.000000000,2024-06-12 16:28:52.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-09 16:52:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/1e4af80214e1579bc28e3fae6078d7fed555e6c9', 'message': 'compute: Migrate agent commands to SDK\n\nThese are not supported by SDK natively (intentionally so) so we use raw\nHTTP requests to manage this migration.\n\nChange-Id: I72fa0d6f87899537a24090995b1ba884bc5f9d4d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2024-06-11 11:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/0dcfe4d144cb8d64a5287f388b5e21aa34c131d3', 'message': 'compute: Migrate agent commands to SDK\n\nThese are not supported by SDK natively (intentionally so) so we use raw\nHTTP requests to manage this migration.\n\nChange-Id: I72fa0d6f87899537a24090995b1ba884bc5f9d4d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2024-06-12 15:17:59.000000000', 'files': ['openstackclient/compute/v2/agent.py', 'openstackclient/tests/unit/compute/v2/test_agent.py', 'releasenotes/notes/migrate-agent-commands-1c50ffcb75f91418.yaml'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/3888e7b22b2380322612847e275ed9dc87fa1e31', 'message': 'compute: Migrate agent commands to SDK\n\nThese are not supported by SDK natively (intentionally so) so we use raw\nHTTP requests to manage this migration.\n\nChange-Id: I72fa0d6f87899537a24090995b1ba884bc5f9d4d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,918783,3888e7b22b2380322612847e275ed9dc87fa1e31,6,1,3,15334,,,0,"compute: Migrate agent commands to SDK

These are not supported by SDK natively (intentionally so) so we use raw
HTTP requests to manage this migration.

Change-Id: I72fa0d6f87899537a24090995b1ba884bc5f9d4d
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/83/918783/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/compute/v2/agent.py', 'openstackclient/tests/unit/compute/v2/test_agent.py', 'releasenotes/notes/migrate-agent-commands-1c50ffcb75f91418.yaml']",3,1e4af80214e1579bc28e3fae6078d7fed555e6c9,compute-gaps,--- upgrade: - | The ``compute agent *`` commands have been migrated to SDK. ,,260,188
openstack%2Fpython-openstackclient~918790,openstack/python-openstackclient,master,I515aa54750439a6c4ad5b16cffe004ba1c7cf5b2,volume: Add v3-specific volume transfer module,NEW,2024-05-09 16:52:46.000000000,2024-06-12 16:28:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-09 16:52:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/65f7c82aed209755ba7dae2a3f0d9439e35a78fa', 'message': 'volume: Add v3-specific volume transfer module\n\nThis makes testing easier.\n\nChange-Id: I515aa54750439a6c4ad5b16cffe004ba1c7cf5b2\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2024-06-11 11:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/2182a07a577c7fe6cfbeeba6d2e619b1772492a6', 'message': 'volume: Add v3-specific volume transfer module\n\nThis makes testing easier.\n\nChange-Id: I515aa54750439a6c4ad5b16cffe004ba1c7cf5b2\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2024-06-12 15:17:59.000000000', 'files': ['openstackclient/tests/unit/volume/v3/test_volume_transfer_request.py', 'openstackclient/tests/unit/volume/v2/test_volume_transfer_request.py', 'openstackclient/volume/v3/volume_transfer_request.py', 'setup.cfg', 'openstackclient/volume/v2/volume_transfer_request.py', 'openstackclient/tests/unit/volume/v3/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/5f3cd5f8467ad75fc6f459acc71370cf02efa219', 'message': 'volume: Add v3-specific volume transfer module\n\nThis makes testing easier.\n\nChange-Id: I515aa54750439a6c4ad5b16cffe004ba1c7cf5b2\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,918790,5f3cd5f8467ad75fc6f459acc71370cf02efa219,6,1,3,15334,,,0,"volume: Add v3-specific volume transfer module

This makes testing easier.

Change-Id: I515aa54750439a6c4ad5b16cffe004ba1c7cf5b2
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/90/918790/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/volume/v3/test_volume_transfer_request.py', 'openstackclient/tests/unit/volume/v2/test_volume_transfer_request.py', 'openstackclient/volume/v3/volume_transfer_request.py', 'setup.cfg', 'openstackclient/volume/v2/volume_transfer_request.py', 'openstackclient/tests/unit/volume/v3/fakes.py']",6,65f7c82aed209755ba7dae2a3f0d9439e35a78fa,compute-gaps," self.transfers = mock.Mock() self.transfers.resource_class = fakes.FakeResource(None, {})def create_one_transfer(attrs=None): """"""Create a fake transfer. :param dict attrs: A dictionary with all attributes of Transfer Request :return: A FakeResource object with volume_id, name, id. """""" # Set default attribute transfer_info = { 'volume_id': 'volume-id-' + uuid.uuid4().hex, 'name': 'fake_transfer_name', 'id': 'id-' + uuid.uuid4().hex, 'links': 'links-' + uuid.uuid4().hex, } # Overwrite default attributes if there are some attributes set attrs = attrs or {} transfer_info.update(attrs) transfer = fakes.FakeResource(None, transfer_info, loaded=True) return transfer def create_transfers(attrs=None, count=2): """"""Create multiple fake transfers. :param dict attrs: A dictionary with all attributes of transfer :param Integer count: The number of transfers to be faked :return: A list of FakeResource objects """""" transfers = [] for n in range(0, count): transfers.append(create_one_transfer(attrs)) return transfers def get_transfers(transfers=None, count=2): """"""Get an iterable MagicMock object with a list of faked transfers. If transfers list is provided, then initialize the Mock object with the list. Otherwise create one. :param List transfers: A list of FakeResource objects faking transfers :param Integer count: The number of transfers to be faked :return An iterable Mock object with side_effect set to a list of faked transfers """""" if transfers is None: transfers = create_transfers(count) return mock.Mock(side_effect=transfers) ",,729,81
openstack%2Fpython-openstackclient~918785,openstack/python-openstackclient,master,I33b80007777a0483964cc04357961bf0c5eda6e5,compute: Migrate remaining tests to SDK objects,NEW,2024-05-09 16:52:46.000000000,2024-06-12 16:28:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-09 16:52:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/9e4cf73fd458ba0fc4f0e4f506bf1e50297f31d8', 'message': 'compute: Migrate remaining tests to SDK objects\n\nChange-Id: I33b80007777a0483964cc04357961bf0c5eda6e5\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2024-06-11 11:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/8d8ed2e847239de051b47f257823e106660a8e17', 'message': 'compute: Migrate remaining tests to SDK objects\n\nChange-Id: I33b80007777a0483964cc04357961bf0c5eda6e5\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2024-06-12 15:17:59.000000000', 'files': ['openstackclient/tests/unit/compute/v2/test_console.py', 'openstackclient/tests/unit/compute/v2/test_server_event.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/64f275531e879a84c61f191b5beb2004a508a36f', 'message': 'compute: Migrate remaining tests to SDK objects\n\nChange-Id: I33b80007777a0483964cc04357961bf0c5eda6e5\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,918785,64f275531e879a84c61f191b5beb2004a508a36f,6,1,3,15334,,,0,"compute: Migrate remaining tests to SDK objects

Change-Id: I33b80007777a0483964cc04357961bf0c5eda6e5
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/85/918785/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/compute/v2/test_console.py', 'openstackclient/tests/unit/compute/v2/test_server_event.py']",2,9e4cf73fd458ba0fc4f0e4f506bf1e50297f31d8,compute-gaps, fake_server = compute_fakes.create_one_sdk_server(), fake_server = compute_fakes.create_one_server(),3,4
openstack%2Frequirements~910534,openstack/requirements,master,Id6330467d95216288fd3722b83a6eb80761c17ab,Pin bcrypt until passlib is fixed/removed,ABANDONED,2024-02-28 16:38:25.000000000,2024-06-12 16:28:23.000000000,,"[{'_account_id': 7414}, {'_account_id': 12898}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-02-28 16:38:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/20e04ec34337599cc5eb2cc072913005c6a8a5df', 'message': ""Pin bcrypt until passlib is fixed/removed\n\nCurrently there is an incompatibility with the latest version of passlib and\nthe version of bcrypt we have specificed in the upper-constraints [1]. Passlib\nalso apears to be unmaintained [2] at this point and we're investigating the\nremoval of the library from Keystone. For the time being this pins bcrypt to a\nversion that is known to work with the latest passlib that is available.\n\n[1]: https://foss.heptapod.net/python-libs/passlib/-/issues/190\n[2]: https://foss.heptapod.net/python-libs/passlib/-/issues/187\n\nChange-Id: Id6330467d95216288fd3722b83a6eb80761c17ab\n""}, {'number': 2, 'created': '2024-02-28 16:40:56.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/7c1df475e395b68abe9b4814a674f0627b250510', 'message': ""Pin bcrypt until passlib is fixed/removed\n\nCurrently there is an incompatibility with the latest version of passlib\nand the version of bcrypt we have specificed in the upper-constraints\n[1]. Passlib also apears to be unmaintained [2] at this point and we're\ninvestigating the removal of the library from Keystone. For the time\nbeing this pins bcrypt to a version that is known to work with the\nlatest passlib that is available.\n\n[1]: https://foss.heptapod.net/python-libs/passlib/-/issues/190\n[2]: https://foss.heptapod.net/python-libs/passlib/-/issues/187\n\nChange-Id: Id6330467d95216288fd3722b83a6eb80761c17ab\n""}]",6,910534,7c1df475e395b68abe9b4814a674f0627b250510,10,4,2,7414,,,0,"Pin bcrypt until passlib is fixed/removed

Currently there is an incompatibility with the latest version of passlib
and the version of bcrypt we have specificed in the upper-constraints
[1]. Passlib also apears to be unmaintained [2] at this point and we're
investigating the removal of the library from Keystone. For the time
being this pins bcrypt to a version that is known to work with the
latest passlib that is available.

[1]: https://foss.heptapod.net/python-libs/passlib/-/issues/190
[2]: https://foss.heptapod.net/python-libs/passlib/-/issues/187

Change-Id: Id6330467d95216288fd3722b83a6eb80761c17ab
",git fetch https://review.opendev.org/openstack/requirements refs/changes/34/910534/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,20e04ec34337599cc5eb2cc072913005c6a8a5df,pin_bcrypt,bcrypt===4.0.1,bcrypt===4.1.2,1,1
openstack%2Foctavia~883063,openstack/octavia,master,I35797e252cb48eb23d82e1f89c88c6f1ae5fb02a,Add option to limit recursion in to_data_model,NEW,2023-05-12 12:29:26.000000000,2024-06-12 16:14:31.000000000,,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 34429}]","[{'number': 1, 'created': '2023-05-12 12:29:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f25027b05857889e1883665285f56cd0883b9a49', 'message': 'Add option to limit recursion in to_data_model\n\nPatch adds option to limit recursion depth for to_data_model.\nThis hack is useful for situations, when only one layer of attributes of\nModel are necessary.\nAs example it could be used on GET request:\n/v2/lbaas/pools/<pool_id>/members/\n\nWith this changes to_data_model will not iterate through all nodes in\ngraph. It will just take main node (Member) and make one recursive call\nfor its attrbutes (here for Pool). After that iteration will stop\ninstead of recursive call of all attributes of Pool model.\n\nTODO (skraynev): add unittests after agreement, that this approach is correct\n\nCloses-Bug: 2019311\n\nChange-Id: I35797e252cb48eb23d82e1f89c88c6f1ae5fb02a\n'}, {'number': 2, 'created': '2023-05-12 15:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7c5d6aa1d997b7e2e2f703acbc0fb1fc1d12f515', 'message': 'Add option to limit recursion in to_data_model\n\nPatch adds option to limit recursion depth for to_data_model.\nThis hack is useful for situations, when only one layer of attributes of\nModel are necessary.\nAs example it could be used on GET request:\n/v2/lbaas/pools/<pool_id>/members/\n\nWith this changes to_data_model will not iterate through all nodes in\ngraph. It will just take main node (Member) and make one recursive call\nfor its attrbutes (here for Pool). After that iteration will stop\ninstead of recursive call of all attributes of Pool model.\n\nTODO (skraynev): add unittests after agreement, that this approach is correct\n\nCloses-Bug: 2019311\n\nChange-Id: I35797e252cb48eb23d82e1f89c88c6f1ae5fb02a\n'}, {'number': 3, 'created': '2023-08-30 08:15:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b68c91dbe423f675b3e8aa6f2b143c1b45c97b09', 'message': 'Add option to limit recursion in to_data_model\n\nPatch adds option to limit recursion depth for to_data_model.\nThis hack is useful for situations, when only one layer of attributes of\nModel are necessary.\nAs example it could be used on GET request:\n/v2/lbaas/pools/<pool_id>/members/\n\nWith this changes to_data_model will not iterate through all nodes in\ngraph. It will just take main node (Member) and make one recursive call\nfor its attrbutes (here for Pool). After that iteration will stop\ninstead of recursive call of all attributes of Pool model.\n\nTODO (skraynev): add unittests after agreement, that this approach is correct\n\nCloses-Bug: 2019311\n\nChange-Id: I35797e252cb48eb23d82e1f89c88c6f1ae5fb02a\n'}, {'number': 4, 'created': '2023-09-03 11:15:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d6415f627d4098915f02c0c98cfd47f0cd274cf4', 'message': 'Add option to limit recursion in to_data_model\n\nPatch adds option to limit recursion depth for to_data_model.\nThis hack is useful for situations, when only one layer of attributes of\nModel are necessary.\nAs example it could be used on GET request:\n/v2/lbaas/pools/<pool_id>/members/\n\nWith this changes to_data_model will not iterate through all nodes in\ngraph. It will just take main node (Member) and make one recursive call\nfor its attrbutes (here for Pool). After that iteration will stop\ninstead of recursive call of all attributes of Pool model.\n\nCloses-Bug: 2019311\n\nChange-Id: I35797e252cb48eb23d82e1f89c88c6f1ae5fb02a\n'}, {'number': 5, 'created': '2023-09-03 11:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/77d806b2aed2413ef6b73a8396055abbf3e4d6d4', 'message': 'Add option to limit recursion in to_data_model\n\nPatch adds option to limit recursion depth for to_data_model.\nThis hack is useful for situations, when only one layer of attributes of\nModel are necessary.\nAs example it could be used on GET request:\n/v2/lbaas/pools/<pool_id>/members/\n\nWith this changes to_data_model will not iterate through all nodes in\ngraph. It will just take main node (Member) and make one recursive call\nfor its attrbutes (here for Pool). After that iteration will stop\ninstead of recursive call of all attributes of Pool model.\n\nCloses-Bug: 2019311\n\nChange-Id: I35797e252cb48eb23d82e1f89c88c6f1ae5fb02a\n'}, {'number': 6, 'created': '2023-09-03 15:22:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6cb45449a35342181d8be7a4af367d528dc5c93e', 'message': 'Add option to limit recursion in to_data_model\n\nPatch adds option to limit recursion depth for to_data_model.\nThis hack is useful for situations, when only one layer of attributes of\nModel are necessary.\nAs example it could be used on GET request:\n/v2/lbaas/pools/<pool_id>/members/\n\nWith this changes to_data_model will not iterate through all nodes in\ngraph. It will just take main node (Member) and make one recursive call\nfor its attrbutes (here for Pool). After that iteration will stop\ninstead of recursive call of all attributes of Pool model.\n\nCloses-Bug: 2019311\n\nChange-Id: I35797e252cb48eb23d82e1f89c88c6f1ae5fb02a\n'}, {'number': 7, 'created': '2023-09-18 14:31:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/837df636d020c78732f5b92a3f79cc296c5e7fd9', 'message': 'Add option to limit recursion in to_data_model\n\nPatch adds option to limit recursion depth for to_data_model.\nThis hack is useful for situations, when only one layer of attributes of\nModel are necessary.\nAs example it could be used on GET request:\n/v2/lbaas/pools/<pool_id>/members/\n\nWith this changes to_data_model will not iterate through all nodes in\ngraph. It will just take main node (Member) and make one recursive call\nfor its attrbutes (here for Pool). After that iteration will stop\ninstead of recursive call of all attributes of Pool model.\n\nCloses-Bug: 2019311\n\nChange-Id: I35797e252cb48eb23d82e1f89c88c6f1ae5fb02a\n'}, {'number': 8, 'created': '2023-09-25 09:34:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d9c6c84b5c66414ff7a40483133139b5c1bcfc6f', 'message': 'Add option to limit recursion in to_data_model\n\nPatch adds option to limit recursion depth for to_data_model.\nThis hack is useful for situations, when only one layer of attributes of\nModel are necessary.\nAs example it could be used on GET request:\n/v2/lbaas/pools/<pool_id>/members/\n\nWith this changes to_data_model will not iterate through all nodes in\ngraph. It will just take main node (Member) and make one recursive call\nfor its attrbutes (here for Pool). After that iteration will stop\ninstead of recursive call of all attributes of Pool model.\n\nCloses-Bug: 2019311\n\nChange-Id: I35797e252cb48eb23d82e1f89c88c6f1ae5fb02a\n'}, {'number': 9, 'created': '2023-09-26 18:31:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8a5ad0ae05be0fe0f55655b44c2ebd3ac8ab84a0', 'message': 'Add option to limit recursion in to_data_model\n\nPatch adds option to limit recursion depth for to_data_model.\nThis hack is useful for situations, when only one layer of attributes of\nModel are necessary.\nAs example it could be used on GET request:\n/v2/lbaas/pools/<pool_id>/members/\n\nWith this changes to_data_model will not iterate through all nodes in\ngraph. It will just take main node (Member) and make one recursive call\nfor its attrbutes (here for Pool). After that iteration will stop\ninstead of recursive call of all attributes of Pool model.\n\nCloses-Bug: 2019311\n\nChange-Id: I35797e252cb48eb23d82e1f89c88c6f1ae5fb02a\n'}, {'number': 10, 'created': '2023-09-30 11:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3bf5e85557132a04ccf55dccbb63b4221354626c', 'message': 'Add option to limit recursion in to_data_model\n\nPatch adds option to limit recursion depth for to_data_model.\nThis hack is useful for situations, when only one layer of attributes of\nModel are necessary.\nAs example it could be used on GET request:\n/v2/lbaas/pools/<pool_id>/members/\n\nWith this changes to_data_model will not iterate through all nodes in\ngraph. It will just take main node (Member) and make one recursive call\nfor its attrbutes (here for Pool). After that iteration will stop\ninstead of recursive call of all attributes of Pool model.\n\nAdds the same logic to repo.get method but with different default value\n(0). So on get request only node itself be processed without related\nnodes.\n\nCloses-Bug: 2019311\n\nChange-Id: I35797e252cb48eb23d82e1f89c88c6f1ae5fb02a\n'}, {'number': 11, 'created': '2023-10-09 04:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/aeddd319067d2c64c1a0b943f777aed1231622da', 'message': 'Add option to limit recursion in to_data_model\n\nPatch adds option to limit recursion depth for to_data_model.\nThis hack is useful for situations, when only one layer of attributes of\nModel are necessary.\nAs example it could be used on GET request:\n/v2/lbaas/pools/<pool_id>/members/\n\nWith this changes to_data_model will not iterate through all nodes in\ngraph. It will just take main node (Member) and make one recursive call\nfor its attrbutes (here for Pool). After that iteration will stop\ninstead of recursive call of all attributes of Pool model.\n\nAdds the same logic to repo.get method but with different default value\n(0). So on get request only node itself be processed without related\nnodes.\n\nCloses-Bug: 2019311\n\nChange-Id: I35797e252cb48eb23d82e1f89c88c6f1ae5fb02a\n'}, {'number': 12, 'created': '2024-02-13 19:17:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e176c02b85e157deee9d19c0328a645c1e8f972f', 'message': 'Add option to limit recursion in to_data_model\n\nPatch adds option to limit recursion depth for to_data_model.\nThis hack is useful for situations, when only one layer of attributes of\nModel are necessary.\nAs example it could be used on GET request:\n/v2/lbaas/pools/<pool_id>/members/\n\nWith this changes to_data_model will not iterate through all nodes in\ngraph. It will just take main node (Member) and make one recursive call\nfor its attrbutes (here for Pool). After that iteration will stop\ninstead of recursive call of all attributes of Pool model.\n\nAdds the same logic to repo.get method but with different default value\n(0). So on get request only node itself be processed without related\nnodes.\n\nCloses-Bug: 2019311\n\nChange-Id: I35797e252cb48eb23d82e1f89c88c6f1ae5fb02a\n'}, {'number': 13, 'created': '2024-02-27 08:41:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/85027e037402c77cd0a747e8c84c007ba1d6574f', 'message': 'Add option to limit recursion in to_data_model\n\nPatch adds option to limit recursion depth for to_data_model.\nThis hack is useful for situations, when only one layer of attributes of\nModel are necessary.\nAs example it could be used on GET request:\n/v2/lbaas/pools/<pool_id>/members/\n\nWith this changes to_data_model will not iterate through all nodes in\ngraph. It will just take main node (Member) and make one recursive call\nfor its attrbutes (here for Pool). After that iteration will stop\ninstead of recursive call of all attributes of Pool model.\n\nAdds the same logic to repo.get method but with different default value\n(0). So on get request only node itself be processed without related\nnodes.\n\nCloses-Bug: 2019311\n\nChange-Id: I35797e252cb48eb23d82e1f89c88c6f1ae5fb02a\n'}, {'number': 14, 'created': '2024-03-14 17:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8f613336068c5b9a7ca8638d33beb093d22d3eec', 'message': 'Add option to limit recursion in to_data_model\n\nPatch adds option to limit recursion depth for to_data_model.\nThis hack is useful for situations, when only one layer of attributes of\nModel are necessary.\nAs example it could be used on GET request:\n/v2/lbaas/pools/<pool_id>/members/\n\nWith this changes to_data_model will not iterate through all nodes in\ngraph. It will just take main node (Member) and make one recursive call\nfor its attrbutes (here for Pool). After that iteration will stop\ninstead of recursive call of all attributes of Pool model.\n\nAdds the same logic to repo.get method but with different default value\n(0). So on get request only node itself be processed without related\nnodes.\n\nCloses-Bug: 2019311\n\nChange-Id: I35797e252cb48eb23d82e1f89c88c6f1ae5fb02a\n'}, {'number': 15, 'created': '2024-04-04 05:57:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f1e41afd2882ea0007c10bc217c0055cf136b543', 'message': 'Add option to limit recursion in to_data_model\n\nPatch adds option to limit recursion depth for to_data_model.\nThis hack is useful for situations, when only one layer of attributes of\nModel are necessary.\nAs example it could be used on GET request:\n/v2/lbaas/pools/<pool_id>/members/\n\nWith this changes to_data_model will not iterate through all nodes in\ngraph. It will just take main node (Member) and make one recursive call\nfor its attrbutes (here for Pool). After that iteration will stop\ninstead of recursive call of all attributes of Pool model.\n\nAdds the same logic to repo.get method but with different default value\n(0). So on get request only node itself be processed without related\nnodes.\n\nCloses-Bug: 2019311\n\nChange-Id: I35797e252cb48eb23d82e1f89c88c6f1ae5fb02a\n'}, {'number': 16, 'created': '2024-04-16 03:23:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/cf9e4ce32e7a3d132bf15be91c81969e9bb24bdc', 'message': 'Add option to limit recursion in to_data_model\n\nPatch adds option to limit recursion depth for to_data_model.\nThis hack is useful for situations, when only one layer of attributes of\nModel are necessary.\nAs example it could be used on GET request:\n/v2/lbaas/pools/<pool_id>/members/\n\nWith this changes to_data_model will not iterate through all nodes in\ngraph. It will just take main node (Member) and make one recursive call\nfor its attrbutes (here for Pool). After that iteration will stop\ninstead of recursive call of all attributes of Pool model.\n\nAdds the same logic to repo.get method but with different default value\n(0). So on get request only node itself be processed without related\nnodes.\n\nCloses-Bug: 2019311\n\nChange-Id: I35797e252cb48eb23d82e1f89c88c6f1ae5fb02a\n'}, {'number': 17, 'created': '2024-04-18 17:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3833ef8d485dd93f83a3402548d97ced50d17688', 'message': 'Add option to limit recursion in to_data_model\n\nPatch adds option to limit recursion depth for to_data_model.\nThis hack is useful for situations, when only one layer of attributes of\nModel are necessary.\nAs example it could be used on GET request:\n/v2/lbaas/pools/<pool_id>/members/\n\nWith this changes to_data_model will not iterate through all nodes in\ngraph. It will just take main node (Member) and make one recursive call\nfor its attrbutes (here for Pool). After that iteration will stop\ninstead of recursive call of all attributes of Pool model.\n\nAdds the same logic to repo.get method but with different default value\n(0). So on get request only node itself be processed without related\nnodes.\n\nCloses-Bug: 2019311\n\nChange-Id: I35797e252cb48eb23d82e1f89c88c6f1ae5fb02a\n'}, {'number': 18, 'created': '2024-05-02 05:55:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/26843f5ec64a13ed98f40d3d444412a0aaa7ce0f', 'message': 'Add option to limit recursion in to_data_model\n\nPatch adds option to limit recursion depth for to_data_model.\nThis hack is useful for situations, when only one layer of attributes of\nModel are necessary.\nAs example it could be used on GET request:\n/v2/lbaas/pools/<pool_id>/members/\n\nWith this changes to_data_model will not iterate through all nodes in\ngraph. It will just take main node (Member) and make one recursive call\nfor its attrbutes (here for Pool). After that iteration will stop\ninstead of recursive call of all attributes of Pool model.\n\nAdds the same logic to repo.get method but with different default value\n(0). So on get request only node itself be processed without related\nnodes.\n\nCloses-Bug: 2019311\n\nChange-Id: I35797e252cb48eb23d82e1f89c88c6f1ae5fb02a\n'}, {'number': 19, 'created': '2024-05-20 07:24:59.000000000', 'files': ['octavia/tests/functional/db/test_repositories.py', 'octavia/db/base_models.py', 'octavia/db/repositories.py', 'octavia/tests/functional/db/test_models.py', 'octavia/api/v2/controllers/member.py', 'octavia/api/v2/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/722c5007f0fbad7d02685b6af7b23c97c807141d', 'message': 'Add option to limit recursion in to_data_model\n\nPatch adds option to limit recursion depth for to_data_model.\nThis hack is useful for situations, when only one layer of attributes of\nModel are necessary.\nAs example it could be used on GET request:\n/v2/lbaas/pools/<pool_id>/members/\n\nWith this changes to_data_model will not iterate through all nodes in\ngraph. It will just take main node (Member) and make one recursive call\nfor its attrbutes (here for Pool). After that iteration will stop\ninstead of recursive call of all attributes of Pool model.\n\nAdds the same logic to repo.get method but with different default value\n(0). So on get request only node itself be processed without related\nnodes.\n\nCloses-Bug: 2019311\n\nChange-Id: I35797e252cb48eb23d82e1f89c88c6f1ae5fb02a\n'}]",46,883063,722c5007f0fbad7d02685b6af7b23c97c807141d,74,4,19,6577,,,0,"Add option to limit recursion in to_data_model

Patch adds option to limit recursion depth for to_data_model.
This hack is useful for situations, when only one layer of attributes of
Model are necessary.
As example it could be used on GET request:
/v2/lbaas/pools/<pool_id>/members/

With this changes to_data_model will not iterate through all nodes in
graph. It will just take main node (Member) and make one recursive call
for its attrbutes (here for Pool). After that iteration will stop
instead of recursive call of all attributes of Pool model.

Adds the same logic to repo.get method but with different default value
(0). So on get request only node itself be processed without related
nodes.

Closes-Bug: 2019311

Change-Id: I35797e252cb48eb23d82e1f89c88c6f1ae5fb02a
",git fetch https://review.opendev.org/openstack/octavia refs/changes/63/883063/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/db/base_models.py', 'octavia/db/repositories.py', 'octavia/api/v2/controllers/member.py']",3,f25027b05857889e1883665285f56cd0883b9a49,," pagination_helper=pcontext.get(constants.PAGINATION_HELPER), limited_graph=True, )", pagination_helper=pcontext.get(constants.PAGINATION_HELPER)),38,11
openstack%2Fopenstack-ansible~921795,openstack/openstack-ansible,stable/2024.1,I3915c6d6b8575be9c06c3b6d41b0860a72688267,Grammar and OS corrections,MERGED,2024-06-11 19:25:46.000000000,2024-06-12 16:04:43.000000000,2024-06-12 16:03:34.000000000,"[{'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2024-06-11 19:25:46.000000000', 'files': ['deploy-guide/source/overview-requirements.rst', 'deploy-guide/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/729a95e90329f1754431afb82c9c5d4e7446a6bf', 'message': 'Grammar and OS corrections\n\nChange-Id: I3915c6d6b8575be9c06c3b6d41b0860a72688267\n(cherry picked from commit a769a7356b9d6807376a202efc25b696e3a3a953)\n'}]",0,921795,729a95e90329f1754431afb82c9c5d4e7446a6bf,8,3,1,28619,,,0,"Grammar and OS corrections

Change-Id: I3915c6d6b8575be9c06c3b6d41b0860a72688267
(cherry picked from commit a769a7356b9d6807376a202efc25b696e3a3a953)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/95/921795/1 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/overview-requirements.rst', 'deploy-guide/source/index.rst']",2,729a95e90329f1754431afb82c9c5d4e7446a6bf,cleanup-stable/2024.1,This guide provides instructions for deployers to use to perform an OpenStack-Ansible installation in either a test environment or a production environment.,"This guide provides instructions for performing an OpenStack-Ansible installation in a test environment and a production environment, and is intended for deployers.",5,5
openstack%2Fcharm-gnocchi~920291,openstack/charm-gnocchi,stable/wallaby,I048921beb6aaa66563d83253efb6152caa315ba9,Update package version codenames,MERGED,2024-05-23 14:44:08.000000000,2024-06-12 16:01:11.000000000,2024-06-12 16:01:11.000000000,"[{'_account_id': 1131}, {'_account_id': 6737}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-23 14:44:08.000000000', 'files': ['src/lib/charm/openstack/gnocchi.py'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/5118071c2bf41252dec978d9b58260873b954b54', 'message': 'Update package version codenames\n\nCodenames stopped at Train so this fills gap\nall the way to Caracal as well as accounting\nfor releases that share the version. Where more\nthan one release shares the same version we set\nthe highest release as the named release for that\nversion to avoid unnecessary upgrades.\n\nCloses-Bug: #1973303\nChange-Id: I048921beb6aaa66563d83253efb6152caa315ba9\n(cherry picked from commit ce8fd528ed2fa01c31fa231e85a83cef285b1887)\n'}]",1,920291,5118071c2bf41252dec978d9b58260873b954b54,10,5,1,6737,,,0,"Update package version codenames

Codenames stopped at Train so this fills gap
all the way to Caracal as well as accounting
for releases that share the version. Where more
than one release shares the same version we set
the highest release as the named release for that
version to avoid unnecessary upgrades.

Closes-Bug: #1973303
Change-Id: I048921beb6aaa66563d83253efb6152caa315ba9
(cherry picked from commit ce8fd528ed2fa01c31fa231e85a83cef285b1887)
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/91/920291/1 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/openstack/gnocchi.py'],1,5118071c2bf41252dec978d9b58260873b954b54,bug/1973303-wallaby," ('4.3', 'ussuri'), ('4.4.0', 'victoria'), ('4.4.1', 'yoga'), # wallaby, xena, yoga ('4.4.2', 'zed'), ('4.5.0', 'bobcat'), # antelope, bobcat ('4.6.0', 'caracal'),",,6,0
openstack%2Fcharm-gnocchi~920290,openstack/charm-gnocchi,stable/xena,I048921beb6aaa66563d83253efb6152caa315ba9,Update package version codenames,MERGED,2024-05-23 14:43:39.000000000,2024-06-12 16:01:10.000000000,2024-06-12 16:01:10.000000000,"[{'_account_id': 1131}, {'_account_id': 6737}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-23 14:43:39.000000000', 'files': ['src/lib/charm/openstack/gnocchi.py'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/3af9e06237c4b205f68a994a4a50e642def5dc53', 'message': 'Update package version codenames\n\nCodenames stopped at Train so this fills gap\nall the way to Caracal as well as accounting\nfor releases that share the version. Where more\nthan one release shares the same version we set\nthe highest release as the named release for that\nversion to avoid unnecessary upgrades.\n\nCloses-Bug: #1973303\nChange-Id: I048921beb6aaa66563d83253efb6152caa315ba9\n(cherry picked from commit ce8fd528ed2fa01c31fa231e85a83cef285b1887)\n'}]",2,920290,3af9e06237c4b205f68a994a4a50e642def5dc53,11,5,1,6737,,,0,"Update package version codenames

Codenames stopped at Train so this fills gap
all the way to Caracal as well as accounting
for releases that share the version. Where more
than one release shares the same version we set
the highest release as the named release for that
version to avoid unnecessary upgrades.

Closes-Bug: #1973303
Change-Id: I048921beb6aaa66563d83253efb6152caa315ba9
(cherry picked from commit ce8fd528ed2fa01c31fa231e85a83cef285b1887)
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/90/920290/1 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/openstack/gnocchi.py'],1,3af9e06237c4b205f68a994a4a50e642def5dc53,bug/1973303-xena," ('4.3', 'ussuri'), ('4.4.0', 'victoria'), ('4.4.1', 'yoga'), # wallaby, xena, yoga ('4.4.2', 'zed'), ('4.5.0', 'bobcat'), # antelope, bobcat ('4.6.0', 'caracal'),",,6,0
openstack%2Fcastellan~913690,openstack/castellan,master,I000149b6c5017c9548db55ae2517405dc8325808,vault: Hide values used for authentication,MERGED,2024-03-19 15:23:23.000000000,2024-06-12 15:58:33.000000000,2024-06-12 15:57:26.000000000,"[{'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-19 15:23:23.000000000', 'files': ['castellan/key_manager/vault_key_manager.py'], 'web_link': 'https://opendev.org/openstack/castellan/commit/327ee6e979b1ecb0226974f8daa611ee03d746e7', 'message': 'vault: Hide values used for authentication\n\nThe following options are used for authentication with Vault, so should\nbe hidden from logs.\n\n1) root_token_id\nThis is not actually an id but a token string\n\n2) approle_role_id and approle_secret_id\nThese are used together to obtain token\n\nCloses-Bug: #2058397\nChange-Id: I000149b6c5017c9548db55ae2517405dc8325808\n'}]",0,913690,327ee6e979b1ecb0226974f8daa611ee03d746e7,8,3,1,9816,,,0,"vault: Hide values used for authentication

The following options are used for authentication with Vault, so should
be hidden from logs.

1) root_token_id
This is not actually an id but a token string

2) approle_role_id and approle_secret_id
These are used together to obtain token

Closes-Bug: #2058397
Change-Id: I000149b6c5017c9548db55ae2517405dc8325808
",git fetch https://review.opendev.org/openstack/castellan refs/changes/90/913690/1 && git format-patch -1 --stdout FETCH_HEAD,['castellan/key_manager/vault_key_manager.py'],1,327ee6e979b1ecb0226974f8daa611ee03d746e7,bug/2058397," secret=True, secret=True, secret=True,",,3,0
openstack%2Fnova~811521,openstack/nova,master,I6f2847e89a8e4c32ab7c992d6da229f820c4988d,Support creating servers with RBAC SGs,NEW,2021-09-29 01:34:41.000000000,2024-06-12 15:55:59.000000000,,"[{'_account_id': 11604}, {'_account_id': 13252}, {'_account_id': 19234}, {'_account_id': 22348}, {'_account_id': 27256}]","[{'number': 1, 'created': '2021-09-29 01:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f32b7cc3974c87621e8d87ecf3992a662d86b0b1', 'message': 'Support creating servers with RBAC SGs\n\nGet the shared security groups the tenant has access to by making an\nadditional Neutron API call with the shared filter.\nhttps://bugs.launchpad.net/neutron/+bug/1942615\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/811242\nChange-Id: I6f2847e89a8e4c32ab7c992d6da229f820c4988d\n'}, {'number': 2, 'created': '2021-10-14 23:28:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e3d39a54c61bc78638869faff90f76b794656aa8', 'message': 'Support creating servers with RBAC SGs\n\nGet the shared security groups the tenant has access to by making an\nadditional Neutron API call with the shared filter.\nhttps://bugs.launchpad.net/neutron/+bug/1942615\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/811242\nChange-Id: I6f2847e89a8e4c32ab7c992d6da229f820c4988d\n'}, {'number': 3, 'created': '2021-11-10 21:50:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/53b0ade1e19e780984cd72206807a58fd27a34df', 'message': 'Support creating servers with RBAC SGs\n\nGet the shared security groups the tenant has access to by making an\nadditional Neutron API call with the shared filter.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/811242\nRelated-Bug: https://bugs.launchpad.net/neutron/+bug/1942615\nCloses-Bug: #1943969\nChange-Id: I6f2847e89a8e4c32ab7c992d6da229f820c4988d\n'}, {'number': 4, 'created': '2023-03-15 15:49:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e621bd3d430c541394b86bf3456c753d065b6f4e', 'message': 'Support creating servers with RBAC SGs\n\nGet the shared security groups the tenant has access to by making an\nadditional Neutron API call with the shared filter.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/811242\nRelated-Bug: https://bugs.launchpad.net/neutron/+bug/1942615\nImplements: blueprint TODO\nChange-Id: I6f2847e89a8e4c32ab7c992d6da229f820c4988d\n'}, {'number': 5, 'created': '2023-03-15 15:53:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4a557afc694e34e4364c4c12106450b3c54b48ce', 'message': 'Support creating servers with RBAC SGs\n\nGet the shared security groups the tenant has access to by making an\nadditional Neutron API call with the shared filter.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/811242\nRelated-Bug: #1942615\nImplements: blueprint TODO\nChange-Id: I6f2847e89a8e4c32ab7c992d6da229f820c4988d\n'}, {'number': 6, 'created': '2023-03-15 15:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2a8397b87760320f10e2c1299710ac78d4a4853d', 'message': 'Support creating servers with RBAC SGs\n\nGet the shared security groups the tenant has access to by making an\nadditional Neutron API call with the shared filter.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/811242\nRelated-Bug: #1942615\nImplements: blueprint shared-security-groups\nChange-Id: I6f2847e89a8e4c32ab7c992d6da229f820c4988d\n'}, {'number': 7, 'created': '2024-04-10 18:23:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/42f4f626eb165ef0a010e8f96dc0e5e520e085a7', 'message': 'Support creating servers with RBAC SGs\n\nGet the shared security groups the tenant has access to by making an\nadditional Neutron API call with the shared filter.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/811242\nRelated-Bug: #1942615\nImplements: blueprint shared-security-groups\nChange-Id: I6f2847e89a8e4c32ab7c992d6da229f820c4988d\n'}, {'number': 8, 'created': '2024-04-11 14:16:27.000000000', 'files': ['nova/tests/unit/network/test_neutron.py', 'nova/network/constants.py', 'nova/network/neutron.py', 'releasenotes/notes/support-shared-security-groups-3651e1e1f56cfb7b.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/036a786db4583754d46dc6f6b72b55221f1a7217', 'message': 'Support creating servers with RBAC SGs\n\nGet the shared security groups the tenant has access to by making an\nadditional Neutron API call with the shared filter.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/811242\nRelated-Bug: #1942615\nImplements: blueprint shared-security-groups\nChange-Id: I6f2847e89a8e4c32ab7c992d6da229f820c4988d\n'}]",33,811521,036a786db4583754d46dc6f6b72b55221f1a7217,48,5,8,28159,,,0,"Support creating servers with RBAC SGs

Get the shared security groups the tenant has access to by making an
additional Neutron API call with the shared filter.

Depends-On: https://review.opendev.org/c/openstack/neutron/+/811242
Related-Bug: #1942615
Implements: blueprint shared-security-groups
Change-Id: I6f2847e89a8e4c32ab7c992d6da229f820c4988d
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/811521/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/network/neutron.py'],1,f32b7cc3974c87621e8d87ecf3992a662d86b0b1,sg-shared-filter," search_opts = {'tenant_id': instance.project_id, 'shared': False} # NOTE(hangyang): Make another request to get the RBAC shared SGs # accessible to the tenant search_opts = {'shared': True} user_security_groups += neutron.list_security_groups( fields=sg_fields, **search_opts).get('security_groups')", search_opts = {'tenant_id': instance.project_id},6,2
openstack%2Fbarbican~913691,openstack/barbican,master,I0650fd12e3f51fc4d829e0be3ab95cd8b3ee03ea,vault: Hide values used for authentication,MERGED,2024-03-19 15:24:43.000000000,2024-06-12 15:54:50.000000000,2024-06-12 15:53:51.000000000,"[{'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-19 15:24:43.000000000', 'files': ['barbican/plugin/vault_secret_store.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/82e1782b39ceb1e3abe92323d120045e916db404', 'message': 'vault: Hide values used for authentication\n\nThe following options are used for authentication with Vault, so should\nbe hidden from logs.\n\n1) root_token_id\nThis is not actually an id but a token string\n\n2) approle_role_id and approle_secret_id\nThese are used together to obtain token\n\nCloses-Bug: #2058397\nChange-Id: I0650fd12e3f51fc4d829e0be3ab95cd8b3ee03ea\n'}]",0,913691,82e1782b39ceb1e3abe92323d120045e916db404,8,3,1,9816,,,0,"vault: Hide values used for authentication

The following options are used for authentication with Vault, so should
be hidden from logs.

1) root_token_id
This is not actually an id but a token string

2) approle_role_id and approle_secret_id
These are used together to obtain token

Closes-Bug: #2058397
Change-Id: I0650fd12e3f51fc4d829e0be3ab95cd8b3ee03ea
",git fetch https://review.opendev.org/openstack/barbican refs/changes/91/913691/1 && git format-patch -1 --stdout FETCH_HEAD,['barbican/plugin/vault_secret_store.py'],1,82e1782b39ceb1e3abe92323d120045e916db404,bug/2058397," secret=True, secret=True, secret=True,",,3,0
openstack%2Fnetworking-sfc~921514,openstack/networking-sfc,master,I980e89d7cee5b2fd0c74670e16805096c9d0ec36,Handle missing vlan for egress flow setup,NEW,2024-06-07 12:26:52.000000000,2024-06-12 15:51:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-07 12:26:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/bda4a686c4a5c4d57a132f8dc1c3b80a7aa4ce51', 'message': 'Handle missing vlan for egress flow setup\n\nIn _setup_egress_flow_rules (in sfc_driver.py)\nvlan can be mepty returned from vlan manager. Handle\nthis case and log some useful information.\n\nRelated-Bug: #2068727\nChange-Id: I980e89d7cee5b2fd0c74670e16805096c9d0ec36\n'}, {'number': 2, 'created': '2024-06-11 11:37:06.000000000', 'files': ['networking_sfc/services/sfc/agent/extensions/openvswitch/sfc_driver.py', 'networking_sfc/tests/unit/services/sfc/agent/extensions/openvswitch/test_sfc_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/92fe2f7a50b01bb080c17687c438490d472fbce7', 'message': 'Handle missing vlan for egress flow setup\n\nIn _setup_egress_flow_rules (in sfc_driver.py)\nvlan can be mepty returned from vlan manager. Handle\nthis case and log some useful information.\n\nRelated-Bug: #2068727\nChange-Id: I980e89d7cee5b2fd0c74670e16805096c9d0ec36\n'}]",3,921514,92fe2f7a50b01bb080c17687c438490d472fbce7,5,1,2,8313,,,0,"Handle missing vlan for egress flow setup

In _setup_egress_flow_rules (in sfc_driver.py)
vlan can be mepty returned from vlan manager. Handle
this case and log some useful information.

Related-Bug: #2068727
Change-Id: I980e89d7cee5b2fd0c74670e16805096c9d0ec36
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/14/921514/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_sfc/services/sfc/agent/extensions/openvswitch/sfc_driver.py'],1,bda4a686c4a5c4d57a132f8dc1c3b80a7aa4ce51,bug/2068727," if not vlan: return segm_rsp = self.vlan_manager.get(net_uuid, seg_id) LOG.debug('Segmentaion returned by vlan_manager: %s ' '(net type: %s, segm_id: %s)', segm_rsp.vlan, segm_rsp.network_type, segm_rsp.segmentation_id) return segm_rsp.vlan except (vlanmanager.VifIdNotFound, vlanmanager.MappingNotFound) as e: LOG.exception(e)"," return self.vlan_manager.get(net_uuid, seg_id).vlan except (vlanmanager.VifIdNotFound, vlanmanager.MappingNotFound):",10,2
openstack%2Fdevstack-plugin-ceph~918952,openstack/devstack-plugin-ceph,master,I5f75cb829383d7acd536e24c70cc4418d93c13bc,Drop support for package based installation of Ceph,NEW,2024-05-10 00:49:24.000000000,2024-06-12 15:49:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-10 00:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/499af56025c2676197f1b79af73209f1eb59d5d2', 'message': 'Drop support for package based installation of Ceph\n\nThis mode of deployment isn\'t supported by the Ceph\ncommunity, and was always a chimera that we were\nfeeding/maintaining.\n\nCeph\'s tool of choice to bootstrap and install a ceph\ncluster is by using the Ceph Orchestrator (via the\ncephadm tool).\n\nWe\'re also cleaning up the old/unused and poorly tested\n""CONTAINERIZED_CEPH"". When using ceph orchestrator,\nceph daemons are run within podman containers on the\ndevstack host.\n\nChange-Id: I5f75cb829383d7acd536e24c70cc4418d93c13bc\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 2, 'created': '2024-05-10 01:00:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/ec7e2a8907e52db7adf837f123b440f7dc7f889c', 'message': 'Drop support for package based installation of Ceph\n\nThis mode of deployment isn\'t supported by the Ceph\ncommunity, and was always a chimera that we were\nfeeding/maintaining.\n\nCeph\'s tool of choice to bootstrap and install a ceph\ncluster is by using the Ceph Orchestrator (via the\ncephadm tool).\n\nWe\'re also cleaning up the old/unused and poorly tested\n""CONTAINERIZED_CEPH"". When using ceph orchestrator,\nceph daemons are run within podman containers on the\ndevstack host.\n\nChange-Id: I5f75cb829383d7acd536e24c70cc4418d93c13bc\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 3, 'created': '2024-05-10 06:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/426af99ef9a37de1532b112a5d4ccbdbc06ac224', 'message': 'Drop support for package based installation of Ceph\n\nThis mode of deployment isn\'t supported by the Ceph\ncommunity, and was always a chimera that we were\nfeeding/maintaining.\n\nCeph\'s tool of choice to bootstrap and install a ceph\ncluster is by using the Ceph Orchestrator (via the\ncephadm tool).\n\nWe\'re also cleaning up the old/unused and poorly tested\n""CONTAINERIZED_CEPH"". When using ceph orchestrator,\nceph daemons are run within podman containers on the\ndevstack host.\n\nChange-Id: I5f75cb829383d7acd536e24c70cc4418d93c13bc\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 4, 'created': '2024-06-11 00:06:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/2ba39640f0f9749719ebf0c07cfbdba65d117d5c', 'message': 'Drop support for package based installation of Ceph\n\nThis mode of deployment isn\'t supported by the Ceph\ncommunity, and was always a chimera that we were\nfeeding/maintaining.\n\nCeph\'s tool of choice to bootstrap and install a ceph\ncluster is by using the Ceph Orchestrator (via the\ncephadm tool).\n\nWe\'re also cleaning up the old/unused and poorly tested\n""CONTAINERIZED_CEPH"". When using ceph orchestrator,\nceph daemons are run within podman containers on the\ndevstack host.\n\nChange-Id: I5f75cb829383d7acd536e24c70cc4418d93c13bc\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit 426af99ef9a37de1532b112a5d4ccbdbc06ac224)\n'}, {'number': 5, 'created': '2024-06-11 00:07:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/09acaad14e8555da561c76f8ada089ffa19818e0', 'message': 'Drop support for package based installation of Ceph\n\nThis mode of deployment isn\'t supported by the Ceph\ncommunity, and was always a chimera that we were\nfeeding/maintaining.\n\nCeph\'s tool of choice to bootstrap and install a ceph\ncluster is by using the Ceph Orchestrator (via the\ncephadm tool).\n\nWe\'re also cleaning up the old/unused and poorly tested\n""CONTAINERIZED_CEPH"". When using ceph orchestrator,\nceph daemons are run within podman containers on the\ndevstack host.\n\nChange-Id: I5f75cb829383d7acd536e24c70cc4418d93c13bc\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 6, 'created': '2024-06-11 16:10:22.000000000', 'files': ['devstack/override-defaults', 'README.rst', '.zuul.yaml', 'devstack/plugin.sh', 'devstack/lib/ceph', 'devstack/lib/cephadm', 'devstack/lib/nfs-ganesha', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/b5b95a97e93f7aac78e9e15d92dc5aca7d593152', 'message': 'Drop support for package based installation of Ceph\n\nThis mode of deployment isn\'t supported by the Ceph\ncommunity, and was always a chimera that we were\nfeeding/maintaining.\n\nCeph\'s tool of choice to bootstrap and install a ceph\ncluster is by using the Ceph Orchestrator (via the\ncephadm tool).\n\nWe\'re also cleaning up the old/unused and poorly tested\n""CONTAINERIZED_CEPH"". When using ceph orchestrator,\nceph daemons are run within podman containers on the\ndevstack host.\n\nChange-Id: I5f75cb829383d7acd536e24c70cc4418d93c13bc\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",4,918952,b5b95a97e93f7aac78e9e15d92dc5aca7d593152,14,1,6,16643,,,0,"Drop support for package based installation of Ceph

This mode of deployment isn't supported by the Ceph
community, and was always a chimera that we were
feeding/maintaining.

Ceph's tool of choice to bootstrap and install a ceph
cluster is by using the Ceph Orchestrator (via the
cephadm tool).

We're also cleaning up the old/unused and poorly tested
""CONTAINERIZED_CEPH"". When using ceph orchestrator,
ceph daemons are run within podman containers on the
devstack host.

Change-Id: I5f75cb829383d7acd536e24c70cc4418d93c13bc
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/52/918952/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/override-defaults', 'README.rst', '.zuul.yaml', 'devstack/plugin.sh', 'devstack/lib/ceph', 'devstack/lib/nfs-ganesha', 'devstack/settings']",7,499af56025c2676197f1b79af73209f1eb59d5d2,cleanup-ceph-installer,TEMPEST_STORAGE_PROTOCOL=cephsource $CEPH_PLUGIN_DIR/lib/cephadm,"# NOTE: Currently these are redundant since ceph # plugin job defn defines them already, but # once DEVSTACK_GATE_CEPH is removed, these # won't be redundant, so its ok to have these # anyways. if [ ""$ENABLE_CEPH_ISCSI"" = ""True"" ]; then TEMPEST_STORAGE_PROTOCOL=iSCSI else TEMPEST_STORAGE_PROTOCOL=ceph fi# Source plugin's lib/cephadm or lib/ceph # depending on chosen deployment method if [[ ""$CEPHADM_DEPLOY"" = ""True"" ]]; then source $CEPH_PLUGIN_DIR/lib/cephadm else source $CEPH_PLUGIN_DIR/lib/ceph fi",87,1357
openstack%2Fcharm-gnocchi~920293,openstack/charm-gnocchi,stable/ussuri,I048921beb6aaa66563d83253efb6152caa315ba9,Update package version codenames,NEW,2024-05-23 14:45:16.000000000,2024-06-12 15:47:56.000000000,,"[{'_account_id': 6737}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-23 14:45:16.000000000', 'files': ['src/lib/charm/openstack/gnocchi.py'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/2394ebca6f29c6409fa224eee842afc51dc0b46a', 'message': 'Update package version codenames\n\nCodenames stopped at Train so this fills gap\nall the way to Caracal as well as accounting\nfor releases that share the version. Where more\nthan one release shares the same version we set\nthe highest release as the named release for that\nversion to avoid unnecessary upgrades.\n\nCloses-Bug: #1973303\nChange-Id: I048921beb6aaa66563d83253efb6152caa315ba9\n(cherry picked from commit ce8fd528ed2fa01c31fa231e85a83cef285b1887)\n'}]",2,920293,2394ebca6f29c6409fa224eee842afc51dc0b46a,5,3,1,6737,,,0,"Update package version codenames

Codenames stopped at Train so this fills gap
all the way to Caracal as well as accounting
for releases that share the version. Where more
than one release shares the same version we set
the highest release as the named release for that
version to avoid unnecessary upgrades.

Closes-Bug: #1973303
Change-Id: I048921beb6aaa66563d83253efb6152caa315ba9
(cherry picked from commit ce8fd528ed2fa01c31fa231e85a83cef285b1887)
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/93/920293/1 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/openstack/gnocchi.py'],1,2394ebca6f29c6409fa224eee842afc51dc0b46a,bug/1973303-ussuri," ('4.3', 'ussuri'), ('4.4.0', 'victoria'), ('4.4.1', 'yoga'), # wallaby, xena, yoga ('4.4.2', 'zed'), ('4.5.0', 'bobcat'), # antelope, bobcat ('4.6.0', 'caracal'),",,6,0
openstack%2Fcharm-gnocchi~920292,openstack/charm-gnocchi,stable/victoria,I048921beb6aaa66563d83253efb6152caa315ba9,Update package version codenames,NEW,2024-05-23 14:44:49.000000000,2024-06-12 15:47:40.000000000,,"[{'_account_id': 6737}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-23 14:44:49.000000000', 'files': ['src/lib/charm/openstack/gnocchi.py'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/4c108610a0f865ef5dc0eefd1d22aa4da4b57126', 'message': 'Update package version codenames\n\nCodenames stopped at Train so this fills gap\nall the way to Caracal as well as accounting\nfor releases that share the version. Where more\nthan one release shares the same version we set\nthe highest release as the named release for that\nversion to avoid unnecessary upgrades.\n\nCloses-Bug: #1973303\nChange-Id: I048921beb6aaa66563d83253efb6152caa315ba9\n(cherry picked from commit ce8fd528ed2fa01c31fa231e85a83cef285b1887)\n'}]",1,920292,4c108610a0f865ef5dc0eefd1d22aa4da4b57126,4,3,1,6737,,,0,"Update package version codenames

Codenames stopped at Train so this fills gap
all the way to Caracal as well as accounting
for releases that share the version. Where more
than one release shares the same version we set
the highest release as the named release for that
version to avoid unnecessary upgrades.

Closes-Bug: #1973303
Change-Id: I048921beb6aaa66563d83253efb6152caa315ba9
(cherry picked from commit ce8fd528ed2fa01c31fa231e85a83cef285b1887)
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/92/920292/1 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/openstack/gnocchi.py'],1,4c108610a0f865ef5dc0eefd1d22aa4da4b57126,bug/1973303-victoria," ('4.3', 'ussuri'), ('4.4.0', 'victoria'), ('4.4.1', 'yoga'), # wallaby, xena, yoga ('4.4.2', 'zed'), ('4.5.0', 'bobcat'), # antelope, bobcat ('4.6.0', 'caracal'),",,6,0
openstack%2Fcharms.openstack~920880,openstack/charms.openstack,stable/ussuri,I138f61312efb728544276483b1a459b9eeecafdb,Support same pkg version for multiple releases,NEW,2024-05-31 10:34:39.000000000,2024-06-12 15:45:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-31 10:34:39.000000000', 'files': ['charms_openstack/charm/core.py', 'unit_tests/charms_openstack/charm/test_core.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/faa8c61fed5f29a6eff0c41ec4be7c670623cded', 'message': 'Support same pkg version for multiple releases\n\nIt is possible for the version of a package to remain the same\nacross multiple releases of openstack so this adds support to\nget_os_codename_package() to allow this.\n\nIf releases A, B and C have version N and we are on release B\nthis will return release C so that it does not look like there\nis an upgrade necessary. The main change here that allows this\nis to support matching major and minor version up to X.Y.Z as\nopposed to previously only matching the major version X.\n\nRelated-Bug: #1973303\n\nChange-Id: I138f61312efb728544276483b1a459b9eeecafdb\n(cherry picked from commit 55f98e80e430b1112c38b90d88e10bd0923daa6f)\n(cherry picked from commit e58bad36743ecd1de41258b3c271f2c4c554a093)\n'}]",0,920880,faa8c61fed5f29a6eff0c41ec4be7c670623cded,2,1,1,6737,,,0,"Support same pkg version for multiple releases

It is possible for the version of a package to remain the same
across multiple releases of openstack so this adds support to
get_os_codename_package() to allow this.

If releases A, B and C have version N and we are on release B
this will return release C so that it does not look like there
is an upgrade necessary. The main change here that allows this
is to support matching major and minor version up to X.Y.Z as
opposed to previously only matching the major version X.

Related-Bug: #1973303

Change-Id: I138f61312efb728544276483b1a459b9eeecafdb
(cherry picked from commit 55f98e80e430b1112c38b90d88e10bd0923daa6f)
(cherry picked from commit e58bad36743ecd1de41258b3c271f2c4c554a093)
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/80/920880/1 && git format-patch -1 --stdout FETCH_HEAD,"['charms_openstack/charm/core.py', 'unit_tests/charms_openstack/charm/test_core.py']",2,faa8c61fed5f29a6eff0c41ec4be7c670623cded,bug/1973303-ussuri," def test_get_closest_release_match(self): # this is mocked universally in unit_tests/__init__.py so we have # to apply to not so great mock on top to allow the method to be # called. def fake_version_compare(a, b): if a > b: return 1 elif a < b: return -1 return 0 self.patch_object(chm_core.charmhelpers.fetch.apt_pkg, 'version_compare') chm_core.charmhelpers.fetch.apt_pkg.version_compare.side_effect = \ fake_version_compare codenames = collections.OrderedDict([('3.9', 'ussuri'), ('4.0', 'victoria'), ('4.0.1', 'yoga')]) pkg_ver = '4' release = self.target.get_closest_release_match(pkg_ver, codenames) chm_core.charmhelpers.fetch.apt_pkg.version_compare.assert_has_calls([ mock.call('4.0.1', pkg_ver), mock.call('4.0', pkg_ver)]) self.assertEqual(release, None) chm_core.charmhelpers.fetch.apt_pkg.version_compare.reset_mock() pkg_ver = '4.0' release = self.target.get_closest_release_match(pkg_ver, codenames) chm_core.charmhelpers.fetch.apt_pkg.version_compare.assert_has_calls([ mock.call('4.0.1', pkg_ver), mock.call('4.0', pkg_ver)]) self.assertEqual(release, ('4.0', 'victoria')) chm_core.charmhelpers.fetch.apt_pkg.version_compare.reset_mock() pkg_ver = '4.0.1' release = self.target.get_closest_release_match(pkg_ver, codenames) chm_core.charmhelpers.fetch.apt_pkg.version_compare.assert_has_calls([ mock.call('4.0.1', pkg_ver)]) self.assertEqual(release, ('4.0.1', 'yoga')) chm_core.charmhelpers.fetch.apt_pkg.version_compare.reset_mock() pkg_ver = '4.0.2' release = self.target.get_closest_release_match(pkg_ver, codenames) chm_core.charmhelpers.fetch.apt_pkg.version_compare.assert_has_calls([ mock.call('4.0.1', pkg_ver)]) self.assertEqual(release, ('4.0.1', 'yoga')) chm_core.charmhelpers.fetch.apt_pkg.version_compare.reset_mock() codenames['4.0.3'] = 'antelope' pkg_ver = '4.0.2' release = self.target.get_closest_release_match(pkg_ver, codenames) chm_core.charmhelpers.fetch.apt_pkg.version_compare.assert_has_calls([ mock.call('4.0.3', pkg_ver), mock.call('4.0.1', pkg_ver)]) self.assertEqual(release, ('4.0.1', 'yoga')) chm_core.charmhelpers.fetch.apt_pkg.version_compare.reset_mock() release = self.target.get_closest_release_match('4.0.1.1', codenames) chm_core.charmhelpers.fetch.apt_pkg.version_compare.assert_has_calls([ mock.call('4.0.1', '4.0.1.1')]) self.assertEqual(release, ('4.0.1', 'yoga')) chm_core.charmhelpers.fetch.apt_pkg.version_compare.reset_mock() pkg_ver = '4.4.1+git2022033113.2339b9e9-0ubuntu1' release = self.target.get_closest_release_match(pkg_ver, codenames) chm_core.charmhelpers.fetch.apt_pkg.version_compare.assert_has_calls([ mock.call('4.0.3', pkg_ver)]) self.assertEqual(release, ('4.0.3', 'antelope')) def test_get_os_codename_package(self): # this is mocked universally in unit_tests/__init__.py so we have # to apply to not so great mock on top to allow the method to be # called. def fake_version_compare(a, b): if a > b: return 1 elif a < b: return -1 return 0 self.patch_object(chm_core.charmhelpers.fetch.apt_pkg, 'version_compare') chm_core.charmhelpers.fetch.apt_pkg.version_compare.side_effect = \ fake_version_compare self.patch_object(self.target, 'get_closest_release_match') self.get_closest_release_match.return_value = (3, 'newton') self.patch_object(self.target, 'configure_source') self.configure_source.side_effect = KeyError chm_core.BaseOpenStackCharm().get_os_codename_package( chm_core.BaseOpenStackCharm().get_os_codename_package( chm_core.BaseOpenStackCharm().get_os_codename_package( chm_core.BaseOpenStackCharm().get_os_codename_package( chm_core.BaseOpenStackCharm().get_os_codename_package( chm_core.BaseOpenStackCharm().get_os_codename_package(", def test_get_os_codename_package(self): chm_core.BaseOpenStackCharm.get_os_codename_package( chm_core.BaseOpenStackCharm.get_os_codename_package( chm_core.BaseOpenStackCharm.get_os_codename_package( chm_core.BaseOpenStackCharm.get_os_codename_package( chm_core.BaseOpenStackCharm.get_os_codename_package( chm_core.BaseOpenStackCharm.get_os_codename_package(,143,15
openstack%2Fcharms.openstack~920879,openstack/charms.openstack,stable/victoria,I138f61312efb728544276483b1a459b9eeecafdb,Support same pkg version for multiple releases,NEW,2024-05-31 10:34:12.000000000,2024-06-12 15:45:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-31 10:34:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/7a2f859b8d91d594c5cf707aa21ed4b447b3033d', 'message': 'Support same pkg version for multiple releases\n\nIt is possible for the version of a package to remain the same\nacross multiple releases of openstack so this adds support to\nget_os_codename_package() to allow this.\n\nIf releases A, B and C have version N and we are on release B\nthis will return release C so that it does not look like there\nis an upgrade necessary. The main change here that allows this\nis to support matching major and minor version up to X.Y.Z as\nopposed to previously only matching the major version X.\n\nRelated-Bug: #1973303\n\nChange-Id: I138f61312efb728544276483b1a459b9eeecafdb\n(cherry picked from commit 55f98e80e430b1112c38b90d88e10bd0923daa6f)\n(cherry picked from commit e58bad36743ecd1de41258b3c271f2c4c554a093)\n'}, {'number': 2, 'created': '2024-06-11 15:00:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/07517cfadf605fb599d885cf9fbb037668990da8', 'message': 'Support same pkg version for multiple releases\n\nIt is possible for the version of a package to remain the same\nacross multiple releases of openstack so this adds support to\nget_os_codename_package() to allow this.\n\nIf releases A, B and C have version N and we are on release B\nthis will return release C so that it does not look like there\nis an upgrade necessary. The main change here that allows this\nis to support matching major and minor version up to X.Y.Z as\nopposed to previously only matching the major version X.\n\nModifies one unittest to fix compatibility from unittest.mock\nto mock.\n\nRelated-Bug: #1973303\n\nChange-Id: I138f61312efb728544276483b1a459b9eeecafdb\n(cherry picked from commit 55f98e80e430b1112c38b90d88e10bd0923daa6f)\n(cherry picked from commit e58bad36743ecd1de41258b3c271f2c4c554a093)\n'}, {'number': 3, 'created': '2024-06-11 15:27:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/807ed196add5bc38bea09aa17ca00d8efc1082f9', 'message': 'Support same pkg version for multiple releases\n\nIt is possible for the version of a package to remain the same\nacross multiple releases of openstack so this adds support to\nget_os_codename_package() to allow this.\n\nIf releases A, B and C have version N and we are on release B\nthis will return release C so that it does not look like there\nis an upgrade necessary. The main change here that allows this\nis to support matching major and minor version up to X.Y.Z as\nopposed to previously only matching the major version X.\n\nModifies one unittest to fix compatibility from unittest.mock\nto mock.\n\nRelated-Bug: #1973303\n\nChange-Id: I138f61312efb728544276483b1a459b9eeecafdb\n(cherry picked from commit 55f98e80e430b1112c38b90d88e10bd0923daa6f)\n(cherry picked from commit e58bad36743ecd1de41258b3c271f2c4c554a093)\n'}, {'number': 4, 'created': '2024-06-11 16:17:36.000000000', 'files': ['charms_openstack/charm/core.py', 'unit_tests/charms_openstack/charm/test_core.py', 'unit_tests/charms_openstack/charm/test_classes.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/17b522e32dc567c41f72c295785cbcd1767716e9', 'message': 'Support same pkg version for multiple releases\n\nIt is possible for the version of a package to remain the same\nacross multiple releases of openstack so this adds support to\nget_os_codename_package() to allow this.\n\nIf releases A, B and C have version N and we are on release B\nthis will return release C so that it does not look like there\nis an upgrade necessary. The main change here that allows this\nis to support matching major and minor version up to X.Y.Z as\nopposed to previously only matching the major version X.\n\nModifies one unittest to fix compatibility from unittest.mock\nto mock.\n\nRelated-Bug: #1973303\n\nChange-Id: I138f61312efb728544276483b1a459b9eeecafdb\n(cherry picked from commit 55f98e80e430b1112c38b90d88e10bd0923daa6f)\n(cherry picked from commit e58bad36743ecd1de41258b3c271f2c4c554a093)\n'}]",0,920879,17b522e32dc567c41f72c295785cbcd1767716e9,8,1,4,6737,,,0,"Support same pkg version for multiple releases

It is possible for the version of a package to remain the same
across multiple releases of openstack so this adds support to
get_os_codename_package() to allow this.

If releases A, B and C have version N and we are on release B
this will return release C so that it does not look like there
is an upgrade necessary. The main change here that allows this
is to support matching major and minor version up to X.Y.Z as
opposed to previously only matching the major version X.

Modifies one unittest to fix compatibility from unittest.mock
to mock.

Related-Bug: #1973303

Change-Id: I138f61312efb728544276483b1a459b9eeecafdb
(cherry picked from commit 55f98e80e430b1112c38b90d88e10bd0923daa6f)
(cherry picked from commit e58bad36743ecd1de41258b3c271f2c4c554a093)
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/79/920879/1 && git format-patch -1 --stdout FETCH_HEAD,"['charms_openstack/charm/core.py', 'unit_tests/charms_openstack/charm/test_core.py']",2,7a2f859b8d91d594c5cf707aa21ed4b447b3033d,bug/1973303-victoria," def test_get_closest_release_match(self): # this is mocked universally in unit_tests/__init__.py so we have # to apply to not so great mock on top to allow the method to be # called. def fake_version_compare(a, b): if a > b: return 1 elif a < b: return -1 return 0 self.patch_object(chm_core.charmhelpers.fetch.apt_pkg, 'version_compare') chm_core.charmhelpers.fetch.apt_pkg.version_compare.side_effect = \ fake_version_compare codenames = collections.OrderedDict([('3.9', 'ussuri'), ('4.0', 'victoria'), ('4.0.1', 'yoga')]) pkg_ver = '4' release = self.target.get_closest_release_match(pkg_ver, codenames) chm_core.charmhelpers.fetch.apt_pkg.version_compare.assert_has_calls([ mock.call('4.0.1', pkg_ver), mock.call('4.0', pkg_ver)]) self.assertEqual(release, None) chm_core.charmhelpers.fetch.apt_pkg.version_compare.reset_mock() pkg_ver = '4.0' release = self.target.get_closest_release_match(pkg_ver, codenames) chm_core.charmhelpers.fetch.apt_pkg.version_compare.assert_has_calls([ mock.call('4.0.1', pkg_ver), mock.call('4.0', pkg_ver)]) self.assertEqual(release, ('4.0', 'victoria')) chm_core.charmhelpers.fetch.apt_pkg.version_compare.reset_mock() pkg_ver = '4.0.1' release = self.target.get_closest_release_match(pkg_ver, codenames) chm_core.charmhelpers.fetch.apt_pkg.version_compare.assert_has_calls([ mock.call('4.0.1', pkg_ver)]) self.assertEqual(release, ('4.0.1', 'yoga')) chm_core.charmhelpers.fetch.apt_pkg.version_compare.reset_mock() pkg_ver = '4.0.2' release = self.target.get_closest_release_match(pkg_ver, codenames) chm_core.charmhelpers.fetch.apt_pkg.version_compare.assert_has_calls([ mock.call('4.0.1', pkg_ver)]) self.assertEqual(release, ('4.0.1', 'yoga')) chm_core.charmhelpers.fetch.apt_pkg.version_compare.reset_mock() codenames['4.0.3'] = 'antelope' pkg_ver = '4.0.2' release = self.target.get_closest_release_match(pkg_ver, codenames) chm_core.charmhelpers.fetch.apt_pkg.version_compare.assert_has_calls([ mock.call('4.0.3', pkg_ver), mock.call('4.0.1', pkg_ver)]) self.assertEqual(release, ('4.0.1', 'yoga')) chm_core.charmhelpers.fetch.apt_pkg.version_compare.reset_mock() release = self.target.get_closest_release_match('4.0.1.1', codenames) chm_core.charmhelpers.fetch.apt_pkg.version_compare.assert_has_calls([ mock.call('4.0.1', '4.0.1.1')]) self.assertEqual(release, ('4.0.1', 'yoga')) chm_core.charmhelpers.fetch.apt_pkg.version_compare.reset_mock() pkg_ver = '4.4.1+git2022033113.2339b9e9-0ubuntu1' release = self.target.get_closest_release_match(pkg_ver, codenames) chm_core.charmhelpers.fetch.apt_pkg.version_compare.assert_has_calls([ mock.call('4.0.3', pkg_ver)]) self.assertEqual(release, ('4.0.3', 'antelope')) def test_get_os_codename_package(self): # this is mocked universally in unit_tests/__init__.py so we have # to apply to not so great mock on top to allow the method to be # called. def fake_version_compare(a, b): if a > b: return 1 elif a < b: return -1 return 0 self.patch_object(chm_core.charmhelpers.fetch.apt_pkg, 'version_compare') chm_core.charmhelpers.fetch.apt_pkg.version_compare.side_effect = \ fake_version_compare self.patch_object(self.target, 'get_closest_release_match') self.get_closest_release_match.return_value = (3, 'newton') self.patch_object(self.target, 'configure_source') self.configure_source.side_effect = KeyError chm_core.BaseOpenStackCharm().get_os_codename_package( chm_core.BaseOpenStackCharm().get_os_codename_package( chm_core.BaseOpenStackCharm().get_os_codename_package( chm_core.BaseOpenStackCharm().get_os_codename_package( chm_core.BaseOpenStackCharm().get_os_codename_package( chm_core.BaseOpenStackCharm().get_os_codename_package(", def test_get_os_codename_package(self): chm_core.BaseOpenStackCharm.get_os_codename_package( chm_core.BaseOpenStackCharm.get_os_codename_package( chm_core.BaseOpenStackCharm.get_os_codename_package( chm_core.BaseOpenStackCharm.get_os_codename_package( chm_core.BaseOpenStackCharm.get_os_codename_package( chm_core.BaseOpenStackCharm.get_os_codename_package(,143,15
openstack%2Fswift~915483,openstack/swift,master,I408ddb69e7f9122905c66b94b6b63ba9628eb4d9,class LoggerStatsdFascade,NEW,2024-04-11 13:55:35.000000000,2024-06-12 15:44:56.000000000,,"[{'_account_id': 1179}, {'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-11 13:55:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/bbf7b645234ce3e006b8e9611bdcac77a719941c', 'message': 'stats: Refactor StatsdClient config\n\nMove StatsdClient config parsing from get_logger to get_statsd_client\n\nChange-Id: I408ddb69e7f9122905c66b94b6b63ba9628eb4d9\n'}, {'number': 2, 'created': '2024-04-16 18:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4f5ffab469953da3b945cccf792dc7ae843d96d2', 'message': 'stats: Refactor StatsdClient config\n\nMove StatsdClient config parsing from get_logger to get_statsd_client\n\nChange-Id: I408ddb69e7f9122905c66b94b6b63ba9628eb4d9\n'}, {'number': 3, 'created': '2024-04-25 17:29:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e56949a52788b7037a9fad66b8c47579c9d52fb5', 'message': 'stats: Refactor StatsdClient config\n\nMove StatsdClient config parsing from get_logger to get_statsd_client\n\nChange-Id: I408ddb69e7f9122905c66b94b6b63ba9628eb4d9\n'}, {'number': 4, 'created': '2024-04-29 21:21:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/993ae0b15f805c1dc7f6ebb5a06218dd18a9cb90', 'message': 'stats: Refactor StatsdClient config\n\nMove StatsdClient config parsing from get_logger to get_statsd_client\n\nChange-Id: I408ddb69e7f9122905c66b94b6b63ba9628eb4d9\n'}, {'number': 5, 'created': '2024-04-29 22:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d6cde32f1eabf79eaa516889ccad39acfa0362c7', 'message': 'stats: Refactor StatsdClient config\n\nMove StatsdClient config parsing from get_logger to get_statsd_client\n\nChange-Id: I408ddb69e7f9122905c66b94b6b63ba9628eb4d9\n'}, {'number': 6, 'created': '2024-04-30 18:50:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1ddc9b010f324dde0d644c88333437ee39b2abff', 'message': 'stats: Refactor StatsdClient config\n\nMove StatsdClient config parsing from get_logger to get_statsd_client\n\nChange-Id: I408ddb69e7f9122905c66b94b6b63ba9628eb4d9\n'}, {'number': 7, 'created': '2024-05-06 18:12:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9c4e4fdc182be318d709644c0b2ba31c68a7f131', 'message': 'stats: Refactor StatsdClient config\n\nMove StatsdClient config parsing from get_logger to get_statsd_client\n\nChange-Id: I408ddb69e7f9122905c66b94b6b63ba9628eb4d9\n'}, {'number': 8, 'created': '2024-05-07 20:18:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3681cf2315de5327f699942aa47be9899fab3955', 'message': 'stats: Refactor StatsdClient config\n\nMove StatsdClient config parsing from get_logger to get_statsd_client\n\nChange-Id: I408ddb69e7f9122905c66b94b6b63ba9628eb4d9\n'}, {'number': 9, 'created': '2024-05-08 22:09:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c3dd5c05aae156e57b7c32de6362fb49aeeea0db', 'message': 'stats: Refactor StatsdClient config\n\nMove StatsdClient config parsing from get_logger to get_statsd_client\n\nChange-Id: I408ddb69e7f9122905c66b94b6b63ba9628eb4d9\n'}, {'number': 10, 'created': '2024-05-13 23:06:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6d07524caec6950ef83894914910910febf3ed9e', 'message': 'HybridMultiObjectDispatcher\n\n- Move multi object logging to a dispatcher\n- Get logger with statsd proxy\n\nChange-Id: I408ddb69e7f9122905c66b94b6b63ba9628eb4d9\n'}, {'number': 11, 'created': '2024-05-17 21:13:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c157cc5b35d5d00f69b32b53e5813e7cbf2f39f3', 'message': 'HybridMultiObjectDispatcher\n\n- Move multi object logging to a dispatcher\n- Get logger with statsd proxy\n\nChange-Id: I408ddb69e7f9122905c66b94b6b63ba9628eb4d9\n'}, {'number': 12, 'created': '2024-05-29 19:21:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0d0e5cd73d6e86da58f466ccafa90cffa0f3c3c6', 'message': 'HybridMultiObjectDispatcher\n\n- Move multi object logging to a dispatcher\n- Get logger with statsd proxy\n\nCo-author: shreeyad@nvidia.com\n\nChange-Id: I408ddb69e7f9122905c66b94b6b63ba9628eb4d9\n'}, {'number': 13, 'created': '2024-06-01 02:14:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/85c4da5f1d5c3a25dd04afe0e63ddc06cf9080bb', 'message': 'HybridMultiObjectDispatcher\n\n- Move multi object logging to a dispatcher\n- Get logger with statsd proxy\n\nCo-author: shreeyad@nvidia.com\n\nChange-Id: I408ddb69e7f9122905c66b94b6b63ba9628eb4d9\n'}, {'number': 14, 'created': '2024-06-03 23:46:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/904912652ae9137b6d7fe1519b62f1164a342003', 'message': 'HybridMultiObjectDispatcher / LoggerStatsdFascade\n\n- Move multi object logging to a dispatcher\n- Get logger with statsd proxy\n\nCo-author: shreeyad@nvidia.com\n\nChange-Id: I408ddb69e7f9122905c66b94b6b63ba9628eb4d9\n'}, {'number': 15, 'created': '2024-06-05 21:09:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/753c0fb6af01e6254feee1256967a6c8b2afa8da', 'message': 'HybridMultiObjectDispatcher / LoggerStatsdFascade\n\n- Move multi object logging to a dispatcher\n- Get logger with statsd proxy\n\nCo-author: shreeyad@nvidia.com\n\nChange-Id: I408ddb69e7f9122905c66b94b6b63ba9628eb4d9\n'}, {'number': 16, 'created': '2024-06-06 20:34:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0e2bbc47298ef03f17c200f26c6c443e6df5fcaf', 'message': 'HybridMultiObjectDispatcher / LoggerStatsdFascade\n\n- Move multi object logging to a dispatcher\n- Get logger with statsd proxy\n\nCo-author: shreeyad@nvidia.com\n\nChange-Id: I408ddb69e7f9122905c66b94b6b63ba9628eb4d9\n'}, {'number': 17, 'created': '2024-06-06 21:39:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5e17e9dff5945987371ac7fc6d6013c3c14692f8', 'message': 'HybridMultiObjectDispatcher / LoggerStatsdFascade\n\n- Move multi object logging to a dispatcher\n- Get logger with statsd proxy\n\nCo-author: shreeyad@nvidia.com\n\nChange-Id: I408ddb69e7f9122905c66b94b6b63ba9628eb4d9\n'}, {'number': 18, 'created': '2024-06-07 16:12:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8c31651474f513236065a699da52f7a5a3da1dde', 'message': 'HybridMultiObjectDispatcher / LoggerStatsdFascade\n\n- Move multi object logging to a dispatcher\n- Get logger with statsd proxy\n\nCo-author: shreeyad@nvidia.com\n\nChange-Id: I408ddb69e7f9122905c66b94b6b63ba9628eb4d9\n'}, {'number': 19, 'created': '2024-06-07 23:45:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/12430729fae6829e865e7ceaf2e07b5fd6348fa4', 'message': 'class LoggerStatsdFascade\n\n- Move multi object logging to a dispatcher function\n- Get a logger with statsd proxy\n- def get_logger = old(get_logger)withoutstatsdclient + statsd_logger\n\nCo-author: shreeyad@nvidia.com\n\nChange-Id: I408ddb69e7f9122905c66b94b6b63ba9628eb4d9\n'}, {'number': 20, 'created': '2024-06-10 22:48:04.000000000', 'files': ['test/unit/proxy/test_server.py', 'test/unit/proxy/controllers/test_container.py', 'swift/common/utils/__init__.py', 'test/unit/proxy/controllers/test_base.py', 'swift/common/middleware/crypto/kmip_keymaster.py', 'test/debug_logger.py', 'test/unit/common/test_statsd_client.py', 'test/unit/common/middleware/test_tempauth.py', 'test/unit/common/middleware/test_proxy_logging.py', 'swift/common/statsd_client.py', 'swift/common/utils/logs.py', 'test/unit/common/middleware/s3api/test_s3api.py', 'test/unit/common/test_daemon.py', 'test/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/8cc58dd803339ed73e962c090a65c96af1dad71a', 'message': 'class LoggerStatsdFascade\n\n- Move multi object logging to a dispatcher function\n- Get a logger with statsd proxy\n- def get_logger = old(get_logger)withoutstatsdclient + statsd_logger\n\nCo-author: shreeyad@nvidia.com\n\nChange-Id: I408ddb69e7f9122905c66b94b6b63ba9628eb4d9\n'}]",158,915483,8cc58dd803339ed73e962c090a65c96af1dad71a,78,3,20,36606,,,0,"class LoggerStatsdFascade

- Move multi object logging to a dispatcher function
- Get a logger with statsd proxy
- def get_logger = old(get_logger)withoutstatsdclient + statsd_logger

Co-author: shreeyad@nvidia.com

Change-Id: I408ddb69e7f9122905c66b94b6b63ba9628eb4d9
",git fetch https://review.opendev.org/openstack/swift refs/changes/83/915483/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/test_server.py', 'swift/common/statsd_client.py', 'swift/common/utils/logs.py', 'test/debug_logger.py', 'test/unit/common/test_statsd.py']",5,bbf7b645234ce3e006b8e9611bdcac77a719941c,dispatcher,"from swift.common import statsd_client as csc self.real_getaddrinfo = csc.socket.getaddrinfo csc.socket, 'getaddrinfo', fake_getaddrinfo) self.assertIsInstance(logger.logger.statsd_client, csc.StatsdClient) self.assertEqual(logger.logger.statsd_client.host, 'some.host.com') self.assertEqual(logger.logger.statsd_client.port, 8125) self.assertEqual( logger.logger.statsd_client.default_sample_rate, 1) self.assertEqual(logger.logger.statsd_client.host, 'another.host.com') self.assertEqual(logger.logger.statsd_client.port, 9876) self.assertEqual( logger.logger.statsd_client.default_sample_rate, 0.75) self.assertEqual( logger.logger.statsd_client.sample_rate_factor, 0.81) with mock.patch.object(csc.socket, 'getaddrinfo', with mock.patch.object(csc.socket, 'getaddrinfo', fake_getaddrinfo): with mock.patch.object(csc.socket, 'getaddrinfo', side_effect=csc.socket.gaierror(""whoops"")): with mock.patch.object(csc.socket, 'getaddrinfo', fake_getaddrinfo):"," self.real_getaddrinfo = utils.socket.getaddrinfo utils.socket, 'getaddrinfo', fake_getaddrinfo) self.assertIsInstance(logger.logger.statsd_client, utils.StatsdClient) self.assertEqual(logger.logger.statsd_client._host, 'some.host.com') self.assertEqual(logger.logger.statsd_client._port, 8125) self.assertEqual(logger.logger.statsd_client._default_sample_rate, 1) self.assertEqual(logger.logger.statsd_client._host, 'another.host.com') self.assertEqual(logger.logger.statsd_client._port, 9876) self.assertEqual(logger.logger.statsd_client._default_sample_rate, 0.75) self.assertEqual(logger.logger.statsd_client._sample_rate_factor, 0.81) with mock.patch.object(utils.socket, 'getaddrinfo', with mock.patch.object(utils.socket, 'getaddrinfo', fake_getaddrinfo): with mock.patch.object(utils.socket, 'getaddrinfo', side_effect=utils.socket.gaierror(""whoops"")): with mock.patch.object(utils.socket, 'getaddrinfo', fake_getaddrinfo):",113,77
openstack%2Fcharm-vault~920733,openstack/charm-vault,master,Ib429cac715e0328437bff1a9186ff71898826b9b,Adjust vault process filelimits,MERGED,2024-05-29 12:02:25.000000000,2024-06-12 15:41:36.000000000,2024-06-12 15:41:36.000000000,"[{'_account_id': 8992}, {'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31203}]","[{'number': 1, 'created': '2024-05-29 12:02:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/1c3dbd76572526857bf4c3b7bee6c22e854cb972', 'message': 'Adjust vault process filelimits\n\nAs per vault documentation, one should up the amount of number of files\nopen to 65536.\n\nCloses: #2060095\n\nChange-Id: Ib429cac715e0328437bff1a9186ff71898826b9b\nSigned-off-by: David Negreira <david.negreira@canonical.com>\n'}, {'number': 2, 'created': '2024-06-08 01:41:54.000000000', 'files': ['src/templates/vault.service.j2'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/89a72cf4af07e7fec29d9a93bb06ea33b1ea69a3', 'message': 'Adjust vault process filelimits\n\nAs per vault documentation, one should up the amount of number of files\nopen to 65536.\n\nCloses-Bug: #2060095\n\nChange-Id: Ib429cac715e0328437bff1a9186ff71898826b9b\nSigned-off-by: David Negreira <david.negreira@canonical.com>\n'}]",8,920733,89a72cf4af07e7fec29d9a93bb06ea33b1ea69a3,20,6,2,32371,,,0,"Adjust vault process filelimits

As per vault documentation, one should up the amount of number of files
open to 65536.

Closes-Bug: #2060095

Change-Id: Ib429cac715e0328437bff1a9186ff71898826b9b
Signed-off-by: David Negreira <david.negreira@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/33/920733/1 && git format-patch -1 --stdout FETCH_HEAD,['src/templates/vault.service.j2'],1,1c3dbd76572526857bf4c3b7bee6c22e854cb972,lp2060095,LimitNOFILE=65536,,1,0
openstack%2Fansible-role-python_venv_build~921858,openstack/ansible-role-python_venv_build,master,I271e6464133939be4e21110042cd489dc66c8d5d,Ignore repo container facts gathering errors,NEW,2024-06-12 13:00:27.000000000,2024-06-12 15:38:03.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2024-06-12 13:00:27.000000000', 'files': ['tasks/main.yml', 'releasenotes/notes/venv_build_facts_gathering-9a85f72324d6e7e0.yaml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/f432c87744f6079bc6bd5570d955e2d37919bf64', 'message': ""Ignore repo container facts gathering errors\n\nIn case of any repo container going down any attempt to build venv will\nfail due to failure to gather facts for them.\n\nIn order to overcome the issue defaults for venv_build_targets elements\nare defined along with ignoring any failures for fact gathering.\n\nHowever failed_when is used instead of ignore_errors as ignore_errors\nwill invalidate facts for successfull hosts as well, while failed_when\npreserves result for successfull hosts.\n\nAs a result venv_build_targets will be populated with `none-none-none`\nkey which will inlcude all hosts that don't have required facts in place\n\nChange-Id: I271e6464133939be4e21110042cd489dc66c8d5d\n""}]",0,921858,f432c87744f6079bc6bd5570d955e2d37919bf64,3,2,1,28619,,,0,"Ignore repo container facts gathering errors

In case of any repo container going down any attempt to build venv will
fail due to failure to gather facts for them.

In order to overcome the issue defaults for venv_build_targets elements
are defined along with ignoring any failures for fact gathering.

However failed_when is used instead of ignore_errors as ignore_errors
will invalidate facts for successfull hosts as well, while failed_when
preserves result for successfull hosts.

As a result venv_build_targets will be populated with `none-none-none`
key which will inlcude all hosts that don't have required facts in place

Change-Id: I271e6464133939be4e21110042cd489dc66c8d5d
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/58/921858/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'releasenotes/notes/venv_build_facts_gathering-9a85f72324d6e7e0.yaml', 'vars/main.yml']",3,f432c87744f6079bc6bd5570d955e2d37919bf64,," {% set distro = (hostvars[item]['ansible_facts']['distribution'] | default('none') | lower) | replace(' ', '_') %} {% set distro_ver = (hostvars[item]['ansible_facts']['distribution_version'] | default('none.none')).split('.')[:2] | join('.') %} {% set distro_ver = hostvars[item]['ansible_facts']['distribution_major_version'] | default('none') %} {% set arch = hostvars[item]['ansible_facts']['architecture'] | default('none') %}"," {% set distro = (hostvars[item]['ansible_facts']['distribution'] | lower) | replace(' ', '_') %} {% set distro_ver = hostvars[item]['ansible_facts']['distribution_version'].split('.')[:2] | join('.') %} {% set distro_ver = hostvars[item]['ansible_facts']['distribution_major_version'] %} {% set arch = hostvars[item]['ansible_facts']['architecture'] %}",14,4
openstack%2Fpython-openstackclient~918786,openstack/python-openstackclient,master,Ieb1dc77f311a2e279036587a1f8d575a387494d0,docs: Remove references to novaclient,NEW,2024-05-09 16:52:46.000000000,2024-06-12 15:32:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-09 16:52:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a4181a8f160686ae6f44278a4467087c79506302', 'message': 'docs: Remove references to novaclient\n\nChange-Id: Ieb1dc77f311a2e279036587a1f8d575a387494d0\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2024-06-11 11:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/05e059fd44593c2222a1614bceaf3c258a20f61a', 'message': 'docs: Remove references to novaclient\n\nChange-Id: Ieb1dc77f311a2e279036587a1f8d575a387494d0\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2024-06-12 15:17:59.000000000', 'files': ['doc/source/contributor/command-errors.rst'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e2f965c409713a7c578c26d2d77393f1d8f24f10', 'message': 'docs: Remove references to novaclient\n\nChange-Id: Ieb1dc77f311a2e279036587a1f8d575a387494d0\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,918786,e2f965c409713a7c578c26d2d77393f1d8f24f10,6,1,3,15334,,,0,"docs: Remove references to novaclient

Change-Id: Ieb1dc77f311a2e279036587a1f8d575a387494d0
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/86/918786/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/command-errors.rst'],1,a4181a8f160686ae6f44278a4467087c79506302,compute-gaps,"the ``IOError`` exception is trapped and a more specific ``CommandError`` exception is raised that includes the name of the file that was attempted to be opened. compute_client = self.app.client_manager.sdk_connection.compute keypair = compute_client.create_keypair( name=parsed_args.name,","the IOError exception is trapped and a more specific CommandError exception is raised that includes the name of the file that was attempted to be opened. compute_client = self.app.client_manager.compute keypair = compute_client.keypairs.create( parsed_args.name,",6,5
openstack%2Fironic~915441,openstack/ironic,master,Ie4bff8892228275ad0fb940c30e8071f7f4c423f,Provision ARM (aarch64) fake-bare-metal-vms,NEW,2024-04-10 18:40:46.000000000,2024-06-12 15:24:35.000000000,,"[{'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 36770}]","[{'number': 1, 'created': '2024-04-10 18:40:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c071d56bc083f8ba4cd3d15062ee39ce9d08d240', 'message': 'wip: Allow to provision arm64 than x86_64 architecture fake-bare-metal-vms\n\nSteps:\n- Ironic devstack plugin loads the right arch disk images.\n- Ironic-Python-Agent can build ARM ramdisks and provision ARM machines.\n- A possible change at the emulator level in Sushy tools since it’s the most relevant to ARM in the real world.\n- Configure Ironic CI to add/enable one or more ARM jobs.\n\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 2, 'created': '2024-04-16 00:56:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/54467cc24a1f483b07a8b26826c1ace9c699cd36', 'message': 'wip: Allow to provision arm64 than x86_64 architecture fake-bare-metal-vms\n\nSteps:\n- Ironic devstack plugin loads the right arch disk images.\n- Ironic-Python-Agent can build ARM ramdisks and provision ARM machines.\n- A possible change at the emulator level in Sushy tools since it’s the most relevant to ARM in the real world.\n- Configure Ironic CI to add/enable one or more ARM jobs.\n\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 3, 'created': '2024-04-16 01:00:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c87fda6d11d692b6e014455f6de9fd0cebad33a4', 'message': 'wip: Allow to provision arm64 than x86_64 architecture fake-bare-metal-vms\n\nSteps:\n- Ironic devstack plugin loads the right arch disk images.\n- Ironic-Python-Agent can build ARM ramdisks and provision ARM machines.\n- A possible change at the emulator level in Sushy tools since it’s the most relevant to ARM in the real world.\n- Configure Ironic CI to add/enable one or more ARM jobs.\n\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 4, 'created': '2024-04-22 10:12:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e9b36edc7f2ac7c3ce7797bb42bca47c19699306', 'message': 'wip: Allow to provision arm64 than x86_64 architecture fake-bare-metal-vms\n\nSteps:\n- Ironic devstack plugin loads the right arch disk images.\n- Ironic-Python-Agent can build ARM ramdisks and provision ARM machines.\n- A possible change at the emulator level in Sushy tools since it’s the most relevant to ARM in the real world.\n- Configure Ironic CI to add/enable one or more ARM jobs.\n\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 5, 'created': '2024-04-22 10:12:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/79fc9c1867bba1a4c5a080e1551acfad75ab053a', 'message': 'wip: Allow to provision arm64 than x86_64 architecture fake-bare-metal-vms\n\nSteps:\n- Ironic devstack plugin loads the right arch disk images.\n- Ironic-Python-Agent can build ARM ramdisks and provision ARM machines.\n- A possible change at the emulator level in Sushy tools since it’s the most relevant to ARM in the real world.\n- Configure Ironic CI to add/enable one or more ARM jobs.\n\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 6, 'created': '2024-04-22 10:13:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2143de856b06ea21d38df6369938925692a5c8ac', 'message': 'wip: Allow to provision arm64 than x86_64 architecture fake-bare-metal-vms\n\nSteps:\n- Ironic devstack plugin loads the right arch disk images.\n- Ironic-Python-Agent can build ARM ramdisks and provision ARM machines.\n- A possible change at the emulator level in Sushy tools since it’s the most relevant to ARM in the real world.\n- Configure Ironic CI to add/enable one or more ARM jobs.\n\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 7, 'created': '2024-04-24 12:54:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a2f1a60f21f133cae6e02cc582b50f5da95c72de', 'message': 'wip: Allow to provision arm64 than x86_64 architecture fake-bare-metal-vms\n\nSteps:\n- Ironic devstack plugin loads the right arch disk images.\n- Ironic-Python-Agent can build ARM ramdisks and provision ARM machines.\n- A possible change at the emulator level in Sushy tools since it’s the most relevant to ARM in the real world.\n- Configure Ironic CI to add/enable one or more ARM jobs.\n\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 8, 'created': '2024-04-26 08:58:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a3b7e33d8190d4da2f9ee653b636b900bad968dd', 'message': 'wip: Provision aarch64 fake-bare-metal-vms\n\nSteps:\n- Ironic devstack plugin loads the right arch disk images.\n- Ironic-Python-Agent can build ARM ramdisks and provision ARM machines.\n- A possible change at the emulator level in Sushy tools since it’s the most relevant to ARM in the real world.\n- Configure Ironic CI to add/enable one or more ARM jobs.\n\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 9, 'created': '2024-04-26 09:01:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0522693d196828fcd17277d922d039d670492ec9', 'message': 'wip: Provision aarch64 fake-bare-metal-vms\n\nSteps:\n- Ironic devstack plugin loads the right arch disk images.\n- Ironic-Python-Agent can build ARM ramdisks and provision ARM machines.\n- A possible change at the emulator level in Sushy tools since it’s the most relevant to ARM in the real world.\n- Configure Ironic CI to add/enable one or more ARM jobs.\n\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 10, 'created': '2024-04-26 09:05:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e774c02d570fbe999ab70a1443f64148a1182b7b', 'message': 'wip: Provision aarch64 fake-bare-metal-vms\n\nSteps:\n- Ironic devstack plugin loads the right arch disk images.\n- Ironic-Python-Agent can build ARM ramdisks and provision ARM machines.\n- A possible change at the emulator level in Sushy tools since it’s the most relevant to ARM in the real world.\n- Configure Ironic CI to add/enable one or more ARM jobs.\n\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 11, 'created': '2024-04-26 17:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/93426a1b0081e86b61590a666dd48fb0ac186105', 'message': 'wip: Provision aarch64 fake-bare-metal-vms\n\nSteps:\n- Ironic devstack plugin loads the right arch disk images.\n- Ironic-Python-Agent can build ARM ramdisks and provision ARM machines.\n- A possible change at the emulator level in Sushy tools since it’s the most relevant to ARM in the real world.\n- Configure Ironic CI to add/enable one or more ARM jobs.\n\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 12, 'created': '2024-04-27 13:47:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/89d787732d1c1545b4f5bd7bd27c5389f7127505', 'message': 'wip: Provision aarch64 fake-bare-metal-vms\n\nSteps:\n- Ironic devstack plugin loads the right arch disk images.\n- Ironic-Python-Agent can build ARM ramdisks and provision ARM machines.\n- A possible change at the emulator level in Sushy tools since it’s the most relevant to ARM in the real world.\n- Configure Ironic CI to add/enable one or more ARM jobs.\n\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 13, 'created': '2024-04-27 16:52:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/88668f86d9d5b05aa9cd3bf02bd7f16ece2952c0', 'message': 'wip: Provision aarch64 fake-bare-metal-vms\n\nSteps:\n- Ironic devstack plugin loads the right arch disk images.\n- Ironic-Python-Agent can build ARM ramdisks and provision ARM machines.\n- A possible change at the emulator level in Sushy tools since it’s the most relevant to ARM in the real world.\n- Configure Ironic CI to add/enable one or more ARM jobs.\n\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 14, 'created': '2024-04-27 18:18:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1c50343b14719bd34f1f95070ded7fce528ae2a2', 'message': 'wip: Provision aarch64 fake-bare-metal-vms\n\nSteps:\n- Ironic devstack plugin loads the right arch disk images.\n- Ironic-Python-Agent can build ARM ramdisks and provision ARM machines.\n- A possible change at the emulator level in Sushy tools since it’s the most relevant to ARM in the real world.\n- Configure Ironic CI to add/enable one or more ARM jobs.\n\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 15, 'created': '2024-04-27 21:02:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5860a168cd212b6d160e1c3802b802be442f5095', 'message': 'wip: Provision aarch64 fake-bare-metal-vms\n\nSteps:\n- Ironic devstack plugin loads the right arch disk images.\n- Ironic-Python-Agent can build ARM ramdisks and provision ARM machines.\n- A possible change at the emulator level in Sushy tools since it’s the most relevant to ARM in the real world.\n- Configure Ironic CI to add/enable one or more ARM jobs.\n\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 16, 'created': '2024-04-27 21:35:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f9cb67fd1c9ee135f032460f4a02947487e425c1', 'message': 'wip: Provision aarch64 fake-bare-metal-vms\n\nSteps:\n- Ironic devstack plugin loads the right arch disk images.\n- Ironic-Python-Agent can build ARM ramdisks and provision ARM machines.\n- A possible change at the emulator level in Sushy tools since it’s the most relevant to ARM in the real world.\n- Configure Ironic CI to add/enable one or more ARM jobs.\n\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 17, 'created': '2024-04-27 23:27:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/351e064c5e3b5b03b3ad6d8cad9b256f5cd748a5', 'message': 'wip: Provision aarch64 fake-bare-metal-vms\n\nSteps:\n- Ironic devstack plugin loads the right arch disk images.\n- Ironic-Python-Agent can build ARM ramdisks and provision ARM machines.\n- A possible change at the emulator level in Sushy tools since it’s the most relevant to ARM in the real world.\n- Configure Ironic CI to add/enable one or more ARM jobs.\n\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 18, 'created': '2024-04-29 15:39:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/74c0627cbceb3d4116f3e864c7564b3abd14c296', 'message': 'wip: Provision aarch64 fake-bare-metal-vms\n\nSteps:\n- Ironic devstack plugin loads the right arch disk images.\n- Ironic-Python-Agent can build ARM ramdisks and provision ARM machines.\n- A possible change at the emulator level in Sushy tools since it’s the most relevant to ARM in the real world.\n- Configure Ironic CI to add/enable one or more ARM jobs.\n\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 19, 'created': '2024-05-01 20:48:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/11b43e90ad71b473147e6f86b42c09cd8f6e8495', 'message': 'wip: Provision aarch64 fake-bare-metal-vms\n\nSteps:\n- Ironic devstack plugin loads the right arch disk images.\n- Ironic-Python-Agent can build ARM ramdisks and provision ARM machines.\n- A possible change at the emulator level in Sushy tools since it’s the most relevant to ARM in the real world.\n- Configure Ironic CI to add/enable one or more ARM jobs.\n\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 20, 'created': '2024-05-07 13:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d59ad3ef812f576e47137d7dec818bb3c9af74b1', 'message': 'wip: Provision aarch64 fake-bare-metal-vms\n\nSteps:\n- Ironic devstack plugin loads the right arch disk images.\n- Ironic-Python-Agent can build ARM ramdisks and provision ARM machines.\n- A possible change at the emulator level in Sushy tools since it’s the most relevant to ARM in the real world.\n- Configure Ironic CI to add/enable one or more ARM jobs.\n\nDepends-On: I6713b3149d7156858436b7a773a853adabf6924e\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 21, 'created': '2024-05-08 19:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b806cff09c7799d88920b7a4c9ec5737b2500537', 'message': 'wip: Provision aarch64 fake-bare-metal-vms\n\nSteps:\n- Ironic devstack plugin loads the right arch disk images.\n- Ironic-Python-Agent can build ARM ramdisks and provision ARM machines.\n- A possible change at the emulator level in Sushy tools since it’s the most relevant to ARM in the real world.\n- Configure Ironic CI to add/enable one or more ARM jobs.\n\nDepends-On: I6713b3149d7156858436b7a773a853adabf6924e\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 22, 'created': '2024-05-12 18:08:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/85230cd0fea70c03932d6533244031e6e42d4da3', 'message': 'wip: Provision aarch64 fake-bare-metal-vms\n\nSteps:\n- Ironic devstack plugin loads the right arch disk images.\n- Ironic-Python-Agent can build ARM ramdisks and provision ARM machines.\n- A possible change at the emulator level in Sushy tools since it’s the most relevant to ARM in the real world.\n- Configure Ironic CI to add/enable one or more ARM jobs.\n\nDepends-On: I6713b3149d7156858436b7a773a853adabf6924e\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 23, 'created': '2024-05-12 18:28:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6eb04fd0221762d0c076de10e8599dcb56fa4721', 'message': 'wip: Provision aarch64 fake-bare-metal-vms\n\nSteps:\n- Ironic devstack plugin loads the right arch disk images.\n- Ironic-Python-Agent can build ARM ramdisks and provision ARM machines.\n- A possible change at the emulator level in Sushy tools since it’s the most relevant to ARM in the real world.\n- Configure Ironic CI to add/enable one or more ARM jobs.\n\nDepends-On: I6713b3149d7156858436b7a773a853adabf6924e\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 24, 'created': '2024-05-15 21:26:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3e531311a6e0fab6ef92edc662df21fec31be104', 'message': 'wip: Provision aarch64 fake-bare-metal-vms\n\nSteps:\n- Ironic devstack plugin loads the right arch disk images.\n- Ironic-Python-Agent can build ARM ramdisks and provision ARM machines.\n- A possible change at the emulator level in Sushy tools since it’s the most relevant to ARM in the real world.\n- Configure Ironic CI to add/enable one or more ARM jobs.\n\nDepends-On: I6713b3149d7156858436b7a773a853adabf6924e\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 25, 'created': '2024-05-15 21:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c0aa1b5e24dd686e25dc6f1fbef87440c7aedc3f', 'message': 'wip: Provision aarch64 fake-bare-metal-vms\n\nSteps:\n- Ironic devstack plugin loads the right arch disk images.\n- Ironic-Python-Agent can build ARM ramdisks and provision ARM machines.\n- A possible change at the emulator level in Sushy tools since it’s the most relevant to ARM in the real world.\n- Configure Ironic CI to add/enable one or more ARM jobs.\n\nDepends-On: I6713b3149d7156858436b7a773a853adabf6924e\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 26, 'created': '2024-05-16 00:43:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4cc77d5dd36905f8d7bd16aeb74382cc24572aa5', 'message': 'wip: Provision aarch64 fake-bare-metal-vms\n\nSteps:\n- Ironic devstack plugin loads the right arch disk images.\n- Ironic-Python-Agent can build ARM ramdisks and provision ARM machines.\n- A possible change at the emulator level in Sushy tools since it’s the most relevant to ARM in the real world.\n- Configure Ironic CI to add/enable one or more ARM jobs.\n\nDepends-On: I6713b3149d7156858436b7a773a853adabf6924e\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 27, 'created': '2024-05-16 10:20:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ac77b8c78815e4ae93996ce39f94ea0c532ffa3a', 'message': 'wip: Provision aarch64 fake-bare-metal-vms\n\nSteps:\n- Ironic devstack plugin loads the right arch disk images.\n- Ironic-Python-Agent can build ARM ramdisks and provision ARM machines.\n- A possible change at the emulator level in Sushy tools since it’s the most relevant to ARM in the real world.\n- Configure Ironic CI to add/enable one or more ARM jobs.\n\nDepends-On: I6713b3149d7156858436b7a773a853adabf6924e\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 28, 'created': '2024-05-16 16:39:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3f60dd834374f2e8b4cd5ca3d825f021c07d327e', 'message': 'wip: Provision aarch64 fake-bare-metal-vms\n\nSteps:\n- Ironic devstack plugin loads the right arch disk images.\n- Ironic-Python-Agent can build ARM ramdisks and provision ARM machines.\n- A possible change at the emulator level in Sushy tools since it’s the most relevant to ARM in the real world.\n- Configure Ironic CI to add/enable one or more ARM jobs.\n\nDepends-On: I6713b3149d7156858436b7a773a853adabf6924e\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 29, 'created': '2024-05-16 17:05:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ed87cfa912a0e223d1cad4bb7a934dbca26ae0f3', 'message': 'wip: Provision aarch64 fake-bare-metal-vms\n\nSteps:\n- Ironic devstack plugin loads the right arch disk images.\n- Ironic-Python-Agent can build ARM ramdisks and provision ARM machines.\n- A possible change at the emulator level in Sushy tools since it’s the most relevant to ARM in the real world.\n- Configure Ironic CI to add/enable one or more ARM jobs.\n\nDepends-On: I6713b3149d7156858436b7a773a853adabf6924e\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 30, 'created': '2024-05-20 18:56:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/84e3c580cb13ee8129b269254a79ceb65ec277d7', 'message': 'wip: Provision aarch64 fake-bare-metal-vms\n\nSteps:\n- Ironic devstack plugin loads the right arch disk images.\n- Ironic-Python-Agent can build ARM ramdisks and provision ARM machines.\n- A possible change at the emulator level in Sushy tools since it’s the most relevant to ARM in the real world.\n- Configure Ironic CI to add/enable one or more ARM jobs.\n\nDepends-On: I6713b3149d7156858436b7a773a853adabf6924e\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 31, 'created': '2024-05-20 18:58:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6cf0ade0f6980842c2e076e22b717f5316ce3216', 'message': 'wip: Provision aarch64 fake-bare-metal-vms\n\nSteps:\n- Ironic devstack plugin loads the right arch disk images.\n- Ironic-Python-Agent can build ARM ramdisks and provision ARM machines.\n- A possible change at the emulator level in Sushy tools since it’s the most relevant to ARM in the real world.\n- Configure Ironic CI to add/enable one or more ARM jobs.\n\nDepends-On: I6713b3149d7156858436b7a773a853adabf6924e\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 32, 'created': '2024-05-20 19:04:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9eb687651963ba8884d6eb693bd8f322ea51db0a', 'message': 'wip: Provision aarch64 fake-bare-metal-vms\n\nSteps:\n- Ironic devstack plugin loads the right arch disk images.\n- Ironic-Python-Agent can build ARM ramdisks and provision ARM machines.\n- A possible change at the emulator level in Sushy tools since it’s the most relevant to ARM in the real world.\n- Configure Ironic CI to add/enable one or more ARM jobs.\n\nDepends-On: I6713b3149d7156858436b7a773a853adabf6924e\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 33, 'created': '2024-05-20 20:13:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b8d46734a8c7368b5f05050f6cd9c768390c92b2', 'message': 'wip: Provision aarch64 fake-bare-metal-vms\n\nSteps:\n- Ironic devstack plugin loads the right arch disk images.\n- Ironic-Python-Agent can build ARM ramdisks and provision ARM machines.\n- A possible change at the emulator level in Sushy tools since it’s the most relevant to ARM in the real world.\n- Configure Ironic CI to add/enable one or more ARM jobs.\n\nDepends-On: I6713b3149d7156858436b7a773a853adabf6924e\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 34, 'created': '2024-05-22 09:04:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d0b51a5c4dd2c39a5f46c7e378481588c856082b', 'message': 'wip: Provision aarch64 fake-bare-metal-vms\n\nSteps:\n- Ironic devstack plugin loads the right arch disk images.\n- Ironic-Python-Agent can build ARM ramdisks and provision ARM machines.\n- A possible change at the emulator level in Sushy tools since it’s the most relevant to ARM in the real world.\n- Configure Ironic CI to add/enable one or more ARM jobs.\n\nDepends-On: I6713b3149d7156858436b7a773a853adabf6924e\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 35, 'created': '2024-05-22 09:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7e237208a863897fec1cc41f718b57306d107b85', 'message': 'wip: Provision aarch64 fake-bare-metal-vms\n\nSteps:\n- Ironic devstack plugin loads the right arch disk images.\n- Ironic-Python-Agent can build ARM ramdisks and provision ARM machines.\n- A possible change at the emulator level in Sushy tools since it’s the most relevant to ARM in the real world.\n- Configure Ironic CI to add/enable one or more ARM jobs.\n\nDepends-On: I6713b3149d7156858436b7a773a853adabf6924e\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 36, 'created': '2024-05-22 09:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/33883dd0bfa801bbd85f3e6933561de912d10d0b', 'message': 'wip: Provision aarch64 fake-bare-metal-vms\n\nSteps:\n- Ironic devstack plugin loads the right arch disk images.\n- Ironic-Python-Agent can build ARM ramdisks and provision ARM machines.\n- A possible change at the emulator level in Sushy tools since it’s the most relevant to ARM in the real world.\n- Configure Ironic CI to add/enable one or more ARM jobs.\n\nDepends-On: I6713b3149d7156858436b7a773a853adabf6924e\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 37, 'created': '2024-05-22 12:58:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1bd93d091a6388ced7b1f2bd223b548971a9bbfa', 'message': 'wip: Provision aarch64 fake-bare-metal-vms\n\nSteps:\n- Ironic devstack plugin loads the right arch disk images.\n- Ironic-Python-Agent can build ARM ramdisks and provision ARM machines.\n- A possible change at the emulator level in Sushy tools since it’s the most relevant to ARM in the real world.\n- Configure Ironic CI to add/enable one or more ARM jobs.\n\nDepends-On: I6713b3149d7156858436b7a773a853adabf6924e\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 38, 'created': '2024-05-22 17:09:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/55516a8bef38bdd1761b0135619c172c74cb11b4', 'message': 'wip: Provision aarch64 fake-bare-metal-vms\n\nSteps:\n- Ironic devstack plugin loads the right arch disk images.\n- Ironic-Python-Agent can build ARM ramdisks and provision ARM machines.\n- A possible change at the emulator level in Sushy tools since it’s the most relevant to ARM in the real world.\n- Configure Ironic CI to add/enable one or more ARM jobs.\n\nDepends-On: I6713b3149d7156858436b7a773a853adabf6924e\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 39, 'created': '2024-05-22 17:42:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c32ad81dd82925100b2d2bbfa8290745e5889fe5', 'message': 'wip: Provision aarch64 fake-bare-metal-vms\n\nSteps:\n- Ironic devstack plugin loads the right arch disk images.\n- Ironic-Python-Agent can build ARM ramdisks and provision ARM machines.\n- A possible change at the emulator level in Sushy tools since it’s the most relevant to ARM in the real world.\n- Configure Ironic CI to add/enable one or more ARM jobs.\n\nDepends-On: I6713b3149d7156858436b7a773a853adabf6924e\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 40, 'created': '2024-05-23 05:30:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7f32bcefb19fc74b409b5d3ebbb445fb574719bc', 'message': 'wip: Provision aarch64 fake-bare-metal-vms\n\nSteps:\n- Ironic devstack plugin loads the right arch disk images.\n- Ironic-Python-Agent can build ARM ramdisks and provision ARM machines.\n- A possible change at the emulator level in Sushy tools since it’s the most relevant to ARM in the real world.\n- Configure Ironic CI to add/enable one or more ARM jobs.\n\nDepends-On: I6713b3149d7156858436b7a773a853adabf6924e\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 41, 'created': '2024-05-26 21:44:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9fba3d3cf4eac4027eb48537e16a1f158908f40c', 'message': 'wip: Provision aarch64 fake-bare-metal-vms\n\nSteps:\n- Ironic devstack plugin loads the right arch disk images.\n- Ironic-Python-Agent can build ARM ramdisks and provision ARM machines.\n- A possible change at the emulator level in Sushy tools since it’s the most relevant to ARM in the real world.\n- Configure Ironic CI to add/enable one or more ARM jobs.\n\nDepends-On: I6713b3149d7156858436b7a773a853adabf6924e\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 42, 'created': '2024-05-28 16:29:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bb7bc6d409ca37481fcaefc5610884cb7e9436e7', 'message': 'wip: Provision aarch64 fake-bare-metal-vms\n\nSteps:\n- Ironic devstack plugin loads the right arch disk images.\n- Ironic-Python-Agent can build ARM ramdisks and provision ARM machines.\n- A possible change at the emulator level in Sushy tools since it’s the most relevant to ARM in the real world.\n- Configure Ironic CI to add/enable one or more ARM jobs.\n\nDepends-On: I6713b3149d7156858436b7a773a853adabf6924e\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 43, 'created': '2024-05-28 17:35:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/341edd748236447d9e9a45f0b4ec8c7a4436ba7f', 'message': 'wip: Provision aarch64 fake-bare-metal-vms\n\nSteps:\n- Ironic devstack plugin loads the right arch disk images.\n- Ironic-Python-Agent can build ARM ramdisks and provision ARM machines.\n- A possible change at the emulator level in Sushy tools since it’s the most relevant to ARM in the real world.\n- Configure Ironic CI to add/enable one or more ARM jobs.\n\nDepends-On: I6713b3149d7156858436b7a773a853adabf6924e\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 44, 'created': '2024-05-29 03:06:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ffa0bc573a1b440b9e5cf1ed5c7d7fd659a2af92', 'message': 'wip: Provision aarch64 fake-bare-metal-vms\n\nSteps:\n- Ironic devstack plugin loads the right arch disk images.\n- Ironic-Python-Agent can build ARM ramdisks and provision ARM machines.\n- A possible change at the emulator level in Sushy tools since it’s the most relevant to ARM in the real world.\n- Configure Ironic CI to add/enable one or more ARM jobs.\n\nDepends-On: I6713b3149d7156858436b7a773a853adabf6924e\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 45, 'created': '2024-05-29 11:50:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/29e2984cba9ad82f1a33f22c440d2ba8b8c3593a', 'message': 'wip: Provision aarch64 fake-bare-metal-vms\n\nSteps:\n- Ironic devstack plugin loads the right arch disk images.\n- Ironic-Python-Agent can build ARM ramdisks and provision ARM machines.\n- A possible change at the emulator level in Sushy tools since it’s the most relevant to ARM in the real world.\n- Configure Ironic CI to add/enable one or more ARM jobs.\n\nDepends-On: I6713b3149d7156858436b7a773a853adabf6924e\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 46, 'created': '2024-05-30 17:30:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/73584b5a0cb6ab5535fa04fd4b640890b4d6eadc', 'message': 'Provision ARM (aarch64) fake-bare-metal-vms\n\nThis commit introduces support for provisioning ARM (aarch64)\nfake-bare-metal VMs in Ironic for the purpose of eventually supporting\nCI testing on ARM64 architecture-based hardware.\n\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 47, 'created': '2024-05-31 11:15:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a351f31482d4d5822cfa0112d6dd377a3c0143d0', 'message': 'Provision ARM (aarch64) fake-bare-metal-vms\n\nThis commit introduces support for provisioning ARM (aarch64)\nfake-bare-metal VMs in Ironic for the purpose of eventually supporting\nCI testing on ARM64 architecture-based hardware.\n\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 48, 'created': '2024-05-31 13:09:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/109f9b4048dd9a185e316924b2ba357d2fe12271', 'message': 'Provision ARM (aarch64) fake-bare-metal-vms\n\nThis commit introduces support for provisioning ARM (aarch64)\nfake-bare-metal VMs in Ironic for the purpose of eventually supporting\nCI testing on ARM64 architecture-based hardware.\n\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 49, 'created': '2024-06-04 12:19:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/484b96a5d5be4c024c3edeeb3b75b05a2126a37b', 'message': 'Provision ARM (aarch64) fake-bare-metal-vms\n\nThis commit introduces support for provisioning ARM (aarch64)\nfake-bare-metal VMs in Ironic for the purpose of eventually supporting\nCI testing on ARM64 architecture-based hardware.\n\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 50, 'created': '2024-06-11 02:36:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fe9451e6729a8d872134a3853648e4fda4838abe', 'message': 'Provision ARM (aarch64) fake-bare-metal-vms\n\nThis commit introduces support for provisioning ARM (aarch64)\nfake-bare-metal VMs in Ironic for the purpose of eventually supporting\nCI testing on ARM64 architecture-based hardware.\n\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 51, 'created': '2024-06-11 04:18:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/88ffc60dd8a069472ad6b279013f8e08103bbb13', 'message': 'Provision ARM (aarch64) fake-bare-metal-vms\n\nThis commit introduces support for provisioning ARM (aarch64)\nfake-bare-metal VMs in Ironic for the purpose of eventually supporting\nCI testing on ARM64 architecture-based hardware.\n\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 52, 'created': '2024-06-11 15:13:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4a80df586b41605fe7c7aca4d2ca747850ca0f8b', 'message': 'Provision ARM (aarch64) fake-bare-metal-vms\n\nThis commit introduces support for provisioning ARM (aarch64)\nfake-bare-metal VMs in Ironic for the purpose of eventually supporting\nCI testing on ARM64 architecture-based hardware.\n\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 53, 'created': '2024-06-12 11:45:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5098cf1cfeb96e7023709a7e6301b6e015428586', 'message': 'Provision ARM (aarch64) fake-bare-metal-vms\n\nThis commit introduces support for provisioning ARM (aarch64)\nfake-bare-metal VMs in Ironic for the purpose of eventually supporting\nCI testing on ARM64 architecture-based hardware.\n\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}, {'number': 54, 'created': '2024-06-12 13:42:45.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'devstack/lib/ironic', 'devstack/common_settings', 'devstack/tools/ironic/templates/vm.xml', 'doc/source/contributor/arm-devstack-guide.rst', 'doc/source/contributor/devstack-guide.rst', 'zuul.d/project.yaml', 'devstack/tools/ironic/scripts/configure-vm.py', 'devstack/tools/ironic/scripts/create-node.sh'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d8d1a786841a81a883ea30beb54485466ee9542d', 'message': 'Provision ARM (aarch64) fake-bare-metal-vms\n\nThis commit introduces support for provisioning ARM (aarch64)\nfake-bare-metal VMs in Ironic for the purpose of eventually supporting\nCI testing on ARM64 architecture-based hardware.\n\nChange-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f\n'}]",69,915441,d8d1a786841a81a883ea30beb54485466ee9542d,163,4,54,36770,,,0,"Provision ARM (aarch64) fake-bare-metal-vms

This commit introduces support for provisioning ARM (aarch64)
fake-bare-metal VMs in Ironic for the purpose of eventually supporting
CI testing on ARM64 architecture-based hardware.

Change-Id: Ie4bff8892228275ad0fb940c30e8071f7f4c423f
",git fetch https://review.opendev.org/openstack/ironic refs/changes/41/915441/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,c071d56bc083f8ba4cd3d15062ee39ce9d08d240,ironic-arm-ci," if [[ $IRONIC_HW_ARCH == ""arm64"" ]]; then IRONIC_VM_EMULATOR='/usr/bin/qemu-system-aarch64' else IRONIC_VM_EMULATOR='/usr/bin/qemu-system-x86_64' fiif is_ubuntu; then if [[ $IRONIC_HW_ARCH == ""x86_64"" ]]; then install_package shim elif [[ $IRONIC_HW_ARCH == ""arm64"" ]]; then install_package grub-efi-arm64-signed shim-signed fi elif is_fedora; then if [[ $IRONIC_HW_ARCH == ""x86_64"" ]]; then elif [[ $IRONIC_HW_ARCH == ""arm64"" ]]; then install_package grub2-arm64-efi if is_ubuntu; then if [[ $IRONIC_HW_ARCH == ""x86_64"" ]]; then if [[ -z $IRONIC_GRUB2_FILE ]]; then IRONIC_GRUB2_SHIM_FILE=/usr/lib/shim/shimx64.efi.signed IRONIC_GRUB2_FILE=/usr/lib/grub/x86_64-efi-signed/grubx64.efi.signed IRONIC_GRUB2_NETWORK_FILE=/usr/lib/grub/x86_64-efi-signed/grubnetx64.efi.signed fi elif [[ $IRONIC_HW_ARCH == ""arm64"" ]]; then if [[ -z $IRONIC_GRUB2_FILE ]]; then IRONIC_GRUB2_SHIM_FILE=/usr/lib/shim/shimaa64.efi.signed IRONIC_GRUB2_FILE=/usr/lib/grub/arm64-efi-signed/grubaa64.efi.signed IRONIC_GRUB2_NETWORK_FILE=/usr/lib/grub/arm64-efi-signed/grubnetaa64.efi.signed fi fi elif is_fedora; then if [[ $IRONIC_HW_ARCH == ""x86_64"" ]]; then if [[ -z $IRONIC_GRUB2_FILE ]]; then IRONIC_GRUB2_SHIM_FILE=/boot/efi/EFI/fedora/shimx64.efi IRONIC_GRUB2_FILE=/boot/efi/EFI/fedora/grubx64.efi IRONIC_GRUB2_NETWORK_FILE=/boot/efi/EFI/fedora/grubx64.efi fi elif [[ $IRONIC_HW_ARCH == ""arm64"" ]]; then if [[ -z $IRONIC_GRUB2_FILE ]]; then IRONIC_GRUB2_SHIM_FILE=/boot/efi/EFI/fedora/shimaa64.efi IRONIC_GRUB2_FILE=/boot/efi/EFI/fedora/grubaa64.efi IRONIC_GRUB2_NETWORK_FILE=/boot/efi/EFI/fedora/grubaa64.efi fi fi local ironic_node_arch=""x86_64"" if [[ $IRONIC_HW_ARCH == ""arm64"" ]]; then ironic_node_arch=""arm64"" fi '$ironic_node_arch': '$UEFI_LOADER_PATH' '$ironic_node_arch': None local ironic_node_arch=$IRONIC_HW_ARCH if [[ $IRONIC_HW_ARCH == ""arm64"" ]]; then IRONIC_PARTITIONED_IMAGE_NAME=cirros-${CIRROS_VERSION}-arm64-partition fi"," IRONIC_VM_EMULATOR='/usr/bin/qemu-system-x86_64'if [[ $IRONIC_HW_ARCH == ""x86_64"" ]]; then install_package shim if is_ubuntu; then elif is_fedora; then if is_ubuntu && [[ -z $IRONIC_GRUB2_FILE ]]; then IRONIC_GRUB2_SHIM_FILE=/usr/lib/shim/shimx64.efi.signed IRONIC_GRUB2_FILE=/usr/lib/grub/x86_64-efi-signed/grubx64.efi.signed IRONIC_GRUB2_NETWORK_FILE=/usr/lib/grub/x86_64-efi-signed/grubnetx64.efi.signed elif is_fedora && [[ -z $IRONIC_GRUB2_FILE ]]; then IRONIC_GRUB2_SHIM_FILE=/boot/efi/EFI/fedora/shimx64.efi IRONIC_GRUB2_FILE=/boot/efi/EFI/fedora/grubx64.efi IRONIC_GRUB2_NETWORK_FILE=/boot/efi/EFI/fedora/grubx64.efi 'x86_64': '$UEFI_LOADER_PATH' 'x86_64': None local ironic_node_arch=x86_64",54,16
openstack%2Fcastellan~913695,openstack/castellan,master,I540f38d11b805a73fb310007f3c2848802ebb627,Drop wrong documented choices for barbican_endpoint_type,MERGED,2024-03-19 15:26:47.000000000,2024-06-12 15:23:51.000000000,2024-06-12 15:22:40.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 22348}, {'_account_id': 35125}]","[{'number': 1, 'created': '2024-03-19 15:26:47.000000000', 'files': ['castellan/key_manager/barbican_key_manager.py'], 'web_link': 'https://opendev.org/openstack/castellan/commit/db91f2e8ab5fdba0c44bd2ec21e9dc32c44341dd', 'message': 'Drop wrong documented choices for barbican_endpoint_type\n\nThe option never accepts ""private"". The choices are automatically\ndocumented by oslo-config-generator so we don\'t have to explicitly\nmention these in help string.\n\nCloses-Bug: #1918704\nChange-Id: I540f38d11b805a73fb310007f3c2848802ebb627\n'}]",0,913695,db91f2e8ab5fdba0c44bd2ec21e9dc32c44341dd,8,5,1,9816,,,0,"Drop wrong documented choices for barbican_endpoint_type

The option never accepts ""private"". The choices are automatically
documented by oslo-config-generator so we don't have to explicitly
mention these in help string.

Closes-Bug: #1918704
Change-Id: I540f38d11b805a73fb310007f3c2848802ebb627
",git fetch https://review.opendev.org/openstack/castellan refs/changes/95/913695/1 && git format-patch -1 --stdout FETCH_HEAD,['castellan/key_manager/barbican_key_manager.py'],1,db91f2e8ab5fdba0c44bd2ec21e9dc32c44341dd,bug/1918704," help='Specifies the type of endpoint.'),"," help='Specifies the type of endpoint. Allowed values are: ' 'public, private, and admin'),",1,2
openstack%2Fkeystone-tempest-plugin~900545,openstack/keystone-tempest-plugin,master,I3d89dd26400d06fcf4653035267a84ca1c775afa,Adjust domain tests for changed list_domains scoping behavior,NEW,2023-11-09 16:41:20.000000000,2024-06-12 15:21:18.000000000,,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2023-11-09 16:41:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/ecf0646adfa780792bd87c678b68664e484f0fd7', 'message': 'Fix domain tests for changed list_domains scoping behavior\n\nDomain admins, members and readers are now allowed to use the list_domains\nendpoint by default but the returned list will contain their own domain\nonly. This patch adjusts the corresponding RBAC tests to account for this\nnew behavior.\n\nDepends-On: 900028\nChange-Id: I3d89dd26400d06fcf4653035267a84ca1c775afa\n'}, {'number': 2, 'created': '2023-11-09 16:43:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/8deadad92f8c515f4b0a42113bd7de1f42c8d34b', 'message': 'Fix domain tests for changed list_domains scoping behavior\n\nDomain admins, members and readers are now allowed to use the list_domains\nendpoint by default but the returned list will contain their own domain\nonly. This patch adjusts the corresponding RBAC tests to account for this\nnew behavior.\n\nDepends-On: https://review.opendev.org/c/openstack/keystone/+/900028\nChange-Id: I3d89dd26400d06fcf4653035267a84ca1c775afa\n'}, {'number': 3, 'created': '2023-11-09 16:48:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/78d8ade0be14be8c0d245156f4ed89c860236847', 'message': 'Fix domain tests for changed list_domains scoping behavior\n\nDomain admins, members and readers are now allowed to use the\nlist_domains endpoint by default but the returned list will contain\ntheir own domain only. This patch adjusts the corresponding RBAC tests\nto account for this new behavior.\n\nDepends-On: https://review.opendev.org/c/openstack/keystone/+/900028\nChange-Id: I3d89dd26400d06fcf4653035267a84ca1c775afa\n'}, {'number': 4, 'created': '2024-04-30 14:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/db1b2a7e0d839a20b0ab9eb2a012c6563f5aa483', 'message': 'Adjust domain tests for changed list_domains scoping behavior\n\nDomain admins, members and readers are now allowed to use the\nlist_domains endpoint by default but the returned list will contain\ntheir own domain only. This patch adjusts some RBAC tests to account\nfor this new behavior.\n\nDepends-On: https://review.opendev.org/c/openstack/keystone/+/900028\nChange-Id: I3d89dd26400d06fcf4653035267a84ca1c775afa\n'}, {'number': 5, 'created': '2024-04-30 16:16:26.000000000', 'files': ['keystone_tempest_plugin/tests/rbac/v3/test_domain.py'], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/e8cec014a84181c4db67827e58f537c440f87378', 'message': 'Adjust domain tests for changed list_domains scoping behavior\n\nDomain admins, members and readers are now allowed to use the\nlist_domains endpoint by default but the returned list will contain\ntheir own domain only. This patch adjusts some RBAC tests to account\nfor this new behavior.\n\nDepends-On: https://review.opendev.org/c/openstack/keystone/+/900028\nChange-Id: I3d89dd26400d06fcf4653035267a84ca1c775afa\n'}]",4,900545,e8cec014a84181c4db67827e58f537c440f87378,17,4,5,27665,,,0,"Adjust domain tests for changed list_domains scoping behavior

Domain admins, members and readers are now allowed to use the
list_domains endpoint by default but the returned list will contain
their own domain only. This patch adjusts some RBAC tests to account
for this new behavior.

Depends-On: https://review.opendev.org/c/openstack/keystone/+/900028
Change-Id: I3d89dd26400d06fcf4653035267a84ca1c775afa
",git fetch https://review.opendev.org/openstack/keystone-tempest-plugin refs/changes/45/900545/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone_tempest_plugin/tests/rbac/v3/test_domain.py'],1,ecf0646adfa780792bd87c678b68664e484f0fd7,," other_domain_id = self.admin_domains_client.create_domain( self.addCleanup(self.admin_domains_client.delete_domain, other_domain_id) domain_id=other_domain_id, enabled=False) resp = self.do_request('list_domains') self.assertNotIn(other_domain_id, [d['id'] for d in resp['domains']]) def test_identity_list_domains(self): domain_id = self.admin_domains_client.create_domain( name=data_utils.rand_name())['domain']['id'] self.addCleanup(self.admin_domains_client.delete_domain, domain_id) self.addCleanup(self.admin_domains_client.update_domain, domain_id=domain_id, enabled=False) self.do_request('list_domains', expected_status=exceptions.Forbidden) "," domain_id = self.admin_domains_client.create_domain( self.addCleanup(self.admin_domains_client.delete_domain, domain_id) domain_id=domain_id, enabled=False) self.do_request('list_domains', expected_status=exceptions.Forbidden)",15,5
openstack%2Fneutron~920459,openstack/neutron,master,Ifb79d664f85894f17c5e5d66a4696cf81d0f512a,Add network dns_domain to dns assignment if present,NEW,2024-05-26 04:07:55.000000000,2024-06-12 15:09:56.000000000,,"[{'_account_id': 1131}, {'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-26 04:07:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/549ca2b77f6adf9e63ad7b7ac3ffb50be718352e', 'message': ""Add network dns_domain to dns assignment if present\n\nThis change checks if the network has dns_domain configured and\nsets the dns_domain for the port if the port doesn't currently have\nit assigned.\n\nAs as result, the dns_assigment of the port is updated to reflect\nthis, and also impacts the lease in the dhcp agent's dnsmasq.\n\nCloses-Bug: 2067183\nChange-Id: Ifb79d664f85894f17c5e5d66a4696cf81d0f512a\n""}, {'number': 2, 'created': '2024-05-26 18:02:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3ba8c4ffdb3c2b1444dfe9cc93bc6f3724f271e3', 'message': ""Add network dns_domain to dns assignment if present\n\nThis change checks if the network has dns_domain configured and\nsets the dns_domain for the port if the port doesn't currently have\nit assigned.\n\nAs as result, the dns_assigment of the port is updated to reflect\nthis, and also impacts the lease in the dhcp agent's dnsmasq.\n\nCloses-Bug: 2067183\nChange-Id: Ifb79d664f85894f17c5e5d66a4696cf81d0f512a\n""}, {'number': 3, 'created': '2024-05-27 21:57:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/26e56ec5019d44e669b309f7b237beef415d3e26', 'message': ""Add network dns_domain to dns assignment if present\n\nThis change checks if the network has dns_domain configured and\nsets the dns_domain for the port if the port doesn't currently have\nit assigned.\n\nAs as result, the dns_assigment of the port is updated to reflect\nthis, and also impacts the lease in the dhcp agent's dnsmasq.\n\nCloses-Bug: 2067183\nChange-Id: Ifb79d664f85894f17c5e5d66a4696cf81d0f512a\n""}, {'number': 4, 'created': '2024-05-28 15:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/23cedc969c1e1b738e621fcacbcc67281ae73cb0', 'message': ""Add network dns_domain to dns assignment if present\n\nThis change checks if the network has dns_domain configured and\nsets the dns_domain for the port if the port doesn't currently have\nit assigned.\n\nAs as result, the dns_assigment of the port is updated to reflect\nthis, and also impacts the lease in the dhcp agent's dnsmasq.\n\nCloses-Bug: 2067183\nChange-Id: Ifb79d664f85894f17c5e5d66a4696cf81d0f512a\n""}, {'number': 5, 'created': '2024-05-28 23:12:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7ac3d6e38bc233f6c6f3cf6a41ea64ebc77386a5', 'message': ""Add network dns_domain to dns assignment if present\n\nThis change checks if the network has dns_domain configured and\nsets the dns_domain for the port if the port doesn't currently have\nit assigned.\n\nAs as result, the dns_assigment of the port is updated to reflect\nthis, and also impacts the lease in the dhcp agent's dnsmasq.\n\nCloses-Bug: 2067183\nChange-Id: Ifb79d664f85894f17c5e5d66a4696cf81d0f512a\n""}, {'number': 6, 'created': '2024-05-28 23:15:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d86323d59d1a9d3c13711929495c10973880574c', 'message': ""Add network dns_domain to dns assignment if present\n\nThis change checks if the network has dns_domain configured and\nsets the dns_domain for the port if the port doesn't currently have\nit assigned.\n\nAs as result, the dns_assigment of the port is updated to reflect\nthis, and also impacts the lease in the dhcp agent's dnsmasq.\n\nCloses-Bug: 2067183\nChange-Id: Ifb79d664f85894f17c5e5d66a4696cf81d0f512a\n""}, {'number': 7, 'created': '2024-05-28 23:16:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e8b4de5e4b7d403989ad674e7ff8577bf83b5c03', 'message': ""Add network dns_domain to dns assignment if present\n\nThis change checks if the network has dns_domain configured and\nsets the dns_domain for the port if the port doesn't currently have\nit assigned.\n\nAs as result, the dns_assigment of the port is updated to reflect\nthis, and also impacts the lease in the dhcp agent's dnsmasq.\n\nCloses-Bug: 2067183\nChange-Id: Ifb79d664f85894f17c5e5d66a4696cf81d0f512a\n""}, {'number': 8, 'created': '2024-05-28 23:18:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b8fe58488b15f5ccb8b360702ec37c9376db3bd1', 'message': ""Add network dns_domain to dns assignment if present\n\nThis change checks if the network has dns_domain configured and\nsets the dns_domain for the port if the port doesn't currently have\nit assigned.\n\nAs as result, the dns_assigment of the port is updated to reflect\nthis, and also impacts the lease in the dhcp agent's dnsmasq.\n\nCloses-Bug: 2067183\nChange-Id: Ifb79d664f85894f17c5e5d66a4696cf81d0f512a\n""}, {'number': 9, 'created': '2024-05-29 00:27:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e17725f6eca6fd936644acee162c6dbc9afb866f', 'message': ""Add network dns_domain to dns assignment if present\n\nThis change checks if the network has dns_domain configured and\nsets the dns_domain for the port if the port doesn't currently have\nit assigned.\n\nAs as result, the dns_assigment of the port is updated to reflect\nthis, and also impacts the lease in the dhcp agent's dnsmasq.\n\nCloses-Bug: 2067183\nChange-Id: Ifb79d664f85894f17c5e5d66a4696cf81d0f512a\n""}, {'number': 10, 'created': '2024-05-30 20:57:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8ba96f5587a724c51ae51979389ea35830117b61', 'message': ""Add network dns_domain to dns assignment if present\n\nThis change checks if the network has dns_domain configured and\nsets the dns_domain for the port if the port doesn't currently have\nit assigned.\n\nAs as result, the dns_assigment of the port is updated to reflect\nthis, and also impacts the lease in the dhcp agent's dnsmasq.\n\nCloses-Bug: 2067183\nChange-Id: Ifb79d664f85894f17c5e5d66a4696cf81d0f512a\n""}, {'number': 11, 'created': '2024-05-31 19:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/62fd9809abcc54749d8c3adafb929088530b1c96', 'message': ""Add network dns_domain to dns assignment if present\n\nThis change checks if the network has dns_domain configured and\nsets the dns_domain for the port if the port doesn't currently have\nit assigned.\n\nAs as result, the dns_assigment of the port is updated to reflect\nthis, and also impacts the lease in the dhcp agent's dnsmasq.\n\nCloses-Bug: 2067183\nChange-Id: Ifb79d664f85894f17c5e5d66a4696cf81d0f512a\n""}, {'number': 12, 'created': '2024-06-01 22:17:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b6e95a730e028b31070831fb652c956334acc49c', 'message': ""Add network dns_domain to dns assignment if present\n\nThis change checks if the network has dns_domain configured and\nsets the dns_domain for the port if the port doesn't currently have\nit assigned.\n\nAs as result, the dns_assigment of the port is updated to reflect\nthis, and also impacts the lease in the dhcp agent's dnsmasq.\n\nCloses-Bug: 2067183\nChange-Id: Ifb79d664f85894f17c5e5d66a4696cf81d0f512a\n""}, {'number': 13, 'created': '2024-06-11 04:47:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7e3da1ef4243b6f3f7a2d490dde1c787e9e7e972', 'message': ""Add network dns_domain to dns assignment if present\n\nThis change checks if the network has dns_domain configured and\nsets the dns_domain for the port if the port doesn't currently have\nit assigned.\n\nAs as result, the dns_assigment of the port is updated to reflect\nthis, and also impacts the lease in the dhcp agent's dnsmasq.\n\nCloses-Bug: 2067183\nChange-Id: Ifb79d664f85894f17c5e5d66a4696cf81d0f512a\n""}, {'number': 14, 'created': '2024-06-12 12:24:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cc94656303482681c1d213556c9d7856ff7d3de8', 'message': ""Add network dns_domain to dns assignment if present\n\nThis change checks if the network has dns_domain configured and\nsets the dns_domain for the port if the port doesn't currently have\nit assigned.\n\nAs as result, the dns_assigment of the port is updated to reflect\nthis, and also impacts the lease in the dhcp agent's dnsmasq.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/921772\nPartial-Bug: 2067183\nChange-Id: Ifb79d664f85894f17c5e5d66a4696cf81d0f512a\n""}, {'number': 15, 'created': '2024-06-12 12:25:35.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/extensions/test_dns_integration.py', 'neutron/plugins/ml2/extensions/dns_integration.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3642fe750baa2d88a2746776862880f7d4ba8537', 'message': ""Add network dns_domain to dns assignment if present\n\nThis change checks if the network has dns_domain configured and\nsets the dns_domain for the port if the port doesn't currently have\nit assigned.\n\nAs as result, the dns_assigment of the port is updated to reflect\nthis, and also impacts the lease in the dhcp agent's dnsmasq.\n\nPartial-Bug: 2067183\nChange-Id: Ifb79d664f85894f17c5e5d66a4696cf81d0f512a\n""}]",15,920459,3642fe750baa2d88a2746776862880f7d4ba8537,75,3,15,36670,,,0,"Add network dns_domain to dns assignment if present

This change checks if the network has dns_domain configured and
sets the dns_domain for the port if the port doesn't currently have
it assigned.

As as result, the dns_assigment of the port is updated to reflect
this, and also impacts the lease in the dhcp agent's dnsmasq.

Partial-Bug: 2067183
Change-Id: Ifb79d664f85894f17c5e5d66a4696cf81d0f512a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/59/920459/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/extensions/dns_integration.py'],1,549ca2b77f6adf9e63ad7b7ac3ffb50be718352e,bug/2067183," plugin_context, request_data, db_data, network) db_data, network): if dns_domain is None and network[dns_apidef.DNSDOMAIN]: dns_domain = network[dns_apidef.DNSDOMAIN]"," plugin_context, request_data, db_data) db_data):",4,2
openstack%2Fnetworking-sfc~921853,openstack/networking-sfc,master,I5df46c57bbe47977299dde1b866a2e6b88f24dee,"DNM: Revert ""Fix compatibility with SQLAlchemy 2.0""",NEW,2024-06-12 11:54:34.000000000,2024-06-12 15:04:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-12 11:54:34.000000000', 'files': ['requirements.txt', 'networking_sfc/db/sfc_db.py', 'networking_sfc/tests/functional/db/test_migrations.py', 'networking_sfc/db/flowclassifier_db.py'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/a74a4250796faba57a94847810afa7184fca1cb2', 'message': 'DNM: Revert ""Fix compatibility with SQLAlchemy 2.0""\n\nThis reverts commit 8c4587ceffac991d82f1523a57569803aa7d1f81.\nThis patch is suspicious that related to recent weeks tempest\nfailures.\nIf the CI is green I will propose a correct revert and come\nback to it with tkajinam\n\nChange-Id: I5df46c57bbe47977299dde1b866a2e6b88f24dee\n'}]",3,921853,a74a4250796faba57a94847810afa7184fca1cb2,2,1,1,8313,,,0,"DNM: Revert ""Fix compatibility with SQLAlchemy 2.0""

This reverts commit 8c4587ceffac991d82f1523a57569803aa7d1f81.
This patch is suspicious that related to recent weeks tempest
failures.
If the CI is green I will propose a correct revert and come
back to it with tkajinam

Change-Id: I5df46c57bbe47977299dde1b866a2e6b88f24dee
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/53/921853/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'networking_sfc/db/sfc_db.py', 'networking_sfc/tests/functional/db/test_migrations.py', 'networking_sfc/db/flowclassifier_db.py']",4,a74a4250796faba57a94847810afa7184fca1cb2,dnm_sqlalchemy2_revert,"from sqlalchemy.orm.collections import attribute_mapped_collection collection_class=attribute_mapped_collection('keyword'), key: L7Parameter(key, val)","from sqlalchemy.orm.collections import attribute_keyed_dict collection_class=attribute_keyed_dict('keyword'), key: L7Parameter(keyword=key, value=val)",9,12
openstack%2Fironic~921403,openstack/ironic,master,Ifecd92b80472b3e28307ddbdbaeeb08ec0950c54,docs: add some additional context around iPXE and secure boot,MERGED,2024-06-05 18:24:47.000000000,2024-06-12 15:04:07.000000000,2024-06-12 15:02:43.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2024-06-05 18:24:47.000000000', 'files': ['doc/source/install/configure-pxe.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/613348d11262f23eec2a2527beaea167d711a271', 'message': 'docs: add some additional context around iPXE and secure boot\n\nChange-Id: Ifecd92b80472b3e28307ddbdbaeeb08ec0950c54\n'}]",0,921403,613348d11262f23eec2a2527beaea167d711a271,9,3,1,11655,,,0,"docs: add some additional context around iPXE and secure boot

Change-Id: Ifecd92b80472b3e28307ddbdbaeeb08ec0950c54
",git fetch https://review.opendev.org/openstack/ironic refs/changes/03/921403/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/configure-pxe.rst'],1,613348d11262f23eec2a2527beaea167d711a271,,".. NOTE:: Most commercial Linux distributions have signed shim and grub binaries, which are required for Secure Boot. .. note:: The Ironic project is unaware of any vendor signed iPXE binaries to enable use of iPXE with Secure Boot, unless you have implemented your own Secure Boot key signing and support for the Machine Owner Key settings on individual baremetal nodes. ",,9,0
openstack%2Fcastellan~919715,openstack/castellan,master,I15c68505858d6ef8db365bbcf90350f1c08011fa,Remove unused test hook scripts,MERGED,2024-05-15 10:57:27.000000000,2024-06-12 15:02:47.000000000,2024-06-12 15:01:45.000000000,"[{'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-15 10:57:27.000000000', 'files': ['castellan/tests/contrib/post_test_hook.sh', 'castellan/tests/contrib/gate_hook.sh'], 'web_link': 'https://opendev.org/openstack/castellan/commit/b757f786540dbaef62eea0d7b20e6fe43d0b91a1', 'message': 'Remove unused test hook scripts\n\nThese scripts are not actually used in CI, and can be removed.\n\nChange-Id: I15c68505858d6ef8db365bbcf90350f1c08011fa\n'}]",0,919715,b757f786540dbaef62eea0d7b20e6fe43d0b91a1,8,3,1,9816,,,0,"Remove unused test hook scripts

These scripts are not actually used in CI, and can be removed.

Change-Id: I15c68505858d6ef8db365bbcf90350f1c08011fa
",git fetch https://review.opendev.org/openstack/castellan refs/changes/15/919715/1 && git format-patch -1 --stdout FETCH_HEAD,"['castellan/tests/contrib/post_test_hook.sh', 'castellan/tests/contrib/gate_hook.sh']",2,b757f786540dbaef62eea0d7b20e6fe43d0b91a1,,,#!/bin/bash set -ex $BASE/new/devstack-gate/devstack-vm-gate.sh ,0,44
openstack%2Fironic-specs~916126,openstack/ironic-specs,master,If048a175a5e014d3f9f7961143b3c06e96f475ac,Intermediate networking service,MERGED,2024-04-17 17:05:27.000000000,2024-06-12 15:01:09.000000000,2024-06-12 14:59:38.000000000,"[{'_account_id': 782}, {'_account_id': 9656}, {'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}, {'_account_id': 36770}]","[{'number': 1, 'created': '2024-04-17 17:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/69a9d7fc7d29443f53a42f1d47ac9a0b3419d842', 'message': 'WIP: Intermediate networking service\n\nChange-Id: If048a175a5e014d3f9f7961143b3c06e96f475ac\n'}, {'number': 2, 'created': '2024-04-17 17:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/dabdbaad5948f1ab1d24d5f042e004a4e747a90a', 'message': 'WIP: Intermediate networking service\n\nChange-Id: If048a175a5e014d3f9f7961143b3c06e96f475ac\n'}, {'number': 3, 'created': '2024-04-18 15:27:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/f13ea28145d60b17d4507e1c479efbf1a6ffeff9', 'message': 'WIP: Intermediate networking service\n\nChange-Id: If048a175a5e014d3f9f7961143b3c06e96f475ac\n'}, {'number': 4, 'created': '2024-04-23 02:12:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/6aeec08df09662a289b7ef8a59d79a3c00dd3d8d', 'message': 'Intermediate networking service\n\nRelated-Bug: 2063169\n\nChange-Id: If048a175a5e014d3f9f7961143b3c06e96f475ac\n'}, {'number': 5, 'created': '2024-05-06 14:48:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/20602019440a1201bba5165787251ea6c7a3db76', 'message': 'Intermediate networking service\n\nRelated-Bug: 2063169\n\nChange-Id: If048a175a5e014d3f9f7961143b3c06e96f475ac\n'}, {'number': 6, 'created': '2024-05-22 23:21:58.000000000', 'files': ['specs/approved/mercury.rst', 'specs/not-implemented/mercury.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/aa066b4174dc0453a9f16305c3b14653aa6967f3', 'message': 'Intermediate networking service\n\nRelated-Bug: 2063169\n\nChange-Id: If048a175a5e014d3f9f7961143b3c06e96f475ac\n'}]",54,916126,aa066b4174dc0453a9f16305c3b14653aa6967f3,41,9,6,11655,,,0,"Intermediate networking service

Related-Bug: 2063169

Change-Id: If048a175a5e014d3f9f7961143b3c06e96f475ac
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/26/916126/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/approved/asylumn.rst'],1,69a9d7fc7d29443f53a42f1d47ac9a0b3419d842,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =============== Project Asylumn =============== .. TODO:: Is there a better name? Julia likes the name since it might be necessary to have an Asylumn for contributors to this. This is a project to create an simplified framework between Ironic and physical network configuration to facilitate orchustration of networking in a delineated way from existing OpenStack Neutron service in a model which would able to operated effectively by another team which is not a ""cloud"" team, but a ""network"" team. The reasons why are plentiful:: * The number of Operators utilizing Ironic continue to grow, although the operators utilizing Ironic in fully integrated configurations is not growing at the same rate as operators running in a ""standalone"" mode. * Operators needing physical switch management generally need to operate in an environment with strong enforcement of separation of duties. i.e. The software might not be granted access to the Switch management framework, nor can such a service be accessible by any users under any circumstances. * The introduction of DPUs generally means that we now have potential cases where switches need to be programmed to provision a DPU, and then the DPU needs to be programmed to provision servers. The goals can be summarized as:: * Provide a mechanism to configure L2 networks on Switches * Provide a mechanism to configure L2 networks to be provided to a host from a DPU. * Provide a mechanism to accomodate highly isolated network management interfaces where operators restrict access such that *only* Ironic is able to connect to the remote endpoint. * Provide a tool to apply and clean-up configuration, *not* track and then assert configuration. This doesn't preclude a future ""double check this configuration"" mode from existing at some point, but the minimal viable functionality is application and removal of the network configuration. * Provide a mechanism of receiving the call to do something, reading in networking configuration credentials from local storage, and then doing so without the need of a database *OR* shared message bus. This project is NOT:: * Intended to provide any sort of IPAM functionality. * Intended to provide management of Routing. * Intended to provide management of Security Groups or Firewalling. * Intended to provide a public ReSTful API, nor require a database. This project MAY:: * Provide a means to help enable and deploy advanced tooling to a DPU under Ironic's control. * Provide a means of offloading some of the layer2 interaction responsibility in an environment *with* Neutron and Ironic, espescially. .. warning:: This document is not a precise and thus prescriptive design document, but an document to record and surface the ideas in a way that can foster communication and consensus building. In this case, we are likely to leave it to the implementer's progotive with this document being overall guard rails. Problem description =================== Essentially, we need a service to facilitate secure and delienated network management which can be owned and operated by an infrastructure another team in an enterprise organization, which brings together, aspects like simple code patterns and playbooks such that they can trust the interface layer to apply basic network configuration and enable easier use of Bare Metal. Furthermore, the available ecosystem in the DPU spaces wants to model their devices in a variery of ways and some of those devices have inherent limitations. For example, some devices are just another computer embedded and connected to the same PCI device bus. Others present the ability to load a P4 program to handle specific tasks. Or the available Flash and RAM of a device is highly limited such that options are very limited and entirely exclude all ""off the shelf"" operating systems and their utilities. This nature makes almost every device and their resulting use case entirely govern their configuration and use model which means an easy to modify modular interface would provide the greatest potential impact. Proposed change =============== We are proposing an RPC service. Specifically something along the lines of a JSON-RPC endpoint, which multiple ironic conductors would be able to connect to in order to request networking changes to be made. Along side of the RPC service, we would have an appropriately named ``network_interface`` driver to take the information stored inside of Ironic and perform attachment of interfaces based upon the provided information. .. note:: A distinct possibility exists that we may actually start with a hybird dual ``network_interface`` driver to help us delineate and handle integration in a clear fashion. This is much more of an ""implementor's progorative"" soft of item. MVP would likely exclude locking, but be modeled as a single worker service or container which does not maintain state, largely simplfies the problem to ""who is logged into what"" to make concurrent changes, which has been the historical driver for locking. .. note:: Teaching networking-baremetal to call this proposed RPC service is generally considered out of scope of this work, but entirely within reason and possibility to facilitate as this would provide functionally a capability for some ML2 calls to be proxied through. The overall call model, at a high level could take the following flow.:: ┌──────────────────────────┐ │Inbound Request/Connection│ └───┬──────────────────────┘ │ ┌───▼──────────────────────────────────┐ │{""type"": ""ml2:update_port_postcommit"",│ │ ""payload"": {""context"": {...}}} │ └───┬──────────────────────────────────┘ │ ┌───▼──────────────────────────┐ │Invoke ML2 Plugin With Context│ └───┬──────────────────────────┘ │ ┌───▼────────────────────────────────┐ │Plugin handles locking, if necessary│ └───┬────────────────────────────────┘ │ ┌───▼───────────────────────────────────────────────────────┐ │Plugin succeeds (HTTP 200?) or fails and returns HTTP error│ └───────────────────────────────────────────────────────────┘ With initially expected ml2 methods being:: * get_allowed_network_types - Returns a list of allowed types * bind_port * update_port_postcommit * delete_port_postcommit * create_port_postcommit * delete_network_postcommit * create_network_postcommit * try_to_bind_segment_for_agent - This may not be required outright for an MVP, however it does contain additional arguments which needs to influence our overall design and we should account for it up front. For the remote RPC service, it is anticipated that logging will need to be verbose enough that Operators can understand the questions they may raise when investigating issues. For example: When, Who, What, Why, and How. Plugin code in Ironic should **also** log verbosely when invoked to ensure operators can match requests and resulting changes should an issue arise. While beyond an initial MVP of basic functionality, to solve the DPU case, the overall pattern model would likely take the shape of one where Ironic would enumerate through the ""child nodes"", attach the child nodes to the requested physical network, and then engage on some level of programming which may need to be vendor or deployment specific based upon the overall use model. Details which at present time cannot be determined without the foundational layer needing to be constructed before being built upon. Alternatives ------------ The closest alternative would be a ``standalone Neutron`` coupled with some sort of extended/proxy RPC model, which is fine, but that really does not address the underlying challenge of the attach/detach functionality being needed by Infrastructure Operators. It also introduces modeling which might not be suitable for bulk infrastucture operators, as they tend to have their own IP Address management and routers in place for the physical portion of their infrastucture. Another possibility would be to directly embed the network attach/detach loading and logic into Ironic itself, however that would present difficulties with maintenance where we largely want to unlock capability. Data model impact ----------------- At this time, we are largely modeling the idea to leverage existing port data stored inside of Ironic which is utilized for attachment operations. A distinct possibility exists we may look at storing some additional physical and logical networking detail inside of Ironic's database to be included in requests, which could possibly be synchronized, but this would be beyond the scope of the minimum viable product as in the initial phase we intend to use the VIF attach/detach model to represent the logical network to be attached. State Machine Impact -------------------- None REST API impact --------------- With a MVP, we do not anticipate any REST API changes to Ironic itself. Post-MVP may include some sort of /v1/physical_network endpoint to be designed, but that is anticipated to be designed once we know more. Client (CLI) impact ------------------- ""openstack baremetal"" CLI ~~~~~~~~~~~~~~~~~~~~~~~~~ None ""openstacksdk"" ~~~~~~~~~~~~~~ None RPC API impact -------------- This change proposes a service which would be accessed by Ironic utilizing an RPC model of interaction. This means there would be some shared meaning for call interactions in the form of a library. In all likelihood, this may be as simple as ""attach"" and ""detach"", but given the overall needs of an MVP and a use model we're focusing upon trying to leverage existing tooling as well, the exact details are best discovered through the development process which likely covers what was noted above in the Proposed Change section. Driver API impact ----------------- None Nova driver impact ------------------ None Ramdisk impact -------------- None Security impact --------------- Impact for Ironic itself is minimal, although it will require credentials to be set for the remote service to signal interface attachment/detachments. The security risk largely revolves around the new service we're looking at creating with this effort. In large part because that service will need to load and combine a set of credentials and access information. As such, this new service will **not** be a user facing service. Today, individual ports are attached through a combination of network identifier and a binding profile which is utilized to map a port to a switch. In this model, there would be no substantial difference. A network_id would be a user supplied detail, and the local_link_information would contain sufficient information for the plugin executing to identify which device. The new service would retrieve the details to access the remote device from local configuration, and combine the rest of the binding profile and target network identifier to facilitate the attachment of the port to the device. .. note:: This security impact does not denote the likely situation of DPU credential management. We are presently defferring the possibility as a challenge we would focus on after an initial minimum viable product state is reached. .. note:: This security risk does not include any future mechanisms to do perform aspects such as software deployment on a DPU to facilitate a fully integrated with Neutron case, which is something we would want to identify and determine as we iterate along the path to support such a capability. Other end user impact --------------------- None Scalability impact ------------------ Please see the Performance Impact section below. Performance Impact ------------------ This proposal is intentionally designed to be limited and isolated to minimze risk and reduce deployment complexity. It is also intentionally modeled as a tool to ""do something"", and that ""something"" happens to be configuration in area where device locking is necessary. This realistically means that the only content written to disk is going to be lock files. Furthermore, the possibility exists that the Ironic driver code utilized *could* wait for a response, where today Neutron port attachment/detachment calls are asynchronous. This would pose an overall improvement for end users of Ironic. This is solved today as a 15 second sleep by default, and might not be necessary in this design overall improving Ironic performance. Other deployer impact --------------------- To utilize this functionality, deployers would need to deploy a new service. This would be opt-in, and would not impact existing users. Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: <Volunteer #1> Other contributors: <Volunteer #2> Work Items ---------- Broadly speaking, the work items would include:: #) Prototyping this new service. #) Prototyping an ironic network_interface driver to utilize this new service. #) Loosen (as previously agreed in past Ironic PTGs) the ""vif binding"" restriction Regular Expression to permit a VLAN id to be provided. #) Test! .. note:: The list below is intended to paint a picture of what we feel are the possible steps beyond the initial step of creating an Minimum Viable Product. They are included to provide a complete contextual picture to help the reader understand our mental model. Past initial prototyping, the following may apply order:: * Creation of a common library for Ironic and any other program or tool to utilize to compose RPC calls to this service. * Extend support to VXLAN ports, which may require additional details or design work to take place and work in any ML2 plugins utilized. * Design an API rest endpoint to facilitate the tracking of physical networks to be attached to baremetal nodes. * Add support to networking-baremetal to try and reconcile these physical networks into Ironic, so node port attachment/detachments can take place. * Add support to networking-baremetal for it to proxy the request through to this service for port binding requests in Neutron. * Design a new model, likely superceeding VIFS, but vifs could just also be an internal network ID moving forward. This would likely be required for formal adoption of the functionality by Metal3, but standalone users could move to leverage this immediately once implemented. * Development of a model and flow where DPU devices could have a service deployed to them as part of a step invoked by Ironic. This would involve many challenges, but could be used to support the Neutron Integrated OVS/OVN agents to operate on the card for cases such as the remote card being in a hypervisor node. Dependencies ============ To be determined. Testing ======= An ideal model of testing in upstream CI has not been determined, and is dependent upon the state upon reaching a minimum viable product state, and then what the next objectives appear to be. This may involve duplication of Ironic's existing multinode job in a standalone form. Ultimately the expectation is we would have one or more CI jobs dedicated to supporting such functionality being exercised. Upgrades and Backwards Compatibility ==================================== This functionality is anticipated to be ""net new"" for Ironic and exposed to end users through a dedicated ``network_interface`` module which could be selected by users at a point in the future. As such no upgrade or backwards compatability issues are anticipated. Documentation Impact ==================== No impact is anticipated at this time. References ========== https://etherpad.opendev.org/p/ironic-ptg-april-2024#L609 ",,409,0
openstack%2Fbarbican~915793,openstack/barbican,master,I6c82c013d16e1c47aac22d240a702a2427dc423a,Imported Translations from Zanata,MERGED,2024-04-15 03:14:12.000000000,2024-06-12 14:58:39.000000000,2024-06-12 14:56:37.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 22348}, {'_account_id': 35125}]","[{'number': 1, 'created': '2024-04-15 03:14:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/a63677b15e5cff0e126f4f93ece544e4041c84a7', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I6c82c013d16e1c47aac22d240a702a2427dc423a\n'}, {'number': 2, 'created': '2024-04-24 03:04:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/28dda4570612d42547443a7f66b8ff4a091733db', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I6c82c013d16e1c47aac22d240a702a2427dc423a\n'}, {'number': 3, 'created': '2024-05-09 04:33:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/abd92414efbd6c03359c845955935854e9834cc3', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I6c82c013d16e1c47aac22d240a702a2427dc423a\n'}, {'number': 4, 'created': '2024-05-18 04:22:22.000000000', 'files': ['barbican/locale/en_GB/LC_MESSAGES/barbican.po', 'barbican/locale/zh_CN/LC_MESSAGES/barbican.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/barbican/commit/d482716c5433a070f421634f84b268a900f78a98', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I6c82c013d16e1c47aac22d240a702a2427dc423a\n'}]",0,915793,d482716c5433a070f421634f84b268a900f78a98,15,6,4,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I6c82c013d16e1c47aac22d240a702a2427dc423a
",git fetch https://review.opendev.org/openstack/barbican refs/changes/93/915793/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/locale/en_GB/LC_MESSAGES/barbican.po', 'barbican/locale/zh_CN/LC_MESSAGES/barbican.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po']",3,a63677b15e5cff0e126f4f93ece544e4041c84a7,zanata/translations,"# Andi Chandler <andi@gowling.com>, 2024. #zanata""POT-Creation-Date: 2024-04-08 14:57+0000\n""""PO-Revision-Date: 2024-04-14 06:49+0000\n""msgid ""11.0.0-23"" msgstr ""11.0.0-23""msgid ""17.0.0"" msgstr ""17.0.0""msgid ""2023.2 Series Release Notes"" msgstr ""2023.2 Series Release Notes"" ","""POT-Creation-Date: 2023-07-31 20:26+0000\n""""PO-Revision-Date: 2023-08-20 10:06+0000\n""msgid ""11.0.0-21"" msgstr ""11.0.0-21""msgid ""16.0.0-14"" msgstr ""16.0.0-14""",24,315
openstack%2Fnetworking-sfc~921850,openstack/networking-sfc,master,I9e61d1611c6ed75343f732cecec025f765354fa7,DNM: test master tempest jobs,NEW,2024-06-12 11:49:36.000000000,2024-06-12 14:58:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-06-12 11:49:36.000000000', 'files': ['networking_sfc/services/sfc/agent/extensions/openvswitch/sfc_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/31d5ce9376fed73a39f3ee9a00049619b7946c1c', 'message': 'DNM: test master tempest jobs\n\nChange-Id: I9e61d1611c6ed75343f732cecec025f765354fa7\n'}]",0,921850,31d5ce9376fed73a39f3ee9a00049619b7946c1c,2,1,1,8313,,,0,"DNM: test master tempest jobs

Change-Id: I9e61d1611c6ed75343f732cecec025f765354fa7
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/50/921850/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_sfc/services/sfc/agent/extensions/openvswitch/sfc_driver.py'],1,31d5ce9376fed73a39f3ee9a00049619b7946c1c,dnm,# DNM: change the order here and test master jobsPC_DEF_PRI = 20,PC_DEF_PRI = 20,2,1
openstack%2Fbarbican~915520,openstack/barbican,master,I10fe4ab04996885e8aff7fab8ace78a6fe7eb6e7,Use oslo.db to generate db engine,MERGED,2024-04-12 03:32:50.000000000,2024-06-12 14:57:43.000000000,2024-06-12 14:56:36.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-12 03:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/e2c785dc66b74f8d4a7fc86e51ae74c575417f96', 'message': 'WIP: Use oslo.db to generate db engine\n\nChange-Id: I10fe4ab04996885e8aff7fab8ace78a6fe7eb6e7\n'}, {'number': 2, 'created': '2024-04-12 04:19:49.000000000', 'files': ['barbican/tests/model/repositories/test_repositories.py', 'barbican/model/repositories.py', 'devstack/lib/barbican', 'releasenotes/notes/oslo-db-9381293cc7bedc7d.yaml', 'barbican/common/config.py', 'etc/oslo-config-generator/barbican.conf'], 'web_link': 'https://opendev.org/openstack/barbican/commit/2d405a8bfd280b541be892c36fda09c60d921a84', 'message': ""Use oslo.db to generate db engine\n\nBerbican has been historically using own implementation with sqlalchemy\nto connect to database but this causes some feature gaps with the other\nservices using oslo.db to generate database engine.\n\nThis replaces the own implementation by oslo.db's one so that barbican\ncan also leverage the features implemented in the shared library.\n\nWith this change the deprecated database options are removed, because\nthe deprecated options were already removed from oslo.db.\n\nChange-Id: I10fe4ab04996885e8aff7fab8ace78a6fe7eb6e7\n""}]",2,915520,2d405a8bfd280b541be892c36fda09c60d921a84,11,6,2,9816,,,0,"Use oslo.db to generate db engine

Berbican has been historically using own implementation with sqlalchemy
to connect to database but this causes some feature gaps with the other
services using oslo.db to generate database engine.

This replaces the own implementation by oslo.db's one so that barbican
can also leverage the features implemented in the shared library.

With this change the deprecated database options are removed, because
the deprecated options were already removed from oslo.db.

Change-Id: I10fe4ab04996885e8aff7fab8ace78a6fe7eb6e7
",git fetch https://review.opendev.org/openstack/barbican refs/changes/20/915520/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/tests/model/repositories/test_repositories.py', 'barbican/model/repositories.py', 'devstack/lib/barbican', 'barbican/common/config.py', 'etc/oslo-config-generator/barbican.conf']",5,e2c785dc66b74f8d4a7fc86e51ae74c575417f96,,namespace = oslo.db,,14,164
openstack%2Fbifrost~920410,openstack/bifrost,master,I70635e43b065f757a61b78ae12811cb582856bcb,Fix codespell reported errors,MERGED,2024-05-24 19:00:22.000000000,2024-06-12 14:55:24.000000000,2024-06-12 14:54:18.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 36770}]","[{'number': 1, 'created': '2024-05-24 19:00:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/b5650a0998c8ca28bf4945d4310b3fb1b43c6959', 'message': 'Fix codespell reported errors\n\nFix and ignore spelling errors raised by codespell\n\nChange-Id: I70635e43b065f757a61b78ae12811cb582856bcb\n'}, {'number': 2, 'created': '2024-06-04 11:50:43.000000000', 'files': ['setup.cfg', 'doc/source/user/keystone.rst'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/fb5e4cdfaababdecac7526add3a861b8fd1b7c60', 'message': 'Fix codespell reported errors\n\nFix and ignore spelling errors raised by codespell\n\nChange-Id: I70635e43b065f757a61b78ae12811cb582856bcb\n'}]",6,920410,fb5e4cdfaababdecac7526add3a861b8fd1b7c60,17,4,2,36770,,,0,"Fix codespell reported errors

Fix and ignore spelling errors raised by codespell

Change-Id: I70635e43b065f757a61b78ae12811cb582856bcb
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/10/920410/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'doc/source/user/keystone.rst']",2,b5650a0998c8ca28bf4945d4310b3fb1b43c6959,fix-codespell,#. Set the global defaults for target,#. Set the global defaults for tagret,7,2
