id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fneutron~stable%2Fussuri~I454f3b52376a02f6cc9ca9124083295631bd03d5,openstack/neutron,stable/ussuri,I454f3b52376a02f6cc9ca9124083295631bd03d5,[OVN] Fix ML2/OVN + Neutron DHCP agent use case,MERGED,2021-07-15 08:59:41.000000000,2021-07-15 20:39:20.000000000,2021-07-15 20:37:25.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-15 08:59:41.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/172a628c5a59a8db98aed62418ebf64b8b10b392', 'message': ""[OVN] Fix ML2/OVN + Neutron DHCP agent use case\n\nIn an attempt to minimize the number of connections to the OVSDBs the\nML2/OVN driver stopped connecting to the OVN dbs if the Neutron worker\nwas a RpcWorker but, that introduced a regression for those using\nML2/OVN + Neutron DHCP agent (for baremetal provisioning).\n\nBecause the RpcWorker didn't have a connection to the OVN database the\nNeutron DHCP agent wasn't able to create the DHCP port and failed with:\n\n2021-07-13 13:36:18.116 17 ERROR neutron.plugins.ml2.managers if not\nself._sb_ovn.chassis_exists(host):\n2021-07-13 13:36:18.116 17 ERROR neutron.plugins.ml2.managers\nAttributeError: 'NoneType' object has no attribute 'chassis_exists'\n\nThis patch adds the RpcWorker back to the list of workers that should\nconnect to the OVN databases.\n\nChange-Id: I454f3b52376a02f6cc9ca9124083295631bd03d5\nCloses-Bug: #1929633\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit e5f19a29dcfb70ea08fa39267bc4aecd44bec2eb)\n""}]",0,800894,172a628c5a59a8db98aed62418ebf64b8b10b392,16,3,1,6773,,,0,"[OVN] Fix ML2/OVN + Neutron DHCP agent use case

In an attempt to minimize the number of connections to the OVSDBs the
ML2/OVN driver stopped connecting to the OVN dbs if the Neutron worker
was a RpcWorker but, that introduced a regression for those using
ML2/OVN + Neutron DHCP agent (for baremetal provisioning).

Because the RpcWorker didn't have a connection to the OVN database the
Neutron DHCP agent wasn't able to create the DHCP port and failed with:

2021-07-13 13:36:18.116 17 ERROR neutron.plugins.ml2.managers if not
self._sb_ovn.chassis_exists(host):
2021-07-13 13:36:18.116 17 ERROR neutron.plugins.ml2.managers
AttributeError: 'NoneType' object has no attribute 'chassis_exists'

This patch adds the RpcWorker back to the list of workers that should
connect to the OVN databases.

Change-Id: I454f3b52376a02f6cc9ca9124083295631bd03d5
Closes-Bug: #1929633
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit e5f19a29dcfb70ea08fa39267bc4aecd44bec2eb)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/800894/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'],1,172a628c5a59a8db98aed62418ebf64b8b10b392,,"from neutron import service worker.MaintenanceWorker, service.RpcWorker)", worker.MaintenanceWorker),3,1
openstack%2Fswift~master~Ib47ecc945b5a8960b5d74ce165f0d5f9a131ed56,openstack/swift,master,Ib47ecc945b5a8960b5d74ce165f0d5f9a131ed56,Include some pipeline validation during proxy-server start-up,NEW,2019-02-05 21:12:00.000000000,2021-07-15 20:21:47.000000000,,"[{'_account_id': 597}, {'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 9625}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-05 21:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d22208e4cd345dec480a788c244277b84de0164e', 'message': 'Include some pipeline validation during proxy-server start-up\n\nThere are a variety of known-bad middleware configurations which can\nlead to non-functioning features, broken container listings, or even the\nloss of data availability. Flag such configurations early and prevent\nthe proxy-server from starting.\n\nNote that memcache gat added to a bunch of after_fn return values\nbecause we would mis-place listing_formats and dlo in the\nwidely-used-in-tests pipeline:\n\n    pipeline = catch_errors cache proxy-server\n\nChange-Id: Ib47ecc945b5a8960b5d74ce165f0d5f9a131ed56\nPartial-Bug: 1813725\nCloses-Bug: 1758710\nCloses-Bug: 1806468\n'}, {'number': 2, 'created': '2019-03-23 06:25:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/821426ab6bbd04a6ab6576b895350d35adffb141', 'message': 'Include some pipeline validation during proxy-server start-up\n\nThere are a variety of known-bad middleware configurations which can\nlead to non-functioning features, broken container listings, or even the\nloss of data availability. Flag such configurations early and prevent\nthe proxy-server from starting.\n\nNote that memcache got added to a bunch of after_fn return values\nbecause we would mis-place listing_formats and dlo in the\nwidely-used-in-tests pipeline:\n\n    pipeline = catch_errors cache proxy-server\n\nChange-Id: Ib47ecc945b5a8960b5d74ce165f0d5f9a131ed56\nPartial-Bug: 1813725\nCloses-Bug: 1758710\nCloses-Bug: 1806468\n'}, {'number': 3, 'created': '2019-03-25 18:18:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c9cdaee055d58dd1df09595e23d351ecb371e934', 'message': 'Include some pipeline validation during proxy-server start-up\n\nThere are a variety of known-bad middleware configurations which can\nlead to non-functioning features, broken container listings, or even the\nloss of data availability. Flag such configurations early and prevent\nthe proxy-server from starting.\n\nNote that memcache got added to a bunch of after_fn return values\nbecause we would mis-place listing_formats and dlo in the\nwidely-used-in-tests pipeline:\n\n    pipeline = catch_errors cache proxy-server\n\nChange-Id: Ib47ecc945b5a8960b5d74ce165f0d5f9a131ed56\nPartial-Bug: 1813725\nCloses-Bug: 1758710\nCloses-Bug: 1806468\n'}, {'number': 4, 'created': '2019-03-25 23:17:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/cb1ef3d551673cba1a72300f6e72731fc86e9ad5', 'message': 'Include some pipeline validation during proxy-server start-up\n\nThere are a variety of known-bad middleware configurations which can\nlead to non-functioning features, broken container listings, or even the\nloss of data availability. Flag such configurations early and prevent\nthe proxy-server from starting.\n\nNote that memcache got added to a bunch of after_fn return values\nbecause we would mis-place listing_formats and dlo in the\nwidely-used-in-tests pipeline:\n\n    pipeline = catch_errors cache proxy-server\n\nChange-Id: Ib47ecc945b5a8960b5d74ce165f0d5f9a131ed56\nPartial-Bug: 1813725\nCloses-Bug: 1758710\nCloses-Bug: 1806468\n'}, {'number': 5, 'created': '2019-07-27 04:52:30.000000000', 'files': ['swift/proxy/server.py', 'test/unit/common/test_wsgi.py', 'swift/common/exceptions.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/65e846c9a7ea104a834879cf9eb669050f22c6ee', 'message': 'Include some pipeline validation during proxy-server start-up\n\nThere are a variety of known-bad middleware configurations which can\nlead to non-functioning features, broken container listings, or even the\nloss of data availability. Flag such configurations early and prevent\nthe proxy-server from starting.\n\nNote that memcache got added to a bunch of after_fn return values\nbecause we would mis-place listing_formats and dlo in the\nwidely-used-in-tests pipeline:\n\n    pipeline = catch_errors cache proxy-server\n\nChange-Id: Ib47ecc945b5a8960b5d74ce165f0d5f9a131ed56\nPartial-Bug: 1813725\nCloses-Bug: 1758710\nCloses-Bug: 1806468\n'}]",15,635040,65e846c9a7ea104a834879cf9eb669050f22c6ee,23,6,5,15343,,,0,"Include some pipeline validation during proxy-server start-up

There are a variety of known-bad middleware configurations which can
lead to non-functioning features, broken container listings, or even the
loss of data availability. Flag such configurations early and prevent
the proxy-server from starting.

Note that memcache got added to a bunch of after_fn return values
because we would mis-place listing_formats and dlo in the
widely-used-in-tests pipeline:

    pipeline = catch_errors cache proxy-server

Change-Id: Ib47ecc945b5a8960b5d74ce165f0d5f9a131ed56
Partial-Bug: 1813725
Closes-Bug: 1758710
Closes-Bug: 1806468
",git fetch https://review.opendev.org/openstack/swift refs/changes/40/635040/2 && git format-patch -1 --stdout FETCH_HEAD,"['swift/proxy/server.py', 'test/unit/common/test_wsgi.py', 'swift/common/exceptions.py']",3,d22208e4cd345dec480a788c244277b84de0164e,bug/1813725,class InvalidPipelineError(SwiftException): pass ,,108,5
openstack%2Fcookbook-openstack-network~master~If0d756ea2dc60a3938f30feff5907781fa09ee8f,openstack/cookbook-openstack-network,master,If0d756ea2dc60a3938f30feff5907781fa09ee8f,Moving IRC network reference to OFTC,MERGED,2021-07-08 13:17:25.000000000,2021-07-15 20:11:22.000000000,2021-07-15 20:11:22.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 13:17:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/2b98016844c9b4ae3b7a5ce6809fb5d15d5186fe', 'message': 'Moving IRC network reference to OFTC\n\nChange-Id: If0d756ea2dc60a3938f30feff5907781fa09ee8f\n'}, {'number': 2, 'created': '2021-07-15 17:52:21.000000000', 'files': ['CONTRIBUTING.md', 'Berksfile'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/d05c095378c739d2e0a870178709fa29f240daca', 'message': 'Moving IRC network reference to OFTC\n\nAlso pull bind cookbook from git to fix version pinning issues.\n\nChange-Id: If0d756ea2dc60a3938f30feff5907781fa09ee8f\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",0,800043,d05c095378c739d2e0a870178709fa29f240daca,11,2,2,8556,,,0,"Moving IRC network reference to OFTC

Also pull bind cookbook from git to fix version pinning issues.

Change-Id: If0d756ea2dc60a3938f30feff5907781fa09ee8f
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-network refs/changes/43/800043/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.md'],1,2b98016844c9b4ae3b7a5ce6809fb5d15d5186fe,change-800043-1,IRC: #openstack-chef is our channel on irc.oftc.net,IRC: #openstack-chef is our channel on irc.freenode.net,1,1
openstack%2Fcookbook-openstack-block-storage~master~Ia4b85e1a1838cbb5fd5d5e05f99c920a3d498f65,openstack/cookbook-openstack-block-storage,master,Ia4b85e1a1838cbb5fd5d5e05f99c920a3d498f65,Moving IRC network reference to OFTC,MERGED,2021-07-08 13:12:43.000000000,2021-07-15 20:07:17.000000000,2021-07-15 20:07:17.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 13:12:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-block-storage/commit/9f6299d004f16e96726dea26477ba7cd77911546', 'message': 'Moving IRC network reference to OFTC\n\nChange-Id: Ia4b85e1a1838cbb5fd5d5e05f99c920a3d498f65\n'}, {'number': 2, 'created': '2021-07-15 18:12:18.000000000', 'files': ['CONTRIBUTING.md', 'Berksfile'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-block-storage/commit/65ad19a77a31bd222f8fc34594e6c84495c7b96c', 'message': 'Moving IRC network reference to OFTC\n\nAlso pull bind cookbook from git to fix version pinning issues.\n\nChange-Id: Ia4b85e1a1838cbb5fd5d5e05f99c920a3d498f65\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",0,800036,65ad19a77a31bd222f8fc34594e6c84495c7b96c,9,2,2,8556,,,0,"Moving IRC network reference to OFTC

Also pull bind cookbook from git to fix version pinning issues.

Change-Id: Ia4b85e1a1838cbb5fd5d5e05f99c920a3d498f65
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-block-storage refs/changes/36/800036/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.md'],1,9f6299d004f16e96726dea26477ba7cd77911546,change-800036-1,IRC: #openstack-chef is our channel on irc.oftc.net,IRC: #openstack-chef is our channel on irc.freenode.net,1,1
openstack%2Fcookbook-openstack-dashboard~master~Ia90e7cc967a8ac300a3dec984f6e89b3feb122b3,openstack/cookbook-openstack-dashboard,master,Ia90e7cc967a8ac300a3dec984f6e89b3feb122b3,Moving IRC network reference to OFTC,MERGED,2021-07-08 13:15:19.000000000,2021-07-15 20:00:28.000000000,2021-07-15 20:00:28.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 13:15:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-dashboard/commit/5793ea235593a630f063c908ad81ea5e04f100a9', 'message': 'Moving IRC network reference to OFTC\n\nChange-Id: Ia90e7cc967a8ac300a3dec984f6e89b3feb122b3\n'}, {'number': 2, 'created': '2021-07-15 18:10:03.000000000', 'files': ['CONTRIBUTING.md', 'Berksfile'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-dashboard/commit/90367ef825c7934bb87600a02da2a57d2b065e31', 'message': 'Moving IRC network reference to OFTC\n\nAlso pull bind cookbook from git to fix version pinning issues.\n\nChange-Id: Ia90e7cc967a8ac300a3dec984f6e89b3feb122b3\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",0,800040,90367ef825c7934bb87600a02da2a57d2b065e31,9,2,2,8556,,,0,"Moving IRC network reference to OFTC

Also pull bind cookbook from git to fix version pinning issues.

Change-Id: Ia90e7cc967a8ac300a3dec984f6e89b3feb122b3
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-dashboard refs/changes/40/800040/2 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.md'],1,5793ea235593a630f063c908ad81ea5e04f100a9,change-800040-1,IRC: #openstack-chef is our channel on irc.oftc.net,IRC: #openstack-chef is our channel on irc.freenode.net,1,1
openstack%2Fcookbook-openstack-orchestration~master~Ie25e1a6521360540c044d8f58a76c4e9f660696a,openstack/cookbook-openstack-orchestration,master,Ie25e1a6521360540c044d8f58a76c4e9f660696a,Moving IRC network reference to OFTC,MERGED,2021-07-08 13:20:24.000000000,2021-07-15 20:00:16.000000000,2021-07-15 20:00:16.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 13:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-orchestration/commit/cf4f6805a714b517944b6aebc08daf88635e30f0', 'message': 'Moving IRC network reference to OFTC\n\nChange-Id: Ie25e1a6521360540c044d8f58a76c4e9f660696a\n'}, {'number': 2, 'created': '2021-07-15 18:05:56.000000000', 'files': ['CONTRIBUTING.md', 'Berksfile'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-orchestration/commit/6dcde44f07c5ee1a01daede6a80fabc10f8579c4', 'message': 'Moving IRC network reference to OFTC\n\nAlso pull bind cookbook from git to fix version pinning issues.\n\nChange-Id: Ie25e1a6521360540c044d8f58a76c4e9f660696a\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",0,800046,6dcde44f07c5ee1a01daede6a80fabc10f8579c4,11,2,2,8556,,,0,"Moving IRC network reference to OFTC

Also pull bind cookbook from git to fix version pinning issues.

Change-Id: Ie25e1a6521360540c044d8f58a76c4e9f660696a
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-orchestration refs/changes/46/800046/2 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.md'],1,cf4f6805a714b517944b6aebc08daf88635e30f0,change-800046-1,IRC: #openstack-chef is our channel on irc.oftc.net,IRC: #openstack-chef is our channel on irc.freenode.net,1,1
openstack%2Fcookbook-openstack-identity~master~I9bd4f54d9d10e9f3aba98a297213304507b9967d,openstack/cookbook-openstack-identity,master,I9bd4f54d9d10e9f3aba98a297213304507b9967d,Moving IRC network reference to OFTC,MERGED,2021-07-08 13:16:01.000000000,2021-07-15 20:00:11.000000000,2021-07-15 20:00:11.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 13:16:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/b2484018eacacba988e865723555153998d2fd6b', 'message': 'Moving IRC network reference to OFTC\n\nChange-Id: I9bd4f54d9d10e9f3aba98a297213304507b9967d\n'}, {'number': 2, 'created': '2021-07-15 18:11:14.000000000', 'files': ['CONTRIBUTING.md', 'Berksfile'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/114b459cadb24c870cbcc8e8ffcf590083a32ebd', 'message': 'Moving IRC network reference to OFTC\n\nAlso pull bind cookbook from git to fix version pinning issues.\n\nChange-Id: I9bd4f54d9d10e9f3aba98a297213304507b9967d\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",0,800041,114b459cadb24c870cbcc8e8ffcf590083a32ebd,9,2,2,8556,,,0,"Moving IRC network reference to OFTC

Also pull bind cookbook from git to fix version pinning issues.

Change-Id: I9bd4f54d9d10e9f3aba98a297213304507b9967d
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-identity refs/changes/41/800041/2 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.md'],1,b2484018eacacba988e865723555153998d2fd6b,change-800041-1,IRC: #openstack-chef is our channel on irc.oftc.net,IRC: #openstack-chef is our channel on irc.freenode.net,1,1
openstack%2Fcookbook-openstack-compute~master~I0c6a50d33622a9dd6deff66ea204c56d6b5657c6,openstack/cookbook-openstack-compute,master,I0c6a50d33622a9dd6deff66ea204c56d6b5657c6,Moving IRC network reference to OFTC,MERGED,2021-07-08 13:14:12.000000000,2021-07-15 20:00:08.000000000,2021-07-15 20:00:08.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 13:14:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/bd00e6df48ca7fac641924bbf0878b69895ebe09', 'message': 'Moving IRC network reference to OFTC\n\nChange-Id: I0c6a50d33622a9dd6deff66ea204c56d6b5657c6\n'}, {'number': 2, 'created': '2021-07-15 18:03:46.000000000', 'files': ['CONTRIBUTING.md', 'Berksfile'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/b795bd684ce0207b51a3faf60d4861693b0f60b5', 'message': 'Moving IRC network reference to OFTC\n\nAlso pull bind cookbook from git to fix version pinning issues.\n\nChange-Id: I0c6a50d33622a9dd6deff66ea204c56d6b5657c6\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",0,800039,b795bd684ce0207b51a3faf60d4861693b0f60b5,9,2,2,8556,,,0,"Moving IRC network reference to OFTC

Also pull bind cookbook from git to fix version pinning issues.

Change-Id: I0c6a50d33622a9dd6deff66ea204c56d6b5657c6
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-compute refs/changes/39/800039/2 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.md'],1,bd00e6df48ca7fac641924bbf0878b69895ebe09,change-800039-1,IRC: #openstack-chef is our channel on irc.oftc.net,IRC: #openstack-chef is our channel on irc.freenode.net,1,1
openstack%2Fcookbook-openstack-telemetry~master~I4e8122210bfaadd028b80d1a6cbd36dab3e3a83d,openstack/cookbook-openstack-telemetry,master,I4e8122210bfaadd028b80d1a6cbd36dab3e3a83d,Moving IRC network reference to OFTC,MERGED,2021-07-08 13:20:57.000000000,2021-07-15 19:58:29.000000000,2021-07-15 19:58:29.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 13:20:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-telemetry/commit/17f4e155bf85db5dd0081ea0c10ed5fe7183da1d', 'message': 'Moving IRC network reference to OFTC\n\nChange-Id: I4e8122210bfaadd028b80d1a6cbd36dab3e3a83d\n'}, {'number': 2, 'created': '2021-07-15 18:01:12.000000000', 'files': ['CONTRIBUTING.md', 'Berksfile'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-telemetry/commit/0b2219df305ad6d5c31d5b827f33609b16112f67', 'message': 'Moving IRC network reference to OFTC\n\nAlso pull bind cookbook from git to fix version pinning issues.\n\nChange-Id: I4e8122210bfaadd028b80d1a6cbd36dab3e3a83d\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",0,800047,0b2219df305ad6d5c31d5b827f33609b16112f67,11,2,2,8556,,,0,"Moving IRC network reference to OFTC

Also pull bind cookbook from git to fix version pinning issues.

Change-Id: I4e8122210bfaadd028b80d1a6cbd36dab3e3a83d
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-telemetry refs/changes/47/800047/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.md'],1,17f4e155bf85db5dd0081ea0c10ed5fe7183da1d,change-800047-1,IRC: #openstack-chef is our channel on irc.oftc.net,IRC: #openstack-chef is our channel on irc.freenode.net,1,1
openstack%2Fcookbook-openstack-image~master~Ia3b774621ff241b794e1d527e772f1f81fbe5320,openstack/cookbook-openstack-image,master,Ia3b774621ff241b794e1d527e772f1f81fbe5320,Moving IRC network reference to OFTC,MERGED,2021-07-08 13:16:33.000000000,2021-07-15 19:58:21.000000000,2021-07-15 19:58:21.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 13:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-image/commit/662012b5e9642ddb442308eca34378716e9894f7', 'message': 'Moving IRC network reference to OFTC\n\nChange-Id: Ia3b774621ff241b794e1d527e772f1f81fbe5320\n'}, {'number': 2, 'created': '2021-07-15 17:56:40.000000000', 'files': ['CONTRIBUTING.md', 'Berksfile'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-image/commit/b74e375286768b971f75c6bd53755d61732ea6d9', 'message': 'Moving IRC network reference to OFTC\n\nAlso pull bind cookbook from git to fix version pinning issues.\n\nChange-Id: Ia3b774621ff241b794e1d527e772f1f81fbe5320\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",0,800042,b74e375286768b971f75c6bd53755d61732ea6d9,11,2,2,8556,,,0,"Moving IRC network reference to OFTC

Also pull bind cookbook from git to fix version pinning issues.

Change-Id: Ia3b774621ff241b794e1d527e772f1f81fbe5320
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-image refs/changes/42/800042/2 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.md'],1,662012b5e9642ddb442308eca34378716e9894f7,change-800042-1,IRC: #openstack-chef is our channel on irc.oftc.net,IRC: #openstack-chef is our channel on irc.freenode.net,1,1
openstack%2Fswift~master~Id835b49312ec04d7ce9094718b98d8e23ddba0b7,openstack/swift,master,Id835b49312ec04d7ce9094718b98d8e23ddba0b7,Add some more arm64 non-voting tests,MERGED,2021-05-27 07:26:11.000000000,2021-07-15 19:29:26.000000000,2021-07-15 19:26:51.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-27 07:26:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6afc2fb76787114f418606edb7f04656366fc94d', 'message': ""Add some more arm64 non-voting tests\n\nAdds:\n - a centos-8 probe test on py38\n - an ubuntu-bionic functest on py37\n - an ubuntu-bionic functest with encryption on py37\n\nWe should probably start looking at testing these on py38 or py39 but\nthat's out of scope for this patch.\n\nChange-Id: Id835b49312ec04d7ce9094718b98d8e23ddba0b7\n""}, {'number': 2, 'created': '2021-06-01 05:30:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c241ff42e183c7606869964ed935eb96fffeee81', 'message': ""Add some more arm64 non-voting tests\n\nAdds:\n - a centos-8 probe test on py38\n - an ubuntu-bionic functest on py37\n - an ubuntu-bionic functest with encryption on py37\n\nWe should probably start looking at testing these on py38 or py39 but\nthat's out of scope for this patch.\n\nChange-Id: Id835b49312ec04d7ce9094718b98d8e23ddba0b7\n""}, {'number': 3, 'created': '2021-06-23 20:37:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/21a19bea2fe47c0758396a1d7564025dc40416c5', 'message': ""Add some more arm64 non-voting tests\n\nAdds:\n - a centos-8 probe test on py38\n - an ubuntu-bionic functest on py37\n - an ubuntu-bionic functest with encryption on py37\n\nWe should probably start looking at testing these on py38 or py39 but\nthat's out of scope for this patch.\n\nChange-Id: Id835b49312ec04d7ce9094718b98d8e23ddba0b7\n""}, {'number': 4, 'created': '2021-07-01 17:39:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3ff7b82c456cd18c2d3c778a93a5e9edb0a12329', 'message': 'Add some more arm64 non-voting tests\n\nAdds:\n - a centos-8 probe test on py36\n - an ubuntu-bionic functest on py38\n - an ubuntu-bionic functest with encryption on py38\n\nChange-Id: Id835b49312ec04d7ce9094718b98d8e23ddba0b7\n'}, {'number': 5, 'created': '2021-07-14 22:17:53.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/510fe6962bab77fad333125a903cb1dad6fec552', 'message': 'Add some more arm64 non-voting tests\n\nAdds:\n - a centos-8 probe test on py36\n - an ubuntu-bionic functest on py38\n - an ubuntu-bionic functest with encryption on py38\n\nChange-Id: Id835b49312ec04d7ce9094718b98d8e23ddba0b7\n'}]",8,793280,510fe6962bab77fad333125a903cb1dad6fec552,40,2,5,7233,,,0,"Add some more arm64 non-voting tests

Adds:
 - a centos-8 probe test on py36
 - an ubuntu-bionic functest on py38
 - an ubuntu-bionic functest with encryption on py38

Change-Id: Id835b49312ec04d7ce9094718b98d8e23ddba0b7
",git fetch https://review.opendev.org/openstack/swift refs/changes/80/793280/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6afc2fb76787114f418606edb7f04656366fc94d,story/2007938, name: swift-tox-func-encryption-py37-arm64 parent: swift-tox-func-encryption-py37 nodeset: ubuntu-bionic-arm64 description: | Run functional tests for swift under cPython version 3.7 on top of arm64 architecture. Uses tox with the ``func-encryption-py3`` environment. It sets TMPDIR to an XFS mount point created via tools/test-setup.sh. - job: name: swift-tox-func-py37-arm64 parent: swift-tox-func-py37 nodeset: ubuntu-bionic-arm64 description: | Run functional tests for swift under cPython version 3.7 on top of arm64 architecture. Uses tox with the ``func-py3`` environment. It sets TMPDIR to an XFS mount point created via tools/test-setup.sh. - job: name: swift-probetests-centos-8-arm64 parent: swift-probetests-centos-8 nodeset: centos-8-arm64 description: | Setup a SAIO dev environment and run Swift's probe tests under Python 3 on top of arm64 architecture. - job: name: swift-jobs-arm64 Runs tests for an OpenStack Python project under the CPython - swift-probetests-centos-8-arm64: voting: false - swift-tox-func-encryption-py37-arm64: voting: false - swift-tox-func-py37-arm64: voting: false - swift-jobs-arm64, name: swift-tox-jobs-arm64 Runs unit tests for an OpenStack Python project under the CPython - swift-tox-jobs-arm64,41,3
openstack%2Fpuppet-nova~stable%2Fwallaby~I227f40111591cfe1026ce992b3de3e28d092f329,openstack/puppet-nova,stable/wallaby,I227f40111591cfe1026ce992b3de3e28d092f329,Add parameters for image copy when using multiple RBD Glance stores,MERGED,2021-07-15 15:19:48.000000000,2021-07-15 19:22:12.000000000,2021-07-15 19:20:29.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-15 15:19:48.000000000', 'files': ['manifests/compute/rbd.pp', 'releasenotes/notes/glance_image_copy-b4f888c8f981e6b3.yaml', 'spec/classes/nova_compute_rbd_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/885da96c6685b721402a3cd2228559cb90ec81c9', 'message': 'Add parameters for image copy when using multiple RBD Glance stores\n\nExpose the Nova config options to allow an image to be automatically\ncopied into the local Glance store when Glance is configured to use\nmultiple RBD stores.\n\nRelated Nova change: Ia839ad418b0f2887cb8e8f5ee3e660a0751db9ce\n\nChange-Id: I227f40111591cfe1026ce992b3de3e28d092f329\n(cherry picked from commit 920f2fbf7e1d455b0f8ab0e7655dc576e0642cd7)\n'}]",0,800959,885da96c6685b721402a3cd2228559cb90ec81c9,8,3,1,23811,,,0,"Add parameters for image copy when using multiple RBD Glance stores

Expose the Nova config options to allow an image to be automatically
copied into the local Glance store when Glance is configured to use
multiple RBD stores.

Related Nova change: Ia839ad418b0f2887cb8e8f5ee3e660a0751db9ce

Change-Id: I227f40111591cfe1026ce992b3de3e28d092f329
(cherry picked from commit 920f2fbf7e1d455b0f8ab0e7655dc576e0642cd7)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/59/800959/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/compute/rbd.pp', 'releasenotes/notes/glance_image_copy-b4f888c8f981e6b3.yaml', 'spec/classes/nova_compute_rbd_spec.rb']",3,885da96c6685b721402a3cd2228559cb90ec81c9,," { :libvirt_rbd_user => 'nova' } is_expected.to contain_nova_config('libvirt/images_rbd_glance_store_name').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('libvirt/images_rbd_glance_copy_poll_interval').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('libvirt/images_rbd_glance_copy_timeout').with_value('<SERVICE DEFAULT>') :libvirt_rbd_user => 'joe', :libvirt_rbd_secret_uuid => false, :libvirt_images_rbd_pool => 'AnotherPool', :libvirt_images_rbd_ceph_conf => '/tmp/ceph.conf', :libvirt_images_rbd_glance_store_name => 'glance_rbd_store', :libvirt_images_rbd_glance_copy_poll_interval => 30, :libvirt_images_rbd_glance_copy_timeout => 300 is_expected.to contain_nova_config('libvirt/images_rbd_glance_store_name').with_value('glance_rbd_store') is_expected.to contain_nova_config('libvirt/images_rbd_glance_copy_poll_interval').with_value(30) is_expected.to contain_nova_config('libvirt/images_rbd_glance_copy_timeout').with_value(300) is_expected.to contain_nova_config('libvirt/images_rbd_pool').with_ensure('absent') is_expected.to contain_nova_config('libvirt/images_rbd_ceph_conf').with_ensure('absent') is_expected.to contain_nova_config('libvirt/images_rbd_glance_store_name').with_ensure('absent') is_expected.to contain_nova_config('libvirt/images_rbd_glance_copy_poll_interval').with_ensure('absent') is_expected.to contain_nova_config('libvirt/images_rbd_glance_copy_timeout').with_ensure('absent')"," { :libvirt_rbd_user => 'nova', :libvirt_rbd_secret_uuid => false, :libvirt_images_rbd_pool => 'rbd', :libvirt_images_rbd_ceph_conf => '/etc/ceph/ceph.conf', :ephemeral_storage => true } :libvirt_rbd_user => 'joe', :libvirt_rbd_secret_uuid => false, :libvirt_images_rbd_pool => 'AnotherPool', :libvirt_images_rbd_ceph_conf => '/tmp/ceph.conf' is_expected.to_not contain_nova_config('libvirt/images_rbd_pool').with_value('rbd') is_expected.to_not contain_nova_config('libvirt/images_rbd_ceph_conf').with_value('/etc/ceph/ceph.conf')",67,23
openstack%2Fpuppet-designate~master~I6b57a4ea107a59896e39d07146e90bdef65b4d08,openstack/puppet-designate,master,I6b57a4ea107a59896e39d07146e90bdef65b4d08,Add support for oslo_middleware/enable_proxy_headers_parsing,MERGED,2021-07-14 02:15:22.000000000,2021-07-15 18:58:22.000000000,2021-07-15 18:56:42.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-14 02:15:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/cfc802c1b4d8a894d2be4248c86603622976f8d1', 'message': 'Add support for oslo_middleware/enable_proxy_headers_parsing\n\nChange-Id: I6b57a4ea107a59896e39d07146e90bdef65b4d08\n'}, {'number': 2, 'created': '2021-07-14 02:22:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/d6596e24ee5a06f3464ff04a6da7c87ab293b5e8', 'message': 'Add support for oslo_middleware/enable_proxy_headers_parsing\n\nChange-Id: I6b57a4ea107a59896e39d07146e90bdef65b4d08\n'}, {'number': 3, 'created': '2021-07-14 12:00:34.000000000', 'files': ['releasenotes/notes/add-enable_proxy_headers_parsing-fb76fa3450bd4ed9.yaml', 'manifests/api.pp', 'spec/classes/designate_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/5c7d7e6d58fcfb240673420bc196a75ab888d72c', 'message': 'Add support for oslo_middleware/enable_proxy_headers_parsing\n\nChange-Id: I6b57a4ea107a59896e39d07146e90bdef65b4d08\n'}]",0,800740,5c7d7e6d58fcfb240673420bc196a75ab888d72c,11,3,3,9816,,,0,"Add support for oslo_middleware/enable_proxy_headers_parsing

Change-Id: I6b57a4ea107a59896e39d07146e90bdef65b4d08
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/40/800740/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api.pp', 'spec/classes/designate_api_spec.rb']",2,cfc802c1b4d8a894d2be4248c86603622976f8d1,designate-proxy-headers," is_expected.to contain_oslo__middleware('designate_config').with( :enable_proxy_headers_parsing => '<SERVICE DEFAULT>' ) :enable_proxy_headers_parsing => true, is_expected.to contain_oslo__middleware('designate_config').with( :enable_proxy_headers_parsing => params[:enable_proxy_headers_parsing] )",,38,21
openstack%2Fpuppet-designate~master~I1f5ce5c70af4636c1176029bf76ffdfc83300871,openstack/puppet-designate,master,I1f5ce5c70af4636c1176029bf76ffdfc83300871,Remove leftover of v1 api support,MERGED,2021-07-12 15:50:21.000000000,2021-07-15 18:56:02.000000000,2021-07-15 18:54:47.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-12 15:50:21.000000000', 'files': ['manifests/api.pp', 'releasenotes/notes/remove-enabled_extensions_v1-f0354a03403c52e4.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/a1f2605c4edf8cc0cc6ed97e2ad3842e6a576210', 'message': 'Remove leftover of v1 api support\n\nThis change removes the enable_extentions_v1 parameter which was left\nwhen support for v1 api was removed[1].\n\n[1] a5d78457d67e1ce894f811a4058ef53aae9623a7\n\nChange-Id: I1f5ce5c70af4636c1176029bf76ffdfc83300871\n'}]",0,800508,a1f2605c4edf8cc0cc6ed97e2ad3842e6a576210,8,3,1,9816,,,0,"Remove leftover of v1 api support

This change removes the enable_extentions_v1 parameter which was left
when support for v1 api was removed[1].

[1] a5d78457d67e1ce894f811a4058ef53aae9623a7

Change-Id: I1f5ce5c70af4636c1176029bf76ffdfc83300871
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/08/800508/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api.pp', 'releasenotes/notes/remove-enabled_extensions_v1-f0354a03403c52e4.yaml']",2,a1f2605c4edf8cc0cc6ed97e2ad3842e6a576210,,--- upgrade: - | The ``designate::api::enabled_extensions_v1`` parameter has been removed. ,,4,10
openstack%2Fcookbook-openstack-ops-database~master~I1f84712218d4c6f4213516d2d893e48211424659,openstack/cookbook-openstack-ops-database,master,I1f84712218d4c6f4213516d2d893e48211424659,Moving IRC network reference to OFTC,MERGED,2021-07-08 13:18:53.000000000,2021-07-15 18:51:09.000000000,2021-07-15 18:51:09.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 13:18:53.000000000', 'files': ['CONTRIBUTING.md'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-ops-database/commit/d3adbb3e930a3e787d7691a6e6ba9e2c153dcf5e', 'message': 'Moving IRC network reference to OFTC\n\nChange-Id: I1f84712218d4c6f4213516d2d893e48211424659\n'}]",0,800044,d3adbb3e930a3e787d7691a6e6ba9e2c153dcf5e,9,2,1,8556,,,0,"Moving IRC network reference to OFTC

Change-Id: I1f84712218d4c6f4213516d2d893e48211424659
",git fetch https://review.opendev.org/openstack/cookbook-openstack-ops-database refs/changes/44/800044/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.md'],1,d3adbb3e930a3e787d7691a6e6ba9e2c153dcf5e,oftc,IRC: #openstack-chef is our channel on irc.oftc.net,IRC: #openstack-chef is our channel on irc.freenode.net,1,1
openstack%2Fcookbook-openstack-ops-messaging~master~Iab96a2416e6cb0e835ae4ad8b8a391cf42648fa5,openstack/cookbook-openstack-ops-messaging,master,Iab96a2416e6cb0e835ae4ad8b8a391cf42648fa5,Moving IRC network reference to OFTC,MERGED,2021-07-08 13:19:27.000000000,2021-07-15 18:29:41.000000000,2021-07-15 18:29:41.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 13:19:27.000000000', 'files': ['CONTRIBUTING.md'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-ops-messaging/commit/3d40d5fe27391c5c0a660b3d75998ad6311c0445', 'message': 'Moving IRC network reference to OFTC\n\nChange-Id: Iab96a2416e6cb0e835ae4ad8b8a391cf42648fa5\n'}]",0,800045,3d40d5fe27391c5c0a660b3d75998ad6311c0445,10,2,1,8556,,,0,"Moving IRC network reference to OFTC

Change-Id: Iab96a2416e6cb0e835ae4ad8b8a391cf42648fa5
",git fetch https://review.opendev.org/openstack/cookbook-openstack-ops-messaging refs/changes/45/800045/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.md'],1,3d40d5fe27391c5c0a660b3d75998ad6311c0445,oftc,IRC: #openstack-chef is our channel on irc.oftc.net,IRC: #openstack-chef is our channel on irc.freenode.net,1,1
openstack%2Fswift~master~I9e0ef88d18fdf5c386d2000be077a4e8f25f983f,openstack/swift,master,I9e0ef88d18fdf5c386d2000be077a4e8f25f983f,ignore generator already executing,ABANDONED,2021-06-16 20:07:52.000000000,2021-07-15 18:25:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-16 20:07:52.000000000', 'files': ['swift/proxy/controllers/obj.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/9784454fd296caa3f6871ea7213e69b9a60db716', 'message': 'ignore generator already executing\n\nChange-Id: I9e0ef88d18fdf5c386d2000be077a4e8f25f983f\n'}]",0,796736,9784454fd296caa3f6871ea7213e69b9a60db716,5,1,1,1179,,,0,"ignore generator already executing

Change-Id: I9e0ef88d18fdf5c386d2000be077a4e8f25f983f
",git fetch https://review.opendev.org/openstack/swift refs/changes/36/796736/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/proxy/controllers/obj.py'],1,9784454fd296caa3f6871ea7213e69b9a60db716,," try: part_iter.close() except ValueError: self.app.logger.debug( 'Unable to close iter to %s for %s', self.node, self.path) part_iter = None", part_iter.close(),7,1
openstack%2Fswift~master~I63a4fda4f5da00c0f752e58f2e7192baea5012bb,openstack/swift,master,I63a4fda4f5da00c0f752e58f2e7192baea5012bb,Switch get(full)argspec function according to python version,MERGED,2021-07-15 11:45:39.000000000,2021-07-15 18:23:35.000000000,2021-07-15 18:21:40.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-15 11:45:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1eb8093ca6a8f060aaedf9ba34171c22addf1c08', 'message': 'Switch get(full)argspec function according to python version\n\ninspect.getargspec was deprecated since Python 3.0 and\ninspect.getfullargspec is its replacement with correct handling of\nfunction annotations and keyword-only parameters[1].\n\nThis change ensures that inspect.getfullargspec is used in Python 3.\n\n[1] https://docs.python.org/3/library/inspect.html#inspect.getargspec\n\nChange-Id: I63a4fda4f5da00c0f752e58f2e7192baea5012bb\n'}, {'number': 2, 'created': '2021-07-15 14:51:31.000000000', 'files': ['test/unit/__init__.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/e00ae03370d606368133da5c9eb196ae4ff1bd10', 'message': 'Switch get(full)argspec function according to python version\n\ninspect.getargspec was deprecated since Python 3.0 and\ninspect.getfullargspec is its replacement with correct handling of\nfunction annotations and keyword-only parameters[1].\n\nThis change ensures that inspect.getfullargspec is used in Python 3.\n\n[1] https://docs.python.org/3/library/inspect.html#inspect.getargspec\n\nChange-Id: I63a4fda4f5da00c0f752e58f2e7192baea5012bb\n'}]",0,800924,e00ae03370d606368133da5c9eb196ae4ff1bd10,13,2,2,9816,,,0,"Switch get(full)argspec function according to python version

inspect.getargspec was deprecated since Python 3.0 and
inspect.getfullargspec is its replacement with correct handling of
function annotations and keyword-only parameters[1].

This change ensures that inspect.getfullargspec is used in Python 3.

[1] https://docs.python.org/3/library/inspect.html#inspect.getargspec

Change-Id: I63a4fda4f5da00c0f752e58f2e7192baea5012bb
",git fetch https://review.opendev.org/openstack/swift refs/changes/24/800924/2 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/__init__.py'],1,1eb8093ca6a8f060aaedf9ba34171c22addf1c08,getargspec, if six.PY2: argspec = inspect.getargspec(give_conn_fn) else: argspec = inspect.getfullargspec(give_conn_fn), argspec = inspect.getargspec(give_conn_fn),5,1
openstack%2Fswift~master~I10e3d1ffb4d70a6f998a9c84eba4ce17a068039b,openstack/swift,master,I10e3d1ffb4d70a6f998a9c84eba4ce17a068039b,Add support for multiple container-reconciler,NEW,2014-07-01 07:50:10.000000000,2021-07-15 18:06:59.000000000,,"[{'_account_id': 330}, {'_account_id': 597}, {'_account_id': 1179}, {'_account_id': 2622}, {'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 8859}, {'_account_id': 13052}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2014-07-01 07:50:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ad7a9960a7c11bb1e2555eb7d3f7096cb88a2a4f', 'message': 'Add support for multiple container-reconciler\n\nThis change enables a cluster operator to coordinate multiple\ndistributed container-reconciler processes.  The implementation\ncontinues to follow similar patterns as the object-expirier, with some\ndifferences.  Like the object-expirer the total number of\ncontainer-reconciler ""processes"" for the cluster and a per config\n""process"" create a modulo process ""ring"" into which work can be\nsub-divided.  Unlike the object-expirer, each process calculates a\nstaggered schedule so that the entire process pool will check for\nmisplaced objects at the configured interval in a steady state system.\nAlso, the first process to notice new entries in the queue will attempt\nto complete all available work processing up to the configured\nconcurrency setting objects simultaneously, which should keep the time\nto recovery as low as possible when there is a nominal amount of work to\nperform.  If the process does not complete processing all queue items\nbefore the end of it\'s interval it will begin skipping some queue\nentries based on their hash modulo the number of processes compared with\nthe configured processes.  The next process to start will similarly\nbegin processing all entries before also settling into only processing\nthe subset of the available work for which it is responsible.\n\nSee `etc/container-reconciler.conf` for configuration details.\n\nChange-Id: I10e3d1ffb4d70a6f998a9c84eba4ce17a068039b\n'}, {'number': 2, 'created': '2014-07-01 19:10:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7f878caad5b3eaea22e55f62765d46af8f1fb776', 'message': 'Add support for multiple container-reconciler\n\nThis change enables a cluster operator to coordinate multiple\ndistributed container-reconciler processes.  The implementation\ncontinues to follow similar patterns as the object-expirier, with some\ndifferences.  Like the object-expirer the total number of\ncontainer-reconciler ""processes"" for the cluster and a per config\n""process"" create a modulo process ""ring"" into which work can be\nsub-divided.  Unlike the object-expirer, each process calculates a\nstaggered schedule so that the entire process pool will check for\nmisplaced objects at the configured interval in a steady state system.\nAlso, the first process to notice new entries in the queue will attempt\nto complete all available work processing up to the configured\nconcurrency setting objects simultaneously, which should keep the time\nto recovery as low as possible when there is a nominal amount of work to\nperform.  If the process does not complete processing all queue items\nbefore the end of it\'s interval it will begin skipping some queue\nentries based on their hash modulo the number of processes compared with\nthe configured processes.  The next process to start will similarly\nbegin processing all entries before also settling into only processing\nthe subset of the available work for which it is responsible.\n\nSee `etc/container-reconciler.conf` for configuration details.\n\nChange-Id: I10e3d1ffb4d70a6f998a9c84eba4ce17a068039b\n'}, {'number': 3, 'created': '2014-09-11 03:51:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d6c74c6a7de710ba9e9b6fdbc2bd8c663e6891a2', 'message': 'Add support for multiple container-reconciler\n\nThis change enables a cluster operator to coordinate multiple\ndistributed container-reconciler processes.  The implementation\ncontinues to follow similar patterns as the object-expirier, with some\ndifferences.  Like the object-expirer the total number of\ncontainer-reconciler ""processes"" for the cluster and a per config\n""process"" create a modulo process ""ring"" into which work can be\nsub-divided.  Unlike the object-expirer, each process calculates a\nstaggered schedule so that the entire process pool will check for\nmisplaced objects at the configured interval in a steady state system.\nAlso, the first process to notice new entries in the queue will attempt\nto complete all available work processing up to the configured\nconcurrency setting objects simultaneously, which should keep the time\nto recovery as low as possible when there is a nominal amount of work to\nperform.  If the process does not complete processing all queue items\nbefore the end of it\'s interval it will begin skipping some queue\nentries based on their hash modulo the number of processes compared with\nthe configured processes.  The next process to start will similarly\nbegin processing all entries before also settling into only processing\nthe subset of the available work for which it is responsible.\n\nSee `etc/container-reconciler.conf` for configuration details.\n\nChange-Id: I10e3d1ffb4d70a6f998a9c84eba4ce17a068039b\n'}, {'number': 4, 'created': '2014-10-28 04:41:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f92ee578ec246466972a62eddbd31c0813d5ad6a', 'message': 'Add support for multiple container-reconciler\n\nThis change enables a cluster operator to coordinate multiple\ndistributed container-reconciler processes.  The implementation\ncontinues to follow similar patterns as the object-expirier, with some\ndifferences.  Like the object-expirer the total number of\ncontainer-reconciler ""processes"" for the cluster and a per config\n""process"" create a modulo process ""ring"" into which work can be\nsub-divided.  Unlike the object-expirer, each process calculates a\nstaggered schedule so that the entire process pool will check for\nmisplaced objects at the configured interval in a steady state system.\nAlso, the first process to notice new entries in the queue will attempt\nto complete all available work processing up to the configured\nconcurrency setting objects simultaneously, which should keep the time\nto recovery as low as possible when there is a nominal amount of work to\nperform.  If the process does not complete processing all queue items\nbefore the end of it\'s interval it will begin skipping some queue\nentries based on their hash modulo the number of processes compared with\nthe configured processes.  The next process to start will similarly\nbegin processing all entries before also settling into only processing\nthe subset of the available work for which it is responsible.\n\nSee `etc/container-reconciler.conf` for configuration details.\n\nChange-Id: I10e3d1ffb4d70a6f998a9c84eba4ce17a068039b\n'}, {'number': 5, 'created': '2015-01-08 02:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c6a913b390d55dd8b23d61cb58a87194a945a82f', 'message': 'Add support for multiple container-reconciler\n\nThis change enables a cluster operator to coordinate multiple\ndistributed container-reconciler processes.  The implementation\ncontinues to follow similar patterns as the object-expirier, with some\ndifferences.  Like the object-expirer the total number of\ncontainer-reconciler ""processes"" for the cluster and a per config\n""process"" create a modulo process ""ring"" into which work can be\nsub-divided.  Unlike the object-expirer, each process calculates a\nstaggered schedule so that the entire process pool will check for\nmisplaced objects at the configured interval in a steady state system.\nAlso, the first process to notice new entries in the queue will attempt\nto complete all available work processing up to the configured\nconcurrency setting objects simultaneously, which should keep the time\nto recovery as low as possible when there is a nominal amount of work to\nperform.  If the process does not complete processing all queue items\nbefore the end of it\'s interval it will begin skipping some queue\nentries based on their hash modulo the number of processes compared with\nthe configured processes.  The next process to start will similarly\nbegin processing all entries before also settling into only processing\nthe subset of the available work for which it is responsible.\n\nSee `etc/container-reconciler.conf` for configuration details.\n\nChange-Id: I10e3d1ffb4d70a6f998a9c84eba4ce17a068039b\n'}, {'number': 6, 'created': '2015-02-13 20:34:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8e0501390aff725ed3f926a98e78da1b127a9c1d', 'message': 'Add support for multiple container-reconciler\n\nThis change enables a cluster operator to coordinate multiple\ndistributed container-reconciler processes.  The implementation\ncontinues to follow similar patterns as the object-expirier, with some\ndifferences.  Like the object-expirer the total number of\ncontainer-reconciler ""processes"" for the cluster and a per config\n""process"" create a modulo process ""ring"" into which work can be\nsub-divided.  Unlike the object-expirer, each process calculates a\nstaggered schedule so that the entire process pool will check for\nmisplaced objects at the configured interval in a steady state system.\nAlso, the first process to notice new entries in the queue will attempt\nto complete all available work processing up to the configured\nconcurrency setting objects simultaneously, which should keep the time\nto recovery as low as possible when there is a nominal amount of work to\nperform.  If the process does not complete processing all queue items\nbefore the end of it\'s interval it will begin skipping some queue\nentries based on their hash modulo the number of processes compared with\nthe configured processes.  The next process to start will similarly\nbegin processing all entries before also settling into only processing\nthe subset of the available work for which it is responsible.\n\nSee `etc/container-reconciler.conf` for configuration details.\n\nChange-Id: I10e3d1ffb4d70a6f998a9c84eba4ce17a068039b\n'}, {'number': 7, 'created': '2015-04-14 22:33:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c5ac8e4e199ed7de9b76b47d28756f626811f0ab', 'message': 'Add support for multiple container-reconciler\n\nThis change enables a cluster operator to coordinate multiple\ndistributed container-reconciler processes.  The implementation\ncontinues to follow similar patterns as the object-expirier, with some\ndifferences.  Like the object-expirer the total number of\ncontainer-reconciler ""processes"" for the cluster and a per config\n""process"" create a modulo process ""ring"" into which work can be\nsub-divided.  Unlike the object-expirer, each process calculates a\nstaggered schedule so that the entire process pool will check for\nmisplaced objects at the configured interval in a steady state system.\nAlso, the first process to notice new entries in the queue will attempt\nto complete all available work processing up to the configured\nconcurrency setting objects simultaneously, which should keep the time\nto recovery as low as possible when there is a nominal amount of work to\nperform.  If the process does not complete processing all queue items\nbefore the end of it\'s interval it will begin skipping some queue\nentries based on their hash modulo the number of processes compared with\nthe configured processes.  The next process to start will similarly\nbegin processing all entries before also settling into only processing\nthe subset of the available work for which it is responsible.\n\nSee `etc/container-reconciler.conf` for configuration details.\n\nChange-Id: I10e3d1ffb4d70a6f998a9c84eba4ce17a068039b\n'}, {'number': 8, 'created': '2015-05-22 16:34:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4416d1d16b3b8d28329132c759bec309579fcf75', 'message': 'Add support for multiple container-reconciler\n\nThis change enables a cluster operator to coordinate multiple\ndistributed container-reconciler processes.  The implementation\ncontinues to follow similar patterns as the object-expirier, with some\ndifferences.  Like the object-expirer the total number of\ncontainer-reconciler ""processes"" for the cluster and a per config\n""process"" create a modulo process ""ring"" into which work can be\nsub-divided.  Unlike the object-expirer, each process calculates a\nstaggered schedule so that the entire process pool will check for\nmisplaced objects at the configured interval in a steady state system.\nAlso, the first process to notice new entries in the queue will attempt\nto complete all available work processing up to the configured\nconcurrency setting objects simultaneously, which should keep the time\nto recovery as low as possible when there is a nominal amount of work to\nperform.  If the process does not complete processing all queue items\nbefore the end of it\'s interval it will begin skipping some queue\nentries based on their hash modulo the number of processes compared with\nthe configured processes.  The next process to start will similarly\nbegin processing all entries before also settling into only processing\nthe subset of the available work for which it is responsible.\n\nSee `etc/container-reconciler.conf` for configuration details.\n\nChange-Id: I10e3d1ffb4d70a6f998a9c84eba4ce17a068039b\n'}, {'number': 9, 'created': '2016-02-18 21:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c93044b9291a56bfe546751ce998bd7380cd47f8', 'message': 'Add support for multiple container-reconciler\n\nThis change enables a cluster operator to coordinate multiple\ndistributed container-reconciler processes.  The implementation\ncontinues to follow similar patterns as the object-expirier, with some\ndifferences.  Like the object-expirer the total number of\ncontainer-reconciler ""processes"" for the cluster and a per config\n""process"" create a modulo process ""ring"" into which work can be\nsub-divided.  Unlike the object-expirer, each process calculates a\nstaggered schedule so that the entire process pool will check for\nmisplaced objects at the configured interval in a steady state system.\nAlso, the first process to notice new entries in the queue will attempt\nto complete all available work processing up to the configured\nconcurrency setting objects simultaneously, which should keep the time\nto recovery as low as possible when there is a nominal amount of work to\nperform.  If the process does not complete processing all queue items\nbefore the end of it\'s interval it will begin skipping some queue\nentries based on their hash modulo the number of processes compared with\nthe configured processes.  The next process to start will similarly\nbegin processing all entries before also settling into only processing\nthe subset of the available work for which it is responsible.\n\nSee `etc/container-reconciler.conf` for configuration details.\n\nChange-Id: I10e3d1ffb4d70a6f998a9c84eba4ce17a068039b\n'}, {'number': 10, 'created': '2021-06-16 20:38:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9e0bc9fe2f5f14f26742e85bf740f7fcb73a6bc6', 'message': 'Add support for multiple container-reconciler\n\nThis change enables a cluster operator to coordinate multiple\ndistributed container-reconciler processes.  The implementation\ncontinues to follow similar patterns as the object-expirier, with some\ndifferences.  Like the object-expirer the total number of\ncontainer-reconciler ""processes"" for the cluster and a per config\n""process"" create a modulo process ""ring"" into which work can be\nsub-divided.  Unlike the object-expirer, each process calculates a\nstaggered schedule so that the entire process pool will check for\nmisplaced objects at the configured interval in a steady state system.\nAlso, the first process to notice new entries in the queue will attempt\nto complete all available work processing up to the configured\nconcurrency setting objects simultaneously, which should keep the time\nto recovery as low as possible when there is a nominal amount of work to\nperform.  If the process does not complete processing all queue items\nbefore the end of it\'s interval it will begin skipping some queue\nentries based on their hash modulo the number of processes compared with\nthe configured processes.  The next process to start will similarly\nbegin processing all entries before also settling into only processing\nthe subset of the available work for which it is responsible.\n\nSee `etc/container-reconciler.conf` for configuration details.\n\nChange-Id: I10e3d1ffb4d70a6f998a9c84eba4ce17a068039b\n'}, {'number': 11, 'created': '2021-06-16 23:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/869220aef2a1371218708e2158edaa7a8ae77999', 'message': 'Add support for multiple container-reconciler\n\nThis change enables a cluster operator to coordinate multiple\ndistributed container-reconciler processes.  The implementation\ncontinues to follow similar patterns as the object-expirier, with some\ndifferences.  Like the object-expirer the total number of\ncontainer-reconciler ""processes"" for the cluster and a per config\n""process"" create a modulo process ""ring"" into which work can be\nsub-divided.  Unlike the object-expirer, each process calculates a\nstaggered schedule so that the entire process pool will check for\nmisplaced objects at the configured interval in a steady state system.\nAlso, the first process to notice new entries in the queue will attempt\nto complete all available work processing up to the configured\nconcurrency setting objects simultaneously, which should keep the time\nto recovery as low as possible when there is a nominal amount of work to\nperform.  If the process does not complete processing all queue items\nbefore the end of it\'s interval it will begin skipping some queue\nentries based on their hash modulo the number of processes compared with\nthe configured processes.  The next process to start will similarly\nbegin processing all entries before also settling into only processing\nthe subset of the available work for which it is responsible.\n\nSee `etc/container-reconciler.conf` for configuration details.\n\nChange-Id: I10e3d1ffb4d70a6f998a9c84eba4ce17a068039b\n'}, {'number': 12, 'created': '2021-06-17 01:16:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/50f06041cd12d3f1940aee3a832f93ef464717a9', 'message': 'Add support for multiple container-reconciler\n\nThis change enables a cluster operator to coordinate multiple\ndistributed container-reconciler processes.  The implementation\ncontinues to follow similar patterns as the object-expirier, with some\ndifferences.  Like the object-expirer the total number of\ncontainer-reconciler ""processes"" for the cluster and a per config\n""process"" create a modulo process ""ring"" into which work can be\nsub-divided.  Unlike the object-expirer, each process calculates a\nstaggered schedule so that the entire process pool will check for\nmisplaced objects at the configured interval in a steady state system.\nAlso, the first process to notice new entries in the queue will attempt\nto complete all available work processing up to the configured\nconcurrency setting objects simultaneously, which should keep the time\nto recovery as low as possible when there is a nominal amount of work to\nperform.  If the process does not complete processing all queue items\nbefore the end of it\'s interval it will begin skipping some queue\nentries based on their hash modulo the number of processes compared with\nthe configured processes.  The next process to start will similarly\nbegin processing all entries before also settling into only processing\nthe subset of the available work for which it is responsible.\n\nSee `etc/container-reconciler.conf` for configuration details.\n\nChange-Id: I10e3d1ffb4d70a6f998a9c84eba4ce17a068039b\n'}, {'number': 13, 'created': '2021-07-13 18:33:17.000000000', 'files': ['etc/container-reconciler.conf-sample', 'test/unit/container/test_reconciler.py', 'swift/container/reconciler.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/0c74cb95caebc3510ae9186f09fd3f2113a5298a', 'message': 'Add support for multiple container-reconciler\n\nThis change enables a cluster operator to coordinate multiple\ndistributed container-reconciler processes.  The implementation\ncontinues to follow similar patterns as the object-expirier, with some\ndifferences.  Like the object-expirer the total number of\ncontainer-reconciler ""processes"" for the cluster and a per config\n""process"" create a modulo process ""ring"" into which work can be\nsub-divided.  Unlike the object-expirer, each process calculates a\nstaggered schedule so that the entire process pool will check for\nmisplaced objects at the configured interval in a steady state system.\nAlso, the first process to notice new entries in the queue will attempt\nto complete all available work processing up to the configured\nconcurrency setting objects simultaneously, which should keep the time\nto recovery as low as possible when there is a nominal amount of work to\nperform.  If the process does not complete processing all queue items\nbefore the end of it\'s interval it will begin skipping some queue\nentries based on their hash modulo the number of processes compared with\nthe configured processes.  The next process to start will similarly\nbegin processing all entries before also settling into only processing\nthe subset of the available work for which it is responsible.\n\nSee `etc/container-reconciler.conf` for configuration details.\n\nChange-Id: I10e3d1ffb4d70a6f998a9c84eba4ce17a068039b\n'}]",29,103779,0c74cb95caebc3510ae9186f09fd3f2113a5298a,67,10,13,1179,,,0,"Add support for multiple container-reconciler

This change enables a cluster operator to coordinate multiple
distributed container-reconciler processes.  The implementation
continues to follow similar patterns as the object-expirier, with some
differences.  Like the object-expirer the total number of
container-reconciler ""processes"" for the cluster and a per config
""process"" create a modulo process ""ring"" into which work can be
sub-divided.  Unlike the object-expirer, each process calculates a
staggered schedule so that the entire process pool will check for
misplaced objects at the configured interval in a steady state system.
Also, the first process to notice new entries in the queue will attempt
to complete all available work processing up to the configured
concurrency setting objects simultaneously, which should keep the time
to recovery as low as possible when there is a nominal amount of work to
perform.  If the process does not complete processing all queue items
before the end of it's interval it will begin skipping some queue
entries based on their hash modulo the number of processes compared with
the configured processes.  The next process to start will similarly
begin processing all entries before also settling into only processing
the subset of the available work for which it is responsible.

See `etc/container-reconciler.conf` for configuration details.

Change-Id: I10e3d1ffb4d70a6f998a9c84eba4ce17a068039b
",git fetch https://review.opendev.org/openstack/swift refs/changes/79/103779/3 && git format-patch -1 --stdout FETCH_HEAD,"['etc/container-reconciler.conf-sample', 'test/unit/container/test_reconciler.py', 'swift/container/reconciler.py', 'swift/proxy/controllers/container.py']",4,ad7a9960a7c11bb1e2555eb7d3f7096cb88a2a4f,multi-reconciler," if not (self.account_info(self.account_name, req)[1] or self.account_name.startswith( getattr(self.app, 'auto_create_account_prefix', '.'))):"," if not self.account_info(self.account_name, req)[1]:",1034,46
openstack%2Fcharm-deployment-guide~master~I776ec6ec8df91bd9fd75df43f48f0086953b32b6,openstack/charm-deployment-guide,master,I776ec6ec8df91bd9fd75df43f48f0086953b32b6,Add MySQL8 to managing-power-events page,MERGED,2021-07-15 16:31:40.000000000,2021-07-15 17:47:41.000000000,2021-07-15 17:46:30.000000000,"[{'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-15 16:31:40.000000000', 'files': ['deploy-guide/source/app-managing-power-events.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/85615007f2d19f0a00c14b3748b7a1e9df3241c4', 'message': 'Add MySQL8 to managing-power-events page\n\nGo over what needs to be done when a MySQL InnoDB\nCluster is restarted. It involves running a single\naction.\n\nChange-Id: I776ec6ec8df91bd9fd75df43f48f0086953b32b6\n'}]",0,800969,85615007f2d19f0a00c14b3748b7a1e9df3241c4,7,2,1,30561,,,0,"Add MySQL8 to managing-power-events page

Go over what needs to be done when a MySQL InnoDB
Cluster is restarted. It involves running a single
action.

Change-Id: I776ec6ec8df91bd9fd75df43f48f0086953b32b6
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/69/800969/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/app-managing-power-events.rst'],1,85615007f2d19f0a00c14b3748b7a1e9df3241c4,mention-mysql8-power-outage-action,"event, meaning that such an event would have no impact on both client requests to the application and the application itself. However, depending on the situation, some such applications may still require attention when starting back up. The `percona-cluster`_ and `mysql-innodb-cluster`_ applications are good examples of this.(or mysql-innodb-cluster) should be stopped last:#. ``percona-cluster`` or ``mysql-innodb-cluster`` (CP)+-----------------+--------------+-------------------------+--------------------------+ | `ceph-osd`_ | `etcd`_ | `mysql-innodb-cluster`_ | `nova-cloud-controller`_ | +-----------------+--------------+-------------------------+--------------------------+ | `ceph-mon`_ | `glance`_ | `neutron-gateway`_ | `percona-cluster`_ | +-----------------+--------------+-------------------------+--------------------------+ | `ceph-radosgw`_ | `keystone`_ | `neutron-openvswitch`_ | `rabbitmq-server`_ | +-----------------+--------------+-------------------------+--------------------------+ | `cinder`_ | `landscape`_ | `nova-compute`_ | `vault`_ | +-----------------+-----------+----------------------------+--------------------------+mysql-innodb-cluster ~~~~~~~~~~~~~~~~~~~~ shutdown ^^^^^^^^ To pause the MySQL InnoDB Cluster for a mysql-innodb-cluster unit: .. code-block:: none juju run-action --wait mysql-innodb-cluster/0 pause To gracefully shut down the cluster repeat the above for every unit. startup ^^^^^^^ A special startup procedure is necessary regardless of how services were shut down (gracefully, hard shutdown, or power outage). Upon startup the cluster will need to be initialised. It is recommended to read the upstream document `Rebooting a Cluster from a Major Outage`_ before proceeding. At this time the output to command :command:`juju status mysql-innodb-cluster` should look similar to: .. code-block:: console App Version Status Scale Charm Store Channel Rev OS Message mysql-innodb-cluster 8.0.25 blocked 3 mysql-innodb-cluster charmstore stable 7 ubuntu Cluster is inaccessible from this instance. Please check logs for details. Unit Workload Agent Machine Public address Ports Message mysql-innodb-cluster/0 blocked idle 0/lxd/2 10.0.0.240 Cluster is inaccessible from this instance. Please check logs for details. mysql-innodb-cluster/1 blocked idle 1/lxd/2 10.0.0.208 Cluster is inaccessible from this instance. Please check logs for details. mysql-innodb-cluster/2* blocked idle 2/lxd/2 10.0.0.218 Cluster is inaccessible from this instance. Please check logs for details. Determine the GTID node """""""""""""""""""""""""""""""""""""""""""""" A Juju action needs to be run on the mysql-innodb-cluster unit that corresponds to the cluster member that possesses the GTID superset (of transactions). This is the unit that is most up-to-date in terms of cluster activity. The GTID node therefore needs to be determined. In practice however, it is much easier to simply run the action on any unit and, if it is the incorrect unit, have it report which unit does have the GTID. This is the method that will be used here. Initialise the cluster """""""""""""""""""""""""""""""""""""""""""" Initialise the cluster by running the ``reboot-cluster-from-complete-outage`` action on any unit: .. code-block:: none juju run-action --wait mysql-innodb-cluster/1 reboot-cluster-from-complete-outage Here we see, in the command's partial output, that the chosen unit does not correspond to the GTID node: .. code-block:: console RuntimeError: Dba.reboot_cluster_from_complete_outage: The active session instance (10.0.0.208:3306) isn't the most updated in comparison with the ONLINE instances of the Cluster's metadata. Please use the most up to date instance: '10.0.0.218:3306'. This says that the GTID node has an IP address of 10.0.0.218. For us, this corresponds to unit ``mysql-innodb-cluster/2``. Therefore: .. code-block:: none juju run-action --wait mysql-innodb-cluster/2 reboot-cluster-from-complete-outage This time, the output should include: .. code-block:: console results: outcome: Success output: """" status: completed The mysql-innodb-cluster application should now be back to a clustered and healthy state: .. code-block:: console App Version Status Scale Charm Store Channel Rev OS Message mysql-innodb-cluster 8.0.25 active 3 mysql-innodb-cluster charmstore stable 7 ubuntu Unit is ready: Mode: R/O, Cluster is ONLINE and can tolerate up to ONE failure. Unit Workload Agent Machine Public address Ports Message mysql-innodb-cluster/0 active idle 0/lxd/2 10.0.0.240 Unit is ready: Mode: R/O, Cluster is ONLINE and can tolerate up to ONE failure. mysql-innodb-cluster/1 active idle 1/lxd/2 10.0.0.208 Unit is ready: Mode: R/O, Cluster is ONLINE and can tolerate up to ONE failure. mysql-innodb-cluster/2* active idle 2/lxd/2 10.0.0.218 Unit is ready: Mode: R/W, Cluster is ONLINE and can tolerate up to ONE failure. ------------------------------------------------------------------------------- .. _Rebooting a Cluster from a Major Outage: https://dev.mysql.com/doc/mysql-shell/8.0/en/troubleshooting-innodb-cluster.html#reboot-outage","event, meaning that one would have no impact on both client requests to the application and the application itself. However, depending on the situation, some such applications may still require attention when starting back up. The `percona-cluster`_ application is a good example of this.should be stopped last:#. ``percona-cluster`` (CP)+-----------------+-----------+--------------------+--------------------------+--------------------+ | `ceph-osd`_ | `cinder`_ | `keystone`_ | `neutron-openvswitch`_ | `percona-cluster`_ | +-----------------+-----------+--------------------+--------------------------+--------------------+ | `ceph-mon`_ | `etcd`_ | `landscape`_ | `nova-compute`_ | `rabbitmq-server`_ | +-----------------+-----------+--------------------+--------------------------+--------------------+ | `ceph-radosgw`_ | `glance`_ | `neutron-gateway`_ | `nova-cloud-controller`_ | `vault`_ | +-----------------+-----------+--------------------+--------------------------+--------------------+",115,13
openstack%2Fneutron~stable%2Fwallaby~I454f3b52376a02f6cc9ca9124083295631bd03d5,openstack/neutron,stable/wallaby,I454f3b52376a02f6cc9ca9124083295631bd03d5,[OVN] Fix ML2/OVN + Neutron DHCP agent use case,MERGED,2021-07-15 08:58:46.000000000,2021-07-15 17:24:06.000000000,2021-07-15 17:21:39.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-15 08:58:46.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/335614be5fdc4d9aa562cb66806a5429357e338f', 'message': ""[OVN] Fix ML2/OVN + Neutron DHCP agent use case\n\nIn an attempt to minimize the number of connections to the OVSDBs the\nML2/OVN driver stopped connecting to the OVN dbs if the Neutron worker\nwas a RpcWorker but, that introduced a regression for those using\nML2/OVN + Neutron DHCP agent (for baremetal provisioning).\n\nBecause the RpcWorker didn't have a connection to the OVN database the\nNeutron DHCP agent wasn't able to create the DHCP port and failed with:\n\n2021-07-13 13:36:18.116 17 ERROR neutron.plugins.ml2.managers if not\nself._sb_ovn.chassis_exists(host):\n2021-07-13 13:36:18.116 17 ERROR neutron.plugins.ml2.managers\nAttributeError: 'NoneType' object has no attribute 'chassis_exists'\n\nThis patch adds the RpcWorker back to the list of workers that should\nconnect to the OVN databases.\n\nChange-Id: I454f3b52376a02f6cc9ca9124083295631bd03d5\nCloses-Bug: #1929633\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit e5f19a29dcfb70ea08fa39267bc4aecd44bec2eb)\n""}]",0,800892,335614be5fdc4d9aa562cb66806a5429357e338f,18,3,1,6773,,,0,"[OVN] Fix ML2/OVN + Neutron DHCP agent use case

In an attempt to minimize the number of connections to the OVSDBs the
ML2/OVN driver stopped connecting to the OVN dbs if the Neutron worker
was a RpcWorker but, that introduced a regression for those using
ML2/OVN + Neutron DHCP agent (for baremetal provisioning).

Because the RpcWorker didn't have a connection to the OVN database the
Neutron DHCP agent wasn't able to create the DHCP port and failed with:

2021-07-13 13:36:18.116 17 ERROR neutron.plugins.ml2.managers if not
self._sb_ovn.chassis_exists(host):
2021-07-13 13:36:18.116 17 ERROR neutron.plugins.ml2.managers
AttributeError: 'NoneType' object has no attribute 'chassis_exists'

This patch adds the RpcWorker back to the list of workers that should
connect to the OVN databases.

Change-Id: I454f3b52376a02f6cc9ca9124083295631bd03d5
Closes-Bug: #1929633
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit e5f19a29dcfb70ea08fa39267bc4aecd44bec2eb)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/92/800892/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'],1,335614be5fdc4d9aa562cb66806a5429357e338f,,"from neutron import service worker.MaintenanceWorker, service.RpcWorker)", worker.MaintenanceWorker),3,1
openstack%2Fopenstacksdk~feature%2Fr1~Ife111995d939f8373637b1668be2f955b58c6189,openstack/openstacksdk,feature/r1,Ife111995d939f8373637b1668be2f955b58c6189,Fix import order in clustering tests,MERGED,2021-06-07 09:37:40.000000000,2021-07-15 17:17:29.000000000,2021-07-15 17:12:59.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-06-07 09:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/927b6b7a72857320bc2868784c98752a208a4a20', 'message': 'Fix import order in clustering tests\n\nRemove tox filter\n\nChange-Id: Ife111995d939f8373637b1668be2f955b58c6189\n'}, {'number': 2, 'created': '2021-07-14 14:32:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c4027f2b8db403901b8cf65a1b65f04a97bc4bee', 'message': 'Fix import order in clustering tests\n\nRemove tox filter\n\nChange-Id: Ife111995d939f8373637b1668be2f955b58c6189\n'}, {'number': 3, 'created': '2021-07-15 12:29:48.000000000', 'files': ['openstack/tests/unit/clustering/test_version.py', 'openstack/tests/unit/clustering/v1/test_event.py', 'openstack/tests/unit/clustering/v1/test_cluster_policy.py', 'openstack/tests/unit/clustering/v1/test_profile.py', 'openstack/tests/unit/clustering/v1/test_receiver.py', 'openstack/tests/unit/clustering/v1/test_cluster_attr.py', 'openstack/tests/unit/clustering/v1/test_policy_type.py', 'openstack/tests/unit/clustering/v1/test_policy.py', 'tox.ini', 'openstack/tests/unit/clustering/v1/test_action.py', 'openstack/tests/unit/clustering/v1/test_build_info.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b59cda5cfd78b9fb00aa88686f977a0f27db8f31', 'message': 'Fix import order in clustering tests\n\nRemove tox filter\n\nChange-Id: Ife111995d939f8373637b1668be2f955b58c6189\n'}]",0,795073,b59cda5cfd78b9fb00aa88686f977a0f27db8f31,11,2,3,23851,,,0,"Fix import order in clustering tests

Remove tox filter

Change-Id: Ife111995d939f8373637b1668be2f955b58c6189
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/73/795073/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/clustering/test_version.py', 'openstack/tests/unit/clustering/v1/test_event.py', 'openstack/tests/unit/clustering/v1/test_cluster_policy.py', 'openstack/tests/unit/clustering/v1/test_profile.py', 'openstack/tests/unit/clustering/v1/test_receiver.py', 'openstack/tests/unit/clustering/v1/test_cluster_attr.py', 'openstack/tests/unit/clustering/v1/test_policy_type.py', 'openstack/tests/unit/clustering/v1/test_policy.py', 'tox.ini', 'openstack/tests/unit/clustering/v1/test_action.py', 'openstack/tests/unit/clustering/v1/test_build_info.py']",11,927b6b7a72857320bc2868784c98752a208a4a20,sdk_cloud_identity,from openstack.tests.unit import base,from openstack.tests.unit import base ,10,20
openstack%2Fkeystone~master~I3628f1cd438f3f2ca999ec89df4eef989c903b95,openstack/keystone,master,I3628f1cd438f3f2ca999ec89df4eef989c903b95,Remove use of deprecated oslo.db options,MERGED,2021-07-06 13:37:03.000000000,2021-07-15 17:16:23.000000000,2021-07-15 17:13:36.000000000,"[{'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 16465}, {'_account_id': 16688}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-06 13:37:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5a916cb7c8a23b22856389da8604ece680c4bfc7', 'message': ""Remove use of deprecated oslo.db options\n\noslo.db 10.0.0 finally removes the deprecated '[database] idle_timeout'\noption in favour of '[database] connection_recycle_time'. Update unit\ntests to reflect this.\n\nChange-Id: I3628f1cd438f3f2ca999ec89df4eef989c903b95\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2021-07-06 15:22:24.000000000', 'files': ['keystone/tests/unit/config_files/deprecated.conf', 'keystone/tests/unit/test_config.py', 'keystone/tests/unit/config_files/deprecated_override.conf', 'keystone/tests/unit/config_files/backend_sql.conf', 'keystone/tests/unit/config_files/backend_ldap_sql.conf', 'keystone/tests/unit/config_files/backend_multi_ldap_sql.conf'], 'web_link': 'https://opendev.org/openstack/keystone/commit/cb113ef89beb081509a15757ed1d8426155f6e01', 'message': ""Remove use of deprecated oslo.db options\n\noslo.db 10.0.0 finally removes the deprecated '[database] idle_timeout'\noption in favour of '[database] connection_recycle_time'. Update unit\ntests to reflect this.\n\nChange-Id: I3628f1cd438f3f2ca999ec89df4eef989c903b95\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,799672,cb113ef89beb081509a15757ed1d8426155f6e01,17,6,2,15334,,,0,"Remove use of deprecated oslo.db options

oslo.db 10.0.0 finally removes the deprecated '[database] idle_timeout'
option in favour of '[database] connection_recycle_time'. Update unit
tests to reflect this.

Change-Id: I3628f1cd438f3f2ca999ec89df4eef989c903b95
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/72/799672/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/config_files/deprecated.conf', 'keystone/tests/unit/test_config.py', 'keystone/tests/unit/config_files/deprecated_override.conf', 'keystone/tests/unit/config_files/backend_sql.conf', 'keystone/tests/unit/config_files/backend_ldap_sql.conf', 'keystone/tests/unit/config_files/backend_multi_ldap_sql.conf']",6,5a916cb7c8a23b22856389da8604ece680c4bfc7,oslo.db-10.0.0,connection_recycle_time = 200,idle_timeout = 200,3,58
openstack%2Fneutron~master~Ie7bac1d2819c332a94a0ff308a300638c17f1b1f,openstack/neutron,master,Ie7bac1d2819c332a94a0ff308a300638c17f1b1f,Add devstack local.conf sample for ML2 OVS,MERGED,2021-07-02 05:22:54.000000000,2021-07-15 17:16:21.000000000,2021-07-15 17:10:41.000000000,"[{'_account_id': 841}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 33145}]","[{'number': 1, 'created': '2021-07-02 05:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9230f6d26af7e943a7c02c6bcf0627fd23048a19', 'message': 'Add devstack local.conf sample for ML2 OVS\n\nSince devstack had set OVN as the default backend for Neutron.\nThen the minimum local.conf [1] for ML2 ovs will not work at\nall. For some local testing of ML2 OVS, it is not right deployment\nfor users to test the ML2 OVS related cases.\n\nThis patch adds a sample local.conf for ml2 ovs to install a small\nall in one environment for Neutron testing.\n\nSample tested OS:\n1. CentOS Stream 8\n2. CentOS Linux 8\n\n[1] https://docs.openstack.org/devstack/latest/#create-a-local-conf\n\nChange-Id: Ie7bac1d2819c332a94a0ff308a300638c17f1b1f\n'}, {'number': 2, 'created': '2021-07-02 06:34:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/845e8651e689af682e89557c8217973cbac26c3c', 'message': 'Add devstack local.conf sample for ML2 OVS\n\nSince devstack had set OVN as the default backend for Neutron.\nThen the minimum local.conf [1] for ML2 ovs will not work at\nall. For some local testing of ML2 OVS, it is not right deployment\nfor users to test the ML2 OVS related cases.\n\nThis patch adds a sample local.conf for ml2 ovs to install a small\nall in one environment for Neutron testing.\n\nSample tested OS:\n1. CentOS Stream 8\n2. CentOS Linux 8\n\n[1] https://docs.openstack.org/devstack/latest/#create-a-local-conf\n\nChange-Id: Ie7bac1d2819c332a94a0ff308a300638c17f1b1f\n'}, {'number': 3, 'created': '2021-07-02 07:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/77e19cd2e95278223328f85e79f63d7091e2e245', 'message': 'Add devstack local.conf sample for ML2 OVS\n\nSince devstack had set OVN as the default backend for Neutron.\nThen the minimum local.conf [1] for ML2 ovs will not work at\nall. For some local testing of ML2 OVS, it is not right deployment\nfor users to test the ML2 OVS related cases.\n\nThis patch adds a sample local.conf for ml2 ovs to install a small\nall in one environment for Neutron testing.\n\nSample tested OS:\n1. CentOS Stream 8\n2. CentOS Linux 8\n\n[1] https://docs.openstack.org/devstack/latest/#create-a-local-conf\n\nChange-Id: Ie7bac1d2819c332a94a0ff308a300638c17f1b1f\n'}, {'number': 4, 'created': '2021-07-02 08:49:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/69f2f490b85385f59544643f2f7b8e5e5bbd4dd4', 'message': 'Add devstack local.conf sample for ML2 OVS\n\nSince devstack had set OVN as the default backend for Neutron.\nThen the minimum local.conf [1] for ML2 ovs will not work at\nall. For some local testing of ML2 OVS, it is not right deployment\nfor users to test the ML2 OVS related cases.\n\nThis patch adds a sample local.conf for ml2 ovs to install a small\nall in one environment for Neutron testing.\n\nSample tested OS:\n1. CentOS Stream 8\n2. CentOS Linux 8\n\n[1] https://docs.openstack.org/devstack/latest/#create-a-local-conf\n\nCloses-Bug: #1934466\nChange-Id: Ie7bac1d2819c332a94a0ff308a300638c17f1b1f\n'}, {'number': 5, 'created': '2021-07-07 01:01:08.000000000', 'files': ['doc/source/contributor/testing/ml2_ovs_devstack.rst', 'devstack/ml2-ovs-local.conf.sample', 'devstack/ml2-ovs-compute-local.conf.sample', 'doc/source/contributor/testing/ml2_ovn_devstack.rst', 'doc/source/contributor/testing/index.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ca15099cde582e9049360238c75803f022499eb1', 'message': 'Add devstack local.conf sample for ML2 OVS\n\nSince devstack had set OVN as the default backend for Neutron.\nThen the minimum local.conf [1] for ML2 ovs will not work at\nall. For some local testing of ML2 OVS, it is not right deployment\nfor users to test the ML2 OVS related cases.\n\nThis patch adds a sample local.conf for ml2 ovs to install a small\nall in one environment for Neutron testing.\n\nSample tested OS:\n1. CentOS Stream 8\n2. CentOS Linux 8\n\n[1] https://docs.openstack.org/devstack/latest/#create-a-local-conf\n\nCloses-Bug: #1934466\nChange-Id: Ie7bac1d2819c332a94a0ff308a300638c17f1b1f\n'}]",48,799159,ca15099cde582e9049360238c75803f022499eb1,62,8,5,9531,,,0,"Add devstack local.conf sample for ML2 OVS

Since devstack had set OVN as the default backend for Neutron.
Then the minimum local.conf [1] for ML2 ovs will not work at
all. For some local testing of ML2 OVS, it is not right deployment
for users to test the ML2 OVS related cases.

This patch adds a sample local.conf for ml2 ovs to install a small
all in one environment for Neutron testing.

Sample tested OS:
1. CentOS Stream 8
2. CentOS Linux 8

[1] https://docs.openstack.org/devstack/latest/#create-a-local-conf

Closes-Bug: #1934466
Change-Id: Ie7bac1d2819c332a94a0ff308a300638c17f1b1f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/59/799159/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/testing/ml2_ovs_devstack.rst', 'devstack/ml2-ovs-local.conf.sample', 'doc/source/contributor/testing/index.rst']",3,9230f6d26af7e943a7c02c6bcf0627fd23048a19,ml2_ovs_devstack, ml2_ovs_devstack,,136,0
openstack%2Fopenstacksdk~feature%2Fr1~I74d9202ed452fdbba558b0a4b708bffeea6b266b,openstack/openstacksdk,feature/r1,I74d9202ed452fdbba558b0a4b708bffeea6b266b,Switch identity roles in the cloud layer to proxy,MERGED,2021-05-11 16:22:20.000000000,2021-07-15 17:16:10.000000000,2021-07-15 17:11:32.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-05-11 16:22:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b9bfd043973b053fc0e3a5af1b342c04bbc9f30e', 'message': 'WIP Switch identity roles in the cloud layer to proxy\n\nNow the roles operations including role assignments are switched to be\nusing proxy layer instead of reimplementing REST calls.\n\nChange-Id: I74d9202ed452fdbba558b0a4b708bffeea6b266b\n'}, {'number': 2, 'created': '2021-05-12 15:03:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9de8eefd39274b96609b430624ee1cb74b78c788', 'message': 'WIP Switch identity roles in the cloud layer to proxy\n\nNow the roles operations including role assignments are switched to be\nusing proxy layer instead of reimplementing REST calls.\n\nChange-Id: I74d9202ed452fdbba558b0a4b708bffeea6b266b\n'}, {'number': 3, 'created': '2021-05-12 16:04:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/444422c042d63a499410cf718e02dcd36fe839da', 'message': 'WIP Switch identity roles in the cloud layer to proxy\n\nNow the roles operations including role assignments are switched to be\nusing proxy layer instead of reimplementing REST calls.\n\nChange-Id: I74d9202ed452fdbba558b0a4b708bffeea6b266b\n'}, {'number': 4, 'created': '2021-05-12 16:33:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b5f3b40b759125d09961219b98d31479a0dcd298', 'message': 'WIP Switch identity roles in the cloud layer to proxy\n\nNow the roles operations including role assignments are switched to be\nusing proxy layer instead of reimplementing REST calls.\n\nChange-Id: I74d9202ed452fdbba558b0a4b708bffeea6b266b\n'}, {'number': 5, 'created': '2021-05-14 14:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f25bed53daad6f5d9c17eef91f628f6abe15d58d', 'message': 'Switch identity roles in the cloud layer to proxy\n\nNow the roles operations including role assignments are switched to be\nusing proxy layer instead of reimplementing REST calls.\n\nChange-Id: I74d9202ed452fdbba558b0a4b708bffeea6b266b\n'}, {'number': 6, 'created': '2021-06-02 09:19:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b54e7298332faa192936e3b9f597e18d952e3a6f', 'message': 'Switch identity roles in the cloud layer to proxy\n\nNow the roles operations including role assignments are switched to be\nusing proxy layer instead of reimplementing REST calls.\n\nChange-Id: I74d9202ed452fdbba558b0a4b708bffeea6b266b\n'}, {'number': 7, 'created': '2021-06-02 11:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/76f3581d25598085b373a33a7bc98f9cde5d4dbc', 'message': 'Switch identity roles in the cloud layer to proxy\n\nNow the roles operations including role assignments are switched to be\nusing proxy layer instead of reimplementing REST calls.\n\nChange-Id: I74d9202ed452fdbba558b0a4b708bffeea6b266b\n'}, {'number': 8, 'created': '2021-07-02 14:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9e3aa7f057ed12c2410452d76d01f747be9b5619', 'message': 'Switch identity roles in the cloud layer to proxy\n\nNow the roles operations including role assignments are switched to be\nusing proxy layer instead of reimplementing REST calls.\n\nChange-Id: I74d9202ed452fdbba558b0a4b708bffeea6b266b\n'}, {'number': 9, 'created': '2021-07-14 14:08:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/518b855e09c51ff9220731c1e47cac08f2af0002', 'message': 'Switch identity roles in the cloud layer to proxy\n\nNow the roles operations including role assignments are switched to be\nusing proxy layer instead of reimplementing REST calls.\n\nChange-Id: I74d9202ed452fdbba558b0a4b708bffeea6b266b\n'}, {'number': 10, 'created': '2021-07-14 14:16:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5eed9fbd826ecbbadfbcc9091c4cbc279deee36b', 'message': 'Switch identity roles in the cloud layer to proxy\n\nNow the roles operations including role assignments are switched to be\nusing proxy layer instead of reimplementing REST calls.\n\nChange-Id: I74d9202ed452fdbba558b0a4b708bffeea6b266b\n'}, {'number': 11, 'created': '2021-07-14 16:33:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e4ea4e29745fd0c86c1ea2eb02609c56a9fe1853', 'message': 'Switch identity roles in the cloud layer to proxy\n\nNow the roles operations including role assignments are switched to be\nusing proxy layer instead of reimplementing REST calls.\n\nChange-Id: I74d9202ed452fdbba558b0a4b708bffeea6b266b\n'}, {'number': 12, 'created': '2021-07-15 12:23:52.000000000', 'files': ['openstack/cloud/_identity.py', 'openstack/tests/unit/cloud/test_role_assignment.py', 'openstack/identity/v3/_proxy.py', 'openstack/tests/unit/cloud/test_identity_roles.py', 'openstack/cloud/_utils.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8a1d255ca879e520d1df50b63214721db3c2cc16', 'message': 'Switch identity roles in the cloud layer to proxy\n\nNow the roles operations including role assignments are switched to be\nusing proxy layer instead of reimplementing REST calls.\n\nChange-Id: I74d9202ed452fdbba558b0a4b708bffeea6b266b\n'}]",1,790793,8a1d255ca879e520d1df50b63214721db3c2cc16,28,2,12,27900,,,0,"Switch identity roles in the cloud layer to proxy

Now the roles operations including role assignments are switched to be
using proxy layer instead of reimplementing REST calls.

Change-Id: I74d9202ed452fdbba558b0a4b708bffeea6b266b
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/93/790793/8 && git format-patch -1 --stdout FETCH_HEAD,['openstack/cloud/_identity.py'],1,b9bfd043973b053fc0e3a5af1b342c04bbc9f30e,sdk_cloud_identity," :param domain_id: domain id for listing roles return list(self.identity.roles(**kwargs)) return list(self.identity.role_assignments(**filters)) assignments = self.identity.role_assignments_filter(**filters) return self.identity.create_role(**kwargs) role = self.get_role(name_or_id, **kwargs) return self.identity.update_role(role, **kwargs) try: self.identity.delete_role(role) return True except exceptions.SDKExceptions: self.log.exception( ""Unable to delete role {name}"".format( name=name_or_id)) raise if domain: if group: if data.get('project') is None and data.get('domain') is None: raise exc.OpenStackCloudException( 'Must specify either a domain or project') # For v3, figure out the assignment type and build the URL if data.get('domain'): url = ""/domains/{}"".format(data['domain']) else: url = ""/projects/{}"".format(data['project']['id']) if data.get('group'): url += ""/groups/{}"".format(data['group']['id']) else: url += ""/users/{}"".format(data['user']['id']) url += ""/roles/{}"".format(data.get('role')) self._identity_client.put(url, error_message=error_msg) if data.get('project') is None and data.get('domain') is None: raise exc.OpenStackCloudException( 'Must specify either a domain or project') # For v3, figure out the assignment type and build the URL if data.get('domain'): url = ""/domains/{}"".format(data['domain']) else: url = ""/projects/{}"".format(data['project']['id']) if data.get('group'): url += ""/groups/{}"".format(data['group']['id']) else: url += ""/users/{}"".format(data['user']['id']) url += ""/roles/{}"".format(data.get('role')) self._identity_client.delete(url, error_message=error_msg) if not domain_id: raise exc.OpenStackCloudException( ""User or project creation requires an explicit"" "" domain_id argument."") else: ret.update({'domain_id': domain_id}) if project: project_obj = self.get_project(project) if project_obj: ret.update({'default_project_id': project['id']}) "," :param domain_id: domain id for listing roles (v3) v2 = self._is_client_version('identity', 2) url = '/OS-KSADM/roles' if v2 else '/roles' data = self._identity_client.get( url, params=kwargs, error_message=""Failed to list roles"") return self._normalize_roles(self._get_and_munchify('roles', data)) def _keystone_v2_role_assignments(self, user, project=None, role=None, **kwargs): data = self._identity_client.get( ""/tenants/{tenant}/users/{user}/roles"".format( tenant=project, user=user), error_message=""Failed to list role assignments"") roles = self._get_and_munchify('roles', data) ret = [] for tmprole in roles: if role is not None and role != tmprole.id: continue ret.append({ 'role': { 'id': tmprole.id }, 'scope': { 'project': { 'id': project, } }, 'user': { 'id': user, } }) return ret data = self._identity_client.get( '/role_assignments', params=filters, error_message=""Failed to list role assignments"") return self._get_and_munchify('role_assignments', data) NOTE: For keystone v2, only user, project, and role are used. Project and user are both required in filters. assignments = self._keystone_v3_role_assignments(**filters) v2 = self._is_client_version('identity', 2) url = '/OS-KSADM/roles' if v2 else '/roles' msg = 'Failed to create role {name}'.format(name=name) data = self._identity_client.post( url, json={'role': kwargs}, error_message=msg) role = self._get_and_munchify('role', data) return self._normalize_role(role) if self._is_client_version('identity', 2): raise exc.OpenStackCloudUnavailableFeature( 'Unavailable Feature: Role update requires Identity v3' ) kwargs['name_or_id'] = name_or_id role = self.get_role(**kwargs) msg = 'Failed to update role {name}'.format(name=name_or_id) json_kwargs = {'role_id': role.id, 'role': {'name': name}} data = self._identity_client.patch('/roles', error_message=msg, json=json_kwargs) role = self._get_and_munchify('role', data) return self._normalize_role(role) v2 = self._is_client_version('identity', 2) url = '{preffix}/{id}'.format( preffix='/OS-KSADM/roles' if v2 else '/roles', id=role['id']) error_msg = ""Unable to delete role {name}"".format(name=name_or_id) self._identity_client.delete(url, error_message=error_msg) return True # domain and group not available in keystone v2.0 is_keystone_v2 = self._is_client_version('identity', 2) if not is_keystone_v2 and domain: if not is_keystone_v2 and group: NOTE: project is required for keystone v2 if self._is_client_version('identity', 2) and \ data.get('project') is None: raise exc.OpenStackCloudException( 'Must specify project for keystone v2') if self._is_client_version('identity', 2): # For v2.0, only tenant/project assignment is supported url = ""/tenants/{t}/users/{u}/roles/OS-KSADM/{r}"".format( t=data['project']['id'], u=data['user']['id'], r=data['role']) self._identity_client.put(url, error_message=error_msg, endpoint_filter={'interface': 'admin'}) else: if data.get('project') is None and data.get('domain') is None: raise exc.OpenStackCloudException( 'Must specify either a domain or project') # For v3, figure out the assignment type and build the URL if data.get('domain'): url = ""/domains/{}"".format(data['domain']) else: url = ""/projects/{}"".format(data['project']['id']) if data.get('group'): url += ""/groups/{}"".format(data['group']['id']) else: url += ""/users/{}"".format(data['user']['id']) url += ""/roles/{}"".format(data.get('role')) self._identity_client.put(url, error_message=error_msg) if self._is_client_version('identity', 2) and \ data.get('project') is None: raise exc.OpenStackCloudException( 'Must specify project for keystone v2') if self._is_client_version('identity', 2): # For v2.0, only tenant/project assignment is supported url = ""/tenants/{t}/users/{u}/roles/OS-KSADM/{r}"".format( t=data['project']['id'], u=data['user']['id'], r=data['role']) self._identity_client.delete( url, error_message=error_msg, endpoint_filter={'interface': 'admin'}) else: if data.get('project') is None and data.get('domain') is None: raise exc.OpenStackCloudException( 'Must specify either a domain or project') # For v3, figure out the assignment type and build the URL if data.get('domain'): url = ""/domains/{}"".format(data['domain']) else: url = ""/projects/{}"".format(data['project']['id']) if data.get('group'): url += ""/groups/{}"".format(data['group']['id']) else: url += ""/users/{}"".format(data['user']['id']) url += ""/roles/{}"".format(data.get('role')) self._identity_client.delete(url, error_message=error_msg) def _get_project_id_param_dict(self, name_or_id): if name_or_id: project = self.get_project(name_or_id) if not project: return {} if self._is_client_version('identity', 3): return {'default_project_id': project['id']} else: return {'tenant_id': project['id']} else: return {} def _get_domain_id_param_dict(self, domain_id): """"""Get a useable domain."""""" # Keystone v3 requires domains for user and project creation. v2 does # not. However, keystone v2 does not allow user creation by non-admin # users, so we can throw an error to the user that does not need to # mention api versions if self._is_client_version('identity', 3): if not domain_id: raise exc.OpenStackCloudException( ""User or project creation requires an explicit"" "" domain_id argument."") else: return {'domain_id': domain_id} else: return {} ret.update(self._get_domain_id_param_dict(domain_id))",56,156
openstack%2Fos-brick~master~Ib63486d89afb585fa462fed77cf1e0b762f112ba,openstack/os-brick,master,Ib63486d89afb585fa462fed77cf1e0b762f112ba,Drop lower-constraints jobs,MERGED,2021-05-02 02:33:12.000000000,2021-07-15 17:15:57.000000000,2021-07-15 17:10:19.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-02 02:33:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/29848ca128b1580a56c6067176266b4dfedfa004', 'message': 'Drop lower-constraints jobs\n\nChange-Id: Ib63486d89afb585fa462fed77cf1e0b762f112ba\n'}, {'number': 2, 'created': '2021-07-07 20:35:37.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/cb25b6f372ae785a55d8b2e93051d9fa81e8bc50', 'message': 'Drop lower-constraints jobs\n\nChange-Id: Ib63486d89afb585fa462fed77cf1e0b762f112ba\n'}]",0,789079,cb25b6f372ae785a55d8b2e93051d9fa81e8bc50,31,3,2,30092,,,0,"Drop lower-constraints jobs

Change-Id: Ib63486d89afb585fa462fed77cf1e0b762f112ba
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/79/789079/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,29848ca128b1580a56c6067176266b4dfedfa004,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,0,81
openstack%2Fopenstacksdk~feature%2Fr1~I397c715192ac4e47cfe867df22323d30581ba1aa,openstack/openstacksdk,feature/r1,I397c715192ac4e47cfe867df22323d30581ba1aa,Fix import order in orchestration tests,MERGED,2021-06-07 09:32:51.000000000,2021-07-15 17:12:29.000000000,2021-07-15 17:12:29.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-06-07 09:32:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/dfc24f4b342be7ba312a1f9008d93c7b11c22642', 'message': 'Fix import order in orchestration tests\n\nRemove tox filter\n\nChange-Id: I397c715192ac4e47cfe867df22323d30581ba1aa\n'}, {'number': 2, 'created': '2021-07-14 14:32:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/140093c3d73a925fc7200863d9cea6e2881f47e9', 'message': 'Fix import order in orchestration tests\n\nRemove tox filter\n\nChange-Id: I397c715192ac4e47cfe867df22323d30581ba1aa\n'}, {'number': 3, 'created': '2021-07-15 12:28:55.000000000', 'files': ['openstack/tests/unit/orchestration/v1/test_stack_environment.py', 'openstack/tests/unit/orchestration/v1/test_proxy.py', 'openstack/tests/unit/orchestration/v1/test_software_config.py', 'openstack/tests/unit/orchestration/test_version.py', 'openstack/tests/unit/orchestration/v1/test_resource.py', 'openstack/tests/unit/orchestration/v1/test_stack_template.py', 'openstack/tests/unit/orchestration/v1/test_software_deployment.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/adcf98c21e91751c08ce4a0aadf12b6071c02944', 'message': 'Fix import order in orchestration tests\n\nRemove tox filter\n\nChange-Id: I397c715192ac4e47cfe867df22323d30581ba1aa\n'}]",0,795071,adcf98c21e91751c08ce4a0aadf12b6071c02944,10,2,3,23851,,,0,"Fix import order in orchestration tests

Remove tox filter

Change-Id: I397c715192ac4e47cfe867df22323d30581ba1aa
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/71/795071/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/orchestration/v1/test_proxy.py', 'openstack/tests/unit/orchestration/v1/test_stack_environment.py', 'openstack/tests/unit/orchestration/v1/test_software_config.py', 'openstack/tests/unit/orchestration/test_version.py', 'openstack/tests/unit/orchestration/v1/test_resource.py', 'openstack/tests/unit/orchestration/v1/test_stack_template.py', 'openstack/tests/unit/orchestration/v1/test_software_deployment.py', 'tox.ini']",8,dfc24f4b342be7ba312a1f9008d93c7b11c22642,sdk_cloud_identity,," openstack/tests/unit/orchestration/*:H306,I100,I201,I202",8,11
openstack%2Fopenstacksdk~feature%2Fr1~I810a5c6718df520323568cb74ad7fcdc2992f85e,openstack/openstacksdk,feature/r1,I810a5c6718df520323568cb74ad7fcdc2992f85e,Fix import order in identity tests,MERGED,2021-06-04 07:56:33.000000000,2021-07-15 17:12:04.000000000,2021-07-15 17:12:04.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-06-04 07:56:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8f6bc59dcd37bf6a83963e23ecb1e4e10bf2f2c6', 'message': 'Fix import order in identity tests\n\nRemove tox filter\n\nChange-Id: I810a5c6718df520323568cb74ad7fcdc2992f85e\n'}, {'number': 2, 'created': '2021-06-07 09:08:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ee5f32ae81548515a0b489a580900e6d8408ffc6', 'message': 'Fix import order in identity tests\n\nRemove tox filter\n\nChange-Id: I810a5c6718df520323568cb74ad7fcdc2992f85e\n'}, {'number': 3, 'created': '2021-06-07 09:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e90e2220184b50068690706518f7cc3db7d8fc5b', 'message': 'Fix import order in identity tests\n\nRemove tox filter.\n\nPlus fix some other import orders that were already fixed in master.\n\nChange-Id: I810a5c6718df520323568cb74ad7fcdc2992f85e\n'}, {'number': 4, 'created': '2021-07-02 14:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8885e3ae5f316aa65e2bcb9ef9f70fed8db6f40d', 'message': 'Fix import order in identity tests\n\nRemove tox filter.\n\nPlus fix some other import orders that were already fixed in master.\n\nChange-Id: I810a5c6718df520323568cb74ad7fcdc2992f85e\n'}, {'number': 5, 'created': '2021-07-14 14:32:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/666bc7bcfa39d3a3e6c7832898c8215a89dcc217', 'message': 'Fix import order in identity tests\n\nRemove tox filter.\n\nPlus fix some other import orders that were already fixed in master.\n\nChange-Id: I810a5c6718df520323568cb74ad7fcdc2992f85e\n'}, {'number': 6, 'created': '2021-07-15 12:27:49.000000000', 'files': ['openstack/tests/unit/config/test_from_session.py', 'openstack/tests/unit/identity/v3/test_role_domain_user_assignment.py', 'openstack/tests/unit/identity/v3/test_role_project_user_assignment.py', 'openstack/tests/unit/identity/v2/test_user.py', 'openstack/tests/unit/identity/v3/test_mapping.py', 'openstack/tests/unit/identity/v3/test_endpoint.py', 'openstack/tests/unit/identity/v3/test_role_project_group_assignment.py', 'openstack/tests/unit/accelerator/v2/test_accelerator_request.py', 'openstack/tests/unit/accelerator/v2/test_device_profile.py', 'openstack/tests/unit/accelerator/v2/test_device.py', 'openstack/tests/unit/identity/v3/test_user.py', 'openstack/tests/unit/identity/v3/test_policy.py', 'openstack/tests/unit/identity/v3/test_service.py', 'openstack/tests/unit/accelerator/v2/test_proxy.py', 'openstack/tests/unit/identity/v3/test_group.py', 'openstack/tests/unit/identity/v3/test_limit.py', 'openstack/tests/unit/identity/v3/test_role_domain_group_assignment.py', 'openstack/tests/unit/identity/v3/test_domain.py', 'openstack/tests/unit/identity/v3/test_role.py', 'openstack/tests/unit/identity/v3/test_role_assignment.py', 'openstack/tests/unit/identity/v2/test_role.py', 'openstack/tests/unit/identity/v3/test_identity_provider.py', 'openstack/tests/unit/identity/v3/test_project.py', 'openstack/tests/unit/identity/v3/test_registered_limit.py', 'openstack/tests/unit/accelerator/test_version.py', 'openstack/tests/unit/config/test_from_conf.py', 'openstack/tests/unit/identity/v2/test_tenant.py', 'openstack/tests/unit/identity/v3/test_federation_protocol.py', 'openstack/tests/unit/identity/v3/test_region.py', 'openstack/tests/unit/identity/v3/test_credential.py', 'openstack/tests/unit/accelerator/v2/test_deployable.py', 'openstack/tests/unit/config/test_environ.py', 'openstack/tests/unit/identity/v3/test_application_credential.py', 'tox.ini', 'openstack/tests/unit/identity/v3/test_trust.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b86d3a8c3bf4e9854b0d460565acd89dfaa8bf6e', 'message': 'Fix import order in identity tests\n\nRemove tox filter.\n\nPlus fix some other import orders that were already fixed in master.\n\nChange-Id: I810a5c6718df520323568cb74ad7fcdc2992f85e\n'}]",0,794728,b86d3a8c3bf4e9854b0d460565acd89dfaa8bf6e,24,2,6,23851,,,0,"Fix import order in identity tests

Remove tox filter.

Plus fix some other import orders that were already fixed in master.

Change-Id: I810a5c6718df520323568cb74ad7fcdc2992f85e
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/28/794728/6 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/identity/v3/test_role_domain_user_assignment.py', 'openstack/tests/unit/identity/v3/test_role_project_user_assignment.py', 'openstack/tests/unit/identity/v2/test_user.py', 'openstack/tests/unit/identity/v3/test_mapping.py', 'openstack/tests/unit/identity/v3/test_endpoint.py', 'openstack/tests/unit/identity/v3/test_role_project_group_assignment.py', 'openstack/tests/unit/identity/v3/test_user.py', 'openstack/tests/unit/identity/v3/test_policy.py', 'openstack/tests/unit/identity/v3/test_service.py', 'openstack/tests/unit/identity/v3/test_group.py', 'openstack/tests/unit/identity/v3/test_limit.py', 'openstack/tests/unit/identity/v3/test_role_domain_group_assignment.py', 'openstack/tests/unit/identity/v3/test_domain.py', 'openstack/tests/unit/identity/v3/test_role.py', 'openstack/tests/unit/identity/v3/test_role_assignment.py', 'openstack/tests/unit/identity/v2/test_role.py', 'openstack/tests/unit/identity/v3/test_identity_provider.py', 'openstack/tests/unit/identity/v3/test_project.py', 'openstack/tests/unit/identity/v3/test_registered_limit.py', 'openstack/tests/unit/identity/v2/test_tenant.py', 'openstack/tests/unit/identity/v3/test_federation_protocol.py', 'openstack/tests/unit/identity/v3/test_region.py', 'openstack/tests/unit/identity/v3/test_credential.py', 'openstack/tests/unit/identity/v3/test_application_credential.py', 'tox.ini', 'openstack/tests/unit/identity/v3/test_trust.py']",26,8f6bc59dcd37bf6a83963e23ecb1e4e10bf2f2c6,sdk_cloud_identity,from openstack.identity.v3 import trust,from openstack.identity.v3 import trust,28,28
openstack%2Fsushy-oem-idrac~master~I2e6521c9f0c6a0885692edc485659b420828a2d2,openstack/sushy-oem-idrac,master,I2e6521c9f0c6a0885692edc485659b420828a2d2,Use TOX_CONSTRAINTS_FILE,MERGED,2021-06-04 01:19:35.000000000,2021-07-15 17:07:45.000000000,2021-07-15 17:07:45.000000000,"[{'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}, {'_account_id': 27909}]","[{'number': 1, 'created': '2021-06-04 01:19:35.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/ecbeca68468f8ea3334f5b96cb6baf02913af5dd', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\nThis allows to use upper-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: I2e6521c9f0c6a0885692edc485659b420828a2d2\n'}]",0,794689,ecbeca68468f8ea3334f5b96cb6baf02913af5dd,8,4,1,31616,,,0,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: I2e6521c9f0c6a0885692edc485659b420828a2d2
",git fetch https://review.opendev.org/openstack/sushy-oem-idrac refs/changes/89/794689/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ecbeca68468f8ea3334f5b96cb6baf02913af5dd,, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fcookbook-openstack-integration-test~stable%2Fstein~I5b0a6783f0602983baeaf8b0e9bb90f150212644,openstack/cookbook-openstack-integration-test,stable/stein,I5b0a6783f0602983baeaf8b0e9bb90f150212644,Loosen version pin to bind cookbook,MERGED,2021-07-14 22:38:59.000000000,2021-07-15 16:53:32.000000000,2021-07-15 16:53:32.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-14 22:38:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-integration-test/commit/df23950bda35b0ef071899399d29f7a3d71adb6f', 'message': ""Loosen version pin to bind cookbook\n\nThey still haven't released the cookbook however they've updated the release to\n3.1.0 which is breaking tests globally. This should resolve the issue.\n\nAlso apply fixes for using the resolver 3.x cookbook.\n\nChange-Id: I5b0a6783f0602983baeaf8b0e9bb90f150212644\nDepends-On: https://review.opendev.org/c/openstack/openstack-chef/+/779389\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n""}, {'number': 2, 'created': '2021-07-14 23:32:12.000000000', 'files': ['spec/dns_spec.rb', 'recipes/dns.rb', 'metadata.rb', 'spec/dns-rhel_spec.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-integration-test/commit/6214f4a2d10a32bacdf59cbe87fbeace5fd701ce', 'message': ""Loosen version pin to bind cookbook\n\nThey still haven't released the cookbook however they've updated the release to\n3.1.0 which is breaking tests globally. This should resolve the issue.\n\nAlso apply fixes for using the resolver 3.x cookbook.\n\nChange-Id: I5b0a6783f0602983baeaf8b0e9bb90f150212644\nDepends-On: https://review.opendev.org/c/openstack/openstack-chef/+/800841\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n""}]",0,800851,6214f4a2d10a32bacdf59cbe87fbeace5fd701ce,10,2,2,21961,,,0,"Loosen version pin to bind cookbook

They still haven't released the cookbook however they've updated the release to
3.1.0 which is breaking tests globally. This should resolve the issue.

Also apply fixes for using the resolver 3.x cookbook.

Change-Id: I5b0a6783f0602983baeaf8b0e9bb90f150212644
Depends-On: https://review.opendev.org/c/openstack/openstack-chef/+/800841
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-integration-test refs/changes/51/800851/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/dns_spec.rb', 'recipes/dns.rb', 'metadata.rb', 'spec/dns-rhel_spec.rb']",4,df23950bda35b0ef071899399d29f7a3d71adb6f,, it do expect(chef_run).to set_resolver_config('/etc/resolv.conf').with( nameservers: %w(1.0.0.1 8.8.8.8) )," [ /^nameserver 1.0.0.1$/, /^nameserver 8.8.8.8$/, ].each do |line| it do expect(chef_run).to render_file('/etc/resolv.conf').with_content(line) end",14,20
openstack%2Fheat-translator~master~I79d513ce982dcaa9196371d89e326570998e08fd,openstack/heat-translator,master,I79d513ce982dcaa9196371d89e326570998e08fd,[ussuri][goal] Update contributor documentation,MERGED,2021-05-14 20:58:12.000000000,2021-07-15 16:50:19.000000000,2021-07-15 16:49:05.000000000,"[{'_account_id': 8556}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 32029}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-05-14 20:58:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/5a455b4bc4c23a15a07512c27f27c8bdff06a7c5', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38524\nChange-Id: I79d513ce982dcaa9196371d89e326570998e08fd\n'}, {'number': 2, 'created': '2021-05-31 20:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/cc81eb17258968438d82307c3b87b09a659868c5', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38524\nChange-Id: I79d513ce982dcaa9196371d89e326570998e08fd\n'}, {'number': 3, 'created': '2021-06-02 15:49:48.000000000', 'files': ['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/0b8fba577f4ba2ff5131f71fc72ef846400ccc88', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38524\nChange-Id: I79d513ce982dcaa9196371d89e326570998e08fd\n'}]",4,791551,0b8fba577f4ba2ff5131f71fc72ef846400ccc88,18,6,3,8556,,,0,"[ussuri][goal] Update contributor documentation

This patch updates/adds the contributor documentation to follow
the guidelines of the Ussuri cycle community goal[1].

[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html

Story: #2007236
Task: #38524
Change-Id: I79d513ce982dcaa9196371d89e326570998e08fd
",git fetch https://review.opendev.org/openstack/heat-translator refs/changes/51/791551/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/index.rst']",3,5a455b4bc4c23a15a07512c27f27c8bdff06a7c5,project-ptl-and-contrib-docs,For Contributors ================ * If you are a new contributor to heat-translator please refer: :doc:`contributor/contributing` .. toctree:: :hidden: contributor/contributing ,,70,10
openstack%2Fkeystone~master~I7210848d45fb8651db63f1be8a194ce0ffc2bfac,openstack/keystone,master,I7210848d45fb8651db63f1be8a194ce0ffc2bfac,docs: Fix failing build,MERGED,2021-07-06 15:22:24.000000000,2021-07-15 16:50:05.000000000,2021-07-15 16:47:37.000000000,"[{'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-06 15:22:24.000000000', 'files': ['keystone/common/sql/core.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/123691fe53df085310889fb4aeec06cbc39ed217', 'message': ""docs: Fix failing build\n\nThis is failing because the docstring for this attribute that we're\ninheriting from sqlalchemy refers to a 'ref' that doesn't exist in our\ntree. The solution is to simply override the docstring.\n\nChange-Id: I7210848d45fb8651db63f1be8a194ce0ffc2bfac\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",1,799682,123691fe53df085310889fb4aeec06cbc39ed217,11,5,1,15334,,,0,"docs: Fix failing build

This is failing because the docstring for this attribute that we're
inheriting from sqlalchemy refers to a 'ref' that doesn't exist in our
tree. The solution is to simply override the docstring.

Change-Id: I7210848d45fb8651db63f1be8a194ce0ffc2bfac
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/82/799682/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/common/sql/core.py'],1,123691fe53df085310889fb4aeec06cbc39ed217,oslo.db-10.0.0," """"""This type is safe to cache."""""" """"""This type is safe to cache.""""""",,2,0
openstack%2Fgovernance~master~Iaa3ad26f4bbaa4c3693b16a87e7d938862c59ab0,openstack/governance,master,Iaa3ad26f4bbaa4c3693b16a87e7d938862c59ab0,Create repo for Hashicorp Vault deployment,MERGED,2021-07-07 13:24:29.000000000,2021-07-15 16:19:09.000000000,2021-07-15 16:17:19.000000000,"[{'_account_id': 8556}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-07 13:24:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/55e1b0ff1e8fb6c772b386efb2ec62ec7a223d9d', 'message': 'Create repo for Hashicorp Vault deployment\n\nAs part of implementation of the spec [1] we aim to offer basic Vault\ndeployment out of the box as a tooling required for providing such\nkind of feature.\n\n[1] https://specs.openstack.org/openstack/openstack-ansible-specs/specs/xena/protecting-plaintext-configs.html\n\nChange-Id: Iaa3ad26f4bbaa4c3693b16a87e7d938862c59ab0\n'}, {'number': 2, 'created': '2021-07-07 13:25:08.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/1d151ea73e7546db64652e7664dbfcc38738384d', 'message': 'Create repo for Hashicorp Vault deployment\n\nAs part of implementation of the spec [1] we aim to offer basic Vault\ndeployment out of the box as a tooling required for providing such\nkind of feature.\n\n[1] https://specs.openstack.org/openstack/openstack-ansible-specs/specs/xena/protecting-plaintext-configs.html\n\nDepends-On: https://review.opendev.org/c/openstack/project-config/+/799822\nChange-Id: Iaa3ad26f4bbaa4c3693b16a87e7d938862c59ab0\n'}]",0,799826,1d151ea73e7546db64652e7664dbfcc38738384d,14,3,2,28619,,,0,"Create repo for Hashicorp Vault deployment

As part of implementation of the spec [1] we aim to offer basic Vault
deployment out of the box as a tooling required for providing such
kind of feature.

[1] https://specs.openstack.org/openstack/openstack-ansible-specs/specs/xena/protecting-plaintext-configs.html

Depends-On: https://review.opendev.org/c/openstack/project-config/+/799822
Change-Id: Iaa3ad26f4bbaa4c3693b16a87e7d938862c59ab0
",git fetch https://review.opendev.org/openstack/governance refs/changes/26/799826/2 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,55e1b0ff1e8fb6c772b386efb2ec62ec7a223d9d,project-update, - openstack/ansible-role-vault,,1,0
openstack%2Ftripleo-heat-templates~master~Ifa66a0805cba5c5a095731bda5e4f8c31626ed96,openstack/tripleo-heat-templates,master,Ifa66a0805cba5c5a095731bda5e4f8c31626ed96,Fix playbook_dir Ansible Warning,MERGED,2021-07-08 16:07:05.000000000,2021-07-15 16:13:20.000000000,2021-07-15 16:13:20.000000000,"[{'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-08 16:07:05.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d98d6d1f5ccd45f0a7724fc79e79bf68e654d724', 'message': 'Fix playbook_dir Ansible Warning\n\nThis change removes the jinja found within the conditionals used in our\ndeploy steps playbook which will resolve an Ansible warning seen when\nrunning a deployment.\n\nChange-Id: Ifa66a0805cba5c5a095731bda5e4f8c31626ed96\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,800075,d98d6d1f5ccd45f0a7724fc79e79bf68e654d724,9,4,1,7353,,,0,"Fix playbook_dir Ansible Warning

This change removes the jinja found within the conditionals used in our
deploy steps playbook which will resolve an Ansible warning seen when
running a deployment.

Change-Id: Ifa66a0805cba5c5a095731bda5e4f8c31626ed96
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/75/800075/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,d98d6d1f5ccd45f0a7724fc79e79bf68e654d724,tinkering-netv2, - playbook_dir ~ '/external_deploy_steps_tasks_step0.yaml' is exists - playbook_dir ~ '/{{role.name}}/pre_deploy_step_tasks.yaml' is exists - playbook_dir ~ '/external_deploy_steps_tasks_step{{step}}.yaml' is exists - playbook_dir ~ '/{{role.name}}/deploy_steps_tasks_step{{step}}.yaml' is exists," - ""'{% raw %}{{playbook_dir}}{% endraw %}/external_deploy_steps_tasks_step0.yaml' is exists"" - ""'{% raw %}{{playbook_dir}}{% endraw %}/{{role.name}}/pre_deploy_step_tasks.yaml' is exists"" - ""'{% raw %}{{playbook_dir}}{% endraw %}/external_deploy_steps_tasks_step{{step}}.yaml' is exists"" - ""'{% raw %}{{playbook_dir}}{% endraw %}/{{role.name}}/deploy_steps_tasks_step{{step}}.yaml' is exists""",4,4
openstack%2Fmanila-ui~stable%2Fqueens~Ifcd05c9bd92f1b156c26dbaba2eff3e033e59e35,openstack/manila-ui,stable/queens,Ifcd05c9bd92f1b156c26dbaba2eff3e033e59e35,Define horizon-django jobs,ABANDONED,2021-07-12 18:53:46.000000000,2021-07-15 16:07:57.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-07-12 18:53:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/ecc5044c71be022aa78b278bc752cc25bf069a97', 'message': 'Define horizon-django jobs\n\nmanila-ui stable/queens branch uses horizon-django job template [1] to run\ndjango-jobs but horizon team decided to move stable/queens to EOL [2] and\nas mentioned in [3] doc. we either need to removes that job or move the\njob definition in stable/queens manila-ui branch. So this patch imports\nthe required zuul job from horizon ``.zuul.yaml`` .\n\n[1] https://github.com/openstack/horizon/blob/stable/queens/.zuul.yaml#L114-L115\n[2] https://review.opendev.org/c/openstack/releases/+/799543\n[3] https://docs.openstack.org/project-team-guide/stable-branches.html#end-of-life\n\nChange-Id: Ifcd05c9bd92f1b156c26dbaba2eff3e033e59e35\n'}, {'number': 2, 'created': '2021-07-12 19:02:30.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/15c851436b918b414c65c72eb1c21cbf1919f26e', 'message': 'Define horizon-django jobs\n\nmanila-ui stable/queens branch uses horizon-django job template [1] to run\ndjango-jobs but horizon team decided to move stable/queens to EOL [2] and\nas mentioned in [3] doc. we either need to removes that job or move the\njob definition in stable/queens manila-ui branch. So this patch imports\nthe required zuul job from horizon ``.zuul.yaml`` .\n\n[1] https://github.com/openstack/horizon/blob/stable/queens/.zuul.yaml#L114-L115\n[2] https://review.opendev.org/c/openstack/releases/+/799543\n[3] https://docs.openstack.org/project-team-guide/stable-branches.html#end-of-life\n\nChange-Id: Ifcd05c9bd92f1b156c26dbaba2eff3e033e59e35\n'}]",6,800544,15c851436b918b414c65c72eb1c21cbf1919f26e,8,2,2,29313,,,0,"Define horizon-django jobs

manila-ui stable/queens branch uses horizon-django job template [1] to run
django-jobs but horizon team decided to move stable/queens to EOL [2] and
as mentioned in [3] doc. we either need to removes that job or move the
job definition in stable/queens manila-ui branch. So this patch imports
the required zuul job from horizon ``.zuul.yaml`` .

[1] https://github.com/openstack/horizon/blob/stable/queens/.zuul.yaml#L114-L115
[2] https://review.opendev.org/c/openstack/releases/+/799543
[3] https://docs.openstack.org/project-team-guide/stable-branches.html#end-of-life

Change-Id: Ifcd05c9bd92f1b156c26dbaba2eff3e033e59e35
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/44/800544/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ecc5044c71be022aa78b278bc752cc25bf069a97,,- job: name: horizon-openstack-tox-base parent: openstack-tox irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ - ^horizon/locale/.*$ - ^openstack_dashboard/locale/.*$ - ^openstack_auth/locale/.*$ - job: name: horizon-openstack-tox-py27dj19 parent: horizon-openstack-tox-base vars: tox_envlist: py27dj19 - job: name: horizon-openstack-tox-py27dj110 parent: horizon-openstack-tox-base vars: tox_envlist: py27dj110 ,,23,0
openstack%2Fproject-config~master~I75d2bddace8ce67affcedb0122feb593c70700a2,openstack/project-config,master,I75d2bddace8ce67affcedb0122feb593c70700a2,Normalize projects.yaml,MERGED,2021-07-15 06:12:25.000000000,2021-07-15 16:01:57.000000000,2021-07-15 15:58:02.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-15 06:12:25.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/01d16dad9920be0a2958ae2975e0a95a0b461182', 'message': 'Normalize projects.yaml\n\nChange-Id: I75d2bddace8ce67affcedb0122feb593c70700a2\n'}]",0,800884,01d16dad9920be0a2958ae2975e0a95a0b461182,7,2,1,11131,,,0,"Normalize projects.yaml

Change-Id: I75d2bddace8ce67affcedb0122feb593c70700a2
",git fetch https://review.opendev.org/openstack/project-config refs/changes/84/800884/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,01d16dad9920be0a2958ae2975e0a95a0b461182,project-yaml-normalization," description: DEPRECATED, Pieces of diskimage-builder that are useful without the full project description: DEPRECATED, A utility to run diskimage-builder undercloud elements on a running host description: DEPRECATED, Utility to launch and manage containers using YAML based configuration data"," description: DEPRECATED, Pieces of diskimage-builder that are useful without the full project description: DEPRECATED, A utility to run diskimage-builder undercloud elements on a running host description: DEPRECATED, Utility to launch and manage containers using YAML based configuration data",6,5
openstack%2Fgovernance-sigs~master~Ie6fb35683cc1b9d4cbec099b86453a9f2fae67fd,openstack/governance-sigs,master,Ie6fb35683cc1b9d4cbec099b86453a9f2fae67fd,Moving IRC network reference to OFTC,MERGED,2021-07-08 23:39:10.000000000,2021-07-15 15:51:35.000000000,2021-07-15 15:49:33.000000000,"[{'_account_id': 308}, {'_account_id': 8556}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 23:39:10.000000000', 'files': ['doc/source/tact-sig.rst'], 'web_link': 'https://opendev.org/openstack/governance-sigs/commit/1ef4d29e97b311abaf21e005929bc4350a5aefc2', 'message': 'Moving IRC network reference to OFTC\n\nChange-Id: Ie6fb35683cc1b9d4cbec099b86453a9f2fae67fd\n'}]",0,800135,1ef4d29e97b311abaf21e005929bc4350a5aefc2,9,4,1,8556,,,0,"Moving IRC network reference to OFTC

Change-Id: Ie6fb35683cc1b9d4cbec099b86453a9f2fae67fd
",git fetch https://review.opendev.org/openstack/governance-sigs refs/changes/35/800135/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/tact-sig.rst'],1,1ef4d29e97b311abaf21e005929bc4350a5aefc2,oftc,* #openstack-infra channel on the OFTC IRC network,* #openstack-infra channel on the Freenode IRC network,1,1
openstack%2Fopenstack-helm-images~master~I5fc1f7ef96cdac9576dcf011567b26088530453a,openstack/openstack-helm-images,master,I5fc1f7ef96cdac9576dcf011567b26088530453a,Add monasca-notification,ABANDONED,2021-06-24 17:56:50.000000000,2021-07-15 15:40:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-24 17:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/865b7257aee1d93a3fd8c1a9d79508f84995dd4e', 'message': 'Add monasca-notification\n\nChange-Id: I5fc1f7ef96cdac9576dcf011567b26088530453a\n'}, {'number': 2, 'created': '2021-06-25 10:39:50.000000000', 'files': ['zuul.d/openstack-loci.yaml', 'openstack/loci/build.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/be73f1b4e1af73d803eb3c8f2969728e2942ed72', 'message': 'Add monasca-notification\n\nChange-Id: I5fc1f7ef96cdac9576dcf011567b26088530453a\n'}]",0,798002,be73f1b4e1af73d803eb3c8f2969728e2942ed72,5,1,2,31746,,,0,"Add monasca-notification

Change-Id: I5fc1f7ef96cdac9576dcf011567b26088530453a
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/02/798002/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/openstack-loci.yaml', 'openstack/loci/build.sh']",2,865b7257aee1d93a3fd8c1a9d79508f84995dd4e,,"monasca_notification_profile=${monasca_notification_profile:-""'monasca api'""} monasca_notification_pip_packages=${monasca_notification_pip_packages:-""sqlalchemy""}",,18,0
openstack%2Fopenstack-helm-images~master~I03292fc10874efacedb2c00339362d8ea43850e1,openstack/openstack-helm-images,master,I03292fc10874efacedb2c00339362d8ea43850e1,Add monasca-persister,ABANDONED,2021-06-25 18:56:10.000000000,2021-07-15 15:40:31.000000000,,"[{'_account_id': 8898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-25 18:56:10.000000000', 'files': ['zuul.d/openstack-loci.yaml', 'openstack/loci/build.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/69573470d07b3aec590c2411f7f347c7b89b2d12', 'message': 'Add monasca-persister\n\nChange-Id: I03292fc10874efacedb2c00339362d8ea43850e1\n'}]",0,798150,69573470d07b3aec590c2411f7f347c7b89b2d12,4,2,1,31746,,,0,"Add monasca-persister

Change-Id: I03292fc10874efacedb2c00339362d8ea43850e1
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/50/798150/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/openstack-loci.yaml', 'openstack/loci/build.sh']",2,69573470d07b3aec590c2411f7f347c7b89b2d12,,"monasca_persister_profile=${monasca_persister_profile:-""'monasca api'""} monasca_persister_pip_packages=${monasca_persister_pip_packages:-""influxdb cassandra-driver""}",,18,0
openstack%2Floci~master~Ic941dd4a9e794b73f36d59b84b85b4a36857866f,openstack/loci,master,Ic941dd4a9e794b73f36d59b84b85b4a36857866f,Add monasca-persister,ABANDONED,2021-06-25 18:48:02.000000000,2021-07-15 15:40:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-25 18:48:02.000000000', 'files': ['.zuul.d/monasca.yaml'], 'web_link': 'https://opendev.org/openstack/loci/commit/6dec3900f92d01450b38657f4a16a9efad8d99b2', 'message': 'Add monasca-persister\n\nChange-Id: Ic941dd4a9e794b73f36d59b84b85b4a36857866f\n'}]",0,798148,6dec3900f92d01450b38657f4a16a9efad8d99b2,3,1,1,31746,,,0,"Add monasca-persister

Change-Id: Ic941dd4a9e794b73f36d59b84b85b4a36857866f
",git fetch https://review.opendev.org/openstack/loci refs/changes/48/798148/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/monasca.yaml'],1,6dec3900f92d01450b38657f4a16a9efad8d99b2,, - loci-monasca-persister - loci-monasca-persister - publish-loci-monasca-persister - job: name: loci-monasca-persister parent: loci-base vars: project: monasca-persister required-projects: - openstack/loci - openstack/requirements - openstack/monasca-persister - job: name: publish-loci-monasca-persister parent: loci-monasca-persister post-run: playbooks/push.yaml secrets: - loci_docker_login,,20,0
openstack%2Floci~master~Iaab31b86cca915f13e2001bf1f053294d6aa4418,openstack/loci,master,Iaab31b86cca915f13e2001bf1f053294d6aa4418,Add monasca-notification,ABANDONED,2021-06-24 17:47:33.000000000,2021-07-15 15:40:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-24 17:47:33.000000000', 'files': ['.zuul.d/monasca.yaml'], 'web_link': 'https://opendev.org/openstack/loci/commit/a8b2d34398feafb1da6fdfc039b7b0b178a65d7a', 'message': 'Add monasca-notification\n\nChange-Id: Iaab31b86cca915f13e2001bf1f053294d6aa4418\n'}]",0,797999,a8b2d34398feafb1da6fdfc039b7b0b178a65d7a,7,1,1,31746,,,0,"Add monasca-notification

Change-Id: Iaab31b86cca915f13e2001bf1f053294d6aa4418
",git fetch https://review.opendev.org/openstack/loci refs/changes/99/797999/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/monasca.yaml'],1,a8b2d34398feafb1da6fdfc039b7b0b178a65d7a,, - loci-monasca-notification - loci-monasca-notification - publish-loci-monasca-notification - job: name: loci-monasca-notification parent: loci-base vars: project: monasca-notification required-projects: - openstack/loci - openstack/requirements - openstack/monasca-notification - job: name: publish-loci-monasca-notification parent: loci-monasca-notification post-run: playbooks/push.yaml secrets: - loci_docker_login,,20,0
openstack%2Fpython-tripleoclient~master~Idc66d711ca7f4ce6369e38526257b887b9bc7dfd,openstack/python-tripleoclient,master,Idc66d711ca7f4ce6369e38526257b887b9bc7dfd,Use same config download method as overcloud for tripleo deploy,MERGED,2021-06-25 20:58:55.000000000,2021-07-15 15:28:51.000000000,2021-06-28 21:18:18.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-25 20:58:55.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/429055ef400a62f7e470d21c0053211fed536979', 'message': ""Use same config download method as overcloud for tripleo deploy\n\nWe currently re-implement what the download_config function does in\ntripleo-common. Let's just reuse that function to align better with what\nthe overcloud does.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/798153\nChange-Id: Idc66d711ca7f4ce6369e38526257b887b9bc7dfd\n""}]",0,798161,429055ef400a62f7e470d21c0053211fed536979,9,3,1,14985,,,0,"Use same config download method as overcloud for tripleo deploy

We currently re-implement what the download_config function does in
tripleo-common. Let's just reuse that function to align better with what
the overcloud does.

Depends-On: https://review.opendev.org/c/openstack/tripleo-common/+/798153
Change-Id: Idc66d711ca7f4ce6369e38526257b887b9bc7dfd
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/61/798161/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_deploy.py'],1,429055ef400a62f7e470d21c0053211fed536979,runner-dirs," stack_config.download_config(stack_name, self.tmp_ansible_dir) # copy inventory file to Runner friendly path shutil.copyfile(inv_path, os.path.join(self.tmp_ansible_dir, 'inventory', 'tripleo'))"," stack_config.write_config(stack_config.fetch_config(stack_name), stack_name, self.tmp_ansible_dir)",4,3
openstack%2Fnova~stable%2Fstein~I32e6214568bb57f7613ddeba2c2c46da0320fabc,openstack/nova,stable/stein,I32e6214568bb57f7613ddeba2c2c46da0320fabc,Error anti-affinity violation on migrations,MERGED,2021-07-08 21:09:55.000000000,2021-07-15 15:26:46.000000000,2021-07-15 15:25:01.000000000,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 21:09:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/377b55015b028f6e510a694c60a1cf5c51d6eda7', 'message': 'Error anti-affinity violation on migrations\n\nError-out the migrations (cold and live) whenever the\nanti-affinity policy is violated. This addresses\nviolations when multiple concurrent migrations are\nrequested.\n\nAdded detection on:\n- prep_resize\n- check_can_live_migration_destination\n- pre_live_migration\n\nThe improved method of detection now locks based on group_id\nand considers other migrations in-progress as well.\n\nConflicts:\n    nova/tests/unit/compute/test_compute_mgr.py\n\nCherry-picked pulled many non-related newer unit tests.\nCleaned those up and adjusted:\n- Removed 2 extra params of check_can_live_migrate_destination\n  invocations\n- Adjusted request_spec variable of\n  unit test test_prep_resize_errors_migration\n\nCloses-bug: #1821755\nChange-Id: I32e6214568bb57f7613ddeba2c2c46da0320fabc\n(cherry picked from commit 33c8af1f8c46c9c37fcc28fb3409fbd3a78ae39f)\n(cherry picked from commit 8b62a4ec9bf617dfb2da046c25a9f76b33516508)\n(cherry picked from commit 6ede6df7f41db809de19e124d3d4994180598f19)\n(cherry picked from commit bf90a1e06181f6b328b967124e538c6e2579b2e5)\n(cherry picked from commit a22d1b04de9e6ebc33b5ab9871b86f8e4022e7a9)\n'}, {'number': 2, 'created': '2021-07-09 18:23:26.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'releasenotes/notes/bug-1821755-7bd03319e34b6b10.yaml', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5fa8718fe57e59b178d081e2068109151fdc3926', 'message': 'Error anti-affinity violation on migrations\n\nError-out the migrations (cold and live) whenever the\nanti-affinity policy is violated. This addresses\nviolations when multiple concurrent migrations are\nrequested.\n\nAdded detection on:\n- prep_resize\n- check_can_live_migration_destination\n- pre_live_migration\n\nThe improved method of detection now locks based on group_id\nand considers other migrations in-progress as well.\n\nConflicts:\n    nova/tests/unit/compute/test_compute_mgr.py\n\nNOTE: Conflicts are because the following changes are not in Stein:\n\n  * Ia00277ac8a68a635db85f9e0ce2c6d8df396e0d8 (Set migrate_data.vifs only when using multiple port bindings)\n  * I3c917796cb30d11e7db1e235ac1625d2a743aaa2 (NUMA live migration support)\n  * I2f3434f06489d8b6cb80933bcb1ea1e841049ba5 (Support migrating SRIOV port with bandwidth)\n  * I292a0e2d840bbf657ba6d0932f9a3decbcb2778f ([FUP] Follow-up patch for SR-IOV live migration)\n  * I734cc01dce13f9e75a16639faf890ddb1661b7eb (SR-IOV Live migration indirect port support)\n\nSummary of conflicts:\n\nCherry-picked pulled many non-related newer unit tests.\nCleaned those up and adjusted:\n- Removed 2 extra params of check_can_live_migrate_destination\n  invocations.\n- Adjusted request_spec variable of\n  unit test test_prep_resize_errors_migration.\n- Removed extra tab spacing on a unit test.\n\nCloses-bug: #1821755\nChange-Id: I32e6214568bb57f7613ddeba2c2c46da0320fabc\n(cherry picked from commit 33c8af1f8c46c9c37fcc28fb3409fbd3a78ae39f)\n(cherry picked from commit 8b62a4ec9bf617dfb2da046c25a9f76b33516508)\n(cherry picked from commit 6ede6df7f41db809de19e124d3d4994180598f19)\n(cherry picked from commit bf90a1e06181f6b328b967124e538c6e2579b2e5)\n(cherry picked from commit a22d1b04de9e6ebc33b5ab9871b86f8e4022e7a9)\n'}]",9,800114,5fa8718fe57e59b178d081e2068109151fdc3926,15,3,2,14567,,,0,"Error anti-affinity violation on migrations

Error-out the migrations (cold and live) whenever the
anti-affinity policy is violated. This addresses
violations when multiple concurrent migrations are
requested.

Added detection on:
- prep_resize
- check_can_live_migration_destination
- pre_live_migration

The improved method of detection now locks based on group_id
and considers other migrations in-progress as well.

Conflicts:
    nova/tests/unit/compute/test_compute_mgr.py

NOTE: Conflicts are because the following changes are not in Stein:

  * Ia00277ac8a68a635db85f9e0ce2c6d8df396e0d8 (Set migrate_data.vifs only when using multiple port bindings)
  * I3c917796cb30d11e7db1e235ac1625d2a743aaa2 (NUMA live migration support)
  * I2f3434f06489d8b6cb80933bcb1ea1e841049ba5 (Support migrating SRIOV port with bandwidth)
  * I292a0e2d840bbf657ba6d0932f9a3decbcb2778f ([FUP] Follow-up patch for SR-IOV live migration)
  * I734cc01dce13f9e75a16639faf890ddb1661b7eb (SR-IOV Live migration indirect port support)

Summary of conflicts:

Cherry-picked pulled many non-related newer unit tests.
Cleaned those up and adjusted:
- Removed 2 extra params of check_can_live_migrate_destination
  invocations.
- Adjusted request_spec variable of
  unit test test_prep_resize_errors_migration.
- Removed extra tab spacing on a unit test.

Closes-bug: #1821755
Change-Id: I32e6214568bb57f7613ddeba2c2c46da0320fabc
(cherry picked from commit 33c8af1f8c46c9c37fcc28fb3409fbd3a78ae39f)
(cherry picked from commit 8b62a4ec9bf617dfb2da046c25a9f76b33516508)
(cherry picked from commit 6ede6df7f41db809de19e124d3d4994180598f19)
(cherry picked from commit bf90a1e06181f6b328b967124e538c6e2579b2e5)
(cherry picked from commit a22d1b04de9e6ebc33b5ab9871b86f8e4022e7a9)
",git fetch https://review.opendev.org/openstack/nova refs/changes/14/800114/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'releasenotes/notes/bug-1821755-7bd03319e34b6b10.yaml', 'nova/compute/manager.py']",3,377b55015b028f6e510a694c60a1cf5c51d6eda7,bug/1821755," scheduler_hints=None): if CONF.workarounds.disable_group_policy_check_upcall: return if scheduler_hints is not None: # only go through here if scheduler_hints is provided, even if it # is empty. group_hint = scheduler_hints.get('group') if not group_hint: return else: # The RequestSpec stores scheduler_hints as key=list pairs so # we need to check the type on the value and pull the single # entry out. The API request schema validates that # the 'group' hint is a single value. if isinstance(group_hint, list): group_hint = group_hint[0] group = objects.InstanceGroup.get_by_hint(context, group_hint) else: # TODO(ganso): a call to DB can be saved by adding request_spec # to rpcapi payload of live_migration, pre_live_migration and # check_can_live_migrate_destination try: group = objects.InstanceGroup.get_by_instance_uuid( context, instance.uuid) except exception.InstanceGroupNotFound: return @utils.synchronized(group['uuid']) def _do_validation(context, instance, group): if group.policy and 'anti-affinity' == group.policy: # instances on host # instance param is just for logging, the nodename obtained is # not actually related to the instance at all nodename = self._get_nodename(instance) # instances being migrated to host migrations = ( objects.MigrationList.get_in_progress_by_host_and_node( context, self.host, nodename)) migration_vm_uuids = set([mig['instance_uuid'] for mig in migrations]) total_instances = migration_vm_uuids | ins_on_host # refresh group to get updated members within locked block group = objects.InstanceGroup.get_by_uuid(context, group['uuid']) members_on_host = (total_instances & members - set([instance.uuid])) # NOTE(ganso): The check for affinity below does not work and it # can easily be violated because the lock happens in different # compute hosts. # The only fix seems to be a DB lock to perform the check whenever # setting the host field to an instance. _do_validation(context, instance, group) scheduler_hints = self._get_scheduler_hints(filter_properties, request_spec) # Error out if this host cannot accept the new instance due # to anti-affinity. At this point the migration is already # in-progress, so this is the definitive moment to abort due to # the policy violation. Also, exploding here is covered by the # cleanup methods in except block. try: self._validate_instance_group_policy(context, instance, scheduler_hints) except exception.RescheduledException as e: raise exception.InstanceFaultRollback(inner_exception=e) # Error out if this host cannot accept the new instance due # to anti-affinity. This check at this moment is not very accurate, as # multiple requests may be happening concurrently and miss the lock, # but when it works it provides a better user experience by failing # earlier. Also, it should be safe to explode here, error becomes # NoValidHost and instance status remains ACTIVE. try: self._validate_instance_group_policy(ctxt, instance) except exception.RescheduledException as e: msg = (""Failed to validate instance group policy "" ""due to: {}"".format(e)) raise exception.MigrationPreCheckError(reason=msg) # Error out if this host cannot accept the new instance due # to anti-affinity. At this point the migration is already in-progress, # so this is the definitive moment to abort due to the policy # violation. Also, it should be safe to explode here. The instance # status remains ACTIVE, migration status failed. self._validate_instance_group_policy(context, instance) "," scheduler_hints): group_hint = scheduler_hints.get('group') if not group_hint: return # The RequestSpec stores scheduler_hints as key=list pairs so we need # to check the type on the value and pull the single entry out. The # API request schema validates that the 'group' hint is a single value. if isinstance(group_hint, list): group_hint = group_hint[0] @utils.synchronized(group_hint) def _do_validation(context, instance, group_hint): group = objects.InstanceGroup.get_by_hint(context, group_hint) if group.policy and 'anti-affinity' == group.policy: members_on_host = ins_on_host & members - set([instance.uuid]) if not CONF.workarounds.disable_group_policy_check_upcall: _do_validation(context, instance, group_hint)",205,26
openstack%2Fglance~master~Iea19cded1773640fc51274520c1de5d4845c1039,openstack/glance,master,Iea19cded1773640fc51274520c1de5d4845c1039,Move Cache management to API,ABANDONED,2019-07-26 06:30:50.000000000,2021-07-15 14:52:26.000000000,,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 6926}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-26 06:30:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/42637bb628c2eb99e90dc62d41fe002a7a31845e', 'message': 'PoC:Move Cache management to API\n\nAdded new endpoints /v2//cache and /v2/queued for caching operations.\nToDo:\nUpdate documentation\nUpdate API reference guide\n\nChange-Id: Iea19cded1773640fc51274520c1de5d4845c1039\n'}, {'number': 2, 'created': '2019-08-02 09:29:59.000000000', 'files': ['glance/api/middleware/cache_manage.py', 'api-ref/source/v2/samples/cache-delete-all-response.json', 'api-ref/source/v2/cache.inc', 'api-ref/source/v2/cache-parameters.yaml', 'api-ref/source/v2/samples/cache-list-response.json', 'api-ref/source/v2/samples/queued-list-response.json', 'api-ref/source/v2/index.rst', 'glance/api/v2/cached_images.py', 'glance/image_cache/client.py', 'glance/tests/unit/api/middleware/test_cache_manage.py', 'api-ref/source/v2/samples/queued-delete-all-response.json'], 'web_link': 'https://opendev.org/openstack/glance/commit/c3c4ebc26cd56260a12fb499ccfc58d5957641b0', 'message': 'Move Cache management to API\n\nAdded new endpoints /v2/cache and /v2/queued for caching operations.\n\nDocImpact\nAPIImpact\nImplements: blueprint cache-api\nChange-Id: Iea19cded1773640fc51274520c1de5d4845c1039\n'}]",3,672876,c3c4ebc26cd56260a12fb499ccfc58d5957641b0,12,6,2,9303,,,0,"Move Cache management to API

Added new endpoints /v2/cache and /v2/queued for caching operations.

DocImpact
APIImpact
Implements: blueprint cache-api
Change-Id: Iea19cded1773640fc51274520c1de5d4845c1039
",git fetch https://review.opendev.org/openstack/glance refs/changes/76/672876/2 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/middleware/cache_manage.py', 'glance/api/v2/cached_images.py', 'glance/image_cache/client.py', 'glance/tests/unit/api/middleware/test_cache_manage.py']",4,42637bb628c2eb99e90dc62d41fe002a7a31845e,bp/cache-prefetcher," @mock.patch.object(cached_images.CacheController, ""index"") request = webob.Request.blank(""/v2/cached"") request = webob.Request.blank(""/v2/cached/"" + self.image_id, request = webob.Request.blank(""/v2/cached"", request = webob.Request.blank(""/v2/queued/"" + self.image_id, request = webob.Request.blank(""/v2/queued"") request = webob.Request.blank(""/v2/queued/"" + self.image_id, request = webob.Request.blank(""/v2/queued"","," @mock.patch.object(cached_images.CacheController, ""get_cached_images"") request = webob.Request.blank(""/v2/cached_images"") request = webob.Request.blank(""/v2/cached_images/"" + self.image_id, request = webob.Request.blank(""/v2/cached_images"", request = webob.Request.blank(""/v2/queued_images/"" + self.image_id, request = webob.Request.blank(""/v2/queued_images"") request = webob.Request.blank(""/v2/queued_images/"" + self.image_id, request = webob.Request.blank(""/v2/queued_images"",",39,33
openstack%2Fcyborg-specs~master~I3eac3bce8f918a0fb03b8169eba47eea4211a306,openstack/cyborg-specs,master,I3eac3bce8f918a0fb03b8169eba47eea4211a306,Add disable/enable device API.,MERGED,2021-05-12 08:19:55.000000000,2021-07-15 14:34:25.000000000,2021-07-15 14:33:04.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 28748}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-05-12 08:19:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/8dd9318457bba7ee93a935ec20d790b08573470f', 'message': 'Add disable/enable device API.\n\nChange-Id: I3eac3bce8f918a0fb03b8169eba47eea4211a306\n'}, {'number': 2, 'created': '2021-07-15 08:10:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/77661226dfb15b5116105c92cb65e340ab6bcce1', 'message': 'Add disable/enable device API.\n\nChange-Id: I3eac3bce8f918a0fb03b8169eba47eea4211a306\n'}, {'number': 3, 'created': '2021-07-15 09:24:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/1e1eefed0af5623131dc349f0790f23f63e532d5', 'message': 'Add disable/enable device API.\n\nChange-Id: I3eac3bce8f918a0fb03b8169eba47eea4211a306\n'}, {'number': 4, 'created': '2021-07-15 09:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/6d03c878c71be22d42ee50a415c06d93e5a2f58d', 'message': 'Add disable/enable device API.\n\nChange-Id: I3eac3bce8f918a0fb03b8169eba47eea4211a306\n'}, {'number': 5, 'created': '2021-07-15 13:14:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/15b3652602c7ec23c1ad66686a973be16d3bbb9a', 'message': 'Add disable/enable device API.\n\nChange-Id: I3eac3bce8f918a0fb03b8169eba47eea4211a306\n'}, {'number': 6, 'created': '2021-07-15 13:17:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/fcca8edab792718cf89ec8a19448040efad15ef1', 'message': 'Add disable/enable device API.\n\nChange-Id: I3eac3bce8f918a0fb03b8169eba47eea4211a306\n'}, {'number': 7, 'created': '2021-07-15 13:33:20.000000000', 'files': ['specs/xena/approved/disable-enable-device.rst'], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/36c362f7d95ddb2b5123c393efec8bb95064d9c8', 'message': 'Add disable/enable device API.\n\nChange-Id: I3eac3bce8f918a0fb03b8169eba47eea4211a306\n'}]",23,790917,36c362f7d95ddb2b5123c393efec8bb95064d9c8,25,4,7,25738,,,0,"Add disable/enable device API.

Change-Id: I3eac3bce8f918a0fb03b8169eba47eea4211a306
",git fetch https://review.opendev.org/openstack/cyborg-specs refs/changes/17/790917/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/xena/approved/disable-enable-device.rst'],1,8dd9318457bba7ee93a935ec20d790b08573470f,bp/disable-enable-device,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================= Add disable/enable device API ============================= https://blueprints.launchpad.net/openstack-cyborg/+spec/disable-enable-device Nowadays, Cyborg discover the device on compute node by each driver. All devices matching the spec of driver are discovered and reported to the Placement service as an accelerator resources. This spec proposes a set of new APIs which allow admin users to disable/enable a device. Problem description =================== Cyborg maintains a configuration files to configure the enabled drivers. Once the driver is enabled, the driver will discover all devices whose vendor ID, device ID match the driver's requirement. If admin user do not want all devices to be used by virtual machine, there is no way to disable a device currently. Use Cases --------- * Alice is an admin user, she don't want all FPGAs to be reported as an accelerator resources and to be allocated to a VM at the time. On the contrary, she want to program this FPGA by herself and then enable this device in OpenStack environment. Proposed change =============== * Since the API layer is modified, a new microversion should be introduced. * It also need a new field in Device object and data model to indicate the status of a device. If one device is disabled, the status should be set to ""maintaining"", and if the device is enabled, the status should be set to ""enabled"". The default value should be ""enabled"". * Cyborg need call Placement API to update the ""reserved"" field for the device. Alternatives ------------ None Data model impact ----------------- A new colume `device_status` should be added in Device's data model. REST API impact --------------- Disable Device API ^^^^^^^^^^^^^^^^^^ * Disable a device URL: ``/device/disable/{device_uuid}`` METHOD: ``POST`` Return: 200 Error Code: 404(the device is not found),403(the role is not admin) Enable Device API ^^^^^^^^^^^^^^^^^ * Enable a device URL: ``/device/enable/{device_uuid}`` METHOD: ``POST`` Return: 200 Error Code: 404(the device is not found),403(the role is not admin) Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Xinran Wang(xin-ran.wang@intel.com) Work Items ---------- * Add new colume `devices_status` for device table. * Add new API in DeviceController. * Update the RP `reserved` field according to the operation. * Add unit tests. Dependencies ============ None Testing ======= Need add unit test, and tempest test if needed. Documentation Impact ==================== Need add related docs. References ========== None History ======= Optional section intended to be used each time the spec is updated to describe new design, API or any database schema updated. Useful to let reader understand what's happened along the time. .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Xena - Introduced ",,146,0
openstack%2Fopenstacksdk~feature%2Fr1~If5f6ea5ee043601e46cf30d7c126cefaa2ba7d06,openstack/openstacksdk,feature/r1,If5f6ea5ee043601e46cf30d7c126cefaa2ba7d06,Fix identity role management,MERGED,2021-05-12 10:47:24.000000000,2021-07-15 14:23:45.000000000,2021-07-15 14:21:10.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-05-12 10:47:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/cc9b58c37fdddb6c022b7ad5586863040e76cbe0', 'message': 'Fix identity role management\n\nDomain role management was not exposed in the proxy. There were also no\nunit tests.\n- expose domain role mgmt in proxy\n- add unit tests in proxy for domain and project role mgmt\n- add unit tests in domain and proxy for role mgmt functions\n- fix return code for role mgmt to be 204, what is the proper one\n  (according to ref specs, tests of the cloud layer, etc)\n\nChange-Id: If5f6ea5ee043601e46cf30d7c126cefaa2ba7d06\n'}, {'number': 2, 'created': '2021-05-12 15:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f85efdaa9bd19126e1ed2f790249a82a8a3be136', 'message': 'Fix identity role management\n\nDomain role management was not exposed in the proxy. There were also no\nunit tests.\n- expose domain role mgmt in proxy\n- add unit tests in proxy for domain and project role mgmt\n- add unit tests in domain and proxy for role mgmt functions\n- fix return code for role mgmt to be 204, what is the proper one\n  (according to ref specs, tests of the cloud layer, etc)\n\nChange-Id: If5f6ea5ee043601e46cf30d7c126cefaa2ba7d06\n'}, {'number': 3, 'created': '2021-06-02 09:01:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/cc7304b95378bee22299691ea47051aed8ec9e1a', 'message': 'Fix identity role management\n\nDomain role management was not exposed in the proxy. There were also no\nunit tests.\n- expose domain role mgmt in proxy\n- add unit tests in proxy for domain and project role mgmt\n- add unit tests in domain and proxy for role mgmt functions\n- fix return code for role mgmt to be 204, what is the proper one\n  (according to ref specs, tests of the cloud layer, etc)\n\nChange-Id: If5f6ea5ee043601e46cf30d7c126cefaa2ba7d06\n'}, {'number': 4, 'created': '2021-06-02 11:15:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6c55808b5c6e696e82f8d16ecada2d621e06867e', 'message': 'Fix identity role management\n\nDomain role management was not exposed in the proxy. There were also no\nunit tests.\n- expose domain role mgmt in proxy\n- add unit tests in proxy for domain and project role mgmt\n- add unit tests in domain and proxy for role mgmt functions\n- fix return code for role mgmt to be 204, what is the proper one\n  (according to ref specs, tests of the cloud layer, etc)\n\nChange-Id: If5f6ea5ee043601e46cf30d7c126cefaa2ba7d06\n'}, {'number': 5, 'created': '2021-07-02 14:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4501153fdec31b51db782e589ff4ee62171b3442', 'message': 'Fix identity role management\n\nDomain role management was not exposed in the proxy. There were also no\nunit tests.\n- expose domain role mgmt in proxy\n- add unit tests in proxy for domain and project role mgmt\n- add unit tests in domain and proxy for role mgmt functions\n- fix return code for role mgmt to be 204, what is the proper one\n  (according to ref specs, tests of the cloud layer, etc)\n\nChange-Id: If5f6ea5ee043601e46cf30d7c126cefaa2ba7d06\n'}, {'number': 6, 'created': '2021-07-14 12:44:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c12b80edc4e58c3800a05d225acbed929d400fdc', 'message': 'Fix identity role management\n\nDomain role management was not exposed in the proxy. There were also no\nunit tests.\n- expose domain role mgmt in proxy\n- add unit tests in proxy for domain and project role mgmt\n- add unit tests in domain and proxy for role mgmt functions\n- fix return code for role mgmt to be 204, what is the proper one\n  (according to ref specs, tests of the cloud layer, etc)\n\nChange-Id: If5f6ea5ee043601e46cf30d7c126cefaa2ba7d06\n'}, {'number': 7, 'created': '2021-07-14 14:16:55.000000000', 'files': ['doc/source/user/proxies/identity_v3.rst', 'openstack/identity/v3/_proxy.py', 'openstack/tests/unit/identity/v3/test_project.py', 'openstack/tests/unit/identity/v3/test_domain.py', 'openstack/tests/unit/identity/v3/test_proxy.py', 'openstack/identity/v3/domain.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/95cec28723a7b1a66b2b6a34aefcb2660140d81c', 'message': 'Fix identity role management\n\nDomain role management was not exposed in the proxy. There were also no\nunit tests.\n- expose domain role mgmt in proxy\n- add unit tests in proxy for domain and project role mgmt\n- add unit tests in domain and proxy for role mgmt functions\n- fix return code for role mgmt to be 204, what is the proper one\n  (according to ref specs, tests of the cloud layer, etc)\n\nChange-Id: If5f6ea5ee043601e46cf30d7c126cefaa2ba7d06\n'}]",0,790948,95cec28723a7b1a66b2b6a34aefcb2660140d81c,20,2,7,27900,,,0,"Fix identity role management

Domain role management was not exposed in the proxy. There were also no
unit tests.
- expose domain role mgmt in proxy
- add unit tests in proxy for domain and project role mgmt
- add unit tests in domain and proxy for role mgmt functions
- fix return code for role mgmt to be 204, what is the proper one
  (according to ref specs, tests of the cloud layer, etc)

Change-Id: If5f6ea5ee043601e46cf30d7c126cefaa2ba7d06
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/48/790948/4 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/identity/v3/_proxy.py', 'openstack/tests/unit/identity/v3/test_project.py', 'openstack/tests/unit/identity/v3/test_domain.py', 'openstack/tests/unit/identity/v3/test_proxy.py', 'openstack/identity/v3/domain.py']",5,cc9b58c37fdddb6c022b7ad5586863040e76cbe0,sdk_cloud_identity, if resp.status_code == 204: if resp.status_code == 204:, if resp.status_code == 201: if resp.status_code == 201:,607,8
openstack%2Fopenstacksdk~feature%2Fr1~Ifa078a319b383855744b82678b508b85f46b3691,openstack/openstacksdk,feature/r1,Ifa078a319b383855744b82678b508b85f46b3691,Switch identiy.endpoints in the cloud layer,MERGED,2021-05-11 13:34:48.000000000,2021-07-15 14:22:33.000000000,2021-07-15 14:20:28.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-05-11 13:34:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b2349d5ca29ad2a070f438575a1cbc9170ec9e90', 'message': 'Switch identiy.endpoints in the cloud layer\n\ncloud layer for identity.endpoint is now going to proxy layer without\nreimplementing requests. Stip out further v2 parts from identity cloud\nlayer.\n\nChange-Id: Ifa078a319b383855744b82678b508b85f46b3691\n'}, {'number': 2, 'created': '2021-05-11 16:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2f5d88c8f623ac9227450a9e51daaddf2e6929f4', 'message': 'Switch identiy.endpoints in the cloud layer\n\ncloud layer for identity.endpoint is now going to proxy layer without\nreimplementing requests. Stip out further v2 parts from identity cloud\nlayer.\n\nChange-Id: Ifa078a319b383855744b82678b508b85f46b3691\n'}, {'number': 3, 'created': '2021-05-11 17:46:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/cff57e0d55c6f8f8f7c10e440bf896172d5e65d1', 'message': 'Switch identiy.endpoints in the cloud layer\n\ncloud layer for identity.endpoint is now going to proxy layer without\nreimplementing requests. Stip out further v2 parts from identity cloud\nlayer.\n\nChange-Id: Ifa078a319b383855744b82678b508b85f46b3691\n'}, {'number': 4, 'created': '2021-06-02 08:52:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ce2e3b929c7f2d75ff2630c34e5b4f90f23f1cbc', 'message': 'Switch identiy.endpoints in the cloud layer\n\ncloud layer for identity.endpoint is now going to proxy layer without\nreimplementing requests. Stip out further v2 parts from identity cloud\nlayer.\n\nChange-Id: Ifa078a319b383855744b82678b508b85f46b3691\n'}, {'number': 5, 'created': '2021-07-02 14:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a68e738f8031faf5d9fb7dd708e5d02831b6fa13', 'message': 'Switch identiy.endpoints in the cloud layer\n\ncloud layer for identity.endpoint is now going to proxy layer without\nreimplementing requests. Stip out further v2 parts from identity cloud\nlayer.\n\nChange-Id: Ifa078a319b383855744b82678b508b85f46b3691\n'}, {'number': 6, 'created': '2021-07-07 08:50:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/980fac29d3531525e189b395fa0a1711dd799c57', 'message': 'Switch identiy.endpoints in the cloud layer\n\ncloud layer for identity.endpoint is now going to proxy layer without\nreimplementing requests. Stip out further v2 parts from identity cloud\nlayer.\n\nChange-Id: Ifa078a319b383855744b82678b508b85f46b3691\n'}, {'number': 7, 'created': '2021-07-07 10:55:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/66763a5f5c92de7134036207cc05f44da857c23c', 'message': 'Switch identiy.endpoints in the cloud layer\n\ncloud layer for identity.endpoint is now going to proxy layer without\nreimplementing requests. Stip out further v2 parts from identity cloud\nlayer.\n\nChange-Id: Ifa078a319b383855744b82678b508b85f46b3691\n'}, {'number': 8, 'created': '2021-07-14 11:58:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/722dedfdf794209a219c0815da0c4c26fcd4bd7c', 'message': 'Switch identiy.endpoints in the cloud layer\n\ncloud layer for identity.endpoint is now going to proxy layer without\nreimplementing requests. Stip out further v2 parts from identity cloud\nlayer.\n\nChange-Id: Ifa078a319b383855744b82678b508b85f46b3691\n'}, {'number': 9, 'created': '2021-07-14 14:16:55.000000000', 'files': ['openstack/cloud/_identity.py', 'openstack/tests/functional/cloud/test_endpoints.py', 'openstack/tests/unit/base.py', 'openstack/tests/unit/cloud/test_endpoints.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/533ba93a3042a7d4b4c41b8742fdebf45929be81', 'message': 'Switch identiy.endpoints in the cloud layer\n\ncloud layer for identity.endpoint is now going to proxy layer without\nreimplementing requests. Stip out further v2 parts from identity cloud\nlayer.\n\nChange-Id: Ifa078a319b383855744b82678b508b85f46b3691\n'}]",0,790697,533ba93a3042a7d4b4c41b8742fdebf45929be81,24,2,9,27900,,,0,"Switch identiy.endpoints in the cloud layer

cloud layer for identity.endpoint is now going to proxy layer without
reimplementing requests. Stip out further v2 parts from identity cloud
layer.

Change-Id: Ifa078a319b383855744b82678b508b85f46b3691
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/97/790697/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/cloud/_identity.py', 'openstack/tests/unit/base.py', 'openstack/tests/unit/cloud/test_endpoints.py']",3,b2349d5ca29ad2a070f438575a1cbc9170ec9e90,sdk_cloud_identity," url=self._dummy_url(), region=public_endpoint_data.region_id) url=self._dummy_url(), region=public_endpoint_data.region_id) region=public_endpoint_data_disabled.region_id, endpoints[0].region_id, matchers.Equals(public_endpoint_data_disabled.region_id)) matchers.Equals(public_endpoint_data_disabled.region_id)) self.assertThat(endpoints[0].is_enabled, region=public_endpoint_data.region_id, self.assertThat(result.region_id, matchers.Equals(reference.region_id)) self.assertThat(result.is_enabled, matchers.Equals(reference.enabled)) region=endpoint_data.region_id, filters={'region_id': 'region1'})"," url=self._dummy_url(), region=public_endpoint_data.region) url=self._dummy_url(), region=public_endpoint_data.region) region=public_endpoint_data_disabled.region, endpoints[0].region, matchers.Equals(public_endpoint_data_disabled.region)) matchers.Equals(public_endpoint_data_disabled.region)) self.assertThat(endpoints[0].enabled, region=public_endpoint_data.region, self.assertThat(result.region, matchers.Equals(reference.region)) self.assertThat(result.enabled, matchers.Equals(reference.enabled)) region=endpoint_data.region, filters={'region': 'region1'})",54,152
openstack%2Fopenstacksdk~feature%2Fr1~Ic856855f8040f88e618926bf0fdf14b0daa589d9,openstack/openstacksdk,feature/r1,Ic856855f8040f88e618926bf0fdf14b0daa589d9,Switch identity.service in cloud layer to proxy,MERGED,2021-05-11 13:34:48.000000000,2021-07-15 14:19:45.000000000,2021-07-15 14:18:13.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-05-11 13:34:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3319ea36ab6bb82e6174285a54dcb86b5851b49e', 'message': 'Switch identity.service in cloud layer to proxy\n\nSwitch service methods to rely on proxy instead of reimplementing\nrequests directly.\nAlso here drop v2 support (also for endpoint tests due to dependency).\n\nChange-Id: Ic856855f8040f88e618926bf0fdf14b0daa589d9\n'}, {'number': 2, 'created': '2021-05-11 16:14:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f39f330d6cb75419165effec39dd297c28195691', 'message': 'Switch identity.service in cloud layer to proxy\n\nSwitch service methods to rely on proxy instead of reimplementing\nrequests directly.\nAlso here drop v2 support (also for endpoint tests due to dependency).\n\nChange-Id: Ic856855f8040f88e618926bf0fdf14b0daa589d9\n'}, {'number': 3, 'created': '2021-05-11 17:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5d462270b7b54bc4966f071ae20dda0ac86fe9e6', 'message': 'Switch identity.service in cloud layer to proxy\n\nSwitch service methods to rely on proxy instead of reimplementing\nrequests directly.\nAlso here drop v2 support (also for endpoint tests due to dependency).\n\nChange-Id: Ic856855f8040f88e618926bf0fdf14b0daa589d9\n'}, {'number': 4, 'created': '2021-05-26 08:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e6f67d28e72bf97aaf0386a510d95b6d165e2f58', 'message': 'Switch identity.service in cloud layer to proxy\n\nSwitch service methods to rely on proxy instead of reimplementing\nrequests directly.\nAlso here drop v2 support (also for endpoint tests due to dependency).\n\nChange-Id: Ic856855f8040f88e618926bf0fdf14b0daa589d9\n'}, {'number': 5, 'created': '2021-07-02 14:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/1a9efe96fa0a98869ac9d9965d3e865dc5cd570b', 'message': 'Switch identity.service in cloud layer to proxy\n\nSwitch service methods to rely on proxy instead of reimplementing\nrequests directly.\nAlso here drop v2 support (also for endpoint tests due to dependency).\n\nChange-Id: Ic856855f8040f88e618926bf0fdf14b0daa589d9\n'}, {'number': 6, 'created': '2021-07-06 15:33:51.000000000', 'files': ['openstack/cloud/_identity.py', 'openstack/tests/functional/cloud/test_services.py', 'openstack/tests/unit/cloud/test_endpoints.py', 'openstack/tests/unit/cloud/test_services.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9a038d8ca8e68bc0f65dd389f181454857d1e559', 'message': 'Switch identity.service in cloud layer to proxy\n\nSwitch service methods to rely on proxy instead of reimplementing\nrequests directly.\nAlso here drop v2 support (also for endpoint tests due to dependency).\n\nChange-Id: Ic856855f8040f88e618926bf0fdf14b0daa589d9\n'}]",0,790696,9a038d8ca8e68bc0f65dd389f181454857d1e559,20,2,6,27900,,,0,"Switch identity.service in cloud layer to proxy

Switch service methods to rely on proxy instead of reimplementing
requests directly.
Also here drop v2 support (also for endpoint tests due to dependency).

Change-Id: Ic856855f8040f88e618926bf0fdf14b0daa589d9
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/96/790696/3 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/cloud/_identity.py', 'openstack/tests/unit/cloud/test_endpoints.py', 'openstack/tests/unit/cloud/test_services.py']",3,3319ea36ab6bb82e6174285a54dcb86b5851b49e,sdk_cloud_identity,,"from openstack.cloud.exc import OpenStackCloudUnavailableFeature def test_create_service_v2(self): self.use_keystone_v2() service_data = self._get_service_data(name='a service', type='network', description='A test service') reference_req = service_data.json_request.copy() reference_req.pop('enabled') self.register_uris([ dict(method='POST', uri=self.get_mock_url(base_url_append='OS-KSADM'), status_code=200, json=service_data.json_response_v2, validate=dict(json={'OS-KSADM:service': reference_req})) ]) service = self.cloud.create_service( name=service_data.service_name, service_type=service_data.service_type, description=service_data.description) self.assertThat(service.name, matchers.Equals(service_data.service_name)) self.assertThat(service.id, matchers.Equals(service_data.service_id)) self.assertThat(service.description, matchers.Equals(service_data.description)) self.assertThat(service.type, matchers.Equals(service_data.service_type)) self.assert_calls() def test_update_service_v2(self): self.use_keystone_v2() # NOTE(SamYaple): Update service only works with v3 api self.assertRaises(OpenStackCloudUnavailableFeature, self.cloud.update_service, 'service_id', name='new name') ",12,187
openstack%2Fopenstacksdk~feature%2Fr1~I23e0ce374c5f854f9ff797616b02eb31f4593a7a,openstack/openstacksdk,feature/r1,I23e0ce374c5f854f9ff797616b02eb31f4593a7a,Switch identity.domains in cloud layer,MERGED,2021-05-11 13:34:48.000000000,2021-07-15 14:17:34.000000000,2021-07-15 14:15:35.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-05-11 13:34:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ce2110be9b2e239358747d3b5a4324966601b6db', 'message': 'Switch identity.domains in cloud layer\n\nidentity.domains in the cloud layer go to proxy layer instead of\nreimplementing requests.\n\nChange-Id: I23e0ce374c5f854f9ff797616b02eb31f4593a7a\n'}, {'number': 2, 'created': '2021-05-11 15:44:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/fcdd7a8dd6d766652abdb299c473b6ee045e694c', 'message': 'Switch identity.domains in cloud layer\n\nidentity.domains in the cloud layer go to proxy layer instead of\nreimplementing requests.\n\nChange-Id: I23e0ce374c5f854f9ff797616b02eb31f4593a7a\n'}, {'number': 3, 'created': '2021-05-11 16:12:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4b796f8e4dcb1da945f2b1ba42e2dd193224ebe8', 'message': 'Switch identity.domains in cloud layer\n\nidentity.domains in the cloud layer go to proxy layer instead of\nreimplementing requests.\n\nChange-Id: I23e0ce374c5f854f9ff797616b02eb31f4593a7a\n'}, {'number': 4, 'created': '2021-05-11 17:45:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/00edee6e0d56222465656edb00c378121a89c498', 'message': 'Switch identity.domains in cloud layer\n\nidentity.domains in the cloud layer go to proxy layer instead of\nreimplementing requests.\n\nChange-Id: I23e0ce374c5f854f9ff797616b02eb31f4593a7a\n'}, {'number': 5, 'created': '2021-05-26 08:47:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f2dfa59ac4fd0f5107d880adbd7419e0ef974bd5', 'message': 'Switch identity.domains in cloud layer\n\nidentity.domains in the cloud layer go to proxy layer instead of\nreimplementing requests.\n\nChange-Id: I23e0ce374c5f854f9ff797616b02eb31f4593a7a\n'}, {'number': 6, 'created': '2021-07-02 14:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6fca174d88c66a5955152ba79884bddbc19d9703', 'message': 'Switch identity.domains in cloud layer\n\nidentity.domains in the cloud layer go to proxy layer instead of\nreimplementing requests.\n\nChange-Id: I23e0ce374c5f854f9ff797616b02eb31f4593a7a\n'}, {'number': 7, 'created': '2021-07-06 15:30:43.000000000', 'files': ['openstack/cloud/_identity.py', 'openstack/tests/unit/cloud/test_role_assignment.py', 'openstack/tests/unit/cloud/test_domains.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e192f215fa202cb9023c28c6410c0462541348ff', 'message': 'Switch identity.domains in cloud layer\n\nidentity.domains in the cloud layer go to proxy layer instead of\nreimplementing requests.\n\nChange-Id: I23e0ce374c5f854f9ff797616b02eb31f4593a7a\n'}]",0,790695,e192f215fa202cb9023c28c6410c0462541348ff,21,2,7,27900,,,0,"Switch identity.domains in cloud layer

identity.domains in the cloud layer go to proxy layer instead of
reimplementing requests.

Change-Id: I23e0ce374c5f854f9ff797616b02eb31f4593a7a
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/95/790695/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/cloud/_identity.py'],1,ce2110be9b2e239358747d3b5a4324966601b6db,sdk_cloud_identity," domain = self.identity.create_domain(**domain_ref) domain = self.identity.update_domain(dom, **domain_ref) try: if domain_id is None: if name_or_id is None: raise exc.OpenStackCloudException( ""You must pass either domain_id or name_or_id value"" ) dom = self.get_domain(name_or_id=name_or_id) if dom is None: self.log.debug( ""Domain %s not found for deleting"", name_or_id) return False domain_id = dom['id'] # A domain must be disabled before deleting self.identity.update_domain(dom, enabled=False) self.identity.delete_domain(domain_id) return True except exceptions.SDKException: self.log.exception(""Error deleting domain %s"" % dom.id) return False return list(self.identity.domains(**filters))"," msg = 'Failed to create domain {name}'.format(name=name) data = self._identity_client.post( '/domains', json={'domain': domain_ref}, error_message=msg) domain = self._get_and_munchify('domain', data) error_msg = ""Error in updating domain {id}"".format(id=domain_id) data = self._identity_client.patch( '/domains/{id}'.format(id=domain_id), json={'domain': domain_ref}, error_message=error_msg) domain = self._get_and_munchify('domain', data) if domain_id is None: if name_or_id is None: raise exc.OpenStackCloudException( ""You must pass either domain_id or name_or_id value"" ) dom = self.get_domain(name_or_id=name_or_id) if dom is None: self.log.debug( ""Domain %s not found for deleting"", name_or_id) return False domain_id = dom['id'] # A domain must be disabled before deleting self.update_domain(domain_id, enabled=False) error_msg = ""Failed to delete domain {id}"".format(id=domain_id) self._identity_client.delete('/domains/{id}'.format(id=domain_id), error_message=error_msg) return True data = self._identity_client.get( '/domains', params=filters, error_message=""Failed to list domains"") domains = self._get_and_munchify('domains', data) return _utils.normalize_domains(domains)",22,31
openstack%2Fopenstack-ansible-os_keystone~master~Ib0ebf1711db42dd00b3e14c1e5604fed2632437d,openstack/openstack-ansible-os_keystone,master,Ib0ebf1711db42dd00b3e14c1e5604fed2632437d,Improvements to federation packaging,MERGED,2021-06-30 15:00:55.000000000,2021-07-15 14:11:03.000000000,2021-07-15 14:09:41.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-06-30 15:00:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/8f439961f82daf744b3368f40b31d0bb63e26ac4', 'message': 'Improvements to federation packaging\n\nWhile shibboleth and mod_auth_openidc can theoretically co installed now, unfortunately\nthe shibboleth enabled configuation will cause issues when using mod_auth_openidc.\nAs we only drop the configuration for one of these apache mods at a time I have decided that\nit is best we only support one of these packages being present at any time to avoid conflicts.\n\nChange-Id: Ib0ebf1711db42dd00b3e14c1e5604fed2632437d\n'}, {'number': 2, 'created': '2021-07-01 14:22:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/8908f83784ac2361068de21d1cd0ec56158a585b', 'message': 'Improvements to federation packaging\n\nWhile shibboleth and mod_auth_openidc can theoretically co installed\nnow, unfortunately the shibboleth enabled configuation will cause\nissues when using mod_auth_openidc.\nAs we only drop the configuration for one of these apache mods at a time\nI have decided that it is best we only support one of these packages\nbeing present at any time to avoid conflicts.\n\nChange-Id: Ib0ebf1711db42dd00b3e14c1e5604fed2632437d\n'}, {'number': 3, 'created': '2021-07-05 10:57:32.000000000', 'files': ['vars/source_install.yml', 'vars/distro_install.yml', 'vars/ubuntu-20.04.yml', 'vars/redhat.yml', 'tasks/keystone_install.yml', 'vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/a57255b9fc9e30327d73b5fd502c2037f9c212dc', 'message': 'Improvements to federation packaging\n\nWhile shibboleth and mod_auth_openidc can theoretically co installed\nnow, unfortunately the shibboleth enabled configuation will cause\nissues when using mod_auth_openidc.\nAs we only drop the configuration for one of these apache mods at a time\nI have decided that it is best we only support one of these packages\nbeing present at any time to avoid conflicts.\n\nChange-Id: Ib0ebf1711db42dd00b3e14c1e5604fed2632437d\n'}]",2,798911,a57255b9fc9e30327d73b5fd502c2037f9c212dc,17,3,3,29865,,,0,"Improvements to federation packaging

While shibboleth and mod_auth_openidc can theoretically co installed
now, unfortunately the shibboleth enabled configuation will cause
issues when using mod_auth_openidc.
As we only drop the configuration for one of these apache mods at a time
I have decided that it is best we only support one of these packages
being present at any time to avoid conflicts.

Change-Id: Ib0ebf1711db42dd00b3e14c1e5604fed2632437d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/11/798911/3 && git format-patch -1 --stdout FETCH_HEAD,"['vars/source_install.yml', 'vars/distro_install.yml', 'vars/redhat.yml', 'vars/ubuntu-20.04.yml', 'tasks/keystone_install.yml', 'vars/debian.yml']",6,8f439961f82daf744b3368f40b31d0bb63e26ac4,798911,"keystone_shibboleth_package_name: 'libapache2-mod-shib' keystone_mod_auth_openidc_package_name: 'libapache2-mod-auth-openidc' - name: ""shib""","keystone_sp_distro_packages: - ""{{ keystone_sp_apache_mod_shib | ternary('libcurl3', 'libcurl4') }}"" - ""{{ keystone_sp_apache_mod_auth_openidc | ternary('libapache2-mod-auth-openidc', 'libapache2-mod-shib2') }}"" - name: ""shib2""",15,120
openstack%2Fdevstack~master~I9a524f3395b3d84a5c280131f68edbf9bae052a1,openstack/devstack,master,I9a524f3395b3d84a5c280131f68edbf9bae052a1,[DNM] Replace all 'python' to 'python3' of shell script,NEW,2019-11-06 08:46:07.000000000,2021-07-15 13:52:32.000000000,,"[{'_account_id': 1653}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 27738}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2019-11-06 08:46:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7d524f894e2354ac685e1968b5a4282ab6fbc10f', 'message': ""Replace all 'python' to 'python3' of shell script\n\nWe already removed the fallback installation of the python 2 libraries,\nso using 'python -c' in shell script will fail because of ImportError.\nRelated patch: https://review.opendev.org/#/c/681029/\n\nChange-Id: I9a524f3395b3d84a5c280131f68edbf9bae052a1\n""}, {'number': 2, 'created': '2019-11-12 08:27:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/1bd3afad08ae1df1648d1625cce60ae7d3d7b77a', 'message': ""Replace all 'python' to 'python3' of shell script\n\nWe already removed the fallback installation of the python 2 libraries,\nso using 'python -c' in shell script will fail because of ImportError.\nRelated patch: https://review.opendev.org/#/c/681029/\n\nChange-Id: I9a524f3395b3d84a5c280131f68edbf9bae052a1\n""}, {'number': 3, 'created': '2019-11-14 07:24:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/573d98fc26fe768f0cc5d3047874757c250c10a9', 'message': ""Replace all 'python' to 'python3' of shell script\n\nWe already removed the fallback installation of the python 2 libraries,\nso using 'python -c' in shell script will fail because of ImportError.\nRelated patch: https://review.opendev.org/#/c/681029/\n\nChange-Id: I9a524f3395b3d84a5c280131f68edbf9bae052a1\n""}, {'number': 4, 'created': '2019-11-15 04:10:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/8fdbc5ac7dac0527401112b17bf920866d4685c2', 'message': ""Replace all 'python' to 'python3' of shell script\n\nWe already removed the fallback installation of the python 2 libraries,\nso using 'python -c' in shell script will fail because of ImportError.\nRelated patch: https://review.opendev.org/#/c/681029/\n\nChange-Id: I9a524f3395b3d84a5c280131f68edbf9bae052a1\n""}, {'number': 5, 'created': '2019-11-15 06:27:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ce2f6492f20ce02e7152ba6ece4fca09ddeff946', 'message': ""Replace all 'python' to 'python3' of shell script\n\nWe already removed the fallback installation of the python 2 libraries,\nso using 'python -c' in shell script will fail because of ImportError.\nRelated patch: https://review.opendev.org/#/c/681029/\n\nChange-Id: I9a524f3395b3d84a5c280131f68edbf9bae052a1\n""}, {'number': 6, 'created': '2019-11-18 10:09:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0d5aaa306d19eb42731347f3bfd35373c5fa864e', 'message': ""Replace all 'python' to 'python3' of shell script\n\nWe already removed the fallback installation of the python 2 libraries,\nso using 'python -c' in shell script will fail because of ImportError.\nRelated patch: https://review.opendev.org/#/c/681029/\n\nChange-Id: I9a524f3395b3d84a5c280131f68edbf9bae052a1\n""}, {'number': 7, 'created': '2019-11-18 11:03:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/f4ca56a8b89d79bb9bdb63f6fd4fafd918237d00', 'message': ""Replace all 'python' to 'python3' of shell script\n\nWe already removed the fallback installation of the python 2 libraries,\nso using 'python -c' in shell script will fail because of ImportError.\nRelated patch: https://review.opendev.org/#/c/681029/\n\nChange-Id: I9a524f3395b3d84a5c280131f68edbf9bae052a1\n""}, {'number': 8, 'created': '2019-11-19 03:57:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b3da4c24085cec52fcd654e5f8a0eb84a7f6b907', 'message': ""Replace all 'python' to 'python3' of shell script\n\nWe already removed the fallback installation of the python 2 libraries,\nso using 'python -c' in shell script will fail because of ImportError.\nRelated patch: https://review.opendev.org/#/c/681029/\n\nChange-Id: I9a524f3395b3d84a5c280131f68edbf9bae052a1\n""}, {'number': 9, 'created': '2019-11-19 04:41:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/25e85fded76d0c40c11059eb430dc0941b6466ab', 'message': ""Replace all 'python' to 'python3' of shell script\n\nWe already removed the fallback installation of the python 2 libraries,\nso using 'python -c' in shell script will fail because of ImportError.\nRelated patch: https://review.opendev.org/#/c/681029/\n\nChange-Id: I9a524f3395b3d84a5c280131f68edbf9bae052a1\n""}, {'number': 10, 'created': '2019-11-20 03:37:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/05cec65869915678c7a08026a5d76e6eab6f109a', 'message': ""Replace all 'python' to 'python3' of shell script\n\nWe already removed the fallback installation of the python 2 libraries,\nso using 'python -c' in shell script will fail because of ImportError.\nRelated patch: https://review.opendev.org/#/c/681029/\n\nChange-Id: I9a524f3395b3d84a5c280131f68edbf9bae052a1\n""}, {'number': 11, 'created': '2019-11-21 04:38:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/1456a8105479e1ce26863208a58c6168bf946ee8', 'message': ""Replace all 'python' to 'python3' of shell script\n\nWe already removed the fallback installation of the python 2 libraries,\nso using 'python -c' in shell script will fail because of ImportError.\nRelated patch: https://review.opendev.org/#/c/681029/\n\nChange-Id: I9a524f3395b3d84a5c280131f68edbf9bae052a1\n""}, {'number': 12, 'created': '2019-11-21 06:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ffaabaec9558095cf6c6311e9f03202fb4eddd6a', 'message': ""Replace all 'python' to 'python3' of shell script\n\nWe already removed the fallback installation of the python 2 libraries,\nso using 'python -c' in shell script will fail because of ImportError.\nRelated patch: https://review.opendev.org/#/c/681029/\n\nChange-Id: I9a524f3395b3d84a5c280131f68edbf9bae052a1\n""}, {'number': 13, 'created': '2019-11-26 03:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/50e56609d23ddae9bc73edd23fee000cda91a0f9', 'message': ""Replace all 'python' to 'python3' of shell script\n\nWe already removed the fallback installation of the python 2 libraries,\nso using 'python -c' in shell script will fail because of ImportError.\nRelated patch: https://review.opendev.org/#/c/681029/\n\nChange-Id: I9a524f3395b3d84a5c280131f68edbf9bae052a1\n""}, {'number': 14, 'created': '2019-12-06 03:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/4116881a066af4409f3e8a40c063c1888d6af17e', 'message': ""Replace all 'python' to 'python3' of shell script\n\nWe already removed the fallback installation of the python 2 libraries,\nso using 'python -c' in shell script will fail because of ImportError.\nRelated patch: https://review.opendev.org/#/c/681029/\n\nChange-Id: I9a524f3395b3d84a5c280131f68edbf9bae052a1\n""}, {'number': 15, 'created': '2019-12-18 07:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7f2873afd4196f989cba61be66c06457af3d3673', 'message': ""Replace all 'python' to 'python3' of shell script\n\nWe already removed the fallback installation of the python 2 libraries,\nso using 'python -c' in shell script will fail because of ImportError.\nRelated patch: https://review.opendev.org/#/c/681029/\n\nChange-Id: I9a524f3395b3d84a5c280131f68edbf9bae052a1\n""}, {'number': 16, 'created': '2020-03-16 03:34:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/6b22042483d16d6d6ada99dc016cafd5fd324bec', 'message': ""Replace all 'python' to 'python3' of shell script\n\nWe already removed the fallback installation of the python 2 libraries,\nso using 'python -c' in shell script will fail because of ImportError.\nRelated patch: https://review.opendev.org/#/c/681029/\n\nChange-Id: I9a524f3395b3d84a5c280131f68edbf9bae052a1\n""}, {'number': 17, 'created': '2020-06-15 09:40:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/bd01dad212a8ee1baf2b912d7bd0befbc1c0b72b', 'message': ""Replace all 'python' to 'python3' of shell script\n\nWe already removed the fallback installation of the python 2 libraries,\nso using 'python -c' in shell script will fail because of ImportError.\nRelated patch: https://review.opendev.org/#/c/681029/\n\nChange-Id: I9a524f3395b3d84a5c280131f68edbf9bae052a1\n""}, {'number': 18, 'created': '2020-06-15 15:06:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/407dbb43c8d383692e479fe449037127119581d0', 'message': ""[DNM] Replace all 'python' to 'python3' of shell script\n\nWe already removed the fallback installation of the python 2 libraries,\nso using 'python -c' in shell script will fail because of ImportError.\nRelated patch: https://review.opendev.org/#/c/681029/\n\nChange-Id: I9a524f3395b3d84a5c280131f68edbf9bae052a1\n""}, {'number': 19, 'created': '2020-07-02 12:38:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/135144cbd1906626e1838ea2758a65ee99c35887', 'message': ""[DNM] Replace all 'python' to 'python3' of shell script\n\nWe already removed the fallback installation of the python 2 libraries,\nso using 'python -c' in shell script will fail because of ImportError.\nRelated patch: https://review.opendev.org/#/c/681029/\n\nChange-Id: I9a524f3395b3d84a5c280131f68edbf9bae052a1\n""}, {'number': 20, 'created': '2020-07-02 15:04:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5935ebfa3bba68780468de8466984737838f0441', 'message': ""[DNM] Replace all 'python' to 'python3' of shell script\n\nWe already removed the fallback installation of the python 2 libraries,\nso using 'python -c' in shell script will fail because of ImportError.\nRelated patch: https://review.opendev.org/#/c/681029/\n\nChange-Id: I9a524f3395b3d84a5c280131f68edbf9bae052a1\n""}, {'number': 21, 'created': '2020-07-02 15:12:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/3aa6f5c29338615736db4280d92ce90a24f0b038', 'message': ""[DNM] Replace all 'python' to 'python3' of shell script\n\nWe already removed the fallback installation of the python 2 libraries,\nso using 'python -c' in shell script will fail because of ImportError.\nRelated patch: https://review.opendev.org/#/c/681029/\n\nChange-Id: I9a524f3395b3d84a5c280131f68edbf9bae052a1\n""}, {'number': 22, 'created': '2020-08-04 05:34:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ec1c3143f50262f365c4de393927b9eb4f3f2864', 'message': ""[DNM] Replace all 'python' to 'python3' of shell script\n\nWe already removed the fallback installation of the python 2 libraries,\nso using 'python -c' in shell script will fail because of ImportError.\nRelated patch: https://review.opendev.org/#/c/681029/\n\nChange-Id: I9a524f3395b3d84a5c280131f68edbf9bae052a1\n""}, {'number': 23, 'created': '2020-09-03 01:51:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/32578749246098f810b56901c75bdff0bce4e690', 'message': ""[DNM] Replace all 'python' to 'python3' of shell script\n\nWe already removed the fallback installation of the python 2 libraries,\nso using 'python -c' in shell script will fail because of ImportError.\nRelated patch: https://review.opendev.org/#/c/681029/\n\nChange-Id: I9a524f3395b3d84a5c280131f68edbf9bae052a1\n""}, {'number': 24, 'created': '2020-09-03 02:42:10.000000000', 'files': ['inc/python', 'lib/keystone', 'lib/glance', '.zuul.yaml', 'tools/fixup_stuff.sh', 'lib/apache'], 'web_link': 'https://opendev.org/openstack/devstack/commit/e96ae3971f8c69302bcdd7ea5b5dc50029cc06b2', 'message': ""[DNM] Replace all 'python' to 'python3' of shell script\n\nWe already removed the fallback installation of the python 2 libraries,\nso using 'python -c' in shell script will fail because of ImportError.\nRelated patch: https://review.opendev.org/#/c/681029/\n\nChange-Id: I9a524f3395b3d84a5c280131f68edbf9bae052a1\n""}]",5,693137,e96ae3971f8c69302bcdd7ea5b5dc50029cc06b2,69,6,24,27738,,,0,"[DNM] Replace all 'python' to 'python3' of shell script

We already removed the fallback installation of the python 2 libraries,
so using 'python -c' in shell script will fail because of ImportError.
Related patch: https://review.opendev.org/#/c/681029/

Change-Id: I9a524f3395b3d84a5c280131f68edbf9bae052a1
",git fetch https://review.opendev.org/openstack/devstack refs/changes/37/693137/24 && git format-patch -1 --stdout FETCH_HEAD,"['inc/python', 'tools/fixup_stuff.sh', 'lib/tempest']",3,7d524f894e2354ac685e1968b5a4282ab6fbc10f,(detached," echo $size | python3 -c ""import math; import six; print(int(math.ceil(float(int(six.moves.input()) / 1024.0 ** 3))))"""," echo $size | python -c ""import math; import six; print(int(math.ceil(float(int(six.moves.input()) / 1024.0 ** 3))))""",4,4
openstack%2Fopenstack-tempest-skiplist~master~I2e830d41ed8b2d69116f81bb314cc0f71fa94d01,openstack/openstack-tempest-skiplist,master,I2e830d41ed8b2d69116f81bb314cc0f71fa94d01,Remove skipped tests from very older releases,MERGED,2021-07-15 12:03:46.000000000,2021-07-15 13:52:02.000000000,2021-07-15 13:50:54.000000000,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-15 12:03:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/c69c2d32250f81240cd248e6c173f964398df794', 'message': 'Remove skipped tests from very older releases\n\nSince Newton, Ocata, Pike branches got EOL long time ago,\nso we are cleaning up this from skip list.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I2e830d41ed8b2d69116f81bb314cc0f71fa94d01\n'}, {'number': 2, 'created': '2021-07-15 13:14:57.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/c7904a3e8b291d443a2f7b1f5ce755cf078510e0', 'message': 'Remove skipped tests from very older releases\n\nSince Newton, Ocata, Pike branches got EOL long time ago,\nso we are cleaning up this from skip list.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I2e830d41ed8b2d69116f81bb314cc0f71fa94d01\n'}]",0,800929,c7904a3e8b291d443a2f7b1f5ce755cf078510e0,12,3,2,12393,,,0,"Remove skipped tests from very older releases

Since Newton, Ocata, Pike branches got EOL long time ago,
so we are cleaning up this from skip list.

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I2e830d41ed8b2d69116f81bb314cc0f71fa94d01
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/29/800929/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,c69c2d32250f81240cd248e6c173f964398df794,older_release,," - test: 'tempest.api.volume.test_volumes_get' deployment: - 'overcloud' releases: - name: 'liberty' reason: 'rdo-manager tempest smoke test failing on ""floating ip pool not found""' bz: 'https://bugzilla.redhat.com/show_bug.cgi?id=1272289' - name: 'mitaka' reason: 'rdo-manager tempest smoke test failing on ""floating ip pool not found""' bz: 'https://bugzilla.redhat.com/show_bug.cgi?id=1272289' - name: 'newton' reason: 'rdo-manager tempest smoke test failing on ""floating ip pool not found""' bz: 'https://bugzilla.redhat.com/show_bug.cgi?id=1272289' jobs: [] - test: 'tempest.api.identity.*v3' deployment: - 'overcloud' releases: - name: 'liberty' reason: 'Tempest Identify tests failed on V3 api on OSP-D puddle' bz: 'https://bugzilla.redhat.com/show_bug.cgi?id=1266947' - name: 'mitaka' reason: 'Tempest Identify tests failed on V3 api on OSP-D puddle' bz: 'https://bugzilla.redhat.com/show_bug.cgi?id=1266947' - name: 'newton' reason: 'Tempest Identify tests failed on V3 api on OSP-D puddle' bz: 'https://bugzilla.redhat.com/show_bug.cgi?id=1266947' jobs: [] - test: 'tempest.api.data_processing' deployment: - 'overcloud' releases: - name: 'newton' reason: 'tempest.api.data_processing tests failing on newton' bz: 'https://bugzilla.redhat.com/show_bug.cgi?id=1357667' - name: 'ocata' reason: 'tempest.api.data_processing tests failing on newton' bz: 'https://bugzilla.redhat.com/show_bug.cgi?id=1357667' jobs: [] - test: 'tempest.scenario.test_network_basic_ops.TestNetworkBasicOps' deployment: - 'overcloud' releases: - name: 'newton' reason: 'TestNetworkBasicOps often times out running against tripleo' lp: 'https://bugs.launchpad.net/tripleo/+bug/1605654' jobs: [] - test: 'tempest.api.compute.servers.test_server_actions.ServerActionsTestJSON' deployment: - 'overcloud' releases: - name: 'newton' reason: 'tempest fail: tempest.api.identity.admin.v2.test_services.ServicesTestJSON' bz: 'https://bugzilla.redhat.com/show_bug.cgi?id=1386421' jobs: [] - name: 'newton' reason: 'Security groups firewall rules do not get applied on the compute nodes' bz: 'https://bugzilla.redhat.com/show_bug.cgi?id=1411690' - test: 'tempest.scenario.test_security_groups_basic_ops.TestSecurityGroupsBasicOps.test_multiple_security_groups' deployment: - 'overcloud' releases: - name: 'newton' reason: 'Security groups firewall rules do not get applied on the compute nodes' bz: 'https://bugzilla.redhat.com/show_bug.cgi?id=1411690' jobs: [] - test: 'mistral_tempest_tests.tests' deployment: - 'overcloud' releases: - name: 'newton' reason: 'Skip Mistral tests as it needs to use mistral v2 endpoints' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'Skip Mistral tests as it needs to use mistral v2 endpoints' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'Skip Mistral tests as it needs to use mistral v2 endpoints' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'ceilometer.tests.tempest.api.test_telemetry_notification_api.TelemetryNotificationAPITest' deployment: - 'overcloud' releases: - name: 'newton' reason: 'This telemetry installation is configured to use Gnocchi' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'This telemetry installation is configured to use Gnocchi' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'This telemetry installation is configured to use Gnocchi' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'ceilometer.tests.tempest.api.test_telemetry_notification_api.TelemetryNotificationAdminAPITest' deployment: - 'overcloud' releases: - name: 'newton' reason: 'This telemetry installation is configured to use Gnocchi' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'This telemetry installation is configured to use Gnocchi' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'This telemetry installation is configured to use Gnocchi' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'ceilometer.tests.tempest.scenario.test_object_storage_telemetry_middleware.TestObjectStorageTelemetry' deployment: - 'overcloud' releases: - name: 'newton' reason: 'This telemetry installation is configured to use Gnocchi' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'This telemetry installation is configured to use Gnocchi' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'This telemetry installation is configured to use Gnocchi' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'neutron.tests.tempest.scenario.test_dvr.NetworkDvrTest' deployment: - 'overcloud' releases: - name: 'newton' reason: 'TODO(arxcruz) New test, need investigation' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'TODO(arxcruz) New test, need investigation' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'neutron.tests.tempest.scenario.test_trunk.TrunkTest' deployment: - 'overcloud' releases: - name: 'newton' reason: 'TODO(arxcruz) New test, need investigation' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'TODO(arxcruz) New test, need investigation' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'tempest.api.orchestration.stacks.test_resource_types.ResourceTypesTest' deployment: - 'overcloud' releases: - name: 'ocata' reason: 'tempest fail: tempest.api.orchestration.stacks.test_resource_types' bz: 'https://bugzilla.redhat.com/show_bug.cgi?id=1380146' jobs: [] - test: 'tempest.scenario.test_encrypted_cinder_volumes.TestEncryptedCinderVolumes' deployment: - 'overcloud' releases: - name: 'ocata' reason: 'TripleO does not deploy Barbican by default' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'tempest.api.volume.admin.test_volumes_backup.VolumesBackupsAdminTest' deployment: - 'overcloud' releases: - name: 'ocata' reason: 'Cinder backup is not enabled by default' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'cinder.tests.tempest.api.volume.test_volume_backup.VolumesBackupsTest' deployment: - 'overcloud' releases: - name: 'ocata' reason: 'Cinder backup is not enabled by default' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'tempest.api.volume.test_volumes_backup.VolumesBackupsTest' deployment: - 'overcloud' releases: - name: 'ocata' reason: 'Cinder backup is not enabled by default' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'tempest.api.orchestration.stacks.test_neutron_resources.NeutronResourcesTestJSON' deployment: - 'overcloud' releases: - name: 'ocata' reason: 'time out' lp: 'https://bugs.launchpad.net/tripleo/+bug/1723137' jobs: [] - test: 'tempest.scenario.test_volume_boot_pattern.TestVolumeBootPattern.test_boot_server_from_encrypted_volume_luks' deployment: - 'overcloud' releases: - name: 'ocata' reason: 'Legacy encryption is not properly configured by TripleO in Ocata and barbican is not deployed in overcloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/1733574' jobs: [] - test: 'tempest.api.identity.admin.v3.test_roles.RolesV3TestJSON.test_implied_roles_create_check_show_delete' deployment: - 'overcloud' releases: - name: 'ocata' reason: 'Difference in Implied Roles check API return code' lp: 'https://bugs.launchpad.net/keystone/+bug/1660603' - name: 'pike' reason: 'Difference in Implied Roles check API return code' lp: 'https://bugs.launchpad.net/keystone/+bug/1660603' jobs: [] - test: 'inspector_tempest_plugin.tests.test_basic.InspectorSmokeTest' deployment: - 'overcloud' releases: - name: 'pike' reason: 'TODO(weshay) The service is not running on the overcloud, needs investigation' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: []",0,222
openstack%2Fcharm-ironic-api~master~If79f39ad8a866494edbe1c6b61e233bd6f3adbd7,openstack/charm-ironic-api,master,If79f39ad8a866494edbe1c6b61e233bd6f3adbd7,Ensure all test bundles pick up vip from overlay,MERGED,2021-07-06 20:51:33.000000000,2021-07-15 13:40:53.000000000,2021-07-15 13:40:53.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-06 20:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/b84061fb4b723e3645453366c36c4029e715bec9', 'message': ""Ensure all test bundles pick up vip from overlay\n\nAll of the test bundles deploy ironic-api in HA with hacluster,\nhowever the bundles were using individual overlays that required\nnew overlays to be defined for each new bundle. Instead, let's\nuse a single local-charm-overlay.yaml.j2. This handles the\nsituation similar to how charm-octavia does.\n\nCloses-Bug: #1934382\nChange-Id: If79f39ad8a866494edbe1c6b61e233bd6f3adbd7\n""}, {'number': 2, 'created': '2021-07-07 01:44:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/30d9f4029e80e50c496f9b172429b46563fa886f', 'message': ""Ensure all test bundles pick up vip from overlay\n\nAll of the test bundles deploy ironic-api in HA with hacluster,\nhowever the bundles were using individual overlays that required\nnew overlays to be defined for each new bundle. Instead, let's\nuse a single local-charm-overlay.yaml.j2. This handles the\nsituation similar to how charm-octavia does.\n\nDepends-On: https://review.opendev.org/c/openstack/charm-ironic-api/+/799098\nCloses-Bug: #1934382\nChange-Id: If79f39ad8a866494edbe1c6b61e233bd6f3adbd7\n""}, {'number': 3, 'created': '2021-07-15 09:22:43.000000000', 'files': ['src/tests/bundles/overlays/local-charm-overlay.yaml.j2', 'src/tests/bundles/overlays/bionic-ussuri.yaml.j2', 'src/tests/bundles/overlays/focal-victoria.yaml.j2', 'src/tests/bundles/overlays/focal-ussuri.yaml.j2', 'src/tests/bundles/overlays/bionic-train.yaml.j2', 'src/tests/bundles/overlays/groovy-victoria.yaml.j2'], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/222e7e70c3b91ba5651f7eeb8e72b198ddedde2c', 'message': ""Ensure all test bundles pick up vip from overlay\n\nAll of the test bundles deploy ironic-api in HA with hacluster,\nhowever the bundles were using individual overlays that required\nnew overlays to be defined for each new bundle. Instead, let's\nuse a single local-charm-overlay.yaml.j2. This handles the\nsituation similar to how charm-octavia does.\n\nDepends-On: https://review.opendev.org/c/openstack/charm-ironic-api/+/799098\nCloses-Bug: #1934382\nChange-Id: If79f39ad8a866494edbe1c6b61e233bd6f3adbd7\n""}]",0,799718,222e7e70c3b91ba5651f7eeb8e72b198ddedde2c,27,3,3,11805,,,0,"Ensure all test bundles pick up vip from overlay

All of the test bundles deploy ironic-api in HA with hacluster,
however the bundles were using individual overlays that required
new overlays to be defined for each new bundle. Instead, let's
use a single local-charm-overlay.yaml.j2. This handles the
situation similar to how charm-octavia does.

Depends-On: https://review.opendev.org/c/openstack/charm-ironic-api/+/799098
Closes-Bug: #1934382
Change-Id: If79f39ad8a866494edbe1c6b61e233bd6f3adbd7
",git fetch https://review.opendev.org/openstack/charm-ironic-api refs/changes/18/799718/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/overlays/local-charm-overlay.yaml.j2', 'src/tests/bundles/overlays/bionic-ussuri.yaml.j2', 'src/tests/bundles/overlays/focal-ussuri.yaml.j2', 'src/tests/bundles/overlays/focal-victoria.yaml.j2', 'src/tests/bundles/overlays/bionic-train.yaml.j2', 'src/tests/bundles/overlays/groovy-victoria.yaml.j2']",6,b84061fb4b723e3645453366c36c4029e715bec9,bug/1934382,,ironic.j2,0,5
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I7a919ae6d00994d433e03b3304722abccac8dc2a,openstack/tripleo-heat-templates,stable/wallaby,I7a919ae6d00994d433e03b3304722abccac8dc2a,Fix manila-cephfsganesha-config environment for cephadm,MERGED,2021-07-12 13:52:04.000000000,2021-07-15 13:30:07.000000000,2021-07-15 13:30:07.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-07-12 13:52:04.000000000', 'files': ['environments/manila-cephfsganesha-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1f40b869a6e8f8789452b88b98b3f5ea890fe6fa', 'message': 'Fix manila-cephfsganesha-config environment for cephadm\n\nThe composable service is located in deployment/cephadm/cephadm.yaml,\nnot the one previously mentioned.\n\nThis patch will fix it.\n\nChange-Id: I7a919ae6d00994d433e03b3304722abccac8dc2a\n(cherry picked from commit 61ffbe98958e50133aae3fba51a79a1ca6804d77)\n'}]",0,800478,1f40b869a6e8f8789452b88b98b3f5ea890fe6fa,8,6,1,25402,,,0,"Fix manila-cephfsganesha-config environment for cephadm

The composable service is located in deployment/cephadm/cephadm.yaml,
not the one previously mentioned.

This patch will fix it.

Change-Id: I7a919ae6d00994d433e03b3304722abccac8dc2a
(cherry picked from commit 61ffbe98958e50133aae3fba51a79a1ca6804d77)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/78/800478/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/manila-cephfsganesha-config.yaml'],1,1f40b869a6e8f8789452b88b98b3f5ea890fe6fa,, # ceph-nfs (ganesha) service is installed and configured by tripleo-ansible OS::TripleO::Services::CephNfs: ../deployment/cephadm/ceph-nfs.yaml, # ceph-nfs (ganesha) service is installed and configured by ceph-ansible OS::TripleO::Services::CephNfs: ../deployment/ceph-ansible/ceph-nfs.yaml,2,2
openstack%2Fopenstack-ansible~master~I40c14dbc35259338016a5059ea85d9ddb64c3647,openstack/openstack-ansible,master,I40c14dbc35259338016a5059ea85d9ddb64c3647,Moving IRC network reference to OFTC,MERGED,2021-07-08 23:25:39.000000000,2021-07-15 13:14:16.000000000,2021-07-15 13:12:24.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 32238}]","[{'number': 1, 'created': '2021-07-08 23:25:39.000000000', 'files': ['doc/source/contributor/contributing.rst', 'doc/source/contributor/project-onboarding.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0965d2a22da9b03b27e9648e83d7d4d0dbe561c5', 'message': 'Moving IRC network reference to OFTC\n\nChange-Id: I40c14dbc35259338016a5059ea85d9ddb64c3647\n'}]",0,800127,0965d2a22da9b03b27e9648e83d7d4d0dbe561c5,9,4,1,8556,,,0,"Moving IRC network reference to OFTC

Change-Id: I40c14dbc35259338016a5059ea85d9ddb64c3647
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/27/800127/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/contributing.rst', 'doc/source/contributor/project-onboarding.rst']",2,0965d2a22da9b03b27e9648e83d7d4d0dbe561c5,oftc," The OpenStack Community moved the IRC network from Freenode to OFTC on May 31, network too."," The OpenStack Community will be moving the IRC network from Freenode to OFTC on May 31, network too. More details on how to use OFTC on various platform are coming soon.",5,7
openstack%2Fironic~stable%2Fussuri~I9a1b9f004c379f2b5f150ae0bb0ee89457cf486a,openstack/ironic,stable/ussuri,I9a1b9f004c379f2b5f150ae0bb0ee89457cf486a,Remove grenade jobs from old stable branches,MERGED,2021-07-12 13:04:17.000000000,2021-07-15 13:10:17.000000000,2021-07-15 10:58:32.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-12 13:04:17.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f33bc52b09362f4845021e7b744db6295d5a9b86', 'message': 'Remove grenade jobs from old stable branches\n\nAs discussed and approved during the ironic wallaby midcycle, the grenade\njobs in old stable branches, starting from EM branches and up the oldest\nnot-EM (currently ussuri) are removed.\n\nChange-Id: I9a1b9f004c379f2b5f150ae0bb0ee89457cf486a\n'}]",0,800465,f33bc52b09362f4845021e7b744db6295d5a9b86,18,3,1,23851,,,0,"Remove grenade jobs from old stable branches

As discussed and approved during the ironic wallaby midcycle, the grenade
jobs in old stable branches, starting from EM branches and up the oldest
not-EM (currently ussuri) are removed.

Change-Id: I9a1b9f004c379f2b5f150ae0bb0ee89457cf486a
",git fetch https://review.opendev.org/openstack/ironic refs/changes/65/800465/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,f33bc52b09362f4845021e7b744db6295d5a9b86,remove-grenade,, - ironic-grenade # Temporary disable voting because of end of cycle CI instability. - ironic-grenade-dsvm-multinode-multitenant: voting: false - ironic-grenade # removing from voting due to end of cycle gate instability. # - ironic-grenade-dsvm-multinode-multitenant,0,7
openstack%2Fansible-hardening~master~Ia22f21a3fb2e3c03af9a47b48c99f4024faaecb3,openstack/ansible-hardening,master,Ia22f21a3fb2e3c03af9a47b48c99f4024faaecb3,Moving IRC network reference to OFTC,MERGED,2021-07-08 23:26:29.000000000,2021-07-15 13:08:11.000000000,2021-07-15 13:06:28.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-07-08 23:26:29.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/b75f5d30d5cda8a7dc3caebf42849d18caddcb7f', 'message': 'Moving IRC network reference to OFTC\n\nChange-Id: Ia22f21a3fb2e3c03af9a47b48c99f4024faaecb3\n'}]",0,800128,b75f5d30d5cda8a7dc3caebf42849d18caddcb7f,8,3,1,8556,,,0,"Moving IRC network reference to OFTC

Change-Id: Ia22f21a3fb2e3c03af9a47b48c99f4024faaecb3
",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/28/800128/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,b75f5d30d5cda8a7dc3caebf42849d18caddcb7f,oftc,"For more information, join `#openstack-ansible` on OFTC.","For more information, join `#openstack-ansible` on Freenode.",1,1
openstack%2Fopenstack-ansible-os_cinder~master~Ie59f37d798873da90fb4b2c25699c2f4c62531ba,openstack/openstack-ansible-os_cinder,master,Ie59f37d798873da90fb4b2c25699c2f4c62531ba,setup.cfg: Replace dashes with underscores,MERGED,2021-07-12 06:14:10.000000000,2021-07-15 12:59:25.000000000,2021-07-15 12:58:00.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25600}, {'_account_id': 29865}]","[{'number': 1, 'created': '2021-07-12 06:14:10.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/4022e8950e5323bf9b5112d54c5c0b24257d7252', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ie59f37d798873da90fb4b2c25699c2f4c62531ba\n""}]",0,800418,4022e8950e5323bf9b5112d54c5c0b24257d7252,8,5,1,30615,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ie59f37d798873da90fb4b2c25699c2f4c62531ba
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/18/800418/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,4022e8950e5323bf9b5112d54c5c0b24257d7252,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/openstack-ansible-os_cinder/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/openstack-ansible-os_cinder/latest/,3,3
openstack%2Freleases~master~I5b8ea16959e5cc43a16e6d84003d76abb8e23373,openstack/releases,master,I5b8ea16959e5cc43a16e6d84003d76abb8e23373,nova: Release Ussuri 21.2.2,MERGED,2021-07-12 13:50:00.000000000,2021-07-15 12:56:35.000000000,2021-07-15 12:56:35.000000000,"[{'_account_id': 308}, {'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-12 13:50:00.000000000', 'files': ['deliverables/ussuri/nova.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8bc060a18de7ec5529856667ecc9d6814fb7dc0c', 'message': 'nova: Release Ussuri 21.2.2\n\n$ git log --oneline --no-merges 21.2.1..HEAD\nbe4a514c8a [neutron] Get only ID and name of the SGs from Neutron\nbf90a1e061 Error anti-affinity violation on migrations\n31ead3839e Remove broken legacy zuul jobs\n341ba7aa17 [CI] Fix gate by using zuulv3 live migration and grenade jobs\n22daca3e7f Ignore PCI devices with 32bit domain\n8e9859b95c Reproduce bug 1897528\n\nChange-Id: I5b8ea16959e5cc43a16e6d84003d76abb8e23373\n'}]",0,800477,8bc060a18de7ec5529856667ecc9d6814fb7dc0c,11,6,1,17685,,,0,"nova: Release Ussuri 21.2.2

$ git log --oneline --no-merges 21.2.1..HEAD
be4a514c8a [neutron] Get only ID and name of the SGs from Neutron
bf90a1e061 Error anti-affinity violation on migrations
31ead3839e Remove broken legacy zuul jobs
341ba7aa17 [CI] Fix gate by using zuulv3 live migration and grenade jobs
22daca3e7f Ignore PCI devices with 32bit domain
8e9859b95c Reproduce bug 1897528

Change-Id: I5b8ea16959e5cc43a16e6d84003d76abb8e23373
",git fetch https://review.opendev.org/openstack/releases refs/changes/77/800477/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/nova.yaml'],1,8bc060a18de7ec5529856667ecc9d6814fb7dc0c,nova-ussuri-21.2.2, - version: 21.2.2 projects: - repo: openstack/nova hash: 78c19c8f27817812ad9180e2dc93f38832de0dce,,4,0
openstack%2Freleases~master~Ibc960d6ca3f9bcd05079f374df7ebfde7a2882bd,openstack/releases,master,Ibc960d6ca3f9bcd05079f374df7ebfde7a2882bd,nova: Release Victoria 22.2.2,MERGED,2021-07-12 13:50:00.000000000,2021-07-15 12:56:31.000000000,2021-07-15 12:56:31.000000000,"[{'_account_id': 308}, {'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-12 13:50:00.000000000', 'files': ['deliverables/victoria/nova.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/cfc2000bb2d55c628203d4fc876522243613f4b4', 'message': 'nova: Release Victoria 22.2.2\n\n$ git log --oneline --no-merges 22.2.1..HEAD\nbec6dd4752 Stop leaking ceph df cmd in RBD utils\nf7d84db587 [neutron] Get only ID and name of the SGs from Neutron\n6ede6df7f4 Error anti-affinity violation on migrations\ne3085fa631 Initialize global data separately and run_once in WSGI app init\nf20346bc00 Honor [neutron]http_retries in the manual client\n2af08fb5ea zuul: Replace grenade and nova-grenade-multinode with grenade-multinode\n0405709999 rbd: Get rbd_utils unit tests running again\n90ffc553d7 Ignore PCI devices with 32bit domain\n0354d4d9f4 Reproduce bug 1897528\n\nChange-Id: Ibc960d6ca3f9bcd05079f374df7ebfde7a2882bd\n'}]",0,800476,cfc2000bb2d55c628203d4fc876522243613f4b4,11,6,1,17685,,,0,"nova: Release Victoria 22.2.2

$ git log --oneline --no-merges 22.2.1..HEAD
bec6dd4752 Stop leaking ceph df cmd in RBD utils
f7d84db587 [neutron] Get only ID and name of the SGs from Neutron
6ede6df7f4 Error anti-affinity violation on migrations
e3085fa631 Initialize global data separately and run_once in WSGI app init
f20346bc00 Honor [neutron]http_retries in the manual client
2af08fb5ea zuul: Replace grenade and nova-grenade-multinode with grenade-multinode
0405709999 rbd: Get rbd_utils unit tests running again
90ffc553d7 Ignore PCI devices with 32bit domain
0354d4d9f4 Reproduce bug 1897528

Change-Id: Ibc960d6ca3f9bcd05079f374df7ebfde7a2882bd
",git fetch https://review.opendev.org/openstack/releases refs/changes/76/800476/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/nova.yaml'],1,cfc2000bb2d55c628203d4fc876522243613f4b4,nova-victoria-22.2.2, - version: 22.2.2 projects: - repo: openstack/nova hash: 4135970d3c62895662bbca5055c3a5ae4099bf7d,,4,0
openstack%2Ftripleo-ci~master~I2c193ff171ec6576930b006391224ebedf06abb9,openstack/tripleo-ci,master,I2c193ff171ec6576930b006391224ebedf06abb9,"Revert ""Temp mark undercloud-upgrade-wallaby non voting for swift bug""",MERGED,2021-07-15 07:49:01.000000000,2021-07-15 12:55:17.000000000,2021-07-15 12:55:17.000000000,"[{'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2021-07-15 07:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/df89e14ba73cf5021d675e10c7a792108c2b0ade', 'message': 'Revert ""Temp mark undercloud-upgrade-wallaby non voting for swift bug""\n\nThis reverts commit cea112d77436a7bc998bedbfddee010ed0fade27.\n\nReason for revert: related bug fixed see comment #11\nRelated-Bug: 1935961\n\nChange-Id: I2c193ff171ec6576930b006391224ebedf06abb9\n'}, {'number': 2, 'created': '2021-07-15 07:53:37.000000000', 'files': ['zuul.d/upgrades-jobs-templates.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5c17ccca732e2e4c1c1ec070003d6fd09796566f', 'message': 'Revert ""Temp mark undercloud-upgrade-wallaby non voting for swift bug""\n\nThis reverts commit cea112d77436a7bc998bedbfddee010ed0fade27.\nJob is green again [1]\nReason for revert: related bug fixed see comment #12\n\n[1] https://zuul.openstack.org/builds?job_name=tripleo-ci-centos-8-undercloud-upgrade-wallaby\nRelated-Bug: 1935961\n\nChange-Id: I2c193ff171ec6576930b006391224ebedf06abb9\n'}]",0,800860,5c17ccca732e2e4c1c1ec070003d6fd09796566f,11,6,2,8449,,,0,"Revert ""Temp mark undercloud-upgrade-wallaby non voting for swift bug""

This reverts commit cea112d77436a7bc998bedbfddee010ed0fade27.
Job is green again [1]
Reason for revert: related bug fixed see comment #12

[1] https://zuul.openstack.org/builds?job_name=tripleo-ci-centos-8-undercloud-upgrade-wallaby
Related-Bug: 1935961

Change-Id: I2c193ff171ec6576930b006391224ebedf06abb9
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/60/800860/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/upgrades-jobs-templates.yaml'],1,df89e14ba73cf5021d675e10c7a792108c2b0ade,wallaby-upgrade-jobs, voting: true, voting: false,1,1
openstack%2Fpuppet-magnum~master~I1f2910686216d3ce3cf6dab41d3bdc7a52606f87,openstack/puppet-magnum,master,I1f2910686216d3ce3cf6dab41d3bdc7a52606f87,"uwsgi_config: Use init_setting, not openstacksetting",MERGED,2021-07-12 08:04:25.000000000,2021-07-15 12:52:23.000000000,2021-07-15 12:52:23.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-12 08:04:25.000000000', 'files': ['lib/puppet/provider/magnum_api_uwsgi_config/openstackconfig.rb', 'spec/unit/provider/magnum_api_uwsgi_config/ini_setting_spec.rb', 'lib/puppet/provider/magnum_api_uwsgi_config/ini_setting.rb'], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/b8fba23ef35cabef588d832623715d43492f43b6', 'message': 'uwsgi_config: Use init_setting, not openstacksetting\n\nThe way the patch was sent, it always want to change the magnum uwsgi\nfile on each run. This fixes it.\n\nChange-Id: I1f2910686216d3ce3cf6dab41d3bdc7a52606f87\n'}]",0,800436,b8fba23ef35cabef588d832623715d43492f43b6,7,3,1,6476,,,0,"uwsgi_config: Use init_setting, not openstacksetting

The way the patch was sent, it always want to change the magnum uwsgi
file on each run. This fixes it.

Change-Id: I1f2910686216d3ce3cf6dab41d3bdc7a52606f87
",git fetch https://review.opendev.org/openstack/puppet-magnum refs/changes/36/800436/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/provider/magnum_api_uwsgi_config/openstackconfig.rb', 'spec/unit/provider/magnum_api_uwsgi_config/ini_setting_spec.rb', 'lib/puppet/provider/magnum_api_uwsgi_config/ini_setting.rb']",3,b8fba23ef35cabef588d832623715d43492f43b6,debian-uwsgi-support,"Puppet::Type.type(:magnum_api_uwsgi_config).provide( :ini_setting, :parent => Puppet::Type.type(:openstack_config).provider(:ini_setting) ) do def self.file_path '/etc/magnum/magnum-api-uwsgi.ini' end end ",,11,11
openstack%2Fopenstack-tempest-skiplist~master~I2904bbb4c4b29f7008d98da58eb6304849ba9608,openstack/openstack-tempest-skiplist,master,I2904bbb4c4b29f7008d98da58eb6304849ba9608,Remove tempest test from skiplist,MERGED,2021-07-15 11:05:14.000000000,2021-07-15 12:47:05.000000000,2021-07-15 12:45:43.000000000,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-15 11:05:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/7d1b408c76ae6e03ae8727646d94ed3820dbef48', 'message': 'Remove tempest test from skiplist\n\nThis patch will remove the tesmpest tests from skiplist\nwhich are having green run (more than 10 times) in the\nlast/previous runs.\n\nChange-Id: I2904bbb4c4b29f7008d98da58eb6304849ba9608\n'}, {'number': 2, 'created': '2021-07-15 11:08:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/8cf4fe8ce6d26edc678fb5e122ce254447e8ce6d', 'message': 'Remove tempest test from skiplist\n\nThis patch will remove the tesmpest tests from skiplist\nwhich are having green run (more than 10 times) in the\nlast/previous runs.\n\nChange-Id: I2904bbb4c4b29f7008d98da58eb6304849ba9608\n'}, {'number': 3, 'created': '2021-07-15 12:25:39.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/7314c0ee6ca92c5c54b2fbd15849755cf9d44355', 'message': 'Remove tempest test from skiplist\n\nThis patch will remove the tesmpest tests from skiplist\nwhich are having green run (more than 10 times) in the\nlast/previous runs.\n\nCloses-Bug: #1728886\nCloses-Bug: #1921400\nCloses-Bug: #1926647\nCloses-Bug: #1926992\nChange-Id: I2904bbb4c4b29f7008d98da58eb6304849ba9608\n'}]",1,800913,7314c0ee6ca92c5c54b2fbd15849755cf9d44355,14,4,3,20182,,,0,"Remove tempest test from skiplist

This patch will remove the tesmpest tests from skiplist
which are having green run (more than 10 times) in the
last/previous runs.

Closes-Bug: #1728886
Closes-Bug: #1921400
Closes-Bug: #1926647
Closes-Bug: #1926992
Change-Id: I2904bbb4c4b29f7008d98da58eb6304849ba9608
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/13/800913/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,7d1b408c76ae6e03ae8727646d94ed3820dbef48,remove-tempest-test-from-skiplist-1,, - test: 'tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_port_security_macspoofing_port' deployment: - 'overcloud' releases: - name: 'master' reason: 'It can be removed when bug for OVN is repaired' lp: 'https://bugs.launchpad.net/tempest/+bug/1728886' - name: 'victoria' reason: 'It can be removed when bug for OVN is repaired' lp: 'https://bugs.launchpad.net/tempest/+bug/1728886' - name: 'wallaby' reason: 'It can be removed when bug for OVN is repaired' lp: 'https://bugs.launchpad.net/tempest/+bug/1728886' - name: 'stein' reason: 'It can be removed when bug for OVN is repaired' lp: 'https://bugs.launchpad.net/tempest/+bug/1728886' - name: 'train' reason: 'It can be removed when bug for OVN is repaired' lp: 'https://bugs.launchpad.net/tempest/+bug/1728886' - name: 'ussuri' reason: 'It can be removed when bug for OVN is repaired' lp: 'https://bugs.launchpad.net/tempest/+bug/1728886' jobs: [] - test: tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_mtu_sized_frames deployment: - overcloud releases: - name: wallaby reason: auth issues lp: https://bugs.launchpad.net/tripleo/+bug/1921400 - name: master reason: auth issues lp: https://bugs.launchpad.net/tripleo/+bug/1921400 jobs: - tripleo-ci-centos-8-containers-multinode - test: tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_subnet_details deployment: - overcloud releases: - name: master reason: auth issues lp: https://bugs.launchpad.net/tripleo/+bug/1921400 - name: wallaby reason: auth issues lp: https://bugs.launchpad.net/tripleo/+bug/1921400 - test: tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_update_router_admin_state deployment: - overcloud releases: - name: master reason: auth issues lp: https://bugs.launchpad.net/tripleo/+bug/1921400 - name: wallaby reason: auth issues lp: https://bugs.launchpad.net/tripleo/+bug/1921400 - test: tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_connectivity_between_vms_on_different_networks deployment: - overcloud releases: - name: master reason: auth issues lp: https://bugs.launchpad.net/tripleo/+bug/1921400 - name: wallaby reason: auth issues lp: https://bugs.launchpad.net/tripleo/+bug/1921400 - test: tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_connectivity_between_vms_on_different_networks deployment: - overcloud releases: - name: master reason: auth issues lp: https://bugs.launchpad.net/tripleo/+bug/1921400 - name: wallaby reason: auth issues lp: https://bugs.launchpad.net/tripleo/+bug/1921400 jobs: - periodic-tripleo-ci-centos-8-standalone-full-tempest-scenario-master - periodic-tripleo-ci-centos-8-standalone-full-tempest-scenario-compute-master - periodic-tripleo-ci-centos-8-standalone-full-tempest-scenario-tempest-master - test: tempest.scenario.test_minimum_basic.TestMinimumBasicScenario.test_minimum_basic_scenario - test: tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_hotplug_nic deployment: - overcloud releases: - name: master reason: Failing on network lp: https://bugs.launchpad.net/tripleo/+bug/1926647 - name: wallaby reason: Failing on network lp: https://bugs.launchpad.net/tripleo/+bug/1926647 jobs: [] - test: tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_port_security_macspoofing_port deployment: - overcloud releases: - name: master reason: Failing on network lp: https://bugs.launchpad.net/tripleo/+bug/1926992 - name: wallaby reason: Failing on network lp: https://bugs.launchpad.net/tripleo/+bug/1926992 jobs: [],0,102
openstack%2Fcyborg-specs~master~I9a6941eccebf65da4df90b95a1dc36f9bca40dc1,openstack/cyborg-specs,master,I9a6941eccebf65da4df90b95a1dc36f9bca40dc1,Add NVIDIA GPU driver specification,MERGED,2020-10-24 09:30:30.000000000,2021-07-15 12:42:46.000000000,2021-07-15 12:41:30.000000000,"[{'_account_id': 22348}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}]","[{'number': 1, 'created': '2020-10-24 09:30:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/4ec04924c50a36cd214b9b097b710e4a5d15e41e', 'message': ""Add NVIDIA GPU driver specification\n\nThis spec proposes to provide the initial design for\nCyborg's NVIDIA GPU driver.\n\nChange-Id: I9a6941eccebf65da4df90b95a1dc36f9bca40dc1\n""}, {'number': 2, 'created': '2020-11-04 09:17:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/40ce9f9fee6bb9b1704efede0aa4493c72836f74', 'message': ""Add NVIDIA GPU driver specification\n\nThis spec proposes to provide the initial design for\nCyborg's NVIDIA GPU driver.\n\nChange-Id: I9a6941eccebf65da4df90b95a1dc36f9bca40dc1\n""}, {'number': 3, 'created': '2020-11-10 01:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/28d6b88c64d7ff37601255ff7b6f952f71bded78', 'message': ""Add NVIDIA GPU driver specification\n\nThis spec proposes to provide the t initial design for\nCyborg's NVIDIA GPU driver.\n\nChange-Id: I9a6941eccebf65da4df90b95a1dc36f9bca40dc1\n""}, {'number': 4, 'created': '2021-06-10 07:20:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/0f9cb716718718a2e02e3b8bbc01e0d15662795f', 'message': ""Add NVIDIA GPU driver specification\n\nThis spec proposes to provide the t initial design for\nCyborg's NVIDIA GPU driver.\n\nChange-Id: I9a6941eccebf65da4df90b95a1dc36f9bca40dc1\n""}, {'number': 5, 'created': '2021-07-15 06:35:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/5bffc4bee7863792e22c48cfb3508244999140e0', 'message': ""Add NVIDIA GPU driver specification\n\nThis spec proposes to provide the initial design for\nCyborg's NVIDIA pGPU driver.\n\nChange-Id: I9a6941eccebf65da4df90b95a1dc36f9bca40dc1\n""}, {'number': 6, 'created': '2021-07-15 09:06:19.000000000', 'files': ['specs/train/implemented/nvidia-gpu-driver-proposal.rst'], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/4281ff28da1cf869b08b417616533b0947a317c1', 'message': ""Add NVIDIA GPU driver specification\n\nThis spec proposes to provide the initial design for\nCyborg's NVIDIA pGPU driver.\n\nChange-Id: I9a6941eccebf65da4df90b95a1dc36f9bca40dc1\n""}]",18,759557,4281ff28da1cf869b08b417616533b0947a317c1,27,5,6,31412,,,0,"Add NVIDIA GPU driver specification

This spec proposes to provide the initial design for
Cyborg's NVIDIA pGPU driver.

Change-Id: I9a6941eccebf65da4df90b95a1dc36f9bca40dc1
",git fetch https://review.opendev.org/openstack/cyborg-specs refs/changes/57/759557/5 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/implemented/nvidia-gpu-driver-proposal.rst'],1,4ec04924c50a36cd214b9b097b710e4a5d15e41e,759557,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================== Cyborg NVIDIA GPU Driver Proposal ================================== This spec proposes to provide the initial design for Cyborg's NVIDIA GPU driver. Problem description =================== This spec will add a NVIDIA GPU driver for Cyborg to manage specific NVIDIA GPU devices. Use Cases --------- * When Cyborg agent starts or does resource checking periodically, the Cyborg NVIDIA GPU driver should provider discover() function to enumerate the list of the NVIDIA GPU devices, and report the details of all available NVIDIA GPU accelerators on the host, such as PID(Product id), VID(Vendor id), Device. * When user want to boot up a VM with NVIDIA GPU card attached in order to accelerate compute ability. Cyborg should be able to manage this kind of acceleration resources and assign it to the VM(binding). Proposed changes ================ In general, the goal is to develop a Cyborg NVIDIA GPU driver that supports discover interfaces for NVIDIA GPU accelerator framework. The driver should include the discover() function that reports devices' raw info sample as following:: [ { ""vendor"": ""10de"", ""product"": ""1db6"", ""device"": ""0000:af:00:0"" } ] Image Format ---------------------------- Alternatives ------------ None Data model impact ----------------- NVIDIA GPU driver will not touch Data model. The Cyborg Agent can call NVIDIA GPU driver to update the database during the discover operations. REST API impact --------------- None. Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- User can manage NVIDIA GPU cards by Cyborg NVIDIA GPU driver. Such as list of the NVIDIA GPU devices, report the details of all available NVIDIA GPU accelerators on the host, binding with NVIDIA GPU and so on. Performance Impact ------------------ None Other deployer impact --------------------- None. Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Wenping Song Work Items ---------- * Implement NVIDIA GPU driver in Cyborg * Add related test cases. Dependencies ============ None Testing ======== * Unit tests will be added to test this driver. Documentation Impact ==================== Document NVIDIA GPU driver in Cyborg project. References ========== None History ======= .. list-table:: Revisions :header-rows: 1 * - Release - Description * - Train - Introduced References ========== None ",,153,0
openstack%2Fcharm-aodh~stable%2F21.04~I22a27db2577fe31fdb421e80a32067bcb3a7facb,openstack/charm-aodh,stable/21.04,I22a27db2577fe31fdb421e80a32067bcb3a7facb,rebuild - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:11:51.000000000,2021-07-15 12:39:50.000000000,2021-07-15 12:39:50.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:11:51.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/2996a03e72965873e72dd00cdfd5672858d691a1', 'message': 'rebuild - restore proxy env vars for add-apt-repository\n\nChange-Id: I22a27db2577fe31fdb421e80a32067bcb3a7facb\n'}]",0,799274,2996a03e72965873e72dd00cdfd5672858d691a1,14,4,1,11805,,,0,"rebuild - restore proxy env vars for add-apt-repository

Change-Id: I22a27db2577fe31fdb421e80a32067bcb3a7facb
",git fetch https://review.opendev.org/openstack/charm-aodh refs/changes/74/799274/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,2996a03e72965873e72dd00cdfd5672858d691a1,batch-update,8e75c1dc-db58-11eb-b376-e7cc9c787058,be7e7a04-64d9-11eb-a847-4bb3587913be,1,1
openstack%2Fcharm-neutron-api-plugin-ovn~stable%2F21.04~Ib49c72ed20a40e6265b1e36ec86a08d0fb06be43,openstack/charm-neutron-api-plugin-ovn,stable/21.04,Ib49c72ed20a40e6265b1e36ec86a08d0fb06be43,rebuild - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:25:13.000000000,2021-07-15 12:39:36.000000000,2021-07-15 12:39:36.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:25:13.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/b1dac118e4250b1df5de685a6942a6eb4457c013', 'message': 'rebuild - restore proxy env vars for add-apt-repository\n\nChange-Id: Ib49c72ed20a40e6265b1e36ec86a08d0fb06be43\n'}]",0,799302,b1dac118e4250b1df5de685a6942a6eb4457c013,13,4,1,11805,,,0,"rebuild - restore proxy env vars for add-apt-repository

Change-Id: Ib49c72ed20a40e6265b1e36ec86a08d0fb06be43
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ovn refs/changes/02/799302/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,b1dac118e4250b1df5de685a6942a6eb4457c013,batch-update,8ecf8e9c-db58-11eb-a807-13fd7d727445,beb6cf1c-64d9-11eb-aa79-8b65f9205b01,1,1
openstack%2Fcharm-keystone-ldap~stable%2F21.04~I3d047398386273b0a2cd29f75acab7203b223d6d,openstack/charm-keystone-ldap,stable/21.04,I3d047398386273b0a2cd29f75acab7203b223d6d,rebuild - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:23:32.000000000,2021-07-15 12:39:33.000000000,2021-07-15 12:39:33.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:23:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/66e4ce3abbd63b529990d6ee0b0def6f697e774d', 'message': 'rebuild - restore proxy env vars for add-apt-repository\n\nChange-Id: I3d047398386273b0a2cd29f75acab7203b223d6d\n'}, {'number': 2, 'created': '2021-07-08 18:08:34.000000000', 'files': ['rebuild', 'osci.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/0e16ec3301097fced3f947cc5462ceef2c48ff7f', 'message': ""rebuild - restore proxy env vars for add-apt-repository\n\nAlso override bundles in osci.yaml as wallaby+ bundles\ndon't exist in stable branch.\n\nChange-Id: I3d047398386273b0a2cd29f75acab7203b223d6d\n""}]",0,799287,0e16ec3301097fced3f947cc5462ceef2c48ff7f,16,4,2,11805,,,0,"rebuild - restore proxy env vars for add-apt-repository

Also override bundles in osci.yaml as wallaby+ bundles
don't exist in stable branch.

Change-Id: I3d047398386273b0a2cd29f75acab7203b223d6d
",git fetch https://review.opendev.org/openstack/charm-keystone-ldap refs/changes/87/799287/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,66e4ce3abbd63b529990d6ee0b0def6f697e774d,batch-update,8eb025ac-db58-11eb-b581-83f7ed13fd39,be994d34-64d9-11eb-a39d-a3df33f08520,1,1
openstack%2Fcharm-barbican-vault~stable%2F21.04~Ic49eb72bc5d9c57098cba48909b958987b3098de,openstack/charm-barbican-vault,stable/21.04,Ic49eb72bc5d9c57098cba48909b958987b3098de,rebuild - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:12:03.000000000,2021-07-15 12:37:08.000000000,2021-07-15 12:37:08.000000000,"[{'_account_id': 11805}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:12:03.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-barbican-vault/commit/1c569d57753dd3419afca032e855b99812cf3ab7', 'message': 'rebuild - restore proxy env vars for add-apt-repository\n\nChange-Id: Ic49eb72bc5d9c57098cba48909b958987b3098de\n'}]",0,799276,1c569d57753dd3419afca032e855b99812cf3ab7,19,5,1,11805,,,0,"rebuild - restore proxy env vars for add-apt-repository

Change-Id: Ic49eb72bc5d9c57098cba48909b958987b3098de
",git fetch https://review.opendev.org/openstack/charm-barbican-vault refs/changes/76/799276/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,1c569d57753dd3419afca032e855b99812cf3ab7,batch-update,8e79f752-db58-11eb-bc49-8358600d3aa8,be81cb8c-64d9-11eb-bee7-6f027a499257,1,1
openstack%2Fcharm-designate~stable%2F21.04~I34c6f336694a202a34a6cc2f2e6c4c6b22b5a612,openstack/charm-designate,stable/21.04,I34c6f336694a202a34a6cc2f2e6c4c6b22b5a612,rebuild - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:12:40.000000000,2021-07-15 12:35:03.000000000,2021-07-15 12:35:03.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:12:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/995360a2e0e2f98242f06eccab24e8db78dc5cb1', 'message': 'rebuild - restore proxy env vars for add-apt-repository\n\nChange-Id: I34c6f336694a202a34a6cc2f2e6c4c6b22b5a612\n'}, {'number': 2, 'created': '2021-07-08 18:13:10.000000000', 'files': ['rebuild', 'osci.yaml'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/9d5e02a94a1e407b82a56272487361bb6d62292b', 'message': ""rebuild - restore proxy env vars for add-apt-repository\n\nAlso override bundles in osci.yaml as wallaby+ bundles\ndon't exist in stable branch.\n\nChange-Id: I34c6f336694a202a34a6cc2f2e6c4c6b22b5a612\n""}]",0,799281,9d5e02a94a1e407b82a56272487361bb6d62292b,17,4,2,11805,,,0,"rebuild - restore proxy env vars for add-apt-repository

Also override bundles in osci.yaml as wallaby+ bundles
don't exist in stable branch.

Change-Id: I34c6f336694a202a34a6cc2f2e6c4c6b22b5a612
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/81/799281/2 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,995360a2e0e2f98242f06eccab24e8db78dc5cb1,batch-update,8e992db6-db58-11eb-bf85-d367255f767e,be897dd2-64d9-11eb-a36a-1b73cd2a61ab,1,1
openstack%2Freleases~master~I80ebeb273213d25862befa8fa51990d993b7a3a4,openstack/releases,master,I80ebeb273213d25862befa8fa51990d993b7a3a4,nova: Release Wallaby 23.0.2,MERGED,2021-07-12 13:50:00.000000000,2021-07-15 12:28:05.000000000,2021-07-15 12:28:05.000000000,"[{'_account_id': 308}, {'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-12 13:50:00.000000000', 'files': ['deliverables/wallaby/nova.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/6ba194cde81ee7568ebf132634180130a1c367ab', 'message': ""nova: Release Wallaby 23.0.2\n\n$ git log --oneline --no-merges 23.0.1..HEAD\nfef0305abe Move 'check-cherry-picks' test to gate, n-v check\n5d65680095 libvirt: Set driver_iommu when attaching virtio devices to SEV instance\nc45bedd98d zuul: Replace grenade and nova-grenade-multinode with grenade-multinode\n8b62a4ec9b Error anti-affinity violation on migrations\n46aa3f4ec7 Honor [neutron]http_retries in the manual client\nbf7254b794 Update SRIOV port pci_slot when unshelving\n3625d5336a Test SRIOV port move operations with PCI conflicts\n83ca8b3563 Neutron fixture: don't clobber profile and vif_details if empty\n5ede75c65e Stop leaking ceph df cmd in RBD utils\n4709256142 Reject open redirection in the console proxy\n8f018d754d rbd: Get rbd_utils unit tests running again\n8b50f48ed2 Consolidate device detach error handling\nebf1ceb7d6 Move instance power state check to _detach_with_retry\n14596ca30f libvirt: Remove dead error handling code\n9f90c7268c Follow up type hints for a634103\n3fcd11a403 Enable mypy on libvirt/guest.py\n5f488d8cd1 Move the guest.get_disk test to test_guest\n30317e6b3f Replace blind retry with libvirt event waiting in detach\n\nChange-Id: I80ebeb273213d25862befa8fa51990d993b7a3a4\n""}]",0,800475,6ba194cde81ee7568ebf132634180130a1c367ab,11,6,1,17685,,,0,"nova: Release Wallaby 23.0.2

$ git log --oneline --no-merges 23.0.1..HEAD
fef0305abe Move 'check-cherry-picks' test to gate, n-v check
5d65680095 libvirt: Set driver_iommu when attaching virtio devices to SEV instance
c45bedd98d zuul: Replace grenade and nova-grenade-multinode with grenade-multinode
8b62a4ec9b Error anti-affinity violation on migrations
46aa3f4ec7 Honor [neutron]http_retries in the manual client
bf7254b794 Update SRIOV port pci_slot when unshelving
3625d5336a Test SRIOV port move operations with PCI conflicts
83ca8b3563 Neutron fixture: don't clobber profile and vif_details if empty
5ede75c65e Stop leaking ceph df cmd in RBD utils
4709256142 Reject open redirection in the console proxy
8f018d754d rbd: Get rbd_utils unit tests running again
8b50f48ed2 Consolidate device detach error handling
ebf1ceb7d6 Move instance power state check to _detach_with_retry
14596ca30f libvirt: Remove dead error handling code
9f90c7268c Follow up type hints for a634103
3fcd11a403 Enable mypy on libvirt/guest.py
5f488d8cd1 Move the guest.get_disk test to test_guest
30317e6b3f Replace blind retry with libvirt event waiting in detach

Change-Id: I80ebeb273213d25862befa8fa51990d993b7a3a4
",git fetch https://review.opendev.org/openstack/releases refs/changes/75/800475/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/nova.yaml'],1,6ba194cde81ee7568ebf132634180130a1c367ab,nova-wallaby-23.0.2, - version: 23.0.2 projects: - repo: openstack/nova hash: 4a11babb57d40c63431841cdb9028bc73242dffd,,4,0
openstack%2Fnova~master~If48dd949ec4d69a09c87178f16d56a2517e21fd8,openstack/nova,master,If48dd949ec4d69a09c87178f16d56a2517e21fd8,tests: Silence SQLAlchemy warnings,MERGED,2021-07-15 09:47:10.000000000,2021-07-15 11:58:11.000000000,2021-07-15 11:43:52.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-15 09:47:10.000000000', 'files': ['nova/tests/fixtures/nova.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0aea2ac90344d5fbe39df2125d6885ddd5837f89', 'message': ""tests: Silence SQLAlchemy warnings\n\nWhile we wait for keystone to merge the patch to unblock oslo.db 10.0.0,\nsilence these warnings from newer versions of SQLAlchemy. TODOs are left\nsince we don't want to keep these around forever.\n\nChange-Id: If48dd949ec4d69a09c87178f16d56a2517e21fd8\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,800900,0aea2ac90344d5fbe39df2125d6885ddd5837f89,12,3,1,15334,,,0,"tests: Silence SQLAlchemy warnings

While we wait for keystone to merge the patch to unblock oslo.db 10.0.0,
silence these warnings from newer versions of SQLAlchemy. TODOs are left
since we don't want to keep these around forever.

Change-Id: If48dd949ec4d69a09c87178f16d56a2517e21fd8
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/00/800900/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/fixtures/nova.py'],1,0aea2ac90344d5fbe39df2125d6885ddd5837f89,warnings," # NOTE(stephenfin): Disable the annoying ""TypeDecorator foo will not # produce a cache key because the ``cache_ok`` flag is not set to True"" # warning. It's fixed in oslo.db 10.0.0 but not before. # TODO(stephenfin): Remove once we bump oslo.db in lower-constraints to # 10.0.0 warnings.filterwarnings( 'ignore', message=r'TypeDecorator SoftDeleteInteger\(\) will not produce .*', category=sqla_exc.SAWarning) # TODO(stephenfin): Remove once we fix this is oslo.db 10.0.1 or so warnings.filterwarnings( 'ignore', message=r'Invoking and_\(\) without arguments is deprecated, .*', category=sqla_exc.SADeprecationWarning) # TODO(stephenfin): Remove once we fix this in placement 5.0.2 or 6.0.0 warnings.filterwarnings( 'ignore', message='Implicit coercion of SELECT and textual SELECT .*', category=sqla_exc.SADeprecationWarning) ",,22,0
openstack%2Frequirements~stable%2Fpike~I3b5fa373e2521b05dae6061c7ede0ea749888f18,openstack/requirements,stable/pike,I3b5fa373e2521b05dae6061c7ede0ea749888f18,Retire django-openstack-auth - Step 1: Stop requirements syncing,MERGED,2021-07-14 06:22:42.000000000,2021-07-15 11:55:01.000000000,2021-07-15 11:55:01.000000000,"[{'_account_id': 841}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-14 06:22:42.000000000', 'files': ['global-requirements.txt', 'projects.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/5ea15efbcd96a5eb24c1fecb6dfab30ad683e993', 'message': 'Retire django-openstack-auth - Step 1: Stop requirements syncing\n\n``django_openstack_auth`` code was merged into the main horizon\nrepository during the queens release. This repo is already\ndeprecated and now we can retire it. This patch removes all\nreferences of ``django_openstack_auth`` as mentioned in [1].\n\n[1] https://docs.openstack.org/project-team-guide/repository.html#retiring-a-repository\n\nChange-Id: I3b5fa373e2521b05dae6061c7ede0ea749888f18\n'}]",0,800747,5ea15efbcd96a5eb24c1fecb6dfab30ad683e993,8,4,1,29313,,,0,"Retire django-openstack-auth - Step 1: Stop requirements syncing

``django_openstack_auth`` code was merged into the main horizon
repository during the queens release. This repo is already
deprecated and now we can retire it. This patch removes all
references of ``django_openstack_auth`` as mentioned in [1].

[1] https://docs.openstack.org/project-team-guide/repository.html#retiring-a-repository

Change-Id: I3b5fa373e2521b05dae6061c7ede0ea749888f18
",git fetch https://review.opendev.org/openstack/requirements refs/changes/47/800747/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'projects.txt']",2,5ea15efbcd96a5eb24c1fecb6dfab30ad683e993,retire-django-openstack-auth,,openstack/django_openstack_auth,0,2
openstack%2Fnova-specs~master~I8c4c7364adb0f2e69c17c81d20ad78b9f259229c,openstack/nova-specs,master,I8c4c7364adb0f2e69c17c81d20ad78b9f259229c,Re-propose nova-audit spec for Xena,MERGED,2021-07-12 21:58:57.000000000,2021-07-15 11:52:34.000000000,2021-07-15 11:50:55.000000000,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-12 21:58:57.000000000', 'files': ['specs/xena/approved/nova-audit.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/f542a0e920b94170ad72ec13369eb9748e49df35', 'message': 'Re-propose nova-audit spec for Xena\n\nReproposed with no other changes.\n\nPreviously-approved: Victoria\n\nSpec for blueprint nova-audit\n\nChange-Id: I8c4c7364adb0f2e69c17c81d20ad78b9f259229c\n'}]",9,800570,f542a0e920b94170ad72ec13369eb9748e49df35,10,3,1,4690,,,0,"Re-propose nova-audit spec for Xena

Reproposed with no other changes.

Previously-approved: Victoria

Spec for blueprint nova-audit

Change-Id: I8c4c7364adb0f2e69c17c81d20ad78b9f259229c
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/70/800570/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/xena/approved/nova-audit.rst'],1,f542a0e920b94170ad72ec13369eb9748e49df35,bp/nova-audit,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================================= Add a nova-audit service for periodic maintenance ================================================= https://blueprints.launchpad.net/nova/+spec/nova-audit Nova is a distributed system, which means that things fail in strange ways and data stored across multiple systems gets out of sync with the actual state of reality. Hosts and instances come and go, along with network connectivity, the message bus and database. Recently we have gained a number of ""heal $thing"" routines that operators can run either periodically or on demand to synchronize the states of various services and data stores to resolve or prevent problems. The number of these tasks is already overwhelming for the average operator, and tracking new tasks each cycle is not realistic [1]_. Problem description =================== As described above, we have an increasing number of maintenance tasks that need to be run in various scenarios. In most cases, these tasks are idempotent and safe to run even when nothing is wrong. Operators need a single mechanism for performing these maintenance tasks and healing activities that can be run periodically in the background with minimal impact to runtime performance, other than to hopefully fix problems related to inconsistencies before they become acute enough to get an human involved. Use Cases --------- As an operator, I would like Nova to heal itself whenever possible to minimize the number of support incidents requiring human intervention. As a user, I would like Nova to heal itself whenever possible to avoid having to involve support for transient issues, which may be impossible or expensive, especially during off-hour periods. Proposed change =============== We already have a number of these maintenance activities codified in one-shot commands [2]_ that can be run on-demand once a problem has been identified. Since most of them are not harmful or overly expensive, we should be able to run those things periodically to attempt to fix problems automatically before the operator gets involved. This spec proposes a new binary called ``nova-audit`` to encapsulate these tasks. Ideally it should be usable in multiple ways: - As a singleton daemon that periodically runs tasks at various intervals according to their potential impact on the system and need. - As a one-shot ""fix stuff"" command that can be run from cron or otherwise scheduled or executed. - As a daemon or one-shot command that purely audits potential problems, but makes no changes. A new config section of ``[audit]`` would be added with timers and default values for each task. Current heal/sync/fix/cleanup tasks we have that could be integrated: ``heal_allocations`` -------------------- This task checks the consistency of allocations in Placement for instances in Nova. It has a runtime performance impact on both Placement and the Nova database. Many instances means this should probably check one instance per cycle, but potentially a short cycle time. ``audit_allocations`` --------------------- This task checks for orphaned allocations in Placement for instances in Nova and will delete them if specified by the configuration. It has a runtime performance impact on both Placement and the Nova database. Many instances means this should probably check one instance per cycle, but potentially a short cycle time. Today, the command is named ``nova-manage placement audit`` but it might be a good idea to name it more specifically inside the context of the ``nova-audit`` command and service. ``sync_aggregates`` ------------------- This task checks that host aggregates match between Nova and Placement. It is required for some scheduler activities, but not all cases. It has a runtime performance impact on both Placement and the Nova database. Many hosts means this should probably check one aggregate per cycle. Aggregates generally change infrequently, so a long cycle time of an hour or more is probably reasonable. ``map_instances`` ----------------- This task checks that instances have a suitable mapping to a cell. It has a runtime performance impact on the Nova database. Many instances means this should probably check one instance per cycle, with a relatively short cycle time. It may also be better to check one cell at a time, very infrequently such as once per day. ``discover_hosts`` ------------------ This task ensures that newly-registered hypervisor hosts are mapped to the appropriate cell. This has a runtime impact on the Nova database, but there is an efficient way to query for unmapped hosts, so this can run relatively frequently, such as every ten minutes. .. note:: There is already a mechanism by which to run this periodically in the scheduler service, which should be deprecated and replaced by ``nova-audit``. ``archive_deleted_rows`` ------------------------ This task archives deleted data from the main database tables into the shadow tables. It has a runtime performance impact on the Nova database, both negative (while running) and positive (after running). Some people never run this, so a cycle time of once per day or week should be fine. This also needs a parameter to limit the scope of archived changes to a date range, defaulting to some multiple of the cycle time. .. note:: This (and others) may need a configuration element to control its execution only between certain hours or days. ``purge`` --------- This task removes data from the shadow tables entirely. It has a runtime performance impact on the Nova database, but it is just deleting data from tables accessed only during the ``archive_deleted_rows`` operation. In reality, this should probably be run directly after the archival process, potentially with a different age scope. ``heal_instance_mappings`` (proposed) ------------------------------------- This task scans for orphaned instance mappings in the API database that have no build request or matching instance in a cell. It has a runtime performance impact on the Nova API and cell databases, but only looks for mappings with no cell id. It is bounded by the number of in-flight instance builds plus the number of orphans, which should be small. Thus it should be fine to run this relatively frequently, such as every ten minutes. Alternatives ------------ We could obviously do nothing. People are managing the complexity today, so we could simply choose to let them continue. We could eliminate the daemon and scheduling nature of the proposal and just provide a very unified interface to running these commands -- a single place to find all the periodic maintenance tasks separate from the setup sort of things that ``nova-manage`` does. We could integrate this into ``nova-manage`` itself, under a ""maintenance"" subcommand or similar. Data model impact ----------------- None. REST API impact --------------- None. Security impact --------------- None. Notifications impact -------------------- None. You could argue that notifications sent about audit activity would be useful, but doing so would require more setup and configuration of this utility, as well as connectivity and credentials to the message bus. We could implement that later if there is a need. Other end user impact --------------------- None. Performance Impact ------------------ There will be some runtime performance impact due to the background nature of the audit and any cleanup that happens. Mitigation is to not run it, tune the intervals to be longer, or run it in single-shot mode when desired. Other deployer impact --------------------- Deployers will have to learn about and deploy a new command/service. This will hopefully be completely offeset by the reduced complexity of managing and maintaining Nova in the longer term. Developer impact ---------------- New maintenance tasks that are added will need to be done in an idempotent and efficient way and according to whatever interface for these commands is defined. Upgrade impact -------------- A new binary will be added, which will have some impact on upgrades. Any existing periodic maintenance jobs that call ``nova-manage`` for various tasks will need to convert over to the new command. The interfaces we have for existing things in ``nova-manage`` can be deprecated but maintained for an extended period to avoid breaking existing deployments. .. note:: Specific tasks like ``db archive_deleted_rows`` may make sense to continue to exist in ``nova-manage`` as well. Implementation ============== Assignee(s) ----------- Primary assignee: melwitt Other contributors: danms Feature Liaison --------------- Feature liaison: melwitt Work Items ---------- * Create a new ``nova-audit`` command and define scheduling mechanisms and internal interfaces. * Create the new config section and items. * Implement connectors to integrate the existing tasks we have into the new command. * Modify the ``nova-next`` job to run the audit command in single-shot mode after the tempest run, ideally removing the existing archive/purge invocation. Dependencies ============ None. Testing ======= Unit and functional testing of the daemon and internal architecture, and the continued requirement for testing of the actual tasks. A single-shot run in the ``nova-next`` job as we currently do today for archive/purge. Documentation Impact ==================== Operator documentation about the new command, how to deploy it, and per-knob documentation about the impacts and suggested intervals. References ========== .. [1] Proposed new ``heal_instance_mappings`` command for Ussuri: https://review.opendev.org/#/c/655908/ .. [2] Commands in ``nova-manage``: https://docs.openstack.org/nova/latest/cli/nova-manage.html History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Ussuri - Introduced * - Victoria - Re-proposed and added the ``audit_allocations`` task to include the current ``nova-manage placement audit`` functionality in ``nova-audit``. * - Xena - Re-proposed ",,308,0
openstack%2Fneutron-lib~master~I3b770a1c7204807f7fea611f1b2006650ed20d3c,openstack/neutron-lib,master,I3b770a1c7204807f7fea611f1b2006650ed20d3c,Replace deprecated inspect.getargspec,ABANDONED,2021-07-15 11:34:36.000000000,2021-07-15 11:35:08.000000000,,[],"[{'number': 1, 'created': '2021-07-15 11:34:36.000000000', 'files': ['tools/pyir.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/2af6342680d68e9a3e0945e162dcab8dd6c8290d', 'message': 'Replace deprecated inspect.getargspec\n\ninspect.getargspec was deprecated since Python 3.0 and\ninspect.getfullargspec is its replacement with correct handling of\nfunction annotations and keyword-only parameters[1].\n\n[1] https: //docs.python.org/3/library/inspect.html#inspect.getargspec\nChange-Id: Ibaf697331a7a9415ea25b456b49fd105437b5a2b\n\nChange-Id: I3b770a1c7204807f7fea611f1b2006650ed20d3c\n'}]",0,800920,2af6342680d68e9a3e0945e162dcab8dd6c8290d,2,0,1,9816,,,0,"Replace deprecated inspect.getargspec

inspect.getargspec was deprecated since Python 3.0 and
inspect.getfullargspec is its replacement with correct handling of
function annotations and keyword-only parameters[1].

[1] https: //docs.python.org/3/library/inspect.html#inspect.getargspec
Change-Id: Ibaf697331a7a9415ea25b456b49fd105437b5a2b

Change-Id: I3b770a1c7204807f7fea611f1b2006650ed20d3c
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/20/800920/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/pyir.py'],1,2af6342680d68e9a3e0945e162dcab8dd6c8290d,getargspec, arg_spec=inspect.getfullargspec(member)) arg_spec=inspect.getfullargspec(member)), arg_spec=inspect.getargspec(member)) arg_spec=inspect.getargspec(member)),2,2
openstack%2Fneutron-lib~master~Ic62e5f761aef19b15e78ae78a2536a76a3465721,openstack/neutron-lib,master,Ic62e5f761aef19b15e78ae78a2536a76a3465721,Replace deprecated inspect.getargspec,ABANDONED,2021-07-15 11:28:58.000000000,2021-07-15 11:34:23.000000000,,[{'_account_id': 16688}],"[{'number': 1, 'created': '2021-07-15 11:28:58.000000000', 'files': ['tools/pyir.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/1e484468ddc0c0918794a3888089c79d0d7b3b8d', 'message': 'Replace deprecated inspect.getargspec\n\ninspect.getargspec was deprecated since Python 3.0 and\ninspect.getfullargspec is its replacement with correct handling of\nfunction annotations and keyword-only parameters.\n\nhttps: //docs.python.org/3/library/inspect.html#inspect.getargspec\nChange-Id: Ic62e5f761aef19b15e78ae78a2536a76a3465721\n'}]",0,800914,1e484468ddc0c0918794a3888089c79d0d7b3b8d,4,1,1,9816,,,0,"Replace deprecated inspect.getargspec

inspect.getargspec was deprecated since Python 3.0 and
inspect.getfullargspec is its replacement with correct handling of
function annotations and keyword-only parameters.

https: //docs.python.org/3/library/inspect.html#inspect.getargspec
Change-Id: Ic62e5f761aef19b15e78ae78a2536a76a3465721
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/14/800914/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/pyir.py'],1,1e484468ddc0c0918794a3888089c79d0d7b3b8d,getargspec, arg_spec=inspect.getfullargspec(member)) arg_spec=inspect.getfullargspec(member)), arg_spec=inspect.getargspec(member)) arg_spec=inspect.getargspec(member)),2,2
openstack%2Ftripleo-common~master~I0829edb19b8e1614b8000db7355fe6368bc169d7,openstack/tripleo-common,master,I0829edb19b8e1614b8000db7355fe6368bc169d7,Do not generate password for unsupported services,MERGED,2021-07-14 12:26:43.000000000,2021-07-15 11:21:03.000000000,2021-07-15 11:18:58.000000000,"[{'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-14 12:26:43.000000000', 'files': ['tripleo_common/constants.py', 'tripleo_common/tests/utils/test_plan.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5892ce103911d9cb180dbeefcae3517d4e61db34', 'message': 'Do not generate password for unsupported services\n\nThe following services are no longer supported by TripleO and generated\npasswords are no longer used.\n\n- Congress\n- EC2 API\n- Panko\n- Sahara\n\nChange-Id: I0829edb19b8e1614b8000db7355fe6368bc169d7\n'}]",0,800778,5892ce103911d9cb180dbeefcae3517d4e61db34,10,5,1,9816,,,0,"Do not generate password for unsupported services

The following services are no longer supported by TripleO and generated
passwords are no longer used.

- Congress
- EC2 API
- Panko
- Sahara

Change-Id: I0829edb19b8e1614b8000db7355fe6368bc169d7
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/78/800778/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/constants.py', 'tripleo_common/tests/utils/test_plan.py']",2,5892ce103911d9cb180dbeefcae3517d4e61db34,unused-password,," 'SaharaPassword': 'spFvYGezdFwnTk7NPxgYTbUPh', 'CongressPassword': 'DwcKvMqXMuNYYFU4zTCuG4234', 'PankoPassword': 'cVZXehsSc2KdmFFMKDudxTLKn', 'Ec2ApiPassword': 'FPvz2WiWxrHVWrmSSvv44bqmr',",0,8
openstack%2Ftripleo-common~master~I2b257a51164355175782e3f86906c38c21d125bd,openstack/tripleo-common,master,I2b257a51164355175782e3f86906c38c21d125bd,Shrink whole disk image from 40G to 6G,MERGED,2021-06-25 05:23:27.000000000,2021-07-15 11:20:07.000000000,2021-07-15 11:18:54.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-25 05:23:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c59f83779f130d5883f61aa2edea106a8cc9528e', 'message': 'WIP shrink whole disk image from 40G to 6G\n\nSee the tripleo-image-elements commit message for the background.\n\nBlueprint: whole-disk-default\nDepends-On: https://review.opendev.org/c/openstack/tripleo-image-elements/+/798040\nChange-Id: I2b257a51164355175782e3f86906c38c21d125bd\n'}, {'number': 2, 'created': '2021-07-09 03:36:04.000000000', 'files': ['image-yaml/overcloud-hardened-images-uefi-python3.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d8052fe89043bfb36cd249478252dd5f7f8e3e4e', 'message': 'Shrink whole disk image from 40G to 6G\n\nSee the tripleo-image-elements commit message for the background.\n\nBlueprint: whole-disk-default\nDepends-On: https://review.opendev.org/c/openstack/tripleo-image-elements/+/798040\nChange-Id: I2b257a51164355175782e3f86906c38c21d125bd\n'}]",0,798041,d8052fe89043bfb36cd249478252dd5f7f8e3e4e,13,4,2,4571,,,0,"Shrink whole disk image from 40G to 6G

See the tripleo-image-elements commit message for the background.

Blueprint: whole-disk-default
Depends-On: https://review.opendev.org/c/openstack/tripleo-image-elements/+/798040
Change-Id: I2b257a51164355175782e3f86906c38c21d125bd
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/41/798041/1 && git format-patch -1 --stdout FETCH_HEAD,['image-yaml/overcloud-hardened-images-uefi-python3.yaml'],1,c59f83779f130d5883f61aa2edea106a8cc9528e,bp/whole-disk-default, DIB_IMAGE_SIZE: '6', DIB_IMAGE_SIZE: '40',1,1
openstack%2Fplacement~master~Ie0d4df94ae16de60394438878e5a1568e29e03a5,openstack/placement,master,Ie0d4df94ae16de60394438878e5a1568e29e03a5,Move placement specs from nova,MERGED,2021-07-14 10:47:11.000000000,2021-07-15 11:17:53.000000000,2021-07-15 11:16:46.000000000,"[{'_account_id': 4690}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-14 10:47:11.000000000', 'files': ['doc/source/specs/index.rst', 'doc/source/specs/xena/approved/allow-provider-re-parenting.rst', 'doc/source/specs/xena/approved/support-consumer-types.rst'], 'web_link': 'https://opendev.org/openstack/placement/commit/4fa74c24e7d58f192ca9fb165243f0b1fc56491e', 'message': 'Move placement specs from nova\n\nMistakenly the computing team merged two specs in nova that actually\ntargeting the placement service. Placement has its own specs directory\nto store these. So this patch adds the these specs to the placement\nrepository.\n\nThe only change in the two specifications compared the ones approved in\nnova-specs repository is the removal of the note from the top that they\nare targeting placement service as it is now obvious.\n\nChange-Id: Ie0d4df94ae16de60394438878e5a1568e29e03a5\n'}]",0,800769,4fa74c24e7d58f192ca9fb165243f0b1fc56491e,9,4,1,9708,,,0,"Move placement specs from nova

Mistakenly the computing team merged two specs in nova that actually
targeting the placement service. Placement has its own specs directory
to store these. So this patch adds the these specs to the placement
repository.

The only change in the two specifications compared the ones approved in
nova-specs repository is the removal of the note from the top that they
are targeting placement service as it is now obvious.

Change-Id: Ie0d4df94ae16de60394438878e5a1568e29e03a5
",git fetch https://review.opendev.org/openstack/placement refs/changes/69/800769/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/specs/index.rst', 'doc/source/specs/xena/approved/allow-provider-re-parenting.rst', 'doc/source/specs/xena/approved/support-consumer-types.rst']",3,4fa74c24e7d58f192ca9fb165243f0b1fc56491e,spec-move,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ====================== Support Consumer Types ====================== https://storyboard.openstack.org/#!/story/2005473 This spec aims at providing support for services to model ``consumer types`` in placement. While placement defines a consumer to be an entity consuming resources from a provider it does not provide a way to identify similar ""types"" of consumers and henceforth allow services to group/query them based on their types. This spec proposes to associate each consumer to a particular type defined by the service owning the consumer. Problem description =================== In today's placement world each allocation posted by a service is against a provider for a consumer (ex: for an instance or a migration). However a service may want to distinguish amongst the allocations made against its various types of consumers (ex: nova may want to fetch allocations against instances alone). This is currently not possible in placement and hence the goal is to make placement aware of ""types of consumers"" for the services. Use Cases --------- * Nova using placement as its `quota calculation system`_: Currently this approach uses the nova_api database to calculate the quota on the ""number of instances"". In order for nova to be able to use placement to count the number of ""instance-consumers"", there needs to be a way by which we can differentiate ""instance-consumers"" from ""migration-consumers"". * Ironic wanting to differentiate between ""standalone-consumer"" versus ""nova-consumer"". Note that it is not within the scope of placement to model the coordination of the consumer type collisions that may arise between multiple services during their definition. Placement will also not be able to identify or verify correct consumer types (eg, INTANCE versus INSTANCE) from the external service's perspective. Proposed change =============== In order to model consumer types in placement, we will add a new ``consumer_types`` table to the placement database which will have two columns: #. an ``id`` which will be of type integer. #. a ``name`` which will be of type varchar (maximum of 255 characters) and this will have a unique constraint on it. The pattern restrictions for the name will be similar to placement traits and resource class names, i.e restricted to only ``^[A-Z0-9_]+$`` with length restrictions being {1, 255}. A sample look of such a table would be: +--------+----------+ | id | name | +========+==========+ | 1 | INSTANCE | +--------+----------+ | 2 | MIGRATION| +--------+----------+ A new column called ``consumer_type_id`` would be added to the ``consumers`` table to map the consumer to its type. The ``POST /allocations`` and ``PUT /allocations/{consumer_uuid}`` REST API's will gain a new (required) key called ``consumer_type`` which is of type string in their request body's through which the caller can specify what type of consumer it is creating or updating the allocations for. If the specified ``consumer_type`` key is not present in the ``consumer_types`` table, a new entry will be created. Also note that once a consumer type is created, it lives on forever. If this becomes a problem in the future for the operators a tool can be provided to clean them up. In order to maintain parity between the request format of ``PUT /allocations/{consumer_uuid}`` and response format of ``GET /allocations/{consumer_uuid}``, the ``consumer_type`` key will also be exposed through the response of ``GET /allocations/{consumer_uuid}`` request. The external services will be able to leverage this ``consumer_type`` key through the ``GET /usages`` REST API which will have a change in the format of its request and response. The request will gain a new optional key called ``consumer_type`` which will enable users to query usages based on the consumer type. The response will group the resource usages by the specified consumer_type (if consumer_type key is not specified it will return the usages for all the consumer_types) meaning it will gain a new ``consumer_type`` key. Per consumer type we will also return a ``consumer_count`` of consumers of that type. See the `REST API impact`_ section for more details on how this would be done. The above REST API changes and the corresponding changes to the ``/reshaper`` REST API will be available from a new microversion. The existing consumers in placement will have a ``NULL`` value in their consumer_type_id field, which means we do not know what type these consumers are and the service to which the consumers belong to needs to update this information if it wants to avail the ``consumer_types`` feature. Alternatives ------------ We could create a new REST API to allow users to create consumer types explicitly but it does not make sense to add a new API for a non-user facing feature. Data model impact ----------------- The placement database will get a new ``consumer_types`` table and the ``consumers`` table will get a new ``consumer_type_id`` column that by default will be ``NULL``. REST API impact --------------- The new ``POST /allocations`` request will look like this:: { ""30328d13-e299-4a93-a102-61e4ccabe474"": { ""consumer_generation"": 1, ""project_id"": ""131d4efb-abc0-4872-9b92-8c8b9dc4320f"", ""user_id"": ""131d4efb-abc0-4872-9b92-8c8b9dc4320f"", ""consumer_type"": ""INSTANCE"", # This is new ""allocations"": { ""e10927c4-8bc9-465d-ac60-d2f79f7e4a00"": { ""resources"": { ""VCPU"": 2, ""MEMORY_MB"": 3 }, ""generation"": 4 } } }, ""71921e4e-1629-4c5b-bf8d-338d915d2ef3"": { ""consumer_generation"": 1, ""project_id"": ""131d4efb-abc0-4872-9b92-8c8b9dc4320f"", ""user_id"": ""131d4efb-abc0-4872-9b92-8c8b9dc4320f"", ""consumer_type"": ""MIGRATION"", # This is new ""allocations"": {} } } The new ``PUT /allocations/{consumer_uuid}`` request will look like this:: { ""allocations"": { ""4e061c03-611e-4caa-bf26-999dcff4284e"": { ""resources"": { ""DISK_GB"": 20 } }, ""89873422-1373-46e5-b467-f0c5e6acf08f"": { ""resources"": { ""MEMORY_MB"": 1024, ""VCPU"": 1 } } }, ""consumer_generation"": 1, ""user_id"": ""66cb2f29-c86d-47c3-8af5-69ae7b778c70"", ""project_id"": ""42a32c07-3eeb-4401-9373-68a8cdca6784"", ""consumer_type"": ""INSTANCE"" # This is new } Note that ``consumer_type`` is a required key for both these requests at this microversion. The new ``GET /usages`` response will look like this for a request of type ``GET /usages?project_id=<project id>&user_id=<user id>`` or ``GET /usages?project_id=<project id>`` where the consumer_type key is not specified:: { ""usages"": { ""INSTANCE"": { ""consumer_count"": 5, ""DISK_GB"": 5, ""MEMORY_MB"": 512, ""VCPU"": 2 } ""MIGRATION"": { ""consumer_count"": 2, ""DISK_GB"": 5, ""MEMORY_MB"": 512, ""VCPU"": 2 } ""unknown"": { ""consumer_count"": 1, ""DISK_GB"": 5, ""MEMORY_MB"": 512, ""VCPU"": 2 } } } The new ``GET /usages`` response will look like this for a request of type ``GET /usages?project_id=<id>&user_id=<id>&consumer_type=""INSTANCE""`` or ``GET /usages?project_id=<id>&consumer_type=""INSTANCE""`` where the consumer_type key is specified:: { ""usages"": { ""INSTANCE"": { ""consumer_count"": 5, ""DISK_GB"": 5, ""MEMORY_MB"": 512, ""VCPU"": 2 } } } A special request of the form ``GET /usages?project_id=<project id>&consumer_type=all`` will be allowed to enable users to be able to query for the total count of all the consumers. The response for such a request will look like this:: { ""usages"": { ""all"": { ""consumer_count"": 3, ""DISK_GB"": 5, ""MEMORY_MB"": 512, ""VCPU"": 2 } } } A special request of the form ``GET /usages?project_id=<project id>&consumer_type=unknown`` will be allowed to enable users to be able to query for the total count of the consumers that have no consumer type assigned. The response for such a request will look like this:: { ""usages"": { ""unknown"": { ""consumer_count"": 3, ""DISK_GB"": 5, ""MEMORY_MB"": 512, ""VCPU"": 2 } } } Note that ``consumer_type`` is an optional key for the ``GET /usages`` request. The above REST API changes and the corresponding changes to the ``/reshaper`` REST API will be available from a new microversion. Security impact --------------- None. Notifications impact -------------------- N/A Other end user impact --------------------- The external services using this feature like nova should take the responsibility of updating the consumer type of existing consumers from ``NULL`` to the actual type through the ``PUT /allocations/{consumer_uuid}`` REST API. Performance Impact ------------------ None. Other deployer impact --------------------- None. Developer impact ---------------- None. Upgrade impact -------------- The ``placement-manage db sync`` command has to be run by the operators in order to upgrade the database schema to accommodate the new changes. Implementation ============== Assignee(s) ----------- Primary assignee: <melwitt> Other contributors: <tssurya> <cdent> Work Items ---------- * Add the new ``consumer_types`` table and create a new ``consumer_type_id`` column in the ``consumers`` table with a foreign key constraint to the ``id`` column of the ``consumer_types`` table. * Make the REST API changes in a new microversion for: * ``POST /allocations``, * ``PUT /allocations/{consumer_uuid}``, * ``GET /allocations/{consumer_uuid}``, * ``GET /usages`` and * ``/reshaper`` Dependencies ============ None. Testing ======= Unit and functional tests to validate the feature will be added. Documentation Impact ==================== The placement API reference will be updated to reflect the new changes. References ========== .. _quota calculation system: https://review.opendev.org/#/q/topic:bp/count-quota-usage-from-placement History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Train - Introduced * - Xena - Reproposed ",,619,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I3ff7d557fc3f544affd35da3a23e56f287b8112f,openstack/tripleo-heat-templates,stable/wallaby,I3ff7d557fc3f544affd35da3a23e56f287b8112f,Enable proxy header parsing in Octavia API,MERGED,2021-07-14 01:59:37.000000000,2021-07-15 11:08:20.000000000,2021-07-15 11:08:20.000000000,"[{'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-14 01:59:37.000000000', 'files': ['deployment/octavia/octavia-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2f2e06022723a53973f153d12b59e2a63caca07a', 'message': 'Enable proxy header parsing in Octavia API\n\n... so that Octavia API can set up the correct request URL even when\nSSL/TLS is enabled.\n\nDepends-on: https://review.opendev.org/#/c/736446/\nChange-Id: I3ff7d557fc3f544affd35da3a23e56f287b8112f\n(cherry picked from commit a314ad3ae4ab254d1172b311abd5a855af07ccee)\n'}]",0,800644,2f2e06022723a53973f153d12b59e2a63caca07a,12,5,1,9816,,,0,"Enable proxy header parsing in Octavia API

... so that Octavia API can set up the correct request URL even when
SSL/TLS is enabled.

Depends-on: https://review.opendev.org/#/c/736446/
Change-Id: I3ff7d557fc3f544affd35da3a23e56f287b8112f
(cherry picked from commit a314ad3ae4ab254d1172b311abd5a855af07ccee)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/44/800644/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/octavia/octavia-api-container-puppet.yaml'],1,2f2e06022723a53973f153d12b59e2a63caca07a,octavia-proxy_header_parsing-stable/wallaby, octavia::api::enable_proxy_headers_parsing: true,,1,0
openstack%2Ftripleo-heat-templates~master~If7532022f399115357f1fdfa9a510d615ed55609,openstack/tripleo-heat-templates,master,If7532022f399115357f1fdfa9a510d615ed55609,Enable image copy for multiple RBD Glance stores,MERGED,2021-07-01 16:22:38.000000000,2021-07-15 10:49:20.000000000,2021-07-15 10:47:27.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-01 16:22:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e93d18287a5d2c8193c5f09f77dde0ab89cbd5ab', 'message': 'Enable image copy for multiple RBD Glance stores\n\nPreviously when using multiple RBD glance stores the operator was\nresponsible for copying the image to all stores.\nNova-compute now has the ability to automatically copy an image to the\nlocal glance store when required.\nThis change enables the feature and adds the following role specific\nparameters to control the behaviour:\n  NovaGlanceRbdCopyPollInterval\n  NovaGlanceRbdCopyTimeout\n\nRelated Nova change: Ia839ad418b0f2887cb8e8f5ee3e660a0751db9ce\n\nDepends-On: I227f40111591cfe1026ce992b3de3e28d092f329\nChange-Id: If7532022f399115357f1fdfa9a510d615ed55609\n'}, {'number': 2, 'created': '2021-07-02 10:22:38.000000000', 'files': ['releasenotes/notes/glance_image_copy-34a3e62c48eaee0e.yaml', 'deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4aeb3f35430f76b864cd3d11a16d195405b8899d', 'message': 'Enable image copy for multiple RBD Glance stores\n\nPreviously when using multiple RBD glance stores the operator was\nresponsible for copying the image to all stores.\nNova-compute now has the ability to automatically copy an image to the\nlocal glance store when required.\nThis change enables the feature and adds the following role specific\nparameters to control the behaviour:\n  NovaGlanceRbdCopyPollInterval\n  NovaGlanceRbdCopyTimeout\n\nRelated Nova change: Ia839ad418b0f2887cb8e8f5ee3e660a0751db9ce\n\nDepends-On: I227f40111591cfe1026ce992b3de3e28d092f329\nChange-Id: If7532022f399115357f1fdfa9a510d615ed55609\n'}]",0,799102,4aeb3f35430f76b864cd3d11a16d195405b8899d,15,8,2,23811,,,0,"Enable image copy for multiple RBD Glance stores

Previously when using multiple RBD glance stores the operator was
responsible for copying the image to all stores.
Nova-compute now has the ability to automatically copy an image to the
local glance store when required.
This change enables the feature and adds the following role specific
parameters to control the behaviour:
  NovaGlanceRbdCopyPollInterval
  NovaGlanceRbdCopyTimeout

Related Nova change: Ia839ad418b0f2887cb8e8f5ee3e660a0751db9ce

Depends-On: I227f40111591cfe1026ce992b3de3e28d092f329
Change-Id: If7532022f399115357f1fdfa9a510d615ed55609
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/02/799102/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/glance_image_copy-34a3e62c48eaee0e.yaml', 'deployment/nova/nova-compute-container-puppet.yaml']",2,e93d18287a5d2c8193c5f09f77dde0ab89cbd5ab,bp/rbd-glance-multistore," GlanceBackendID: type: string default: 'default_backend' description: The default backend's identifier. constraints: - allowed_pattern: ""[a-zA-Z0-9_-]+"" NovaGlanceRbdCopyPollInterval: type: number description: > The interval in seconds with which to poll Glance after asking for it to copy an image to the local rbd store. default: 15 tags: - role_specific NovaGlanceRbdCopyTimeout: type: number description: > The overall maximum time we will wait for Glance to complete an image copy to our local rbd store. default: 600 tags: - role_specific nova::compute::rbd::libvirt_images_rbd_glance_copy_poll_interval: {get_param: NovaGlanceRbdCopyPollInterval} nova::compute::rbd::libvirt_images_rbd_glance_copy_timeout: {get_param: NovaGlanceRbdCopyTimeout} NovaGlanceRbdCopyPollInterval: {get_param: NovaGlanceRbdCopyPollInterval} NovaGlanceRbdCopyTimeout: {get_param: NovaGlanceRbdCopyTimeout} nova::compute::rbd::libvirt_images_rbd_glance_store_name: {get_param: GlanceBackendID}",,40,0
openstack%2Ftripleo-ci~master~I36736d124a0713b39a39f0e15bc73c99cee44abf,openstack/tripleo-ci,master,I36736d124a0713b39a39f0e15bc73c99cee44abf,remove stein/queens from upstream periodic,MERGED,2021-07-14 22:19:35.000000000,2021-07-15 10:47:22.000000000,2021-07-15 10:47:22.000000000,"[{'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-14 22:19:35.000000000', 'files': ['zuul.d/periodic.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3c2b27fbc8e67c7e62e93c8e73c74fcfab3a2e46', 'message': 'remove stein/queens from upstream periodic\n\nChange-Id: I36736d124a0713b39a39f0e15bc73c99cee44abf\n'}]",0,800849,3c2b27fbc8e67c7e62e93c8e73c74fcfab3a2e46,7,3,1,9592,,,0,"remove stein/queens from upstream periodic

Change-Id: I36736d124a0713b39a39f0e15bc73c99cee44abf
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/49/800849/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/periodic.yaml'],1,3c2b27fbc8e67c7e62e93c8e73c74fcfab3a2e46,,, - tripleo-ci-centos-7-content-provider-queens: vars: force_non_periodic: true - tripleo-ci-centos-7-containers-multinode-stein: vars: force_non_periodic: true - tripleo-ci-centos-7-containers-multinode-queens: vars: *multi_consumer_vars_periodic dependencies: - tripleo-ci-centos-7-content-provider-queens,0,10
openstack%2Freleases~master~I5893202c31dfadbe5009a87f4e545787fd065368,openstack/releases,master,I5893202c31dfadbe5009a87f4e545787fd065368,Tag stable/queens tripleo repos as EOL,MERGED,2021-06-30 15:57:46.000000000,2021-07-15 10:42:40.000000000,2021-07-12 14:17:41.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 11491}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 22722}, {'_account_id': 25402}, {'_account_id': 28522}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-30 15:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/0cbc908eb4b3a59874acaa690ddbfe3443c08dfb', 'message': 'Tag stable/queens tripleo repos as EOL\n\nAs discussed at [1] this tags the last commits to the\nstable/queens branch as queens-eol for tripleo repos [2] except\nthose that are already retired such as tripleo-ui.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023115.html\n[2] https://releases.openstack.org/teams/tripleo.html#queens\n\nChange-Id: I5893202c31dfadbe5009a87f4e545787fd065368\n'}, {'number': 2, 'created': '2021-07-05 15:30:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/0924a82bf60d391ad28287d0bf5b0e74649956ef', 'message': 'Tag stable/queens tripleo repos as EOL\n\nAs discussed at [1] this tags the last commits to the\nstable/queens branch as queens-eol for tripleo repos [2] except\nthose that are already retired such as tripleo-ui.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023115.html\n[2] https://releases.openstack.org/teams/tripleo.html#queens\n\nChange-Id: I5893202c31dfadbe5009a87f4e545787fd065368\n'}, {'number': 3, 'created': '2021-07-05 15:44:29.000000000', 'files': ['deliverables/queens/python-tripleoclient.yaml', 'deliverables/queens/tripleo-ipsec.yaml', 'deliverables/queens/tripleo-image-elements.yaml', 'deliverables/queens/tripleo-ui.yaml', 'deliverables/queens/os-apply-config.yaml', 'deliverables/queens/tripleo-common.yaml', 'deliverables/queens/instack-undercloud.yaml', 'deliverables/queens/os-net-config.yaml', 'deliverables/queens/instack.yaml', 'deliverables/queens/tripleo-puppet-elements.yaml', 'deliverables/queens/os-collect-config.yaml', 'deliverables/queens/os-refresh-config.yaml', 'deliverables/queens/puppet-tripleo.yaml', 'deliverables/queens/tripleo-validations.yaml', 'deliverables/queens/paunch.yaml', 'deliverables/queens/tripleo-heat-templates.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/37d51ffe3b28b8680572a9cbc91971bd93d82b2d', 'message': 'Tag stable/queens tripleo repos as EOL\n\nAs discussed at [1] this tags the last commits to the\nstable/queens branch as queens-eol for tripleo repos [2].\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023115.html\n[2] https://releases.openstack.org/teams/tripleo.html#queens\n\nChange-Id: I5893202c31dfadbe5009a87f4e545787fd065368\n'}]",6,798924,37d51ffe3b28b8680572a9cbc91971bd93d82b2d,23,11,3,8449,,,0,"Tag stable/queens tripleo repos as EOL

As discussed at [1] this tags the last commits to the
stable/queens branch as queens-eol for tripleo repos [2].

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023115.html
[2] https://releases.openstack.org/teams/tripleo.html#queens

Change-Id: I5893202c31dfadbe5009a87f4e545787fd065368
",git fetch https://review.opendev.org/openstack/releases refs/changes/24/798924/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/queens/python-tripleoclient.yaml', 'deliverables/queens/tripleo-ipsec.yaml', 'deliverables/queens/tripleo-image-elements.yaml', 'deliverables/queens/os-apply-config.yaml', 'deliverables/queens/tripleo-common.yaml', 'deliverables/queens/os-net-config.yaml', 'deliverables/queens/tripleo-puppet-elements.yaml', 'deliverables/queens/os-collect-config.yaml', 'deliverables/queens/os-refresh-config.yaml', 'deliverables/queens/puppet-tripleo.yaml', 'deliverables/queens/tripleo-validations.yaml', 'deliverables/queens/paunch.yaml', 'deliverables/queens/tripleo-heat-templates.yaml']",13,0cbc908eb4b3a59874acaa690ddbfe3443c08dfb,tripleo-queens-eol, - version: queens-eol projects: - repo: openstack/tripleo-heat-templates hash: 0f47a4de9b5e64023ddc594d6106fff2c053bcfb,,52,0
openstack%2Fos-net-config~master~Idd4d968092ba84a1c6a183cac39112f5ff9ae360,openstack/os-net-config,master,Idd4d968092ba84a1c6a183cac39112f5ff9ae360,WIP: Handle update/upgrade while sriov_pf is attached to the guest,NEW,2021-07-15 05:21:27.000000000,2021-07-15 10:37:31.000000000,,"[{'_account_id': 18575}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-15 05:21:27.000000000', 'files': ['os_net_config/utils.py', 'os_net_config/impl_ifcfg.py', 'os_net_config/objects.py', 'os_net_config/sriov_config.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/2359ccfdf57c908ac8c0ec487e86c76581be5a85', 'message': 'WIP: Handle update/upgrade while sriov_pf is attached to the guest\n\nIf stack upgrade/updates are performed while a  sriov_pf device is\nstill associated with the guest, the PF reconfiguration shall be\nsafely avoided so that update or upgrades shall proceed without failing\n\nChange-Id: Idd4d968092ba84a1c6a183cac39112f5ff9ae360\n'}]",2,800883,2359ccfdf57c908ac8c0ec487e86c76581be5a85,2,2,1,18904,,,0,"WIP: Handle update/upgrade while sriov_pf is attached to the guest

If stack upgrade/updates are performed while a  sriov_pf device is
still associated with the guest, the PF reconfiguration shall be
safely avoided so that update or upgrades shall proceed without failing

Change-Id: Idd4d968092ba84a1c6a183cac39112f5ff9ae360
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/83/800883/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/utils.py', 'os_net_config/impl_ifcfg.py', 'os_net_config/objects.py', 'os_net_config/sriov_config.py']",4,2359ccfdf57c908ac8c0ec487e86c76581be5a85,,"from os_net_config import utils if utils._is_device_detached(ifname): logger.debug(f""Interface {ifname} is detached from host"") return -1 if utils._is_device_detached(ifname): logger.debug(f""Interface {ifname} is detached from host"") return -1 if utils._is_device_detached(item['name']): logger.debug(f""Interface {ifname} is detached from host"") continue",,48,7
openstack%2Fcyborg-specs~master~I1bce422475152c0d27fcd710259a5dac32c1d374,openstack/cyborg-specs,master,I1bce422475152c0d27fcd710259a5dac32c1d374,Add NVIDIA GPU driver specification,ABANDONED,2021-06-10 07:25:00.000000000,2021-07-15 10:29:29.000000000,,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}]","[{'number': 1, 'created': '2021-06-10 07:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/cc2a7fadde2d9f79f96526f2b20da6ffd1747ed4', 'message': ""Add NVIDIA GPU driver specification\n\nThis spec proposes to provide the t initial design for\nCyborg's NVIDIA GPU driver.\n\nChange-Id: I1bce422475152c0d27fcd710259a5dac32c1d374\n""}, {'number': 2, 'created': '2021-07-09 08:19:23.000000000', 'files': ['specs/train/implemented/nvidia-gpu-driver-proposal.rst'], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/f5ea46186000ab459fc70e6c3d3e88d356bf57bd', 'message': ""Add NVIDIA GPU driver specification\n\nThis spec proposes to provide the t initial design for\nCyborg's NVIDIA GPU driver.\n\nChange-Id: I1bce422475152c0d27fcd710259a5dac32c1d374\n""}]",4,795734,f5ea46186000ab459fc70e6c3d3e88d356bf57bd,11,3,2,31412,,,0,"Add NVIDIA GPU driver specification

This spec proposes to provide the t initial design for
Cyborg's NVIDIA GPU driver.

Change-Id: I1bce422475152c0d27fcd710259a5dac32c1d374
",git fetch https://review.opendev.org/openstack/cyborg-specs refs/changes/34/795734/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/implemented/nvidia-gpu-driver-proposal.rst'],1,cc2a7fadde2d9f79f96526f2b20da6ffd1747ed4,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================== Cyborg NVIDIA GPU Driver Proposal ================================== This spec proposes to provide the initial design for Cyborg's NVIDIA GPU driver. Problem description =================== This spec will add a NVIDIA GPU driver for Cyborg to manage specific NVIDIA GPU devices. Use Cases --------- * As an operator, I would like to use Cyborg agent starts or does resource checking periodically, the Cyborg NVIDIA GPU driver should provider ``discover()`` function to enumerate the list of the NVIDIA GPU devices, and report the details of all available NVIDIA GPU accelerators on the host, such as PID(Product id), VID(Vendor id), Device. * As a user, I would like to boot up a VM with NVIDIA GPU card attached in order to accelerate compute ability. Cyborg should be able to manage this kind of acceleration resources and assign it to the VM(binding). Proposed changes ================ In general, the goal is to develop a Cyborg NVIDIA GPU driver that supports discover interfaces for NVIDIA GPU accelerator framework. The driver should include the ``discover()`` function that reports devices' raw info sample as following:: [ { ""vendor"": ""10de"", ""product"": ""1db6"", ""device"": ""0000:af:00:0"" } ] Alternatives ------------ None Data model impact ----------------- NVIDIA GPU driver will not touch Data model. The Cyborg Agent can call NVIDIA GPU driver to update the database during the discover operations. REST API impact --------------- None. Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- User can manage NVIDIA GPU cards by Cyborg NVIDIA GPU driver. Such as list of the NVIDIA GPU devices, report the details of all available NVIDIA GPU accelerators on the host, binding with NVIDIA GPU and so on. Performance Impact ------------------ None Other deployer impact --------------------- None. Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Wenping Song Work Items ---------- * Implement NVIDIA GPU driver in Cyborg * Add related test cases. Dependencies ============ None Testing ======== * Unit tests will be added to test this driver. Documentation Impact ==================== Document NVIDIA GPU driver in Cyborg project. References ========== None History ======= .. list-table:: Revisions :header-rows: 1 * - Release - Description * - Train - Introduced ",,146,0
openstack%2Freleases~master~I0887820807ede79a0f3c3e7c4bff1b2cc5037c24,openstack/releases,master,I0887820807ede79a0f3c3e7c4bff1b2cc5037c24,Xena-2 Release for python-octaviaclient,MERGED,2021-07-09 13:49:41.000000000,2021-07-15 10:17:29.000000000,2021-07-15 10:17:29.000000000,"[{'_account_id': 308}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-07-09 13:49:41.000000000', 'files': ['deliverables/xena/python-octaviaclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/63c12223af3385e0a32328bf7cf965e8ec67efaa', 'message': ""Xena-2 Release for python-octaviaclient\n\nThis is the Xena milestone-2 release for python-octaviaclient.\nClients and libraries following the cycle-with-intermediary release\nmodel are encouraged to release each milestone to make sure updates\nare made available.\n\nIf you are happy with the current release hash, please +1 this patch\nand we will process a release. If you need to get some important\nchanges merged first, leave a -1 and update the patch with a new\ncommit hash to use once it is ready.\n\nIf a release is definitely not wanted at this time, please -1 and\nleave a comment explaining that and we can abandon the patch.\n\nAny patches with no response will be assumed to be OK and will be\nprocessed by July 15.\n\n$ git log --oneline --no-merges 2.3.0..6ef3eed\n6ef3eed Fix some typos\n84e927d Improve the client performance on large clouds\ncf0c4be Support pagination for 'list' API calls\n32a6c09 setup.cfg: Replace dashes with underscores\n7927aec Add Python3 xena unit tests\n7776264 Update master for stable/wallaby\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: I0887820807ede79a0f3c3e7c4bff1b2cc5037c24\n""}]",0,800257,63c12223af3385e0a32328bf7cf965e8ec67efaa,9,6,1,28522,,,0,"Xena-2 Release for python-octaviaclient

This is the Xena milestone-2 release for python-octaviaclient.
Clients and libraries following the cycle-with-intermediary release
model are encouraged to release each milestone to make sure updates
are made available.

If you are happy with the current release hash, please +1 this patch
and we will process a release. If you need to get some important
changes merged first, leave a -1 and update the patch with a new
commit hash to use once it is ready.

If a release is definitely not wanted at this time, please -1 and
leave a comment explaining that and we can abandon the patch.

Any patches with no response will be assumed to be OK and will be
processed by July 15.

$ git log --oneline --no-merges 2.3.0..6ef3eed
6ef3eed Fix some typos
84e927d Improve the client performance on large clouds
cf0c4be Support pagination for 'list' API calls
32a6c09 setup.cfg: Replace dashes with underscores
7927aec Add Python3 xena unit tests
7776264 Update master for stable/wallaby

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: I0887820807ede79a0f3c3e7c4bff1b2cc5037c24
",git fetch https://review.opendev.org/openstack/releases refs/changes/57/800257/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/python-octaviaclient.yaml'],1,63c12223af3385e0a32328bf7cf965e8ec67efaa,xena--milestone-2,releases: - version: 2.4.0 projects: - repo: openstack/python-octaviaclient hash: 6ef3eed57378490ab9731cc5f3c0975aa0a4d4e9,,5,0
openstack%2Freleases~master~I0106f83774821ee2e7c0b6d356981ecaf9bc3d2a,openstack/releases,master,I0106f83774821ee2e7c0b6d356981ecaf9bc3d2a,Xena-2 Release for octavia-lib,MERGED,2021-07-09 13:28:28.000000000,2021-07-15 10:14:59.000000000,2021-07-15 10:14:59.000000000,"[{'_account_id': 308}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-07-09 13:28:28.000000000', 'files': ['deliverables/xena/octavia-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1cd53265493d91aaad7b81d31a4e34edf15a6ada', 'message': 'Xena-2 Release for octavia-lib\n\nThis is the Xena milestone-2 release for octavia-lib.\nClients and libraries following the cycle-with-intermediary release\nmodel are encouraged to release each milestone to make sure updates\nare made available.\n\nIf you are happy with the current release hash, please +1 this patch\nand we will process a release. If you need to get some important\nchanges merged first, leave a -1 and update the patch with a new\ncommit hash to use once it is ready.\n\nIf a release is definitely not wanted at this time, please -1 and\nleave a comment explaining that and we can abandon the patch.\n\nAny patches with no response will be assumed to be OK and will be\nprocessed by July 15.\n\n$ git log --oneline --no-merges 2.3.1..cdbbacd\na3b01fd Fix loadbalancer_update argument typo\n6a9cd92 Fix PDF docs build\n53b4b8d Update master for stable/wallaby\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: I0106f83774821ee2e7c0b6d356981ecaf9bc3d2a\n'}]",0,800236,1cd53265493d91aaad7b81d31a4e34edf15a6ada,9,6,1,28522,,,0,"Xena-2 Release for octavia-lib

This is the Xena milestone-2 release for octavia-lib.
Clients and libraries following the cycle-with-intermediary release
model are encouraged to release each milestone to make sure updates
are made available.

If you are happy with the current release hash, please +1 this patch
and we will process a release. If you need to get some important
changes merged first, leave a -1 and update the patch with a new
commit hash to use once it is ready.

If a release is definitely not wanted at this time, please -1 and
leave a comment explaining that and we can abandon the patch.

Any patches with no response will be assumed to be OK and will be
processed by July 15.

$ git log --oneline --no-merges 2.3.1..cdbbacd
a3b01fd Fix loadbalancer_update argument typo
6a9cd92 Fix PDF docs build
53b4b8d Update master for stable/wallaby

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: I0106f83774821ee2e7c0b6d356981ecaf9bc3d2a
",git fetch https://review.opendev.org/openstack/releases refs/changes/36/800236/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/octavia-lib.yaml'],1,1cd53265493d91aaad7b81d31a4e34edf15a6ada,xena--milestone-2,releases: - version: 2.4.0 projects: - repo: openstack/octavia-lib hash: cdbbacd40fed7768de49898877b441b09ac3e9e8,,5,0
openstack%2Freleases~master~I5fdb08199d085faf669e49bb9eafb924d52b2d5b,openstack/releases,master,I5fdb08199d085faf669e49bb9eafb924d52b2d5b,[Glance] Xena milestone 2 release,MERGED,2021-07-12 15:53:18.000000000,2021-07-15 10:13:24.000000000,2021-07-15 10:13:24.000000000,"[{'_account_id': 308}, {'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-12 15:53:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/8c44b47ce3dec4d9961e077f8c3c58c7a908ba8c', 'message': '[Glance] Xena milestone 2 release\n\nChange-Id: I5fdb08199d085faf669e49bb9eafb924d52b2d5b\n'}, {'number': 2, 'created': '2021-07-13 08:41:11.000000000', 'files': ['deliverables/xena/glance.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2a3860d9f869aa732172ab874e3856a9eab8013b', 'message': '[Glance] Xena milestone 2 release\n\nChange-Id: I5fdb08199d085faf669e49bb9eafb924d52b2d5b\n'}]",4,800509,2a3860d9f869aa732172ab874e3856a9eab8013b,21,7,2,9303,,,0,"[Glance] Xena milestone 2 release

Change-Id: I5fdb08199d085faf669e49bb9eafb924d52b2d5b
",git fetch https://review.opendev.org/openstack/releases refs/changes/09/800509/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/glance.yaml'],1,8c44b47ce3dec4d9961e077f8c3c58c7a908ba8c,xena-glance-m2,releases: - version: 23.0.0.0b2 projects: - repo: openstack/glance hash: 1d8117b093318f17320eda24ee56a426921804f9,,5,0
openstack%2Freleases~master~Ia291a5d496ae3fb71e41a6d7fc0b885d5a3c8aab,openstack/releases,master,Ia291a5d496ae3fb71e41a6d7fc0b885d5a3c8aab,Xena-2 Release for oslo.config,MERGED,2021-07-09 13:33:56.000000000,2021-07-15 10:12:34.000000000,2021-07-15 10:12:34.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-09 13:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/807af5b77bcd8539528279a12172a22b06c7240d', 'message': ""Xena-2 Release for oslo.config\n\nThis is the Xena milestone-2 release for oslo.config.\nClients and libraries following the cycle-with-intermediary release\nmodel are encouraged to release each milestone to make sure updates\nare made available.\n\nIf you are happy with the current release hash, please +1 this patch\nand we will process a release. If you need to get some important\nchanges merged first, leave a -1 and update the patch with a new\ncommit hash to use once it is ready.\n\nIf a release is definitely not wanted at this time, please -1 and\nleave a comment explaining that and we can abandon the patch.\n\nAny patches with no response will be assumed to be OK and will be\nprocessed by July 15.\n\n$ git log --oneline --no-merges 8.7.0..1a7bd66\ne5fc313 config-generator yaml format doesn't work with i18n fields\nb9468aa Ussuri+ is python3 only\nab8a8dd setup.cfg: Replace dashes with underscores\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: Ia291a5d496ae3fb71e41a6d7fc0b885d5a3c8aab\n""}, {'number': 2, 'created': '2021-07-12 14:21:55.000000000', 'files': ['deliverables/xena/oslo.config.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9fb340c6de782877c90b0dbf75067e2d3aae84c3', 'message': ""Xena-2 Release for oslo.config\n\nThis is the Xena milestone-2 release for oslo.config.\nClients and libraries following the cycle-with-intermediary release\nmodel are encouraged to release each milestone to make sure updates\nare made available.\n\nIf you are happy with the current release hash, please +1 this patch\nand we will process a release. If you need to get some important\nchanges merged first, leave a -1 and update the patch with a new\ncommit hash to use once it is ready.\n\nIf a release is definitely not wanted at this time, please -1 and\nleave a comment explaining that and we can abandon the patch.\n\nAny patches with no response will be assumed to be OK and will be\nprocessed by July 15.\n\n$ git log --oneline --no-merges 8.7.0..1a7bd66\ne5fc313 config-generator yaml format doesn't work with i18n fields\nb9468aa Ussuri+ is python3 only\nab8a8dd setup.cfg: Replace dashes with underscores\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: Ia291a5d496ae3fb71e41a6d7fc0b885d5a3c8aab\n""}]",2,800240,9fb340c6de782877c90b0dbf75067e2d3aae84c3,13,3,2,28522,,,0,"Xena-2 Release for oslo.config

This is the Xena milestone-2 release for oslo.config.
Clients and libraries following the cycle-with-intermediary release
model are encouraged to release each milestone to make sure updates
are made available.

If you are happy with the current release hash, please +1 this patch
and we will process a release. If you need to get some important
changes merged first, leave a -1 and update the patch with a new
commit hash to use once it is ready.

If a release is definitely not wanted at this time, please -1 and
leave a comment explaining that and we can abandon the patch.

Any patches with no response will be assumed to be OK and will be
processed by July 15.

$ git log --oneline --no-merges 8.7.0..1a7bd66
e5fc313 config-generator yaml format doesn't work with i18n fields
b9468aa Ussuri+ is python3 only
ab8a8dd setup.cfg: Replace dashes with underscores

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: Ia291a5d496ae3fb71e41a6d7fc0b885d5a3c8aab
",git fetch https://review.opendev.org/openstack/releases refs/changes/40/800240/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/oslo.config.yaml'],1,807af5b77bcd8539528279a12172a22b06c7240d,xena--milestone-2, - version: 8.8.0 projects: - repo: openstack/oslo.config hash: 1a7bd66a7179ca374e996e76f346def33787a21f,,4,0
openstack%2Freleases~master~If8696416f6e757b8033bff79768dc1f5fe2ae96b,openstack/releases,master,If8696416f6e757b8033bff79768dc1f5fe2ae96b,Xena-2 Release for oslo.middleware,MERGED,2021-07-09 13:35:22.000000000,2021-07-15 10:12:27.000000000,2021-07-15 10:12:27.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-09 13:35:22.000000000', 'files': ['deliverables/xena/oslo.middleware.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8d00a3493ebb4667efc240702c77efb86ab6814c', 'message': 'Xena-2 Release for oslo.middleware\n\nThis is the Xena milestone-2 release for oslo.middleware.\nClients and libraries following the cycle-with-intermediary release\nmodel are encouraged to release each milestone to make sure updates\nare made available.\n\nIf you are happy with the current release hash, please +1 this patch\nand we will process a release. If you need to get some important\nchanges merged first, leave a -1 and update the patch with a new\ncommit hash to use once it is ready.\n\nIf a release is definitely not wanted at this time, please -1 and\nleave a comment explaining that and we can abandon the patch.\n\nAny patches with no response will be assumed to be OK and will be\nprocessed by July 15.\n\n$ git log --oneline --no-merges 4.2.0..43ab170\n2c415ff Upgrade the pre-commit-hooks version\n2ec633c setup.cfg: Replace dashes with underscores\nb1ce931 Warning about /healthcheck\nc7fabf4 Add Python3 xena unit tests\nc1a30f3 Update master for stable/wallaby\n3a0f7e4 Fix requirements issues\n5c806d4 Fix requirements issues\n2eb27aa remove unicode from code\nea0d1ab Use py3 as the default runtime for tox\na220331 ignore reno generated artifacts\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: If8696416f6e757b8033bff79768dc1f5fe2ae96b\n'}]",0,800243,8d00a3493ebb4667efc240702c77efb86ab6814c,8,3,1,28522,,,0,"Xena-2 Release for oslo.middleware

This is the Xena milestone-2 release for oslo.middleware.
Clients and libraries following the cycle-with-intermediary release
model are encouraged to release each milestone to make sure updates
are made available.

If you are happy with the current release hash, please +1 this patch
and we will process a release. If you need to get some important
changes merged first, leave a -1 and update the patch with a new
commit hash to use once it is ready.

If a release is definitely not wanted at this time, please -1 and
leave a comment explaining that and we can abandon the patch.

Any patches with no response will be assumed to be OK and will be
processed by July 15.

$ git log --oneline --no-merges 4.2.0..43ab170
2c415ff Upgrade the pre-commit-hooks version
2ec633c setup.cfg: Replace dashes with underscores
b1ce931 Warning about /healthcheck
c7fabf4 Add Python3 xena unit tests
c1a30f3 Update master for stable/wallaby
3a0f7e4 Fix requirements issues
5c806d4 Fix requirements issues
2eb27aa remove unicode from code
ea0d1ab Use py3 as the default runtime for tox
a220331 ignore reno generated artifacts

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: If8696416f6e757b8033bff79768dc1f5fe2ae96b
",git fetch https://review.opendev.org/openstack/releases refs/changes/43/800243/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/oslo.middleware.yaml'],1,8d00a3493ebb4667efc240702c77efb86ab6814c,xena--milestone-2,releases: - version: 4.3.0 projects: - repo: openstack/oslo.middleware hash: 43ab17010a93bff92f7f0a64d4aae1cc54480ae0,,5,0
openstack%2Freleases~master~I4b7b3504426732f162c40502e8608102fa46df38,openstack/releases,master,I4b7b3504426732f162c40502e8608102fa46df38,Xena-2 Release for castellan,MERGED,2021-07-09 13:17:01.000000000,2021-07-15 10:12:23.000000000,2021-07-15 10:12:23.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-09 13:17:01.000000000', 'files': ['deliverables/xena/castellan.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c98f6ba0bcd9c389e88f60e24f09798c7fcad8c1', 'message': 'Xena-2 Release for castellan\n\nThis is the Xena milestone-2 release for castellan.\nClients and libraries following the cycle-with-intermediary release\nmodel are encouraged to release each milestone to make sure updates\nare made available.\n\nIf you are happy with the current release hash, please +1 this patch\nand we will process a release. If you need to get some important\nchanges merged first, leave a -1 and update the patch with a new\ncommit hash to use once it is ready.\n\nIf a release is definitely not wanted at this time, please -1 and\nleave a comment explaining that and we can abandon the patch.\n\nAny patches with no response will be assumed to be OK and will be\nprocessed by July 15.\n\n$ git log --oneline --no-merges 3.8.0..17cd833\n1620394 barbican key manager: Add support for service user\n2073f45 Changed minversion in tox to 3.18.0\n0d0c2f2 Add missing font for PDF doc generation\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: I4b7b3504426732f162c40502e8608102fa46df38\n'}]",0,800230,c98f6ba0bcd9c389e88f60e24f09798c7fcad8c1,8,3,1,28522,,,0,"Xena-2 Release for castellan

This is the Xena milestone-2 release for castellan.
Clients and libraries following the cycle-with-intermediary release
model are encouraged to release each milestone to make sure updates
are made available.

If you are happy with the current release hash, please +1 this patch
and we will process a release. If you need to get some important
changes merged first, leave a -1 and update the patch with a new
commit hash to use once it is ready.

If a release is definitely not wanted at this time, please -1 and
leave a comment explaining that and we can abandon the patch.

Any patches with no response will be assumed to be OK and will be
processed by July 15.

$ git log --oneline --no-merges 3.8.0..17cd833
1620394 barbican key manager: Add support for service user
2073f45 Changed minversion in tox to 3.18.0
0d0c2f2 Add missing font for PDF doc generation

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: I4b7b3504426732f162c40502e8608102fa46df38
",git fetch https://review.opendev.org/openstack/releases refs/changes/30/800230/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/castellan.yaml'],1,c98f6ba0bcd9c389e88f60e24f09798c7fcad8c1,xena-milestone-2, - version: 3.9.0 projects: - repo: openstack/castellan hash: 17cd8335e13cc7b15818e9a0ea9a0f9d5e5cc150,,4,0
openstack%2Fcharm-placement~stable%2F21.04~I4937380670a0407d99d1e0711551a9c0509d410a,openstack/charm-placement,stable/21.04,I4937380670a0407d99d1e0711551a9c0509d410a,Update layer basic with pip dependency fixes,MERGED,2021-07-08 22:09:23.000000000,2021-07-15 10:10:20.000000000,2021-07-15 10:10:20.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-08 22:09:23.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/f0612a1a8939217adebaf539c87dbf36396a4b28', 'message': 'Update layer basic with pip dependency fixes\n\nThe hash of the layer-basic repo used for the stable branch is missing\nseveral fixes to pip dependency handling.\n\nPartial-Bug: #1934934\nChange-Id: I4937380670a0407d99d1e0711551a9c0509d410a\n'}]",1,800119,f0612a1a8939217adebaf539c87dbf36396a4b28,10,4,1,20805,,,0,"Update layer basic with pip dependency fixes

The hash of the layer-basic repo used for the stable branch is missing
several fixes to pip dependency handling.

Partial-Bug: #1934934
Change-Id: I4937380670a0407d99d1e0711551a9c0509d410a
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/19/800119/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,f0612a1a8939217adebaf539c87dbf36396a4b28,bug/1934934," ""commit"": ""a3ff62c32c993d80417f6e093e3ef95e42f62083""} "," ""commit"": ""623e69c7b432456fd4364f6e1835424fd6b5425e""}",2,2
openstack%2Freleases~master~I0aaf511d7377cb06537cb2f04f2986ef2e117332,openstack/releases,master,I0aaf511d7377cb06537cb2f04f2986ef2e117332,os-resource-classes: release 1.1.0,MERGED,2021-07-14 09:45:52.000000000,2021-07-15 10:06:35.000000000,2021-07-15 10:06:35.000000000,"[{'_account_id': 308}, {'_account_id': 7166}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-14 09:45:52.000000000', 'files': ['deliverables/_independent/os-resource-classes.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f451fa20165d44556ab34482ce2003db8789cd94', 'message': 'os-resource-classes: release 1.1.0\n\n$ git log --oneline --no-merges 1.0.0..master\n4324d42 Add packet rate related resource classes\n62568cb [doc] Redirect people to #openstack-nova\n3aead5d Update doc after freenode -> OFTC move\n364f85e Switch to newer openstackdocstheme and reno versions\n7779f6b Fix hacking min version to 3.0.1\nb91da1c Cleanup py27 support\n\nChange-Id: I0aaf511d7377cb06537cb2f04f2986ef2e117332\n'}]",0,800764,f451fa20165d44556ab34482ce2003db8789cd94,8,4,1,9708,,,0,"os-resource-classes: release 1.1.0

$ git log --oneline --no-merges 1.0.0..master
4324d42 Add packet rate related resource classes
62568cb [doc] Redirect people to #openstack-nova
3aead5d Update doc after freenode -> OFTC move
364f85e Switch to newer openstackdocstheme and reno versions
7779f6b Fix hacking min version to 3.0.1
b91da1c Cleanup py27 support

Change-Id: I0aaf511d7377cb06537cb2f04f2986ef2e117332
",git fetch https://review.opendev.org/openstack/releases refs/changes/64/800764/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/os-resource-classes.yaml'],1,f451fa20165d44556ab34482ce2003db8789cd94,os-resource-classes-1.1.0, - version: 1.1.0 projects: - repo: openstack/os-resource-classes hash: 357bd404d8e84ee8ccf0156f193d6810266d3e72,,4,0
openstack%2Fheat-specs~master~Ibca3f0d02bd5740b1502b32c9bc45fee75f956a6,openstack/heat-specs,master,Ibca3f0d02bd5740b1502b32c9bc45fee75f956a6,[ussuri][goal] Update contributor documentation,MERGED,2021-05-14 20:58:08.000000000,2021-07-15 10:01:30.000000000,2021-07-15 10:00:17.000000000,"[{'_account_id': 8556}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 20:58:08.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/a74eeba3235e4662c3c5cce236b42a754795ccdb', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38524\nChange-Id: Ibca3f0d02bd5740b1502b32c9bc45fee75f956a6\n'}]",0,791550,a74eeba3235e4662c3c5cce236b42a754795ccdb,9,4,1,8556,,,0,"[ussuri][goal] Update contributor documentation

This patch updates/adds the contributor documentation to follow
the guidelines of the Ussuri cycle community goal[1].

[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html

Story: #2007236
Task: #38524
Change-Id: Ibca3f0d02bd5740b1502b32c9bc45fee75f956a6
",git fetch https://review.opendev.org/openstack/heat-specs refs/changes/50/791550/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,a74eeba3235e4662c3c5cce236b42a754795ccdb,project-ptl-and-contrib-docs,"The source repository for this project can be found at: https://opendev.org/openstack/heat-specs Pull requests submitted through GitHub are not monitored. To start contributing to OpenStack, follow the steps in the contribution guide to set up and use Gerrit: https://docs.openstack.org/contributors/code-and-documentation/quick-start.html This repository is for doing design review on feature proposal in Heat. Please refer to `this document <https://opendev.org/openstack/heat-specs/src/branch/master/README.rst>`_ for more information. ",,14,0
openstack%2Fneutron~stable%2Fussuri~I1a14f217d0b6bca84cd074ef5aa4e07797fdf7e0,openstack/neutron,stable/ussuri,I1a14f217d0b6bca84cd074ef5aa4e07797fdf7e0,[OVN] Fix ML2/OVN + Neutron DHCP agent use case,ABANDONED,2021-07-14 13:01:10.000000000,2021-07-15 09:54:32.000000000,,"[{'_account_id': 8655}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-14 13:01:10.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/62826c4a90c3843d8e5b0b8fb55551426508e736', 'message': ""[OVN] Fix ML2/OVN + Neutron DHCP agent use case\n\nIn an attempt to minimize the number of connections to the OVSDBs the\nML2/OVN driver stopped connecting to the OVN dbs if the Neutron worker\nwas a RpcWorker but, that introduced a regression for those using\nML2/OVN + Neutron DHCP agent (for baremetal provisioning).\n\nBecause the RpcWorker didn't have a connection to the OVN database the\nNeutron DHCP agent wasn't able to create the DHCP port and failed with:\n\n2021-07-13 13:36:18.116 17 ERROR neutron.plugins.ml2.managers if not\nself._sb_ovn.chassis_exists(host):\n2021-07-13 13:36:18.116 17 ERROR neutron.plugins.ml2.managers\nAttributeError: 'NoneType' object has no attribute 'chassis_exists'\n\nNote this fix is different from the master branch. Reason being, the\nmaster branch included a new configuration option [0] that we could\nleverage to fix this problem but that is not backportable as our guideline\ndo not allow for new features to be backported (and config options).\n\n[0] https://review.opendev.org/c/openstack/neutron/+/795781\n\nCloses-Bug: #1929633\nCloses-Bug: #1935983\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: I1a14f217d0b6bca84cd074ef5aa4e07797fdf7e0\n(cherry picked from commit 256ed3b72fa5b2a8030814e9e6cf299a887ea9b7)\n""}]",0,800783,62826c4a90c3843d8e5b0b8fb55551426508e736,13,3,1,6773,,,0,"[OVN] Fix ML2/OVN + Neutron DHCP agent use case

In an attempt to minimize the number of connections to the OVSDBs the
ML2/OVN driver stopped connecting to the OVN dbs if the Neutron worker
was a RpcWorker but, that introduced a regression for those using
ML2/OVN + Neutron DHCP agent (for baremetal provisioning).

Because the RpcWorker didn't have a connection to the OVN database the
Neutron DHCP agent wasn't able to create the DHCP port and failed with:

2021-07-13 13:36:18.116 17 ERROR neutron.plugins.ml2.managers if not
self._sb_ovn.chassis_exists(host):
2021-07-13 13:36:18.116 17 ERROR neutron.plugins.ml2.managers
AttributeError: 'NoneType' object has no attribute 'chassis_exists'

Note this fix is different from the master branch. Reason being, the
master branch included a new configuration option [0] that we could
leverage to fix this problem but that is not backportable as our guideline
do not allow for new features to be backported (and config options).

[0] https://review.opendev.org/c/openstack/neutron/+/795781

Closes-Bug: #1929633
Closes-Bug: #1935983
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
Change-Id: I1a14f217d0b6bca84cd074ef5aa4e07797fdf7e0
(cherry picked from commit 256ed3b72fa5b2a8030814e9e6cf299a887ea9b7)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/83/800783/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'],1,62826c4a90c3843d8e5b0b8fb55551426508e736,,"from neutron import service worker.MaintenanceWorker, service.RpcWorker)", worker.MaintenanceWorker),3,1
openstack%2Fcharm-designate-bind~stable%2F21.04~Ida65c620fa81715d37e468217aea28f160cf31ee,openstack/charm-designate-bind,stable/21.04,Ida65c620fa81715d37e468217aea28f160cf31ee,Fix charm so that on focal it uses named service,MERGED,2021-06-08 16:37:14.000000000,2021-07-15 09:38:00.000000000,2021-07-15 09:38:00.000000000,"[{'_account_id': 12549}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2021-06-08 16:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/7b78fbce0d701fa7e9e04e1f3180d292a0fe7218', 'message': 'Fix charm so that on focal it uses named service\n\nThis is a cherry-pick/squash of two commits:\n\n 8949ab2 Switch Helper to use c.openstack PatchHelper\n ba7e3ac Fix charm so that on focal it uses named service\n\nFor the purposes of the backport, they have been squashed into this\nsingle commit.  The Change-Id is from ba7e3ac.\n\nOriginal commit messages (minus change ids):\n\nba7e3ac Fix charm so that on focal it uses named service\n\nPre-focal the service was called \'bind9\'.  On focal+ it is called\n\'named\'.  This patch introduces a number of changes to make this\npossible:\n\n * Modify existing charm class ""DesignateBindCharm"" to include a check\n   to see if the distro version is ""focal"" or higher; if so switch\n   the service name to \'named\'.\n\n8949ab2 Switch Helper to use c.openstack PatchHelper\n\nSwitch Helper to use c.openstack PatchHelper\n\nThis charms.openstack PatchHelper class is a better version of the\nHelper class in test_lib_charm_openstack_designate_bind.py as it allows\npatching by fully qualified class string.  This simplifies the patching\nin the tests.\n\nChange-Id: Ida65c620fa81715d37e468217aea28f160cf31ee\nCloses-Bug: #1929770\n'}, {'number': 2, 'created': '2021-07-13 09:24:30.000000000', 'files': ['src/lib/charm/openstack/designate_bind.py', 'unit_tests/test_lib_charm_openstack_designate_bind.py'], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/cc2629b514e363f785e37ee6ec237bf7563b2328', 'message': 'Fix charm so that on focal it uses named service\n\nThis is a cherry-pick/squash of three commits:\n\n 8949ab2 Switch Helper to use c.openstack PatchHelper\n ba7e3ac Fix charm so that on focal it uses named service\n 5205bce Fix charm so that on focal it uses named service - 2\n\nFor the purposes of the backport, they have been squashed into this\nsingle commit.  The Change-Id is from ba7e3ac.\n\nOriginal commit messages (minus change ids):\n\nba7e3ac Fix charm so that on focal it uses named service\n\nPre-focal the service was called \'bind9\'.  On focal+ it is called\n\'named\'.  This patch introduces a number of changes to make this\npossible:\n\n * Modify existing charm class ""DesignateBindCharm"" to include a check\n   to see if the distro version is ""focal"" or higher; if so switch\n   the service name to \'named\'.\n\n8949ab2 Switch Helper to use c.openstack PatchHelper\n\nSwitch Helper to use c.openstack PatchHelper\n\nThis charms.openstack PatchHelper class is a better version of the\nHelper class in test_lib_charm_openstack_designate_bind.py as it allows\npatching by fully qualified class string.  This simplifies the patching\nin the tests.\n\nChange-Id: Ida65c620fa81715d37e468217aea28f160cf31ee\nCloses-Bug: #1929770\n'}]",0,795375,cc2629b514e363f785e37ee6ec237bf7563b2328,22,6,2,20870,,,0,"Fix charm so that on focal it uses named service

This is a cherry-pick/squash of three commits:

 8949ab2 Switch Helper to use c.openstack PatchHelper
 ba7e3ac Fix charm so that on focal it uses named service
 5205bce Fix charm so that on focal it uses named service - 2

For the purposes of the backport, they have been squashed into this
single commit.  The Change-Id is from ba7e3ac.

Original commit messages (minus change ids):

ba7e3ac Fix charm so that on focal it uses named service

Pre-focal the service was called 'bind9'.  On focal+ it is called
'named'.  This patch introduces a number of changes to make this
possible:

 * Modify existing charm class ""DesignateBindCharm"" to include a check
   to see if the distro version is ""focal"" or higher; if so switch
   the service name to 'named'.

8949ab2 Switch Helper to use c.openstack PatchHelper

Switch Helper to use c.openstack PatchHelper

This charms.openstack PatchHelper class is a better version of the
Helper class in test_lib_charm_openstack_designate_bind.py as it allows
patching by fully qualified class string.  This simplifies the patching
in the tests.

Change-Id: Ida65c620fa81715d37e468217aea28f160cf31ee
Closes-Bug: #1929770
",git fetch https://review.opendev.org/openstack/charm-designate-bind refs/changes/75/795375/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/lib/charm/openstack/designate_bind.py', 'unit_tests/test_lib_charm_openstack_designate_bind.py']",2,7b78fbce0d701fa7e9e04e1f3180d292a0fe7218,bug/1929770," import charms_openstack.test_utils as test_utilsclass Helper(test_utils.PatchHelper): super().setUp() self.patch('charmhelpers.core.hookenv.config', name='ch_config') self.patch_object(designate_bind, ""host"", name=""ch_core_host"") self.ch_core_host.lsb_release.return_value = { ""DISTRIB_CODENAME"": ""bionic"" } # simply the CompareHostReleases to just return then string for # comparisons. (won't work for xenial/bionic) self.ch_core_host.CompareHostReleases.side_effect = lambda x: x self.patch('charms_openstack.charm.core._singleton', new=None) charm = designate_bind.DesignateBindCharm.singleton self.patch_object(charm, 'install') def test_service_is_bind9_pre_focal(self): charm = designate_bind.DesignateBindCharm.singleton self.assertEqual(charm.services, [""bind9""]) for v in charm.restart_map.values(): self.assertEqual(v, [""bind9""]) self.assertEqual(charm.default_service, ""bind9"") def test_service_is_bind9_when_bionic(self): self.ch_core_host.lsb_release.return_value = { ""DISTRIB_CODENAME"": ""bionic"" } charm = designate_bind.DesignateBindCharm.singleton self.assertEqual(charm.services, [""bind9""]) for v in charm.restart_map.values(): self.assertEqual(v, [""bind9""]) self.assertEqual(charm.default_service, ""bind9"") def test_service_is_named_focal_plus(self): self.ch_core_host.lsb_release.return_value = { ""DISTRIB_CODENAME"": ""focal"" } charm = designate_bind.DesignateBindCharm.singleton self.assertEqual(charm.services, [""named""]) for v in charm.restart_map.values(): self.assertEqual(v, [""named""]) self.assertEqual(charm.default_service, ""named"") def test_init_rndckey(self): self.patch_object( designate_bind.DesignateBindCharm.singleton, 'init_rndckey') self.patch_object( self.patch_object( self.patch_object( self.patch_object( designate_bind.DesignateBindCharm.singleton, 'setup_sync') self.patch_object( self.patch_object( self.patch_object( self.patch_object( self.patch_object(designate_bind.ch_ip, 'get_relation_ip') self.patch_object(designate_bind.hookenv, 'unit_private_ip') self.patch_object( designate_bind.DesignateBindCharm, 'get_rndc_algorithm') self.patch_object(designate_bind.DesignateBindCharm, 'get_rndc_secret') self.patch_object(designate_bind.hookenv, 'leader_get') self.patch_object(designate_bind.hookenv, 'leader_get') self.patch_object(designate_bind.hookenv, 'leader_get') self.patch_object(designate_bind.hookenv, 'log') self.patch_object(designate_bind.DesignateBindCharm, 'setup_sync') self.patch_object(designate_bind.DesignateBindCharm, 'get_sync_time') self.patch_object(designate_bind.hookenv, 'leader_set') self.patch_object(designate_bind.hookenv, 'unit_private_ip') self.patch_object(designate_bind.os, 'urandom', return_value='seed') self.patch_object(designate_bind.hmac, 'new', return_value=hmac_mock) self.patch_object( designate_bind.base64, 'b64encode', return_value=hmac_mock) self.patch_object(designate_bind.hookenv, 'log') self.patch_object(designate_bind.DesignateBindCharm, 'get_rndc_secret') self.patch_object( designate_bind.DesignateBindCharm, 'generate_rndc_key') self.patch_object(designate_bind.hookenv, 'leader_set') self.patch_object(designate_bind.hookenv, 'is_leader') self.patch_object(designate_bind.glob, 'glob') self.patch_object(designate_bind.subprocess, 'check_call') self.patch_object(designate_bind.os, 'mkdir') self.patch_object(designate_bind.os, 'chmod') self.patch_object( designate_bind.hookenv, 'local_unit', return_value='unit/1') self.patch_object(designate_bind.hookenv, 'log') self.patch_object(designate_bind.DesignateBindCharm, 'setup_sync_dir') self.patch_object(designate_bind.time, 'time') self.patch_object( self.patch_object(designate_bind.DesignateBindCharm, 'service_control') self.patch_object( designate_bind.DesignateBindCharm, 'create_zone_tarball') self.patch_object( designate_bind.DesignateBindCharm, 'set_sync_info') self.patch_object(designate_bind.host, 'service_stop') self.patch_object(designate_bind.time, 'time') self.patch_object(designate_bind.reactive, 'set_state') self.patch_object(designate_bind.subprocess, 'check_call') self.patch_object(designate_bind.DesignateBindCharm, 'get_sync_time') self.patch_object(designate_bind.DesignateBindCharm, 'get_sync_src') self.patch_object(designate_bind.DesignateBindCharm, 'service_control') self.patch_object(designate_bind.hookenv, 'log') self.patch_object(designate_bind.reactive, 'set_state') self.patch_object(designate_bind.reactive, 'remove_state') self.patch_object(designate_bind.os, 'remove') self.patch_object(designate_bind.subprocess, 'check_call') self.patch_object(designate_bind.DesignateBindCharm, 'get_sync_time') self.patch_object(designate_bind.DesignateBindCharm, 'get_sync_src') self.patch_object(designate_bind.hookenv, 'log') self.patch_object(designate_bind.DesignateBindCharm, 'get_sync_time') self.patch_object(designate_bind.DesignateBindCharm, 'get_sync_src') self.patch_object(designate_bind.DesignateBindCharm, 'service_control') self.patch_object(designate_bind.hookenv, 'log') self.patch_object(designate_bind.reactive, 'set_state') self.patch_object(designate_bind.reactive, 'remove_state') self.patch_object(designate_bind.os, 'remove') self.patch_object(designate_bind.subprocess, 'check_call') self.patch_object(designate_bind.os.path, 'isfile')","import unittest class Helper(unittest.TestCase): self._patches = {} self._patches_start = {} self.ch_config_patch = mock.patch('charmhelpers.core.hookenv.config') self.ch_config = self.ch_config_patch.start() def tearDown(self): for k, v in self._patches.items(): v.stop() setattr(self, k, None) self._patches = None self._patches_start = None self.ch_config_patch.stop() def patch(self, obj, attr, return_value=None, **kwargs): mocked = mock.patch.object(obj, attr, **kwargs) self._patches[attr] = mocked started = mocked.start() started.return_value = return_value self._patches_start[attr] = started setattr(self, attr, started) def patch_object(self, obj, attr, return_value=None, name=None, new=None): if name is None: name = attr if new is not None: mocked = mock.patch.object(obj, attr, new=new) else: mocked = mock.patch.object(obj, attr) self._patches[name] = mocked started = mocked.start() if new is None: started.return_value = return_value self._patches_start[name] = started setattr(self, name, started) self.patch(designate_bind.DesignateBindCharm.singleton, 'install') def test_init_rndckey(self): self.patch(designate_bind.DesignateBindCharm.singleton, 'init_rndckey') self.patch( self.patch( self.patch( self.patch(designate_bind.DesignateBindCharm.singleton, 'setup_sync') self.patch( self.patch( self.patch( self.patch( self.patch(designate_bind.ch_ip, 'get_relation_ip') self.patch(designate_bind.hookenv, 'unit_private_ip') self.patch(designate_bind.DesignateBindCharm, 'get_rndc_algorithm') self.patch(designate_bind.DesignateBindCharm, 'get_rndc_secret') self.patch(designate_bind.hookenv, 'leader_get') self.patch(designate_bind.hookenv, 'leader_get') self.patch(designate_bind.hookenv, 'leader_get') self.patch(designate_bind.hookenv, 'log') self.patch(designate_bind.DesignateBindCharm, 'setup_sync') self.patch(designate_bind.DesignateBindCharm, 'get_sync_time') self.patch(designate_bind.hookenv, 'leader_set') self.patch(designate_bind.hookenv, 'unit_private_ip') self.patch(designate_bind.os, 'urandom', return_value='seed') self.patch(designate_bind.hmac, 'new', return_value=hmac_mock) self.patch(designate_bind.base64, 'b64encode', return_value=hmac_mock) self.patch(designate_bind.hookenv, 'log') self.patch(designate_bind.DesignateBindCharm, 'get_rndc_secret') self.patch(designate_bind.DesignateBindCharm, 'generate_rndc_key') self.patch(designate_bind.hookenv, 'leader_set') self.patch(designate_bind.hookenv, 'is_leader') self.patch(designate_bind.glob, 'glob') self.patch(designate_bind.subprocess, 'check_call') self.patch(designate_bind.os, 'mkdir') self.patch(designate_bind.os, 'chmod') self.patch(designate_bind.hookenv, 'local_unit', return_value='unit/1') self.patch(designate_bind.hookenv, 'log') self.patch(designate_bind.DesignateBindCharm, 'setup_sync_dir') self.patch(designate_bind.time, 'time') self.patch( self.patch(designate_bind.DesignateBindCharm, 'service_control') self.patch(designate_bind.DesignateBindCharm, 'create_zone_tarball') self.patch(designate_bind.DesignateBindCharm, 'set_sync_info') self.patch(designate_bind.host, 'service_stop') self.patch(designate_bind.time, 'time') self.patch(designate_bind.reactive, 'set_state') self.patch(designate_bind.subprocess, 'check_call') self.patch(designate_bind.DesignateBindCharm, 'get_sync_time') self.patch(designate_bind.DesignateBindCharm, 'get_sync_src') self.patch(designate_bind.DesignateBindCharm, 'service_control') self.patch(designate_bind.hookenv, 'log') self.patch(designate_bind.reactive, 'set_state') self.patch(designate_bind.reactive, 'remove_state') self.patch(designate_bind.os, 'remove') self.patch(designate_bind.subprocess, 'check_call') self.patch(designate_bind.DesignateBindCharm, 'get_sync_time') self.patch(designate_bind.DesignateBindCharm, 'get_sync_src') self.patch(designate_bind.hookenv, 'log') self.patch(designate_bind.DesignateBindCharm, 'get_sync_time') self.patch(designate_bind.DesignateBindCharm, 'get_sync_src') self.patch(designate_bind.DesignateBindCharm, 'service_control') self.patch(designate_bind.hookenv, 'log') self.patch(designate_bind.reactive, 'set_state') self.patch(designate_bind.reactive, 'remove_state') self.patch(designate_bind.os, 'remove') self.patch(designate_bind.subprocess, 'check_call') self.patch(designate_bind.os.path, 'isfile')",134,102
openstack%2Fsushy~stable%2Fvictoria~Ibeac9db891a11e0565ffbc3d5878d325e69a07a2,openstack/sushy,stable/victoria,Ibeac9db891a11e0565ffbc3d5878d325e69a07a2,Fix Processor.sub_processors,MERGED,2021-07-07 10:18:21.000000000,2021-07-15 09:30:55.000000000,2021-07-15 09:29:28.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 27909}]","[{'number': 1, 'created': '2021-07-07 10:18:21.000000000', 'files': ['sushy/tests/unit/json_samples/subprocessor.json', 'sushy/tests/unit/json_samples/processor.json', 'releasenotes/notes/fix-subprocessors-3b619434dba4636d.yaml', 'sushy/tests/unit/json_samples/subprocessor_collection.json', 'sushy/tests/unit/resources/system/test_processor.py', 'sushy/resources/system/processor.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/dba7d1aac49d63965c055ed74a76c033dfbb15b8', 'message': 'Fix Processor.sub_processors\n\nChange-Id: Ibeac9db891a11e0565ffbc3d5878d325e69a07a2\n(cherry picked from commit af951ac15df0c1e5ec67b0e04e3be18dbbb70fe0)\n'}]",0,799763,dba7d1aac49d63965c055ed74a76c033dfbb15b8,10,4,1,23851,,,0,"Fix Processor.sub_processors

Change-Id: Ibeac9db891a11e0565ffbc3d5878d325e69a07a2
(cherry picked from commit af951ac15df0c1e5ec67b0e04e3be18dbbb70fe0)
",git fetch https://review.opendev.org/openstack/sushy refs/changes/63/799763/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/tests/unit/json_samples/subprocessor.json', 'sushy/tests/unit/json_samples/processor.json', 'releasenotes/notes/fix-subprocessors-3b619434dba4636d.yaml', 'sushy/tests/unit/json_samples/subprocessor_collection.json', 'sushy/resources/system/processor.py', 'sushy/tests/unit/resources/system/test_processor.py']",6,dba7d1aac49d63965c055ed74a76c033dfbb15b8,subprocessors-stable/victoria,"from sushy import exceptions def test_sub_processors(self): self.conn.get.return_value.json.reset_mock() with open('sushy/tests/unit/json_samples/' 'subprocessor_collection.json') as f: subproc_col = json.load(f) with open('sushy/tests/unit/json_samples/subprocessor.json') as f: subproc1 = json.load(f) self.conn.get.return_value.json.side_effect = [subproc_col, subproc1] sub_processors = self.sys_processor.sub_processors self.assertIsInstance(sub_processors, processor.ProcessorCollection) self.assertEqual((0, None), sub_processors.summary) self.assertEqual('Core1', sub_processors.get_members()[0].identity) def test_sub_processors_missing(self): self.sys_processor.json.pop('SubProcessors') with self.assertRaisesRegex( exceptions.MissingAttributeError, 'attribute SubProcessors'): self.sys_processor.sub_processors ",,56,7
openstack%2Fsushy~stable%2Fwallaby~Ibeac9db891a11e0565ffbc3d5878d325e69a07a2,openstack/sushy,stable/wallaby,Ibeac9db891a11e0565ffbc3d5878d325e69a07a2,Fix Processor.sub_processors,MERGED,2021-07-07 10:17:54.000000000,2021-07-15 09:27:19.000000000,2021-07-15 09:26:09.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 27909}]","[{'number': 1, 'created': '2021-07-07 10:17:54.000000000', 'files': ['sushy/tests/unit/json_samples/subprocessor.json', 'sushy/tests/unit/json_samples/processor.json', 'releasenotes/notes/fix-subprocessors-3b619434dba4636d.yaml', 'sushy/tests/unit/json_samples/subprocessor_collection.json', 'sushy/tests/unit/resources/system/test_processor.py', 'sushy/resources/system/processor.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/24f9980129a84907dac5018ef6a9e34aacb6e9e9', 'message': 'Fix Processor.sub_processors\n\nChange-Id: Ibeac9db891a11e0565ffbc3d5878d325e69a07a2\n(cherry picked from commit af951ac15df0c1e5ec67b0e04e3be18dbbb70fe0)\n'}]",0,799762,24f9980129a84907dac5018ef6a9e34aacb6e9e9,10,4,1,23851,,,0,"Fix Processor.sub_processors

Change-Id: Ibeac9db891a11e0565ffbc3d5878d325e69a07a2
(cherry picked from commit af951ac15df0c1e5ec67b0e04e3be18dbbb70fe0)
",git fetch https://review.opendev.org/openstack/sushy refs/changes/62/799762/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/tests/unit/json_samples/subprocessor.json', 'sushy/tests/unit/json_samples/processor.json', 'releasenotes/notes/fix-subprocessors-3b619434dba4636d.yaml', 'sushy/tests/unit/json_samples/subprocessor_collection.json', 'sushy/resources/system/processor.py', 'sushy/tests/unit/resources/system/test_processor.py']",6,24f9980129a84907dac5018ef6a9e34aacb6e9e9,subprocessors-stable/wallaby,"from sushy import exceptions def test_sub_processors(self): self.conn.get.return_value.json.reset_mock() with open('sushy/tests/unit/json_samples/' 'subprocessor_collection.json') as f: subproc_col = json.load(f) with open('sushy/tests/unit/json_samples/subprocessor.json') as f: subproc1 = json.load(f) self.conn.get.return_value.json.side_effect = [subproc_col, subproc1] sub_processors = self.sys_processor.sub_processors self.assertIsInstance(sub_processors, processor.ProcessorCollection) self.assertEqual((0, None), sub_processors.summary) self.assertEqual('Core1', sub_processors.get_members()[0].identity) def test_sub_processors_missing(self): self.sys_processor.json.pop('SubProcessors') with self.assertRaisesRegex( exceptions.MissingAttributeError, 'attribute SubProcessors'): self.sys_processor.sub_processors ",,56,7
openstack%2Fopenstack-ansible-os_octavia~master~I4dbc598ef0d085ac8c5656c52b9239ee69a1f4d1,openstack/openstack-ansible-os_octavia,master,I4dbc598ef0d085ac8c5656c52b9239ee69a1f4d1,Fix spelling error,MERGED,2021-07-09 07:42:48.000000000,2021-07-15 09:25:57.000000000,2021-07-15 09:24:46.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-07-09 07:42:48.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/a2de42c7bb85edb8a5ec07bf99418b6db8fd027e', 'message': 'Fix spelling error\n\nThis patch fixes the spelling of octavia which is misspelled as octaiva.\n\nChange-Id: I4dbc598ef0d085ac8c5656c52b9239ee69a1f4d1\n'}]",0,800163,a2de42c7bb85edb8a5ec07bf99418b6db8fd027e,20,3,1,21785,,,0,"Fix spelling error

This patch fixes the spelling of octavia which is misspelled as octaiva.

Change-Id: I4dbc598ef0d085ac8c5656c52b9239ee69a1f4d1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/63/800163/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,a2de42c7bb85edb8a5ec07bf99418b6db8fd027e,spell_error,"octavia_oslomsg_rpc_ssl_ca_file: ""{{ oslomsg_rpc_ssl_ca_file | default('') }}""","octaiva_oslomsg_rpc_ssl_ca_file: ""{{ oslomsg_rpc_ssl_ca_file | default('') }}""",1,1
openstack%2Foctavia~master~Ifa8c620fe76517b1c040af5905e6a6c1cdb4c922,openstack/octavia,master,Ifa8c620fe76517b1c040af5905e6a6c1cdb4c922,Fix oslo policy DeprecatedRule warnings,MERGED,2021-07-03 23:59:46.000000000,2021-07-15 09:11:16.000000000,2021-07-15 09:09:40.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-07-03 23:59:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/625a025222878b05733057d5efdda90503fbf168', 'message': 'Fix oslo policy DeprecatedRule warnings\n\nSince 3.7.0, oslo policy started the DeprecationWarning[1] if\ndeprecated_reason and deprecated_since param are not passed\nin DeprecatedRule or they are passed in RuleDefault object.\n\nThese warnings are logged for every test which increase the\nlog size and sometime can full the log buffer and fail the\njob.\n\n[1] https://github.com/openstack/oslo.policy/blob/3.7.0/oslo_policy/policy.py#L1538\n\nChange-Id: Ifa8c620fe76517b1c040af5905e6a6c1cdb4c922\n'}, {'number': 2, 'created': '2021-07-04 23:02:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6bc985fbbdc55de96e994bdfb7f79b022f55d281', 'message': 'Fix oslo policy DeprecatedRule warnings\n\nSince 3.7.0, oslo policy started the DeprecationWarning[1] if\ndeprecated_reason and deprecated_since param are not passed\nin DeprecatedRule or they are passed in RuleDefault object.\n\nThese warnings are logged for every test which increase the\nlog size and sometime can full the log buffer and fail the\njob.\n\n[1] https://github.com/openstack/oslo.policy/blob/3.7.0/oslo_policy/policy.py#L1538\n\nChange-Id: Ifa8c620fe76517b1c040af5905e6a6c1cdb4c922\n'}, {'number': 3, 'created': '2021-07-12 18:10:39.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'octavia/policies/base.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/7e264e1f21ee396d046e0df0c1a4f4218039e4aa', 'message': 'Fix oslo policy DeprecatedRule warnings\n\nSince 3.7.0, oslo policy started the DeprecationWarning[1] if\ndeprecated_reason and deprecated_since param are not passed\nin DeprecatedRule or they are passed in RuleDefault object.\n\nThese warnings are logged for every test which increase the\nlog size and sometime can full the log buffer and fail the\njob.\n\n[1] https://github.com/openstack/oslo.policy/blob/3.7.0/oslo_policy/policy.py#L1538\n\nChange-Id: Ifa8c620fe76517b1c040af5905e6a6c1cdb4c922\n'}]",2,799405,7e264e1f21ee396d046e0df0c1a4f4218039e4aa,19,7,3,8556,,,0,"Fix oslo policy DeprecatedRule warnings

Since 3.7.0, oslo policy started the DeprecationWarning[1] if
deprecated_reason and deprecated_since param are not passed
in DeprecatedRule or they are passed in RuleDefault object.

These warnings are logged for every test which increase the
log size and sometime can full the log buffer and fail the
job.

[1] https://github.com/openstack/oslo.policy/blob/3.7.0/oslo_policy/policy.py#L1538

Change-Id: Ifa8c620fe76517b1c040af5905e6a6c1cdb4c922
",git fetch https://review.opendev.org/openstack/octavia refs/changes/05/799405/3 && git format-patch -1 --stdout FETCH_HEAD,['octavia/policies/base.py'],1,625a025222878b05733057d5efdda90503fbf168,fix-oslo-policy-warnings," 'role:load-balancer_admin', deprecated_reason=constants.RBAC_ROLES_DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY, 'rule:load-balancer:owner', deprecated_reason=constants.RBAC_ROLES_DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY, 'rule:load-balancer:owner', deprecated_reason=constants.RBAC_ROLES_DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY,"," 'role:load-balancer_admin' 'rule:load-balancer:owner' 'rule:load-balancer:owner' deprecated_reason=constants.RBAC_ROLES_DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY, deprecated_reason=constants.RBAC_ROLES_DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY,",9,7
openstack%2Fnetworking-ovn~stable%2Ftrain~I1a14f217d0b6bca84cd074ef5aa4e07797fdf7e0,openstack/networking-ovn,stable/train,I1a14f217d0b6bca84cd074ef5aa4e07797fdf7e0,[OVN] Fix ML2/OVN + Neutron DHCP agent use case,ABANDONED,2021-07-14 13:03:13.000000000,2021-07-15 08:57:03.000000000,,"[{'_account_id': 8655}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-14 13:03:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/882b216e4246368f07fc8195d1e716612c1ca4ca', 'message': ""[OVN] Fix ML2/OVN + Neutron DHCP agent use case\n\nIn an attempt to minimize the number of connections to the OVSDBs the\nML2/OVN driver stopped connecting to the OVN dbs if the Neutron worker\nwas a RpcWorker but, that introduced a regression for those using\nML2/OVN + Neutron DHCP agent (for baremetal provisioning).\n\nBecause the RpcWorker didn't have a connection to the OVN database the\nNeutron DHCP agent wasn't able to create the DHCP port and failed with:\n\n2021-07-13 13:36:18.116 17 ERROR neutron.plugins.ml2.managers if not\nself._sb_ovn.chassis_exists(host):\n2021-07-13 13:36:18.116 17 ERROR neutron.plugins.ml2.managers\nAttributeError: 'NoneType' object has no attribute 'chassis_exists'\n\nNote this fix is different from the master branch. Reason being, the\nmaster branch included a new configuration option [0] that we could\nleverage to fix this problem but that is not backportable as our\nguideline\ndo not allow for new features to be backported (and config options).\n\n[0] https://review.opendev.org/c/openstack/neutron/+/795781\n\n(manually cherry picked from Neutron 256ed3b72fa5b2a8030814e9e6cf299a887ea9b7)\n\nCloses-Bug: #1929633\nCloses-Bug: #1935983\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: I1a14f217d0b6bca84cd074ef5aa4e07797fdf7e0\n""}, {'number': 2, 'created': '2021-07-14 15:54:04.000000000', 'files': ['networking_ovn/ml2/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a02ad220103a780ee69c15f1e5792e5c2ba880e5', 'message': ""[OVN] Fix ML2/OVN + Neutron DHCP agent use case\n\nIn an attempt to minimize the number of connections to the OVSDBs the\nML2/OVN driver stopped connecting to the OVN dbs if the Neutron worker\nwas a RpcWorker but, that introduced a regression for those using\nML2/OVN + Neutron DHCP agent (for baremetal provisioning).\n\nBecause the RpcWorker didn't have a connection to the OVN database the\nNeutron DHCP agent wasn't able to create the DHCP port and failed with:\n\n2021-07-13 13:36:18.116 17 ERROR neutron.plugins.ml2.managers if not\nself._sb_ovn.chassis_exists(host):\n2021-07-13 13:36:18.116 17 ERROR neutron.plugins.ml2.managers\nAttributeError: 'NoneType' object has no attribute 'chassis_exists'\n\nNote this fix is different from the master branch. Reason being, the\nmaster branch included a new configuration option [0] that we could\nleverage to fix this problem but that is not backportable as our\nguideline\ndo not allow for new features to be backported (and config options).\n\n[0] https://review.opendev.org/c/openstack/neutron/+/795781\n\n(manually cherry picked from Neutron 256ed3b72fa5b2a8030814e9e6cf299a887ea9b7)\n\nCloses-Bug: #1929633\nCloses-Bug: #1935983\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: I1a14f217d0b6bca84cd074ef5aa4e07797fdf7e0\n""}]",1,800785,a02ad220103a780ee69c15f1e5792e5c2ba880e5,7,3,2,6773,,,0,"[OVN] Fix ML2/OVN + Neutron DHCP agent use case

In an attempt to minimize the number of connections to the OVSDBs the
ML2/OVN driver stopped connecting to the OVN dbs if the Neutron worker
was a RpcWorker but, that introduced a regression for those using
ML2/OVN + Neutron DHCP agent (for baremetal provisioning).

Because the RpcWorker didn't have a connection to the OVN database the
Neutron DHCP agent wasn't able to create the DHCP port and failed with:

2021-07-13 13:36:18.116 17 ERROR neutron.plugins.ml2.managers if not
self._sb_ovn.chassis_exists(host):
2021-07-13 13:36:18.116 17 ERROR neutron.plugins.ml2.managers
AttributeError: 'NoneType' object has no attribute 'chassis_exists'

Note this fix is different from the master branch. Reason being, the
master branch included a new configuration option [0] that we could
leverage to fix this problem but that is not backportable as our
guideline
do not allow for new features to be backported (and config options).

[0] https://review.opendev.org/c/openstack/neutron/+/795781

(manually cherry picked from Neutron 256ed3b72fa5b2a8030814e9e6cf299a887ea9b7)

Closes-Bug: #1929633
Closes-Bug: #1935983
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
Change-Id: I1a14f217d0b6bca84cd074ef5aa4e07797fdf7e0
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/85/800785/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/ml2/mech_driver.py'],1,882b216e4246368f07fc8195d1e716612c1ca4ca,,"from neutron import service worker.MaintenanceWorker, service.RpcWorker)", worker.MaintenanceWorker),3,1
openstack%2Fneutron~stable%2Fvictoria~I1a14f217d0b6bca84cd074ef5aa4e07797fdf7e0,openstack/neutron,stable/victoria,I1a14f217d0b6bca84cd074ef5aa4e07797fdf7e0,[OVN] Fix ML2/OVN + Neutron DHCP agent use case,ABANDONED,2021-07-14 13:01:28.000000000,2021-07-15 08:56:54.000000000,,"[{'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-14 13:01:28.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/75a28f8d6cadf8d55ad8509cb569d06361196aac', 'message': ""[OVN] Fix ML2/OVN + Neutron DHCP agent use case\n\nIn an attempt to minimize the number of connections to the OVSDBs the\nML2/OVN driver stopped connecting to the OVN dbs if the Neutron worker\nwas a RpcWorker but, that introduced a regression for those using\nML2/OVN + Neutron DHCP agent (for baremetal provisioning).\n\nBecause the RpcWorker didn't have a connection to the OVN database the\nNeutron DHCP agent wasn't able to create the DHCP port and failed with:\n\n2021-07-13 13:36:18.116 17 ERROR neutron.plugins.ml2.managers if not\nself._sb_ovn.chassis_exists(host):\n2021-07-13 13:36:18.116 17 ERROR neutron.plugins.ml2.managers\nAttributeError: 'NoneType' object has no attribute 'chassis_exists'\n\nNote this fix is different from the master branch. Reason being, the\nmaster branch included a new configuration option [0] that we could\nleverage to fix this problem but that is not backportable as our guideline\ndo not allow for new features to be backported (and config options).\n\n[0] https://review.opendev.org/c/openstack/neutron/+/795781\n\nCloses-Bug: #1929633\nCloses-Bug: #1935983\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: I1a14f217d0b6bca84cd074ef5aa4e07797fdf7e0\n(cherry picked from commit 256ed3b72fa5b2a8030814e9e6cf299a887ea9b7)\n""}]",0,800784,75a28f8d6cadf8d55ad8509cb569d06361196aac,6,2,1,6773,,,0,"[OVN] Fix ML2/OVN + Neutron DHCP agent use case

In an attempt to minimize the number of connections to the OVSDBs the
ML2/OVN driver stopped connecting to the OVN dbs if the Neutron worker
was a RpcWorker but, that introduced a regression for those using
ML2/OVN + Neutron DHCP agent (for baremetal provisioning).

Because the RpcWorker didn't have a connection to the OVN database the
Neutron DHCP agent wasn't able to create the DHCP port and failed with:

2021-07-13 13:36:18.116 17 ERROR neutron.plugins.ml2.managers if not
self._sb_ovn.chassis_exists(host):
2021-07-13 13:36:18.116 17 ERROR neutron.plugins.ml2.managers
AttributeError: 'NoneType' object has no attribute 'chassis_exists'

Note this fix is different from the master branch. Reason being, the
master branch included a new configuration option [0] that we could
leverage to fix this problem but that is not backportable as our guideline
do not allow for new features to be backported (and config options).

[0] https://review.opendev.org/c/openstack/neutron/+/795781

Closes-Bug: #1929633
Closes-Bug: #1935983
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
Change-Id: I1a14f217d0b6bca84cd074ef5aa4e07797fdf7e0
(cherry picked from commit 256ed3b72fa5b2a8030814e9e6cf299a887ea9b7)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/84/800784/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'],1,75a28f8d6cadf8d55ad8509cb569d06361196aac,,"from neutron import service worker.MaintenanceWorker, service.RpcWorker)", worker.MaintenanceWorker),3,1
openstack%2Fneutron~stable%2Fwallaby~I1a14f217d0b6bca84cd074ef5aa4e07797fdf7e0,openstack/neutron,stable/wallaby,I1a14f217d0b6bca84cd074ef5aa4e07797fdf7e0,[OVN] Fix ML2/OVN + Neutron DHCP agent use case,ABANDONED,2021-07-14 12:52:55.000000000,2021-07-15 08:56:50.000000000,,"[{'_account_id': 8313}, {'_account_id': 8655}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-14 12:52:55.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/256ed3b72fa5b2a8030814e9e6cf299a887ea9b7', 'message': ""[OVN] Fix ML2/OVN + Neutron DHCP agent use case\n\nIn an attempt to minimize the number of connections to the OVSDBs the\nML2/OVN driver stopped connecting to the OVN dbs if the Neutron worker\nwas a RpcWorker but, that introduced a regression for those using\nML2/OVN + Neutron DHCP agent (for baremetal provisioning).\n\nBecause the RpcWorker didn't have a connection to the OVN database the\nNeutron DHCP agent wasn't able to create the DHCP port and failed with:\n\n2021-07-13 13:36:18.116 17 ERROR neutron.plugins.ml2.managers if not\nself._sb_ovn.chassis_exists(host):\n2021-07-13 13:36:18.116 17 ERROR neutron.plugins.ml2.managers\nAttributeError: 'NoneType' object has no attribute 'chassis_exists'\n\nNote this fix is different from the master branch. Reason being, the\nmaster branch included a new configuration option [0] that we could\nleverage to fix this problem but that is not backportable as our guideline\ndo not allow for new features to be backported (and config options).\n\n[0] https://review.opendev.org/c/openstack/neutron/+/795781\n\nCloses-Bug: #1929633\nCloses-Bug: #1935983\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: I1a14f217d0b6bca84cd074ef5aa4e07797fdf7e0\n""}]",3,800780,256ed3b72fa5b2a8030814e9e6cf299a887ea9b7,15,5,1,6773,,,0,"[OVN] Fix ML2/OVN + Neutron DHCP agent use case

In an attempt to minimize the number of connections to the OVSDBs the
ML2/OVN driver stopped connecting to the OVN dbs if the Neutron worker
was a RpcWorker but, that introduced a regression for those using
ML2/OVN + Neutron DHCP agent (for baremetal provisioning).

Because the RpcWorker didn't have a connection to the OVN database the
Neutron DHCP agent wasn't able to create the DHCP port and failed with:

2021-07-13 13:36:18.116 17 ERROR neutron.plugins.ml2.managers if not
self._sb_ovn.chassis_exists(host):
2021-07-13 13:36:18.116 17 ERROR neutron.plugins.ml2.managers
AttributeError: 'NoneType' object has no attribute 'chassis_exists'

Note this fix is different from the master branch. Reason being, the
master branch included a new configuration option [0] that we could
leverage to fix this problem but that is not backportable as our guideline
do not allow for new features to be backported (and config options).

[0] https://review.opendev.org/c/openstack/neutron/+/795781

Closes-Bug: #1929633
Closes-Bug: #1935983
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
Change-Id: I1a14f217d0b6bca84cd074ef5aa4e07797fdf7e0
",git fetch https://review.opendev.org/openstack/neutron refs/changes/80/800780/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'],1,256ed3b72fa5b2a8030814e9e6cf299a887ea9b7,,"from neutron import service worker.MaintenanceWorker, service.RpcWorker)", worker.MaintenanceWorker),3,1
openstack%2Fironic-python-agent~bugfix%2F8.0~If151b3a3be979bd2b3ce01030e5d6242ad74eaa3,openstack/ironic-python-agent,bugfix/8.0,If151b3a3be979bd2b3ce01030e5d6242ad74eaa3,Reduce logging verbosity when collecting logs,MERGED,2021-06-15 09:38:15.000000000,2021-07-15 08:48:32.000000000,2021-07-15 08:47:22.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 09:38:15.000000000', 'files': ['ironic_python_agent/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/6786cbe2c4354eb0a94d6871ff278d3ad349a220', 'message': ""Reduce logging verbosity when collecting logs\n\nIt's not uncommon that some commands fail when collecting logs.\nWe already log all failures in utils.execute, no need to duplicate\nthem with a non-fatal ERROR logging.\n\nChange-Id: If151b3a3be979bd2b3ce01030e5d6242ad74eaa3\n(cherry picked from commit 2fcf35e56d578d98d77ffc97b6441f83548d7704)\n""}]",0,796229,6786cbe2c4354eb0a94d6871ff278d3ad349a220,8,3,1,23851,,,0,"Reduce logging verbosity when collecting logs

It's not uncommon that some commands fail when collecting logs.
We already log all failures in utils.execute, no need to duplicate
them with a non-fatal ERROR logging.

Change-Id: If151b3a3be979bd2b3ce01030e5d6242ad74eaa3
(cherry picked from commit 2fcf35e56d578d98d77ffc97b6441f83548d7704)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/29/796229/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/utils.py'],1,6786cbe2c4354eb0a94d6871ff278d3ad349a220,system-logs-verbose-bugfix/8.0," LOG.debug('Collecting logs from command %s has failed', command)", LOG.error(error_msg) pass,1,2
openstack%2Ftripleo-ci~master~I73be2188b104568ced2296642032902830e7a175,openstack/tripleo-ci,master,I73be2188b104568ced2296642032902830e7a175,Temp mark undercloud-upgrade-wallaby non voting for swift bug,MERGED,2021-07-13 10:50:19.000000000,2021-07-15 07:49:01.000000000,2021-07-13 18:09:42.000000000,"[{'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-13 10:50:19.000000000', 'files': ['zuul.d/upgrades-jobs-templates.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/cea112d77436a7bc998bedbfddee010ed0fade27', 'message': 'Temp mark undercloud-upgrade-wallaby non voting for swift bug\n\nThe undercloud-upgrade-wallaby job is hitting suspected race\ncondition from related bug. We should mark it non voting to\nunblock the gate until the bug is fixed.\n\nChange-Id: I73be2188b104568ced2296642032902830e7a175\nRelated-Bug: 1935961\n'}]",0,800620,cea112d77436a7bc998bedbfddee010ed0fade27,11,4,1,8449,,,0,"Temp mark undercloud-upgrade-wallaby non voting for swift bug

The undercloud-upgrade-wallaby job is hitting suspected race
condition from related bug. We should mark it non voting to
unblock the gate until the bug is fixed.

Change-Id: I73be2188b104568ced2296642032902830e7a175
Related-Bug: 1935961
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/20/800620/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/upgrades-jobs-templates.yaml'],1,cea112d77436a7bc998bedbfddee010ed0fade27,, voting: false, voting: true,1,1
openstack%2Fproject-config~master~I0e2a9d453e2e8c0036c9094220855a4701bff7f3,openstack/project-config,master,I0e2a9d453e2e8c0036c9094220855a4701bff7f3,register and bring back tricircle under x namespaces,ABANDONED,2021-07-15 07:00:26.000000000,2021-07-15 07:11:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-15 07:00:26.000000000', 'files': ['gerrit/projects.yaml', 'gerrit/acls/x/tricircle.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/b14769076adee0e11dc4e5e6304c6afcb535a90f', 'message': 'register and bring back tricircle under x namespaces\n\nChange-Id: I0e2a9d453e2e8c0036c9094220855a4701bff7f3\n'}]",0,800885,b14769076adee0e11dc4e5e6304c6afcb535a90f,3,1,1,28071,,,0,"register and bring back tricircle under x namespaces

Change-Id: I0e2a9d453e2e8c0036c9094220855a4701bff7f3
",git fetch https://review.opendev.org/openstack/project-config refs/changes/85/800885/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'gerrit/acls/x/tricircle.config']",2,b14769076adee0e11dc4e5e6304c6afcb535a90f,,"[access ""refs/heads/*""] abandon = group tricircle-core create = group tricircle-release label-Code-Review = -2..+2 group tricircle-core label-Workflow = -1..+1 group tricircle-core [access ""refs/tags/*""] pushSignedTag = group tricircle-release [receive] requireChangeId = true requireContributorAgreement = true [submit] mergeContent = true ",,19,0
openstack%2Fneutron~master~Id849e8ca6795131bb760b96e40e24c1d8a3a116b,openstack/neutron,master,Id849e8ca6795131bb760b96e40e24c1d8a3a116b,[OVN] Conditionally init OVN IDL for RPC workers,ABANDONED,2021-06-09 05:16:32.000000000,2021-07-15 06:50:26.000000000,,"[{'_account_id': 5756}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 05:16:32.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1a410ca59f6633a89484f88ae3ab1e526ec8b3d1', 'message': '[OVN] Conditionally init OVN IDL for RPC workers\n\nThe OVN driver owns ports and provides DHCP- and Metadata-\nservices to consumers of the sriovnicsiwtch mechanism driver.\n\nAt this point in time the sriovnicswitch driver relies on an\nagent and RPC and as such we need to conditionally initialize\nOVN IDL connections even for RPC workers.\n\nCloses-Bug: #1931244\nRelated-Bug: #1927977\nChange-Id: Id849e8ca6795131bb760b96e40e24c1d8a3a116b\n'}]",0,795474,1a410ca59f6633a89484f88ae3ab1e526ec8b3d1,16,4,1,13686,,,0,"[OVN] Conditionally init OVN IDL for RPC workers

The OVN driver owns ports and provides DHCP- and Metadata-
services to consumers of the sriovnicsiwtch mechanism driver.

At this point in time the sriovnicswitch driver relies on an
agent and RPC and as such we need to conditionally initialize
OVN IDL connections even for RPC workers.

Closes-Bug: #1931244
Related-Bug: #1927977
Change-Id: Id849e8ca6795131bb760b96e40e24c1d8a3a116b
",git fetch https://review.opendev.org/openstack/neutron refs/changes/74/795474/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",2,1a410ca59f6633a89484f88ae3ab1e526ec8b3d1,bug/1931244,"import neutron.service def should_post_fork_initialize(self, worker_class): desired_classes = ( neutron.wsgi.WorkerService, worker.MaintenanceWorker, ) # The OVN driver owns ports and provides DHCP- and Metadata- services # to consumers of the sriovnicsiwtch mechanism driver. At this point in # time the sriovnicswitch driver relies on an agent and RPC, and as # such we need to conditionally initialize OVN IDL connections even for # RPC workers. LP: #1931244 if 'sriovnicswitch' in self._plugin.mechanism_manager.mech_drivers: desired_classes += (neutron.service.RpcWorker,) return worker_class in desired_classes"," @staticmethod def should_post_fork_initialize(worker_class): return worker_class in (neutron.wsgi.WorkerService, worker.MaintenanceWorker)",32,4
openstack%2Ftripleo-heat-templates~master~I4b4d79b0f68287921fedb3ad7b29b50df5ae3f02,openstack/tripleo-heat-templates,master,I4b4d79b0f68287921fedb3ad7b29b50df5ae3f02,Add tool to convert net-data from v1 to v2,MERGED,2021-07-08 14:28:31.000000000,2021-07-15 06:47:19.000000000,2021-07-15 06:47:19.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-07-08 14:28:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/387b82ed19746f0b6b440146af78a895e0532dcb', 'message': 'Add tool to convert net-data from v1 to v2\n\nThis new tool will convert the old v1 net-data format to v2. This tool\nwill create a backup of the older net-data file so that its possible to\nrecover data should anything go wrong in the conversion. Upon completion\nthe tool will create the v2 file using the existing file format name.\n\nChange-Id: I4b4d79b0f68287921fedb3ad7b29b50df5ae3f02\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2021-07-12 15:40:31.000000000', 'files': ['tools/convert_v1_net_data.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a191377b3490f0f3b14e1cbddda990fa7a73a6e0', 'message': 'Add tool to convert net-data from v1 to v2\n\nThis new tool will convert the old v1 net-data format to v2. This tool\nwill create a backup of the older net-data file so that its possible to\nrecover data should anything go wrong in the conversion. Upon completion\nthe tool will create the v2 file using the existing file format name.\n\nChange-Id: I4b4d79b0f68287921fedb3ad7b29b50df5ae3f02\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",7,800065,a191377b3490f0f3b14e1cbddda990fa7a73a6e0,20,5,2,7353,,,0,"Add tool to convert net-data from v1 to v2

This new tool will convert the old v1 net-data format to v2. This tool
will create a backup of the older net-data file so that its possible to
recover data should anything go wrong in the conversion. Upon completion
the tool will create the v2 file using the existing file format name.

Change-Id: I4b4d79b0f68287921fedb3ad7b29b50df5ae3f02
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/65/800065/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/convert_v1_net_data.py'],1,387b82ed19746f0b6b440146af78a895e0532dcb,tinkering-netv2,"#!/usr/bin/env python # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import argparse import os import yaml def parse_opts(): """"""Parse all of the conversion options."""""" parser = argparse.ArgumentParser( description=""Convert a network V1 template to a V2 template."" ) parser.add_argument(""--v1"", help=""Existing V1 Template."", required=True) return parser.parse_args() def main(): """"""Convert a network v1 template to the network v2 format. The V1 template will be converted to V2 format. The V1 template will be saved as a backup file before writing the V2 net-data format. """""" args = parse_opts() net_data_file = os.path.abspath(os.path.expanduser(args.v1)) with open(net_data_file) as f: template_data = yaml.safe_load(f) new_template_data = list() for item in template_data: new_item = dict() item.pop(""enabled"", False) # Drop unused var name = new_item[""name""] = item.pop(""name"") name_lower = new_item[""name_lower""] = item.pop( ""name_lower"", name.lower() ) new_item[""vip""] = item.pop(""vip"", False) new_item[""mtu""] = item.pop(""mtu"", 1500) new_item[""subnets""] = {""{}_subnet"".format(name_lower): item} new_template_data.append(new_item) os.rename(net_data_file, ""{}.bak"".format(net_data_file)) with open(net_data_file, ""w"") as f: yaml.safe_dump(new_template_data, f, default_style=False) if __name__ == ""__main__"": main() ",,61,0
openstack%2Fmanila-ui~master~I140c14df70bbcc01b7eae5be772553b5b1564dbf,openstack/manila-ui,master,I140c14df70bbcc01b7eae5be772553b5b1564dbf,remove unicode from code,NEW,2021-01-03 07:52:51.000000000,2021-07-15 06:35:40.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 32102}, {'_account_id': 32531}]","[{'number': 1, 'created': '2021-01-03 07:52:51.000000000', 'files': ['doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/44e9e25744740c4d8db1850ec43cca0ca184d81b', 'message': 'remove unicode from code\n\nChange-Id: I140c14df70bbcc01b7eae5be772553b5b1564dbf\n'}]",0,768988,44e9e25744740c4d8db1850ec43cca0ca184d81b,8,4,1,30384,,,0,"remove unicode from code

Change-Id: I140c14df70bbcc01b7eae5be772553b5b1564dbf
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/88/768988/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'releasenotes/source/conf.py']",2,44e9e25744740c4d8db1850ec43cca0ca184d81b,,"project = 'manila-ui Release Notes' copyright = '2016, Manila Developers' 'manila-ui Release Notes Documentation', 'Manila Developers', 'manual'), 'manila-ui Release Notes Documentation', ['Manila Developers'], 1) 'manila-ui Release Notes Documentation', 'Manila Developers', 'ManilaUIReleaseNotes',","project = u'manila-ui Release Notes' copyright = u'2016, Manila Developers' u'manila-ui Release Notes Documentation', u'Manila Developers', 'manual'), u'manila-ui Release Notes Documentation', [u'Manila Developers'], 1) u'manila-ui Release Notes Documentation', u'Manila Developers', 'ManilaUIReleaseNotes',",12,12
openstack%2Ftrove~stable%2Fwallaby~If2d3022a59ba535e1361a3ba9bc9dd983ca25256,openstack/trove,stable/wallaby,If2d3022a59ba535e1361a3ba9bc9dd983ca25256,Fix getting config option value for database,MERGED,2021-07-14 23:38:30.000000000,2021-07-15 06:25:50.000000000,2021-07-15 06:23:04.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-14 23:38:30.000000000', 'files': ['trove/guestagent/datastore/mysql_common/service.py', 'trove/guestagent/datastore/mysql_common/manager.py', 'trove/guestagent/common/configuration.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/4f6300cd9c2717f89ee16302f7208a84e6470649', 'message': 'Fix getting config option value for database\n\nChange-Id: If2d3022a59ba535e1361a3ba9bc9dd983ca25256\nStory: 2009051\nTask: 42821\n(cherry picked from commit 69f08ab470a0d1d1d4676b41ad29a9c19ce28648)\n'}]",0,800856,4f6300cd9c2717f89ee16302f7208a84e6470649,7,2,1,6732,,,0,"Fix getting config option value for database

Change-Id: If2d3022a59ba535e1361a3ba9bc9dd983ca25256
Story: 2009051
Task: 42821
(cherry picked from commit 69f08ab470a0d1d1d4676b41ad29a9c19ce28648)
",git fetch https://review.opendev.org/openstack/trove refs/changes/56/800856/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/guestagent/datastore/mysql_common/service.py', 'trove/guestagent/datastore/mysql_common/manager.py', 'trove/guestagent/common/configuration.py']",3,4f6300cd9c2717f89ee16302f7208a84e6470649,fix-get-config-stable/wallaby," def get_value(self, key, section=None, default=None): if section: return self._value_cache.get(section, {}).get(key, default) LOG.debug(f""Parsed overrides options: {parsed_options}"")"," def get_value(self, key, default=None):",12,5
openstack%2Ftrove~stable%2Fvictoria~If2d3022a59ba535e1361a3ba9bc9dd983ca25256,openstack/trove,stable/victoria,If2d3022a59ba535e1361a3ba9bc9dd983ca25256,Fix getting config option value for database,MERGED,2021-07-14 23:38:53.000000000,2021-07-15 06:25:13.000000000,2021-07-15 06:22:58.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-14 23:38:53.000000000', 'files': ['trove/guestagent/datastore/mysql_common/service.py', 'trove/guestagent/datastore/mysql_common/manager.py', 'trove/guestagent/common/configuration.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/be65d641d28fa84dc0629ecc29b6799eb99fa195', 'message': 'Fix getting config option value for database\n\nChange-Id: If2d3022a59ba535e1361a3ba9bc9dd983ca25256\nStory: 2009051\nTask: 42821\n(cherry picked from commit 69f08ab470a0d1d1d4676b41ad29a9c19ce28648)\n'}]",0,800857,be65d641d28fa84dc0629ecc29b6799eb99fa195,7,2,1,6732,,,0,"Fix getting config option value for database

Change-Id: If2d3022a59ba535e1361a3ba9bc9dd983ca25256
Story: 2009051
Task: 42821
(cherry picked from commit 69f08ab470a0d1d1d4676b41ad29a9c19ce28648)
",git fetch https://review.opendev.org/openstack/trove refs/changes/57/800857/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/guestagent/datastore/mysql_common/service.py', 'trove/guestagent/datastore/mysql_common/manager.py', 'trove/guestagent/common/configuration.py']",3,be65d641d28fa84dc0629ecc29b6799eb99fa195,fix-get-config-stable/victoria," def get_value(self, key, section=None, default=None): if section: return self._value_cache.get(section, {}).get(key, default) LOG.debug(f""Parsed overrides options: {parsed_options}"")"," def get_value(self, key, default=None):",12,5
openstack%2Fproject-config~master~I9bc3efa4963cac626fc99a58169337adf45f42c3,openstack/project-config,master,I9bc3efa4963cac626fc99a58169337adf45f42c3,Remove publish-to-pypi from retired neutron-lbaas repo,MERGED,2021-07-14 23:29:35.000000000,2021-07-15 05:34:53.000000000,2021-07-15 05:34:53.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-14 23:29:35.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/5416960c0ff0e79e4313179f17bb6155b393d357', 'message': 'Remove publish-to-pypi from retired neutron-lbaas repo\n\nneutron-lbaas and neuteon-lbaas-dashboard are retired\nin train cycle but not properly.\n\nThis commit remove the publish-to-pypi job from these repo so that\nwe can merge the README.rst update. In next patch, complete setup\nwill be removed from project-config.\n\nNeeded-By: https://review.opendev.org/c/openstack/neutron-lbaas/+/800143\nNeeded-By: https://review.opendev.org/c/openstack/neutron-lbaas-dashboard/+/800144\nChange-Id: I9bc3efa4963cac626fc99a58169337adf45f42c3\n'}]",0,800853,5416960c0ff0e79e4313179f17bb6155b393d357,7,3,1,8556,,,0,"Remove publish-to-pypi from retired neutron-lbaas repo

neutron-lbaas and neuteon-lbaas-dashboard are retired
in train cycle but not properly.

This commit remove the publish-to-pypi job from these repo so that
we can merge the README.rst update. In next patch, complete setup
will be removed from project-config.

Needed-By: https://review.opendev.org/c/openstack/neutron-lbaas/+/800143
Needed-By: https://review.opendev.org/c/openstack/neutron-lbaas-dashboard/+/800144
Change-Id: I9bc3efa4963cac626fc99a58169337adf45f42c3
",git fetch https://review.opendev.org/openstack/project-config refs/changes/53/800853/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,5416960c0ff0e79e4313179f17bb6155b393d357,,, - publish-to-pypi - publish-to-pypi,0,2
openstack%2Fproject-config~master~I3a8656c2a1e6df58b14316bda190c01ecba44c0b,openstack/project-config,master,I3a8656c2a1e6df58b14316bda190c01ecba44c0b,register and bring back tricircle under x namespaces,ABANDONED,2021-07-14 08:07:16.000000000,2021-07-15 05:30:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-14 08:07:16.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml', 'gerrit/acls/x/tricircle.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/0d715d5def82cf72bbd09df82f4ae5360dc0d5b8', 'message': 'register and bring back tricircle under x namespaces\n\nChange-Id: I3a8656c2a1e6df58b14316bda190c01ecba44c0b\n'}]",0,800750,0d715d5def82cf72bbd09df82f4ae5360dc0d5b8,4,1,1,28071,,,0,"register and bring back tricircle under x namespaces

Change-Id: I3a8656c2a1e6df58b14316bda190c01ecba44c0b
",git fetch https://review.opendev.org/openstack/project-config refs/changes/50/800750/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul/main.yaml', 'gerrit/acls/x/tricircle.config']",3,0d715d5def82cf72bbd09df82f4ae5360dc0d5b8,,"[access ""refs/heads/*""] abandon = group tricircle-core create = group tricircle-release label-Code-Review = -2..+2 group tricircle-core label-Workflow = -1..+1 group tricircle-core [access ""refs/tags/*""] pushSignedTag = group tricircle-release [receive] requireChangeId = true requireContributorAgreement = true [submit] mergeContent = true ",,20,0
openstack%2Frequirements~master~I534b51172b99d88f0bdcf554872d5fcd111efc8e,openstack/requirements,master,I534b51172b99d88f0bdcf554872d5fcd111efc8e,update constraint for glance_store to new release 2.6.0,MERGED,2021-07-14 11:00:50.000000000,2021-07-15 05:13:11.000000000,2021-07-15 05:12:07.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-14 11:00:50.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/5e60818d9f633d950f65d2b47eec2dd10bff80fd', 'message': 'update constraint for glance_store to new release 2.6.0\n\nmeta: version: 2.6.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Herv Beraud <hberaud@redhat.com>\nmeta: release:Commit: Abhishek Kekane <akekane@redhat.com>\nmeta: release:Change-Id: Icd4af46da54e08f2cb43217fadb4b13c257cc84d\nmeta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I534b51172b99d88f0bdcf554872d5fcd111efc8e\n'}]",0,800771,5e60818d9f633d950f65d2b47eec2dd10bff80fd,9,3,1,11131,,,0,"update constraint for glance_store to new release 2.6.0

meta: version: 2.6.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Herv Beraud <hberaud@redhat.com>
meta: release:Commit: Abhishek Kekane <akekane@redhat.com>
meta: release:Change-Id: Icd4af46da54e08f2cb43217fadb4b13c257cc84d
meta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I534b51172b99d88f0bdcf554872d5fcd111efc8e
",git fetch https://review.opendev.org/openstack/requirements refs/changes/71/800771/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,5e60818d9f633d950f65d2b47eec2dd10bff80fd,new-release,glance-store===2.6.0,glance-store===2.5.0,1,1
openstack%2Ftripleo-ansible~master~Ib7169a541b1be98d455e7dc6650cd4af5f93bdf9,openstack/tripleo-ansible,master,Ib7169a541b1be98d455e7dc6650cd4af5f93bdf9,Remove leftover of Sahara support,MERGED,2021-06-02 07:55:37.000000000,2021-07-15 05:10:50.000000000,2021-07-15 05:10:50.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-06-02 07:55:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/de990f2477b4d7f5f4ba50e619a0ffb81367ccbf', 'message': 'Remove leftover of Sahara support\n\n... because it was already removed from tht by [1]\n\n[1] 4a7d56947ad52ed98b82fb5b075d02bd9d934da3\n\nChange-Id: Ib7169a541b1be98d455e7dc6650cd4af5f93bdf9\n'}, {'number': 2, 'created': '2021-07-03 15:10:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f044846bdaaa625fb1723af5929b656a07e77812', 'message': 'Remove leftover of Sahara support\n\n... because it was already removed from tht by [1]\n\n[1] 4a7d56947ad52ed98b82fb5b075d02bd9d934da3\n\nChange-Id: Ib7169a541b1be98d455e7dc6650cd4af5f93bdf9\n'}, {'number': 3, 'created': '2021-07-05 07:23:59.000000000', 'files': ['tripleo_ansible/roles/tripleo_hieradata/molecule/ansible_hieradata/molecule.yml', 'tripleo_ansible/roles/tripleo_derived_parameters/molecule/mock_params', 'tripleo_ansible/roles/tripleo_hieradata/molecule/hieradata_vars/molecule.yml', 'tripleo_ansible/roles/tripleo_clients_install/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/144bdfd768b6e297a283f11f7c4b86b5218010bb', 'message': 'Remove leftover of Sahara support\n\n... because it was already removed from tht by [1]\n\n[1] 4a7d56947ad52ed98b82fb5b075d02bd9d934da3\n\nChange-Id: Ib7169a541b1be98d455e7dc6650cd4af5f93bdf9\n'}]",0,794155,144bdfd768b6e297a283f11f7c4b86b5218010bb,28,7,3,9816,,,0,"Remove leftover of Sahara support

... because it was already removed from tht by [1]

[1] 4a7d56947ad52ed98b82fb5b075d02bd9d934da3

Change-Id: Ib7169a541b1be98d455e7dc6650cd4af5f93bdf9
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/55/794155/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_hieradata/molecule/ansible_hieradata/molecule.yml', 'tripleo_ansible/roles/tripleo_hieradata/molecule/hieradata_vars/molecule.yml', 'tripleo_ansible/roles/tripleo_clients_install/defaults/main.yml']",3,de990f2477b4d7f5f4ba50e619a0ffb81367ccbf,drop-sahara,, saharaclient: present,0,3
openstack%2Ftripleo-ansible~stable%2Fwallaby~I1047669c4f9d35342de274760a4268b32d39b3a6,openstack/tripleo-ansible,stable/wallaby,I1047669c4f9d35342de274760a4268b32d39b3a6,Wire up the tripleo-upgrades-wallaby-pipeline,MERGED,2021-07-08 10:45:51.000000000,2021-07-15 05:10:46.000000000,2021-07-15 05:10:46.000000000,"[{'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-07-08 10:45:51.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2490d15e2261579a12997bf77a224e2b0e20a025', 'message': 'Wire up the tripleo-upgrades-wallaby-pipeline\n\nThis wires up the wallaby upgrades jobs added in tripleo-ci depends-on.\nSee topic branch [1] for related patches. The tripleo-heat-templates\ndepends-on is needed to fix a bug with the undercloud upgrade.\n\n[1] https://review.opendev.org/q/topic:wallaby-upgrade-jobs\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/793120\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/800007\nChange-Id: I1047669c4f9d35342de274760a4268b32d39b3a6\n'}]",0,800011,2490d15e2261579a12997bf77a224e2b0e20a025,13,3,1,8449,,,0,"Wire up the tripleo-upgrades-wallaby-pipeline

This wires up the wallaby upgrades jobs added in tripleo-ci depends-on.
See topic branch [1] for related patches. The tripleo-heat-templates
depends-on is needed to fix a bug with the undercloud upgrade.

[1] https://review.opendev.org/q/topic:wallaby-upgrade-jobs

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/793120
Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/800007
Change-Id: I1047669c4f9d35342de274760a4268b32d39b3a6
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/11/800011/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,2490d15e2261579a12997bf77a224e2b0e20a025,wallaby-upgrade-jobs, - tripleo-upgrades-wallaby-pipeline,,1,0
openstack%2Fpuppet-tripleo~master~I701a70d27f7aa8fbf4f1207032e42a4e3ced522e,openstack/puppet-tripleo,master,I701a70d27f7aa8fbf4f1207032e42a4e3ced522e,Telemetry: Use new coordination classes,MERGED,2021-07-07 03:38:16.000000000,2021-07-15 05:10:33.000000000,2021-07-15 05:10:33.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-07-07 03:38:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/0b048b39b648d97c73ed8216d3388f78afef8022', 'message': 'Telemetry: Use new coordination class\n\nDepends-on: https://review.opendev.org/792001\nDepends-on: https://review.opendev.org/792509\nChange-Id: I701a70d27f7aa8fbf4f1207032e42a4e3ced522e\n'}, {'number': 2, 'created': '2021-07-07 03:41:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/0d5beaa1abb3604ba01688eaaff84939eaf7a227', 'message': 'Telemetry: Use new coordination classes\n\nDepends-on: https://review.opendev.org/792001\nDepends-on: https://review.opendev.org/792509\nChange-Id: I701a70d27f7aa8fbf4f1207032e42a4e3ced522e\n'}, {'number': 3, 'created': '2021-07-07 06:36:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/05b236a7470d853bb098ed4e379429e7719d55db', 'message': 'Telemetry: Use new coordination classes\n\nDepends-on: https://review.opendev.org/792001\nDepends-on: https://review.opendev.org/792509\nChange-Id: I701a70d27f7aa8fbf4f1207032e42a4e3ced522e\n'}, {'number': 4, 'created': '2021-07-07 07:28:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4ee87ba59c49fd963b0ceb6ee8ca47297220c9eb', 'message': 'Telemetry: Use new coordination classes\n\nDepends-on: https://review.opendev.org/792001\nDepends-on: https://review.opendev.org/792509\nChange-Id: I701a70d27f7aa8fbf4f1207032e42a4e3ced522e\n'}, {'number': 5, 'created': '2021-07-07 11:12:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/fcd9a6bae9e0f54117ffc17fc4a0e8989dd620f7', 'message': 'Telemetry: Use new coordination classes\n\nDepends-on: https://review.opendev.org/792001\nDepends-on: https://review.opendev.org/792509\nChange-Id: I701a70d27f7aa8fbf4f1207032e42a4e3ced522e\n'}, {'number': 6, 'created': '2021-07-07 23:27:36.000000000', 'files': ['manifests/profile/base/ceilometer/agent/polling.pp', 'spec/classes/tripleo_profile_base_ceilometer_agent_polling_spec.rb', 'manifests/profile/base/aodh/evaluator.pp', 'spec/classes/tripleo_profile_base_aodh_evaluator_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/150b325935e9a9a4e4878171632479120c124162', 'message': 'Telemetry: Use new coordination classes\n\nDepends-on: https://review.opendev.org/792001\nDepends-on: https://review.opendev.org/792509\nChange-Id: I701a70d27f7aa8fbf4f1207032e42a4e3ced522e\n'}]",0,799734,150b325935e9a9a4e4878171632479120c124162,19,3,6,9816,,,0,"Telemetry: Use new coordination classes

Depends-on: https://review.opendev.org/792001
Depends-on: https://review.opendev.org/792509
Change-Id: I701a70d27f7aa8fbf4f1207032e42a4e3ced522e
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/34/799734/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/ceilometer/agent/polling.pp', 'spec/classes/tripleo_profile_base_ceilometer_agent_polling_spec.rb', 'manifests/profile/base/aodh/evaluator.pp', 'spec/classes/tripleo_profile_base_aodh_evaluator_spec.rb']",4,0b048b39b648d97c73ed8216d3388f78afef8022,coordination," is_expected.to_not contain_class('aodh::coordination') :step => 4, :aodh_redis_password => 'password', :redis_vip => '127.0.0.1', is_expected.to contain_class('aodh::coordination').with( is_expected.to contain_class('aodh::evaluator')"," :step => 4, # TODO(aschultz): need to parameterize the pass/vip so we can test ipv6 is_expected.to contain_class('aodh::evaluator').with(",25,7
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ib3476e53f89b50bae72b9c95a5d3dec51ed3de7e,openstack/tripleo-heat-templates,stable/ussuri,Ib3476e53f89b50bae72b9c95a5d3dec51ed3de7e,Create post-deploy.conf on update/upgrade for octavia,MERGED,2021-05-03 18:47:32.000000000,2021-07-15 05:10:25.000000000,2021-07-15 05:10:25.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-03 18:47:32.000000000', 'files': ['deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/octavia/octavia-base.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/octavia/octavia-housekeeping-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/866cc9bcba76631ded9acd30fd8ed897b40ead6d', 'message': 'Create post-deploy.conf on update/upgrade for octavia\n\nContainers are restarted with new command lines during upgrade/updates\nbefore the external_deploy_task are run that create a configuration file\nthat is used on the command line. This results in octavia services\nfailing to start.\n\nNote: this was originally merged as:\n    https://review.opendev.org/#/c/750986/\nbut the OctaviaBase references in templates was incorrect so the\noriginal patch was reverted through:\n    https://review.opendev.org/#/c/763561/\nAs the original patch had not been backported, it makes more sense to\nrevert and get a correct fix in place and backport that instead of\nrequiring backporting a series or backporting a squashed commit.\n\nConflicts:\n  deployment/octavia/octavia-api-container-puppet.yaml\n\nChange-Id: Ib3476e53f89b50bae72b9c95a5d3dec51ed3de7e\nRelated-Bug: #1863595\n(cherry picked from commit 6c11a949fc0b940ebc3815aeb86156bd60df5851)\n'}]",0,789405,866cc9bcba76631ded9acd30fd8ed897b40ead6d,22,3,1,6681,,,0,"Create post-deploy.conf on update/upgrade for octavia

Containers are restarted with new command lines during upgrade/updates
before the external_deploy_task are run that create a configuration file
that is used on the command line. This results in octavia services
failing to start.

Note: this was originally merged as:
    https://review.opendev.org/#/c/750986/
but the OctaviaBase references in templates was incorrect so the
original patch was reverted through:
    https://review.opendev.org/#/c/763561/
As the original patch had not been backported, it makes more sense to
revert and get a correct fix in place and backport that instead of
requiring backporting a series or backporting a squashed commit.

Conflicts:
  deployment/octavia/octavia-api-container-puppet.yaml

Change-Id: Ib3476e53f89b50bae72b9c95a5d3dec51ed3de7e
Related-Bug: #1863595
(cherry picked from commit 6c11a949fc0b940ebc3815aeb86156bd60df5851)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/05/789405/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/octavia/octavia-base.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/octavia/octavia-housekeeping-container-puppet.yaml']",5,866cc9bcba76631ded9acd30fd8ed897b40ead6d,ussuri," update_tasks: {get_attr: [OctaviaBase, role_data, update_tasks]} upgrade_tasks: {get_attr: [OctaviaBase, role_data, upgrade_tasks]}", upgrade_tasks: [],77,42
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Idb9a209b2651c1ff03c3ccaa14f4976a9f267e99,openstack/tripleo-heat-templates,stable/victoria,Idb9a209b2651c1ff03c3ccaa14f4976a9f267e99,Enable keystone_authtoken/memcach_use_advanced_pool for Sahara,MERGED,2021-07-08 12:21:39.000000000,2021-07-15 05:10:19.000000000,2021-07-15 05:10:19.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-08 12:21:39.000000000', 'files': ['deployment/deprecated/sahara/sahara-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/59599a86d7cd69240195f4455d8fe5e76c9ace51', 'message': 'Enable keystone_authtoken/memcach_use_advanced_pool for Sahara\n\nSahara was removed during Wallaby cycle and because of that it was not\nupdated when commit 09bcacd25a7217ce66eec10ccfda4847e6d3d87a was\nbackported from Wallaby to Victoria.\nThis change updates the Sahara templates to have consistent definition\nwith the other services.\n\nRelated-Bug: #1931047\nChange-Id: Idb9a209b2651c1ff03c3ccaa14f4976a9f267e99\n'}]",0,800024,59599a86d7cd69240195f4455d8fe5e76c9ace51,16,4,1,9816,,,0,"Enable keystone_authtoken/memcach_use_advanced_pool for Sahara

Sahara was removed during Wallaby cycle and because of that it was not
updated when commit 09bcacd25a7217ce66eec10ccfda4847e6d3d87a was
backported from Wallaby to Victoria.
This change updates the Sahara templates to have consistent definition
with the other services.

Related-Bug: #1931047
Change-Id: Idb9a209b2651c1ff03c3ccaa14f4976a9f267e99
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/24/800024/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/deprecated/sahara/sahara-base.yaml'],1,59599a86d7cd69240195f4455d8fe5e76c9ace51,bug/1931047-sahara, MemcacheUseAdvancedPool: type: boolean description: | Use the advanced (eventlet safe) memcached client pool. default: true sahara::keystone::authtoken::memcache_use_advanced_pool: {get_param: MemcacheUseAdvancedPool},,6,0
openstack%2Fmistral-lib~master~I4f0f5273a9461d443ac05e41337a6c86ce6250bd,openstack/mistral-lib,master,I4f0f5273a9461d443ac05e41337a6c86ce6250bd,[community goal] Update contributor documentation,MERGED,2021-05-14 22:06:10.000000000,2021-07-15 04:35:19.000000000,2021-07-15 04:34:13.000000000,"[{'_account_id': 8556}, {'_account_id': 8731}, {'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-05-14 22:06:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/17eed0cb5ad57b0eda2db56b98957c3a4e8348d2', 'message': '[community goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38537\nChange-Id: I4f0f5273a9461d443ac05e41337a6c86ce6250bd\n'}, {'number': 2, 'created': '2021-07-06 14:02:08.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/44c33f2ccd8b059f68db59114c71ba95dfae574d', 'message': '[community goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38537\nChange-Id: I4f0f5273a9461d443ac05e41337a6c86ce6250bd\n'}]",3,791566,44c33f2ccd8b059f68db59114c71ba95dfae574d,17,5,2,8556,,,0,"[community goal] Update contributor documentation

This patch updates/adds the contributor documentation to follow
the guidelines of the Ussuri cycle community goal[1].

[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html

Story: #2007236
Task: #38537
Change-Id: I4f0f5273a9461d443ac05e41337a6c86ce6250bd
",git fetch https://review.opendev.org/openstack/mistral-lib refs/changes/66/791566/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,17eed0cb5ad57b0eda2db56b98957c3a4e8348d2,project-ptl-and-contrib-docs,"The source repository for this project can be found at: https://opendev.org/openstack/mistral-lib Pull requests submitted through GitHub are not monitored. To start contributing to OpenStack, follow the steps in the contribution guide to set up and use Gerrit: https://docs.openstack.org/contributors/code-and-documentation/quick-start.html Bugs should be filed on Launchpad: For more specific information about contributing to this repository, see the Mistral Lib contributor guide: https://docs.openstack.org/mistral/latest/developer/contributor/contributing.html","If you would like to contribute to the development of OpenStack, you must follow the steps in this page: https://docs.openstack.org/infra/manual/developers.html If you already have a good understanding of how the system works and your OpenStack accounts are set up, you can skip to the development workflow section of this documentation to learn how changes to OpenStack should be submitted for review via the Gerrit tool: https://docs.openstack.org/infra/manual/developers.html#development-workflow Pull requests submitted through GitHub will be ignored. Bugs should be filed on Launchpad, not GitHub:",12,10
openstack%2Fmistral-extra~master~I6f2108dd73c5f684549598830f7311d093aeaab8,openstack/mistral-extra,master,I6f2108dd73c5f684549598830f7311d093aeaab8,[community goal] Update contributor documentation,MERGED,2021-05-14 22:06:17.000000000,2021-07-15 04:33:41.000000000,2021-07-15 04:32:34.000000000,"[{'_account_id': 8556}, {'_account_id': 8731}, {'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 22:06:17.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/acd70beba1bdf7189291a6a1a65ce45393ecac6d', 'message': '[community goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38537\nChange-Id: I6f2108dd73c5f684549598830f7311d093aeaab8\n'}]",0,791567,acd70beba1bdf7189291a6a1a65ce45393ecac6d,10,4,1,8556,,,0,"[community goal] Update contributor documentation

This patch updates/adds the contributor documentation to follow
the guidelines of the Ussuri cycle community goal[1].

[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html

Story: #2007236
Task: #38537
Change-Id: I6f2108dd73c5f684549598830f7311d093aeaab8
",git fetch https://review.opendev.org/openstack/mistral-extra refs/changes/67/791567/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,acd70beba1bdf7189291a6a1a65ce45393ecac6d,project-ptl-and-contrib-docs,"The source repository for this project can be found at: https://opendev.org/openstack/mistral-extra Pull requests submitted through GitHub are not monitored. To start contributing to OpenStack, follow the steps in the contribution guide to set up and use Gerrit: https://docs.openstack.org/contributors/code-and-documentation/quick-start.html Bugs should be filed on Launchpad: https://bugs.launchpad.net/mistral For more specific information about contributing to this repository, see the mistral-extra contributor guide: https://docs.openstack.org/mistral/latest/developer/contributor/contributing.html ",,19,0
openstack%2Fpython-mistralclient~master~I01c5a3a5def5baa215413cea25fc5fda41fea2b6,openstack/python-mistralclient,master,I01c5a3a5def5baa215413cea25fc5fda41fea2b6,[community goal] Update contributor documentation,MERGED,2021-05-14 22:12:25.000000000,2021-07-15 04:29:36.000000000,2021-07-15 04:28:26.000000000,"[{'_account_id': 8556}, {'_account_id': 8731}, {'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 22:12:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/25e4f33bbf741fbcb5c0814c5c6f966851c1ddc5', 'message': '[community goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38537\nChange-Id: I01c5a3a5def5baa215413cea25fc5fda41fea2b6\n'}, {'number': 2, 'created': '2021-05-31 20:33:30.000000000', 'files': ['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/ffa67c1e64fb6b9eae32c569b0b3f057ebc14850', 'message': '[community goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38537\nChange-Id: I01c5a3a5def5baa215413cea25fc5fda41fea2b6\n'}]",0,791570,ffa67c1e64fb6b9eae32c569b0b3f057ebc14850,11,4,2,8556,,,0,"[community goal] Update contributor documentation

This patch updates/adds the contributor documentation to follow
the guidelines of the Ussuri cycle community goal[1].

[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html

Story: #2007236
Task: #38537
Change-Id: I01c5a3a5def5baa215413cea25fc5fda41fea2b6
",git fetch https://review.opendev.org/openstack/python-mistralclient refs/changes/70/791570/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/index.rst']",3,25e4f33bbf741fbcb5c0814c5c6f966851c1ddc5,project-ptl-and-contrib-docs,For Contributors ---------------- * If you are a new contributor to python-mistralclient please refer: :doc:`contributor/contributing` .. toctree:: :hidden: contributor/contributing,Contributing ------------ Code is hosted `on GitHub`_. Submit bugs to the python-mistralclient project on `Launchpad`_. Submit code to the openstack/python-mistralclient project using `Gerrit`_. .. _on GitHub: https://github.com/openstack/python-mistralclient .. _Launchpad: https://launchpad.net/python-mistralclient .. _Gerrit: https://docs.openstack.org/infra/manual/developers.html#development-workflow,66,17
openstack%2Fmistral-specs~master~Ib60141ca2274780f9d1ed50e4e9b3a50ba6c3d7c,openstack/mistral-specs,master,Ib60141ca2274780f9d1ed50e4e9b3a50ba6c3d7c,[community goal] Update contributor documentation,MERGED,2021-05-14 22:11:22.000000000,2021-07-15 04:29:01.000000000,2021-07-15 04:27:53.000000000,"[{'_account_id': 8556}, {'_account_id': 8731}, {'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 22:11:22.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/mistral-specs/commit/66b28af8df848c461bbd531ef880c8518ff294e0', 'message': '[community goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38537\nChange-Id: Ib60141ca2274780f9d1ed50e4e9b3a50ba6c3d7c\n'}]",0,791569,66b28af8df848c461bbd531ef880c8518ff294e0,10,4,1,8556,,,0,"[community goal] Update contributor documentation

This patch updates/adds the contributor documentation to follow
the guidelines of the Ussuri cycle community goal[1].

[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html

Story: #2007236
Task: #38537
Change-Id: Ib60141ca2274780f9d1ed50e4e9b3a50ba6c3d7c
",git fetch https://review.opendev.org/openstack/mistral-specs refs/changes/69/791569/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,66b28af8df848c461bbd531ef880c8518ff294e0,project-ptl-and-contrib-docs,"The source repository for this project can be found at: https://opendev.org/openstack/mistral-specs Pull requests submitted through GitHub are not monitored. To start contributing to OpenStack, follow the steps in the contribution guide to set up and use Gerrit: https://docs.openstack.org/contributors/code-and-documentation/quick-start.html This repository is for doing design review on feature proposal in Heat. Please refer to `this document <https://opendev.org/openstack/mistral-specs/src/branch/master/README.rst>`_ for more information. ","If you would like to contribute to the development of OpenStack, you must follow the steps in this page: http://docs.openstack.org/infra/manual/developers.html Once those steps have been completed, changes to OpenStack should be submitted for review via the Gerrit tool, following the workflow documented at: http://docs.openstack.org/infra/manual/developers.html#development-workflow Pull requests submitted through GitHub will be ignored. Bugs should be filed on Launchpad, not GitHub: https://bugs.launchpad.net/mistral",9,11
openstack%2Fmistral-tempest-plugin~master~Ifde9c6b18a034e2784459a9dbfb22b080166781e,openstack/mistral-tempest-plugin,master,Ifde9c6b18a034e2784459a9dbfb22b080166781e,[community goal] Update contributor documentation,MERGED,2021-05-14 22:06:20.000000000,2021-07-15 04:27:38.000000000,2021-07-15 04:27:38.000000000,"[{'_account_id': 8556}, {'_account_id': 8731}, {'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-05-14 22:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-tempest-plugin/commit/34f97a455389e4370c2161645e3dea4cbf404e5f', 'message': '[community goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38537\nChange-Id: Ifde9c6b18a034e2784459a9dbfb22b080166781e\n'}, {'number': 2, 'created': '2021-07-06 14:03:27.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/mistral-tempest-plugin/commit/091926bbb405bf8d0249156f11f090dc455077dc', 'message': '[community goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38537\nChange-Id: Ifde9c6b18a034e2784459a9dbfb22b080166781e\n'}]",2,791568,091926bbb405bf8d0249156f11f090dc455077dc,15,5,2,8556,,,0,"[community goal] Update contributor documentation

This patch updates/adds the contributor documentation to follow
the guidelines of the Ussuri cycle community goal[1].

[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html

Story: #2007236
Task: #38537
Change-Id: Ifde9c6b18a034e2784459a9dbfb22b080166781e
",git fetch https://review.opendev.org/openstack/mistral-tempest-plugin refs/changes/68/791568/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,34f97a455389e4370c2161645e3dea4cbf404e5f,project-ptl-and-contrib-docs,"The source repository for this project can be found at: https://opendev.org/openstack/mistral-tempest-plugin Pull requests submitted through GitHub are not monitored. To start contributing to OpenStack, follow the steps in the contribution guide to set up and use Gerrit: https://docs.openstack.org/contributors/code-and-documentation/quick-start.html Bugs should be filed on Launchpad: https://bugs.launchpad.net/mistral For more specific information about contributing to this repository, see the mistral-tempest-plugin contributor guide: https://docs.openstack.org/mistral/latest/developer/contributor/contributing.html","If you would like to contribute to the development of OpenStack, you must follow the steps in this page: https://docs.openstack.org/infra/manual/developers.html If you already have a good understanding of how the system works and your OpenStack accounts are set up, you can skip to the development workflow section of this documentation to learn how changes to OpenStack should be submitted for review via the Gerrit tool: https://docs.openstack.org/infra/manual/developers.html#development-workflow Pull requests submitted through GitHub will be ignored. Bugs should be filed on Launchpad, not GitHub: https://bugs.launchpad.net/mistral-tempest-plugin",13,11
openstack%2Fmistral-dashboard~master~I8b318b0a915de1875f6b2f81fd104483f716d802,openstack/mistral-dashboard,master,I8b318b0a915de1875f6b2f81fd104483f716d802,[community goal] Update contributor documentation,MERGED,2021-05-14 22:06:07.000000000,2021-07-15 04:27:29.000000000,2021-07-15 04:27:29.000000000,"[{'_account_id': 8556}, {'_account_id': 8731}, {'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-05-14 22:06:07.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/2980dfc44f11400c75a1113e468f50e7c6d6396c', 'message': '[community goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38537\nChange-Id: I8b318b0a915de1875f6b2f81fd104483f716d802\n'}]",0,791565,2980dfc44f11400c75a1113e468f50e7c6d6396c,12,5,1,8556,,,0,"[community goal] Update contributor documentation

This patch updates/adds the contributor documentation to follow
the guidelines of the Ussuri cycle community goal[1].

[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html

Story: #2007236
Task: #38537
Change-Id: I8b318b0a915de1875f6b2f81fd104483f716d802
",git fetch https://review.opendev.org/openstack/mistral-dashboard refs/changes/65/791565/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,2980dfc44f11400c75a1113e468f50e7c6d6396c,project-ptl-and-contrib-docs,"The source repository for this project can be found at: https://opendev.org/openstack/mistral-dashboard Pull requests submitted through GitHub are not monitored. To start contributing to OpenStack, follow the steps in the contribution guide to set up and use Gerrit: https://docs.openstack.org/contributors/code-and-documentation/quick-start.html Bugs should be filed on Launchpad: For more specific information about contributing to this repository, see the Mistral Dashboard contributor guide: https://docs.openstack.org/mistral/latest/developer/contributor/contributing.html","If you would like to contribute to the development of OpenStack, you must follow the steps in this page: https://docs.openstack.org/infra/manual/developers.html Once those steps have been completed, changes to OpenStack should be submitted for review via the Gerrit tool, following the workflow documented at: https://docs.openstack.org/infra/manual/developers.html#development-workflow Pull requests submitted through GitHub will be ignored. Bugs should be filed on Launchpad, not GitHub:",12,9
openstack%2Fmistral-specs~master~I35732c50bda2fdf13f7746e78da1cf0e7d1496d3,openstack/mistral-specs,master,I35732c50bda2fdf13f7746e78da1cf0e7d1496d3,[Doc] Moving to OFTC,MERGED,2021-06-03 02:10:33.000000000,2021-07-15 04:25:21.000000000,2021-07-15 04:24:14.000000000,"[{'_account_id': 8556}, {'_account_id': 8731}, {'_account_id': 15895}, {'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-06-03 02:10:33.000000000', 'files': ['specs/policy/patch-abandonment.rst'], 'web_link': 'https://opendev.org/openstack/mistral-specs/commit/332a79e2f409b06a16dc696fdc5505fe5826c3ef', 'message': '[Doc] Moving to OFTC\n\nThis patch updates Freenode to OFTC as IRC server in document.\n\nChange-Id: I35732c50bda2fdf13f7746e78da1cf0e7d1496d3\n'}]",0,794365,332a79e2f409b06a16dc696fdc5505fe5826c3ef,16,6,1,32102,,,0,"[Doc] Moving to OFTC

This patch updates Freenode to OFTC as IRC server in document.

Change-Id: I35732c50bda2fdf13f7746e78da1cf0e7d1496d3
",git fetch https://review.opendev.org/openstack/mistral-specs refs/changes/65/794365/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/policy/patch-abandonment.rst'],1,332a79e2f409b06a16dc696fdc5505fe5826c3ef,oftc, out via #openstack-mistral on OFTC or the OpenStack Dev mailing list.reviewer on IRC in #openstack-mistral on OFTC or by sending a request to, out via #openstack-mistral on freenode or the OpenStack Dev mailing list.reviewer on IRC in #openstack-mistral on freenode or by sending a request to,2,2
openstack%2Fmagnum~master~I4e8029a4cd5e89d7173758fa1dc2e718895fdbe7,openstack/magnum,master,I4e8029a4cd5e89d7173758fa1dc2e718895fdbe7,Fix CoreDNS 1.7.0 and above,MERGED,2021-07-04 13:02:40.000000000,2021-07-15 03:55:30.000000000,2021-07-15 03:54:16.000000000,"[{'_account_id': 6484}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2021-07-04 13:02:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/c7eb7eefa69fe9061c74f7ba67cb91e7b9b30c22', 'message': 'Fix CoreDNS 1.7.0 and above\n\nStarting from CoreDNS 1.7.0 the upstream option is not valid anymore\nand CoreDNS does not start when it is set. It has been effecticly a\nnoop since 1.5.2.\n\nTask: 42765\nStory: 2009030\nChange-Id: I4e8029a4cd5e89d7173758fa1dc2e718895fdbe7\n'}, {'number': 2, 'created': '2021-07-04 13:06:14.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/core-dns-service.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/d8cc88284b3a45921eb5f182821e6fd558ddab94', 'message': 'Fix CoreDNS 1.7.0 and above\n\nStarting from CoreDNS 1.7.0 the upstream option is not valid anymore\nand CoreDNS does not start when it is set. It has been effectively a\nnoop since 1.5.2.\n\nTask: 42765\nStory: 2009030\nChange-Id: I4e8029a4cd5e89d7173758fa1dc2e718895fdbe7\n'}]",0,799415,d8cc88284b3a45921eb5f182821e6fd558ddab94,10,3,2,33712,,,0,"Fix CoreDNS 1.7.0 and above

Starting from CoreDNS 1.7.0 the upstream option is not valid anymore
and CoreDNS does not start when it is set. It has been effectively a
noop since 1.5.2.

Task: 42765
Story: 2009030
Change-Id: I4e8029a4cd5e89d7173758fa1dc2e718895fdbe7
",git fetch https://review.opendev.org/openstack/magnum refs/changes/15/799415/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/common/templates/kubernetes/fragments/core-dns-service.sh'],1,c7eb7eefa69fe9061c74f7ba67cb91e7b9b30c22,coredns-1-7-0,, upstream,0,1
openstack%2Fcyborg~master~I21ef97d8e6b5b8ccfb9442cbd27c2b30be785c34,openstack/cyborg,master,I21ef97d8e6b5b8ccfb9442cbd27c2b30be785c34,Running Cyborg with rootwrap as a daemon,ABANDONED,2021-05-04 09:03:17.000000000,2021-07-15 03:24:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-04 09:03:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/28cae7dc04e463e861a1ceb17bd4ae55e58fd498', 'message': 'Running Nova with rootwrap as a daemon\n\nChange-Id: I21ef97d8e6b5b8ccfb9442cbd27c2b30be785c34\n'}, {'number': 2, 'created': '2021-05-08 06:49:19.000000000', 'files': ['requirements.txt', 'etc/cyborg/rootwrap.conf', 'etc/cyborg/rootwrap.d/accelerator.filters', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/c20c2ed54ffac22302a6b2ff0113376d6735d167', 'message': 'Running Cyborg with rootwrap as a daemon\n\nAdd rootwrap when exec command line to get accelerator info, such as\n`lspci` to get PCI devices and `lvdisplay` to get disk info, these\ncommand lines have no promissions with no root user.\n\nChange-Id: I21ef97d8e6b5b8ccfb9442cbd27c2b30be785c34\n'}]",0,789530,c20c2ed54ffac22302a6b2ff0113376d6735d167,5,1,2,31412,,,0,"Running Cyborg with rootwrap as a daemon

Add rootwrap when exec command line to get accelerator info, such as
`lspci` to get PCI devices and `lvdisplay` to get disk info, these
command lines have no promissions with no root user.

Change-Id: I21ef97d8e6b5b8ccfb9442cbd27c2b30be785c34
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/30/789530/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'setup.cfg']",2,28cae7dc04e463e861a1ceb17bd4ae55e58fd498,bp/cyborg-rootwrap-daemon-mode, etc/cyborg/rootwrap.conf etc/cyborg/rootwrap.d = etc/cyborg/rootwrap.d/* cyborg-rootwrap = oslo_rootwrap.cmd:main cyborg-rootwrap-daemon = oslo_rootwrap.cmd:daemon,,5,0
openstack%2Ftrove~master~Ia84885b36bb5a2ca81e0faec5e86a873bc5f6600,openstack/trove,master,Ia84885b36bb5a2ca81e0faec5e86a873bc5f6600,Error message from wsgi is not right,NEW,2021-06-02 03:36:01.000000000,2021-07-15 03:12:13.000000000,,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-02 03:36:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/4642b76cde75b143b4acc95f391ddc549cb7d494', 'message': 'BUG of trove/common/wsgi/Controller.format_validation_msg()\n\ntask: 42549\nstory: openstack-trove-bugfix-wocloud\nChange-Id: Ia84885b36bb5a2ca81e0faec5e86a873bc5f6600\n'}, {'number': 2, 'created': '2021-06-15 02:31:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/f1b268435f4fe65b832fc4ca3a2ba734cb0c7522', 'message': 'Error message from wsgi is not right\n\nTrove version:\nrocky\n\nStep to reappear:\n[CMD]# curl -H ""Content-Type: application/json"" -H ""X-Auth-Token: $X_SUBJECT_TOKEN"" -X POST ${OS_TROVE_ENDPOINT_VERSIONS_URL}/v1.0/${QUERY_TENANT_ID}/instances -d ""{}""\nWhen the request body is ""{}"",use curl to request the Trove-Instance-Create API.\n\nBefore Bug-fix:\nThe error type is not accurate:\n{\n    ""instanceFault"": {\n        ""code"": 500,\n        ""message"": ""Internal Server Error. Please keep this ID to help us figure out what went wrong: (a71dcbff-07e6-46dc-8453-b8657c498b72).""\n    }\n}\n\nAfter Bug-fix:\nThe error type is right:\n{\n    ""badRequest"": {\n        ""code"": 400,\n        ""message"": ""Validation error: <root (zero path length)> \'instance\' is a required property""\n    }\n}\n\ntask: 42549\nstory: openstack-trove-bugfix-wocloud\nChange-Id: Ia84885b36bb5a2ca81e0faec5e86a873bc5f6600\n'}, {'number': 3, 'created': '2021-06-15 03:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/d42519381410e66c7e79b893340d5585ce3337a1', 'message': 'Error message from wsgi is not right\n\nTrove version:\nrocky\n\nStep to reappear:\n[CMD]# curl -H ""Content-Type: application/json"" -H ""X-Auth-Token: $X_SUBJECT_TOKEN"" -X POST ${OS_TROVE_ENDPOINT_VERSIONS_URL}/v1.0/${QUERY_TENANT_ID}/instances -d ""{}""\nWhen the request body is ""{}"",use curl to request the Trove-Instance-Create API.\n\nBefore Bug-fix:\nThe error type is not accurate:\n{\n    ""instanceFault"": {\n        ""code"": 500,\n        ""message"": ""Internal Server Error. Please keep this ID to help us figure out what went wrong: (a71dcbff-07e6-46dc-8453-b8657c498b72).""\n    }\n}\n\nAfter Bug-fix:\nThe error type is right:\n{\n    ""badRequest"": {\n        ""code"": 400,\n        ""message"": ""Validation error: <root (zero path length)> \'instance\' is a required property""\n    }\n}\n\ntask: 42549\nstory: openstack-trove-bugfix-wocloud\nChange-Id: Ia84885b36bb5a2ca81e0faec5e86a873bc5f6600\n'}, {'number': 4, 'created': '2021-06-22 03:13:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/a39c3a975e35e5b2c6c186b4a067794f51d25e1f', 'message': 'Error message from wsgi is not right\n\nTrove version:\nrocky\n\nWhen the request body is ""{}"",use curl to request the Trove-Instance-Create API.\nFunction trove.format_validation_msg will go wrong because list \'path\' is null so that path[0] is out of range.\nAS a result wsgi return a HTTP code 500(Internal Server Error) but actually wsgi should return HTTP code 400(badRequest)\n\ntask: 42549\nstory: 2008934\nChange-Id: Ia84885b36bb5a2ca81e0faec5e86a873bc5f6600\n'}, {'number': 5, 'created': '2021-06-22 03:17:23.000000000', 'files': ['trove/common/wsgi.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/46d18f667323dc3177fbaf08beb4dea4ea75851f', 'message': 'Error message from wsgi is not right\n\nTrove version:\nrocky\n\nWhen the request body is ""{}"",use curl to request the Trove-Instance-Create API.\nFunction trove.common.wsgi.format_validation_msg will go wrong because list \'path\' is null so that path[0] is out of range.\nAS a result wsgi return a HTTP code 500(Internal Server Error) but actually wsgi should return HTTP code 400(badRequest)\n\ntask: 42549\nstory: 2008934\nChange-Id: Ia84885b36bb5a2ca81e0faec5e86a873bc5f6600\n'}]",1,794090,46d18f667323dc3177fbaf08beb4dea4ea75851f,13,2,5,33480,,,0,"Error message from wsgi is not right

Trove version:
rocky

When the request body is ""{}"",use curl to request the Trove-Instance-Create API.
Function trove.common.wsgi.format_validation_msg will go wrong because list 'path' is null so that path[0] is out of range.
AS a result wsgi return a HTTP code 500(Internal Server Error) but actually wsgi should return HTTP code 400(badRequest)

task: 42549
story: 2008934
Change-Id: Ia84885b36bb5a2ca81e0faec5e86a873bc5f6600
",git fetch https://review.opendev.org/openstack/trove refs/changes/90/794090/4 && git format-patch -1 --stdout FETCH_HEAD,['trove/common/wsgi.py'],1,4642b76cde75b143b4acc95f391ddc549cb7d494,openstack-trove-bugfix-wocloud-42549," if len(path) >= 1: f_path = ""%s%s"" % (path[0], ''.join(['[%r]' % i for i in path[1:]])) else: f_path = ""<root (zero path length)>"""," f_path = ""%s%s"" % (path[0], ''.join(['[%r]' % i for i in path[1:]]))",5,2
openstack%2Fswift~master~I2d4dab1d56c31f904161e5338f1bb89a03fd88f7,openstack/swift,master,I2d4dab1d56c31f904161e5338f1bb89a03fd88f7,sharder: add more validation checks on config,MERGED,2021-06-24 15:31:04.000000000,2021-07-15 01:31:09.000000000,2021-07-15 01:29:38.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-24 15:31:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a9ca9d4a7901c198086f201971811456aa892643', 'message': 'sharder: add more validation checks on config\n\nAdd checks that more of the sharder config values make sense with\nrespect to each other.\n\nFor the daemon, all config options are checked. For\nswift-manage-shard-ranges only those options relevant to the current\nsubcommand are checked.\n\nChange-Id: I2d4dab1d56c31f904161e5338f1bb89a03fd88f7\n'}, {'number': 2, 'created': '2021-06-28 11:10:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/cd1e59f372331e5cca4480d9f16f697a23ad8cde', 'message': 'sharder: add more validation checks on config\n\nAdd checks that more of the sharder config values make sense with\nrespect to each other.\n\nFor the daemon, all config options are checked. For\nswift-manage-shard-ranges only those options relevant to the current\nsubcommand are checked.\n\nChange-Id: I2d4dab1d56c31f904161e5338f1bb89a03fd88f7\n'}, {'number': 3, 'created': '2021-07-08 11:54:54.000000000', 'files': ['test/unit/container/test_sharder.py', 'swift/cli/manage_shard_ranges.py', 'test/unit/cli/test_manage_shard_ranges.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/9b94c278f19781467cc86df4298011f47667e997', 'message': 'sharder: add more validation checks on config\n\nAdd checks that more of the sharder config values make sense with\nrespect to each other.\n\nFor the daemon, all config options are checked. For\nswift-manage-shard-ranges only those options relevant to the current\nsubcommand are checked.\n\nChange-Id: I2d4dab1d56c31f904161e5338f1bb89a03fd88f7\n'}]",4,797961,9b94c278f19781467cc86df4298011f47667e997,20,2,3,7847,,,0,"sharder: add more validation checks on config

Add checks that more of the sharder config values make sense with
respect to each other.

For the daemon, all config options are checked. For
swift-manage-shard-ranges only those options relevant to the current
subcommand are checked.

Change-Id: I2d4dab1d56c31f904161e5338f1bb89a03fd88f7
",git fetch https://review.opendev.org/openstack/swift refs/changes/61/797961/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/cli/manage_shard_ranges.py', 'test/unit/cli/test_manage_shard_ranges.py', 'test/unit/container/test_sharder.py', 'swift/container/sharder.py']",4,a9ca9d4a7901c198086f201971811456aa892643,p-sharder-validation,"import operator @classmethod def validate_conf(cls, namespace): ops = {'<': operator.lt, '<=': operator.le} checks = (('minimum_shard_size', '<=', 'rows_per_shard'), ('shrink_threshold', '<=', 'minimum_shard_size'), ('rows_per_shard', '<', 'shard_container_threshold'), ('expansion_limit', '<', 'shard_container_threshold')) for key1, op, key2 in checks: try: val1 = getattr(namespace, key1) val2 = getattr(namespace, key2) except AttributeError: # swift-manage-shard-ranges uses a subset of conf options for # each command so only validate those actually in the namespace continue if not ops[op](val1, val2): raise ValueError('%s (%d) must be %s %s (%d)' % (key1, val1, op, key2, val2)) ContainerSharderConf.validate_conf(self)"," self.validate_conf() def validate_conf(self): keys = ('minimum_shard_size', 'rows_per_shard') vals = [getattr(self, key) for key in keys] if not vals[0] <= vals[1]: raise ValueError( '%s (%d) must be less than %s (%d)' % (keys[0], vals[0], keys[1], vals[1]))",113,20
openstack%2Fopenstack-chef~master~I64b0252b97a117e5e862a8e200f7ef085a5e3e1b,openstack/openstack-chef,master,I64b0252b97a117e5e862a8e200f7ef085a5e3e1b,Re-enable voting,MERGED,2021-07-14 21:56:56.000000000,2021-07-15 01:20:11.000000000,2021-07-15 01:18:37.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-14 21:56:56.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/1f16b43c7dac250fe5ee996d7e20fd09122db917', 'message': 'Re-enable voting\n\nChange-Id: I64b0252b97a117e5e862a8e200f7ef085a5e3e1b\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",0,800843,1f16b43c7dac250fe5ee996d7e20fd09122db917,11,2,1,21961,,,0,"Re-enable voting

Change-Id: I64b0252b97a117e5e862a8e200f7ef085a5e3e1b
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/openstack-chef refs/changes/43/800843/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1f16b43c7dac250fe5ee996d7e20fd09122db917,,, voting: false # TODO(ramereth): Remove after this gets merged voting: false # TODO(ramereth): Remove after this gets merged voting: false # TODO(ramereth): Remove after this gets merged voting: false # TODO(ramereth): Remove after this gets merged voting: false # TODO(ramereth): Remove after this gets merged,0,5
openstack%2Fopenstack-chef~stable%2Fstein~Ib6dec3f6ea1cbc13d9c82d372b4f65f689adc0bc,openstack/openstack-chef,stable/stein,Ib6dec3f6ea1cbc13d9c82d372b4f65f689adc0bc,Disable SELinux for integration testing on RHEL only,MERGED,2021-07-14 21:35:23.000000000,2021-07-15 01:10:36.000000000,2021-07-15 01:08:56.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-14 21:35:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/0dbbdd4174188d894e0d37e6d51139a1fa944e13', 'message': ""Disable SELinux for integration testing on RHEL only\n\nWe currently don't fully support SELinux so we need to disable it for now until\nwe get it fixed properly. Make this a variable so that we can change dynamically\nlater if we need to for testing purposes.\n\nTemporarily disable voting until we get things working properly again.\n\nChange-Id: Ib6dec3f6ea1cbc13d9c82d372b4f65f689adc0bc\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n""}, {'number': 2, 'created': '2021-07-14 22:51:00.000000000', 'files': ['bindep.txt', 'playbooks/roles/install-chef/tasks/main.yaml', 'Rakefile', '.zuul.yaml', 'playbooks/roles/install-chef/defaults/main.yaml', 'Berksfile'], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/2a098fd9797fbf73b0376750ec941bca39d720e7', 'message': ""Disable SELinux for integration testing on RHEL only\n\nWe currently don't fully support SELinux so we need to disable it for now until\nwe get it fixed properly. Make this a variable so that we can change dynamically\nlater if we need to for testing purposes.\n\nTemporarily disable voting until we get things working properly again. Update\ngit URI for bind cookbook to use upstream master.\n\nChange-Id: Ib6dec3f6ea1cbc13d9c82d372b4f65f689adc0bc\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n""}]",0,800841,2a098fd9797fbf73b0376750ec941bca39d720e7,11,2,2,21961,,,0,"Disable SELinux for integration testing on RHEL only

We currently don't fully support SELinux so we need to disable it for now until
we get it fixed properly. Make this a variable so that we can change dynamically
later if we need to for testing purposes.

Temporarily disable voting until we get things working properly again. Update
git URI for bind cookbook to use upstream master.

Change-Id: Ib6dec3f6ea1cbc13d9c82d372b4f65f689adc0bc
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/openstack-chef refs/changes/41/800841/2 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'playbooks/roles/install-chef/tasks/main.yaml', 'Rakefile', '.zuul.yaml', 'playbooks/roles/install-chef/defaults/main.yaml']",5,0dbbdd4174188d894e0d37e6d51139a1fa944e13,,openstack_selinux_setenforce: 0,,12,0
openstack%2Fpuppet-tripleo~stable%2Fwallaby~Ief8fe2460003d359684b80d36d017b34445334cf,openstack/puppet-tripleo,stable/wallaby,Ief8fe2460003d359684b80d36d017b34445334cf,Bump metadata.json for release of tripleo wallaby repos,MERGED,2021-07-14 16:19:47.000000000,2021-07-15 01:00:07.000000000,2021-07-15 01:00:07.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-14 16:19:47.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/462811638fd4145b43797f1ca61f372a9d84ae56', 'message': 'Bump metadata.json for release of tripleo wallaby repos\n\nThis bumps metadata .patch 14.2.0 -> 14.2.1. This is a dependency\nfor the patch at [1] that makes a release for Tripleo wallaby repos.\n\n[1] Iba00fee26b60049f34e9c9dac43433b507de1404\n\nChange-Id: Ief8fe2460003d359684b80d36d017b34445334cf\n'}]",0,800811,462811638fd4145b43797f1ca61f372a9d84ae56,6,2,1,8449,,,0,"Bump metadata.json for release of tripleo wallaby repos

This bumps metadata .patch 14.2.0 -> 14.2.1. This is a dependency
for the patch at [1] that makes a release for Tripleo wallaby repos.

[1] Iba00fee26b60049f34e9c9dac43433b507de1404

Change-Id: Ief8fe2460003d359684b80d36d017b34445334cf
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/11/800811/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,462811638fd4145b43797f1ca61f372a9d84ae56,," ""version"": ""14.2.1"","," ""version"": ""14.2.0"",",1,1
openstack%2Ftripleo-upgrade~stable%2Fussuri~I946ede504b98d8226bffaa7220174fd0d94e81f1,openstack/tripleo-upgrade,stable/ussuri,I946ede504b98d8226bffaa7220174fd0d94e81f1,Replace LEAPP_DEVEL_SKIP_RHSM with LEAPP_NO_RHSM,MERGED,2021-07-13 14:15:07.000000000,2021-07-15 01:00:04.000000000,2021-07-15 01:00:04.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-13 14:15:07.000000000', 'files': ['tasks/common/undercloud_os_upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/c08cfdc7e2013d77ed27ad8eedaf90a383a9b193', 'message': 'Replace LEAPP_DEVEL_SKIP_RHSM with LEAPP_NO_RHSM\n\nLEAPP_DEVEL_SKIP_RHSM will be removed next LEAPP release. This patch\nreplaces it with LEAPP_NO_RHSM\n\nChange-Id: I946ede504b98d8226bffaa7220174fd0d94e81f1\n(cherry picked from commit df68e50a7ad3f3c15ef6d2264a223be9ba9965b8)\n'}]",0,800638,c08cfdc7e2013d77ed27ad8eedaf90a383a9b193,8,2,1,11090,,,0,"Replace LEAPP_DEVEL_SKIP_RHSM with LEAPP_NO_RHSM

LEAPP_DEVEL_SKIP_RHSM will be removed next LEAPP release. This patch
replaces it with LEAPP_NO_RHSM

Change-Id: I946ede504b98d8226bffaa7220174fd0d94e81f1
(cherry picked from commit df68e50a7ad3f3c15ef6d2264a223be9ba9965b8)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/38/800638/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/undercloud_os_upgrade.yaml'],1,c08cfdc7e2013d77ed27ad8eedaf90a383a9b193,remove_LEAPP_DEVEL_SKIP_RHSM-stable/victoria-stable/ussuri, {% if leapp_unsubscribed|bool and (upgrade_workarounds|bool or ffu_upgrade_workarounds|bool) %} LEAPP_UNSUPPORTED=1 LEAPP_NO_RHSM=1 {% endif %}\, {% if leapp_unsubscribed|bool and (upgrade_workarounds|bool or ffu_upgrade_workarounds|bool) %} LEAPP_UNSUPPORTED=1 LEAPP_DEVEL_SKIP_RHSM=1 {% endif %}\,1,1
openstack%2Fcookbook-openstack-integration-test~stable%2Fstein~Ie196f920b9431392e3c0d44eb97ee6e6685719db,openstack/cookbook-openstack-integration-test,stable/stein,Ie196f920b9431392e3c0d44eb97ee6e6685719db,Loosen version pin to bind cookbook,ABANDONED,2021-07-14 21:59:09.000000000,2021-07-15 00:31:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-14 21:59:09.000000000', 'files': ['metadata.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-integration-test/commit/791436e7ac4609c7b6a7bf4b49079d4b7c46aa11', 'message': ""Loosen version pin to bind cookbook\n\nThey still haven't released the cookbook however they've updated the release to\n3.1.0 which is breaking tests globally. This should resolve the issue.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-chef/+/800841\nChange-Id: Ie196f920b9431392e3c0d44eb97ee6e6685719db\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n""}]",0,800845,791436e7ac4609c7b6a7bf4b49079d4b7c46aa11,3,1,1,21961,,,0,"Loosen version pin to bind cookbook

They still haven't released the cookbook however they've updated the release to
3.1.0 which is breaking tests globally. This should resolve the issue.

Depends-On: https://review.opendev.org/c/openstack/openstack-chef/+/800841
Change-Id: Ie196f920b9431392e3c0d44eb97ee6e6685719db
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-integration-test refs/changes/45/800845/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.rb'],1,791436e7ac4609c7b6a7bf4b49079d4b7c46aa11,,"depends 'bind', '~> 3.1.0'","depends 'bind', '~> 2.3.1'",1,1
openstack%2Fswift~master~I21ad3c6377d15e931f737d8bec48ad6c887be52e,openstack/swift,master,I21ad3c6377d15e931f737d8bec48ad6c887be52e,reconciler: concurreny follow-up,MERGED,2021-07-14 21:54:54.000000000,2021-07-15 00:16:20.000000000,2021-07-15 00:14:53.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-14 21:54:54.000000000', 'files': ['test/unit/container/test_reconciler.py', 'swift/container/reconciler.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/f29ea9d04a613a39511ce6be3f21aaae428af20d', 'message': 'reconciler: concurreny follow-up\n\nRelated-Change-Id: I72e9601b58c2f20bb1294876bb39f2c78827d5f8\nChange-Id: I21ad3c6377d15e931f737d8bec48ad6c887be52e\n'}]",0,800842,f29ea9d04a613a39511ce6be3f21aaae428af20d,8,2,1,1179,,,0,"reconciler: concurreny follow-up

Related-Change-Id: I72e9601b58c2f20bb1294876bb39f2c78827d5f8
Change-Id: I21ad3c6377d15e931f737d8bec48ad6c887be52e
",git fetch https://review.opendev.org/openstack/swift refs/changes/42/800842/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_reconciler.py', 'swift/container/reconciler.py']",2,f29ea9d04a613a39511ce6be3f21aaae428af20d,priority-reconciler," def process_queue_item(self, q_container, q_entry, queue_item): :param q_container: the queue container :param q_entry: the raw_obj name from the q_container :param queue_item: a parsed entry from the queue finished = self.reconcile_object(queue_item) if finished: self.pop_queue(q_container, q_entry, queue_item['q_ts'], queue_item['q_record']) try: queue_item = parse_raw_obj(raw_obj) except Exception: self.stats_log('invalid_record', 'invalid queue record: %r', raw_obj, level=logging.ERROR, exc_info=True) continue pool.spawn_n(self.process_queue_item, container, raw_obj['name'], queue_item)"," def process_queue_entry(self, container, raw_obj): :param container: the queue container :param raw_obj: the raw_obj listing from the container try: obj_info = parse_raw_obj(raw_obj) except Exception: self.stats_log('invalid_record', 'invalid queue record: %r', raw_obj, level=logging.ERROR, exc_info=True) return finished = self.reconcile_object(obj_info) if finished: self.pop_queue(container, raw_obj['name'], obj_info['q_ts'], obj_info['q_record']) pool.spawn_n(self.process_queue_entry, container, raw_obj)",21,18
openstack%2Ftripleo-heat-templates~master~Iedca07790b18b7a4dc630dc32b1af9ee447834b1,openstack/tripleo-heat-templates,master,Iedca07790b18b7a4dc630dc32b1af9ee447834b1,Enable enable_proxy_headers_parsing in Ironic API,MERGED,2021-07-14 02:06:26.000000000,2021-07-14 23:50:12.000000000,2021-07-14 23:50:12.000000000,"[{'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-14 02:06:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/31671a0eb309fd61000a13f13431f92c972caba2', 'message': 'Enable enable_proxy_headers_parsing in Barbican API\n\n... so that Ironic API can detect the actual endpoint and client url.\n\nChange-Id: Iedca07790b18b7a4dc630dc32b1af9ee447834b1\n'}, {'number': 2, 'created': '2021-07-14 02:17:58.000000000', 'files': ['deployment/ironic/ironic-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a9ed083355e57d828ddc77f737584310ff686753', 'message': 'Enable enable_proxy_headers_parsing in Ironic API\n\n... so that Ironic API can detect the actual endpoint and client ip.\n\nChange-Id: Iedca07790b18b7a4dc630dc32b1af9ee447834b1\n'}]",0,800739,a9ed083355e57d828ddc77f737584310ff686753,10,5,2,9816,,,0,"Enable enable_proxy_headers_parsing in Ironic API

... so that Ironic API can detect the actual endpoint and client ip.

Change-Id: Iedca07790b18b7a4dc630dc32b1af9ee447834b1
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/39/800739/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ironic/ironic-api-container-puppet.yaml'],1,31671a0eb309fd61000a13f13431f92c972caba2,ironic-proxy-headers, ironic::api::enable_proxy_headers_parsing: true,,1,0
openstack%2Fsearchlight~master~I1687c69e25253a5a6f1c40507db403005399eebb,openstack/searchlight,master,I1687c69e25253a5a6f1c40507db403005399eebb,Moving IRC network reference to OFTC,ABANDONED,2021-07-14 21:20:46.000000000,2021-07-14 23:38:59.000000000,,[],"[{'number': 1, 'created': '2021-07-14 21:20:46.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/searchlight/commit/3790f1e3b1cfc1a1d52c99b0e2a6bb11398125cb', 'message': 'Moving IRC network reference to OFTC\n\nChange-Id: I1687c69e25253a5a6f1c40507db403005399eebb\n'}]",0,800835,3790f1e3b1cfc1a1d52c99b0e2a6bb11398125cb,2,0,1,8556,,,0,"Moving IRC network reference to OFTC

Change-Id: I1687c69e25253a5a6f1c40507db403005399eebb
",git fetch https://review.opendev.org/openstack/searchlight refs/changes/35/800835/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,3790f1e3b1cfc1a1d52c99b0e2a6bb11398125cb,oftc,OFTC.,Freenode.,1,1
openstack%2Fsearchlight-ui~master~I6547496f1e9e94e51276e64046ff565f08f51fc7,openstack/searchlight-ui,master,I6547496f1e9e94e51276e64046ff565f08f51fc7,Moving IRC network reference to OFTC,ABANDONED,2021-07-14 21:21:26.000000000,2021-07-14 23:38:55.000000000,,[],"[{'number': 1, 'created': '2021-07-14 21:21:26.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/searchlight-ui/commit/2f3ebd96f6b2cf8b90c74889b5ac5beddceb2208', 'message': 'Moving IRC network reference to OFTC\n\nChange-Id: I6547496f1e9e94e51276e64046ff565f08f51fc7\n'}]",0,800836,2f3ebd96f6b2cf8b90c74889b5ac5beddceb2208,2,0,1,8556,,,0,"Moving IRC network reference to OFTC

Change-Id: I6547496f1e9e94e51276e64046ff565f08f51fc7
",git fetch https://review.opendev.org/openstack/searchlight-ui refs/changes/36/800836/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,2f3ebd96f6b2cf8b90c74889b5ac5beddceb2208,oftc,OFTC.,Freenode.,1,1
openstack%2Fsearchlight-specs~master~I897b9d85c824f780e27fa9575fdfb4e3f8f5e189,openstack/searchlight-specs,master,I897b9d85c824f780e27fa9575fdfb4e3f8f5e189,Moving IRC network reference to OFTC,ABANDONED,2021-07-14 21:22:04.000000000,2021-07-14 23:38:51.000000000,,[],"[{'number': 1, 'created': '2021-07-14 21:22:04.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/searchlight-specs/commit/b9996ad93bd9b7cc206c57119de2344d29b2cac9', 'message': 'Moving IRC network reference to OFTC\n\nChange-Id: I897b9d85c824f780e27fa9575fdfb4e3f8f5e189\n'}]",0,800837,b9996ad93bd9b7cc206c57119de2344d29b2cac9,2,0,1,8556,,,0,"Moving IRC network reference to OFTC

Change-Id: I897b9d85c824f780e27fa9575fdfb4e3f8f5e189
",git fetch https://review.opendev.org/openstack/searchlight-specs refs/changes/37/800837/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,b9996ad93bd9b7cc206c57119de2344d29b2cac9,oftc,OFTC.,Freenode.,1,1
openstack%2Fpython-searchlightclient~master~I9ce64e4eaec5fd10985c086a22cd54f9687a1988,openstack/python-searchlightclient,master,I9ce64e4eaec5fd10985c086a22cd54f9687a1988,Moving IRC network reference to OFTC,ABANDONED,2021-07-14 21:24:55.000000000,2021-07-14 23:38:48.000000000,,[],"[{'number': 1, 'created': '2021-07-14 21:24:55.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/python-searchlightclient/commit/1424f5675dcf99f479ca58e98124fae005807f5c', 'message': 'Moving IRC network reference to OFTC\n\nChange-Id: I9ce64e4eaec5fd10985c086a22cd54f9687a1988\n'}]",0,800838,1424f5675dcf99f479ca58e98124fae005807f5c,2,0,1,8556,,,0,"Moving IRC network reference to OFTC

Change-Id: I9ce64e4eaec5fd10985c086a22cd54f9687a1988
",git fetch https://review.opendev.org/openstack/python-searchlightclient refs/changes/38/800838/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,1424f5675dcf99f479ca58e98124fae005807f5c,oftc,OFTC.,Freenode.,1,1
openstack%2Fproject-config~master~Ie506d869ba0700108898fd8bd8c344d6310195eb,openstack/project-config,master,Ie506d869ba0700108898fd8bd8c344d6310195eb,End project gate for retired neutron-lbaas,ABANDONED,2021-07-12 18:17:51.000000000,2021-07-14 23:35:38.000000000,,"[{'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-12 18:17:51.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/b535ac5d617fb7317d57dada9a2f2dcba9ca713b', 'message': 'End project gate for retired neutron-lbaas\n\nWe are updating the README.rst for the retired repo\non depends on patches, once we merge those README update\nthen we can end the gate completly proposed in this commit.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lbaas/+/800143\nDepends-On: https://review.opendev.org/c/openstack/neutron-lbaas-dashboard/+/800144\nChange-Id: Ie506d869ba0700108898fd8bd8c344d6310195eb\n'}]",0,800537,b535ac5d617fb7317d57dada9a2f2dcba9ca713b,6,3,1,8556,,,0,"End project gate for retired neutron-lbaas

We are updating the README.rst for the retired repo
on depends on patches, once we merge those README update
then we can end the gate completly proposed in this commit.

Depends-On: https://review.opendev.org/c/openstack/neutron-lbaas/+/800143
Depends-On: https://review.opendev.org/c/openstack/neutron-lbaas-dashboard/+/800144
Change-Id: Ie506d869ba0700108898fd8bd8c344d6310195eb
",git fetch https://review.opendev.org/openstack/project-config refs/changes/37/800537/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,b535ac5d617fb7317d57dada9a2f2dcba9ca713b,complete-neutron-lbaas-retire,, name: openstack/neutron-lbaas templates: - official-openstack-repo-jobs check: jobs: - noop: branches: master gate: jobs: - noop: branches: master - project: name: openstack/neutron-lbaas-dashboard templates: - official-openstack-repo-jobs - publish-to-pypi check: jobs: - noop: branches: master gate: jobs: - noop: branches: master - project:,0,27
openstack%2Fproject-config~master~I7be650c0531674d457681d5c411c75aeff084098,openstack/project-config,master,I7be650c0531674d457681d5c411c75aeff084098,Temporarily add official-openstack-repo-jobs for retired repo,ABANDONED,2021-07-14 21:29:39.000000000,2021-07-14 23:05:12.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-14 21:29:39.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/0212c5937bb27d540c722f7e16d009c7d92ddd09', 'message': 'Temporarily add official-openstack-repo-jobs for retired repo\n\nWe need to update the OFTC ref in retired repo README.rst, to\nsyncup that to github repo, we need to add official-openstack-repo-jobs\ntemplate for them.\n\nNeeded-By: https://review.opendev.org/c/openstack/searchlight/+/800835\nChange-Id: I7be650c0531674d457681d5c411c75aeff084098\n'}]",4,800840,0212c5937bb27d540c722f7e16d009c7d92ddd09,4,2,1,8556,,,0,"Temporarily add official-openstack-repo-jobs for retired repo

We need to update the OFTC ref in retired repo README.rst, to
syncup that to github repo, we need to add official-openstack-repo-jobs
template for them.

Needed-By: https://review.opendev.org/c/openstack/searchlight/+/800835
Change-Id: I7be650c0531674d457681d5c411c75aeff084098
",git fetch https://review.opendev.org/openstack/project-config refs/changes/40/800840/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,0212c5937bb27d540c722f7e16d009c7d92ddd09,, name: openstack/python-searchlightclient templates: - official-openstack-repo-jobs - project: name: openstack/searchlight templates: - official-openstack-repo-jobs - project: name: openstack/searchlight-specs templates: - official-openstack-repo-jobs - project: name: openstack/searchlight-ui templates: - official-openstack-repo-jobs - project:,,20,0
openstack%2Ftrove~master~If2d3022a59ba535e1361a3ba9bc9dd983ca25256,openstack/trove,master,If2d3022a59ba535e1361a3ba9bc9dd983ca25256,Fix getting config option value for database,MERGED,2021-07-13 11:24:37.000000000,2021-07-14 22:50:40.000000000,2021-07-14 22:49:16.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-13 11:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/c217d9ca3f528602a997328fe4df6234d96da6f8', 'message': 'Fix getting config option value for database\n\nChange-Id: If2d3022a59ba535e1361a3ba9bc9dd983ca25256\nStory: 2009051\nTask: 42821\n'}, {'number': 2, 'created': '2021-07-14 08:52:37.000000000', 'files': ['trove/guestagent/datastore/mysql_common/service.py', 'trove/guestagent/datastore/mysql_common/manager.py', 'trove/guestagent/common/configuration.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/69f08ab470a0d1d1d4676b41ad29a9c19ce28648', 'message': 'Fix getting config option value for database\n\nChange-Id: If2d3022a59ba535e1361a3ba9bc9dd983ca25256\nStory: 2009051\nTask: 42821\n'}]",2,800622,69f08ab470a0d1d1d4676b41ad29a9c19ce28648,9,2,2,6732,,,0,"Fix getting config option value for database

Change-Id: If2d3022a59ba535e1361a3ba9bc9dd983ca25256
Story: 2009051
Task: 42821
",git fetch https://review.opendev.org/openstack/trove refs/changes/22/800622/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/guestagent/datastore/mysql_common/service.py', 'trove/guestagent/datastore/mysql_common/manager.py', 'trove/guestagent/common/configuration.py']",3,c217d9ca3f528602a997328fe4df6234d96da6f8,fix-get-config," def get_value(self, key, section=None, default=None): if section: return self._value_cache.get(section, {}).get(key, default) LOG.debug(f""Parsed overrides options: {parsed_options}"")"," def get_value(self, key, default=None):",12,5
openstack%2Fvalidations-libs~master~Ia7b9951d5c47c13f344fc1303604018f2420c457,openstack/validations-libs,master,Ia7b9951d5c47c13f344fc1303604018f2420c457,fix var name in logging statement,MERGED,2021-07-07 05:52:59.000000000,2021-07-14 22:33:01.000000000,2021-07-14 22:33:01.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-07-07 05:52:59.000000000', 'files': ['playbooks/coverchange.yaml'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/8a87da12bf8ae4d1341ff8061e5d14b3a1149e58', 'message': 'fix var name in logging statement\n\nThe variable referenced in the logging statement\nof the job was not the one on which the assertion was made.\n\nAs a result the message was confusing.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ia7b9951d5c47c13f344fc1303604018f2420c457\n'}]",0,799737,8a87da12bf8ae4d1341ff8061e5d14b3a1149e58,8,6,1,32926,,,0,"fix var name in logging statement

The variable referenced in the logging statement
of the job was not the one on which the assertion was made.

As a result the message was confusing.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ia7b9951d5c47c13f344fc1303604018f2420c457
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/37/799737/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/coverchange.yaml'],1,8a87da12bf8ae4d1341ff8061e5d14b3a1149e58,covchngmsgfix, Before the change {{ (coverage_before_total.stdout | float)*100 }}% of the lines were covered., Before the change {{ (coverage_before.stdout | float)*100 }}% of the lines were covered.,1,1
openstack%2Fproject-config~master~Id6541db65e8b7957941c72d6d29474e07604adf0,openstack/project-config,master,Id6541db65e8b7957941c72d6d29474e07604adf0,Use publish-to-pypi-stable-only template for deprecated repo,MERGED,2021-07-12 20:23:43.000000000,2021-07-14 21:53:38.000000000,2021-07-14 21:42:27.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-12 20:23:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/93e6dbabb75cb175e7bbaeb4287e86e97ae53f76', 'message': 'Use publish-to-pypi-stable-only template for deprecated repo\n\nDeprecated deliverables only do the release on stable branches\nnot on master. But existing publish-to-pypi template does not\nhave the branch matcher to exclude the master gate from running\nthe release jobs.\n\nFor deprecated repo, we can use new template publish-to-pypi-stable-only\nwhich exclude the master branch to run the release jobs. This will help\nus to update the master conent which is README.rst\nfor example: https://review.opendev.org/c/openstack/neutron-fwaas/+/800140\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/800554\nChange-Id: Id6541db65e8b7957941c72d6d29474e07604adf0\n'}, {'number': 2, 'created': '2021-07-13 23:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/1b858e102f1d0ea8694252ae5da4f023001f57b1', 'message': ""Use publish-to-pypi-stable-only template for deprecated repo\n\nDeprecated deliverables only do the release on stable branches\nnot on master. But existing publish-to-pypi template does not\nhave the branch matcher to exclude the master gate from running\nthe release jobs.\n\nFor deprecated repo, we can use new template publish-to-pypi-stable-only\nwhich exclude the master branch to run the release jobs. This will help\nus to update the master conent which is README.rst\nfor example: https://review.opendev.org/c/openstack/neutron-fwaas/+/800140\n\nThis also update the deprecdated repo description to add 'DEPRECATED'.\n\nAnd adding noop job for master branch so that we can merge the README.rst\nupdate for OFTC ref.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/800554\nChange-Id: Id6541db65e8b7957941c72d6d29474e07604adf0\n""}, {'number': 3, 'created': '2021-07-14 02:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/3d63406925a5fa2a21f0eb726509cbce5be65f83', 'message': ""Use publish-to-pypi-stable-only template for deprecated repo\n\nDeprecated deliverables only do the release on stable branches\nnot on master. But existing publish-to-pypi template does not\nhave the branch matcher to exclude the master gate from running\nthe release jobs.\n\nFor deprecated repo, we can use new template publish-to-pypi-stable-only\nwhich exclude the master branch to run the release jobs. This will help\nus to update the master conent which is README.rst\nfor example: https://review.opendev.org/c/openstack/neutron-fwaas/+/800140\n\nThis also update the deprecdated repo description to add 'DEPRECATED'.\n\nAnd adding noop job for master branch so that we can merge the README.rst\nupdate for OFTC ref.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/800554\nChange-Id: Id6541db65e8b7957941c72d6d29474e07604adf0\n""}, {'number': 4, 'created': '2021-07-14 14:24:04.000000000', 'files': ['zuul.d/projects.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d7304b6416b7596fc3221f5989758db79642f8a9', 'message': ""Use publish-to-pypi-stable-only template for deprecated repo\n\nDeprecated deliverables only do the release on stable branches\nnot on master. But existing publish-to-pypi template does not\nhave the branch matcher to exclude the master gate from running\nthe release jobs.\n\nFor deprecated repo, we can use new template publish-to-pypi-stable-only\nwhich exclude the master branch to run the release jobs. This will help\nus to update the master conent which is README.rst\nfor example: https://review.opendev.org/c/openstack/neutron-fwaas/+/800140\n\nThis also update the deprecdated repo description to add 'DEPRECATED'.\n\nAnd adding noop job for master branch so that we can merge the README.rst\nupdate for OFTC ref.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/800554\nChange-Id: Id6541db65e8b7957941c72d6d29474e07604adf0\n""}]",11,800558,d7304b6416b7596fc3221f5989758db79642f8a9,21,4,4,8556,,,0,"Use publish-to-pypi-stable-only template for deprecated repo

Deprecated deliverables only do the release on stable branches
not on master. But existing publish-to-pypi template does not
have the branch matcher to exclude the master gate from running
the release jobs.

For deprecated repo, we can use new template publish-to-pypi-stable-only
which exclude the master branch to run the release jobs. This will help
us to update the master conent which is README.rst
for example: https://review.opendev.org/c/openstack/neutron-fwaas/+/800140

This also update the deprecdated repo description to add 'DEPRECATED'.

And adding noop job for master branch so that we can merge the README.rst
update for OFTC ref.

Depends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/800554
Change-Id: Id6541db65e8b7957941c72d6d29474e07604adf0
",git fetch https://review.opendev.org/openstack/project-config refs/changes/58/800558/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,93e6dbabb75cb175e7bbaeb4287e86e97ae53f76,deprecated-repo-cleanup, - publish-to-pypi-stable-only - publish-to-pypi-stable-only - publish-to-pypi-stable-only - publish-to-pypi-stable-only - publish-to-pypi-stable-only - publish-to-pypi-stable-only - publish-to-pypi-stable-only, - publish-to-pypi - publish-to-pypi - publish-to-pypi - publish-to-pypi - publish-to-pypi - puppet-release-jobs - publish-to-pypi,7,7
openstack%2Fcookbook-openstack-integration-test~master~Ie196f920b9431392e3c0d44eb97ee6e6685719db,openstack/cookbook-openstack-integration-test,master,Ie196f920b9431392e3c0d44eb97ee6e6685719db,Loosen version pin to bind cookbook,MERGED,2021-07-14 00:16:46.000000000,2021-07-14 21:52:54.000000000,2021-07-14 21:52:54.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-14 00:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-integration-test/commit/a32d86f0fbf92908c88ada522eda9cd73e7c33f1', 'message': ""Loosen version pin to bind cookbook\n\nThey still haven't released the cookbook however they've updated the release to\n3.1.0 which is breaking tests globally. This should resolve the issue.\n\nChange-Id: Ie196f920b9431392e3c0d44eb97ee6e6685719db\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n""}, {'number': 2, 'created': '2021-07-14 17:50:08.000000000', 'files': ['metadata.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-integration-test/commit/bd5d493b4549474f293f53ebf285d103c8290740', 'message': ""Loosen version pin to bind cookbook\n\nThey still haven't released the cookbook however they've updated the release to\n3.1.0 which is breaking tests globally. This should resolve the issue.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-chef/+/800815\nChange-Id: Ie196f920b9431392e3c0d44eb97ee6e6685719db\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n""}]",0,800734,bd5d493b4549474f293f53ebf285d103c8290740,11,2,2,21961,,,0,"Loosen version pin to bind cookbook

They still haven't released the cookbook however they've updated the release to
3.1.0 which is breaking tests globally. This should resolve the issue.

Depends-On: https://review.opendev.org/c/openstack/openstack-chef/+/800815
Change-Id: Ie196f920b9431392e3c0d44eb97ee6e6685719db
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-integration-test refs/changes/34/800734/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.rb'],1,a32d86f0fbf92908c88ada522eda9cd73e7c33f1,bind-loosen-pin,"depends 'bind', '~> 3.1.0'","depends 'bind', '~> 2.3.1'",1,1
openstack%2Fswift~master~I72e9601b58c2f20bb1294876bb39f2c78827d5f8,openstack/swift,master,I72e9601b58c2f20bb1294876bb39f2c78827d5f8,Add concurrency to reconciler,MERGED,2021-07-14 15:33:58.000000000,2021-07-14 21:32:49.000000000,2021-07-14 21:31:28.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-14 15:33:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/56ea8df684483c158e355e91b3f77d5e23c06fd2', 'message': 'Add concurrency to reconciler\n\nEach reconciler process can now reconcile more than one queue entry at a\ntime, up to the configured concurrency.\n\nBy default concurrency is 1.  There is no expected change to existing\nbehavior.  Entries are processed serially one a time.\n\nChange-Id: I72e9601b58c2f20bb1294876bb39f2c78827d5f8\n'}, {'number': 2, 'created': '2021-07-14 19:27:43.000000000', 'files': ['etc/container-reconciler.conf-sample', 'test/unit/container/test_reconciler.py', 'swift/container/reconciler.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/4e52d946bf94d7060c9b9cd39caf13db066748fc', 'message': 'Add concurrency to reconciler\n\nEach reconciler process can now reconcile more than one queue entry at a\ntime, up to the configured concurrency.\n\nBy default concurrency is 1.  There is no expected change to existing\nbehavior.  Entries are processed serially one a time.\n\nChange-Id: I72e9601b58c2f20bb1294876bb39f2c78827d5f8\n'}]",1,800802,4e52d946bf94d7060c9b9cd39caf13db066748fc,14,2,2,1179,,,0,"Add concurrency to reconciler

Each reconciler process can now reconcile more than one queue entry at a
time, up to the configured concurrency.

By default concurrency is 1.  There is no expected change to existing
behavior.  Entries are processed serially one a time.

Change-Id: I72e9601b58c2f20bb1294876bb39f2c78827d5f8
",git fetch https://review.opendev.org/openstack/swift refs/changes/02/800802/2 && git format-patch -1 --stdout FETCH_HEAD,"['etc/container-reconciler.conf-sample', 'test/unit/container/test_reconciler.py', 'swift/container/reconciler.py']",3,56ea8df684483c158e355e91b3f77d5e23c06fd2,priority-reconciler," def __init__(self, conf, logger=None, swift=None): self.logger = logger or get_logger( conf, log_route='container-reconciler') self.swift = swift or InternalClient( self.concurrency = int(conf.get('concurrency', 1)) if self.concurrency < 1: raise ValueError(""concurrency must be set to at least 1"") container_gen = self.swift.iter_containers(MISPLACED_OBJECTS_ACCOUNT) def process_queue_entry(self, container, raw_obj): """""" Process an entry and remove from queue on success. :param container: the queue container :param raw_obj: the raw_obj listing from the container """""" try: obj_info = parse_raw_obj(raw_obj) except Exception: self.stats_log('invalid_record', 'invalid queue record: %r', raw_obj, level=logging.ERROR, exc_info=True) return finished = self.reconcile_object(obj_info) if finished: self.pop_queue(container, raw_obj['name'], obj_info['q_ts'], obj_info['q_record']) Main entry point for concurrent processing of misplaced objects. Iterate over all queue entries and delegate processing to spawned workers in the pool. pool = GreenPool(self.concurrency) for container in self._iter_containers(): self.logger.debug('checking container %s', container) for raw_obj in self._iter_objects(container): pool.spawn_n(self.process_queue_entry, container, raw_obj) pool.waitall()"," def __init__(self, conf): self.logger = get_logger(conf, log_route='container-reconciler') self.swift = InternalClient( container_gen = self.swift.iter_containers(MISPLACED_OBJECTS_ACCOUNT) Main entry point for processing misplaced objects. Iterate over all queue entries and delegate to reconcile_object. for container in self._iter_containers(): for raw_obj in self._iter_objects(container): try: obj_info = parse_raw_obj(raw_obj) except Exception: self.stats_log('invalid_record', 'invalid queue record: %r', raw_obj, level=logging.ERROR, exc_info=True) continue finished = self.reconcile_object(obj_info) if finished: self.pop_queue(container, raw_obj['name'], obj_info['q_ts'], obj_info['q_record']) self.logger.debug('finished container %s', container)",118,24
openstack%2Fswift~master~I9217ba49d65cc29496b1532644bbef6b736074b8,openstack/swift,master,I9217ba49d65cc29496b1532644bbef6b736074b8,func tests: Better-tolerate deleted containers in account listings,MERGED,2021-07-02 17:32:00.000000000,2021-07-14 21:16:03.000000000,2021-07-14 21:14:36.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-02 17:32:00.000000000', 'files': ['test/functional/swift_test_client.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/7c0ff5797aaa0383566f8a6b5e4bb195ef35194c', 'message': 'func tests: Better-tolerate deleted containers in account listings\n\nChange-Id: I9217ba49d65cc29496b1532644bbef6b736074b8\n'}]",0,799314,7c0ff5797aaa0383566f8a6b5e4bb195ef35194c,8,2,1,15343,,,0,"func tests: Better-tolerate deleted containers in account listings

Change-Id: I9217ba49d65cc29496b1532644bbef6b736074b8
",git fetch https://review.opendev.org/openstack/swift refs/changes/14/799314/1 && git format-patch -1 --stdout FETCH_HEAD,['test/functional/swift_test_client.py'],1,7c0ff5797aaa0383566f8a6b5e4bb195ef35194c,,"import functools def delete(self, hdrs=None, parms=None, tolerate_missing=False): allowed_codes = (204, 404) if tolerate_missing else (204, ) parms=parms) in allowed_codes def delete_files(self, tolerate_missing=False): for f in listing_items(functools.partial( self.files, tolerate_missing=tolerate_missing)): return self.delete_files(tolerate_missing=True) and \ self.delete(tolerate_missing=True) def files(self, hdrs=None, parms=None, cfg=None, tolerate_missing=False): elif status == 204 or (status == 404 and tolerate_missing):"," def delete(self, hdrs=None, parms=None): parms=parms) == 204 def delete_files(self): for f in listing_items(self.files): return self.delete_files() and self.delete() def files(self, hdrs=None, parms=None, cfg=None): elif status == 204:",11,7
openstack%2Ftripleo-ansible~stable%2Fwallaby~I9a425665f4714751d8b1a0bd381533e4c383df9d,openstack/tripleo-ansible,stable/wallaby,I9a425665f4714751d8b1a0bd381533e4c383df9d,Backup and Restore playbook is not 100% idempotent when running in snapshot mode,MERGED,2021-07-09 09:18:01.000000000,2021-07-14 21:06:47.000000000,2021-07-14 21:06:47.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 32728}]","[{'number': 1, 'created': '2021-07-09 09:18:01.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a22d8d9817e07b76ccd83211659fea55796b735b', 'message': 'Backup and Restore playbook is not 100% idempotent when running in snapshot mode\n\nThis fix a small issue that can happen when the user directly cancels\nthe execution of the playbook when the rear backup is happening. After\nthat, the node remains disconnected from pacemaker and it is necessary\nto add it back to the cluster so the mysql-galera container is running\nwhen we do the mysql dump.\n\nAs the pcs cluster start is an idempotent command in itself, we do not\nneed to perform a verification check before running it nor it will\ngenerate errors (return 1) when ran if it was already running.\n\nCloses-Bug: #1934897\n\nChange-Id: I9a425665f4714751d8b1a0bd381533e4c383df9d\n(cherry picked from commit aa93f9d7a05d33bdf0aa6177da10f51a1e784bc2)\n'}]",0,799994,a22d8d9817e07b76ccd83211659fea55796b735b,8,6,1,32968,,,0,"Backup and Restore playbook is not 100% idempotent when running in snapshot mode

This fix a small issue that can happen when the user directly cancels
the execution of the playbook when the rear backup is happening. After
that, the node remains disconnected from pacemaker and it is necessary
to add it back to the cluster so the mysql-galera container is running
when we do the mysql dump.

As the pcs cluster start is an idempotent command in itself, we do not
need to perform a verification check before running it nor it will
generate errors (return 1) when ran if it was already running.

Closes-Bug: #1934897

Change-Id: I9a425665f4714751d8b1a0bd381533e4c383df9d
(cherry picked from commit aa93f9d7a05d33bdf0aa6177da10f51a1e784bc2)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/94/799994/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml'],1,a22d8d9817e07b76ccd83211659fea55796b735b,idempotency-stable/wallaby,- name: Ensure the node is back into the cluster command: pcs cluster start when: - enabled_galera - tripleo_backup_and_restore_enable_snapshots|bool tags: - bar_create_recover_image , - tripleo_backup_and_restore_service_manager|bool - not tripleo_backup_and_restore_enable_snapshots|bool,8,2
openstack%2Fopenstack-chef~master~Ib6dec3f6ea1cbc13d9c82d372b4f65f689adc0bc,openstack/openstack-chef,master,Ib6dec3f6ea1cbc13d9c82d372b4f65f689adc0bc,Disable SELinux for integration testing on RHEL only,MERGED,2021-07-14 16:47:49.000000000,2021-07-14 20:08:42.000000000,2021-07-14 20:07:02.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-14 16:47:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/66f51cfeeb6681bcfbca73794d22648a1189bd52', 'message': ""Disable SELinux for integration testing on RHEL only\n\nWe currently don't fully support SELinux so we need to disable it for now until\nwe get it fixed properly. Make this a variable so that we can change dynamically\nlater if we need to for testing purposes.\n\nChange-Id: Ib6dec3f6ea1cbc13d9c82d372b4f65f689adc0bc\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n""}, {'number': 2, 'created': '2021-07-14 17:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/52391a3f7c1d62206a3ed30a4cc7aa7f7ee6190f', 'message': ""Disable SELinux for integration testing on RHEL only\n\nWe currently don't fully support SELinux so we need to disable it for now until\nwe get it fixed properly. Make this a variable so that we can change dynamically\nlater if we need to for testing purposes.\n\nTemporarily disable voting until we get things working properly again.\n\nChange-Id: Ib6dec3f6ea1cbc13d9c82d372b4f65f689adc0bc\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n""}, {'number': 3, 'created': '2021-07-14 18:00:16.000000000', 'files': ['bindep.txt', 'playbooks/roles/install-chef/tasks/main.yaml', 'Rakefile', '.zuul.yaml', 'playbooks/roles/install-chef/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/e84e1be514d90a18ce332715fc61ac6066451904', 'message': ""Disable SELinux for integration testing on RHEL only\n\nWe currently don't fully support SELinux so we need to disable it for now until\nwe get it fixed properly. Make this a variable so that we can change dynamically\nlater if we need to for testing purposes.\n\nTemporarily disable voting until we get things working properly again.\n\nChange-Id: Ib6dec3f6ea1cbc13d9c82d372b4f65f689adc0bc\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n""}]",0,800815,e84e1be514d90a18ce332715fc61ac6066451904,11,2,3,21961,,,0,"Disable SELinux for integration testing on RHEL only

We currently don't fully support SELinux so we need to disable it for now until
we get it fixed properly. Make this a variable so that we can change dynamically
later if we need to for testing purposes.

Temporarily disable voting until we get things working properly again.

Change-Id: Ib6dec3f6ea1cbc13d9c82d372b4f65f689adc0bc
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/openstack-chef refs/changes/15/800815/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/install-chef/tasks/main.yaml', 'Rakefile', 'playbooks/roles/install-chef/defaults/main.yaml']",3,66f51cfeeb6681bcfbca73794d22648a1189bd52,disable-selinux,openstack_selinux_setenforce: 0,,6,0
openstack%2Fos-net-config~stable%2Fussuri~I18e65e99b7228d8aea20d510070968f17e021e3c,openstack/os-net-config,stable/ussuri,I18e65e99b7228d8aea20d510070968f17e021e3c,Avoid creating multiple entries of udev rules,MERGED,2021-07-05 15:24:28.000000000,2021-07-14 20:03:57.000000000,2021-07-14 20:02:42.000000000,"[{'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-05 15:24:28.000000000', 'files': ['os_net_config/tests/test_sriov_config.py', 'os_net_config/sriov_config.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/c8cac5ed1a532e116b666c37eb156744d92b6068', 'message': 'Avoid creating multiple entries of udev rules\n\nAs on date os-net-config does not support changing numvfs.\nHowever if external scripts are used to reset numvfs to zero and\nreconfigure numvfs, the udev rule shall reflect the new numvfs\nand the previous udev rule shall be replaced.\n\nChange-Id: I18e65e99b7228d8aea20d510070968f17e021e3c\n(cherry picked from commit 8a053a2c1d467833c0db3d3e5303d36ee99d8e33)\n'}]",0,799486,c8cac5ed1a532e116b666c37eb156744d92b6068,10,3,1,18904,,,0,"Avoid creating multiple entries of udev rules

As on date os-net-config does not support changing numvfs.
However if external scripts are used to reset numvfs to zero and
reconfigure numvfs, the udev rule shall reflect the new numvfs
and the previous udev rule shall be replaced.

Change-Id: I18e65e99b7228d8aea20d510070968f17e021e3c
(cherry picked from commit 8a053a2c1d467833c0db3d3e5303d36ee99d8e33)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/86/799486/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/tests/test_sriov_config.py', 'os_net_config/sriov_config.py']",2,c8cac5ed1a532e116b666c37eb156744d92b6068,," pattern = 'KERNEL==""%s"", RUN+=""/bin/os-net-config-sriov -n' % pf_name return add_udev_rule(udev_line, _UDEV_LEGACY_RULE_FILE, pattern)def add_udev_rule(udev_data, udev_file, pattern=None): if not pattern: pattern = udev_data udev_lines = file_data.splitlines() if pattern in file_data: if udev_data in udev_lines: return trigger_udev_rule with open(udev_file, ""w"") as f: for line in udev_lines: if pattern in line: f.write(udev_data + ""\n"") else: f.write(line + ""\n"") else: reload_udev_rules() trigger_udev_rule = True"," return add_udev_rule(udev_line, _UDEV_LEGACY_RULE_FILE)def add_udev_rule(udev_data, udev_file): reload_udev_rules() trigger_udev_rule = True udev_lines = file_data.split(""\n"") if udev_data not in udev_lines: reload_udev_rules() trigger_udev_rule = True",158,8
openstack%2Fos-net-config~stable%2Fvictoria~I18e65e99b7228d8aea20d510070968f17e021e3c,openstack/os-net-config,stable/victoria,I18e65e99b7228d8aea20d510070968f17e021e3c,Avoid creating multiple entries of udev rules,MERGED,2021-07-05 15:23:41.000000000,2021-07-14 19:51:17.000000000,2021-07-14 19:50:06.000000000,"[{'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-05 15:23:41.000000000', 'files': ['os_net_config/tests/test_sriov_config.py', 'os_net_config/sriov_config.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/2fcf8b04cf8b2074e4e900ccba4e07bb28bd3fe0', 'message': 'Avoid creating multiple entries of udev rules\n\nAs on date os-net-config does not support changing numvfs.\nHowever if external scripts are used to reset numvfs to zero and\nreconfigure numvfs, the udev rule shall reflect the new numvfs\nand the previous udev rule shall be replaced.\n\nChange-Id: I18e65e99b7228d8aea20d510070968f17e021e3c\n(cherry picked from commit 8a053a2c1d467833c0db3d3e5303d36ee99d8e33)\n'}]",0,799485,2fcf8b04cf8b2074e4e900ccba4e07bb28bd3fe0,17,3,1,18904,,,0,"Avoid creating multiple entries of udev rules

As on date os-net-config does not support changing numvfs.
However if external scripts are used to reset numvfs to zero and
reconfigure numvfs, the udev rule shall reflect the new numvfs
and the previous udev rule shall be replaced.

Change-Id: I18e65e99b7228d8aea20d510070968f17e021e3c
(cherry picked from commit 8a053a2c1d467833c0db3d3e5303d36ee99d8e33)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/85/799485/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/tests/test_sriov_config.py', 'os_net_config/sriov_config.py']",2,2fcf8b04cf8b2074e4e900ccba4e07bb28bd3fe0,," pattern = 'KERNEL==""%s"", RUN+=""/bin/os-net-config-sriov -n' % pf_name return add_udev_rule(udev_line, _UDEV_LEGACY_RULE_FILE, pattern)def add_udev_rule(udev_data, udev_file, pattern=None): if not pattern: pattern = udev_data udev_lines = file_data.splitlines() if pattern in file_data: if udev_data in udev_lines: return trigger_udev_rule with open(udev_file, ""w"") as f: for line in udev_lines: if pattern in line: f.write(udev_data + ""\n"") else: f.write(line + ""\n"") else: reload_udev_rules() trigger_udev_rule = True"," return add_udev_rule(udev_line, _UDEV_LEGACY_RULE_FILE)def add_udev_rule(udev_data, udev_file): reload_udev_rules() trigger_udev_rule = True udev_lines = file_data.split(""\n"") if udev_data not in udev_lines: reload_udev_rules() trigger_udev_rule = True",158,8
openstack%2Fnova~stable%2Fussuri~I1c12b2903c1e5bf3a88394493456ad33233f3cd8,openstack/nova,stable/ussuri,I1c12b2903c1e5bf3a88394493456ad33233f3cd8,guestfs: With libguestfs >= v1.41.1 decode returned bytes to string,MERGED,2021-04-25 20:34:47.000000000,2021-07-14 19:37:29.000000000,2021-07-14 19:35:59.000000000,"[{'_account_id': 4690}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-25 20:34:47.000000000', 'files': ['nova/tests/unit/virt/disk/vfs/fakeguestfs.py', 'nova/virt/disk/vfs/guestfs.py', 'nova/virt/disk/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/637402eec7f3f7f552bfc30d16c5960e3a651395', 'message': ""guestfs: With libguestfs >= v1.41.1 decode returned bytes to string\n\nlibguestfs >= v1.41.1 and commit 0ee02e0117527 changed the return type\nof read_file from string to bytes.\n\nhttps://github.com/libguestfs/libguestfs/commit/0ee02e0117527b86a31b2a88a14994ce7f15571f\n\nAs we don't check the version of libguestfs installed this change\nhandles both the original behaviour where a string is returned and the\nnewer behaviour by decoding any returned bytes to a string.\n\nCloses-Bug: #1882421\nChange-Id: I1c12b2903c1e5bf3a88394493456ad33233f3cd8\n(cherry picked from commit 606d588e3eca1d88ad26b4c2cfa3f2e1d5ed553e)\n(cherry picked from commit e98935f705a931e3ae666820387a419be1622b64)\n(cherry picked from commit 210abc09b857880aa7665fb540f46cb53662a600)\n""}]",0,787902,637402eec7f3f7f552bfc30d16c5960e3a651395,23,3,1,10135,,,0,"guestfs: With libguestfs >= v1.41.1 decode returned bytes to string

libguestfs >= v1.41.1 and commit 0ee02e0117527 changed the return type
of read_file from string to bytes.

https://github.com/libguestfs/libguestfs/commit/0ee02e0117527b86a31b2a88a14994ce7f15571f

As we don't check the version of libguestfs installed this change
handles both the original behaviour where a string is returned and the
newer behaviour by decoding any returned bytes to a string.

Closes-Bug: #1882421
Change-Id: I1c12b2903c1e5bf3a88394493456ad33233f3cd8
(cherry picked from commit 606d588e3eca1d88ad26b4c2cfa3f2e1d5ed553e)
(cherry picked from commit e98935f705a931e3ae666820387a419be1622b64)
(cherry picked from commit 210abc09b857880aa7665fb540f46cb53662a600)
",git fetch https://review.opendev.org/openstack/nova refs/changes/02/787902/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/disk/vfs/fakeguestfs.py', 'nova/virt/disk/vfs/guestfs.py', 'nova/virt/disk/api.py']",3,637402eec7f3f7f552bfc30d16c5960e3a651395,bug/1882421, :param passwd_data: Data from the passwd file decoded as a string :param shadow_data: Data from the shadow file decoded as a string, :param passwd_data: path to the passwd file :param shadow_data: path to the shadow password file,11,4
openstack%2Fswift~master~I78a94dd1be90913a7a75d90850ec5ef4a85be4db,openstack/swift,master,I78a94dd1be90913a7a75d90850ec5ef4a85be4db,reconciler: PPI aware reconciler,MERGED,2021-07-06 06:36:50.000000000,2021-07-14 18:54:46.000000000,2021-07-14 18:53:25.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-06 06:36:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5a3350c4c76ad813947b60d0f43a4a4a663a5d5c', 'message': ""reconciler: PPI aware reconciler\n\nThis patch makes the reconciler PPI aware. It does this by adding a\nhelper method `can_reconcile_policy` that is used to check that the\npolicies used for the source and destination aren't in the middle of a\nPPI (their ring doesn't have next_part_power set).\n\nIn order to accomplish this the reconciler has had to include the\nPOLICIES singleton and grown a swift_dir config option.\n\nCloses-Bug: #1934314\nChange-Id: I78a94dd1be90913a7a75d90850ec5ef4a85be4db\n""}, {'number': 2, 'created': '2021-07-07 00:39:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2ee4d1c774066d09bb11527b864d86b5f9a33adb', 'message': ""reconciler: PPI aware reconciler\n\nThis patch makes the reconciler PPI aware. It does this by adding a\nhelper method `can_reconcile_policy` that is used to check that the\npolicies used for the source and destination aren't in the middle of a\nPPI (their ring doesn't have next_part_power set).\n\nIn order to accomplish this the reconciler has had to include the\nPOLICIES singleton and grown swift_dir and ring_check_interval config options.\n\nCloses-Bug: #1934314\nChange-Id: I78a94dd1be90913a7a75d90850ec5ef4a85be4db\n""}, {'number': 3, 'created': '2021-07-07 06:09:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a2f842ab11e3804bf2963105b1ca8704dc0714f1', 'message': ""reconciler: PPI aware reconciler\n\nThis patch makes the reconciler PPI aware. It does this by adding a\nhelper method `can_reconcile_policy` that is used to check that the\npolicies used for the source and destination aren't in the middle of a\nPPI (their ring doesn't have next_part_power set).\n\nIn order to accomplish this the reconciler has had to include the\nPOLICIES singleton and grown swift_dir and ring_check_interval config options.\n\nCloses-Bug: #1934314\nChange-Id: I78a94dd1be90913a7a75d90850ec5ef4a85be4db\n""}, {'number': 4, 'created': '2021-07-08 05:18:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7f4e1d9e6d64dacccc06351a604e186b73eaf885', 'message': ""reconciler: PPI aware reconciler\n\nThis patch makes the reconciler PPI aware. It does this by adding a\nhelper method `can_reconcile_policy` that is used to check that the\npolicies used for the source and destination aren't in the middle of a\nPPI (their ring doesn't have next_part_power set).\n\nIn order to accomplish this the reconciler has had to include the\nPOLICIES singleton and grown swift_dir and ring_check_interval config options.\n\nCloses-Bug: #1934314\nChange-Id: I78a94dd1be90913a7a75d90850ec5ef4a85be4db\n""}, {'number': 5, 'created': '2021-07-13 04:18:43.000000000', 'files': ['test/unit/common/test_storage_policy.py', 'test/unit/__init__.py', 'etc/container-reconciler.conf-sample', 'swift/common/storage_policy.py', 'test/unit/container/test_reconciler.py', 'swift/common/ring/ring.py', 'swift/container/reconciler.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/e491693e36e5b6b6b8eab6933fb247ae756ea28b', 'message': ""reconciler: PPI aware reconciler\n\nThis patch makes the reconciler PPI aware. It does this by adding a\nhelper method `can_reconcile_policy` that is used to check that the\npolicies used for the source and destination aren't in the middle of a\nPPI (their ring doesn't have next_part_power set).\n\nIn order to accomplish this the reconciler has had to include the\nPOLICIES singleton and grown swift_dir and ring_check_interval config options.\n\nCloses-Bug: #1934314\nChange-Id: I78a94dd1be90913a7a75d90850ec5ef4a85be4db\n""}]",15,799561,e491693e36e5b6b6b8eab6933fb247ae756ea28b,28,2,5,7233,,,0,"reconciler: PPI aware reconciler

This patch makes the reconciler PPI aware. It does this by adding a
helper method `can_reconcile_policy` that is used to check that the
policies used for the source and destination aren't in the middle of a
PPI (their ring doesn't have next_part_power set).

In order to accomplish this the reconciler has had to include the
POLICIES singleton and grown swift_dir and ring_check_interval config options.

Closes-Bug: #1934314
Change-Id: I78a94dd1be90913a7a75d90850ec5ef4a85be4db
",git fetch https://review.opendev.org/openstack/swift refs/changes/61/799561/2 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/__init__.py', 'test/unit/container/test_reconciler.py', 'swift/container/reconciler.py']",3,5a3350c4c76ad813947b60d0f43a4a4a663a5d5c,ppi_aware_reconciler,"from swift.common.storage_policy import POLICIESdef can_reconcile_policy(policy_index, swift_dir): pol = POLICIES.get_by_index(policy_index) if pol: pol.load_ring(swift_dir) return not pol.object_ring.next_part_power return False self.swift_dir = conf.get('swift_dir', '/etc/swift') # don't reconcile if the source or container policy_index is in the # middle of a PPI if not can_reconcile_policy(q_policy_index, self.swift_dir): self.stats_log('ppi_skip', 'Source policy (%r) in the middle of ' 'a part power increase (PPI)', q_policy_index) return False if not can_reconcile_policy(container_policy_index, self.swift_dir): self.stats_log('ppi_skip', 'Container policy (%r) in the middle ' 'of a part power increase (PPI)', container_policy_index) return False ",,69,3
openstack%2Fopenstack-helm-infra~master~I25d1e4fdb9dee370382e97a5a97b2b098f5ef11f,openstack/openstack-helm-infra,master,I25d1e4fdb9dee370382e97a5a97b2b098f5ef11f,RabbitMQ add preStop and prep 3.8.x feature flag,MERGED,2021-07-12 18:04:29.000000000,2021-07-14 18:50:38.000000000,2021-07-14 18:49:22.000000000,"[{'_account_id': 8898}, {'_account_id': 18256}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-07-12 18:04:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5d3b9624c80ba63aa6c6402e685942b518c00771', 'message': 'RabbitMQ add preStop action and prep 3.8.x feature flag\n\nThis ps updates the following:\n- Add preStop action to allow rabbitmq node a chance to more\n  graceful shutdown\n- Add support for RABBITMQ_FEATURE_FLAG in preparation for\n  future 3.8.x upgrade.\n\nChange-Id: I25d1e4fdb9dee370382e97a5a97b2b098f5ef11f\n'}, {'number': 2, 'created': '2021-07-13 18:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ada283cdbc4f711d5245a23b34d03979e2c76578', 'message': 'RabbitMQ add preStop action and prep 3.8.x feature flag\n\nThis ps updates the following:\n- Add preStop action to allow rabbitmq node a chance to more\n  graceful shutdown\n- Add support for RABBITMQ_FEATURE_FLAG in preparation for\n  future 3.8.x upgrade.\n\nChange-Id: I25d1e4fdb9dee370382e97a5a97b2b098f5ef11f\n'}, {'number': 3, 'created': '2021-07-13 18:57:41.000000000', 'files': ['releasenotes/notes/rabbitmq.yaml', 'rabbitmq/Chart.yaml', 'rabbitmq/values.yaml', 'rabbitmq/templates/statefulset.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/479a1c733586746ad8e376b03a2d9c28180c591b', 'message': 'RabbitMQ add preStop and prep 3.8.x feature flag\n\nThis ps updates the following:\n- Add preStop action to allow rabbitmq node a chance to more\n  graceful shutdown\n- Add support for RABBITMQ_FEATURE_FLAG in preparation for\n  future 3.8.x upgrade.\n\nChange-Id: I25d1e4fdb9dee370382e97a5a97b2b098f5ef11f\n'}]",0,800533,479a1c733586746ad8e376b03a2d9c28180c591b,15,5,3,18250,,,0,"RabbitMQ add preStop and prep 3.8.x feature flag

This ps updates the following:
- Add preStop action to allow rabbitmq node a chance to more
  graceful shutdown
- Add support for RABBITMQ_FEATURE_FLAG in preparation for
  future 3.8.x upgrade.

Change-Id: I25d1e4fdb9dee370382e97a5a97b2b098f5ef11f
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/33/800533/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/rabbitmq.yaml', 'rabbitmq/Chart.yaml', 'rabbitmq/values.yaml', 'rabbitmq/templates/statefulset.yaml']",4,5d3b9624c80ba63aa6c6402e685942b518c00771,rabbitmq-prestop-3.8prep,"{{- if ne (.Values.conf.feature_flags | default """") ""default"" }} - name: RABBITMQ_FEATURE_FLAGS value: ""{{ .Values.conf.feature_flags }}"" {{- end }} lifecycle: preStop: exec: command: - rabbitmqctl - stop_app",,17,1
openstack%2Fnova~master~Icc284203fb53658abe304f24a62705217f90b22b,openstack/nova,master,Icc284203fb53658abe304f24a62705217f90b22b,Use neutronclient's port binding APIs,MERGED,2020-02-06 15:04:28.000000000,2021-07-14 18:44:51.000000000,2021-07-14 18:43:05.000000000,"[{'_account_id': 4690}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-06 15:04:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/114d9a1c3b661e776ffbea37ce616474bc557620', 'message': ""Use neutronclient's port binding APIs\n\nTake advantage of the newly added neutronclient bindings for the port\nbinding APIs to avoid having to vendor this stuff ourselves.\n\nChange-Id: Icc284203fb53658abe304f24a62705217f90b22b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nDepends-On: https://review.opendev.org/#/c/706227/\n""}, {'number': 2, 'created': '2020-02-06 15:06:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0801b473099bdc1e32b986ebd50370f1886b6ed4', 'message': ""WIP: Use neutronclient's port binding APIs\n\nTake advantage of the newly added neutronclient bindings for the port\nbinding APIs to avoid having to vendor this stuff ourselves.\n\nWIP because the neutronclient changes haven't been merged/released yet.\n\nChange-Id: Icc284203fb53658abe304f24a62705217f90b22b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nDepends-On: https://review.opendev.org/#/c/706227/\n""}, {'number': 3, 'created': '2020-02-07 11:06:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/72268a3fa1549a35277e3b724f74145438db7afb', 'message': ""WIP: Use neutronclient's port binding APIs\n\nTake advantage of the newly added neutronclient bindings for the port\nbinding APIs to avoid having to vendor this stuff ourselves.\n\nWIP because the neutronclient changes haven't been merged/released yet.\n\nChange-Id: Icc284203fb53658abe304f24a62705217f90b22b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nDepends-On: https://review.opendev.org/#/c/706227/\n""}, {'number': 4, 'created': '2020-03-06 10:43:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fc5293270337582d86f5df1dcfe8b1ad4ae86bce', 'message': ""Use neutronclient's port binding APIs\n\nTake advantage of the neutronclient bindings for the port binding APIs\nadded in neutronclient 7.1.0 to avoid having to vendor this stuff\nourselves.\n\nChange-Id: Icc284203fb53658abe304f24a62705217f90b22b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2020-03-06 15:33:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cd00d0cc1f827a0292ef5c5c24ae03117d32912c', 'message': ""Use neutronclient's port binding APIs\n\nTake advantage of the neutronclient bindings for the port binding APIs\nadded in neutronclient 7.1.0 to avoid having to vendor this stuff\nourselves.\n\nChange-Id: Icc284203fb53658abe304f24a62705217f90b22b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 6, 'created': '2020-03-26 16:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a04a8ffb60ed905f49ab78db90a5fb0b3ad4afd', 'message': ""Use neutronclient's port binding APIs\n\nTake advantage of the neutronclient bindings for the port binding APIs\nadded in neutronclient 7.1.0 to avoid having to vendor this stuff\nourselves.\n\nChange-Id: Icc284203fb53658abe304f24a62705217f90b22b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 7, 'created': '2020-06-30 13:11:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab6f742592a9151d24853dcbe22d5ffcaec3debc', 'message': ""Use neutronclient's port binding APIs\n\nTake advantage of the neutronclient bindings for the port binding APIs\nadded in neutronclient 7.1.0 to avoid having to vendor this stuff\nourselves.\n\nChange-Id: Icc284203fb53658abe304f24a62705217f90b22b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 8, 'created': '2021-02-09 18:35:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d17558252d926edaa890bb78f2030c211f357b34', 'message': ""Use neutronclient's port binding APIs\n\nTake advantage of the neutronclient bindings for the port binding APIs\nadded in neutronclient 7.1.0 to avoid having to vendor this stuff\nourselves.\n\nChange-Id: Icc284203fb53658abe304f24a62705217f90b22b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 9, 'created': '2021-02-10 11:41:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9c17ab1c8e9c370a6121e192fe4da4c9298c41ca', 'message': ""Use neutronclient's port binding APIs\n\nTake advantage of the neutronclient bindings for the port binding APIs\nadded in neutronclient 7.1.0 to avoid having to vendor this stuff\nourselves.\n\nChange-Id: Icc284203fb53658abe304f24a62705217f90b22b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 10, 'created': '2021-02-10 14:41:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9e0c6efd57c6b409144560def9978a88f514e416', 'message': ""Use neutronclient's port binding APIs\n\nTake advantage of the neutronclient bindings for the port binding APIs\nadded in neutronclient 7.1.0 to avoid having to vendor this stuff\nourselves.\n\nChange-Id: Icc284203fb53658abe304f24a62705217f90b22b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 11, 'created': '2021-02-18 15:12:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0fdb8fe83c1d39dd08ddfafbf81196db953fbdbd', 'message': ""Use neutronclient's port binding APIs\n\nTake advantage of the neutronclient bindings for the port binding APIs\nadded in neutronclient 7.1.0 to avoid having to vendor this stuff\nourselves.\n\nChange-Id: Icc284203fb53658abe304f24a62705217f90b22b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 12, 'created': '2021-06-01 11:08:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/35e0306570cfd66f6768f501431d5c07d8286896', 'message': ""Use neutronclient's port binding APIs\n\nTake advantage of the neutronclient bindings for the port binding APIs\nadded in neutronclient 7.1.0 to avoid having to vendor this stuff\nourselves.\n\nChange-Id: Icc284203fb53658abe304f24a62705217f90b22b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 13, 'created': '2021-07-12 16:24:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9d69e49cc8e0d2ec3725eb770a3997c46e861653', 'message': ""Use neutronclient's port binding APIs\n\nTake advantage of the neutronclient bindings for the port binding APIs\nadded in neutronclient 7.1.0 to avoid having to vendor this stuff\nourselves.\n\nChange-Id: Icc284203fb53658abe304f24a62705217f90b22b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 14, 'created': '2021-07-13 10:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/54a9d159f25380ca34e4988fee3b070c95cd31e7', 'message': ""Use neutronclient's port binding APIs\n\nTake advantage of the neutronclient bindings for the port binding APIs\nadded in neutronclient 7.1.0 to avoid having to vendor this stuff\nourselves.\n\nChange-Id: Icc284203fb53658abe304f24a62705217f90b22b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 15, 'created': '2021-07-14 10:21:20.000000000', 'files': ['nova/tests/unit/network/test_neutron.py', 'nova/exception.py', 'requirements.txt', 'nova/tests/fixtures/neutron.py', 'nova/network/neutron.py', 'lower-constraints.txt', 'nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/982e2ee02d7b1f1a367081d9d660a1d37505ce05', 'message': ""Use neutronclient's port binding APIs\n\nTake advantage of the neutronclient bindings for the port binding APIs\nadded in neutronclient 7.1.0 to avoid having to vendor this stuff\nourselves.\n\nChange-Id: Icc284203fb53658abe304f24a62705217f90b22b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",28,706295,982e2ee02d7b1f1a367081d9d660a1d37505ce05,135,12,15,15334,,,0,"Use neutronclient's port binding APIs

Take advantage of the neutronclient bindings for the port binding APIs
added in neutronclient 7.1.0 to avoid having to vendor this stuff
ourselves.

Change-Id: Icc284203fb53658abe304f24a62705217f90b22b
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/95/706295/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/network/test_neutron.py', 'nova/network/neutron.py', 'nova/tests/fixtures.py']",3,114d9a1c3b661e776ffbea37ce616474bc557620,add-port-bindings-api,,"from keystoneauth1 import adapter as ksa_adap # Stub out port binding APIs which go through a KSA client Adapter # rather than python-neutronclient. self.test.stub_out( 'nova.network.neutron._get_ksa_client', lambda *args, **kwargs: mock.Mock( spec=ksa_adap.Adapter)) self.test.stub_out( 'nova.network.neutron.API._create_port_binding', self.create_port_binding) self.test.stub_out( 'nova.network.neutron.API._delete_port_binding', self.delete_port_binding) self.test.stub_out( 'nova.network.neutron.API._activate_port_binding', self.activate_port_binding) self.test.stub_out( 'nova.network.neutron.API._get_port_binding', self.get_port_binding) ",224,377
openstack%2Fopenstacksdk~feature%2Fr1~I8fabf2352b524ac26116ceb89485fe50c95eca88,openstack/openstacksdk,feature/r1,I8fabf2352b524ac26116ceb89485fe50c95eca88,Switch object_store cloud functions to proxy layer,MERGED,2021-05-10 15:26:38.000000000,2021-07-14 18:16:30.000000000,2021-07-14 18:13:22.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-05-10 15:26:38.000000000', 'files': ['openstack/tests/unit/cloud/test_object.py', 'openstack/cloud/_object_store.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/698ac14a15bd45ab69b762921365c4b744d0bdda', 'message': 'Switch object_store cloud functions to proxy layer\n\nGet rid of direct requests in the cloud layer of the object_store.\n\nChange-Id: I8fabf2352b524ac26116ceb89485fe50c95eca88\n'}]",0,790476,698ac14a15bd45ab69b762921365c4b744d0bdda,8,2,1,27900,,,0,"Switch object_store cloud functions to proxy layer

Get rid of direct requests in the cloud layer of the object_store.

Change-Id: I8fabf2352b524ac26116ceb89485fe50c95eca88
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/76/790476/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/cloud/test_object.py', 'openstack/cloud/_object_store.py']",2,698ac14a15bd45ab69b762921365c4b744d0bdda,sdk_cloud," return list(self.object_store.containers(prefix=prefix)) container = self.object_store.get_container_metadata(name) self._container_cache[name] = container except exceptions.HttpException as ex: if ex.response.status_code == 404: attrs = dict( name=name ) if public: attrs['read_ACL'] = OBJECT_CONTAINER_ACLS['public'] container = self.object_store.create_container(**attrs) self.object_store.delete_container(name, ignore_missing=False) except exceptions.NotFoundException: return False except exceptions.ConflictException: raise exc.OpenStackCloudException( 'Attempt to delete container {container} failed. The' ' container is not empty. Please delete the objects' ' inside it before deleting the container'.format( container=name)) # TODO(gtema): Decide on whether to deprecate this or change i/f to the # container metadata names def set_container_access(self, name, access, refresh=False): :param refresh: Flag to trigger refresh of the container properties return self.object_store.set_container_metadata( name, read_ACL=OBJECT_CONTAINER_ACLS[access], refresh=refresh ) acl = container.read_ACL return list(self.object_store.objects( container=container, prefix=prefix )) except exceptions.NotFoundException: return None"," params = dict(format='json', prefix=prefix) response = self.object_store.get('/', params=params) return self._get_and_munchify(None, proxy._json_response(response)) response = self.object_store.head( self._get_object_endpoint(name) ) exceptions.raise_from_response(response) self._container_cache[name] = response.headers except exc.OpenStackCloudHTTPError as e: if e.response.status_code == 404: exceptions.raise_from_response(self.object_store.put( self._get_object_endpoint(name) )) if public: self.set_container_access(name, 'public') exceptions.raise_from_response(self.object_store.delete( self._get_object_endpoint(name) )) except exc.OpenStackCloudHTTPError as e: if e.response.status_code == 404: return False if e.response.status_code == 409: raise exc.OpenStackCloudException( 'Attempt to delete container {container} failed. The' ' container is not empty. Please delete the objects' ' inside it before deleting the container'.format( container=name)) raise def set_container_access(self, name, access): header = {'x-container-read': OBJECT_CONTAINER_ACLS[access]} self.update_container(name, header) acl = container.get('x-container-read', '') params = dict(format='json', prefix=prefix) data = self._object_store_client.get(container, params=params) return self._get_and_munchify(None, data) except exc.OpenStackCloudException as e: if e.response.status_code == 404: return None raise",60,50
openstack%2Fopenstack-helm-infra~master~I26f7fa79c5c851070e94af758d0a0438aa7efa52,openstack/openstack-helm-infra,master,I26f7fa79c5c851070e94af758d0a0438aa7efa52,[ceph-rgw] Fix a bug in placement target deletion for new targets,MERGED,2021-06-22 13:02:47.000000000,2021-07-14 18:14:58.000000000,2021-06-22 18:43:26.000000000,"[{'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 28372}, {'_account_id': 32190}, {'_account_id': 33135}]","[{'number': 1, 'created': '2021-06-22 13:02:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3499b5342bfb1bda5a200c9f7f05a1418b32a770', 'message': '[ceph-rgw] Fix a bug in placement target deletion for new targets\n\nA deployment that specifies a placement target with ""delete: true""\nshould delete that placement target if it exists. For a clean\ndeployment the expectation is that the placement target should be\ncreated and immediately deleted; however, the check for existence\nhappens before its creation and the delete doesn\'t execute as a\nresult. This change adds a recheck for existence immediately after\ncreation to remedy that.\n\nChange-Id: I26f7fa79c5c851070e94af758d0a0438aa7efa52\n'}, {'number': 2, 'created': '2021-06-22 13:11:33.000000000', 'files': ['ceph-rgw/templates/bin/_create-rgw-placement-targets.sh.tpl', 'ceph-rgw/Chart.yaml', 'releasenotes/notes/ceph-rgw.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/62f5cab7707d128eb90cbe0a5651cac6b85ce0b8', 'message': '[ceph-rgw] Fix a bug in placement target deletion for new targets\n\nA deployment that specifies a placement target with ""delete: true""\nshould delete that placement target if it exists. For a clean\ndeployment the expectation is that the placement target should be\ncreated and immediately deleted; however, the check for existence\nhappens before its creation and the delete doesn\'t execute as a\nresult. This change adds a recheck for existence immediately after\ncreation to remedy that.\n\nChange-Id: I26f7fa79c5c851070e94af758d0a0438aa7efa52\n'}]",3,797444,62f5cab7707d128eb90cbe0a5651cac6b85ce0b8,14,6,2,29974,,,0,"[ceph-rgw] Fix a bug in placement target deletion for new targets

A deployment that specifies a placement target with ""delete: true""
should delete that placement target if it exists. For a clean
deployment the expectation is that the placement target should be
created and immediately deleted; however, the check for existence
happens before its creation and the delete doesn't execute as a
result. This change adds a recheck for existence immediately after
creation to remedy that.

Change-Id: I26f7fa79c5c851070e94af758d0a0438aa7efa52
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/44/797444/2 && git format-patch -1 --stdout FETCH_HEAD,['ceph-rgw/templates/bin/_create-rgw-placement-targets.sh.tpl'],1,3499b5342bfb1bda5a200c9f7f05a1418b32a770,," RGW_PLACEMENT_TARGET_EXISTS=$(radosgw-admin zonegroup placement get --placement-id ""$RGW_PLACEMENT_TARGET"" 2>/dev/null || true)",,1,0
openstack%2Fopenstacksdk~feature%2Fr1~I129811b694baef4fde96af8c068dec01f50a4768,openstack/openstacksdk,feature/r1,I129811b694baef4fde96af8c068dec01f50a4768,Add BS snapshot and backup actions,MERGED,2021-05-17 11:43:58.000000000,2021-07-14 18:14:56.000000000,2021-07-14 18:12:51.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-05-17 11:43:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/81d50769397472e3d5ae5e311aeeefcfe566ab2b', 'message': 'Add BS snapshot and backup actions\n\nAdd snapshot and backup acitons required to switch cloud layer to proxy.\nDoing that fix wrong docstrings in the proxy leading to some other\nformatting changes.\n\nChange-Id: I129811b694baef4fde96af8c068dec01f50a4768\n'}, {'number': 2, 'created': '2021-05-17 12:48:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/13c01a4bc92022e1b30ea85965e69edb0ca11861', 'message': 'Add BS snapshot and backup actions\n\nAdd snapshot and backup acitons required to switch cloud layer to proxy.\nDoing that fix wrong docstrings in the proxy leading to some other\nformatting changes. Also drop old style of SnapshotDetails class.\n\nChange-Id: I129811b694baef4fde96af8c068dec01f50a4768\n'}, {'number': 3, 'created': '2021-06-02 10:47:14.000000000', 'files': ['openstack/tests/unit/block_storage/v2/test_snapshot.py', 'openstack/block_storage/v2/snapshot.py', 'openstack/block_storage/v3/_proxy.py', 'openstack/block_storage/v2/_proxy.py', 'openstack/block_storage/v3/snapshot.py', 'openstack/tests/unit/block_storage/v2/test_backup.py', 'openstack/tests/unit/block_storage/v2/test_proxy.py', 'openstack/tests/unit/block_storage/v3/test_snapshot.py', 'openstack/tests/unit/block_storage/v3/test_proxy.py', 'openstack/block_storage/v2/backup.py', 'openstack/block_storage/v3/backup.py', 'openstack/tests/unit/block_storage/v3/test_backup.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/734ae40f2871e52e16e9e8f59e3170bdd94380f1', 'message': 'Add BS snapshot and backup actions\n\nAdd snapshot and backup acitons required to switch cloud layer to proxy.\nDoing that fix wrong docstrings in the proxy leading to some other\nformatting changes. Also drop old style of SnapshotDetails class.\n\nChange-Id: I129811b694baef4fde96af8c068dec01f50a4768\n'}]",0,791735,734ae40f2871e52e16e9e8f59e3170bdd94380f1,13,2,3,27900,,,0,"Add BS snapshot and backup actions

Add snapshot and backup acitons required to switch cloud layer to proxy.
Doing that fix wrong docstrings in the proxy leading to some other
formatting changes. Also drop old style of SnapshotDetails class.

Change-Id: I129811b694baef4fde96af8c068dec01f50a4768
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/35/791735/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/block_storage/v2/test_snapshot.py', 'openstack/block_storage/v2/snapshot.py', 'openstack/block_storage/v3/_proxy.py', 'openstack/block_storage/v2/_proxy.py', 'openstack/block_storage/v3/snapshot.py', 'openstack/tests/unit/block_storage/v2/test_backup.py', 'openstack/tests/unit/block_storage/v2/test_proxy.py', 'openstack/tests/unit/block_storage/v3/test_snapshot.py', 'openstack/tests/unit/block_storage/v3/test_proxy.py', 'openstack/block_storage/v2/backup.py', 'openstack/block_storage/v3/backup.py', 'openstack/tests/unit/block_storage/v3/test_backup.py']",12,81d50769397472e3d5ae5e311aeeefcfe566ab2b,sdk_cloud_bs," def test_force_delete(self): sot = backup.Backup(**BACKUP) self.assertIsNone(sot.force_delete(self.sess)) url = 'backups/%s/action' % FAKE_ID body = {'os-force_delete': {}} self.sess.post.assert_called_with( url, json=body, microversion=sot._max_microversion) def test_reset(self): sot = backup.Backup(**BACKUP) self.assertIsNone(sot.reset(self.sess, 'new_status')) url = 'backups/%s/action' % FAKE_ID body = {'os-reset_status': {'status': 'new_status'}} self.sess.post.assert_called_with( url, json=body, microversion=sot._max_microversion)",,637,310
openstack%2Fopenstacksdk~feature%2Fr1~I198eed8454fd8ae2ce8fbd70e3562c9f15db7445,openstack/openstacksdk,feature/r1,I198eed8454fd8ae2ce8fbd70e3562c9f15db7445,Drop cloud layer methods for Senlin,MERGED,2021-05-20 08:27:57.000000000,2021-07-14 18:13:16.000000000,2021-07-14 18:13:16.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-05-20 08:27:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8d8dc8a915c255bf419e1c0dacff751a1c0031a5', 'message': 'Drop cloud layer methods for Senlin\n\nRework of the cloud layer showed this was not working properly and tests\neven verifying wrong things. Due to the big amount of effort required to\nfix things and most likely nobody using it (this code is not really\nusable now) drop it (comment-out). python-senlinclient is using direclty\nproxy layer (correct), Ansible modules for senlin not existing - no\ndirect negative impact is visible.\nIf anybody is interested in getting it back - the code is there and can\nbe uncommented and fixed.\n\nChange-Id: I198eed8454fd8ae2ce8fbd70e3562c9f15db7445\n'}, {'number': 2, 'created': '2021-05-26 07:56:51.000000000', 'files': ['openstack/cloud/_clustering.py', 'openstack/tests/unit/cloud/test_clustering.py', 'releasenotes/notes/drop-senlin-cloud-layer-c06d496acc70b014.yaml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c6177a472b2b7ce2a63e50634833eceb9b8fd237', 'message': 'Drop cloud layer methods for Senlin\n\nRework of the cloud layer showed this was not working properly and tests\neven verifying wrong things. Due to the big amount of effort required to\nfix things and most likely nobody using it (this code is not really\nusable now) drop it (comment-out). python-senlinclient is using direclty\nproxy layer (correct), Ansible modules for senlin not existing - no\ndirect negative impact is visible.\nIf anybody is interested in getting it back - the code is there and can\nbe uncommented and fixed.\n\nChange-Id: I198eed8454fd8ae2ce8fbd70e3562c9f15db7445\n'}]",0,792327,c6177a472b2b7ce2a63e50634833eceb9b8fd237,11,2,2,27900,,,0,"Drop cloud layer methods for Senlin

Rework of the cloud layer showed this was not working properly and tests
even verifying wrong things. Due to the big amount of effort required to
fix things and most likely nobody using it (this code is not really
usable now) drop it (comment-out). python-senlinclient is using direclty
proxy layer (correct), Ansible modules for senlin not existing - no
direct negative impact is visible.
If anybody is interested in getting it back - the code is there and can
be uncommented and fixed.

Change-Id: I198eed8454fd8ae2ce8fbd70e3562c9f15db7445
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/27/792327/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/cloud/_clustering.py', 'openstack/tests/unit/cloud/test_clustering.py', 'releasenotes/notes/drop-senlin-cloud-layer-c06d496acc70b014.yaml']",3,8d8dc8a915c255bf419e1c0dacff751a1c0031a5,sdk_cloud,--- upgrade: - | Cloud layer operations for Senlin service are dropped due to big amount of bugs there. ,,1106,1153
openstack%2Fopenstacksdk~feature%2Fr1~Ifaf3a41357e63d482d0f53c87ce3c1293eb6800c,openstack/openstacksdk,feature/r1,Ifaf3a41357e63d482d0f53c87ce3c1293eb6800c,Switch BS volume_attachment operations in cloud layer,MERGED,2021-05-17 14:09:16.000000000,2021-07-14 18:13:13.000000000,2021-07-14 18:13:13.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-05-17 14:09:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f5d3c1f9abe555b161f41e24aafe7d49242be5f9', 'message': 'Switch BS volume_attachment operations in cloud layer\n\nvolume_attachment operations of the block storage cloud layer are now\nalso using proxy layer (compute).\n\nChange-Id: Ifaf3a41357e63d482d0f53c87ce3c1293eb6800c\n'}, {'number': 2, 'created': '2021-06-02 10:49:12.000000000', 'files': ['openstack/tests/unit/cloud/test_volume.py', 'openstack/cloud/_block_storage.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f5c9653a612cb6ec1e6e6675b693bc5a978d3ba3', 'message': 'Switch BS volume_attachment operations in cloud layer\n\nvolume_attachment operations of the block storage cloud layer are now\nalso using proxy layer (compute).\n\nChange-Id: Ifaf3a41357e63d482d0f53c87ce3c1293eb6800c\n'}]",0,791760,f5c9653a612cb6ec1e6e6675b693bc5a978d3ba3,11,2,2,27900,,,0,"Switch BS volume_attachment operations in cloud layer

volume_attachment operations of the block storage cloud layer are now
also using proxy layer (compute).

Change-Id: Ifaf3a41357e63d482d0f53c87ce3c1293eb6800c
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/60/791760/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/cloud/test_volume.py', 'openstack/cloud/_block_storage.py']",2,f5d3c1f9abe555b161f41e24aafe7d49242be5f9,sdk_cloud_bs," self.compute.delete_volume_attachment( volume['id'], server['id'], ignore_missing=False) vol = self.get_volume(volume['id']) self.block_storage.wait_for_status(vol) attachment = self.compute.create_volume_attachment( server=server['id'], **payload) if not hasattr(volume, 'fetch'): # If we got volume as dict we need to re-fetch it to be able to # use wait_for_status. volume = self.block_storage.get_volume(volume['id']) self.block_storage.wait_for_status( volume, 'in-use', wait=timeout) return attachment","from openstack import utils proxy._json_response(self.compute.delete( '/servers/{server_id}/os-volume_attachments/{volume_id}'.format( server_id=server['id'], volume_id=volume['id'])), error_message=( ""Error detaching volume {volume} from server {server}"".format( volume=volume['id'], server=server['id']))) for count in utils.iterate_timeout( timeout, ""Timeout waiting for volume %s to detach."" % volume['id']): try: vol = self.get_volume(volume['id']) except Exception: self.log.debug( ""Error getting volume info %s"", volume['id'], exc_info=True) continue if vol['status'] == 'available': return if vol['status'] == 'error': raise exc.OpenStackCloudException( ""Error in detaching volume %s"" % volume['id'] ) data = proxy._json_response( self.compute.post( '/servers/{server_id}/os-volume_attachments'.format( server_id=server['id']), json=dict(volumeAttachment=payload)), error_message=""Error attaching volume {volume_id} to server "" ""{server_id}"".format(volume_id=volume['id'], server_id=server['id'])) for count in utils.iterate_timeout( timeout, ""Timeout waiting for volume %s to attach."" % volume['id']): try: self.list_volumes.invalidate(self) vol = self.get_volume(volume['id']) except Exception: self.log.debug( ""Error getting volume info %s"", volume['id'], exc_info=True) continue if self.get_volume_attach_device(vol, server['id']): break # TODO(Shrews) check to see if a volume can be in error status # and also attached. If so, we should move this # above the get_volume_attach_device call if vol['status'] == 'error': raise exc.OpenStackCloudException( ""Error in attaching volume %s"" % volume['id'] ) return self._normalize_volume_attachment( self._get_and_munchify('volumeAttachment', data))",55,78
openstack%2Fopenstacksdk~feature%2Fr1~Ie1cbf6eda956ddf77039355cc0a3ff3ded0a3fd5,openstack/openstacksdk,feature/r1,Ie1cbf6eda956ddf77039355cc0a3ff3ded0a3fd5,Switch BS backup and snapshot methods in cloud layer to proxy,MERGED,2021-05-17 12:48:17.000000000,2021-07-14 18:12:55.000000000,2021-07-14 18:12:55.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-05-17 12:48:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b001b3f620b677229046f65e14ccda91344c4470', 'message': 'Switch BS backup and snapshot methods in cloud layer to proxy\n\nNow backup and snapshot methods in the cloud layer of the block storage\nare relying on the proxy layer.\n\nChange-Id: Ie1cbf6eda956ddf77039355cc0a3ff3ded0a3fd5\n'}, {'number': 2, 'created': '2021-06-02 10:48:32.000000000', 'files': ['openstack/tests/unit/cloud/test_volume_backups.py', 'openstack/tests/unit/cloud/test_create_volume_snapshot.py', 'openstack/tests/unit/cloud/test_delete_volume_snapshot.py', 'openstack/cloud/_block_storage.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/485b53bdf632f8fd47efe5cfe5e2495c9c5ea859', 'message': 'Switch BS backup and snapshot methods in cloud layer to proxy\n\nNow backup and snapshot methods in the cloud layer of the block storage\nare relying on the proxy layer.\n\nChange-Id: Ie1cbf6eda956ddf77039355cc0a3ff3ded0a3fd5\n'}]",0,791747,485b53bdf632f8fd47efe5cfe5e2495c9c5ea859,11,2,2,27900,,,0,"Switch BS backup and snapshot methods in cloud layer to proxy

Now backup and snapshot methods in the cloud layer of the block storage
are relying on the proxy layer.

Change-Id: Ie1cbf6eda956ddf77039355cc0a3ff3ded0a3fd5
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/47/791747/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/cloud/test_volume_backups.py', 'openstack/tests/unit/cloud/test_create_volume_snapshot.py', 'openstack/tests/unit/cloud/test_delete_volume_snapshot.py', 'openstack/cloud/_block_storage.py']",4,b001b3f620b677229046f65e14ccda91344c4470,sdk_cloud_bs," payload = {'volume_id': volume_id} snapshot = self.block_storage.create_snapshot(**payload) if wait: snapshot = self.block_storage.wait_for_status( snapshot, wait=timeout) return self.block_storage.get_snapshot(snapshot_id) 'is_incremental': incremental, backup = self.block_storage.create_backup(**payload) backup = self.block_storage.wait_for_status(backup, wait=timeout) if not search_opts: search_opts = {} return list(self.block_storage.snapshots( details=detailed, **search_opts)) if not search_opts: search_opts = {} return list(self.block_storage.backups(details=detailed, **search_opts)) self.block_storage.delete_backup( volume_backup, ignore_missing=False, force=force) if wait: self.block_storage.wait_for_delete(volume_backup, wait=timeout) self.block_storage.delete_snapshot( volumesnapshot, ignore_missing=False) self.block_storage.wait_for_delete(volumesnapshot, wait=timeout)"," payload = {'volume_id': volume_id, 'force': force} resp = self.block_storage.post( '/snapshots', json=dict(snapshot=payload)) data = proxy._json_response( resp, error_message=""Error creating snapshot of volume "" ""{volume_id}"".format(volume_id=volume_id)) snapshot = self._get_and_munchify('snapshot', data) if wait: snapshot_id = snapshot['id'] for count in utils.iterate_timeout( timeout, ""Timeout waiting for the volume snapshot to be available."" ): snapshot = self.get_volume_snapshot_by_id(snapshot_id) if snapshot['status'] == 'available': break if snapshot['status'] == 'error': raise exc.OpenStackCloudException( ""Error in creating volume snapshot"") # TODO(mordred) need to normalize snapshots. We were normalizing them # as volumes, which is an error. They need to be normalized as # volume snapshots, which are completely different objects resp = self.block_storage.get( '/snapshots/{snapshot_id}'.format(snapshot_id=snapshot_id)) data = proxy._json_response( resp, error_message=""Error getting snapshot "" ""{snapshot_id}"".format(snapshot_id=snapshot_id)) return self._normalize_volume( self._get_and_munchify('snapshot', data)) 'incremental': incremental, resp = self.block_storage.post( '/backups', json=dict(backup=payload)) data = proxy._json_response( resp, error_message=""Error creating backup of volume "" ""{volume_id}"".format(volume_id=volume_id)) backup = self._get_and_munchify('backup', data) backup_id = backup['id'] msg = (""Timeout waiting for the volume backup {} to be "" ""available"".format(backup_id)) for _ in utils.iterate_timeout(timeout, msg): backup = self.get_volume_backup(backup_id) if backup['status'] == 'available': break if backup['status'] == 'error': raise exc.OpenStackCloudException( ""Error in creating volume backup {id}"".format( id=backup_id)) endpoint = '/snapshots/detail' if detailed else '/snapshots' resp = self.block_storage.get( endpoint, params=search_opts) data = proxy._json_response( resp, error_message=""Error getting a list of snapshots"") return self._get_and_munchify('snapshots', data) endpoint = '/backups/detail' if detailed else '/backups' resp = self.block_storage.get( endpoint, params=search_opts) data = proxy._json_response( resp, error_message=""Error getting a list of backups"") return self._get_and_munchify('backups', data) msg = ""Error in deleting volume backup"" if force: resp = self.block_storage.post( '/backups/{backup_id}/action'.format( backup_id=volume_backup['id']), json={'os-force_delete': None}) else: resp = self.block_storage.delete( '/backups/{backup_id}'.format( backup_id=volume_backup['id'])) proxy._json_response(resp, error_message=msg) if wait: msg = ""Timeout waiting for the volume backup to be deleted."" for count in utils.iterate_timeout(timeout, msg): if not self.get_volume_backup(volume_backup['id']): break resp = self.block_storage.delete( '/snapshots/{snapshot_id}'.format( snapshot_id=volumesnapshot['id'])) proxy._json_response( resp, error_message=""Error in deleting volume snapshot"") for count in utils.iterate_timeout( timeout, ""Timeout waiting for the volume snapshot to be deleted.""): if not self.get_volume_snapshot(volumesnapshot['id']): break",64,142
openstack%2Fopenstacksdk~feature%2Fr1~I403a3fffc7bd5a6050eef586873c2cded89bb164,openstack/openstacksdk,feature/r1,I403a3fffc7bd5a6050eef586873c2cded89bb164,Switch BS type access operations in cloud layer,MERGED,2021-05-14 17:07:42.000000000,2021-07-14 18:06:13.000000000,2021-07-14 18:04:01.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-05-14 17:07:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a5b400c045700d41eb827ce50eb47120952634cf', 'message': 'Switch BS type access operations in cloud layer\n\nSwitch type access operations of the cloud layer to the proxy.\n\nChange-Id: I403a3fffc7bd5a6050eef586873c2cded89bb164\n'}, {'number': 2, 'created': '2021-05-17 09:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/0db5b390b80eef159dcecc2340f641abe789c1dd', 'message': 'Switch BS type access operations in cloud layer\n\nSwitch type access operations of the cloud layer to the proxy.\n\nChange-Id: I403a3fffc7bd5a6050eef586873c2cded89bb164\n'}, {'number': 3, 'created': '2021-06-02 10:43:52.000000000', 'files': ['openstack/tests/unit/cloud/test_volume_access.py', 'openstack/cloud/_block_storage.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/118cf73533676c9bc20d4ec42d036a5125e819af', 'message': 'Switch BS type access operations in cloud layer\n\nSwitch type access operations of the cloud layer to the proxy.\n\nChange-Id: I403a3fffc7bd5a6050eef586873c2cded89bb164\n'}]",0,791517,118cf73533676c9bc20d4ec42d036a5125e819af,14,2,3,27900,,,0,"Switch BS type access operations in cloud layer

Switch type access operations of the cloud layer to the proxy.

Change-Id: I403a3fffc7bd5a6050eef586873c2cded89bb164
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/17/791517/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/cloud/test_volume_access.py', 'openstack/cloud/_block_storage.py']",2,a5b400c045700d41eb827ce50eb47120952634cf,sdk_cloud_bs," return list(self.block_storage.types()) self.block_storage.get_type_access(volume_type)) self.block_storage.add_type_access(volume_type, project_id) self.block_storage.remove_type_access(volume_type, project_id)"," resp = self.block_storage.get( '/types', params=dict(is_public='None')) data = proxy._json_response( resp, error_message='Error fetching volume_type list') return self._normalize_volume_types( self._get_and_munchify('volume_types', data)) resp = self.block_storage.get( '/types/{id}/os-volume-type-access'.format(id=volume_type.id)) data = proxy._json_response( resp, error_message=""Unable to get volume type access"" "" {name}"".format(name=name_or_id)) self._get_and_munchify('volume_type_access', data)) payload = {'project': project_id} resp = self.block_storage.post( '/types/{id}/action'.format(id=volume_type.id), json=dict(addProjectAccess=payload)) proxy._json_response( resp, error_message=""Unable to authorize {project} "" ""to use volume type {name}"".format( name=name_or_id, project=project_id)) payload = {'project': project_id} resp = self.block_storage.post( '/types/{id}/action'.format(id=volume_type.id), json=dict(removeProjectAccess=payload)) proxy._json_response( resp, error_message=""Unable to revoke {project} "" ""to use volume type {name}"".format( name=name_or_id, project=project_id))",14,50
openstack%2Fopenstacksdk~feature%2Fr1~Id91bcb1ff39b7e5c857269de38c4a756150db72d,openstack/openstacksdk,feature/r1,Id91bcb1ff39b7e5c857269de38c4a756150db72d,Add BS type access into proxy/resource layer,MERGED,2021-05-14 17:07:42.000000000,2021-07-14 18:05:12.000000000,2021-07-14 18:03:57.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-05-14 17:07:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d20eb5b4f5ab91bacf129076a83e284b624c9ffd', 'message': 'Add BS type access into proxy/resource layer\n\nAdd block storage type access methods into the proxy and resource layer\nof v2 and v3.\n\nChange-Id: Id91bcb1ff39b7e5c857269de38c4a756150db72d\n'}, {'number': 2, 'created': '2021-05-17 09:28:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3c070bd654623fff66ea741c22e7be62effaab8e', 'message': 'Add BS type access into proxy/resource layer\n\nAdd block storage type access methods into the proxy and resource layer\nof v2 and v3.\n\nChange-Id: Id91bcb1ff39b7e5c857269de38c4a756150db72d\n'}, {'number': 3, 'created': '2021-06-02 10:41:42.000000000', 'files': ['openstack/tests/unit/block_storage/v2/test_proxy.py', 'openstack/block_storage/v2/type.py', 'openstack/block_storage/v3/type.py', 'openstack/tests/unit/block_storage/v3/test_proxy.py', 'openstack/block_storage/v3/_proxy.py', 'openstack/block_storage/v2/_proxy.py', 'openstack/tests/unit/block_storage/v3/test_type.py', 'openstack/tests/unit/block_storage/v2/test_type.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8579b09535148b37121d5ce8388b33e1075be448', 'message': 'Add BS type access into proxy/resource layer\n\nAdd block storage type access methods into the proxy and resource layer\nof v2 and v3.\n\nChange-Id: Id91bcb1ff39b7e5c857269de38c4a756150db72d\n'}]",0,791516,8579b09535148b37121d5ce8388b33e1075be448,14,2,3,27900,,,0,"Add BS type access into proxy/resource layer

Add block storage type access methods into the proxy and resource layer
of v2 and v3.

Change-Id: Id91bcb1ff39b7e5c857269de38c4a756150db72d
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/16/791516/3 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/block_storage/v2/test_proxy.py', 'openstack/block_storage/v2/type.py', 'openstack/block_storage/v3/type.py', 'openstack/tests/unit/block_storage/v3/test_proxy.py', 'openstack/block_storage/v3/_proxy.py', 'openstack/block_storage/v2/_proxy.py', 'openstack/tests/unit/block_storage/v3/test_type.py', 'openstack/tests/unit/block_storage/v2/test_type.py']",8,d20eb5b4f5ab91bacf129076a83e284b624c9ffd,sdk_cloud_bs,"from unittest import mock from keystoneauth1 import adapter def setUp(self): super(TestType, self).setUp() self.extra_specs_result = {""extra_specs"": {""go"": ""cubs"", ""boo"": ""sox""}} self.resp = mock.Mock() self.resp.body = None self.resp.status_code = 200 self.resp.json = mock.Mock(return_value=self.resp.body) self.sess = mock.Mock(spec=adapter.Adapter) self.sess.default_microversion = '3.0' self.sess.post = mock.Mock(return_value=self.resp) self.sess._get_connection = mock.Mock(return_value=self.cloud) def test_get_private_access(self): sot = type.Type(**TYPE) response = mock.Mock() response.status_code = 200 response.body = {""volume_type_access"": [ {""project_id"": ""a"", ""volume_type_id"": ""b""} ]} response.json = mock.Mock(return_value=response.body) self.sess.get = mock.Mock(return_value=response) self.assertEqual(response.body[""volume_type_access""], sot.get_private_access(self.sess)) self.sess.get.assert_called_with( ""types/%s/os-volume-type-access"" % sot.id) def test_add_private_access(self): sot = type.Type(**TYPE) self.assertIsNone(sot.add_private_access(self.sess, ""a"")) url = ""types/%s/action"" % sot.id body = {""addProjectAccess"": {""project"": ""a""}} self.sess.post.assert_called_with( url, json=body) def test_remove_private_access(self): sot = type.Type(**TYPE) self.assertIsNone(sot.remove_private_access(self.sess, ""a"")) url = ""types/%s/action"" % sot.id body = {""removeProjectAccess"": {""project"": ""a""}} self.sess.post.assert_called_with( url, json=body)",,361,86
openstack%2Fopenstacksdk~feature%2Fr1~Ia192071667d9c55c96d23b90fd3c8a4ea322256c,openstack/openstacksdk,feature/r1,Ia192071667d9c55c96d23b90fd3c8a4ea322256c,Switch block_storage.volume operations in cloud layer,MERGED,2021-05-14 15:36:13.000000000,2021-07-14 18:03:11.000000000,2021-07-14 18:00:50.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-05-14 15:36:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5688ef4f28eb19c31bb6e7a6a0de7cfbd0b9aac2', 'message': 'Switch block_storage.volume operations in cloud layer\n\nSwitch volume operations in the cloud layer to use proxy layer.\n\nChange-Id: Ia192071667d9c55c96d23b90fd3c8a4ea322256c\n'}, {'number': 2, 'created': '2021-05-17 09:22:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/163b075511d956d5db020d6a0a6b69e6df7a48e4', 'message': 'Switch block_storage.volume operations in cloud layer\n\nSwitch volume operations in the cloud layer to use proxy layer.\n\nChange-Id: Ia192071667d9c55c96d23b90fd3c8a4ea322256c\n'}, {'number': 3, 'created': '2021-06-02 09:48:48.000000000', 'files': ['openstack/tests/unit/cloud/test_caching.py', 'openstack/tests/unit/cloud/test_volume.py', 'openstack/cloud/_block_storage.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d235b1417b99bd6f34276996795f70d47042173d', 'message': 'Switch block_storage.volume operations in cloud layer\n\nSwitch volume operations in the cloud layer to use proxy layer.\n\nChange-Id: Ia192071667d9c55c96d23b90fd3c8a4ea322256c\n'}]",0,791510,d235b1417b99bd6f34276996795f70d47042173d,14,2,3,27900,,,0,"Switch block_storage.volume operations in cloud layer

Switch volume operations in the cloud layer to use proxy layer.

Change-Id: Ia192071667d9c55c96d23b90fd3c8a4ea322256c
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/10/791510/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/cloud/test_volume.py', 'openstack/cloud/_block_storage.py']",2,5688ef4f28eb19c31bb6e7a6a0de7cfbd0b9aac2,sdk_cloud_bs,"from openstack import exceptions return list(self.block_storage.volumes()) return self.block_storage.get_volume(id) volume = self.block_storage.create_volume(**kwargs) self.block_storage.wait_for_status(volume, wait=timeout) if bootable: self.block_storage.set_volume_bootable_status(volume, True) return volume volume = self.block_storage.update_volume( volume, **kwargs) return volume return self.block_storage.set_volume_bootable_status(volume, bootable) volume = self.block_storage.find_volume(name_or_id) try: self.block_storage.delete_volume(volume, force=force) except exceptions.SDKException: self.log.exception(""error in deleting volume"") raise self.block_storage.wait_for_delete(volume, wait=timeout)","import warnings def _list(data): volumes.extend(data.get('volumes', [])) endpoint = None for link in data.get('volumes_links', []): if 'rel' in link and 'next' == link['rel']: endpoint = link['href'] break if endpoint: try: _list(proxy._json_response( self.block_storage.get(endpoint))) except exc.OpenStackCloudURINotFound: # Catch and re-raise here because we are making recursive # calls and we just have context for the log here self.log.debug( ""While listing volumes, could not find next link"" "" {link}."".format(link=data)) raise if not cache: warnings.warn('cache argument to list_volumes is deprecated. Use ' 'invalidate instead.') # Fetching paginated volumes can fails for several reasons, if # something goes wrong we'll have to start fetching volumes from # scratch attempts = 5 for _ in range(attempts): volumes = [] data = proxy._json_response( self.block_storage.get('/volumes/detail')) if 'volumes_links' not in data: # no pagination needed volumes.extend(data.get('volumes', [])) break try: _list(data) break except exc.OpenStackCloudURINotFound: pass else: self.log.debug( ""List volumes failed to retrieve all volumes after"" "" {attempts} attempts. Returning what we found."".format( attempts=attempts)) # list volumes didn't complete succesfully so just return what # we found return self._normalize_volumes( self._get_and_munchify(key=None, data=volumes)) resp = self.block_storage.get('/volumes/{id}'.format(id=id)) data = proxy._json_response( resp, error_message=""Error getting volume with ID {id}"".format(id=id) ) volume = self._normalize_volume( self._get_and_munchify('volume', data)) return volume payload = dict(volume=kwargs) if 'scheduler_hints' in kwargs: payload['OS-SCH-HNT:scheduler_hints'] = kwargs.pop( 'scheduler_hints', None) resp = self.block_storage.post( '/volumes', json=dict(payload)) data = proxy._json_response( resp, error_message='Error in creating volume') volume = self._get_and_munchify('volume', data) vol_id = volume['id'] for count in utils.iterate_timeout( timeout, ""Timeout waiting for the volume to be available.""): volume = self.get_volume(vol_id) if not volume: continue if volume['status'] == 'available': if bootable is not None: self.set_volume_bootable(volume, bootable=bootable) # no need to re-fetch to update the flag, just set it. volume['bootable'] = bootable return volume if volume['status'] == 'error': raise exc.OpenStackCloudException(""Error creating volume"") return self._normalize_volume(volume) resp = self.block_storage.put( '/volumes/{volume_id}'.format(volume_id=volume.id), json=dict({'volume': kwargs})) data = proxy._json_response( resp, error_message='Error updating volume') return self._normalize_volume(self._get_and_munchify('volume', data)) resp = self.block_storage.post( 'volumes/{id}/action'.format(id=volume['id']), json={'os-set_bootable': {'bootable': bootable}}) proxy._json_response( resp, error_message=""Error setting bootable on volume {volume}"".format( volume=volume['id']) ) volume = self.get_volume(name_or_id) with _utils.shade_exceptions(""Error in deleting volume""): try: if force: proxy._json_response(self.block_storage.post( 'volumes/{id}/action'.format(id=volume['id']), json={'os-force_delete': None})) else: proxy._json_response(self.block_storage.delete( 'volumes/{id}'.format(id=volume['id']))) except exc.OpenStackCloudURINotFound: self.log.debug( ""Volume {id} not found when deleting. Ignoring."".format( id=volume['id'])) return False for count in utils.iterate_timeout( timeout, ""Timeout waiting for the volume to be deleted.""): if not self.get_volume(volume['id']): break",45,287
openstack%2Fopenstacksdk~feature%2Fr1~Iee4c137ea703d7adec4f8f1e7a3585a1d01e6d19,openstack/openstacksdk,feature/r1,Iee4c137ea703d7adec4f8f1e7a3585a1d01e6d19,Add block_storage.volume actions,MERGED,2021-05-14 14:38:55.000000000,2021-07-14 17:57:24.000000000,2021-07-14 17:55:51.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-05-14 14:38:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8ed7a4801ebfafac028796346c0a0a4706cc82ef', 'message': 'Add block_storage.volume actions\n\nBefore we can switch BS cloud layer need to add missing volume actions.\nDo this for both v2 and v3 (v2 differs slightly).\n\nChange-Id: Iee4c137ea703d7adec4f8f1e7a3585a1d01e6d19\n'}, {'number': 2, 'created': '2021-05-14 14:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5c27458588f6c7094a0ed27ab35e544caa050d21', 'message': 'Add block_storage.volume actions\n\nBefore we can switch BS cloud layer need to add missing volume actions.\nDo this for both v2 and v3 (v2 differs slightly).\n\nChange-Id: Iee4c137ea703d7adec4f8f1e7a3585a1d01e6d19\n'}, {'number': 3, 'created': '2021-06-02 09:47:00.000000000', 'files': ['openstack/tests/unit/block_storage/v2/test_proxy.py', 'openstack/block_storage/v3/volume.py', 'openstack/tests/unit/block_storage/v2/test_volume.py', 'openstack/tests/unit/block_storage/v3/test_volume.py', 'openstack/tests/unit/block_storage/v3/test_proxy.py', 'openstack/block_storage/v3/_proxy.py', 'openstack/block_storage/v2/_proxy.py', 'openstack/block_storage/v2/volume.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f9183cf481981a4ea74af9b4a321b631bf41baa5', 'message': 'Add block_storage.volume actions\n\nBefore we can switch BS cloud layer need to add missing volume actions.\nDo this for both v2 and v3 (v2 differs slightly).\n\nChange-Id: Iee4c137ea703d7adec4f8f1e7a3585a1d01e6d19\n'}]",0,791496,f9183cf481981a4ea74af9b4a321b631bf41baa5,13,2,3,27900,,,0,"Add block_storage.volume actions

Before we can switch BS cloud layer need to add missing volume actions.
Do this for both v2 and v3 (v2 differs slightly).

Change-Id: Iee4c137ea703d7adec4f8f1e7a3585a1d01e6d19
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/96/791496/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/block_storage/v2/test_proxy.py', 'openstack/block_storage/v3/volume.py', 'openstack/tests/unit/block_storage/v2/test_volume.py', 'openstack/tests/unit/block_storage/v3/test_volume.py', 'openstack/tests/unit/block_storage/v3/test_proxy.py', 'openstack/block_storage/v3/_proxy.py', 'openstack/block_storage/v2/_proxy.py', 'openstack/block_storage/v2/volume.py']",8,8ed7a4801ebfafac028796346c0a0a4706cc82ef,sdk_cloud_bs," return session.post(url, json=body, microversion=None) def set_bootable_status(self, session, bootable=True): """"""Set volume bootable status flag"""""" body = {'os-set_bootable': {'bootable': bootable}} self._action(session, body) def reset_status( self, session, status, attach_status, migration_status ): """"""Reset volume statuses (admin operation)"""""" body = {'os-reset_status': { 'status': status, 'attach_status': attach_status, 'migration_status': migration_status }} self._action(session, body) def attach( self, session, mountpoint, instance ): """"""Attach volume to server"""""" body = {'os-attach': { 'mountpoint': mountpoint, 'instance_uuid': instance}} self._action(session, body) def detach(self, session, attachment, force=False): """"""Detach volume from server"""""" if not force: body = {'os-detach': {'attachment_id': attachment}} if force: body = {'os-force_detach': { 'attachment_id': attachment}} self._action(session, body) def unmanage(self, session): """"""Unmanage volume"""""" body = {'os-unmanage': {}} self._action(session, body) def retype(self, session, new_type, migration_policy=None): """"""Change volume type"""""" body = {'os-retype': { 'new_type': new_type}} if migration_policy: body['os-retype']['migration_policy'] = migration_policy self._action(session, body) def migrate( self, session, host=None, force_host_copy=False, lock_volume=False ): """"""Migrate volume"""""" req = dict() if host is not None: req['host'] = host if force_host_copy: req['force_host_copy'] = force_host_copy if lock_volume: req['lock_volume'] = lock_volume body = {'os-migrate_volume': req} self._action(session, body) def complete_migration(self, session, new_volume_id, error=False): """"""Complete volume migration"""""" body = {'os-migrate_volume_completion': { 'new_volume': new_volume_id, 'error': error}} self._action(session, body) def force_delete(self, session): """"""Force volume deletion"""""" body = {'os-force_delete': {}} self._action(session, body) "," headers = {'Accept': ''} return session.post(url, json=body, headers=headers)",1455,74
openstack%2Fopenstacksdk~feature%2Fr1~Ic4a1c0d91139a8f4d192363e5e6f399dc2304939,openstack/openstacksdk,feature/r1,Ic4a1c0d91139a8f4d192363e5e6f399dc2304939,Fix active status for block storage,MERGED,2021-05-14 09:04:51.000000000,2021-07-14 17:56:18.000000000,2021-07-14 17:53:59.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-05-14 09:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d3ac2259c3e0857b64d0ed229f18b8775a148409', 'message': 'Fix active status for block storage\n\nIn the wait_for_status for block storage we use ACTIVE, while in the\nservice ""available"" is the proper value to check. Also add the test for\nthis.\n\nChange-Id: Ic4a1c0d91139a8f4d192363e5e6f399dc2304939\n'}, {'number': 2, 'created': '2021-05-14 09:12:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4df4d62c30cca1f4742287ad39185ddde280ee98', 'message': 'Fix active status for block storage\n\nIn the wait_for_status for block storage we use ACTIVE, while in the\nservice ""available"" is the proper value to check. Also add the test for\nthis.\n\nChange-Id: Ic4a1c0d91139a8f4d192363e5e6f399dc2304939\n'}, {'number': 3, 'created': '2021-05-14 09:14:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/852979a791fa0fc85193ad97e339c9818661f928', 'message': 'Fix active status for block storage\n\nIn the wait_for_status for block storage we use ACTIVE, while in the\nservice ""available"" is the proper value to check. Also add the test for\nthis.\n\nChange-Id: Ic4a1c0d91139a8f4d192363e5e6f399dc2304939\n'}, {'number': 4, 'created': '2021-05-14 09:20:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b35b93cd6f24344a857feb41e374d77f7501bde1', 'message': 'Fix active status for block storage\n\nIn the wait_for_status for block storage we use ACTIVE, while in the\nservice ""available"" is the proper value to check. Also add the test for\nthis.\n\nChange-Id: Ic4a1c0d91139a8f4d192363e5e6f399dc2304939\n'}, {'number': 5, 'created': '2021-06-02 09:28:57.000000000', 'files': ['openstack/tests/unit/block_storage/v2/test_proxy.py', 'openstack/tests/unit/block_storage/v3/test_proxy.py', 'openstack/block_storage/v3/_proxy.py', 'openstack/block_storage/v2/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a358278660fa6690e3a4f9d95db74f4386e315f1', 'message': 'Fix active status for block storage\n\nIn the wait_for_status for block storage we use ACTIVE, while in the\nservice ""available"" is the proper value to check. Also add the test for\nthis.\n\nChange-Id: Ic4a1c0d91139a8f4d192363e5e6f399dc2304939\n'}]",0,791426,a358278660fa6690e3a4f9d95db74f4386e315f1,15,2,5,27900,,,0,"Fix active status for block storage

In the wait_for_status for block storage we use ACTIVE, while in the
service ""available"" is the proper value to check. Also add the test for
this.

Change-Id: Ic4a1c0d91139a8f4d192363e5e6f399dc2304939
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/26/791426/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/block_storage/v3/test_proxy.py', 'openstack/block_storage/v3/_proxy.py']",2,d3ac2259c3e0857b64d0ed229f18b8775a148409,sdk_cloud_bs," def wait_for_status(self, res, status='available', failures=None, failures = ['error'] if failures is None else failures"," def wait_for_status(self, res, status='ACTIVE', failures=None, failures = ['Error'] if failures is None else failures",9,2
openstack%2Fopenstacksdk~feature%2Fr1~I3d6fa56ec61c8e4f471f3756193df57c43876eb8,openstack/openstacksdk,feature/r1,I3d6fa56ec61c8e4f471f3756193df57c43876eb8,Copy find_volume to block_storage.v2 proxy,MERGED,2021-05-14 09:04:51.000000000,2021-07-14 17:55:30.000000000,2021-07-14 17:55:30.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-05-14 09:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a6e008ddd3bff338d395bb7328f581d126bef962', 'message': 'Copy find_volume to block_storage.v2 proxy\n\nSwitch of the cloud layer for BS requires this method for v2 also.\n\nChange-Id: I3d6fa56ec61c8e4f471f3756193df57c43876eb8\n'}, {'number': 2, 'created': '2021-05-14 09:14:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/eb2771b4e080b44110d7cc40d27efd3d547d43b8', 'message': 'Copy find_volume to block_storage.v2 proxy\n\nSwitch of the cloud layer for BS requires this method for v2 also.\n\nChange-Id: I3d6fa56ec61c8e4f471f3756193df57c43876eb8\n'}, {'number': 3, 'created': '2021-05-14 09:20:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/565e9714288de30899fd607ec720e7accdef830d', 'message': 'Copy find_volume to block_storage.v2 proxy\n\nSwitch of the cloud layer for BS requires this method for v2 also.\n\nChange-Id: I3d6fa56ec61c8e4f471f3756193df57c43876eb8\n'}, {'number': 4, 'created': '2021-06-02 09:31:01.000000000', 'files': ['openstack/tests/unit/block_storage/v2/test_proxy.py', 'openstack/block_storage/v2/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d1c9a96ef61f87de11c7ce4dcb9e3f44e805d972', 'message': 'Copy find_volume to block_storage.v2 proxy\n\nSwitch of the cloud layer for BS requires this method for v2 also.\n\nChange-Id: I3d6fa56ec61c8e4f471f3756193df57c43876eb8\n'}]",0,791427,d1c9a96ef61f87de11c7ce4dcb9e3f44e805d972,13,2,4,27900,,,0,"Copy find_volume to block_storage.v2 proxy

Switch of the cloud layer for BS requires this method for v2 also.

Change-Id: I3d6fa56ec61c8e4f471f3756193df57c43876eb8
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/27/791427/4 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/block_storage/v2/test_proxy.py', 'openstack/block_storage/v2/_proxy.py']",2,a6e008ddd3bff338d395bb7328f581d126bef962,sdk_cloud_bs," def find_volume(self, name_or_id, ignore_missing=True, **attrs): """"""Find a single volume :param snapshot: The name or ID a volume :param bool ignore_missing: When set to ``False`` :class:`~openstack.exceptions.ResourceNotFound` will be raised when the volume does not exist. :returns: One :class:`~openstack.volume.v2.volume.Volume` :raises: :class:`~openstack.exceptions.ResourceNotFound` when no resource can be found. """""" return self._find(_volume.Volume, name_or_id, ignore_missing=ignore_missing) ",,18,0
openstack%2Fopenstacksdk~feature%2Fr1~I44844dcc556e5cca2ad5cb0eb6f0682ec15a1fd3,openstack/openstacksdk,feature/r1,I44844dcc556e5cca2ad5cb0eb6f0682ec15a1fd3,Add scheduler hints on the block_storage.volume resource,MERGED,2021-05-14 09:04:51.000000000,2021-07-14 17:55:16.000000000,2021-07-14 17:53:55.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-05-14 09:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e674c8ed253479c5c1d8b25cd4706a1d4b3bb7ad', 'message': 'Add scheduler hints on the block_storage.volume resource\n\nScheduler hints on the volume are available in the cloud layer, but not\non the resource. Add it now.\n\nChange-Id: I44844dcc556e5cca2ad5cb0eb6f0682ec15a1fd3\n'}, {'number': 2, 'created': '2021-05-14 09:11:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/868aac14c4a210b92d0f00c50b46cea32f45f742', 'message': 'Add scheduler hints on the block_storage.volume resource\n\nScheduler hints on the volume are available in the cloud layer, but not\non the resource. Add it now.\n\nChange-Id: I44844dcc556e5cca2ad5cb0eb6f0682ec15a1fd3\n'}, {'number': 3, 'created': '2021-05-14 09:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/bc1803984f6352a832165df07377ab91023519b1', 'message': 'Add scheduler hints on the block_storage.volume resource\n\nScheduler hints on the volume are available in the cloud layer, but not\non the resource. Add it now.\n\nChange-Id: I44844dcc556e5cca2ad5cb0eb6f0682ec15a1fd3\n'}, {'number': 4, 'created': '2021-06-02 09:25:31.000000000', 'files': ['openstack/block_storage/v3/volume.py', 'openstack/tests/unit/block_storage/v2/test_volume.py', 'openstack/tests/unit/block_storage/v3/test_volume.py', 'openstack/block_storage/v2/volume.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e6fed6d220e5d42d5e2a236a03df2ff15f726c38', 'message': 'Add scheduler hints on the block_storage.volume resource\n\nScheduler hints on the volume are available in the cloud layer, but not\non the resource. Add it now.\n\nChange-Id: I44844dcc556e5cca2ad5cb0eb6f0682ec15a1fd3\n'}]",0,791425,e6fed6d220e5d42d5e2a236a03df2ff15f726c38,14,2,4,27900,,,0,"Add scheduler hints on the block_storage.volume resource

Scheduler hints on the volume are available in the cloud layer, but not
on the resource. Add it now.

Change-Id: I44844dcc556e5cca2ad5cb0eb6f0682ec15a1fd3
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/25/791425/4 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/block_storage/v3/volume.py', 'openstack/tests/unit/block_storage/v3/test_volume.py']",2,e674c8ed253479c5c1d8b25cd4706a1d4b3bb7ad,sdk_cloud_bs," ""encrypted"": ""false"", ""OS-SCH-HNT:scheduler_hints"": { ""same_host"": [ ""a0cf03a5-d921-4877-bb5c-86d26cf818e1"", ""8c19174f-4220-44f0-824a-cd1eeef10287"" ] } self.assertDictEqual(VOLUME[""OS-SCH-HNT:scheduler_hints""], sot.scheduler_hints)"," ""encrypted"": ""false""",11,1
openstack%2Fcharms.openstack~master~If00eb97295987cbaf265f26296f1aed07163f6bd,openstack/charms.openstack,master,If00eb97295987cbaf265f26296f1aed07163f6bd,[WIP] Clean up calls to local_address,ABANDONED,2021-02-13 00:31:15.000000000,2021-07-14 17:50:04.000000000,,"[{'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-13 00:31:15.000000000', 'files': ['charms_openstack/charm/classes.py', 'charms_openstack/adapters.py', 'charms_openstack/ip.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/ae92ef4ed37a77586c72623d79f1405eb6854dcd', 'message': '[WIP] Clean up calls to local_address\n\nChange-Id: If00eb97295987cbaf265f26296f1aed07163f6bd\nPartial-Bug: #1915578\n'}]",0,775463,ae92ef4ed37a77586c72623d79f1405eb6854dcd,4,2,1,20805,,,0,"[WIP] Clean up calls to local_address

Change-Id: If00eb97295987cbaf265f26296f1aed07163f6bd
Partial-Bug: #1915578
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/63/775463/1 && git format-patch -1 --stdout FETCH_HEAD,"['charms_openstack/charm/classes.py', 'charms_openstack/adapters.py', 'charms_openstack/ip.py']",3,ae92ef4ed37a77586c72623d79f1405eb6854dcd,bug/1915578," if net_addr: resolved_address = net_ip.get_address_in_network( net_addr, fatal=True) else: resolved_address = _network_get_primary_address(binding)","import charmhelpers.contrib.openstack.ip as ch_os_ip net_fallback = ADDRESS_MAP[endpoint_type]['fallback'] if hookenv.config('prefer-ipv6'): fallback_addr = net_ip.get_ipv6_addr(exc_list=vips)[0] else: fallback_addr = ch_os_ip.local_address( unit_get_fallback=net_fallback) if net_addr: resolved_address = net_ip.get_address_in_network(net_addr, fallback_addr) else: # NOTE: only try to use extra bindings if legacy network # configuration is not in use try: resolved_address = _network_get_primary_address(binding) except NotImplementedError: resolved_address = fallback_addr",45,34
openstack%2Fopenstacksdk~feature%2Fr1~If6fcf0c658840b3a18672958a9fb02450276dbda,openstack/openstacksdk,feature/r1,If6fcf0c658840b3a18672958a9fb02450276dbda,Sort block storage properties alphabetically,MERGED,2021-05-14 09:04:51.000000000,2021-07-14 17:45:38.000000000,2021-07-14 17:44:24.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-05-14 09:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ee80ba69dfca61177b79ab1535d08f7b2fe565d0', 'message': 'Sort block storage v3 properties alphabetically\n\nSorting order of the properties plays a big role in maintenance effort\nfor the resource. Before we start moving block storage cloud layer -\nalign things (also drop id/name/links attrs as they are useless and\nsometimes even harmful being present 2 times on the resource).\n\nChange-Id: If6fcf0c658840b3a18672958a9fb02450276dbda\n'}, {'number': 2, 'created': '2021-05-14 09:11:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5aefec5d5d7d60bb3310d69242753d0f1bcf1dd9', 'message': 'Sort block storage properties alphabetically\n\nSorting order of the properties plays a big role in maintenance effort\nfor the resource. Before we start moving block storage cloud layer -\nalign things (also drop id/name/links attrs as they are useless and\nsometimes even harmful being present 2 times on the resource).\n\nChange-Id: If6fcf0c658840b3a18672958a9fb02450276dbda\n'}, {'number': 3, 'created': '2021-06-02 09:25:22.000000000', 'files': ['openstack/block_storage/v3/volume.py', 'openstack/block_storage/v2/type.py', 'openstack/block_storage/v3/type.py', 'openstack/block_storage/v2/snapshot.py', 'openstack/block_storage/v3/snapshot.py', 'openstack/block_storage/v2/volume.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/62781ae228d755017121ead94fc67c5a7acd39ae', 'message': 'Sort block storage properties alphabetically\n\nSorting order of the properties plays a big role in maintenance effort\nfor the resource. Before we start moving block storage cloud layer -\nalign things (also drop id/name/links attrs as they are useless and\nsometimes even harmful being present 2 times on the resource).\n\nChange-Id: If6fcf0c658840b3a18672958a9fb02450276dbda\n'}]",0,791424,62781ae228d755017121ead94fc67c5a7acd39ae,13,2,3,27900,,,0,"Sort block storage properties alphabetically

Sorting order of the properties plays a big role in maintenance effort
for the resource. Before we start moving block storage cloud layer -
align things (also drop id/name/links attrs as they are useless and
sometimes even harmful being present 2 times on the resource).

Change-Id: If6fcf0c658840b3a18672958a9fb02450276dbda
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/24/791424/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/block_storage/v3/volume.py', 'openstack/block_storage/v3/type.py', 'openstack/block_storage/v3/snapshot.py']",3,ee80ba69dfca61177b79ab1535d08f7b2fe565d0,sdk_cloud_bs," #: Description of snapshot. Default is None. description = resource.Body(""description"") #: Metadata associated with this snapshot. metadata = resource.Body(""metadata"", type=dict) #: The size of the volume, in GBs. size = resource.Body(""size"", type=int) #: The current status of this snapshot. Potential values are creating, #: available, deleting, error, and error_deleting. status = resource.Body(""status"") #: The ID of the volume this snapshot was taken of. volume_id = resource.Body(""volume_id"")"," #: A ID representing this snapshot. id = resource.Body(""id"") #: Name of the snapshot. Default is None. name = resource.Body(""name"") #: The current status of this snapshot. Potential values are creating, #: available, deleting, error, and error_deleting. status = resource.Body(""status"") #: Description of snapshot. Default is None. description = resource.Body(""description"") #: Metadata associated with this snapshot. metadata = resource.Body(""metadata"", type=dict) #: The ID of the volume this snapshot was taken of. volume_id = resource.Body(""volume_id"") #: The size of the volume, in GBs. size = resource.Body(""size"", type=int)",67,85
openstack%2Fswift~master~I5cf2b3dd6d6965b0d56c89ee681228d6e241cb63,openstack/swift,master,I5cf2b3dd6d6965b0d56c89ee681228d6e241cb63,squash: reconciler: PPI aware reconciler,ABANDONED,2021-07-12 15:00:06.000000000,2021-07-14 17:42:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-12 15:00:06.000000000', 'files': ['test/unit/common/test_storage_policy.py', 'etc/container-server.conf-sample', 'etc/container-reconciler.conf-sample', 'swift/common/storage_policy.py', 'swift/common/ring/ring.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/a58a06c89116dd5521b46a9c05ce20e208a65b9d', 'message': 'squash: reconciler: PPI aware reconciler\n\nChange-Id: I5cf2b3dd6d6965b0d56c89ee681228d6e241cb63\n'}]",0,800494,a58a06c89116dd5521b46a9c05ce20e208a65b9d,5,1,1,15343,,,0,"squash: reconciler: PPI aware reconciler

Change-Id: I5cf2b3dd6d6965b0d56c89ee681228d6e241cb63
",git fetch https://review.opendev.org/openstack/swift refs/changes/94/800494/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/test_storage_policy.py', 'etc/container-server.conf-sample', 'etc/container-reconciler.conf-sample', 'swift/common/storage_policy.py', 'swift/common/ring/ring.py']",5,a58a06c89116dd5521b46a9c05ce20e208a65b9d,ppi_aware_reconciler,"DEFAULT_RELOAD_TIME = 15 def __init__(self, serialized_path, reload_time=None, ring_name=None, self.reload_time = (DEFAULT_RELOAD_TIME if reload_time is None else reload_time)"," def __init__(self, serialized_path, reload_time=15, ring_name=None, self.reload_time = reload_time",35,38
openstack%2Ftripleo-ci-health-queries~master~I0f3e2526f0a25f564017371ec8e6be6d7affe167,openstack/tripleo-ci-health-queries,master,I0f3e2526f0a25f564017371ec8e6be6d7affe167,Add queries from Sova,MERGED,2021-06-30 20:47:42.000000000,2021-07-14 17:16:13.000000000,2021-07-14 17:16:13.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 32458}]","[{'number': 1, 'created': '2021-06-30 20:47:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/babb59268a7284fa47c766ac9b6ebd9f4f38d684', 'message': 'WIP: Add query ""No valid host was found.""\n\nOld sova id: 3\n\nChange-Id: I0f3e2526f0a25f564017371ec8e6be6d7affe167\n'}, {'number': 2, 'created': '2021-06-30 21:21:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/03a8c17a42424378fca7caac613147a8b89f7716', 'message': 'WIP: Add queries from Sova\n\n - ""No valid host was found.""\n - ""Connection failure to trunk.rdoproject.org.""\n\nChange-Id: I0f3e2526f0a25f564017371ec8e6be6d7affe167\n'}, {'number': 3, 'created': '2021-07-01 12:09:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/2085b0a0e63da8d60afd519af6dbd8937304ae82', 'message': 'WIP: Add queries from Sova\n\n - ""No valid host was found.""\n - ""Connection failure to trunk.rdoproject.org.""\n\nChange-Id: I0f3e2526f0a25f564017371ec8e6be6d7affe167\n'}, {'number': 4, 'created': '2021-07-02 19:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/bc55b2d57ccfe1a433b9135512f5105c8b8eaf21', 'message': 'WIP: Add queries from Sova\n\n - ""No valid host was found.""\n - ""Connection failure to trunk.rdoproject.org.""\n - ""Error contacting Ironic server: Node""\n\nChange-Id: I0f3e2526f0a25f564017371ec8e6be6d7affe167\n'}, {'number': 5, 'created': '2021-07-02 19:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/c26413c2244c848c92d04249aa043b224890d9aa', 'message': 'WIP: Add queries from Sova\n\n - ""No valid host was found.""\n - ""Connection failure to trunk.rdoproject.org.""\n - ""Error contacting Ironic server: Node""\n - ""Node introspection failed and no results are provided""\n\nChange-Id: I0f3e2526f0a25f564017371ec8e6be6d7affe167\n'}, {'number': 6, 'created': '2021-07-02 21:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/4a7a3368df2ccb246c01ca8e24bdaae00c4cea00', 'message': 'WIP: Add queries from Sova\n\nChange-Id: I0f3e2526f0a25f564017371ec8e6be6d7affe167\n'}, {'number': 7, 'created': '2021-07-04 20:40:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/1c7c3a55ed3e154880ede5b945f9016457697d0d', 'message': 'WIP: Add queries from Sova\n\nChange-Id: I0f3e2526f0a25f564017371ec8e6be6d7affe167\n'}, {'number': 8, 'created': '2021-07-04 23:13:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/d8e7f0f8798b640c376bd64566fc60a7d97a0eaf', 'message': 'WIP: Add queries from Sova\n\nChange-Id: I0f3e2526f0a25f564017371ec8e6be6d7affe167\n'}, {'number': 9, 'created': '2021-07-05 13:13:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/ca8808671549e6e66411895311bfacb0da5b23e1', 'message': 'WIP: Add queries from Sova\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-collect-logs/+/799456\nChange-Id: I0f3e2526f0a25f564017371ec8e6be6d7affe167\n'}, {'number': 10, 'created': '2021-07-05 14:20:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/92a01cddde7ab38acc6612cf1d1cb7a917201363', 'message': 'WIP: Add queries from Sova\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-collect-logs/+/799456\nChange-Id: I0f3e2526f0a25f564017371ec8e6be6d7affe167\n'}, {'number': 11, 'created': '2021-07-05 16:37:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/47c4df387e5012da1136d1d41d11843093ba9311', 'message': 'WIP: Add queries from Sova\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-collect-logs/+/799456\nChange-Id: I0f3e2526f0a25f564017371ec8e6be6d7affe167\n'}, {'number': 12, 'created': '2021-07-05 18:33:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/4079e4901dbd0473edb4dfecf6d1aaed9b5cb2d5', 'message': 'WIP: Add queries from Sova\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-collect-logs/+/799456\nChange-Id: I0f3e2526f0a25f564017371ec8e6be6d7affe167\n'}, {'number': 13, 'created': '2021-07-05 19:35:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/9dbab3359ab8a65f34197dd78d61d517ed7e5f4c', 'message': 'WIP: Add queries from Sova\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-collect-logs/+/799456\nChange-Id: I0f3e2526f0a25f564017371ec8e6be6d7affe167\n'}, {'number': 14, 'created': '2021-07-05 19:36:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/a53b43f29636aeb05878064a6a09622cfbe24d57', 'message': 'WIP: Add queries from Sova\n\nChange-Id: I0f3e2526f0a25f564017371ec8e6be6d7affe167\n'}, {'number': 15, 'created': '2021-07-05 20:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/218c5c4623b432760a24d3a37b52072beb7b2bc9', 'message': 'WIP: Add queries from Sova\n\nChange-Id: I0f3e2526f0a25f564017371ec8e6be6d7affe167\n'}, {'number': 16, 'created': '2021-07-05 21:06:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/ca66b51a9603488dfc3da3f6c2b732e00dd6a200', 'message': 'WIP: Add queries from Sova\n\nChange-Id: I0f3e2526f0a25f564017371ec8e6be6d7affe167\n'}, {'number': 17, 'created': '2021-07-05 22:00:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/a3ce2e75317c59c95e58eae259c063fb2dc3e44b', 'message': 'WIP: Add queries from Sova\n\nChange-Id: I0f3e2526f0a25f564017371ec8e6be6d7affe167\n'}, {'number': 18, 'created': '2021-07-06 13:50:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/0fe39241ae38767bbeb44470f19a3a69a561f4d7', 'message': 'WIP: Add queries from Sova\n\nChange-Id: I0f3e2526f0a25f564017371ec8e6be6d7affe167\n'}, {'number': 19, 'created': '2021-07-06 14:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/b2e911763705b2432cc8cf805c5d63915cb80c98', 'message': 'WIP: Add queries from Sova\n\nChange-Id: I0f3e2526f0a25f564017371ec8e6be6d7affe167\n'}, {'number': 20, 'created': '2021-07-06 14:02:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/e8ea412fbb490b322910c25771eab1a5e0e07a25', 'message': 'WIP: Add queries from Sova\n\nChange-Id: I0f3e2526f0a25f564017371ec8e6be6d7affe167\n'}, {'number': 21, 'created': '2021-07-07 12:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/58a98a6e31675fee5c659bc6ec6770c9cad35c19', 'message': 'WIP: Add queries from Sova\n\nChange-Id: I0f3e2526f0a25f564017371ec8e6be6d7affe167\n'}, {'number': 22, 'created': '2021-07-07 15:47:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/e31a6e603b8ba0e9bc8605baa0d1d25497b0669c', 'message': 'WIP: Add queries from Sova\n\nChange-Id: I0f3e2526f0a25f564017371ec8e6be6d7affe167\n'}, {'number': 23, 'created': '2021-07-12 10:23:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/0221d681aefb3b3adb86d8f6f5ba89b9fa8721b9', 'message': 'Add queries from Sova\n\nChange-Id: I0f3e2526f0a25f564017371ec8e6be6d7affe167\n'}, {'number': 24, 'created': '2021-07-12 11:28:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/c9107a549764e8af0f3b46f54a619ebe992c9d72', 'message': 'Add queries from Sova\n\nChange-Id: I0f3e2526f0a25f564017371ec8e6be6d7affe167\n'}, {'number': 25, 'created': '2021-07-12 13:02:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/98603b0d78943f2d2e8c63948c6802fe8123e49d', 'message': 'Add queries from Sova\n\nChange-Id: I0f3e2526f0a25f564017371ec8e6be6d7affe167\n'}, {'number': 26, 'created': '2021-07-12 13:26:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/5999980c9407500047d09247402cfabcaf48effc', 'message': 'Add queries from Sova\n\nChange-Id: I0f3e2526f0a25f564017371ec8e6be6d7affe167\n'}, {'number': 27, 'created': '2021-07-12 14:34:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/1d17403f7fa0edb1d9fdd3c63c835a7a53e75b76', 'message': 'Add queries from Sova\n\nChange-Id: I0f3e2526f0a25f564017371ec8e6be6d7affe167\n'}, {'number': 28, 'created': '2021-07-13 10:39:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/3549996be921a1499b22ced47966f283ea2c22b6', 'message': 'Add queries from Sova\n\nChange-Id: I0f3e2526f0a25f564017371ec8e6be6d7affe167\n'}, {'number': 29, 'created': '2021-07-13 14:42:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/1033ae5d467f2a1fddde4f7cbfe97bcc9c3c2667', 'message': 'Add queries from Sova\n\nThis patch converts the existing sova regexes [1] to the new queries format.\nOnce it is merged this patch [2] will switch sova source file.\n\n[1] https://opendev.org/openstack/tripleo-ci-health-queries/src/branch/master/output/sova-patterns.json\n[2] https://review.opendev.org/c/openstack/ansible-role-collect-logs/+/787502\n\nChange-Id: I0f3e2526f0a25f564017371ec8e6be6d7affe167\n'}, {'number': 30, 'created': '2021-07-14 12:20:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/a4e8eb4a33adab713ea29e7cdd6473657e3a262a', 'message': 'Add queries from Sova\n\nThis patch converts the existing sova regexes [1] to the new queries format.\nOnce it is merged this patch [2] will switch sova source file.\n\n[1] https://opendev.org/openstack/tripleo-ci-health-queries/src/branch/master/output/sova-patterns.json\n[2] https://review.opendev.org/c/openstack/ansible-role-collect-logs/+/787502\n\nChange-Id: I0f3e2526f0a25f564017371ec8e6be6d7affe167\n'}, {'number': 31, 'created': '2021-07-14 12:37:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/1e5f0e119301b1a9cce62661ce9b55a88fb474bd', 'message': 'Add queries from Sova\n\nThis patch converts the existing sova regexes [1] to the new queries format.\nOnce it is merged this patch [2] will switch sova source file.\n\n[1] https://opendev.org/openstack/tripleo-ci-health-queries/src/branch/master/output/sova-patterns.json\n[2] https://review.opendev.org/c/openstack/ansible-role-collect-logs/+/787502\n\nChange-Id: I0f3e2526f0a25f564017371ec8e6be6d7affe167\n'}, {'number': 32, 'created': '2021-07-14 14:51:39.000000000', 'files': ['output/elastic-recheck/Invalid checksum format.yaml', 'output/elastic-recheck/instack_install_undercloud_zero.yaml', 'output/elastic-recheck/gitnet_re.yaml', 'output/elastic-recheck/Undercloud install failed.yaml', 'output/elastic-recheck/Packages download failure.yaml', 'output/elastic-recheck/ssh_re.yaml', 'output/elastic-recheck/Failed to connect to endpoints of overcloud.yaml', 'output/elastic-recheck/ansible_und_err.yaml', 'output/elastic-recheck/Internal_Server_Error_500.yaml', 'output/elastic-recheck/git_re.yaml', 'output/elastic-recheck/Puppet memory fail.yaml', 'output/elastic-recheck/Could_not_resolve_host.yaml', 'output/elastic-recheck/Websocket_timeout.yaml', 'output/elastic-recheck/after_connection_broken_by.yaml', 'output/elastic-recheck/IPMI to nodes failed.yaml', 'output/elastic-recheck/Ping timeout when deploying OC.yaml', 'output/elastic-recheck/Node provision timeout.yaml', 'output/elastic-recheck/Not_enough_nodes_available.yaml', 'output/elastic-recheck/Nova failure no valid host was found.yaml', 'output/elastic-recheck/Multinode_SSH_connection_failed.yaml', 'output/elastic-recheck/Timed_out_waiting.yaml', 'output/elastic-recheck/Failed to provision nodes..yaml', 'output/elastic-recheck/MySQL failure.yaml', 'output/elastic-recheck/Overcloud_update_FAIL.yaml', 'src/data/queries.yml', 'output/elastic-recheck/async_timeout.yaml', 'output/elastic-recheck/selinux denials found.yaml', 'output/elastic-recheck/Connection_failure.yaml', 'output/elastic-recheck/Ironic node provision failed.yaml', 'output/elastic-recheck/exec_user_process_caused.yaml', 'output/elastic-recheck/Gateway_Time_out_HTTP.yaml', 'output/elastic-recheck/Tempest tests failed.yaml', 'output/elastic-recheck/overcloud_deploy_result_failed.yaml', 'output/elastic-recheck/playbook_err_re.yaml', 'output/elastic-recheck/Unauthorized error from container registry.yaml', 'output/elastic-recheck/HTTP_400_Bad.yaml', 'output/elastic-recheck/Client_disconnected.yaml', 'output/elastic-recheck/Delorean FAIL.yaml', 'output/elastic-recheck/kolla_build_localhost.yaml', 'output/elastic-recheck/Error_contacting_Ironic.yaml', 'output/elastic-recheck/Memory allocation failure for.yaml', 'output/elastic-recheck/Containers failed to start.yaml', 'output/elastic-recheck/Containers too many requests.yaml', 'output/elastic-recheck/timeout_re.yaml', 'output/elastic-recheck/Failed_to_build_dep.yaml', 'output/elastic-recheck/Overcloud deploy failed.yaml', 'output/elastic-recheck/stack_status_CREATE_FAILED.yaml', 'output/elastic-recheck/tempest_tests_run.yaml', 'output/elastic-recheck/python_setup_egg_info.yaml', 'playbooks/sova.yml', 'output/elastic-recheck/Failed_to_create_OVB_stack.yaml', 'output/elastic-recheck/RUN_END_RESULT.yaml', 'output/elastic-recheck/tempest_playbook_failed.yaml', 'output/elastic-recheck/Overcloud_pingtest_FAILED.yaml', 'output/elastic-recheck/Hiera key is undefined.yaml', 'output/elastic-recheck/Packages conflict.yaml', 'output/elastic-recheck/Introspection failed.yaml', 'output/elastic-recheck/No_more_mirrors.yaml', 'output/elastic-recheck/command_exe.yaml', 'output/elastic-recheck/Not enough ports.yaml', 'samples/errors-testing.err', 'output/elastic-recheck/Nodes_not_manageable.yaml', 'output/sova-pattern-generated.json', 'output/elastic-recheck/multinode_standalone_playbook_failed.yaml', 'output/elastic-recheck/deploy_re.yaml', 'output/elastic-recheck/exit_value_143.yaml', 'output/elastic-recheck/Introspection failed cannot get IP address.yaml', 'output/elastic-recheck/Invalid_cross_device_link.yaml', 'output/elastic-recheck/ERROR_dlrn.yaml', 'output/elastic-recheck/No space on disk for Ironic.yaml', 'output/elastic-recheck/Overcloud image create failed.yaml', 'output/elastic-recheck/Containers too many requests to registry.yaml', 'output/elastic-recheck/oooq_undercloud_fail.yaml', 'tox.ini', 'output/elastic-recheck/Node_introspection_failed.yaml', 'output/elastic-recheck/Ironic deployment timeout.yaml', 'output/elastic-recheck/update_FAILED.yaml', 'output/elastic-recheck/Gateway_timeout_504.yaml', 'output/elastic-recheck/Error_registering_nodes.yaml', 'output/elastic-recheck/Container image prepare lock error.yaml', 'output/elastic-recheck/curl_failed_get_image.yaml', 'output/elastic-recheck/Buildah pull image failed.yaml', 'output/elastic-recheck/Providing node failed.yaml', 'output/elastic-recheck/DNS_operation_timed_out.yaml', 'output/elastic-recheck/No_valid_host.yaml', 'output/elastic-recheck/Container not found.yaml', 'output/elastic-recheck/Standalone or Undercloud Heat stack failed.yaml', 'output/elastic-recheck/Gateway_Time_out_504.yaml', 'output/elastic-recheck/SEVERE_ERROR_occurs.yaml', 'output/elastic-recheck/remote_end_hung_up.yaml', 'output/elastic-recheck/missing_file.yaml', 'output/elastic-recheck/Container image not found.yaml', 'output/elastic-recheck/Slave_went_offline.yaml', 'output/elastic-recheck/setup_script_failed.yaml', 'output/elastic-recheck/zcl_re.yaml', 'output/elastic-recheck/Container upload timed out.yaml', 'output/elastic-recheck/No valid host was found.yaml', 'output/elastic-recheck/pip_install_fail.yaml', 'output/elastic-recheck/baremetal_full_undercloud_failed.yaml', 'output/elastic-recheck/gcc_failed.yaml', 'output/elastic-recheck/exec_re.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/d9e1a4e89f92124163e2c6016fe15ea35a88a99f', 'message': 'Add queries from Sova\n\nThis patch converts the existing sova regexes [1] to the new queries format.\nOnce it is merged this patch [2] will switch sova source file.\n\n[1] https://opendev.org/openstack/tripleo-ci-health-queries/src/branch/master/output/sova-patterns.json\n[2] https://review.opendev.org/c/openstack/ansible-role-collect-logs/+/787502\n\nChange-Id: I0f3e2526f0a25f564017371ec8e6be6d7affe167\n'}]",3,798958,d9e1a4e89f92124163e2c6016fe15ea35a88a99f,74,4,32,9976,,,0,"Add queries from Sova

This patch converts the existing sova regexes [1] to the new queries format.
Once it is merged this patch [2] will switch sova source file.

[1] https://opendev.org/openstack/tripleo-ci-health-queries/src/branch/master/output/sova-patterns.json
[2] https://review.opendev.org/c/openstack/ansible-role-collect-logs/+/787502

Change-Id: I0f3e2526f0a25f564017371ec8e6be6d7affe167
",git fetch https://review.opendev.org/openstack/tripleo-ci-health-queries refs/changes/58/798958/10 && git format-patch -1 --stdout FETCH_HEAD,"['output/sova-pattern-generated.json', 'samples/errors-testing.err', 'src/data/queries.yml']",3,babb59268a7284fa47c766ac9b6ebd9f4f38d684,no_valid_host," - id: No_valid_host_was_found # sova_id_3 logstash: ""No valid host was found. There are not enough hosts"" # ? pattern: ""No valid host was found. There are not enough hosts"" tags: console # ?code",,16,0
openstack%2Fneutron~stable%2Fvictoria~I4a923909812daab3eef14135744ff96f00b2cf76,openstack/neutron,stable/victoria,I4a923909812daab3eef14135744ff96f00b2cf76,[OVN] Fix ML2/OVN + Neutron DHCP agent use case,ABANDONED,2021-07-14 12:54:06.000000000,2021-07-14 16:48:29.000000000,,[],"[{'number': 1, 'created': '2021-07-14 12:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d62d68e1b8589a6f9b2805e5c05305139dead462', 'message': ""Fix ML2/OVN + Neutron DHCP agent use case\n\nIn an attempt to minimize the number of connections to the OVSDBs the\nML2/OVN driver stopped connecting to the OVN dbs if the Neutron worker\nwas a RpcWorker but, that introduced a regression for those using\nML2/OVN + Neutron DHCP agent (for baremetal provisioning).\n\nBecause the RpcWorker didn't have a connection to the OVN database the\nNeutron DHCP agent wasn't able to create the DHCP port and failed with:\n\n2021-07-13 13:36:18.116 17 ERROR neutron.plugins.ml2.managers if not\nself._sb_ovn.chassis_exists(host):\n2021-07-13 13:36:18.116 17 ERROR neutron.plugins.ml2.managers\nAttributeError: 'NoneType' object has no attribute 'chassis_exists'\n\nNote this fix is different from the master branch. Reason being, the\nmaster branch included a new configuration option [0] that we could\nleverage to fix this problem but that is not backportable as our guideline\ndo not allow for new features to be backported (and config options).\n\n[0] https://review.opendev.org/c/openstack/neutron/+/795781\n\nCloses-Bug: #1929633\nCloses-Bug: #1935983\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: I4a923909812daab3eef14135744ff96f00b2cf76\n""}, {'number': 2, 'created': '2021-07-14 12:55:28.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3802f3e144d14cee0f439cb233172f8944ff5aff', 'message': ""[OVN] Fix ML2/OVN + Neutron DHCP agent use case\n\nIn an attempt to minimize the number of connections to the OVSDBs the\nML2/OVN driver stopped connecting to the OVN dbs if the Neutron worker\nwas a RpcWorker but, that introduced a regression for those using\nML2/OVN + Neutron DHCP agent (for baremetal provisioning).\n\nBecause the RpcWorker didn't have a connection to the OVN database the\nNeutron DHCP agent wasn't able to create the DHCP port and failed with:\n\n2021-07-13 13:36:18.116 17 ERROR neutron.plugins.ml2.managers if not\nself._sb_ovn.chassis_exists(host):\n2021-07-13 13:36:18.116 17 ERROR neutron.plugins.ml2.managers\nAttributeError: 'NoneType' object has no attribute 'chassis_exists'\n\nNote this fix is different from the master branch. Reason being, the\nmaster branch included a new configuration option [0] that we could\nleverage to fix this problem but that is not backportable as our guideline\ndo not allow for new features to be backported (and config options).\n\n[0] https://review.opendev.org/c/openstack/neutron/+/795781\n\nCloses-Bug: #1929633\nCloses-Bug: #1935983\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: I4a923909812daab3eef14135744ff96f00b2cf76\n""}]",0,800781,3802f3e144d14cee0f439cb233172f8944ff5aff,4,0,2,6773,,,0,"[OVN] Fix ML2/OVN + Neutron DHCP agent use case

In an attempt to minimize the number of connections to the OVSDBs the
ML2/OVN driver stopped connecting to the OVN dbs if the Neutron worker
was a RpcWorker but, that introduced a regression for those using
ML2/OVN + Neutron DHCP agent (for baremetal provisioning).

Because the RpcWorker didn't have a connection to the OVN database the
Neutron DHCP agent wasn't able to create the DHCP port and failed with:

2021-07-13 13:36:18.116 17 ERROR neutron.plugins.ml2.managers if not
self._sb_ovn.chassis_exists(host):
2021-07-13 13:36:18.116 17 ERROR neutron.plugins.ml2.managers
AttributeError: 'NoneType' object has no attribute 'chassis_exists'

Note this fix is different from the master branch. Reason being, the
master branch included a new configuration option [0] that we could
leverage to fix this problem but that is not backportable as our guideline
do not allow for new features to be backported (and config options).

[0] https://review.opendev.org/c/openstack/neutron/+/795781

Closes-Bug: #1929633
Closes-Bug: #1935983
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
Change-Id: I4a923909812daab3eef14135744ff96f00b2cf76
",git fetch https://review.opendev.org/openstack/neutron refs/changes/81/800781/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'],1,d62d68e1b8589a6f9b2805e5c05305139dead462,,"from neutron import service worker.MaintenanceWorker, service.RpcWorker)", worker.MaintenanceWorker),3,1
openstack%2Fopenstacksdk~feature%2Fr1~I0c4c1ee77b0bbccd18af5b9b84a585a79f1a500c,openstack/openstacksdk,feature/r1,I0c4c1ee77b0bbccd18af5b9b84a585a79f1a500c,Add support for federation service providers,NEW,2021-07-05 14:32:31.000000000,2021-07-14 16:47:16.000000000,,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-07-05 14:32:31.000000000', 'files': ['openstack/identity/v3/_proxy.py', 'openstack/identity/v3/service_provider.py', 'openstack/tests/unit/identity/v3/test_service_provider.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9a70f789d4f99378010a328f6718648c48a6e661', 'message': 'Add support for federation service providers\n\nChange-Id: I0c4c1ee77b0bbccd18af5b9b84a585a79f1a500c\n'}]",0,799508,9a70f789d4f99378010a328f6718648c48a6e661,3,2,1,29865,,,0,"Add support for federation service providers

Change-Id: I0c4c1ee77b0bbccd18af5b9b84a585a79f1a500c
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/08/799508/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/identity/v3/_proxy.py', 'openstack/identity/v3/service_provider.py', 'openstack/tests/unit/identity/v3/test_service_provider.py']",3,9a70f789d4f99378010a328f6718648c48a6e661,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from openstack.tests.unit import base from openstack.identity.v3 import service_provider IDENTIFIER = 'IDENTIFIER' EXAMPLE = { 'id': IDENTIFIER, 'description': 'An example description', 'is_enabled': True, 'auth_url': (""https://auth.example.com/v3/OS-FEDERATION/"" ""identity_providers/idp/protocols/saml2/auth""), 'sp_url': 'https://auth.example.com/Shibboleth.sso/SAML2/ECP', } class TestServiceProvider(base.TestCase): def test_basic(self): sot = service_provider.ServiceProvider() self.assertEqual('service_provider', sot.resource_key) self.assertEqual('service_providers', sot.resources_key) self.assertEqual('/OS-FEDERATION/service_providers', sot.base_path) self.assertTrue(sot.allow_create) self.assertTrue(sot.allow_fetch) self.assertTrue(sot.allow_commit) self.assertTrue(sot.allow_delete) self.assertTrue(sot.allow_list) self.assertTrue(sot.create_exclude_id_from_body) self.assertEqual('PATCH', sot.commit_method) self.assertEqual('PUT', sot.create_method) self.assertDictEqual( { 'id': 'id', 'limit': 'limit', 'marker': 'marker', 'is_enabled': 'enabled', }, sot._query_mapping._mapping) def test_make_it(self): sot = service_provider.ServiceProvider(**EXAMPLE) self.assertEqual(EXAMPLE['id'], sot.id) self.assertEqual(EXAMPLE['id'], sot.name) self.assertEqual(EXAMPLE['description'], sot.description) self.assertEqual(EXAMPLE['is_enabled'], sot.is_enabled) self.assertEqual(EXAMPLE['auth_url'], sot.auth_url) self.assertEqual(EXAMPLE['sp_url'], sot.sp_url) ",,191,0
openstack%2Fneutron~stable%2Fussuri~Id3002904c31fa063f2271d7f57d6da4eedc5f79e,openstack/neutron,stable/ussuri,Id3002904c31fa063f2271d7f57d6da4eedc5f79e,[OVN] Fix ML2/OVN + Neutron DHCP agent use case,ABANDONED,2021-07-14 12:54:42.000000000,2021-07-14 16:35:53.000000000,,[],"[{'number': 1, 'created': '2021-07-14 12:54:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9b78518cf228e91634c40c0ae6de85f2f03bf24e', 'message': ""Fix ML2/OVN + Neutron DHCP agent use case\n\nIn an attempt to minimize the number of connections to the OVSDBs the\nML2/OVN driver stopped connecting to the OVN dbs if the Neutron worker\nwas a RpcWorker but, that introduced a regression for those using\nML2/OVN + Neutron DHCP agent (for baremetal provisioning).\n\nBecause the RpcWorker didn't have a connection to the OVN database the\nNeutron DHCP agent wasn't able to create the DHCP port and failed with:\n\n2021-07-13 13:36:18.116 17 ERROR neutron.plugins.ml2.managers if not\nself._sb_ovn.chassis_exists(host):\n2021-07-13 13:36:18.116 17 ERROR neutron.plugins.ml2.managers\nAttributeError: 'NoneType' object has no attribute 'chassis_exists'\n\nNote this fix is different from the master branch. Reason being, the\nmaster branch included a new configuration option [0] that we could\nleverage to fix this problem but that is not backportable as our guideline\ndo not allow for new features to be backported (and config options).\n\n[0] https://review.opendev.org/c/openstack/neutron/+/795781\n\nCloses-Bug: #1929633\nCloses-Bug: #1935983\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: Id3002904c31fa063f2271d7f57d6da4eedc5f79e\n""}, {'number': 2, 'created': '2021-07-14 12:54:59.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/49f8c9d48c0221c19a87a4d8a45d1c364aed1ed0', 'message': ""[OVN] Fix ML2/OVN + Neutron DHCP agent use case\n\nIn an attempt to minimize the number of connections to the OVSDBs the\nML2/OVN driver stopped connecting to the OVN dbs if the Neutron worker\nwas a RpcWorker but, that introduced a regression for those using\nML2/OVN + Neutron DHCP agent (for baremetal provisioning).\n\nBecause the RpcWorker didn't have a connection to the OVN database the\nNeutron DHCP agent wasn't able to create the DHCP port and failed with:\n\n2021-07-13 13:36:18.116 17 ERROR neutron.plugins.ml2.managers if not\nself._sb_ovn.chassis_exists(host):\n2021-07-13 13:36:18.116 17 ERROR neutron.plugins.ml2.managers\nAttributeError: 'NoneType' object has no attribute 'chassis_exists'\n\nNote this fix is different from the master branch. Reason being, the\nmaster branch included a new configuration option [0] that we could\nleverage to fix this problem but that is not backportable as our guideline\ndo not allow for new features to be backported (and config options).\n\n[0] https://review.opendev.org/c/openstack/neutron/+/795781\n\nCloses-Bug: #1929633\nCloses-Bug: #1935983\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: Id3002904c31fa063f2271d7f57d6da4eedc5f79e\n""}]",0,800782,49f8c9d48c0221c19a87a4d8a45d1c364aed1ed0,4,0,2,6773,,,0,"[OVN] Fix ML2/OVN + Neutron DHCP agent use case

In an attempt to minimize the number of connections to the OVSDBs the
ML2/OVN driver stopped connecting to the OVN dbs if the Neutron worker
was a RpcWorker but, that introduced a regression for those using
ML2/OVN + Neutron DHCP agent (for baremetal provisioning).

Because the RpcWorker didn't have a connection to the OVN database the
Neutron DHCP agent wasn't able to create the DHCP port and failed with:

2021-07-13 13:36:18.116 17 ERROR neutron.plugins.ml2.managers if not
self._sb_ovn.chassis_exists(host):
2021-07-13 13:36:18.116 17 ERROR neutron.plugins.ml2.managers
AttributeError: 'NoneType' object has no attribute 'chassis_exists'

Note this fix is different from the master branch. Reason being, the
master branch included a new configuration option [0] that we could
leverage to fix this problem but that is not backportable as our guideline
do not allow for new features to be backported (and config options).

[0] https://review.opendev.org/c/openstack/neutron/+/795781

Closes-Bug: #1929633
Closes-Bug: #1935983
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
Change-Id: Id3002904c31fa063f2271d7f57d6da4eedc5f79e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/82/800782/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'],1,9b78518cf228e91634c40c0ae6de85f2f03bf24e,,"from neutron import service worker.MaintenanceWorker, service.RpcWorker)", worker.MaintenanceWorker),3,1
openstack%2Fgovernance~master~I7aa1535c50b6948fbac01e493583d33773cac74e,openstack/governance,master,I7aa1535c50b6948fbac01e493583d33773cac74e,Add link to Yoga announcement,MERGED,2021-07-08 00:15:41.000000000,2021-07-14 16:04:36.000000000,2021-07-14 16:03:26.000000000,"[{'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 00:15:41.000000000', 'files': ['reference/release-naming.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/747d25a9c5ce7f1362ed09e7178a26b45f574914', 'message': 'Add link to Yoga announcement\n\nChange-Id: I7aa1535c50b6948fbac01e493583d33773cac74e\n'}]",0,799926,747d25a9c5ce7f1362ed09e7178a26b45f574914,9,4,1,8556,,,0,"Add link to Yoga announcement

Change-Id: I7aa1535c50b6948fbac01e493583d33773cac74e
",git fetch https://review.opendev.org/openstack/governance refs/changes/26/799926/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/release-naming.rst'],1,747d25a9c5ce7f1362ed09e7178a26b45f574914,documentation-change,Y_ Ghanshyam Mann 2021-05-13 2021-06-10 2021-06-17 N/A.. _Y: http://lists.openstack.org/pipermail/openstack-discuss/2021-July/023512.html,Y Ghanshyam Mann 2021-05-13 2021-06-10 2021-06-17 N/A,2,2
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I33652de5ba5d087a30c291344be2847f617a5071,openstack/python-tripleoclient,stable/wallaby,I33652de5ba5d087a30c291344be2847f617a5071,Wire up the tripleo-upgrades-wallaby-pipeline,MERGED,2021-05-26 09:01:50.000000000,2021-07-14 15:58:54.000000000,2021-07-14 15:55:52.000000000,"[{'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-05-26 09:01:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/86567a6ea7b3dc4273bde72904dc69eecb7c2bda', 'message': 'Wire up the tripleo-upgrades-wallaby-pipeline\n\nThis wires up the wallaby upgrades jobs added in depends-on. See\ntopic branch [1] for related patches.\n\n[1] https://review.opendev.org/q/topic:wallaby-upgrade-jobs\nDepends-On: I91c4e84523a756c0588d20e6cc34782b6c712d50\n\nChange-Id: I33652de5ba5d087a30c291344be2847f617a5071\n'}, {'number': 2, 'created': '2021-05-26 09:19:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ce33f061d7a6582887b8a905b6a38f16ce3c4e9c', 'message': 'Wire up the tripleo-upgrades-wallaby-pipeline\n\nThis wires up the wallaby upgrades jobs added in depends-on. See\ntopic branch [1] for related patches.\n\n[1] https://review.opendev.org/q/topic:wallaby-upgrade-jobs\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/793120\n\nChange-Id: I33652de5ba5d087a30c291344be2847f617a5071\n'}, {'number': 3, 'created': '2021-07-01 15:10:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/918d7d93994dcef0aaff47385e20d366bd696dd5', 'message': 'Wire up the tripleo-upgrades-wallaby-pipeline\n\nThis wires up the wallaby upgrades jobs added in depends-on. See\ntopic branch [1] for related patches.\n\n[1] https://review.opendev.org/q/topic:wallaby-upgrade-jobs\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/793120\n\nChange-Id: I33652de5ba5d087a30c291344be2847f617a5071\n'}, {'number': 4, 'created': '2021-07-08 10:45:53.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/045ca0247a5ed5b5cf20a0d7ea90cc77661726ff', 'message': 'Wire up the tripleo-upgrades-wallaby-pipeline\n\nThis wires up the wallaby upgrades jobs added in tripleo-ci depends-on.\nSee topic branch [1] for related patches. The tripleo-heat-templates\ndepends-on is needed to fix a bug with the undercloud upgrade.\n\n[1] https://review.opendev.org/q/topic:wallaby-upgrade-jobs\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/793120\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/800007\n\nChange-Id: I33652de5ba5d087a30c291344be2847f617a5071\n'}]",0,793121,045ca0247a5ed5b5cf20a0d7ea90cc77661726ff,22,3,4,8449,,,0,"Wire up the tripleo-upgrades-wallaby-pipeline

This wires up the wallaby upgrades jobs added in tripleo-ci depends-on.
See topic branch [1] for related patches. The tripleo-heat-templates
depends-on is needed to fix a bug with the undercloud upgrade.

[1] https://review.opendev.org/q/topic:wallaby-upgrade-jobs

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/793120
Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/800007

Change-Id: I33652de5ba5d087a30c291344be2847f617a5071
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/21/793121/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,86567a6ea7b3dc4273bde72904dc69eecb7c2bda,wallaby-upgrade-jobs, - tripleo-upgrades-wallaby-pipeline, - tripleo-upgrades-master-pipeline,1,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ifd237a22f0d80a450eb0f95c1cb5be276858387f,openstack/tripleo-heat-templates,stable/wallaby,Ifd237a22f0d80a450eb0f95c1cb5be276858387f,Wire up the tripleo-upgrades-wallaby-pipeline,MERGED,2021-05-26 10:18:51.000000000,2021-07-14 15:45:41.000000000,2021-07-14 15:45:41.000000000,"[{'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-05-26 10:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e6bd1c3a2958011660ab9ec39e2f59a28aadafd1', 'message': 'Wire up the tripleo-upgrades-wallaby-pipeline\n\nThis wires up the wallaby upgrades jobs added in depends-on. See\ntopic branch [1] for related patches.\n\n[1] https://review.opendev.org/q/topic:wallaby-upgrade-jobs\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/793120\nChange-Id: Ifd237a22f0d80a450eb0f95c1cb5be276858387f\n'}, {'number': 2, 'created': '2021-07-01 15:10:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2e0229a97666f3e425604e228906eb8062b83145', 'message': 'Wire up the tripleo-upgrades-wallaby-pipeline\n\nThis wires up the wallaby upgrades jobs added in depends-on. See\ntopic branch [1] for related patches.\n\n[1] https://review.opendev.org/q/topic:wallaby-upgrade-jobs\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/793120\nChange-Id: Ifd237a22f0d80a450eb0f95c1cb5be276858387f\n'}, {'number': 3, 'created': '2021-07-08 10:46:03.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7335bc1a50476607387061b2ff230d1d69d2de74', 'message': 'Wire up the tripleo-upgrades-wallaby-pipeline\n\nThis wires up the wallaby upgrades jobs added in tripleo-ci depends-on.\nSee topic branch [1] for related patches. The parent patch at [2] is\nneeded to fix a bug with the undercloud upgrade.\n\n[1] https://review.opendev.org/q/topic:wallaby-upgrade-jobs\n[2] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/800007\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/793120\nChange-Id: Ifd237a22f0d80a450eb0f95c1cb5be276858387f\n'}]",0,793135,7335bc1a50476607387061b2ff230d1d69d2de74,31,4,3,8449,,,0,"Wire up the tripleo-upgrades-wallaby-pipeline

This wires up the wallaby upgrades jobs added in tripleo-ci depends-on.
See topic branch [1] for related patches. The parent patch at [2] is
needed to fix a bug with the undercloud upgrade.

[1] https://review.opendev.org/q/topic:wallaby-upgrade-jobs
[2] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/800007

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/793120
Change-Id: Ifd237a22f0d80a450eb0f95c1cb5be276858387f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/35/793135/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,e6bd1c3a2958011660ab9ec39e2f59a28aadafd1,wallaby-upgrade-jobs, - tripleo-upgrades-wallaby-pipeline, - tripleo-upgrades-master-pipeline,1,1
openstack%2Fcharm-placement~stable%2F21.04~I020ed66210b67ca477623c2b758c1aaa631b2083,openstack/charm-placement,stable/21.04,I020ed66210b67ca477623c2b758c1aaa631b2083,Lock to latest layer-basic commit,ABANDONED,2021-07-14 14:40:15.000000000,2021-07-14 15:41:39.000000000,,[],"[{'number': 1, 'created': '2021-07-14 14:40:15.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/84494c77f7842243c1a0450b665ce758858530c1', 'message': 'Lock to latest layer-basic commit\n\nThis picks up wheelhouse fixes for hirsute and xenial.\n\nCloses-Bug: #1934934\nChange-Id: I020ed66210b67ca477623c2b758c1aaa631b2083\n'}]",0,800799,84494c77f7842243c1a0450b665ce758858530c1,4,0,1,11805,,,0,"Lock to latest layer-basic commit

This picks up wheelhouse fixes for hirsute and xenial.

Closes-Bug: #1934934
Change-Id: I020ed66210b67ca477623c2b758c1aaa631b2083
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/99/800799/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,84494c77f7842243c1a0450b665ce758858530c1,," ""commit"": ""a3ff62c32c993d80417f6e093e3ef95e42f62083""} "," ""commit"": ""623e69c7b432456fd4364f6e1835424fd6b5425e""}",2,2
openstack%2Fironic~master~Ic042f0a87ff0723f313adb3888c24c5963624182,openstack/ironic,master,Ic042f0a87ff0723f313adb3888c24c5963624182,Fix Redfish RAID interface_type physical disk hint,MERGED,2021-06-09 09:22:52.000000000,2021-07-14 15:32:50.000000000,2021-07-14 15:31:11.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23847}]","[{'number': 1, 'created': '2021-06-09 09:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bdb24444a53b866f5a45ddd9f8b6f7b6f0437a7c', 'message': ""Fix Redfish RAID interface_type physical disk hint\n\nMap between sushy's protocol and RAID config schema's\ninterface_type constants.\n\nChange-Id: Ic042f0a87ff0723f313adb3888c24c5963624182\n""}, {'number': 2, 'created': '2021-06-22 10:37:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fcaa5f8107e0001a88a60b59915bcc5ca2824695', 'message': ""Fix Redfish RAID interface_type physical disk hint\n\nMap between sushy's protocol and RAID config schema's\ninterface_type constants.\n\nNot supporting `scsi` from RAID schema as Redfish does\nnot support it in Protocol property.\n\nChange-Id: Ic042f0a87ff0723f313adb3888c24c5963624182\n""}, {'number': 3, 'created': '2021-07-02 08:43:26.000000000', 'files': ['ironic/drivers/modules/redfish/raid.py', 'ironic/tests/unit/drivers/modules/redfish/test_raid.py', 'ironic/tests/unit/drivers/third_party_driver_mock_specs.py', 'releasenotes/notes/fix-redfish-raid-interface-type-4b3566b637cc2301.yaml', 'ironic/tests/unit/drivers/third_party_driver_mocks.py', 'ironic/common/raid.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/c41ed8414d6559535026f513c7e5e8a35824f549', 'message': ""Fix Redfish RAID interface_type physical disk hint\n\nMap between sushy's protocol and RAID config schema's\ninterface_type constants.\n\nNot supporting `scsi` from RAID schema as Redfish does\nnot support it in Protocol property.\n\nChange-Id: Ic042f0a87ff0723f313adb3888c24c5963624182\n""}]",7,795505,c41ed8414d6559535026f513c7e5e8a35824f549,37,4,3,27909,,,0,"Fix Redfish RAID interface_type physical disk hint

Map between sushy's protocol and RAID config schema's
interface_type constants.

Not supporting `scsi` from RAID schema as Redfish does
not support it in Protocol property.

Change-Id: Ic042f0a87ff0723f313adb3888c24c5963624182
",git fetch https://review.opendev.org/openstack/ironic refs/changes/05/795505/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/redfish/raid.py', 'ironic/tests/unit/drivers/modules/redfish/test_raid.py', 'ironic/tests/unit/drivers/third_party_driver_mock_specs.py', 'releasenotes/notes/fix-redfish-raid-interface-type-4b3566b637cc2301.yaml', 'ironic/tests/unit/drivers/third_party_driver_mocks.py', 'ironic/common/raid.py']",6,bdb24444a53b866f5a45ddd9f8b6f7b6f0437a7c,redfish-raid,"SATA = 'sata' ""Serial AT Attachment"" SCSI = 'scsi' ""Small Computer System Interface"" SAS = 'sas' ""Serial Attached SCSI"" ",,107,3
openstack%2Fcharm-vault~stable%2F21.04~Idaf5c377023d0a71c25617b3ecec666129ea0205,openstack/charm-vault,stable/21.04,Idaf5c377023d0a71c25617b3ecec666129ea0205,rebuild - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:26:25.000000000,2021-07-14 14:56:24.000000000,2021-07-14 14:56:24.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:26:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/e5c86987e219da6e52928e8fc92dfc9e9766b547', 'message': 'rebuild - restore proxy env vars for add-apt-repository\n\nChange-Id: Idaf5c377023d0a71c25617b3ecec666129ea0205\n'}, {'number': 2, 'created': '2021-07-07 15:15:39.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/f074151918e906fb3c3ef3d760739c29f40a7a62', 'message': 'rebuild - restore proxy env vars for add-apt-repository\n\nDepends-On: https://review.opendev.org/c/openstack/charm-vault/+/799773\nChange-Id: Idaf5c377023d0a71c25617b3ecec666129ea0205\n'}]",0,799313,f074151918e906fb3c3ef3d760739c29f40a7a62,15,4,2,11805,,,0,"rebuild - restore proxy env vars for add-apt-repository

Depends-On: https://review.opendev.org/c/openstack/charm-vault/+/799773
Change-Id: Idaf5c377023d0a71c25617b3ecec666129ea0205
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/13/799313/2 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,e5c86987e219da6e52928e8fc92dfc9e9766b547,batch-update,8efe37a6-db58-11eb-aaed-83ff33048978,bee1368a-64d9-11eb-aa25-5f38d0366b65,1,1
openstack%2Ftripleo-ansible~master~I52e6240070d8a4c935f0fa89bfaccfb5793e7240,openstack/tripleo-ansible,master,I52e6240070d8a4c935f0fa89bfaccfb5793e7240,Fix missing ansible_fqdn,ABANDONED,2021-07-12 17:55:50.000000000,2021-07-14 14:42:41.000000000,,"[{'_account_id': 7353}, {'_account_id': 13177}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-12 17:55:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a5b4ab8a2d19020fd802cb3efcff2c36fa6fd772', 'message': 'Fix missing ansible_fqdn\n\n* Recently saw this error: AnsibleUndefinedVariable: \'ansible_fqdn\' is undefined""\n* Previously this fact was being gathered somehow, but that appears to no longer be the case\n* Instead of triggering a full setup task, I figured I\'d just wire in the THT value\n* This fixed the error\n\nChange-Id: I52e6240070d8a4c935f0fa89bfaccfb5793e7240\n'}, {'number': 2, 'created': '2021-07-12 17:59:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/832bde270f9ea12de86522edf7499a215121e8ab', 'message': 'Fix missing ansible_fqdn in metrics_qdr\n\n* Recently saw this error: AnsibleUndefinedVariable: \'ansible_fqdn\' is undefined""\n* Previously this fact was being gathered somehow, but that appears to no longer be the case\n* Instead of triggering a full setup task, I figured I\'d just wire in the THT value\n* This fixed the error\n\nChange-Id: I52e6240070d8a4c935f0fa89bfaccfb5793e7240\n'}, {'number': 3, 'created': '2021-07-13 16:22:50.000000000', 'files': ['tripleo_ansible/roles/tripleo_metrics_qdr/molecule/common/converge.yml', 'tripleo_ansible/roles/tripleo_metrics_qdr/tasks/create_config.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/20f7751b25a4d17a573a4b512f8118cf7943525c', 'message': 'Fix missing ansible_fqdn\n\n* Recently saw this error: AnsibleUndefinedVariable: \'ansible_fqdn\' is undefined""\n* Previously this fact was being gathered somehow, but that appears to no longer be the case\n* Instead of triggering a full setup task, I figured I\'d just wire in the THT value\n* This fixed the error\n\nChange-Id: I52e6240070d8a4c935f0fa89bfaccfb5793e7240\n'}]",2,800531,20f7751b25a4d17a573a4b512f8118cf7943525c,16,5,3,30893,,,0,"Fix missing ansible_fqdn

* Recently saw this error: AnsibleUndefinedVariable: 'ansible_fqdn' is undefined""
* Previously this fact was being gathered somehow, but that appears to no longer be the case
* Instead of triggering a full setup task, I figured I'd just wire in the THT value
* This fixed the error

Change-Id: I52e6240070d8a4c935f0fa89bfaccfb5793e7240
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/31/800531/3 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_metrics_qdr/tasks/create_config.yml'],1,a5b4ab8a2d19020fd802cb3efcff2c36fa6fd772,," ansible_fqdn: ""{{ fqdn_canonical }}""",,1,0
openstack%2Ftripleo-common~stable%2Fwallaby~Ie68b4ba5fc29e07363704c95653f871852f54c2b,openstack/tripleo-common,stable/wallaby,Ie68b4ba5fc29e07363704c95653f871852f54c2b,Wire up the tripleo-upgrades-wallaby-pipeline,MERGED,2021-05-26 09:01:54.000000000,2021-07-14 14:35:43.000000000,2021-07-14 14:33:40.000000000,"[{'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-05-26 09:01:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/97636eec2ffc0e43a769de3e5d099f989c39eefd', 'message': 'Wire up the tripleo-upgrades-wallaby-pipeline\n\nThis wires up the wallaby upgrades jobs added in depends-on. See\ntopic branch [1] for related patches.\n\n[1] https://review.opendev.org/q/topic:wallaby-upgrade-jobs\nDepends-On: I91c4e84523a756c0588d20e6cc34782b6c712d50\n\nChange-Id: Ie68b4ba5fc29e07363704c95653f871852f54c2b\n'}, {'number': 2, 'created': '2021-05-26 11:14:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/06bdb3b97cf8662d67fb6b517ce0e84270ca3245', 'message': 'Wire up the tripleo-upgrades-wallaby-pipeline\n\nThis wires up the wallaby upgrades jobs added in depends-on. See\ntopic branch [1] for related patches.\n\n[1] https://review.opendev.org/q/topic:wallaby-upgrade-jobs\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/793120\n\nChange-Id: Ie68b4ba5fc29e07363704c95653f871852f54c2b\n'}, {'number': 3, 'created': '2021-07-01 15:09:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6625053fc70ae8b88cbe652c4d3327465aa2771d', 'message': 'Wire up the tripleo-upgrades-wallaby-pipeline\n\nThis wires up the wallaby upgrades jobs added in depends-on. See\ntopic branch [1] for related patches.\n\n[1] https://review.opendev.org/q/topic:wallaby-upgrade-jobs\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/793120\n\nChange-Id: Ie68b4ba5fc29e07363704c95653f871852f54c2b\n'}, {'number': 4, 'created': '2021-07-08 10:45:55.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/26f56c16951a8d076177b0d5b3d5448f47c7afda', 'message': 'Wire up the tripleo-upgrades-wallaby-pipeline\n\nThis wires up the wallaby upgrades jobs added in tripleo-ci depends-on.\nSee topic branch [1] for related patches. The tripleo-heat-templates\ndepends-on is needed to fix a bug with the undercloud upgrade.\n\n[1] https://review.opendev.org/q/topic:wallaby-upgrade-jobs\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/793120\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/800007\n\nChange-Id: Ie68b4ba5fc29e07363704c95653f871852f54c2b\n'}]",0,793123,26f56c16951a8d076177b0d5b3d5448f47c7afda,27,4,4,8449,,,0,"Wire up the tripleo-upgrades-wallaby-pipeline

This wires up the wallaby upgrades jobs added in tripleo-ci depends-on.
See topic branch [1] for related patches. The tripleo-heat-templates
depends-on is needed to fix a bug with the undercloud upgrade.

[1] https://review.opendev.org/q/topic:wallaby-upgrade-jobs

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/793120
Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/800007

Change-Id: Ie68b4ba5fc29e07363704c95653f871852f54c2b
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/23/793123/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,97636eec2ffc0e43a769de3e5d099f989c39eefd,wallaby-upgrade-jobs, - tripleo-upgrades-wallaby-pipeline, - tripleo-upgrades-master-pipeline,1,1
openstack%2Ftripleo-quickstart-extras~master~I75a58a5018cfad58060e90a5822f60e7de24d5be,openstack/tripleo-quickstart-extras,master,I75a58a5018cfad58060e90a5822f60e7de24d5be,Utilize tripleo-operator for OvercloudImage upload,MERGED,2021-07-13 11:46:48.000000000,2021-07-14 14:33:36.000000000,2021-07-14 14:33:36.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-13 11:46:48.000000000', 'files': ['roles/overcloud-prep-images/tasks/overcloud-prep-images.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9c6667d9156f7228bc91871db820823485ba94ed', 'message': 'Utilize tripleo-operator for OvercloudImage upload\n\nChange shell script for upload overcloud images by operator.\nLeave it as is for releases before train.\n\nChange-Id: I75a58a5018cfad58060e90a5822f60e7de24d5be\n'}]",2,800623,9c6667d9156f7228bc91871db820823485ba94ed,11,7,1,29775,,,0,"Utilize tripleo-operator for OvercloudImage upload

Change shell script for upload overcloud images by operator.
Leave it as is for releases before train.

Change-Id: I75a58a5018cfad58060e90a5822f60e7de24d5be
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/23/800623/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-prep-images/tasks/overcloud-prep-images.yml'],1,9c6667d9156f7228bc91871db820823485ba94ed,utilize-tripleo-operator,"- name: Upload Overcloud Images block: - name: Run overcloud image upload - legacy when: - release in ['queens', 'stein'] shell: > set -o pipefail && {{ working_dir }}/overcloud-image-upload.sh 2>&1 {{ timestamper_cmd }} > {{ overcloud_image_upload_log }} changed_when: true - name: Run overcloud image upload via tripleo-operator-ansible when: - release not in ['queens', 'stein'] collections: - tripleo.operator include_role: name: tripleo_overcloud_image_upload vars: tripleo_os_cloud: undercloud tripleo_overcloud_image_upload_debug: true tripleo_overcloud_image_upload_generate_scripts: true tripleo_overcloud_image_upload_http_boot: ""{{ containerized_undercloud | default(false) | ternary('/var/lib/ironic/httpboot', None) }}"" tripleo_overcloud_image_upload_whole_disk: ""{{ whole_disk_images|default(false) }}"" tripleo_overcloud_image_upload_local: ""{{ undercloud_enable_nova|default(false) }}"" tripleo_overcloud_image_upload_log: ""{{ overcloud_image_upload_log }}"" tripleo_overcloud_image_upload_log_combine: true",- name: Upload overcloud images shell: > set -o pipefail && {{ working_dir }}/overcloud-image-upload.sh 2>&1 {{ timestamper_cmd }} > {{ overcloud_image_upload_log }} changed_when: true,27,6
openstack%2Fmonasca-persister~stable%2Fussuri~Iadf750a1e6d3181b645ceccdf75cf910bc23adfd,openstack/monasca-persister,stable/ussuri,Iadf750a1e6d3181b645ceccdf75cf910bc23adfd,Update hacking for Python3,MERGED,2021-07-12 19:27:06.000000000,2021-07-14 14:11:44.000000000,2021-07-14 14:10:31.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-07-12 19:27:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/c41b234c2f3876f16bc74df000ff8875ce81d68c', 'message': ""Update hacking for Python3\n\nThe repo is Python 3 now, so update hacking to version 3.0 which\nsupports Python 3.\n\nFix problems found.\n\nUpdate local hacking checks for new flake8.\n\nRemove hacking and friends from lower-constraints, it's not needed\nthere.\n\nChange-Id: Iadf750a1e6d3181b645ceccdf75cf910bc23adfd\n(cherry picked from commit b306576d279249325786e5ac759764424ddfb0a6)\n""}, {'number': 2, 'created': '2021-07-13 21:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/29fc7a6f574392a13a4fe03270d940b04b854ff2', 'message': ""Update hacking for Python3\n\nThe repo is Python 3 now, so update hacking to version 3.0 which\nsupports Python 3.\n\nFix problems found.\n\nUpdate local hacking checks for new flake8.\n\nRemove hacking and friends from lower-constraints, it's not needed\nthere.\n\nChange-Id: Iadf750a1e6d3181b645ceccdf75cf910bc23adfd\n(cherry picked from commit b306576d279249325786e5ac759764424ddfb0a6)\n""}, {'number': 3, 'created': '2021-07-13 22:33:08.000000000', 'files': ['monasca_persister/persister.py', 'test-requirements.txt', 'lower-constraints.txt', 'docker/health_check.py', 'monasca_persister/hacking/checks.py', 'tox.ini', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/dfe3b4ded151e2b3d42c5e6511ff50795601c29f', 'message': ""Update hacking for Python3\n\nThe repo is Python 3 now, so update hacking to version 3.0 which\nsupports Python 3.\n\nFix problems found.\n\nUpdate local hacking checks for new flake8.\n\nRemove hacking and friends from lower-constraints, it's not needed\nthere.\n\nChange-Id: Iadf750a1e6d3181b645ceccdf75cf910bc23adfd\n(cherry picked from commit b306576d279249325786e5ac759764424ddfb0a6)\n""}]",0,800381,dfe3b4ded151e2b3d42c5e6511ff50795601c29f,11,3,3,26141,,,0,"Update hacking for Python3

The repo is Python 3 now, so update hacking to version 3.0 which
supports Python 3.

Fix problems found.

Update local hacking checks for new flake8.

Remove hacking and friends from lower-constraints, it's not needed
there.

Change-Id: Iadf750a1e6d3181b645ceccdf75cf910bc23adfd
(cherry picked from commit b306576d279249325786e5ac759764424ddfb0a6)
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/81/800381/2 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_persister/persister.py', 'test-requirements.txt', 'lower-constraints.txt', 'docker/health_check.py', 'monasca_persister/hacking/checks.py', 'tox.ini', 'releasenotes/source/conf.py']",7,c41b234c2f3876f16bc74df000ff8875ce81d68c,update-hacking-stable/ussuri," master_doc, 'MonitoringPersiterReleaseNotes.tex', u'Monitoring Persister Release Notes', [author], 'manual'"," master_doc, 'MonitoringPersiterReleaseNotes.tex', u'Monitoring Persister Release Notes', [author], 'manual'",32,22
openstack%2Freleases~master~I0b67f15a97590c8937e1079859469289361f4c9b,openstack/releases,master,I0b67f15a97590c8937e1079859469289361f4c9b,Create pike-eol tag for django-openstack-auth,MERGED,2021-07-12 14:54:42.000000000,2021-07-14 13:45:05.000000000,2021-07-14 13:45:05.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-07-12 14:54:42.000000000', 'files': ['deliverables/pike/django_openstack_auth.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/36756a1e7d9f3dccf212a235fe424f3eccea6616', 'message': ""Create pike-eol tag for django-openstack-auth\n\ndjango-openstack-auth is a library used in horizon and\nhorizon stable/pike was already EOL'ed in commit\n84bb332bf4b1d0dca05261bb384be88be275282f.\n\nChange-Id: I0b67f15a97590c8937e1079859469289361f4c9b\n""}]",0,800493,36756a1e7d9f3dccf212a235fe424f3eccea6616,9,4,1,841,,,0,"Create pike-eol tag for django-openstack-auth

django-openstack-auth is a library used in horizon and
horizon stable/pike was already EOL'ed in commit
84bb332bf4b1d0dca05261bb384be88be275282f.

Change-Id: I0b67f15a97590c8937e1079859469289361f4c9b
",git fetch https://review.opendev.org/openstack/releases refs/changes/93/800493/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/pike/django_openstack_auth.yaml'],1,36756a1e7d9f3dccf212a235fe424f3eccea6616,doa-pike-eol, - projects: - hash: b661070aec100d7f486746234a4713dfb2796279 repo: openstack/django_openstack_auth version: pike-eol,,4,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I2e1b3b965c52495eb9c1315857ff30066c42c33e,openstack/tripleo-heat-templates,stable/train,I2e1b3b965c52495eb9c1315857ff30066c42c33e,Remove usage of RetryFilter,ABANDONED,2021-06-22 08:20:42.000000000,2021-07-14 13:39:17.000000000,,"[{'_account_id': 13861}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-22 08:20:42.000000000', 'files': ['environments/cavium-liquidio.yaml', 'environments/ovs-hw-offload.yaml', 'environments/undercloud.yaml', 'environments/services-baremetal/neutron-sriov.yaml', 'environments/services/neutron-ovn-sriov.yaml', 'environments/services/neutron-mlnx-agent.yaml', 'environments/services/neutron-sriov.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/92a5e020aa31be186b75de981d4354f5a2313804', 'message': ""Remove usage of RetryFilter\n\nRetryFilter was deprecated in Train and is now\nremoved[1] from nova, so let's cleanup it's usage.\n\n[1] https://review.opendev.org/#/c/744800\n\nChange-Id: I2e1b3b965c52495eb9c1315857ff30066c42c33e\n(cherry picked from commit ccee58a60a48b70fe05802b22873075f8c4d7457)\n""}]",0,797399,92a5e020aa31be186b75de981d4354f5a2313804,14,4,1,19234,,,0,"Remove usage of RetryFilter

RetryFilter was deprecated in Train and is now
removed[1] from nova, so let's cleanup it's usage.

[1] https://review.opendev.org/#/c/744800

Change-Id: I2e1b3b965c52495eb9c1315857ff30066c42c33e
(cherry picked from commit ccee58a60a48b70fe05802b22873075f8c4d7457)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/99/797399/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/cavium-liquidio.yaml', 'environments/ovs-hw-offload.yaml', 'environments/undercloud.yaml', 'environments/services-baremetal/neutron-sriov.yaml', 'environments/services/neutron-ovn-sriov.yaml', 'environments/services/neutron-mlnx-agent.yaml', 'environments/services/neutron-sriov.yaml']",7,92a5e020aa31be186b75de981d4354f5a2313804,remove-deprecated-filters-stable/train," NovaSchedulerDefaultFilters: ['AvailabilityZoneFilter','ComputeFilter','ComputeCapabilitiesFilter','ImagePropertiesFilter','ServerGroupAntiAffinityFilter','ServerGroupAffinityFilter','PciPassthroughFilter']"," NovaSchedulerDefaultFilters: ['RetryFilter','AvailabilityZoneFilter','ComputeFilter','ComputeCapabilitiesFilter','ImagePropertiesFilter','ServerGroupAntiAffinityFilter','ServerGroupAffinityFilter','PciPassthroughFilter']",7,7
openstack%2Ftripleo-repos~master~I6e3e8663b7ca1ec2758843795142f91aa29fe74d,openstack/tripleo-repos,master,I6e3e8663b7ca1ec2758843795142f91aa29fe74d,Allow config overrides for TripleOHashInfo creation,MERGED,2021-06-08 13:53:55.000000000,2021-07-14 13:02:00.000000000,2021-07-14 13:02:00.000000000,"[{'_account_id': 7144}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 30002}, {'_account_id': 30750}]","[{'number': 1, 'created': '2021-06-08 13:53:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/5dafb8b967eeb7e39a30e53e22109ffc0e655224', 'message': ""Allow config overrides for TripleOHashInfo creation\n\nAllows passing in a config dictionary into the TripleOHashInfo\nconstructor. This allows to override the loaded config for example\nto pass in a dlrn_url. The passed config doesn't need to contain\nall the config keys and the rest of the values are taken from the\nloaded config file as before. Also includes a test case for the\nnew functionality. Used by [1].\n\n[1] https://review.opendev.org/c/openstack/tripleo-quickstart/+/791486\n\nChange-Id: I6e3e8663b7ca1ec2758843795142f91aa29fe74d\n""}, {'number': 2, 'created': '2021-06-09 11:04:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/6c5f91758befff10c8044db0ed51d56f5aa4c2a7', 'message': ""Allow config overrides for TripleOHashInfo creation\n\nAllows passing in a config dictionary into the TripleOHashInfo\nconstructor. This allows to override the loaded config for example\nto pass in a dlrn_url. The passed config doesn't need to contain\nall the config keys and the rest of the values are taken from the\nloaded config file as before. This also adds a new parameter for\nthe ansible module so we can pass dlrn_url via ansible invocations.\nIncludes 2 new test cases for the new functionality. Used by [1].\n\n[1] https://review.opendev.org/c/openstack/tripleo-quickstart/+/791486\n\nChange-Id: I6e3e8663b7ca1ec2758843795142f91aa29fe74d\n""}, {'number': 3, 'created': '2021-07-08 12:54:27.000000000', 'files': ['tripleo-get-hash/test/test_tripleo_get_hash_info.py', 'tripleo-get-hash/tripleo_get_hash.py', 'tripleo-get-hash/tripleo_get_hash/tripleo_hash_info.py'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/f5845612536c0703251088f0531c95056329c736', 'message': ""Allow config overrides for TripleOHashInfo creation\n\nAllows passing in a config dictionary into the TripleOHashInfo\nconstructor. This allows to override the loaded config for example\nto pass in a dlrn_url. The passed config doesn't need to contain\nall the config keys and the rest of the values are taken from the\nloaded config file as before. This also adds a new parameter for\nthe ansible module so we can pass dlrn_url via ansible invocations.\nIncludes 2 new test cases for the new functionality. Used by [1].\n\n[1] https://review.opendev.org/c/openstack/tripleo-quickstart/+/791486\n\nChange-Id: I6e3e8663b7ca1ec2758843795142f91aa29fe74d\n""}]",15,795333,f5845612536c0703251088f0531c95056329c736,23,8,3,8449,,,0,"Allow config overrides for TripleOHashInfo creation

Allows passing in a config dictionary into the TripleOHashInfo
constructor. This allows to override the loaded config for example
to pass in a dlrn_url. The passed config doesn't need to contain
all the config keys and the rest of the values are taken from the
loaded config file as before. This also adds a new parameter for
the ansible module so we can pass dlrn_url via ansible invocations.
Includes 2 new test cases for the new functionality. Used by [1].

[1] https://review.opendev.org/c/openstack/tripleo-quickstart/+/791486

Change-Id: I6e3e8663b7ca1ec2758843795142f91aa29fe74d
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/33/795333/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo-get-hash/test/test_tripleo_get_hash_info.py', 'tripleo-get-hash/tripleo_get_hash/tripleo_hash_info.py']",2,5dafb8b967eeb7e39a30e53e22109ffc0e655224,tripleo-get-hash," def load_config(cls, passed_config={}): TripleOHashInvalidConfig is raised. If the passed_config dict contains a given config value then that is used instead of the value from the loaded config file. Returns a dictionary containing :param passed_config: dict with configuration overrides :return: a config dictionary with the keys in constants.CONFIG_KEYS loaded_config = yaml.safe_load(config_yaml) for k in const.CONFIG_KEYS: if k not in loaded_config: # if the passed config contains the key then use that value if passed_config.get(k): result_config[k] = passed_config[k] else: result_config[k] = loaded_config[k] def __init__(self, os_version, release, component, tag, config={}): config = TripleOHashInfo.load_config(config)"," def load_config(cls): TripleOHashInvalidConfig is raised. Returns a dictionary containing :returns a config dictionary with the keys in constants.CONFIG_KEYS conf_yaml = yaml.safe_load(config_yaml) for k in const.CONFIG_KEYS: if k not in conf_yaml: loaded_value = conf_yaml[k] result_config[k] = loaded_value def __init__(self, os_version, release, component, tag, config=None): if config is None: config = TripleOHashInfo.load_config()",28,10
openstack%2Ftripleo-operator-ansible~master~I215a8b2be281b7565da1ce8425a4c95c63ccb877,openstack/tripleo-operator-ansible,master,I215a8b2be281b7565da1ce8425a4c95c63ccb877,[DNM] Test patch to see correct jobs trigger,ABANDONED,2021-07-14 12:28:53.000000000,2021-07-14 12:56:58.000000000,,[],"[{'number': 1, 'created': '2021-07-14 12:28:53.000000000', 'files': ['roles/tripleo_overcloud_network_provision/tasks/main.yml', 'roles/tripleo_overcloud_delete/tasks/main.yml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/d0a0cf932b5af7e11d617107afa5a0adbf7d1b67', 'message': '[DNM] Test patch to see correct jobs trigger\n\nChange-Id: I215a8b2be281b7565da1ce8425a4c95c63ccb877\n'}]",0,800779,d0a0cf932b5af7e11d617107afa5a0adbf7d1b67,2,0,1,29775,,,0,"[DNM] Test patch to see correct jobs trigger

Change-Id: I215a8b2be281b7565da1ce8425a4c95c63ccb877
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/79/800779/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_overcloud_network_provision/tasks/main.yml', 'roles/tripleo_overcloud_delete/tasks/main.yml', 'zuul.d/layout.yaml']",3,d0a0cf932b5af7e11d617107afa5a0adbf7d1b67,, check: jobs: [], templates: - openstack-python3-ussuri-jobs - tripleo-operator-molecule-jobs - release-notes-jobs-python3 check: jobs: - openstack-tox-linters - tripleo-ci-centos-8-content-provider: dependencies: - openstack-tox-linters - openstack-tox-pep8 - openstack-tox-py36 - openstack-tox-py37 files: &content_provider - ^roles/tripleo_undercloud_install/.*$ - ^roles/tripleo_undercloud_minion_install/.*$ - ^roles/tripleo_deploy/.*$ - ^roles/tripleo_container_image_prepare_default/.*$ - openstack-tox-docs: &tripleo-docs files: - ^doc/.* - ^molecule-requirements.txt - ^README.rst - ^requirements.txt - tripleo-ci-centos-8-containers-multinode: &job_containers_multinode vars: &multi_consumer_vars consumer_job: true build_container_images: false tags: - undercloud-setup - undercloud-scripts - undercloud-install - undercloud-post-install - tripleo-validations - overcloud-scripts - overcloud-prep-config - overcloud-prep-containers - overcloud-deploy - overcloud-post-deploy - overcloud-validate dependencies: &deps_content_provider_c8 - tripleo-ci-centos-8-content-provider files: &containers_multinode_files - ^roles/tripleo_undercloud_install/.*$ - tripleo-ci-centos-8-containers-undercloud-minion: &job_containers_undercloud_minion vars: &undercloud_consumer_vars consumer_job: true tags: - undercloud-setup - undercloud-scripts - undercloud-install - undercloud-validate - images dependencies: *deps_content_provider_c8 files: &containers_minion_files - ^roles/tripleo_undercloud_install/.*$ - ^roles/tripleo_undercloud_minion_install/.*$ - tripleo-ci-centos-8-standalone: &job_centos8_standalone vars: &sa_consumer_vars consumer_job: true build_container_images: false tags: - standalone dependencies: *deps_content_provider_c8 files: &standalone_files - ^roles/tripleo_deploy/.*$ - ^roles/tripleo_container_image_prepare_default/.*$ gate: jobs: - openstack-tox-linters - tripleo-ci-centos-8-content-provider: files: *content_provider - openstack-tox-docs: *tripleo-docs - tripleo-ci-centos-8-containers-multinode: *job_containers_multinode - tripleo-ci-centos-8-containers-undercloud-minion: *job_containers_undercloud_minion - tripleo-ci-centos-8-standalone: *job_centos8_standalone promote: jobs: - promote-openstack-tox-docs: *tripleo-docs,3,79
openstack%2Ftripleo-ci-health-queries~master~Idac2ac9c7f7edc04572efd9aa93d9dd958a8ca68,openstack/tripleo-ci-health-queries,master,Idac2ac9c7f7edc04572efd9aa93d9dd958a8ca68,Updating sova converter script,MERGED,2021-07-05 15:50:33.000000000,2021-07-14 12:35:54.000000000,2021-07-14 12:35:54.000000000,"[{'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2021-07-05 15:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/077acdb41fcaa20aa263b7046928f7970051318a', 'message': 'WIP: Updating sova converter script\n\nChange-Id: Idac2ac9c7f7edc04572efd9aa93d9dd958a8ca68\n'}, {'number': 2, 'created': '2021-07-06 11:53:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/ad3453facb380e231621c73b305e123230d4f79e', 'message': 'WIP: Updating sova converter script\n\nAdding options for\nsova_tag - determines which file group the regex belongs to (console/errors/syslog etc)\nerror_type - which type of failure is it (infra/code etc)\n\nChange-Id: Idac2ac9c7f7edc04572efd9aa93d9dd958a8ca68\n'}, {'number': 3, 'created': '2021-07-06 13:59:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/125ad2a13952cd3972db0b0ae159ef38b71a4551', 'message': 'WIP: Updating sova converter script\n\nAdding options for\nsova_tag - determines which file group the regex belongs to (console/errors/syslog etc)\nerror_type - which type of failure is it (infra/code etc)\n\nChange-Id: Idac2ac9c7f7edc04572efd9aa93d9dd958a8ca68\n'}, {'number': 4, 'created': '2021-07-07 16:01:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/7fb1c9b91c616faadbc84672dcec866db72d2f07', 'message': 'Updating sova converter script\n\nAdding options for\nsova_tag - determines which file group the regex belongs to (console/errors/syslog etc)\nerror_type - which type of failure is it (infra/code etc)\n\nChange-Id: Idac2ac9c7f7edc04572efd9aa93d9dd958a8ca68\n'}, {'number': 5, 'created': '2021-07-13 14:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/13111c0e955deff789323132a6d79867bbb354f7', 'message': 'Updating sova converter script\n\nAdding options for\n[1] sova_tag - determines which file group the regex belongs to (console/errors/syslog etc)\n[2] error_type - which type of failure is it (infra/code etc)\n[3] multiline - whether it is a multiline regex\n\n[1] https://opendev.org/openstack/tripleo-ci-health-queries/src/branch/master/output/sova-patterns.json#L851-L866\n[2] https://opendev.org/openstack/tripleo-ci-health-queries/src/branch/master/output/sova-patterns.json#L174\n[3] https://docs.python.org/3/library/re.html#re.MULTILINE, https://docs.python.org/3/library/re.html#re.MULTILINE\n\nChange-Id: Idac2ac9c7f7edc04572efd9aa93d9dd958a8ca68\n'}, {'number': 6, 'created': '2021-07-14 11:15:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/e47fbc50d8c84d067916d067e9faf9d66293b7ad', 'message': 'Updating sova converter script\n\nAdding options for\n[1] sova_tag - determines which file group the regex belongs to (console/errors/syslog etc)\n[2] error_type - which type of failure is it (infra/code etc)\n\n[1] https://opendev.org/openstack/tripleo-ci-health-queries/src/branch/master/output/sova-patterns.json#L851-L866\n[2] https://opendev.org/openstack/tripleo-ci-health-queries/src/branch/master/output/sova-patterns.json#L174\n\nChange-Id: Idac2ac9c7f7edc04572efd9aa93d9dd958a8ca68\n'}, {'number': 7, 'created': '2021-07-14 11:20:13.000000000', 'files': ['output/queries-schema.json', 'src/model.py', 'src/sova-converter.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/f78d64bcdbd6383ed80eaecc54bdba8c0e1a17ba', 'message': 'Updating sova converter script\n\nAdding options for\n[1] sova_tag - determines which file group the regex belongs to (console/errors/syslog etc)\n[2] error_type - which type of failure is it (infra/code etc)\n\n[1] https://opendev.org/openstack/tripleo-ci-health-queries/src/branch/master/output/sova-patterns.json#L851-L866\n[2] https://opendev.org/openstack/tripleo-ci-health-queries/src/branch/master/output/sova-patterns.json#L174\n\nChange-Id: Idac2ac9c7f7edc04572efd9aa93d9dd958a8ca68\n'}]",0,799514,f78d64bcdbd6383ed80eaecc54bdba8c0e1a17ba,20,3,7,32458,,,0,"Updating sova converter script

Adding options for
[1] sova_tag - determines which file group the regex belongs to (console/errors/syslog etc)
[2] error_type - which type of failure is it (infra/code etc)

[1] https://opendev.org/openstack/tripleo-ci-health-queries/src/branch/master/output/sova-patterns.json#L851-L866
[2] https://opendev.org/openstack/tripleo-ci-health-queries/src/branch/master/output/sova-patterns.json#L174

Change-Id: Idac2ac9c7f7edc04572efd9aa93d9dd958a8ca68
",git fetch https://review.opendev.org/openstack/tripleo-ci-health-queries refs/changes/14/799514/2 && git format-patch -1 --stdout FETCH_HEAD,"['output/sova-pattern-generated.json', 'src/sova-converter.py']",2,077acdb41fcaa20aa263b7046928f7970051318a,sova_converter,"sova_patterns_list = {} sova_tag = query_dict.get(""sova_tag"", ""console"") patterns = sova_patterns_list.get(sova_tag, list()) msg = query_dict.get(""msg"", regex_name) error_type = query_dict.get(""error_type"", ""info"") ""msg"": msg, ""tag"": error_type, sova_patterns_list[sova_tag] = patterns","sova_patterns_list = {""console"": []} patterns = sova_patterns_list.get(""console"", list()) ""msg"": regex_name, ""tag"": ""info"",",17,11
openstack%2Ftripleo-upgrade~stable%2Ftrain~I8a34b24959e74d8986ca91b2a3727894066d11c6,openstack/tripleo-upgrade,stable/train,I8a34b24959e74d8986ca91b2a3727894066d11c6,[TRAIN-ONLY] Replace LEAPP_DEVEL_SKIP_RHSM with LEAPP_NO_RHSM,MERGED,2021-07-13 18:33:10.000000000,2021-07-14 12:28:28.000000000,2021-07-14 12:28:28.000000000,"[{'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-07-13 18:33:10.000000000', 'files': ['tasks/common/undercloud_os_upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/fbb4b7fb31a0c66fc7041ce3ca598939533f9659', 'message': '[TRAIN-ONLY] Replace LEAPP_DEVEL_SKIP_RHSM with LEAPP_NO_RHSM\n\nLEAPP_DEVEL_SKIP_RHSM will be removed next LEAPP release. This patch\nreplaces it with LEAPP_NO_RHSM\n\nChange-Id: I946ede504b98d8226bffaa7220174fd0d94e81f1\n(Partially cherry picked from commit df68e50a7ad3f3c15ef6d2264a223be9ba9965b8)\n(Partially cherry picked from commit c08cfdc7e2013d77ed27ad8eedaf90a383a9b193)\n\nChange-Id: I8a34b24959e74d8986ca91b2a3727894066d11c6\n'}]",0,800710,fbb4b7fb31a0c66fc7041ce3ca598939533f9659,7,6,1,11090,,,0,"[TRAIN-ONLY] Replace LEAPP_DEVEL_SKIP_RHSM with LEAPP_NO_RHSM

LEAPP_DEVEL_SKIP_RHSM will be removed next LEAPP release. This patch
replaces it with LEAPP_NO_RHSM

Change-Id: I946ede504b98d8226bffaa7220174fd0d94e81f1
(Partially cherry picked from commit df68e50a7ad3f3c15ef6d2264a223be9ba9965b8)
(Partially cherry picked from commit c08cfdc7e2013d77ed27ad8eedaf90a383a9b193)

Change-Id: I8a34b24959e74d8986ca91b2a3727894066d11c6
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/10/800710/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/undercloud_os_upgrade.yaml'],1,fbb4b7fb31a0c66fc7041ce3ca598939533f9659,, export LEAPP_NO_RHSM=1, export LEAPP_DEVEL_SKIP_RHSM=1,1,1
openstack%2Ftripleo-heat-templates~master~I750d9700de407b21c8878af99cd0fcd5ae7797a6,openstack/tripleo-heat-templates,master,I750d9700de407b21c8878af99cd0fcd5ae7797a6,Replace LEAPP_DEVEL_SKIP_RHSM with LEAPP_NO_RHSM,MERGED,2021-07-12 14:50:11.000000000,2021-07-14 12:28:16.000000000,2021-07-14 12:28:16.000000000,"[{'_account_id': 6816}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-12 14:50:11.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ead5443cb042b7aef0f44f250c912e8a9a3f2d89', 'message': 'Replace LEAPP_DEVEL_SKIP_RHSM with LEAPP_NO_RHSM\n\nLEAPP_DEVEL_SKIP_RHSM is deprecated and will be removed from LEAPP in\nnext release. This patch replaces it with actual variable LEAPP_NO_RHSM\n\nChange-Id: I750d9700de407b21c8878af99cd0fcd5ae7797a6\n'}]",0,800488,ead5443cb042b7aef0f44f250c912e8a9a3f2d89,9,4,1,11090,,,0,"Replace LEAPP_DEVEL_SKIP_RHSM with LEAPP_NO_RHSM

LEAPP_DEVEL_SKIP_RHSM is deprecated and will be removed from LEAPP in
next release. This patch replaces it with actual variable LEAPP_NO_RHSM

Change-Id: I750d9700de407b21c8878af99cd0fcd5ae7797a6
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/88/800488/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'],1,ead5443cb042b7aef0f44f250c912e8a9a3f2d89,," development/testing. For example, LEAPP_NO_RHSM=1."," development/testing. For example, LEAPP_DEVEL_SKIP_RHSM=1.",1,1
openstack%2Ftripleo-ansible~stable%2Fussuri~Id84d7b0653a1ae545b2a4af3f63a28ba19bafaf9,openstack/tripleo-ansible,stable/ussuri,Id84d7b0653a1ae545b2a4af3f63a28ba19bafaf9,Replace LEAPP_DEVEL_SKIP_RHSM with LEAPP_NO_RHSM,MERGED,2021-07-13 18:41:55.000000000,2021-07-14 12:24:36.000000000,2021-07-14 12:24:36.000000000,"[{'_account_id': 6816}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-07-13 18:41:55.000000000', 'files': ['tripleo_ansible/roles/tripleo_packages/tasks/upgrade.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/051b87d28b57ba4ed04129d196c9b41d6527d781', 'message': 'Replace LEAPP_DEVEL_SKIP_RHSM with LEAPP_NO_RHSM\n\nLEAPP_DEVEL_SKIP_RHSM will be removed next LEAPP release. This patch\nreplaces it with LEAPP_NO_RHSM\n\nChange-Id: Id84d7b0653a1ae545b2a4af3f63a28ba19bafaf9\n(cherry picked from commit 2a3467cbf06e7c4ee07b701bd3c31f902583ad7f)\n(cherry picked from commit 2e2e0b3f0e0848a107b34b88f32cdd685eb0f635)\n(cherry picked from commit f196d2c8ab72dd19cf10b6c6fa240d4ddb164a71)\n'}]",0,800713,051b87d28b57ba4ed04129d196c9b41d6527d781,8,5,1,11090,,,0,"Replace LEAPP_DEVEL_SKIP_RHSM with LEAPP_NO_RHSM

LEAPP_DEVEL_SKIP_RHSM will be removed next LEAPP release. This patch
replaces it with LEAPP_NO_RHSM

Change-Id: Id84d7b0653a1ae545b2a4af3f63a28ba19bafaf9
(cherry picked from commit 2a3467cbf06e7c4ee07b701bd3c31f902583ad7f)
(cherry picked from commit 2e2e0b3f0e0848a107b34b88f32cdd685eb0f635)
(cherry picked from commit f196d2c8ab72dd19cf10b6c6fa240d4ddb164a71)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/13/800713/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_packages/tasks/upgrade.yml'],1,051b87d28b57ba4ed04129d196c9b41d6527d781,, {% if upgrade_leapp_devel_skip_rhsm|default(false) %}LEAPP_NO_RHSM=1{% endif %}, {% if upgrade_leapp_devel_skip_rhsm|default(false) %}LEAPP_DEVEL_SKIP_RHSM=1{% endif %},1,1
openstack%2Ftripleo-ansible~stable%2Ftrain~Id84d7b0653a1ae545b2a4af3f63a28ba19bafaf9,openstack/tripleo-ansible,stable/train,Id84d7b0653a1ae545b2a4af3f63a28ba19bafaf9,Replace LEAPP_DEVEL_SKIP_RHSM with LEAPP_NO_RHSM,MERGED,2021-07-13 18:44:50.000000000,2021-07-14 12:24:33.000000000,2021-07-14 12:24:33.000000000,"[{'_account_id': 6816}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-07-13 18:44:50.000000000', 'files': ['tripleo_ansible/roles/tripleo-packages/tasks/upgrade.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3606b4bbe23aece796ff07fa465e7f763c62badc', 'message': 'Replace LEAPP_DEVEL_SKIP_RHSM with LEAPP_NO_RHSM\n\nLEAPP_DEVEL_SKIP_RHSM will be removed next LEAPP release. This patch\nreplaces it with LEAPP_NO_RHSM\n\nChange-Id: Id84d7b0653a1ae545b2a4af3f63a28ba19bafaf9\n(cherry picked from commit 2a3467cbf06e7c4ee07b701bd3c31f902583ad7f)\n(cherry picked from commit 2e2e0b3f0e0848a107b34b88f32cdd685eb0f635)\n(cherry picked from commit f196d2c8ab72dd19cf10b6c6fa240d4ddb164a71)\n(cherry picked from commit 051b87d28b57ba4ed04129d196c9b41d6527d781)\n'}]",0,800714,3606b4bbe23aece796ff07fa465e7f763c62badc,8,5,1,11090,,,0,"Replace LEAPP_DEVEL_SKIP_RHSM with LEAPP_NO_RHSM

LEAPP_DEVEL_SKIP_RHSM will be removed next LEAPP release. This patch
replaces it with LEAPP_NO_RHSM

Change-Id: Id84d7b0653a1ae545b2a4af3f63a28ba19bafaf9
(cherry picked from commit 2a3467cbf06e7c4ee07b701bd3c31f902583ad7f)
(cherry picked from commit 2e2e0b3f0e0848a107b34b88f32cdd685eb0f635)
(cherry picked from commit f196d2c8ab72dd19cf10b6c6fa240d4ddb164a71)
(cherry picked from commit 051b87d28b57ba4ed04129d196c9b41d6527d781)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/14/800714/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-packages/tasks/upgrade.yml'],1,3606b4bbe23aece796ff07fa465e7f763c62badc,, {% if upgrade_leapp_devel_skip_rhsm|default(false) %}LEAPP_NO_RHSM=1{% endif %}, {% if upgrade_leapp_devel_skip_rhsm|default(false) %}LEAPP_DEVEL_SKIP_RHSM=1{% endif %},1,1
openstack%2Fpython-manilaclient~master~Ic2d939d0dde278f3f0eed870df808da1344ae91a,openstack/python-manilaclient,master,Ic2d939d0dde278f3f0eed870df808da1344ae91a,Add --wait flag to the delete share group operation,MERGED,2021-04-30 19:16:12.000000000,2021-07-14 12:01:42.000000000,2021-07-14 12:00:32.000000000,"[{'_account_id': 6413}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 31213}, {'_account_id': 32594}]","[{'number': 1, 'created': '2021-04-30 19:16:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/170129a03b6cfc3ed7378178c1688f7ebad336a8', 'message': 'a --wait option for deleting a share group\n\nChange-Id: Ic2d939d0dde278f3f0eed870df808da1344ae91a\n'}, {'number': 2, 'created': '2021-06-02 19:45:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/b5d0943408ca6b227da85db4b0d626596dcb16bb', 'message': 'Add mock the _find_share_group method in the shell_v2 lib\nRemove the self.mock_object(...) and added self.assert_called in _find_share_group method\nResolve indentation issues\n\nChange-Id: Ic2d939d0dde278f3f0eed870df808da1344ae91a\n'}, {'number': 3, 'created': '2021-06-03 18:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/c18a209663da56981a40f27a1608d40583200978', 'message': 'build fix on adding ""--wait"" option for deleting a share group\n\nChange-Id: Ic2d939d0dde278f3f0eed870df808da1344ae91a\n'}, {'number': 4, 'created': '2021-06-04 21:43:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/c01fd770d1fb09fd462270550272d1c9c37d03fd', 'message': 'Add --wait flag to the delete share group operation\n\nCloses-Bug: #1898318\nChange-Id: Ic2d939d0dde278f3f0eed870df808da1344ae91a\n'}, {'number': 5, 'created': '2021-06-07 20:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/aaeafe6f77c4e374d445f7a283a03197bb197d42', 'message': 'Add --wait flag to the delete share group operation\n\nThis patch set adds the --wait flag to the share group operation. This will make the CLI to wait for the operation to be completed before returning to the prompt.\n\nCloses-Bug: #1898318\nChange-Id: Ic2d939d0dde278f3f0eed870df808da1344ae91a\n'}, {'number': 6, 'created': '2021-06-10 13:34:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/711648c1c191bc2ae11c1ee9b1aeaa9594eb43cb', 'message': 'Add --wait flag to the delete share group operation\n\nThis patch set adds the --wait flag to the share group operation. This will make the CLI to wait for the operation to be completed before returning to the prompt.\n\nCloses-Bug: #1898318\nChange-Id: Ic2d939d0dde278f3f0eed870df808da1344ae91a\n'}, {'number': 7, 'created': '2021-06-14 16:41:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/622172c07ec7ff6138feb0e1694918ca88e22cde', 'message': 'Add --wait flag to the delete share group operation\n\nThis patch set adds the --wait flag to the share group\noperation. This will make the CLI to wait for the\noperation to be completed before returning to the prompt.\n\nCloses-Bug: #1898318\nChange-Id: Ic2d939d0dde278f3f0eed870df808da1344ae91a\n'}, {'number': 8, 'created': '2021-06-17 11:08:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/0e93374bb39e531941ab1d723003ed5c6f0df0b1', 'message': 'Add --wait flag to the delete share group operation\n\nThis patch set adds the --wait flag to the share group\noperation. This will make the CLI to wait for the\noperation to be completed before returning to the prompt.\n\nCloses-Bug: #1898318\nChange-Id: Ic2d939d0dde278f3f0eed870df808da1344ae91a\n'}, {'number': 9, 'created': '2021-06-30 13:08:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/a3f1455aebb42c90ca1992fcedcc962ba60a5757', 'message': 'Add --wait flag to the delete share group operation\n\nThis patch set adds the --wait flag to the share group\noperation. This will make the CLI to wait for the\noperation to be completed before returning to the prompt.\n\nUpdated test_share_delete to be test_share_delete_wait\nand included the waiter flag.\n\nUpdated test_share_group_delete_force to test the\ncorrect calls.\n\nAlso, updated test_share_group_update and test_share_group_show\nsince they were randomnly failing depending on the test execution\norder. Mocks were being cleaned up and that was leading us to\nsome errors. Created mocks for required resources within those\ntests to make it more stable.\n\nCloses-Bug: #1898318\nChange-Id: Ic2d939d0dde278f3f0eed870df808da1344ae91a\n'}, {'number': 10, 'created': '2021-06-30 14:29:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/9a8106c561fa14dc104c7a39dfe97ca83d1b5fe4', 'message': 'Add --wait flag to the delete share group operation\n\nThis patch set adds the --wait flag to the share group\noperation. This will make the CLI to wait for the\noperation to be completed before returning to the prompt.\n\nUpdated test_share_delete to be test_share_delete_wait\nand included the waiter flag.\n\nUpdated test_share_group_delete_force to test the\ncorrect calls.\n\nAlso, updated test_share_group_update and test_share_group_show\nsince they were randomnly failing depending on the test execution\norder. Mocks were being cleaned up and that was leading us to\nsome errors. Created mocks for required resources within those\ntests to make it more stable.\n\nCloses-Bug: #1898318\nChange-Id: Ic2d939d0dde278f3f0eed870df808da1344ae91a\n'}, {'number': 11, 'created': '2021-07-12 06:18:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/f4f08b26fe93fbcf8fb84b49863dbfeaa75132c2', 'message': 'Add --wait flag to the delete share group operation\n\nThis patch set adds the --wait flag to the share group\noperation. This will make the CLI to wait for the\noperation to be completed before returning to the prompt.\n\nUpdated test_share_delete to be test_share_delete_wait\nand included the waiter flag.\n\nUpdated test_share_group_delete_force to test the\ncorrect calls.\n\nAlso, updated test_share_group_update and test_share_group_show\nsince they were randomnly failing depending on the test execution\norder. Mocks were being cleaned up and that was leading us to\nsome errors. Created mocks for required resources within those\ntests to make it more stable.\n\nPartial-Bug: #1898318\nChange-Id: Ic2d939d0dde278f3f0eed870df808da1344ae91a\n'}, {'number': 12, 'created': '2021-07-12 06:25:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/173e036fd547b40e6e13538776008f63608cfd53', 'message': 'Add --wait flag to the delete share group operation\n\nThis patch set adds the --wait flag to the share group\noperation. This will make the CLI to wait for the\noperation to be completed before returning to the prompt.\n\nUpdated test_share_delete to be test_share_delete_wait\nand included the waiter flag.\n\nUpdated test_share_group_delete_force to test the\ncorrect calls.\n\nAlso, updated test_share_group_update and test_share_group_show\nsince they were randomnly failing depending on the test execution\norder. Mocks were being cleaned up and that was leading us to\nsome errors. Created mocks for required resources within those\ntests to make it more stable.\n\nPartial-Bug: #1898318\nChange-Id: Ic2d939d0dde278f3f0eed870df808da1344ae91a\n'}, {'number': 13, 'created': '2021-07-14 09:39:55.000000000', 'files': ['manilaclient/tests/unit/v2/test_shell.py', 'manilaclient/v2/shell.py', 'releasenotes/notes/bug-1898318-add-wait-flag-for-deleting-a-share-group-operation-c602ba9faad411be.yaml'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/f84f32e702edbbf2ca05434cdadbfa47af0cf0c0', 'message': 'Add --wait flag to the delete share group operation\n\nThis patch set adds the --wait flag to the share group\noperation. This will make the CLI to wait for the\noperation to be completed before returning to the prompt.\n\nUpdated test_share_delete to be test_share_delete_wait\nand included the waiter flag.\n\nUpdated test_share_group_delete_force to test the\ncorrect calls.\n\nAlso, updated test_share_group_update and test_share_group_show\nsince they were randomnly failing depending on the test execution\norder. Mocks were being cleaned up and that was leading us to\nsome errors. Created mocks for required resources within those\ntests to make it more stable.\n\nPartial-Bug: #1898318\nChange-Id: Ic2d939d0dde278f3f0eed870df808da1344ae91a\n'}]",39,789018,f84f32e702edbbf2ca05434cdadbfa47af0cf0c0,59,5,13,33380,,,0,"Add --wait flag to the delete share group operation

This patch set adds the --wait flag to the share group
operation. This will make the CLI to wait for the
operation to be completed before returning to the prompt.

Updated test_share_delete to be test_share_delete_wait
and included the waiter flag.

Updated test_share_group_delete_force to test the
correct calls.

Also, updated test_share_group_update and test_share_group_show
since they were randomnly failing depending on the test execution
order. Mocks were being cleaned up and that was leading us to
some errors. Created mocks for required resources within those
tests to make it more stable.

Partial-Bug: #1898318
Change-Id: Ic2d939d0dde278f3f0eed870df808da1344ae91a
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/18/789018/9 && git format-patch -1 --stdout FETCH_HEAD,"['manilaclient/tests/unit/v2/test_shell.py', 'manilaclient/v2/shell.py']",2,170129a03b6cfc3ed7378178c1688f7ebad336a8,bug/1898318,"@cliutils.arg( '--wait', action='store_true', help='Wait for share group to delete') @cliutils.arg( '--wait', action='store_true', help='Wait for share group to create') share_group_to_delete = [] share_group_to_delete.append(share_group_ref) share_group_ref.delete() if args.wait: for share_group in share_group_to_delete: try: _wait_for_resource_status( cs, share_group, resource_type='share_group', expected_status='deleted') except exceptions.CommandError as e: print(e, file=sys.stderr)"," cs.share_groups.delete(share_group_ref, **kwargs)",51,7
openstack%2Ftripleo-ansible~stable%2Fvictoria~Id84d7b0653a1ae545b2a4af3f63a28ba19bafaf9,openstack/tripleo-ansible,stable/victoria,Id84d7b0653a1ae545b2a4af3f63a28ba19bafaf9,Replace LEAPP_DEVEL_SKIP_RHSM with LEAPP_NO_RHSM,MERGED,2021-07-13 18:40:56.000000000,2021-07-14 12:01:06.000000000,2021-07-14 12:01:06.000000000,"[{'_account_id': 6816}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-07-13 18:40:56.000000000', 'files': ['tripleo_ansible/roles/tripleo_packages/tasks/upgrade.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f196d2c8ab72dd19cf10b6c6fa240d4ddb164a71', 'message': 'Replace LEAPP_DEVEL_SKIP_RHSM with LEAPP_NO_RHSM\n\nLEAPP_DEVEL_SKIP_RHSM will be removed next LEAPP release. This patch\nreplaces it with LEAPP_NO_RHSM\n\nChange-Id: Id84d7b0653a1ae545b2a4af3f63a28ba19bafaf9\n(cherry picked from commit 2a3467cbf06e7c4ee07b701bd3c31f902583ad7f)\n(cherry picked from commit 2e2e0b3f0e0848a107b34b88f32cdd685eb0f635)\n'}]",0,800712,f196d2c8ab72dd19cf10b6c6fa240d4ddb164a71,8,6,1,11090,,,0,"Replace LEAPP_DEVEL_SKIP_RHSM with LEAPP_NO_RHSM

LEAPP_DEVEL_SKIP_RHSM will be removed next LEAPP release. This patch
replaces it with LEAPP_NO_RHSM

Change-Id: Id84d7b0653a1ae545b2a4af3f63a28ba19bafaf9
(cherry picked from commit 2a3467cbf06e7c4ee07b701bd3c31f902583ad7f)
(cherry picked from commit 2e2e0b3f0e0848a107b34b88f32cdd685eb0f635)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/12/800712/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_packages/tasks/upgrade.yml'],1,f196d2c8ab72dd19cf10b6c6fa240d4ddb164a71,, {% if upgrade_leapp_devel_skip_rhsm|default(false) %}LEAPP_NO_RHSM=1{% endif %}, {% if upgrade_leapp_devel_skip_rhsm|default(false) %}LEAPP_DEVEL_SKIP_RHSM=1{% endif %},1,1
openstack%2Ftripleo-ci~master~I843aee754b29a49ec5a2c88af1bda7bce7a60aee,openstack/tripleo-ci,master,I843aee754b29a49ec5a2c88af1bda7bce7a60aee,Exclude buggy edk2-ovmf for t/u/v container-build,MERGED,2021-05-31 15:39:37.000000000,2021-07-14 12:01:01.000000000,2021-06-02 03:57:49.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-05-31 15:39:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6e58c0a017736eac8d6dd0bc539e2a3e013112f3', 'message': ""Exclude buggy edk2-ovmf for t/u/v container-build\n\nc8-stream currently contains two versions of edk2-ovmf, We are\nexcluding edk2-ovmf-20200602gitca407c7246bf-5 so we use the\nlower version edk2-ovmf-20200602gitca407c7246bf-4.el8\n\nThis is recommended from compute team that we keep using old version\nuntil bz1961562 [2] is fixed. Fix will come in libvirt[2].\n\nWe fixed the check job using [3]. Periodic container build job don't\nutilize repos from tripleo-quickstart release file, AppStream.repo\nseems coming from configure-mirrors[4] role.\n\nCreating a task here to include the exclude for buggy edk2-ovmf\nversion.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1961562\n[2] https://github.com/libvirt/libvirt/commit/61d95a1073833ec4323c1ef28e71e913c55aa7b9\n[3] https://review.opendev.org/c/openstack/tripleo-quickstart/+/793098\n[4] https://opendev.org/zuul/zuul-jobs/src/branch/master/roles/configure-mirrors/tasks/mirror/CentOSStream-8.yaml#L10\n\nChange-Id: I843aee754b29a49ec5a2c88af1bda7bce7a60aee\n""}, {'number': 2, 'created': '2021-05-31 16:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1e2f509380fb8425a39378f28e79615d0e4958f7', 'message': ""Exclude buggy edk2-ovmf for t/u/v container-build\n\nc8-stream currently contains two versions of edk2-ovmf, We are\nexcluding edk2-ovmf-20200602gitca407c7246bf-5 so we use the\nlower version edk2-ovmf-20200602gitca407c7246bf-4.el8\n\nThis is recommended from compute team that we keep using old version\nuntil bz1961562 [2] is fixed. Fix will come in libvirt[2].\n\nWe fixed the check job using [3]. Periodic container build job don't\nutilize repos from tripleo-quickstart release file, AppStream.repo\nseems coming from configure-mirrors[4] role.\n\nCreating a task here to include the exclude for buggy edk2-ovmf\nversion.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1961562\n[2] https://github.com/libvirt/libvirt/commit/61d95a1073833ec4323c1ef28e71e913c55aa7b9\n[3] https://review.opendev.org/c/openstack/tripleo-quickstart/+/793098\n[4] https://opendev.org/zuul/zuul-jobs/src/branch/master/roles/configure-mirrors/tasks/mirror/CentOSStream-8.yaml#L10\n\nChange-Id: I843aee754b29a49ec5a2c88af1bda7bce7a60aee\n""}, {'number': 3, 'created': '2021-05-31 18:16:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5f05e1b3fa22e6ba2b51d5afc570f2de83cd07c6', 'message': ""Exclude buggy edk2-ovmf for t/u/v container-build\n\nc8-stream currently contains two versions of edk2-ovmf, We are\nexcluding edk2-ovmf-20200602gitca407c7246bf-5 so we use the\nlower version edk2-ovmf-20200602gitca407c7246bf-4.el8\n\nThis is recommended from compute team that we keep using old version\nuntil bz1961562 [2] is fixed. Fix will come in libvirt[2].\n\nWe fixed the check job using [3]. Periodic container build job don't\nutilize repos from tripleo-quickstart release file, AppStream.repo\nseems coming from configure-mirrors[4] role.\n\nCreating a task here to include the exclude for buggy edk2-ovmf\nversion.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1961562\n[2] https://github.com/libvirt/libvirt/commit/61d95a1073833ec4323c1ef28e71e913c55aa7b9\n[3] https://review.opendev.org/c/openstack/tripleo-quickstart/+/793098\n[4] https://opendev.org/zuul/zuul-jobs/src/branch/master/roles/configure-mirrors/tasks/mirror/CentOSStream-8.yaml#L10\n\nChange-Id: I843aee754b29a49ec5a2c88af1bda7bce7a60aee\n""}, {'number': 4, 'created': '2021-05-31 18:33:35.000000000', 'files': ['roles/tripleo-repos/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b0747d54d2335a5b56aed1ecbe37da42e6ea3bcf', 'message': ""Exclude buggy edk2-ovmf for t/u/v container-build\n\nc8-stream currently contains two versions of edk2-ovmf, We are\nexcluding edk2-ovmf-20200602gitca407c7246bf-5 so we use the\nlower version edk2-ovmf-20200602gitca407c7246bf-4.el8\n\nThis is recommended from compute team that we keep using old version\nuntil bz1961562 [2] is fixed. Fix will come in libvirt[2].\n\nWe fixed the check job using [3]. Periodic container build job don't\nutilize repos from tripleo-quickstart release file, AppStream.repo\nseems coming from configure-mirrors[4] role.\n\nCreating a task here to include the exclude for buggy edk2-ovmf\nversion.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1961562\n[2] https://github.com/libvirt/libvirt/commit/61d95a1073833ec4323c1ef28e71e913c55aa7b9\n[3] https://review.opendev.org/c/openstack/tripleo-quickstart/+/793098\n[4] https://opendev.org/zuul/zuul-jobs/src/branch/master/roles/configure-mirrors/tasks/mirror/CentOSStream-8.yaml#L10\n\nCloses-Bug: #1929634\nChange-Id: I843aee754b29a49ec5a2c88af1bda7bce7a60aee\n""}]",3,793815,b0747d54d2335a5b56aed1ecbe37da42e6ea3bcf,22,9,4,29775,,,0,"Exclude buggy edk2-ovmf for t/u/v container-build

c8-stream currently contains two versions of edk2-ovmf, We are
excluding edk2-ovmf-20200602gitca407c7246bf-5 so we use the
lower version edk2-ovmf-20200602gitca407c7246bf-4.el8

This is recommended from compute team that we keep using old version
until bz1961562 [2] is fixed. Fix will come in libvirt[2].

We fixed the check job using [3]. Periodic container build job don't
utilize repos from tripleo-quickstart release file, AppStream.repo
seems coming from configure-mirrors[4] role.

Creating a task here to include the exclude for buggy edk2-ovmf
version.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1961562
[2] https://github.com/libvirt/libvirt/commit/61d95a1073833ec4323c1ef28e71e913c55aa7b9
[3] https://review.opendev.org/c/openstack/tripleo-quickstart/+/793098
[4] https://opendev.org/zuul/zuul-jobs/src/branch/master/roles/configure-mirrors/tasks/mirror/CentOSStream-8.yaml#L10

Closes-Bug: #1929634
Change-Id: I843aee754b29a49ec5a2c88af1bda7bce7a60aee
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/15/793815/4 && git format-patch -1 --stdout FETCH_HEAD,['roles/tripleo-repos/tasks/main.yml'],1,6e58c0a017736eac8d6dd0bc539e2a3e013112f3,bug/1929634,"# Remove this task once https://bugzilla.redhat.com/show_bug.cgi?id=1961562 is fixed. - name: Add edk2 on exclude list for AppStream repo lineinfile: path: /etc/yum.repos.d/CentOS-Stream-AppStream.repo line: 'exclude=edk2-ovmf-20200602gitca407c7246bf-5*' insertafter: EOF when: release in ['train', 'ussuri', 'victoria'] ",,8,0
openstack%2Ftripleo-ansible~stable%2Fwallaby~Id84d7b0653a1ae545b2a4af3f63a28ba19bafaf9,openstack/tripleo-ansible,stable/wallaby,Id84d7b0653a1ae545b2a4af3f63a28ba19bafaf9,Replace LEAPP_DEVEL_SKIP_RHSM with LEAPP_NO_RHSM,MERGED,2021-07-13 18:40:08.000000000,2021-07-14 11:54:58.000000000,2021-07-14 11:54:58.000000000,"[{'_account_id': 6816}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-07-13 18:40:08.000000000', 'files': ['tripleo_ansible/roles/tripleo_packages/tasks/upgrade.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2e2e0b3f0e0848a107b34b88f32cdd685eb0f635', 'message': 'Replace LEAPP_DEVEL_SKIP_RHSM with LEAPP_NO_RHSM\n\nLEAPP_DEVEL_SKIP_RHSM will be removed next LEAPP release. This patch\nreplaces it with LEAPP_NO_RHSM\n\nChange-Id: Id84d7b0653a1ae545b2a4af3f63a28ba19bafaf9\n(cherry picked from commit 2a3467cbf06e7c4ee07b701bd3c31f902583ad7f)\n'}]",0,800711,2e2e0b3f0e0848a107b34b88f32cdd685eb0f635,8,6,1,11090,,,0,"Replace LEAPP_DEVEL_SKIP_RHSM with LEAPP_NO_RHSM

LEAPP_DEVEL_SKIP_RHSM will be removed next LEAPP release. This patch
replaces it with LEAPP_NO_RHSM

Change-Id: Id84d7b0653a1ae545b2a4af3f63a28ba19bafaf9
(cherry picked from commit 2a3467cbf06e7c4ee07b701bd3c31f902583ad7f)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/11/800711/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_packages/tasks/upgrade.yml'],1,2e2e0b3f0e0848a107b34b88f32cdd685eb0f635,, {% if upgrade_leapp_devel_skip_rhsm|default(false) %}LEAPP_NO_RHSM=1{% endif %}, {% if upgrade_leapp_devel_skip_rhsm|default(false) %}LEAPP_DEVEL_SKIP_RHSM=1{% endif %},1,1
openstack%2Fhorizon~stable%2Fvictoria~Ic8b723e6fd423b96a4f5eff54f9392cee534ed9e,openstack/horizon,stable/victoria,Ic8b723e6fd423b96a4f5eff54f9392cee534ed9e,Don't load user role assignment or groups tabs for non-admins,MERGED,2021-03-29 08:07:13.000000000,2021-07-14 11:49:53.000000000,2021-07-14 11:48:39.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 6476}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-03-29 08:07:13.000000000', 'files': ['openstack_dashboard/dashboards/identity/users/tabs.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/00d24d7cae5cf763a33696d24b9277c6301b34fe', 'message': ""Don't load user role assignment or groups tabs for non-admins\n\nAs a non admin user, navigate to Identity -> Users. Then click on the\nusername of your user to go to the detail page.\n\nOnly the allowed Overview tab is visible.\n\nThe view shows three tabs: Overview, Role assignments, Groups. Click on\neither Role assignments or Groups. An error will appear, showing that\nthe API call is unauthorised, and the table content will fail to load.\n\nThis change fixes the issue by conditionally loading the tabs based on\npolicy.\n\nCloses-Bug: #1920214\nChange-Id: Ic8b723e6fd423b96a4f5eff54f9392cee534ed9e\n(cherry picked from commit 60cf32031565ed8b4b2a4a39380a060997c9d9e4)\n""}]",0,783547,00d24d7cae5cf763a33696d24b9277c6301b34fe,10,6,1,14826,,,0,"Don't load user role assignment or groups tabs for non-admins

As a non admin user, navigate to Identity -> Users. Then click on the
username of your user to go to the detail page.

Only the allowed Overview tab is visible.

The view shows three tabs: Overview, Role assignments, Groups. Click on
either Role assignments or Groups. An error will appear, showing that
the API call is unauthorised, and the table content will fail to load.

This change fixes the issue by conditionally loading the tabs based on
policy.

Closes-Bug: #1920214
Change-Id: Ic8b723e6fd423b96a4f5eff54f9392cee534ed9e
(cherry picked from commit 60cf32031565ed8b4b2a4a39380a060997c9d9e4)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/47/783547/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/identity/users/tabs.py'],1,00d24d7cae5cf763a33696d24b9277c6301b34fe,," def allowed(self, request): return policy.check(((""identity"", ""identity:list_role_assignments""),), self.request) def allowed(self, request): return policy.check(((""identity"", ""identity:list_groups""),), self.request) ",,8,0
openstack%2Ftripleo-ci~master~I427afaf8f404bb84baad76a1fe4cbbd337d09cbf,openstack/tripleo-ci,master,I427afaf8f404bb84baad76a1fe4cbbd337d09cbf,Move undercloud-upgrade from deprecated to master check & gating,MERGED,2021-05-27 12:20:02.000000000,2021-07-14 11:21:08.000000000,2021-07-14 11:21:08.000000000,"[{'_account_id': 6926}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 31075}, {'_account_id': 32458}]","[{'number': 1, 'created': '2021-05-27 12:20:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4a903ba1f133e07816d5c3c259de257704758348', 'message': 'Move undercloud-upgrade from deprecated to master check & gating\n\nAs discussed in the related-bug this moves the undercloud upgrade\njob back into the master layout and makes it voting. See the topic\nbranch at [1] for related patches.\n\n[1] https://review.opendev.org/q/topic:wallaby-upgrade-jobs\nRelated-Bug: 1928887\n\nChange-Id: I427afaf8f404bb84baad76a1fe4cbbd337d09cbf\n'}, {'number': 2, 'created': '2021-05-28 11:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/30a6058b416f6df9e3eb5fd2b84398fd461f8950', 'message': 'Move undercloud-upgrade from deprecated to master check & gating\n\nAs discussed in the related-bug this moves the undercloud upgrade\njob back into the master layout and makes it voting. See the topic\nbranch at [1] for related patches. Also adds the master\nupgrades job template to zuul layout.\n\n[1] https://review.opendev.org/q/topic:wallaby-upgrade-jobs\nRelated-Bug: 1928887\n\nChange-Id: I427afaf8f404bb84baad76a1fe4cbbd337d09cbf\n'}, {'number': 3, 'created': '2021-06-08 10:47:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d4b5c4e94d704bae2067de2474d94313ecde4c92', 'message': 'Move undercloud-upgrade from deprecated to master check & gating\n\nAs discussed in the related-bug this moves the undercloud upgrade\njob back into the master layout and makes it voting. See the topic\nbranch at [1] for related patches. Also adds the master\nupgrades job template to zuul layout.\n\n[1] https://review.opendev.org/q/topic:wallaby-upgrade-jobs\nRelated-Bug: 1928887\n\nChange-Id: I427afaf8f404bb84baad76a1fe4cbbd337d09cbf\n'}, {'number': 4, 'created': '2021-07-01 14:48:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8a853a515a55fbb0572f8c4aaa65f67f237413aa', 'message': 'Move undercloud-upgrade from deprecated to master check & gating\n\nAs discussed in the related-bug this moves the undercloud upgrade\njob back into the master layout and makes it voting. See the topic\nbranch at [1] for related patches. Also adds the master\nupgrades job template to zuul layout.\n\n[1] https://review.opendev.org/q/topic:wallaby-upgrade-jobs\nRelated-Bug: 1928887\n\nChange-Id: I427afaf8f404bb84baad76a1fe4cbbd337d09cbf\n'}, {'number': 5, 'created': '2021-07-08 09:27:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/40b05ba0b959c975264099b22a4931130fad8789', 'message': 'Move undercloud-upgrade from deprecated to master check & gating\n\nAs discussed in the related-bug this moves the undercloud upgrade\njob back into the master layout and makes it voting. See the topic\nbranch at [1] for related patches. Also adds the master\nupgrades job template to zuul layout.\n\n[1] https://review.opendev.org/q/topic:wallaby-upgrade-jobs\nRelated-Bug: 1928887\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/799832\nChange-Id: I427afaf8f404bb84baad76a1fe4cbbd337d09cbf\n'}, {'number': 6, 'created': '2021-07-13 08:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1fac2d6fce25728fb5a9e3d0e84b536d139145bc', 'message': 'Move undercloud-upgrade from deprecated to master check & gating\n\nAs discussed in the related-bug this moves the undercloud upgrade\njob back into the master layout and makes it voting. See the topic\nbranch at [1] for related patches. Also adds the master\nupgrades job template to zuul layout.\n\n[1] https://review.opendev.org/q/topic:wallaby-upgrade-jobs\nRelated-Bug: 1928887\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/799832\nChange-Id: I427afaf8f404bb84baad76a1fe4cbbd337d09cbf\n'}, {'number': 7, 'created': '2021-07-13 09:41:37.000000000', 'files': ['zuul.d/upgrades-jobs-templates.yaml', 'zuul.d/deprecated-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8475c19117576de3beadd872b68c6720ae864fd7', 'message': 'Move undercloud-upgrade from deprecated to master check & gating\n\nAs discussed in the related-bug this moves the undercloud upgrade\njob back into the master layout and makes it voting. See the topic\nbranch at [1] for related patches. Also adds the master\nupgrades job template to zuul layout.\n\n[1] https://review.opendev.org/q/topic:wallaby-upgrade-jobs\nRelated-Bug: 1928887\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/799832\nChange-Id: I427afaf8f404bb84baad76a1fe4cbbd337d09cbf\n'}]",7,793393,8475c19117576de3beadd872b68c6720ae864fd7,48,10,7,8449,,,0,"Move undercloud-upgrade from deprecated to master check & gating

As discussed in the related-bug this moves the undercloud upgrade
job back into the master layout and makes it voting. See the topic
branch at [1] for related patches. Also adds the master
upgrades job template to zuul layout.

[1] https://review.opendev.org/q/topic:wallaby-upgrade-jobs
Related-Bug: 1928887

Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/799832
Change-Id: I427afaf8f404bb84baad76a1fe4cbbd337d09cbf
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/93/793393/7 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/upgrades-jobs-templates.yaml', 'zuul.d/deprecated-jobs.yaml']",2,4a903ba1f133e07816d5c3c259de257704758348,wallaby-upgrade-jobs,, name: tripleo-ci-centos-8-undercloud-upgrade parent: tripleo-ci-base-singlenode-centos-8 branches: ^master$ voting: false vars: featureset: '050' featureset_override: validate_services: false extra_tags: - undercloud-upgrade - job:,49,35
openstack%2Ftripleo-ci-health-queries~master~I306c20f388fffe7d4163f0988a762d4e03e17f8e,openstack/tripleo-ci-health-queries,master,I306c20f388fffe7d4163f0988a762d4e03e17f8e,Updating sova converter script,ABANDONED,2021-07-14 11:12:46.000000000,2021-07-14 11:13:43.000000000,,[],"[{'number': 1, 'created': '2021-07-14 11:12:46.000000000', 'files': ['output/queries-schema.json', 'src/model.py', 'src/sova-converter.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/2db03e3356fd844b1c230ba985675a1ecc3f889a', 'message': 'Updating sova converter script\n\nAdding options for\n[1] sova_tag - determines which file group the regex belongs to (console/errors/syslog etc)\n[2] error_type - which type of failure is it (infra/code etc)\n\n[1] https://opendev.org/openstack/tripleo-ci-health-queries/src/branch/master/output/sova-patterns.json#L851-L866\n[2] https://opendev.org/openstack/tripleo-ci-health-queries/src/branch/master/output/sova-patterns.json#L174\nChange-Id: Idac2ac9c7f7edc04572efd9aa93d9dd958a8ca68\n\nChange-Id: I306c20f388fffe7d4163f0988a762d4e03e17f8e\n'}]",0,800773,2db03e3356fd844b1c230ba985675a1ecc3f889a,2,0,1,32458,,,0,"Updating sova converter script

Adding options for
[1] sova_tag - determines which file group the regex belongs to (console/errors/syslog etc)
[2] error_type - which type of failure is it (infra/code etc)

[1] https://opendev.org/openstack/tripleo-ci-health-queries/src/branch/master/output/sova-patterns.json#L851-L866
[2] https://opendev.org/openstack/tripleo-ci-health-queries/src/branch/master/output/sova-patterns.json#L174
Change-Id: Idac2ac9c7f7edc04572efd9aa93d9dd958a8ca68

Change-Id: I306c20f388fffe7d4163f0988a762d4e03e17f8e
",git fetch https://review.opendev.org/openstack/tripleo-ci-health-queries refs/changes/73/800773/1 && git format-patch -1 --stdout FETCH_HEAD,"['output/queries-schema.json', 'src/model.py', 'src/sova-converter.py']",3,2db03e3356fd844b1c230ba985675a1ecc3f889a,sova_converter,"sova_patterns_list = {} sova_tag = query_dict.get(""sova_tag"", ""console"") patterns = sova_patterns_list.get(sova_tag, list()) msg = query_dict.get(""msg"", regex_name) error_type = query_dict.get(""error_type"", ""info"") ""msg"": msg, ""tag"": error_type, sova_patterns_list[sova_tag] = patterns","sova_patterns_list = {""console"": []} patterns = sova_patterns_list.get(""console"", list()) ""msg"": regex_name, ""tag"": ""info"",",18,4
openstack%2Fmanila~master~I41738cc0bd90656508fc6ff390072b55130cc6fc,openstack/manila,master,I41738cc0bd90656508fc6ff390072b55130cc6fc,Replace assertDictMatch with assertDictEqual method in tests,MERGED,2021-06-11 12:08:51.000000000,2021-07-14 11:10:04.000000000,2021-07-14 11:06:18.000000000,"[{'_account_id': 6413}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-06-11 12:08:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/cb6f943e9068052dfef02015e87ec94d8e6d6f1e', 'message': 'Replace assertDictMatch with assertDictEqual method in tests\n\nassertDictMatch was introduced for Python 2.6 only. Python 2.7+ contains assertDictEqual.\n\nCloses-Bug: #1646433\nChange-Id: I41738cc0bd90656508fc6ff390072b55130cc6fc\n'}, {'number': 2, 'created': '2021-06-13 15:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/29248c494b964b1ac5e862d02d2e56e3420579b6', 'message': 'Replace assertDictMatch with assertDictEqual method in tests\n\nassertDictMatch was introduced for Python 2.6 only. Python 2.7+ contains assertDictEqual.\n\nCloses-Bug: #1646433\nChange-Id: I41738cc0bd90656508fc6ff390072b55130cc6fc\n'}, {'number': 3, 'created': '2021-06-15 10:34:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/9d9d7ce832d2084f804db373a3d450730dcb738d', 'message': 'Replace assertDictMatch with assertDictEqual method in tests\n\nassertDictMatch was introduced for Python 2.6 only.\nPython 2.7+ contains assertDictEqual.\n\nCloses-Bug: #1646433\nChange-Id: I41738cc0bd90656508fc6ff390072b55130cc6fc\n'}, {'number': 4, 'created': '2021-06-21 09:00:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/fd1bdb0039bbb9c0cb20e0b54001f9ac3604cece', 'message': 'Replace assertDictMatch with assertDictEqual method in tests\n\nassertDictMatch was introduced for Python 2.6 only.\nPython 2.7+ contains assertDictEqual.\n\nCloses-Bug: #1646433\nChange-Id: I41738cc0bd90656508fc6ff390072b55130cc6fc\n'}, {'number': 5, 'created': '2021-06-28 11:36:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/1436020a936aa568d8ee1df5a504f93b02af6981', 'message': 'Replace assertDictMatch with assertDictEqual method in tests\n\nassertDictMatch was introduced for Python 2.6 only.\nPython 2.7+ contains assertDictEqual.\n\nCloses-Bug: #1646433\nChange-Id: I41738cc0bd90656508fc6ff390072b55130cc6fc\n'}, {'number': 6, 'created': '2021-07-05 10:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/411da40eba53031b8f5f9be6f02282ab4e002dbe', 'message': 'Replace assertDictMatch with assertDictEqual method in tests\n\nassertDictMatch was introduced for Python 2.6 only.\nPython 2.7+ contains assertDictEqual.\n\nCloses-Bug: #1646433\nChange-Id: I41738cc0bd90656508fc6ff390072b55130cc6fc\n'}, {'number': 7, 'created': '2021-07-05 19:18:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/1e204b1a97cd42771ee6e965c19c17480e7e35f3', 'message': 'Replace assertDictMatch with assertDictEqual method in tests\n\nassertDictMatch was introduced for Python 2.6 only.\nPython 2.7+ contains assertDictEqual.\n\nCloses-Bug: #1646433\nChange-Id: I41738cc0bd90656508fc6ff390072b55130cc6fc\n'}, {'number': 8, 'created': '2021-07-06 12:25:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/27a4cadb6d544c953fa8d485056bb2618e46c08b', 'message': 'Replace assertDictMatch with assertDictEqual method in tests\n\nassertDictMatch was introduced for Python 2.6 only.\nPython 2.7+ contains assertDictEqual.\n\nCloses-Bug: #1646433\nChange-Id: I41738cc0bd90656508fc6ff390072b55130cc6fc\n'}, {'number': 9, 'created': '2021-07-07 15:54:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7a4d620b21887edc92f9245257ea47b4fe3e4fbd', 'message': 'Replace assertDictMatch with assertDictEqual method in tests\n\nassertDictMatch was introduced for Python 2.6 only.\nPython 2.7+ contains assertDictEqual.\n\nCloses-Bug: #1646433\nChange-Id: I41738cc0bd90656508fc6ff390072b55130cc6fc\n'}, {'number': 10, 'created': '2021-07-13 09:59:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/2cdd2e1a5f1af06b9886438f5e1f8ece3812d4b1', 'message': 'Replace assertDictMatch with assertDictEqual method in tests\n\nassertDictMatch was introduced for Python 2.6 only.\nPython 2.7+ contains assertDictEqual.\n\nCloses-Bug: #1646433\nChange-Id: I41738cc0bd90656508fc6ff390072b55130cc6fc\n'}, {'number': 11, 'created': '2021-07-14 01:32:28.000000000', 'files': ['manila/tests/api/test_common.py', 'manila/tests/share/drivers/container/test_storage_helper.py', 'manila/tests/share/drivers/infortrend/test_infortrend_nas.py', 'manila/tests/api/v2/test_share_types.py', 'manila/tests/share/drivers/netapp/dataontap/client/test_client_cmode.py', 'manila/tests/api/v2/test_messages.py', 'manila/tests/scheduler/test_host_manager.py', 'manila/tests/share/drivers/netapp/dataontap/cluster_mode/test_lib_base.py', 'manila/tests/share/test_share_types.py', 'manila/tests/api/v1/test_scheduler_stats.py', 'manila/tests/db/sqlalchemy/test_api.py', 'manila/test.py', 'manila/tests/api/v2/test_shares.py', 'manila/tests/share/drivers/container/test_driver.py', 'manila/tests/scheduler/drivers/test_filter.py', 'tools/install_venv_common.py', 'manila/tests/api/v1/test_limits.py', 'tools/install_venv.py', 'manila/tests/share/drivers/netapp/dataontap/cluster_mode/test_lib_multi_svm.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/8ee8ee15b1158ff9ca7bd045cbbfd8c39a2db1d9', 'message': 'Replace assertDictMatch with assertDictEqual method in tests\n\nassertDictMatch was introduced for Python 2.6 only.\nPython 2.7+ contains assertDictEqual.\n\nCloses-Bug: #1646433\nChange-Id: I41738cc0bd90656508fc6ff390072b55130cc6fc\n'}]",28,795990,8ee8ee15b1158ff9ca7bd045cbbfd8c39a2db1d9,97,4,11,33380,,,0,"Replace assertDictMatch with assertDictEqual method in tests

assertDictMatch was introduced for Python 2.6 only.
Python 2.7+ contains assertDictEqual.

Closes-Bug: #1646433
Change-Id: I41738cc0bd90656508fc6ff390072b55130cc6fc
",git fetch https://review.opendev.org/openstack/manila refs/changes/90/795990/5 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/api/test_common.py', 'manila/tests/share/drivers/container/test_storage_helper.py', 'manila/tests/share/drivers/infortrend/test_infortrend_nas.py', 'manila/tests/api/v2/test_share_types.py', 'manila/tests/share/drivers/netapp/dataontap/client/test_client_cmode.py', 'manila/tests/api/v2/test_messages.py', 'manila/tests/scheduler/test_host_manager.py', 'manila/tests/share/drivers/netapp/dataontap/cluster_mode/test_lib_base.py', 'manila/tests/share/test_share_types.py', 'manila/tests/api/v1/test_scheduler_stats.py', 'manila/tests/db/sqlalchemy/test_api.py', 'manila/test.py', 'manila/tests/api/v2/test_shares.py', 'manila/tests/share/drivers/container/test_driver.py', 'manila/tests/scheduler/drivers/test_filter.py', 'tools/install_venv_common.py', 'manila/tests/api/v1/test_limits.py', 'tools/install_venv.py', 'manila/tests/share/drivers/netapp/dataontap/cluster_mode/test_lib_multi_svm.py']",19,cb6f943e9068052dfef02015e87ec94d8e6d6f1e,bug/1646433," self.assertDictEqual(lib_base_model_update, model_update)"," self.assertDictMatch(lib_base_model_update, model_update)",72,77
openstack%2Ftripleo-quickstart-extras~master~I3a86c000a3d46dd8cfdc92ad30fcde21f522a5be,openstack/tripleo-quickstart-extras,master,I3a86c000a3d46dd8cfdc92ad30fcde21f522a5be,Remove `--old-deploy-image` var for image upload,MERGED,2021-07-13 10:29:46.000000000,2021-07-14 11:02:37.000000000,2021-07-14 11:02:37.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-13 10:29:46.000000000', 'files': ['roles/overcloud-prep-images/templates/overcloud-image-upload.sh.j2', 'roles/undercloud-deploy/README.md', 'roles/overcloud-prep-images/defaults/main.yml', 'roles/undercloud-deploy/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f7410178ba9e19747a230684f3b10e56216b89c8', 'message': 'Remove `--old-deploy-image` var for image upload\n\n`--old-deploy-image` was added as liberty only code to allow uploading\nthe old deploy ramdisk.[1]\n\nSince Mitaka the old ramdisk is not be supported. With this patch:\nremoving this from ci code as well.\n\n[1] https://review.opendev.org/c/openstack/python-tripleoclient/+/263351\n\nChange-Id: I3a86c000a3d46dd8cfdc92ad30fcde21f522a5be\n'}]",0,800617,f7410178ba9e19747a230684f3b10e56216b89c8,9,8,1,29775,,,0,"Remove `--old-deploy-image` var for image upload

`--old-deploy-image` was added as liberty only code to allow uploading
the old deploy ramdisk.[1]

Since Mitaka the old ramdisk is not be supported. With this patch:
removing this from ci code as well.

[1] https://review.opendev.org/c/openstack/python-tripleoclient/+/263351

Change-Id: I3a86c000a3d46dd8cfdc92ad30fcde21f522a5be
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/17/800617/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/overcloud-prep-images/templates/overcloud-image-upload.sh.j2', 'roles/undercloud-deploy/README.md', 'roles/overcloud-prep-images/defaults/main.yml', 'roles/undercloud-deploy/defaults/main.yml']",4,f7410178ba9e19747a230684f3b10e56216b89c8,remove_old_code,,bash_deploy_ramdisk: false,0,7
openstack%2Ftrove-tempest-plugin~master~I8addc9eb5a6109116ff0d088c0b69d6865856970,openstack/trove-tempest-plugin,master,I8addc9eb5a6109116ff0d088c0b69d6865856970,Improve rebuild test,MERGED,2021-07-11 10:38:51.000000000,2021-07-14 10:59:34.000000000,2021-07-14 10:58:25.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-11 10:38:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-tempest-plugin/commit/d970271f48bb5789aad133f4ff8f54367d6e8850', 'message': 'Improve rebuild test\n\nChange-Id: I8addc9eb5a6109116ff0d088c0b69d6865856970\n'}, {'number': 2, 'created': '2021-07-11 22:01:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-tempest-plugin/commit/8b5474442c2263ed762b560437df5110750abed9', 'message': 'Improve rebuild test\n\nChange-Id: I8addc9eb5a6109116ff0d088c0b69d6865856970\n'}, {'number': 3, 'created': '2021-07-12 05:01:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-tempest-plugin/commit/10f1c78203669464eb5388b0f577859d8953e383', 'message': 'Improve rebuild test\n\nChange-Id: I8addc9eb5a6109116ff0d088c0b69d6865856970\n'}, {'number': 4, 'created': '2021-07-12 08:04:39.000000000', 'files': ['trove_tempest_plugin/services/client.py', 'trove_tempest_plugin/tests/scenario/base_actions.py', 'trove_tempest_plugin/tests/scenario/test_instance_actions.py', 'trove_tempest_plugin/tests/scenario/base_basic.py', 'trove_tempest_plugin/tests/scenario/base_replication.py', 'trove_tempest_plugin/tests/base.py'], 'web_link': 'https://opendev.org/openstack/trove-tempest-plugin/commit/4922ec75dba5c19985aaa0cacdbbf676b5a5fd37', 'message': 'Improve rebuild test\n\nChange-Id: I8addc9eb5a6109116ff0d088c0b69d6865856970\n'}]",0,800339,4922ec75dba5c19985aaa0cacdbbf676b5a5fd37,13,2,4,6732,,,0,"Improve rebuild test

Change-Id: I8addc9eb5a6109116ff0d088c0b69d6865856970
",git fetch https://review.opendev.org/openstack/trove-tempest-plugin refs/changes/39/800339/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove_tempest_plugin/tests/scenario/base_actions.py', 'trove_tempest_plugin/tests/scenario/base_replication.py', 'trove_tempest_plugin/tests/base.py']",3,d970271f48bb5789aad133f4ff8f54367d6e8850,improve-rebuild," @classmethod def rebuild_instance(cls, instance_id, image_id): rebuild_req = { ""rebuild"": { ""image_id"": image_id } } cls.admin_client.create_resource( f""mgmt/instances/{instance_id}/action"", rebuild_req, expected_status_code=202, need_response=False) cls.wait_for_instance_status(instance_id)",,26,10
openstack%2Fopenstack-tempest-skiplist~master~Id1e8a1ca41db1dddc06e9b513ff4121b1885bd18,openstack/openstack-tempest-skiplist,master,Id1e8a1ca41db1dddc06e9b513ff4121b1885bd18,"Revert ""Skip test_shelve_unshelve_server in train""",NEW,2021-05-11 10:29:15.000000000,2021-07-14 10:45:37.000000000,,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-05-11 10:29:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/2c1c11116ab715fb744ba6f9f67213f85e8091e8', 'message': 'Revert ""Skip test_shelve_unshelve_server in train""\n\nThis reverts commit a98c81ef6756c44f0842a6078a770922cf826248.\n\nReason for revert: https://bugzilla.redhat.com/show_bug.cgi?id=1953098 is now resolved.\n\nChange-Id: Id1e8a1ca41db1dddc06e9b513ff4121b1885bd18\n'}, {'number': 2, 'created': '2021-07-14 10:36:48.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/ae8690aca090faeb5ac5e13464d4f51d15ff8d3a', 'message': 'Revert ""Skip test_shelve_unshelve_server in train""\n\nThis reverts commit a98c81ef6756c44f0842a6078a770922cf826248.\n\nReason for revert: https://bugzilla.redhat.com/show_bug.cgi?id=1953098 is now resolved.\n\nChange-Id: Id1e8a1ca41db1dddc06e9b513ff4121b1885bd18\n'}]",0,790569,ae8690aca090faeb5ac5e13464d4f51d15ff8d3a,6,3,2,29775,,,0,"Revert ""Skip test_shelve_unshelve_server in train""

This reverts commit a98c81ef6756c44f0842a6078a770922cf826248.

Reason for revert: https://bugzilla.redhat.com/show_bug.cgi?id=1953098 is now resolved.

Change-Id: Id1e8a1ca41db1dddc06e9b513ff4121b1885bd18
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/69/790569/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,2c1c11116ab715fb744ba6f9f67213f85e8091e8,,, - name: 'train' reason: 'Failing OVB and API tests' bz: 'https://bugzilla.redhat.com/show_bug.cgi?id=1953098',0,3
openstack%2Foperations-guide~master~Ib01bb6ffa3cfa0268bb1094b186fee676835abdd,openstack/operations-guide,master,Ib01bb6ffa3cfa0268bb1094b186fee676835abdd,Updated from openstack-manuals,MERGED,2021-07-14 09:25:27.000000000,2021-07-14 10:42:06.000000000,2021-07-14 10:40:42.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-14 09:25:27.000000000', 'files': ['doc/source/common/glossary.rst'], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/6f2404505f8eb936946c3ea78a2fe18987f3db9f', 'message': 'Updated from openstack-manuals\n\nChange-Id: Ib01bb6ffa3cfa0268bb1094b186fee676835abdd\n'}]",0,800761,6f2404505f8eb936946c3ea78a2fe18987f3db9f,7,2,1,11131,,,0,"Updated from openstack-manuals

Change-Id: Ib01bb6ffa3cfa0268bb1094b186fee676835abdd
",git fetch https://review.opendev.org/openstack/operations-guide refs/changes/61/800761/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/common/glossary.rst'],1,6f2404505f8eb936946c3ea78a2fe18987f3db9f,openstack/openstack-manuals," Train, Ussuri, Victoria, Wallaby, Xena, and Yoga.Y ~ Yoga The code name for the twenty fifth release of OpenStack. The release is named after a a philosophical school with mental and physical practices from India. "," Train, Ussuri, Victoria, and Wallaby.",10,1
openstack%2Freleases~master~Icd4af46da54e08f2cb43217fadb4b13c257cc84d,openstack/releases,master,Icd4af46da54e08f2cb43217fadb4b13c257cc84d,Xena-2 Release for glance-store,MERGED,2021-07-09 13:58:53.000000000,2021-07-14 10:39:54.000000000,2021-07-14 10:39:54.000000000,"[{'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-09 13:58:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/66b8b3aa1d6940116710a01bcd2c9bdb3bc1ba45', 'message': 'Xena-2 Release for glance-store\n\nThis is the Xena milestone-2 release for glance-store.\nClients and libraries following the cycle-with-intermediary release\nmodel are encouraged to release each milestone to make sure updates\nare made available.\n\nIf you are happy with the current release hash, please +1 this patch\nand we will process a release. If you need to get some important\nchanges merged first, leave a -1 and update the patch with a new\ncommit hash to use once it is ready.\n\nIf a release is definitely not wanted at this time, please -1 and\nleave a comment explaining that and we can abandon the patch.\n\nAny patches with no response will be assumed to be OK and will be\nprocessed by July 15.\n\nChange-Id: Icd4af46da54e08f2cb43217fadb4b13c257cc84d\n'}, {'number': 2, 'created': '2021-07-12 15:15:57.000000000', 'files': ['deliverables/xena/glance-store.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/5b3f66acb33bdad9ccc12637f4385214937a911e', 'message': 'Xena-2 Release for glance-store\n\nThis is the Xena milestone-2 release for glance-store.\nClients and libraries following the cycle-with-intermediary release\nmodel are encouraged to release each milestone to make sure updates\nare made available.\n\nIf you are happy with the current release hash, please +1 this patch\nand we will process a release. If you need to get some important\nchanges merged first, leave a -1 and update the patch with a new\ncommit hash to use once it is ready.\n\nIf a release is definitely not wanted at this time, please -1 and\nleave a comment explaining that and we can abandon the patch.\n\nAny patches with no response will be assumed to be OK and will be\nprocessed by July 15.\n\nChange-Id: Icd4af46da54e08f2cb43217fadb4b13c257cc84d\n'}]",0,800259,5b3f66acb33bdad9ccc12637f4385214937a911e,12,5,2,28522,,,0,"Xena-2 Release for glance-store

This is the Xena milestone-2 release for glance-store.
Clients and libraries following the cycle-with-intermediary release
model are encouraged to release each milestone to make sure updates
are made available.

If you are happy with the current release hash, please +1 this patch
and we will process a release. If you need to get some important
changes merged first, leave a -1 and update the patch with a new
commit hash to use once it is ready.

If a release is definitely not wanted at this time, please -1 and
leave a comment explaining that and we can abandon the patch.

Any patches with no response will be assumed to be OK and will be
processed by July 15.

Change-Id: Icd4af46da54e08f2cb43217fadb4b13c257cc84d
",git fetch https://review.opendev.org/openstack/releases refs/changes/59/800259/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/glance-store.yaml'],1,66b8b3aa1d6940116710a01bcd2c9bdb3bc1ba45,xena-milestone-2,releases: - version: 2.6.0 projects: - repo: openstack/glance_store hash: 98b4a0d4e76df022fa8a85a57b00b859b09e3274,,5,0
openstack%2Fha-guide~master~I4891a9aa9310430f1f0bde361dac51c2a8b9c3dd,openstack/ha-guide,master,I4891a9aa9310430f1f0bde361dac51c2a8b9c3dd,Updated from openstack-manuals,MERGED,2021-07-14 09:25:16.000000000,2021-07-14 10:38:54.000000000,2021-07-14 10:37:45.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-14 09:25:16.000000000', 'files': ['doc/source/common/glossary.rst'], 'web_link': 'https://opendev.org/openstack/ha-guide/commit/88ea9a56e546ae4fd3952cf62de123b9bbf363a9', 'message': 'Updated from openstack-manuals\n\nChange-Id: I4891a9aa9310430f1f0bde361dac51c2a8b9c3dd\n'}]",0,800760,88ea9a56e546ae4fd3952cf62de123b9bbf363a9,7,2,1,11131,,,0,"Updated from openstack-manuals

Change-Id: I4891a9aa9310430f1f0bde361dac51c2a8b9c3dd
",git fetch https://review.opendev.org/openstack/ha-guide refs/changes/60/800760/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/common/glossary.rst'],1,88ea9a56e546ae4fd3952cf62de123b9bbf363a9,openstack/openstack-manuals," Train, Ussuri, Victoria, Wallaby, Xena, and Yoga.Y ~ Yoga The code name for the twenty fifth release of OpenStack. The release is named after a a philosophical school with mental and physical practices from India. "," Train, Ussuri, Victoria, and Wallaby.",10,1
openstack%2Fsecurity-doc~master~I1d2f670de1d1554eaa25775bbdc588791e41a3ea,openstack/security-doc,master,I1d2f670de1d1554eaa25775bbdc588791e41a3ea,Updated from openstack-manuals,MERGED,2021-07-14 09:24:53.000000000,2021-07-14 10:35:20.000000000,2021-07-14 10:34:09.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-14 09:24:53.000000000', 'files': ['common/glossary.rst'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/66616aa55e6d34652682e9981fb51e9abee87bf1', 'message': 'Updated from openstack-manuals\n\nChange-Id: I1d2f670de1d1554eaa25775bbdc588791e41a3ea\n'}]",0,800759,66616aa55e6d34652682e9981fb51e9abee87bf1,7,2,1,11131,,,0,"Updated from openstack-manuals

Change-Id: I1d2f670de1d1554eaa25775bbdc588791e41a3ea
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/59/800759/1 && git format-patch -1 --stdout FETCH_HEAD,['common/glossary.rst'],1,66616aa55e6d34652682e9981fb51e9abee87bf1,openstack/openstack-manuals," Train, Ussuri, Victoria, Wallaby, Xena, and Yoga.Y ~ Yoga The code name for the twenty fifth release of OpenStack. The release is named after a a philosophical school with mental and physical practices from India. "," Train, Ussuri, Victoria, and Wallaby.",10,1
openstack%2Ftripleo-quickstart-extras~master~I6f7543560d5953a135a90e92b96ca4f6dae57d29,openstack/tripleo-quickstart-extras,master,I6f7543560d5953a135a90e92b96ca4f6dae57d29,"Revert ""Add ansible var to enable swift on undercloud""",MERGED,2021-07-13 12:33:39.000000000,2021-07-14 10:26:50.000000000,2021-07-14 10:26:50.000000000,"[{'_account_id': 8449}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-07-13 12:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5bd72a7b42204e7bc4c736aab8f11f008c018fc5', 'message': 'Revert ""Add ansible var to enable swift on undercloud""\n\nThis reverts commit c619e45f2d8e03be3291cc5b5064109718b13514.\n\nReason for revert: Use the defaults for swift in tripleoclient, else we\'ve issues during upgrades.\n\nChange-Id: I6f7543560d5953a135a90e92b96ca4f6dae57d29\n'}, {'number': 2, 'created': '2021-07-13 12:37:24.000000000', 'files': ['roles/extras-common/defaults/main.yml', 'roles/undercloud-deploy/templates/undercloud.conf.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/aba4ddf72f20c138ff4206c991b3a7875b51f2ff', 'message': 'Revert ""Add ansible var to enable swift on undercloud""\n\nThis reverts commit c619e45f2d8e03be3291cc5b5064109718b13514.\n\nReason for revert: Use the defaults for swift in tripleoclient, else we\'ve issues during upgrades.\n\nChange-Id: I6f7543560d5953a135a90e92b96ca4f6dae57d29\n'}]",1,800636,aba4ddf72f20c138ff4206c991b3a7875b51f2ff,17,5,2,8833,,,0,"Revert ""Add ansible var to enable swift on undercloud""

This reverts commit c619e45f2d8e03be3291cc5b5064109718b13514.

Reason for revert: Use the defaults for swift in tripleoclient, else we've issues during upgrades.

Change-Id: I6f7543560d5953a135a90e92b96ca4f6dae57d29
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/36/800636/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/extras-common/defaults/main.yml', 'roles/undercloud-deploy/templates/undercloud.conf.j2']",2,5bd72a7b42204e7bc4c736aab8f11f008c018fc5,env_merging,,# Whether to install Swift in the Undercloud. (boolean value) enable_swift = {{undercloud_enable_swift}} ,0,9
openstack%2Fcinder~master~Iba4e373608d4efa82857f8578e6ae77d17aee49c,openstack/cinder,master,Iba4e373608d4efa82857f8578e6ae77d17aee49c,prototype exposing tenant-visible extra specs,ABANDONED,2021-06-11 17:25:41.000000000,2021-07-14 10:04:44.000000000,,"[{'_account_id': 9003}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-11 17:25:41.000000000', 'files': ['cinder/api/v2/views/types.py', 'cinder/common/constants.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/731cbb3faccc0c29157806442c99081ba3cb3e9b', 'message': 'prototype exposing tenant-visible extra specs\n\nChange-Id: Iba4e373608d4efa82857f8578e6ae77d17aee49c\n'}]",0,796049,731cbb3faccc0c29157806442c99081ba3cb3e9b,19,2,1,9003,,,0,"prototype exposing tenant-visible extra specs

Change-Id: Iba4e373608d4efa82857f8578e6ae77d17aee49c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/49/796049/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/v2/views/types.py', 'cinder/common/constants.py']",2,731cbb3faccc0c29157806442c99081ba3cb3e9b,," TENANT_VISIBLE_EXTRA_SPECS = ( ""multicast_enabled"" )",,11,1
openstack%2Fopenstack-ansible~stable%2Fwallaby~I9ec464d32b664c83c935f305641bdbe33f32edd3,openstack/openstack-ansible,stable/wallaby,I9ec464d32b664c83c935f305641bdbe33f32edd3,Bump role SHA for octavia in stable/wallaby,MERGED,2021-07-13 12:01:45.000000000,2021-07-14 09:48:37.000000000,2021-07-14 09:47:13.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-07-13 12:01:45.000000000', 'files': ['ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8b4ccb8305be7aa945f0422c252d26d1f2cc2c1b', 'message': 'Bump role SHA for octavia in stable/wallaby\n\nChange-Id: I9ec464d32b664c83c935f305641bdbe33f32edd3\n'}]",0,800624,8b4ccb8305be7aa945f0422c252d26d1f2cc2c1b,8,3,1,21785,,,0,"Bump role SHA for octavia in stable/wallaby

Change-Id: I9ec464d32b664c83c935f305641bdbe33f32edd3
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/24/800624/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible-role-requirements.yml'],1,8b4ccb8305be7aa945f0422c252d26d1f2cc2c1b,bump_sha, version: 19bf040b67f03111cb205cb41bf03b5f5f2c205c, version: 0f89cac86cfb9b2706669c97c02d394770acf08b,1,1
openstack%2Fos-resource-classes~master~I1c035cf73cf73ad3fe0535d7ba5f1243fb816bea,openstack/os-resource-classes,master,I1c035cf73cf73ad3fe0535d7ba5f1243fb816bea,Add packet rate related resource classes,MERGED,2021-06-16 06:56:19.000000000,2021-07-14 09:46:34.000000000,2021-07-14 09:34:18.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 33652}]","[{'number': 1, 'created': '2021-06-16 06:56:19.000000000', 'files': ['os_resource_classes/__init__.py', 'os_resource_classes/tests/test_os_resource_classes.py'], 'web_link': 'https://opendev.org/openstack/os-resource-classes/commit/4324d428899f6cb29c2f430be06290a7f82220da', 'message': 'Add packet rate related resource classes\n\nAdded:\n* NET_PACKET_RATE_KILOPACKET_PER_SEC\n* NET_PACKET_RATE_EGR_KILOPACKET_PER_SEC\n* NET_PACKET_RATE_IGR_KILOPACKET_PER_SEC\n\nblueprint: qos-minimum-guaranteed-packet-rate\nChange-Id: I1c035cf73cf73ad3fe0535d7ba5f1243fb816bea\n'}]",0,796591,4324d428899f6cb29c2f430be06290a7f82220da,11,5,1,9708,,,0,"Add packet rate related resource classes

Added:
* NET_PACKET_RATE_KILOPACKET_PER_SEC
* NET_PACKET_RATE_EGR_KILOPACKET_PER_SEC
* NET_PACKET_RATE_IGR_KILOPACKET_PER_SEC

blueprint: qos-minimum-guaranteed-packet-rate
Change-Id: I1c035cf73cf73ad3fe0535d7ba5f1243fb816bea
",git fetch https://review.opendev.org/openstack/os-resource-classes refs/changes/91/796591/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_resource_classes/__init__.py', 'os_resource_classes/tests/test_os_resource_classes.py']",2,4324d428899f6cb29c2f430be06290a7f82220da,bp/qos-minimum-guaranteed-packet-rate, expected_last_class = rc.NET_PACKET_RATE_IGR_KILOPACKET_PER_SEC expected_length = 21, expected_last_class = rc.PGPU expected_length = 18,8,2
openstack%2Fopenstack-manuals~master~I8fc83614747c5ca784661f3b59628f8f640bede3,openstack/openstack-manuals,master,I8fc83614747c5ca784661f3b59628f8f640bede3,[glossary] Add Yoga,MERGED,2021-07-12 06:42:04.000000000,2021-07-14 09:34:28.000000000,2021-07-14 09:19:30.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-12 06:42:04.000000000', 'files': ['doc/common/glossary.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/ae9c3113fe545eb153172d4bf92bfa53317ae67d', 'message': '[glossary] Add Yoga\n\nYoga is the name for the 25th release, add it to Glossary.\n\nChange-Id: I8fc83614747c5ca784661f3b59628f8f640bede3\n'}]",0,800423,ae9c3113fe545eb153172d4bf92bfa53317ae67d,7,2,1,6547,,,0,"[glossary] Add Yoga

Yoga is the name for the 25th release, add it to Glossary.

Change-Id: I8fc83614747c5ca784661f3b59628f8f640bede3
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/23/800423/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/common/glossary.rst'],1,ae9c3113fe545eb153172d4bf92bfa53317ae67d,yoga," Train, Ussuri, Victoria, Wallaby, Xena, and Yoga.Y ~ Yoga The code name for the twenty fifth release of OpenStack. The release is named after a a philosophical school with mental and physical practices from India. "," Train, Ussuri, Victoria, and Wallaby.",10,1
openstack%2Fcinder~stable%2Fussuri~I2645c2238f867d0096fabea7d0d776d3a625b884,openstack/cinder,stable/ussuri,I2645c2238f867d0096fabea7d0d776d3a625b884,DNM dummy test change,ABANDONED,2021-07-13 10:45:18.000000000,2021-07-14 09:31:51.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-13 10:45:18.000000000', 'files': ['setup.cfg', 'cinder/utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8d8ca5d8b366e024df81cfa60ab9d2de470f97fc', 'message': 'DNM dummy test change\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/800614\nChange-Id: I2645c2238f867d0096fabea7d0d776d3a625b884\n'}]",0,800618,8d8ca5d8b366e024df81cfa60ab9d2de470f97fc,31,1,1,10459,,,0,"DNM dummy test change

Depends-On: https://review.opendev.org/c/openstack/tempest/+/800614
Change-Id: I2645c2238f867d0096fabea7d0d776d3a625b884
",git fetch https://review.opendev.org/openstack/cinder refs/changes/18/800618/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'cinder/utils.py']",2,8d8ca5d8b366e024df81cfa60ab9d2de470f97fc,,"""""""Utilities and helper functions..""""""","""""""Utilities and helper functions.""""""",2,1
openstack%2Ftripleo-heat-templates~master~I01bbc6b204dcaab378a0bd18c10e152ddb18a3e5,openstack/tripleo-heat-templates,master,I01bbc6b204dcaab378a0bd18c10e152ddb18a3e5,Remove unused disable-unbound.yaml,MERGED,2021-07-06 01:54:53.000000000,2021-07-14 09:02:32.000000000,2021-07-14 09:02:32.000000000,"[{'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-06 01:54:53.000000000', 'files': ['ci/environments/disable-unbound.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cc0f113a6dc85adee595d225c9bb4652fa9fdefe', 'message': 'Remove unused disable-unbound.yaml\n\nThis file was added as part of OpenShift support[1]. However OpenShift\nsupport was already removed and the file is no longer used since then.\n\n[1] 4e30f514704d1ed7f212e0f5eae4832861f67bd7\n\nChange-Id: I01bbc6b204dcaab378a0bd18c10e152ddb18a3e5\n'}]",0,799548,cc0f113a6dc85adee595d225c9bb4652fa9fdefe,8,4,1,9816,,,0,"Remove unused disable-unbound.yaml

This file was added as part of OpenShift support[1]. However OpenShift
support was already removed and the file is no longer used since then.

[1] 4e30f514704d1ed7f212e0f5eae4832861f67bd7

Change-Id: I01bbc6b204dcaab378a0bd18c10e152ddb18a3e5
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/48/799548/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/disable-unbound.yaml'],1,cc0f113a6dc85adee595d225c9bb4652fa9fdefe,,,"heat_template_version: wallaby description: > Disable Unbound Service parameters: RoleNetIpMap: default: {} type: json ServiceData: default: {} description: Dictionary packing service data type: json ServiceNetMap: default: {} description: Mapping of service_name -> network name. Typically set via parameter_defaults in the resource registry. Use parameter_merge_strategies to merge it with the defaults. type: json RoleName: default: '' description: Role name on which the service is applied type: string RoleParameters: default: {} description: Parameters specific to the role type: json EndpointMap: default: {} description: Mapping of service endpoint -> protocol. Typically set via parameter_defaults in the resource registry. type: json Debug: type: boolean default: false description: Set to True to enable debugging on all services. resources: outputs: role_data: description: Role data for the multinode firewall configuration value: service_name: disable_unbound host_prep_tasks: - name: Disable unbound service: name: unbound state: stopped enabled: false failed_when: false - name: Set resolv.conf copy: content: ""nameserver 1.1.1.1\nnameserver 1.0.0.1"" dest: /etc/resolv.conf force: yes mode: '0644' ",0,57
openstack%2Fproject-config~master~I551c62ecf243b199cdf01ae6823197fd674d0874,openstack/project-config,master,I551c62ecf243b199cdf01ae6823197fd674d0874,Create repo for Hashicorp Vault deployment,MERGED,2021-07-07 13:18:35.000000000,2021-07-14 08:23:48.000000000,2021-07-14 06:59:42.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-07 13:18:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/dbdd89451d115242bc3de7b64b917b3ce2126481', 'message': 'Create repo for Hashicorp Vault deployment\n\nAs part of implementation of the spec [1] we aim to offer basic Vault\ndeployment out of the box as a tooling required for providing such\nkind of feature.\n\n[1] https://specs.openstack.org/openstack/openstack-ansible-specs/specs/xena/protecting-plaintext-configs.html\n\nChange-Id: I551c62ecf243b199cdf01ae6823197fd674d0874\n'}, {'number': 2, 'created': '2021-07-09 08:36:53.000000000', 'files': ['gerritbot/channels.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/9a665e587d210f34c4c4d76819b3ca97f72d5302', 'message': 'Create repo for Hashicorp Vault deployment\n\nAs part of implementation of the spec [1] we aim to offer basic Vault\ndeployment out of the box as a tooling required for providing such\nkind of feature.\n\n[1] https://specs.openstack.org/openstack/openstack-ansible-specs/specs/xena/protecting-plaintext-configs.html\n\nChange-Id: I551c62ecf243b199cdf01ae6823197fd674d0874\n'}]",0,799822,9a665e587d210f34c4c4d76819b3ca97f72d5302,10,3,2,28619,,,0,"Create repo for Hashicorp Vault deployment

As part of implementation of the spec [1] we aim to offer basic Vault
deployment out of the box as a tooling required for providing such
kind of feature.

[1] https://specs.openstack.org/openstack/openstack-ansible-specs/specs/xena/protecting-plaintext-configs.html

Change-Id: I551c62ecf243b199cdf01ae6823197fd674d0874
",git fetch https://review.opendev.org/openstack/project-config refs/changes/22/799822/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,dbdd89451d115242bc3de7b64b917b3ce2126481,osa/vault,- project: openstack/ansible-role-vault description: Ansible role for Hashicorp Vault deployment groups: - openstack-ansible docimpact-group: openstack-ansible acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config,,6,0
openstack%2Fmanila-tempest-plugin~master~Idd2c2285e266f0b733301ccfae5c423340de2511,openstack/manila-tempest-plugin,master,Idd2c2285e266f0b733301ccfae5c423340de2511,Fix class inheritances in base.py,MERGED,2021-06-06 07:58:27.000000000,2021-07-14 07:44:42.000000000,2021-07-14 07:44:42.000000000,"[{'_account_id': 6413}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 30025}]","[{'number': 1, 'created': '2021-06-06 07:58:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/5970364287afdb3cbeea38bd65d3130328068307', 'message': 'Fix class inheritances in base.py\n\nChange of inheritance to ""BaseSharesMixedTest"" class since it\nrequires admin privileges.\nThis change will allow removal of duplicate code.\n\nBeyond that, ""create_share_type"" method is under ""BaseSharesTest"",\nwhich is incorrect since it requires admin privileges.\n\nChange-Id: Idd2c2285e266f0b733301ccfae5c423340de2511\n'}, {'number': 2, 'created': '2021-06-06 10:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/6dc8559dcdce27b9ccf0305f27e73e1ca12230a1', 'message': 'Fix class inheritances in base.py\n\nChange of inheritance to ""BaseSharesMixedTest"" class since it\nrequires admin privileges.\nThis change will allow removal of duplicate code.\n\nBeyond that, ""create_share_type"" method is under ""BaseSharesTest"",\nwhich is incorrect since it requires admin privileges.\n\nChange-Id: Idd2c2285e266f0b733301ccfae5c423340de2511\n'}, {'number': 3, 'created': '2021-06-06 11:24:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/2f2aad64e93b83715f2ee8315be7abf68890bd45', 'message': 'Fix class inheritances in base.py\n\nChange of inheritance to ""BaseSharesMixedTest"" class since it\nrequires admin privileges.\nThis change will allow removal of duplicate code.\n\nBeyond that, ""create_share_type"" method is under ""BaseSharesTest"",\nwhich is incorrect since it requires admin privileges.\n\nChange-Id: Idd2c2285e266f0b733301ccfae5c423340de2511\n'}, {'number': 4, 'created': '2021-06-21 18:14:25.000000000', 'files': ['manila_tempest_tests/tests/api/test_access_rules_metadata_negative.py', 'manila_tempest_tests/tests/api/test_shares_actions_negative.py', 'manila_tempest_tests/tests/api/admin/test_migration_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_servers_migration.py', 'manila_tempest_tests/tests/api/admin/test_share_servers.py', 'manila_tempest_tests/tests/api/admin/test_shares_actions.py', 'manila_tempest_tests/tests/api/test_share_network_subnets_negative.py', 'manila_tempest_tests/tests/api/test_share_groups.py', 'manila_tempest_tests/tests/api/admin/test_scheduler_stats.py', 'manila_tempest_tests/tests/api/test_metadata_negative.py', 'manila_tempest_tests/tests/api/test_security_services_mapping_negative.py', 'manila_tempest_tests/tests/api/test_replication.py', 'manila_tempest_tests/tests/api/admin/test_admin_actions_negative.py', 'manila_tempest_tests/tests/api/test_replication_export_locations_negative.py', 'manila_tempest_tests/tests/api/test_replication_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_snapshot_instances.py', 'manila_tempest_tests/tests/api/test_public_shares.py', 'manila_tempest_tests/tests/api/base.py', 'manila_tempest_tests/tests/api/test_metadata.py', 'manila_tempest_tests/tests/api/admin/test_share_servers_manage_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_servers_migration_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_instances.py', 'manila_tempest_tests/tests/api/test_share_type_availability_zones_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_types_negative.py', 'manila_tempest_tests/tests/api/test_access_rules_metadata.py', 'manila_tempest_tests/tests/api/test_security_services.py', 'manila_tempest_tests/tests/api/test_share_types_negative.py', 'manila_tempest_tests/tests/api/test_rules_negative.py', 'manila_tempest_tests/tests/api/test_share_networks.py', 'manila_tempest_tests/tests/api/test_revert_to_snapshot_negative.py', 'manila_tempest_tests/tests/api/test_shares_actions.py', 'manila_tempest_tests/tests/api/test_public_shares_negative.py', 'manila_tempest_tests/tests/api/test_snapshot_rules_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_group_types_negative.py', 'manila_tempest_tests/tests/api/test_share_type_availability_zones.py', 'manila_tempest_tests/tests/api/test_snapshot_rules.py', 'manila_tempest_tests/tests/api/admin/test_replication.py', 'manila_tempest_tests/tests/api/admin/test_share_snapshot_instances_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_groups_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_servers_manage.py', 'manila_tempest_tests/tests/api/test_shares_negative.py', 'manila_tempest_tests/tests/api/test_share_network_subnets.py', 'manila_tempest_tests/tests/api/admin/test_export_locations_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_types_extra_specs_negative.py', 'manila_tempest_tests/tests/api/test_replication_export_locations.py', 'manila_tempest_tests/tests/api/test_revert_to_snapshot.py', 'manila_tempest_tests/tests/api/test_shares_from_snapshot_across_pools.py', 'manila_tempest_tests/tests/api/admin/test_share_types_extra_specs.py', 'manila_tempest_tests/tests/api/admin/test_share_manage.py', 'manila_tempest_tests/tests/api/admin/test_snapshot_export_locations.py', 'manila_tempest_tests/tests/api/test_shares.py', 'manila_tempest_tests/tests/api/test_rules.py', 'manila_tempest_tests/tests/api/admin/test_snapshot_export_locations_negative.py', 'manila_tempest_tests/tests/api/test_share_group_actions.py', 'manila_tempest_tests/tests/api/admin/test_share_types.py', 'manila_tempest_tests/tests/api/admin/test_export_locations.py', 'manila_tempest_tests/tests/api/admin/test_quotas.py', 'manila_tempest_tests/tests/api/admin/test_replication_actions.py', 'manila_tempest_tests/tests/api/admin/test_multi_backend.py', 'manila_tempest_tests/tests/api/test_security_services_negative.py', 'manila_tempest_tests/tests/api/test_replication_snapshots.py', 'manila_tempest_tests/tests/api/admin/test_quotas_negative.py', 'manila_tempest_tests/tests/api/admin/test_snapshot_manage.py', 'manila_tempest_tests/tests/api/admin/test_migration.py', 'manila_tempest_tests/tests/api/admin/test_snapshot_manage_negative.py', 'manila_tempest_tests/tests/api/test_share_groups_negative.py', 'manila_tempest_tests/tests/api/test_share_networks_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_group_types.py', 'manila_tempest_tests/tests/api/admin/test_share_groups.py', 'manila_tempest_tests/tests/api/admin/test_admin_actions.py', 'manila_tempest_tests/tests/api/admin/test_share_instances_negative.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/3af822bf9653ca4468481efd289c94b2e1cb7c48', 'message': 'Fix class inheritances in base.py\n\nChange of inheritance to ""BaseSharesMixedTest"" class since it\nrequires admin privileges.\nThis change will allow removal of duplicate code.\n\nBeyond that, ""create_share_type"" method is under ""BaseSharesTest"",\nwhich is incorrect since it requires admin privileges.\n\nChange-Id: Idd2c2285e266f0b733301ccfae5c423340de2511\n'}]",2,794977,3af822bf9653ca4468481efd289c94b2e1cb7c48,27,4,4,19262,,,0,"Fix class inheritances in base.py

Change of inheritance to ""BaseSharesMixedTest"" class since it
requires admin privileges.
This change will allow removal of duplicate code.

Beyond that, ""create_share_type"" method is under ""BaseSharesTest"",
which is incorrect since it requires admin privileges.

Change-Id: Idd2c2285e266f0b733301ccfae5c423340de2511
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/77/794977/4 && git format-patch -1 --stdout FETCH_HEAD,"['manila_tempest_tests/tests/api/test_access_rules_metadata_negative.py', 'manila_tempest_tests/tests/api/test_shares_actions_negative.py', 'manila_tempest_tests/tests/api/admin/test_migration_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_servers_migration.py', 'manila_tempest_tests/tests/api/admin/test_share_servers.py', 'manila_tempest_tests/tests/api/admin/test_shares_actions.py', 'manila_tempest_tests/tests/api/test_share_network_subnets_negative.py', 'manila_tempest_tests/tests/api/test_share_groups.py', 'manila_tempest_tests/tests/api/admin/test_scheduler_stats.py', 'manila_tempest_tests/tests/api/test_security_services_mapping_negative.py', 'manila_tempest_tests/tests/api/test_replication.py', 'manila_tempest_tests/tests/api/admin/test_admin_actions_negative.py', 'manila_tempest_tests/tests/api/test_replication_export_locations_negative.py', 'manila_tempest_tests/tests/api/test_replication_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_snapshot_instances.py', 'manila_tempest_tests/tests/api/test_public_shares.py', 'manila_tempest_tests/tests/api/base.py', 'manila_tempest_tests/tests/api/admin/test_share_servers_manage_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_servers_migration_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_instances.py', 'manila_tempest_tests/tests/api/test_share_type_availability_zones_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_types_negative.py', 'manila_tempest_tests/tests/api/test_access_rules_metadata.py', 'manila_tempest_tests/tests/api/test_security_services.py', 'manila_tempest_tests/tests/api/test_share_types_negative.py', 'manila_tempest_tests/tests/api/test_rules_negative.py', 'manila_tempest_tests/tests/api/test_share_networks.py', 'manila_tempest_tests/tests/api/test_revert_to_snapshot_negative.py', 'manila_tempest_tests/tests/api/test_shares_actions.py', 'manila_tempest_tests/tests/api/test_public_shares_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_group_types_negative.py', 'manila_tempest_tests/tests/api/test_share_type_availability_zones.py', 'manila_tempest_tests/tests/api/test_snapshot_rules.py', 'manila_tempest_tests/tests/api/admin/test_replication.py', 'manila_tempest_tests/tests/api/admin/test_share_servers_manage.py', 'manila_tempest_tests/tests/api/test_shares_negative.py', 'manila_tempest_tests/tests/api/test_share_network_subnets.py', 'manila_tempest_tests/tests/api/admin/test_export_locations_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_types_extra_specs_negative.py', 'manila_tempest_tests/tests/api/test_replication_export_locations.py', 'manila_tempest_tests/tests/api/test_revert_to_snapshot.py', 'manila_tempest_tests/tests/api/test_shares_from_snapshot_across_pools.py', 'manila_tempest_tests/tests/api/admin/test_share_types_extra_specs.py', 'manila_tempest_tests/tests/api/admin/test_share_manage.py', 'manila_tempest_tests/tests/api/admin/test_snapshot_export_locations.py', 'manila_tempest_tests/tests/api/test_shares.py', 'manila_tempest_tests/tests/api/test_rules.py', 'manila_tempest_tests/tests/api/admin/test_snapshot_export_locations_negative.py', 'manila_tempest_tests/tests/api/test_share_group_actions.py', 'manila_tempest_tests/tests/api/admin/test_share_types.py', 'manila_tempest_tests/tests/api/admin/test_export_locations.py', 'manila_tempest_tests/tests/api/admin/test_quotas.py', 'manila_tempest_tests/tests/api/admin/test_replication_actions.py', 'manila_tempest_tests/tests/api/admin/test_multi_backend.py', 'manila_tempest_tests/tests/api/test_security_services_negative.py', 'manila_tempest_tests/tests/api/test_replication_snapshots.py', 'manila_tempest_tests/tests/api/admin/test_quotas_negative.py', 'manila_tempest_tests/tests/api/admin/test_snapshot_manage.py', 'manila_tempest_tests/tests/api/admin/test_migration.py', 'manila_tempest_tests/tests/api/admin/test_snapshot_manage_negative.py', 'manila_tempest_tests/tests/api/test_share_groups_negative.py', 'manila_tempest_tests/tests/api/test_share_networks_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_group_types.py', 'manila_tempest_tests/tests/api/admin/test_share_groups.py', 'manila_tempest_tests/tests/api/admin/test_admin_actions.py', 'manila_tempest_tests/tests/api/admin/test_share_instances_negative.py']",66,5970364287afdb3cbeea38bd65d3130328068307,class_inheritances, cls.share_type = cls.create_share_type(), cls.share_type = cls._create_share_type(),239,248
openstack%2Faodh~master~I8b9f0611364f6857b86fc800c89fe403672af975,openstack/aodh,master,I8b9f0611364f6857b86fc800c89fe403672af975,Fix oslo policy DeprecatedRule warnings,MERGED,2021-07-03 23:51:14.000000000,2021-07-14 07:35:25.000000000,2021-07-14 07:34:12.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-03 23:51:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/966b0517862213ee1881b6d11c182d7825b7ae30', 'message': 'Fix oslo policy DeprecatedRule warnings\n\nSince 3.7.0, oslo policy started the DeprecationWarning[1] if\ndeprecated_reason and deprecated_since param are not passed\nin DeprecatedRule or they are passed in RuleDefault object.\n\nThese warnings are logged for every test which increase the\nlog size and sometime can full the log buffer and fail the\njob.\n\n[1] https://github.com/openstack/oslo.policy/blob/3.7.0/oslo_policy/policy.py#L1538\n\nChange-Id: I8b9f0611364f6857b86fc800c89fe403672af975\n'}, {'number': 2, 'created': '2021-07-05 16:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/f96f8987d44adcbd5f8ffe180af668688f589664', 'message': 'Fix oslo policy DeprecatedRule warnings\n\nSince 3.7.0, oslo policy started the DeprecationWarning[1] if\ndeprecated_reason and deprecated_since param are not passed\nin DeprecatedRule or they are passed in RuleDefault object.\n\nThese warnings are logged for every test which increase the\nlog size and sometime can full the log buffer and fail the\njob.\n\n[1] https://github.com/openstack/oslo.policy/blob/3.7.0/oslo_policy/policy.py#L1538\n\nChange-Id: I8b9f0611364f6857b86fc800c89fe403672af975\n'}, {'number': 3, 'created': '2021-07-06 16:52:33.000000000', 'files': ['requirements.txt', 'aodh/api/policies.py'], 'web_link': 'https://opendev.org/openstack/aodh/commit/082f6cf0ae8fe5159cf48fb62addc18e066b826c', 'message': 'Fix oslo policy DeprecatedRule warnings\n\nSince 3.7.0, oslo policy started the DeprecationWarning[1] if\ndeprecated_reason and deprecated_since param are not passed\nin DeprecatedRule or they are passed in RuleDefault object.\n\nThese warnings are logged for every test which increase the\nlog size and sometime can full the log buffer and fail the\njob.\n\n[1] https://github.com/openstack/oslo.policy/blob/3.7.0/oslo_policy/policy.py#L1538\n\nChange-Id: I8b9f0611364f6857b86fc800c89fe403672af975\n'}]",0,799403,082f6cf0ae8fe5159cf48fb62addc18e066b826c,20,2,3,8556,,,0,"Fix oslo policy DeprecatedRule warnings

Since 3.7.0, oslo policy started the DeprecationWarning[1] if
deprecated_reason and deprecated_since param are not passed
in DeprecatedRule or they are passed in RuleDefault object.

These warnings are logged for every test which increase the
log size and sometime can full the log buffer and fail the
job.

[1] https://github.com/openstack/oslo.policy/blob/3.7.0/oslo_policy/policy.py#L1538

Change-Id: I8b9f0611364f6857b86fc800c89fe403672af975
",git fetch https://review.opendev.org/openstack/aodh refs/changes/03/799403/3 && git format-patch -1 --stdout FETCH_HEAD,['aodh/api/policies.py'],1,966b0517862213ee1881b6d11c182d7825b7ae30,fix-oslo-policy-warnings," check_str=RULE_ADMIN_OR_OWNER, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY check_str=RULE_ADMIN_OR_OWNER, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY check_str=RULE_CONTEXT_IS_ADMIN, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY check_str=RULE_ADMIN_OR_OWNER, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY check_str=UNPROTECTED, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY check_str=RULE_ADMIN_OR_OWNER, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY check_str=RULE_ADMIN_OR_OWNER, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY check_str=RULE_ADMIN_OR_OWNER, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY check_str=RULE_ADMIN_OR_OWNER, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY check_str=RULE_ADMIN_OR_OWNER, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY check_str=RULE_ADMIN_OR_OWNER, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY check_str=RULE_CONTEXT_IS_ADMIN, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY check_str=RULE_CONTEXT_IS_ADMIN, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_get_alarm deprecated_rule=deprecated_get_alarms deprecated_rule=deprecated_get_all_alarms deprecated_rule=deprecated_query_alarm deprecated_rule=deprecated_create_alarm deprecated_rule=deprecated_change_alarm deprecated_rule=deprecated_delete_alarm deprecated_rule=deprecated_get_alarm_state deprecated_rule=deprecated_change_alarm_state deprecated_rule=deprecated_alarm_history deprecated_rule=deprecated_query_alarm_history deprecated_rule=deprecated_update_quotas deprecated_rule=deprecated_delete_quotas"," check_str=RULE_ADMIN_OR_OWNER check_str=RULE_ADMIN_OR_OWNER check_str=RULE_CONTEXT_IS_ADMIN check_str=RULE_ADMIN_OR_OWNER check_str=UNPROTECTED check_str=RULE_ADMIN_OR_OWNER check_str=RULE_ADMIN_OR_OWNER check_str=RULE_ADMIN_OR_OWNER check_str=RULE_ADMIN_OR_OWNER check_str=RULE_ADMIN_OR_OWNER check_str=RULE_ADMIN_OR_OWNER check_str=RULE_CONTEXT_IS_ADMIN check_str=RULE_CONTEXT_IS_ADMIN deprecated_rule=deprecated_get_alarm, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_get_alarms, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_get_all_alarms, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_query_alarm, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_create_alarm, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_change_alarm, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_delete_alarm, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_get_alarm_state, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_change_alarm_state, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_alarm_history, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_query_alarm_history, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_update_quotas, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_delete_quotas, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY",52,52
openstack%2Faodh~master~Ie6e33d80469b3f32459f10c59b32cad4b548cb86,openstack/aodh,master,Ie6e33d80469b3f32459f10c59b32cad4b548cb86,Suppress policy default change warnings,MERGED,2021-07-06 16:50:57.000000000,2021-07-14 07:26:45.000000000,2021-07-14 07:25:29.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-06 16:50:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/3814a746e6c1e6ef1c1d967a6cf0543a1f6e3134', 'message': 'Suppress policy default change warnings\n\nAs part of the new policy, all of the defaults for\npolicies were changed and warnings about it are being emitted\nconstantly in the logs. We can suppress these for now until we are\nenforcing new defaults [1].\n\n[1]https://docs.openstack.org/nova/latest/configuration/config.html#oslo_policy.enforce_new_defaults\n\nChange-Id: Ie6e33d80469b3f32459f10c59b32cad4b548cb86\n'}, {'number': 2, 'created': '2021-07-06 16:52:03.000000000', 'files': ['aodh/api/hooks.py'], 'web_link': 'https://opendev.org/openstack/aodh/commit/f975f56fdcddc4e71b2bb37f4c04f0008267ffb1', 'message': 'Suppress policy default change warnings\n\nAs part of the new policy, all of the defaults for\npolicies were changed and warnings about it are being emitted\nconstantly in the logs. We can suppress these for now until we are\nenforcing new defaults [1].\n\n[1]https://docs.openstack.org/nova/latest/configuration/config.html#oslo_policy.enforce_new_defaults\n\nChange-Id: Ie6e33d80469b3f32459f10c59b32cad4b548cb86\n'}]",0,799692,f975f56fdcddc4e71b2bb37f4c04f0008267ffb1,11,2,2,8556,,,0,"Suppress policy default change warnings

As part of the new policy, all of the defaults for
policies were changed and warnings about it are being emitted
constantly in the logs. We can suppress these for now until we are
enforcing new defaults [1].

[1]https://docs.openstack.org/nova/latest/configuration/config.html#oslo_policy.enforce_new_defaults

Change-Id: Ie6e33d80469b3f32459f10c59b32cad4b548cb86
",git fetch https://review.opendev.org/openstack/aodh refs/changes/92/799692/1 && git format-patch -1 --stdout FETCH_HEAD,['aodh/api/hooks.py'],1,3814a746e6c1e6ef1c1d967a6cf0543a1f6e3134,fix-oslo-policy-warnings," # NOTE(gmann): Explictly disable the warnings for policies # changing their default check_str. With new RBAC policy # work, all the policy defaults have been changed and warning for # each policy started filling the logs limit for various tool. # Once we move to new defaults only world then we can enable these # warning again. _ENFORCER.suppress_default_change_warnings = True",,7,0
openstack%2Fopenstack-manuals~master~I9cc86f495636dd9a5b1dc238fc7daec0cfc99ea5,openstack/openstack-manuals,master,I9cc86f495636dd9a5b1dc238fc7daec0cfc99ea5,Retire neutron-lbaas-dashboard,MERGED,2021-07-12 07:33:55.000000000,2021-07-14 07:18:00.000000000,2021-07-14 07:02:34.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-12 07:33:55.000000000', 'files': ['tools/www-generator.py'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/1286ffe86e5b6eeb2e89330186e3d4f560910945', 'message': 'Retire neutron-lbaas-dashboard\n\nThis repo has docs up and is retired, remove docs.\n\nChange-Id: I9cc86f495636dd9a5b1dc238fc7daec0cfc99ea5\nRelated: https://review.opendev.org/c/openstack/project-config/+/800147\n'}]",0,800425,1286ffe86e5b6eeb2e89330186e3d4f560910945,7,2,1,6547,,,0,"Retire neutron-lbaas-dashboard

This repo has docs up and is retired, remove docs.

Change-Id: I9cc86f495636dd9a5b1dc238fc7daec0cfc99ea5
Related: https://review.opendev.org/c/openstack/project-config/+/800147
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/25/800425/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/www-generator.py'],1,1286ffe86e5b6eeb2e89330186e3d4f560910945,lbaas-dashboard," 'openstack/neutron-lbaas-dashboard',",,1,0
openstack%2Fopenstack-helm-infra~master~Ib10379829e2989d3de385ad6d1944565b2f9953f,openstack/openstack-helm-infra,master,Ib10379829e2989d3de385ad6d1944565b2f9953f,Enable probes override from values.yaml for libvirt,MERGED,2021-07-09 14:18:08.000000000,2021-07-14 07:07:34.000000000,2021-07-14 07:06:26.000000000,"[{'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30515}, {'_account_id': 33519}, {'_account_id': 33696}]","[{'number': 1, 'created': '2021-07-09 14:18:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1779a1935b02a40fd349ee46bf2a7e1563e27444', 'message': 'Enable probes override from values.yaml for libvirt\n\n  This PS enables overriding liveness/readiness probes configurations\nfor libvirt pods via values.yaml.\n\nChange-Id: I64033a1d67461851d8f2d86905ef7068c2ec43b6\n\nCo-authored-by: Huy Tran <ht095u@att.com>\nChange-Id: Ib10379829e2989d3de385ad6d1944565b2f9953f\n'}, {'number': 2, 'created': '2021-07-09 14:25:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bffd637c80aadc6b154712ce6240fc077724c418', 'message': 'Enable probes override from values.yaml for libvirt\n\n  This PS enables overriding liveness/readiness probes configurations\nfor libvirt pods via values.yaml.\n\nChange-Id: Ib10379829e2989d3de385ad6d1944565b2f9953f\n'}, {'number': 3, 'created': '2021-07-13 19:15:43.000000000', 'files': ['libvirt/Chart.yaml', 'libvirt/templates/daemonset-libvirt.yaml', 'libvirt/values.yaml', 'releasenotes/notes/libvirt.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b11b4ae6c3fc24919e049ad4f58e8261b4db8c63', 'message': 'Enable probes override from values.yaml for libvirt\n\n  This PS enables overriding liveness/readiness probes configurations\nfor libvirt pods via values.yaml. In addition, updating the values\nfor some of the fields of the probes as the default values seem to\nbe too aggresive.\n\nChange-Id: I64033a1d67461851d8f2d86905ef7068c2ec43b6\n\nCo-authored-by: Huy Tran <ht095u@att.com>\nChange-Id: Ib10379829e2989d3de385ad6d1944565b2f9953f\n'}]",9,800262,b11b4ae6c3fc24919e049ad4f58e8261b4db8c63,19,7,3,33282,,,0,"Enable probes override from values.yaml for libvirt

  This PS enables overriding liveness/readiness probes configurations
for libvirt pods via values.yaml. In addition, updating the values
for some of the fields of the probes as the default values seem to
be too aggresive.

Change-Id: I64033a1d67461851d8f2d86905ef7068c2ec43b6

Co-authored-by: Huy Tran <ht095u@att.com>
Change-Id: Ib10379829e2989d3de385ad6d1944565b2f9953f
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/62/800262/3 && git format-patch -1 --stdout FETCH_HEAD,"['libvirt/Chart.yaml', 'libvirt/templates/daemonset-libvirt.yaml', 'libvirt/values.yaml', 'releasenotes/notes/libvirt.yaml']",4,1779a1935b02a40fd349ee46bf2a7e1563e27444,, - 0.1.6 Enhancement to enable probes override from values.yaml,,34,13
openstack%2Fproject-config~master~I8ba4b7bb501840c1ab33d31a82800be2e90bb2f8,openstack/project-config,master,I8ba4b7bb501840c1ab33d31a82800be2e90bb2f8,register and  bring back tricircle under x namespaces,ABANDONED,2021-07-14 03:51:27.000000000,2021-07-14 06:39:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-14 03:51:27.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml', 'gerrit/acls/x/tricircle.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/859d7614fb8562ac66d0022f7e4cf47a5e03febf', 'message': 'register and  bring back tricircle under x namespaces\n\nChange-Id: I8ba4b7bb501840c1ab33d31a82800be2e90bb2f8\n'}]",0,800743,859d7614fb8562ac66d0022f7e4cf47a5e03febf,3,1,1,28071,,,0,"register and  bring back tricircle under x namespaces

Change-Id: I8ba4b7bb501840c1ab33d31a82800be2e90bb2f8
",git fetch https://review.opendev.org/openstack/project-config refs/changes/43/800743/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul/main.yaml', 'gerrit/acls/x/tricircle.config']",3,859d7614fb8562ac66d0022f7e4cf47a5e03febf,,"[access ""refs/heads/*""] abandon = group tricircle-core create = group tricircle-release label-Code-Review = -2..+2 group tricircle-core label-Workflow = -1..+1 group tricircle-core [access ""refs/tags/*""] pushSignedTag = group tricircle-release [receive] requireChangeId = true requireContributorAgreement = true [submit] mergeContent = true ",,20,0
openstack%2Fopenstack-zuul-jobs~master~I25e2b51269f67b654e9a269d4f3c44adf4975e65,openstack/openstack-zuul-jobs,master,I25e2b51269f67b654e9a269d4f3c44adf4975e65,setup.cfg: Replace dashes with underscores,MERGED,2021-05-14 09:08:38.000000000,2021-07-14 06:37:28.000000000,2021-07-14 06:36:00.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 31828}]","[{'number': 1, 'created': '2021-05-14 09:08:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/ccc4492264acf871db6e88a3fc070bec6a61f39e', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I25e2b51269f67b654e9a269d4f3c44adf4975e65\n""}, {'number': 2, 'created': '2021-07-14 06:20:00.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/7e52eb36c57d433a029368f9e976d0a6cc1d68c5', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I25e2b51269f67b654e9a269d4f3c44adf4975e65\n""}]",2,791429,7e52eb36c57d433a029368f9e976d0a6cc1d68c5,12,3,2,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I25e2b51269f67b654e9a269d4f3c44adf4975e65
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/29/791429/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,ccc4492264acf871db6e88a3fc070bec6a61f39e,,description_file =author_email = openstack-infra@lists.openstack.org home_page = http://www.openstack.org/,description-file =author-email = openstack-infra@lists.openstack.org home-page = http://www.openstack.org/,3,3
openstack%2Fos-net-config~master~I202fe57360cca79883457444bdae2cf41ba25798,openstack/os-net-config,master,I202fe57360cca79883457444bdae2cf41ba25798,vdpa: Introducing the vdpa PF flag,MERGED,2021-06-30 16:05:02.000000000,2021-07-14 05:38:12.000000000,2021-07-14 05:33:40.000000000,"[{'_account_id': 11604}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 18575}, {'_account_id': 18904}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-30 16:05:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/f3eca1ebdf07db8968f4db18a158607f570d43db', 'message': 'vdpa: Introducing the vdpa PF flag\n\nNow that nova supports vDPA interfaces, we need to configure them using\nos_net_config for tripleo consumption.\n\nRelated: https://review.opendev.org/c/openstack/tripleo-docs/+/798237/\nRelated: https://bugzilla.redhat.com/1956297\nChange-Id: I202fe57360cca79883457444bdae2cf41ba25798\n'}, {'number': 2, 'created': '2021-07-05 13:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/716217908381cb01772659860f1739f5b782971c', 'message': 'vdpa: Introducing the vdpa PF flag\n\nNow that nova supports vDPA interfaces, we need to configure them using\nos_net_config for tripleo consumption.\n\nRelated: https://review.opendev.org/c/openstack/tripleo-docs/+/798237/\nRelated: https://bugzilla.redhat.com/1956297\nChange-Id: I202fe57360cca79883457444bdae2cf41ba25798\n'}, {'number': 3, 'created': '2021-07-05 20:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/90ecb723317858e7a66b084dff61847e8971c145', 'message': 'vdpa: Introducing the vdpa PF flag\n\nNow that nova supports vDPA interfaces, we need to configure them using\nos_net_config for tripleo consumption.\n\nRelated: https://review.opendev.org/c/openstack/tripleo-docs/+/798237/\nRelated: https://bugzilla.redhat.com/1956297\nChange-Id: I202fe57360cca79883457444bdae2cf41ba25798\n'}, {'number': 4, 'created': '2021-07-05 22:03:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/17400c48146bb48e31df11a1e71c90fe27f77dfb', 'message': 'vdpa: Introducing the vdpa PF flag\n\nNow that nova supports vDPA interfaces, we need to configure them using\nos_net_config for tripleo consumption.\n\nRelated: https://review.opendev.org/c/openstack/tripleo-docs/+/798237/\nRelated: https://bugzilla.redhat.com/1956297\nChange-Id: I202fe57360cca79883457444bdae2cf41ba25798\n'}, {'number': 5, 'created': '2021-07-05 22:09:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/ed0c56ceaf64a6fbb2de4c412ac2f37991ef0615', 'message': 'vdpa: Introducing the vdpa PF flag\n\nNow that nova supports vDPA interfaces, we need to configure them using\nos_net_config for tripleo consumption.\n\nRelated: https://review.opendev.org/c/openstack/tripleo-docs/+/798237/\nRelated: https://bugzilla.redhat.com/1956297\nChange-Id: I202fe57360cca79883457444bdae2cf41ba25798\n'}, {'number': 6, 'created': '2021-07-06 16:10:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/31e38e1ba3e836cdac60e965b540086efc828276', 'message': 'vdpa: Introducing the vdpa PF flag\n\nNow that nova supports vDPA interfaces, we need to configure them using\nos_net_config for tripleo consumption.\n\nRelated: https://review.opendev.org/c/openstack/tripleo-docs/+/798237/\nRelated: https://bugzilla.redhat.com/1956297\nChange-Id: I202fe57360cca79883457444bdae2cf41ba25798\n'}, {'number': 7, 'created': '2021-07-06 16:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/347b69e744cf2b12bbcf031036283340e4e779bc', 'message': 'vdpa: Introducing the vdpa PF flag\n\nNow that nova supports vDPA interfaces, we need to configure them using\nos_net_config for tripleo consumption.\n\nRelated: https://review.opendev.org/c/openstack/tripleo-docs/+/798237/\nRelated: https://bugzilla.redhat.com/1956297\nChange-Id: I202fe57360cca79883457444bdae2cf41ba25798\n'}, {'number': 8, 'created': '2021-07-06 16:28:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/e52921e6cf3f38c5403e7ecfd38075bcfabffb7d', 'message': 'vdpa: Introducing the vdpa PF flag\n\nNow that nova supports vDPA interfaces, we need to configure them using\nos_net_config for tripleo consumption.\n\nRelated: https://review.opendev.org/c/openstack/tripleo-docs/+/798237/\nRelated: https://bugzilla.redhat.com/1956297\nChange-Id: I202fe57360cca79883457444bdae2cf41ba25798\n'}, {'number': 9, 'created': '2021-07-06 16:30:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/3b6c7cc35332a79429ac520a4d0ee27d63e975b1', 'message': 'vdpa: Introducing the vdpa PF flag\n\nNow that nova supports vDPA interfaces, we need to configure them using\nos_net_config for tripleo consumption.\n\nRelated: https://review.opendev.org/c/openstack/tripleo-docs/+/798237/\nRelated: https://bugzilla.redhat.com/1956297\nChange-Id: I202fe57360cca79883457444bdae2cf41ba25798\n'}, {'number': 10, 'created': '2021-07-06 20:26:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/f211ab2c5c21ae6150af445e963f7b831d6ef7a2', 'message': 'vdpa: Introducing the vdpa PF flag\n\nNow that nova supports vDPA interfaces, we need to configure them using\nos_net_config for tripleo consumption.\n\nRelated: https://review.opendev.org/c/openstack/tripleo-docs/+/798237/\nRelated: https://bugzilla.redhat.com/1956297\nChange-Id: I202fe57360cca79883457444bdae2cf41ba25798\n'}, {'number': 11, 'created': '2021-07-06 20:33:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/6af3af579f36aa4d9597489c7a5381f529052285', 'message': 'vdpa: Introducing the vdpa PF flag\n\nNow that nova supports vDPA interfaces, we need to configure them using\nos_net_config for tripleo consumption.\n\nRelated: https://review.opendev.org/c/openstack/tripleo-docs/+/798237/\nRelated: https://bugzilla.redhat.com/1956297\nChange-Id: I202fe57360cca79883457444bdae2cf41ba25798\n'}, {'number': 12, 'created': '2021-07-07 02:32:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/de6fc1e3f019052e5d3c2b6c9ba710a7f803403a', 'message': 'vdpa: Introducing the vdpa PF flag\n\nNow that nova supports vDPA interfaces, we need to configure them using\nos_net_config for tripleo consumption.\n\nRelated: https://review.opendev.org/c/openstack/tripleo-docs/+/798237/\nRelated: https://bugzilla.redhat.com/1956297\nChange-Id: I202fe57360cca79883457444bdae2cf41ba25798\n'}, {'number': 13, 'created': '2021-07-07 16:17:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/f5d0bddfd81bf1a2d0839be5f10649e215debac7', 'message': 'vdpa: Introducing the vdpa PF flag\n\nNow that nova supports vDPA interfaces, we need to configure them using\nos_net_config for tripleo consumption.\n\nRelated: https://review.opendev.org/c/openstack/tripleo-docs/+/798237/\nRelated: https://bugzilla.redhat.com/1956297\nChange-Id: I202fe57360cca79883457444bdae2cf41ba25798\n'}, {'number': 14, 'created': '2021-07-08 03:46:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/a878315b822f93c1ce68dbe78eb2766eacee9cff', 'message': 'vdpa: Introducing the vdpa PF flag\n\nNow that nova supports vDPA interfaces, we need to configure them using\nos_net_config for tripleo consumption.\n\nRelated: https://review.opendev.org/c/openstack/tripleo-docs/+/798237/\nRelated: https://bugzilla.redhat.com/1956297\nChange-Id: I202fe57360cca79883457444bdae2cf41ba25798\n'}, {'number': 15, 'created': '2021-07-08 12:25:49.000000000', 'files': ['etc/os-net-config/samples/vdpa.json', 'os_net_config/schema.yaml', 'os_net_config/tests/test_sriov_config.py', 'os_net_config/utils.py', 'os_net_config/tests/test_objects.py', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/tests/test_utils.py', 'os_net_config/impl_ifcfg.py', 'etc/os-net-config/samples/vdpa.yaml', 'os_net_config/objects.py', 'os_net_config/sriov_config.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/baab05e9bb2850d76275a9397036c1a8d4a9131a', 'message': 'vdpa: Introducing the vdpa PF flag\n\nNow that nova supports vDPA interfaces, we need to configure them using\nos_net_config for tripleo consumption.\n\nRelated: https://review.opendev.org/c/openstack/tripleo-docs/+/798237/\nRelated: https://bugzilla.redhat.com/1956297\nChange-Id: I202fe57360cca79883457444bdae2cf41ba25798\n'}]",26,798926,baab05e9bb2850d76275a9397036c1a8d4a9131a,46,7,15,27419,,,0,"vdpa: Introducing the vdpa PF flag

Now that nova supports vDPA interfaces, we need to configure them using
os_net_config for tripleo consumption.

Related: https://review.opendev.org/c/openstack/tripleo-docs/+/798237/
Related: https://bugzilla.redhat.com/1956297
Change-Id: I202fe57360cca79883457444bdae2cf41ba25798
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/26/798926/13 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/schema.yaml', 'os_net_config/tests/test_sriov_config.py', 'os_net_config/utils.py', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/tests/test_objects.py', 'os_net_config/tests/test_utils.py', 'os_net_config/impl_ifcfg.py', 'os_net_config/objects.py', 'os_net_config/sriov_config.py']",9,f3eca1ebdf07db8968f4db18a158607f570d43db,vhost-vdpa,"MLNX_UNBIND_FILE_PATH = ""/sys/bus/pci/drivers/mlx5_core/unbind""def _numvfs(ifname, numvfs=None, force=False, create=False): if create: curr_numvfs = -1 pass else: msg = f""Unable to read numvfs for {ifname}: {exc}"" raise SRIOVNumvfsException(msg) logger.debug(f""Interface {ifname} has {curr_numvfs} configured, "" f""expecting {numvfs}"") if isinstance(numvfs, int) and numvfs != curr_numvfs: logger.debug(f""Setting {sriov_numvfs_path} to {numvfs}"") with open(sriov_numvfs_path, ""w"") as f: curr_numvfs = numvfs # When configuring vdpa, we need to configure switchdev before # we create the VFs is_mlnx = vendor_id == MLNX_VENDOR_ID if item.get('vdpa') and is_mlnx: configure_switchdev(item['name']) _numvfs(item['name'], item['numvfs'], True) # Configure switchdev mode when not vdpa if (item.get('link_mode') == ""switchdev"" and is_mlnx and not item.get('vdpa')):","def _numvfs(ifname, numvfs=None, force=False): msg = f""Unable to read numvfs for {ifname}: {exc}"" raise SRIOVNumvfsException(msg) logger.debug(f""Interface {ifname} has {curr_numvfs} configured"") if numvfs and numvfs != curr_numvfs: with open(sriov_numvfs_path, 'w') as f: MLNX_UNBIND_FILE_PATH = ""/sys/bus/pci/drivers/mlx5_core/unbind"" _numvfs(item['name'], item['numvfs'], True) # Configure switchdev mode if (item.get('link_mode') == ""switchdev"" and vendor_id == MLNX_VENDOR_ID):",242,94
openstack%2Fvalidations-libs~master~I9962d449ee507ee64d0c884199d02cd9ce786c9b,openstack/validations-libs,master,I9962d449ee507ee64d0c884199d02cd9ce786c9b,Fix history list sub command when not using the default log dir,MERGED,2021-07-06 13:20:16.000000000,2021-07-14 05:37:27.000000000,2021-07-14 05:35:35.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-07-06 13:20:16.000000000', 'files': ['validations_libs/cli/history.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/bf95674c5fd559348878f6b732ba8a592123df46', 'message': ""Fix history list sub command when not using the default log dir\n\nThe 'history list' sub command is always getting the log files from the\ndefault directory ('~/validations') even if the user decided to write\nthem in one other directory.\n\n$ validation run --validation 512e \\\n             --validation-log-dir /var/log/validations  \\\n             --inventory /etc/ansible/hosts\n\n$ validation -vvv --debug history list \\\n             --validation-log-dir /var/log/validations\n...\nFileNotFoundError: [Errno 2] No such file or directory: '/home/validations/validations'\n\nThis patch fixes this wrong behavior by passing the\n--validation-log-dir argument value to the show_history actions.\n\nMoreover, the ValidationActions class is taken validation_path and group\nas parameters. Passing --validation-log-dir argument value is wrong and useless.\n\nChange-Id: I9962d449ee507ee64d0c884199d02cd9ce786c9b\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n""}]",0,799669,bf95674c5fd559348878f6b732ba8a592123df46,8,6,1,11491,,,0,"Fix history list sub command when not using the default log dir

The 'history list' sub command is always getting the log files from the
default directory ('~/validations') even if the user decided to write
them in one other directory.

$ validation run --validation 512e \
             --validation-log-dir /var/log/validations  \
             --inventory /etc/ansible/hosts

$ validation -vvv --debug history list \
             --validation-log-dir /var/log/validations
...
FileNotFoundError: [Errno 2] No such file or directory: '/home/validations/validations'

This patch fixes this wrong behavior by passing the
--validation-log-dir argument value to the show_history actions.

Moreover, the ValidationActions class is taken validation_path and group
as parameters. Passing --validation-log-dir argument value is wrong and useless.

Change-Id: I9962d449ee507ee64d0c884199d02cd9ce786c9b
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/69/799669/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_libs/cli/history.py'],1,bf95674c5fd559348878f6b732ba8a592123df46,," actions = ValidationActions() log_path=parsed_args.validation_log_dir,", actions = ValidationActions(parsed_args.validation_log_dir),2,1
openstack%2Fos-net-config~master~I3bf1ace914ab8a64f9165c72ffd06d389fad25b0,openstack/os-net-config,master,I3bf1ace914ab8a64f9165c72ffd06d389fad25b0,sriov_config: light refactoring,MERGED,2021-06-30 04:41:00.000000000,2021-07-14 05:37:20.000000000,2021-07-14 05:33:36.000000000,"[{'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 18575}, {'_account_id': 18904}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-30 04:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/734ce434c3c57ae40153b94f003cc2069f1f96c7', 'message': 'sriov_config: light refactoring\n\nmerging cleaning up the numvfs getter/setters and converting pyformat\nstrings to f-strings\n\nChange-Id: I3bf1ace914ab8a64f9165c72ffd06d389fad25b0\n'}, {'number': 2, 'created': '2021-06-30 04:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/f6c11b29660719f9b85f9c87ee32b8fc5d640c18', 'message': 'sriov_config: light refactoring\n\nmerging cleaning up the numvfs getter/setters and converting pyformat\nstrings to f-strings\n\nChange-Id: I3bf1ace914ab8a64f9165c72ffd06d389fad25b0\n'}, {'number': 3, 'created': '2021-06-30 04:55:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/b03fa7984988d3ae7e770f3b8d2f4cf2b3b63f1d', 'message': 'sriov_config: light refactoring\n\nmerging cleaning up the numvfs getter/setters and converting pyformat\nstrings to f-strings\n\nChange-Id: I3bf1ace914ab8a64f9165c72ffd06d389fad25b0\n'}, {'number': 4, 'created': '2021-06-30 11:47:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/5bc0e23214c8660d7a29d9430664b7bddc8fae82', 'message': 'sriov_config: light refactoring\n\nmerging cleaning up the numvfs getter/setters and converting pyformat\nstrings to f-strings\n\nChange-Id: I3bf1ace914ab8a64f9165c72ffd06d389fad25b0\n'}, {'number': 5, 'created': '2021-06-30 11:56:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/ab8e5be47b408fc558d333668c0e4d93d332076d', 'message': 'sriov_config: light refactoring\n\nmerging cleaning up the numvfs getter/setters, converting pyformat\nstrings to f-strings and adding a bit more logging.\n\nChange-Id: I3bf1ace914ab8a64f9165c72ffd06d389fad25b0\n'}, {'number': 6, 'created': '2021-06-30 12:26:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/868b151fcc807ed0e76f0b664978975c48e656c7', 'message': 'sriov_config: light refactoring\n\nmerging cleaning up the numvfs getter/setters, converting pyformat\nstrings to f-strings and adding a bit more logging.\n\nChange-Id: I3bf1ace914ab8a64f9165c72ffd06d389fad25b0\n'}, {'number': 7, 'created': '2021-07-05 13:05:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/307a7c7efd7a825746d7a13c0e8c06bcce5e4708', 'message': 'sriov_config: light refactoring\n\nmerging cleaning up the numvfs getter/setters, converting pyformat\nstrings to f-strings and adding a bit more logging.\n\nChange-Id: I3bf1ace914ab8a64f9165c72ffd06d389fad25b0\n'}, {'number': 8, 'created': '2021-07-05 21:45:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/251054432bf66e416c51ee684206a9213e9f50e3', 'message': 'sriov_config: light refactoring\n\nmerging cleaning up the numvfs getter/setters, converting pyformat\nstrings to f-strings and adding a bit more logging.\n\nChange-Id: I3bf1ace914ab8a64f9165c72ffd06d389fad25b0\n'}, {'number': 9, 'created': '2021-07-05 22:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/5c0d2f27d3bbb7b18dee779ca7df24db6a582d12', 'message': 'sriov_config: light refactoring\n\nmerging cleaning up the numvfs getter/setters, converting pyformat\nstrings to f-strings and adding a bit more logging.\n\nChange-Id: I3bf1ace914ab8a64f9165c72ffd06d389fad25b0\n'}, {'number': 10, 'created': '2021-07-06 14:49:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/0aadea0c84ab87467ab9a3033dbdb938d41fe389', 'message': 'sriov_config: light refactoring\n\nmerging cleaning up the numvfs getter/setters, converting pyformat\nstrings to f-strings and adding a bit more logging.\n\nChange-Id: I3bf1ace914ab8a64f9165c72ffd06d389fad25b0\n'}, {'number': 11, 'created': '2021-07-06 15:50:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/0f23079d2e4ae7e662af55bde23683d64c4bc941', 'message': 'sriov_config: light refactoring\n\nmerging cleaning up the numvfs getter/setters, converting pyformat\nstrings to f-strings and adding a bit more logging.\n\nChange-Id: I3bf1ace914ab8a64f9165c72ffd06d389fad25b0\n'}, {'number': 12, 'created': '2021-07-06 15:58:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/64715549e17a34f4041aab732a903d1738684769', 'message': 'sriov_config: light refactoring\n\nmerging cleaning up the numvfs getter/setters, converting pyformat\nstrings to f-strings and adding a bit more logging.\n\nChange-Id: I3bf1ace914ab8a64f9165c72ffd06d389fad25b0\n'}, {'number': 13, 'created': '2021-07-06 16:10:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/e42bcf1f772a1ec2439030a3b357e61d064a305e', 'message': 'sriov_config: light refactoring\n\nmerging cleaning up the numvfs getter/setters, converting pyformat\nstrings to f-strings and adding a bit more logging.\n\nChange-Id: I3bf1ace914ab8a64f9165c72ffd06d389fad25b0\n'}, {'number': 14, 'created': '2021-07-06 16:15:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/8f903f02f2de7043b395d8a08709d370421116f4', 'message': 'sriov_config: light refactoring\n\nmerging cleaning up the numvfs getter/setters, converting pyformat\nstrings to f-strings and adding a bit more logging.\n\nChange-Id: I3bf1ace914ab8a64f9165c72ffd06d389fad25b0\n'}, {'number': 15, 'created': '2021-07-06 16:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/9c90de873059ed31ca34fa7d37195ece3fff023d', 'message': 'sriov_config: light refactoring\n\nmerging cleaning up the numvfs getter/setters, converting pyformat\nstrings to f-strings and adding a bit more logging.\n\nChange-Id: I3bf1ace914ab8a64f9165c72ffd06d389fad25b0\n'}, {'number': 16, 'created': '2021-07-06 16:26:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/bf441a0149329fb0df8f5ae0fec99c119df50384', 'message': 'sriov_config: light refactoring\n\nmerging cleaning up the numvfs getter/setters, converting pyformat\nstrings to f-strings and adding a bit more logging.\n\nChange-Id: I3bf1ace914ab8a64f9165c72ffd06d389fad25b0\n'}, {'number': 17, 'created': '2021-07-06 16:30:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/b76ed7fcf40b8a95bb96a08c9b9994e827434a6c', 'message': 'sriov_config: light refactoring\n\nmerging cleaning up the numvfs getter/setters, converting pyformat\nstrings to f-strings and adding a bit more logging.\n\nChange-Id: I3bf1ace914ab8a64f9165c72ffd06d389fad25b0\n'}, {'number': 18, 'created': '2021-07-06 19:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/ac96fe37b680f1da8e3cab3ef6581e2960a2a055', 'message': 'sriov_config: light refactoring\n\nmerging cleaning up the numvfs getter/setters, converting pyformat\nstrings to f-strings and adding a bit more logging.\n\nChange-Id: I3bf1ace914ab8a64f9165c72ffd06d389fad25b0\n'}, {'number': 19, 'created': '2021-07-06 20:29:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/1c2b8fda9b6e19db9f1083cce40658f0e0510e3e', 'message': 'sriov_config: light refactoring\n\nmerging cleaning up the numvfs getter/setters, converting pyformat\nstrings to f-strings and adding a bit more logging.\n\nChange-Id: I3bf1ace914ab8a64f9165c72ffd06d389fad25b0\n'}, {'number': 20, 'created': '2021-07-07 14:54:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/f70fb925a41e51d5622fa2fc919b77e93a7df8fb', 'message': 'sriov_config: light refactoring\n\nmerging cleaning up the numvfs getter/setters, converting pyformat\nstrings to f-strings and adding a bit more logging.\n\nChange-Id: I3bf1ace914ab8a64f9165c72ffd06d389fad25b0\n'}, {'number': 21, 'created': '2021-07-07 16:17:55.000000000', 'files': ['os_net_config/tests/test_sriov_config.py', 'os_net_config/sriov_config.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/380254e897990dce4caea70b82118828e9a4789f', 'message': 'sriov_config: light refactoring\n\nmerging cleaning up the numvfs getter/setters, converting pyformat\nstrings to f-strings and adding a bit more logging.\n\nChange-Id: I3bf1ace914ab8a64f9165c72ffd06d389fad25b0\n'}]",9,798787,380254e897990dce4caea70b82118828e9a4789f,49,6,21,27419,,,0,"sriov_config: light refactoring

merging cleaning up the numvfs getter/setters, converting pyformat
strings to f-strings and adding a bit more logging.

Change-Id: I3bf1ace914ab8a64f9165c72ffd06d389fad25b0
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/87/798787/7 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/tests/test_sriov_config.py', 'os_net_config/sriov_config.py']",2,734ce434c3c57ae40153b94f003cc2069f1f96c7,vhost-vdpa,"# vdpa: true/false logger.info( f""Received udev event {event['action']} for {event['device']}"" ) logger.error(f""Error reading file: {filename}"")def _get_dev_path(ifname, path): return os.path.join(_SYS_CLASS_NET, ifname, f""device/{path}"") def _wait_for_vf_creation(pf_name, numvfs): vf_count = 0 vf_list = [] while vf_count < numvfs: try: # wait for 5 seconds after every udev event event = vf_queue.get(True, 5) vf_name = os.path.basename(event[""device""]) pf_path = os.path.normpath(os.path.join(event[""device""], ""../../physfn/net"")) if os.path.isdir(pf_path): pf_nic = os.listdir(pf_path) if len(pf_nic) == 1 and pf_name == pf_nic[0]: if vf_name not in vf_list: vf_list.append(vf_name) logger.info( f""VF: {vf_name} created for PF: {pf_name}"" ) vf_count = vf_count + 1 else: logger.warning(f""Unable to parse event {event['device']}"") else: logger.warning(f""{pf_path} is not a directory"") except Queue.Empty: logger.info(f""Timeout in the creation of VFs for PF {pf_name}"") return logger.info(f""Required VFs are created for PF {pf_name}"") def _numvfs(ifname, numvfs=None, force=False): sriov_numvfs_path = _get_dev_path(ifname, ""sriov_numvfs"") try: with open(sriov_numvfs_path, 'r') as f: curr_numvfs = int(f.read()) except IOError as exc: msg = f""Unable to read numvfs for {ifname}: {exc}"" logger.debug(f""Interface {ifname} has {curr_numvfs} configured"") if numvfs and numvfs != curr_numvfs: if curr_numvfs != 0 and not force: logger.info(f""Numvfs already configured to {curr_numvfs} for "" f""{ifname}"") return curr_numvfs try: with open(sriov_numvfs_path, 'w') as f: f.write(""%d"" % numvfs) except IOError as exc: msg = (f""Unable to configure pf: {ifname} with numvfs: {numvfs}\n"" f""{exc}"") raise SRIOVNumvfsException(msg) _wait_for_vf_creation(ifname, numvfs) return curr_numvfs _numvfs(item['name'], item['numvfs'], True) vf_pci_path = f""/sys/bus/pci/devices/{vf_pci}/driver"" f.write(vf_pci)def _wait_for_uplink_rep_creation(pf_name): uplink_rep_phys_switch_id_path = f""/sys/class/net/{pf_name}/phys_switch_id"" logger.info(f""Uplink representor {pf_name} ready"") raise RuntimeError(f""Timeout while waiting for uplink representor "" f""{pf_name}."") f'KERNELS==""{pf_pci}"", NAME=""{pf_name}""' logger.info(f""adding udev rules for {pf_name}"") udev_line = f'KERNEL==""{pf_name}"", '\ f'RUN+=""/bin/os-net-config-sriov -n %k:{numvfs}""' logger.error(f""Failed to get function number for {pf_name} \n"" ""its' vf-represent"") data = ""# This file is autogenerated by os-net-config\n""\ f""{udev_data}\n"" except processutils.ProcessExecutionError as exc: logger.error(f""Failed to reload udev rules: {exc}"") except processutils.ProcessExecutionError as exc: logger.error(f""Failed to trigger udev rules: {exc}"") f'pci/{pf_pci}', 'inline-mode', 'transport') except processutils.ProcessExecutionError as exc: logger.error(f""Failed to set inline-mode to transport for "" f""{pf_pci}: {exc}"") f'pci/{pf_pci}', 'mode', 'switchdev') except processutils.ProcessExecutionError as exc: logger.error(f""Failed to set mode to switchdev for {pf_pci}: {exc}"") logger.info(f""Device pci/{pf_pci} set to switchdev mode."") logger.info(f""Enabled \""hw-tc-offload\"" for PF {pf_name}."") except processutils.ProcessExecutionError as exc: logger.error(f""Failed to enable hw-tc-offload on {pf_name}: {exc}"") f'pci/{pf_pci}', 'name', 'flow_steering_mode', logger.info(f""Device pci/{pf_pci} is set to smfs steering mode."") except processutils.ProcessExecutionError as exc: logger.warning(f""Could not set pci/{pf_pci} to smfs steering mode: "" f""{exc}"") processutils.execute(*cmd, delay_on_retry=True, attempts=10, **kwargs) except processutils.ProcessExecutionError as exc: logger.error(""Failed to execute %s: %s"" % (' '.join(cmd), exc)) logger.info(f""Bringing up PF: {pf_device['name']}"") with open(_get_dev_path(ifname, ""vendor""), 'r') as f: pf_pci_path = _get_dev_path(pf_name, ""uevent"") pf_device_path = _get_dev_path(pf_name, ""device"") vf_info = get_file_data(_get_dev_path(pf_name, f""{pf_file}/uevent"")) logger.info(f""Running /sbin/ifdown {device}"") logger.error(f""Failed to ifdown {device}"") logger.info(f""Running /sbin/ifup {device}"") logger.error(f""Failed to ifup {device}"") logger.info(f""Configuring settings for PF: {pf_name} VF: {vfid} "" f""VF name: {item['name']}"") _numvfs(device_name, int(numvfs)) else: logging.error(f""Invalid arguments for --numvfs {opts.numvfs}"")"," logger.info(""Received udev event %s for %s"" % (event[""action""], event[""device""])) logger.error(""Error reading file: %s"" % filename)def get_numvfs(ifname): try: sriov_numvfs_path = os.path.join(_SYS_CLASS_NET, ifname, ""device/sriov_numvfs"") with open(sriov_numvfs_path, 'r') as f: return int(f.read()) except IOError: msg = (""Unable to read numvfs for %s"" % ifname) try: sriov_numvfs_path = os.path.join(_SYS_CLASS_NET, item['name'], ""device/sriov_numvfs"") curr_numvfs = get_numvfs(item['name']) if curr_numvfs == item['numvfs']: logger.info(""Numvfs already configured for %s"" % item['name']) continue with open(sriov_numvfs_path, 'w') as f: f.write(""%d"" % item['numvfs']) except IOError as exc: msg = (""Unable to configure pf: %s with numvfs: %d\n%s"" % (item['name'], item['numvfs'], exc)) raise SRIOVNumvfsException(msg) # Wait for the creation of VFs for each PF _wait_for_vf_creation(item['name'], item['numvfs']) vf_pci_path = ""/sys/bus/pci/devices/%s/driver"" % vf_pci f.write(""%s"" % vf_pci)def _write_numvfs(device_name, numvfs): sriov_numvfs_path = os.path.join(_SYS_CLASS_NET, device_name, ""device/sriov_numvfs"") curr_numvfs = get_numvfs(device_name) if curr_numvfs != 0: logger.info(""Numvfs already configured for %s"" % device_name) return try: with open(sriov_numvfs_path, 'w') as f: f.write(""%d"" % numvfs) except IOError as exc: msg = (""Unable to configure pf: %s with numvfs: %d\n%s"" % (device_name, numvfs, exc)) raise SRIOVNumvfsException(msg) def _wait_for_vf_creation(pf_name, numvfs): vf_count = 0 vf_list = [] while vf_count < numvfs: try: # wait for 5 seconds after every udev event event = vf_queue.get(True, 5) vf_name = os.path.basename(event[""device""]) pf_path = os.path.normpath(os.path.join(event[""device""], ""../../physfn/net"")) if os.path.isdir(pf_path): pf_nic = os.listdir(pf_path) if len(pf_nic) == 1 and pf_name == pf_nic[0]: if vf_name not in vf_list: vf_list.append(vf_name) logger.info(""VF: %s created for PF: %s"" % (vf_name, pf_name)) vf_count = vf_count + 1 else: logger.warning(""Unable to parse event %s"" % event[""device""]) else: logger.warning(""%s is not a directory"" % pf_path) except Queue.Empty: logger.info(""Timeout in the creation of VFs for PF %s"" % pf_name) return logger.info(""Required VFs are created for PF %s"" % pf_name) def _wait_for_uplink_rep_creation(pf_name): uplink_rep_phys_switch_id_path = ""/sys/class/net/%s/phys_switch_id"" \ % pf_name logger.info(""Uplink representor %s ready"", pf_name) raise RuntimeError(""Timeout while waiting for uplink representor %s."", pf_name) 'KERNELS==""%s"", NAME=""%s""' % (pf_pci, pf_name) logger.info(""adding udev rules for %s"" % (pf_name)) udev_line = 'KERNEL==""%s"", '\ 'RUN+=""/bin/os-net-config-sriov -n %%k:%d""' \ % (pf_name, numvfs) logger.error(""Failed to get function number for %s \n"" ""its' vf-represent"" % pf_name) data = ""# This file is autogenerated by os-net-config\n%s\n""\ % udev_data except processutils.ProcessExecutionError: logger.error(""Failed to reload udev rules"") except processutils.ProcessExecutionError: logger.error(""Failed to trigger udev rules"") 'pci/%s' % pf_pci, 'inline-mode', 'transport') except processutils.ProcessExecutionError: logger.error(""Failed to set inline-mode to transport"") 'pci/%s' % pf_pci, 'mode', 'switchdev') except processutils.ProcessExecutionError: logger.error(""Failed to set mode to switchdev"") logger.info(""Device pci/%s set to switchdev mode."" % pf_pci) logger.info(""Enabled \""hw-tc-offload\"" for PF %s."" % pf_name) except processutils.ProcessExecutionError: logger.error(""Failed to enable hw-tc-offload"") 'pci/%s' % pf_pci, 'name', 'flow_steering_mode', logger.info(""Device pci/%s is set to smfs steering mode."" % pf_pci) except processutils.ProcessExecutionError: logger.warning(""Could not set pci/%s to smfs steering mode!"") processutils.execute(*cmd, **kwargs, delay_on_retry=True, attempts=10) except processutils.ProcessExecutionError: logger.error(""Failed to execute %s"" % ' '.join(cmd)) logger.info(""Bringing up PF: %s"" % pf_device['name']) with open(os.path.join(_SYS_CLASS_NET, ifname, ""device/vendor""), 'r') as f: pf_pci_path = os.path.join(_SYS_CLASS_NET, pf_name, ""device/uevent"") pf_device_path = os.path.join(_SYS_CLASS_NET, pf_name, ""device/device"") vf_info = get_file_data(os.path.join(_SYS_CLASS_NET, pf_name, ""device"", pf_file, ""uevent"")) logger.info(""Running /sbin/ifdown %s"" % device) logger.error(""Failed to ifdown %s"" % device) logger.info(""Running /sbin/ifup %s"" % device) logger.error(""Failed to ifup %s"" % device) logger.info(""Configuring settings for PF: %s VF :%d VF name : %s"" % (pf_name, vfid, item['name'])) _write_numvfs(device_name, int(numvfs)) else: logging.error(""Invalid arguments for --numvfs %s"" % opts.numvfs)",118,128
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I1efecdcd7afa6af3e6b4b26f4435198836db535f,openstack/tripleo-heat-templates,stable/victoria,I1efecdcd7afa6af3e6b4b26f4435198836db535f,Add THT Jinja2 data sources as stack output,MERGED,2021-07-01 12:11:16.000000000,2021-07-14 05:35:46.000000000,2021-07-14 05:35:46.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-07-01 12:11:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/38174b2bdbb49492d9bfc074d1d04dd0aeaa33d4', 'message': ""Add THT Jinja2 data sources as stack output\n\nThis simply stores the data structure in the network_data\nand roles_data YAML files provided with the -n and -r\noptions when deploying the overcloud.\n\nThis can be generally useful for troubleshooting.\n\nAlso the 'overcloud node extract provision' command rely\non the roles data source. Storing it in the stack means\nwe can get to the data in case the user missplaced the\nfile originally used, or in the case where we want to\nautomate the process for all deployed stacks.\n\nNOTE: The idea is to backport this to the release intended\nas the upgrade from release, so that the follow on change\nIcc6a7a438e9d0f39d003d1cf8ed84d6fb1d5485a can use it during\nupgrade.\n\nConflicts:\n  overcloud.j2.yaml\n\nRelated: blueprint network-data-v2-ports\nChange-Id: I1efecdcd7afa6af3e6b4b26f4435198836db535f\n(cherry picked from commit 0b5b914e312c25a956b412c0702064b65fafdab6)\n""}, {'number': 2, 'created': '2021-07-05 07:58:25.000000000', 'files': ['overcloud.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/643c3d25d9af9d8509a93ab52a958a8f1836c183', 'message': ""Add THT Jinja2 data sources as stack output\n\nThis simply stores the data structure in the network_data\nand roles_data YAML files provided with the -n and -r\noptions when deploying the overcloud.\n\nThis can be generally useful for troubleshooting.\n\nAlso the 'overcloud node extract provision' command rely\non the roles data source. Storing it in the stack means\nwe can get to the data in case the user missplaced the\nfile originally used, or in the case where we want to\nautomate the process for all deployed stacks.\n\nNOTE: The idea is to backport this to the release intended\nas the upgrade from release, so that the follow on change\nIcc6a7a438e9d0f39d003d1cf8ed84d6fb1d5485a can use it during\nupgrade.\n\nConflicts:\n  overcloud.j2.yaml\n\nRelated: blueprint network-data-v2-ports\nChange-Id: I1efecdcd7afa6af3e6b4b26f4435198836db535f\n(cherry picked from commit 0b5b914e312c25a956b412c0702064b65fafdab6)\n""}]",0,799058,643c3d25d9af9d8509a93ab52a958a8f1836c183,27,5,2,24245,,,0,"Add THT Jinja2 data sources as stack output

This simply stores the data structure in the network_data
and roles_data YAML files provided with the -n and -r
options when deploying the overcloud.

This can be generally useful for troubleshooting.

Also the 'overcloud node extract provision' command rely
on the roles data source. Storing it in the stack means
we can get to the data in case the user missplaced the
file originally used, or in the case where we want to
automate the process for all deployed stacks.

NOTE: The idea is to backport this to the release intended
as the upgrade from release, so that the follow on change
Icc6a7a438e9d0f39d003d1cf8ed84d6fb1d5485a can use it during
upgrade.

Conflicts:
  overcloud.j2.yaml

Related: blueprint network-data-v2-ports
Change-Id: I1efecdcd7afa6af3e6b4b26f4435198836db535f
(cherry picked from commit 0b5b914e312c25a956b412c0702064b65fafdab6)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/58/799058/1 && git format-patch -1 --stdout FETCH_HEAD,['overcloud.j2.yaml'],1,38174b2bdbb49492d9bfc074d1d04dd0aeaa33d4,network-data-v2-backports, TripleoHeatTemplatesJinja2RenderingDataSources: description: The role_data and the network_data used when rendering the THT Jinja2 templates value: roles_data: {{ roles }} networks_data: {{ networks }},,5,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ib6000467f830037c3d9721a3b6ebf06523225f98,openstack/tripleo-heat-templates,stable/train,Ib6000467f830037c3d9721a3b6ebf06523225f98,Added the posibility of skipping the NFS ping test on the rear installation,MERGED,2021-07-05 07:23:44.000000000,2021-07-14 05:35:19.000000000,2021-07-14 05:35:19.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-05 07:23:44.000000000', 'files': ['deployment/backup-and-restore/rear-baremetal-ansible.yaml', 'ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f17a5c1fa1bee9db0ae98ea0f9bdc0b3c11a3e2e', 'message': 'Added the posibility of skipping the NFS ping test on the rear installation\n\nAlso changed the CI to skip this test.\n\nDepends-On: Ibbf7ba3435da8dc9218403df76f0eb86df4374db\nChange-Id: Ib6000467f830037c3d9721a3b6ebf06523225f98\n(cherry picked from commit 86daa77b376db832498aaf90809674b95ac7b6b1)\n(cherry picked from commit f006d015657f4635115932715428cc1d5ee83ae4)\n(cherry picked from commit 7f19b9635ac201cd32c0e9f469c5f8aaf207ef5b)\n(cherry picked from commit 61b8fdf7a0090846396f371df1e09cca977586c7)\n'}]",0,799371,f17a5c1fa1bee9db0ae98ea0f9bdc0b3c11a3e2e,11,4,1,22954,,,0,"Added the posibility of skipping the NFS ping test on the rear installation

Also changed the CI to skip this test.

Depends-On: Ibbf7ba3435da8dc9218403df76f0eb86df4374db
Change-Id: Ib6000467f830037c3d9721a3b6ebf06523225f98
(cherry picked from commit 86daa77b376db832498aaf90809674b95ac7b6b1)
(cherry picked from commit f006d015657f4635115932715428cc1d5ee83ae4)
(cherry picked from commit 7f19b9635ac201cd32c0e9f469c5f8aaf207ef5b)
(cherry picked from commit 61b8fdf7a0090846396f371df1e09cca977586c7)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/71/799371/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/backup-and-restore/rear-baremetal-ansible.yaml', 'ci/environments/scenario001-standalone.yaml']",2,f17a5c1fa1bee9db0ae98ea0f9bdc0b3c11a3e2e,BnRSkipNFSTest-stable/wallaby-stable/victoria-stable/ussuri-stable/train, BackupAndRestoreSkipNFSTest: true,,8,0
openstack%2Ftripleo-ansible~stable%2Ftrain~Ibbf7ba3435da8dc9218403df76f0eb86df4374db,openstack/tripleo-ansible,stable/train,Ibbf7ba3435da8dc9218403df76f0eb86df4374db,BnR Test NFS server conectivity & ubi-minimal container image,MERGED,2021-07-05 07:23:21.000000000,2021-07-14 05:35:05.000000000,2021-07-14 05:35:05.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-05 07:23:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4738e7d60d7c4fbc0384d2f9c8ebed5fdff13548', 'message': 'BnR Test NFS server conectivity & ubi-minimal container image\n\nWhen ReaR is configure there is no validation on the NFS server,\nthis patch adds a simple ping test validation to the NFS server.\nThe NFS ping test can be disabled with a variable.\n\nThis patch also switches from centos-8 to ubi-minimal container.\n\nChange-Id: Ibbf7ba3435da8dc9218403df76f0eb86df4374db\n(cherry picked from commit 64932f1bcad982d1e85179149da9f3803b22ea8d)\n(cherry picked from commit 8bfee72c8c538d2c5f53cf07eef0e8dcf725901b)\n(cherry picked from commit 303936ab3ca7de60e3a59061864ca2477e28f3e4)\n(cherry picked from commit e860091f1ef44369a928f39a6170a58b6eccf9ed)\n'}, {'number': 2, 'created': '2021-07-05 07:34:13.000000000', 'files': ['tripleo_ansible/roles/backup-and-restore/defaults/main.yml', 'tripleo_ansible/roles/backup-and-restore/setup_rear/tasks/main.yml', 'tripleo_ansible/roles/backup-and-restore/molecule/default/playbook.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f21edfb5ba8980d3e6a2024ea48a22d86aa188b3', 'message': 'BnR Test NFS server conectivity & ubi-minimal container image\n\nWhen ReaR is configure there is no validation on the NFS server,\nthis patch adds a simple ping test validation to the NFS server.\nThe NFS ping test can be disabled with a variable.\n\nThis patch also switches from centos-8 to ubi-minimal container.\n\nChange-Id: Ibbf7ba3435da8dc9218403df76f0eb86df4374db\n(cherry picked from commit 64932f1bcad982d1e85179149da9f3803b22ea8d)\n(cherry picked from commit 8bfee72c8c538d2c5f53cf07eef0e8dcf725901b)\n(cherry picked from commit 303936ab3ca7de60e3a59061864ca2477e28f3e4)\n(cherry picked from commit e860091f1ef44369a928f39a6170a58b6eccf9ed)\n'}]",0,799370,f21edfb5ba8980d3e6a2024ea48a22d86aa188b3,9,3,2,22954,,,0,"BnR Test NFS server conectivity & ubi-minimal container image

When ReaR is configure there is no validation on the NFS server,
this patch adds a simple ping test validation to the NFS server.
The NFS ping test can be disabled with a variable.

This patch also switches from centos-8 to ubi-minimal container.

Change-Id: Ibbf7ba3435da8dc9218403df76f0eb86df4374db
(cherry picked from commit 64932f1bcad982d1e85179149da9f3803b22ea8d)
(cherry picked from commit 8bfee72c8c538d2c5f53cf07eef0e8dcf725901b)
(cherry picked from commit 303936ab3ca7de60e3a59061864ca2477e28f3e4)
(cherry picked from commit e860091f1ef44369a928f39a6170a58b6eccf9ed)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/70/799370/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/molecule/default/converge.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/backup_and_restore/molecule/default/prepare.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml']",4,4738e7d60d7c4fbc0384d2f9c8ebed5fdff13548,BnR_ping_nfs_test-stable/wallaby-stable/victoria-stable/ussuri-stable/train,"<<<<<<< HEAD (74d416 Restart octavia rsyslog after updating the config) ======= --- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # All variables intended for modification should be placed in this file. tripleo_backup_and_restore_hide_sensitive_logs: ""{{ hide_sensitive_logs | default(true) }}"" tripleo_backup_and_restore_debug: ""{{ ((ansible_verbosity | int) >= 2) | bool }}"" # Set the container command line entry-point tripleo_container_cli: ""{{ container_cli | default('podman') }}"" # Stop and start all running services before backup is ran. tripleo_backup_and_restore_service_manager: true # Set the name of the mysql container tripleo_backup_and_restore_mysql_container: mysql # All variables within this role should have a prefix of ""tripleo_backup_and_restore"" # By default this should be the Undercloud node tripleo_backup_and_restore_nfs_server: 192.168.24.1 tripleo_backup_and_restore_nfs_storage_folder: /ctl_plane_backups tripleo_backup_and_restore_nfs_clients_nets: ['192.168.24.0/24', '10.0.0.0/24', '172.16.0.0/24'] tripleo_backup_and_restore_rear_simulate: false tripleo_backup_and_restore_using_uefi_bootloader: 0 tripleo_backup_and_restore_exclude_paths_common: ['/data/*', '/tmp/*', '{{ tripleo_backup_and_restore_nfs_storage_folder }}/*'] tripleo_backup_and_restore_exclude_paths_controller_non_bootrapnode: true tripleo_backup_and_restore_exclude_paths_controller: ['/var/lib/mysql/*'] tripleo_backup_and_restore_exclude_paths_compute: ['/var/lib/nova/instances/*'] tripleo_backup_and_restore_hiera_config_file: ""/etc/puppet/hiera.yaml"" # This var is a dictionary of the configuration of the /etc/rear/local.conf # The key:value will be interpreted as key=value on the configuration file. # To set that the value is a string, it needs to be single quoted followed by # double quoted as it will be interpreted by BASH. tripleo_backup_and_restore_local_config: ISO_DEFAULT: '""automatic""' USING_UEFI_BOOTLOADER: 0 OUTPUT: ISO BACKUP: NETFS BACKUP_PROG_COMPRESS_OPTIONS: '( --gzip)' BACKUP_PROG_COMPRESS_SUFFIX: '"".gz""' # This var is a dictionary of the configuration of the /etc/rear/rescue.conf # The key:value will be interpreted as key=value on the configuration file. # To set that the value is a string, it needs to be single quoted followed by # double quoted as it will be interpreted by BASH. tripleo_backup_and_restore_rescue_config: {} tripleo_backup_and_restore_output_url: ""nfs://{{ tripleo_backup_and_restore_nfs_server }}/ctl_plane_backups"" tripleo_backup_and_restore_backup_url: ""nfs://{{ tripleo_backup_and_restore_nfs_server }}/ctl_plane_backups"" # Ceph authentication backup file tripleo_backup_and_restore_ceph_auth_file: ""ceph_auth_export.bak"" # If there is a firewalld active, setup the zone where the NFS server ports need to be opened tripleo_backup_and_restore_firewalld_zone: ""libvirt"" # The ReaR rpm installs a cronjob at 1:30 each day by default. This variable deactivate that behaviour. tripleo_backup_and_restore_remove_default_cronjob: true # Skip the ping test to the NFS server on rear setup tripleo_backup_and_restore_skip_nfs_test: false >>>>>>> CHANGE (e86009 BnR Test NFS server conectivity & ubi-minimal container imag) ",,367,0
openstack%2Ftripleo-heat-templates~master~If300a5f5d351404dbcf73d02822cdccf8e9f68df,openstack/tripleo-heat-templates,master,If300a5f5d351404dbcf73d02822cdccf8e9f68df,yaml-diff.py: Making it a bit better,MERGED,2021-07-05 18:22:57.000000000,2021-07-14 05:34:31.000000000,2021-07-14 05:34:31.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-05 18:22:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/55b3485219a53db1101cbff40bf44d37c3c66c7b', 'message': 'yaml-diff.py: Making it a bit better\n\nAdding a --details switch to have a bit more information about the\ndifferences between yaml files.\n\nThis is pretty much leveraging the difflib to get at most 2 levels of\ndifferences in the yaml structure.\n\nChange-Id: If300a5f5d351404dbcf73d02822cdccf8e9f68df\n'}, {'number': 2, 'created': '2021-07-05 18:24:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ef6e48499ce41f1a128fcb00b9b29ac2e7530cbe', 'message': 'yaml-diff.py: Making it a bit better\n\nAdding a --details switch to have a bit more information about the\ndifferences between yaml files.\n\nThis is pretty much leveraging the difflib to get at most 2 levels of\ndifferences in the yaml structure.\n\nChange-Id: If300a5f5d351404dbcf73d02822cdccf8e9f68df\n'}, {'number': 3, 'created': '2021-07-05 18:59:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e39f26cba1ba5ee08092c6e1aa7c3072d0790feb', 'message': 'yaml-diff.py: Making it a bit better\n\nAdding a --details switch to have a bit more information about the\ndifferences between yaml files.\n\nThis is pretty much leveraging the difflib to get at most 2 levels of\ndifferences in the yaml structure.\n\nChange-Id: If300a5f5d351404dbcf73d02822cdccf8e9f68df\n'}, {'number': 4, 'created': '2021-07-05 22:11:34.000000000', 'files': ['tools/yaml-diff.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ec1f6102e0f750bd4815225025afe031894e3ffd', 'message': 'yaml-diff.py: Making it a bit better\n\nAdding a --details switch to have a bit more information about the\ndifferences between yaml files.\n\nThis is pretty much leveraging the difflib to get at most 2 levels of\ndifferences in the yaml structure.\n\nChange-Id: If300a5f5d351404dbcf73d02822cdccf8e9f68df\n'}]",9,799538,ec1f6102e0f750bd4815225025afe031894e3ffd,13,6,4,27419,,,0,"yaml-diff.py: Making it a bit better

Adding a --details switch to have a bit more information about the
differences between yaml files.

This is pretty much leveraging the difflib to get at most 2 levels of
differences in the yaml structure.

Change-Id: If300a5f5d351404dbcf73d02822cdccf8e9f68df
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/38/799538/4 && git format-patch -1 --stdout FETCH_HEAD,['tools/yaml-diff.py'],1,55b3485219a53db1101cbff40bf44d37c3c66c7b,,"#!/usr/bin/python3import argparse from pprint import pformat from difflib import SequenceMatcher, unified_diff from collections import defaultdictCOMPARE_SECTIONS = ['parameters', 'conditions', 'resources', 'outputs'] def parse_args(): p = argparse.ArgumentParser() p.add_argument('--details', '-d', action='count', default=0, help='Show details, deeper comparison with -dd') p.add_argument('--common', '-c', action='store_true', help='Show common items when comparing sections') p.add_argument('--section', '-s', action='store', nargs='*', help=""Sections to compare"", default=COMPARE_SECTIONS) p.add_argument('path_args', action='store', nargs='*') args = p.parse_args() if len(args.path_args) != 2: p.error(""Need two files to compare"") return args def diff_list(list_a, list_b): """""" Takes 2 lists and returns the differences between them """""" list_a = sorted(list_a) list_b = sorted(list_b) diffs = defaultdict(list) sequence = SequenceMatcher(None, list_a, list_b).get_opcodes() for tag, i, j, k, l in sequence: if tag == 'equal' and show_common: diffs['common'].extend(list_a[i:j]) if tag in ('delete', 'replace'): diffs[FILE_A].extend(list_a[i:j]) if tag in ('insert', 'replace'): diffs[FILE_B].extend(list_b[k:l]) return ""\n"".join([f""{fn} {dl}"" for fn, dl in diffs.items()]) def diff_dict(dict_a, dict_b): """""" Converts 2 dicts to strings with pformat and returns a unified diff formated string """""" return ""\n"".join([d for d in unified_diff( pformat(dict_a, width=80).splitlines(), pformat(dict_b, width=80).splitlines(), fromfile=FILE_A, tofile=FILE_B)]) args = parse_args() path_args = args.path_args show_details = args.details show_common = args.common sections = args.section FILE_A = path_args[0] FILE_B = path_args[1]exit = ""Files are different"" if a != b else 0 if not show_details: sys.exit(exit) # With -ddd, we print the full diff dict and exit if show_details >= 3: print(diff_dict(a, b)) sys.exit(exit) section_diff = diff_list(list(a.keys()), list(a.keys())) if section_diff: print(f""Sections list\n{section_diff}"") for item in sections: keys_a = list(a.get(item).keys()) keys_b = list(b.get(item).keys()) section_item_diff = diff_list(keys_a, keys_b) if section_item_diff: print(f""\n\nSection {item}\n{section_item_diff}"") if show_details > 1: for key in list(set(keys_a + keys_b)): key_a = a.get(item, {}).get(key, {}) key_b = b.get(item, {}).get(key, {}) diff = diff_dict(key_a, key_b) # If a key is missing from either list, we don't want # to see the full diff, it's already flagged when # show_details == 1 # We just want to see if child dict is existent on both sides # and different if diff and key_a and key_b: print(f""\n\n{item}/{key}\n{diff}"") sys.exit(exit)","#!/usr/bin/env python3if len(sys.argv) != 3: raise RuntimeError('Not enough arguemnts') FILE_A = sys.argv[1] FILE_B = sys.argv[2]if a != b: sys.exit(""Files are different"") sys.exit(0)",100,8
openstack%2Ftripleo-ci~master~Idf89c47a4b1d1ade9067c88455a2358aaa3fcb50,openstack/tripleo-ci,master,Idf89c47a4b1d1ade9067c88455a2358aaa3fcb50,Run tempest swift on scenario004,MERGED,2021-07-12 21:12:58.000000000,2021-07-14 05:34:25.000000000,2021-07-14 05:34:25.000000000,"[{'_account_id': 9003}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-07-12 21:12:58.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e64b82487722ab50c24122ea02f6d6a00a0109b1', 'message': ""Run tempest swift on scenario004\n\nscenario004 deploys Ceph RGW but Glance is deployed with RBD backend,\nso we don't actually test the RGW.\nNow with this patch we'll run the tempest scenario object storage\ntests.\n\nChange-Id: Idf89c47a4b1d1ade9067c88455a2358aaa3fcb50\n""}]",0,800563,e64b82487722ab50c24122ea02f6d6a00a0109b1,10,6,1,3153,,,0,"Run tempest swift on scenario004

scenario004 deploys Ceph RGW but Glance is deployed with RBD backend,
so we don't actually test the RGW.
Now with this patch we'll run the tempest scenario object storage
tests.

Change-Id: Idf89c47a4b1d1ade9067c88455a2358aaa3fcb50
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/63/800563/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,e64b82487722ab50c24122ea02f6d6a00a0109b1,004, - 'tempest.scenario.test_object_storage_basic_ops',,1,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Icc6a7a438e9d0f39d003d1cf8ed84d6fb1d5485a,openstack/tripleo-heat-templates,stable/wallaby,Icc6a7a438e9d0f39d003d1cf8ed84d6fb1d5485a,Get roles data from stack output on UC upgrade,MERGED,2021-07-02 21:08:52.000000000,2021-07-14 05:33:55.000000000,2021-07-14 05:33:55.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-02 21:08:52.000000000', 'files': ['scripts/undercloud-upgrade-ephemeral-heat.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ddcb24798039ccd596427a59e02f98b7edc47c75', 'message': 'Get roles data from stack output on UC upgrade\n\nSince not all information can be exported from the\nstacks, the intent is to backport the depends-on\nto the release intended as the upgrade from release.\ni.e the depends on need to go back to Train.\n\nThe alternative is to require the user to provide the\nroles_data file for each overcloud stack managed by\nthe undercloud being upgraded as input to the upgrade\ncommand. Support for this is provided in the previous\npatch in this chain.\n\nDepends-On: https://review.opendev.org/791476\nRelated: blueprint network-data-v2-ports\nChange-Id: Icc6a7a438e9d0f39d003d1cf8ed84d6fb1d5485a\n(cherry picked from commit ff48f2ac1eef50b575570a90ae417145dd1e9935)\n'}]",0,799254,ddcb24798039ccd596427a59e02f98b7edc47c75,9,3,1,24245,,,0,"Get roles data from stack output on UC upgrade

Since not all information can be exported from the
stacks, the intent is to backport the depends-on
to the release intended as the upgrade from release.
i.e the depends on need to go back to Train.

The alternative is to require the user to provide the
roles_data file for each overcloud stack managed by
the undercloud being upgraded as input to the upgrade
command. Support for this is provided in the previous
patch in this chain.

Depends-On: https://review.opendev.org/791476
Related: blueprint network-data-v2-ports
Change-Id: Icc6a7a438e9d0f39d003d1cf8ed84d6fb1d5485a
(cherry picked from commit ff48f2ac1eef50b575570a90ae417145dd1e9935)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/54/799254/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/undercloud-upgrade-ephemeral-heat.py'],1,ddcb24798039ccd596427a59e02f98b7edc47c75,network-data-v2-backports,"import tempfiledef _get_role_data_file(heat, stack, fd, temp_file_path): :param heat: Heat client :type heat: heatclient.client.Client :fd: File descriptor :type fd: int :temp_file_path: Path to role data temp file :type temp_file_path: str try: _stack = heat.get_stack(stack) stack_outputs = {i['output_key']: i['output_value'] for i in _stack.outputs} roles_data = stack_outputs[ 'TripleoHeatTemplatesJinja2RenderingDataSources']['roles_data'] with os.fdopen(fd, 'w') as tmp: tmp.write(yaml.safe_dump(roles_data)) roles_data_file = temp_file_path except KeyError: if not os.path.isfile(ROLE_DATA_MAP_FILE): _log_and_raise(""Overcloud stack role data mapping file: {} was "" ""not found."".format(ROLE_DATA_MAP_FILE)) with open(ROLE_DATA_MAP_FILE, 'r') as f: data = yaml.safe_load(f.read()) roles_data_file = data.get(stack) if not roles_data_file or not os.path.isfile(roles_data_file): _log_and_raise(""Roles data file: {} for stack {} not found."" .format(roles_data_file, stack))def export_provisioned_nodes(heat, stack, stack_dir): :param cloud: Heat client :type cloud: heatclient.client.Client fd, temp_file_path = tempfile.mkstemp() try: roles_data_file = _get_role_data_file(heat, stack, fd, temp_file_path) bm_deployment_path = os.path.join( stack_dir, ""tripleo-{}-baremetal-deployment.yaml"".format(stack)) LOG.info(""Exporting provisioned nodes from stack %s to %s"" % (stack, bm_deployment_path)) subprocess.check_call(['openstack', 'overcloud', 'node', 'extract', 'provisioned', '--stack', stack, '--roles-file', roles_data_file, '--output', bm_deployment_path, '--yes']) os.chmod(bm_deployment_path, 0o600) finally: os.remove(temp_file_path) export_provisioned_nodes(heat, stack, stack_dir)","def _get_role_data_file(stack): if not os.path.isfile(ROLE_DATA_MAP_FILE): _log_and_raise(""Overcloud stack role data mapping file: {} was not "" ""found."".format(ROLE_DATA_MAP_FILE)) with open(ROLE_DATA_MAP_FILE, 'r') as f: data = yaml.safe_load(f.read()) roles_data_file = data.get(stack) if not roles_data_file or not os.path.isfile(roles_data_file): _log_and_raise(""Roles data file: {} for stack {} not found."" .format(roles_data_file, stack))def export_provisioned_nodes(stack, stack_dir): roles_data_file = _get_role_data_file(stack) bm_deployment_path = os.path.join( stack_dir, ""tripleo-{}-baremetal-deployment.yaml"".format(stack)) LOG.info(""Exporting provisioned nodes from stack %s to %s"" % (stack, bm_deployment_path)) subprocess.check_call(['openstack', 'overcloud', 'node', 'extract', 'provisioned', '--stack', stack, '--roles-file', roles_data_file, '--output', bm_deployment_path, '--yes']) os.chmod(bm_deployment_path, 0o600) export_provisioned_nodes(stack, stack_dir)",47,22
openstack%2Fos-refresh-config~master~I42b735072db71f861eb71de5b468e4957ba33f3f,openstack/os-refresh-config,master,I42b735072db71f861eb71de5b468e4957ba33f3f,Use py3 as the default runtime for tox,MERGED,2021-05-26 18:59:19.000000000,2021-07-14 05:33:33.000000000,2021-07-14 05:33:33.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-26 18:59:19.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-refresh-config/commit/5bb536c13bbefee705fda44ca96ccc957625d186', 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update\nthis at each new cycle.\n\nChange-Id: I42b735072db71f861eb71de5b468e4957ba33f3f\n'}]",0,793224,5bb536c13bbefee705fda44ca96ccc957625d186,7,3,1,31828,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: I42b735072db71f861eb71de5b468e4957ba33f3f
",git fetch https://review.opendev.org/openstack/os-refresh-config refs/changes/24/793224/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5bb536c13bbefee705fda44ca96ccc957625d186,,"envlist = py3,pep8","envlist = py37,pep8",1,1
openstack%2Fos-collect-config~master~Id230197b1fcb09d16c7a9a66bfaa7c878d67e4ba,openstack/os-collect-config,master,Id230197b1fcb09d16c7a9a66bfaa7c878d67e4ba,Use py3 as the default runtime for tox,MERGED,2021-05-26 18:38:00.000000000,2021-07-14 05:33:18.000000000,2021-07-14 05:33:18.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-26 18:38:00.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-collect-config/commit/a309852c4637cd34999378c72c8f84fc3425fb26', 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update\nthis at each new cycle.\n\nChange-Id: Id230197b1fcb09d16c7a9a66bfaa7c878d67e4ba\n'}]",0,793220,a309852c4637cd34999378c72c8f84fc3425fb26,7,3,1,31828,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: Id230197b1fcb09d16c7a9a66bfaa7c878d67e4ba
",git fetch https://review.opendev.org/openstack/os-collect-config refs/changes/20/793220/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a309852c4637cd34999378c72c8f84fc3425fb26,,"envlist = py3,pep8","envlist = py37,pep8",1,1
openstack%2Fos-apply-config~master~I6e55865aa34bb82256bbc51754fba88690bbba34,openstack/os-apply-config,master,I6e55865aa34bb82256bbc51754fba88690bbba34,Use py3 as the default runtime for tox,MERGED,2021-05-26 18:34:16.000000000,2021-07-14 05:33:15.000000000,2021-07-14 05:33:15.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-26 18:34:16.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-apply-config/commit/c1165f20b87ddd775ed14d910545786a64ba86af', 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update\nthis at each new cycle.\n\nChange-Id: I6e55865aa34bb82256bbc51754fba88690bbba34\n'}]",0,793218,c1165f20b87ddd775ed14d910545786a64ba86af,7,3,1,31828,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: I6e55865aa34bb82256bbc51754fba88690bbba34
",git fetch https://review.opendev.org/openstack/os-apply-config refs/changes/18/793218/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c1165f20b87ddd775ed14d910545786a64ba86af,,"envlist = py3,pep8","envlist = py37,pep8",1,1
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Ib3476e53f89b50bae72b9c95a5d3dec51ed3de7e,openstack/tripleo-heat-templates,stable/victoria,Ib3476e53f89b50bae72b9c95a5d3dec51ed3de7e,Create post-deploy.conf on update/upgrade for octavia,MERGED,2021-01-25 17:54:33.000000000,2021-07-14 05:33:09.000000000,2021-07-14 05:33:09.000000000,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-25 17:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4fccda44d6a0bf201975f2b3ec1aad94113a5c85', 'message': 'Create post-deploy.conf on update/upgrade for octavia\n\nContainers are restarted with new command lines during upgrade/updates\nbefore the external_deploy_task are run that create a configuration file\nthat is used on the command line. This results in octavia services\nfailing to start.\n\nNote: this was originally merged as:\n    https://review.opendev.org/#/c/750986/\nbut the OctaviaBase references in templates was incorrect so the\noriginal patch was reverted through:\n    https://review.opendev.org/#/c/763561/\nAs the original patch had not been backported, it makes more sense to\nrevert and get a correct fix in place and backport that instead of\nrequiring backporting a series or backporting a squashed commit.\n\nChange-Id: Ib3476e53f89b50bae72b9c95a5d3dec51ed3de7e\nRelated-Bug: #1863595\n'}, {'number': 2, 'created': '2021-05-03 18:40:42.000000000', 'files': ['deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/octavia/octavia-base.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/octavia/octavia-housekeeping-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a68d3f96b8351ad6b5db6e5bd8f0efcb85ffd8a9', 'message': 'Create post-deploy.conf on update/upgrade for octavia\n\nContainers are restarted with new command lines during upgrade/updates\nbefore the external_deploy_task are run that create a configuration file\nthat is used on the command line. This results in octavia services\nfailing to start.\n\nNote: this was originally merged as:\n    https://review.opendev.org/#/c/750986/\nbut the OctaviaBase references in templates was incorrect so the\noriginal patch was reverted through:\n    https://review.opendev.org/#/c/763561/\nAs the original patch had not been backported, it makes more sense to\nrevert and get a correct fix in place and backport that instead of\nrequiring backporting a series or backporting a squashed commit.\n\nChange-Id: Ib3476e53f89b50bae72b9c95a5d3dec51ed3de7e\nRelated-Bug: #1863595\n(cherry picked from commit 6c11a949fc0b940ebc3815aeb86156bd60df5851)\n'}]",0,772390,a68d3f96b8351ad6b5db6e5bd8f0efcb85ffd8a9,11,4,2,6681,,,0,"Create post-deploy.conf on update/upgrade for octavia

Containers are restarted with new command lines during upgrade/updates
before the external_deploy_task are run that create a configuration file
that is used on the command line. This results in octavia services
failing to start.

Note: this was originally merged as:
    https://review.opendev.org/#/c/750986/
but the OctaviaBase references in templates was incorrect so the
original patch was reverted through:
    https://review.opendev.org/#/c/763561/
As the original patch had not been backported, it makes more sense to
revert and get a correct fix in place and backport that instead of
requiring backporting a series or backporting a squashed commit.

Change-Id: Ib3476e53f89b50bae72b9c95a5d3dec51ed3de7e
Related-Bug: #1863595
(cherry picked from commit 6c11a949fc0b940ebc3815aeb86156bd60df5851)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/90/772390/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/octavia/octavia-base.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/octavia/octavia-housekeeping-container-puppet.yaml']",5,4fccda44d6a0bf201975f2b3ec1aad94113a5c85,victoria," update_tasks: {get_attr: [OctaviaBase, role_data, update_tasks]} upgrade_tasks: {get_attr: [OctaviaBase, role_data, upgrade_tasks]}", upgrade_tasks: [],77,52
openstack%2Fglance-specs~master~I09d10fda8e88fdd1894c97913ad1729b34e9122b,openstack/glance-specs,master,I09d10fda8e88fdd1894c97913ad1729b34e9122b,Fix symlinks for Xena templates,MERGED,2021-07-13 16:41:25.000000000,2021-07-14 04:58:55.000000000,2021-07-14 04:57:47.000000000,"[{'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-13 16:41:25.000000000', 'files': ['specs/xena/approved/glance/spec-lite-template.rst', 'specs/xena/approved/glance/template.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/a18d7ab4d70eb41bf15550845f80c960bd6ba28e', 'message': 'Fix symlinks for Xena templates\n\nSomeone missed a leading period.\n\nChange-Id: I09d10fda8e88fdd1894c97913ad1729b34e9122b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,800687,a18d7ab4d70eb41bf15550845f80c960bd6ba28e,9,3,1,15334,,,0,"Fix symlinks for Xena templates

Someone missed a leading period.

Change-Id: I09d10fda8e88fdd1894c97913ad1729b34e9122b
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/87/800687/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/xena/approved/glance/spec-lite-template.rst', 'specs/xena/approved/glance/template.rst']",2,a18d7ab4d70eb41bf15550845f80c960bd6ba28e,remove-sqlalchemy-migrate,../../../template.rst,./../../template.rst,2,2
openstack%2Fhorizon~master~Id6756b8cf134d908db7e3387541022c8e0ef7ddc,openstack/horizon,master,Id6756b8cf134d908db7e3387541022c8e0ef7ddc,DO NOT REVIEW,ABANDONED,2021-06-02 16:06:39.000000000,2021-07-14 04:38:23.000000000,,"[{'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-02 16:06:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/29fae1c176814f429c3bc59259ffdde557b6e0af', 'message': 'DO NOT REVIEW\n\nTesting fix for OVN in DevStack\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/793962\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: Id6756b8cf134d908db7e3387541022c8e0ef7ddc\n'}, {'number': 2, 'created': '2021-06-10 17:33:34.000000000', 'files': ['horizon/base.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/cb7f9978a7ea90c64d4807132719ffca713658dc', 'message': 'DO NOT REVIEW\n\nTesting fix for OVN in DevStack\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/795371\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: Id6756b8cf134d908db7e3387541022c8e0ef7ddc\n'}]",0,794263,cb7f9978a7ea90c64d4807132719ffca713658dc,12,2,2,6773,,,0,"DO NOT REVIEW

Testing fix for OVN in DevStack

Depends-On: https://review.opendev.org/c/openstack/devstack/+/795371
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
Change-Id: Id6756b8cf134d908db7e3387541022c8e0ef7ddc
",git fetch https://review.opendev.org/openstack/horizon refs/changes/63/794263/2 && git format-patch -1 --stdout FETCH_HEAD,['horizon/base.py'],1,29fae1c176814f429c3bc59259ffdde557b6e0af,ovn-devstack, Foobar.,,2,0
openstack%2Ftempest~master~I603f952f18851828ca681ddcc82c54c4d2fe66e6,openstack/tempest,master,I603f952f18851828ca681ddcc82c54c4d2fe66e6,Fix tempest-slow-py3: use the correct inheritance chain,MERGED,2021-07-13 10:16:55.000000000,2021-07-14 01:39:08.000000000,2021-07-14 01:36:42.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-07-13 10:16:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2ce3739a887a02f6af5092e8f4ec94e205b82db3', 'message': 'Fix tempest-slow-py3: use the correct inheritance chain\n\nDerive the job from the py3 version of the multinode base job,\notherwise several definitions are lost.\nThe more visible symption of this issue is the wrong usage of\nUSE_PYTHON3=False when the job is used on stable/ussuri.\n\nCloses-Bug: #1935956\nChange-Id: I603f952f18851828ca681ddcc82c54c4d2fe66e6\n'}, {'number': 2, 'created': '2021-07-13 10:21:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b762bbdd1dfe81189d7f06daf7cc213e11d535bb', 'message': 'Fix tempest-slow-py3: use the correct inheritance chain\n\nDerive the job from the py3 version of the multinode base job,\notherwise several definitions are lost.\nThe more visible symption of this issue is the wrong usage of\nUSE_PYTHON3=False when the job is used on stable/ussuri.\n\nCloses-Bug: #1935956\nChange-Id: I603f952f18851828ca681ddcc82c54c4d2fe66e6\n'}, {'number': 3, 'created': '2021-07-13 10:37:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a3049a4a429ee9baff7ee2e509fd7b713cd15ee0', 'message': 'Fix tempest-slow-py3: use the correct inheritance chain\n\nDerive the job from the py3 version of the multinode base job,\notherwise several definitions are lost.\nThe more visible symption of this issue is the wrong usage of\nUSE_PYTHON3=False when the job is used on stable/ussuri.\n\nCloses-Bug: #1935956\nChange-Id: I603f952f18851828ca681ddcc82c54c4d2fe66e6\n'}, {'number': 4, 'created': '2021-07-13 10:44:43.000000000', 'files': ['zuul.d/integrated-gate.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/b9ac05717b6adec53206caa1f07a9ec98673db3e', 'message': 'Fix tempest-slow-py3: use the correct inheritance chain\n\nDerive the job from the py3 version of the multinode base job,\notherwise several definitions are lost.\nThe more visible symption of this issue is the wrong usage of\nUSE_PYTHON3=False when the job is used on stable/ussuri.\n\nCloses-Bug: #1935956\nChange-Id: I603f952f18851828ca681ddcc82c54c4d2fe66e6\n'}]",0,800614,b9ac05717b6adec53206caa1f07a9ec98673db3e,16,3,4,10459,,,0,"Fix tempest-slow-py3: use the correct inheritance chain

Derive the job from the py3 version of the multinode base job,
otherwise several definitions are lost.
The more visible symption of this issue is the wrong usage of
USE_PYTHON3=False when the job is used on stable/ussuri.

Closes-Bug: #1935956
Change-Id: I603f952f18851828ca681ddcc82c54c4d2fe66e6
",git fetch https://review.opendev.org/openstack/tempest refs/changes/14/800614/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/integrated-gate.yaml'],1,2ce3739a887a02f6af5092e8f4ec94e205b82db3,fix-tempest-slow-py3, vars: &tempest-slow-vars group-vars: &tempest-slow-group-vars parent: tempest-multinode-full-py3 timeout: 10800 vars: *tempest-slow-vars group-vars: *tempest-slow-group-vars, vars: group-vars: parent: tempest-slow,6,3
openstack%2Fnova~master~Ic99440dd618243517f64506e3da88885fc2c44c9,openstack/nova,master,Ic99440dd618243517f64506e3da88885fc2c44c9,docs: Replace 'nova boot' with 'openstack server create',MERGED,2021-06-01 16:41:02.000000000,2021-07-14 01:39:06.000000000,2021-07-14 01:36:50.000000000,"[{'_account_id': 4690}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-01 16:41:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/237542579748f81c03943dd0d1c8d8fba9b829c1', 'message': ""docs: Replace 'nova boot' with 'openstack server create'\n\nReplace references to novaclient with OSC in the boot from volume guide.\n\nThis is essentially a revert of commit aa3964118, which was a revert of\nan earlier attempt at doing this that fell down because it didn't\nreflect the changes in CLI parameters between the different tools.\n\nChange-Id: Ic99440dd618243517f64506e3da88885fc2c44c9\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-06-08 11:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/176aec31bff4251d76ab2ccd47d1b33032d5409e', 'message': ""docs: Replace 'nova boot' with 'openstack server create'\n\nReplace references to novaclient with OSC in the boot from volume guide.\n\nThis is essentially a revert of commit aa3964118, which was a revert of\nan earlier attempt at doing this that fell down because it didn't\nreflect the changes in CLI parameters between the different tools.\n\nChange-Id: Ic99440dd618243517f64506e3da88885fc2c44c9\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-06-14 17:22:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9e9fc091e1d2ccc33091ad3dda983bbd195ef231', 'message': ""docs: Replace 'nova boot' with 'openstack server create'\n\nReplace references to novaclient with OSC in the boot from volume guide.\n\nThis is essentially a revert of commit aa3964118, which was a revert of\nan earlier attempt at doing this that fell down because it didn't\nreflect the changes in CLI parameters between the different tools.\n\nChange-Id: Ic99440dd618243517f64506e3da88885fc2c44c9\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-07-07 13:29:07.000000000', 'files': ['doc/source/user/launch-instance-from-volume.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/d88fe2895b7b3b1d47adbb9f3beb114313f0ba5a', 'message': ""docs: Replace 'nova boot' with 'openstack server create'\n\nReplace references to novaclient with OSC in the boot from volume guide.\n\nThis is essentially a revert of commit aa3964118, which was a revert of\nan earlier attempt at doing this that fell down because it didn't\nreflect the changes in CLI parameters between the different tools.\n\nChange-Id: Ic99440dd618243517f64506e3da88885fc2c44c9\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",26,794007,d88fe2895b7b3b1d47adbb9f3beb114313f0ba5a,29,3,4,15334,,,0,"docs: Replace 'nova boot' with 'openstack server create'

Replace references to novaclient with OSC in the boot from volume guide.

This is essentially a revert of commit aa3964118, which was a revert of
an earlier attempt at doing this that fell down because it didn't
reflect the changes in CLI parameters between the different tools.

Change-Id: Ic99440dd618243517f64506e3da88885fc2c44c9
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/07/794007/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/launch-instance-from-volume.rst'],1,237542579748f81c03943dd0d1c8d8fba9b829c1,bug/1851425,":command:`openstack server create` command: - openstack server create parameter------------------------------------------------------- You can create a non-bootable volume and attach that volume to an instance that $ openstack volume create --size 8 test-volume | created_at | 2021-06-01T15:01:31.000000 | | id | 006efd7a-48a8-4c75-bafb-6b483199d284 | | name | test-volume | | replication_status | None | | type | lvmdriver-1 | | user_id | 0a4d2edb9042412ba4f719a547d42f79 |#. List volumes and confirm that it is in the ``available`` state. +--------------------------------------+-------------+-----------+------+-------------+ | ID | Name | Status | Size | Attached to | +--------------------------------------+-------------+-----------+------+-------------+ | 006efd7a-48a8-4c75-bafb-6b483199d284 | test-volume | available | 8 | | +--------------------------------------+-------------+-----------+------+-------------+ #. Create an instance, specifying the volume as a block device to attach. $ openstack server create \ --flavor $FLAVOR --image $IMAGE --network $NETWORK \ --block-device uuid=006efd7a-48a8-4c75-bafb-6b483199d284,source_type=volume,destination_type=volume \ --wait test-server +-------------------------------------+-----------------------------------------------------------------+ | Field | Value | +-------------------------------------+-----------------------------------------------------------------+ | OS-DCF:diskConfig | MANUAL | | OS-EXT-AZ:availability_zone | nova | | OS-EXT-SRV-ATTR:host | devstack-ubuntu2004 | | OS-EXT-SRV-ATTR:hypervisor_hostname | devstack-ubuntu2004 | | OS-EXT-SRV-ATTR:instance_name | instance-00000008 | | OS-EXT-STS:power_state | Running | | OS-EXT-STS:task_state | None | | OS-EXT-STS:vm_state | active | | OS-SRV-USG:launched_at | 2021-06-01T15:13:48.000000 | | OS-SRV-USG:terminated_at | None | | accessIPv4 | | | accessIPv6 | | | addresses | private=10.0.0.55, fde3:4790:906b:0:f816:3eff:fed5:ebd9 | | adminPass | CZ76LZ9pNXzt | | config_drive | | | created | 2021-06-01T15:13:37Z | | flavor | m1.tiny (1) | | hostId | 425d65fe75c1e53cecbd32d3e686314235507b6edebbeaa56ff341c7 | | id | 446d1b00-b729-49b3-9dab-40a3fbe190cf | | image | cirros-0.5.1-x86_64-disk (44d317a3-6183-4063-868b-aa0728576f5f) | | key_name | None | | name | test-server | | progress | 0 | | project_id | ae93f388f934458c8e6583f8ab0dba2d | | properties | | | security_groups | name='default' | | status | ACTIVE | | updated | 2021-06-01T15:13:49Z | | user_id | 0a4d2edb9042412ba4f719a547d42f79 | | volumes_attached | id='006efd7a-48a8-4c75-bafb-6b483199d284' | +-------------------------------------+-----------------------------------------------------------------+ #. List volumes once again to ensure the status has changed to ``in-use`` and the volume is correctly reporting the attachment. .. code-block:: console $ openstack volume list +--------------------------------------+-------------+--------+------+--------------------------------------+ | ID | Name | Status | Size | Attached to | +--------------------------------------+-------------+--------+------+--------------------------------------+ | 006efd7a-48a8-4c75-bafb-6b483199d284 | test-volume | in-use | 1 | Attached to test-server on /dev/vdb | +--------------------------------------+-------------+--------+------+--------------------------------------+Boot instance from volume ------------------------- You can create a bootable volume from an existing image, volume, or snapshot. This procedure shows you how to create a volume from an image and use the volume to boot an instance. #. List available images, noting the ID of the image that you wish to use. +--------------------------------------+--------------------------+--------+ | ID | Name | Status | +--------------------------------------+--------------------------+--------+ | 44d317a3-6183-4063-868b-aa0728576f5f | cirros-0.5.1-x86_64-disk | active | +--------------------------------------+--------------------------+--------+ #. Create an instance, using the chosen image and requesting ""boot from volume"" behavior. $ openstack server create \ --flavor $FLAVOR --network $NETWORK \ --image 44d317a3-6183-4063-868b-aa0728576f5f --boot-from-volume 10 \ --wait test-server +-------------------------------------+----------------------------------------------------------+ | Field | Value | +-------------------------------------+----------------------------------------------------------+ | OS-DCF:diskConfig | MANUAL | | OS-EXT-AZ:availability_zone | nova | | OS-EXT-SRV-ATTR:host | devstack-ubuntu2004 | | OS-EXT-SRV-ATTR:hypervisor_hostname | devstack-ubuntu2004 | | OS-EXT-SRV-ATTR:instance_name | instance-0000000c | | OS-EXT-STS:power_state | Running | | OS-EXT-STS:task_state | None | | OS-EXT-STS:vm_state | active | | OS-SRV-USG:launched_at | 2021-06-01T16:02:06.000000 | | OS-SRV-USG:terminated_at | None | | accessIPv4 | | | accessIPv6 | | | addresses | private=10.0.0.3, fde3:4790:906b:0:f816:3eff:fe40:bdd | | adminPass | rqT3RUYYa5H5 | | config_drive | | | created | 2021-06-01T16:01:55Z | | flavor | m1.tiny (1) | | hostId | 425d65fe75c1e53cecbd32d3e686314235507b6edebbeaa56ff341c7 | | id | 69b09fa0-6f24-4924-8311-c9bcdeb90dcb | | image | N/A (booted from volume) | | key_name | None | | name | test-server | | progress | 0 | | project_id | ae93f388f934458c8e6583f8ab0dba2d | | properties | | | security_groups | name='default' | | status | ACTIVE | | updated | 2021-06-01T16:02:07Z | | user_id | 0a4d2edb9042412ba4f719a547d42f79 | | volumes_attached | id='673cbfcb-351c-42cb-9659-bca5b2a0361c' | +-------------------------------------+----------------------------------------------------------+ Volumes created in this manner will not be deleted when the server is deleted and will need to be manually deleted afterwards. If you wish to change this behavior, you will need to pre-create the volume manually as discussed below. #. List volumes to ensure a new volume has been created and that its status is ``in-use`` and the volume is correctly reporting the attachment. $ openstack volume list +--------------------------------------+------+--------+------+--------------------------------------+ | ID | Name | Status | Size | Attached to | +--------------------------------------+------+--------+------+--------------------------------------+ | 673cbfcb-351c-42cb-9659-bca5b2a0361c | | in-use | 1 | Attached to test-server on /dev/vda | +--------------------------------------+------+--------+------+--------------------------------------+ Rather than relying on nova to create the volume from the image, it is also possible to pre-create the volume before creating the instance. This can be useful when you want more control over the created volume, such as enabling encryption. #. List available images, noting the ID of the image that you wish to use. .. code-block:: console $ openstack image list +--------------------------------------+--------------------------+--------+ | ID | Name | Status | +--------------------------------------+--------------------------+--------+ | 44d317a3-6183-4063-868b-aa0728576f5f | cirros-0.5.1-x86_64-disk | active | +--------------------------------------+--------------------------+--------+ #. Create a bootable volume from the chosen image. Cinder makes a volume bootable when ``--image`` parameter is passed. .. code-block:: console $ openstack volume create \ --image 44d317a3-6183-4063-868b-aa0728576f5f --size 10 \ test-volume | created_at | 2021-06-01T15:40:56.000000 | | encrypted | False | | id | 9c7f68d4-4d84-4c1e-83af-b8c6a56ad005 | | migration_status | None | | name | test-volume | | size | 10 | | type | lvmdriver-1 | | user_id | 0a4d2edb9042412ba4f719a547d42f79 | .. note:: If you want to create a volume to a specific storage backend, you need to use an image which has the ``cinder_img_volume_type`` property. For more information, refer to the :cinder-doc:`cinder docs </cli/cli-manage-volumes.html#volume-types>`. .. note:: A bootable encrypted volume can also be created by adding the `--type ENCRYPTED_VOLUME_TYPE` parameter to the volume create command. For example: .. code-block:: console $ openstack volume create \ --type ENCRYPTED_VOLUME_TYPE --image IMAGE --size SIZE \ test-volume This requires an encrypted volume type which must be created ahead of time by an admin. Refer to :horizon-doc:`the horizon documentation <admin/manage-volumes.html#create-an-encrypted-volume-type>`. for more information. #. Create an instance, specifying the volume as the boot device. $ openstack server create \ --flavor $FLAVOR --network $NETWORK \ --volume 9c7f68d4-4d84-4c1e-83af-b8c6a56ad005\ --wait test-server +-------------------------------------+----------------------------------------------------------+ | Field | Value | +-------------------------------------+----------------------------------------------------------+ | OS-DCF:diskConfig | MANUAL | | OS-EXT-AZ:availability_zone | nova | | OS-EXT-SRV-ATTR:host | devstack-ubuntu2004 | | OS-EXT-SRV-ATTR:hypervisor_hostname | devstack-ubuntu2004 | | OS-EXT-SRV-ATTR:instance_name | instance-0000000a | | OS-EXT-STS:power_state | Running | | OS-EXT-STS:task_state | None | | OS-EXT-STS:vm_state | active | | OS-SRV-USG:launched_at | 2021-06-01T15:43:21.000000 | | OS-SRV-USG:terminated_at | None | | accessIPv4 | | | accessIPv6 | | | addresses | private=10.0.0.47, fde3:4790:906b:0:f816:3eff:fe89:b004 | | adminPass | ueX74zzHWqL4 | | config_drive | | | created | 2021-06-01T15:43:13Z | | flavor | m1.tiny (1) | | hostId | 425d65fe75c1e53cecbd32d3e686314235507b6edebbeaa56ff341c7 | | id | 367b7d42-627c-4d10-a2a0-f759501499a6 | | image | N/A (booted from volume) | | key_name | None | | name | test-server | | progress | 0 | | project_id | ae93f388f934458c8e6583f8ab0dba2d | | properties | | | security_groups | name='default' | | status | ACTIVE | | updated | 2021-06-01T15:43:22Z | | user_id | 0a4d2edb9042412ba4f719a547d42f79 | | volumes_attached | id='9c7f68d4-4d84-4c1e-83af-b8c6a56ad005' | +-------------------------------------+----------------------------------------------------------+ .. note:: The example here uses the ``--volume`` option for simplicity. The ``--block-device`` option could also be used for more granular control over the parameters. See the `openstack server create`__ documentation for details. .. __: https://docs.openstack.org/python-openstackclient/latest/cli/command-objects/server.html#server-create #. List volumes once again to ensure the status has changed to ``in-use`` and the volume is correctly reporting the attachment. +--------------------------------------+-------------+--------+------+--------------------------------------+ | ID | Name | Status | Size | Attached to | +--------------------------------------+-------------+--------+------+--------------------------------------+ | 9c7f68d4-4d84-4c1e-83af-b8c6a56ad005 | test-volume | in-use | 10 | Attached to test-server on /dev/vda | +--------------------------------------+-------------+--------+------+--------------------------------------+-------------------------------------------- Use the ``--swap`` option of the ``openstack server`` command to attach a swap disk on boot or the ``--ephemeral`` option to attach an ephemeral disk on boot. The latter can be specified multiple times. When you terminate the instance, both disks are deleted. $ openstack server create \ --flavor FLAVOR --image IMAGE --network NETWORK \ --ephemeral size=2 --swap 512 --wait test-server",":command:`nova boot` command: - nova boot parameter~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Create a non-bootable volume and attach that volume to an instance that $ openstack volume create --size 8 my-volume | created_at | 2016-11-25T10:37:08.850997 | | id | b8f7bbec-6274-4cd7-90e7-60916a5e75d4 | | name | my-volume | | replication_status | disabled | | type | None | | user_id | 0678735e449149b0a42076e12dd54e28 |#. List volumes. +--------------------------------------+--------------+-----------+------+-------------+ | ID | Name | Status | Size | Attached to | +--------------------------------------+--------------+-----------+------+-------------+ | b8f7bbec-6274-4cd7-90e7-60916a5e75d4 | my-volume | available | 8 | | +--------------------------------------+--------------+-----------+------+-------------+ #. Boot an instance from an image and attach the empty volume to the instance. $ nova boot --flavor 2 --image 98901246-af91-43d8-b5e6-a4506aa8f369 \ --block-device source=volume,id=d620d971-b160-4c4e-8652-2513d74e2080,dest=volume,shutdown=preserve \ myInstanceWithVolume +--------------------------------------+--------------------------------------------+ | Property | Value | +--------------------------------------+--------------------------------------------+ | OS-DCF:diskConfig | MANUAL | | OS-EXT-AZ:availability_zone | nova | | OS-EXT-SRV-ATTR:host | - | | OS-EXT-SRV-ATTR:hypervisor_hostname | - | | OS-EXT-SRV-ATTR:instance_name | instance-00000004 | | OS-EXT-STS:power_state | 0 | | OS-EXT-STS:task_state | scheduling | | OS-EXT-STS:vm_state | building | | OS-SRV-USG:launched_at | - | | OS-SRV-USG:terminated_at | - | | accessIPv4 | | | accessIPv6 | | | adminPass | ZaiYeC8iucgU | | config_drive | | | created | 2014-05-09T16:34:50Z | | flavor | m1.small (2) | | hostId | | | id | 1e1797f3-1662-49ff-ae8c-a77e82ee1571 | | image | cirros-0.3.5-x86_64-uec (98901246-af91-... | | key_name | - | | metadata | {} | | name | myInstanceWithVolume | | os-extended-volumes:volumes_attached | [{""id"": ""d620d971-b160-4c4e-8652-2513d7... | | progress | 0 | | security_groups | default | | status | BUILD | | tenant_id | ccef9e62b1e645df98728fb2b3076f27 | | updated | 2014-05-09T16:34:51Z | | user_id | fef060ae7bfd4024b3edb97dff59017a | +--------------------------------------+--------------------------------------------+Create volume from image and boot instance ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ You can create a volume from an existing image, volume, or snapshot. This procedure shows you how to create a volume from an image, and use the volume to boot an instance. #. List the available images. +-----------------+---------------------------------+--------+ | ID | Name | Status | +-----------------+---------------------------------+--------+ | 484e05af-a14... | Fedora-x86_64-20-20131211.1-sda | active | | 98901246-af9... | cirros-0.3.5-x86_64-uec | active | | b6e95589-7eb... | cirros-0.3.5-x86_64-uec-kernel | active | | c90893ea-e73... | cirros-0.3.5-x86_64-uec-ramdisk | active | +-----------------+---------------------------------+--------+ Note the ID of the image that you want to use to create a volume. If you want to create a volume to a specific storage backend, you need to use an image which has *cinder_img_volume_type* property. In this case, a new volume will be created as *storage_backend1* volume type. $ openstack image show 98901246-af9d-4b61-bea8-09cc6dc41829 +------------------+------------------------------------------------------+ | Field | Value | +------------------+------------------------------------------------------+ | checksum | ee1eca47dc88f4879d8a229cc70a07c6 | | container_format | bare | | created_at | 2016-10-08T14:59:05Z | | disk_format | qcow2 | | file | /v2/images/9fef3b2d-c35d-4b61-bea8-09cc6dc41829/file | | id | 98901246-af9d-4b61-bea8-09cc6dc41829 | | min_disk | 0 | | min_ram | 0 | | name | cirros-0.3.5-x86_64-uec | | owner | 8d8ef3cdf2b54c25831cbb409ad9ae86 | | protected | False | | schema | /v2/schemas/image | | size | 13287936 | | status | active | | tags | | | updated_at | 2016-10-19T09:12:52Z | | virtual_size | None | | visibility | public | +------------------+------------------------------------------------------+ #. List the available flavors. .. code-block:: console $ openstack flavor list +-----+-----------+-------+------+-----------+-------+-----------+ | ID | Name | RAM | Disk | Ephemeral | VCPUs | Is_Public | +-----+-----------+-------+------+-----------+-------+-----------+ | 1 | m1.tiny | 512 | 1 | 0 | 1 | True | | 2 | m1.small | 2048 | 20 | 0 | 1 | True | | 3 | m1.medium | 4096 | 40 | 0 | 2 | True | | 4 | m1.large | 8192 | 80 | 0 | 4 | True | | 5 | m1.xlarge | 16384 | 160 | 0 | 8 | True | +-----+-----------+-------+------+-----------+-------+-----------+ Note the ID of the flavor that you want to use to create a volume. #. To create a bootable volume from an image and launch an instance from this volume, use the ``--block-device`` parameter with the ``nova boot`` command. For example: .. code-block:: console $ nova boot --flavor FLAVOR --block-device \ source=SOURCE,id=ID,dest=DEST,size=SIZE,shutdown=PRESERVE,bootindex=INDEX \ NAME The parameters are: - ``--flavor`` The flavor ID or name. - ``--block-device`` source=SOURCE,id=ID,dest=DEST,size=SIZE,shutdown=PRESERVE,bootindex=INDEX **source=SOURCE** The type of object used to create the block device. Valid values are ``volume``, ``snapshot``, ``image``, and ``blank``. **id=ID** The ID of the source object. **dest=DEST** The type of the target virtual device. Valid values are ``volume`` and ``local``. **size=SIZE** The size of the volume that is created. **shutdown={preserve\|remove}** What to do with the volume when the instance is deleted. ``preserve`` does not delete the volume. ``remove`` deletes the volume. **bootindex=INDEX** Orders the boot disks. Use ``0`` to boot from this volume. - ``NAME``. The name for the server. See the `nova boot`_ command documentation and :doc:`block-device-mapping` for more details on these parameters. .. note:: As of the Stein release, the ``openstack server create`` command does not support creating a volume-backed server from a source image like the ``nova boot`` command. The next steps will show how to create a bootable volume from an image and then create a server from that boot volume using the ``openstack server create`` command. #. Create a bootable volume from an image. Cinder makes a volume bootable when ``--image`` parameter is passed. .. code-block:: console $ openstack volume create --image IMAGE_ID --size SIZE_IN_GB bootable_volume A bootable encrypted volume can also be created by adding the `--type ENCRYPTED_VOLUME_TYPE` parameter to the volume create command: $ openstack volume create --type ENCRYPTED_VOLUME_TYPE --image IMAGE_ID --size SIZE_IN_GB bootable_volume | created_at | 2017-06-13T18:59:57.626872 | | encrypted | True | | id | ded57a86-5b51-43ab-b70e-9bc0f91ef4ab | | name | bootable_volume | | size | 1 | | type | LUKS | | user_id | 459ae34ffcd94edab0c128ed616bb19f | This requires an encrypted volume type, which must be created ahead of time by an admin. Refer to :horizon-doc:`admin/manage-volumes.html#create-an-encrypted-volume-type`. in the OpenStack Horizon Administration Guide. #. Create a VM from previously created bootable volume. The volume is not deleted when the instance is terminated. .. note:: The example here uses the ``--volume`` option for simplicity. The ``--block-device-mapping`` option could also be used for more granular control over the parameters. See the `openstack server create`_ documentation for details. $ openstack server create --flavor 2 --volume VOLUME_ID myInstanceFromVolume +--------------------------------------+--------------------------------+ | Field | Value | +--------------------------------------+--------------------------------+ | OS-EXT-STS:task_state | scheduling | | image | Attempt to boot from volume | | | - no image supplied | | OS-EXT-STS:vm_state | building | | OS-EXT-SRV-ATTR:instance_name | instance-00000003 | | OS-SRV-USG:launched_at | None | | flavor | m1.small | | id | 2e65c854-dba9-4f68-8f08-fe3... | | security_groups | [{u'name': u'default'}] | | user_id | 352b37f5c89144d4ad053413926... | | OS-DCF:diskConfig | MANUAL | | accessIPv4 | | | accessIPv6 | | | progress | 0 | | OS-EXT-STS:power_state | 0 | | OS-EXT-AZ:availability_zone | nova | | config_drive | | | status | BUILD | | updated | 2014-02-02T13:29:54Z | | hostId | | | OS-EXT-SRV-ATTR:host | None | | OS-SRV-USG:terminated_at | None | | key_name | None | | OS-EXT-SRV-ATTR:hypervisor_hostname | None | | name | myInstanceFromVolume | | adminPass | TzjqyGsRcJo9 | | tenant_id | f7ac731cc11f40efbc03a9f9e1d... | | created | 2014-02-02T13:29:53Z | | os-extended-volumes:volumes_attached | [{""id"": ""2fff50ab...""}] | | metadata | {} | +--------------------------------------+--------------------------------+ #. List volumes to see the bootable volume and its attached ``myInstanceFromVolume`` instance. +---------------------+-----------------+--------+------+---------------------------------+ | ID | Name | Status | Size | Attached to | +---------------------+-----------------+--------+------+---------------------------------+ | c612f739-8592-44c4- | bootable_volume | in-use | 10 | Attached to myInstanceFromVolume| | b7d4-0fee2fe1da0c | | | | on /dev/vda | +---------------------+-----------------+--------+------+---------------------------------+ .. _nova boot: https://docs.openstack.org/python-novaclient/latest/cli/nova.html#nova-boot .. _openstack server create: https://docs.openstack.org/python-openstackclient/latest/cli/command-objects/server.html#server-create~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Use the ``nova boot`` ``--swap`` parameter to attach a swap disk on boot or the ``nova boot`` ``--ephemeral`` parameter to attach an ephemeral disk on boot. When you terminate the instance, both disks are deleted. $ nova boot --flavor FLAVOR --image IMAGE_ID --swap 512 \ --ephemeral size=2 NAME",252,247
openstack%2Fneutron~master~Ibaaa1600e6a14f3308024c4e22e3489ee21e7244,openstack/neutron,master,Ibaaa1600e6a14f3308024c4e22e3489ee21e7244,Adding placement auth options to oslo.config entry_points,MERGED,2021-05-04 23:23:42.000000000,2021-07-14 01:11:23.000000000,2021-05-12 05:33:23.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-04 23:23:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d87c94ac2fe7e7da90f14b38233611e09fd2d0ae', 'message': 'Adding placement auth options to oslo.config entry_points\n\nTo assist with automated configuration validation, we need entry points\nfor oslo.config.opts for placement auth options.\n\nChange-Id: Ibaaa1600e6a14f3308024c4e22e3489ee21e7244\n'}, {'number': 2, 'created': '2021-05-05 01:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9ac56e76d2fc3c49522b953f9698b3ee663e209e', 'message': 'Adding placement auth options to oslo.config entry_points\n\nTo assist with automated configuration validation, we need entry points\nfor oslo.config.opts for placement auth options.\n\nChange-Id: Ibaaa1600e6a14f3308024c4e22e3489ee21e7244\n'}, {'number': 3, 'created': '2021-05-06 02:18:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/892a6fd251533fb378e032c72b1b05b4b7eac993', 'message': 'Adding placement auth options to oslo.config entry_points\n\nTo assist with automated configuration validation, we need entry points\nfor oslo.config.opts for placement auth options.\n\nChange-Id: Ibaaa1600e6a14f3308024c4e22e3489ee21e7244\n'}, {'number': 4, 'created': '2021-05-06 12:01:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/097024c1f03ac996e4bafa154295ea3f490c5c96', 'message': 'Adding placement auth options to oslo.config entry_points\n\nTo assist with automated configuration validation, we need entry points\nfor oslo.config.opts for placement auth options.\n\nChange-Id: Ibaaa1600e6a14f3308024c4e22e3489ee21e7244\n'}, {'number': 5, 'created': '2021-05-10 13:01:06.000000000', 'files': ['neutron/opts.py', 'etc/oslo-config-generator/neutron.conf', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/neutron/commit/89fd50d0f90fa83c615b235476f60249a1bca0c2', 'message': 'Adding placement auth options to oslo.config entry_points\n\nTo assist with automated configuration validation, we need entry points\nfor oslo.config.opts for placement auth options.\n\nChange-Id: Ibaaa1600e6a14f3308024c4e22e3489ee21e7244\n'}]",5,789648,89fd50d0f90fa83c615b235476f60249a1bca0c2,74,7,5,27419,,,0,"Adding placement auth options to oslo.config entry_points

To assist with automated configuration validation, we need entry points
for oslo.config.opts for placement auth options.

Change-Id: Ibaaa1600e6a14f3308024c4e22e3489ee21e7244
",git fetch https://review.opendev.org/openstack/neutron refs/changes/48/789648/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/opts.py', 'setup.cfg']",2,d87c94ac2fe7e7da90f14b38233611e09fd2d0ae,automated_config_validation, placement.auth = neutron.opts:list_placement_auth_opts,,21,0
openstack%2Ftripleo-quickstart~master~I38b6f2fa9e831534eaca090ad51f531a742ec999,openstack/tripleo-quickstart,master,I38b6f2fa9e831534eaca090ad51f531a742ec999,Bump linters and remove dead code,MERGED,2021-07-05 13:31:40.000000000,2021-07-14 00:03:28.000000000,2021-07-14 00:02:02.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2021-07-05 13:31:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/2de714e0bfac495dab6e804f61412e8279c370d1', 'message': 'Bump linters and remove dead code\n\n- builds linters to current versions\n- adds two missing roles used internally to mock list\n- adds few missing modules to mock list\n- nukes usbkey quickstart feature because it was fully broken and\n  prevented newer linter from running on it. The current code\n  attempted to run a tasks file as a playbooks, something that will\n  never work.\n\nChange-Id: I38b6f2fa9e831534eaca090ad51f531a742ec999\n'}, {'number': 2, 'created': '2021-07-13 13:10:01.000000000', 'files': ['ci-scripts/usbkey/usb_requirements.txt', 'ci-scripts/usbkey/ansible_env', 'ci-scripts/usbkey/quickstart-usb.yml', 'ci-scripts/usbkey/quickstart.sh', 'roles/libvirt/setup/overcloud/tasks/libvirt_nodepool.yml', 'roles/libvirt/setup/overcloud/tasks/register_vm.yml', 'playbooks/noop.yml', 'roles/tripleo-inventory/tests/playbooks/quickstart-usb.yml', 'ci-scripts/usbkey/RUN_ME.sh', '.ansible-lint', '.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/6b8fca9a2e5d613947f665df87fa1993707fdbfb', 'message': 'Bump linters and remove dead code\n\n- builds linters to current versions\n- adds two missing roles used internally to mock list\n- adds few missing modules to mock list\n- nukes usbkey quickstart feature because it was fully broken and\n  prevented newer linter from running on it. The current code\n  attempted to run a tasks file as a playbooks, something that will\n  never work.\n\nChange-Id: I38b6f2fa9e831534eaca090ad51f531a742ec999\n'}]",5,799475,6b8fca9a2e5d613947f665df87fa1993707fdbfb,24,6,2,24162,,,0,"Bump linters and remove dead code

- builds linters to current versions
- adds two missing roles used internally to mock list
- adds few missing modules to mock list
- nukes usbkey quickstart feature because it was fully broken and
  prevented newer linter from running on it. The current code
  attempted to run a tasks file as a playbooks, something that will
  never work.

Change-Id: I38b6f2fa9e831534eaca090ad51f531a742ec999
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/75/799475/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci-scripts/usbkey/ansible_env', 'ci-scripts/usbkey/usb_requirements.txt', 'ci-scripts/usbkey/quickstart-usb.yml', 'ci-scripts/usbkey/quickstart.sh', 'roles/libvirt/setup/overcloud/tasks/libvirt_nodepool.yml', 'roles/libvirt/setup/overcloud/tasks/register_vm.yml', 'playbooks/noop.yml', 'roles/tripleo-inventory/tests/playbooks/quickstart-usb.yml', 'ci-scripts/usbkey/RUN_ME.sh', '.ansible-lint', '.pre-commit-config.yaml']",11,2de714e0bfac495dab6e804f61412e8279c370d1,tripleo-get-hash, - repo: https://github.com/ansible-community/ansible-lint.git rev: v5.1.0a1 additional_dependencies: - ansible-core - yamllint rev: 2.0.0," - repo: https://github.com/adrienverge/yamllint.git rev: v1.20.0 hooks: - id: yamllint files: \.(yaml|yml)$ types: [file, yaml] entry: yamllint --strict -f parsable - repo: https://github.com/ansible/ansible-lint.git rev: 9da220ae3a11c10c10ee43284ad6cad6d8ba52b7 rev: 0.6.0",25,567
openstack%2Fvalidations-libs~master~Ieef256a5c12b238008e9250c0ee182d80a2b6dfb,openstack/validations-libs,master,Ieef256a5c12b238008e9250c0ee182d80a2b6dfb,add spinner to highlight progress,MERGED,2021-06-09 14:51:07.000000000,2021-07-14 00:03:27.000000000,2021-07-14 00:02:06.000000000,"[{'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-09 14:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/78cbdfcdb4eaf15c6b6298d562cfe4418cba6983', 'message': 'WIP - add spinner to highlight progress\n\nImplementing a Spinner class and utilizing it around a run action.  This\nwill add a moving icon that animates in place until output is reached,\nletting the operator know that things are happening.\n\nChange-Id: Ieef256a5c12b238008e9250c0ee182d80a2b6dfb\n'}, {'number': 2, 'created': '2021-07-07 14:33:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/78e9983cb605a4fd7d0fe2e89f1558c04356c146', 'message': ""add spinner to highlight progress\n\nImplementing a Spinner class and utilizing it around a run action.  This\nwill add a moving icon that animates in place until output is reached,\nletting the operator know that things are happening.\n\nThe interactive TTY test is included to ensure that during some unknown\nusage such as logging to disk this feature doesn't spew unnecessary\nclutter.\n\nChange-Id: Ieef256a5c12b238008e9250c0ee182d80a2b6dfb\n""}, {'number': 3, 'created': '2021-07-07 14:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/84d3f0d1cbc46b49554a56f446787e569efc23a0', 'message': ""add spinner to highlight progress\n\nImplementing a Spinner class and utilizing it around a run action.  This\nwill add a moving icon that animates in place until output is reached,\nletting the operator know that things are happening.\n\nThe interactive TTY test is included to ensure that during some unknown\nusage such as logging to disk this feature doesn't spew unnecessary\nclutter.\n\nChange-Id: Ieef256a5c12b238008e9250c0ee182d80a2b6dfb\n""}, {'number': 4, 'created': '2021-07-13 12:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/434a88eecdd42629e49deda9b1e492a272022ec4', 'message': ""add spinner to highlight progress\n\nImplementing a Spinner class and utilizing it around a run action.  This\nwill add a moving icon that animates in place until output is reached,\nletting the operator know that things are happening.\n\nThe interactive TTY test is included to ensure that during some unknown\nusage such as logging to disk this feature doesn't spew unnecessary\nclutter.\n\nChange-Id: Ieef256a5c12b238008e9250c0ee182d80a2b6dfb\n""}, {'number': 5, 'created': '2021-07-13 12:44:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/4ac9dc7f94521b026711c89175fc8b951fb05cf5', 'message': ""add spinner to highlight progress\n\nImplementing a Spinner class and utilizing it around a run action.  This\nwill add a moving icon that animates in place until output is reached,\nletting the operator know that things are happening.\n\nThe interactive TTY test is included to ensure that during some unknown\nusage such as logging to disk this feature doesn't spew unnecessary\nclutter.\n\nChange-Id: Ieef256a5c12b238008e9250c0ee182d80a2b6dfb\n""}, {'number': 6, 'created': '2021-07-13 13:09:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/9c58010635613bffbab19aa5296ea6893e0e7547', 'message': ""add spinner to highlight progress\n\nImplementing a Spinner class and utilizing it around a run action.  This\nwill add a moving icon that animates in place until output is reached,\nletting the operator know that things are happening.\n\nThe interactive TTY test is included to ensure that during some unknown\nusage such as logging to disk this feature doesn't spew unnecessary\nclutter.\n\nChange-Id: Ieef256a5c12b238008e9250c0ee182d80a2b6dfb\n""}, {'number': 7, 'created': '2021-07-13 13:17:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/1f4f323c430aff9e79ff8c535986c7685a8470aa', 'message': ""add spinner to highlight progress\n\nImplementing a Spinner class and utilizing it around a run action.  This\nwill add a moving icon that animates in place until output is reached,\nletting the operator know that things are happening.\n\nThe interactive TTY test is included to ensure that during some unknown\nusage such as logging to disk this feature doesn't spew unnecessary\nclutter.\n\nChange-Id: Ieef256a5c12b238008e9250c0ee182d80a2b6dfb\n""}, {'number': 8, 'created': '2021-07-13 14:03:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/4f6d2d034d84e0ff20d92729b165c48847d6ec8e', 'message': ""add spinner to highlight progress\n\nImplementing a Spinner class and utilizing it around a run action.  This\nwill add a moving icon that animates in place until output is reached,\nletting the operator know that things are happening.\n\nThe interactive TTY test is included to ensure that during some unknown\nusage such as logging to disk this feature doesn't spew unnecessary\nclutter.\n\nChange-Id: Ieef256a5c12b238008e9250c0ee182d80a2b6dfb\n""}, {'number': 9, 'created': '2021-07-13 14:43:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/1ffbde4971d8403d4d80e12812f73ebea6386a4d', 'message': ""add spinner to highlight progress\n\nImplementing a Spinner class and utilizing it around a run action.  This\nwill add a moving icon that animates in place until output is reached,\nletting the operator know that things are happening.\n\nThe interactive TTY test is included to ensure that during some unknown\nusage such as logging to disk this feature doesn't spew unnecessary\nclutter.\n\nChange-Id: Ieef256a5c12b238008e9250c0ee182d80a2b6dfb\n""}, {'number': 10, 'created': '2021-07-13 15:14:47.000000000', 'files': ['validations_libs/validation_actions.py', 'validations_libs/cli/common.py', 'validations_libs/tests/test_validation_actions.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/e11b4589460b6be9ff9ca1f5f70a1d0890fa7bb3', 'message': ""add spinner to highlight progress\n\nImplementing a Spinner class and utilizing it around a run action.  This\nwill add a moving icon that animates in place until output is reached,\nletting the operator know that things are happening.\n\nThe interactive TTY test is included to ensure that during some unknown\nusage such as logging to disk this feature doesn't spew unnecessary\nclutter.\n\nChange-Id: Ieef256a5c12b238008e9250c0ee182d80a2b6dfb\n""}]",36,795565,e11b4589460b6be9ff9ca1f5f70a1d0890fa7bb3,30,5,10,27427,,,0,"add spinner to highlight progress

Implementing a Spinner class and utilizing it around a run action.  This
will add a moving icon that animates in place until output is reached,
letting the operator know that things are happening.

The interactive TTY test is included to ensure that during some unknown
usage such as logging to disk this feature doesn't spew unnecessary
clutter.

Change-Id: Ieef256a5c12b238008e9250c0ee182d80a2b6dfb
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/65/795565/5 && git format-patch -1 --stdout FETCH_HEAD,"['validations_libs/validation_actions.py', 'validations_libs/cli/common.py']",2,78cbdfcdb4eaf15c6b6298d562cfe4418cba6983,795565,"import sys import time import threading class Spinner(object): busy = False delay = 0.1 @staticmethod def spinning_cursor(): while 1: for cursor in '|/-\\': yield cursor def __init__(self, delay=None): self.spinner_generator = self.spinning_cursor() if delay and float(delay): self.delay = delay def spinner_task(self): while self.busy: sys.stdout.write(next(self.spinner_generator)) sys.stdout.flush() time.sleep(self.delay) sys.stdout.write('\b') sys.stdout.flush() def __enter__(self): self.busy = True threading.Thread(target=self.spinner_task).start() def __exit__(self, exception, value, tb): self.busy = False time.sleep(self.delay) if exception is not None: return False",,57,20
openstack%2Ftripleo-quickstart-extras~master~I5303ffee8abd775e5289440fdb1d50f3b697bda8,openstack/tripleo-quickstart-extras,master,I5303ffee8abd775e5289440fdb1d50f3b697bda8,Don't set dns-name-servers for ctlplane subnet,MERGED,2021-07-13 14:07:46.000000000,2021-07-14 00:02:23.000000000,2021-07-14 00:02:23.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-13 14:07:46.000000000', 'files': ['roles/overcloud-prep-network/templates/overcloud-prep-network.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/33b7398512111fb30d945925315f93d63a6ea4a8', 'message': ""Don't set dns-name-servers for ctlplane subnet\n\nWe set this with undercloud post_deploy since train. As stein\nand queens have already been proposed for EOL, we can safely\nremove this.\n\nChange-Id: I5303ffee8abd775e5289440fdb1d50f3b697bda8\n""}]",0,800662,33b7398512111fb30d945925315f93d63a6ea4a8,10,4,1,8833,,,0,"Don't set dns-name-servers for ctlplane subnet

We set this with undercloud post_deploy since train. As stein
and queens have already been proposed for EOL, we can safely
remove this.

Change-Id: I5303ffee8abd775e5289440fdb1d50f3b697bda8
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/62/800662/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-prep-network/templates/overcloud-prep-network.sh.j2'],1,33b7398512111fb30d945925315f93d63a6ea4a8,,,"## * Set the DNS server in the control plane network ## :: {% if overcloud_dns_servers|default([]) %} CTLPLANE_SUBNET=$(openstack subnet show ctlplane-subnet -f value -c id) openstack subnet set $CTLPLANE_SUBNET --no-dns-nameserver \ {% for nameserver in overcloud_dns_servers %} --dns-nameserver ""{{ nameserver }}"" {% endfor %} {% else %} openstack subnet set $(openstack subnet list | awk '/ctlplane/{print $(NF-7) }') $(awk 'match($0, /nameserver\s+(([0-9]{1,3}.?){4})/,address){printf "" --dns-nameserver %s"", address[1]}' /etc/resolv.conf) {% endif %} ",0,11
openstack%2Ftripleo-upgrade~stable%2Fvictoria~I946ede504b98d8226bffaa7220174fd0d94e81f1,openstack/tripleo-upgrade,stable/victoria,I946ede504b98d8226bffaa7220174fd0d94e81f1,Replace LEAPP_DEVEL_SKIP_RHSM with LEAPP_NO_RHSM,MERGED,2021-07-13 14:14:22.000000000,2021-07-14 00:02:10.000000000,2021-07-14 00:02:10.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-13 14:14:22.000000000', 'files': ['tasks/common/undercloud_os_upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/39afa2924e13c628e6c69abe9fdc0946c5c2ef79', 'message': 'Replace LEAPP_DEVEL_SKIP_RHSM with LEAPP_NO_RHSM\n\nLEAPP_DEVEL_SKIP_RHSM will be removed next LEAPP release. This patch\nreplaces it with LEAPP_NO_RHSM\n\nChange-Id: I946ede504b98d8226bffaa7220174fd0d94e81f1\n(cherry picked from commit df68e50a7ad3f3c15ef6d2264a223be9ba9965b8)\n'}]",0,800637,39afa2924e13c628e6c69abe9fdc0946c5c2ef79,7,2,1,11090,,,0,"Replace LEAPP_DEVEL_SKIP_RHSM with LEAPP_NO_RHSM

LEAPP_DEVEL_SKIP_RHSM will be removed next LEAPP release. This patch
replaces it with LEAPP_NO_RHSM

Change-Id: I946ede504b98d8226bffaa7220174fd0d94e81f1
(cherry picked from commit df68e50a7ad3f3c15ef6d2264a223be9ba9965b8)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/37/800637/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/undercloud_os_upgrade.yaml'],1,39afa2924e13c628e6c69abe9fdc0946c5c2ef79,remove_LEAPP_DEVEL_SKIP_RHSM-stable/victoria, {% if leapp_unsubscribed|bool and (upgrade_workarounds|bool or ffu_upgrade_workarounds|bool) %} LEAPP_UNSUPPORTED=1 LEAPP_NO_RHSM=1 {% endif %}\, {% if leapp_unsubscribed|bool and (upgrade_workarounds|bool or ffu_upgrade_workarounds|bool) %} LEAPP_UNSUPPORTED=1 LEAPP_DEVEL_SKIP_RHSM=1 {% endif %}\,1,1
openstack%2Fproject-config~master~I050ff15240215203b864f3666378d163777a1af0,openstack/project-config,master,I050ff15240215203b864f3666378d163777a1af0,Update deprecated repo description and release job template,ABANDONED,2021-07-12 20:40:13.000000000,2021-07-13 23:52:05.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-12 20:40:13.000000000', 'files': ['zuul.d/projects.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/5b808d8be5d356ec61cc8ba0c796402f0b473416', 'message': 'Update deprecated repo description and release job template\n\nMany deprecated repo are not recorded as Deprecated in\ngerrit/projects.yaml, this commit update those and also\nuse publish-to-pypi-stable-only template so that we do not\nrun the release jobs on master branch.\n\nAll updated deprecated repo can be verified as deprecated\nfrom governance document:\n- https://opendev.org/openstack/governance/src/commit/2e6f7237e9db7cebad4989ea51a391d94efe2308/reference/projects.yaml\n\nChange-Id: I050ff15240215203b864f3666378d163777a1af0\n'}]",0,800559,5b808d8be5d356ec61cc8ba0c796402f0b473416,3,1,1,8556,,,0,"Update deprecated repo description and release job template

Many deprecated repo are not recorded as Deprecated in
gerrit/projects.yaml, this commit update those and also
use publish-to-pypi-stable-only template so that we do not
run the release jobs on master branch.

All updated deprecated repo can be verified as deprecated
from governance document:
- https://opendev.org/openstack/governance/src/commit/2e6f7237e9db7cebad4989ea51a391d94efe2308/reference/projects.yaml

Change-Id: I050ff15240215203b864f3666378d163777a1af0
",git fetch https://review.opendev.org/openstack/project-config refs/changes/59/800559/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul.d/projects.yaml']",2,5b808d8be5d356ec61cc8ba0c796402f0b473416,deprecated-repo-cleanup, - publish-to-pypi-stable-only - publish-to-pypi-stable-only - publish-to-pypi-stable-only - publish-to-pypi-stable-only - publish-to-pypi-stable-only - publish-to-pypi-stable-only - publish-to-pypi-stable-only, - publish-to-pypi - publish-to-pypi - publish-to-pypi - publish-to-pypi - publish-to-pypi - publish-to-pypi - publish-to-pypi,17,17
openstack%2Fpython-manilaclient~master~I98feeebf1c20d30f42e57b937655537ac206bc25,openstack/python-manilaclient,master,I98feeebf1c20d30f42e57b937655537ac206bc25,"Add ""--wait"" option for deleting a share server",MERGED,2021-03-30 07:11:57.000000000,2021-07-13 23:36:34.000000000,2021-07-13 23:34:56.000000000,"[{'_account_id': 6413}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-30 07:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/358c5bc8d6bc538ef93cf2305f8f3eee47f3eca1', 'message': 'Add ""--wait"" option for deleting a share server\n\nCloses-Bug: #1898316\nChange-Id: I98feeebf1c20d30f42e57b937655537ac206bc25\n'}, {'number': 2, 'created': '2021-07-06 16:55:32.000000000', 'files': ['manilaclient/tests/unit/v2/test_shell.py', 'manilaclient/v2/shell.py', 'releasenotes/notes/bug-1898316-add-wait-option-for-deleting-a-share-server-e2228018585de5cb.yaml'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/2a1fb2bf8d5c07392cb0c21cdf4e5e841cf8c127', 'message': 'Add ""--wait"" option for deleting a share server\n\nThis RFE adds a ""--wait"" flag to share server\ndelete, to make the CLI wait on the share server\nto be deleted before returning to the prompt.\n\nCloses-Bug: #1898316\nChange-Id: I98feeebf1c20d30f42e57b937655537ac206bc25\n'}]",3,783800,2a1fb2bf8d5c07392cb0c21cdf4e5e841cf8c127,11,3,2,32493,,,0,"Add ""--wait"" option for deleting a share server

This RFE adds a ""--wait"" flag to share server
delete, to make the CLI wait on the share server
to be deleted before returning to the prompt.

Closes-Bug: #1898316
Change-Id: I98feeebf1c20d30f42e57b937655537ac206bc25
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/00/783800/2 && git format-patch -1 --stdout FETCH_HEAD,"['manilaclient/tests/unit/v2/test_shell.py', 'manilaclient/v2/shell.py', 'releasenotes/notes/bug-1898316-add-wait-option-for-deleting-a-share-server-e2228018585de5cb.yaml']",3,358c5bc8d6bc538ef93cf2305f8f3eee47f3eca1,bug/1898316,"--- features: - | The command ""manila share-server-delete"" now accepts an optional ""--wait"" that allows users to let the client poll for the completion of the operation. ",,50,13
openstack%2Fopenstack-zuul-jobs~master~Icc98e4f231413365af6a4f2270282565335e343c,openstack/openstack-zuul-jobs,master,Icc98e4f231413365af6a4f2270282565335e343c,Define publish-to-pypi-stable-only template,MERGED,2021-07-12 20:13:47.000000000,2021-07-13 23:36:27.000000000,2021-07-13 23:34:47.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-12 20:13:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/fda51e8ca6822b27bddcd6cc785eb2a83752e3fc', 'message': 'Define publish-to-pypi-stable-only template\n\nDeprecated deliverables only do the release on\nstable branches only not on master. But existing\npublish-to-pypi template does not have the branch\nmatcher to exclude the master gate from running the\nrelease jobs.\n\nThis commit defines a new template for such deprecated\nrepo publish-to-pypi-stable-only which exclude the master\nbranch to run the release jobs.\n\nThis new template will be used in all the deprected repo so\nthat if needed we can update the master conent which is README.rst\nfor example: https://review.opendev.org/c/openstack/neutron-fwaas/+/800140\n\nChange-Id: Icc98e4f231413365af6a4f2270282565335e343c\n'}, {'number': 2, 'created': '2021-07-12 20:15:18.000000000', 'files': ['zuul.d/project-templates.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/bee50a2b64cc16748a8b972848365cbbfa094c75', 'message': 'Define publish-to-pypi-stable-only template\n\nDeprecated deliverables only do the release on\nstable branches only not on master. But existing\npublish-to-pypi template does not have the branch\nmatcher to exclude the master gate from running the\nrelease jobs.\n\nThis commit defines a new template for such deprecated\nrepo publish-to-pypi-stable-only which exclude the master\nbranch to run the release jobs.\n\nThis new template will be used in all the deprected repo so\nthat if needed we can update the master conent which is README.rst\nfor example: https://review.opendev.org/c/openstack/neutron-fwaas/+/800140\n\nChange-Id: Icc98e4f231413365af6a4f2270282565335e343c\n'}]",2,800554,bee50a2b64cc16748a8b972848365cbbfa094c75,13,3,2,8556,,,0,"Define publish-to-pypi-stable-only template

Deprecated deliverables only do the release on
stable branches only not on master. But existing
publish-to-pypi template does not have the branch
matcher to exclude the master gate from running the
release jobs.

This commit defines a new template for such deprecated
repo publish-to-pypi-stable-only which exclude the master
branch to run the release jobs.

This new template will be used in all the deprected repo so
that if needed we can update the master conent which is README.rst
for example: https://review.opendev.org/c/openstack/neutron-fwaas/+/800140

Change-Id: Icc98e4f231413365af6a4f2270282565335e343c
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/54/800554/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project-templates.yaml'],1,fda51e8ca6822b27bddcd6cc785eb2a83752e3fc,deprecated-repo-cleanup," name: publish-to-pypi-stable-only description: | Publish a Python package to PyPI, then send release announcement emails and propose updates to upper-constraints as needed. This template is supposed to be used for deliverables having stable branch release only, means deprecated deliverables who still support stable release. check: jobs: - test-release-openstack: # NOTE(gmann): Do not run the release job on master gate. # This template is supposed to be used for stable only release. branches: ^(?!master).*$ gate: jobs: - test-release-openstack: branches: ^(?!master).*$ pre-release: jobs: - release-openstack-python: branches: ^(?!master).*$ - announce-release: branches: ^(?!master).*$ dependencies: - release-openstack-python - propose-update-constraints: branches: ^(?!master).*$ dependencies: - release-openstack-python release: jobs: - release-openstack-python: branches: ^(?!master).*$ - announce-release: branches: ^(?!master).*$ dependencies: - release-openstack-python - propose-update-constraints: branches: ^(?!master).*$ dependencies: - release-openstack-python - project-template:",,43,0
openstack%2Fironic~master~Ib177a10ee5cc208494a331b0d080ad40c4a09aae,openstack/ironic,master,Ib177a10ee5cc208494a331b0d080ad40c4a09aae,Sanity check object version changes,MERGED,2021-07-09 13:43:36.000000000,2021-07-13 22:47:54.000000000,2021-07-13 22:46:16.000000000,"[{'_account_id': 6618}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-09 13:43:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/45e44dd8ebb866edbf24b0a853803f8cdb6ea55a', 'message': 'Sanity check object version changes\n\nMake sure there are no gaps in release and object versions.\n\nChange-Id: Ib177a10ee5cc208494a331b0d080ad40c4a09aae\n'}, {'number': 2, 'created': '2021-07-13 12:07:36.000000000', 'files': ['ironic/tests/unit/common/test_release_mappings.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/e503048f09aa3a614f152fa947990a67db7d6ebe', 'message': 'Sanity check object version changes\n\nMake sure there are no gaps in release and object versions.\n\nChange-Id: Ib177a10ee5cc208494a331b0d080ad40c4a09aae\n'}]",4,800252,e503048f09aa3a614f152fa947990a67db7d6ebe,17,5,2,10239,,,0,"Sanity check object version changes

Make sure there are no gaps in release and object versions.

Change-Id: Ib177a10ee5cc208494a331b0d080ad40c4a09aae
",git fetch https://review.opendev.org/openstack/ironic refs/changes/52/800252/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/common/test_release_mappings.py', 'ironic/common/release_mappings.py']",2,45e44dd8ebb866edbf24b0a853803f8cdb6ea55a,version-checks,"from oslo_utils import versionutils NUMERIC_RELEASES = sorted(map(versionutils.convert_version_to_tuple, set(RELEASE_MAPPING) - {'master'}), reverse=True) ",,39,3
openstack%2Fironic-tempest-plugin~master~I5188fc756f1b524e9d1b32ef0474e29a9cf90b57,openstack/ironic-tempest-plugin,master,I5188fc756f1b524e9d1b32ef0474e29a9cf90b57,Use get_service_clients framework with basic Secure RBAC,MERGED,2021-06-22 17:28:10.000000000,2021-07-13 22:47:44.000000000,2021-07-13 22:46:09.000000000,"[{'_account_id': 4571}, {'_account_id': 8556}, {'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-22 17:28:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/f6df32e7bd780628f9064714b5d3952f1111f802', 'message': 'WIP: Secure RBAC support\n\nChange-Id: I5188fc756f1b524e9d1b32ef0474e29a9cf90b57\n'}, {'number': 2, 'created': '2021-06-22 17:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/6570d6d9e056ee908f8220398930c22211ebeebd', 'message': 'WIP: Secure RBAC support\n\nChange-Id: I5188fc756f1b524e9d1b32ef0474e29a9cf90b57\n'}, {'number': 3, 'created': '2021-06-23 13:32:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/cb6a48abbc5528a0b2e287c0e803aa9819bd636d', 'message': 'WIP: Secure RBAC support\n\nChange-Id: I5188fc756f1b524e9d1b32ef0474e29a9cf90b57\n'}, {'number': 4, 'created': '2021-06-23 14:04:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/17cd5761f8d83f9569132e28d6c567f72c8b95ca', 'message': 'WIP: Secure RBAC support\n\nChange-Id: I5188fc756f1b524e9d1b32ef0474e29a9cf90b57\n'}, {'number': 5, 'created': '2021-06-23 14:36:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/09d6bc9902c689a6b42c56e780d2401eb446974f', 'message': 'WIP: Secure RBAC support\n\nChange-Id: I5188fc756f1b524e9d1b32ef0474e29a9cf90b57\n'}, {'number': 6, 'created': '2021-06-23 16:07:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/adcbd433b4e724b5c7016e08fd2d74212b9b8e16', 'message': 'WIP: Secure RBAC support\n\nChange-Id: I5188fc756f1b524e9d1b32ef0474e29a9cf90b57\n'}, {'number': 7, 'created': '2021-06-23 17:13:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/e519acfb83e756a6aa263e5018be3d401c47ce67', 'message': 'WIP: Secure RBAC support\n\nChange-Id: I5188fc756f1b524e9d1b32ef0474e29a9cf90b57\n'}, {'number': 8, 'created': '2021-06-23 18:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/8b1bf0622baf390ea07cb5ae6aec5d507a25d3f2', 'message': 'Use get_service_clients framework with basic Secure RBAC\n\nThe ironic tempest plugin was an early plugin and manually\ninvoked override plugin clients and then attached them in\nthe setup_clients method. However, the newer format is to\nuse get_service_clients, which creates and attach client\nclasses using the prepared credentials supplied by the\ncredentials attribute on the test classes.\n\nIn order to support even the most basic testing handling\nand testing of Scope Enforcement as part of Secure RBAC,\nthen the we need to leverage the newer (last 3-4 years)\nmodel of instantiating and leveraging clients in tempest.\nThis is because we need to be able to get a system scoped\nadmin token to be able to test actions as a system scoped\nadmin user. Not to be confused with ""admin"", which is\nproject scoped.\n\nSo then, to support even the most basic handling of\nthe Secure RBAC\'s effort, we need to be able to know\nwhen to leverage *and* then leverage that client.\nWe do that through the enforce_scope parameter\nin upstream tempest.\n\nChange-Id: I5188fc756f1b524e9d1b32ef0474e29a9cf90b57\n'}, {'number': 9, 'created': '2021-06-23 20:32:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/e1bcee62b7e1a1b8897e8ded34af673165a66701', 'message': 'Use get_service_clients framework with basic Secure RBAC\n\nThe ironic tempest plugin was an early plugin and manually\ninvoked override plugin clients and then attached them in\nthe setup_clients method. However, the newer format is to\nuse get_service_clients, which creates and attach client\nclasses using the prepared credentials supplied by the\ncredentials attribute on the test classes.\n\nIn order to support even the most basic testing handling\nand testing of Scope Enforcement as part of Secure RBAC,\nthen the we need to leverage the newer (last 3-4 years)\nmodel of instantiating and leveraging clients in tempest.\nThis is because we need to be able to get a system scoped\nadmin token to be able to test actions as a system scoped\nadmin user. Not to be confused with ""admin"", which is\nproject scoped.\n\nThis newer style of client support does necessitate some\nlegacy style or direct client invocations to be retooled\nso they do not attempt to directly invoke without the\nrequired context.\n\nAdditionally, to support even the most basic handling of\nthe Secure RBAC\'s effort, we need to be able to know\nwhen to leverage *and* then leverage that client.\nWe do that through the enforce_scope parameter\nin upstream tempest.\n\nChange-Id: I5188fc756f1b524e9d1b32ef0474e29a9cf90b57\n'}, {'number': 10, 'created': '2021-06-24 15:06:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/f1b29c2ceddabac7cb8816c810a315fcbf4ff2e8', 'message': 'Use get_service_clients framework with basic Secure RBAC\n\nThe ironic tempest plugin was an early plugin and manually\ninvoked override plugin clients and then attached them in\nthe setup_clients method. However, the newer format is to\nuse get_service_clients, which creates and attach client\nclasses using the prepared credentials supplied by the\ncredentials attribute on the test classes.\n\nIn order to support even the most basic testing handling\nand testing of Scope Enforcement as part of Secure RBAC,\nthen the we need to leverage the newer (last 3-4 years)\nmodel of instantiating and leveraging clients in tempest.\nThis is because we need to be able to get a system scoped\nadmin token to be able to test actions as a system scoped\nadmin user. Not to be confused with ""admin"", which is\nproject scoped.\n\nThis newer style of client support does necessitate some\nlegacy style or direct client invocations to be retooled\nso they do not attempt to directly invoke without the\nrequired context.\n\nAdditionally, to support even the most basic handling of\nthe Secure RBAC\'s effort, we need to be able to know\nwhen to leverage *and* then leverage that client.\nWe do that through the enforce_scope parameter\nin upstream tempest.\n\nChange-Id: I5188fc756f1b524e9d1b32ef0474e29a9cf90b57\n'}, {'number': 11, 'created': '2021-06-25 17:14:25.000000000', 'files': ['ironic_tempest_plugin/tests/scenario/test_baremetal_multitenancy.py', 'ironic_tempest_plugin/tests/scenario/test_baremetal_single_tenant.py', 'ironic_tempest_plugin/tests/scenario/baremetal_manager.py', 'ironic_tempest_plugin/config.py', 'ironic_tempest_plugin/manager.py', 'ironic_tempest_plugin/tests/scenario/test_baremetal_basic_ops.py', 'ironic_tempest_plugin/tests/scenario/test_baremetal_boot_from_volume.py', 'ironic_tempest_plugin/tests/scenario/introspection_manager.py', 'ironic_tempest_plugin/plugin.py', 'ironic_tempest_plugin/tests/scenario/baremetal_standalone_manager.py', 'ironic_tempest_plugin/tests/api/admin/base.py'], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/3a07c4d5ae3cb277e860d710bee0adb1c2555ee6', 'message': 'Use get_service_clients framework with basic Secure RBAC\n\nThe ironic tempest plugin was an early plugin and manually\ninvoked override plugin clients and then attached them in\nthe setup_clients method. However, the newer format is to\nuse get_service_clients, which creates and attach client\nclasses using the prepared credentials supplied by the\ncredentials attribute on the test classes.\n\nIn order to support even the most basic testing handling\nand testing of Scope Enforcement as part of Secure RBAC,\nthen the we need to leverage the newer (last 3-4 years)\nmodel of instantiating and leveraging clients in tempest.\nThis is because we need to be able to get a system scoped\nadmin token to be able to test actions as a system scoped\nadmin user. Not to be confused with ""admin"", which is\nproject scoped.\n\nThis newer style of client support does necessitate some\nlegacy style or direct client invocations to be retooled\nso they do not attempt to directly invoke without the\nrequired context.\n\nAdditionally, to support even the most basic handling of\nthe Secure RBAC\'s effort, we need to be able to know\nwhen to leverage *and* then leverage that client.\nWe do that through the enforce_scope parameter\nin upstream tempest.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/798130\nChange-Id: I5188fc756f1b524e9d1b32ef0474e29a9cf90b57\n'}]",1,797521,3a07c4d5ae3cb277e860d710bee0adb1c2555ee6,33,5,11,11655,,,0,"Use get_service_clients framework with basic Secure RBAC

The ironic tempest plugin was an early plugin and manually
invoked override plugin clients and then attached them in
the setup_clients method. However, the newer format is to
use get_service_clients, which creates and attach client
classes using the prepared credentials supplied by the
credentials attribute on the test classes.

In order to support even the most basic testing handling
and testing of Scope Enforcement as part of Secure RBAC,
then the we need to leverage the newer (last 3-4 years)
model of instantiating and leveraging clients in tempest.
This is because we need to be able to get a system scoped
admin token to be able to test actions as a system scoped
admin user. Not to be confused with ""admin"", which is
project scoped.

This newer style of client support does necessitate some
legacy style or direct client invocations to be retooled
so they do not attempt to directly invoke without the
required context.

Additionally, to support even the most basic handling of
the Secure RBAC's effort, we need to be able to know
when to leverage *and* then leverage that client.
We do that through the enforce_scope parameter
in upstream tempest.

Depends-On: https://review.opendev.org/c/openstack/tempest/+/798130
Change-Id: I5188fc756f1b524e9d1b32ef0474e29a9cf90b57
",git fetch https://review.opendev.org/openstack/ironic-tempest-plugin refs/changes/21/797521/10 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_tempest_plugin/config.py', 'ironic_tempest_plugin/manager.py', 'ironic_tempest_plugin/plugin.py', 'ironic_tempest_plugin/tests/api/admin/base.py']",4,f6df32e7bd780628f9064714b5d3952f1111f802,," credentials = ['admin', 'system_admin'] creds_provider = cls._get_credentials_provider() if CONF.enforce_scope.ironic: creds = creds_provider.get_system_admin_creds() else: creds = creds_provider.get_admin_creds() cls.client = clients.Manager(credentials=creds).baremetal_client", credentials = ['admin'] cls.client = clients.Manager().baremetal_client,29,3
openstack%2Fironic-python-agent~master~I2861696740b2de9ec38f7e9fc2c5e448c009d0bf,openstack/ironic-python-agent,master,I2861696740b2de9ec38f7e9fc2c5e448c009d0bf,Burn-in: Add network step,MERGED,2021-07-06 16:05:58.000000000,2021-07-13 22:47:35.000000000,2021-07-13 22:46:02.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-07-06 16:05:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/bfb3c8388471eb19f01e80ea255004a5a92febb2', 'message': ""Burn-in: Add network step\n\nAdd a clean step for network burn-in via fio. Get basic\nrun parameters from the node's driver_info.\n\nStory: #2007523\nTask: #42385\n\nChange-Id: I2861696740b2de9ec38f7e9fc2c5e448c009d0bf\n""}, {'number': 2, 'created': '2021-07-06 16:18:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/58754404d5521a820215f531882e0989b81214c5', 'message': ""Burn-in: Add network step\n\nAdd a clean step for network burn-in via fio. Get basic\nrun parameters from the node's driver_info.\n\nStory: #2007523\nTask: #42385\n\nChange-Id: I2861696740b2de9ec38f7e9fc2c5e448c009d0bf\n""}, {'number': 3, 'created': '2021-07-13 09:36:54.000000000', 'files': ['ironic_python_agent/hardware.py', 'ironic_python_agent/burnin.py', 'doc/source/admin/hardware_managers.rst', 'releasenotes/notes/add_burnin_network-4856153d21c25f4a.yaml', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/tests/unit/test_burnin.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/cacdd9bab3e46ee5717c34c4facc27c14158bd70', 'message': ""Burn-in: Add network step\n\nAdd a clean step for network burn-in via fio. Get basic\nrun parameters from the node's driver_info.\n\nStory: #2007523\nTask: #42385\n\nChange-Id: I2861696740b2de9ec38f7e9fc2c5e448c009d0bf\n""}]",6,799687,cacdd9bab3e46ee5717c34c4facc27c14158bd70,14,3,3,11292,,,0,"Burn-in: Add network step

Add a clean step for network burn-in via fio. Get basic
run parameters from the node's driver_info.

Story: #2007523
Task: #42385

Change-Id: I2861696740b2de9ec38f7e9fc2c5e448c009d0bf
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/87/799687/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'ironic_python_agent/burnin.py', 'doc/source/admin/hardware_managers.rst', 'releasenotes/notes/add_burnin_network-4856153d21c25f4a.yaml', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/tests/unit/test_burnin.py']",6,bfb3c8388471eb19f01e80ea255004a5a92febb2,story_2007523_network," def test_fio_network_reader(self, mock_execute): node = {'driver_info': {'agent_burnin_fio_network_runtime': 600, 'agent_burnin_fio_network_config': {'partner': 'host-002', 'role': 'reader'}}} mock_execute.return_value = (['out', 'err']) burnin.fio_network(node) expected_calls = [ mock.call('fio', '--ioengine', 'net', '--port', '9000', '--fill_device', 1, '--group_reporting', '--gtod_reduce', 1, '--numjobs', 16, '--name', 'reader', '--rw', 'read', '--hostname', 'host-002'), mock.call('fio', '--ioengine', 'net', '--port', '9000', '--fill_device', 1, '--group_reporting', '--gtod_reduce', 1, '--numjobs', 16, '--name', 'writer', '--rw', 'write', '--runtime', 600, '--time_based', '--listen')] mock_execute.assert_has_calls(expected_calls) def test_fio_network_writer(self, mock_execute): node = {'driver_info': {'agent_burnin_fio_network_runtime': 600, 'agent_burnin_fio_network_config': {'partner': 'host-001', 'role': 'writer'}}} mock_execute.return_value = (['out', 'err']) burnin.fio_network(node) expected_calls = [ mock.call('fio', '--ioengine', 'net', '--port', '9000', '--fill_device', 1, '--group_reporting', '--gtod_reduce', 1, '--numjobs', 16, '--name', 'writer', '--rw', 'write', '--runtime', 600, '--time_based', '--listen'), mock.call('fio', '--ioengine', 'net', '--port', '9000', '--fill_device', 1, '--group_reporting', '--gtod_reduce', 1, '--numjobs', 16, '--name', 'reader', '--rw', 'read', '--hostname', 'host-001')] mock_execute.assert_has_calls(expected_calls) def test_fio_network_no_fio(self, mock_execute): node = {'driver_info': {'agent_burnin_fio_network_config': {'partner': 'host-003', 'role': 'reader'}}} mock_execute.side_effect = processutils.ProcessExecutionError('boom') self.assertRaises(errors.CommandExecutionError, burnin.fio_network, node) @mock.patch('time.sleep', autospec=True) def test_fio_network_reader_loop(self, mock_time, mock_execute): node = {'driver_info': {'agent_burnin_fio_network_config': {'partner': 'host-004', 'role': 'reader'}}} # mock the infinite loop mock_execute.side_effect = (processutils.ProcessExecutionError( 'Connection timeout'), processutils.ProcessExecutionError( 'Connection timeout'), processutils.ProcessExecutionError( 'Connection refused'), ['out', 'err'], # connected! ['out', 'err']) # reversed roles burnin.fio_network(node) # we loop 3 times, then do the 2 fio calls self.assertEqual(5, mock_execute.call_count) self.assertEqual(3, mock_time.call_count)",,183,0
openstack%2Fironic~master~I53314b8f16fd7b965c58370e33ab83501e7cb067,openstack/ironic,master,I53314b8f16fd7b965c58370e33ab83501e7cb067,Fix iPXE docs: snponly is not always available,MERGED,2021-07-13 12:44:01.000000000,2021-07-13 22:25:05.000000000,2021-07-13 21:52:32.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-07-13 12:44:01.000000000', 'files': ['doc/source/install/configure-pxe.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/3199d289bd936bc9ff1a35f39cedbb6d1ba84d9f', 'message': ""Fix iPXE docs: snponly is not always available\n\nActually, it's only available on RHEL/CentOS 8, but I hope the other\ndistributions will catch up.\n\nChange-Id: I53314b8f16fd7b965c58370e33ab83501e7cb067\n""}]",0,800632,3199d289bd936bc9ff1a35f39cedbb6d1ba84d9f,10,3,1,10239,,,0,"Fix iPXE docs: snponly is not always available

Actually, it's only available on RHEL/CentOS 8, but I hope the other
distributions will catch up.

Change-Id: I53314b8f16fd7b965c58370e33ab83501e7cb067
",git fetch https://review.opendev.org/openstack/ironic refs/changes/32/800632/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/configure-pxe.rst'],1,3199d289bd936bc9ff1a35f39cedbb6d1ba84d9f,ipxe," cp /usr/share/ipxe/{undionly.kpxe,ipxe-x86_64.efi,ipxe-snponly-x86_64.efi} /tftpboot .. note:: ``snponly`` variants may not be available for all distributions. ``snponly.efi`` or ``ipxe-snponly-x86_64.efi`` if it's available for your distribution."," cp /usr/share/ipxe/{undionly.kpxe,ipxe.efi,snponly.efi} /tftpboot ``snponly.efi``.",5,2
openstack%2Frequirements~master~I83375bd94612fcd9357d386e701f16e3564373b3,openstack/requirements,master,I83375bd94612fcd9357d386e701f16e3564373b3,Update to eventlet 0.31.1,MERGED,2021-07-13 08:16:39.000000000,2021-07-13 22:22:35.000000000,2021-07-13 22:21:29.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-13 08:16:39.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/db314bf54e6afd193563c8dd1c4c4ed2726b56f3', 'message': 'Update to eventlet 0.31.1\n\nChange-Id: I83375bd94612fcd9357d386e701f16e3564373b3\n'}]",0,800597,db314bf54e6afd193563c8dd1c4c4ed2726b56f3,8,2,1,14250,,,0,"Update to eventlet 0.31.1

Change-Id: I83375bd94612fcd9357d386e701f16e3564373b3
",git fetch https://review.opendev.org/openstack/requirements refs/changes/97/800597/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,db314bf54e6afd193563c8dd1c4c4ed2726b56f3,,eventlet===0.31.1,eventlet===0.31.0,1,1
openstack%2Fironic~stable%2Fwallaby~I371b0f6ab74de7aa26ecc4a65e825303e3d94085,openstack/ironic,stable/wallaby,I371b0f6ab74de7aa26ecc4a65e825303e3d94085,Clean up images when ejecting an ISO with Redfish,MERGED,2021-07-13 10:22:17.000000000,2021-07-13 21:54:03.000000000,2021-07-13 21:52:29.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-13 10:22:17.000000000', 'files': ['ironic/tests/unit/drivers/modules/redfish/test_vendor.py', 'ironic/tests/unit/drivers/modules/redfish/test_boot.py', 'releasenotes/notes/redfish-eject-iso-9875388ae09bc8f6.yaml', 'ironic/drivers/modules/redfish/boot.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ccecf7affca1c08bc9888eb4fdfcffae3d3af244', 'message': 'Clean up images when ejecting an ISO with Redfish\n\nThere is no point in keeping the disconnected ISO files around.\n\nChange-Id: I371b0f6ab74de7aa26ecc4a65e825303e3d94085\n(cherry picked from commit da27e370b6fdf12330b3ccdc4404c56896862939)\n'}]",0,800392,ccecf7affca1c08bc9888eb4fdfcffae3d3af244,11,2,1,10239,,,0,"Clean up images when ejecting an ISO with Redfish

There is no point in keeping the disconnected ISO files around.

Change-Id: I371b0f6ab74de7aa26ecc4a65e825303e3d94085
(cherry picked from commit da27e370b6fdf12330b3ccdc4404c56896862939)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/92/800392/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/redfish/test_vendor.py', 'ironic/tests/unit/drivers/modules/redfish/test_boot.py', 'releasenotes/notes/redfish-eject-iso-9875388ae09bc8f6.yaml', 'ironic/drivers/modules/redfish/boot.py']",4,ccecf7affca1c08bc9888eb4fdfcffae3d3af244,redfish-eject-iso-stable/wallaby," :return: True if any device was ejected, else False found = False found = True return found if _eject_vmedia(task, system.managers, boot_device=boot_device): LOG.debug('Cleaning up unused files after ejecting %(dev)s for node ' '%(node)s', {'dev': boot_device or 'all devices', 'node': task.node.uuid}) if (boot_device is None or boot_device == sushy.VIRTUAL_MEDIA_USBSTICK): image_utils.cleanup_disk_image(task, prefix='configdrive') if boot_device is None or boot_device == sushy.VIRTUAL_MEDIA_CD: image_utils.cleanup_iso_image(task)"," _eject_vmedia(task, system.managers, boot_device=boot_device)",40,44
openstack%2Fpbr~master~Ib82098453691f605de80a8d87583cf62e15258fd,openstack/pbr,master,Ib82098453691f605de80a8d87583cf62e15258fd,Retire django-openstack-auth,MERGED,2021-07-13 17:17:14.000000000,2021-07-13 21:44:59.000000000,2021-07-13 21:43:25.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-13 17:17:14.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/pbr/commit/4849d82da7e2f689206f980a6e609bc474fc6b48', 'message': 'Retire django-openstack-auth\n\n``django_openstack_auth`` code was merged into the main horizon\nrepository during the queens release. This repo is already\ndeprecated and now we can retire it. This patch removes all\nreferences of ``django_openstack_auth`` as mentioned in [1].\n\n[1] https://docs.openstack.org/project-team-guide/repository.html#retiring-a-repository\n\nNeeded-By: https://review.opendev.org/c/openstack/project-config/+/800532/\nChange-Id: Ib82098453691f605de80a8d87583cf62e15258fd\n'}]",0,800692,4849d82da7e2f689206f980a6e609bc474fc6b48,10,2,1,29313,,,0,"Retire django-openstack-auth

``django_openstack_auth`` code was merged into the main horizon
repository during the queens release. This repo is already
deprecated and now we can retire it. This patch removes all
references of ``django_openstack_auth`` as mentioned in [1].

[1] https://docs.openstack.org/project-team-guide/repository.html#retiring-a-repository

Needed-By: https://review.opendev.org/c/openstack/project-config/+/800532/
Change-Id: Ib82098453691f605de80a8d87583cf62e15258fd
",git fetch https://review.opendev.org/openstack/pbr refs/changes/92/800692/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4849d82da7e2f689206f980a6e609bc474fc6b48,retire-django-openstack-auth,, - openstack/django_openstack_auth,0,1
openstack%2Fsushy~master~I48e74d660af31daf07a49115c70d4183c329aa93,openstack/sushy,master,I48e74d660af31daf07a49115c70d4183c329aa93,Update min version of tox to use allowlist,MERGED,2021-06-15 08:13:59.000000000,2021-07-13 21:34:07.000000000,2021-07-13 21:32:57.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 08:13:59.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/sushy/commit/99b43409c04730376bf1f1774313c2705cd8cc42', 'message': 'Update min version of tox to use allowlist\n\nThe min version of tox is updated to 3.18.0 to replace whitelist_externals\nwith allowist_externals option [1]\n\n[1] https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I48e74d660af31daf07a49115c70d4183c329aa93\n'}]",0,796399,99b43409c04730376bf1f1774313c2705cd8cc42,9,3,1,23851,,,0,"Update min version of tox to use allowlist

The min version of tox is updated to 3.18.0 to replace whitelist_externals
with allowist_externals option [1]

[1] https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I48e74d660af31daf07a49115c70d4183c329aa93
",git fetch https://review.opendev.org/openstack/sushy refs/changes/99/796399/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,99b43409c04730376bf1f1774313c2705cd8cc42,allowlist-tox,minversion = 3.18.0allowlist_externals = make,minversion = 3.9.0whitelist_externals = make,2,2
openstack%2Fswift~master~Ie53ebb90db4127b798df17fc7303aefc8dcc7f2a,openstack/swift,master,Ie53ebb90db4127b798df17fc7303aefc8dcc7f2a,reconciler: Tolerate 503s on HEAD,MERGED,2021-06-15 21:05:22.000000000,2021-07-13 21:33:07.000000000,2021-07-13 21:31:47.000000000,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 21:05:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/25da492902af261b125e31693724351ed107ccad', 'message': 'reconciler: Tolerate 503s on HEAD\n\nChange-Id: Ie53ebb90db4127b798df17fc7303aefc8dcc7f2a\n'}, {'number': 2, 'created': '2021-06-15 23:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0d15209590ce9782682a657b281f36278a70436b', 'message': 'reconciler: Tolerate 503s on HEAD\n\nChange-Id: Ie53ebb90db4127b798df17fc7303aefc8dcc7f2a\n'}, {'number': 3, 'created': '2021-06-29 17:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/89d85cbbfa0abfbebf56f9d3f70e4bf50fe3a8a3', 'message': 'reconciler: Tolerate 503s on HEAD\n\nChange-Id: Ie53ebb90db4127b798df17fc7303aefc8dcc7f2a\n'}, {'number': 4, 'created': '2021-06-30 20:45:37.000000000', 'files': ['test/unit/container/test_reconciler.py', 'swift/container/reconciler.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/69e9a1acbf6d6bb2e0c86a1b42393fcc11033fd2', 'message': 'reconciler: Tolerate 503s on HEAD\n\nChange-Id: Ie53ebb90db4127b798df17fc7303aefc8dcc7f2a\n'}]",2,796538,69e9a1acbf6d6bb2e0c86a1b42393fcc11033fd2,18,2,4,15343,,,0,"reconciler: Tolerate 503s on HEAD

Change-Id: Ie53ebb90db4127b798df17fc7303aefc8dcc7f2a
",git fetch https://review.opendev.org/openstack/swift refs/changes/38/796538/4 && git format-patch -1 --stdout FETCH_HEAD,['swift/container/reconciler.py'],1,25da492902af261b125e31693724351ed107ccad,," try: dest_obj = self.swift.get_object_metadata( account, container, obj, headers=headers, acceptable_statuses=(2, 4)) except UnexpectedResponse as err: self.stats_log('unavailable_destination', '%r (%f) unable to ' 'determine the destination timestamp, if any', path, q_ts) return False"," dest_obj = self.swift.get_object_metadata(account, container, obj, headers=headers, acceptable_statuses=(2, 4))",9,3
openstack%2Fironic~master~I34b558f4e7b93618130af1ba2250f6ab8575d4d6,openstack/ironic,master,I34b558f4e7b93618130af1ba2250f6ab8575d4d6,Update requirements,MERGED,2021-07-13 12:39:44.000000000,2021-07-13 21:29:21.000000000,2021-07-13 21:27:46.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-13 12:39:44.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/ironic/commit/06124bae731036fa362f41eb596597715627aa53', 'message': 'Update requirements\n\nUpdate minimum required versions of python packages.\nThe updates is based on crosscheck requirements from required\npackages:\noslo-log 4.3.0 depends on oslo.context>=2.20.0\noslo-config 6.8.0 depends on rfc3986>=1.2.0\noslo-config 6.8.0 depends on requests>=2.18.0\noslo-log 4.3.0 depends on pbr>=3.1.1\noslo-log 4.3.0 depends on oslo.serialization>=2.25.0\noslo-policy 3.7.0 depends on oslo.context>=2.22.0\n\nAlso update minimum versions of ddt and stestr to avoid compatibility\nissues with recent Python versions (3.8 and higher).\n\nChange-Id: I34b558f4e7b93618130af1ba2250f6ab8575d4d6\n'}]",0,800630,06124bae731036fa362f41eb596597715627aa53,15,3,1,23851,,,0,"Update requirements

Update minimum required versions of python packages.
The updates is based on crosscheck requirements from required
packages:
oslo-log 4.3.0 depends on oslo.context>=2.20.0
oslo-config 6.8.0 depends on rfc3986>=1.2.0
oslo-config 6.8.0 depends on requests>=2.18.0
oslo-log 4.3.0 depends on pbr>=3.1.1
oslo-log 4.3.0 depends on oslo.serialization>=2.25.0
oslo-policy 3.7.0 depends on oslo.context>=2.22.0

Also update minimum versions of ddt and stestr to avoid compatibility
issues with recent Python versions (3.8 and higher).

Change-Id: I34b558f4e7b93618130af1ba2250f6ab8575d4d6
",git fetch https://review.opendev.org/openstack/ironic refs/changes/30/800630/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt']",2,06124bae731036fa362f41eb596597715627aa53,update-reqs,"ddt>=1.2.1 # MITstestr>=2.0.0 # Apache-2.0bandit!=1.6.0,>=1.1.0,<2.0.0 # Apache-2.0 ","ddt>=1.0.1 # MITstestr>=1.0.0 # Apache-2.0bandit!=1.6.0,>=1.1.0,<2.0.0 # Apache-2.0",8,8
openstack%2Fironic~bugfix%2F18.0~I371b0f6ab74de7aa26ecc4a65e825303e3d94085,openstack/ironic,bugfix/18.0,I371b0f6ab74de7aa26ecc4a65e825303e3d94085,Clean up images when ejecting an ISO with Redfish,MERGED,2021-07-13 10:22:46.000000000,2021-07-13 21:29:15.000000000,2021-07-13 21:27:53.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-13 10:22:46.000000000', 'files': ['ironic/tests/unit/drivers/modules/redfish/test_vendor.py', 'ironic/tests/unit/drivers/modules/redfish/test_boot.py', 'releasenotes/notes/redfish-eject-iso-9875388ae09bc8f6.yaml', 'ironic/drivers/modules/redfish/boot.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/1c5ef8f6e895e6d4abd1fa1659d5b578c5d8fda7', 'message': 'Clean up images when ejecting an ISO with Redfish\n\nThere is no point in keeping the disconnected ISO files around.\n\nChange-Id: I371b0f6ab74de7aa26ecc4a65e825303e3d94085\n(cherry picked from commit da27e370b6fdf12330b3ccdc4404c56896862939)\n'}]",0,800394,1c5ef8f6e895e6d4abd1fa1659d5b578c5d8fda7,10,2,1,10239,,,0,"Clean up images when ejecting an ISO with Redfish

There is no point in keeping the disconnected ISO files around.

Change-Id: I371b0f6ab74de7aa26ecc4a65e825303e3d94085
(cherry picked from commit da27e370b6fdf12330b3ccdc4404c56896862939)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/94/800394/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/redfish/test_vendor.py', 'ironic/tests/unit/drivers/modules/redfish/test_boot.py', 'releasenotes/notes/redfish-eject-iso-9875388ae09bc8f6.yaml', 'ironic/drivers/modules/redfish/boot.py']",4,1c5ef8f6e895e6d4abd1fa1659d5b578c5d8fda7,redfish-eject-iso-bugfix/18.0," :return: True if any device was ejected, else False found = False found = True return found if _eject_vmedia(task, system.managers, boot_device=boot_device): LOG.debug('Cleaning up unused files after ejecting %(dev)s for node ' '%(node)s', {'dev': boot_device or 'all devices', 'node': task.node.uuid}) if (boot_device is None or boot_device == sushy.VIRTUAL_MEDIA_USBSTICK): image_utils.cleanup_disk_image(task, prefix='configdrive') if boot_device is None or boot_device == sushy.VIRTUAL_MEDIA_CD: image_utils.cleanup_iso_image(task)"," _eject_vmedia(task, system.managers, boot_device=boot_device)",40,44
openstack%2Fsushy-tools~master~Ic0f800d8fc50c520058d52936bf31ef4824359b1,openstack/sushy-tools,master,Ic0f800d8fc50c520058d52936bf31ef4824359b1,Update min version of tox to use allowlist,MERGED,2021-06-15 08:15:04.000000000,2021-07-13 21:27:12.000000000,2021-07-13 21:25:47.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 08:15:04.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/fad94e788e9bdb87ae08edda0327f0781ec5a627', 'message': 'Update min version of tox to use allowlist\n\nThe min version of tox is updated to 3.18.0 to replace whitelist_externals\nwith allowist_externals option [1]\n\n[1] https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Ic0f800d8fc50c520058d52936bf31ef4824359b1\n'}]",0,796400,fad94e788e9bdb87ae08edda0327f0781ec5a627,8,3,1,23851,,,0,"Update min version of tox to use allowlist

The min version of tox is updated to 3.18.0 to replace whitelist_externals
with allowist_externals option [1]

[1] https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: Ic0f800d8fc50c520058d52936bf31ef4824359b1
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/00/796400/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,fad94e788e9bdb87ae08edda0327f0781ec5a627,allowlist-tox,minversion = 3.18.0allowlist_externals = make,minversion = 3.9.0whitelist_externals = make,2,2
openstack%2Fpython-cinderclient~stable%2Fwallaby~I7dcc5951c7061e358891f9df8c78b5315f6bb451,openstack/python-cinderclient,stable/wallaby,I7dcc5951c7061e358891f9df8c78b5315f6bb451,DNM: remove skip_missing-interpreters in wallby,ABANDONED,2021-07-02 21:23:04.000000000,2021-07-13 20:16:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-02 21:23:04.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/0108cd752cc597290a2c889fe153f205deedc06e', 'message': 'DNM: remove skip_missing-interpreters in wallby\n\nSee what effect this has on running test jobs in the default\nnodesets.\n\nChange-Id: I7dcc5951c7061e358891f9df8c78b5315f6bb451\n'}]",0,799331,0108cd752cc597290a2c889fe153f205deedc06e,4,1,1,5314,,,0,"DNM: remove skip_missing-interpreters in wallby

See what effect this has on running test jobs in the default
nodesets.

Change-Id: I7dcc5951c7061e358891f9df8c78b5315f6bb451
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/31/799331/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0108cd752cc597290a2c889fe153f205deedc06e,dnm-skip-int,,skip_missing_interpreters = true,0,1
openstack%2Fnova-specs~master~I41ce8c336e9917de645faf94d5a31898b0fa0c81,openstack/nova-specs,master,I41ce8c336e9917de645faf94d5a31898b0fa0c81,Repropose: Support Consumer Types in placement,MERGED,2021-07-12 21:35:17.000000000,2021-07-13 20:16:16.000000000,2021-07-13 20:14:23.000000000,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-12 21:35:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/96fc838c3813d241387271ca2982e55eead83b4a', 'message': 'Repropose: Support Consumer Types in placement\n\nThis spec was previously proposed in Train [1] and the corresponding\nimplementation has been slowly worked on since. The implementation is\nnearly completed now having ironed out many wrinkles that were brought\nup during code review.\n\nThis contains updates to the design which were discussed and agreed\nupon during code review with the main difference being that there is no\nlonger a default consumer type proposed and that a value of ``NULL``\nwill indicate the absence of a consumer type for a consumer. Along with\nthis, no online data migration is now needed.\n\nStory: 2005473\nTask: 30554\n\n[1] https://docs.openstack.org/placement/latest/specs/train/approved/2005473-support-consumer-types.html\n\nChange-Id: I41ce8c336e9917de645faf94d5a31898b0fa0c81\n'}, {'number': 2, 'created': '2021-07-12 22:01:53.000000000', 'files': ['specs/xena/approved/placement-support-consumer-types.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/ac4c353cbdcd71a44c6ec50237a2b05dc5f8c4d8', 'message': 'Repropose: Support Consumer Types in placement\n\nThis spec was previously proposed in Train [1] and the corresponding\nimplementation has been slowly worked on since. The implementation is\nnearly completed now having ironed out many wrinkles that were brought\nup during code review.\n\nThis contains updates to the design which were discussed and agreed\nupon during code review with the main difference being that there is no\nlonger a default consumer type proposed and that a value of ``NULL``\nwill indicate the absence of a consumer type for a consumer. Along with\nthis, no online data migration is now needed.\n\nPreviously-approved: Train\n\nStory: 2005473\nTask: 30554\n\n[1] https://docs.openstack.org/placement/latest/specs/train/approved/2005473-support-consumer-types.html\n\nChange-Id: I41ce8c336e9917de645faf94d5a31898b0fa0c81\n'}]",2,800569,ac4c353cbdcd71a44c6ec50237a2b05dc5f8c4d8,13,3,2,4690,,,0,"Repropose: Support Consumer Types in placement

This spec was previously proposed in Train [1] and the corresponding
implementation has been slowly worked on since. The implementation is
nearly completed now having ironed out many wrinkles that were brought
up during code review.

This contains updates to the design which were discussed and agreed
upon during code review with the main difference being that there is no
longer a default consumer type proposed and that a value of ``NULL``
will indicate the absence of a consumer type for a consumer. Along with
this, no online data migration is now needed.

Previously-approved: Train

Story: 2005473
Task: 30554

[1] https://docs.openstack.org/placement/latest/specs/train/approved/2005473-support-consumer-types.html

Change-Id: I41ce8c336e9917de645faf94d5a31898b0fa0c81
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/69/800569/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/xena/approved/placement-support-consumer-types.rst'],1,96fc838c3813d241387271ca2982e55eead83b4a,bp/support-consumer-types,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ====================== Support Consumer Types ====================== .. note:: This is specification does not target the Nova services it only impacts the Placement service. https://storyboard.openstack.org/#!/story/2005473 This spec aims at providing support for services to model ``consumer types`` in placement. While placement defines a consumer to be an entity consuming resources from a provider it does not provide a way to identify similar ""types"" of consumers and henceforth allow services to group/query them based on their types. This spec proposes to associate each consumer to a particular type defined by the service owning the consumer. Problem description =================== In today's placement world each allocation posted by a service is against a provider for a consumer (ex: for an instance or a migration). However a service may want to distinguish amongst the allocations made against its various types of consumers (ex: nova may want to fetch allocations against instances alone). This is currently not possible in placement and hence the goal is to make placement aware of ""types of consumers"" for the services. Use Cases --------- * Nova using placement as its `quota calculation system`_: Currently this approach uses the nova_api database to calculate the quota on the ""number of instances"". In order for nova to be able to use placement to count the number of ""instance-consumers"", there needs to be a way by which we can differentiate ""instance-consumers"" from ""migration-consumers"". * Ironic wanting to differentiate between ""standalone-consumer"" versus ""nova-consumer"". Note that it is not within the scope of placement to model the coordination of the consumer type collisions that may arise between multiple services during their definition. Placement will also not be able to identify or verify correct consumer types (eg, INTANCE versus INSTANCE) from the external service's perspective. Proposed change =============== In order to model consumer types in placement, we will add a new ``consumer_types`` table to the placement database which will have two columns: #. an ``id`` which will be of type integer. #. a ``name`` which will be of type varchar (maximum of 255 characters) and this will have a unique constraint on it. The pattern restrictions for the name will be similar to placement traits and resource class names, i.e restricted to only ``^[A-Z0-9_]+$`` with length restrictions being {1, 255}. A sample look of such a table would be: +--------+----------+ | id | name | +========+==========+ | 1 | INSTANCE | +--------+----------+ | 2 | MIGRATION| +--------+----------+ A new column called ``consumer_type_id`` would be added to the ``consumers`` table to map the consumer to its type. The ``POST /allocations`` and ``PUT /allocations/{consumer_uuid}`` REST API's will gain a new (required) key called ``consumer_type`` which is of type string in their request body's through which the caller can specify what type of consumer it is creating or updating the allocations for. If the specified ``consumer_type`` key is not present in the ``consumer_types`` table, a new entry will be created. Also note that once a consumer type is created, it lives on forever. If this becomes a problem in the future for the operators a tool can be provided to clean them up. In order to maintain parity between the request format of ``PUT /allocations/{consumer_uuid}`` and response format of ``GET /allocations/{consumer_uuid}``, the ``consumer_type`` key will also be exposed through the response of ``GET /allocations/{consumer_uuid}`` request. The external services will be able to leverage this ``consumer_type`` key through the ``GET /usages`` REST API which will have a change in the format of its request and response. The request will gain a new optional key called ``consumer_type`` which will enable users to query usages based on the consumer type. The response will group the resource usages by the specified consumer_type (if consumer_type key is not specified it will return the usages for all the consumer_types) meaning it will gain a new ``consumer_type`` key. Per consumer type we will also return a ``consumer_count`` of consumers of that type. See the `API impact`_ section for more details on how this would be done. The above REST API changes and the corresponding changes to the ``/reshaper`` REST API will be available from a new microversion. The existing consumers in placement will have a ``NULL`` value in their consumer_type_id field, which means we do not know what type these consumers are and the service to which the consumers belong to needs to update this information if it wants to avail the ``consumer_types`` feature. Alternatives ------------ We could create a new REST API to allow users to create consumer types explicitly but it does not make sense to add a new API for a non-user facing feature. Data model impact ----------------- The placement database will get a new ``consumer_types`` table and the ``consumers`` table will get a new ``consumer_type_id`` column that by default will be ``NULL``. API impact ---------- The new ``POST /allocations`` request will look like this:: { ""30328d13-e299-4a93-a102-61e4ccabe474"": { ""consumer_generation"": 1, ""project_id"": ""131d4efb-abc0-4872-9b92-8c8b9dc4320f"", ""user_id"": ""131d4efb-abc0-4872-9b92-8c8b9dc4320f"", ""consumer_type"": ""INSTANCE"", # This is new ""allocations"": { ""e10927c4-8bc9-465d-ac60-d2f79f7e4a00"": { ""resources"": { ""VCPU"": 2, ""MEMORY_MB"": 3 }, ""generation"": 4 } } }, ""71921e4e-1629-4c5b-bf8d-338d915d2ef3"": { ""consumer_generation"": 1, ""project_id"": ""131d4efb-abc0-4872-9b92-8c8b9dc4320f"", ""user_id"": ""131d4efb-abc0-4872-9b92-8c8b9dc4320f"", ""consumer_type"": ""MIGRATION"", # This is new ""allocations"": {} } } The new ``PUT /allocations/{consumer_uuid}`` request will look like this:: { ""allocations"": { ""4e061c03-611e-4caa-bf26-999dcff4284e"": { ""resources"": { ""DISK_GB"": 20 } }, ""89873422-1373-46e5-b467-f0c5e6acf08f"": { ""resources"": { ""MEMORY_MB"": 1024, ""VCPU"": 1 } } }, ""consumer_generation"": 1, ""user_id"": ""66cb2f29-c86d-47c3-8af5-69ae7b778c70"", ""project_id"": ""42a32c07-3eeb-4401-9373-68a8cdca6784"", ""consumer_type"": ""INSTANCE"" # This is new } Note that ``consumer_type`` is a required key for both these requests at this microversion. The new ``GET /usages`` response will look like this for a request of type ``GET /usages?project_id=<project id>&user_id=<user id>`` or ``GET /usages?project_id=<project id>`` where the consumer_type key is not specified:: { ""usages"": { ""INSTANCE"": { ""consumer_count"": 5, ""DISK_GB"": 5, ""MEMORY_MB"": 512, ""VCPU"": 2 } ""MIGRATION"": { ""consumer_count"": 2, ""DISK_GB"": 5, ""MEMORY_MB"": 512, ""VCPU"": 2 } ""unknown"": { ""consumer_count"": 1, ""DISK_GB"": 5, ""MEMORY_MB"": 512, ""VCPU"": 2 } } } The new ``GET /usages`` response will look like this for a request of type ``GET /usages?project_id=<id>&user_id=<id>&consumer_type=""INSTANCE""`` or ``GET /usages?project_id=<id>&consumer_type=""INSTANCE""`` where the consumer_type key is specified:: { ""usages"": { ""INSTANCE"": { ""consumer_count"": 5, ""DISK_GB"": 5, ""MEMORY_MB"": 512, ""VCPU"": 2 } } } A special request of the form ``GET /usages?project_id=<project id>&consumer_type=all`` will be allowed to enable users to be able to query for the total count of all the consumers. The response for such a request will look like this:: { ""usages"": { ""all"": { ""consumer_count"": 3, ""DISK_GB"": 5, ""MEMORY_MB"": 512, ""VCPU"": 2 } } } A special request of the form ``GET /usages?project_id=<project id>&consumer_type=unknown`` will be allowed to enable users to be able to query for the total count of the consumers that have no consumer type assigned. The response for such a request will look like this:: { ""usages"": { ""unknown"": { ""consumer_count"": 3, ""DISK_GB"": 5, ""MEMORY_MB"": 512, ""VCPU"": 2 } } } Note that ``consumer_type`` is an optional key for the ``GET /usages`` request. The above REST API changes and the corresponding changes to the ``/reshaper`` REST API will be available from a new microversion. Security impact --------------- None. Other end user impact --------------------- The external services using this feature like nova should take the responsibility of updating the consumer type of existing consumers from ``NULL`` to the actual type through the ``PUT /allocations/{consumer_uuid}`` REST API. Performance Impact ------------------ None. Other deployer impact --------------------- None. Developer impact ---------------- None. Upgrade impact -------------- The ``placement-manage db sync`` command has to be run by the operators in order to upgrade the database schema to accommodate the new changes. Implementation ============== Assignee(s) ----------- Primary assignee: <melwitt> Other contributors: <tssurya> <cdent> Work Items ---------- * Add the new ``consumer_types`` table and create a new ``consumer_type_id`` column in the ``consumers`` table with a foreign key constraint to the ``id`` column of the ``consumer_types`` table. * Make the REST API changes in a new microversion for: * ``POST /allocations``, * ``PUT /allocations/{consumer_uuid}``, * ``GET /allocations/{consumer_uuid}``, * ``GET /usages`` and * ``/reshaper`` Dependencies ============ None. Testing ======= Unit and functional tests to validate the feature will be added. Documentation Impact ==================== The placement API reference will be updated to reflect the new changes. References ========== .. _quota calculation system: https://review.opendev.org/#/q/topic:bp/count-quota-usage-from-placement History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Train - Introduced * - Xena - Reproposed ",,357,0
openstack%2Ftripleo-heat-templates~master~Ifda3ac08c596f65bc75d869097a0f72e816ba783,openstack/tripleo-heat-templates,master,Ifda3ac08c596f65bc75d869097a0f72e816ba783,Introducing the ComputeVdpa role,MERGED,2021-06-22 18:43:33.000000000,2021-07-13 19:07:57.000000000,2021-07-13 19:06:30.000000000,"[{'_account_id': 11604}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 18575}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-22 18:43:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e036355bf8b3eebbc38f2f5184e00de410f56997', 'message': ""Introducing the ComputeVdpa role\n\nNow that nova supports libvirt's vDPA implementation [1][2], we need\ndeployment code to enable such a feature.\n\nThe ComputeVdpa role is basically a copy of ComputeSriov with the\naddition of the ExtraKernelModules. Beside these modules, operators\nshould be able to their ``NovaPCIPassthrough`` as they\nnormally do for standard SR-IOV as a role parameter. The ``device_type``\nattribute should be set to ``vdpa`` instead of ``type-PF`` or\n``type-VF``.\n\nWhen having the right modules loaded, at least in RHEL8.5, the kernel\nwill automatically create /dev/vhost-vdpa-X devices for each one of the\nVFs.\n\n[1] https://opendev.org/openstack/nova-specs/src/branch/master/specs/wallaby/implemented/libvirt-vdpa-support.rst\n[2] https://bugzilla.redhat.com/1873409\n\nRelated: https://bugzilla.redhat.com/1956297\nChange-Id: Ifda3ac08c596f65bc75d869097a0f72e816ba783\n""}, {'number': 2, 'created': '2021-06-22 18:46:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/66c184a8d24dcb0284fdd00998e7a5507d4c61a3', 'message': ""Introducing the ComputeVdpa role\n\nNow that nova supports libvirt's vDPA implementation [1][2], we need\ndeployment code to enable such a feature.\n\nThe ComputeVdpa role is basically a copy of ComputeSriov with the\naddition of the ExtraKernelModules. Beside these modules, operators\nshould be able to their ``NovaPCIPassthrough`` as they\nnormally do for standard SR-IOV as a role parameter. The ``device_type``\nattribute should be set to ``vdpa`` instead of ``type-PF`` or\n``type-VF``.\n\nWhen having the right modules loaded, at least in RHEL8.5, the kernel\nwill automatically create /dev/vhost-vdpa-X devices for each one of the\nVFs.\n\n[1] https://opendev.org/openstack/nova-specs/src/branch/master/specs/wallaby/implemented/libvirt-vdpa-support.rst\n[2] https://bugzilla.redhat.com/1873409\n\nRelated: https://bugzilla.redhat.com/1956297\nChange-Id: Ifda3ac08c596f65bc75d869097a0f72e816ba783\n""}, {'number': 3, 'created': '2021-06-23 16:58:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/06a8b138ab5557a85699c931676022e5434f61c0', 'message': ""Introducing the ComputeVdpa role\n\nNow that nova supports libvirt's vDPA implementation [1][2], we need\ndeployment code to enable such a feature.\n\nThe ComputeVdpa role is basically a copy of ComputeSriov with the\naddition of the ExtraKernelModules. Beside these modules, operators\nshould define to their ``NovaPCIPassthrough`` as they normally do\nfor standard SR-IOV as a role parameter.\n\nWhen having the right modules loaded, at least in RHEL8.5, the kernel\nwill automatically create /dev/vhost-vdpa-X devices for each one of the\nVFs.\n\n[1] https://opendev.org/openstack/nova-specs/src/branch/master/specs/wallaby/implemented/libvirt-vdpa-support.rst\n[2] https://bugzilla.redhat.com/1873409\n\nRelated: https://bugzilla.redhat.com/1956297\nChange-Id: Ifda3ac08c596f65bc75d869097a0f72e816ba783\n""}, {'number': 4, 'created': '2021-06-28 02:58:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/18714bbb471440968d1995a5a8bf5f9ebd44cde3', 'message': ""Introducing the ComputeVdpa role\n\nNow that nova supports libvirt's vDPA implementation [1][2], we need\ndeployment code to enable such a feature.\n\nThe ComputeVdpa role is basically a copy of ComputeSriov with the\naddition of the ExtraKernelModules. Beside these modules, operators\nshould define to their ``NovaPCIPassthrough`` as they normally do\nfor standard SR-IOV as a role parameter.\n\nWhen having the right modules loaded, at least in RHEL8.5, the kernel\nwill automatically create /dev/vhost-vdpa-X devices for each one of the\nVFs.\n\n[1] https://opendev.org/openstack/nova-specs/src/branch/master/specs/wallaby/implemented/libvirt-vdpa-support.rst\n[2] https://bugzilla.redhat.com/1873409\n\nRelated: https://bugzilla.redhat.com/1956297\nChange-Id: Ifda3ac08c596f65bc75d869097a0f72e816ba783\n""}, {'number': 5, 'created': '2021-06-30 16:31:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c7ffea44395100f3e845d0ed07af9798d63de1d0', 'message': ""Introducing the ComputeVdpa role\n\nNow that nova supports libvirt's vDPA implementation [1][2], we need\ndeployment code to enable such a feature.\n\nThe ComputeVdpa role is basically a copy of ComputeSriov with the\naddition of the ExtraKernelModules. Beside these modules, operators\nshould define to their ``NovaPCIPassthrough`` as they normally do\nfor standard SR-IOV as a role parameter.\n\nWhen having the right modules loaded, at least in RHEL8.5, the kernel\nwill automatically create /dev/vhost-vdpa-X devices for each one of the\nVFs.\n\n[1] https://opendev.org/openstack/nova-specs/src/branch/master/specs/wallaby/implemented/libvirt-vdpa-support.rst\n[2] https://bugzilla.redhat.com/1873409\n\nDepends-On: https://review.opendev.org/c/openstack/os-net-config/+/798926\nRelated: https://bugzilla.redhat.com/1956297\nChange-Id: Ifda3ac08c596f65bc75d869097a0f72e816ba783\n""}, {'number': 6, 'created': '2021-07-07 14:29:08.000000000', 'files': ['releasenotes/notes/add-computevdpa-role-1f7c5df94d9900b6.yaml', 'roles/ComputeVdpa.yaml', 'tools/yaml-validate.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7010a27415cc1da9f80fbdedcf9aee538f4ce4a6', 'message': ""Introducing the ComputeVdpa role\n\nNow that nova supports libvirt's vDPA implementation [1][2], we need\ndeployment code to enable such a feature.\n\nThe ComputeVdpa role is basically a copy of ComputeSriov with the\naddition of the ExtraKernelModules. Beside these modules, operators\nshould define to their ``NovaPCIPassthrough`` as they normally do\nfor standard SR-IOV as a role parameter.\n\nWhen having the right modules loaded, at least in RHEL8.5, the kernel\nwill automatically create /dev/vhost-vdpa-X devices for each one of the\nVFs.\n\n[1] https://opendev.org/openstack/nova-specs/src/branch/master/specs/wallaby/implemented/libvirt-vdpa-support.rst\n[2] https://bugzilla.redhat.com/1873409\n\nDepends-On: https://review.opendev.org/c/openstack/os-net-config/+/798926\nRelated: https://bugzilla.redhat.com/1956297\nChange-Id: Ifda3ac08c596f65bc75d869097a0f72e816ba783\n""}]",8,797529,7010a27415cc1da9f80fbdedcf9aee538f4ce4a6,33,7,6,27419,,,0,"Introducing the ComputeVdpa role

Now that nova supports libvirt's vDPA implementation [1][2], we need
deployment code to enable such a feature.

The ComputeVdpa role is basically a copy of ComputeSriov with the
addition of the ExtraKernelModules. Beside these modules, operators
should define to their ``NovaPCIPassthrough`` as they normally do
for standard SR-IOV as a role parameter.

When having the right modules loaded, at least in RHEL8.5, the kernel
will automatically create /dev/vhost-vdpa-X devices for each one of the
VFs.

[1] https://opendev.org/openstack/nova-specs/src/branch/master/specs/wallaby/implemented/libvirt-vdpa-support.rst
[2] https://bugzilla.redhat.com/1873409

Depends-On: https://review.opendev.org/c/openstack/os-net-config/+/798926
Related: https://bugzilla.redhat.com/1956297
Change-Id: Ifda3ac08c596f65bc75d869097a0f72e816ba783
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/29/797529/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/ComputeVdpa.yaml'],1,e036355bf8b3eebbc38f2f5184e00de410f56997,vhost-vdpa,"############################################################################### # Role: ComputeVdpa # ############################################################################### - name: ComputeVdpa description: | Compute vDPA Role CountDefault: 1 tags: - compute networks: InternalApi: subnet: internal_api_subnet Tenant: subnet: tenant_subnet Storage: subnet: storage_subnet RoleParametersDefault: TunedProfileName: ""cpu-partitioning"" ExtraKernelModules: vdpa: {} vhost_vdpa: {} mlx5_vdpa: {} update_serial: 25 ServicesDefault: - OS::TripleO::Services::Aide - OS::TripleO::Services::AuditD - OS::TripleO::Services::BootParams - OS::TripleO::Services::CACerts - OS::TripleO::Services::CephClient - OS::TripleO::Services::CephExternal - OS::TripleO::Services::Collectd - OS::TripleO::Services::ComputeCeilometerAgent - OS::TripleO::Services::ComputeNeutronCorePlugin - OS::TripleO::Services::ComputeNeutronL3Agent - OS::TripleO::Services::ComputeNeutronMetadataAgent - OS::TripleO::Services::ComputeNeutronOvsAgent - OS::TripleO::Services::Frr - OS::TripleO::Services::IpaClient - OS::TripleO::Services::Ipsec - OS::TripleO::Services::Iscsid - OS::TripleO::Services::Kernel - OS::TripleO::Services::LoginDefs - OS::TripleO::Services::MetricsQdr - OS::TripleO::Services::Multipathd - OS::TripleO::Services::MySQLClient - OS::TripleO::Services::NeutronBgpVpnBagpipe - OS::TripleO::Services::NeutronSriovAgent - OS::TripleO::Services::NeutronVppAgent - OS::TripleO::Services::NovaAZConfig - OS::TripleO::Services::NovaCompute - OS::TripleO::Services::NovaLibvirt - OS::TripleO::Services::NovaLibvirtGuests - OS::TripleO::Services::NovaMigrationTarget - OS::TripleO::Services::ContainersLogrotateCrond - OS::TripleO::Services::Podman - OS::TripleO::Services::Rear - OS::TripleO::Services::Rhsm - OS::TripleO::Services::Rsyslog - OS::TripleO::Services::RsyslogSidecar - OS::TripleO::Services::Securetty - OS::TripleO::Services::Snmp - OS::TripleO::Services::Sshd - OS::TripleO::Services::Timesync - OS::TripleO::Services::Timezone - OS::TripleO::Services::TripleoFirewall - OS::TripleO::Services::TripleoPackages - OS::TripleO::Services::Vpp - OS::TripleO::Services::OVNController - OS::TripleO::Services::OVNMetadataAgent ",,69,0
openstack%2Fnova~master~I9b16a3a849937aba5b90ed1ab9a80b7f0103f673,openstack/nova,master,I9b16a3a849937aba5b90ed1ab9a80b7f0103f673,Make test_archive_task_logs deterministic,MERGED,2021-07-09 22:40:31.000000000,2021-07-13 19:03:59.000000000,2021-07-13 18:00:43.000000000,"[{'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-09 22:40:31.000000000', 'files': ['nova/tests/functional/test_nova_manage.py', 'nova/test.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/87dba379aca6ec4613986cfa4e749a3ada2b44d0', 'message': 'Make test_archive_task_logs deterministic\n\nThe \'nova-manage db archive_deleted_rows --task-log\' functional tests\ninvolve manipulating time to assert archive behaviors when the --before\nflag is also used.\n\nWhile timedelta was used, set_time_override was not, so depending on\nthe date the test ran on + the number of days in the current month and\nnext two months, the test could fail. Task log audit periods are one\ncalendar month by default and the compute manager calls\nlast_completed_audit_period() without specifying a unit.\n\nThis changes the tests to use a time override to ensure predictable\nbehavior with regard to the audit period boundaries. The tests were\nmoved into their own test case classes in order to override the time\nbefore services were started, so that the ""service up"" calculations\nwork as expected.\n\nCloses-Bug: #1934519\n\nChange-Id: I9b16a3a849937aba5b90ed1ab9a80b7f0103f673\n'}]",0,800313,87dba379aca6ec4613986cfa4e749a3ada2b44d0,19,3,1,4690,,,0,"Make test_archive_task_logs deterministic

The 'nova-manage db archive_deleted_rows --task-log' functional tests
involve manipulating time to assert archive behaviors when the --before
flag is also used.

While timedelta was used, set_time_override was not, so depending on
the date the test ran on + the number of days in the current month and
next two months, the test could fail. Task log audit periods are one
calendar month by default and the compute manager calls
last_completed_audit_period() without specifying a unit.

This changes the tests to use a time override to ensure predictable
behavior with regard to the audit period boundaries. The tests were
moved into their own test case classes in order to override the time
before services were started, so that the ""service up"" calculations
work as expected.

Closes-Bug: #1934519

Change-Id: I9b16a3a849937aba5b90ed1ab9a80b7f0103f673
",git fetch https://review.opendev.org/openstack/nova refs/changes/13/800313/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/test_nova_manage.py', 'nova/test.py']",2,87dba379aca6ec4613986cfa4e749a3ada2b44d0,bug/1934519," def __init__(self, override_time=None): self.override_time = override_time timeutils.set_time_override(override_time=self.override_time)", timeutils.set_time_override(),76,9
openstack%2Ftripleo-quickstart-extras~master~I153c56461d8def736d056e01e17283322a0d621e,openstack/tripleo-quickstart-extras,master,I153c56461d8def736d056e01e17283322a0d621e,Utilize t-o-a role for import/introspect in train,MERGED,2021-07-13 06:10:27.000000000,2021-07-13 18:52:38.000000000,2021-07-13 18:11:36.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-07-13 06:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6130534f6168fabe0183bc5ef1e9bfdb432c8b8f', 'message': 'Utilize t-o-a role for import/introspect in train\n\nWe are already using tripleo operator role for import /introspect for\nussuri+ since patches[1] and [2].\n\nWith this patch we are starting to use operator role in train branch\nas well.\n\n[1] https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/726847\n[2] https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/800215\n\nChange-Id: I153c56461d8def736d056e01e17283322a0d621e\n'}, {'number': 2, 'created': '2021-07-13 09:22:54.000000000', 'files': ['roles/overcloud-prep-images/tasks/overcloud-prep-images.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b522292a292d1907c826d935bce4d837057d81f4', 'message': 'Utilize t-o-a role for import/introspect in train\n\nWe are already using tripleo operator role for import /introspect for\nussuri+ since patches[1] and [2].\n\nWith this patch we are starting to use operator role in train branch\nas well.\n\nAlso fixes the legacy task for introspection, Issue introduced in [3].\n`changed_when: true` got over indented under the shell module.\n\n[1] https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/726847\n[2] https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/800215\n[3] https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/800215\n\nCloses-Bug: #1935948\n\nChange-Id: I153c56461d8def736d056e01e17283322a0d621e\n'}]",1,800592,b522292a292d1907c826d935bce4d837057d81f4,23,8,2,29775,,,0,"Utilize t-o-a role for import/introspect in train

We are already using tripleo operator role for import /introspect for
ussuri+ since patches[1] and [2].

With this patch we are starting to use operator role in train branch
as well.

Also fixes the legacy task for introspection, Issue introduced in [3].
`changed_when: true` got over indented under the shell module.

[1] https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/726847
[2] https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/800215
[3] https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/800215

Closes-Bug: #1935948

Change-Id: I153c56461d8def736d056e01e17283322a0d621e
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/92/800592/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-prep-images/tasks/overcloud-prep-images.yml'],1,6130534f6168fabe0183bc5ef1e9bfdb432c8b8f,utilize-tripleo-operator," - release in ['queens', 'stein'] - release not in ['queens', 'stein'] when: release in ['queens', 'stein'] - release not in ['queens', 'stein']"," - release in ['queens', 'stein', 'train'] - release not in ['queens', 'stein', 'train'] when: release in ['queens', 'stein', 'train'] - release not in ['queens', 'stein', 'train']",4,4
openstack%2Ftripleo-ansible~master~I2f5647ea9bc219f0eca9b9580662ca4b5c3c226e,openstack/tripleo-ansible,master,I2f5647ea9bc219f0eca9b9580662ca4b5c3c226e,cephadm: add missing cluster name,MERGED,2021-07-12 13:23:46.000000000,2021-07-13 18:23:41.000000000,2021-07-13 18:11:01.000000000,"[{'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-07-12 13:23:46.000000000', 'files': ['tripleo_ansible/roles/tripleo_cephadm/tasks/export.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/nfs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b754b17724f5fb3b2ad1f374637acaeb0a7c17a1', 'message': 'cephadm: add missing cluster name\n\nTwo tasks were calling `ceph_key` module without the `cluster` parameter\nwhich is problematic in DCN environment, where we specify the cluster\nname.\n\nCloses-Bug: #1935774\nChange-Id: I2f5647ea9bc219f0eca9b9580662ca4b5c3c226e\n'}]",0,800472,b754b17724f5fb3b2ad1f374637acaeb0a7c17a1,14,5,1,3153,,,0,"cephadm: add missing cluster name

Two tasks were calling `ceph_key` module without the `cluster` parameter
which is problematic in DCN environment, where we specify the cluster
name.

Closes-Bug: #1935774
Change-Id: I2f5647ea9bc219f0eca9b9580662ca4b5c3c226e
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/72/800472/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_cephadm/tasks/export.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/nfs.yaml']",2,b754b17724f5fb3b2ad1f374637acaeb0a7c17a1,lp/1935774," cluster: ""{{ tripleo_cephadm_cluster }}""",,2,0
openstack%2Fpython-manilaclient~master~Ibdb387ccd86e24bcd19b4edcbab3bce4e15c36c6,openstack/python-manilaclient,master,Ibdb387ccd86e24bcd19b4edcbab3bce4e15c36c6,Uncap PrettyTable,MERGED,2021-07-13 16:02:22.000000000,2021-07-13 18:23:00.000000000,2021-07-13 18:21:34.000000000,"[{'_account_id': 6413}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-13 16:02:22.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/f3d7927686ef9a2bde8399cc09473eb3d099660b', 'message': 'Uncap PrettyTable\n\nThis is now maintained as a Jazzband project [1].\n\n[1] https://github.com/jazzband/prettytable\n\nChange-Id: Ibdb387ccd86e24bcd19b4edcbab3bce4e15c36c6\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,800676,f3d7927686ef9a2bde8399cc09473eb3d099660b,8,3,1,15334,,,0,"Uncap PrettyTable

This is now maintained as a Jazzband project [1].

[1] https://github.com/jazzband/prettytable

Change-Id: Ibdb387ccd86e24bcd19b4edcbab3bce4e15c36c6
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/76/800676/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,f3d7927686ef9a2bde8399cc09473eb3d099660b,prettytable,PrettyTable>=0.7.1 # BSD,"PrettyTable<0.8,>=0.7.1 # BSD",1,1
openstack%2Fvalidations-libs~master~I2210fa1775691dd503eb882a24824eaf18d7bd3e,openstack/validations-libs,master,I2210fa1775691dd503eb882a24824eaf18d7bd3e,Test cross contamination prevention,MERGED,2021-07-07 08:28:02.000000000,2021-07-13 18:14:28.000000000,2021-07-13 18:11:49.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-07-07 08:28:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/98339a34e07ff18b41cba26b1ddd54a99074cc34', 'message': 'Test cross contamination prevention\n\nThe existing tests were using shared fakes as return value\nof certain mocks. Unfortunately, while perfectly fine in most cases,\ncertain methods change values passed in place.\nThis created a race condition, which caused fluctuation in the reported\ncoverage of the relevant modules.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I2210fa1775691dd503eb882a24824eaf18d7bd3e\n'}, {'number': 2, 'created': '2021-07-07 08:29:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/e0e1c48f40b047691db8bea48775ae499895be0e', 'message': ""Test cross contamination prevention\n\nThe existing tests were using shared fakes as return value\nof certain mocks. Unfortunately, while perfectly fine in most cases,\ncertain methods change values passed in place.\nThis created a race condition, which caused fluctuation in the reported\ncoverage of the relevant modules.\n\nFurthermore the 'test_run_command_failed_validation' test was augmented\nto place further assertion on the arguments passed.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I2210fa1775691dd503eb882a24824eaf18d7bd3e\n""}, {'number': 3, 'created': '2021-07-08 08:20:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/dc3c0722c4cdc7ce8119bc829bc0f133f82e1a0f', 'message': ""Test cross contamination prevention\n\nThe existing tests were using shared fakes as return value\nof certain mocks. Unfortunately, while perfectly fine in most cases,\ncertain methods change values passed in place.\nThis created a race condition, which caused fluctuation in the reported\ncoverage of the relevant modules.\n\nThe undesirable test behavior only becomes apparent when the tests\nare run in a succession and their behavior is analyzed, for example\nduring the run of the recently implemented 'coverchange' job.\n\nFinal statistics of the coverage measurement, displaying the totals\nfor number of lines, lines without coverage, branches etc., display\nfollowing pattern. Note the third column.\n\nTOTAL                                      995    105    340     56    86%\nTOTAL                                      995    105    340     56    86%\nTOTAL                                      995    105    340     56    86%\nTOTAL                                      995    108    340     56    86%\nTOTAL                                      995    108    340     56    86%\nTOTAL                                      995    105    340     56    86%\nTOTAL                                      995    105    340     56    86%\nTOTAL                                      995    108    340     56    86%\nTOTAL                                      995    105    340     56    86%\n\nNumber of lines without coverage oscillates between '108' and '105' depending\non the order in which the tests were run. The culprit being one of the functions\nof the 'validations_libs.cli.common' module, which edits data passed in place.\n\nAs the data processed are passed from patched object, and the data itself are\ndefined withing the relevant 'fakes' module, it emerges with inevitability,\nthat the tested code operates on data previously altered by the tests.\n\nFurthermore the 'test_run_command_failed_validation' test was augmented\nto place further assertion on the arguments passed.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I2210fa1775691dd503eb882a24824eaf18d7bd3e\n""}, {'number': 4, 'created': '2021-07-08 08:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/1c7b92b595ed7e6a930db6a55532356a4e908812', 'message': ""Test cross contamination prevention\n\nThe existing tests were using shared fakes as return value\nof certain mocks. Unfortunately, while perfectly fine in most cases,\ncertain methods change values passed in place.\nThis created a race condition, which caused fluctuation in the reported\ncoverage of the relevant modules.\n\nThe undesirable test behavior only becomes apparent when the tests\nare run in a succession and their behavior is analyzed, for example\nduring the run of the recently implemented 'coverchange' job.\n\nFinal statistics of the coverage measurement, displaying the totals\nfor number of lines, lines without coverage, branches etc., display\nfollowing pattern. Note the third column.\n\nTOTAL                        995    105    340     56    86%\nTOTAL                        995    105    340     56    86%\nTOTAL                        995    105    340     56    86%\nTOTAL                        995    108    340     56    86%\nTOTAL                        995    108    340     56    86%\nTOTAL                        995    105    340     56    86%\nTOTAL                        995    105    340     56    86%\nTOTAL                        995    108    340     56    86%\nTOTAL                        995    105    340     56    86%\n\nNumber of lines without coverage oscillates between '108' and '105' depending\non the order in which the tests were run. The culprit being one of the functions\nof the 'validations_libs.cli.common' module, which edits data passed in place.\n\nAs the data processed are passed from patched object, and the data itself are\ndefined withing the relevant 'fakes' module, it emerges with inevitability,\nthat the tested code operates on data previously altered by the tests.\n\nFurthermore the 'test_run_command_failed_validation' test was augmented\nto place further assertion on the arguments passed.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I2210fa1775691dd503eb882a24824eaf18d7bd3e\n""}, {'number': 5, 'created': '2021-07-08 09:04:29.000000000', 'files': ['validations_libs/tests/cli/test_run.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/b2a9d713612d8ef0b4058347fc37b4a4c6e80ec2', 'message': ""Test cross contamination prevention\n\nThe existing tests were using shared fakes as return value\nof certain mocks. Unfortunately, while perfectly fine in most cases,\ncertain methods change values passed in place.\nThis created a race condition, which caused fluctuation in the reported\ncoverage of the relevant modules.\n\nThe undesirable test behavior only becomes apparent when the tests\nare run in a succession and their behavior is analyzed, for example\nduring the run of the recently implemented 'coverchange' job.\n\nFinal statistics of the coverage measurement, displaying the totals\nfor number of lines, lines without coverage, branches etc., display\nfollowing pattern. Note the third column.\n\nTOTAL                        995    105    340     56    86%\nTOTAL                        995    105    340     56    86%\nTOTAL                        995    105    340     56    86%\nTOTAL                        995    108    340     56    86%\nTOTAL                        995    108    340     56    86%\nTOTAL                        995    105    340     56    86%\nTOTAL                        995    105    340     56    86%\nTOTAL                        995    108    340     56    86%\nTOTAL                        995    105    340     56    86%\n\nNumber of lines without coverage oscillates between '108' and '105' depending\non the order in which the tests were run. The culprit being one of the functions\nof the 'validations_libs.cli.common' module, which edits data passed in place.\n\nAs the data processed are passed from patched object, and the data itself are\ndefined withing the relevant 'fakes' module, it emerges with inevitability,\nthat the tested code operates on data previously altered by the tests.\n\nFurthermore the 'test_run_command_failed_validation' test was augmented\nto place further assertion on the arguments passed.\n\nCloses-Bug: #1935003\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I2210fa1775691dd503eb882a24824eaf18d7bd3e\n""}]",0,799754,b2a9d713612d8ef0b4058347fc37b4a4c6e80ec2,14,7,5,32926,,,0,"Test cross contamination prevention

The existing tests were using shared fakes as return value
of certain mocks. Unfortunately, while perfectly fine in most cases,
certain methods change values passed in place.
This created a race condition, which caused fluctuation in the reported
coverage of the relevant modules.

The undesirable test behavior only becomes apparent when the tests
are run in a succession and their behavior is analyzed, for example
during the run of the recently implemented 'coverchange' job.

Final statistics of the coverage measurement, displaying the totals
for number of lines, lines without coverage, branches etc., display
following pattern. Note the third column.

TOTAL                        995    105    340     56    86%
TOTAL                        995    105    340     56    86%
TOTAL                        995    105    340     56    86%
TOTAL                        995    108    340     56    86%
TOTAL                        995    108    340     56    86%
TOTAL                        995    105    340     56    86%
TOTAL                        995    105    340     56    86%
TOTAL                        995    108    340     56    86%
TOTAL                        995    105    340     56    86%

Number of lines without coverage oscillates between '108' and '105' depending
on the order in which the tests were run. The culprit being one of the functions
of the 'validations_libs.cli.common' module, which edits data passed in place.

As the data processed are passed from patched object, and the data itself are
defined withing the relevant 'fakes' module, it emerges with inevitability,
that the tested code operates on data previously altered by the tests.

Furthermore the 'test_run_command_failed_validation' test was augmented
to place further assertion on the arguments passed.

Closes-Bug: #1935003

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I2210fa1775691dd503eb882a24824eaf18d7bd3e
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/54/799754/4 && git format-patch -1 --stdout FETCH_HEAD,['validations_libs/tests/cli/test_run.py'],1,98339a34e07ff18b41cba26b1ddd54a99074cc34,,"import copy return_value=copy.deepcopy(fakes.FAKE_SUCCESS_RUN)) return_value=copy.deepcopy(fakes.FAKE_SUCCESS_RUN)) return_value=copy.deepcopy(fakes.FAKE_SUCCESS_RUN)) return_value=copy.deepcopy(fakes.FAKE_SUCCESS_RUN)) return_value=copy.deepcopy(fakes.FAKE_SUCCESS_RUN)) return_value=copy.deepcopy(fakes.FAKE_SUCCESS_RUN)) return_value=copy.deepcopy(fakes.FAKE_SUCCESS_RUN)) return_value=copy.deepcopy(fakes.FAKE_SUCCESS_RUN)) @mock.patch('validations_libs.constants.VALIDATIONS_LOG_BASEDIR') return_value=copy.deepcopy(fakes.FAKE_FAILED_RUN)) def test_run_command_failed_validation(self, mock_run, mock_user, mock_log_dir): 'extra_vars': None, 'extra_env_vars': None, 'ssh_user': 'doe', 'log_path': mock_log_dir} mock_run.assert_called_with(**run_called_args)"," return_value=fakes.FAKE_SUCCESS_RUN) return_value=fakes.FAKE_SUCCESS_RUN) return_value=fakes.FAKE_SUCCESS_RUN) return_value=fakes.FAKE_SUCCESS_RUN) return_value=fakes.FAKE_SUCCESS_RUN) return_value=fakes.FAKE_SUCCESS_RUN) return_value=fakes.FAKE_SUCCESS_RUN) return_value=fakes.FAKE_SUCCESS_RUN) return_value=fakes.FAKE_FAILED_RUN) def test_run_command_failed_validation(self, mock_run, mock_user): 'extra_vars': {'key': 'value'}, 'extra_env_vars': {'key2': 'value2'}, 'ssh_user': 'doe'}",17,14
openstack%2Fvalidations-libs~master~Iaabe918c7eee5ac18d1ffd393f59fda568088eb5,openstack/validations-libs,master,Iaabe918c7eee5ac18d1ffd393f59fda568088eb5,improve vagrant functionality,MERGED,2021-07-08 00:00:15.000000000,2021-07-13 18:11:52.000000000,2021-07-13 18:11:52.000000000,"[{'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-07-08 00:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/fd7d086e2681a32ecd46d56af8ecf0454f750499', 'message': 'improve vagrant functionality\n\nthis patch improves vagrant functionality by taking advantage of the\nnon-root shell provisioner; namely via the privileged: false flag\n\npreviously the vagrant dev environments were lacking utility in out of\nthe box experience\n\nChange-Id: Iaabe918c7eee5ac18d1ffd393f59fda568088eb5\n'}, {'number': 2, 'created': '2021-07-13 13:01:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/b614a07edf3322a644bdc3708bfb56c8b23afcd9', 'message': 'improve vagrant functionality\n\nthis patch improves vagrant functionality by taking advantage of the\nnon-root shell provisioner; namely via the privileged: false flag\n\npreviously the vagrant dev environments were lacking utility in out of\nthe box experience\n\nChange-Id: Iaabe918c7eee5ac18d1ffd393f59fda568088eb5\n'}, {'number': 3, 'created': '2021-07-13 13:27:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/652f41ce6c101d3e6e8fe6da037603fdcd5f6a53', 'message': 'improve vagrant functionality\n\nthis patch improves vagrant functionality by taking advantage of the\nnon-root shell provisioner; namely via the privileged: false flag\n\npreviously the vagrant dev environments were lacking utility in out of\nthe box experience\n\nChange-Id: Iaabe918c7eee5ac18d1ffd393f59fda568088eb5\n'}, {'number': 4, 'created': '2021-07-13 13:34:10.000000000', 'files': ['Vagrantfile.centos', 'Vagrantfile.ubuntu'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/753e7f0ed76c4fc1345d6c371b8470704273ef52', 'message': 'improve vagrant functionality\n\nthis patch improves vagrant functionality by taking advantage of the\nnon-root shell provisioner; namely via the privileged: false flag\n\npreviously the vagrant dev environments were lacking utility in out of\nthe box experience\n\nChange-Id: Iaabe918c7eee5ac18d1ffd393f59fda568088eb5\n'}]",2,799925,753e7f0ed76c4fc1345d6c371b8470704273ef52,13,4,4,27427,,,0,"improve vagrant functionality

this patch improves vagrant functionality by taking advantage of the
non-root shell provisioner; namely via the privileged: false flag

previously the vagrant dev environments were lacking utility in out of
the box experience

Change-Id: Iaabe918c7eee5ac18d1ffd393f59fda568088eb5
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/25/799925/4 && git format-patch -1 --stdout FETCH_HEAD,"['Vagrantfile.centos', 'Vagrantfile.ubuntu']",2,fd7d086e2681a32ecd46d56af8ecf0454f750499,vagrantimprovement," config.vm.provision ""shell"", inline: <<-ROOTSHELL ROOTSHELL config.vm.provision ""shell"", privileged: false, inline: <<-NONROOTSHELL echo ""export TERM=xterm"">>/home/vagrant/.bashrc git clone https://opendev.org/openstack/validations-libs vl-dev pushd vl-dev sudo pip3 install -r requirements.txt sudo python3 setup.py install git clone https://opendev.org/openstack/validations-common vc-dev pushd vc-dev sudo pip3 install -r requirements.txt sudo python3 setup.py install sudo ln -s /usr/local/share/validations-common /usr/share/validations-common sudo mkdir -p /var/log/validations NONROOTSHELL"," config.vm.provision ""shell"", inline: <<-SHELL echo ""export TERM=xterm"">>/home/vagrant/.bashrc git clone https://opendev.org/openstack/validations-libs git clone https://opendev.org/openstack/validations-common pushd validations-libs pip3 install -r requirements.txt python3 setup.py install pushd validations-common pip3 install -r requirements.txt python3 setup.py install ln -s /usr/local/share/validations-common /usr/share/validations-common mkdir -p /var/log/validations SHELL",30,26
openstack%2Ftripleo-ansible~master~Icc68dad8074dd02d84f76efac45ed08b42a2bd2f,openstack/tripleo-ansible,master,Icc68dad8074dd02d84f76efac45ed08b42a2bd2f,Explicitly set ceph_dashboard_vip when Ceph Dashboard is enabled,MERGED,2021-07-08 12:36:56.000000000,2021-07-13 18:11:28.000000000,2021-07-13 18:11:28.000000000,"[{'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-08 12:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/af1f644e76ed3e6e2b097b5d6206fed76349cfeb', 'message': ""Explicitly set ceph_dashboard_vip when Ceph Dashboard is enabled\n\nWhen the Ceph Dashboard environment file is added, the haproxy config\nis created for both the ceph dashboard and the monitoring stack (made\nby grafana, prometheus, alertmanager, node-exporter).\nWe used to have the 'ceph_dashboard_vip' rely to the ctlplane network\nunless the StorageDashboard composable network is explicitly added to\nthe overcloud deployment.\nThis patch, instead, explicitly sets the ceph_dashboard_vip using the\n'CephDashboardNetwork' parameter defined in tripleo-heat-templates.\nBy doing this the operator has the flexibility to use the network\ndefined via tht to reach the Ceph Dashboard, resulting in a more\nconsistent configuration according to the user expectations.\n\nChange-Id: Icc68dad8074dd02d84f76efac45ed08b42a2bd2f\n""}, {'number': 2, 'created': '2021-07-08 13:21:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ad0ea86f797c1e9fd41cd3f7758c6d88bb5db8de', 'message': ""Explicitly set ceph_dashboard_vip when Ceph Dashboard is enabled\n\nWhen the Ceph Dashboard environment file is added, the haproxy config\nis created for both the ceph dashboard and the monitoring stack (made\nby grafana, prometheus, alertmanager, node-exporter).\nWe used to have the 'ceph_dashboard_vip' rely to the ctlplane network\nunless the StorageDashboard composable network is explicitly added to\nthe overcloud deployment.\nThis patch, instead, explicitly sets the ceph_dashboard_vip using the\n'CephDashboardNetwork' parameter defined in tripleo-heat-templates.\nBy doing this the operator has the flexibility to use the network\ndefined via tht to reach the Ceph Dashboard, resulting in a more\nconsistent configuration according to the user expectations.\n\nChange-Id: Icc68dad8074dd02d84f76efac45ed08b42a2bd2f\n""}, {'number': 3, 'created': '2021-07-09 06:07:42.000000000', 'files': ['tripleo_ansible/roles/tripleo_hieradata/templates/vip_data.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5dc5cdb62639fc240fd44b50b5322888fc40efc3', 'message': ""Explicitly set ceph_dashboard_vip when Ceph Dashboard is enabled\n\nWhen the Ceph Dashboard environment file is added, the haproxy config\nis created for both the ceph dashboard and the monitoring stack (made\nby grafana, prometheus, alertmanager, node-exporter).\nWe used to have the 'ceph_dashboard_vip' rely to the ctlplane network\nunless the StorageDashboard composable network is explicitly added to\nthe overcloud deployment.\nThis patch, instead, explicitly sets the ceph_dashboard_vip using the\n'CephDashboardNetwork' parameter defined in tripleo-heat-templates.\nBy doing this the operator has the flexibility to use the network\ndefined via tht to reach the Ceph Dashboard, resulting in a more\nconsistent configuration according to the user expectations.\n\nChange-Id: Icc68dad8074dd02d84f76efac45ed08b42a2bd2f\n""}]",0,800027,5dc5cdb62639fc240fd44b50b5322888fc40efc3,14,6,3,25402,,,0,"Explicitly set ceph_dashboard_vip when Ceph Dashboard is enabled

When the Ceph Dashboard environment file is added, the haproxy config
is created for both the ceph dashboard and the monitoring stack (made
by grafana, prometheus, alertmanager, node-exporter).
We used to have the 'ceph_dashboard_vip' rely to the ctlplane network
unless the StorageDashboard composable network is explicitly added to
the overcloud deployment.
This patch, instead, explicitly sets the ceph_dashboard_vip using the
'CephDashboardNetwork' parameter defined in tripleo-heat-templates.
By doing this the operator has the flexibility to use the network
defined via tht to reach the Ceph Dashboard, resulting in a more
consistent configuration according to the user expectations.

Change-Id: Icc68dad8074dd02d84f76efac45ed08b42a2bd2f
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/27/800027/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_hieradata/templates/vip_data.j2'],1,af1f644e76ed3e6e2b097b5d6206fed76349cfeb,ceph_dashboard_select_frontend,"{% if 'ceph_grafana' in enabled_services %} {% set _ = vip_data.__setitem__('ceph_dashboard_vip', (net_vip_map[service_net_map['ceph_dashboard_network']])) %} {% endif %}",,3,0
openstack%2Ftripleo-ansible~stable%2Ftrain~I94283e928080a417a5ea505c789e6485a3334129,openstack/tripleo-ansible,stable/train,I94283e928080a417a5ea505c789e6485a3334129,Avoid hardcoding /home/stack in cli-undercloud-db-backup.yaml.,MERGED,2021-07-13 08:16:35.000000000,2021-07-13 18:11:22.000000000,2021-07-13 18:11:22.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 32968}]","[{'number': 1, 'created': '2021-07-13 08:16:35.000000000', 'files': ['tripleo_ansible/playbooks/cli-undercloud-db-backup.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9d1038681a34b807bed05b8486bba3a6c20f6fa3', 'message': 'Avoid hardcoding /home/stack in cli-undercloud-db-backup.yaml.\n\nReplace the hardcoded reference to /home/stack by the HOME\nenvironment variable.\n\nChange-Id: I94283e928080a417a5ea505c789e6485a3334129\n(cherry picked from commit 46e4ef6ec0d52f538533b913ae8acf29880b8d43)\n(cherry picked from commit 8ef29ba0e3859e65a4dbd2fe691e2ae487fd418e)\n'}]",0,800387,9d1038681a34b807bed05b8486bba3a6c20f6fa3,7,8,1,26343,,,0,"Avoid hardcoding /home/stack in cli-undercloud-db-backup.yaml.

Replace the hardcoded reference to /home/stack by the HOME
environment variable.

Change-Id: I94283e928080a417a5ea505c789e6485a3334129
(cherry picked from commit 46e4ef6ec0d52f538533b913ae8acf29880b8d43)
(cherry picked from commit 8ef29ba0e3859e65a4dbd2fe691e2ae487fd418e)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/87/800387/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-undercloud-db-backup.yaml'],1,9d1038681a34b807bed05b8486bba3a6c20f6fa3,," tripleo_backup_and_restore_mysql_backup_file: ""{{ lookup('env', 'HOME') }}/openstack-backup-mysql-{{ lookup('pipe', 'date +%F_%H_%M_%S') }}.sql"" tripleo_backup_and_restore_mysql_grants_file: ""{{ lookup('env', 'HOME') }}/openstack-backup-mysql-grants-{{ lookup('pipe', 'date +%F_%H_%M_%S') }}.sql"""," tripleo_backup_and_restore_mysql_backup_file: ""/home/stack/openstack-backup-mysql-{{ lookup('pipe', 'date +%F_%H_%M_%S') }}.sql"" tripleo_backup_and_restore_mysql_grants_file: ""/home/stack/openstack-backup-mysql-grants-{{ lookup('pipe', 'date +%F_%H_%M_%S') }}.sql""",2,2
openstack%2Ftripleo-image-elements~master~I34b57958ba84714c54ed8148600e7fd0860e3ba8,openstack/tripleo-image-elements,master,I34b57958ba84714c54ed8148600e7fd0860e3ba8,Shrink whole disk image from 40G to 6G,MERGED,2021-06-25 05:20:39.000000000,2021-07-13 18:10:56.000000000,2021-07-13 18:10:56.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-06-25 05:20:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/5250518e9160e25f167ca86bd203925bb8042e5c', 'message': ""WIP shrink whole disk image from 40G to 6G\n\nNow that images are converted to raw on the undercloud we need to\nconsider the implications of creating a 40G whole-disk image which is\nmostly empty.\n\nThe raw image file on the undercloud is sparse, so storage spaces is\nnot consumed. However transferring from the undercloud to deploying\nnodes will transfer all 40G of mostly zeros, and ironic-python-agent\nwill also write all those zeros to disk during deployment. This makes\ndeployment unnecessarily slow and will cause network scalabilty issues\nfor large overcloud deployments.\n\nThis change reduces the size of the physical root partition to 6GB,\nand makes the logical volumes big enough for space to not run out\nduring image building. The growvols utility will be used post-deploy\nto grow all of the volumes (not just /var).\n\nI'll propose the following growvols defaults:\n/=8GB /tmp=1GB /var/log=10GB /var/log/audit=2GB /home=1GB /var=100%\n\nChange-Id: I34b57958ba84714c54ed8148600e7fd0860e3ba8\nBlueprint: whole-disk-default\n""}, {'number': 2, 'created': '2021-07-07 23:00:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/132582b401a33a4be48c30633edd30fc1e4de453', 'message': 'Shrink whole disk image from 40G to 6G\n\nNow that images are converted to raw on the undercloud we need to\nconsider the implications of creating a 40G whole-disk image which is\nmostly empty.\n\nThe raw image file on the undercloud is sparse, so storage space is\nnot consumed. However transferring from the undercloud to deploying\nnodes will transfer all 40G of mostly zeros, and ironic-python-agent\nwill also write all those zeros to disk during deployment. This makes\ndeployment unnecessarily slow and will cause network scalabilty issues\nfor large overcloud deployments.\n\nThis change reduces the size of the physical root partition to 6GB,\nand makes the logical volumes big enough for space to not run out\nduring image building. The growvols utility will be used post-deploy\nto grow all of the volumes (not just /var).\n\nThe growvols playbook now has the following default to ensure all\npartitions are grown to an appropriate size:\n/=8GB /tmp=1GB /var/log=10GB /var/log/audit=2GB /home=1GB /var=100%\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/796748\nChange-Id: I34b57958ba84714c54ed8148600e7fd0860e3ba8\nBlueprint: whole-disk-default\n'}, {'number': 3, 'created': '2021-07-08 21:19:39.000000000', 'files': ['elements/overcloud-partition-uefi/block-device-default.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/0203c0aa6300015ac12bd2e95fa86b382a6a22cb', 'message': 'Shrink whole disk image from 40G to 6G\n\nNow that images are converted to raw on the undercloud we need to\nconsider the implications of creating a 40G whole-disk image which is\nmostly empty.\n\nThe raw image file on the undercloud is sparse, so storage space is\nnot consumed. However transferring from the undercloud to deploying\nnodes will transfer all 40G of mostly zeros, and ironic-python-agent\nwill also write all those zeros to disk during deployment. This makes\ndeployment unnecessarily slow and will cause network scalabilty issues\nfor large overcloud deployments.\n\nThis change reduces the size of the physical root partition to 6GB,\nand makes the logical volumes big enough for space to not run out\nduring image building. The growvols utility will be used post-deploy\nto grow all of the volumes (not just /var).\n\nThe growvols playbook now has the following default to ensure all\npartitions are grown to an appropriate size:\n/=8GB /tmp=1GB /var/log=10GB /var/log/audit=2GB /home=1GB /var=100%\n\nChange-Id: I34b57958ba84714c54ed8148600e7fd0860e3ba8\nBlueprint: whole-disk-default\n'}]",4,798040,0203c0aa6300015ac12bd2e95fa86b382a6a22cb,18,6,3,4571,,,0,"Shrink whole disk image from 40G to 6G

Now that images are converted to raw on the undercloud we need to
consider the implications of creating a 40G whole-disk image which is
mostly empty.

The raw image file on the undercloud is sparse, so storage space is
not consumed. However transferring from the undercloud to deploying
nodes will transfer all 40G of mostly zeros, and ironic-python-agent
will also write all those zeros to disk during deployment. This makes
deployment unnecessarily slow and will cause network scalabilty issues
for large overcloud deployments.

This change reduces the size of the physical root partition to 6GB,
and makes the logical volumes big enough for space to not run out
during image building. The growvols utility will be used post-deploy
to grow all of the volumes (not just /var).

The growvols playbook now has the following default to ensure all
partitions are grown to an appropriate size:
/=8GB /tmp=1GB /var/log=10GB /var/log/audit=2GB /home=1GB /var=100%

Change-Id: I34b57958ba84714c54ed8148600e7fd0860e3ba8
Blueprint: whole-disk-default
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/40/798040/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/overcloud-partition-uefi/block-device-default.yaml'],1,5250518e9160e25f167ca86bd203925bb8042e5c,bp/whole-disk-default, size: 6G extents: 69%VG extents: 15%VG extents: 4%VG extents: 4%VG, size: 40G extents: 23%VG extents: 45%VG extents: 23%VG extents: 1%VG,5,5
openstack%2Ftripleo-image-elements~master~I27257e0a95fc16e0099d4ee28f365f0bce02b262,openstack/tripleo-image-elements,master,I27257e0a95fc16e0099d4ee28f365f0bce02b262,Depend on growvols element,MERGED,2021-06-17 01:52:22.000000000,2021-07-13 18:10:11.000000000,2021-07-13 18:10:11.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-06-17 01:52:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/57afbbf2c408eba11719c776d29b3ae60aff6b33', 'message': 'Depend on growvols element\n\nThis will install the growvols script, which will be run in the\nansible playbook stage of the overcloud node provision command.\n\nChange-Id: I27257e0a95fc16e0099d4ee28f365f0bce02b262\nDepends-On: https://review.opendev.org/c/openstack/diskimage-builder/+/791083\n'}, {'number': 2, 'created': '2021-06-17 01:52:52.000000000', 'files': ['elements/overcloud-partition-uefi/element-deps', 'elements/overcloud-partition/element-deps'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/e996653baa42ea8fe3e85faeddce99c075b58c17', 'message': 'Depend on growvols element\n\nThis will install the growvols script, which will be run in the\nansible playbook stage of the overcloud node provision command.\n\nChange-Id: I27257e0a95fc16e0099d4ee28f365f0bce02b262\nDepends-On: https://review.opendev.org/c/openstack/diskimage-builder/+/791083\nBlueprint: whole-disk-default\n'}]",0,796745,e996653baa42ea8fe3e85faeddce99c075b58c17,10,4,2,4571,,,0,"Depend on growvols element

This will install the growvols script, which will be run in the
ansible playbook stage of the overcloud node provision command.

Change-Id: I27257e0a95fc16e0099d4ee28f365f0bce02b262
Depends-On: https://review.opendev.org/c/openstack/diskimage-builder/+/791083
Blueprint: whole-disk-default
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/45/796745/2 && git format-patch -1 --stdout FETCH_HEAD,"['elements/overcloud-partition-uefi/element-deps', 'elements/overcloud-partition/element-deps']",2,57afbbf2c408eba11719c776d29b3ae60aff6b33,bp/whole-disk-default,growvols,,2,0
openstack%2Fneutron~master~I3bfa3efb9fb8076656b16c89d2f35d74efde12b7,openstack/neutron,master,I3bfa3efb9fb8076656b16c89d2f35d74efde12b7,Using 31-Bit and 32-Bit prefixes for IPv4 reasonably,MERGED,2016-05-19 10:02:44.000000000,2021-07-13 18:09:46.000000000,2021-06-10 10:48:17.000000000,"[{'_account_id': 3}, {'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10386}, {'_account_id': 10692}, {'_account_id': 11975}, {'_account_id': 12860}, {'_account_id': 13252}, {'_account_id': 13768}, {'_account_id': 14208}, {'_account_id': 14323}, {'_account_id': 14571}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 17642}, {'_account_id': 17645}, {'_account_id': 19726}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32029}, {'_account_id': 32291}, {'_account_id': 32667}]","[{'number': 1, 'created': '2016-05-19 10:02:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f0dc1bfca4c6aa71351de30e5991f3d5fcaeaf72', 'message': 'Using 31-Bit and 32-Bit prefixes reasonably\n\nWhen needing to create a point to point connection via a subnet,\ngenerally and /31 is the recommended cidr. Neutron supports /31\ndisabling dhcp and gateway on a subnet. /32 is also supported in\nopenstack.\n\nFixes bug 1580927\n\nChange-Id: I3bfa3efb9fb8076656b16c89d2f35d74efde12b7\n'}, {'number': 3, 'created': '2021-02-25 18:22:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5502206716148e126b271f0434ee5e9a2e8d2f9f', 'message': 'Using 31-Bit and 32-Bit prefixes reasonably\n\nWhen needing to create a point to point connection via a subnet,\ngenerally and /31 is the recommended cidr. Neutron supports /31\ndisabling dhcp and gateway on a subnet. /32 is also supported in\nopenstack.\n\nCloses-Bug: #1580927\nChange-Id: I3bfa3efb9fb8076656b16c89d2f35d74efde12b7\n'}, {'number': 4, 'created': '2021-03-04 16:59:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/aaca5e13b41f06c57264a811d9ef00c746e21ad9', 'message': 'Using 31-Bit and 32-Bit prefixes reasonably\n\nWhen needing to create a point to point connection via a subnet,\ngenerally and /31 is the recommended cidr. Neutron supports /31\ndisabling dhcp and gateway on a subnet. /32 is also supported in\nopenstack.\n\nCloses-Bug: #1580927\nChange-Id: I3bfa3efb9fb8076656b16c89d2f35d74efde12b7\n'}, {'number': 5, 'created': '2021-03-11 14:33:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/633ddc44a186ddd21593ea4cd5ebfb76d26e3126', 'message': 'Using 31-Bit and 32-Bit prefixes reasonably\n\nWhen needing to create a point to point connection via a subnet,\ngenerally and /31 is the recommended cidr. Neutron supports /31\ndisabling dhcp and gateway on a subnet. /32 is also supported in\nopenstack.\n\nCloses-Bug: #1580927\nChange-Id: I3bfa3efb9fb8076656b16c89d2f35d74efde12b7\n'}, {'number': 6, 'created': '2021-03-22 13:54:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2a2283538754da133f7f58a529f4e924f89ae198', 'message': 'Using 31-Bit and 32-Bit prefixes reasonably\n\nWhen needing to create a point to point connection via a subnet,\ngenerally and /31 is the recommended cidr. Neutron supports /31\ndisabling dhcp and gateway on a subnet. /32 is also supported in\nopenstack.\n\nCloses-Bug: #1580927\nChange-Id: I3bfa3efb9fb8076656b16c89d2f35d74efde12b7\n'}, {'number': 7, 'created': '2021-03-23 09:42:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/13001112b397b036c4ed000dbe2a05aa0bce0820', 'message': 'Using 31-Bit and 32-Bit prefixes reasonably\n\nWhen needing to create a point to point connection via a subnet,\ngenerally and /31 is the recommended cidr. Neutron supports /31\ndisabling dhcp and gateway on a subnet. /32 is also supported in\nopenstack.\n\nCloses-Bug: #1580927\nChange-Id: I3bfa3efb9fb8076656b16c89d2f35d74efde12b7\n'}, {'number': 8, 'created': '2021-03-23 13:33:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7586f2e4a1bcf192b430cd224b98dadd751576c8', 'message': 'Using 31-Bit and 32-Bit prefixes reasonably\n\nWhen needing to create a point to point connection via a subnet,\ngenerally and /31 is the recommended cidr. Neutron supports /31\ndisabling dhcp and gateway on a subnet. /32 is also supported in\nopenstack.\n\nCloses-Bug: #1580927\nChange-Id: I3bfa3efb9fb8076656b16c89d2f35d74efde12b7\n'}, {'number': 9, 'created': '2021-03-25 07:19:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f81eed2b491a01aa20be9ee074347616ebc37c85', 'message': 'Using 31-Bit and 32-Bit prefixes reasonably\n\nWhen needing to create a point to point connection via a subnet,\ngenerally and /31 is the recommended cidr. Neutron supports /31\ndisabling dhcp and gateway on a subnet. /32 is also supported in\nopenstack.\n\nCloses-Bug: #1580927\nChange-Id: I3bfa3efb9fb8076656b16c89d2f35d74efde12b7\n'}, {'number': 10, 'created': '2021-03-31 07:20:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8f1b1b3a438b05642086b6b8e4e92d97d42981d9', 'message': 'Using 31-Bit and 32-Bit prefixes reasonably\n\nWhen needing to create a point to point connection via a subnet,\ngenerally and /31 is the recommended cidr. Neutron supports /31\ndisabling dhcp and gateway on a subnet. /32 is also supported in\nopenstack.\n\nCloses-Bug: #1580927\nChange-Id: I3bfa3efb9fb8076656b16c89d2f35d74efde12b7\n'}, {'number': 11, 'created': '2021-04-12 10:55:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c094288dbf64600af376d8d344521691e2f0f3a8', 'message': 'Using 31-Bit and 32-Bit prefixes for IPv4 reasonably\n\nWhen needing to create a point to point connection via a subnet,\ngenerally and /31 is the recommended cidr. Neutron supports /31\ndisabling dhcp and gateway on a subnet. /32 is also supported in\nopenstack.\n\nCloses-Bug: #1580927\nChange-Id: I3bfa3efb9fb8076656b16c89d2f35d74efde12b7\n'}, {'number': 12, 'created': '2021-04-12 12:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/520bb02ce051ff8ea8f39d4ad4bf469129fb364c', 'message': 'Using 31-Bit and 32-Bit prefixes for IPv4 reasonably\n\nWhen needing to create a point to point connection via a subnet,\ngenerally and /31 is the recommended cidr. Neutron supports /31\ndisabling dhcp and gateway on a subnet. /32 is also supported in\nopenstack.\n\nCloses-Bug: #1580927\nChange-Id: I3bfa3efb9fb8076656b16c89d2f35d74efde12b7\n'}, {'number': 13, 'created': '2021-04-15 14:29:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/10ddec8a895224a95575476aa159352918ac8d1e', 'message': 'Using 31-Bit and 32-Bit prefixes for IPv4 reasonably\n\nWhen needing to create a point to point connection via a subnet,\ngenerally and /31 is the recommended cidr. Neutron supports /31\ndisabling dhcp and gateway on a subnet. /32 is also supported in\nopenstack.\n\nCloses-Bug: #1580927\nChange-Id: I3bfa3efb9fb8076656b16c89d2f35d74efde12b7\n'}, {'number': 14, 'created': '2021-04-16 11:47:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e05e81c8b8a8b0f774bc61ea64bfabde9b779c06', 'message': 'Using 31-Bit and 32-Bit prefixes for IPv4 reasonably\n\nWhen needing to create a point to point connection via a subnet,\ngenerally and /31 is the recommended cidr. Neutron supports /31\ndisabling dhcp and gateway on a subnet. /32 is also supported in\nopenstack.\n\nCloses-Bug: #1580927\nChange-Id: I3bfa3efb9fb8076656b16c89d2f35d74efde12b7\n'}, {'number': 15, 'created': '2021-04-16 12:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/894187c7fab372545f3c439ad9c95527fbfaa293', 'message': 'Using 31-Bit and 32-Bit prefixes for IPv4 reasonably\n\nWhen needing to create a point to point connection via a subnet,\ngenerally and /31 is the recommended cidr. Neutron supports /31\ndisabling dhcp and gateway on a subnet. /32 is also supported in\nopenstack.\n\nCloses-Bug: #1580927\nChange-Id: I3bfa3efb9fb8076656b16c89d2f35d74efde12b7\n'}, {'number': 16, 'created': '2021-04-16 13:22:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/aa5a2381e7a4dec341492eac263d88713653f13c', 'message': 'Using 31-Bit and 32-Bit prefixes for IPv4 reasonably\n\nWhen needing to create a point to point connection via a subnet,\ngenerally and /31 is the recommended cidr. Neutron supports /31\ndisabling dhcp and gateway on a subnet. /32 is also supported in\nopenstack.\n\nCloses-Bug: #1580927\nChange-Id: I3bfa3efb9fb8076656b16c89d2f35d74efde12b7\n'}, {'number': 17, 'created': '2021-04-17 08:30:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/54d1c7b0dea910144df0b67e9a50f6b1f1979875', 'message': 'Using 31-Bit and 32-Bit prefixes for IPv4 reasonably\n\nWhen needing to create a point to point connection via a subnet,\ngenerally and /31 is the recommended cidr. Neutron supports /31\ndisabling dhcp and gateway on a subnet. /32 is also supported in\nopenstack.\n\nCloses-Bug: #1580927\nChange-Id: I3bfa3efb9fb8076656b16c89d2f35d74efde12b7\n'}, {'number': 18, 'created': '2021-05-04 11:52:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/35c3058d6f60c7f887f04ac26e584c1e1a2526ec', 'message': 'Using 31-Bit and 32-Bit prefixes for IPv4 reasonably\n\nWhen needing to create a point to point connection via a subnet,\ngenerally and /31 is the recommended cidr. Neutron supports /31\ndisabling dhcp and gateway on a subnet. /32 is also supported in\nopenstack.\n\nCloses-Bug: #1580927\nChange-Id: I3bfa3efb9fb8076656b16c89d2f35d74efde12b7\n'}, {'number': 19, 'created': '2021-05-04 14:25:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b6e34ca4a9d57e47462a8b75cb3c410ddcc57854', 'message': 'Using 31-Bit and 32-Bit prefixes for IPv4 reasonably\n\nWhen needing to create a point to point connection via a subnet,\ngenerally and /31 is the recommended cidr. Neutron supports /31\ndisabling dhcp and gateway on a subnet. /32 is also supported in\nopenstack.\n\nCloses-Bug: #1580927\nChange-Id: I3bfa3efb9fb8076656b16c89d2f35d74efde12b7\n'}, {'number': 20, 'created': '2021-05-04 19:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/44a81b6ae5c087d10cc9f51e7c986f5ac6eff8ed', 'message': 'Using 31-Bit and 32-Bit prefixes for IPv4 reasonably\n\nWhen needing to create a point to point connection via a subnet,\ngenerally and /31 is the recommended cidr. Neutron supports /31\ndisabling dhcp and gateway on a subnet. /32 is also supported in\nopenstack.\n\nCloses-Bug: #1580927\nChange-Id: I3bfa3efb9fb8076656b16c89d2f35d74efde12b7\n'}, {'number': 21, 'created': '2021-05-06 14:11:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/83ca00a98c21099f1480e1f954764106e11a96c5', 'message': 'Using 31-Bit and 32-Bit prefixes for IPv4 reasonably\n\nWhen needing to create a point to point connection via a subnet,\ngenerally and /31 is the recommended cidr. Neutron supports /31\ndisabling dhcp and gateway on a subnet. /32 is also supported in\nopenstack.\n\nCloses-Bug: #1580927\nChange-Id: I3bfa3efb9fb8076656b16c89d2f35d74efde12b7\n'}, {'number': 22, 'created': '2021-05-14 08:52:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/40f3cca1131585982f4bba2a4192dd903ab0c576', 'message': 'Using 31-Bit and 32-Bit prefixes for IPv4 reasonably\n\nWhen needing to create a point to point connection via a subnet,\ngenerally and /31 is the recommended cidr. Neutron supports /31\ndisabling dhcp and gateway on a subnet. /32 is also supported in\nopenstack.\n\nCloses-Bug: #1580927\nChange-Id: I3bfa3efb9fb8076656b16c89d2f35d74efde12b7\n'}, {'number': 23, 'created': '2021-05-14 11:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/82c28e0785a3a4f524d052c808b5835baff7bd66', 'message': 'Using 31-Bit and 32-Bit prefixes for IPv4 reasonably\n\nWhen needing to create a point to point connection via a subnet,\ngenerally and /31 is the recommended cidr. Neutron supports /31\ndisabling dhcp and gateway on a subnet. /32 is also supported in\nopenstack.\n\nCloses-Bug: #1580927\nChange-Id: I3bfa3efb9fb8076656b16c89d2f35d74efde12b7\n'}, {'number': 24, 'created': '2021-05-17 08:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a9ab32ff7b50f7b77da87c918fbf469dda77caf9', 'message': 'Using 31-Bit and 32-Bit prefixes for IPv4 reasonably\n\nWhen needing to create a point to point connection via a subnet,\ngenerally and /31 is the recommended cidr. Neutron supports /31\ndisabling dhcp and gateway on a subnet. /32 is also supported in\nopenstack.\n\nCloses-Bug: #1580927\nChange-Id: I3bfa3efb9fb8076656b16c89d2f35d74efde12b7\n'}, {'number': 25, 'created': '2021-05-17 09:42:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8c8eb7978319813c73d19be736ae29b87890cef2', 'message': 'Using 31-Bit and 32-Bit prefixes for IPv4 reasonably\n\nWhen needing to create a point to point connection via a subnet,\ngenerally and /31 is the recommended cidr. Neutron supports /31\ndisabling dhcp and gateway on a subnet. /32 is also supported in\nopenstack.\n\nCloses-Bug: #1580927\nChange-Id: I3bfa3efb9fb8076656b16c89d2f35d74efde12b7\n'}, {'number': 26, 'created': '2021-05-17 09:45:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f216a5fd12b4f9d9787b9c6492934ae8644e0fad', 'message': 'Using 31-Bit and 32-Bit prefixes for IPv4 reasonably\n\nWhen needing to create a point to point connection via a subnet,\ngenerally and /31 is the recommended cidr. Neutron supports /31\ndisabling dhcp and gateway on a subnet. /32 is also supported in\nopenstack.\n\nCloses-Bug: #1580927\nChange-Id: I3bfa3efb9fb8076656b16c89d2f35d74efde12b7\n'}, {'number': 27, 'created': '2021-05-17 11:21:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d77ec434e9adcfde2898f703e2fe8b2d13a3ae48', 'message': 'Using 31-Bit and 32-Bit prefixes for IPv4 reasonably\n\nWhen needing to create a point to point connection via a subnet,\ngenerally and /31 is the recommended cidr. Neutron supports /31\ndisabling dhcp and gateway on a subnet. /32 is also supported in\nopenstack.\n\nCloses-Bug: #1580927\nChange-Id: I3bfa3efb9fb8076656b16c89d2f35d74efde12b7\n'}, {'number': 28, 'created': '2021-05-19 07:34:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c50ebe573eecbf81b9a6b079d7c40f88f08be199', 'message': 'Using 31-Bit and 32-Bit prefixes for IPv4 reasonably\n\nWhen needing to create a point to point connection via a subnet,\ngenerally and /31 is the recommended cidr. Neutron supports /31\ndisabling dhcp and gateway on a subnet. /32 is also supported in\nopenstack.\n\nCloses-Bug: #1580927\nChange-Id: I3bfa3efb9fb8076656b16c89d2f35d74efde12b7\n'}, {'number': 29, 'created': '2021-06-05 05:01:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/202934e251f30a75ff01f9948c85de9b382633c4', 'message': 'Using 31-Bit and 32-Bit prefixes for IPv4 reasonably\n\nWhen needing to create a point to point connection via a subnet,\ngenerally and /31 is the recommended cidr. Neutron supports /31\ndisabling dhcp and gateway on a subnet. /32 is also supported in\nopenstack.\n\nCloses-Bug: #1580927\nChange-Id: I3bfa3efb9fb8076656b16c89d2f35d74efde12b7\n'}, {'number': 30, 'created': '2021-06-09 07:35:54.000000000', 'files': ['neutron/db/ipam_backend_mixin.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'releasenotes/notes/create-subnet-with-prefixlen-31-32-4cf8c9417325721a.yaml', 'neutron/tests/fullstack/resources/machine.py', 'neutron/tests/fullstack/test_subnet.py', 'neutron/ipam/utils.py', 'neutron/tests/unit/ipam/test_utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/437a311eca27bde5799b04d6a27d8e0e2aaf1c1f', 'message': 'Using 31-Bit and 32-Bit prefixes for IPv4 reasonably\n\nWhen needing to create a point to point connection via a subnet,\ngenerally and /31 is the recommended cidr. Neutron supports /31\ndisabling dhcp and gateway on a subnet. /32 is also supported in\nopenstack.\n\nCloses-Bug: #1580927\nChange-Id: I3bfa3efb9fb8076656b16c89d2f35d74efde12b7\n'}]",33,318542,437a311eca27bde5799b04d6a27d8e0e2aaf1c1f,219,25,29,21020,,,0,"Using 31-Bit and 32-Bit prefixes for IPv4 reasonably

When needing to create a point to point connection via a subnet,
generally and /31 is the recommended cidr. Neutron supports /31
disabling dhcp and gateway on a subnet. /32 is also supported in
openstack.

Closes-Bug: #1580927
Change-Id: I3bfa3efb9fb8076656b16c89d2f35d74efde12b7
",git fetch https://review.opendev.org/openstack/neutron refs/changes/42/318542/9 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/ipam_backend_mixin.py'],1,f0dc1bfca4c6aa71351de30e5991f3d5fcaeaf72,bug/1580927, if subnet._netmask_int <= 30: subnet_first_ip = netaddr.IPAddress(subnet.first + 1) # last address is broadcast in v4 subnet_last_ip = netaddr.IPAddress(subnet.last - (subnet.version == 4)) else: subnet_first_ip = netaddr.IPAddress(subnet.first) subnet_last_ip = netaddr.IPAddress(subnet.last), subnet_first_ip = netaddr.IPAddress(subnet.first + 1) # last address is broadcast in v4 subnet_last_ip = netaddr.IPAddress(subnet.last - (subnet.version == 4)),7,3
openstack%2Fpuppet-tripleo~stable%2Ftrain~I43eb5e96a2f15c4c49193c676acccce9c3f413c1,openstack/puppet-tripleo,stable/train,I43eb5e96a2f15c4c49193c676acccce9c3f413c1,"Revert ""Aodh deprecation""",MERGED,2021-07-08 02:24:21.000000000,2021-07-13 18:09:33.000000000,2021-07-13 18:09:33.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 02:24:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/708ebe5c022fe35f48cf985e9bd6e3cd76f314b6', 'message': 'Revert ""Aodh deprecation""\n\nThis reverts commit de98e1411b0d433c3176098dc7eca3cf022bef76.\n\nReason for revert:\nAodh service has never been deprecated in tripleo-heat-templates.\nThe current warning in puppet-tripleo gives a wrong notice to users.\nDeprecation should happen in a consistent manner within all TripleO\nrepos.\n\nBackport note to stable/train:\nThis revert was recreated cleanly from scratch in stable/train because\nthe commit caused conflicts is not included in stable/train. The commit\nids of previous backports are described to let us easily confirm\nthe issue is resolved in later branches.\n\nChange-Id: I43eb5e96a2f15c4c49193c676acccce9c3f413c1\n(cherry picked from commit bf8895796fe5427092ba76104c64b659dfff25d8)\n(cherry picked from commit 567ea3f035bd14f47b616a9f3369ede640ada03e)\n(cherry picked from commit 8b631042f775a643546d1d3222776f4f2812149a)\n(cherry picked from commit e1b2d78b0120f418deb57f9abd4f57bdb83b3948)\n'}, {'number': 2, 'created': '2021-07-08 02:24:59.000000000', 'files': ['manifests/profile/base/aodh/api.pp', 'manifests/profile/base/aodh/listener.pp', 'manifests/profile/base/aodh/notifier.pp', 'manifests/profile/base/aodh/evaluator.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/7b5bd29c0a64b780d67986181cab686a543543d5', 'message': 'Revert ""Aodh deprecation""\n\nThis reverts commit de98e1411b0d433c3176098dc7eca3cf022bef76.\n\nReason for revert:\nAodh service has never been deprecated in tripleo-heat-templates.\nThe current warning in puppet-tripleo gives a wrong notice to users.\nDeprecation should happen in a consistent manner within all TripleO\nrepos.\n\nBackport note to stable/train:\nThis revert was recreated cleanly from scratch in stable/train because\nthe commit caused conflicts is not included in stable/train. The commit\nids of previous backports are described to let us easily confirm\nthe issue is resolved in later branches.\n\nChange-Id: I43eb5e96a2f15c4c49193c676acccce9c3f413c1\n(cherry picked from commit bf8895796fe5427092ba76104c64b659dfff25d8)\n(cherry picked from commit 567ea3f035bd14f47b616a9f3369ede640ada03e)\n(cherry picked from commit 8b631042f775a643546d1d3222776f4f2812149a)\n(cherry picked from commit e1b2d78b0120f418deb57f9abd4f57bdb83b3948)\n'}]",0,799948,7b5bd29c0a64b780d67986181cab686a543543d5,8,2,2,9816,,,0,"Revert ""Aodh deprecation""

This reverts commit de98e1411b0d433c3176098dc7eca3cf022bef76.

Reason for revert:
Aodh service has never been deprecated in tripleo-heat-templates.
The current warning in puppet-tripleo gives a wrong notice to users.
Deprecation should happen in a consistent manner within all TripleO
repos.

Backport note to stable/train:
This revert was recreated cleanly from scratch in stable/train because
the commit caused conflicts is not included in stable/train. The commit
ids of previous backports are described to let us easily confirm
the issue is resolved in later branches.

Change-Id: I43eb5e96a2f15c4c49193c676acccce9c3f413c1
(cherry picked from commit bf8895796fe5427092ba76104c64b659dfff25d8)
(cherry picked from commit 567ea3f035bd14f47b616a9f3369ede640ada03e)
(cherry picked from commit 8b631042f775a643546d1d3222776f4f2812149a)
(cherry picked from commit e1b2d78b0120f418deb57f9abd4f57bdb83b3948)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/48/799948/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/aodh/api.pp', 'manifests/profile/base/aodh/listener.pp', 'manifests/profile/base/aodh/notifier.pp', 'manifests/profile/base/aodh/evaluator.pp']",4,708ebe5c022fe35f48cf985e9bd6e3cd76f314b6,,," warning('Service aodh is deprecated. Please take in mind, that it is going to be removed in T release.')",3,4
openstack%2Fpuppet-tripleo~stable%2Fussuri~I43eb5e96a2f15c4c49193c676acccce9c3f413c1,openstack/puppet-tripleo,stable/ussuri,I43eb5e96a2f15c4c49193c676acccce9c3f413c1,"Revert ""Aodh deprecation""",MERGED,2021-07-08 02:19:46.000000000,2021-07-13 18:09:30.000000000,2021-07-13 18:09:30.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 02:19:46.000000000', 'files': ['manifests/profile/base/aodh/api.pp', 'manifests/profile/base/aodh/listener.pp', 'manifests/profile/base/aodh/notifier.pp', 'manifests/profile/base/aodh/evaluator.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e1b2d78b0120f418deb57f9abd4f57bdb83b3948', 'message': 'Revert ""Aodh deprecation""\n\nThis reverts commit de98e1411b0d433c3176098dc7eca3cf022bef76.\n\nReason for revert:\nAodh service has never been deprecated in tripleo-heat-templates.\nThe current warning in puppet-tripleo gives a wrong notice to users.\nDeprecation should happen in a consistent manner within all TripleO\nrepos.\n\nConflicts:\n        manifests/profile/base/aodh/api.pp\n        manifests/profile/base/aodh/evaluator.pp\n        manifests/profile/base/aodh/listener.pp\n        manifests/profile/base/aodh/notifier.pp\n\nResolved conflicts caused by migration of class name format (from\nabsolute names to relative names)\n\nChange-Id: I43eb5e96a2f15c4c49193c676acccce9c3f413c1\n(cherry picked from commit bf8895796fe5427092ba76104c64b659dfff25d8)\n(cherry picked from commit 567ea3f035bd14f47b616a9f3369ede640ada03e)\n(cherry picked from commit 8b631042f775a643546d1d3222776f4f2812149a)\n'}]",0,799886,e1b2d78b0120f418deb57f9abd4f57bdb83b3948,9,2,1,9816,,,0,"Revert ""Aodh deprecation""

This reverts commit de98e1411b0d433c3176098dc7eca3cf022bef76.

Reason for revert:
Aodh service has never been deprecated in tripleo-heat-templates.
The current warning in puppet-tripleo gives a wrong notice to users.
Deprecation should happen in a consistent manner within all TripleO
repos.

Conflicts:
        manifests/profile/base/aodh/api.pp
        manifests/profile/base/aodh/evaluator.pp
        manifests/profile/base/aodh/listener.pp
        manifests/profile/base/aodh/notifier.pp

Resolved conflicts caused by migration of class name format (from
absolute names to relative names)

Change-Id: I43eb5e96a2f15c4c49193c676acccce9c3f413c1
(cherry picked from commit bf8895796fe5427092ba76104c64b659dfff25d8)
(cherry picked from commit 567ea3f035bd14f47b616a9f3369ede640ada03e)
(cherry picked from commit 8b631042f775a643546d1d3222776f4f2812149a)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/86/799886/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/aodh/api.pp', 'manifests/profile/base/aodh/listener.pp', 'manifests/profile/base/aodh/notifier.pp', 'manifests/profile/base/aodh/evaluator.pp']",4,e1b2d78b0120f418deb57f9abd4f57bdb83b3948,,," warning('Service aodh is deprecated. Please take in mind, that it is going to be removed in T release.')",0,4
openstack%2Fpuppet-tripleo~stable%2Fvictoria~I43eb5e96a2f15c4c49193c676acccce9c3f413c1,openstack/puppet-tripleo,stable/victoria,I43eb5e96a2f15c4c49193c676acccce9c3f413c1,"Revert ""Aodh deprecation""",MERGED,2021-07-08 02:19:22.000000000,2021-07-13 18:09:26.000000000,2021-07-13 18:09:26.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 02:19:22.000000000', 'files': ['manifests/profile/base/aodh/api.pp', 'manifests/profile/base/aodh/listener.pp', 'manifests/profile/base/aodh/notifier.pp', 'manifests/profile/base/aodh/evaluator.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8b631042f775a643546d1d3222776f4f2812149a', 'message': 'Revert ""Aodh deprecation""\n\nThis reverts commit de98e1411b0d433c3176098dc7eca3cf022bef76.\n\nReason for revert:\nAodh service has never been deprecated in tripleo-heat-templates.\nThe current warning in puppet-tripleo gives a wrong notice to users.\nDeprecation should happen in a consistent manner within all TripleO\nrepos.\n\nConflicts:\n        manifests/profile/base/aodh/api.pp\n        manifests/profile/base/aodh/evaluator.pp\n        manifests/profile/base/aodh/listener.pp\n        manifests/profile/base/aodh/notifier.pp\n\nResolved conflicts caused by migration of class name format (from\nabsolute names to relative names)\n\nChange-Id: I43eb5e96a2f15c4c49193c676acccce9c3f413c1\n(cherry picked from commit bf8895796fe5427092ba76104c64b659dfff25d8)\n(cherry picked from commit 567ea3f035bd14f47b616a9f3369ede640ada03e)\n'}]",0,799885,8b631042f775a643546d1d3222776f4f2812149a,13,2,1,9816,,,0,"Revert ""Aodh deprecation""

This reverts commit de98e1411b0d433c3176098dc7eca3cf022bef76.

Reason for revert:
Aodh service has never been deprecated in tripleo-heat-templates.
The current warning in puppet-tripleo gives a wrong notice to users.
Deprecation should happen in a consistent manner within all TripleO
repos.

Conflicts:
        manifests/profile/base/aodh/api.pp
        manifests/profile/base/aodh/evaluator.pp
        manifests/profile/base/aodh/listener.pp
        manifests/profile/base/aodh/notifier.pp

Resolved conflicts caused by migration of class name format (from
absolute names to relative names)

Change-Id: I43eb5e96a2f15c4c49193c676acccce9c3f413c1
(cherry picked from commit bf8895796fe5427092ba76104c64b659dfff25d8)
(cherry picked from commit 567ea3f035bd14f47b616a9f3369ede640ada03e)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/85/799885/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/aodh/api.pp', 'manifests/profile/base/aodh/listener.pp', 'manifests/profile/base/aodh/notifier.pp', 'manifests/profile/base/aodh/evaluator.pp']",4,8b631042f775a643546d1d3222776f4f2812149a,,," warning('Service aodh is deprecated. Please take in mind, that it is going to be removed in T release.')",0,4
openstack%2Fironic~stable%2Fwallaby~Ibd591ab6e17e26db0b2b4dde103fe3458e1536f5,openstack/ironic,stable/wallaby,Ibd591ab6e17e26db0b2b4dde103fe3458e1536f5,Add missing BIOSSettings version mapping for older releases,MERGED,2021-07-13 12:10:05.000000000,2021-07-13 17:40:54.000000000,2021-07-13 15:52:28.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-07-13 12:10:05.000000000', 'files': ['releasenotes/notes/bios-version-dfd5c95805c295c5.yaml', 'ironic/common/release_mappings.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f43e80411207e9736f88e0deb452aa910015bffe', 'message': 'Add missing BIOSSettings version mapping for older releases\n\nOtherwise the upgrade fails because of old versions.\n\nChange-Id: Ibd591ab6e17e26db0b2b4dde103fe3458e1536f5\n(cherry picked from commit 7e5e65550d834c4c2572908ca135c8f596f9c582)\n'}]",0,800626,f43e80411207e9736f88e0deb452aa910015bffe,10,2,1,10239,,,0,"Add missing BIOSSettings version mapping for older releases

Otherwise the upgrade fails because of old versions.

Change-Id: Ibd591ab6e17e26db0b2b4dde103fe3458e1536f5
(cherry picked from commit 7e5e65550d834c4c2572908ca135c8f596f9c582)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/26/800626/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bios-version-dfd5c95805c295c5.yaml', 'ironic/common/release_mappings.py']",2,f43e80411207e9736f88e0deb452aa910015bffe,," 'BIOSSetting': ['1.0'], 'BIOSSetting': ['1.0'], 'BIOSSetting': ['1.0'], 'BIOSSetting': ['1.0'], 'BIOSSetting': ['1.0'], 'BIOSSetting': ['1.0'], 'BIOSSetting': ['1.0'], 'BIOSSetting': ['1.0'], 'BIOSSetting': ['1.0'], 'BIOSSetting': ['1.0'], 'BIOSSetting': ['1.0'], 'BIOSSetting': ['1.0'], 'BIOSSetting': ['1.0'],",,18,0
openstack%2Fvalidations-common~master~Ib0e98989d6777aac22c4414b68a7b3e6061aece1,openstack/validations-common,master,Ib0e98989d6777aac22c4414b68a7b3e6061aece1,Callback logging unification,MERGED,2021-06-23 10:12:28.000000000,2021-07-13 17:20:15.000000000,2021-07-13 17:18:53.000000000,"[{'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-23 10:12:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/c68bdb9894990a791b9b30cd25f14580a7f33e5f', 'message': ""Getting home by logpath expansion\n\nThe path to user home directory is obtained by\nexpansion of the '~' char. Preventing issues when caused\nby unset '$HOME'\n\nCounterpart to the I13ba1b2eb0b11c2aded35b44c7fbae643210a269\nby fressi.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ib0e98989d6777aac22c4414b68a7b3e6061aece1\n""}, {'number': 2, 'created': '2021-06-23 10:19:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/8057855fadb573f8e8791643f0f7a7e9f5822a0e', 'message': ""Getting home by path expansion\n\nThe path to user home directory is obtained by\nexpansion of the '~' char. Preventing issues when caused\nby unset '$HOME'.\n\nCounterpart to the I13ba1b2eb0b11c2aded35b44c7fbae643210a269\nby fressi.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ib0e98989d6777aac22c4414b68a7b3e6061aece1\n""}, {'number': 3, 'created': '2021-06-23 10:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/7b4bcdf839d3611fe3f4cdf1fe955567bf4e2584', 'message': ""Getting home by path expansion\n\nThe path to user home directory is obtained by\nexpansion of the '~' char. Preventing issues when caused\nby unset '$HOME'.\n\nCounterpart to the I13ba1b2eb0b11c2aded35b44c7fbae643210a269\nby fressi.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ib0e98989d6777aac22c4414b68a7b3e6061aece1\n""}, {'number': 4, 'created': '2021-06-30 09:13:58.000000000', 'files': ['validations_common/callback_plugins/validation_json.py'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/a43ffef7e79d2cecce032e8b4275086f048b1bb5', 'message': ""Callback logging unification\n\nCallback logs the validations results into '$HOME/validations'\nif the 'VALIDATIONS_LOG_DIR' environment variable is not set.\nThis brings VC in line with VL.\n\nThe home folder location is now obtained trought the expansion on of the '~' char.\nPreventing issues when caused by an unset '$HOME'.\nUsing the insight from the I13ba1b2eb0b11c2aded35b44c7fbae643210a269\nby fressi.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ib0e98989d6777aac22c4414b68a7b3e6061aece1\n""}]",1,797618,a43ffef7e79d2cecce032e8b4275086f048b1bb5,17,5,4,32926,,,0,"Callback logging unification

Callback logs the validations results into '$HOME/validations'
if the 'VALIDATIONS_LOG_DIR' environment variable is not set.
This brings VC in line with VL.

The home folder location is now obtained trought the expansion on of the '~' char.
Preventing issues when caused by an unset '$HOME'.
Using the insight from the I13ba1b2eb0b11c2aded35b44c7fbae643210a269
by fressi.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ib0e98989d6777aac22c4414b68a7b3e6061aece1
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/18/797618/4 && git format-patch -1 --stdout FETCH_HEAD,['validations_common/callback_plugins/validation_json.py'],1,c68bdb9894990a791b9b30cd25f14580a7f33e5f,jsoncallback/logpath, os.path.expanduser('~/validations')), os.environ.get('HOME')),1,1
openstack%2Ftripleo-common~stable%2Fussuri~I7384243e9e3d804c05fdd1689b6ae3c9306bbb31,openstack/tripleo-common,stable/ussuri,I7384243e9e3d804c05fdd1689b6ae3c9306bbb31,directly use files instread of tcib_gather_files,MERGED,2021-07-02 13:12:53.000000000,2021-07-13 17:20:10.000000000,2021-07-13 17:18:27.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-02 13:12:53.000000000', 'files': ['container-images/tcib/base/os/horizon/horizon.yaml', 'container-images/tcib/base/os/cinder-base/cinder-volume/cinder-volume.yaml', 'container-images/tcib/base/mariadb/mariadb.yaml', 'container-images/tcib/base/os/keystone/keystone.yaml', 'container-images/tcib/base/rabbitmq/rabbitmq.yaml', 'container-images/tcib/base/ovn-base/ovn-sb-db-server/ovn-sb-db-server.yaml', 'container-images/tcib/base/tripleoclient/tripleoclient.yaml', 'container-images/tcib/base/os/barbican-base/barbican-base.yaml', 'container-images/tcib/base/os/iscsid/iscsid.yaml', 'container-images/tcib/base/os/swift-base/swift-base.yaml', 'container-images/tcib/base/os/glance-api/glance-api.yaml', 'container-images/tcib/base/base.yaml', 'container-images/tcib/base/os/neutron-base/neutron-base.yaml', 'container-images/tcib/base/ovn-base/ovn-nb-db-server/ovn-nb-db-server.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/13bf51551342c9e628a2c306af747a31011ce27d', 'message': 'directly use files instread of tcib_gather_files\n\nconvert tcib_gather_files for kolla related files to install\nthe openstack-tripleo-common-containers rpm and use those directly\ninstead of copying into the container image.\n\nChange-Id: I7384243e9e3d804c05fdd1689b6ae3c9306bbb31\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 55b4995110f9da1275a461f16af8b918f2e14059)\n'}]",0,799204,13bf51551342c9e628a2c306af747a31011ce27d,21,3,1,16282,,,0,"directly use files instread of tcib_gather_files

convert tcib_gather_files for kolla related files to install
the openstack-tripleo-common-containers rpm and use those directly
instead of copying into the container image.

Change-Id: I7384243e9e3d804c05fdd1689b6ae3c9306bbb31
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit 55b4995110f9da1275a461f16af8b918f2e14059)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/04/799204/1 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/tcib/base/os/horizon/horizon.yaml', 'container-images/tcib/base/os/cinder-base/cinder-volume/cinder-volume.yaml', 'container-images/tcib/base/mariadb/mariadb.yaml', 'container-images/tcib/base/os/keystone/keystone.yaml', 'container-images/tcib/base/rabbitmq/rabbitmq.yaml', 'container-images/tcib/base/ovn-base/ovn-sb-db-server/ovn-sb-db-server.yaml', 'container-images/tcib/base/tripleoclient/tripleoclient.yaml', 'container-images/tcib/base/os/barbican-base/barbican-base.yaml', 'container-images/tcib/base/os/iscsid/iscsid.yaml', 'container-images/tcib/base/os/swift-base/swift-base.yaml', 'container-images/tcib/base/os/glance-api/glance-api.yaml', 'container-images/tcib/base/base.yaml', 'container-images/tcib/base/os/neutron-base/neutron-base.yaml', 'container-images/tcib/base/ovn-base/ovn-nb-db-server/ovn-nb-db-server.yaml']",14,13bf51551342c9e628a2c306af747a31011ce27d,remove_tcib_gather_files,- run: cp /usr/share/openstack-tripleo-common-containers/container-images/kolla/ovn/ovn-nb-db-server/start_nb_db_server.sh /usr/local/bin/start-nb-db-server,"- copy: /usr/share/tripleo-common/container-images/kolla/ovn/ovn-nb-db-server/start_nb_db_server.sh /usr/local/bin/start-nb-db-servertcib_gather_files: '{{ lookup(''fileglob'', ''/usr/share/tripleo-common/container-images/kolla/ovn/ovn-nb-db-server/*'', wantlist=True) }}'",24,36
openstack%2Fpython-tripleoclient~stable%2Fvictoria~Idd905e32dc70728abdb4cea1a14f43c7f11ff311,openstack/python-tripleoclient,stable/victoria,Idd905e32dc70728abdb4cea1a14f43c7f11ff311,Add --db-only option in undercloud_backup.,MERGED,2021-07-05 11:32:41.000000000,2021-07-13 17:20:07.000000000,2021-07-13 17:18:23.000000000,"[{'_account_id': 6816}, {'_account_id': 8449}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}]","[{'number': 1, 'created': '2021-07-05 11:32:41.000000000', 'files': ['tripleoclient/v1/undercloud_backup.py', 'tripleoclient/tests/v1/undercloud/test_backup.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/66e61a3408effa2429255e1e84d6762fa4edb959', 'message': ""Add --db-only option in undercloud_backup.\n\nThis patch adds a new option --db-only which will perform a DB backup\nof the Undercloud node. This option will have precedence to --init, --setup-nfs\nor --setup-rear, but it won't complain. If the --db-only option is being\npassed then only the play in charge of performing the Undercloud's DB backup\nwill be triggered.\n\nChange-Id: Idd905e32dc70728abdb4cea1a14f43c7f11ff311\nResolves: rhbz#1977392\nDepends-On: I62cadfd95c514edf0b982fa652a53feadb24f2b7\n(cherry picked from commit a792bbd8747455f468ef94d5162847c17d243735)\n(cherry picked from commit 579b5c5e1e76cd763080dc43f56ea71cbad0b6b5)\n""}]",0,799477,66e61a3408effa2429255e1e84d6762fa4edb959,18,7,1,26343,,,0,"Add --db-only option in undercloud_backup.

This patch adds a new option --db-only which will perform a DB backup
of the Undercloud node. This option will have precedence to --init, --setup-nfs
or --setup-rear, but it won't complain. If the --db-only option is being
passed then only the play in charge of performing the Undercloud's DB backup
will be triggered.

Change-Id: Idd905e32dc70728abdb4cea1a14f43c7f11ff311
Resolves: rhbz#1977392
Depends-On: I62cadfd95c514edf0b982fa652a53feadb24f2b7
(cherry picked from commit a792bbd8747455f468ef94d5162847c17d243735)
(cherry picked from commit 579b5c5e1e76cd763080dc43f56ea71cbad0b6b5)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/77/799477/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_backup.py', 'tripleoclient/tests/v1/undercloud/test_backup.py']",2,66e61a3408effa2429255e1e84d6762fa4edb959,," def test_undercloud_backup_db_only(self, mock_playbook, mock_access, mock_isfile): arglist = [ '--db-only' ] verifylist = [] mock_isfile.return_value = True mock_access.return_value = True parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) mock_playbook.assert_called_once_with( workdir=mock.ANY, playbook='cli-undercloud-db-backup.yaml', inventory=parsed_args.inventory, tags=None, skip_tags=None, playbook_dir=constants.ANSIBLE_TRIPLEO_PLAYBOOKS, verbosity=3, extra_vars=None ) @mock.patch('os.path.isfile') @mock.patch('os.access') @mock.patch('tripleoclient.utils.run_ansible_playbook', autospec=True) @mock.patch('os.path.isfile') @mock.patch('os.access') @mock.patch('tripleoclient.utils.run_ansible_playbook', autospec=True) def test_undercloud_backup_db_only_with_setup_options(self, mock_playbook, mock_access, mock_isfile): arglist = [ '--db-only', '--setup-nfs', '--setup-rear' ] verifylist = [] mock_isfile.return_value = True mock_access.return_value = True parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) mock_playbook.assert_called_once_with( workdir=mock.ANY, playbook='cli-undercloud-db-backup.yaml', inventory=parsed_args.inventory, tags=None, skip_tags=None, playbook_dir=constants.ANSIBLE_TRIPLEO_PLAYBOOKS, verbosity=3, extra_vars=None ) ",,101,21
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I0e1f7eed0ffe751fa54682103051ad29c08c1517,openstack/tripleo-heat-templates,stable/ussuri,I0e1f7eed0ffe751fa54682103051ad29c08c1517,Make default of NeutronDefaultAvailabilityZones empty array,MERGED,2021-07-09 12:55:29.000000000,2021-07-13 17:18:32.000000000,2021-07-13 17:18:32.000000000,"[{'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-07-09 12:55:29.000000000', 'files': ['deployment/neutron/neutron-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ba393720beb89ddce2b9b17ff75ac71aa64ac93e', 'message': ""Make default of NeutronDefaultAvailabilityZones empty array\n\nNeutronDefaultAvailabilityZones is of type comma_delimited_list\ntherefore the default need to be [] instead of ''. Right now\nthe condition checks for empty string which is not the case\nfor comma_delimited_list and the hieradata covered by the\naz_unset condition get always set.\n\nCloses-Bug: #1934970\n\nChange-Id: I0e1f7eed0ffe751fa54682103051ad29c08c1517\n(cherry picked from commit f276e7a4ae39c484226c2ebe6053e7a53a6fcaa1)\n(cherry picked from commit be2c8e62cecff253eb86a213c778943ee5b22346)\n""}]",0,800223,ba393720beb89ddce2b9b17ff75ac71aa64ac93e,16,7,1,17216,,,0,"Make default of NeutronDefaultAvailabilityZones empty array

NeutronDefaultAvailabilityZones is of type comma_delimited_list
therefore the default need to be [] instead of ''. Right now
the condition checks for empty string which is not the case
for comma_delimited_list and the hieradata covered by the
az_unset condition get always set.

Closes-Bug: #1934970

Change-Id: I0e1f7eed0ffe751fa54682103051ad29c08c1517
(cherry picked from commit f276e7a4ae39c484226c2ebe6053e7a53a6fcaa1)
(cherry picked from commit be2c8e62cecff253eb86a213c778943ee5b22346)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/23/800223/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-api-container-puppet.yaml'],1,ba393720beb89ddce2b9b17ff75ac71aa64ac93e,1934970-u," default: [] az_unset: {equals: [{get_param: NeutronDefaultAvailabilityZones}, []]}"," default: '' az_unset: {equals: [{get_param: NeutronDefaultAvailabilityZones}, '']}",2,2
openstack%2Fkeystone~master~I35e9ac38fc25a3c46a136f78c4794a5dd03fdfab,openstack/keystone,master,I35e9ac38fc25a3c46a136f78c4794a5dd03fdfab,Move secure RBAC setting to devstack,NEW,2021-03-05 15:59:50.000000000,2021-07-13 17:14:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-05 15:59:50.000000000', 'files': ['devstack/lib/scope.sh', 'devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/keystone/commit/29d7ecfc9bc6cdda88c5091eeae460e15bf07110', 'message': 'Move secure RBAC setting to devstack\n\nenforce_scope setting has been moved to devstack side\nfor keystone\n- https://review.opendev.org/c/openstack/devstack/+/778975/1\n\nWhich will give benefits of managing it in single place and\ndoes not need to restart api service again.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/778975/\nChange-Id: I35e9ac38fc25a3c46a136f78c4794a5dd03fdfab\n'}]",0,778979,29d7ecfc9bc6cdda88c5091eeae460e15bf07110,6,1,1,8556,,,0,"Move secure RBAC setting to devstack

enforce_scope setting has been moved to devstack side
for keystone
- https://review.opendev.org/c/openstack/devstack/+/778975/1

Which will give benefits of managing it in single place and
does not need to restart api service again.

Depends-On: https://review.opendev.org/c/openstack/devstack/+/778975/
Change-Id: I35e9ac38fc25a3c46a136f78c4794a5dd03fdfab
",git fetch https://review.opendev.org/openstack/keystone refs/changes/79/778979/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/lib/scope.sh', 'devstack/plugin.sh']",2,29d7ecfc9bc6cdda88c5091eeae460e15bf07110,secure-rbac,,"source $KEYSTONE_PLUGIN/lib/scope.sh if [[ ""$(trueorfalse False KEYSTONE_ENFORCE_SCOPE)"" == ""True"" ]] ; then # devstack and tempest assume enforce_scope is false, so need to wait # until the final phase to turn it on configure_enforce_scope configure_protection_tests fi",0,33
openstack%2Ftripleo-ansible~master~Id84d7b0653a1ae545b2a4af3f63a28ba19bafaf9,openstack/tripleo-ansible,master,Id84d7b0653a1ae545b2a4af3f63a28ba19bafaf9,Replace LEAPP_DEVEL_SKIP_RHSM with LEAPP_NO_RHSM,MERGED,2021-07-12 15:40:18.000000000,2021-07-13 16:23:09.000000000,2021-07-13 16:23:09.000000000,"[{'_account_id': 6816}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-07-12 15:40:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/45e6f2bc52edbb06ece8f8b6ac71113b18e22842', 'message': 'Replace LEAPP_DEVEL_SKIP_RHSM with LEAPP_NO_RHSM\n\nLEAPP_DEVEL_SKIP_RHSM will be removed next LEAPP release. This patch\nreplaces it with LEAPP_NO_RHSM\n\nChange-Id: Id84d7b0653a1ae545b2a4af3f63a28ba19bafaf9\n'}, {'number': 2, 'created': '2021-07-13 09:46:54.000000000', 'files': ['tripleo_ansible/roles/tripleo_derived_parameters/molecule/mock_nfv_params', 'tripleo_ansible/roles/tripleo_packages/tasks/upgrade.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2a3467cbf06e7c4ee07b701bd3c31f902583ad7f', 'message': 'Replace LEAPP_DEVEL_SKIP_RHSM with LEAPP_NO_RHSM\n\nLEAPP_DEVEL_SKIP_RHSM will be removed next LEAPP release. This patch\nreplaces it with LEAPP_NO_RHSM\n\nChange-Id: Id84d7b0653a1ae545b2a4af3f63a28ba19bafaf9\n'}]",2,800505,2a3467cbf06e7c4ee07b701bd3c31f902583ad7f,16,5,2,11090,,,0,"Replace LEAPP_DEVEL_SKIP_RHSM with LEAPP_NO_RHSM

LEAPP_DEVEL_SKIP_RHSM will be removed next LEAPP release. This patch
replaces it with LEAPP_NO_RHSM

Change-Id: Id84d7b0653a1ae545b2a4af3f63a28ba19bafaf9
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/05/800505/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_derived_parameters/molecule/mock_nfv_params', 'tripleo_ansible/roles/tripleo_packages/tasks/upgrade.yml']",2,45e6f2bc52edbb06ece8f8b6ac71113b18e22842,remove_LEAPP_DEVEL_SKIP_RHSM, {% if upgrade_leapp_devel_skip_rhsm|default(false) %}LEAPP_NO_RHSM=1{% endif %}, {% if upgrade_leapp_devel_skip_rhsm|default(false) %}LEAPP_DEVEL_SKIP_RHSM=1{% endif %},2,2
openstack%2Ftripleo-ansible~stable%2Fussuri~I1e88907db0bb26d52c92cb996eb56767e06b3874,openstack/tripleo-ansible,stable/ussuri,I1e88907db0bb26d52c92cb996eb56767e06b3874,tripleo-transfer: ability to customize files transfer options,MERGED,2021-07-09 11:27:57.000000000,2021-07-13 16:23:06.000000000,2021-07-13 16:23:06.000000000,"[{'_account_id': 11090}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-09 11:27:57.000000000', 'files': ['tripleo_ansible/roles/tripleo_transfer/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_transfer/defaults/main.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/cleanup.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_transfer/tasks/main.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/converge.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d5996a3e1752d42221971ab80742ece5b864e3f0', 'message': ""tripleo-transfer: ability to customize files transfer options\n\nThere are use cases where it's useful to be able to explicitly\nexclude files from a transfer request. For example when syncing galera\ndatabase, we don't want to copy coredumps, local galera state file...\n\nAdd the ability to explicitly include or exclude files by specifying\na list of files or wildcard-based patterns.\n\nAlso make the default transfer options configurable, to best suit\ntransfer use cases.\n\nRelated-Bug: #1925260\n\nChange-Id: I1e88907db0bb26d52c92cb996eb56767e06b3874\n(cherry picked from commit 6f75fd172326b010e680fc0bdda8d880e256a58e)\n(cherry picked from commit 23531b28c42f9e68bb82253dc52432f20fde8e1e)\n(cherry picked from commit db0bf528a4a5a1e9ece0f0186cf14fba4d60d5b4)\n""}]",0,800209,d5996a3e1752d42221971ab80742ece5b864e3f0,8,4,1,20778,,,0,"tripleo-transfer: ability to customize files transfer options

There are use cases where it's useful to be able to explicitly
exclude files from a transfer request. For example when syncing galera
database, we don't want to copy coredumps, local galera state file...

Add the ability to explicitly include or exclude files by specifying
a list of files or wildcard-based patterns.

Also make the default transfer options configurable, to best suit
transfer use cases.

Related-Bug: #1925260

Change-Id: I1e88907db0bb26d52c92cb996eb56767e06b3874
(cherry picked from commit 6f75fd172326b010e680fc0bdda8d880e256a58e)
(cherry picked from commit 23531b28c42f9e68bb82253dc52432f20fde8e1e)
(cherry picked from commit db0bf528a4a5a1e9ece0f0186cf14fba4d60d5b4)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/09/800209/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_transfer/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_transfer/defaults/main.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/cleanup.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_transfer/tasks/main.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/converge.yml']",6,d5996a3e1752d42221971ab80742ece5b864e3f0,transfer-patters-stable/ussuri," - ""{{ test2_src_dir }}"" - ""{{ test2_dst_dir }}"" - name: Create empty src test files file: state: touch path: ""{{ test2_src_dir }}/{{ item }}"" loop: ""{{ test2_src_files + test2_exclude_src_files }}"" - include_role: name: ""tripleo_transfer"" vars: tripleo_transfer_src_host: controller2 tripleo_transfer_src_dir: ""{{ test2_src_dir }}"" tripleo_transfer_dest_host: controller1 tripleo_transfer_dest_dir: ""{{ test2_dst_dir }}"" tripleo_transfer_exclude: ""{{ test2_exclude_pattern }}"" tripleo_transfer_include: ""{{ test2_include_pattern }}""",,77,6
openstack%2Fopenstack-helm~master~Ifc8da7fc36206f7ebd2e6198dbf192a5a40261af,openstack/openstack-helm,master,Ifc8da7fc36206f7ebd2e6198dbf192a5a40261af,Fix neutron-openvswitch-agent-init script,MERGED,2020-10-13 09:30:03.000000000,2021-07-13 16:22:21.000000000,2021-07-13 16:20:32.000000000,"[{'_account_id': 7769}, {'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 14525}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 24780}, {'_account_id': 28735}, {'_account_id': 29131}, {'_account_id': 29144}, {'_account_id': 29397}, {'_account_id': 30777}, {'_account_id': 32204}, {'_account_id': 33519}]","[{'number': 1, 'created': '2020-10-13 09:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7c98f51a253197e1547410924978d04825e23c47', 'message': 'Fix neutron-openvswitch-agent-init script\n\nUsing local variables is not allowed in bash.\nDuring adding route it tries to delete cached route and\nfails with ""Not found"" because it can delete only\nuser created routes, so we need to omit Chached routes\nin ovs/route/show listing.\n\nChange-Id: Ifc8da7fc36206f7ebd2e6198dbf192a5a40261af\n'}, {'number': 2, 'created': '2020-10-13 11:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0d025bd8b959a3f2b1fdbe0f24024b937554acfe', 'message': 'Fix neutron-openvswitch-agent-init script\n\nUsing local variables is not allowed in bash.\nDuring adding route it tries to delete cached route and\nfails with ""Not found"" because it can delete only\nuser created routes, so we need to omit Chached routes\nin ovs/route/show listing.\n\nChange-Id: Ifc8da7fc36206f7ebd2e6198dbf192a5a40261af\n'}, {'number': 3, 'created': '2020-10-22 14:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cc34b9ac47bb407e8e1c3f0981bd5db4f59ba9fa', 'message': 'Fix neutron-openvswitch-agent-init script\n\nUsing local variables is not allowed in bash.\nDuring adding route it tries to delete cached route and\nfails with ""Not found"" because it can delete only\nuser created routes, so we need to omit Cached routes\nin ovs/route/show listing.\n\nChange-Id: Ifc8da7fc36206f7ebd2e6198dbf192a5a40261af\n'}, {'number': 4, 'created': '2020-10-22 18:30:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4c631cef131e93403515b6ecde473a82edfc99e4', 'message': 'Fix neutron-openvswitch-agent-init script\n\nUsing local variables is not allowed in bash.\nDuring adding route it tries to delete cached route and\nfails with ""Not found"" because it can delete only\nuser created routes, so we need to omit Cached routes\nin ovs/route/show listing.\n\nChange-Id: Ifc8da7fc36206f7ebd2e6198dbf192a5a40261af\n'}, {'number': 5, 'created': '2020-10-22 20:03:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5da929445fd2ff300e05bdcb777853a2f1784542', 'message': 'Fix neutron-openvswitch-agent-init script\n\nUsing local variables outside of function is not allowed\nin bash. During adding route it tries to delete cached\nroute and fails with ""Not found"" because it can delete only\nuser created routes, so we need to omit Cached routes\nin ovs/route/show listing.\n\nChange-Id: Ifc8da7fc36206f7ebd2e6198dbf192a5a40261af\n'}, {'number': 6, 'created': '2020-10-22 20:05:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a7385011c7942695e1506ca925c7f27c311780ec', 'message': 'Fix neutron-openvswitch-agent-init script\n\nUsing local variables outside of function is not allowed\nin bash. During adding route it tries to delete cached\nroute and fails with ""Not found"" because it can delete only\nuser created routes, so we need to omit Cached routes\nin ovs/route/show listing.\n\nChange-Id: Ifc8da7fc36206f7ebd2e6198dbf192a5a40261af\n'}, {'number': 7, 'created': '2020-10-26 17:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a2f1abd39115d7e09bd08c21b47dcc2ade7825d6', 'message': 'Fix neutron-openvswitch-agent-init script\n\nUsing local variables outside of function is not allowed\nin bash. During adding route it tries to delete cached\nroute and fails with ""Not found"" because it can delete only\nuser created routes, so we need to omit Cached routes\nin ovs/route/show listing.\n\nChange-Id: Ifc8da7fc36206f7ebd2e6198dbf192a5a40261af\n'}, {'number': 8, 'created': '2020-10-26 17:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ddc65c9501fd0c5c522f4ba6ba15c4a6ff718cb3', 'message': 'Fix neutron-openvswitch-agent-init script\n\nUsing local variables outside of function is not allowed\nin bash. During adding route it tries to delete cached\nroute and fails with ""Not found"" because it can delete only\nuser created routes, so we need to omit Cached routes\nin ovs/route/show listing.\n\nChange-Id: Ifc8da7fc36206f7ebd2e6198dbf192a5a40261af\n'}, {'number': 9, 'created': '2020-10-27 13:55:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/715ffad903383317ab665f41c5116677436a6d92', 'message': 'Fix neutron-openvswitch-agent-init script\n\nUsing local variables outside of function is not allowed\nin bash. During adding route it tries to delete cached\nroute and fails with ""Not found"" because it can delete only\nuser created routes, so we need to omit Cached routes\nin ovs/route/show listing.\n\nChange-Id: Ifc8da7fc36206f7ebd2e6198dbf192a5a40261af\n'}, {'number': 10, 'created': '2020-10-27 14:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2c66c2d69047cbf1d0bf9a7b32631eae35c953be', 'message': 'Fix neutron-openvswitch-agent-init script\n\nUsing local variables outside of function is not allowed\nin bash. During adding route it tries to delete cached\nroute and fails with ""Not found"" because it can delete only\nuser created routes, so we need to omit Cached routes\nin ovs/route/show listing.\n\nChange-Id: Ifc8da7fc36206f7ebd2e6198dbf192a5a40261af\n'}, {'number': 11, 'created': '2020-11-08 10:06:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/70334877412b4a88849b8ae13505f5bb86f9d6b8', 'message': 'Fix neutron-openvswitch-agent-init script\n\nUsing local variables outside of function is not allowed\nin bash. During adding route it tries to delete cached\nroute and fails with ""Not found"" because it can delete only\nuser created routes, so we need to omit Cached routes\nin ovs/route/show listing.\n\nChange-Id: Ifc8da7fc36206f7ebd2e6198dbf192a5a40261af\n'}, {'number': 12, 'created': '2020-12-02 13:29:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b4102d9ec56adec4f58aeb956c0259738af0c98d', 'message': 'Fix neutron-openvswitch-agent-init script\n\nUsing local variables outside of function is not allowed\nin bash. During adding route it tries to delete cached\nroute and fails with ""Not found"" because it can delete only\nuser created routes, so we need to omit Cached routes\nin ovs/route/show listing.\n\nChange-Id: Ifc8da7fc36206f7ebd2e6198dbf192a5a40261af\n'}, {'number': 13, 'created': '2020-12-02 13:32:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/099a18a6936d51050969c81532acef43bcb4c9ae', 'message': 'Fix neutron-openvswitch-agent-init script\n\nUsing local variables outside of function is not allowed\nin bash. During adding route it tries to delete cached\nroute and fails with ""Not found"" because it can delete only\nuser created routes, so we need to omit Cached routes\nin ovs/route/show listing.\n\nChange-Id: Ifc8da7fc36206f7ebd2e6198dbf192a5a40261af\n'}, {'number': 14, 'created': '2021-07-13 09:30:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a76cbe1a15ddf5b3525468d531e259392a57c7f9', 'message': 'Fix neutron-openvswitch-agent-init script\n\nUsing local variables outside of function is not allowed\nin bash. During adding route it tries to delete cached\nroute and fails with ""Not found"" because it can delete only\nuser created routes, so we need to omit Cached routes\nin ovs/route/show listing.\n\nChange-Id: Ifc8da7fc36206f7ebd2e6198dbf192a5a40261af\n'}, {'number': 15, 'created': '2021-07-13 11:50:13.000000000', 'files': ['neutron/Chart.yaml', 'releasenotes/notes/neutron.yaml', 'neutron/templates/bin/_neutron-openvswitch-agent-init.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/27e12b88ad41ed0f092cbedd58664232eb34fe7c', 'message': 'Fix neutron-openvswitch-agent-init script\n\nUsing local variables outside of function is not allowed\nin bash. During adding route it tries to delete cached\nroute and fails with ""Not found"" because it can delete only\nuser created routes, so we need to omit Cached routes\nin ovs/route/show listing.\n\nChange-Id: Ifc8da7fc36206f7ebd2e6198dbf192a5a40261af\n'}]",7,757795,27e12b88ad41ed0f092cbedd58664232eb34fe7c,61,20,15,28735,,,0,"Fix neutron-openvswitch-agent-init script

Using local variables outside of function is not allowed
in bash. During adding route it tries to delete cached
route and fails with ""Not found"" because it can delete only
user created routes, so we need to omit Cached routes
in ovs/route/show listing.

Change-Id: Ifc8da7fc36206f7ebd2e6198dbf192a5a40261af
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/95/757795/5 && git format-patch -1 --stdout FETCH_HEAD,['neutron/templates/bin/_neutron-openvswitch-agent-init.sh.tpl'],1,7c98f51a253197e1547410924978d04825e23c47,757795," bridge_name=$(get_dpdk_config_value ${br} '.name') tunnel_underlay_vlan=$(get_dpdk_config_value ${br} '.tunnel_underlay_vlan') if [[ -n $(ovs-appctl -t ${OVS_CTL} ovs/route/show | grep ""${LOCAL_IP}"") | grep -v Cached ]]; then"," local bridge_name=$(get_dpdk_config_value ${br} '.name') local tunnel_underlay_vlan=$(get_dpdk_config_value ${br} '.tunnel_underlay_vlan') if [[ -n $(ovs-appctl -t ${OVS_CTL} ovs/route/show | grep ""${LOCAL_IP}"") ]]; then",3,3
openstack%2Ftripleo-quickstart~master~Ie442e624829734bea31fdc27be4b3374f52b0f08,openstack/tripleo-quickstart,master,Ie442e624829734bea31fdc27be4b3374f52b0f08,[Master and Wallaby] Remove usage of the latest puppet-mistral/zaqar,MERGED,2021-07-11 03:48:49.000000000,2021-07-13 15:30:19.000000000,2021-07-13 15:28:58.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-07-11 03:48:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ac214f03389f900ac2815e3d33dd490bca8d86f4', 'message': ""Remove usage of the latest puppet-mistral and puppet-zaqar\n\nMistral and Zaqar are no longer enabled in undercloud, and we have\nalready removed tripleo jobs from these repos.\n\nZaqar: b5a259c1e151f7aff7da53e73c4fd08383378fa8\nMistral: 63421e2ae688b3b0d9a7b5d15029c203ba806005\n\nBecause we require tripleo jobs in puppet repos side to use the latest\nversion, let's stop using the latest puppet-mistral and puppet-zaqar.\n\nChange-Id: Ie442e624829734bea31fdc27be4b3374f52b0f08\n""}, {'number': 2, 'created': '2021-07-11 04:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/335eaaf9a7c06065a0ad9d013ea22d8998571dc4', 'message': ""Remove usage of the latest puppet-mistral and puppet-zaqar\n\nMistral and Zaqar are no longer enabled in undercloud, and we have\nalready removed tripleo jobs from puppet-mistral and puppet-zaqar\nduring the Wallaby cycle.\n\nZaqar: b5a259c1e151f7aff7da53e73c4fd08383378fa8\nMistral: 63421e2ae688b3b0d9a7b5d15029c203ba806005\n\nBecause we require tripleo jobs in puppet repos side to use the latest\nversion, let's stop using the latest puppet-mistral and puppet-zaqar.\n\nChange-Id: Ie442e624829734bea31fdc27be4b3374f52b0f08\n""}, {'number': 3, 'created': '2021-07-11 04:15:19.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-master.yml', 'config/release/tripleo-ci/CentOS-8/master.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-wallaby.yml', 'config/release/tripleo-ci/CentOS-8/wallaby.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/68cbcf43c022c0c2ff213bbe43e1c7dd0299ac14', 'message': ""[Master and Wallaby] Remove usage of the latest puppet-mistral/zaqar\n\nMistral and Zaqar are no longer enabled in undercloud, and we have\nalready removed tripleo jobs from puppet-mistral and puppet-zaqar\nduring the Wallaby cycle.\n\nZaqar: b5a259c1e151f7aff7da53e73c4fd08383378fa8\nMistral: 63421e2ae688b3b0d9a7b5d15029c203ba806005\n\nBecause we require tripleo jobs in puppet repos side to use the latest\nversion, let's stop using the latest puppet-mistral and puppet-zaqar.\n\nChange-Id: Ie442e624829734bea31fdc27be4b3374f52b0f08\n""}]",0,800330,68cbcf43c022c0c2ff213bbe43e1c7dd0299ac14,23,7,3,9816,,,0,"[Master and Wallaby] Remove usage of the latest puppet-mistral/zaqar

Mistral and Zaqar are no longer enabled in undercloud, and we have
already removed tripleo jobs from puppet-mistral and puppet-zaqar
during the Wallaby cycle.

Zaqar: b5a259c1e151f7aff7da53e73c4fd08383378fa8
Mistral: 63421e2ae688b3b0d9a7b5d15029c203ba806005

Because we require tripleo jobs in puppet repos side to use the latest
version, let's stop using the latest puppet-mistral and puppet-zaqar.

Change-Id: Ie442e624829734bea31fdc27be4b3374f52b0f08
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/30/800330/1 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-8/master.yml'],1,ac214f03389f900ac2815e3d33dd490bca8d86f4,puppet-cleanup,, - puppet-mistral - puppet-zaqar,0,2
openstack%2Ftripleo-ansible~master~I7a8e819858a7d75bb0dd1eb22146916d30eeff0b,openstack/tripleo-ansible,master,I7a8e819858a7d75bb0dd1eb22146916d30eeff0b,Pass tripleo_ceph_client_cluster in ceph_client template,MERGED,2021-07-12 17:33:37.000000000,2021-07-13 14:41:48.000000000,2021-07-13 14:41:48.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-07-12 17:33:37.000000000', 'files': ['tripleo_ansible/roles/tripleo_cephadm/templates/ceph_client.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a02213ab1952088ce038825bec161bb3432006dd', 'message': 'Pass tripleo_ceph_client_cluster in ceph_client template\n\nWhen ceph_client.yaml.j2 is built by tripleo_cephadm for\nclient configuration, we pass the FSID by setting\ntripleo_ceph_client_fsid to tripleo_cephadm_fsid but we\nwere not passing the tripleo_ceph_client_cluster name\nthe same way which resulted in bug 1935841. This patch\nupdates ceph_client.yaml.j2 to set the cluster name the\nsame way that we set the cluster FSID.\n\nChange-Id: I7a8e819858a7d75bb0dd1eb22146916d30eeff0b\nCloses-Bug: #1935841\n'}]",0,800525,a02213ab1952088ce038825bec161bb3432006dd,16,6,1,18002,,,0,"Pass tripleo_ceph_client_cluster in ceph_client template

When ceph_client.yaml.j2 is built by tripleo_cephadm for
client configuration, we pass the FSID by setting
tripleo_ceph_client_fsid to tripleo_cephadm_fsid but we
were not passing the tripleo_ceph_client_cluster name
the same way which resulted in bug 1935841. This patch
updates ceph_client.yaml.j2 to set the cluster name the
same way that we set the cluster FSID.

Change-Id: I7a8e819858a7d75bb0dd1eb22146916d30eeff0b
Closes-Bug: #1935841
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/25/800525/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_cephadm/templates/ceph_client.yaml.j2'],1,a02213ab1952088ce038825bec161bb3432006dd,bug/1935841,tripleo_ceph_client_cluster: {{ tripleo_cephadm_cluster }},,1,0
openstack%2Fwatcher~master~I284a1ec31536ea258cc1979ffd46b22d3e1ac18b,openstack/watcher,master,I284a1ec31536ea258cc1979ffd46b22d3e1ac18b,Add watcher dashboard to devstack documentation,MERGED,2021-07-09 08:38:40.000000000,2021-07-13 14:32:35.000000000,2021-07-13 14:31:15.000000000,"[{'_account_id': 22348}, {'_account_id': 29911}]","[{'number': 1, 'created': '2021-07-09 08:38:40.000000000', 'files': ['doc/source/contributor/devstack.rst'], 'web_link': 'https://opendev.org/openstack/watcher/commit/2414f66e3802456628f1507b2e4b6dc04be3e093', 'message': 'Add watcher dashboard to devstack documentation\n\nSince installing watcher dashboard is fixed in devstack deployments\nwe can update documentation so it recommends to install dashboard\nplugin.\n\nChange-Id: I284a1ec31536ea258cc1979ffd46b22d3e1ac18b\n'}]",0,800165,2414f66e3802456628f1507b2e4b6dc04be3e093,7,2,1,29911,,,0,"Add watcher dashboard to devstack documentation

Since installing watcher dashboard is fixed in devstack deployments
we can update documentation so it recommends to install dashboard
plugin.

Change-Id: I284a1ec31536ea258cc1979ffd46b22d3e1ac18b
",git fetch https://review.opendev.org/openstack/watcher refs/changes/65/800165/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/devstack.rst'],1,2414f66e3802456628f1507b2e4b6dc04be3e093,, enable_plugin watcher-dashboard https://opendev.org/openstack/watcher-dashboard ,,2,0
openstack%2Fos-brick~master~I4be4c4167adf01b70980269b338fbb720c49aeab,openstack/os-brick,master,I4be4c4167adf01b70980269b338fbb720c49aeab,Remove skip_missing_interpreters,MERGED,2021-06-30 20:37:34.000000000,2021-07-13 14:19:17.000000000,2021-07-13 14:17:59.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-30 20:37:34.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/a6f1a93c138c94a33889c72d792b83d3e0101d80', 'message': ""Remove skip_missing_interpreters\n\nThis prevents a job reporting 'success' when the appropriate python\ninterpreter cannot be found, when actually it didn't run at all.\nAlso change the default envlist to use generic 'py3' instead of a\nspecific version which might not be present.\n\nJeremy Stanley has given a more thorough explanation of why this\nis a good change:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014810.html\n\nChange-Id: I4be4c4167adf01b70980269b338fbb720c49aeab\n""}]",0,798956,a6f1a93c138c94a33889c72d792b83d3e0101d80,24,4,1,5314,,,0,"Remove skip_missing_interpreters

This prevents a job reporting 'success' when the appropriate python
interpreter cannot be found, when actually it didn't run at all.
Also change the default envlist to use generic 'py3' instead of a
specific version which might not be present.

Jeremy Stanley has given a more thorough explanation of why this
is a good change:
http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014810.html

Change-Id: I4be4c4167adf01b70980269b338fbb720c49aeab
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/56/798956/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a6f1a93c138c94a33889c72d792b83d3e0101d80,skip-missing-interp,"envlist = py3,pep8","skip_missing_interpreters = trueenvlist = py38,py36,pep8",1,2
openstack%2Fpuppet-tripleo~master~I8377225d19bbbaa7160539f4056ff3e079cf5e14,openstack/puppet-tripleo,master,I8377225d19bbbaa7160539f4056ff3e079cf5e14,PowerStore: Remove usage of deprecated powerstore_appliances,MERGED,2021-07-11 04:44:26.000000000,2021-07-13 14:10:57.000000000,2021-07-13 14:10:57.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-11 04:44:26.000000000', 'files': ['manifests/profile/base/cinder/volume/dellemc_powerstore.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/24de78a158f7f4f8432735c7cf488cb4c0e466e7', 'message': 'PowerStore: Remove usage of deprecated powerstore_appliances\n\n... because the parameter was deprecated in cinder and has had no\neffect since then[1]. The corresponding parameter in puppet-cinder\nwas already deprecated[2] and will be removed soon.\n\n[1] f328341ed0eb920a6471f7c65e06b27c3f719fbe\n[2] e73bf6a864e537a6530ddfb23e0425e58c4f51cd\n\nChange-Id: I8377225d19bbbaa7160539f4056ff3e079cf5e14\n'}]",0,800335,24de78a158f7f4f8432735c7cf488cb4c0e466e7,14,3,1,9816,,,0,"PowerStore: Remove usage of deprecated powerstore_appliances

... because the parameter was deprecated in cinder and has had no
effect since then[1]. The corresponding parameter in puppet-cinder
was already deprecated[2] and will be removed soon.

[1] f328341ed0eb920a6471f7c65e06b27c3f719fbe
[2] e73bf6a864e537a6530ddfb23e0425e58c4f51cd

Change-Id: I8377225d19bbbaa7160539f4056ff3e079cf5e14
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/35/800335/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/cinder/volume/dellemc_powerstore.pp'],1,24de78a158f7f4f8432735c7cf488cb4c0e466e7,powerstore_appliances,," 'CinderPowerStoreAppliances' => hiera('cinder::backend::dellemc_powerstore::powerstore_appliances', undef), 'powerstore_appliances' => $backend_config['CinderPowerStoreAppliances'],",0,2
openstack%2Ftripleo-validations~stable%2Ftrain~Id047fe378cf512b985c9d7478a991f11b280102b,openstack/tripleo-validations,stable/train,Id047fe378cf512b985c9d7478a991f11b280102b,Introducing the oslo_config_validator role,MERGED,2021-07-05 14:41:16.000000000,2021-07-13 13:25:42.000000000,2021-07-13 13:23:35.000000000,"[{'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-07-05 14:41:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b17fdf3b5bda25a8d5bd965e3aba4edf2e798a98', 'message': ""Introducing the oslo_config_validator role\n\nThis role is intended to leverage the `oslo-config-validator` on each one\nof the configuration files found on a deployment. The goal is to quickly\ncatch erroneous configurations.\n\nWhen called manually, it will also be possible to generate a report\nreturning all the differences between the current configuration and the\ndefault configuration\n\nOne last thing, it will also validate the values of some specific\nsettings, based on the invalid_settings dict in the configuration.\nBecause of that, we moved some checks in nova_event_callback to the\noslo_config_validator role.\n\nNOTE(dvd): Removing backup-and-restore group from this branch as it's\nnot available prior to Wallaby.\n\nDepends-On: https://review.opendev.org/c/openstack/oslo.config/+/794815\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1940815\nResolves: rhbz#1940815\nChange-Id: Id047fe378cf512b985c9d7478a991f11b280102b\n(cherry picked from commit 4aaca32f19af6426a6f1eb6ea896e8d10458928d)\n(cherry picked from commit 727625fe95077158843f4a274693b6343d1f1e01)\n""}, {'number': 2, 'created': '2021-07-05 14:48:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/0e4709a83fa50f50ce5155888439539f1f5e55d0', 'message': ""Introducing the oslo_config_validator role\n\nThis role is intended to leverage the `oslo-config-validator` on each one\nof the configuration files found on a deployment. The goal is to quickly\ncatch erroneous configurations.\n\nWhen called manually, it will also be possible to generate a report\nreturning all the differences between the current configuration and the\ndefault configuration\n\nOne last thing, it will also validate the values of some specific\nsettings, based on the invalid_settings dict in the configuration.\nBecause of that, we moved some checks in nova_event_callback to the\noslo_config_validator role.\n\nNOTE(dvd): Removing backup-and-restore group from this branch as it's\nnot available prior to Wallaby.\n\nDepends-On: https://review.opendev.org/c/openstack/oslo.config/+/794815\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1940815\nResolves: rhbz#1940815\nChange-Id: Id047fe378cf512b985c9d7478a991f11b280102b\n(cherry picked from commit 4aaca32f19af6426a6f1eb6ea896e8d10458928d)\n(cherry picked from commit 727625fe95077158843f4a274693b6343d1f1e01)\n""}, {'number': 3, 'created': '2021-07-05 18:42:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/32aeeec2d9878fb80bf229ea757fab658c741f32', 'message': ""Introducing the oslo_config_validator role\n\nThis role is intended to leverage the `oslo-config-validator` on each one\nof the configuration files found on a deployment. The goal is to quickly\ncatch erroneous configurations.\n\nWhen called manually, it will also be possible to generate a report\nreturning all the differences between the current configuration and the\ndefault configuration\n\nOne last thing, it will also validate the values of some specific\nsettings, based on the invalid_settings dict in the configuration.\nBecause of that, we moved some checks in nova_event_callback to the\noslo_config_validator role.\n\nNOTE(dvd): Removing backup-and-restore group from this branch as it's\nnot available prior to Wallaby.\n\nDepends-On: https://review.opendev.org/c/openstack/oslo.config/+/794815\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1940815\nResolves: rhbz#1940815\nChange-Id: Id047fe378cf512b985c9d7478a991f11b280102b\n(cherry picked from commit 4aaca32f19af6426a6f1eb6ea896e8d10458928d)\n(cherry picked from commit 727625fe95077158843f4a274693b6343d1f1e01)\n(cherry picked from commit 0e4709a83fa50f50ce5155888439539f1f5e55d0)\n""}, {'number': 4, 'created': '2021-07-05 18:53:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/2b412716bcb5735281aff188b8ff0fc8dd7e8010', 'message': ""Introducing the oslo_config_validator role\n\nThis role is intended to leverage the `oslo-config-validator` on each one\nof the configuration files found on a deployment. The goal is to quickly\ncatch erroneous configurations.\n\nWhen called manually, it will also be possible to generate a report\nreturning all the differences between the current configuration and the\ndefault configuration\n\nOne last thing, it will also validate the values of some specific\nsettings, based on the invalid_settings dict in the configuration.\nBecause of that, we moved some checks in nova_event_callback to the\noslo_config_validator role.\n\nNOTE(dvd): Removing backup-and-restore group from this branch as it's\nnot available prior to Wallaby.\n\nDepends-On: https://review.opendev.org/c/openstack/oslo.config/+/794815\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1940815\nResolves: rhbz#1940815\nChange-Id: Id047fe378cf512b985c9d7478a991f11b280102b\n(cherry picked from commit 4aaca32f19af6426a6f1eb6ea896e8d10458928d)\n(cherry picked from commit 727625fe95077158843f4a274693b6343d1f1e01)\n(cherry picked from commit 0e4709a83fa50f50ce5155888439539f1f5e55d0)\n""}, {'number': 5, 'created': '2021-07-10 14:11:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/8b685a9c81567ce5b0fee7d6879375ed3a2e184e', 'message': ""Introducing the oslo_config_validator role\n\nThis role is intended to leverage the `oslo-config-validator` on each one\nof the configuration files found on a deployment. The goal is to quickly\ncatch erroneous configurations.\n\nWhen called manually, it will also be possible to generate a report\nreturning all the differences between the current configuration and the\ndefault configuration\n\nOne last thing, it will also validate the values of some specific\nsettings, based on the invalid_settings dict in the configuration.\nBecause of that, we moved some checks in nova_event_callback to the\noslo_config_validator role.\n\nNOTE(dvd): Removing backup-and-restore group from this branch as it's\nnot available prior to Wallaby.\n\nDepends-On: https://review.opendev.org/c/openstack/oslo.config/+/794815\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1940815\nResolves: rhbz#1940815\nChange-Id: Id047fe378cf512b985c9d7478a991f11b280102b\n(cherry picked from commit 4aaca32f19af6426a6f1eb6ea896e8d10458928d)\n(cherry picked from commit 727625fe95077158843f4a274693b6343d1f1e01)\n""}, {'number': 6, 'created': '2021-07-10 14:25:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/6e09a2603ba03fa6f3a6fb18901dbd1972f292a2', 'message': ""Introducing the oslo_config_validator role\n\nThis role is intended to leverage the `oslo-config-validator` on each one\nof the configuration files found on a deployment. The goal is to quickly\ncatch erroneous configurations.\n\nWhen called manually, it will also be possible to generate a report\nreturning all the differences between the current configuration and the\ndefault configuration\n\nOne last thing, it will also validate the values of some specific\nsettings, based on the invalid_settings dict in the configuration.\nBecause of that, we moved some checks in nova_event_callback to the\noslo_config_validator role.\n\nNOTE(dvd): Removing backup-and-restore group from this branch as it's\nnot available prior to Wallaby.\n\nDepends-On: https://review.opendev.org/c/openstack/oslo.config/+/794815\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1940815\nResolves: rhbz#1940815\nChange-Id: Id047fe378cf512b985c9d7478a991f11b280102b\n(cherry picked from commit 4aaca32f19af6426a6f1eb6ea896e8d10458928d)\n(cherry picked from commit 727625fe95077158843f4a274693b6343d1f1e01)\n""}, {'number': 7, 'created': '2021-07-10 14:27:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/48ebe2c1a316d16f425c71ef58520b111f5b7d19', 'message': ""Introducing the oslo_config_validator role\n\nThis role is intended to leverage the `oslo-config-validator` on each one\nof the configuration files found on a deployment. The goal is to quickly\ncatch erroneous configurations.\n\nWhen called manually, it will also be possible to generate a report\nreturning all the differences between the current configuration and the\ndefault configuration\n\nOne last thing, it will also validate the values of some specific\nsettings, based on the invalid_settings dict in the configuration.\nBecause of that, we moved some checks in nova_event_callback to the\noslo_config_validator role.\n\nNOTE(dvd): Removing backup-and-restore group from this branch as it's\nnot available prior to Wallaby.\n\nDepends-On: https://review.opendev.org/c/openstack/oslo.config/+/794815\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1940815\nResolves: rhbz#1940815\nChange-Id: Id047fe378cf512b985c9d7478a991f11b280102b\n(cherry picked from commit 4aaca32f19af6426a6f1eb6ea896e8d10458928d)\n(cherry picked from commit 727625fe95077158843f4a274693b6343d1f1e01)\n""}, {'number': 8, 'created': '2021-07-10 14:28:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/2e7c202d7693f8268291c2a922f4cc79b23b2fb7', 'message': ""Introducing the oslo_config_validator role\n\nThis role is intended to leverage the `oslo-config-validator` on each one\nof the configuration files found on a deployment. The goal is to quickly\ncatch erroneous configurations.\n\nWhen called manually, it will also be possible to generate a report\nreturning all the differences between the current configuration and the\ndefault configuration\n\nOne last thing, it will also validate the values of some specific\nsettings, based on the invalid_settings dict in the configuration.\nBecause of that, we moved some checks in nova_event_callback to the\noslo_config_validator role.\n\nNOTE(dvd): Removing backup-and-restore group from this branch as it's\nnot available prior to Wallaby.\n\nDepends-On: https://review.opendev.org/c/openstack/oslo.config/+/794815\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1940815\nResolves: rhbz#1940815\nChange-Id: Id047fe378cf512b985c9d7478a991f11b280102b\n(cherry picked from commit 4aaca32f19af6426a6f1eb6ea896e8d10458928d)\n(cherry picked from commit 727625fe95077158843f4a274693b6343d1f1e01)\n""}, {'number': 9, 'created': '2021-07-11 02:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/1f73a7f283603999afa5f7c1f46e97da4e4ebe0f', 'message': ""Introducing the oslo_config_validator role\n\nThis role is intended to leverage the `oslo-config-validator` on each one\nof the configuration files found on a deployment. The goal is to quickly\ncatch erroneous configurations.\n\nWhen called manually, it will also be possible to generate a report\nreturning all the differences between the current configuration and the\ndefault configuration\n\nOne last thing, it will also validate the values of some specific\nsettings, based on the invalid_settings dict in the configuration.\nBecause of that, we moved some checks in nova_event_callback to the\noslo_config_validator role.\n\nNOTE(dvd): Removing backup-and-restore group from this branch as it's\nnot available prior to Wallaby.\n\nNOTE(dvd): train-only modification to support docker container during\nFFU stage.\n  - oslo_config_validator/tasks/build_validation_config.yml\n  - oslo_config_validator/tasks/container_run.yml\n\nDepends-On: https://review.opendev.org/c/openstack/oslo.config/+/794817\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1940815\nResolves: rhbz#1940815\nChange-Id: Id047fe378cf512b985c9d7478a991f11b280102b\n(cherry picked from commit 4aaca32f19af6426a6f1eb6ea896e8d10458928d)\n(cherry picked from commit fab6429d98dbef835efc422b471a0cd795edfdb9)\n(cherry picked from commit 727625fe95077158843f4a274693b6343d1f1e01)\n(cherry picked from commit 92c55031e6f17e3a149da4816fbf5cefd5185d44)\n""}, {'number': 10, 'created': '2021-07-11 11:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/cade32e73d24444d98d89c277bd4b60c1db56085', 'message': ""Introducing the oslo_config_validator role\n\nThis role is intended to leverage the `oslo-config-validator` on each one\nof the configuration files found on a deployment. The goal is to quickly\ncatch erroneous configurations.\n\nWhen called manually, it will also be possible to generate a report\nreturning all the differences between the current configuration and the\ndefault configuration\n\nOne last thing, it will also validate the values of some specific\nsettings, based on the invalid_settings dict in the configuration.\nBecause of that, we moved some checks in nova_event_callback to the\noslo_config_validator role.\n\nNOTE(dvd): Removing backup-and-restore group from this branch as it's\nnot available prior to Wallaby.\n\nNOTE(dvd): train-only modification to support docker container during\nFFU stage.\n  - oslo_config_validator/tasks/build_validation_config.yml\n  - oslo_config_validator/tasks/container_run.yml\n\nDepends-On: https://review.opendev.org/c/openstack/oslo.config/+/794817\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1940815\nResolves: rhbz#1940815\nChange-Id: Id047fe378cf512b985c9d7478a991f11b280102b\n(cherry picked from commit 4aaca32f19af6426a6f1eb6ea896e8d10458928d)\n(cherry picked from commit fab6429d98dbef835efc422b471a0cd795edfdb9)\n(cherry picked from commit 727625fe95077158843f4a274693b6343d1f1e01)\n(cherry picked from commit 92c55031e6f17e3a149da4816fbf5cefd5185d44)\n""}, {'number': 11, 'created': '2021-07-12 18:55:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d9cc63f0c4cd9b08f9a55cde680816de1fd23fec', 'message': ""Introducing the oslo_config_validator role\n\nThis role is intended to leverage the `oslo-config-validator` on each one\nof the configuration files found on a deployment. The goal is to quickly\ncatch erroneous configurations.\n\nWhen called manually, it will also be possible to generate a report\nreturning all the differences between the current configuration and the\ndefault configuration\n\nOne last thing, it will also validate the values of some specific\nsettings, based on the invalid_settings dict in the configuration.\nBecause of that, we moved some checks in nova_event_callback to the\noslo_config_validator role.\n\nNOTE(dvd): Removing backup-and-restore group from this branch as it's\nnot available prior to Wallaby.\n\nNOTE(dvd): train-only modification to support docker container during\nFFU stage.\n  - oslo_config_validator/tasks/build_validation_config.yml\n  - oslo_config_validator/tasks/container_run.yml\n\nDepends-On: https://review.opendev.org/c/openstack/oslo.config/+/794817\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1940815\nResolves: rhbz#1940815\nChange-Id: Id047fe378cf512b985c9d7478a991f11b280102b\n(cherry picked from commit 4aaca32f19af6426a6f1eb6ea896e8d10458928d)\n(cherry picked from commit fab6429d98dbef835efc422b471a0cd795edfdb9)\n(cherry picked from commit 727625fe95077158843f4a274693b6343d1f1e01)\n(cherry picked from commit 92c55031e6f17e3a149da4816fbf5cefd5185d44)\n""}, {'number': 12, 'created': '2021-07-12 19:13:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/19674ed30f18e9c4509f90b4ebfbb181665560c1', 'message': ""Introducing the oslo_config_validator role\n\nThis role is intended to leverage the `oslo-config-validator` on each one\nof the configuration files found on a deployment. The goal is to quickly\ncatch erroneous configurations.\n\nWhen called manually, it will also be possible to generate a report\nreturning all the differences between the current configuration and the\ndefault configuration\n\nOne last thing, it will also validate the values of some specific\nsettings, based on the invalid_settings dict in the configuration.\nBecause of that, we moved some checks in nova_event_callback to the\noslo_config_validator role.\n\nNOTE(dvd):\n- Removing backup-and-restore group from this branch as it's\n  not available prior to Wallaby.\n- train-only modification to support docker container during\n  FFU stage.\n  - oslo_config_validator/tasks/build_validation_config.yml\n  - oslo_config_validator/tasks/container_run.yml\n- Change hosts from all to allovercloud because of undercloud\n  configured with ``notify_nova_on_port_data_changes``\n- Removed cinder's enable_v3_api as it's still valid in train.\n\nDepends-On: https://review.opendev.org/c/openstack/oslo.config/+/794817\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1940815\nResolves: rhbz#1940815\nChange-Id: Id047fe378cf512b985c9d7478a991f11b280102b\n(cherry picked from commit 4aaca32f19af6426a6f1eb6ea896e8d10458928d)\n(cherry picked from commit fab6429d98dbef835efc422b471a0cd795edfdb9)\n(cherry picked from commit 727625fe95077158843f4a274693b6343d1f1e01)\n(cherry picked from commit 92c55031e6f17e3a149da4816fbf5cefd5185d44)\n""}, {'number': 13, 'created': '2021-07-12 19:40:08.000000000', 'files': ['roles/oslo_config_validator/resources/playbooks/converge.yml', 'roles/oslo_config_validator/tasks/container_run.yml', 'playbooks/oslo-config-validator.yaml', 'roles/oslo_config_validator/defaults/main.yml', 'roles/oslo_config_validator/resources/playbooks/prepare.yml', 'roles/oslo_config_validator/tasks/report_generation.yml', 'roles/oslo_config_validator/resources/library/podman_container.py', 'roles/oslo_config_validator/tasks/validate_config.yml', 'roles/oslo_config_validator/molecule/mocked_failure/molecule.yml', 'roles/oslo_config_validator/tasks/opt_data_format.yml', 'zuul.d/molecule.yaml', 'roles/oslo_config_validator/vars/main.yml', 'roles/oslo_config_validator/molecule/default/molecule.yml', 'doc/source/roles/role-oslo_config_validator.rst', 'roles/oslo_config_validator/tasks/build_validation_config.yml', 'roles/oslo_config_validator/resources/library/podman_container_info.py', 'roles/oslo_config_validator/tasks/validation_command.yml', 'roles/oslo_config_validator/tasks/invalidate_config.yml', 'roles/oslo_config_validator/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7f9f845dba56b8f7ad3c9bde069daf97bc953190', 'message': ""Introducing the oslo_config_validator role\n\nThis role is intended to leverage the `oslo-config-validator` on each one\nof the configuration files found on a deployment. The goal is to quickly\ncatch erroneous configurations.\n\nWhen called manually, it will also be possible to generate a report\nreturning all the differences between the current configuration and the\ndefault configuration\n\nOne last thing, it will also validate the values of some specific\nsettings, based on the invalid_settings dict in the configuration.\nBecause of that, we moved some checks in nova_event_callback to the\noslo_config_validator role.\n\nNOTE(dvd):\n- Removing backup-and-restore group from this branch as it's\n  not available prior to Wallaby.\n- train-only modification to support docker container during\n  FFU stage.\n  - oslo_config_validator/tasks/build_validation_config.yml\n  - oslo_config_validator/tasks/container_run.yml\n- Change hosts from all to allovercloud because of undercloud\n  configured with ``notify_nova_on_port_data_changes``\n- Removed cinder's enable_v3_api as it's still valid in train.\n\nDepends-On: https://review.opendev.org/c/openstack/oslo.config/+/794817\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1940815\nResolves: rhbz#1940815\nChange-Id: Id047fe378cf512b985c9d7478a991f11b280102b\n(cherry picked from commit 4aaca32f19af6426a6f1eb6ea896e8d10458928d)\n(cherry picked from commit fab6429d98dbef835efc422b471a0cd795edfdb9)\n(cherry picked from commit 727625fe95077158843f4a274693b6343d1f1e01)\n(cherry picked from commit 92c55031e6f17e3a149da4816fbf5cefd5185d44)\n""}]",6,799483,7f9f845dba56b8f7ad3c9bde069daf97bc953190,37,4,13,27419,,,0,"Introducing the oslo_config_validator role

This role is intended to leverage the `oslo-config-validator` on each one
of the configuration files found on a deployment. The goal is to quickly
catch erroneous configurations.

When called manually, it will also be possible to generate a report
returning all the differences between the current configuration and the
default configuration

One last thing, it will also validate the values of some specific
settings, based on the invalid_settings dict in the configuration.
Because of that, we moved some checks in nova_event_callback to the
oslo_config_validator role.

NOTE(dvd):
- Removing backup-and-restore group from this branch as it's
  not available prior to Wallaby.
- train-only modification to support docker container during
  FFU stage.
  - oslo_config_validator/tasks/build_validation_config.yml
  - oslo_config_validator/tasks/container_run.yml
- Change hosts from all to allovercloud because of undercloud
  configured with ``notify_nova_on_port_data_changes``
- Removed cinder's enable_v3_api as it's still valid in train.

Depends-On: https://review.opendev.org/c/openstack/oslo.config/+/794817
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1940815
Resolves: rhbz#1940815
Change-Id: Id047fe378cf512b985c9d7478a991f11b280102b
(cherry picked from commit 4aaca32f19af6426a6f1eb6ea896e8d10458928d)
(cherry picked from commit fab6429d98dbef835efc422b471a0cd795edfdb9)
(cherry picked from commit 727625fe95077158843f4a274693b6343d1f1e01)
(cherry picked from commit 92c55031e6f17e3a149da4816fbf5cefd5185d44)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/83/799483/10 && git format-patch -1 --stdout FETCH_HEAD,"['roles/oslo_config_validator/resources/playbooks/converge.yml', 'roles/oslo_config_validator/tasks/container_run.yml', 'playbooks/oslo-config-validator.yaml', 'roles/oslo_config_validator/defaults/main.yml', 'roles/oslo_config_validator/resources/playbooks/prepare.yml', 'roles/oslo_config_validator/tasks/report_generation.yml', 'roles/oslo_config_validator/resources/library/podman_container.py', 'roles/oslo_config_validator/tasks/validate_config.yml', 'roles/oslo_config_validator/molecule/mocked_failure/molecule.yml', 'roles/oslo_config_validator/tasks/opt_data_format.yml', 'zuul.d/molecule.yaml', 'roles/oslo_config_validator/vars/main.yml', 'roles/oslo_config_validator/molecule/default/molecule.yml', 'doc/source/roles/role-oslo_config_validator.rst', 'roles/oslo_config_validator/tasks/build_validation_config.yml', 'roles/oslo_config_validator/resources/library/podman_container_info.py', 'roles/oslo_config_validator/tasks/validation_command.yml', 'roles/oslo_config_validator/tasks/invalidate_config.yml', 'roles/oslo_config_validator/tasks/main.yml']",19,b17fdf3b5bda25a8d5bd965e3aba4edf2e798a98,automated_config_validation,"--- # Copyright 2021 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # tasks - name: Include the config builder tasks include_tasks: build_validation_config.yml - name: Validate configuration when: - 'oslo_config_validator_validation | bool or oslo_config_validator_report | bool' include_tasks: validate_config.yml - name: Invalidate configuration when: - oslo_config_validator_invalid_settings | bool include_tasks: invalidate_config.yml - name: Config validation reporting when: - oslo_config_validator_report | bool include_tasks: report_generation.yml - name: Config validation assertions block: - name: Verifying setting validation assert: that: - not service.output | count fail_msg: | Config file {{ service.config_file }} for {{ service.service }} has returned validation errors: {% for msg in service.output %} {{ msg }} {% endfor %} loop: ""{{ validation_output }}"" loop_control: loop_var: service label: ""{{ service.config_file }}/{{ service.service }}"" register: validation_errors ignore_errors: true - name: Asserted failure when: ""'failed' in validation_errors or (invalid_settings is defined and invalid_settings | count)"" fail: msg: | Configuration validation failed for at least one service: {% if validation_errors.results | count %}{% for service in validation_errors.results %}{% if service.failed %}{{ service.msg }}{% endif %}{% endfor %}{% endif %}{% if invalid_settings is defined and invalid_settings | count %}{% for message in invalid_settings %}{{ message }} {% endfor %}{% endif %} ",,2473,0
openstack%2Ftripleo-upgrade~master~I946ede504b98d8226bffaa7220174fd0d94e81f1,openstack/tripleo-upgrade,master,I946ede504b98d8226bffaa7220174fd0d94e81f1,Replace LEAPP_DEVEL_SKIP_RHSM with LEAPP_NO_RHSM,MERGED,2021-07-12 14:41:24.000000000,2021-07-13 13:23:32.000000000,2021-07-13 13:23:32.000000000,"[{'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-07-12 14:41:24.000000000', 'files': ['tasks/common/undercloud_os_upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/df68e50a7ad3f3c15ef6d2264a223be9ba9965b8', 'message': 'Replace LEAPP_DEVEL_SKIP_RHSM with LEAPP_NO_RHSM\n\nLEAPP_DEVEL_SKIP_RHSM will be removed next LEAPP release. This patch\nreplaces it with LEAPP_NO_RHSM\n\nChange-Id: I946ede504b98d8226bffaa7220174fd0d94e81f1\n'}]",0,800486,df68e50a7ad3f3c15ef6d2264a223be9ba9965b8,10,5,1,11090,,,0,"Replace LEAPP_DEVEL_SKIP_RHSM with LEAPP_NO_RHSM

LEAPP_DEVEL_SKIP_RHSM will be removed next LEAPP release. This patch
replaces it with LEAPP_NO_RHSM

Change-Id: I946ede504b98d8226bffaa7220174fd0d94e81f1
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/86/800486/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/undercloud_os_upgrade.yaml'],1,df68e50a7ad3f3c15ef6d2264a223be9ba9965b8,remove_LEAPP_DEVEL_SKIP_RHSM, {% if leapp_unsubscribed|bool and (upgrade_workarounds|bool or ffu_upgrade_workarounds|bool) %} LEAPP_UNSUPPORTED=1 LEAPP_NO_RHSM=1 {% endif %}\, {% if leapp_unsubscribed|bool and (upgrade_workarounds|bool or ffu_upgrade_workarounds|bool) %} LEAPP_UNSUPPORTED=1 LEAPP_DEVEL_SKIP_RHSM=1 {% endif %}\,1,1
openstack%2Fmonasca-agent~master~I84c0d2b2705e34b9853d42d03a398ecbe4f95330,openstack/monasca-agent,master,I84c0d2b2705e34b9853d42d03a398ecbe4f95330,"Revert ""Replace fnmatch with oslo.utils.fnmatch""",MERGED,2021-07-06 12:25:27.000000000,2021-07-13 13:22:13.000000000,2021-07-13 13:22:13.000000000,"[{'_account_id': 3}, {'_account_id': 8157}, {'_account_id': 14273}, {'_account_id': 14517}, {'_account_id': 16168}, {'_account_id': 18179}, {'_account_id': 22348}, {'_account_id': 26141}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-07-06 12:25:27.000000000', 'files': ['monasca_agent/collector/checks_d/cacti.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/ad45a1bb77cfb8023e1aeb31416f41a329d79d0b', 'message': 'Revert ""Replace fnmatch with oslo.utils.fnmatch""\n\nThis reverts commit 9ff337881be12463b15ab56dfa7d76c36142970f.\n\nReason for revert:\nThe oslo_utils.fnmatch module was added to solve an issue in py2.7 but\nit is no longer required because py2.7 is no longer supported.\nThe module was deprecated since oslo.utils 4.9.1[1] and the stdlib\'s\nfnmatch module should be used instead.\n\n[1] 4c893c92f551c9dd2a7cfbe7ae8171ad8139df0b\n\nChange-Id: I84c0d2b2705e34b9853d42d03a398ecbe4f95330\n'}]",0,799585,ad45a1bb77cfb8023e1aeb31416f41a329d79d0b,7,9,1,9816,,,0,"Revert ""Replace fnmatch with oslo.utils.fnmatch""

This reverts commit 9ff337881be12463b15ab56dfa7d76c36142970f.

Reason for revert:
The oslo_utils.fnmatch module was added to solve an issue in py2.7 but
it is no longer required because py2.7 is no longer supported.
The module was deprecated since oslo.utils 4.9.1[1] and the stdlib's
fnmatch module should be used instead.

[1] 4c893c92f551c9dd2a7cfbe7ae8171ad8139df0b

Change-Id: I84c0d2b2705e34b9853d42d03a398ecbe4f95330
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/85/799585/1 && git format-patch -1 --stdout FETCH_HEAD,['monasca_agent/collector/checks_d/cacti.py'],1,ad45a1bb77cfb8023e1aeb31416f41a329d79d0b,fnmatch,from fnmatch import fnmatch,from oslo_utils import fnmatch,1,1
openstack%2Fironic~bugfix%2F18.0~Ibd591ab6e17e26db0b2b4dde103fe3458e1536f5,openstack/ironic,bugfix/18.0,Ibd591ab6e17e26db0b2b4dde103fe3458e1536f5,Add missing BIOSSettings version mapping for older releases,MERGED,2021-07-13 12:08:57.000000000,2021-07-13 13:20:43.000000000,2021-07-13 13:10:53.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-07-13 12:08:57.000000000', 'files': ['releasenotes/notes/bios-version-dfd5c95805c295c5.yaml', 'ironic/common/release_mappings.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/12548dbae83e88b10365e223ae91d351919e5f6a', 'message': 'Add missing BIOSSettings version mapping for older releases\n\nOtherwise the upgrade fails because of old versions.\n\nChange-Id: Ibd591ab6e17e26db0b2b4dde103fe3458e1536f5\n(cherry picked from commit 7e5e65550d834c4c2572908ca135c8f596f9c582)\n'}]",0,800625,12548dbae83e88b10365e223ae91d351919e5f6a,9,2,1,10239,,,0,"Add missing BIOSSettings version mapping for older releases

Otherwise the upgrade fails because of old versions.

Change-Id: Ibd591ab6e17e26db0b2b4dde103fe3458e1536f5
(cherry picked from commit 7e5e65550d834c4c2572908ca135c8f596f9c582)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/25/800625/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bios-version-dfd5c95805c295c5.yaml', 'ironic/common/release_mappings.py']",2,12548dbae83e88b10365e223ae91d351919e5f6a,," 'BIOSSetting': ['1.0'], 'BIOSSetting': ['1.0'], 'BIOSSetting': ['1.0'], 'BIOSSetting': ['1.0'], 'BIOSSetting': ['1.0'], 'BIOSSetting': ['1.0'], 'BIOSSetting': ['1.0'], 'BIOSSetting': ['1.0'], 'BIOSSetting': ['1.0'], 'BIOSSetting': ['1.0'], 'BIOSSetting': ['1.0'], 'BIOSSetting': ['1.0'], 'BIOSSetting': ['1.0'],",,18,0
openstack%2Fpython-openstackclient~stable%2Ftrain~I2ea2def607ec5be112e42d53a1e660fef0cdd69c,openstack/python-openstackclient,stable/train,I2ea2def607ec5be112e42d53a1e660fef0cdd69c,Fix reverted osc-lib interface change,MERGED,2021-07-06 12:43:33.000000000,2021-07-13 12:42:20.000000000,2021-07-13 12:38:45.000000000,"[{'_account_id': 11109}, {'_account_id': 15334}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-07-06 12:43:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c88a57bfd3132977aca029ef39a35869ad8e3012', 'message': 'Fix reverted osc-lib interface change\n\nThe patch https://review.opendev.org/#/c/673389/ introduced a regression\nby changing the osc-lib interface.\n\nTwo conflicting attempts to fix the regression were launched:\n\n1) Reverting the patch.\n\n2) The patch https://review.opendev.org/683119 changes the exception\n   from the generic CommandError back to a specific Forbidden exception.\n\n   The patch https://review.opendev.org/683118 catches this exception\n   and passes on, i.e. re-implements the same behavior as before.\n\nThe first idea was implemented, the initial patch reverted. The second\nidea was partially implemented. The change in python-openstackclient\n(683118) was merged. The change in osc-lib was approved but failed to\nmerge because the initial change had been reverted.\n\nNow we have again a situation where the exception produced in osc-lib\ndoes not match the exception expected by the caller.\n\nIt is unclear if the osc-lib interface will ever get a rebased version\nof https://review.opendev.org/683119 merged, so the safest way to\naddress the issue is to also catch the exception that used to be\nthrown before the inital change and is again thrown after the inital\nchange has been reverted.\n\nConflicts:\n    openstackclient/identity/common.py\n\nChange-Id: I2ea2def607ec5be112e42d53a1e660fef0cdd69c\n(cherry picked from commit 0a8753dc3eaeda25554ccd769350de1e9792a62b)\n(cherry picked from commit 0a8d855764c049be983ece4aaad02eea866da09e)\n'}, {'number': 2, 'created': '2021-07-06 16:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/4ba53852b010526b663191dc0f0f12c4d7caf147', 'message': 'Fix reverted osc-lib interface change\n\nThe patch https://review.opendev.org/#/c/673389/ introduced a regression\nby changing the osc-lib interface.\n\nTwo conflicting attempts to fix the regression were launched:\n\n1) Reverting the patch.\n\n2) The patch https://review.opendev.org/683119 changes the exception\n   from the generic CommandError back to a specific Forbidden exception.\n\n   The patch https://review.opendev.org/683118 catches this exception\n   and passes on, i.e. re-implements the same behavior as before.\n\nThe first idea was implemented, the initial patch reverted. The second\nidea was partially implemented. The change in python-openstackclient\n(683118) was merged. The change in osc-lib was approved but failed to\nmerge because the initial change had been reverted.\n\nNow we have again a situation where the exception produced in osc-lib\ndoes not match the exception expected by the caller.\n\nIt is unclear if the osc-lib interface will ever get a rebased version\nof https://review.opendev.org/683119 merged, so the safest way to\naddress the issue is to also catch the exception that used to be\nthrown before the inital change and is again thrown after the inital\nchange has been reverted.\n\nConflicts:\n    openstackclient/identity/common.py\n\nChange-Id: I2ea2def607ec5be112e42d53a1e660fef0cdd69c\n(cherry picked from commit 0a8753dc3eaeda25554ccd769350de1e9792a62b)\n(cherry picked from commit 0a8d855764c049be983ece4aaad02eea866da09e)\n'}, {'number': 3, 'created': '2021-07-12 14:47:07.000000000', 'files': ['openstackclient/identity/common.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/de0be9db05ac2fe955b014b05f2e03411e684494', 'message': 'Fix reverted osc-lib interface change\n\nThe patch https://review.opendev.org/#/c/673389/ introduced a regression\nby changing the osc-lib interface.\n\nTwo conflicting attempts to fix the regression were launched:\n\n1) Reverting the patch.\n\n2) The patch https://review.opendev.org/683119 changes the exception\n   from the generic CommandError back to a specific Forbidden exception.\n\n   The patch https://review.opendev.org/683118 catches this exception\n   and passes on, i.e. re-implements the same behavior as before.\n\nThe first idea was implemented, the initial patch reverted. The second\nidea was partially implemented. The change in python-openstackclient\n(683118) was merged. The change in osc-lib was approved but failed to\nmerge because the initial change had been reverted.\n\nNow we have again a situation where the exception produced in osc-lib\ndoes not match the exception expected by the caller.\n\nIt is unclear if the osc-lib interface will ever get a rebased version\nof https://review.opendev.org/683119 merged, so the safest way to\naddress the issue is to also catch the exception that used to be\nthrown before the inital change and is again thrown after the inital\nchange has been reverted.\n\nConflicts:\n    openstackclient/identity/common.py\n\nChange-Id: I2ea2def607ec5be112e42d53a1e660fef0cdd69c\n(cherry picked from commit 0a8753dc3eaeda25554ccd769350de1e9792a62b)\n(cherry picked from commit 0a8d855764c049be983ece4aaad02eea866da09e)\n'}]",1,799662,de0be9db05ac2fe955b014b05f2e03411e684494,13,5,3,11975,,,0,"Fix reverted osc-lib interface change

The patch https://review.opendev.org/#/c/673389/ introduced a regression
by changing the osc-lib interface.

Two conflicting attempts to fix the regression were launched:

1) Reverting the patch.

2) The patch https://review.opendev.org/683119 changes the exception
   from the generic CommandError back to a specific Forbidden exception.

   The patch https://review.opendev.org/683118 catches this exception
   and passes on, i.e. re-implements the same behavior as before.

The first idea was implemented, the initial patch reverted. The second
idea was partially implemented. The change in python-openstackclient
(683118) was merged. The change in osc-lib was approved but failed to
merge because the initial change had been reverted.

Now we have again a situation where the exception produced in osc-lib
does not match the exception expected by the caller.

It is unclear if the osc-lib interface will ever get a rebased version
of https://review.opendev.org/683119 merged, so the safest way to
address the issue is to also catch the exception that used to be
thrown before the inital change and is again thrown after the inital
change has been reverted.

Conflicts:
    openstackclient/identity/common.py

Change-Id: I2ea2def607ec5be112e42d53a1e660fef0cdd69c
(cherry picked from commit 0a8753dc3eaeda25554ccd769350de1e9792a62b)
(cherry picked from commit 0a8d855764c049be983ece4aaad02eea866da09e)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/62/799662/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/identity/common.py'],1,c88a57bfd3132977aca029ef39a35869ad8e3012,fix_rbac_regression-stable/train," except (exceptions.Forbidden, identity_exc.Forbidden):", except identity_exc.Forbidden:,1,1
openstack%2Fpython-openstackclient~stable%2Ftrain~Iad568c152d49c2fe5dd31dc9b05c07e3d4fd1a83,openstack/python-openstackclient,stable/train,Iad568c152d49c2fe5dd31dc9b05c07e3d4fd1a83,"[stable-only] Cap bandit to 1.6.2, bump lower-constraints",MERGED,2021-07-06 16:19:06.000000000,2021-07-13 12:41:19.000000000,2021-07-13 12:38:42.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-07-06 16:19:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a34311a74944ad70c989350e7d3e1621833d2b05', 'message': ""[stable-only] Cap bandit to 1.6.2, bump lower-constraints\n\nThe 1.6.3 [1] release has dropped support for py2 [2] so cap to 1.6.2\nwhen using py2.\n\nWe also need to bump the lower constraint of keystoneauth1 since our\nminimum version of openstacksdk, 0.17.0, depends on keystoneauth1>=3.8.0\nand PyPI 20.1+ won't allow this to stand.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n\nChange-Id: Iad568c152d49c2fe5dd31dc9b05c07e3d4fd1a83\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2021-07-12 14:47:07.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a69cc3ddae6af46841042f440ff0d52db515c1e4', 'message': ""[stable-only] Cap bandit to 1.6.2, bump lower-constraints\n\nThe 1.6.3 [1] release has dropped support for py2 [2] so cap to 1.6.2\nwhen using py2.\n\nWe also need to bump the lower constraint of keystoneauth1 since our\nminimum version of openstacksdk, 0.17.0, depends on keystoneauth1>=3.8.0\nand PyPI 20.1+ won't allow this to stand.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n\nChange-Id: Iad568c152d49c2fe5dd31dc9b05c07e3d4fd1a83\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,799690,a69cc3ddae6af46841042f440ff0d52db515c1e4,12,3,2,15334,,,0,"[stable-only] Cap bandit to 1.6.2, bump lower-constraints

The 1.6.3 [1] release has dropped support for py2 [2] so cap to 1.6.2
when using py2.

We also need to bump the lower constraint of keystoneauth1 since our
minimum version of openstacksdk, 0.17.0, depends on keystoneauth1>=3.8.0
and PyPI 20.1+ won't allow this to stand.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615

Change-Id: Iad568c152d49c2fe5dd31dc9b05c07e3d4fd1a83
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/90/799690/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt', 'tox.ini']",3,a34311a74944ad70c989350e7d3e1621833d2b05,fix_rbac_regression-stable/train,basepython = python2.7,basepython = python3,3,3
openstack%2Fpython-tripleoclient~master~I17ddc7a0e6e875109babda0a0077b3926df03e9d,openstack/python-tripleoclient,master,I17ddc7a0e6e875109babda0a0077b3926df03e9d,Move FakeFlavor class to fakes.py,MERGED,2021-06-28 23:12:18.000000000,2021-07-13 12:41:09.000000000,2021-07-13 12:39:43.000000000,"[{'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-28 23:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9f96e17a8682e79b35101f974e6799f9596ffb60', 'message': 'Move FakeFlavor class to fakes.py\n\nMove the FakeFlavor class used in tests to the\nfakes.py file.\n\nChange-Id: I17ddc7a0e6e875109babda0a0077b3926df03e9d\n'}, {'number': 2, 'created': '2021-06-29 00:40:46.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/test_overcloud_profiles.py', 'tripleoclient/tests/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8e861fa24376992778f00a0e288eb69ef0895023', 'message': 'Move FakeFlavor class to fakes.py\n\nMove the FakeFlavor class used in tests to the\nfakes.py file.\n\nChange-Id: I17ddc7a0e6e875109babda0a0077b3926df03e9d\n'}]",1,798395,8e861fa24376992778f00a0e288eb69ef0895023,10,3,2,24245,,,0,"Move FakeFlavor class to fakes.py

Move the FakeFlavor class used in tests to the
fakes.py file.

Change-Id: I17ddc7a0e6e875109babda0a0077b3926df03e9d
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/95/798395/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/test_overcloud_profiles.py', 'tripleoclient/tests/fakes.py']",3,9f96e17a8682e79b35101f974e6799f9596ffb60,201-cleanup," class FakeFlavor(object): def __init__(self, name, profile=''): self.name = name self.profile = name if profile != '': self.profile = profile def get_keys(self): return { 'capabilities:boot_option': 'local', 'capabilities:profile': self.profile }",,19,18
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I0e1f7eed0ffe751fa54682103051ad29c08c1517,openstack/tripleo-heat-templates,stable/victoria,I0e1f7eed0ffe751fa54682103051ad29c08c1517,Make default of NeutronDefaultAvailabilityZones empty array,MERGED,2021-07-09 12:56:01.000000000,2021-07-13 12:39:10.000000000,2021-07-13 12:39:10.000000000,"[{'_account_id': 8833}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-07-09 12:56:01.000000000', 'files': ['deployment/neutron/neutron-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f99fab96797c40fb819ab281681477f3d173368f', 'message': ""Make default of NeutronDefaultAvailabilityZones empty array\n\nNeutronDefaultAvailabilityZones is of type comma_delimited_list\ntherefore the default need to be [] instead of ''. Right now\nthe condition checks for empty string which is not the case\nfor comma_delimited_list and the hieradata covered by the\naz_unset condition get always set.\n\nCloses-Bug: #1934970\n\nConflicts:\n    deployment/neutron/neutron-api-container-puppet.yaml\n\nChange-Id: I0e1f7eed0ffe751fa54682103051ad29c08c1517\n(cherry picked from commit f276e7a4ae39c484226c2ebe6053e7a53a6fcaa1)\n(cherry picked from commit be2c8e62cecff253eb86a213c778943ee5b22346)\n""}]",0,800224,f99fab96797c40fb819ab281681477f3d173368f,18,7,1,17216,,,0,"Make default of NeutronDefaultAvailabilityZones empty array

NeutronDefaultAvailabilityZones is of type comma_delimited_list
therefore the default need to be [] instead of ''. Right now
the condition checks for empty string which is not the case
for comma_delimited_list and the hieradata covered by the
az_unset condition get always set.

Closes-Bug: #1934970

Conflicts:
    deployment/neutron/neutron-api-container-puppet.yaml

Change-Id: I0e1f7eed0ffe751fa54682103051ad29c08c1517
(cherry picked from commit f276e7a4ae39c484226c2ebe6053e7a53a6fcaa1)
(cherry picked from commit be2c8e62cecff253eb86a213c778943ee5b22346)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/24/800224/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-api-container-puppet.yaml'],1,f99fab96797c40fb819ab281681477f3d173368f,1934970-v," default: [] az_unset: {equals: [{get_param: NeutronDefaultAvailabilityZones}, []]}"," default: '' az_unset: {equals: [{get_param: NeutronDefaultAvailabilityZones}, '']}",2,2
openstack%2Ftripleo-quickstart-extras~master~Ied28977184c43e9d64c160e52d2ac501ba34705a,openstack/tripleo-quickstart-extras,master,Ied28977184c43e9d64c160e52d2ac501ba34705a,Add ansible var to enable swift on undercloud,MERGED,2021-02-02 02:51:36.000000000,2021-07-13 12:33:39.000000000,2021-02-05 21:27:45.000000000,"[{'_account_id': 8449}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-02-02 02:51:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5f9cdbc3b09ffa780c687d10e6b104fac3b58613', 'message': 'Add ansible var to enable swift on undercloud\n\nThis would allow us to enable swift on the undercloud\nwhen using quickstart.\n\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/772827\nChange-Id: Ied28977184c43e9d64c160e52d2ac501ba34705a\n'}, {'number': 2, 'created': '2021-02-02 08:58:30.000000000', 'files': ['roles/extras-common/defaults/main.yml', 'roles/undercloud-deploy/templates/undercloud.conf.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c619e45f2d8e03be3291cc5b5064109718b13514', 'message': 'Add ansible var to enable swift on undercloud\n\nThis would allow us to enable swift on the undercloud\nwhen using quickstart.\n\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/772968\nChange-Id: Ied28977184c43e9d64c160e52d2ac501ba34705a\n'}]",0,773559,c619e45f2d8e03be3291cc5b5064109718b13514,25,5,2,8833,,,0,"Add ansible var to enable swift on undercloud

This would allow us to enable swift on the undercloud
when using quickstart.

Depends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/772968
Change-Id: Ied28977184c43e9d64c160e52d2ac501ba34705a
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/59/773559/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/extras-common/defaults/main.yml', 'roles/undercloud-deploy/templates/undercloud.conf.j2']",2,5f9cdbc3b09ffa780c687d10e6b104fac3b58613,env_merging,# Whether to install Swift in the Undercloud. (boolean value) enable_swift = {{undercloud_enable_swift}} ,,9,0
openstack%2Ftripleo-heat-templates~master~I3a54393a941ac78f3163fdfa7f76e3ee3bfa2c17,openstack/tripleo-heat-templates,master,I3a54393a941ac78f3163fdfa7f76e3ee3bfa2c17,Remove ineffective CinderPowerStoreAppliances parameter,MERGED,2021-07-11 04:42:41.000000000,2021-07-13 11:53:19.000000000,2021-07-13 11:51:48.000000000,"[{'_account_id': 8833}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-11 04:42:41.000000000', 'files': ['releasenotes/notes/remove-cinder-powerstore_appliances-0a4905808b2b66f1.yaml', 'deployment/cinder/cinder-backend-dellemc-powerstore-puppet.yaml', 'environments/cinder-dellemc-powerstore-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c769343d89d509778e874d7a5974e7cd7fc4a3fb', 'message': 'Remove ineffective CinderPowerStoreAppliances parameter\n\nThe powerstore_appliances parameter was deprecated in cinder[1] and\nsince then the parameter has no effect.\n\n[1] f328341ed0eb920a6471f7c65e06b27c3f719fbe\n\nChange-Id: I3a54393a941ac78f3163fdfa7f76e3ee3bfa2c17\n'}]",0,800334,c769343d89d509778e874d7a5974e7cd7fc4a3fb,9,4,1,9816,,,0,"Remove ineffective CinderPowerStoreAppliances parameter

The powerstore_appliances parameter was deprecated in cinder[1] and
since then the parameter has no effect.

[1] f328341ed0eb920a6471f7c65e06b27c3f719fbe

Change-Id: I3a54393a941ac78f3163fdfa7f76e3ee3bfa2c17
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/34/800334/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-cinder-powerstore_appliances-0a4905808b2b66f1.yaml', 'deployment/cinder/cinder-backend-dellemc-powerstore-puppet.yaml', 'environments/cinder-dellemc-powerstore-config.yaml']",3,c769343d89d509778e874d7a5974e7cd7fc4a3fb,powerstore_appliances,, CinderPowerStoreAppliances: '',5,4
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I08fa1ee947574e6fac24885b17706a22054fcba9,openstack/tripleo-heat-templates,stable/train,I08fa1ee947574e6fac24885b17706a22054fcba9,Remove NovaVncProxyNetwork from ServiceNetMap,MERGED,2021-06-30 11:06:43.000000000,2021-07-13 11:51:41.000000000,2021-07-13 11:51:41.000000000,"[{'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-06-30 11:06:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4e4fc42fd5e890d92eb6e4c0259b993461b393c8', 'message': 'Remove NovaVncProxyNetwork from ServiceNetMap\n\nIn Icef2481b65b41b524ad44eeecfbee4451006e1d2 we moved to use\nNovaLibvirtNetwork as the single network to configure instance console\ncomponents.\nDue to how hieradata is being rendered via tripleo-hieradata, the\nremoved NovaVncProxyNetwork resulted in no-vnc-proxy service to\nfall back to the control plane network because NovaVncProxyNetwork\nwas removed.\nNovaVncProxyNetwork was then reintroduced with\nI595294956a4a7a0e2280c685ac1d2543edbc32f2 but as a side effect\nagain introduced the inconsistency on the console configuration.\n\nThis patch removes the NovaVncProxyNetwork from ServiceNetMap\nbut set it as part of service_net_map.j2.yaml and keep it in\nsync with NovaLibvirtNetwork.\n\nConflicts:\n    network/service_net_map.j2.yaml\n    overcloud-resource-registry-puppet.j2.yaml\n\nChange-Id: I08fa1ee947574e6fac24885b17706a22054fcba9\nCloses-Bug: #1917719\n(cherry picked from commit 9da8a405952623e42f52e13ac948da1e57cf6906)\n(cherry picked from commit 2f0689d8d7e4078c4e9c025c3deb9b9e0a638d05)\n(cherry picked from commit d18c6e92830bb7f6d8d62204747130678aa5a61c)\n(cherry picked from commit e50a10a4bf914bbfbcbe9e15fe4d2d07aa7b71b5)\n'}, {'number': 2, 'created': '2021-07-05 14:40:13.000000000', 'files': ['network/service_net_map.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6f2d2d06d0eac032ee99a2841aca529a9ab3bebd', 'message': 'Remove NovaVncProxyNetwork from ServiceNetMap\n\nIn Icef2481b65b41b524ad44eeecfbee4451006e1d2 we moved to use\nNovaLibvirtNetwork as the single network to configure instance console\ncomponents.\nDue to how hieradata is being rendered via tripleo-hieradata, the\nremoved NovaVncProxyNetwork resulted in no-vnc-proxy service to\nfall back to the control plane network because NovaVncProxyNetwork\nwas removed.\nNovaVncProxyNetwork was then reintroduced with\nI595294956a4a7a0e2280c685ac1d2543edbc32f2 but as a side effect\nagain introduced the inconsistency on the console configuration.\n\nThis patch removes the NovaVncProxyNetwork from ServiceNetMap\nbut set it as part of service_net_map.j2.yaml and keep it in\nsync with NovaLibvirtNetwork.\n\nConflicts:\n    network/service_net_map.j2.yaml\n    overcloud-resource-registry-puppet.j2.yaml\n\nChange-Id: I08fa1ee947574e6fac24885b17706a22054fcba9\nCloses-Bug: #1917719\n(cherry picked from commit 9da8a405952623e42f52e13ac948da1e57cf6906)\n(cherry picked from commit 2f0689d8d7e4078c4e9c025c3deb9b9e0a638d05)\n(cherry picked from commit d18c6e92830bb7f6d8d62204747130678aa5a61c)\n(cherry picked from commit e50a10a4bf914bbfbcbe9e15fe4d2d07aa7b71b5)\n'}]",0,798834,6f2d2d06d0eac032ee99a2841aca529a9ab3bebd,24,7,2,17216,,,0,"Remove NovaVncProxyNetwork from ServiceNetMap

In Icef2481b65b41b524ad44eeecfbee4451006e1d2 we moved to use
NovaLibvirtNetwork as the single network to configure instance console
components.
Due to how hieradata is being rendered via tripleo-hieradata, the
removed NovaVncProxyNetwork resulted in no-vnc-proxy service to
fall back to the control plane network because NovaVncProxyNetwork
was removed.
NovaVncProxyNetwork was then reintroduced with
I595294956a4a7a0e2280c685ac1d2543edbc32f2 but as a side effect
again introduced the inconsistency on the console configuration.

This patch removes the NovaVncProxyNetwork from ServiceNetMap
but set it as part of service_net_map.j2.yaml and keep it in
sync with NovaLibvirtNetwork.

Conflicts:
    network/service_net_map.j2.yaml
    overcloud-resource-registry-puppet.j2.yaml

Change-Id: I08fa1ee947574e6fac24885b17706a22054fcba9
Closes-Bug: #1917719
(cherry picked from commit 9da8a405952623e42f52e13ac948da1e57cf6906)
(cherry picked from commit 2f0689d8d7e4078c4e9c025c3deb9b9e0a638d05)
(cherry picked from commit d18c6e92830bb7f6d8d62204747130678aa5a61c)
(cherry picked from commit e50a10a4bf914bbfbcbe9e15fe4d2d07aa7b71b5)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/34/798834/2 && git format-patch -1 --stdout FETCH_HEAD,['network/service_net_map.j2.yaml'],1,4e4fc42fd5e890d92eb6e4c0259b993461b393c8,1917719-2-t," - if: # (mschuppert) this is to keep NovaVncProxyNetwork and NovaLibvirtNetwork # in sync to not break VNC console - not: {equals : [{get_param: [ServiceNetMap, NovaLibvirtNetwork]}, '']} - NovaVncProxyNetwork: { get_param: [ServiceNetMap, NovaLibvirtNetwork] } - NovaVncProxyNetwork: { get_param: [ServiceNetMapDefaults, NovaLibvirtNetwork] }"," NovaVncProxyNetwork: {{ _service_nets.get('internal_api', 'ctlplane') }}",6,1
openstack%2Fansible-collections-openstack~master~I569d846008ccacf5b227586f031daf8206e53e6d,openstack/ansible-collections-openstack,master,I569d846008ccacf5b227586f031daf8206e53e6d,Swift object module,NEW,2021-04-16 13:25:55.000000000,2021-07-13 11:28:47.000000000,,"[{'_account_id': 2}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-04-16 13:25:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a119cb83561c0a253ac044bd875eddef291d9131', 'message': 'Swift object module\n\nChange-Id: I569d846008ccacf5b227586f031daf8206e53e6d\n'}, {'number': 2, 'created': '2021-04-19 09:38:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/2b461b4c216625b36488b5e56fef23c76ea388ee', 'message': 'Swift object module\n\nChange-Id: I569d846008ccacf5b227586f031daf8206e53e6d\n'}, {'number': 3, 'created': '2021-04-20 07:12:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/53c9edd37cb3aec40567c09257408413629ccae6', 'message': 'Swift object module\n\nChange-Id: I569d846008ccacf5b227586f031daf8206e53e6d\n'}, {'number': 4, 'created': '2021-06-29 10:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/26807616be365f993f8d9b091c152a6c05fd36a2', 'message': 'Swift object module\n\nChange-Id: I569d846008ccacf5b227586f031daf8206e53e6d\n'}, {'number': 5, 'created': '2021-06-29 11:57:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/943df0bc3f97e39d4a22e68193fc09e0ba47374b', 'message': 'Swift object module\n\nChange-Id: I569d846008ccacf5b227586f031daf8206e53e6d\n'}, {'number': 6, 'created': '2021-06-29 14:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e552e617473fcadda29e9e649cfb5421bb9a0022', 'message': 'Swift object module\n\nChange-Id: I569d846008ccacf5b227586f031daf8206e53e6d\n'}, {'number': 7, 'created': '2021-07-01 12:53:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/075a06acdd477ea15a9708372a4258b71b36293d', 'message': 'Swift object module\n\nChange-Id: I569d846008ccacf5b227586f031daf8206e53e6d\n'}, {'number': 8, 'created': '2021-07-02 10:50:54.000000000', 'files': ['ci/roles/object/tasks/main.yml', 'ci/roles/object/defaults/main.yml', 'ci/run-collection.yml', 'plugins/modules/object.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/5730ebe8f932207fa37dad4c7d119186d9215d4d', 'message': 'Swift object module\n\nChange-Id: I569d846008ccacf5b227586f031daf8206e53e6d\n'}]",50,786653,5730ebe8f932207fa37dad4c7d119186d9215d4d,23,4,8,32787,,,0,"Swift object module

Change-Id: I569d846008ccacf5b227586f031daf8206e53e6d
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/53/786653/7 && git format-patch -1 --stdout FETCH_HEAD,"['ci/roles/object/tasks/main.yml', 'ci/roles/object/defaults/main.yml', 'ci/run-collection.yml', 'plugins/modules/object.py']",4,a119cb83561c0a253ac044bd875eddef291d9131,,"# coding: utf-8 -*- # # Copyright (c) 2021 by Open Telekom Cloud, operated by T-Systems International GmbHshort_description: Manage Swift object. - Create/Delete/Fetch Swift object in the OTC. options: container: description: Name of container in Swift. type: str required: true object: description: Name of object in Swift. type: str required: true content: description: - Content to upload, must be a variable. - Mutually exclusive with 'src'. - Mandatory for creation if 'src' is not set. type: str required: false src: description: - Content to upload, must be absolute filepath. - Mutually exclusive with 'content'. - Mandatory for creation if 'content' is not set. type: path required: false aliases: ['filename'] dest: description: - The destination file path for object downloading. - If file doesn't exist, it will be created. - If not valid path, content of the object will be output to the terminal. type: path required: false metadata: description: - Key/value pairs to be set as metadata on the object. - Can be set during resource creation and for already existing resource. - Both custom and system metadata can be set. - Custom metadata are keys and values defined by the user. - The system metadata keys are content_type, content_encoding, content_disposition, delete_after,\ delete_at, is_content_type_detected type: dict required: false keys: description: Keys from 'metadata' to be deleted. type: list elements: str required: false overwrite: description: Whether object should be overwritten or not in case it already exists. type: bool default: False required: false ignore_nonexistent_container: description: Whether container should be created or not in case it doesn't exist. type: bool default: False required: false state: description: Whether resource should be present or absent. required: false default: 'present' choices: ['present', 'absent'] type: strRETURN = ''' object: description: Specifies the swift object. returned: On success when C(state=present) type: dict sample: { ""_bytes"": 273, ""_content_type"": ""text/plain"", ""_hash"": ""58c6362a0e013dae97594abe7b06d801"", ""_last_modified"": ""2021-02-18T14:23:55.259610"", ""accept_ranges"": null, ""content_disposition"": null, ""content_encoding"": null, ""content_length"": 273, ""content_type"": ""text/plain"", ""copy_from"": null, ""delete_after"": null, ""delete_at"": null, ""etag"": ""58c6362a0e013dae97594abe7b06d801"", ""expires_at"": null, ""id"": ""object"", ""last_modified_at"": ""2021-02-18T14:23:55.259610"", ""multipart_manifest"": null, ""name"": ""my.txt"", ""object_manifest"": null, ""range"": null, ""signature"": null, ""timestamp"": null, ""transfer_encoding"": null }EXAMPLES = ''' # Create object and container if it doesn't exist - openstack.cloud.object: container: ""new-container"" object: ""new-object"" content: ""text"" ignore_nonexistent_container: true # Create an object in a container with a content from file and with metadata - openstack.cloud.object: container: ""new-container"" object: ""new-object"" src: ""./content.txt"" metadata: ""content_encoding='utf-8'"" # Create an object in a container with a content from variable and overwrite it when object already exists - openstack.cloud.object: container: ""new-container"" object: ""new-object"" content: obj: var1: 1 var2: 2 overwrite: true # Set metadata for an existent object - openstack.cloud.object: container: ""new-container"" object: ""new-object"" metadata: ""content_encoding='utf-8'"" # Delete some keys from metadata of an existent object - openstack.cloud.object: container: ""new-container"" object: ""new-object"" keys: - content_type # Fetch object to file which located in 'dest' (if file doesn't exist, will be created) - openstack.cloud.object: container: ""new-container"" object: ""new-object"" dest: ""./newfile.txt"" # Delete object - openstack.cloud.object: container: ""new-container"" object: ""new-object"" state: absent ''' from ansible_collections.openstack.cloud.plugins.module_utils.openstack import OpenStackModule class ObjectModule(OpenStackModule): argument_spec = dict( container=dict(type='str', required=True), object=dict(type='str', required=True), content=dict(type='str', required=False), src=dict(type='path', required=False, aliases=['filename']), dest=dict(type='path', required=False), metadata=dict(type='dict', required=False), keys=dict(type='list', required=False, elements='str'), overwrite=dict(type='bool', default=False, required=False), ignore_nonexistent_container=dict(type='bool', default=False, required=False), state=dict(type='str', required=False, choices=['present', 'absent'], default='present') ) def create(self, container, object): content = self.params['content'] src = self.params['src'] metadata = self.params['metadata'] data = {} if not self._container_exist(container): if not self.params['ignore_nonexistent_container']: self.fail_json(""Container doesn't exist"") container_data = self.conn.object_store.create_container(name=container).to_dict() container_data.pop('location') data['container'] = container_data if self._object_exist(object, container): if not self.params['overwrite']: self.fail_json(msg=""Object already exists"") self.conn.object_store.delete_object(obj=object, container=container) if content and src: self.fail_json(""Only content or src can be set"") if src: try: with open(src) as file: content = file.read() except FileNotFoundError: self.fail_json(msg=""File specified in 'src' not found"") object_data = self.conn.object_store.create_object( container=container, name=object, data=content ).to_dict() if metadata: object_data = self.conn.object_store.set_object_metadata(object, container, **metadata).to_dict() object_data.pop('location') object_data['content'] = content data['object'] = object_data self.exit(changed=True, **data) def delete(self, container, object): if not self._container_exist(container): self.fail_json(msg=""Container doesn't exist"") try: self.conn.object_store.delete_object(container=container, obj=object) except self.sdk.exceptions.ResourceNotFound: changed = False self.exit(changed=changed) def fetch(self, container, object): if not self._object_exist(object, container): self.fail_json(msg=""This object or container doesn't exist"") dest = self.params['dest'] content = self.conn.object_store.download_object(object, container) changed = True try: with open(dest, 'wb+') as f: f.write(content) self.exit(changed=changed) except IOError: self.exit(changed=changed, data=content) def set_metadata(self, container, object): metadata = self.params['metadata'] data = {} if not self._object_exist(object, container): self.fail_json(msg=""Object doesn't exist"") new_object = self.conn.object_store.set_object_metadata(object, container, **metadata).to_dict() new_object.pop('location') data['object'] = new_object self.exit(changed=True, **data) def delete_metadata(self, container, object): keys = self.params['keys'] if not self._object_exist(object, container): self.fail_json(msg=""Object doesn't exist"") self.conn.object_store.delete_object_metadata(obj=object, container=container, keys=keys) changed = True self.exit(changed=changed) def _object_exist(self, object, container): try: self.conn.object_store.get_object_metadata(object, container) return True except self.sdk.exceptions.ResourceNotFound: return False def _container_exist(self, container): try: self.conn.object_store.get_container_metadata(container) return True except self.sdk.exceptions.ResourceNotFound: return False def run(self): container = self.params['container'] object = self.params['object'] state = self.params['state'] if state == 'absent': self.delete(container, object) if self.params['src'] or self.params['content']: self.create(container, object) if self.params['metadata']: self.set_metadata(container, object) if self.params['keys']: self.delete_metadata(container, object) if self.params['dest']: self.fetch(container, object) self.fail_json(msg=""'Content' or 'src' must be specified to create resource, 'dest' must be specified "" ""to fetch resource, 'metadata' must be specified to change metadata of the resource, "" ""'keys' must be specified to delete some keys from metadata of the resource."") module = ObjectModule() module()"," # Copyright (c) 2015 Hewlett-Packard Development Company, L.P. # Copyright (c) 2013, Benno Joy <benno@ansible.com>short_description: Create or Delete objects and containers from OpenStack - Create or Delete objects and containers from OpenStack options: container: description: - The name of the container in which to create the object required: true type: str name: description: - Name to be give to the object. If omitted, operations will be on the entire container required: false type: str filename: description: - Path to local file to be uploaded. required: false type: str container_access: description: - desired container access level. required: false choices: ['private', 'public'] default: private type: str state: description: - Should the resource be present or absent. choices: [present, absent] default: present type: strEXAMPLES = ''' - name: ""Create a object named 'fstab' in the 'config' container"" openstack.cloud.object: cloud: mordred state: present name: fstab container: config filename: /etc/fstab - name: Delete a container called config and all of its contents openstack.cloud.object: cloud: rax-iad state: absent container: configfrom ansible.module_utils.basic import AnsibleModule from ansible_collections.openstack.cloud.plugins.module_utils.openstack import (openstack_full_argument_spec, openstack_module_kwargs, openstack_cloud_from_module) def process_object( cloud_obj, container, name, filename, container_access, **kwargs): changed = False container_obj = cloud_obj.get_container(container) if kwargs['state'] == 'present': if not container_obj: container_obj = cloud_obj.create_container(container) if cloud_obj.get_container_access(container) != container_access: cloud_obj.set_container_access(container, container_access) changed = True if name: if cloud_obj.is_object_stale(container, name, filename): cloud_obj.create_object(container, name, filename) changed = True else: if container_obj: if name: if cloud_obj.get_object_metadata(container, name): cloud_obj.delete_object(container, name) changed = True else: cloud_obj.delete_container(container) changed = True return changed argument_spec = openstack_full_argument_spec( name=dict(required=False, default=None), container=dict(required=True), filename=dict(required=False, default=None), container_access=dict(default='private', choices=['private', 'public']), state=dict(default='present', choices=['absent', 'present']), ) module_kwargs = openstack_module_kwargs() module = AnsibleModule(argument_spec, **module_kwargs) sdk, cloud = openstack_cloud_from_module(module) try: changed = process_object(cloud, **module.params) module.exit_json(changed=changed) except sdk.exceptions.OpenStackCloudException as e: module.fail_json(msg=str(e))",430,125
openstack%2Ftripleo-quickstart~master~I53df195819d8c0a678a57ad8938a962f11d6e8c8,openstack/tripleo-quickstart,master,I53df195819d8c0a678a57ad8938a962f11d6e8c8,Test against the latest puppet-placement,MERGED,2021-04-25 13:04:08.000000000,2021-07-13 10:53:42.000000000,2021-07-13 10:51:22.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-04-25 13:04:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c01f7e3d6ccefc1341cadde71f645d070a93c87b', 'message': 'Test against the latest puppet-placement\n\nDepends-on: https://review.opendev.org/786768\nChange-Id: I53df195819d8c0a678a57ad8938a962f11d6e8c8\n'}, {'number': 2, 'created': '2021-07-12 05:54:29.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-master.yml', 'config/release/tripleo-ci/CentOS-8/master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/20667005bbdc57d2ca11be894c431951c030bbbb', 'message': 'Test against the latest puppet-placement\n\nDepends-on: https://review.opendev.org/786768\nChange-Id: I53df195819d8c0a678a57ad8938a962f11d6e8c8\n'}]",0,787883,20667005bbdc57d2ca11be894c431951c030bbbb,18,11,2,9816,,,0,"Test against the latest puppet-placement

Depends-on: https://review.opendev.org/786768
Change-Id: I53df195819d8c0a678a57ad8938a962f11d6e8c8
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/83/787883/1 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-8/master.yml'],1,c01f7e3d6ccefc1341cadde71f645d070a93c87b,puppet-placement, - puppet-placement,,1,0
openstack%2Ftripleo-ci~master~Ice59e490d5a82c1624bf69fb25fd83d0dd93ceee,openstack/tripleo-ci,master,Ice59e490d5a82c1624bf69fb25fd83d0dd93ceee,Add missing trigger for octavia playbook to CI,MERGED,2021-06-29 16:51:42.000000000,2021-07-13 10:51:30.000000000,2021-07-13 10:51:30.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-29 16:51:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/06b393a6701bc17e58177a7b90d00ff84e9c15ce', 'message': 'Add missing trigger for octavia playbook to CI\n\nThe octavia-files.yaml playbook was missing from the triggers.\n\nChange-Id: Ice59e490d5a82c1624bf69fb25fd83d0dd93ceee\n'}, {'number': 2, 'created': '2021-07-12 19:15:05.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/93162481dc1a3c00fca2ed52c0b1f646c408a827', 'message': 'Add missing trigger for octavia playbook to CI\n\nThe octavia-files.yaml playbook was missing from the triggers.\n\nChange-Id: Ice59e490d5a82c1624bf69fb25fd83d0dd93ceee\n'}]",0,798716,93162481dc1a3c00fca2ed52c0b1f646c408a827,15,4,2,6681,,,0,"Add missing trigger for octavia playbook to CI

The octavia-files.yaml playbook was missing from the triggers.

Change-Id: Ice59e490d5a82c1624bf69fb25fd83d0dd93ceee
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/16/798716/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,06b393a6701bc17e58177a7b90d00ff84e9c15ce,octavia-ci, - ^tripleo_ansible/playbooks/octavia-files.yaml,,1,0
openstack%2Ftripleo-ansible~stable%2Fussuri~I1dd246badb8d7d00abfb72cf7451856bf49263cc,openstack/tripleo-ansible,stable/ussuri,I1dd246badb8d7d00abfb72cf7451856bf49263cc,[tripleo_transfer] Add more thorough testing,MERGED,2021-07-08 05:53:06.000000000,2021-07-13 10:51:26.000000000,2021-07-13 10:51:26.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 05:53:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6ff07757026dd486309fca1b02480cc6b6cb78c6', 'message': '[tripleo_transfer] Add more thorough testing\n\nIn this patch we add some tests to verify that the correct\nfiles are copied over, are exactly the same and the files\nin the destination are removed.\n\nRelated-Bug: #1925260\n\nChange-Id: I1dd246badb8d7d00abfb72cf7451856bf49263cc\n(cherry picked from commit a025bfec8fa9b807a89e89a82a0c6921bf158e40)\n(cherry picked from commit 05c4669503612105439ab4d1a408cf7eddfdc179)\n'}, {'number': 2, 'created': '2021-07-09 09:07:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d280f4318de52e5f4dc78dfd4df617e19b4d57c5', 'message': '[tripleo_transfer] Add more thorough testing\n\nIn this patch we add some tests to verify that the correct\nfiles are copied over, are exactly the same and the files\nin the destination are removed.\n\nNote: this backport is a dependency of\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/799468\n\nRelated-Bug: #1925260\n\nChange-Id: I1dd246badb8d7d00abfb72cf7451856bf49263cc\n(cherry picked from commit a025bfec8fa9b807a89e89a82a0c6921bf158e40)\n(cherry picked from commit 05c4669503612105439ab4d1a408cf7eddfdc179)\n'}, {'number': 3, 'created': '2021-07-09 09:11:07.000000000', 'files': ['tripleo_ansible/roles/tripleo_transfer/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/cleanup.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/converge.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1b4b3725eb2063a9aa75c732d6c8f19b1610d576', 'message': '[tripleo_transfer] Add more thorough testing\n\nIn this patch we add some tests to verify that the correct\nfiles are copied over, are exactly the same and the files\nin the destination are removed.\n\nNote: this backport is a dependency of\nI1e88907db0bb26d52c92cb996eb56767e06b3874\n\nRelated-Bug: #1925260\n\nChange-Id: I1dd246badb8d7d00abfb72cf7451856bf49263cc\n(cherry picked from commit a025bfec8fa9b807a89e89a82a0c6921bf158e40)\n(cherry picked from commit 05c4669503612105439ab4d1a408cf7eddfdc179)\n'}]",0,799888,1b4b3725eb2063a9aa75c732d6c8f19b1610d576,14,7,3,26343,,,0,"[tripleo_transfer] Add more thorough testing

In this patch we add some tests to verify that the correct
files are copied over, are exactly the same and the files
in the destination are removed.

Note: this backport is a dependency of
I1e88907db0bb26d52c92cb996eb56767e06b3874

Related-Bug: #1925260

Change-Id: I1dd246badb8d7d00abfb72cf7451856bf49263cc
(cherry picked from commit a025bfec8fa9b807a89e89a82a0c6921bf158e40)
(cherry picked from commit 05c4669503612105439ab4d1a408cf7eddfdc179)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/88/799888/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_transfer/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/cleanup.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/converge.yml']",4,6ff07757026dd486309fca1b02480cc6b6cb78c6,bz/1916162-stable/victoria-stable/ussuri," tasks: - name: Install openssl for file creation package: name: openssl state: present become: true - name: Create test directories file: state: directory path: ""{{ item }}"" loop: - ""{{ test_src_dir }}"" - ""{{ test_dst_dir }}"" - name: Create 1GB src test files with random content shell: >- openssl rand -out {{ item }} -base64 $(( 2**30 * 3/4 )) args: chdir: ""{{ test_src_dir }}"" creates: ""{{ item }}"" loop: ""{{ test_src_files }}"" - name: Create empty dst test files with random content file: path: ""{{ test_dst_dir }}/{{ item }}"" state: touch loop: ""{{ test_dst_files }}"" - include_role: name: ""tripleo_transfer"" vars: tripleo_transfer_src_host: controller2 tripleo_transfer_src_dir: ""{{ test_src_dir }}"" tripleo_transfer_dest_host: controller1 tripleo_transfer_dest_dir: ""{{ test_dst_dir }}"""," roles: - role: ""tripleo_transfer"" tripleo_transfer_src_host: controller2 tripleo_transfer_src_dir: /etc tripleo_transfer_dest_host: controller1 tripleo_transfer_dest_dir: /opt/etc-target",127,7
openstack%2Fpython-manilaclient~master~I8d0542faf56e6022e3b265957132f00ce063dcd6,openstack/python-manilaclient,master,I8d0542faf56e6022e3b265957132f00ce063dcd6,[OSC] Implement Share Replica Commands,MERGED,2020-11-29 09:34:42.000000000,2021-07-13 10:49:40.000000000,2021-07-13 10:48:32.000000000,"[{'_account_id': 6413}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 31213}, {'_account_id': 32531}]","[{'number': 1, 'created': '2020-11-29 09:34:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/ea2a1199c3493e3c8dbeca82f3af251c3e279639', 'message': 'WIP: [OSC] Implement Share Replica Commands\n\nChange-Id: I8d0542faf56e6022e3b265957132f00ce063dcd6\n'}, {'number': 2, 'created': '2020-12-19 16:24:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/43dc1dcc720c960e58b7de3e46fcddf3b733b732', 'message': 'WIP: [OSC] Implement Share Replica Commands\n\nChange-Id: I8d0542faf56e6022e3b265957132f00ce063dcd6\n'}, {'number': 3, 'created': '2021-01-09 08:51:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/b21ec2e35e8ad1ef11ab8d37ca123f432f4fb69d', 'message': 'WIP: [OSC] Implement Share Replica Commands\n\nChange-Id: I8d0542faf56e6022e3b265957132f00ce063dcd6\n'}, {'number': 4, 'created': '2021-01-09 09:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/270c003e4ded8d73a9e917f5af1b02dca33bb575', 'message': 'WIP: [OSC] Implement Share Replica Commands\n\nIn this patch we add the following openstack share commands:\nshare replica create\nshare replica delete\nshare replica list\nshare replica show\n\nChange-Id: I8d0542faf56e6022e3b265957132f00ce063dcd6\n'}, {'number': 5, 'created': '2021-01-22 18:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/8d82da1e4692643b9bff9189ca39da7e38778a48', 'message': 'WIP: [OSC] Implement Share Replica Commands\n\nIn this patch we add the following openstack share commands:\nshare replica create\nshare replica delete\nshare replica list\nshare replica show\n\nChange-Id: I8d0542faf56e6022e3b265957132f00ce063dcd6\n'}, {'number': 6, 'created': '2021-01-23 10:27:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/fc4ecb5af0a0d7339f4e68976f08d1b8047fcd16', 'message': 'WIP: [OSC] Implement Share Replica Commands\n\nIn this patch we add the following openstack share commands:\nshare replica create\nshare replica delete\nshare replica list\nshare replica show\nshare replica set\n\nChange-Id: I8d0542faf56e6022e3b265957132f00ce063dcd6\n'}, {'number': 7, 'created': '2021-01-24 09:07:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/9e16139acbf17f768e3d8ef712eae8701eb1d4de', 'message': '[OSC] Implement Share Replica Commands\n\nIn this patch we add the following openstack share commands:\nshare replica create\nshare replica delete\nshare replica list\nshare replica show\nshare replica set\nshare replica promote\nshare replica resync\n\nChange-Id: I8d0542faf56e6022e3b265957132f00ce063dcd6\n'}, {'number': 8, 'created': '2021-01-24 09:09:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/3821783c84d2c0a16c42fa8ddb78bcfabeee4ee4', 'message': '[OSC] Implement Share Replica Commands\n\nIn this patch we add the following openstack share commands:\nshare replica create\nshare replica delete\nshare replica list\nshare replica show\nshare replica set\nshare replica promote\nshare replica resync\n\nChange-Id: I8d0542faf56e6022e3b265957132f00ce063dcd6\n'}, {'number': 9, 'created': '2021-01-25 06:27:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/1147263b962b374dd8ea6b38ebc48cb47aa15b9a', 'message': '[OSC] Implement Share Replica Commands\n\nIn this patch we add the following openstack share commands:\nshare replica create\nshare replica delete\nshare replica list\nshare replica show\nshare replica set\nshare replica promote\nshare replica resync\n\nChange-Id: I8d0542faf56e6022e3b265957132f00ce063dcd6\n'}, {'number': 10, 'created': '2021-01-25 18:10:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/3c5f19ed5d2e01ef4308f0050a0766af2c1cd8f9', 'message': '[OSC] Implement Share Replica Commands\n\nIn this patch we add the following openstack share commands:\nshare replica create\nshare replica delete\nshare replica list\nshare replica show\nshare replica set\nshare replica promote\nshare replica resync\n\nPartially-implements bp openstack-client-support\nChange-Id: I8d0542faf56e6022e3b265957132f00ce063dcd6\n'}, {'number': 11, 'created': '2021-04-17 12:41:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/44854404def6aff73fbfb74f1a4be01c86f8ec2f', 'message': '[OSC] Implement Share Replica Commands\n\nIn this patch we add the following openstack share commands:\nshare replica create\nshare replica delete\nshare replica list\nshare replica show\nshare replica set\nshare replica promote\nshare replica resync\n\nPartially-implements bp openstack-client-support\nChange-Id: I8d0542faf56e6022e3b265957132f00ce063dcd6\n'}, {'number': 12, 'created': '2021-04-26 12:45:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/bac8d626bfc4592ad5090b1900b92d1b7b5ea90d', 'message': '[OSC] Implement Share Replica Commands\n\nIn this patch we add the following openstack share commands:\nshare replica create\nshare replica delete\nshare replica list\nshare replica show\nshare replica set\nshare replica promote\nshare replica resync\n\nPartially-implements: bp openstack-client-support\nChange-Id: I8d0542faf56e6022e3b265957132f00ce063dcd6\n'}, {'number': 13, 'created': '2021-04-26 12:48:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/36f3cd96706351993b8e95ee4cfd12ae0eaf2d81', 'message': '[OSC] Implement Share Replica Commands\n\nIn this patch we add the following openstack share commands:\nshare replica create\nshare replica delete\nshare replica list\nshare replica show\nshare replica set\nshare replica promote\nshare replica resync\n\nPartially-implements: bp openstack-client-support\nChange-Id: I8d0542faf56e6022e3b265957132f00ce063dcd6\n'}, {'number': 14, 'created': '2021-04-26 12:50:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/94d453171b2a3764c802804dcb85f5e95523097f', 'message': '[OSC] Implement Share Replica Commands\n\nIn this patch we add the following openstack share commands:\nshare replica create\nshare replica delete\nshare replica list\nshare replica show\nshare replica set\nshare replica promote\nshare replica resync\n\nPartially-implements: bp openstack-client-support\nChange-Id: I8d0542faf56e6022e3b265957132f00ce063dcd6\n'}, {'number': 15, 'created': '2021-07-06 09:40:25.000000000', 'files': ['manilaclient/osc/utils.py', 'manilaclient/tests/unit/osc/v2/fakes.py', 'manilaclient/tests/unit/osc/v2/test_share_replicas.py', 'doc/source/cli/osc/v2/index.rst', 'manilaclient/osc/v2/share_replicas.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/df3388677cf5cfb65da4cfa321df33e21a7ee1bb', 'message': '[OSC] Implement Share Replica Commands\n\nIn this patch we add the following openstack share commands:\nshare replica create\nshare replica delete\nshare replica list\nshare replica show\nshare replica set\nshare replica promote\nshare replica resync\n\nPartially-implements: bp openstack-client-support\nChange-Id: I8d0542faf56e6022e3b265957132f00ce063dcd6\n'}]",6,764583,df3388677cf5cfb65da4cfa321df33e21a7ee1bb,45,6,15,31213,,,0,"[OSC] Implement Share Replica Commands

In this patch we add the following openstack share commands:
share replica create
share replica delete
share replica list
share replica show
share replica set
share replica promote
share replica resync

Partially-implements: bp openstack-client-support
Change-Id: I8d0542faf56e6022e3b265957132f00ce063dcd6
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/83/764583/1 && git format-patch -1 --stdout FETCH_HEAD,"['manilaclient/tests/unit/osc/v2/fakes.py', 'manilaclient/tests/unit/osc/v2/test_share_replicas.py', 'manilaclient/osc/v2/share_replicas.py', 'setup.cfg']",4,ea2a1199c3493e3c8dbeca82f3af251c3e279639,bp/openstack-client-support, share_replica_create = manilaclient.osc.v2.share_replicas:CreateShareReplica share_replica_delete = manilaclient.osc.v2.share_replicas:DeleteShareReplica,,481,0
openstack%2Fproject-config~master~I4f3271d3a8e9f78043c7e43ac3d52b44aa2ae683,openstack/project-config,master,I4f3271d3a8e9f78043c7e43ac3d52b44aa2ae683,register and bring back tricircle under x namespaces,ABANDONED,2021-07-12 07:39:35.000000000,2021-07-13 10:43:21.000000000,,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-12 07:39:35.000000000', 'files': ['gerrit/projects.yaml', 'gerrit/acls/x/tricircle.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d57e3efa72bb512839e52446c7ff2ab6a30d31e8', 'message': 'register and bring back tricircle under x namespaces\n\nChange-Id: I4f3271d3a8e9f78043c7e43ac3d52b44aa2ae683\n'}]",1,800427,d57e3efa72bb512839e52446c7ff2ab6a30d31e8,4,2,1,28071,,,0,"register and bring back tricircle under x namespaces

Change-Id: I4f3271d3a8e9f78043c7e43ac3d52b44aa2ae683
",git fetch https://review.opendev.org/openstack/project-config refs/changes/27/800427/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'gerrit/acls/x/tricircle.config']",2,d57e3efa72bb512839e52446c7ff2ab6a30d31e8,,"[access ""refs/heads/*""] abandon = group tricircle-core create = group tricircle-release label-Code-Review = -2..+2 group tricircle-core label-Workflow = -1..+1 group tricircle-core [access ""refs/tags/*""] pushSignedTag = group tricircle-release [receive] requireChangeId = true requireContributorAgreement = true [submit] mergeContent = true ",,18,0
openstack%2Fironic~master~I23c21188776c511eddcdaf66a222ce64876678e2,openstack/ironic,master,I23c21188776c511eddcdaf66a222ce64876678e2,Bring boot_iso/deploy_iso handling in iLO closer to Redfish,MERGED,2021-07-06 17:34:23.000000000,2021-07-13 10:35:15.000000000,2021-07-13 10:33:32.000000000,"[{'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-07-06 17:34:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5b13a77846986938bc73c579a8891a507cec4aa2', 'message': '[WIP] Bring boot_iso/deploy_iso handling in iLO closer to Redfish\n\nThe iLO version is, as far as I remember, the oldest implementation of\nvirtual media in Ironic. Since then a few cool feature have been\ndeveloped in this area, but they are limited to the code using\nimage_utils (e.g. Redfish). The iLO boot interface only uses image_utils\nwhen an ISO needs to be built, but not when one is provided. This patch\nchanges that.\n\nThere are a few visible side-effects to that:\n1) file:/// images are now supported\n2) ramdisk_image_download_source is now supported\n3) the default caching behavior changes to caching http:// links\n   (previously they were passed to the BMC directly).\n4) glance images are supported with backends other than swift\n\nChange-Id: I23c21188776c511eddcdaf66a222ce64876678e2\n'}, {'number': 2, 'created': '2021-07-06 17:45:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/22d44746518cfb44c7ff7cc02c6851efd3763800', 'message': '[WIP] Bring boot_iso/deploy_iso handling in iLO closer to Redfish\n\nThe iLO version is, as far as I remember, the oldest implementation of\nvirtual media in Ironic. Since then a few cool feature have been\ndeveloped in this area, but they are limited to the code using\nimage_utils (e.g. Redfish). The iLO boot interface only uses image_utils\nwhen an ISO needs to be built, but not when one is provided. This patch\nchanges that.\n\nThere are a few visible side-effects to that:\n1) file:/// images are now supported\n2) ramdisk_image_download_source is now supported\n3) the default caching behavior changes to caching http:// links\n   (previously they were passed to the BMC directly).\n4) glance images are supported with backends other than swift\n\nChange-Id: I23c21188776c511eddcdaf66a222ce64876678e2\n'}, {'number': 3, 'created': '2021-07-07 12:59:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/283dd3255219d65261476fed3d3274b3b0250b54', 'message': 'Bring boot_iso/deploy_iso handling in iLO closer to Redfish\n\nThe iLO version is, as far as I remember, the oldest implementation of\nvirtual media in Ironic. Since then a few cool feature have been\ndeveloped in this area, but they are limited to the code using\nimage_utils (e.g. Redfish). The iLO boot interface only uses image_utils\nwhen an ISO needs to be built, but not when one is provided. This patch\nchanges that.\n\nThere are a few visible side-effects to that:\n1) file:/// images are now supported\n2) ramdisk_image_download_source is now supported\n3) the default caching behavior changes to caching http:// links\n   (previously they were passed to the BMC directly).\n4) glance images are supported with backends other than swift\n\nStory: #2008987\nTask: #42638\nChange-Id: I23c21188776c511eddcdaf66a222ce64876678e2\n'}, {'number': 4, 'created': '2021-07-07 16:52:51.000000000', 'files': ['releasenotes/notes/ilo-deploy-iso-0c88edb5daff8a4e.yaml', 'ironic/tests/unit/drivers/modules/test_image_utils.py', 'ironic/drivers/modules/ilo/boot.py', 'ironic/drivers/modules/image_utils.py', 'ironic/tests/unit/drivers/modules/ilo/test_boot.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d3737b23bdb5bc79b27009aa06f0ffcfe54d6310', 'message': 'Bring boot_iso/deploy_iso handling in iLO closer to Redfish\n\nThe iLO version is, as far as I remember, the oldest implementation of\nvirtual media in Ironic. Since then a few cool feature have been\ndeveloped in this area, but they are limited to the code using\nimage_utils (e.g. Redfish). The iLO boot interface only uses image_utils\nwhen an ISO needs to be built, but not when one is provided. This patch\nchanges that.\n\nThere are a few visible side-effects to that:\n1) file:/// images are now supported\n2) ramdisk_image_download_source is now supported\n3) the default caching behavior changes to caching http:// links\n   (previously they were passed to the BMC directly).\n4) glance images are supported with backends other than swift\n\nStory: #2008987\nTask: #42638\nChange-Id: I23c21188776c511eddcdaf66a222ce64876678e2\n'}]",0,799696,d3737b23bdb5bc79b27009aa06f0ffcfe54d6310,28,3,4,10239,,,0,"Bring boot_iso/deploy_iso handling in iLO closer to Redfish

The iLO version is, as far as I remember, the oldest implementation of
virtual media in Ironic. Since then a few cool feature have been
developed in this area, but they are limited to the code using
image_utils (e.g. Redfish). The iLO boot interface only uses image_utils
when an ISO needs to be built, but not when one is provided. This patch
changes that.

There are a few visible side-effects to that:
1) file:/// images are now supported
2) ramdisk_image_download_source is now supported
3) the default caching behavior changes to caching http:// links
   (previously they were passed to the BMC directly).
4) glance images are supported with backends other than swift

Story: #2008987
Task: #42638
Change-Id: I23c21188776c511eddcdaf66a222ce64876678e2
",git fetch https://review.opendev.org/openstack/ironic refs/changes/96/799696/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ilo-deploy-iso-0c88edb5daff8a4e.yaml', 'ironic/drivers/modules/ilo/boot.py', 'ironic/tests/unit/drivers/modules/ilo/test_boot.py']",3,5b13a77846986938bc73c579a8891a507cec4aa2,ilo-deploy-iso," @mock.patch.object(image_utils, 'prepare_boot_iso', spec_set=True, autospec=True) @mock.patch.object(ilo_boot, '_parse_deploy_info', spec_set=True, autospec=True) def test__get_boot_iso_http_url(self, deploy_info_mock, prepare_iso_mock): deploy_info_mock.assert_called_once_with(task.node) prepare_iso_mock.assert_called_once_with( task, deploy_info_mock.return_value, 'root-uuid') self.assertEqual(prepare_iso_mock.return_value, boot_iso_actual) @mock.patch.object(image_utils, 'prepare_boot_iso', spec_set=True, autospec=True) image_props_mock, prepare_iso_mock): prepare_iso_mock.assert_called_once_with( task, deploy_info_mock.return_value, 'root-uuid') self.assertEqual(prepare_iso_mock.return_value, boot_iso_actual) self.assertEqual(boot_iso_expected, task.node.instance_info['boot_iso']) @mock.patch.object(ilo_boot, '_parse_deploy_info', spec_set=True, autospec=True) def test__get_boot_iso_swift_image(self, deploy_info_mock): url = 'swift://abc.org/image/qcow2' i_info = self.node.instance_info i_info['boot_iso'] = url self.node.instance_info = i_info self.node.save() with task_manager.acquire(self.context, self.node.uuid, shared=False) as task: boot_iso_actual = ilo_boot._get_boot_iso(task, 'root-uuid') self.assertEqual(url, boot_iso_actual) deploy_info_mock.assert_called_once_with(task.node)"," @mock.patch.object(image_service.HttpImageService, 'validate_href', spec_set=True, autospec=True) def test__get_boot_iso_http_url(self, service_mock): service_mock.assert_called_once_with(mock.ANY, url) self.assertEqual(url, boot_iso_actual) @mock.patch.object(image_service.HttpImageService, 'validate_href', spec_set=True, autospec=True) def test__get_boot_iso_unsupported_url(self, validate_href_mock): validate_href_mock.side_effect = exception.ImageRefValidationFailed( image_href='file://img.qcow2', reason='fail') url = 'file://img.qcow2' i_info = self.node.instance_info i_info['boot_iso'] = url self.node.instance_info = i_info self.node.save() with task_manager.acquire(self.context, self.node.uuid, shared=False) as task: self.assertRaises(exception.ImageRefValidationFailed, ilo_boot._get_boot_iso, task, 'root-uuid') image_props_mock): self.assertEqual(boot_iso_expected, boot_iso_actual) @mock.patch.object(manager_utils, 'node_set_boot_device', spec_set=True, autospec=True) @mock.patch.object(ilo_common, 'setup_vmedia_for_boot', spec_set=True, autospec=True) @mock.patch.object(ilo_boot, '_get_boot_iso', spec_set=True, autospec=True) def test__configure_vmedia_boot_without_boot_iso( self, get_boot_iso_mock, setup_vmedia_mock, set_boot_device_mock): root_uuid = {'root uuid': 'root_uuid'} with task_manager.acquire(self.context, self.node.uuid, shared=False) as task: get_boot_iso_mock.return_value = None task.driver.boot._configure_vmedia_boot( task, root_uuid) get_boot_iso_mock.assert_called_once_with( task, root_uuid) self.assertFalse(setup_vmedia_mock.called) self.assertFalse(set_boot_device_mock.called) ",79,87
openstack%2Fironic~master~I371b0f6ab74de7aa26ecc4a65e825303e3d94085,openstack/ironic,master,I371b0f6ab74de7aa26ecc4a65e825303e3d94085,Clean up images when ejecting an ISO with Redfish,MERGED,2021-07-07 13:13:02.000000000,2021-07-13 10:21:58.000000000,2021-07-13 10:20:20.000000000,"[{'_account_id': 11292}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-07-07 13:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bf35f989da442f72528e265fa3c43a932f03ab77', 'message': '[WIP] Clean up images when ejecting an ISO with Redfish\n\nChange-Id: I371b0f6ab74de7aa26ecc4a65e825303e3d94085\n'}, {'number': 2, 'created': '2021-07-07 14:31:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c304d5d784d6ec5b124b883a71172bc1bebdd0f5', 'message': 'Clean up images when ejecting an ISO with Redfish\n\nThere is no point in keeping the disconnected ISO files around.\n\nChange-Id: I371b0f6ab74de7aa26ecc4a65e825303e3d94085\n'}, {'number': 3, 'created': '2021-07-07 14:35:01.000000000', 'files': ['ironic/tests/unit/drivers/modules/redfish/test_vendor.py', 'ironic/tests/unit/drivers/modules/redfish/test_boot.py', 'releasenotes/notes/redfish-eject-iso-9875388ae09bc8f6.yaml', 'ironic/drivers/modules/redfish/boot.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/da27e370b6fdf12330b3ccdc4404c56896862939', 'message': 'Clean up images when ejecting an ISO with Redfish\n\nThere is no point in keeping the disconnected ISO files around.\n\nChange-Id: I371b0f6ab74de7aa26ecc4a65e825303e3d94085\n'}]",0,799820,da27e370b6fdf12330b3ccdc4404c56896862939,16,4,3,10239,,,0,"Clean up images when ejecting an ISO with Redfish

There is no point in keeping the disconnected ISO files around.

Change-Id: I371b0f6ab74de7aa26ecc4a65e825303e3d94085
",git fetch https://review.opendev.org/openstack/ironic refs/changes/20/799820/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/drivers/modules/redfish/boot.py'],1,bf35f989da442f72528e265fa3c43a932f03ab77,redfish-eject-iso," # Clean up unused files for ramdisk deploy if (boot_device is None or boot_device == sushy.VIRTUAL_MEDIA_USBSTICK): image_utils.cleanup_disk_image(task, prefix='configdrive') if boot_device is None or boot_device == sushy.VIRTUAL_MEDIA_CD: image_utils.cleanup_iso_image(task) ",,6,0
openstack%2Ftripleo-quickstart~master~Ifc13c3dd90d275bcafd78bfef233d40c0bbcf799,openstack/tripleo-quickstart,master,Ifc13c3dd90d275bcafd78bfef233d40c0bbcf799,Update centos 8 dep pieline to run with compose repos,NEW,2021-06-15 20:03:00.000000000,2021-07-13 10:18:00.000000000,,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-15 20:03:00.000000000', 'files': ['config/release/dependency_ci/centos8stream/repo_config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/0a50dc0f8fc18809d7feb8e6734910553c57406c', 'message': 'Update centos 8 dep pieline to run with compose repos\n\nThsireview updates the config file for the centos 8\nstream dependency pipeline to use :\nhttps://composes.centos.org/latest-CentOS-Stream-8/compose/\n\nThis will allow testing ahead of the updated rpms that\nland in Centos 8 Stream mirrors.\n\nChange-Id: Ifc13c3dd90d275bcafd78bfef233d40c0bbcf799\n'}]",4,796536,0a50dc0f8fc18809d7feb8e6734910553c57406c,5,4,1,9976,,,0,"Update centos 8 dep pieline to run with compose repos

Thsireview updates the config file for the centos 8
stream dependency pipeline to use :
https://composes.centos.org/latest-CentOS-Stream-8/compose/

This will allow testing ahead of the updated rpms that
land in Centos 8 Stream mirrors.

Change-Id: Ifc13c3dd90d275bcafd78bfef233d40c0bbcf799
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/36/796536/1 && git format-patch -1 --stdout FETCH_HEAD,['config/release/dependency_ci/centos8stream/repo_config.yaml'],1,0a50dc0f8fc18809d7feb8e6734910553c57406c,stream-compose-8," baseurl: ""https://composes.centos.org/latest-CentOS-Stream-8/compose/BaseOS/x86_64/os/"" baseurl: ""https://composes.centos.org/latest-CentOS-Stream-8/compose/AppStream/x86_64/os/"" baseurl: ""https://composes.centos.org/latest-CentOS-Stream-8/compose/PowerTools/x86_64/os/"" baseurl: ""https://composes.centos.org/latest-CentOS-Stream-8/compose/HighAvailability/x86_64/os/"""," baseurl: ""http://mirror.den01.meanservers.net/centos/8-stream/BaseOS/x86_64/os/"" baseurl: ""http://mirror.den01.meanservers.net/centos/8-stream/AppStream/x86_64/os/"" baseurl: ""http://mirror.den01.meanservers.net/centos/8-stream/PowerTools/x86_64/os/"" baseurl: ""http://mirror.den01.meanservers.net/centos/8-stream/HighAvailability/x86_64/os/"" update_container: false - type: generic reponame: quickstart-centos-centos8stream-extras filename: ""quickstart-centos-centos8stream-extras-dependency.repo"" baseurl: ""http://mirror.den01.meanservers.net/centos/8-stream/extras/x86_64/os/"" update_container: false - type: generic reponame: quickstart-centos-centos8stream-cr filename: ""quickstart-centos-centos8stream-cr-dependency.repo"" baseurl: ""http://mirror.den01.meanservers.net/centos/8-stream/cr/x86_64/os/"" - quickstart-centos-extras - CentOS-Stream-Extras # enable conatiner tools rhel8",4,17
openstack%2Ftempest~master~I7fa41d4272f792d6fd00bece202c44e342dfeb0a,openstack/tempest,master,I7fa41d4272f792d6fd00bece202c44e342dfeb0a,Enable swift in tempest-slow-py3 job,MERGED,2021-06-14 22:10:53.000000000,2021-07-13 09:44:54.000000000,2021-06-17 21:41:18.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-06-14 22:10:53.000000000', 'files': ['zuul.d/stable-jobs.yaml', 'zuul.d/integrated-gate.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/ebecf79a9c00c714adbf871035c0b9cc5f3e7f17', 'message': 'Enable swift in tempest-slow-py3 job\n\nSwift is ready on py3 since stable/ussuri and we enabled\nit in tempest-full-py3 job for stable/ussuri onwards.\n\nThis commit does the same for tempest-slow-py3 job also so that\nwe can run swift slow test in this job.\n\nChange-Id: I7fa41d4272f792d6fd00bece202c44e342dfeb0a\n'}]",0,796322,ebecf79a9c00c714adbf871035c0b9cc5f3e7f17,16,2,1,8556,,,0,"Enable swift in tempest-slow-py3 job

Swift is ready on py3 since stable/ussuri and we enabled
it in tempest-full-py3 job for stable/ussuri onwards.

This commit does the same for tempest-slow-py3 job also so that
we can run swift slow test in this job.

Change-Id: I7fa41d4272f792d6fd00bece202c44e342dfeb0a
",git fetch https://review.opendev.org/openstack/tempest refs/changes/22/796322/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/stable-jobs.yaml', 'zuul.d/integrated-gate.yaml']",2,ebecf79a9c00c714adbf871035c0b9cc5f3e7f17,, # This job version is with swift enabled on py3 # as swift is ready on py3 from stable/ussuri onwards. branches: ^(?!stable/(ocata|pike|queens|rocky|stein|train)).*$," vars: devstack_localrc: USE_PYTHON3: true devstack_services: s-account: false s-container: false s-object: false s-proxy: false # without Swift, c-bak cannot run (in the Gate at least) c-bak: false group-vars: subnode: devstack_localrc: USE_PYTHON3: true",29,14
openstack%2Ftrove~master~I5e5f0b99f79ba78c82cbb12482b9167ec69e50f7,openstack/trove,master,I5e5f0b99f79ba78c82cbb12482b9167ec69e50f7,Allow admin user to get instances attached with any configuration,MERGED,2021-07-12 10:22:26.000000000,2021-07-13 09:43:34.000000000,2021-07-13 09:42:00.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-12 10:22:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/b9f81263d49c7f9967885eaefefc73d21969a357', 'message': 'Allow admin user to get instances attached with any configuration\n\nChange-Id: I5e5f0b99f79ba78c82cbb12482b9167ec69e50f7\n'}, {'number': 2, 'created': '2021-07-13 00:21:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/b550e8cdd7a8054ef549e763d053c42fe2ab6544', 'message': 'Allow admin user to get instances attached with any configuration\n\nChange-Id: I5e5f0b99f79ba78c82cbb12482b9167ec69e50f7\n'}, {'number': 3, 'created': '2021-07-13 04:05:42.000000000', 'files': ['trove/tests/unittests/configuration/test_service.py', 'trove/configuration/service.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/24fc4a53dcf1140349e0ae32386046ff597e416b', 'message': 'Allow admin user to get instances attached with any configuration\n\nChange-Id: I5e5f0b99f79ba78c82cbb12482b9167ec69e50f7\n'}]",0,800452,24fc4a53dcf1140349e0ae32386046ff597e416b,15,2,3,6732,,,0,"Allow admin user to get instances attached with any configuration

Change-Id: I5e5f0b99f79ba78c82cbb12482b9167ec69e50f7
",git fetch https://review.opendev.org/openstack/trove refs/changes/52/800452/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/tests/unittests/configuration/test_service.py', 'trove/configuration/service.py']",2,b9f81263d49c7f9967885eaefefc73d21969a357,admin-get-conf-instances," kwargs = { 'configuration_id': configuration.id, 'deleted': False } if not context.is_admin: kwargs['tenant_id'] = context.tenant instances = instances_models.DBInstance.find_all(**kwargs) "," instances = instances_models.DBInstance.find_all( tenant_id=context.tenant, configuration_id=configuration.id, deleted=False)",49,4
openstack%2Foctavia-dashboard~master~Idec2c182b2758a148ae9d0efa251510d5e7985a3,openstack/octavia-dashboard,master,Idec2c182b2758a148ae9d0efa251510d5e7985a3,Change the Octavia Barbican namespace,MERGED,2021-07-09 21:47:19.000000000,2021-07-13 09:43:04.000000000,2021-07-13 09:41:23.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-07-09 21:47:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/75bdd0b0401ea48cef711e6e1079b733a72fc0cb', 'message': 'Change the Octaiva Barbican namespace\n\nThe octavia dashboard has a built-in barbican rest API client used\nto access barbican for certificate selection during load blanancer\ncreation.\nUnfortunately, this client used the ""barbican"" namespace, which is\nnow used by the barbican-ui dashboard.\n\nThis patch renames the octavia client namespace to be octavia-barbican\nto eliminate any namespace collisions with the barbican-ui dashboard.\n\nChange-Id: Idec2c182b2758a148ae9d0efa251510d5e7985a3\n'}, {'number': 2, 'created': '2021-07-09 23:20:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/4ac955256296ec90e25aca55e910725bd79b6907', 'message': 'Change the Octaiva Barbican namespace\n\nThe octavia dashboard has a built-in barbican rest API client used\nto access barbican for certificate selection during load blanancer\ncreation.\nUnfortunately, this client used the ""barbican"" namespace, which is\nnow used by the barbican-ui dashboard.\n\nThis patch renames the octavia client namespace to be octavia-barbican\nto eliminate any namespace collisions with the barbican-ui dashboard.\n\nChange-Id: Idec2c182b2758a148ae9d0efa251510d5e7985a3\n'}, {'number': 3, 'created': '2021-07-10 00:49:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/6a8aa575e31a7505efb079abbb9a877516a5efbc', 'message': 'Change the Octaiva Barbican namespace\n\nThe octavia dashboard has a built-in barbican rest API client used\nto access barbican for certificate selection during load blanancer\ncreation.\nUnfortunately, this client used the ""barbican"" namespace, which is\nnow used by the barbican-ui dashboard.\n\nThis patch renames the octavia client namespace to be octavia-barbican\nto eliminate any namespace collisions with the barbican-ui dashboard.\n\nChange-Id: Idec2c182b2758a148ae9d0efa251510d5e7985a3\n'}, {'number': 4, 'created': '2021-07-12 16:51:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/6a26002eaf44c8601af766114c883c1fd1ef6f49', 'message': 'Change the Octaiva Barbican namespace\n\nThe octavia dashboard has a built-in barbican rest API client used\nto access barbican for certificate selection during load blanancer\ncreation.\nUnfortunately, this client used the ""barbican"" namespace, which is\nnow used by the barbican-ui dashboard.\n\nThis patch renames the octavia client namespace to be octavia-barbican\nto eliminate any namespace collisions with the barbican-ui dashboard.\n\nChange-Id: Idec2c182b2758a148ae9d0efa251510d5e7985a3\n'}, {'number': 5, 'created': '2021-07-12 16:55:01.000000000', 'files': ['octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.spec.js', 'releasenotes/notes/Fix-namespace-collision-with-barbican-ui-267f4ba074729ea6.yaml', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.js', 'octavia_dashboard/api/rest/barbican.py', 'octavia_dashboard/static/app/core/openstack-service-api/octavia-barbican.service.js', 'octavia_dashboard/static/app/core/openstack-service-api/octavia-barbican.service.spec.js'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/7e390312eaf3cbbf89d46b05dd20b5296d61616d', 'message': 'Change the Octavia Barbican namespace\n\nThe octavia dashboard has a built-in barbican rest API client used\nto access barbican for certificate selection during load blanancer\ncreation.\nUnfortunately, this client used the ""barbican"" namespace, which is\nnow used by the barbican-ui dashboard.\n\nThis patch renames the octavia client namespace to be octavia-barbican\nto eliminate any namespace collisions with the barbican-ui dashboard.\n\nChange-Id: Idec2c182b2758a148ae9d0efa251510d5e7985a3\n'}]",2,800310,7e390312eaf3cbbf89d46b05dd20b5296d61616d,19,5,5,11628,,,0,"Change the Octavia Barbican namespace

The octavia dashboard has a built-in barbican rest API client used
to access barbican for certificate selection during load blanancer
creation.
Unfortunately, this client used the ""barbican"" namespace, which is
now used by the barbican-ui dashboard.

This patch renames the octavia client namespace to be octavia-barbican
to eliminate any namespace collisions with the barbican-ui dashboard.

Change-Id: Idec2c182b2758a148ae9d0efa251510d5e7985a3
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/10/800310/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/Fix-namespace-collision-with-barbican-ui-267f4ba074729ea6.yaml', 'octavia_dashboard/api/rest/barbican.py', 'octavia_dashboard/static/app/core/openstack-service-api/barbican.service.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.js']",4,75bdd0b0401ea48cef711e6e1079b733a72fc0cb,," 'horizon.app.core.openstack-service-api.octavia-barbican', * @param octaviaBarbicanAPI The octavia barbican service API. octaviaBarbicanAPI, octaviaBarbicanAPI.getCertificates(true), octaviaBarbicanAPI.getSecrets(true)"," 'horizon.app.core.openstack-service-api.barbican', * @param barbicanAPI The barbican service API. barbicanAPI, barbicanAPI.getCertificates(true), barbicanAPI.getSecrets(true)",20,16
openstack%2Ftripleo-quickstart-extras~master~I53838f7b3358a572ca0ae8443f67e990d6d03620,openstack/tripleo-quickstart-extras,master,I53838f7b3358a572ca0ae8443f67e990d6d03620,Add tripleo-operator for node introspect,MERGED,2021-07-09 12:23:43.000000000,2021-07-13 09:21:23.000000000,2021-07-12 22:32:01.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-09 12:23:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/02be5b2d0931ea83b391975c9366d1c95d16e1a5', 'message': 'Add tripleo-operator for node introspect\n\nChange shell script for importing node by operator.\nLeave it as is for releases before Ussuri.\n\nFollowing node import using operator example[1]\n\n[1] https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/726847\n\nChange-Id: I53838f7b3358a572ca0ae8443f67e990d6d03620\n'}, {'number': 2, 'created': '2021-07-09 13:18:35.000000000', 'files': ['roles/overcloud-prep-images/tasks/overcloud-prep-images.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/cdfea87ee83bc4085c35590da75abe117cca3bb4', 'message': 'Add tripleo-operator for node introspect\n\nChange shell script for importing node by operator.\nLeave it as is for releases before Ussuri.\n\nFollowing node import using operator example[1]\n\n[1] https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/726847\n\nChange-Id: I53838f7b3358a572ca0ae8443f67e990d6d03620\n'}]",5,800215,cdfea87ee83bc4085c35590da75abe117cca3bb4,18,8,2,29775,,,0,"Add tripleo-operator for node introspect

Change shell script for importing node by operator.
Leave it as is for releases before Ussuri.

Following node import using operator example[1]

[1] https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/726847

Change-Id: I53838f7b3358a572ca0ae8443f67e990d6d03620
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/15/800215/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-prep-images/tasks/overcloud-prep-images.yml'],1,02be5b2d0931ea83b391975c9366d1c95d16e1a5,utilize-tripleo-operator,"- name: Run Introspection block: - name: Introspect overcloud nodes - legacy when: release in ['queens', 'stein', 'train'] shell: > set -o pipefail && {{ working_dir }}/overcloud-introspect.sh 2>&1 {{ timestamper_cmd }} > {{ overcloud_introspect_script_log }} changed_when: true - name: Run Introspection on overcloud nodes via tripleo-operator-ansible when: - release not in ['queens', 'stein', 'train'] collections: - tripleo.operator include_role: name: tripleo_overcloud_node_introspect vars: tripleo_os_cloud: undercloud tripleo_overcloud_node_introspect_debug: true tripleo_overcloud_node_introspect_all_manageable: true tripleo_overcloud_node_introspect_provide: true tripleo_overcloud_node_introspect_log: ""{{ overcloud_import_nodes_log }}""",- name: Introspect overcloud images shell: > set -o pipefail && {{ working_dir }}/overcloud-introspect.sh 2>&1 {{ timestamper_cmd }} > {{ overcloud_introspect_script_log }} changed_when: true,23,6
openstack%2Fpython-watcherclient~stable%2Fwallaby~I7a8e4da45a26e7a3014a6de6611c88b01440bd77,openstack/python-watcherclient,stable/wallaby,I7a8e4da45a26e7a3014a6de6611c88b01440bd77,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-03-15 09:04:26.000000000,2021-07-13 09:15:52.000000000,2021-07-13 09:14:35.000000000,"[{'_account_id': 22348}, {'_account_id': 29911}]","[{'number': 1, 'created': '2021-03-15 09:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/4e8f74bed8786bb6de7df8ed08d842dcc4202bf8', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I7a8e4da45a26e7a3014a6de6611c88b01440bd77\n'}, {'number': 2, 'created': '2021-07-13 07:31:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/df9362c19e72f6381ea0c9d55272da51fedca2f5', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I7a8e4da45a26e7a3014a6de6611c88b01440bd77\n'}, {'number': 3, 'created': '2021-07-13 08:17:13.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/83f0894611f69b391adf87c9e27bf2e956addd6a', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I7a8e4da45a26e7a3014a6de6611c88b01440bd77\n'}]",0,780507,83f0894611f69b391adf87c9e27bf2e956addd6a,11,2,3,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I7a8e4da45a26e7a3014a6de6611c88b01440bd77
",git fetch https://review.opendev.org/openstack/python-watcherclient refs/changes/07/780507/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4e8f74bed8786bb6de7df8ed08d842dcc4202bf8,create-wallaby, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Fpython-watcherclient~stable%2Fwallaby~Ibeaebde757f1a4b72cedaf54ab3e8b33c69a88b3,openstack/python-watcherclient,stable/wallaby,Ibeaebde757f1a4b72cedaf54ab3e8b33c69a88b3,Update .gitreview for stable/wallaby,MERGED,2021-03-15 09:04:23.000000000,2021-07-13 08:45:36.000000000,2021-07-13 08:42:34.000000000,"[{'_account_id': 22348}, {'_account_id': 29911}]","[{'number': 1, 'created': '2021-03-15 09:04:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/c9b193d8550b5bc23f420fe2d227b187f2ac44c2', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: Ibeaebde757f1a4b72cedaf54ab3e8b33c69a88b3\n'}, {'number': 2, 'created': '2021-07-13 07:46:31.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/2080ea51d3fc1effeee49a4b90db1d728d0983f7', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: Ibeaebde757f1a4b72cedaf54ab3e8b33c69a88b3\n'}]",0,780506,2080ea51d3fc1effeee49a4b90db1d728d0983f7,11,2,2,22816,,,0,"Update .gitreview for stable/wallaby

Change-Id: Ibeaebde757f1a4b72cedaf54ab3e8b33c69a88b3
",git fetch https://review.opendev.org/openstack/python-watcherclient refs/changes/06/780506/2 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,c9b193d8550b5bc23f420fe2d227b187f2ac44c2,create-wallaby,defaultbranch=stable/wallaby,,1,0
openstack%2Fpython-watcherclient~master~I42166c2db7c305c816bc1934e954d5d4acca659e,openstack/python-watcherclient,master,I42166c2db7c305c816bc1934e954d5d4acca659e,remove unicode from code,MERGED,2021-01-03 08:31:44.000000000,2021-07-13 08:44:29.000000000,2021-07-13 08:42:38.000000000,"[{'_account_id': 22348}, {'_account_id': 29911}]","[{'number': 1, 'created': '2021-01-03 08:31:44.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/c97e16fd01dab46df20418def94203c41f5b36d3', 'message': 'remove unicode from code\n\nChange-Id: I42166c2db7c305c816bc1934e954d5d4acca659e\n'}]",0,769029,c97e16fd01dab46df20418def94203c41f5b36d3,9,2,1,30384,,,0,"remove unicode from code

Change-Id: I42166c2db7c305c816bc1934e954d5d4acca659e
",git fetch https://review.opendev.org/openstack/python-watcherclient refs/changes/29/769029/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,c97e16fd01dab46df20418def94203c41f5b36d3,,"project = 'python-watcherclient' copyright = 'OpenStack Foundation' '%s Documentation' % project, 'OpenStack Foundation', 'manual'","project = u'python-watcherclient' copyright = u'OpenStack Foundation' u'%s Documentation' % project, u'OpenStack Foundation', 'manual'",4,4
openstack%2Fpython-watcherclient~stable%2Fwallaby~If01998ae7422e5e066241f6fe42d08399cd6478f,openstack/python-watcherclient,stable/wallaby,If01998ae7422e5e066241f6fe42d08399cd6478f,Drop lower constraints testing,MERGED,2021-07-13 07:45:40.000000000,2021-07-13 08:44:25.000000000,2021-07-13 08:42:32.000000000,"[{'_account_id': 22348}, {'_account_id': 29911}]","[{'number': 1, 'created': '2021-07-13 07:45:40.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/1fe3d5d6f23be139315cf0bcbcb1c48d9feccbd7', 'message': 'Drop lower constraints testing\n\nChange-Id: If01998ae7422e5e066241f6fe42d08399cd6478f\n(cherry picked from commit 52a3fd062d0ab754130152e9c73aac86ace02673)\n'}]",0,800386,1fe3d5d6f23be139315cf0bcbcb1c48d9feccbd7,7,2,1,29911,,,0,"Drop lower constraints testing

Change-Id: If01998ae7422e5e066241f6fe42d08399cd6478f
(cherry picked from commit 52a3fd062d0ab754130152e9c73aac86ace02673)
",git fetch https://review.opendev.org/openstack/python-watcherclient refs/changes/86/800386/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,1fe3d5d6f23be139315cf0bcbcb1c48d9feccbd7,,, [testenv:lower-constraints] basepython = python3 install_command = pip install -U {opts} {packages} deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,0,9
openstack%2Ftripleo-ci~master~I4d611438c8b5663de5b67cbfcbd97eaad747fc73,openstack/tripleo-ci,master,I4d611438c8b5663de5b67cbfcbd97eaad747fc73,"Revert ""standalone-upgrade ussuri/victoria nv""",MERGED,2021-07-12 21:30:14.000000000,2021-07-13 08:41:44.000000000,2021-07-13 08:41:44.000000000,"[{'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-07-12 21:30:14.000000000', 'files': ['zuul.d/upgrades-jobs-templates.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/31e97d6c289d9ba304873692a041981285cbee83', 'message': 'Revert ""standalone-upgrade ussuri/victoria nv""\n\nThis reverts commit 4d7b37b41187ede7650c35239f453042c757dda6.\n\nReason for revert: https://review01.opendev.org/c/openstack/tripleo-quickstart-extras/+/800437/ looks like it fixes the issue\n\nChange-Id: I4d611438c8b5663de5b67cbfcbd97eaad747fc73\n'}]",0,800383,31e97d6c289d9ba304873692a041981285cbee83,9,7,1,9592,,,0,"Revert ""standalone-upgrade ussuri/victoria nv""

This reverts commit 4d7b37b41187ede7650c35239f453042c757dda6.

Reason for revert: https://review01.opendev.org/c/openstack/tripleo-quickstart-extras/+/800437/ looks like it fixes the issue

Change-Id: I4d611438c8b5663de5b67cbfcbd97eaad747fc73
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/83/800383/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/upgrades-jobs-templates.yaml'],1,31e97d6c289d9ba304873692a041981285cbee83,, - tripleo-ci-centos-8-standalone-upgrade-victoria: vars: *consumer_vars dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-content-provider-ussuri - tripleo-ci-centos-8-standalone-upgrade-ussuri: vars: *consumer_vars dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-content-provider-train voting: true voting: true, # https://bugs.launchpad.net/tripleo/+bug/1935691 voting: false # https://bugs.launchpad.net/tripleo/+bug/1935691 voting: false,12,4
openstack%2Fcharm-designate-bind~master~Ifb5adfbb5a69a9b12ef9fb7c214b192642d11344,openstack/charm-designate-bind,master,Ifb5adfbb5a69a9b12ef9fb7c214b192642d11344,Fix charm so that on focal it uses named service - 2,MERGED,2021-07-06 14:23:34.000000000,2021-07-13 08:32:50.000000000,2021-07-13 08:32:50.000000000,"[{'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-06 14:23:34.000000000', 'files': ['src/lib/charm/openstack/designate_bind.py'], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/5205bceedf8efcda08d8e6b3c09d162a3872bb65', 'message': ""Fix charm so that on focal it uses named service - 2\n\nPre-focal the service was called 'bind9'.  On focal+ it is called\n'named'. A previous commit [1] (also be me) didn't actually catch all of\nthe uses of bind9 as a service, so this concludes the set.\n\n[1] Ida65c620fa81715d37e468217aea28f160cf31ee\n\nChange-Id: Ifb5adfbb5a69a9b12ef9fb7c214b192642d11344\nCloses-Bug: #1929770\n""}]",0,799677,5205bceedf8efcda08d8e6b3c09d162a3872bb65,11,5,1,20870,,,0,"Fix charm so that on focal it uses named service - 2

Pre-focal the service was called 'bind9'.  On focal+ it is called
'named'. A previous commit [1] (also be me) didn't actually catch all of
the uses of bind9 as a service, so this concludes the set.

[1] Ida65c620fa81715d37e468217aea28f160cf31ee

Change-Id: Ifb5adfbb5a69a9b12ef9fb7c214b192642d11344
Closes-Bug: #1929770
",git fetch https://review.opendev.org/openstack/charm-designate-bind refs/changes/77/799677/1 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/openstack/designate_bind.py'],1,5205bceedf8efcda08d8e6b3c09d162a3872bb65,bug/1929770," self.service_control('stop', [self.default_service]) self.service_control('start', [self.default_service]) self.service_control('stop', [self.default_service]) self.service_control('start', [self.default_service])"," self.service_control('stop', ['bind9']) self.service_control('start', ['bind9']) self.service_control('stop', ['bind9']) self.service_control('start', ['bind9'])",4,4
openstack%2Fvalidations-libs~master~Ia8f306e5f17ef32e425c80c92e652bd6e0933399,openstack/validations-libs,master,Ia8f306e5f17ef32e425c80c92e652bd6e0933399,DNM COVER CHANGE TEST,ABANDONED,2021-06-25 10:40:02.000000000,2021-07-13 08:17:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-25 10:40:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/7403271c95b45a249e83916fb7f830a9bef356ff', 'message': 'DNM COVER CHANGE TEST\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/796845\nChange-Id: Ia8f306e5f17ef32e425c80c92e652bd6e0933399\n'}, {'number': 2, 'created': '2021-06-25 10:54:01.000000000', 'files': ['validations_libs/ansible.py', 'validations_libs/__init__.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/8bc217968d5f824cfaf3f0489f5444eeba76d834', 'message': 'DNM COVER CHANGE TEST\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/796845\nChange-Id: Ia8f306e5f17ef32e425c80c92e652bd6e0933399\n'}]",2,798070,8bc217968d5f824cfaf3f0489f5444eeba76d834,4,1,2,32926,,,0,"DNM COVER CHANGE TEST

Depends-On: https://review.opendev.org/c/openstack/validations-libs/+/796845
Change-Id: Ia8f306e5f17ef32e425c80c92e652bd6e0933399
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/70/798070/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_libs/__init__.py'],1,7403271c95b45a249e83916fb7f830a9bef356ff,covertest/dnm,""""""" """""" ",,2,0
openstack%2Fpython-cinderclient~master~Ib633cc9cffd025c53374be2dbc449ceed285e00a,openstack/python-cinderclient,master,Ib633cc9cffd025c53374be2dbc449ceed285e00a,Support az and volume_type when restoring backup,ABANDONED,2020-10-23 07:54:16.000000000,2021-07-13 08:03:39.000000000,,"[{'_account_id': 9535}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-23 07:54:16.000000000', 'files': ['cinderclient/v2/volume_backups_restore.py', 'cinderclient/v2/shell.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/c22aa23ad8ec840274312c4aa6c831559804ecf0', 'message': 'Support az and volume_type when restoring backup\n\nThis patch adds support for specifying availability-zone\nand volume-type when restoring backup to a new volume.\n\nThe two params are supported since microversion 3.63.\n\nDepends-On: I68ef48375766e261772bc6964ece0a5efaf4a06d\nChange-Id: Ib633cc9cffd025c53374be2dbc449ceed285e00a\n'}]",0,759368,c22aa23ad8ec840274312c4aa6c831559804ecf0,3,2,1,21797,,,0,"Support az and volume_type when restoring backup

This patch adds support for specifying availability-zone
and volume-type when restoring backup to a new volume.

The two params are supported since microversion 3.63.

Depends-On: I68ef48375766e261772bc6964ece0a5efaf4a06d
Change-Id: Ib633cc9cffd025c53374be2dbc449ceed285e00a
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/68/759368/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinderclient/v2/volume_backups_restore.py', 'cinderclient/v2/shell.py']",2,c22aa23ad8ec840274312c4aa6c831559804ecf0,bp/availabilityzone-and-volumetype-for-backup-restore,"@utils.arg('--availability-zone', start_version='3.63', metavar='<availability-zone>', help='Availability zone for new volume (Default=None)') @utils.arg('--volume-type', start_version='3.63', metavar='<volume-type>', help='Volume type for new volume (Default=None)') if volume_id and (args.availability_zone or args.volume_type): print('availability_zone and volume_type are not supported ' 'when restoring to an existing volume.') return restore = cs.restores.restore(backup.id, volume_id, args.name, args.availability_zone, args.volume_type)"," restore = cs.restores.restore(backup.id, volume_id, args.name)",21,3
openstack%2Fcinder~master~I68ef48375766e261772bc6964ece0a5efaf4a06d,openstack/cinder,master,I68ef48375766e261772bc6964ece0a5efaf4a06d,Support az and volume_type when restoring backup,ABANDONED,2020-09-29 08:04:40.000000000,2021-07-13 08:03:22.000000000,,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18058}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21797}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 29705}, {'_account_id': 30688}, {'_account_id': 32159}, {'_account_id': 32171}]","[{'number': 1, 'created': '2020-09-29 08:04:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/719eb8fa0286e9af0042fd5be8cc66ee89ae1bb2', 'message': 'Support az and volume_type when restoring backup\n\nThis patch adds support for specifying availability-zone\nand volume-type when restoring backup to a new volume.\n\nThe two params are supported since microversion 3.63.\n\nChange-Id: I68ef48375766e261772bc6964ece0a5efaf4a06d\nImplements: blueprint availabilityzone-and-volumetype-for-backup-restore\n'}, {'number': 2, 'created': '2020-10-09 08:28:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4ffc4e24c51f7994b11ac589f7811c9e7edeac80', 'message': 'Support az and volume_type when restoring backup\n\nThis patch adds support for specifying availability-zone\nand volume-type when restoring backup to a new volume.\n\nThe two params are supported since microversion 3.63.\n\nChange-Id: I68ef48375766e261772bc6964ece0a5efaf4a06d\nImplements: blueprint availabilityzone-and-volumetype-for-backup-restore\n'}, {'number': 3, 'created': '2020-10-10 09:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/560c6b0d4d452fa8a07bd895c6da3bfc6deeace4', 'message': 'Support az and volume_type when restoring backup\n\nThis patch adds support for specifying availability-zone\nand volume-type when restoring backup to a new volume.\n\nThe two params are supported since microversion 3.63.\n\nChange-Id: I68ef48375766e261772bc6964ece0a5efaf4a06d\nImplements: blueprint availabilityzone-and-volumetype-for-backup-restore\n'}, {'number': 4, 'created': '2020-10-12 01:31:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/46a0e2add614b13907f1659d5582a4478b47bb77', 'message': 'Support az and volume_type when restoring backup\n\nThis patch adds support for specifying availability-zone\nand volume-type when restoring backup to a new volume.\n\nThe two params are supported since microversion 3.63.\n\nChange-Id: I68ef48375766e261772bc6964ece0a5efaf4a06d\nImplements: blueprint availabilityzone-and-volumetype-for-backup-restore\n'}, {'number': 5, 'created': '2020-10-15 02:04:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a81c7139cda15bfbbf8280e7be573c79e6f4e7cf', 'message': 'Support az and volume_type when restoring backup\n\nThis patch adds support for specifying availability-zone\nand volume-type when restoring backup to a new volume.\n\nThe two params are supported since microversion 3.63.\n\nChange-Id: I68ef48375766e261772bc6964ece0a5efaf4a06d\nImplements: blueprint availabilityzone-and-volumetype-for-backup-restore\n'}, {'number': 6, 'created': '2020-10-15 05:38:32.000000000', 'files': ['api-ref/source/v3/samples/versions/version-show-response.json', 'cinder/tests/unit/api/contrib/test_backups.py', 'api-ref/source/v3/samples/versions/versions-response.json', 'cinder/backup/api.py', 'cinder/api/contrib/backups.py', 'cinder/api/openstack/api_version_request.py', 'cinder/api/openstack/rest_api_version_history.rst', 'cinder/api/microversions.py', 'cinder/api/schemas/backups.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d9f0bda7f90a78284e7de34e1e9aa1f911acc2c0', 'message': 'Support az and volume_type when restoring backup\n\nThis patch adds support for specifying availability-zone\nand volume-type when restoring backup to a new volume.\n\nThe two params are supported since microversion 3.63.\n\nChange-Id: I68ef48375766e261772bc6964ece0a5efaf4a06d\nImplements: blueprint availabilityzone-and-volumetype-for-backup-restore\n'}]",13,754925,d9f0bda7f90a78284e7de34e1e9aa1f911acc2c0,128,37,6,21797,,,0,"Support az and volume_type when restoring backup

This patch adds support for specifying availability-zone
and volume-type when restoring backup to a new volume.

The two params are supported since microversion 3.63.

Change-Id: I68ef48375766e261772bc6964ece0a5efaf4a06d
Implements: blueprint availabilityzone-and-volumetype-for-backup-restore
",git fetch https://review.opendev.org/openstack/cinder refs/changes/25/754925/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/backup/api.py', 'cinder/api/contrib/backups.py', 'cinder/api/openstack/api_version_request.py', 'cinder/api/openstack/rest_api_version_history.rst', 'cinder/api/microversions.py', 'cinder/api/schemas/backups.py']",6,719eb8fa0286e9af0042fd5be8cc66ee89ae1bb2,bp/availabilityzone-and-volumetype-for-backup-restore,restore_backup_v363 = copy.deepcopy(restore) restore_backup_v363['properties']['restore']['properties'][ 'availability_zone'] = parameter_types.nullable_string restore_backup_v363['properties']['restore']['properties'][ 'volume_type'] = parameter_types.name_allow_zero_min_length ,,53,5
openstack%2Ftripleo-ci~master~I492112d8768ba7612d964e7d8c71cd94a357cb79,openstack/tripleo-ci,master,I492112d8768ba7612d964e7d8c71cd94a357cb79,create a upgrade job triggered by master changes,NEW,2021-07-12 17:11:31.000000000,2021-07-13 08:02:56.000000000,,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-12 17:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/acda0def4aba685da9610cdb2fa9111b4d63ecbe', 'message': ""create a upgrades tempest triggered by master changes\n\nThe undercloud-upgrade and standalone upgrade jobs\nare not ci'd when tqe changes.  tqe changes need\nto be checked in order not to break upgrades.\n\nCase in point..\nhttps://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/800437\n\nChange-Id: I492112d8768ba7612d964e7d8c71cd94a357cb79\n""}, {'number': 2, 'created': '2021-07-12 17:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6f02ceaa759e6793575d8792360df651311c2132', 'message': ""create a upgrades tempest triggered by master changes\n\nThe undercloud-upgrade and standalone upgrade jobs\nare not ci'd when tqe changes.  tqe changes need\nto be checked in order not to break upgrades.\n\nCase in point..\nhttps://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/800437\n\nChange-Id: I492112d8768ba7612d964e7d8c71cd94a357cb79\n""}, {'number': 3, 'created': '2021-07-12 17:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/54bb326784c0a59d7541d166bdcf242e55ed22b1', 'message': ""create a upgrades tempest triggered by master changes\n\nThe undercloud-upgrade and standalone upgrade jobs\nare not ci'd when tqe changes.  tqe changes need\nto be checked in order not to break upgrades.\n\nCase in point..\nhttps://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/800437\n\nChange-Id: I492112d8768ba7612d964e7d8c71cd94a357cb79\n""}, {'number': 4, 'created': '2021-07-12 17:25:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2000cea65960e17f9d4fa6fe750ad3e2979b8278', 'message': ""create a upgrades tempest triggered by master changes\n\nThe undercloud-upgrade and standalone upgrade jobs\nare not ci'd when tqe changes.  tqe changes need\nto be checked in order not to break upgrades.\n\nCase in point..\nhttps://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/800437\n\nChange-Id: I492112d8768ba7612d964e7d8c71cd94a357cb79\n""}, {'number': 5, 'created': '2021-07-12 17:29:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/39d3b16bc1dfa917cf139d41f2f6a2fb417b596a', 'message': ""create a upgrades tempest triggered by master changes\n\nThe undercloud-upgrade and standalone upgrade jobs\nare not ci'd when tqe changes.  tqe changes need\nto be checked in order not to break upgrades.\n\nCase in point..\nhttps://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/800437\n\nChange-Id: I492112d8768ba7612d964e7d8c71cd94a357cb79\n""}, {'number': 6, 'created': '2021-07-12 19:31:16.000000000', 'files': ['zuul.d/upgrades-jobs-templates.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/46d6d28e91470a555629ba306832c956a16d7e68', 'message': ""create a upgrade job triggered by master changes\n\nThe undercloud-upgrade and standalone upgrade jobs\nare not ci'd when tqe changes.  tqe changes need\nto be checked in order not to break upgrades.\n\n* attempting with just undercloud-upgrade atm\n\nCase in point..\nhttps://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/800437\n\nChange-Id: I492112d8768ba7612d964e7d8c71cd94a357cb79\n""}]",6,800518,46d6d28e91470a555629ba306832c956a16d7e68,16,4,6,9592,,,0,"create a upgrade job triggered by master changes

The undercloud-upgrade and standalone upgrade jobs
are not ci'd when tqe changes.  tqe changes need
to be checked in order not to break upgrades.

* attempting with just undercloud-upgrade atm

Case in point..
https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/800437

Change-Id: I492112d8768ba7612d964e7d8c71cd94a357cb79
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/18/800518/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/upgrades-jobs-templates.yaml'],1,acda0def4aba685da9610cdb2fa9111b4d63ecbe,upgrade-ci-tqe," # master upgrade are not supported or in play # for tripleo-ci, tq, tqe and master only branches execute # n-1 wallaby to ensure changes to ci do not break jobs - project-template: name: tripleo-upgrades-wallaby-pipeline-for-master check: jobs: - tripleo-ci-centos-8-content-provider-wallaby: branches: master override-checkout: stable/wallaby vars: branch_override: stable/wallaby - tripleo-ci-centos-8-content-provider-victoria: branches: master override-checkout: stable/victoria vars: branch_override: stable/victoria - tripleo-ci-centos-8-undercloud-upgrade-wallaby: branches: master override-checkout: stable/wallaby vars: &wallaby_upgrade_trigger_master branch_override: stable/wallaby consumer_job: true build_container_images: false remove_tags: - build irrelevant-files: *undercloud_ignored dependencies: - tripleo-ci-centos-8-content-provider-wallaby - tripleo-ci-centos-8-content-provider-victoria gate: queue: tripleo jobs: - tripleo-ci-centos-8-content-provider-wallaby: branches: master override-checkout: stable/wallaby vars: branch_override: stable/wallaby - tripleo-ci-centos-8-content-provider-victoria: branches: master override-checkout: stable/victoria vars: branch_override: stable/victoria - tripleo-ci-centos-8-undercloud-upgrade-wallaby: branches: master override-checkout: stable/wallaby vars: *wallaby_upgrade_trigger_master dependencies: - tripleo-ci-centos-8-content-provider-wallaby - tripleo-ci-centos-8-content-provider-victoria ",,52,0
openstack%2Ftrove-specs~master~I04f32a42398de8d990e8c8a8374eb6978f512b1a,openstack/trove-specs,master,I04f32a42398de8d990e8c8a8374eb6978f512b1a,Migrate from testr to stestr,NEW,2021-07-12 14:28:09.000000000,2021-07-13 08:02:23.000000000,,"[{'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-07-12 14:28:09.000000000', 'files': ['requirements.txt', '.gitignore', '.testr.conf', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/trove-specs/commit/012a21f1b8fe0509a2540fd0fc9f06ad2a36cc07', 'message': 'Migrate from testr to stestr\n\n* Replace .testr.conf by .stestr.conf for migration and update\n  .gitignore, tox.ini and requirements.txt files accordingly\n\nSigned-off-by: HeroicHitesh <email.hiteshkumar@gmail.com>\nChange-Id: I04f32a42398de8d990e8c8a8374eb6978f512b1a\n'}]",0,800482,012a21f1b8fe0509a2540fd0fc9f06ad2a36cc07,4,2,1,33370,,,0,"Migrate from testr to stestr

* Replace .testr.conf by .stestr.conf for migration and update
  .gitignore, tox.ini and requirements.txt files accordingly

Signed-off-by: HeroicHitesh <email.hiteshkumar@gmail.com>
Change-Id: I04f32a42398de8d990e8c8a8374eb6978f512b1a
",git fetch https://review.opendev.org/openstack/trove-specs refs/changes/82/800482/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.gitignore', '.testr.conf', 'tox.ini', '.stestr.conf']",5,012a21f1b8fe0509a2540fd0fc9f06ad2a36cc07,stestr,[DEFAULT] test_path=./tests/ top_dir=./ ,,6,10
openstack%2Fwatcher~master~I45f732f0f59b8fae831bb6c07f4fdd98cdd7409a,openstack/watcher,master,I45f732f0f59b8fae831bb6c07f4fdd98cdd7409a,use HTTPStatus instead of direct code,MERGED,2021-03-25 08:01:18.000000000,2021-07-13 07:31:46.000000000,2021-07-13 07:30:20.000000000,"[{'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}, {'_account_id': 30384}, {'_account_id': 31455}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-03-25 08:01:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/016ebccfc860a1ba07b2c7eec77612d556032955', 'message': 'use HTTPStatus instead of direct code\n\nPython introduced http.HTTPStatus since version 3.5,\nand Wallaby has targeted a minimum version of python 3.6.\n\nChange-Id: I45f732f0f59b8fae831bb6c07f4fdd98cdd7409a\n'}, {'number': 2, 'created': '2021-07-09 09:03:52.000000000', 'files': ['watcher/tests/api/test_base.py', 'watcher/tests/api/v1/test_microversions.py', 'watcher/tests/api/v1/test_strategies.py', 'watcher/common/exception.py', 'watcher/api/controllers/v1/action_plan.py', 'watcher/api/controllers/v1/webhooks.py', 'watcher/api/hooks.py', 'watcher/tests/api/v1/test_goals.py', 'watcher/tests/api/v1/test_audits.py', 'watcher/tests/api/v1/test_types.py', 'watcher/tests/api/v1/test_webhooks.py', 'watcher/tests/api/v1/test_scoring_engines.py', 'watcher/common/placement_helper.py', 'watcher/api/controllers/v1/audit.py', 'watcher/api/controllers/v1/action.py', 'watcher/tests/api/v1/test_audit_templates.py', 'watcher/tests/common/test_cinder_helper.py', 'watcher/tests/decision_engine/datasources/test_grafana_helper.py', 'watcher/tests/api/v1/test_data_model.py', 'watcher/api/controllers/v1/audit_template.py', 'watcher/tests/common/test_placement_helper.py', 'watcher/tests/api/v1/test_services.py', 'watcher/tests/api/v1/test_actions.py', 'watcher/decision_engine/datasources/grafana.py', 'watcher/tests/api/v1/test_actions_plans.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/c28756c48b19eb203cef77a4924608d5825d1881', 'message': 'use HTTPStatus instead of direct code\n\nPython introduced http.HTTPStatus since version 3.5,\nand Wallaby has targeted a minimum version of python 3.6.\n\nChange-Id: I45f732f0f59b8fae831bb6c07f4fdd98cdd7409a\n'}]",0,782912,c28756c48b19eb203cef77a4924608d5825d1881,10,6,2,24501,,,0,"use HTTPStatus instead of direct code

Python introduced http.HTTPStatus since version 3.5,
and Wallaby has targeted a minimum version of python 3.6.

Change-Id: I45f732f0f59b8fae831bb6c07f4fdd98cdd7409a
",git fetch https://review.opendev.org/openstack/watcher refs/changes/12/782912/1 && git format-patch -1 --stdout FETCH_HEAD,"['watcher/tests/api/test_base.py', 'watcher/tests/api/v1/test_audit_templates.py', 'watcher/tests/api/v1/test_microversions.py', 'watcher/tests/api/v1/test_strategies.py', 'watcher/tests/api/v1/test_data_model.py', 'watcher/common/exception.py', 'watcher/api/controllers/v1/audit_template.py', 'watcher/tests/api/v1/test_services.py', 'watcher/api/controllers/v1/action_plan.py', 'watcher/tests/api/v1/test_actions.py', 'watcher/api/controllers/v1/webhooks.py', 'watcher/decision_engine/datasources/grafana.py', 'watcher/api/hooks.py', 'watcher/tests/api/v1/test_actions_plans.py', 'watcher/tests/api/v1/test_goals.py', 'watcher/tests/api/v1/test_audits.py', 'watcher/tests/api/v1/test_types.py', 'watcher/tests/api/v1/test_webhooks.py', 'watcher/tests/api/v1/test_scoring_engines.py', 'watcher/common/placement_helper.py', 'watcher/api/controllers/v1/audit.py', 'watcher/api/controllers/v1/action.py']",22,016ebccfc860a1ba07b2c7eec77612d556032955,,"from http import HTTPStatus @wsme_pecan.wsexpose(Action, body=Action, status_code=HTTPStatus.CREATED) @wsme_pecan.wsexpose(None, types.uuid, status_code=HTTPStatus.NO_CONTENT)"," @wsme_pecan.wsexpose(Action, body=Action, status_code=201) @wsme_pecan.wsexpose(None, types.uuid, status_code=204)",185,158
openstack%2Fos-brick~stable%2Fvictoria~I2c3eb19ad641308306a238b3806d9040cf907987,openstack/os-brick,stable/victoria,I2c3eb19ad641308306a238b3806d9040cf907987,Wipe residual path when FC volume is attaching,ABANDONED,2020-12-18 04:58:01.000000000,2021-07-13 07:08:29.000000000,,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-18 04:58:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/c82833220f8511e1545b00a16cb3f7cb8f830570', 'message': 'Wipe residual path when FC volume is attaching\n\nWhen FC volume is attaching to a instance, this patch\nwill wipe residual path which corresponds to lun id\nthat is decided by volume and host if residual path\nexits in /dev/disk/by-path.\n\nChange-Id: I2c3eb19ad641308306a238b3806d9040cf907987\nCloses-Bug: #1908625\n'}, {'number': 2, 'created': '2020-12-22 09:59:13.000000000', 'files': ['os_brick/tests/initiator/connectors/test_fibre_channel.py', 'os_brick/initiator/connectors/fibre_channel.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/989d5ddcecd6d2d29078dc75026217b5ad5f8d6a', 'message': 'Wipe residual path when FC volume is attaching\n\nWhen FC volume is attaching to a instance, this patch\nwill wipe residual path which corresponds to lun id\nthat is decided by volume and host if residual path\nexits in /dev/disk/by-path.\n\nChange-Id: I2c3eb19ad641308306a238b3806d9040cf907987\nCloses-Bug: #1908625\n'}]",1,767662,989d5ddcecd6d2d29078dc75026217b5ad5f8d6a,21,4,2,30696,,,0,"Wipe residual path when FC volume is attaching

When FC volume is attaching to a instance, this patch
will wipe residual path which corresponds to lun id
that is decided by volume and host if residual path
exits in /dev/disk/by-path.

Change-Id: I2c3eb19ad641308306a238b3806d9040cf907987
Closes-Bug: #1908625
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/62/767662/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_fibre_channel.py', 'os_brick/initiator/connectors/fibre_channel.py']",2,c82833220f8511e1545b00a16cb3f7cb8f830570,bug/1908625," try: if (not self.tries and self.get_volume_paths(connection_properties)): self.disconnect_volume.__wrapped__(self, connection_properties, connection_properties) except Exception: pass",,10,2
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Ib689f08e414f3a10d18ed34932f8a314be7a7344,openstack/tripleo-heat-templates,stable/victoria,Ib689f08e414f3a10d18ed34932f8a314be7a7344,Add ports filtering support to XtremIO Cinder driver,MERGED,2021-03-18 05:05:31.000000000,2021-07-13 06:24:59.000000000,2021-07-13 06:23:09.000000000,"[{'_account_id': 7144}, {'_account_id': 7160}, {'_account_id': 13671}, {'_account_id': 14985}, {'_account_id': 21570}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-18 05:05:31.000000000', 'files': ['environments/cinder-dellemc-xtremio-iscsi-config.yaml', 'deployment/cinder/cinder-backend-dellemc-xtremio-puppet.yaml', 'deployment/cinder/cinder-backend-dellemc-xtremio-iscsi-puppet.yaml', 'releasenotes/notes/xtremio-add-ports-option-8991f7c8acc1aadb.yaml', 'environments/cinder-dellemc-xtremio-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a31e100caf30f1b6a818b67b40c4885a3f67cf56', 'message': 'Add ports filtering support to XtremIO Cinder driver\n\nIf there are some iSCSI or FC targets (ESXi for example) that\nare not connected to the OpenStack host,\nattach volume operation waits until timeout.\nThe XtremIO Cinder driver needs a new option to support ports\nfiltering.\n\nDepends-On: https://review.opendev.org/#/c/779005\nRelated-Bug: #1915800\nChange-Id: Ib689f08e414f3a10d18ed34932f8a314be7a7344\n(cherry picked from commit e0adf10564209e75d02d9a9ceb43d58b69c96d51)\n'}]",0,781196,a31e100caf30f1b6a818b67b40c4885a3f67cf56,25,7,1,31016,,,0,"Add ports filtering support to XtremIO Cinder driver

If there are some iSCSI or FC targets (ESXi for example) that
are not connected to the OpenStack host,
attach volume operation waits until timeout.
The XtremIO Cinder driver needs a new option to support ports
filtering.

Depends-On: https://review.opendev.org/#/c/779005
Related-Bug: #1915800
Change-Id: Ib689f08e414f3a10d18ed34932f8a314be7a7344
(cherry picked from commit e0adf10564209e75d02d9a9ceb43d58b69c96d51)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/96/781196/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/cinder-dellemc-xtremio-iscsi-config.yaml', 'deployment/cinder/cinder-backend-dellemc-xtremio-puppet.yaml', 'deployment/cinder/cinder-backend-dellemc-xtremio-iscsi-puppet.yaml', 'environments/cinder-dellemc-xtremio-config.yaml', 'releasenotes/notes/xtremio-add-ports-option-8991f7c8acc1aadb.yaml']",5,a31e100caf30f1b6a818b67b40c4885a3f67cf56,bug/1915800,--- fixes: - | `Bug #1915800 <https://bugs.launchpad.net/cinder/+bug/1915800>`_: Add support for ports filtering in XtremIO driver.,,22,0
openstack%2Fopenstack-tempest-skiplist~master~I7aac4efae5b77f0b0b3a713de8e945e83d1cf29b,openstack/openstack-tempest-skiplist,master,I7aac4efae5b77f0b0b3a713de8e945e83d1cf29b,Fix list of releases for a some tests,MERGED,2021-07-12 13:41:05.000000000,2021-07-13 06:04:33.000000000,2021-07-13 06:01:55.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9816}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 16643}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-07-12 13:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/20853e0ba2e960a15869e61d21fe98b7593a29fe', 'message': ""Fix list of releases for a some tests\n\nThe releases key is a list of releases. Having more than one releases\nkey for one test, means the other releases keys will be overwriten with\nthe latest one. Unfortunatelly, the validation doesn't caught that and\nso far, seems to be impossible to find out since the yaml.safe_load\noverwrite it by default.\n\nChange-Id: I7aac4efae5b77f0b0b3a713de8e945e83d1cf29b\n""}, {'number': 2, 'created': '2021-07-13 00:09:26.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/05d472ae16960bde4237c840f0db4ea2d17011f7', 'message': ""Fix list of releases for a some tests\n\nThe releases key is a list of releases. Having more than one releases\nkey for one test, means the other releases keys will be overwriten with\nthe latest one. Unfortunatelly, the validation doesn't caught that and\nso far, seems to be impossible to find out since the yaml.safe_load\noverwrite it by default.\n\nChange-Id: I7aac4efae5b77f0b0b3a713de8e945e83d1cf29b\n""}]",0,800474,05d472ae16960bde4237c840f0db4ea2d17011f7,14,10,2,8367,,,0,"Fix list of releases for a some tests

The releases key is a list of releases. Having more than one releases
key for one test, means the other releases keys will be overwriten with
the latest one. Unfortunatelly, the validation doesn't caught that and
so far, seems to be impossible to find out since the yaml.safe_load
overwrite it by default.

Change-Id: I7aac4efae5b77f0b0b3a713de8e945e83d1cf29b
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/74/800474/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,20853e0ba2e960a15869e61d21fe98b7593a29fe,fix-releases, - name: train reason: timeout bz: https://bugzilla.redhat.com/show_bug.cgi?id=1967996 - periodic-tripleo-ci-centos-8-scenario010-standalone-network-master , - name: train reason: timeout bz: https://bugzilla.redhat.com/show_bug.cgi?id=1967996 releases: releases: releases: releases: - periodic-tripleo-ci-centos-8-scenario010-standalone-network-master,4,8
openstack%2Fcharm-keystone-ldap~master~I95c2c31a55f5cf7918fc48927181aae2a034a23a,openstack/charm-keystone-ldap,master,I95c2c31a55f5cf7918fc48927181aae2a034a23a,Add `chase_referrals` option,NEW,2021-05-04 14:45:02.000000000,2021-07-13 05:57:38.000000000,,"[{'_account_id': 10366}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 32438}]","[{'number': 1, 'created': '2021-05-04 14:45:02.000000000', 'files': ['src/config.yaml', 'src/templates/keystone.conf'], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/bdcd5d80046c5c451064bd23d1733fb22145cb95', 'message': 'Add `chase_referrals` option\n\nIn cases where an LDAP or Active Directory server is used which uses\nreferrals the operator might want to enable referral chasing in the\nKeystone client.\n\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\nChange-Id: I95c2c31a55f5cf7918fc48927181aae2a034a23a\n'}]",2,789586,bdcd5d80046c5c451064bd23d1733fb22145cb95,9,4,1,19298,,,0,"Add `chase_referrals` option

In cases where an LDAP or Active Directory server is used which uses
referrals the operator might want to enable referral chasing in the
Keystone client.

Signed-off-by: Nicolas Bock <nicolas.bock@canonical.com>
Change-Id: I95c2c31a55f5cf7918fc48927181aae2a034a23a
",git fetch https://review.opendev.org/openstack/charm-keystone-ldap refs/changes/86/789586/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'src/templates/keystone.conf']",2,bdcd5d80046c5c451064bd23d1733fb22145cb95,referrals,chase_referrals = {{ options.ldap_chase_referrals }} ,,8,0
openstack%2Fnova~master~I8fb1023dcf2c726f21f8e833f450b07454d6fb87,openstack/nova,master,I8fb1023dcf2c726f21f8e833f450b07454d6fb87,[WIP] move instance claim to scheduler.,NEW,2021-07-12 20:44:37.000000000,2021-07-13 05:48:05.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-12 20:44:37.000000000', 'files': ['nova/scheduler/utils.py', 'nova/compute/rpcapi.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fc389e925005008845cb33ddfe03dc36cdf75705', 'message': '[WIP] move instance claim to scheduler.\n\nThis is an early poc so ignore it for now.\n\nThe intent is to show how to move the instance claim\nto the schduler without breaking things too badly.\n\nChange-Id: I8fb1023dcf2c726f21f8e833f450b07454d6fb87\n'}]",3,800560,fc389e925005008845cb33ddfe03dc36cdf75705,6,1,1,11604,,,0,"[WIP] move instance claim to scheduler.

This is an early poc so ignore it for now.

The intent is to show how to move the instance claim
to the schduler without breaking things too badly.

Change-Id: I8fb1023dcf2c726f21f8e833f450b07454d6fb87
",git fetch https://review.opendev.org/openstack/nova refs/changes/60/800560/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/utils.py', 'nova/compute/rpcapi.py', 'nova/compute/resource_tracker.py']",3,fc389e925005008845cb33ddfe03dc36cdf75705,move-instance-claim-to-schduler," self.instance_claims = dict() if instance.uuid in self.instance_claims: return self.instance_claims[instance.uuid] self.instance_claims[instance.uuid] = claim def release_instnace_claim(self, context, instance_uuid, nodename): # NOTE(sean-k-mooney): not sure if this is correct yet but # i based it on drop_move_claim if not instnace_uuid in self.instance_claims: return claim = self.instance_claims[instnace_uuid] instance = claim.instance resources = instance.resources self._release_assigned_resources(resources) self.pci_tracker.free_instance_claims(context, instance) numa_topology = instnace.numa_topology usage = self._get_usage_dict( instnace.flavor, instance, numa_topology=numa_topology) self._update_usage(usage, nodename, sign=-1) ctxt = context.elevated() self._update(ctxt, self.compute_nodes[nodename]) if instance_uuid in self.tracked_instances: self.tracked_instances.remove(instance_uuid) del self.instance_claims[instnace_uuid] @utils.synchronized(COMPUTE_RESOURCE_SEMAPHORE, fair=True)",,46,2
openstack%2Fhorizon~stable%2Fqueens~I94360f41f22bf204033b2e56de404430fdacccee,openstack/horizon,stable/queens,I94360f41f22bf204033b2e56de404430fdacccee,[DNR] Testing manila-ui stable/queens branch,ABANDONED,2021-07-12 18:56:51.000000000,2021-07-13 05:43:48.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-07-12 18:56:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/70c6bc76e3c1d280c82fe98c24ced70ad2de950a', 'message': '[DNR] Testing manila-ui stable/queens branch\n\nChange-Id: I94360f41f22bf204033b2e56de404430fdacccee\n'}, {'number': 2, 'created': '2021-07-12 18:59:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/cfb32121965603217f042e1ea896de54561cb882', 'message': '[DNR] Testing manila-ui stable/queens branch\n\nChange-Id: I94360f41f22bf204033b2e56de404430fdacccee\n'}, {'number': 3, 'created': '2021-07-12 19:19:29.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/0125be5a8e6530444aba0180a745b83c32fd501f', 'message': '[DNR] Testing manila-ui stable/queens branch\n\nChange-Id: I94360f41f22bf204033b2e56de404430fdacccee\n'}]",1,800545,0125be5a8e6530444aba0180a745b83c32fd501f,8,2,3,29313,,,0,"[DNR] Testing manila-ui stable/queens branch

Change-Id: I94360f41f22bf204033b2e56de404430fdacccee
",git fetch https://review.opendev.org/openstack/horizon refs/changes/45/800545/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,70c6bc76e3c1d280c82fe98c24ced70ad2de950a,,, name: horizon-openstack-tox-base parent: openstack-tox irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ - ^horizon/locale/.*$ - ^openstack_dashboard/locale/.*$ - ^openstack_auth/locale/.*$ - job: name: horizon-openstack-tox-py27dj19 parent: horizon-openstack-tox-base vars: tox_envlist: py27dj19 - job: name: horizon-openstack-tox-py27dj110 parent: horizon-openstack-tox-base vars: tox_envlist: py27dj110 - job: - horizon-openstack-tox-py27dj19 - horizon-openstack-tox-py27dj18 - horizon-openstack-tox-py27dj19 - horizon-openstack-tox-py27dj18,0,27
openstack%2Fpython-cinderclient~stable%2Fwallaby~I2e2aa24e1592b66b287c84eda97b5079c40a36ec,openstack/python-cinderclient,stable/wallaby,I2e2aa24e1592b66b287c84eda97b5079c40a36ec,Remove skip_missing_interpreters,MERGED,2021-07-07 21:13:39.000000000,2021-07-13 04:24:43.000000000,2021-07-13 04:22:58.000000000,"[{'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-07 21:13:39.000000000', 'files': ['bindep.txt', '.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/4c6c3b49b5334518be1b776d32fada394743142f', 'message': ""Remove skip_missing_interpreters\n\nThis prevents a job reporting 'success' when the appropriate python\ninterpreter cannot be found, when actually it didn't run at all.\nAlso change the default envlist to use generic 'py3' instead of a\nspecific version which might not be present.\n\nAlso change zuul config so the python-cinderclient-functional-py36\njob runs on centos-8-stream nodes, where py36 should be available.\nAnd change bindep.txt to specify the correct package name for\ncentos-8.\n\nJeremy Stanley has given a more thorough explanation of why this\nis a good change:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014810.html\n\nThis isn't a theoretical issue.  If you look at recent\npython-cinderclient-functional-py36 job results (for example,\n[0]), you'll see that Zuul reported 'success', but on a closer look,\nyou'll see that no tests were run.\n\n[0] https://zuul.opendev.org/t/openstack/build/1bfc80638086405f8b29905cdd6f71be/log/job-output.txt#25470\n\nChange-Id: I2e2aa24e1592b66b287c84eda97b5079c40a36ec\n(cherry picked from commit b891c9980f316bd603a9f1429eebad41adf43825)\n""}]",0,799882,4c6c3b49b5334518be1b776d32fada394743142f,12,2,1,5314,,,0,"Remove skip_missing_interpreters

This prevents a job reporting 'success' when the appropriate python
interpreter cannot be found, when actually it didn't run at all.
Also change the default envlist to use generic 'py3' instead of a
specific version which might not be present.

Also change zuul config so the python-cinderclient-functional-py36
job runs on centos-8-stream nodes, where py36 should be available.
And change bindep.txt to specify the correct package name for
centos-8.

Jeremy Stanley has given a more thorough explanation of why this
is a good change:
http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014810.html

This isn't a theoretical issue.  If you look at recent
python-cinderclient-functional-py36 job results (for example,
[0]), you'll see that Zuul reported 'success', but on a closer look,
you'll see that no tests were run.

[0] https://zuul.opendev.org/t/openstack/build/1bfc80638086405f8b29905cdd6f71be/log/job-output.txt#25470

Change-Id: I2e2aa24e1592b66b287c84eda97b5079c40a36ec
(cherry picked from commit b891c9980f316bd603a9f1429eebad41adf43825)
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/82/799882/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', '.zuul.yaml', 'tox.ini']",3,4c6c3b49b5334518be1b776d32fada394743142f,skip-missing-interp,"envlist = py3,pep8","envlist = py36,py38,pep8skip_missing_interpreters = true",5,4
openstack%2Fpython-brick-cinderclient-ext~master~Iba7c25dd51dd0b91909b083272a8d5efc853115e,openstack/python-brick-cinderclient-ext,master,Iba7c25dd51dd0b91909b083272a8d5efc853115e,Remove skip_missing_interpreters,MERGED,2021-06-17 13:09:21.000000000,2021-07-13 03:15:14.000000000,2021-07-13 03:13:31.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 12670}, {'_account_id': 20813}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-17 13:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-brick-cinderclient-ext/commit/0b21f5ecb5cb96c5e535856fdb0af03174835d9b', 'message': 'Remove skip_missing_interpreters\n\nThe Zuul results on [0], for example, show the functional-py36 job as\npassing, when actually no tests were run because a py36 interpreter\nwas not available.  So don\'t allow this to happen, and change the\ndefault testenvs to test generic ""py3"" instead of py36 and py38.\n\nThis kind of sucks because someone might test locally against a py3\nversion we don\'t even support, but it\'s either that or require that\ndevelopers have both py36 and py38 available on their systems\n... which most of us do.  But the wider community, as far as I can\ntell, thinks that requirement is unreasonable and that it would\ndiscourage new contributors.\n\nThis requires a corresponding change in the zuul config file so that\nthe functional-py36 job explicitly requires that py36 be available.\nAnd because explicit is better than implicit, the requirement is also\nadded to the functional-py38 job definition.\n\n[0] https://review.opendev.org/c/openstack/python-brick-cinderclient-ext/+/796787/1\n\nChange-Id: Iba7c25dd51dd0b91909b083272a8d5efc853115e\n'}, {'number': 2, 'created': '2021-06-17 18:08:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-brick-cinderclient-ext/commit/f30513c9f961a5e48b39fe8e7951803e20280cf2', 'message': 'Remove skip_missing_interpreters\n\nThe Zuul results on [0], for example, show the functional-py36 job as\npassing, when actually no tests were run because a py36 interpreter\nwas not available.  So don\'t allow this to happen, and change the\ndefault testenvs to test generic ""py3"" instead of py36 and py38.\n\nThis kind of sucks because someone might test locally against a py3\nversion we don\'t even support, but it\'s either that or require that\ndevelopers have both py36 and py38 available on their systems\n... which most of us do.  But the wider community, as far as I can\ntell, thinks that requirement is unreasonable and that it would\ndiscourage new contributors.\n\nThis requires a corresponding change in the zuul config file so that\nthe functional-py36 job explicitly requires that py36 be available.\nAnd because explicit is better than implicit, the requirement is also\nadded to the functional-py38 job definition.\n\n[0] https://review.opendev.org/c/openstack/python-brick-cinderclient-ext/+/796787/1\n\nChange-Id: Iba7c25dd51dd0b91909b083272a8d5efc853115e\n'}, {'number': 3, 'created': '2021-06-18 13:06:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-brick-cinderclient-ext/commit/5c0640ea50f22e7b746a336663d639172fc312ac', 'message': 'Remove skip_missing_interpreters\n\nThe Zuul results on [0], for example, show the functional-py36 job as\npassing, when actually no tests were run because a py36 interpreter\nwas not available.  So don\'t allow this to happen, and change the\ndefault testenvs to test generic ""py3"" instead of py36 and py38.\n\nThis kind of sucks because someone might test locally against a py3\nversion we don\'t even support, but it\'s either that or require that\ndevelopers have both py36 and py38 available on their systems\n... which most of us do.  But the wider community, as far as I can\ntell, thinks that requirement is unreasonable and that it would\ndiscourage new contributors.\n\nThis requires a corresponding change in the zuul config file so that\nthe functional-py36 job explicitly requires that py36 be available.\nAnd because explicit is better than implicit, the requirement is also\nadded to the functional-py38 job definition.\n\n[0] https://review.opendev.org/c/openstack/python-brick-cinderclient-ext/+/796787/1\n\nChange-Id: Iba7c25dd51dd0b91909b083272a8d5efc853115e\n'}, {'number': 4, 'created': '2021-06-18 13:23:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-brick-cinderclient-ext/commit/8205cd5a829062a7e51db3c6ff062a30e8e723e8', 'message': 'Remove skip_missing_interpreters\n\nThe Zuul results on [0], for example, show the functional-py36 job as\npassing, when actually no tests were run because a py36 interpreter\nwas not available.  So don\'t allow this to happen, and change the\ndefault testenvs to test generic ""py3"" instead of py36 and py38.\n\nThis kind of sucks because someone might test locally against a py3\nversion we don\'t even support, but it\'s either that or require that\ndevelopers have both py36 and py38 available on their systems\n... which most of us do.  But the wider community, as far as I can\ntell, thinks that requirement is unreasonable and that it would\ndiscourage new contributors.\n\nThis requires a corresponding change in the zuul config file so that\nthe functional-py36 job explicitly requires that py36 be available.\nAnd because explicit is better than implicit, the requirement is also\nadded to the functional-py38 job definition.\n\n[0] https://review.opendev.org/c/openstack/python-brick-cinderclient-ext/+/796787/1\n\nChange-Id: Iba7c25dd51dd0b91909b083272a8d5efc853115e\n'}, {'number': 5, 'created': '2021-06-18 14:59:29.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-brick-cinderclient-ext/commit/24d30a384ea81b7b0b462d56a3d5a0c85022ca47', 'message': 'Remove skip_missing_interpreters\n\nThe Zuul results on [0], for example, show the functional-py36 job as\npassing, when actually no tests were run because a py36 interpreter\nwas not available.  So don\'t allow this to happen, and change the\ndefault testenvs to test generic ""py3"" instead of py36 and py38.\n\nThis kind of sucks because someone might test locally against a py3\nversion we don\'t even support, but it\'s either that or require that\ndevelopers have both py36 and py38 available on their systems\n... which most of us do.  But the wider community, as far as I can\ntell, thinks that requirement is unreasonable and that it would\ndiscourage new contributors.\n\nThis requires a corresponding change in the zuul config file so that\nthe functional-py36 job explicitly requires that py36 be available.\nAnd because explicit is better than implicit, the requirement is also\nadded to the functional-py38 job definition.\n\n[0] https://review.opendev.org/c/openstack/python-brick-cinderclient-ext/+/796787/1\n\nChange-Id: Iba7c25dd51dd0b91909b083272a8d5efc853115e\n'}]",1,796835,24d30a384ea81b7b0b462d56a3d5a0c85022ca47,21,6,5,5314,,,0,"Remove skip_missing_interpreters

The Zuul results on [0], for example, show the functional-py36 job as
passing, when actually no tests were run because a py36 interpreter
was not available.  So don't allow this to happen, and change the
default testenvs to test generic ""py3"" instead of py36 and py38.

This kind of sucks because someone might test locally against a py3
version we don't even support, but it's either that or require that
developers have both py36 and py38 available on their systems
... which most of us do.  But the wider community, as far as I can
tell, thinks that requirement is unreasonable and that it would
discourage new contributors.

This requires a corresponding change in the zuul config file so that
the functional-py36 job explicitly requires that py36 be available.
And because explicit is better than implicit, the requirement is also
added to the functional-py38 job definition.

[0] https://review.opendev.org/c/openstack/python-brick-cinderclient-ext/+/796787/1

Change-Id: Iba7c25dd51dd0b91909b083272a8d5efc853115e
",git fetch https://review.opendev.org/openstack/python-brick-cinderclient-ext refs/changes/35/796835/4 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,0b21f5ecb5cb96c5e535856fdb0af03174835d9b,skip-missing-interp,"envlist = py3,pep8","skip_missing_interpreters = trueenvlist = py38,py36,pep8",3,2
openstack%2Ftrove~stable%2Fwallaby~I3499956a7ba0a5d0ab4a49f5938ce038446d91b7,openstack/trove,stable/wallaby,I3499956a7ba0a5d0ab4a49f5938ce038446d91b7,Fix rebuild instances in replication cluster,MERGED,2021-07-12 20:04:09.000000000,2021-07-13 01:46:26.000000000,2021-07-13 01:45:12.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-12 20:04:09.000000000', 'files': ['trove/taskmanager/models.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/67db4d40f5944aa43eeeb3275e905f48e42688e6', 'message': 'Fix rebuild instances in replication cluster\n\nStory: 2009043\nTask: 42806\nChange-Id: I3499956a7ba0a5d0ab4a49f5938ce038446d91b7\n(cherry picked from commit f0bf45ea120f5b22be50fdc0f588c431fea0e8f5)\n'}]",0,800382,67db4d40f5944aa43eeeb3275e905f48e42688e6,7,2,1,6732,,,0,"Fix rebuild instances in replication cluster

Story: 2009043
Task: 42806
Change-Id: I3499956a7ba0a5d0ab4a49f5938ce038446d91b7
(cherry picked from commit f0bf45ea120f5b22be50fdc0f588c431fea0e8f5)
",git fetch https://review.opendev.org/openstack/trove refs/changes/82/800382/1 && git format-patch -1 --stdout FETCH_HEAD,['trove/taskmanager/models.py'],1,67db4d40f5944aa43eeeb3275e905f48e42688e6,fix-rebuild-stable/wallaby,"from trove.configuration import models as config_models """"""The action to perform rebuild. :param instance: A BuiltInstanceTasks instance. :param image_id: Image ID. """""" context = self.instance.context user_config = config_models.Configuration( context, self.instance.configuration.id) overrides = user_config.get_configuration_overrides() # Restore replication config for primary if self.instance.slaves: LOG.info(f""Enabling {self.instance.id} as primay after rebuild"") self.instance.enable_as_master() # Restart all the replicas to reconnect with the primary for replica in self.instance.slaves: LOG.info(f""Restarting replica {replica.id} after rebuild "" f""primary {self.instance.id}"") replica_tasks = BuiltInstanceTasks.load(context, replica.id) replica_tasks.restart() # Restore replication config for replica elif self.instance.slave_of_id: LOG.info(f""Re-attaching replica {self.instance.id} after rebuild"") primary = BuiltInstanceTasks.load( context, self.instance.slave_of_id) self.instance.detach_replica(primary, for_failover=True) self.instance.attach_replica(primary, restart=True) ", overrides = self.instance.configuration. \ get_configuration_overrides(),31,2
openstack%2Fironic-python-agent~stable%2Ftrain~If151b3a3be979bd2b3ce01030e5d6242ad74eaa3,openstack/ironic-python-agent,stable/train,If151b3a3be979bd2b3ce01030e5d6242ad74eaa3,Reduce logging verbosity when collecting logs,MERGED,2021-06-14 13:35:29.000000000,2021-07-13 00:53:54.000000000,2021-07-13 00:52:43.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-14 13:35:29.000000000', 'files': ['ironic_python_agent/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/5c476b8a2450c34d3b52cbcb72b77b19529b04ee', 'message': ""Reduce logging verbosity when collecting logs\n\nIt's not uncommon that some commands fail when collecting logs.\nWe already log all failures in utils.execute, no need to duplicate\nthem with a non-fatal ERROR logging.\n\nChange-Id: If151b3a3be979bd2b3ce01030e5d6242ad74eaa3\n(cherry picked from commit 2fcf35e56d578d98d77ffc97b6441f83548d7704)\n""}]",0,796218,5c476b8a2450c34d3b52cbcb72b77b19529b04ee,14,3,1,11655,,,0,"Reduce logging verbosity when collecting logs

It's not uncommon that some commands fail when collecting logs.
We already log all failures in utils.execute, no need to duplicate
them with a non-fatal ERROR logging.

Change-Id: If151b3a3be979bd2b3ce01030e5d6242ad74eaa3
(cherry picked from commit 2fcf35e56d578d98d77ffc97b6441f83548d7704)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/18/796218/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/utils.py'],1,5c476b8a2450c34d3b52cbcb72b77b19529b04ee,system-logs-verbose-stable/victoria-stable/ussuri-stable/train," LOG.debug('Collecting logs from command %s has failed', command)", LOG.error(error_msg) pass,1,2
openstack%2Fopenstack-tempest-skiplist~master~If32a5bf61d89298571904f50fa4e18d192d393f6,openstack/openstack-tempest-skiplist,master,If32a5bf61d89298571904f50fa4e18d192d393f6,"Remove duplicated ""releases"" key",ABANDONED,2021-07-13 00:05:11.000000000,2021-07-13 00:10:23.000000000,,[{'_account_id': 16643}],"[{'number': 1, 'created': '2021-07-13 00:05:11.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/b34d13dce14332a68d423ca441f90b4362bd120e', 'message': 'Remove duplicated ""releases"" key\n\nBecause of this the test is not properly skipped in some branches like\nussuri.\n\nChange-Id: If32a5bf61d89298571904f50fa4e18d192d393f6\n'}]",0,800573,b34d13dce14332a68d423ca441f90b4362bd120e,3,1,1,9816,,,0,"Remove duplicated ""releases"" key

Because of this the test is not properly skipped in some branches like
ussuri.

Change-Id: If32a5bf61d89298571904f50fa4e18d192d393f6
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/73/800573/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,b34d13dce14332a68d423ca441f90b4362bd120e,,, releases: releases:,0,2
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I0e1f7eed0ffe751fa54682103051ad29c08c1517,openstack/tripleo-heat-templates,stable/wallaby,I0e1f7eed0ffe751fa54682103051ad29c08c1517,Make default of NeutronDefaultAvailabilityZones empty array,MERGED,2021-07-09 12:53:56.000000000,2021-07-13 00:03:25.000000000,2021-07-13 00:03:25.000000000,"[{'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-07-09 12:53:56.000000000', 'files': ['deployment/neutron/neutron-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/be2c8e62cecff253eb86a213c778943ee5b22346', 'message': ""Make default of NeutronDefaultAvailabilityZones empty array\n\nNeutronDefaultAvailabilityZones is of type comma_delimited_list\ntherefore the default need to be [] instead of ''. Right now\nthe condition checks for empty string which is not the case\nfor comma_delimited_list and the hieradata covered by the\naz_unset condition get always set.\n\nCloses-Bug: #1934970\n\nConflicts:\n    deployment/neutron/neutron-api-container-puppet.yaml\n\nChange-Id: I0e1f7eed0ffe751fa54682103051ad29c08c1517\n(cherry picked from commit f276e7a4ae39c484226c2ebe6053e7a53a6fcaa1)\n""}]",0,800222,be2c8e62cecff253eb86a213c778943ee5b22346,11,8,1,17216,,,0,"Make default of NeutronDefaultAvailabilityZones empty array

NeutronDefaultAvailabilityZones is of type comma_delimited_list
therefore the default need to be [] instead of ''. Right now
the condition checks for empty string which is not the case
for comma_delimited_list and the hieradata covered by the
az_unset condition get always set.

Closes-Bug: #1934970

Conflicts:
    deployment/neutron/neutron-api-container-puppet.yaml

Change-Id: I0e1f7eed0ffe751fa54682103051ad29c08c1517
(cherry picked from commit f276e7a4ae39c484226c2ebe6053e7a53a6fcaa1)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/22/800222/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-api-container-puppet.yaml'],1,be2c8e62cecff253eb86a213c778943ee5b22346,1934970-w," default: [] az_unset: {equals: [{get_param: NeutronDefaultAvailabilityZones}, []]}"," default: '' az_unset: {equals: [{get_param: NeutronDefaultAvailabilityZones}, '']}",2,2
openstack%2Fpuppet-tripleo~master~I4e607116ba5b961ef101aed01369b2636299552c,openstack/puppet-tripleo,master,I4e607116ba5b961ef101aed01369b2636299552c,Example commit for review 796832,ABANDONED,2021-06-24 14:31:01.000000000,2021-07-12 23:49:56.000000000,,[],"[{'number': 1, 'created': '2021-06-24 14:31:01.000000000', 'files': ['spec/classes/tripleo_profile_base_aodh_authtoken_spec.rb', 'spec/fixtures/hieradata/default.yaml', 'manifests/profile/base/aodh/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8eb075526e7c78bb6612df5accea27a72666ccbb', 'message': 'Example commit for review 796832\n\nChange-Id: I4e607116ba5b961ef101aed01369b2636299552c\n'}]",0,797907,8eb075526e7c78bb6612df5accea27a72666ccbb,2,0,1,9816,,,0,"Example commit for review 796832

Change-Id: I4e607116ba5b961ef101aed01369b2636299552c
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/07/797907/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_profile_base_aodh_authtoken_spec.rb', 'spec/fixtures/hieradata/default.yaml', 'manifests/profile/base/aodh/authtoken.pp']",3,8eb075526e7c78bb6612df5accea27a72666ccbb,,"# [*memcached_hosts*] # (Optional) Array of memcache hosts. # Defaults to hiera('memcached_node_names', [])# DEPRECATED PARAMETERS # # [*memcached_ips*] # (Optional) Array of ipv4 or ipv6 addresses for memcache. # Defaults to undef # $memcached_hosts = hiera('memcached_node_names', []) # DEPRECATED PARAMETERS $memcached_ips = undef $memcached_hosts_tmp = pick($memcached_ips, memcached_hosts) if $step >= 3 { if is_ipv6_address($memcached_hosts_tmp[0]) { $memcache_servers = prefix(suffix(any2array(normalize_ip_for_uri($memcached_hosts_tmp)), "":${memcached_port}""), 'inet6:') } else { # If hosts are ipv4 addresses or hostnames then the raw values can be used. $memcache_servers = suffix(any2array($memcached_hosts_tmp), "":${memcached_port}"")","# [*memcached_ips*] # (Optional) Array of ipv4 or ipv6 addresses for memcache. # Defaults to hiera('memcached_node_ips', []) $memcached_ips = hiera('memcached_node_ips', []), if $step >= 3 { if is_ipv6_address($memcached_ips[0]) { $memcache_servers = prefix(suffix(any2array(normalize_ip_for_uri($memcached_ips)), "":${memcached_port}""), 'inet6:') } else { $memcache_servers = suffix(any2array(normalize_ip_for_uri($memcached_ips)), "":${memcached_port}"")",35,9
openstack%2Fdesignate~master~Ic2571caa71dc99c417ea0933d5d4947287cbe312,openstack/designate,master,Ic2571caa71dc99c417ea0933d5d4947287cbe312,Replace md5 for fips,MERGED,2021-06-25 20:15:07.000000000,2021-07-12 23:10:59.000000000,2021-07-12 23:09:35.000000000,"[{'_account_id': 11628}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-06-25 20:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/edb388fa830384bd28b156cd5d6716f3fa1a476f', 'message': 'Replace md5 for fips\n\nmd5 is not an approved algorithm in FIPS mode, and trying to\ninstantiate a hashlib.md5() will fail when the system is running in\nFIPS mode.\n\nmd5 is allowed when in a non-security context.  There is a plan to\nadd a keyword parameter (usedforsecurity) to hashlib.md5() to annotate\nwhether or not the instance is being used in a security context.\n\nIn the case where it is not, the instantiation of md5 will be allowed.\nSee https://bugs.python.org/issue9216 for more details.\n\nSome downstream python versions already support this parameter.  To\nsupport these versions, a new encapsulation of md5() has been added to\noslo_utils.  See https://review.opendev.org/#/c/750031/\n\nIn this case, md5 is used to calculate the hash of a database record\nto ensure record uniqueness.\n\nChange-Id: Ic2571caa71dc99c417ea0933d5d4947287cbe312\n'}, {'number': 2, 'created': '2021-06-25 23:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/0c11a0df83f7165e50c4f968e37b6ca4c26c559b', 'message': 'Replace md5 for fips\n\nmd5 is not an approved algorithm in FIPS mode, and trying to\ninstantiate a hashlib.md5() will fail when the system is running in\nFIPS mode.\n\nmd5 is allowed when in a non-security context.  There is a plan to\nadd a keyword parameter (usedforsecurity) to hashlib.md5() to annotate\nwhether or not the instance is being used in a security context.\n\nIn the case where it is not, the instantiation of md5 will be allowed.\nSee https://bugs.python.org/issue9216 for more details.\n\nSome downstream python versions already support this parameter.  To\nsupport these versions, a new encapsulation of md5() has been added to\noslo_utils.  See https://review.opendev.org/#/c/750031/\n\nIn this case, md5 is used to calculate the hash of a database record\nto ensure record uniqueness.\n\nChange-Id: Ic2571caa71dc99c417ea0933d5d4947287cbe312\n'}, {'number': 3, 'created': '2021-06-28 18:14:08.000000000', 'files': ['requirements.txt', 'designate/storage/impl_sqlalchemy/__init__.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/designate/commit/7ea564329097c078ac4db9ed02dac7d54ef467db', 'message': 'Replace md5 for fips\n\nmd5 is not an approved algorithm in FIPS mode, and trying to\ninstantiate a hashlib.md5() will fail when the system is running in\nFIPS mode.\n\nmd5 is allowed when in a non-security context.  There is a plan to\nadd a keyword parameter (usedforsecurity) to hashlib.md5() to annotate\nwhether or not the instance is being used in a security context.\n\nIn the case where it is not, the instantiation of md5 will be allowed.\nSee https://bugs.python.org/issue9216 for more details.\n\nSome downstream python versions already support this parameter.  To\nsupport these versions, a new encapsulation of md5() has been added to\noslo_utils.  See https://review.opendev.org/#/c/750031/\n\nIn this case, md5 is used to calculate the hash of a database record\nto ensure record uniqueness.\n\nChange-Id: Ic2571caa71dc99c417ea0933d5d4947287cbe312\n'}]",0,798157,7ea564329097c078ac4db9ed02dac7d54ef467db,19,5,3,9914,,,0,"Replace md5 for fips

md5 is not an approved algorithm in FIPS mode, and trying to
instantiate a hashlib.md5() will fail when the system is running in
FIPS mode.

md5 is allowed when in a non-security context.  There is a plan to
add a keyword parameter (usedforsecurity) to hashlib.md5() to annotate
whether or not the instance is being used in a security context.

In the case where it is not, the instantiation of md5 will be allowed.
See https://bugs.python.org/issue9216 for more details.

Some downstream python versions already support this parameter.  To
support these versions, a new encapsulation of md5() has been added to
oslo_utils.  See https://review.opendev.org/#/c/750031/

In this case, md5 is used to calculate the hash of a database record
to ensure record uniqueness.

Change-Id: Ic2571caa71dc99c417ea0933d5d4947287cbe312
",git fetch https://review.opendev.org/openstack/designate refs/changes/57/798157/2 && git format-patch -1 --stdout FETCH_HEAD,['designate/storage/impl_sqlalchemy/__init__.py'],1,edb388fa830384bd28b156cd5d6716f3fa1a476f,fix_md5,"from oslo_utils.secretutils import md5 md5sum = md5(usedforsecurity=False) md5sum.update((""%s:%s"" % (record.recordset_id, record.data)).encode('utf-8')) return md5sum.hexdigest()","import hashlib md5 = hashlib.md5() md5.update((""%s:%s"" % (record.recordset_id, record.data)).encode('utf-8')) return md5.hexdigest()",5,5
openstack%2Ftripleo-common~stable%2Fvictoria~I55905cb299ae9e35b605f0a9219177f809d6919e,openstack/tripleo-common,stable/victoria,I55905cb299ae9e35b605f0a9219177f809d6919e,Add missing IPv6 support for healthcheck_port,MERGED,2021-07-06 16:32:06.000000000,2021-07-12 22:50:40.000000000,2021-07-12 22:49:24.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-07-06 16:32:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/df8bde5b11cc13f0c6b38dd825cbd38b50b8e17f', 'message': 'Add missing IPv6 support for healthcheck_port\n\nWith change I64776992a7e457781aa8ddaba359ef085d4cb77d, the IPv6 network\nwas overlooked, leading to issues in some cases with composable roles\nand IPv6 network.\n\nChange-Id: I55905cb299ae9e35b605f0a9219177f809d6919e\nCloses-Bug: #1934772\nResolves: rhbz#1979524\n'}, {'number': 2, 'created': '2021-07-07 10:59:02.000000000', 'files': ['healthcheck/common.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/58f20a155b7900665521f4953042cad5391398aa', 'message': 'Add missing IPv6 support for healthcheck_port\n\nWith change I64776992a7e457781aa8ddaba359ef085d4cb77d, the IPv6 network\nwas overlooked, leading to issues in some cases with composable roles\nand IPv6 network.\n\nChange-Id: I55905cb299ae9e35b605f0a9219177f809d6919e\nCloses-Bug: #1934772\nResolves: rhbz#1979524\n(cherry picked from commit 4ea75f40b7d199ead6bb294f73dc6a8c96722ec1)\n'}]",0,799592,58f20a155b7900665521f4953042cad5391398aa,21,3,2,11090,,,0,"Add missing IPv6 support for healthcheck_port

With change I64776992a7e457781aa8ddaba359ef085d4cb77d, the IPv6 network
was overlooked, leading to issues in some cases with composable roles
and IPv6 network.

Change-Id: I55905cb299ae9e35b605f0a9219177f809d6919e
Closes-Bug: #1934772
Resolves: rhbz#1979524
(cherry picked from commit 4ea75f40b7d199ead6bb294f73dc6a8c96722ec1)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/92/799592/2 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/common.sh'],1,df8bde5b11cc13f0c6b38dd825cbd38b50b8e17f,healthcheck/port/v6-stable/wallaby-stable/victoria," sockets=$(awk -i join -v m=${ports} '{IGNORECASE=1; if ($2 ~ m || $3 ~ m) {output[counter++] = $10} } END{if (length(output)>0) {print join(output, 0, length(output)-1, ""|"")}}' /proc/net/{tcp,udp,tcp6,udp6})"," sockets=$(awk -i join -v m=${ports} '{IGNORECASE=1; if ($2 ~ m || $3 ~ m) {output[counter++] = $10} } END{if (length(output)>0) {print join(output, 0, length(output)-1, ""|"")}}' /proc/net/{tcp,udp})",1,1
openstack%2Ftripleo-ansible~master~I491ee8174f9f0f1869c5abb092dea3b3fa823583,openstack/tripleo-ansible,master,I491ee8174f9f0f1869c5abb092dea3b3fa823583,Backup and Restore - History,MERGED,2021-06-08 13:40:58.000000000,2021-07-12 22:49:17.000000000,2021-07-12 22:49:17.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 32728}, {'_account_id': 32968}]","[{'number': 1, 'created': '2021-06-08 13:40:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3cb5b9be6b71f07cfe3d4b78cce73976dc55c43e', 'message': 'WIP - backup and restore - history\n\nLet ReaR to configure each time to set a ""timestamp"" every single\ntime that a backup was done.\n\nChange-Id: I491ee8174f9f0f1869c5abb092dea3b3fa823583\n'}, {'number': 2, 'created': '2021-07-06 12:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/56d07226773233c3e75d464c6e5b50c258369c14', 'message': 'Backup and Restore - History\n\nLet ReaR to configure each time to set a ""timestamp"" every single\ntime that a backup was done.\n\nChange-Id: I491ee8174f9f0f1869c5abb092dea3b3fa823583\n'}, {'number': 3, 'created': '2021-07-06 12:13:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ab7281bbab3362d8505b9389d041d6c46f40d3a7', 'message': 'Backup and Restore - History\n\nLet ReaR to configure each time to set a ""timestamp"" every single\ntime that a backup was done.\n\nChange-Id: I491ee8174f9f0f1869c5abb092dea3b3fa823583\n'}, {'number': 4, 'created': '2021-07-06 12:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/103bfede8be04cd4292d97c7194ef86ae8d22af1', 'message': 'Backup and Restore - History\n\nLet ReaR to configure each time to set a ""timestamp"" every single\ntime that a backup was done.\n\nChange-Id: I491ee8174f9f0f1869c5abb092dea3b3fa823583\n'}, {'number': 5, 'created': '2021-07-07 13:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0fc2532175d833e4bdd629ec5d197ac5600320d3', 'message': 'Backup and Restore - History\n\nLet ReaR to configure each time to set a ""timestamp"" every single\ntime that a backup was done.\n\nChange-Id: I491ee8174f9f0f1869c5abb092dea3b3fa823583\n'}, {'number': 6, 'created': '2021-07-09 09:26:49.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0abd7609c3941acafd10eff45093c54a39aee181', 'message': 'Backup and Restore - History\n\nLet ReaR to configure each time to set a ""timestamp"" every single\ntime that a backup was done.\n\nChange-Id: I491ee8174f9f0f1869c5abb092dea3b3fa823583\n'}]",6,795330,0abd7609c3941acafd10eff45093c54a39aee181,23,8,6,22954,,,0,"Backup and Restore - History

Let ReaR to configure each time to set a ""timestamp"" every single
time that a backup was done.

Change-Id: I491ee8174f9f0f1869c5abb092dea3b3fa823583
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/30/795330/6 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml']",2,3cb5b9be6b71f07cfe3d4b78cce73976dc55c43e,change-795330-5, # Date argument to get the string of the backup tripleo_backup_and_restore_date_argument: '%Y%m%d%H%M' # Enable historical backups tripleo_backup_and_restore_historical: true ,,46,0
openstack%2Ftripleo-quickstart-extras~master~If6c1892d9f3d4613163dca2a0f7f293bf076a7b6,openstack/tripleo-quickstart-extras,master,If6c1892d9f3d4613163dca2a0f7f293bf076a7b6,[Standalone Upgrade] Use output directory same as deploy,MERGED,2021-07-12 08:14:20.000000000,2021-07-12 22:48:58.000000000,2021-07-12 22:48:58.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-07-12 08:14:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a7ffab1a8c5edce43c27a5f622607420c1a128f8', 'message': '[WIP] Use output directory same as standalone deploy\n\nstandalone deploy already switched in [1], for same\nreasons switch the standalone upgrade too.\n\n[1] https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/789764\n\nChange-Id: If6c1892d9f3d4613163dca2a0f7f293bf076a7b6\n'}, {'number': 2, 'created': '2021-07-12 10:23:00.000000000', 'files': ['roles/standalone-upgrade/templates/standalone.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/bf092d64813c79012ceba1840bec6275ce055e5e', 'message': ""[Standalone Upgrade] Use output directory same as deploy\n\nStandalone deploy already switched to <working_dir>/tripleo-deploy\nin [1], for same reasons switch the standalone upgrade too.\n\nAlso when using different output directory, passwords\nget's regenerated during upgrade and causing issues\nlike #1935691.\n\n[1] https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/789764\n\nCloses-Bug: #1935691\nChange-Id: If6c1892d9f3d4613163dca2a0f7f293bf076a7b6\n""}]",0,800437,bf092d64813c79012ceba1840bec6275ce055e5e,12,7,2,13861,,,0,"[Standalone Upgrade] Use output directory same as deploy

Standalone deploy already switched to <working_dir>/tripleo-deploy
in [1], for same reasons switch the standalone upgrade too.

Also when using different output directory, passwords
get's regenerated during upgrade and causing issues
like #1935691.

[1] https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/789764

Closes-Bug: #1935691
Change-Id: If6c1892d9f3d4613163dca2a0f7f293bf076a7b6
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/37/800437/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/standalone-upgrade/templates/standalone.sh.j2', 'zuul.d/layout.yaml']",2,a7ffab1a8c5edce43c27a5f622607420c1a128f8,bug/1935691, check: jobs: [], templates: - tripleo-undercloud-jobs-pipeline - tripleo-multinode-container-full-pipeline - tripleo-multinode-branchful - release-notes-jobs-python3 - tripleo-standalone-scenarios-pipeline - tripleo-standalone-multinode-ipa-pipeline - tripleo-upgrades-master-pipeline check: jobs: - openstack-tox-linters - openstack-tox-molecule: required-projects: - openstack/tripleo-quickstart - tripleo-ci-centos-8-content-provider: dependencies: - openstack-tox-linters - tripleo-ci-centos-8-containers-undercloud-minion: vars: consumer_job: true remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider files: - ^roles/.*minion.*$ - ^playbooks/.*minion.*$ - tripleo-ci-centos-8-standalone-on-multinode-ipa: vars: consumer_job: true build_container_images: false remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider files: - ^roles/ipa-multinode.*$ - ^roles/standalone.*$ - ^playbooks/multinode-standalone-ipa.yml.*$ - tripleo-ci-centos-8-repoclosure: files: - ^roles/repoclosure.*$ gate: queue: tripleo jobs: - openstack-tox-linters - openstack-tox-molecule: required-projects: - openstack/tripleo-quickstart - tripleo-ci-centos-8-containers-undercloud-minion: vars: consumer_job: true remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider files: - ^roles/.*minion.*$ - ^playbooks/.*minion.*$,2,59
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ie240877496b73a37f553a84af47dfebdbaf899e5,openstack/tripleo-heat-templates,stable/train,Ie240877496b73a37f553a84af47dfebdbaf899e5,Fix unreachable handling,MERGED,2021-07-12 04:15:45.000000000,2021-07-12 22:48:48.000000000,2021-07-12 22:48:48.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-12 04:15:45.000000000', 'files': ['common/deploy-steps-playbooks-common.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b8d80df42f4e82a7554f9a35a9ab9fde6590c13f', 'message': 'Fix unreachable handling\n\nWhen we clear the cached facts with unreachable nodes, we attempt to\ngather facts by default. This can cause the node to be skipped for every\nfuture playbook. This ends up bypassing all our failure percentage\nlogic.\n\nCONFLICT: was lines 15,52. This is changed in Ussuri. To maintain\nconsistency with Train, I have kept the Train method for gathering\nfacts and just backported the gather_facts: false for the\n""Clear cached facts"" task.\n\nChange-Id: Ie240877496b73a37f553a84af47dfebdbaf899e5\nRelated-Bug: 1908573\n(cherry picked from commit 969693e667aba8d893f10f7b03bafde3b3f66287)\n(cherry picked from commit c9ffe726f70e08f8fa564a0d86bcea01f348546c)\n'}]",0,800406,b8d80df42f4e82a7554f9a35a9ab9fde6590c13f,7,3,1,30073,,,0,"Fix unreachable handling

When we clear the cached facts with unreachable nodes, we attempt to
gather facts by default. This can cause the node to be skipped for every
future playbook. This ends up bypassing all our failure percentage
logic.

CONFLICT: was lines 15,52. This is changed in Ussuri. To maintain
consistency with Train, I have kept the Train method for gathering
facts and just backported the gather_facts: false for the
""Clear cached facts"" task.

Change-Id: Ie240877496b73a37f553a84af47dfebdbaf899e5
Related-Bug: 1908573
(cherry picked from commit 969693e667aba8d893f10f7b03bafde3b3f66287)
(cherry picked from commit c9ffe726f70e08f8fa564a0d86bcea01f348546c)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/06/800406/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-playbooks-common.yaml'],1,b8d80df42f4e82a7554f9a35a9ab9fde6590c13f,," # We don't want to gather facts, just clear them gather_facts: false",,2,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I08fa1ee947574e6fac24885b17706a22054fcba9,openstack/tripleo-heat-templates,stable/ussuri,I08fa1ee947574e6fac24885b17706a22054fcba9,Remove NovaVncProxyNetwork from ServiceNetMap,MERGED,2021-06-30 11:06:09.000000000,2021-07-12 22:27:28.000000000,2021-07-12 22:27:28.000000000,"[{'_account_id': 8833}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-06-30 11:06:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e50a10a4bf914bbfbcbe9e15fe4d2d07aa7b71b5', 'message': 'Remove NovaVncProxyNetwork from ServiceNetMap\n\nIn Icef2481b65b41b524ad44eeecfbee4451006e1d2 we moved to use\nNovaLibvirtNetwork as the single network to configure instance console\ncomponents.\nDue to how hieradata is being rendered via tripleo-hieradata, the\nremoved NovaVncProxyNetwork resulted in no-vnc-proxy service to\nfall back to the control plane network because NovaVncProxyNetwork\nwas removed.\nNovaVncProxyNetwork was then reintroduced with\nI595294956a4a7a0e2280c685ac1d2543edbc32f2 but as a side effect\nagain introduced the inconsistency on the console configuration.\n\nThis patch removes the NovaVncProxyNetwork from ServiceNetMap\nbut set it as part of service_net_map.j2.yaml and keep it in\nsync with NovaLibvirtNetwork.\n\nConflicts:\n    network/service_net_map.j2.yaml\n    overcloud-resource-registry-puppet.j2.yaml\n\nChange-Id: I08fa1ee947574e6fac24885b17706a22054fcba9\nCloses-Bug: #1917719\n(cherry picked from commit 9da8a405952623e42f52e13ac948da1e57cf6906)\n(cherry picked from commit 2f0689d8d7e4078c4e9c025c3deb9b9e0a638d05)\n(cherry picked from commit d18c6e92830bb7f6d8d62204747130678aa5a61c)\n'}, {'number': 2, 'created': '2021-07-02 08:10:21.000000000', 'files': ['network/service_net_map.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/de54e5ab630e01f8ac4c5543745d167922720c54', 'message': 'Remove NovaVncProxyNetwork from ServiceNetMap\n\nIn Icef2481b65b41b524ad44eeecfbee4451006e1d2 we moved to use\nNovaLibvirtNetwork as the single network to configure instance console\ncomponents.\nDue to how hieradata is being rendered via tripleo-hieradata, the\nremoved NovaVncProxyNetwork resulted in no-vnc-proxy service to\nfall back to the control plane network because NovaVncProxyNetwork\nwas removed.\nNovaVncProxyNetwork was then reintroduced with\nI595294956a4a7a0e2280c685ac1d2543edbc32f2 but as a side effect\nagain introduced the inconsistency on the console configuration.\n\nThis patch removes the NovaVncProxyNetwork from ServiceNetMap\nbut set it as part of service_net_map.j2.yaml and keep it in\nsync with NovaLibvirtNetwork.\n\nConflicts:\n    network/service_net_map.j2.yaml\n    overcloud-resource-registry-puppet.j2.yaml\n\nChange-Id: I08fa1ee947574e6fac24885b17706a22054fcba9\nCloses-Bug: #1917719\n(cherry picked from commit 9da8a405952623e42f52e13ac948da1e57cf6906)\n(cherry picked from commit 2f0689d8d7e4078c4e9c025c3deb9b9e0a638d05)\n(cherry picked from commit d18c6e92830bb7f6d8d62204747130678aa5a61c)\n'}]",0,798833,de54e5ab630e01f8ac4c5543745d167922720c54,37,6,2,17216,,,0,"Remove NovaVncProxyNetwork from ServiceNetMap

In Icef2481b65b41b524ad44eeecfbee4451006e1d2 we moved to use
NovaLibvirtNetwork as the single network to configure instance console
components.
Due to how hieradata is being rendered via tripleo-hieradata, the
removed NovaVncProxyNetwork resulted in no-vnc-proxy service to
fall back to the control plane network because NovaVncProxyNetwork
was removed.
NovaVncProxyNetwork was then reintroduced with
I595294956a4a7a0e2280c685ac1d2543edbc32f2 but as a side effect
again introduced the inconsistency on the console configuration.

This patch removes the NovaVncProxyNetwork from ServiceNetMap
but set it as part of service_net_map.j2.yaml and keep it in
sync with NovaLibvirtNetwork.

Conflicts:
    network/service_net_map.j2.yaml
    overcloud-resource-registry-puppet.j2.yaml

Change-Id: I08fa1ee947574e6fac24885b17706a22054fcba9
Closes-Bug: #1917719
(cherry picked from commit 9da8a405952623e42f52e13ac948da1e57cf6906)
(cherry picked from commit 2f0689d8d7e4078c4e9c025c3deb9b9e0a638d05)
(cherry picked from commit d18c6e92830bb7f6d8d62204747130678aa5a61c)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/33/798833/2 && git format-patch -1 --stdout FETCH_HEAD,['network/service_net_map.j2.yaml'],1,e50a10a4bf914bbfbcbe9e15fe4d2d07aa7b71b5,1917719-2-u," - if: # (mschuppert) this is to keep NovaVncProxyNetwork and NovaLibvirtNetwork # in sync to not break VNC console - not: {equals : [{get_param: [ServiceNetMap, NovaLibvirtNetwork]}, '']} - NovaVncProxyNetwork: { get_param: [ServiceNetMap, NovaLibvirtNetwork] } - NovaVncProxyNetwork: { get_param: [ServiceNetMapDefaults, NovaLibvirtNetwork] }"," NovaVncProxyNetwork: {{ _service_nets.get('internal_api', 'ctlplane') }}",6,1
openstack%2Fironic~master~I3c935ac5f82d752f81619c1609019ec7cfbf95df,openstack/ironic,master,I3c935ac5f82d752f81619c1609019ec7cfbf95df,Enable disable_by_file backend of healthcheck middleware by default,NEW,2021-07-12 16:32:03.000000000,2021-07-12 22:21:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-12 16:32:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8790a762275b76cf2f328c2fefa23dad7a80d3ee', 'message': ""Enable disable_by_file backend of healthcheck middleware by default\n\nThis change introduces ironic's own defaults about healthcheck\nmiddleware parameters, and allows to use disable_by_file backend\nby default.\n\nDepends-on: https://review.opendev.org/800513\nChange-Id: I3c935ac5f82d752f81619c1609019ec7cfbf95df\n""}, {'number': 2, 'created': '2021-07-12 16:37:05.000000000', 'files': ['ironic/api/app.py', 'releasenotes/notes/healthcheck-override-d1813dbe90580706.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d4a9cdf237f68ccacd8bb859e0a41d659ef0a460', 'message': ""Enable disable_by_file backend of healthcheck middleware by default\n\nThis change introduces ironic's own defaults about healthcheck\nmiddleware parameters, and allows to use disable_by_file backend\nby default.\n\nDepends-on: https://review.opendev.org/800513\nChange-Id: I3c935ac5f82d752f81619c1609019ec7cfbf95df\n""}]",0,800515,d4a9cdf237f68ccacd8bb859e0a41d659ef0a460,8,1,2,9816,,,0,"Enable disable_by_file backend of healthcheck middleware by default

This change introduces ironic's own defaults about healthcheck
middleware parameters, and allows to use disable_by_file backend
by default.

Depends-on: https://review.opendev.org/800513
Change-Id: I3c935ac5f82d752f81619c1609019ec7cfbf95df
",git fetch https://review.opendev.org/openstack/ironic refs/changes/15/800515/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/api/app.py', 'releasenotes/notes/healthcheck-override-d1813dbe90580706.yaml']",2,8790a762275b76cf2f328c2fefa23dad7a80d3ee,healthcheck-override,--- features: - | Now ``disable_by_file`` backend is enabled automatically when healtcheck middleware is enabled. ``/etc/ironic/healthcheck_disable`` is used as the default path where the file to disable healthcheck is placed. ,,10,0
openstack%2Fovn-octavia-provider~master~I820c924189d2973aefcb1452331c904f1ee7051f,openstack/ovn-octavia-provider,master,I820c924189d2973aefcb1452331c904f1ee7051f,Fix python 3.9 unit test failures,MERGED,2021-04-21 23:46:42.000000000,2021-07-12 22:19:08.000000000,2021-07-12 22:17:56.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 11805}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-04-21 23:46:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/ac2af72c4a117b498a369ded4fc9d51f9feb258e', 'message': ""Fix python 3.9 unit test failures\n\nRunning the python 3.9 unit tests locally results in failures\nlike:\n\n  TypeError: cannot pickle '_thread.RLock' object\n\nBecause we are inheriting some of the neutron code, and this\nis fixed in that repository, just bump the minimum requirement\nto 18.0.0 (Wallaby) now that it is released. This does not\nhappen in the gate since it is always using master.\n\nTrivialfix\n\nChange-Id: I820c924189d2973aefcb1452331c904f1ee7051f\nCloses-bug: #1923083\n""}, {'number': 2, 'created': '2021-04-22 01:34:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/6d8d1a758e41b1c07e9818c89d76bb59edc75ce9', 'message': ""Fix python 3.9 unit test failures\n\nRunning the python 3.9 unit tests locally results in failures\nlike:\n\n  TypeError: cannot pickle '_thread.RLock' object\n\nBecause we are inheriting some of the neutron code, and this\nis fixed in that repository, just bump the minimum requirement\nto 18.0.0 (Wallaby) now that it is released. This does not\nhappen in the gate since it is always using master.\n\nRaised minimum of other libraries as necessary.\n\nChange-Id: I820c924189d2973aefcb1452331c904f1ee7051f\nCloses-bug: #1923083\n""}, {'number': 3, 'created': '2021-04-22 02:11:45.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/69b392de9c6d753262342b726c407abbb8b6b6bb', 'message': ""Fix python 3.9 unit test failures\n\nRunning the python 3.9 unit tests locally results in failures\nlike:\n\n  TypeError: cannot pickle '_thread.RLock' object\n\nBecause we are inheriting some of the neutron code, and this\nis fixed in that repository, just bump the minimum requirement\nto 18.0.0 (Wallaby) now that it is released. This does not\nhappen in the gate since it is always using master.\n\nRaised minimum of other libraries as necessary.\n\nChange-Id: I820c924189d2973aefcb1452331c904f1ee7051f\nCloses-bug: #1923083\n""}]",0,787460,69b392de9c6d753262342b726c407abbb8b6b6bb,36,6,3,1131,,,0,"Fix python 3.9 unit test failures

Running the python 3.9 unit tests locally results in failures
like:

  TypeError: cannot pickle '_thread.RLock' object

Because we are inheriting some of the neutron code, and this
is fixed in that repository, just bump the minimum requirement
to 18.0.0 (Wallaby) now that it is released. This does not
happen in the gate since it is always using master.

Raised minimum of other libraries as necessary.

Change-Id: I820c924189d2973aefcb1452331c904f1ee7051f
Closes-bug: #1923083
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/60/787460/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,ac2af72c4a117b498a369ded4fc9d51f9feb258e,bug/1923083,# NOTE: Precisely we need wallaby neutron neutron>=18.0.0 # Apache-2.0,# NOTE: Precisely we need ussuri neutron neutron>=16.0.0 # Apache-2.0,2,2
openstack%2Ftrove~master~Ib6a55b65767e89eb5411783934aa3cc362505dcb,openstack/trove,master,Ib6a55b65767e89eb5411783934aa3cc362505dcb,Add doc for running unit tests,MERGED,2021-07-12 21:23:54.000000000,2021-07-12 22:10:04.000000000,2021-07-12 22:08:58.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-12 21:23:54.000000000', 'files': ['doc/source/contributor/testing.rst'], 'web_link': 'https://opendev.org/openstack/trove/commit/ce8014eca92961bd9ca2ced297c1c21dce31e8a4', 'message': 'Add doc for running unit tests\n\nChange-Id: Ib6a55b65767e89eb5411783934aa3cc362505dcb\n'}]",0,800567,ce8014eca92961bd9ca2ced297c1c21dce31e8a4,7,2,1,6732,,,0,"Add doc for running unit tests

Change-Id: Ib6a55b65767e89eb5411783934aa3cc362505dcb
",git fetch https://review.opendev.org/openstack/trove refs/changes/67/800567/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/testing.rst'],1,ce8014eca92961bd9ca2ced297c1c21dce31e8a4,dev-unittest,"================ Trove Unit Tests ================~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~Writing Unit Tests ------------------ Trove has some legacy unit test code for all the components which is not recommended to follow. Use the suggested approaches below. Writing Unit Tests for Trove API ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ For trove-api unit test, we use real database (sqlite). Set up trove database in ``setUpClass`` method. from trove.tests.unittests.util import util @classmethod def setUpClass(cls): util.init_db() and clean up the database in the method ``tearDownClass``: .. code-block:: python from trove.tests.unittests.util import util @classmethod def tearDownClass(cls): util.cleanup_db() Insert some data in ``setUpClass`` in order to run the tests. Trove sends notifications for various operations which communicates with the message queue service. In unit test, this is also mocked and usually called in the ``setUp`` method. .. code-block:: python from trove.tests.unittests import trove_testtools def setUp(self): trove_testtools.patch_notifier(self) Look at an example in ``trove/tests/unittests/instance/test_service.py`` Run Unit Test ------------- Run all the unit tests in one command: .. code-block:: console tox -e py38 Run all the tests of a specific test class: .. code-block:: console tox -e py38 -- trove.tests.unittests.instance.test_service.TestInstanceController Run a single test case: .. code-block:: console tox -e py38 -- trove.tests.unittests.instance.test_service.TestInstanceController.test_create_multiple_versions","========================= Notes on Trove Unit Tests =========================---------------------------------------------------Recommended Mocking Patterns ---------------------------- Mocking a class or object shared across multiple test cases. Use the patcher pattern in conjunction with the setUp() method [ see section 26.4.3.5. of [1]_ ]. def setUp(self): super(CouchbaseBackupTests, self).setUp() self.exe_timeout_patch = patch.object(utils, 'execute_with_timeout') self.addCleanup(self.exe_timeout_patch.stop) def test_case(self): mock_exe_timeout = self.exe_timeout_patch.start() If the mock object is required in the majority of test cases the following pattern may be more efficient. .. code-block:: python def setUp(self): super(CouchbaseBackupTests, self).setUp() self.exe_timeout_patch = patch.object(utils, 'execute_with_timeout') self.addCleanup(self.exe_timeout_patch.stop) self.mock_exe_timeout = self.exe_timeout_patch.start() def test_case(self): # All test cases can now reference 'self.mock_exe_timeout'. - Note also: patch.stopall() This method stops all active patches that were started with start. Mocking a class or object for a single entire test case. Use the decorator pattern. .. code-block:: python @patch.object(utils, 'execute_with_timeout') @patch.object(os, 'popen') def test_case(self, popen_mock, execute_with_timeout_mock): pass @patch.multiple(utils, execute_with_timeout=DEFAULT, generate_random_password=MagicMock(return_value=1)) def test_case(self, generate_random_password, execute_with_timeout): pass Mocking a class or object for a smaller scope within one test case. Use the context manager pattern. .. code-block:: python def test_case(self): # Some code using real implementation of 'generate_random_password'. with patch.object(utils, 'generate_random_password') as pwd_mock: # Using the mocked implementation of 'generate_random_password'. # Again code using the actual implementation of the method. def test_case(self): with patch.multiple(utils, execute_with_timeout_mock=DEFAULT, generate_random_password=MagicMock( return_value=1)) as mocks: password_mock = mocks['generate_random_password'] execute_mock = mocks['execute_with_timeout_mock'] Mocking global configuration properties. Use 'patch_conf_property' method from 'trove_testtools.TestCase'. .. code-block:: python def test_case(self): self.patch_conf_property('max_accepted_volume_size', 10) Datastore-specific configuration properties can be mocked by passing an optional 'section' argument to the above call. .. code-block:: python def test_case(self): self.patch_conf_property('cluster_support', False, section='redis') - Note also: 'patch_datastore_manager()' 'datastore_manager' name has to be set properly when testing datastore-specific code to ensure correct configuration options get loaded. This is a convenience method for mocking 'datastore_manager' name. .. code-block:: python def test_case(self): self.patch_datastore_manager('cassandra')",53,81
openstack%2Fpuppet-zaqar~stable%2Fvictoria~I45e73ae0575165c305bac28284fb1aaa425509e0,openstack/puppet-zaqar,stable/victoria,I45e73ae0575165c305bac28284fb1aaa425509e0,Drop the tripleo-puppet-undercloud job,MERGED,2021-07-11 03:50:12.000000000,2021-07-12 22:09:54.000000000,2021-07-12 22:09:54.000000000,"[{'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-11 03:50:12.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/c4709a1e905476a675251344c7f7660309393d58', 'message': 'Drop the tripleo-puppet-undercloud job\n\n... because Zaqar is no longer enabled in Undercloud by default.\n\nChange-Id: I45e73ae0575165c305bac28284fb1aaa425509e0\n(cherry picked from commit b5a259c1e151f7aff7da53e73c4fd08383378fa8)\n'}]",0,800189,c4709a1e905476a675251344c7f7660309393d58,10,3,1,9816,,,0,"Drop the tripleo-puppet-undercloud job

... because Zaqar is no longer enabled in Undercloud by default.

Change-Id: I45e73ae0575165c305bac28284fb1aaa425509e0
(cherry picked from commit b5a259c1e151f7aff7da53e73c4fd08383378fa8)
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/89/800189/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c4709a1e905476a675251344c7f7660309393d58,tripleo-undercloud-stable/victoria,, - tripleo-puppet-undercloud,0,1
openstack%2Ftrove~stable%2Fvictoria~I9e3165ed9b38b15714542e35456415e65d438497,openstack/trove,stable/victoria,I9e3165ed9b38b15714542e35456415e65d438497,Keep user defined configuration after resizing instance,MERGED,2021-07-12 10:35:22.000000000,2021-07-12 21:59:08.000000000,2021-07-12 21:58:02.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-12 10:35:22.000000000', 'files': ['trove/guestagent/datastore/postgres/manager.py', 'trove/guestagent/datastore/mysql_common/service.py', 'trove/guestagent/datastore/manager.py', 'trove/guestagent/datastore/postgres/service.py', 'trove/guestagent/datastore/mysql_common/manager.py', 'trove/guestagent/common/configuration.py', 'trove/taskmanager/models.py', 'trove/guestagent/api.py', 'trove/guestagent/datastore/service.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/327231dcc7887639202ba60d152d81bc9221b17a', 'message': ""Keep user defined configuration after resizing instance\n\n* Never remove user defined config, changing the function name from\n  save_configuration to reset_configuration in trove-guestagent.\n* Improved some logs\n* Do not remove Innodb Log Files after resize which will cause error:\n  Can't open and lock privilege tables: Table './mysql/user' is marked\n  as crashed and should be repaired\n\nStory: 2009033\nTask: 42773\nChange-Id: I9e3165ed9b38b15714542e35456415e65d438497\n(cherry picked from commit c274ab9f1a9b270c0ec2cb2d4aebe052aa37d416)\n""}]",0,800454,327231dcc7887639202ba60d152d81bc9221b17a,7,2,1,6732,,,0,"Keep user defined configuration after resizing instance

* Never remove user defined config, changing the function name from
  save_configuration to reset_configuration in trove-guestagent.
* Improved some logs
* Do not remove Innodb Log Files after resize which will cause error:
  Can't open and lock privilege tables: Table './mysql/user' is marked
  as crashed and should be repaired

Story: 2009033
Task: 42773
Change-Id: I9e3165ed9b38b15714542e35456415e65d438497
(cherry picked from commit c274ab9f1a9b270c0ec2cb2d4aebe052aa37d416)
",git fetch https://review.opendev.org/openstack/trove refs/changes/54/800454/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/guestagent/datastore/postgres/manager.py', 'trove/guestagent/datastore/mysql_common/service.py', 'trove/guestagent/datastore/manager.py', 'trove/guestagent/datastore/postgres/service.py', 'trove/guestagent/datastore/mysql_common/manager.py', 'trove/guestagent/common/configuration.py', 'trove/taskmanager/models.py', 'trove/guestagent/api.py', 'trove/guestagent/datastore/service.py']",9,327231dcc7887639202ba60d152d81bc9221b17a,victoria-fix-resize," LOG.info(""Resetting configuration."") self.configuration_manager.reset_configuration(configuration) """"""Start the database with given configuration. This method is called after resize. """"""", pass,53,47
openstack%2Ftripleo-specs~master~I14e7499afb623c2ea18feff83bfc3bd2e778cbc6,openstack/tripleo-specs,master,I14e7499afb623c2ea18feff83bfc3bd2e778cbc6,Moving IRC network reference to OFTC,MERGED,2021-07-06 22:55:42.000000000,2021-07-12 21:55:40.000000000,2021-07-12 21:54:24.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-06 22:55:42.000000000', 'files': ['specs/policy/patch-abandonment.rst', 'specs/policy/ci-team-structure.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/00b9f10ce5be1adf6020b19e49d6899379d97a3f', 'message': 'Moving IRC network reference to OFTC\n\nChange-Id: I14e7499afb623c2ea18feff83bfc3bd2e778cbc6\n'}]",0,799725,00b9f10ce5be1adf6020b19e49d6899379d97a3f,8,3,1,8556,,,0,"Moving IRC network reference to OFTC

Change-Id: I14e7499afb623c2ea18feff83bfc3bd2e778cbc6
",git fetch https://review.opendev.org/openstack/tripleo-specs refs/changes/25/799725/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/policy/patch-abandonment.rst', 'specs/policy/ci-team-structure.rst']",2,00b9f10ce5be1adf6020b19e49d6899379d97a3f,oftc, the TripleO community meeting on #tripleo (OFTC), the TripleO community meeting on #tripleo (freenode),2,2
openstack%2Ftrove~master~I433e755b562065fedd600a94f9edd94de9a1e2b9,openstack/trove,master,I433e755b562065fedd600a94f9edd94de9a1e2b9,Fix:Add parameter check when creating trove instance,NEW,2021-07-05 10:23:39.000000000,2021-07-12 21:37:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-05 10:23:39.000000000', 'files': ['trove/instance/models.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/110281e6408948ec48a97928e4efa3464433d4c8', 'message': 'Fix:Add parameter check when creating trove instance\n\nWhen creating a trove instance with specified configuration,add a check to judge whether Datastore Version on Configuration match the Datastore Version on the instance.\n\ntask 42767\nstory 2009031\n\nChange-Id: I433e755b562065fedd600a94f9edd94de9a1e2b9\n'}]",0,799454,110281e6408948ec48a97928e4efa3464433d4c8,6,1,1,33480,,,0,"Fix:Add parameter check when creating trove instance

When creating a trove instance with specified configuration,add a check to judge whether Datastore Version on Configuration match the Datastore Version on the instance.

task 42767
story 2009031

Change-Id: I433e755b562065fedd600a94f9edd94de9a1e2b9
",git fetch https://review.opendev.org/openstack/trove refs/changes/54/799454/1 && git format-patch -1 --stdout FETCH_HEAD,['trove/instance/models.py'],1,110281e6408948ec48a97928e4efa3464433d4c8,bugfix-42767," if configuration_id: Configuration.find(context, configuration_id, datastore_version.id)",,2,1
openstack%2Ftripleo-ci~master~I5b97ccf09fac490bc9c4f7fc3f4ceb59f7ff6e7a,openstack/tripleo-ci,master,I5b97ccf09fac490bc9c4f7fc3f4ceb59f7ff6e7a,standalone-upgrade ussuri/victoria nv,MERGED,2021-07-09 19:08:43.000000000,2021-07-12 21:30:14.000000000,2021-07-12 07:47:17.000000000,"[{'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-07-09 19:08:43.000000000', 'files': ['zuul.d/upgrades-jobs-templates.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4d7b37b41187ede7650c35239f453042c757dda6', 'message': 'standalone-upgrade ussuri/victoria nv\n\ncheck -> nv\nremove gate\n\nRelated-Bug: #1935691\nChange-Id: I5b97ccf09fac490bc9c4f7fc3f4ceb59f7ff6e7a\n'}]",1,800301,4d7b37b41187ede7650c35239f453042c757dda6,10,7,1,9592,,,0,"standalone-upgrade ussuri/victoria nv

check -> nv
remove gate

Related-Bug: #1935691
Change-Id: I5b97ccf09fac490bc9c4f7fc3f4ceb59f7ff6e7a
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/01/800301/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/upgrades-jobs-templates.yaml'],1,4d7b37b41187ede7650c35239f453042c757dda6,, # https://bugs.launchpad.net/tripleo/+bug/1935691 voting: false # https://bugs.launchpad.net/tripleo/+bug/1935691 voting: false, - tripleo-ci-centos-8-standalone-upgrade-victoria: vars: *consumer_vars dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-content-provider-ussuri - tripleo-ci-centos-8-standalone-upgrade-ussuri: vars: *consumer_vars dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-content-provider-train voting: true voting: true,4,12
openstack%2Fpuppet-mistral~stable%2Fvictoria~If408c7d2908ad182ccf9fec7851818b89b03ff92,openstack/puppet-mistral,stable/victoria,If408c7d2908ad182ccf9fec7851818b89b03ff92,Drop the tripleo-puppet-undercloud job,MERGED,2021-07-11 03:50:23.000000000,2021-07-12 21:26:10.000000000,2021-07-12 21:26:10.000000000,"[{'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-11 03:50:23.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/b51039d1bd2639f035317642dba6bdc686c848f2', 'message': 'Drop the tripleo-puppet-undercloud job\n\n... because Mistral is no longer enabled in Undercloud by default.\n\nChange-Id: If408c7d2908ad182ccf9fec7851818b89b03ff92\n(cherry picked from commit 63421e2ae688b3b0d9a7b5d15029c203ba806005)\n'}]",0,800190,b51039d1bd2639f035317642dba6bdc686c848f2,8,3,1,9816,,,0,"Drop the tripleo-puppet-undercloud job

... because Mistral is no longer enabled in Undercloud by default.

Change-Id: If408c7d2908ad182ccf9fec7851818b89b03ff92
(cherry picked from commit 63421e2ae688b3b0d9a7b5d15029c203ba806005)
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/90/800190/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b51039d1bd2639f035317642dba6bdc686c848f2,tripleo-undercloud-stable/victoria,, - tripleo-puppet-undercloud,0,1
openstack%2Fopenstack-helm-infra~master~I2039abb5bad07a19fd09fc5e245485c3c772beca,openstack/openstack-helm-infra,master,I2039abb5bad07a19fd09fc5e245485c3c772beca,Added the helm hook for create user job for exporter,MERGED,2021-06-24 13:07:36.000000000,2021-07-12 21:18:48.000000000,2021-07-12 21:17:32.000000000,"[{'_account_id': 1004}, {'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22636}]","[{'number': 1, 'created': '2021-06-24 13:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/456e28fb8f49d4dbb17838f16eea05a6499657b0', 'message': 'Added the helm hook for create user job for exporter.\n\nexporter-jpb-create-user was failing due to the field immutability which was\nresulting in the manual delete of the job for every helm upgrade to be successful.\nReason being job being upgraded before the other manifest that are required been\nupdated. It can be avoided by using helm-hook post-install and post-upgrade which\nwill force the job manifest to be applied only after all other manifest are applied.\nHook annotation is provided ""5"" so that the if other jobs are annotated, exporter job\nwill be last to created.\n\nChange-Id: I2039abb5bad07a19fd09fc5e245485c3c772beca\n'}, {'number': 2, 'created': '2021-06-25 12:14:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/545005b0fb42318c434896d493fc34927d3f6b36', 'message': 'Added the helm hook for create user job for exporter.\n\nexporter-jpb-create-user was failing due to the field immutability which was\nresulting in the manual delete of the job for every helm upgrade to be successful.\nReason being job being upgraded before the other manifest that are required been\nupdated. It can be avoided by using helm-hook post-install and post-upgrade which\nwill force the job manifest to be applied only after all other manifest are applied.\nHook annotation is provided ""5"" so that the if other jobs are annotated, exporter job\nwill be last to created.\n\nChange-Id: I2039abb5bad07a19fd09fc5e245485c3c772beca\n'}, {'number': 3, 'created': '2021-06-28 17:45:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/753fee26e69b0d14909434617002345a659e7e5a', 'message': 'Added the helm hook for create user job for exporter\n\nexporter-jpb-create-user was failing due to the field immutability\nwhich was resulting in the manual delete of the job for every helm\nupgrade to be successful. Reason being job being upgraded before the\nother manifest that are required been updated. It can be avoided by\nusing helm-hook post-install and post-upgrade which will force the\njob manifest to be applied only after all other manifest are applied.\nHook annotation is provided ""5"" so that the if other jobs are annotated,\nexporter job will be last to created.\n\nChange-Id: I2039abb5bad07a19fd09fc5e245485c3c772beca\n'}, {'number': 4, 'created': '2021-06-29 05:45:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c190f6b61b7a6a5ea3f3d31595240e8a6bdf6502', 'message': 'Added the helm hook for create user job for exporter\n\nexporter-jpb-create-user was failing due to the field immutability\nwhich was resulting in the manual delete of the job for every helm\nupgrade to be successful. Reason being job being upgraded before the\nother manifest that are required been updated. It can be avoided by\nusing helm-hook post-install and post-upgrade which will force the\njob manifest to be applied only after all other manifest are applied.\nHook annotation is provided ""5"" so that the if other jobs are annotated,\nexporter job will be last to created.\n\nChange-Id: I2039abb5bad07a19fd09fc5e245485c3c772beca\n'}, {'number': 5, 'created': '2021-07-08 16:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5633e285516a4a7f82202e02d96167a4956b2beb', 'message': 'Added the helm hook for create user job for exporter\n\nexporter-jpb-create-user was failing due to the field immutability\nwhich was resulting in the manual delete of the job for every helm\nupgrade to be successful. Reason being job being upgraded before the\nother manifest that are required been updated. It can be avoided by\nusing helm-hook post-install and post-upgrade which will force the\njob manifest to be applied only after all other manifest are applied.\nHook annotation is provided ""5"" so that the if other jobs are annotated,\nexporter job will be last to created.\nhelm3_hook value is used for the condition which will enable the disable\nof the hook.\n\nChange-Id: I2039abb5bad07a19fd09fc5e245485c3c772beca\n'}, {'number': 6, 'created': '2021-07-08 16:19:54.000000000', 'files': ['mariadb/Chart.yaml', 'releasenotes/notes/mariadb.yaml', 'mariadb/values.yaml', 'mariadb/templates/monitoring/prometheus/exporter-job-create-user.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9133218e8386082a28ad18b442ed2cb0aa7c0df3', 'message': 'Added the helm hook for create user job for exporter\n\nexporter-jpb-create-user was failing due to the field immutability\nwhich was resulting in the manual delete of the job for every helm\nupgrade to be successful. Reason being job being upgraded before the\nother manifest that are required been updated. It can be avoided by\nusing helm-hook post-install and post-upgrade which will force the\njob manifest to be applied only after all other manifest are applied.\nHook annotation is provided ""5"" so that the if other jobs are annotated,\nexporter job will be last to created.\nhelm3_hook value is used for the condition which will enable the disable\nof the hook.\n\nChange-Id: I2039abb5bad07a19fd09fc5e245485c3c772beca\n'}]",2,797899,9133218e8386082a28ad18b442ed2cb0aa7c0df3,29,6,6,33130,,,0,"Added the helm hook for create user job for exporter

exporter-jpb-create-user was failing due to the field immutability
which was resulting in the manual delete of the job for every helm
upgrade to be successful. Reason being job being upgraded before the
other manifest that are required been updated. It can be avoided by
using helm-hook post-install and post-upgrade which will force the
job manifest to be applied only after all other manifest are applied.
Hook annotation is provided ""5"" so that the if other jobs are annotated,
exporter job will be last to created.
helm3_hook value is used for the condition which will enable the disable
of the hook.

Change-Id: I2039abb5bad07a19fd09fc5e245485c3c772beca
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/99/797899/1 && git format-patch -1 --stdout FETCH_HEAD,"['mariadb/Chart.yaml', 'releasenotes/notes/mariadb.yaml', 'mariadb/templates/monitoring/prometheus/exporter-job-create-user.yaml']",3,456e28fb8f49d4dbb17838f16eea05a6499657b0,job-helm-hook-patch3-patch4," annotations: helm.sh/hook: post-install,post-upgrade helm.sh/hook-weight: ""5""",,5,1
openstack%2Fossa~master~I44db2454bd1cd8691f445a0dcd403b8fa2681de3,openstack/ossa,master,I44db2454bd1cd8691f445a0dcd403b8fa2681de3,Clarify our affected versions conventions,MERGED,2021-07-12 19:53:43.000000000,2021-07-12 21:18:34.000000000,2021-07-12 21:17:16.000000000,"[{'_account_id': 5263}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-12 19:53:43.000000000', 'files': ['doc/source/vmt-process.rst'], 'web_link': 'https://opendev.org/openstack/ossa/commit/2780ff1dcc5b3804540d391ac738b5618b702dd8', 'message': ""Clarify our affected versions conventions\n\nThe old impact description template was slightly misleading in its\nuse of <= to clamp upper bounds of affected versions. For many years\nwe've actually been using a strict < of the next possible SemVer\npatchlevel version, so correct the examples and add a brief\nparagraph to explain the construction in greater detail.\n\nChange-Id: I44db2454bd1cd8691f445a0dcd403b8fa2681de3\n""}]",0,800553,2780ff1dcc5b3804540d391ac738b5618b702dd8,8,3,1,5263,,,0,"Clarify our affected versions conventions

The old impact description template was slightly misleading in its
use of <= to clamp upper bounds of affected versions. For many years
we've actually been using a strict < of the next possible SemVer
patchlevel version, so correct the examples and add a brief
paragraph to explain the construction in greater detail.

Change-Id: I44db2454bd1cd8691f445a0dcd403b8fa2681de3
",git fetch https://review.opendev.org/openstack/ossa refs/changes/53/800553/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/vmt-process.rst'],1,2780ff1dcc5b3804540d391ac738b5618b702dd8,affected-versions," Affects: >=2015.1.0 <2015.1.5, >=8.0.0 <8.1.1 and ==9.0.0 Affects: >=8.0.0 <8.1.1 and ==9.0.0 Affects: <8.1.1 and ==9.0.0 By convention, the ``<`` version is the next possible patchlevel release following three-component SemVer rules, so if the current highest affected version on a given branch is ``8.1.0`` then the affected versions includes ``<8.1.1`` even though the next actual version tagged might well be ``8.2.0`` or ``9.0.0`` (but since we don't know what the next version will necessarily be at the time of publication, we choose the lowest possible version it could be). This convention also makes it clear that prerelease versions may not be sufficient to address the vulnerability."," Affects: >=2015.1.0 <=2015.1.4, >=8.0.0 <=8.1.0 and ==9.0.0 Affects: >=8.0.0 <=8.1.0 and ==9.0.0 Affects: <=8.1.0 and ==9.0.0",13,3
openstack%2Ftrove~stable%2Fwallaby~I9e3165ed9b38b15714542e35456415e65d438497,openstack/trove,stable/wallaby,I9e3165ed9b38b15714542e35456415e65d438497,Keep user defined configuration after resizing instance,MERGED,2021-07-12 10:31:24.000000000,2021-07-12 21:14:13.000000000,2021-07-12 21:12:15.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-12 10:31:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/bf853dbb78d04795fc38a8834e03ede099bdbdfd', 'message': ""Keep user defined configuration after resizing instance\n\n* Never remove user defined config, changing the function name from\n  save_configuration to reset_configuration in trove-guestagent.\n* Improved some logs\n* Do not remove Innodb Log Files after resize which will cause error:\n  Can't open and lock privilege tables: Table './mysql/user' is marked\n  as crashed and should be repaired\n\nStory: 2009033\nTask: 42773\nChange-Id: I9e3165ed9b38b15714542e35456415e65d438497\n(cherry picked from commit c274ab9f1a9b270c0ec2cb2d4aebe052aa37d416)\n""}, {'number': 2, 'created': '2021-07-12 10:35:51.000000000', 'files': ['trove/guestagent/datastore/postgres/manager.py', 'trove/guestagent/datastore/mysql_common/service.py', 'trove/guestagent/datastore/manager.py', 'trove/guestagent/datastore/postgres/service.py', 'trove/guestagent/datastore/mysql_common/manager.py', 'trove/guestagent/common/configuration.py', 'trove/taskmanager/models.py', 'trove/guestagent/api.py', 'trove/guestagent/datastore/service.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/0b8be92709b5c07cb2b25d7f9ecffbf0d2d960d7', 'message': ""Keep user defined configuration after resizing instance\n\n* Never remove user defined config, changing the function name from\n  save_configuration to reset_configuration in trove-guestagent.\n* Improved some logs\n* Do not remove Innodb Log Files after resize which will cause error:\n  Can't open and lock privilege tables: Table './mysql/user' is marked\n  as crashed and should be repaired\n\nStory: 2009033\nTask: 42773\nChange-Id: I9e3165ed9b38b15714542e35456415e65d438497\n(cherry picked from commit c274ab9f1a9b270c0ec2cb2d4aebe052aa37d416)\n""}]",0,800453,0b8be92709b5c07cb2b25d7f9ecffbf0d2d960d7,8,2,2,6732,,,0,"Keep user defined configuration after resizing instance

* Never remove user defined config, changing the function name from
  save_configuration to reset_configuration in trove-guestagent.
* Improved some logs
* Do not remove Innodb Log Files after resize which will cause error:
  Can't open and lock privilege tables: Table './mysql/user' is marked
  as crashed and should be repaired

Story: 2009033
Task: 42773
Change-Id: I9e3165ed9b38b15714542e35456415e65d438497
(cherry picked from commit c274ab9f1a9b270c0ec2cb2d4aebe052aa37d416)
",git fetch https://review.opendev.org/openstack/trove refs/changes/53/800453/2 && git format-patch -1 --stdout FETCH_HEAD,"['trove/guestagent/datastore/postgres/manager.py', 'trove/guestagent/datastore/mysql_common/service.py', 'trove/guestagent/datastore/manager.py', 'trove/guestagent/datastore/postgres/service.py', 'trove/guestagent/datastore/mysql_common/manager.py', 'trove/guestagent/common/configuration.py', 'trove/taskmanager/models.py', 'trove/guestagent/api.py', 'trove/guestagent/datastore/service.py']",9,bf853dbb78d04795fc38a8834e03ede099bdbdfd,wallaby-fix-resize," LOG.info(""Resetting configuration."") self.configuration_manager.reset_configuration(configuration) """"""Start the database with given configuration. This method is called after resize. """"""", pass,53,48
openstack%2Frequirements~master~I403dca5f27c2508f2fb1a91295b8e2a66628841d,openstack/requirements,master,I403dca5f27c2508f2fb1a91295b8e2a66628841d,Updated from generate-constraints,MERGED,2021-07-07 06:23:08.000000000,2021-07-12 21:14:00.000000000,2021-07-12 21:12:43.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-07 06:23:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/36c81146917903f9295bba4b31206cfb2d50a607', 'message': 'Updated from generate-constraints\n\nChange-Id: I403dca5f27c2508f2fb1a91295b8e2a66628841d\n'}, {'number': 2, 'created': '2021-07-08 06:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/a1541e306522c4b2a2ab9f9de2dbabff0e408fc3', 'message': 'Updated from generate-constraints\n\nChange-Id: I403dca5f27c2508f2fb1a91295b8e2a66628841d\n'}, {'number': 3, 'created': '2021-07-10 06:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/342973bfe82a6abe9591fac9086b123294498ad8', 'message': 'Updated from generate-constraints\n\nChange-Id: I403dca5f27c2508f2fb1a91295b8e2a66628841d\n'}, {'number': 4, 'created': '2021-07-11 06:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/ac43fd07acff3e0603f8ca94e0f8c0631eb092af', 'message': 'Updated from generate-constraints\n\nChange-Id: I403dca5f27c2508f2fb1a91295b8e2a66628841d\n'}, {'number': 5, 'created': '2021-07-12 06:24:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/5c95f7d02e7a7e653be4a0ff551d3da5d93567a8', 'message': 'Updated from generate-constraints\n\nChange-Id: I403dca5f27c2508f2fb1a91295b8e2a66628841d\n'}, {'number': 6, 'created': '2021-07-12 15:37:47.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/cfe3356a9e84e2c1cdc9753489f9ba6663bf9229', 'message': 'Updated from generate-constraints\n\nChange-Id: I403dca5f27c2508f2fb1a91295b8e2a66628841d\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,799741,cfe3356a9e84e2c1cdc9753489f9ba6663bf9229,23,2,6,11131,,,0,"Updated from generate-constraints

Change-Id: I403dca5f27c2508f2fb1a91295b8e2a66628841d
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/41/799741/4 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,36c81146917903f9295bba4b31206cfb2d50a607,openstack/requirements/constraints,# generated using: tox -e generateXStatic-Angular===1.8.2.1Pillow===8.3.1zeroconf===0.32.1ruamel.yaml.clib===0.2.6importlib-metadata===4.6.1docutils===0.17.1boto3===1.17.106packaging===21.0Sphinx===4.0.3botocore===1.20.106cmd2===2.1.2oslo.db===10.0.0pkg-resources===0.0.0fasteners===0.16.3,XStatic-Angular===1.5.8.0Pillow===8.3.0zeroconf===0.32.0ruamel.yaml.clib===0.2.4importlib-metadata===4.6.0docutils===0.16boto3===1.17.105packaging===20.9Sphinx===3.5.4botocore===1.20.105cmd2===2.1.1oslo.db===9.1.0fasteners===0.14.1setuptools===57.0.0,15,14
openstack%2Fopenstack-helm-infra~master~I62c3c9a089d29528f79653c412fba5200fd1595e,openstack/openstack-helm-infra,master,I62c3c9a089d29528f79653c412fba5200fd1595e,Disable RGW crash dumps,MERGED,2021-07-08 18:46:40.000000000,2021-07-12 21:13:30.000000000,2021-07-12 21:12:03.000000000,"[{'_account_id': 18250}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 29974}, {'_account_id': 30495}]","[{'number': 1, 'created': '2021-07-08 18:46:40.000000000', 'files': ['ceph-rgw/Chart.yaml', 'releasenotes/notes/ceph-rgw.yaml', 'ceph-rgw/templates/bin/_init-dirs.sh.tpl', 'ceph-rgw/templates/deployment-rgw.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/56ae7ae52c41ca3e8ef0b3ed463d9180122c3883', 'message': 'Disable RGW crash dumps\n\nWhile ceph crash dumps are needed for mons and osds there is no\nneed for rgw.\n\nChange-Id: I62c3c9a089d29528f79653c412fba5200fd1595e\n'}]",0,800098,56ae7ae52c41ca3e8ef0b3ed463d9180122c3883,11,6,1,32190,,,0,"Disable RGW crash dumps

While ceph crash dumps are needed for mons and osds there is no
need for rgw.

Change-Id: I62c3c9a089d29528f79653c412fba5200fd1595e
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/98/800098/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-rgw/Chart.yaml', 'releasenotes/notes/ceph-rgw.yaml', 'ceph-rgw/templates/bin/_init-dirs.sh.tpl', 'ceph-rgw/templates/deployment-rgw.yaml']",4,56ae7ae52c41ca3e8ef0b3ed463d9180122c3883,rgwnocrash,, - name: pod-var-lib-ceph-crash mountPath: /var/lib/ceph/crash readOnly: false - name: pod-var-lib-ceph-crash mountPath: /var/lib/ceph/crash readOnly: false - name: pod-var-lib-ceph-crash hostPath: path: /var/lib/openstack-helm/ceph/crash type: DirectoryOrCreate,3,12
openstack%2Fopenstack-helm~master~I9d4f8dd8f9d36dc558e5e280b8f8193212345f34,openstack/openstack-helm,master,I9d4f8dd8f9d36dc558e5e280b8f8193212345f34,Wire up rootwrap daemon,MERGED,2021-06-30 00:13:36.000000000,2021-07-12 21:00:12.000000000,2021-07-12 20:58:44.000000000,"[{'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30449}, {'_account_id': 33130}]","[{'number': 1, 'created': '2021-06-30 00:13:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4f579a27f108d33ef374e7e97a2b3952744b5ed3', 'message': 'Wire up rootwrap daemon\n\nThis patch allow Neutron to start taking advantage of the rootwrap\ndaemon which should significantly increase performance.\n\nChange-Id: I9d4f8dd8f9d36dc558e5e280b8f8193212345f34\n'}, {'number': 2, 'created': '2021-07-07 13:33:40.000000000', 'files': ['neutron/Chart.yaml', 'releasenotes/notes/neutron.yaml', 'neutron/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/44be41440c276c89274cd833e83dbf672c343bcd', 'message': 'Wire up rootwrap daemon\n\nThis patch allow Neutron to start taking advantage of the rootwrap\ndaemon which should significantly increase performance.\n\nChange-Id: I9d4f8dd8f9d36dc558e5e280b8f8193212345f34\n'}]",0,798777,44be41440c276c89274cd833e83dbf672c343bcd,12,6,2,1004,,,0,"Wire up rootwrap daemon

This patch allow Neutron to start taking advantage of the rootwrap
daemon which should significantly increase performance.

Change-Id: I9d4f8dd8f9d36dc558e5e280b8f8193212345f34
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/77/798777/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/Chart.yaml', 'releasenotes/notes/neutron.yaml', 'neutron/values.yaml']",3,4f579a27f108d33ef374e7e97a2b3952744b5ed3,fix-neutron-agent," neutron ALL = (root) NOPASSWD: /var/lib/kolla/venv/bin/neutron-rootwrap-daemon /etc/neutron/rootwrap.conf, /var/lib/openstack/bin/neutron-rootwrap-daemon /etc/neutron/rootwrap.conf root_helper_daemon: sudo /var/lib/openstack/bin/neutron-rootwrap-daemon /etc/neutron/rootwrap.conf",,4,1
openstack%2Fpython-cinderclient~stable%2Fvictoria~Ibbbfb20c86bb2ea0d3d74f6a6a1bc913874f67ad,openstack/python-cinderclient,stable/victoria,Ibbbfb20c86bb2ea0d3d74f6a6a1bc913874f67ad,Use default nodeset for functional jobs,ABANDONED,2021-05-07 21:53:15.000000000,2021-07-12 20:51:47.000000000,,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 12670}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-05-07 21:53:15.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/4917754d3bd48baadee1bba926e059e3c3ced89b', 'message': 'Use default nodeset for functional jobs\n\nSpecifying specific nodes for these jobs was a holdover from\nussuri.  For wallaby and victoria, py36 and py38 should be\navailable on all nodes, so we can just use the default.\n\noriginal commit message:\nRun functional job on Ubuntu Focal\n\nDevstack is planning to remove the Ubuntu\nBionic support.\n- https://review.opendev.org/c/openstack/devstack/+/788754\n\nBefore that we need to switch Bionic job to focal.\ndevstack-tox-functional define the latest nodeset which is\nsingle node focal currently so removing nodeset setting from\npython-cinderclient functional jobs.\n\nChange-Id: Ibbbfb20c86bb2ea0d3d74f6a6a1bc913874f67ad\n(cherry picked from commit f54b873ca3f9900e17b42f3600a20a36abe2b1a7)\n(cherry picked from commit 7d890c66b549e3da5c3efad4d1703f5aca1e24e9)\n'}]",1,790307,4917754d3bd48baadee1bba926e059e3c3ced89b,11,7,1,5314,,,0,"Use default nodeset for functional jobs

Specifying specific nodes for these jobs was a holdover from
ussuri.  For wallaby and victoria, py36 and py38 should be
available on all nodes, so we can just use the default.

original commit message:
Run functional job on Ubuntu Focal

Devstack is planning to remove the Ubuntu
Bionic support.
- https://review.opendev.org/c/openstack/devstack/+/788754

Before that we need to switch Bionic job to focal.
devstack-tox-functional define the latest nodeset which is
single node focal currently so removing nodeset setting from
python-cinderclient functional jobs.

Change-Id: Ibbbfb20c86bb2ea0d3d74f6a6a1bc913874f67ad
(cherry picked from commit f54b873ca3f9900e17b42f3600a20a36abe2b1a7)
(cherry picked from commit 7d890c66b549e3da5c3efad4d1703f5aca1e24e9)
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/07/790307/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4917754d3bd48baadee1bba926e059e3c3ced89b,drop-bionic-v,, nodeset: openstack-single-node-bionic nodeset: openstack-single-node-focal,0,2
openstack%2Fopenstack-helm-infra~master~Ib83f1d4bef6300c2b76aa54f08927b74346184c7,openstack/openstack-helm-infra,master,Ib83f1d4bef6300c2b76aa54f08927b74346184c7,Added helm hook for rabbitmq job cluster wait,MERGED,2021-06-25 09:19:41.000000000,2021-07-12 20:47:17.000000000,2021-07-12 20:45:59.000000000,"[{'_account_id': 1004}, {'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-25 09:19:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0e7f6ce5fd773865dcb21f7d6fe6d24cfc119512', 'message': 'Added helm hook for rabbitmq job cluster wait.\n\nJob wait cluster was failing due to the field immutability which was resulting in the manual delete of the job for every helm upgrade to be successful. Reason being job being upgraded before the other manifest that are required been updated. It can be avoided by using helm-hook post-install and post-upgrade which will force the job manifest to be applied only after all other manifest are applied. Hook annotation is provided ""5"" so that the if other jobs are annotated, exporter job will be last to created in case hooks are added to the other jobs in chart.\n\nChange-Id: Ib83f1d4bef6300c2b76aa54f08927b74346184c7\n'}, {'number': 2, 'created': '2021-06-25 12:13:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2f0b108415f5957fea97cdf1fe377f22e8257584', 'message': 'Added helm hook for rabbitmq job cluster wait.\n\nJob wait cluster was failing due to the field immutability which was resulting in the manual delete of the job for every helm upgrade to be successful. Reason being job being upgraded before the other manifest that are required been updated. It can be avoided by using helm-hook post-install and post-upgrade which will force the job manifest to be applied only after all other manifest are applied. Hook annotation is provided ""5"" so that the if other jobs are annotated, exporter job will be last to created in case hooks are added to the other jobs in chart.\n\nChange-Id: Ib83f1d4bef6300c2b76aa54f08927b74346184c7\n'}, {'number': 3, 'created': '2021-06-28 17:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b74dc7456ef7ce25097b9c9d84043d5cc65cb411', 'message': 'Added helm hook for rabbitmq job cluster wait\n\nJob wait cluster was failing due to the field immutability which was\nresulting in the manual delete of the job for every helm upgrade to be\nsuccessful. Reason being job being upgraded before the other manifest\nthat are required been updated. It can be avoided by using helm-hook\npost-install and post-upgrade which will force the job manifest to be\napplied only after all other manifest are applied. Hook annotation is\nprovided ""5"" so that the if other jobs are annotated, exporter job will\nbe last to created in case hooks are added to the other jobs in chart.\n\nChange-Id: Ib83f1d4bef6300c2b76aa54f08927b74346184c7\n'}, {'number': 4, 'created': '2021-06-29 05:39:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e160d0fc85d7b632afc49e4ede92f2445d33f6be', 'message': 'Added helm hook for rabbitmq job cluster wait\n\nJob wait cluster was failing due to the field immutability which was\nresulting in the manual delete of the job for every helm upgrade to be\nsuccessful. Reason being job being upgraded before the other manifest\nthat are required been updated. It can be avoided by using helm-hook\npost-install and post-upgrade which will force the job manifest to be\napplied only after all other manifest are applied. Hook annotation is\nprovided ""5"" so that the if other jobs are annotated, exporter job will\nbe last to created in case hooks are added to the other jobs in chart.\n\nChange-Id: Ib83f1d4bef6300c2b76aa54f08927b74346184c7\n'}, {'number': 5, 'created': '2021-07-08 16:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cce63581d6569eb25a6a714c7114d588f3467b7e', 'message': 'Added helm hook for rabbitmq job cluster wait\n\nJob wait cluster was failing due to the field immutability which was\nresulting in the manual delete of the job for every helm upgrade to be\nsuccessful. Reason being job being upgraded before the other manifest\nthat are required been updated. It can be avoided by using helm-hook\npost-install and post-upgrade which will force the job manifest to be\napplied only after all other manifest are applied. Hook annotation is\nprovided ""5"" so that the if other jobs are annotated, exporter job will\nbe last to created in case hooks are added to the other jobs in chart.\nAlso helm3_hook value is used for condition.\n\nChange-Id: Ib83f1d4bef6300c2b76aa54f08927b74346184c7\n'}, {'number': 6, 'created': '2021-07-08 16:23:16.000000000', 'files': ['releasenotes/notes/rabbitmq.yaml', 'rabbitmq/templates/job-cluster-wait.yaml', 'rabbitmq/Chart.yaml', 'rabbitmq/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/812aba01b808f40d3d667e281bfcc847075d9647', 'message': 'Added helm hook for rabbitmq job cluster wait\n\nJob wait cluster was failing due to the field immutability which was\nresulting in the manual delete of the job for every helm upgrade to be\nsuccessful. Reason being job being upgraded before the other manifest\nthat are required been updated. It can be avoided by using helm-hook\npost-install and post-upgrade which will force the job manifest to be\napplied only after all other manifest are applied. Hook annotation is\nprovided ""5"" so that the if other jobs are annotated, exporter job will\nbe last to created in case hooks are added to the other jobs in chart.\nAlso helm3_hook value is used for condition.\n\nChange-Id: Ib83f1d4bef6300c2b76aa54f08927b74346184c7\n'}]",4,798061,812aba01b808f40d3d667e281bfcc847075d9647,23,6,6,33130,,,0,"Added helm hook for rabbitmq job cluster wait

Job wait cluster was failing due to the field immutability which was
resulting in the manual delete of the job for every helm upgrade to be
successful. Reason being job being upgraded before the other manifest
that are required been updated. It can be avoided by using helm-hook
post-install and post-upgrade which will force the job manifest to be
applied only after all other manifest are applied. Hook annotation is
provided ""5"" so that the if other jobs are annotated, exporter job will
be last to created in case hooks are added to the other jobs in chart.
Also helm3_hook value is used for condition.

Change-Id: Ib83f1d4bef6300c2b76aa54f08927b74346184c7
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/61/798061/6 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/rabbitmq.yaml', 'rabbitmq/templates/job-cluster-wait.yaml', 'rabbitmq/Chart.yaml']",3,0e7f6ce5fd773865dcb21f7d6fe6d24cfc119512,rabbitmq-hook-patch3-patch4-patch5,version: 0.1.12,version: 0.1.11,4,1
openstack%2Fopenstack-tempest-skiplist~master~I10b086eb5bed8582252ec80f8e00315d0e4ddc7f,openstack/openstack-tempest-skiplist,master,I10b086eb5bed8582252ec80f8e00315d0e4ddc7f,remove storage tests from skip list,MERGED,2021-07-12 15:56:16.000000000,2021-07-12 20:44:47.000000000,2021-07-12 20:43:32.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-12 15:56:16.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/c605bfeb07c5d67b25a8213b32c82c24374aea50', 'message': 'remove storage tests from skip list\n\nRelated-Bug: #1933639\nChange-Id: I10b086eb5bed8582252ec80f8e00315d0e4ddc7f\n'}]",0,800510,c605bfeb07c5d67b25a8213b32c82c24374aea50,10,3,1,9592,,,0,"remove storage tests from skip list

Related-Bug: #1933639
Change-Id: I10b086eb5bed8582252ec80f8e00315d0e4ddc7f
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/10/800510/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,c605bfeb07c5d67b25a8213b32c82c24374aea50,, - periodic-tripleo-ci-centos-8-scenario010-standalone-network-master , - test: tempest.api.object_storage deployment: - overcloud releases: - name: master reason: There was a conflict when trying to complete your request lp: https://bugs.launchpad.net/tripleo/+bug/1933639 releases: - name: wallaby reason: There was a conflict when trying to complete your request lp: https://bugs.launchpad.net/tripleo/+bug/1933639 jobs: - periodic-tripleo-ci-centos-8-ovb-3ctlr_1comp-featureset001-master - periodic-tripleo-ci-rhel-8-ovb-3ctlr_1comp-featureset035-internal-rhos-17 - periodic-tripleo-ci-centos-8-scenario010-standalone-network-master,1,15
openstack%2Ftempest~master~I35f1eecdd87c2020f1985a75f237266be509ecd7,openstack/tempest,master,I35f1eecdd87c2020f1985a75f237266be509ecd7,DNM: testing,ABANDONED,2021-07-12 18:28:05.000000000,2021-07-12 20:41:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-12 18:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5bf89c459c61cb6b5193dae2258f2c0dc04afd08', 'message': 'DNM: testing\n\nChange-Id: I35f1eecdd87c2020f1985a75f237266be509ecd7\n'}, {'number': 2, 'created': '2021-07-12 19:54:48.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/761fc5c5adb87754bd6d2691d93c4648291d2f9c', 'message': 'DNM: testing\n\nChange-Id: I35f1eecdd87c2020f1985a75f237266be509ecd7\n'}]",3,800539,761fc5c5adb87754bd6d2691d93c4648291d2f9c,8,1,2,8556,,,0,"DNM: testing

Change-Id: I35f1eecdd87c2020f1985a75f237266be509ecd7
",git fetch https://review.opendev.org/openstack/tempest refs/changes/39/800539/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,5bf89c459c61cb6b5193dae2258f2c0dc04afd08,, - openstack-python3-xena-jobs: branches: ^(?!master).*$, - openstack-python3-xena-jobs,2,1
openstack%2Ftripleo-quickstart-extras~master~I34b393e4871af918f08e6f167223026a324d10e4,openstack/tripleo-quickstart-extras,master,I34b393e4871af918f08e6f167223026a324d10e4,execute wallaby-upgrade jobs w/ changes to master,NEW,2021-07-12 17:13:28.000000000,2021-07-12 20:34:39.000000000,,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-12 17:13:28.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b78dee896ef9c33e7116c577b08f53955fd1effb', 'message': 'execute wallaby-upgrade jobs w/ changes to master\n\nSee depends on.. new upgrades template\nto trigger victoria->wallaby upgrade jobs\non changes to the master branch\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/800518\nChange-Id: I34b393e4871af918f08e6f167223026a324d10e4\n'}]",3,800520,b78dee896ef9c33e7116c577b08f53955fd1effb,11,4,1,9592,,,0,"execute wallaby-upgrade jobs w/ changes to master

See depends on.. new upgrades template
to trigger victoria->wallaby upgrade jobs
on changes to the master branch

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/800518
Change-Id: I34b393e4871af918f08e6f167223026a324d10e4
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/20/800520/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,b78dee896ef9c33e7116c577b08f53955fd1effb,upgrade-ci-tqe, - tripleo-upgrades-wallaby-pipeline-for-master, - tripleo-upgrades-master-pipeline,1,1
openstack%2Ftacker~master~I92d7c358a0f6b8ae747b6b380a0a8a3ad9b3e2d2,openstack/tacker,master,I92d7c358a0f6b8ae747b6b380a0a8a3ad9b3e2d2,DNM: testing depends-on,ABANDONED,2021-06-09 22:43:01.000000000,2021-07-12 19:44:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-09 22:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/3e30904ef9a717c4fff417185dd8a41bac162252', 'message': 'DNM: testing depends-on\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/795162\nChange-Id: I92d7c358a0f6b8ae747b6b380a0a8a3ad9b3e2d2\n'}, {'number': 2, 'created': '2021-06-10 23:12:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/667d77600f62fbfdf36b454398b0f1d60d90484e', 'message': 'DNM: testing depends-on\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/795162\nChange-Id: I92d7c358a0f6b8ae747b6b380a0a8a3ad9b3e2d2\n'}, {'number': 3, 'created': '2021-06-11 22:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/82f80e92b0d718bf11f9e18b0eb43ded54bada63', 'message': 'DNM: testing depends-on\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/795162\nChange-Id: I92d7c358a0f6b8ae747b6b380a0a8a3ad9b3e2d2\n'}, {'number': 4, 'created': '2021-06-16 18:46:30.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tacker/commit/7441103dc9b45fcd526927d909f127de8ef31e53', 'message': 'DNM: testing depends-on\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/795162\nChange-Id: I92d7c358a0f6b8ae747b6b380a0a8a3ad9b3e2d2\n'}]",0,795709,7441103dc9b45fcd526927d909f127de8ef31e53,13,1,4,8556,,,0,"DNM: testing depends-on

Depends-On: https://review.opendev.org/c/openstack/tempest/+/795162
Change-Id: I92d7c358a0f6b8ae747b6b380a0a8a3ad9b3e2d2
",git fetch https://review.opendev.org/openstack/tacker refs/changes/09/795709/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3e30904ef9a717c4fff417185dd8a41bac162252,move-verify-ipv6-only-deployments,#testing,,1,0
openstack%2Ftripleo-validations~stable%2Ftrain~I8eead4d1a4ceac3d053af69e302c5b757c45cdaa,openstack/tripleo-validations,stable/train,I8eead4d1a4ceac3d053af69e302c5b757c45cdaa,[ussuri-train-only] Use more recent version of ansible-lint,MERGED,2021-07-10 14:08:42.000000000,2021-07-12 19:31:59.000000000,2021-07-12 19:31:59.000000000,"[{'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-07-10 14:08:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/8e71e0e4ebef23efd13d16979a16ece853bb638c', 'message': '[ussuri-train-only] Use more recent version of ansible-lint\n\nwe need fix[1] to bypass RepresenterError when using to_yaml filter.\n\n[1] https://github.com/ansible/ansible-lint/pull/518\n\nChange-Id: I8eead4d1a4ceac3d053af69e302c5b757c45cdaa\n(cherry picked from commit d88808d0636f435cfc98c9638ecd57613fd19aae)\n'}, {'number': 2, 'created': '2021-07-10 14:27:41.000000000', 'files': ['.ansible-lint_rules/ValidationHasMetadataRule.py', '.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b6ee862a1b573a68208708c2e1c6fb5ed9e385ed', 'message': '[ussuri-train-only] Use more recent version of ansible-lint\n\nwe need fix[1] to bypass RepresenterError when using to_yaml filter.\n\n[1] https://github.com/ansible/ansible-lint/pull/518\n\nChange-Id: I8eead4d1a4ceac3d053af69e302c5b757c45cdaa\n(cherry picked from commit d88808d0636f435cfc98c9638ecd57613fd19aae)\n'}]",0,800187,b6ee862a1b573a68208708c2e1c6fb5ed9e385ed,10,6,2,27419,,,0,"[ussuri-train-only] Use more recent version of ansible-lint

we need fix[1] to bypass RepresenterError when using to_yaml filter.

[1] https://github.com/ansible/ansible-lint/pull/518

Change-Id: I8eead4d1a4ceac3d053af69e302c5b757c45cdaa
(cherry picked from commit d88808d0636f435cfc98c9638ecd57613fd19aae)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/87/800187/1 && git format-patch -1 --stdout FETCH_HEAD,"['.ansible-lint_rules/ValidationHasMetadataRule.py', '.pre-commit-config.yaml']",2,8e71e0e4ebef23efd13d16979a16ece853bb638c,, rev: v4.3.5, rev: v4.2.0,2,3
openstack%2Ftripleo-validations~stable%2Ftrain~I9869afd60342fdb0aca69a313c1c6e35e0947fb8,openstack/tripleo-validations,stable/train,I9869afd60342fdb0aca69a313c1c6e35e0947fb8,Migrate back haproxy validation to tripleo-validations,MERGED,2021-06-30 09:29:39.000000000,2021-07-12 19:31:53.000000000,2021-07-12 19:31:53.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-30 09:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/33836e3b98f9e125b8d2f5d04290c615150d4f10', 'message': 'Migrate back haproxy validation to tripleo-validations\n\nThis patch moves back the haproxy validation from validations-common to\ntripleo-validations. It has been renamed in tripleo-haproxy and the role\nis called now tripleo_haproxy.\n\nThis patch also fix the host targeting in order to only execute this\nvalidation on nodes where haproxy is really installed and configured.\n\nNote that the haproxy validations hosted in validations-common will be\nremoved in a follow up patch.\n\nCloses-Bug: #1926024\n\nCo-Authored-By: Michele Baldessari <michele@redhat.com>\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I9869afd60342fdb0aca69a313c1c6e35e0947fb8\n(cherry picked from commit 9dd662a1b9d5617e1a929c86f6ffdb09e873252b)\n(cherry picked from commit 253a16de422b5f22bb1b9e68ffa14e855a22d243)\n(cherry picked from commit bb5a538a56bc860c25ec32866ec25923099cbecc)\n(cherry picked from commit 2744976e606e87e8f4c3c9da0ab7d6018c3f1f2d)\n'}, {'number': 2, 'created': '2021-07-02 08:12:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/2110952d39d1fb1c7ee69384230a5d225f869944', 'message': 'Migrate back haproxy validation to tripleo-validations\n\nThis patch moves back the haproxy validation from validations-common to\ntripleo-validations. It has been renamed in tripleo-haproxy and the role\nis called now tripleo_haproxy.\n\nThis patch also fix the host targeting in order to only execute this\nvalidation on nodes where haproxy is really installed and configured.\n\nNote that the haproxy validations hosted in validations-common will be\nremoved in a follow up patch.\n\nCloses-Bug: #1926024\n\nCo-Authored-By: Michele Baldessari <michele@redhat.com>\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I9869afd60342fdb0aca69a313c1c6e35e0947fb8\n(cherry picked from commit 9dd662a1b9d5617e1a929c86f6ffdb09e873252b)\n(cherry picked from commit 253a16de422b5f22bb1b9e68ffa14e855a22d243)\n(cherry picked from commit bb5a538a56bc860c25ec32866ec25923099cbecc)\n(cherry picked from commit 2744976e606e87e8f4c3c9da0ab7d6018c3f1f2d)\n'}, {'number': 3, 'created': '2021-07-02 08:14:01.000000000', 'files': ['roles/tripleo_haproxy/molecule/default/converge.yml', 'doc/source/modules/modules-tripleo_haproxy_conf.rst', 'zuul.d/molecule.yaml', 'playbooks/tripleo-haproxy.yaml', 'roles/tripleo_haproxy/tasks/main.yml', 'library/tripleo_haproxy_conf.py', 'roles/tripleo_haproxy/defaults/main.yml', 'tripleo_validations/tests/library/test_tripleo_haproxy_conf.py', 'roles/tripleo_haproxy/molecule/default/molecule.yml', 'doc/source/roles/role-tripleo_haproxy.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ed94cfb94144fba07d07c472fbec5e9e6e8f0e43', 'message': 'Migrate back haproxy validation to tripleo-validations\n\nThis patch moves back the haproxy validation from validations-common to\ntripleo-validations. It has been renamed in tripleo-haproxy and the role\nis called now tripleo_haproxy.\n\nThis patch also fix the host targeting in order to only execute this\nvalidation on nodes where haproxy is really installed and configured.\n\nNote that the haproxy validations hosted in validations-common will be\nremoved in a follow up patch.\n\nCloses-Bug: #1926024\n\nCo-Authored-By: Michele Baldessari <michele@redhat.com>\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I9869afd60342fdb0aca69a313c1c6e35e0947fb8\n(cherry picked from commit 9dd662a1b9d5617e1a929c86f6ffdb09e873252b)\n(cherry picked from commit 253a16de422b5f22bb1b9e68ffa14e855a22d243)\n(cherry picked from commit bb5a538a56bc860c25ec32866ec25923099cbecc)\n(cherry picked from commit 2744976e606e87e8f4c3c9da0ab7d6018c3f1f2d)\n'}]",0,798820,ed94cfb94144fba07d07c472fbec5e9e6e8f0e43,10,7,3,11491,,,0,"Migrate back haproxy validation to tripleo-validations

This patch moves back the haproxy validation from validations-common to
tripleo-validations. It has been renamed in tripleo-haproxy and the role
is called now tripleo_haproxy.

This patch also fix the host targeting in order to only execute this
validation on nodes where haproxy is really installed and configured.

Note that the haproxy validations hosted in validations-common will be
removed in a follow up patch.

Closes-Bug: #1926024

Co-Authored-By: Michele Baldessari <michele@redhat.com>

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I9869afd60342fdb0aca69a313c1c6e35e0947fb8
(cherry picked from commit 9dd662a1b9d5617e1a929c86f6ffdb09e873252b)
(cherry picked from commit 253a16de422b5f22bb1b9e68ffa14e855a22d243)
(cherry picked from commit bb5a538a56bc860c25ec32866ec25923099cbecc)
(cherry picked from commit 2744976e606e87e8f4c3c9da0ab7d6018c3f1f2d)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/20/798820/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_haproxy/molecule/default/converge.yml', 'doc/source/modules/modules-tripleo_haproxy_conf.rst', 'zuul.d/molecule.yaml', 'playbooks/tripleo-haproxy.yaml', 'roles/tripleo_haproxy/tasks/main.yml', 'library/tripleo_haproxy_conf.py', 'roles/tripleo_haproxy/defaults/main.yml', 'tripleo_validations/tests/library/test_tripleo_haproxy_conf.py', 'roles/tripleo_haproxy/molecule/default/molecule.yml', 'doc/source/roles/role-tripleo_haproxy.rst']",10,33836e3b98f9e125b8d2f5d04290c615150d4f10,bz#1950533,=============== tripleo_haproxy =============== -------------- About The Role -------------- An Ansible role to check if the ``HAProxy`` configuration has recommended values. Requirements ============ This role requires and Up and Running Overcloud. Dependencies ============ None. Example Playbook ================ .. code-block:: yaml - hosts: undercloud roles: - { role: tripleo_haproxy } License ======= Apache Author Information ================== **Red Hat Tripleo DFG:PIDONE** ---------------- Full Description ---------------- .. ansibleautoplugin:: :role: roles/tripleo_haproxy ,,415,0
openstack%2Ftripleo-validations~stable%2Ftrain~Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2,openstack/tripleo-validations,stable/train,Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2,Compute TSX validation,MERGED,2021-06-10 13:34:58.000000000,2021-07-12 19:31:50.000000000,2021-07-12 19:31:50.000000000,"[{'_account_id': 7353}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-10 13:34:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/6cb4b52e930854cb9cce09a0cfcef363c4eeb439', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nThis also impacts upstream CentOS systems.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n(cherry picked from commit ede25c3e36a751daf68ce151521b371bb25f50dc)\n(cherry picked from commit 26319e7d5e607a98d34f8bf9a14eceeed9a14f92)\n(cherry picked from commit d5c6e6630daa02f4c5cbf2f3a66056f9443d31bc)\n(cherry picked from commit 79f0fd636d45c67bbcdd4cae858471d16028c0b0)\n'}, {'number': 2, 'created': '2021-06-11 09:41:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/44abb19865b29e0a2272a89cfd85d19d32241a99', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nThis also impacts upstream CentOS systems.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n(cherry picked from commit ede25c3e36a751daf68ce151521b371bb25f50dc)\n(cherry picked from commit 26319e7d5e607a98d34f8bf9a14eceeed9a14f92)\n(cherry picked from commit d5c6e6630daa02f4c5cbf2f3a66056f9443d31bc)\n(cherry picked from commit 79f0fd636d45c67bbcdd4cae858471d16028c0b0)\n'}, {'number': 3, 'created': '2021-06-11 14:14:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/a45516e5d321bb6176c31999c5f8db17899c2b52', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nThis also impacts upstream CentOS systems.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n(cherry picked from commit ede25c3e36a751daf68ce151521b371bb25f50dc)\n(cherry picked from commit 74c30cf49147dedad2944da332b58079bc703200)\n(cherry picked from commit 1d8c110b52bf90db9efaf55b4f071a1233270163)\n(cherry picked from commit 3c80b58b45625de00bc6d6fca8fe74af24f4690e)\n'}, {'number': 4, 'created': '2021-07-02 08:12:12.000000000', 'files': ['roles/compute_tsx/README.md', 'zuul.d/molecule.yaml', 'roles/compute_tsx/tasks/main.yml', 'roles/compute_tsx/vars/main.yml', 'releasenotes/notes/compute-tsx-validation-5d976a3fc5166536.yaml', 'playbooks/compute-tsx.yaml', 'doc/source/roles/role-compute_tsx.rst', 'roles/compute_tsx/molecule/default/converge.yml', 'roles/compute_tsx/defaults/main.yml', 'roles/compute_tsx/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/1111c6d617289103fe4d3b2800e312066c27a714', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nThis also impacts upstream CentOS systems.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n(cherry picked from commit ede25c3e36a751daf68ce151521b371bb25f50dc)\n(cherry picked from commit 74c30cf49147dedad2944da332b58079bc703200)\n(cherry picked from commit 1d8c110b52bf90db9efaf55b4f071a1233270163)\n(cherry picked from commit 3c80b58b45625de00bc6d6fca8fe74af24f4690e)\n'}]",0,795794,1111c6d617289103fe4d3b2800e312066c27a714,20,7,4,27419,,,0,"Compute TSX validation

RHEL-8.3 kernel disabled the Intel TSX (Transactional
Synchronization Extensions) feature by default as a preemptive
security measure, but it breaks live migration from RHEL-7.9
(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.

Operators are expected to explicitly define the TSX flag in
their KernelArgs for the compute role to prevent live-migration
issues during the upgrade process.

This also impacts upstream CentOS systems.

Co-Authored-By: Martin Schuppert <mschuppert@redhat.com>
Related: https://bugzilla.redhat.com/1923165
Closes-Bug: #1916758
Change-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2
(cherry picked from commit ede25c3e36a751daf68ce151521b371bb25f50dc)
(cherry picked from commit 74c30cf49147dedad2944da332b58079bc703200)
(cherry picked from commit 1d8c110b52bf90db9efaf55b4f071a1233270163)
(cherry picked from commit 3c80b58b45625de00bc6d6fca8fe74af24f4690e)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/94/795794/4 && git format-patch -1 --stdout FETCH_HEAD,"['roles/compute_tsx/README.md', 'zuul.d/molecule.yaml', 'roles/compute_tsx/tasks/main.yml', 'roles/compute_tsx/vars/main.yml', 'releasenotes/notes/compute-tsx-validation-5d976a3fc5166536.yaml', 'playbooks/compute-tsx.yaml', 'doc/source/roles/role-compute_tsx.rst', 'roles/compute_tsx/defaults/main.yml', 'roles/compute_tsx/molecule/default/converge.yml', 'roles/compute_tsx/molecule/default/molecule.yml']",10,6cb4b52e930854cb9cce09a0cfcef363c4eeb439,tsx_flag_compute,"--- # inherits tripleo-validations/.config/molecule/config.yml # To override default values, please take a look at the config.yml. ",,342,0
openstack%2Ftripleo-validations~stable%2Ftrain~I1fb32100139736b88a078940f930122f2694955c,openstack/tripleo-validations,stable/train,I1fb32100139736b88a078940f930122f2694955c,Add Validation Development Workflow Documentation,MERGED,2021-06-11 09:41:58.000000000,2021-07-12 19:31:37.000000000,2021-07-12 19:31:37.000000000,"[{'_account_id': 22348}, {'_account_id': 27419}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-11 09:41:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f5bfc2194565b287d6b8ac53856ec35869af03ed', 'message': 'Add Validation Development Workflow Documentation\n\nThis patch adds documentation for:\n- How to develop a molecule test for a new role\n- How to run the molecule test scenarios via tox-ansible\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I1fb32100139736b88a078940f930122f2694955c\n(cherry picked from commit 443f8d328f63df4cc65c0ebf84c717772e77ed31)\n(cherry picked from commit 99acc1cb493a7c6a7c70b776d9cc5a6aa5944256)\n(cherry picked from commit 6fd4fc82d54b6dc023501e4373b155f22adf8618)\n(cherry picked from commit 9058d182d27459398366589de97a176e0c2e957f)\n'}, {'number': 2, 'created': '2021-07-02 08:12:12.000000000', 'files': ['doc/source/roles/role-check_for_dangling_images.rst', 'doc/source/roles/role-system_encoding.rst', 'doc/source/roles/role-check_undercloud_conf.rst', 'doc/source/roles/role-check_rhsm_version.rst', 'doc/source/roles/role-check_uc_hostname.rst', 'doc/source/groups.rst', 'doc/source/contributing/developer_guide.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b43b8c7eebe7c53aaff2c06360117b86917c4f78', 'message': 'Add Validation Development Workflow Documentation\n\nThis patch adds documentation for:\n- How to develop a molecule test for a new role\n- How to run the molecule test scenarios via tox-ansible\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I1fb32100139736b88a078940f930122f2694955c\n(cherry picked from commit 443f8d328f63df4cc65c0ebf84c717772e77ed31)\n(cherry picked from commit 99acc1cb493a7c6a7c70b776d9cc5a6aa5944256)\n(cherry picked from commit 6fd4fc82d54b6dc023501e4373b155f22adf8618)\n(cherry picked from commit 9058d182d27459398366589de97a176e0c2e957f)\n'}]",0,795971,b43b8c7eebe7c53aaff2c06360117b86917c4f78,13,4,2,11491,,,0,"Add Validation Development Workflow Documentation

This patch adds documentation for:
- How to develop a molecule test for a new role
- How to run the molecule test scenarios via tox-ansible

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I1fb32100139736b88a078940f930122f2694955c
(cherry picked from commit 443f8d328f63df4cc65c0ebf84c717772e77ed31)
(cherry picked from commit 99acc1cb493a7c6a7c70b776d9cc5a6aa5944256)
(cherry picked from commit 6fd4fc82d54b6dc023501e4373b155f22adf8618)
(cherry picked from commit 9058d182d27459398366589de97a176e0c2e957f)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/71/795971/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/roles/role-check_for_dangling_images.rst', 'doc/source/roles/role-system_encoding.rst', 'doc/source/roles/role-check_undercloud_conf.rst', 'doc/source/roles/role-check_rhsm_version.rst', 'doc/source/roles/role-check_uc_hostname.rst', 'doc/source/groups.rst', 'doc/source/contributing/developer_guide.rst']",7,f5bfc2194565b287d6b8ac53856ec35869af03ed,,"have some metadata. Here is what a minimal validation would look like: .. code-block:: yaml`pre-deployment` and `hardware` groups: .. code-block:: yamldirectories, you will have to export some Ansible variables first: .. code-block:: consoleinventory file. It should look something like this: .. code-block:: INIHere is a sample module that will always fail .. code-block:: pythonso: .. code-block:: yaml.. Warning:: Each custom module must be accompanied by the most complete unit tests possible. Check which nodes are available with: .. code-block:: console.. code-block:: consolein there: .. code-block:: yamlthe same indentation as ``hosts`` and ``vars``: .. code-block:: yamlrequired: .. code-block:: consoleNow let's add an Ansible task to test that it's all set up properly: .. code-block:: yaml $ cat <<EOF >> roles/undercloud-ram/tasks/main.ymlWhen running it, it should output something like this: .. code-block:: consoleVALIDATIONS_BASEDIR with the value of base path of your git repo: .. code-block:: console $ cd /path/to/git/repo $ export VALIDATIONS_BASEDIR=$(pwd)So, let's replace the hello world task with a real one: .. code-block:: yamlRunning this, we see: .. code-block:: consolethe ``vars`` section: .. code-block:: yamlThen, update ``failed_when`` like this: .. code-block:: yamlAnd ``fail`` like so: .. code-block:: yaml.. code-block:: console .. code-block:: console - ^roles/${NEWROLENAME}/.* - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml - ^molecule-requirements.txtDeveloping your own molecule test(s) ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The role addition process will create a default Molecule scenario from the skeleton. By using Molecule, you will be able to test it locally and of course it will be executed during the CI checks. In your role directory, you will notice a `molecule` folder which contains a single `Scenario` called `default`. Scenarios are the starting point for a lot of powerful functionality that Molecule offers. A scenario is a kind of a test suite for your newly created role. The Scenario layout +++++++++++++++++++ Within the `molecule/default` folder, you will find those files: .. code-block:: console $ ls molecule.yml converge.yml prepare.yml verify.yml * ``molecule.yml`` is the central configuration entrypoint for `Molecule`. With this file, you can configure each tool that `Molecule` will employ when testing your role. .. note:: `Tripleo-validations` uses a global configuration file for `Molecule`. This file is located at the repository level (``tripleo-validations/.config/molecule/.config.yml``). and defines all the default values for all the ``molecule.yml``. By default, the role addition process will produce an empty ``molecule.yml`` inheriting this ``config.yml`` file. Any key defined in the role ``molecule.yml`` file will override values from the ``config.yml`` file. But, if you want to override the default values set in the ``config.yml`` file, you will have to redefine them completely in your ``molecule.yml`` file. `Molecule` won't merge both configuration files and that's why you will have to redefine them completely. * ``prepare.yml`` is the playbook file that contains everything you need to include before your test. It could include packages installation, file creation, whatever your need on the instance created by the driver. * ``converge.yml`` is the playbook file that contains the call for you role. `Molecule` will invoke this playbook with ``ansible-playbook`` and run it against and instance created by the driver. * ``verify.yml`` is the Ansible file used for testing as Ansible is the default ``Verifier``. This allows you to write specific tests against the state of the container after your role has finished executing. Inspecting the Global Molecule Configuration file +++++++++++++++++++++++++++++++++++++++++++++++++ As mentioned above, ``tripleo-validations`` uses a global configuration for Molecule. .. literalinclude:: ../../../.config/molecule/config.yml :language: yaml * The ``Driver`` provider: ``podman`` is the default. Molecule will use the driver to delegate the task of creating instances. * The ``Platforms`` definitions: Molecule relies on this to know which instances to create, name and to which group each instance belongs. ``Tripleo-validations`` uses ``Universal Base Images (UBI8)`` which are container images based on a foundation of Red Hat Enterprise Linux software. See `Using Red Hat Universal Base Images`_ for details on using Red Hat UBI container images. * The ``Provisioner``: Molecule only provides an Ansible provisioner. Ansible manages the life cycle of the instance based on this configuration. * The ``Scenario`` definition: Molecule relies on this configuration to control the scenario sequence order. * The ``Verifier`` framework. Molecule uses Ansible by default to provide a way to write specific stat checking tests (such as deployment smoke tests) on the target instance. .. _Using Red Hat Universal Base Images: https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/building_running_and_managing_containers/index/#using_red_hat_universal_base_images_standard_minimal_and_runtimes Local testing of new roles can be done in two ways: * with `tox-ansible <https://github.com/ansible-community/tox-ansible>`_, * or via the script `scripts/run-local-test`. Running molecule tests with `tox-ansible`_ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ `Tox-ansible <https://github.com/ansible-community/tox-ansible>`_ is a plugin for `tox`_ which auto-generates tox environments for running quality assurance tools like `ansible-test`_ or `molecule`_. Tox-ansible will generate as many tox environment(s) as molecule scenarios in your role. This way you will be able to run locally the desired molecule scenario. To list all the defined environments generated by tox-ansible: .. code-block:: console $ tox -va default environments: ceph -> Auto-generated for: cd roles/ceph && molecule test -s default ceph-ceph-ansible-installed -> Auto-generated for: cd roles/ceph && molecule test -s ceph-ansible-installed check_for_dangling_images -> Auto-generated for: cd roles/check_for_dangling_images && molecule test -s default check_kernel_version -> Auto-generated for: cd roles/check_kernel_version && molecule test -s default check_network_gateway -> Auto-generated for: cd roles/check_network_gateway && molecule test -s default check_rhsm_version -> Auto-generated for: cd roles/check_rhsm_version && molecule test -s default check_rhsm_version-rhsm_mismatch -> Auto-generated for: cd roles/check_rhsm_version && molecule test -s rhsm_mismatch check_uc_hostname -> Auto-generated for: cd roles/check_uc_hostname && molecule test -s default check_undercloud_conf -> Auto-generated for: cd roles/check_undercloud_conf && molecule test -s default check_undercloud_conf-config_OK -> Auto-generated for: cd roles/check_undercloud_conf && molecule test -s config_OK check_undercloud_conf-deprecated_drivers -> Auto-generated for: cd roles/check_undercloud_conf && molecule test -s deprecated_drivers check_undercloud_conf-deprecated_params -> Auto-generated for: cd roles/check_undercloud_conf && molecule test -s deprecated_params check_undercloud_conf-required_missing -> Auto-generated for: cd roles/check_undercloud_conf && molecule test -s required_missing collect_flavors_and_verify_profiles -> Auto-generated for: cd roles/collect_flavors_and_verify_profiles && molecule test -s default container_status -> Auto-generated for: cd roles/container_status && molecule test -s default controller_token -> Auto-generated for: cd roles/controller_token && molecule test -s default controller_ulimits -> Auto-generated for: cd roles/controller_ulimits && molecule test -s default ... additional environments: bindep -> [no description] debug -> [no description] pep8 -> [no description] ansible-lint -> [no description] yamllint -> [no description] bashate -> [no description] whitespace -> [no description] shebangs -> [no description] releasenotes -> [no description] cover -> [no description] To execute one molecule scenario with tox, run the following command: .. code-block:: console $ tox -e check_undercloud_conf If you want to run several molecule scenarios at once, you will have to explicitly list all of them and separating them with commas: .. code-block:: console $ tox -e check_undercloud_conf,check_undercloud_conf-config_OK,check_undercloud_conf-deprecated_drivers .. warning:: Running multiple molecule scenarios at once could be time-consuming due to the fact that each Molecule execution will create a new container instance and will destroy it at the end of each scenario. .. _tox: https://tox.readthedocs.io/en/latest/index.html .. _ansible-test: https://docs.ansible.com/ansible/latest/dev_guide/developing_collections_testing.html#testing-collections .. _molecule: https://github.com/ansible-community/molecule Running molecule tests with the script run-local-test ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ what Zuul does on a *CentOS 8* machine.","have some metadata. Here is what a minimal validation would look like::`pre-deployment` and `hardware` groups::directories, you will have to export some Ansible variables first::inventory file. It should look something like this::Here is a sample module that will always fail::so::Check which nodes are available with::::in there::the same indentation as ``hosts`` and ``vars``::required.::Now let's add an Ansible task to test that it's all set up properly:: $ cd roles $ cat <<EOF >> undercloud-ram/tasks/main.ymlWhen running it, it should output something like this::VALIDATIONS_BASEDIR with the value of base bath of your git repo.:: cd /path/to/git/repo export VALIDATIONS_BASEDIR=$(pwd) So, let's replace the hello world task with a real one::Running this, we see::the ``vars`` section::Then, update ``failed_when`` like this::And ``fail`` like so:: - ^roles/${NEWROLENAME}/.*Local testing of new roles can be done in any number of ways, however, the easiest way is via the script `run-local-test` on a *CentOS 8* machaine.what Zuul does.",257,50
openstack%2Ftripleo-validations~stable%2Ftrain~I219f4054e6b854306719b9c91a0738c526f07666,openstack/tripleo-validations,stable/train,I219f4054e6b854306719b9c91a0738c526f07666,Introduce new Ansible validation_init role.,MERGED,2021-06-11 09:41:58.000000000,2021-07-12 19:31:31.000000000,2021-07-12 19:31:31.000000000,"[{'_account_id': 22348}, {'_account_id': 27419}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-11 09:41:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/45e040ef452e61a22bd61d0d9c18d12f2d39db30', 'message': 'Introduce new Ansible validation_init role.\n\nThis patch migrates the new role addition playbook into a proper Ansible\nrole with proper molecule tests. This new role will be responsible for\ncreating a new validation.\n\nIt is good to mention that the process won\'t change and it will be\nfully transparent for the user.\n\nTo create a new role in tripleo-validations:\n\n$ cd tripleo-validations/\n$ export ANSIBLE_ROLES_PATH=""${PWD}/roles""\n$ ansible-playbook -i localhost, role-addition.yml -e validation_init_role_name=${NEWROLENAME}\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I219f4054e6b854306719b9c91a0738c526f07666\n(cherry picked from commit 83ba5e32fdf617d2669b5ed83517729b470a7cd5)\n(cherry picked from commit 19bb19ea3c74feec3ceb6e6c31b14ca5855dae16)\n(cherry picked from commit fc7ab69ef0f9b69611d08d78244440d7145ff96c)\n(cherry picked from commit d32efebfae1e0b0dc640957316e54f2c468554b9)\n'}, {'number': 2, 'created': '2021-07-02 08:12:12.000000000', 'files': ['roles/validation_init/files/_skeleton_role_/tasks/main.yml.j2', 'roles/validation_init/files/_skeleton_role_/handlers/main.yml', 'roles/validation_init/files/_skeleton_role_/vars/main.yml.j2', 'roles/validation_init/molecule/default/prepare.yml', 'roles/validation_init/templates/README.md.j2', 'roles/validation_init/molecule/default/converge.yml', 'roles/validation_init/defaults/main.yml', 'roles/validation_init/tasks/main.yml', 'doc/source/contributing/developer_guide.rst', 'doc/source/roles/role-validation_init.rst', 'roles/validation_init/files/_skeleton_role_/defaults/main.yml.j2', 'zuul.d/molecule.yaml', 'roles/validation_init/files/_skeleton_role_/molecule/default/converge.yml.j2', 'roles/validation_init/README.md', 'role-addition.yml', 'roles/validation_init/files/_skeleton_role_/molecule/default/prepare.yml', 'roles/validation_init/files/_skeleton_role_/molecule/default/verify.yml', 'roles/validation_init/molecule/default/molecule.yml', 'roles/validation_init/files/_skeleton_role_/molecule/default/molecule.yml', '.config/molecule/config.yml', 'roles/validation_init/molecule/default/verify.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/135ffd3492e787844ecee53014e5076d21082782', 'message': 'Introduce new Ansible validation_init role.\n\nThis patch migrates the new role addition playbook into a proper Ansible\nrole with proper molecule tests. This new role will be responsible for\ncreating a new validation.\n\nIt is good to mention that the process won\'t change and it will be\nfully transparent for the user.\n\nTo create a new role in tripleo-validations:\n\n$ cd tripleo-validations/\n$ export ANSIBLE_ROLES_PATH=""${PWD}/roles""\n$ ansible-playbook -i localhost, role-addition.yml -e validation_init_role_name=${NEWROLENAME}\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I219f4054e6b854306719b9c91a0738c526f07666\n(cherry picked from commit 83ba5e32fdf617d2669b5ed83517729b470a7cd5)\n(cherry picked from commit 19bb19ea3c74feec3ceb6e6c31b14ca5855dae16)\n(cherry picked from commit fc7ab69ef0f9b69611d08d78244440d7145ff96c)\n(cherry picked from commit d32efebfae1e0b0dc640957316e54f2c468554b9)\n'}]",0,795970,135ffd3492e787844ecee53014e5076d21082782,14,4,2,11491,,,0,"Introduce new Ansible validation_init role.

This patch migrates the new role addition playbook into a proper Ansible
role with proper molecule tests. This new role will be responsible for
creating a new validation.

It is good to mention that the process won't change and it will be
fully transparent for the user.

To create a new role in tripleo-validations:

$ cd tripleo-validations/
$ export ANSIBLE_ROLES_PATH=""${PWD}/roles""
$ ansible-playbook -i localhost, role-addition.yml -e validation_init_role_name=${NEWROLENAME}

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I219f4054e6b854306719b9c91a0738c526f07666
(cherry picked from commit 83ba5e32fdf617d2669b5ed83517729b470a7cd5)
(cherry picked from commit 19bb19ea3c74feec3ceb6e6c31b14ca5855dae16)
(cherry picked from commit fc7ab69ef0f9b69611d08d78244440d7145ff96c)
(cherry picked from commit d32efebfae1e0b0dc640957316e54f2c468554b9)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/70/795970/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/validation_init/files/_skeleton_role_/tasks/main.yml.j2', 'roles/validation_init/files/_skeleton_role_/handlers/main.yml', 'roles/validation_init/files/_skeleton_role_/vars/main.yml.j2', 'roles/validation_init/molecule/default/prepare.yml', 'roles/validation_init/templates/README.md.j2', 'roles/validation_init/molecule/default/converge.yml', 'roles/validation_init/defaults/main.yml', 'roles/validation_init/tasks/main.yml', 'doc/source/contributing/developer_guide.rst', 'doc/source/roles/role-validation_init.rst', 'roles/validation_init/files/_skeleton_role_/defaults/main.yml.j2', 'zuul.d/molecule.yaml', 'roles/validation_init/files/_skeleton_role_/molecule/default/converge.yml.j2', 'roles/validation_init/README.md', 'role-addition.yml', 'roles/validation_init/files/_skeleton_role_/molecule/default/prepare.yml', 'roles/validation_init/files/_skeleton_role_/molecule/default/verify.yml', 'roles/validation_init/molecule/default/molecule.yml', 'roles/validation_init/files/_skeleton_role_/molecule/default/molecule.yml', '.config/molecule/config.yml', 'roles/validation_init/molecule/default/verify.yml']",21,45e040ef452e61a22bd61d0d9c18d12f2d39db30,,"--- # Copyright 2021 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Verify hosts: all gather_facts: false vars: new_role_path: ""/tmp/roles/tripleo_skeleton_test"" new_zmol_path: ""/tmp/zuul.d/molecule.yaml"" new_play_path: ""/tmp/playbooks/tripleo-skeleton-test.yaml"" new_role_doc: ""/tmp/doc/source/roles/role-tripleo_skeleton_test.rst"" tasks: - name: Check new role directory is present stat: path: ""{{ new_role_path }}"" register: roles_name_dir - assert: that: - roles_name_dir.stat.exists - roles_name_dir.stat.isdir fail_msg: | {{ new_role_path }} role directory doesn't exist. success_msg: | {{ new_role_path }} role directory does exist. - name: Read zuul molecule file slurp: src: ""{{ new_zmol_path }}"" register: molecule_yaml - name: Print returned information debug: msg: ""{{ molecule_yaml['content'] | b64decode }}"" - name: Check zuul molecule file content (gate/check definition) lineinfile: path: ""{{ new_zmol_path }}"" regexp: '^.*- tripleo-validations-centos-8-molecule-skeleton' insertbefore: '^.*name: tripleo-validations-molecule-tripleo_undercloud_conf' line: ' - tripleo-validations-centos-8-molecule-skeleton_test' state: present check_mode: true register: zuul_def failed_when: (zuul_def is changed) or (zuul_def is failed) - name: Check zuul molecule file content (job definition) lineinfile: path: ""{{ new_zmol_path }}"" regexp: '^.*name: tripleo-validations-centos-8-molecule-skeleton' insertbefore: '^.*parent: tripleo-validations-centos-8-base$' line: ' name: tripleo-validations-centos-8-molecule-skeleton_test' state: present check_mode: true register: zuul_job_def failed_when: (zuul_job_def is changed) or (zuul_job_def is failed) - name: Check new validation playbook is present stat: path: ""{{ new_play_path }}"" register: play_name_path - assert: that: - play_name_path.stat.exists - play_name_path.stat.isreg fail_msg: | {{ new_play_path }} playbook doesn't exist. success_msg: | {{ new_play_path }} playbook directory does exist. - name: Read new playbook file slurp: src: ""{{ new_play_path }}"" register: playbook_yaml - name: Check playbook content for new role lineinfile: path: ""{{ new_play_path }}"" regexp: '.*- tripleo_skeleton: ' insertafter: '^.*roles:$' line: ' - tripleo_skeleton_test' state: present check_mode: true register: include_role failed_when: (include_role is changed) or (include_role is failed) - name: Print returned information debug: msg: ""{{ playbook_yaml['content'] | b64decode }}"" - name: Check new role doc is present stat: path: ""{{ new_role_doc }}"" register: role_doc_file - assert: that: - role_doc_file.stat.exists - role_doc_file.stat.isreg fail_msg: | {{ new_role_doc }} playbook doesn't exist. success_msg: | {{ new_role_doc }} playbook directory does exist. - name: Read new role documentation file slurp: src: ""{{ new_role_doc }}"" register: doc_file - name: Print returned information debug: msg: ""{{ doc_file['content'] | b64decode }}"" - name: Check role documentation content lineinfile: path: ""{{ new_role_doc }}"" regexp: '.*:role: ' insertafter: '^\.\. ansibleautoplugin::$' line: ' :role: /tmp/roles/tripleo_skeleton_test' state: present check_mode: true register: doc failed_when: (doc is changed) or (doc is failed) ",,645,137
openstack%2Ftripleo-validations~stable%2Ftrain~I259c17b7a49ff5bf3476df4da399cc4b2782403d,openstack/tripleo-validations,stable/train,I259c17b7a49ff5bf3476df4da399cc4b2782403d,Remove workaround for tox-ansible and global molecule config,MERGED,2021-06-11 09:41:58.000000000,2021-07-12 19:31:24.000000000,2021-07-12 19:31:24.000000000,"[{'_account_id': 22348}, {'_account_id': 27419}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-11 09:41:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/066b59b71611083c90f2ad5830e35da317e17119', 'message': 'Remove workaround for tox-ansible and global molecule config\n\n[1] has been merged and released[2] in upstream tox-ansible and it is now\nable to manage global molecule configuration. The workaround, which\nconsisted in adding the molecule driver name in each scenarios\nmolecule.yml files, is not necessary anymore.\n\nThis patch also removes all the relative symlink to the Dockerfile and\nadds directly in the global molecule configuration file.\n\n[1] https://github.com/ansible-community/tox-ansible/pull/89\n[2] https://github.com/ansible-community/tox-ansible/releases/tag/v1.5.0\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I259c17b7a49ff5bf3476df4da399cc4b2782403d\n(cherry picked from commit c551910cf5f4ba0b6b00c45ae87ba325d9538baf)\n(cherry picked from commit f3cba823d7424277402720946c76f2f78730e046)\n(cherry picked from commit 12dd20e3b55e96d88468531f8752b9bcea21360b)\n(cherry picked from commit 76eb983e9842e38a95940787af2fdda540e2a83b)\n'}, {'number': 2, 'created': '2021-07-02 08:12:12.000000000', 'files': ['roles/undercloud_disk_space/molecule/default/Dockerfile', 'roles/dhcp_validations/molecule/default/molecule.yml', 'roles/ceph/molecule/ceph-ansible-installed/Dockerfile', 'roles/overcloud_service_status/molecule/down_services/Dockerfile', 'roles/switch_vlans/molecule/default/molecule.yml', 'roles/node_health/molecule/default/molecule.yml', 'roles/openshift_on_openstack/molecule/default/Dockerfile', 'roles/node_disks/molecule/default/Dockerfile', 'roles/check_for_dangling_images/molecule/default/molecule.yml', 'roles/overcloud_service_status/molecule/default/molecule.yml', 'roles/openshift_on_openstack/molecule/default/molecule.yml', 'roles/check_rhsm_version/molecule/default/molecule.yml', 'roles/stonith_exists/molecule/default/Dockerfile', 'roles/dhcp_validations/molecule/default/Dockerfile', 'roles/nova_status/molecule/default/Dockerfile', 'roles/collect_flavors_and_verify_profiles/molecule/default/molecule.yml', 'roles/network_environment/molecule/default/molecule.yml', 'roles/undercloud_debug/molecule/default/molecule.yml', 'roles/healthcheck_service_status/molecule/default/Dockerfile', 'roles/system_encoding/molecule/default/Dockerfile', 'roles/stack_health/molecule/default/Dockerfile', 'roles/ceph/molecule/default/Dockerfile', 'roles/nova_status/molecule/default/molecule.yml', 'roles/tls_everywhere/molecule/default/Dockerfile', 'roles/check_uc_hostname/molecule/default/Dockerfile', 'roles/container_status/molecule/default/Dockerfile', 'roles/stonith_exists/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/default/molecule.yml', 'roles/controller_token/molecule/default/Dockerfile', 'roles/controller_token/molecule/default/molecule.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/Dockerfile', 'roles/undercloud_disk_space/molecule/default/molecule.yml', 'roles/switch_vlans/molecule/default/Dockerfile', 'roles/ceph/molecule/ceph-ansible-installed/molecule.yml', 'roles/image_serve/molecule/default/Dockerfile', 'roles/mysql_open_files_limit/molecule/default/molecule.yml', 'roles/ctlplane_ip_range/molecule/default/molecule.yml', 'roles/container_status/molecule/default/molecule.yml', 'roles/collect_flavors_and_verify_profiles/molecule/default/Dockerfile', 'roles/nova_svirt/molecule/default/molecule.yml', 'roles/network_environment/molecule/default/Dockerfile', 'roles/check_undercloud_conf/molecule/default/Dockerfile', 'roles/healthcheck_service_status/molecule/default/molecule.yml', 'roles/undercloud_process_count/molecule/default/molecule.yml', 'roles/check_rhsm_version/molecule/rhsm_mismatch/molecule.yml', 'roles/ovs_dpdk_pmd/molecule/default/molecule.yml', 'roles/tls_everywhere/molecule/default/molecule.yml', 'roles/stack_health/molecule/default/molecule.yml', 'roles/neutron_sanity_check/molecule/default/molecule.yml', 'roles/undercloud_tokenflush/molecule/default/Dockerfile', 'roles/rabbitmq_limits/molecule/default/Dockerfile', 'roles/ctlplane_ip_range/molecule/default/Dockerfile', 'roles/repos/molecule/default/Dockerfile', 'roles/node_health/molecule/default/Dockerfile', 'roles/neutron_sanity_check/molecule/default/Dockerfile', 'roles/pacemaker_status/molecule/default/molecule.yml', 'roles/nova_event_callback/molecule/default/Dockerfile', 'roles/check_rhsm_version/molecule/rhsm_mismatch/Dockerfile', 'roles/undercloud_debug/molecule/default/Dockerfile', 'roles/check_undercloud_conf/molecule/required_missing/Dockerfile', 'roles/check_undercloud_conf/molecule/deprecated_params/Dockerfile', 'roles/check_undercloud_conf/molecule/required_missing/molecule.yml', 'roles/system_encoding/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_drivers/molecule.yml', '.config/molecule/config.yml', 'roles/ironic_boot_configuration/molecule/default/Dockerfile', 'roles/nova_event_callback/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_drivers/Dockerfile', 'roles/pacemaker_status/molecule/default/Dockerfile', 'roles/no_op_firewall_nova_driver/molecule/default/molecule.yml', 'roles/check_rhsm_version/molecule/default/Dockerfile', 'roles/ceilometerdb_size/molecule/default/molecule.yml', 'roles/repos/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/config_OK/Dockerfile', 'roles/openstack_endpoints/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/deprecated_services/molecule.yml', 'roles/nova_svirt/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/deprecated_services/Dockerfile', 'roles/ovs_dpdk_pmd/molecule/default/Dockerfile', 'roles/ceph/molecule/default/molecule.yml', 'roles/node_disks/molecule/default/molecule.yml', 'roles/undercloud_heat_purge_deleted/molecule/default/molecule.yml', 'roles/overcloud_service_status/molecule/default/Dockerfile', 'roles/undercloud_process_count/molecule/default/Dockerfile', 'roles/check_network_gateway/molecule/default/Dockerfile', 'roles/no_op_firewall_nova_driver/molecule/default/Dockerfile', 'roles/controller_ulimits/molecule/default/Dockerfile', 'roles/rabbitmq_limits/molecule/default/molecule.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml', 'roles/check_for_dangling_images/molecule/default/Dockerfile', 'roles/undercloud_heat_purge_deleted/molecule/default/Dockerfile', 'roles/controller_ulimits/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_params/molecule.yml', 'roles/undercloud_tokenflush/molecule/default/molecule.yml', 'roles/image_serve/molecule/default/molecule.yml', 'roles/openstack_endpoints/molecule/default/molecule.yml', 'roles/check_network_gateway/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/config_OK/molecule.yml', 'roles/mysql_open_files_limit/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/down_services/molecule.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/molecule.yml', 'roles/ironic_boot_configuration/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/760e0b401c9e50ccc49a6c8d76144fd9807f2430', 'message': 'Remove workaround for tox-ansible and global molecule config\n\n[1] has been merged and released[2] in upstream tox-ansible and it is now\nable to manage global molecule configuration. The workaround, which\nconsisted in adding the molecule driver name in each scenarios\nmolecule.yml files, is not necessary anymore.\n\nThis patch also removes all the relative symlink to the Dockerfile and\nadds directly in the global molecule configuration file.\n\n[1] https://github.com/ansible-community/tox-ansible/pull/89\n[2] https://github.com/ansible-community/tox-ansible/releases/tag/v1.5.0\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I259c17b7a49ff5bf3476df4da399cc4b2782403d\n(cherry picked from commit c551910cf5f4ba0b6b00c45ae87ba325d9538baf)\n(cherry picked from commit f3cba823d7424277402720946c76f2f78730e046)\n(cherry picked from commit 12dd20e3b55e96d88468531f8752b9bcea21360b)\n(cherry picked from commit 76eb983e9842e38a95940787af2fdda540e2a83b)\n'}]",0,795969,760e0b401c9e50ccc49a6c8d76144fd9807f2430,13,4,2,11491,,,0,"Remove workaround for tox-ansible and global molecule config

[1] has been merged and released[2] in upstream tox-ansible and it is now
able to manage global molecule configuration. The workaround, which
consisted in adding the molecule driver name in each scenarios
molecule.yml files, is not necessary anymore.

This patch also removes all the relative symlink to the Dockerfile and
adds directly in the global molecule configuration file.

[1] https://github.com/ansible-community/tox-ansible/pull/89
[2] https://github.com/ansible-community/tox-ansible/releases/tag/v1.5.0

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I259c17b7a49ff5bf3476df4da399cc4b2782403d
(cherry picked from commit c551910cf5f4ba0b6b00c45ae87ba325d9538baf)
(cherry picked from commit f3cba823d7424277402720946c76f2f78730e046)
(cherry picked from commit 12dd20e3b55e96d88468531f8752b9bcea21360b)
(cherry picked from commit 76eb983e9842e38a95940787af2fdda540e2a83b)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/69/795969/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/undercloud_disk_space/molecule/default/Dockerfile', 'roles/dhcp_validations/molecule/default/molecule.yml', 'roles/ceph/molecule/ceph-ansible-installed/Dockerfile', 'roles/overcloud_service_status/molecule/down_services/Dockerfile', 'roles/switch_vlans/molecule/default/molecule.yml', 'roles/node_health/molecule/default/molecule.yml', 'roles/openshift_on_openstack/molecule/default/Dockerfile', 'roles/node_disks/molecule/default/Dockerfile', 'roles/check_for_dangling_images/molecule/default/molecule.yml', 'roles/overcloud_service_status/molecule/default/molecule.yml', 'roles/openshift_on_openstack/molecule/default/molecule.yml', 'roles/check_rhsm_version/molecule/default/molecule.yml', 'roles/stonith_exists/molecule/default/Dockerfile', 'roles/dhcp_validations/molecule/default/Dockerfile', 'roles/nova_status/molecule/default/Dockerfile', 'roles/collect_flavors_and_verify_profiles/molecule/default/molecule.yml', 'roles/network_environment/molecule/default/molecule.yml', 'roles/undercloud_debug/molecule/default/molecule.yml', 'roles/healthcheck_service_status/molecule/default/Dockerfile', 'roles/system_encoding/molecule/default/Dockerfile', 'roles/stack_health/molecule/default/Dockerfile', 'roles/ceph/molecule/default/Dockerfile', 'roles/nova_status/molecule/default/molecule.yml', 'roles/tls_everywhere/molecule/default/Dockerfile', 'roles/check_uc_hostname/molecule/default/Dockerfile', 'roles/container_status/molecule/default/Dockerfile', 'roles/stonith_exists/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/default/molecule.yml', 'roles/controller_token/molecule/default/Dockerfile', 'roles/controller_token/molecule/default/molecule.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/Dockerfile', 'roles/undercloud_disk_space/molecule/default/molecule.yml', 'roles/switch_vlans/molecule/default/Dockerfile', 'roles/ceph/molecule/ceph-ansible-installed/molecule.yml', 'roles/image_serve/molecule/default/Dockerfile', 'roles/mysql_open_files_limit/molecule/default/molecule.yml', 'roles/ctlplane_ip_range/molecule/default/molecule.yml', 'roles/container_status/molecule/default/molecule.yml', 'roles/collect_flavors_and_verify_profiles/molecule/default/Dockerfile', 'roles/nova_svirt/molecule/default/molecule.yml', 'roles/network_environment/molecule/default/Dockerfile', 'roles/check_undercloud_conf/molecule/default/Dockerfile', 'roles/healthcheck_service_status/molecule/default/molecule.yml', 'roles/undercloud_process_count/molecule/default/molecule.yml', 'roles/check_rhsm_version/molecule/rhsm_mismatch/molecule.yml', 'roles/ovs_dpdk_pmd/molecule/default/molecule.yml', 'roles/tls_everywhere/molecule/default/molecule.yml', 'roles/stack_health/molecule/default/molecule.yml', 'roles/neutron_sanity_check/molecule/default/molecule.yml', 'roles/undercloud_tokenflush/molecule/default/Dockerfile', 'roles/rabbitmq_limits/molecule/default/Dockerfile', 'roles/ctlplane_ip_range/molecule/default/Dockerfile', 'roles/repos/molecule/default/Dockerfile', 'roles/node_health/molecule/default/Dockerfile', 'roles/neutron_sanity_check/molecule/default/Dockerfile', 'roles/pacemaker_status/molecule/default/molecule.yml', 'roles/nova_event_callback/molecule/default/Dockerfile', 'roles/check_rhsm_version/molecule/rhsm_mismatch/Dockerfile', 'roles/undercloud_debug/molecule/default/Dockerfile', 'roles/check_undercloud_conf/molecule/required_missing/Dockerfile', 'roles/check_undercloud_conf/molecule/deprecated_params/Dockerfile', 'roles/check_undercloud_conf/molecule/required_missing/molecule.yml', 'roles/system_encoding/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_drivers/molecule.yml', '.config/molecule/config.yml', 'roles/ironic_boot_configuration/molecule/default/Dockerfile', 'roles/nova_event_callback/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_drivers/Dockerfile', 'roles/pacemaker_status/molecule/default/Dockerfile', 'roles/no_op_firewall_nova_driver/molecule/default/molecule.yml', 'roles/check_rhsm_version/molecule/default/Dockerfile', 'roles/ceilometerdb_size/molecule/default/molecule.yml', 'roles/repos/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/config_OK/Dockerfile', 'roles/openstack_endpoints/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/deprecated_services/molecule.yml', 'roles/nova_svirt/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/deprecated_services/Dockerfile', 'roles/ovs_dpdk_pmd/molecule/default/Dockerfile', 'roles/ceph/molecule/default/molecule.yml', 'roles/node_disks/molecule/default/molecule.yml', 'roles/undercloud_heat_purge_deleted/molecule/default/molecule.yml', 'roles/overcloud_service_status/molecule/default/Dockerfile', 'roles/undercloud_process_count/molecule/default/Dockerfile', 'roles/check_network_gateway/molecule/default/Dockerfile', 'roles/no_op_firewall_nova_driver/molecule/default/Dockerfile', 'roles/controller_ulimits/molecule/default/Dockerfile', 'roles/rabbitmq_limits/molecule/default/molecule.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml', 'roles/check_for_dangling_images/molecule/default/Dockerfile', 'roles/undercloud_heat_purge_deleted/molecule/default/Dockerfile', 'roles/controller_ulimits/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_params/molecule.yml', 'roles/undercloud_tokenflush/molecule/default/molecule.yml', 'roles/image_serve/molecule/default/molecule.yml', 'roles/openstack_endpoints/molecule/default/molecule.yml', 'roles/check_network_gateway/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/config_OK/molecule.yml', 'roles/mysql_open_files_limit/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/down_services/molecule.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/molecule.yml', 'roles/ironic_boot_configuration/molecule/default/molecule.yml']",102,066b59b71611083c90f2ad5830e35da317e17119,,, driver: name: podman,5,208
openstack%2Ftripleo-validations~stable%2Ftrain~I5a00e854198fc5429db0353b490dc07192183476,openstack/tripleo-validations,stable/train,I5a00e854198fc5429db0353b490dc07192183476,Quick documentation content reorganization,MERGED,2021-06-11 09:41:58.000000000,2021-07-12 19:31:11.000000000,2021-07-12 19:31:11.000000000,"[{'_account_id': 22348}, {'_account_id': 27419}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-11 09:41:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/40fe43442012123ce049c96c51d52540a1eed324', 'message': 'Quick documentation content reorganization\n\nThis patch organizes better the content of the documentation files in order\nto render it clearer and better.\n\nChange-Id: I5a00e854198fc5429db0353b490dc07192183476\n(cherry picked from commit 06ce5bf55cbc30aeb29e6775351dd3e63a964d4c)\n(cherry picked from commit 98cdbd03db7048d1b8ed82205f93976c1862e0a3)\n(cherry picked from commit 3d68f6a644d7020a550476e764ddbc77f996062c)\n(cherry picked from commit ab125b4cd9840e1a24f09c34565acfcffe916f20)\n'}, {'number': 2, 'created': '2021-07-02 08:12:12.000000000', 'files': ['doc/source/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/index.rst', 'README.rst', 'doc/source/contributing/contributing.rst', 'doc/source/_exts/generate_validations_doc.py', 'doc/source/groups.rst', 'doc/source/installation.rst', 'doc/source/contributing/developer_guide.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/773594db4e14e1c90b2260b0ebe201f5fea75009', 'message': 'Quick documentation content reorganization\n\nThis patch organizes better the content of the documentation files in order\nto render it clearer and better.\n\nChange-Id: I5a00e854198fc5429db0353b490dc07192183476\n(cherry picked from commit 06ce5bf55cbc30aeb29e6775351dd3e63a964d4c)\n(cherry picked from commit 98cdbd03db7048d1b8ed82205f93976c1862e0a3)\n(cherry picked from commit 3d68f6a644d7020a550476e764ddbc77f996062c)\n(cherry picked from commit ab125b4cd9840e1a24f09c34565acfcffe916f20)\n'}]",0,795968,773594db4e14e1c90b2260b0ebe201f5fea75009,14,4,2,11491,,,0,"Quick documentation content reorganization

This patch organizes better the content of the documentation files in order
to render it clearer and better.

Change-Id: I5a00e854198fc5429db0353b490dc07192183476
(cherry picked from commit 06ce5bf55cbc30aeb29e6775351dd3e63a964d4c)
(cherry picked from commit 98cdbd03db7048d1b8ed82205f93976c1862e0a3)
(cherry picked from commit 3d68f6a644d7020a550476e764ddbc77f996062c)
(cherry picked from commit ab125b4cd9840e1a24f09c34565acfcffe916f20)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/68/795968/1 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', 'doc/source/contributing.rst', 'doc/source/index.rst', 'README.rst', 'doc/source/contributing/contributing.rst', 'doc/source/_exts/generate_validations_doc.py', 'doc/source/groups.rst', 'doc/source/installation.rst', 'doc/source/contributing/developer_guide.rst']",9,40fe43442012123ce049c96c51d52540a1eed324,,Developer's Guide =================meta-data to provide information to the validation framework.----------------------------------------------------- name: tripleo-validations-centos-8-molecule-${NEWROLENAME} parent: tripleo-validations-centos-8-base - tripleo-validations-centos-8-molecule-${NEWROLENAME} - tripleo-validations-centos-8-molecule-${NEWROLENAME}--------------------------,"======================== Team and repository tags ======================== .. image:: https://governance.openstack.org/tc/badges/tripleo-validations.svg :target: https://governance.openstack.org/tc/reference/tags/index.html .. Change things from this point on TripleO Validations =================== A collection of Ansible roles and playbooks to detect and report potential issues during TripleO deployments. The validations will help detect issues early in the deployment process and prevent field engineers from wasting time on misconfiguration or hardware issues in their environments. All validations are written in Ansible and are written in a way that's consumable by the `Mistral validation framework <https://review.opendev.org/#/c/255792/>`_ or by Ansible directly. They are available independently from the UI or the command line client. * Free software: Apache license * Documentation: https://docs.openstack.org/tripleo-validations/latest/ * Release notes: https://docs.openstack.org/releasenotes/tripleo-validations/ * Source: https://opendev.org/openstack/tripleo-validations * Bugs: https://storyboard.openstack.org/#!/project/openstack/tripleo-validations Prerequisites ------------- The TripleO validations require Ansible 2.7 or above:: $ sudo pip install 'ansible>=2.7' Existing validations -------------------- Here are all the validations that currently exist. They're grouped by the deployment stage they're should be run on. Validations can belong to multiple groups. .. include:: validations-groups.rst To add a new group, you will need to edit the ``groups.yaml`` file located in the root of the TripleO Validations directory:: $ [vim|emacs] groups.yaml ... pre-update: - description: >- Validations which try to validate your OpenStack deployment before you update it. ...meta-data to provide information to the Mistral validation framework.~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ name: tripleo-validations-centos-7-molecule-${NEWROLENAME} parent: tripleo-validations-centos-7-base - tripleo-validations-centos-7-molecule-${NEWROLENAME} - tripleo-validations-centos-7-molecule-${NEWROLENAME}~~~~~~~~~~~~~~~~~~~~~~~~~~",152,105
openstack%2Ftripleo-validations~stable%2Ftrain~I585d03ad42fc0435c711a02717b2b17c1ec8275b,openstack/tripleo-validations,stable/train,I585d03ad42fc0435c711a02717b2b17c1ec8275b,Trigger molecule tests when modifying CI scripts,MERGED,2021-06-11 09:41:58.000000000,2021-07-12 19:31:08.000000000,2021-07-12 19:31:08.000000000,"[{'_account_id': 22348}, {'_account_id': 27419}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-11 09:41:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/80fed72ff1fcef9c6208e90fdcaf9b2e5e6ace8d', 'message': 'Trigger molecule tests when modifying CI scripts\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I585d03ad42fc0435c711a02717b2b17c1ec8275b\n(cherry picked from commit 7db15e5fe2385b01d6b45ec46b6f776755294e05)\n(cherry picked from commit f755757d551a45b8db8fba2ac45239e642e3c3eb)\n(cherry picked from commit 8db859539519d4b550d7126d77893523dd3a8b08)\n'}, {'number': 2, 'created': '2021-07-02 08:12:12.000000000', 'files': ['zuul.d/molecule.yaml', 'role-addition.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f1244b63b3f33e6055840ea27364a81e49eae09b', 'message': 'Trigger molecule tests when modifying CI scripts\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I585d03ad42fc0435c711a02717b2b17c1ec8275b\n(cherry picked from commit 7db15e5fe2385b01d6b45ec46b6f776755294e05)\n(cherry picked from commit f755757d551a45b8db8fba2ac45239e642e3c3eb)\n(cherry picked from commit 8db859539519d4b550d7126d77893523dd3a8b08)\n'}]",0,795967,f1244b63b3f33e6055840ea27364a81e49eae09b,14,4,2,11491,,,0,"Trigger molecule tests when modifying CI scripts

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I585d03ad42fc0435c711a02717b2b17c1ec8275b
(cherry picked from commit 7db15e5fe2385b01d6b45ec46b6f776755294e05)
(cherry picked from commit f755757d551a45b8db8fba2ac45239e642e3c3eb)
(cherry picked from commit 8db859539519d4b550d7126d77893523dd3a8b08)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/67/795967/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/molecule.yaml', 'role-addition.yml']",2,80fed72ff1fcef9c6208e90fdcaf9b2e5e6ace8d,," ""^roles/validation_"" ~ _role_name ~ ""/.*"", ""^tests/prepare-test-host.yml"", ""^ci/playbooks/pre.yml"", ""^ci/playbooks/run.yml"""," ""^tripleo_validations/roles/"" ~ _role_name ~ ""/.*""",132,17
openstack%2Fvalidations-common~master~I56bfd351ab3be0d9f3c87694692f878d00d45c4f,openstack/validations-common,master,I56bfd351ab3be0d9f3c87694692f878d00d45c4f,fix var name in logging statement,MERGED,2021-07-07 05:53:55.000000000,2021-07-12 19:31:05.000000000,2021-07-12 19:31:05.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-07-07 05:53:55.000000000', 'files': ['playbooks/coverchange.yaml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/205f96af65ab880c572711a0a2a982f904532a55', 'message': 'fix var name in logging statement\n\nThe variable referenced\tin the logging statement\nof the job was not the one on which the assertion was made.\n\nAs a result the\tmessage\twas confusing.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I56bfd351ab3be0d9f3c87694692f878d00d45c4f\n'}]",0,799738,205f96af65ab880c572711a0a2a982f904532a55,14,6,1,32926,,,0,"fix var name in logging statement

The variable referenced	in the logging statement
of the job was not the one on which the assertion was made.

As a result the	message	was confusing.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I56bfd351ab3be0d9f3c87694692f878d00d45c4f
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/38/799738/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/coverchange.yaml'],1,205f96af65ab880c572711a0a2a982f904532a55,covchngmsgfix, Before the change {{ (coverage_before_total.stdout | float)*100 }}% of the lines were covered., Before the change {{ (coverage_before.stdout | float)*100 }}% of the lines were covered.,1,1
openstack%2Ftripleo-upgrade~stable%2Ftrain~I8ded4f1e3dad038dd179cab07ca18b595aff2dc8,openstack/tripleo-upgrade,stable/train,I8ded4f1e3dad038dd179cab07ca18b595aff2dc8,Pass undercloud_conf in rename-nics for overcloud.,MERGED,2021-07-12 07:32:47.000000000,2021-07-12 19:31:02.000000000,2021-07-12 19:31:02.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 20778}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-12 07:32:47.000000000', 'files': ['tasks/upgrade/overcloud_upgrade_prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/2bf4b59b9831c8836338bf1902e0d6dfd268bf0f', 'message': 'Pass undercloud_conf in rename-nics for overcloud.\n\nThe change submitted in [0] added some new tasks to match the docs content,\nhowever it was missed another spot where the rename-nics.yaml play is being\ninvoked.\n\nThis patch fixes that.\n\n[0] - Ib1c062839708f3c2e6e627523462400429ff759a\n\nChange-Id: I8ded4f1e3dad038dd179cab07ca18b595aff2dc8\n'}]",0,800424,2bf4b59b9831c8836338bf1902e0d6dfd268bf0f,8,5,1,26343,,,0,"Pass undercloud_conf in rename-nics for overcloud.

The change submitted in [0] added some new tasks to match the docs content,
however it was missed another spot where the rename-nics.yaml play is being
invoked.

This patch fixes that.

[0] - Ib1c062839708f3c2e6e627523462400429ff759a

Change-Id: I8ded4f1e3dad038dd179cab07ca18b595aff2dc8
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/24/800424/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/upgrade/overcloud_upgrade_prepare.yml'],1,2bf4b59b9831c8836338bf1902e0d6dfd268bf0f,, ansible-playbook -v -i {{ working_dir }}/tripleo-ansible-inventory.yaml -e prefix={{ nic_prefix }} -e undercloud_conf={{ undercloud_conf }} \, ansible-playbook -v -i {{ working_dir }}/tripleo-ansible-inventory.yaml -e prefix={{ nic_prefix }} \,1,1
openstack%2Fnova~stable%2Fvictoria~Iba40c2df72228b461767d5734d5a62403d9f2cfa,openstack/nova,stable/victoria,Iba40c2df72228b461767d5734d5a62403d9f2cfa,libvirt: Simplify device_path check in _detach_encryptor,NEW,2021-04-09 09:18:36.000000000,2021-07-12 19:23:20.000000000,,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-09 09:18:36.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/67de26776c23dddf906eab30daaecdf401abbdc4', 'message': 'libvirt: Simplify device_path check in _detach_encryptor\n\nIntroduced by Id670f13a7f197e71c77dc91276fc2fba2fc5f314 to resolve bug\n #1821696 this check was put in place to ensure _detach_encryptor did not\nattempt to use the os-brick encryptors with an unsupported volume type\nafter libvirt secrets had been removed outside the control of Nova.\n\nWith the introduction of the [workarounds]disable_native_luksv1 via\nIa500eb614cf575ab846f64f4b69c9068274c8c1f however the use of\n_allow_native_luksv1 as part of this check is no longer valid. As this\nhelper was updated to return False when the workaround is enabled,\nregardless of the underlying volume being attached natively or not.\n\nIf an admin had enabled the workaround after users had launched\ninstances with natively attached encrypted volumes *and* the libvirt\nsecrets had gone missing _detach_encryptor would attempt to use the\nos-brick encryptors. This would fail when the underlying volume type is\nunsupported, for example rbd. See bug #1917619 for an example.\n\nThis change resolves this corner case by dropping the use of\n_allow_native_luksv1 from the check and just asserting that a\ndevice_path is present for an encrypted volume before allowing the use\nof the os-brick encryptors. As noted this is safe as calls to the\nencryptors are idempotent, ignoring failures to detach when the\nunderlying volume type is supported.\n\nCloses-Bug: #1917619\nChange-Id: Iba40c2df72228b461767d5734d5a62403d9f2cfa\n(cherry picked from commit 4908daed96ddda492ced6cbb084abe8f33a8b1f7)\n(cherry picked from commit f99f667a96a357adc0070d75b5940e76726f9664)\n'}]",0,785584,67de26776c23dddf906eab30daaecdf401abbdc4,9,2,1,10135,,,0,"libvirt: Simplify device_path check in _detach_encryptor

Introduced by Id670f13a7f197e71c77dc91276fc2fba2fc5f314 to resolve bug
 #1821696 this check was put in place to ensure _detach_encryptor did not
attempt to use the os-brick encryptors with an unsupported volume type
after libvirt secrets had been removed outside the control of Nova.

With the introduction of the [workarounds]disable_native_luksv1 via
Ia500eb614cf575ab846f64f4b69c9068274c8c1f however the use of
_allow_native_luksv1 as part of this check is no longer valid. As this
helper was updated to return False when the workaround is enabled,
regardless of the underlying volume being attached natively or not.

If an admin had enabled the workaround after users had launched
instances with natively attached encrypted volumes *and* the libvirt
secrets had gone missing _detach_encryptor would attempt to use the
os-brick encryptors. This would fail when the underlying volume type is
unsupported, for example rbd. See bug #1917619 for an example.

This change resolves this corner case by dropping the use of
_allow_native_luksv1 from the check and just asserting that a
device_path is present for an encrypted volume before allowing the use
of the os-brick encryptors. As noted this is safe as calls to the
encryptors are idempotent, ignoring failures to detach when the
underlying volume type is supported.

Closes-Bug: #1917619
Change-Id: Iba40c2df72228b461767d5734d5a62403d9f2cfa
(cherry picked from commit 4908daed96ddda492ced6cbb084abe8f33a8b1f7)
(cherry picked from commit f99f667a96a357adc0070d75b5940e76726f9664)
",git fetch https://review.opendev.org/openstack/nova refs/changes/84/785584/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,67de26776c23dddf906eab30daaecdf401abbdc4,bug/1917619," def test_detach_encryptor_encrypted_volume_meta_missing( self, mock_get_encryptor, mock_get_metadata ): connection_info = { 'data': { 'device_path': '/dev/foo', 'volume_id': uuids.volume_id } } def test_detach_encryptor_encrypted_volume_meta_provided( self, mock_get_encryptor, mock_get_metadata ): connection_info = { 'data': { 'device_path': '/dev/foo', 'volume_id': uuids.volume_id } } def test_detach_encryptor_native_luks_device_path_secret_missing( self, mock_get_encryptor, mock_find_secret ): """"""Assert that the encryptor is not built when the associated volume secret is missing and device_path is also missing from the connection_info."," @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._allow_native_luksv1') def test_detach_encryptor_encrypted_volume_meta_missing(self, mock_allow_native_luksv1, mock_get_encryptor, mock_get_metadata): connection_info = {'data': {'volume_id': uuids.volume_id}} mock_allow_native_luksv1.return_value = False @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._allow_native_luksv1') def test_detach_encryptor_encrypted_volume_meta_provided(self, mock_allow_native_luksv1, mock_get_encryptor, mock_get_metadata): connection_info = {'data': {'volume_id': uuids.volume_id}} mock_allow_native_luksv1.return_value = False @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._allow_native_luksv1') def test_detach_encryptor_native_luks_device_path_secret_missing(self, mock_get_encryptor, mock_allow_native_luksv1, mock_find_secret): """"""Assert that the encryptor is not built when native LUKS is available, the associated volume secret is missing and device_path is also missing from the connection_info. mock_allow_native_luksv1.return_value = True",37,24
openstack%2Fpuppet-cinder~master~Id9d97fbc2020f97244686777fb16071bbc15863d,openstack/puppet-cinder,master,Id9d97fbc2020f97244686777fb16071bbc15863d,Remove deprecated support for GlusterFS volume driver,MERGED,2021-07-11 04:37:49.000000000,2021-07-12 18:16:27.000000000,2021-07-12 18:15:12.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-11 04:37:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/ee2c43eca20efa0effabc8bb8818694a5d236d68', 'message': 'Remove deprecated support for GlusterFS volume driver\n\n... because it was deprecated during Victoria cycle[1] and driver\ncode was already removed from cinder.\n\n[1] f3bba521d32ffbdfa2dcfbf7ee58567b1f02f14e\n\nChange-Id: Id9d97fbc2020f97244686777fb16071bbc15863d\n'}, {'number': 2, 'created': '2021-07-11 07:12:09.000000000', 'files': ['releasenotes/notes/remove-glusterfs-volume-driver-cb403cb7973cc30a.yaml', 'spec/defines/cinder_backend_glusterfs_spec.rb', 'manifests/backend/glusterfs.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/c7719d101573567daa22eb5ef39a22eb9cb47c88', 'message': 'Remove deprecated support for GlusterFS volume driver\n\n... because it was deprecated during Victoria cycle[1] and driver\ncode was already removed from cinder.\n\n[1] f3bba521d32ffbdfa2dcfbf7ee58567b1f02f14e\n\nChange-Id: Id9d97fbc2020f97244686777fb16071bbc15863d\n'}]",0,800333,c7719d101573567daa22eb5ef39a22eb9cb47c88,12,3,2,9816,,,0,"Remove deprecated support for GlusterFS volume driver

... because it was deprecated during Victoria cycle[1] and driver
code was already removed from cinder.

[1] f3bba521d32ffbdfa2dcfbf7ee58567b1f02f14e

Change-Id: Id9d97fbc2020f97244686777fb16071bbc15863d
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/33/800333/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-glusterfs-volume-driver-cb403cb7973cc30a.yaml', 'spec/classes/cinder_backends_spec.rb', 'manifests/backend/glusterfs.pp']",3,ee2c43eca20efa0effabc8bb8818694a5d236d68,glusterfs-removal,,"# # == Class: cinder::backend::glusterfs # # DEPRECATED! # Configures Cinder to use GlusterFS as a volume driver # # === Parameters # # [*glusterfs_shares*] # (required) An array of GlusterFS volume locations. # Must be an array even if there is only one volume. # # [*volume_backend_name*] # (optional) Allows for the volume_backend_name to be separate of $name. # Defaults to: $name # # [*backend_availability_zone*] # (Optional) Availability zone for this volume backend. # If not set, the storage_availability_zone option value # is used as the default for all backends. # Defaults to $::os_service_default. # # [*glusterfs_backup_mount_point*] # (optional) Base dir containing mount point for gluster share. # Defaults to $::os_service_default # # [*glusterfs_backup_share*] # (optonal) GlusterFS share in <hostname|ipv4addr|ipv6addr>:<gluster_vol_name> # format. Eg: 1.2.3.4:backup_vol # Defaults to $::os_service_default # # [*glusterfs_sparsed_volumes*] # (optional) Whether or not to use sparse (thin) volumes. # Defaults to $::os_service_default which uses the driver's default of ""true"". # # [*glusterfs_mount_point_base*] # (optional) Where to mount the Gluster volumes. # Defaults to $::os_service_default which uses the driver's default of # ""$state_path/mnt"". # # [*glusterfs_shares_config*] # (optional) The config file to store the given $glusterfs_shares. # Defaults to '/etc/cinder/shares.conf' # # [*extra_options*] # (optional) Hash of extra options to pass to the backend stanza # Defaults to: {} # Example : # { 'glusterfs_backend/param1' => { 'value' => value1 } } # # [*manage_volume_type*] # (Optional) Whether or not manage Cinder Volume type. # If set to true, a Cinder Volume type will be created # with volume_backend_name=$volume_backend_name key/value. # Defaults to false. # # === Examples # # cinder::backend::glusterfs { 'myGluster': # glusterfs_shares = ['192.168.1.1:/volumes'], # } # define cinder::backend::glusterfs ( $glusterfs_shares, $volume_backend_name = $name, $backend_availability_zone = $::os_service_default, $glusterfs_backup_mount_point = $::os_service_default, $glusterfs_backup_share = $::os_service_default, $glusterfs_sparsed_volumes = $::os_service_default, $glusterfs_mount_point_base = $::os_service_default, $glusterfs_shares_config = '/etc/cinder/shares.conf', $manage_volume_type = false, $extra_options = {}, ) { include cinder::deps warning('Support for glustefs volume driver is deprecated and will be removed \ in a future release') $content = join($glusterfs_shares, ""\n"") file { $glusterfs_shares_config: content => ""${content}\n"", require => Anchor['cinder::install::end'], notify => Anchor['cinder::service::begin'], } cinder_config { ""${name}/volume_backend_name"": value => $volume_backend_name; ""${name}/backend_availability_zone"": value => $backend_availability_zone; ""${name}/volume_driver"": value => 'cinder.volume.drivers.glusterfs.GlusterfsDriver'; ""${name}/glusterfs_backup_mount_point"": value => $glusterfs_backup_mount_point; ""${name}/glusterfs_backup_share"": value => $glusterfs_backup_share; ""${name}/glusterfs_shares_config"": value => $glusterfs_shares_config; ""${name}/glusterfs_sparsed_volumes"": value => $glusterfs_sparsed_volumes; ""${name}/glusterfs_mount_point_base"": value => $glusterfs_mount_point_base; } if $manage_volume_type { cinder_type { $volume_backend_name: ensure => present, properties => [""volume_backend_name=${volume_backend_name}""], } } create_resources('cinder_config', $extra_options) } ",4,193
openstack%2Fossa~master~I295a49103c651d4b40a557dda0b2b9ea4b124bfa,openstack/ossa,master,I295a49103c651d4b40a557dda0b2b9ea4b124bfa,Update publication date for OSSA-2021-001,MERGED,2021-07-12 17:34:10.000000000,2021-07-12 18:07:20.000000000,2021-07-12 18:06:08.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-12 17:34:10.000000000', 'files': ['ossa/OSSA-2021-001.yaml'], 'web_link': 'https://opendev.org/openstack/ossa/commit/51cb75e92efe28d16d3a885321feba8c6220d8cb', 'message': ""Update publication date for OSSA-2021-001\n\nFollow-up to correct the date on which OSSA-2021-001 was published\nso that we don't lose the existing votes on the original change.\n\nChange-Id: I295a49103c651d4b40a557dda0b2b9ea4b124bfa\n""}]",0,800526,51cb75e92efe28d16d3a885321feba8c6220d8cb,7,2,1,5263,,,0,"Update publication date for OSSA-2021-001

Follow-up to correct the date on which OSSA-2021-001 was published
so that we don't lose the existing votes on the original change.

Change-Id: I295a49103c651d4b40a557dda0b2b9ea4b124bfa
",git fetch https://review.opendev.org/openstack/ossa refs/changes/26/800526/1 && git format-patch -1 --stdout FETCH_HEAD,['ossa/OSSA-2021-001.yaml'],1,51cb75e92efe28d16d3a885321feba8c6220d8cb,bug/1902917,date: 2021-07-12,date: 2021-07-08,1,1
openstack%2Fopenstack-helm-infra~master~Idc30ea0934c6dca728b0558b998644a5690f7b91,openstack/openstack-helm-infra,master,Idc30ea0934c6dca728b0558b998644a5690f7b91,Rabbitmq upgrade,ABANDONED,2021-04-02 15:44:52.000000000,2021-07-12 18:04:37.000000000,,"[{'_account_id': 18250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-02 15:44:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/13050bb1620bec7423a71ac056b113139b088192', 'message': ""Rabbitmq upgrade\n\nThis ps updates the following:'\n- upgrade to rabbitmq 3.8.12\n- make use of the new RABBITMQ_FEATURE_FLAGS\n- add a preStop job to stop_app for a more graceful shutdown\n\nChange-Id: Idc30ea0934c6dca728b0558b998644a5690f7b91\n""}, {'number': 2, 'created': '2021-04-05 21:02:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/485acae6c393a96434b7bedf847acf2f4789ef12', 'message': ""Rabbitmq upgrade\n\nThis ps updates the following:'\n- upgrade to rabbitmq 3.8.12\n- make use of the new RABBITMQ_FEATURE_FLAGS\n- add a preStop job to stop_app for a more graceful shutdown\n\nChange-Id: Idc30ea0934c6dca728b0558b998644a5690f7b91\n""}, {'number': 3, 'created': '2021-04-06 14:06:34.000000000', 'files': ['releasenotes/notes/rabbitmq.yaml', 'rabbitmq/Chart.yaml', 'rabbitmq/values.yaml', 'rabbitmq/templates/statefulset.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/06157ab0d6458f1809f52bb7be8e84332259eb94', 'message': ""Rabbitmq upgrade\n\nThis ps updates the following:'\n- upgrade to rabbitmq 3.8.12\n- make use of the new RABBITMQ_FEATURE_FLAGS\n- add a preStop job to stop_app for a more graceful shutdown\n\nChange-Id: Idc30ea0934c6dca728b0558b998644a5690f7b91\n""}]",0,784599,06157ab0d6458f1809f52bb7be8e84332259eb94,10,2,3,18250,,,0,"Rabbitmq upgrade

This ps updates the following:'
- upgrade to rabbitmq 3.8.12
- make use of the new RABBITMQ_FEATURE_FLAGS
- add a preStop job to stop_app for a more graceful shutdown

Change-Id: Idc30ea0934c6dca728b0558b998644a5690f7b91
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/99/784599/3 && git format-patch -1 --stdout FETCH_HEAD,"['rabbitmq/values.yaml', 'rabbitmq/templates/statefulset.yaml']",2,13050bb1620bec7423a71ac056b113139b088192,rabbitmq3.8,"{{- if ne (.Values.conf.feature_flags | default """") ""default"" }} - name: RABBITMQ_FEATURE_FLAGS value: ""{{ .Values.conf.feature_flags }}"" {{- end }} lifecycle: preStop: exec: command: - rabbitmqctl - stop_app",,17,2
openstack%2Fhorizon~stable%2Fwallaby~I82e2fc10ee4cdd580c91bccfd7365ce9724e105e,openstack/horizon,stable/wallaby,I82e2fc10ee4cdd580c91bccfd7365ce9724e105e,Imported Translations from Zanata,MERGED,2021-06-25 06:43:52.000000000,2021-07-12 17:45:44.000000000,2021-07-12 17:44:21.000000000,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-06-25 06:43:52.000000000', 'files': ['doc/source/locale/en_GB/LC_MESSAGES/doc-contributor.po', 'doc/source/locale/id/LC_MESSAGES/doc-contributor.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/f8d3abd1fc28bf288aabd6f998c4d7462179f26f', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I82e2fc10ee4cdd580c91bccfd7365ce9724e105e\n'}]",0,798047,f8d3abd1fc28bf288aabd6f998c4d7462179f26f,8,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I82e2fc10ee4cdd580c91bccfd7365ce9724e105e
",git fetch https://review.opendev.org/openstack/horizon refs/changes/47/798047/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/locale/en_GB/LC_MESSAGES/doc-contributor.po', 'doc/source/locale/id/LC_MESSAGES/doc-contributor.po']",2,f8d3abd1fc28bf288aabd6f998c4d7462179f26f,zanata/translations,"""Project-Id-Version: horizon 19.2.1.dev4\n""""POT-Creation-Date: 2021-06-08 08:01+0000\n""","""Project-Id-Version: horizon 19.0.1.dev79\n""""POT-Creation-Date: 2021-03-05 09:39+0000\n""msgid ""IRC channel: ``#openstack-horizon`` at freenode"" msgstr ""IRC channel: ``#openstack-horizon`` di freenode"" ",7,10
openstack%2Fossa~master~I6bcc8392831efbdc7759b0ed5340023bb0440c85,openstack/ossa,master,I6bcc8392831efbdc7759b0ed5340023bb0440c85,Add OSSA-2021-001 (CVE-2021-20267),MERGED,2021-07-08 20:51:13.000000000,2021-07-12 17:42:18.000000000,2021-07-12 17:41:10.000000000,"[{'_account_id': 5263}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 20:51:13.000000000', 'files': ['ossa/OSSA-2021-001.yaml'], 'web_link': 'https://opendev.org/openstack/ossa/commit/239ec3826a74c4f3ffb1239cc574f95c6097c631', 'message': 'Add OSSA-2021-001 (CVE-2021-20267)\n\nChange-Id: I6bcc8392831efbdc7759b0ed5340023bb0440c85\nCloses-Bug: #1902917\n'}]",0,800107,239ec3826a74c4f3ffb1239cc574f95c6097c631,8,3,1,5263,,,0,"Add OSSA-2021-001 (CVE-2021-20267)

Change-Id: I6bcc8392831efbdc7759b0ed5340023bb0440c85
Closes-Bug: #1902917
",git fetch https://review.opendev.org/openstack/ossa refs/changes/07/800107/1 && git format-patch -1 --stdout FETCH_HEAD,['ossa/OSSA-2021-001.yaml'],1,239ec3826a74c4f3ffb1239cc574f95c6097c631,bug/1902917,"date: 2021-07-08 id: OSSA-2021-001 title: Anti-spoofing bypass for Open vSwitch networks description: > David Sinquin with Gandi.net reported a vulnerability in Neutron's default Open vSwitch firewall rules. By sending carefully crafted packets, anyone in control of a server instance connected to the virtual switch can impersonate the IPv6 addresses of other systems on the network, resulting in denial of service or in some cases possibly interception of traffic intended for other destinations. Only deployments using the Open vSwitch driver are affected. affected-products: - product: Neutron version: '<16.3.3, >=17.0.0 <17.1.3, =18.0.0' vulnerabilities: - cve-id: CVE-2021-20267 reporters: - name: David Sinquin affiliation: Gandi.net reported: - CVE-2021-20267 issues: links: - https://launchpad.net/bugs/1902917 reviews: xena: - https://review.opendev.org/783743 wallaby: - https://review.opendev.org/776599 - https://review.opendev.org/791464 victoria: - https://review.opendev.org/777783 - https://review.opendev.org/791465 ussuri: - https://review.opendev.org/777784 - https://review.opendev.org/791467 train: - https://review.opendev.org/777785 - https://review.opendev.org/791468 stein: - https://review.opendev.org/777872 - https://review.opendev.org/791500 rocky: - https://review.opendev.org/777786 - https://review.opendev.org/791469 queens: - https://review.opendev.org/777873 - https://review.opendev.org/791470 notes: - The stable/train, stable/stein, stable/rocky, and stable/queens branches are under extended maintenance and will receive no new point releases, but patches for them are provided as a courtesy. ",,67,0
openstack%2Fpuppet-cinder~master~Ib83f304bd30d76101c62216f8eff8532a160f0f0,openstack/puppet-cinder,master,Ib83f304bd30d76101c62216f8eff8532a160f0f0,Solidfire: Remove the deprecated sf_enable_volume_mapping parameter,MERGED,2021-07-11 04:51:54.000000000,2021-07-12 17:38:35.000000000,2021-07-12 17:37:10.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-11 04:51:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/aa6482c13a9e48e8b6ce4d90a76828dbb9f4425d', 'message': 'Solidfire: Remove the deprecated sf_enable_volume_mapping parameter\n\n... because the parameter was deprecated during Train cycle.\n\nChange-Id: Ib83f304bd30d76101c62216f8eff8532a160f0f0\n'}, {'number': 2, 'created': '2021-07-11 04:52:24.000000000', 'files': ['releasenotes/notes/remove-sf_enable_volume_mapping-a0159f78226d2a19.yaml', 'manifests/backend/solidfire.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/393402d09c3f8161bf92eba6dd3e9e7a34290cc5', 'message': 'Solidfire: Remove the deprecated sf_enable_volume_mapping parameter\n\nThis parameter was deprecated during Train cycle and ready to be\nremoved completely.\n\nChange-Id: Ib83f304bd30d76101c62216f8eff8532a160f0f0\n'}]",0,800337,393402d09c3f8161bf92eba6dd3e9e7a34290cc5,10,3,2,9816,,,0,"Solidfire: Remove the deprecated sf_enable_volume_mapping parameter

This parameter was deprecated during Train cycle and ready to be
removed completely.

Change-Id: Ib83f304bd30d76101c62216f8eff8532a160f0f0
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/37/800337/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-sf_enable_volume_mapping-a0159f78226d2a19.yaml', 'manifests/backend/solidfire.pp']",2,aa6482c13a9e48e8b6ce4d90a76828dbb9f4425d,solidfire-cleanup,,"# DEPRECATED PARAMETERS # # [*sf_enable_volume_mapping*] # (optional) Create an internal mapping of volume IDs and account. # Optimizes lookups and performance at the expense of memory, very # large deployments may want to consider setting to False. # Defaults to undef # # DEPRECATED PARAMETERS $sf_enable_volume_mapping = undef, if $sf_enable_volume_mapping { warning('The sf_enable_volume_mapping parameter is deprecated, has no effect and will be removed in the future release.') } ",5,14
openstack%2Fpuppet-openstack-integration~master~I9cc58dacfb01ce92d131f2e95d3d954bb41d8be8,openstack/puppet-openstack-integration,master,I9cc58dacfb01ce92d131f2e95d3d954bb41d8be8,Updated from Puppet OpenStack modules constraints,MERGED,2021-06-03 06:15:14.000000000,2021-07-12 17:27:10.000000000,2021-07-12 17:27:10.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 06:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/d7c747fd614526a8c34bd796a0bd8b15f8b890c8', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I9cc58dacfb01ce92d131f2e95d3d954bb41d8be8\n'}, {'number': 2, 'created': '2021-06-06 06:06:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/7b5abc210680f73733fed21dfd194432577b8df0', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I9cc58dacfb01ce92d131f2e95d3d954bb41d8be8\n'}, {'number': 3, 'created': '2021-06-08 06:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/affe6e516a8ebe72b4f382186fb4bc121b9c0f5f', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I9cc58dacfb01ce92d131f2e95d3d954bb41d8be8\n'}, {'number': 4, 'created': '2021-06-12 06:09:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/92404a4f7d15874ae2db4f91164f9c82013c4560', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I9cc58dacfb01ce92d131f2e95d3d954bb41d8be8\n'}, {'number': 5, 'created': '2021-06-15 06:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/1c60297627ff108799e60b70d2aaceb3748e63c7', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I9cc58dacfb01ce92d131f2e95d3d954bb41d8be8\n'}, {'number': 6, 'created': '2021-06-22 06:13:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/9fcb0eff1154a25ce7b7d4bd1e21d89f8bb06bdf', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I9cc58dacfb01ce92d131f2e95d3d954bb41d8be8\n'}, {'number': 7, 'created': '2021-06-23 06:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/5a956b55fbc364edfb7b3bc8a06867b5e8c06fe0', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I9cc58dacfb01ce92d131f2e95d3d954bb41d8be8\n'}, {'number': 8, 'created': '2021-07-04 03:24:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/8bff1fbb0946552d0d8b7c67079b5c8268b25a4f', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I9cc58dacfb01ce92d131f2e95d3d954bb41d8be8\n'}, {'number': 9, 'created': '2021-07-04 03:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/928a964037c445e9281e20088bd44b35683be691', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I9cc58dacfb01ce92d131f2e95d3d954bb41d8be8\n'}, {'number': 10, 'created': '2021-07-04 03:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/0dbcea771089582a2e5317fcdd4a8b7bff5523be', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I9cc58dacfb01ce92d131f2e95d3d954bb41d8be8\n'}, {'number': 11, 'created': '2021-07-04 06:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/6de8878d9bc48e05cc3418eacb94dc4048bad30e', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I9cc58dacfb01ce92d131f2e95d3d954bb41d8be8\n'}, {'number': 12, 'created': '2021-07-06 06:07:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/5090445c44f9772081b5c0adea456867a0ac6c4c', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I9cc58dacfb01ce92d131f2e95d3d954bb41d8be8\n'}, {'number': 13, 'created': '2021-07-06 07:45:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/d5dfe3c80b6d0d013d302c17ecab077c95040dc5', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I9cc58dacfb01ce92d131f2e95d3d954bb41d8be8\n'}, {'number': 14, 'created': '2021-07-07 06:20:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/65ede185468fa05156912ee8f5bb4db6c00a09e0', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I9cc58dacfb01ce92d131f2e95d3d954bb41d8be8\n'}, {'number': 15, 'created': '2021-07-07 06:24:51.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/105fdf1e7f7bc9d293461b24fd672dfd9f7335a6', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I9cc58dacfb01ce92d131f2e95d3d954bb41d8be8\n'}]",1,794399,105fdf1e7f7bc9d293461b24fd672dfd9f7335a6,38,3,15,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: I9cc58dacfb01ce92d131f2e95d3d954bb41d8be8
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/99/794399/14 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,d7c747fd614526a8c34bd796a0bd8b15f8b890c8,openstack/puppet/constraints, :ref => 'v5.0.0' :ref => 'v6.0.1', :ref => 'v4.0.0' :ref => 'v5.0.0',2,2
openstack%2Fopenstacksdk~feature%2Fr1~Iae7c798df8780d8aa70ed54dc4b9eebd9c52b901,openstack/openstacksdk,feature/r1,Iae7c798df8780d8aa70ed54dc4b9eebd9c52b901,Switch identity groups and users in cloud layer,MERGED,2021-05-11 13:34:48.000000000,2021-07-12 17:19:32.000000000,2021-07-12 17:17:19.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-05-11 13:34:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/711630cf9b4516029bc9beba9890a7bb7eb223f2', 'message': 'Switch identity groups and users in cloud layer\n\nMethods for identity groups and users now also use proxy layer.\nAlso here drop some parts of the v2 support (only cloud layer).\n\nChange-Id: Iae7c798df8780d8aa70ed54dc4b9eebd9c52b901\n'}, {'number': 2, 'created': '2021-05-11 15:44:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4a88c42c02eff7b208023955a88c14e5bee8d201', 'message': 'Switch identity groups and users in cloud layer\n\nMethods for identity groups and users now also use proxy layer.\nAlso here drop some parts of the v2 support (only cloud layer).\n\nChange-Id: Iae7c798df8780d8aa70ed54dc4b9eebd9c52b901\n'}, {'number': 3, 'created': '2021-05-11 17:40:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a7f78ba9aedc427e6a81ce9e57a72cc6709e1ed0', 'message': 'Switch identity groups and users in cloud layer\n\nMethods for identity groups and users now also use proxy layer.\nAlso here drop some parts of the v2 support (only cloud layer).\n\nChange-Id: Iae7c798df8780d8aa70ed54dc4b9eebd9c52b901\n'}, {'number': 4, 'created': '2021-05-11 17:45:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c2f8a98b8d9bfbe4cf736f40f822cd5c9fa566fe', 'message': 'Switch identity groups and users in cloud layer\n\nMethods for identity groups and users now also use proxy layer.\nAlso here drop some parts of the v2 support (only cloud layer).\n\nChange-Id: Iae7c798df8780d8aa70ed54dc4b9eebd9c52b901\n'}, {'number': 5, 'created': '2021-05-26 08:42:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f517785aac0b96c0cad7aea211c9ec7123c27887', 'message': 'Switch identity groups and users in cloud layer\n\nMethods for identity groups and users now also use proxy layer.\nAlso here drop some parts of the v2 support (only cloud layer).\n\nChange-Id: Iae7c798df8780d8aa70ed54dc4b9eebd9c52b901\n'}, {'number': 6, 'created': '2021-07-02 14:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/43589ef40616b3a422e7bf9f14814f7f01e9bc39', 'message': 'Switch identity groups and users in cloud layer\n\nMethods for identity groups and users now also use proxy layer.\nAlso here drop some parts of the v2 support (only cloud layer).\n\nChange-Id: Iae7c798df8780d8aa70ed54dc4b9eebd9c52b901\n'}, {'number': 7, 'created': '2021-07-05 14:42:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/794730b13c12df6dd5eff2bdb43851260254b70a', 'message': 'Switch identity groups and users in cloud layer\n\nMethods for identity groups and users now also use proxy layer.\nAlso here drop some parts of the v2 support (only cloud layer).\n\nChange-Id: Iae7c798df8780d8aa70ed54dc4b9eebd9c52b901\n'}, {'number': 8, 'created': '2021-07-06 14:09:34.000000000', 'files': ['openstack/cloud/_identity.py', 'openstack/tests/unit/cloud/test_users.py', 'openstack/tests/unit/cloud/test_caching.py', 'openstack/tests/unit/cloud/test_groups.py', 'openstack/tests/functional/cloud/test_users.py', 'openstack/tests/unit/cloud/test_identity_roles.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/54f910f2a658a7af5410bd4530b41c59c96f889c', 'message': 'Switch identity groups and users in cloud layer\n\nMethods for identity groups and users now also use proxy layer.\nAlso here drop some parts of the v2 support (only cloud layer).\n\nChange-Id: Iae7c798df8780d8aa70ed54dc4b9eebd9c52b901\n'}]",0,790694,54f910f2a658a7af5410bd4530b41c59c96f889c,23,2,8,27900,,,0,"Switch identity groups and users in cloud layer

Methods for identity groups and users now also use proxy layer.
Also here drop some parts of the v2 support (only cloud layer).

Change-Id: Iae7c798df8780d8aa70ed54dc4b9eebd9c52b901
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/94/790694/8 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/cloud/_identity.py', 'openstack/tests/unit/cloud/test_users.py', 'openstack/tests/unit/cloud/test_groups.py']",3,711630cf9b4516029bc9beba9890a7bb7eb223f2,sdk_cloud_identity," uri=self.get_mock_url( append=[group_data.group_id]), json={'group': group_data.json_response['group']}), uri=self.get_mock_url( append=[group_data.group_id]), json={'group': group_data.json_response['group']}), uri=self.get_mock_url( append=[group_data.group_id]), validate=dict(json={ 'group': {'name': 'new_name', 'description': 'new_description'}})) group_data.group_id, 'new_name', 'new_description')"," uri=self.get_mock_url(), json={'groups': [group_data.json_response['group']]}), uri=self.get_mock_url(), json={'groups': [group_data.json_response['group']]}), uri=self.get_mock_url(append=[group_data.group_id]), validate=dict(json=group_data.json_request)) group_data.group_id, group_data.group_name, group_data.description)",68,167
openstack%2Fglance~master~I034497da6cd977ad6d025bf183f51c3ff1d3df40,openstack/glance,master,I034497da6cd977ad6d025bf183f51c3ff1d3df40,Refresh Glance example configs for Xena milestone 2,MERGED,2021-07-09 05:08:27.000000000,2021-07-12 17:19:27.000000000,2021-07-12 17:17:03.000000000,"[{'_account_id': 4393}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-09 05:08:27.000000000', 'files': ['etc/glance-api.conf', 'etc/glance-manage.conf', 'etc/glance-scrubber.conf', 'etc/glance-cache.conf'], 'web_link': 'https://opendev.org/openstack/glance/commit/1d8117b093318f17320eda24ee56a426921804f9', 'message': 'Refresh Glance example configs for Xena milestone 2\n\nChange-Id: I034497da6cd977ad6d025bf183f51c3ff1d3df40\n'}]",0,800156,1d8117b093318f17320eda24ee56a426921804f9,9,3,1,9303,,,0,"Refresh Glance example configs for Xena milestone 2

Change-Id: I034497da6cd977ad6d025bf183f51c3ff1d3df40
",git fetch https://review.opendev.org/openstack/glance refs/changes/56/800156/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/glance-api.conf', 'etc/glance-manage.conf', 'etc/glance-scrubber.conf', 'etc/glance-cache.conf']",4,1d8117b093318f17320eda24ee56a426921804f9,xena-m2-config-refresh,"# This has no effect if ``use_keystone_limits`` is enabled. ## * use_keystone_limits# Utilize per-tenant resource limits registered in Keystone. # # Enabling this feature will cause Glance to retrieve limits set in keystone # for resource consumption and enforce them against API users. Before turning # this on, the limits need to be registered in Keystone or all quotas will be # considered to be zero, and thus reject all new resource requests. # # These per-tenant resource limits are independent from the static # global ones configured in this config file. If this is enabled, the # relevant static global limits will be ignored. # (boolean value) #use_keystone_limits = false ## unless log_rotation_type is set to ""interval"". (integer value)","# * None# unless log_rotation_type is setto ""interval"". (integer value)",58,16
openstack%2Fcinder~master~I994af226743a50f11d89373868e588d0d0313785,openstack/cinder,master,I994af226743a50f11d89373868e588d0d0313785,Drop lower-constraints jobs,MERGED,2021-05-02 02:30:37.000000000,2021-07-12 17:19:25.000000000,2021-07-12 17:16:41.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-02 02:30:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c3dc9b66d4fb62abd51950dd8fc2f507834a8b36', 'message': 'Drop lower-constraints jobs\n\nChange-Id: I994af226743a50f11d89373868e588d0d0313785\n'}, {'number': 2, 'created': '2021-07-07 20:30:37.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b604a3bf66829d87a7ebc7e165d24780cd0e4bd7', 'message': 'Drop lower-constraints jobs\n\nChange-Id: I994af226743a50f11d89373868e588d0d0313785\n'}]",0,789077,b604a3bf66829d87a7ebc7e165d24780cd0e4bd7,79,4,2,30092,,,0,"Drop lower-constraints jobs

Change-Id: I994af226743a50f11d89373868e588d0d0313785
",git fetch https://review.opendev.org/openstack/cinder refs/changes/77/789077/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,c3dc9b66d4fb62abd51950dd8fc2f507834a8b36,drop-l-c,, [testenv:lower-constraints] install_command=python -m pip install {opts} {packages} deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,0,165
openstack%2Frequirements~stable%2Fussuri~I58a699d83bf4779398d77fc2c47fe32842f9546f,openstack/requirements,stable/ussuri,I58a699d83bf4779398d77fc2c47fe32842f9546f,update constraint for python-octaviaclient to new release 2.0.2,MERGED,2021-07-12 13:16:53.000000000,2021-07-12 16:37:21.000000000,2021-07-12 16:37:21.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-12 13:16:53.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/46f55e7f96d3809a29851f47bc5164a2c5eb23f3', 'message': 'update constraint for python-octaviaclient to new release 2.0.2\n\nmeta: version: 2.0.2\nmeta: diff-start: -\nmeta: series: ussuri\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Gregory Thiemonge <gthiemon@redhat.com>\nmeta: release:Commit: Gregory Thiemonge <gthiemon@redhat.com>\nmeta: release:Change-Id: I1d99d38b96c6f4cb14200594edc7dad0e7bb0ab8\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Herv Beraud <herveberaud.pro@gmail.com>\nChange-Id: I58a699d83bf4779398d77fc2c47fe32842f9546f\n'}]",0,800468,46f55e7f96d3809a29851f47bc5164a2c5eb23f3,6,2,1,11131,,,0,"update constraint for python-octaviaclient to new release 2.0.2

meta: version: 2.0.2
meta: diff-start: -
meta: series: ussuri
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Gregory Thiemonge <gthiemon@redhat.com>
meta: release:Commit: Gregory Thiemonge <gthiemon@redhat.com>
meta: release:Change-Id: I1d99d38b96c6f4cb14200594edc7dad0e7bb0ab8
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Herv Beraud <herveberaud.pro@gmail.com>
Change-Id: I58a699d83bf4779398d77fc2c47fe32842f9546f
",git fetch https://review.opendev.org/openstack/requirements refs/changes/68/800468/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,46f55e7f96d3809a29851f47bc5164a2c5eb23f3,new-release,python-octaviaclient===2.0.2;python_version=='3.6' python-octaviaclient===2.0.2;python_version=='3.7' python-octaviaclient===2.0.2;python_version=='3.8',python-octaviaclient===2.0.1;python_version=='3.6' python-octaviaclient===2.0.1;python_version=='3.7' python-octaviaclient===2.0.1;python_version=='3.8',3,3
openstack%2Frequirements~stable%2Fwallaby~Ic111418898db70aeaac55ff677192f76925cce1c,openstack/requirements,stable/wallaby,Ic111418898db70aeaac55ff677192f76925cce1c,update constraint for python-octaviaclient to new release 2.3.1,MERGED,2021-07-12 13:23:20.000000000,2021-07-12 16:32:36.000000000,2021-07-12 16:32:36.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-12 13:23:20.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d849873b5845bd5dbb503c31ebd27dcf912461d9', 'message': 'update constraint for python-octaviaclient to new release 2.3.1\n\nmeta: version: 2.3.1\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Gregory Thiemonge <gthiemon@redhat.com>\nmeta: release:Commit: Gregory Thiemonge <gthiemon@redhat.com>\nmeta: release:Change-Id: Icb8280040a88e6d2f98669295bc97de7aa056e08\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: Ic111418898db70aeaac55ff677192f76925cce1c\n'}]",0,800470,d849873b5845bd5dbb503c31ebd27dcf912461d9,7,2,1,11131,,,0,"update constraint for python-octaviaclient to new release 2.3.1

meta: version: 2.3.1
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Gregory Thiemonge <gthiemon@redhat.com>
meta: release:Commit: Gregory Thiemonge <gthiemon@redhat.com>
meta: release:Change-Id: Icb8280040a88e6d2f98669295bc97de7aa056e08
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: Ic111418898db70aeaac55ff677192f76925cce1c
",git fetch https://review.opendev.org/openstack/requirements refs/changes/70/800470/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,d849873b5845bd5dbb503c31ebd27dcf912461d9,new-release,python-octaviaclient===2.3.1,python-octaviaclient===2.3.0,1,1
openstack%2Frequirements~stable%2Fvictoria~I64cf2cff9a772cb59a4c9fac9119aa6097d425e8,openstack/requirements,stable/victoria,I64cf2cff9a772cb59a4c9fac9119aa6097d425e8,update constraint for python-octaviaclient to new release 2.2.1,MERGED,2021-07-12 13:19:29.000000000,2021-07-12 16:32:32.000000000,2021-07-12 16:32:32.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-12 13:19:29.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/9529d66ca66e67101fdcfb9696544537a656ac26', 'message': 'update constraint for python-octaviaclient to new release 2.2.1\n\nmeta: version: 2.2.1\nmeta: diff-start: -\nmeta: series: victoria\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Gregory Thiemonge <gthiemon@redhat.com>\nmeta: release:Commit: Gregory Thiemonge <gthiemon@redhat.com>\nmeta: release:Change-Id: If11377cfdceed562ae261027b2acb13a2c30c8c6\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Herv Beraud <herveberaud.pro@gmail.com>\nChange-Id: I64cf2cff9a772cb59a4c9fac9119aa6097d425e8\n'}]",0,800469,9529d66ca66e67101fdcfb9696544537a656ac26,7,2,1,11131,,,0,"update constraint for python-octaviaclient to new release 2.2.1

meta: version: 2.2.1
meta: diff-start: -
meta: series: victoria
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Gregory Thiemonge <gthiemon@redhat.com>
meta: release:Commit: Gregory Thiemonge <gthiemon@redhat.com>
meta: release:Change-Id: If11377cfdceed562ae261027b2acb13a2c30c8c6
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Herv Beraud <herveberaud.pro@gmail.com>
Change-Id: I64cf2cff9a772cb59a4c9fac9119aa6097d425e8
",git fetch https://review.opendev.org/openstack/requirements refs/changes/69/800469/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,9529d66ca66e67101fdcfb9696544537a656ac26,new-release,python-octaviaclient===2.2.1,python-octaviaclient===2.2.0,1,1
openstack%2Fkuryr-kubernetes~master~I37498ae7bf6a8b4b14afe53d1af3fb8823d589cf,openstack/kuryr-kubernetes,master,I37498ae7bf6a8b4b14afe53d1af3fb8823d589cf,gracefully exit daemonserver before registry exit,MERGED,2019-12-12 03:04:20.000000000,2021-07-12 16:30:55.000000000,2021-07-12 16:29:22.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 14570}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 25900}, {'_account_id': 27032}, {'_account_id': 28082}]","[{'number': 1, 'created': '2019-12-12 03:04:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/244476f274f2f6af7f08ace3fe2d5ce38f04ccb0', 'message': 'gracefully exit daemonserver before registry exit\n\nIf the registry manager is stopped while daemon server is still\nprocessing requests, the pending requests fail and result in resource\nleaks in ovs.\n\nWith this change, we wait for DaemonServer to finish processing before\nshutting down the registry manager.\n\nCloses-bug: 1856109\nChange-Id: I37498ae7bf6a8b4b14afe53d1af3fb8823d589cf\nSigned-off-by: Yash Gupta <y.gupta@samsung.com>\n'}, {'number': 2, 'created': '2019-12-12 03:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4cf2eabee4df574ea09fd8c1c2290661bea63a03', 'message': 'gracefully exit daemonserver before registry exit\n\nIf the registry manager is stopped while daemon server is still\nprocessing requests, the pending requests fail and result in resource\nleaks in ovs.\n\nWith this change, we wait for DaemonServer to finish processing before\nshutting down the registry manager.\n\nCloses-bug: 1856109\nChange-Id: I37498ae7bf6a8b4b14afe53d1af3fb8823d589cf\nSigned-off-by: Yash Gupta <y.gupta@samsung.com>\n'}, {'number': 3, 'created': '2020-03-10 06:36:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/73961eff748fdc1d00aff028131c1eae41bb7e48', 'message': 'gracefully exit daemonserver before registry exit\n\nIf the registry manager is stopped while daemon server is still\nprocessing requests, the pending requests fail and result in resource\nleaks in ovs.\n\nWith this change, we wait for DaemonServer to finish processing before\nshutting down the registry manager.\n\nCloses-bug: 1856109\nChange-Id: I37498ae7bf6a8b4b14afe53d1af3fb8823d589cf\nSigned-off-by: Yash Gupta <y.gupta@samsung.com>\n'}, {'number': 4, 'created': '2021-06-25 14:30:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a8af209415b93f3a51cdbe604d6717d158bb4c84', 'message': 'gracefully exit daemonserver before registry exit\n\nIf the registry manager is stopped while daemon server is still\nprocessing requests, the pending requests fail and result in resource\nleaks in ovs.\n\nWith this change, we wait for DaemonServer to finish processing before\nshutting down the registry manager.\n\nCloses-bug: 1856109\nChange-Id: I37498ae7bf6a8b4b14afe53d1af3fb8823d589cf\nSigned-off-by: Yash Gupta <y.gupta@samsung.com>\nCo-Authored-By: Micha Dulko <mdulko@redhat.com>\n'}, {'number': 5, 'created': '2021-06-25 14:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c07ea5f2e384d3c4adb00407bf46d4f1309b63ef', 'message': 'gracefully exit daemonserver before registry exit\n\nIf the registry manager is stopped while daemon server is still\nprocessing requests, the pending requests fail and result in resource\nleaks in ovs.\n\nWith this change, we wait for DaemonServer to finish processing before\nshutting down the registry manager.\n\nCloses-bug: 1856109\nChange-Id: I37498ae7bf6a8b4b14afe53d1af3fb8823d589cf\nSigned-off-by: Yash Gupta <y.gupta@samsung.com>\nCo-Authored-By: Micha Dulko <mdulko@redhat.com>\n'}, {'number': 6, 'created': '2021-07-07 07:45:50.000000000', 'files': ['kuryr_kubernetes/cni/daemon/service.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0c0ade435e08213da5999464ab7df8164a1aefbd', 'message': 'gracefully exit daemonserver before registry exit\n\nIf the registry manager is stopped while daemon server is still\nprocessing requests, the pending requests fail and result in resource\nleaks in ovs.\n\nWith this change, we wait for DaemonServer to finish processing before\nshutting down the registry manager.\n\nCloses-bug: 1856109\nChange-Id: I37498ae7bf6a8b4b14afe53d1af3fb8823d589cf\nSigned-off-by: Yash Gupta <y.gupta@samsung.com>\nCo-Authored-By: Micha Dulko <mdulko@redhat.com>\n'}]",2,698618,0c0ade435e08213da5999464ab7df8164a1aefbd,24,8,6,28082,,,0,"gracefully exit daemonserver before registry exit

If the registry manager is stopped while daemon server is still
processing requests, the pending requests fail and result in resource
leaks in ovs.

With this change, we wait for DaemonServer to finish processing before
shutting down the registry manager.

Closes-bug: 1856109
Change-Id: I37498ae7bf6a8b4b14afe53d1af3fb8823d589cf
Signed-off-by: Yash Gupta <y.gupta@samsung.com>
Co-Authored-By: Micha Dulko <mdulko@redhat.com>
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/18/698618/6 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'kuryr_kubernetes/cni/daemon/service.py']",2,244476f274f2f6af7f08ace3fe2d5ce38f04ccb0,graceful-shutdown,"from werkzeug import serving self._server = None self._server = serving.make_server( address, port, self.application, threaded=False, processes=CONF.cni_daemon.worker_num) self._server.serve_forever() def terminate(self): LOG.info(""Waiting for DaemonServer worker processes to exit..."") self.server._server._block_on_close = True self.server._server.shutdown() self.server._server.server_close() LOG.info(""All DaemonServer workers finished gracefully."") # NOTE(ygupta): shutdown timeout is a bit more than request_timeout to # avoid race conditions shutdown_timeout = cfg.CONF.cni_daemon.request_timeout + 1 super(CNIDaemonServiceManager, self).__init__( graceful_shutdown_timeout=shutdown_timeout) self._server_service = self.add( CNIDaemonServerService, workers=1, args=(registry, healthy,)) LOG.info(""Gracefully stopping DaemonServer service.."") self.reconfigure(self._server_service, 0) for worker in self._running_services[self._server_service]: worker.terminate() for worker in self._running_services[self._server_service]: worker.join() LOG.info(""Stopping registry manager.."") LOG.info(""Continuing with shutdown"")"," self.application.run(address, port, threaded=False, processes=CONF.cni_daemon.worker_num) super(CNIDaemonServiceManager, self).__init__() self.add(CNIDaemonServerService, workers=1, args=(registry, healthy,))",29,4
openstack%2Fnova~master~I44b79cfb236e94444740e32b0dd0a2344c29f340,openstack/nova,master,I44b79cfb236e94444740e32b0dd0a2344c29f340,Add func test for nova-manage db archive_deleted_rows --before,MERGED,2021-06-17 01:46:53.000000000,2021-07-12 16:16:12.000000000,2021-07-12 16:13:48.000000000,"[{'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-06-17 01:46:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2e32bdc9d3c8a3c523cd71a3875f3a21ae626db4', 'message': 'Add func test for nova-manage db archive_deleted_rows --before\n\nThis is inspired by database query filtering that occurs when --before\nis passed to nova-manage db archive_deleted_rows. There is a comparison\nWHERE deleted_at < before and not all database records populate it.\n\nThis verifies that no records are missed due to that comparision when\narchiving with --before.\n\nRelated-Bug: #1751192\n\nChange-Id: I44b79cfb236e94444740e32b0dd0a2344c29f340\n'}, {'number': 2, 'created': '2021-07-08 19:33:59.000000000', 'files': ['nova/tests/functional/test_nova_manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b84787d26a70ee62cba5b1d9376d1d78da388fa1', 'message': 'Add func test for nova-manage db archive_deleted_rows --before\n\nThis is inspired by database query filtering that occurs when --before\nis passed to nova-manage db archive_deleted_rows. There is a comparison\nWHERE deleted_at < before and not all database records populate it.\n\nThis verifies that no records are missed due to that comparision when\narchiving with --before.\n\nRelated-Bug: #1751192\n\nChange-Id: I44b79cfb236e94444740e32b0dd0a2344c29f340\n'}]",0,796744,b84787d26a70ee62cba5b1d9376d1d78da388fa1,21,4,2,4690,,,0,"Add func test for nova-manage db archive_deleted_rows --before

This is inspired by database query filtering that occurs when --before
is passed to nova-manage db archive_deleted_rows. There is a comparison
WHERE deleted_at < before and not all database records populate it.

This verifies that no records are missed due to that comparision when
archiving with --before.

Related-Bug: #1751192

Change-Id: I44b79cfb236e94444740e32b0dd0a2344c29f340
",git fetch https://review.opendev.org/openstack/nova refs/changes/44/796744/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_nova_manage.py'],1,2e32bdc9d3c8a3c523cd71a3875f3a21ae626db4,bug/1751192,"import datetimefrom oslo_utils import timeutils def test_archive_before(self): """"""Test that no records are left over after archiving with --before"""""" # Create and delete a server so we can archive. server = self._build_server() server = self.api.post_server({'server': server}) server = self.api.get_server(server['id']) self._delete_server(server) # First try archiving records before a past datetime. Nothing should be # archived. past = timeutils.utcnow() - datetime.timedelta(hours=1) ret = self.cli.archive_deleted_rows(before=past.isoformat()) # Return code 0 means nothing was archived. self.assertEqual(0, ret) # Now try archiving records before a future datetime. Everything should # have been archived. future = timeutils.utcnow() + datetime.timedelta(hours=1) ret = self.cli.archive_deleted_rows(before=future.isoformat()) # Return code 1 means something was archived. self.assertEqual(1, ret) # Now archive everything without specifying --before. ret = self.cli.archive_deleted_rows() # Return code 0 means nothing was archived. self.assertEqual(0, ret) ",,26,0
openstack%2Frequirements~master~I5d85bd340286b8be5a321de5eac19a37f2038bed,openstack/requirements,master,I5d85bd340286b8be5a321de5eac19a37f2038bed,update constraint for yaql to new release 2.0.0,MERGED,2021-07-12 10:53:20.000000000,2021-07-12 16:15:33.000000000,2021-07-12 16:13:35.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-12 10:53:20.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/2b4f2a38be6cc25a2f1467e2954d447c31f3a395', 'message': 'update constraint for yaql to new release 2.0.0\n\nmeta: version: 2.0.0\nmeta: diff-start: -\nmeta: series: independent\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\nmeta: release:Commit: Rodolfo Alonso <ralonsoh@redhat.com>\nmeta: release:Change-Id: I455398e4c7c9bb9187579651ec60451930f4a7e6\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Herv Beraud <herveberaud.pro@gmail.com>\nChange-Id: I5d85bd340286b8be5a321de5eac19a37f2038bed\n'}]",0,800456,2b4f2a38be6cc25a2f1467e2954d447c31f3a395,8,2,1,11131,,,0,"update constraint for yaql to new release 2.0.0

meta: version: 2.0.0
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>
meta: release:Commit: Rodolfo Alonso <ralonsoh@redhat.com>
meta: release:Change-Id: I455398e4c7c9bb9187579651ec60451930f4a7e6
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Herv Beraud <herveberaud.pro@gmail.com>
Change-Id: I5d85bd340286b8be5a321de5eac19a37f2038bed
",git fetch https://review.opendev.org/openstack/requirements refs/changes/56/800456/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,2b4f2a38be6cc25a2f1467e2954d447c31f3a395,new-release,yaql===2.0.0,yaql===1.1.3,1,1
openstack%2Fpuppet-openstack-guide~master~I9225e5b1e609e0abaa81e6e77d57b738ae446260,openstack/puppet-openstack-guide,master,I9225e5b1e609e0abaa81e6e77d57b738ae446260,Add missing puppet-placement,MERGED,2021-07-12 08:01:45.000000000,2021-07-12 16:15:19.000000000,2021-07-12 16:12:20.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-12 08:01:45.000000000', 'files': ['doc/source/contributor/module-list.rst'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/7ec36e1adcd2e18f593321dc9e40fc8df807f93a', 'message': 'Add missing puppet-placement\n\nChange-Id: I9225e5b1e609e0abaa81e6e77d57b738ae446260\n'}]",0,800435,7ec36e1adcd2e18f593321dc9e40fc8df807f93a,8,3,1,9816,,,0,"Add missing puppet-placement

Change-Id: I9225e5b1e609e0abaa81e6e77d57b738ae446260
",git fetch https://review.opendev.org/openstack/puppet-openstack-guide refs/changes/35/800435/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/module-list.rst'],1,7ec36e1adcd2e18f593321dc9e40fc8df807f93a,,* `Placement <http://opendev.org/openstack/puppet-placement/>`_ (*Placement*),,1,0
openstack%2Fpuppet-openstack-guide~master~Ia014819f55bd400cdaada0df7d97b2ec9b442bcc,openstack/puppet-openstack-guide,master,Ia014819f55bd400cdaada0df7d97b2ec9b442bcc,Remove remaining reference to puppet-panko,MERGED,2021-07-12 08:01:45.000000000,2021-07-12 16:14:13.000000000,2021-07-12 16:12:17.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-12 08:01:45.000000000', 'files': ['doc/source/contributor/module-list.rst'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/62beb3ca3a0b716e805809e9941e0174d435a011', 'message': 'Remove remaining reference to puppet-panko\n\n... because it was already deprecated.\n\nChange-Id: Ia014819f55bd400cdaada0df7d97b2ec9b442bcc\n'}]",0,800434,62beb3ca3a0b716e805809e9941e0174d435a011,8,3,1,9816,,,0,"Remove remaining reference to puppet-panko

... because it was already deprecated.

Change-Id: Ia014819f55bd400cdaada0df7d97b2ec9b442bcc
",git fetch https://review.opendev.org/openstack/puppet-openstack-guide refs/changes/34/800434/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/module-list.rst'],1,62beb3ca3a0b716e805809e9941e0174d435a011,,,* `Telemetry Event service <http://opendev.org/openstack/puppet-panko/>`_ (*Panko*),0,1
openstack%2Frequirements~stable%2Fwallaby~Ibab2c1935df4beef562bba4519f12fee31f72761,openstack/requirements,stable/wallaby,Ibab2c1935df4beef562bba4519f12fee31f72761,update constraint for neutron to new release 18.1.0,MERGED,2021-07-12 10:16:30.000000000,2021-07-12 16:13:31.000000000,2021-07-12 16:13:31.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-12 10:16:30.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/7a930ba1d38fda0be841ade1421641e2612b858a', 'message': 'update constraint for neutron to new release 18.1.0\n\nmeta: version: 18.1.0\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Corey Bryant <corey.bryant@canonical.com>\nmeta: release:Commit: Corey Bryant <corey.bryant@canonical.com>\nmeta: release:Change-Id: If6a766c42389a20fd71a768cfc9c718e75265020\nmeta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>\nmeta: release:Code-Review+1: Bernard Cafarelli <bcafarel@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Ibab2c1935df4beef562bba4519f12fee31f72761\n'}]",0,800449,7a930ba1d38fda0be841ade1421641e2612b858a,8,3,1,11131,,,0,"update constraint for neutron to new release 18.1.0

meta: version: 18.1.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Corey Bryant <corey.bryant@canonical.com>
meta: release:Commit: Corey Bryant <corey.bryant@canonical.com>
meta: release:Change-Id: If6a766c42389a20fd71a768cfc9c718e75265020
meta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>
meta: release:Code-Review+1: Bernard Cafarelli <bcafarel@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Ibab2c1935df4beef562bba4519f12fee31f72761
",git fetch https://review.opendev.org/openstack/requirements refs/changes/49/800449/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,7a930ba1d38fda0be841ade1421641e2612b858a,new-release,neutron===18.1.0,neutron===18.0.0,1,1
openstack%2Ftacker~master~Ifd1ae2753c639f22fc1afa020222416fe79469ef,openstack/tacker,master,Ifd1ae2753c639f22fc1afa020222416fe79469ef,Fix migration for SQLAlchemy 1.4,MERGED,2021-06-13 03:25:20.000000000,2021-07-12 16:04:49.000000000,2021-07-12 16:03:14.000000000,"[{'_account_id': 4264}, {'_account_id': 8556}, {'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 31857}]","[{'number': 1, 'created': '2021-06-13 03:25:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/1692e8b2fcbcbf2618406942cf3efcfc50531cfb', 'message': 'Fix migration for sqlalchemy 1.4\n\nThis patch fixes a database migration for sqlalchemy 1.4.\n\nIn tacker repository following issues are encounter:\n\n1.Replace deprecated SQLAlchemy ""with_lockmode"" method.\n  The method was deprecated in sqlalchemy 0.9 [1][2]\n  and finally removed in version 1.4.\n  This patch replaces ""with_lockmode"" with new method\n  ""with_for_update"", which has no end-user impact.\n\n2. The clause column IN, in the new version it requires parameters\n   passed to operator either be a list of literal value\n   or a tuple, or an empty list [3].\n\n3. Fix SA Warning to enable/disable ""cache_ok"" flag.\n   Warning: SAWarning: TypeDecorator Uuid(length=36) will\n   not produce a cache key because the ``cache_ok`` flag\n   is not set to True. Set this flag to True if this type\n   object\'s state is safe to use in a cache key, or False\n   to disable this warning.\n\n4. Observe an argument error in \'update\' query.\n   Error: sqlalchemy.exc.ArgumentError: subject table for an INSERT,\n   UPDATE or DELETE expected, got Column(\'id\', Uuid(length=36),\n   table=<vnf_software_images>, primary_key=True, nullable=False,\n   default=ColumnDefault(<function generate_uuid at 0x7fb5be371d30>))\n\n[1] https://docs.sqlalchemy.org/en/13/changelog/migration_09.html?highlight=with_lockmode#new-for-update-support-on-select-query\n[2] https://docs.sqlalchemy.org/en/13/orm/query.html#sqlalchemy.orm.query.Query.with_lockmode\n[3] https://docs.sqlalchemy.org/en/14/core/sqlelement.html#sqlalchemy.sql.expression.ColumnElement.in_\n\nChange-Id: Ifd1ae2753c639f22fc1afa020222416fe79469ef\n'}, {'number': 2, 'created': '2021-06-14 15:31:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/41ba98503d4b8eceebf77ce50483a23c9c01f2a0', 'message': 'Fix migration for sqlalchemy 1.4\n\nThis patch fixes a database migration for sqlalchemy 1.4.\n\nIn tacker repository following issues are encounter:\n\n1. Replace deprecated SQLAlchemy ""with_lockmode"" method.\n   The method was deprecated in sqlalchemy 0.9 [1][2]\n   and finally removed in version 1.4.\n   This patch replaces ""with_lockmode"" with new method\n   ""with_for_update"", which has no end-user impact.\n\n2. The clause column IN, in the new version it requires parameters\n   passed to operator either be a list of literal value\n   or a tuple, or an empty list [3].\n\n3. Fix SA Warning to enable/disable ""cache_ok"" flag.\n   Warning: SAWarning: TypeDecorator Uuid(length=36) will\n   not produce a cache key because the ``cache_ok`` flag\n   is not set to True. Set this flag to True if this type\n   object\'s state is safe to use in a cache key, or False\n   to disable this warning.\n\n4. Observe an argument error in \'update\' query.\n   Error: sqlalchemy.exc.ArgumentError: subject table for an INSERT,\n   UPDATE or DELETE expected, got Column(\'id\', Uuid(length=36),\n   table=<vnf_software_images>, primary_key=True, nullable=False,\n   default=ColumnDefault(<function generate_uuid at 0x7fb5be371d30>))\n\n5. The INSERT statement requires values to add in table as a list,\n   tuple or dictionary [4].\n   Error: sqlalchemy.exc.ArgumentError: mapping or sequence expected\n          for parameters\n   This patch creates a dictionary of fields to be insert in VnfLcmOpOccs\n   table.\n\n[1] https://docs.sqlalchemy.org/en/13/changelog/migration_09.html?highlight=with_lockmode#new-for-update-support-on-select-query\n[2] https://docs.sqlalchemy.org/en/13/orm/query.html#sqlalchemy.orm.query.Query.with_lockmode\n[3] https://docs.sqlalchemy.org/en/14/core/sqlelement.html#sqlalchemy.sql.expression.ColumnElement.in_\n[4] https://docs.sqlalchemy.org/en/14/core/dml.html#dml-class-documentation-constructors\n\nChange-Id: Ifd1ae2753c639f22fc1afa020222416fe79469ef\n'}, {'number': 3, 'created': '2021-06-16 07:23:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/c38a5102b9d5e26f5d52af439d1078917a5b20ed', 'message': 'Fix migration for sqlalchemy 1.4\n\nThis patch fixes a database migration for sqlalchemy 1.4.\n\nIn tacker repository following issues are encounter:\n\n1. Replace deprecated SQLAlchemy ""with_lockmode"" method.\n   The method was deprecated in sqlalchemy 0.9 [1][2]\n   and finally removed in version 1.4.\n   This patch replaces ""with_lockmode"" with new method\n   ""with_for_update"", which has no end-user impact.\n\n2. The clause column IN, in the new version it requires parameters\n   passed to operator either be a list of literal value\n   or a tuple, or an empty list [3].\n\n3. Fix SA Warning to enable/disable ""cache_ok"" flag.\n   Warning: SAWarning: TypeDecorator Uuid(length=36) will\n   not produce a cache key because the ``cache_ok`` flag\n   is not set to True. Set this flag to True if this type\n   object\'s state is safe to use in a cache key, or False\n   to disable this warning.\n\n4. Observe an argument error in \'update\' query.\n   Error: sqlalchemy.exc.ArgumentError: subject table for an INSERT,\n   UPDATE or DELETE expected, got Column(\'id\', Uuid(length=36),\n   table=<vnf_software_images>, primary_key=True, nullable=False,\n   default=ColumnDefault(<function generate_uuid at 0x7fb5be371d30>))\n\n5. The INSERT statement requires values to add in table as a list,\n   tuple or dictionary [4].\n   Error: sqlalchemy.exc.ArgumentError: mapping or sequence expected\n          for parameters\n   This patch creates a dictionary of fields to be insert in\n   VnfLcmOpOccs table.\n\n6. Query fails on applying filters.\n   When applying query to list vnf package or vnf instance using\n   apply_filters() method exported from sqlalchemy_filters,\n   it failed.\n   AttributeError: \'Query\' object has no attribute \'_join_entities\'\n\n   In SQLAlchemy 1.4 unification of ""query"" and ""select"" construct\n   took place [5][6].\n   The issue observe in tacker is an open bug of SQLAlchemy [7].\n   This patch drops ""sqlalchemy_filters"" and add customize method\n   to apply filters in query.\n\n[1] https://docs.sqlalchemy.org/en/13/changelog/migration_09.html?highlight=with_lockmode#new-for-update-support-on-select-query\n[2] https://docs.sqlalchemy.org/en/13/orm/query.html#sqlalchemy.orm.query.Query.with_lockmode\n[3] https://docs.sqlalchemy.org/en/14/core/sqlelement.html#sqlalchemy.sql.expression.ColumnElement.in_\n[4] https://docs.sqlalchemy.org/en/14/core/dml.html#dml-class-documentation-constructors\n[5] https://github.com/sqlalchemy/sqlalchemy/issues/5159\n[6] https://gerrit.sqlalchemy.org/c/sqlalchemy/sqlalchemy/+/1599/\n[7] https://github.com/juliotrigo/sqlalchemy-filters/issues/61\n\nChange-Id: Ifd1ae2753c639f22fc1afa020222416fe79469ef\n'}, {'number': 4, 'created': '2021-06-16 16:25:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/43cd63aa0055a4e1c5ac98081cea504f619460d9', 'message': 'Fix migration for sqlalchemy 1.4\n\nThis patch fixes a database migration for sqlalchemy 1.4.\n\nIn tacker repository following issues are encounter:\n\n1. Replace deprecated SQLAlchemy ""with_lockmode"" method.\n   The method was deprecated in sqlalchemy 0.9 [1][2]\n   and finally removed in version 1.4.\n   This patch replaces ""with_lockmode"" with new method\n   ""with_for_update"", which has no end-user impact.\n\n2. The clause column IN, in the new version it requires parameters\n   passed to operator either be a list of literal value\n   or a tuple, or an empty list [3].\n\n3. Observe an argument error in \'update\' query.\n   Error: sqlalchemy.exc.ArgumentError: subject table for an INSERT,\n   UPDATE or DELETE expected, got Column(\'id\', Uuid(length=36),\n   table=<vnf_software_images>, primary_key=True, nullable=False,\n   default=ColumnDefault(<function generate_uuid at 0x7fb5be371d30>))\n\n4. The INSERT statement requires values to add in table as a list,\n   tuple or dictionary [4].\n   Error: sqlalchemy.exc.ArgumentError: mapping or sequence expected\n          for parameters\n   This patch creates a dictionary of fields to be insert in\n   VnfLcmOpOccs table.\n\n5. Query fails on applying filters.\n   When applying query to list vnf package or vnf instance using\n   apply_filters() method exported from sqlalchemy_filters,\n   it failed.\n   AttributeError: \'Query\' object has no attribute \'_join_entities\'\n\n   In SQLAlchemy 1.4 unification of ""query"" and ""select"" construct\n   took place [5][6].\n   The issue observe in tacker is an open bug of SQLAlchemy [7].\n   This patch drops ""sqlalchemy_filters"" and add customize method\n   to apply filters in query.\n\nNote: This patch address sqlalchemy errors, SAWarnings will be resolve\nin future patches.\n\n[1] https://docs.sqlalchemy.org/en/13/changelog/migration_09.html?highlight=with_lockmode#new-for-update-support-on-select-query\n[2] https://docs.sqlalchemy.org/en/13/orm/query.html#sqlalchemy.orm.query.Query.with_lockmode\n[3] https://docs.sqlalchemy.org/en/14/core/sqlelement.html#sqlalchemy.sql.expression.ColumnElement.in_\n[4] https://docs.sqlalchemy.org/en/14/core/dml.html#dml-class-documentation-constructors\n[5] https://github.com/sqlalchemy/sqlalchemy/issues/5159\n[6] https://gerrit.sqlalchemy.org/c/sqlalchemy/sqlalchemy/+/1599/\n[7] https://github.com/juliotrigo/sqlalchemy-filters/issues/61\n\nChange-Id: Ifd1ae2753c639f22fc1afa020222416fe79469ef\n'}, {'number': 5, 'created': '2021-06-28 12:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/0375db2d53607dce99612b9e1132f2be35981435', 'message': 'Fix migration for sqlalchemy 1.4\n\nThis patch fixes a database migration for sqlalchemy 1.4.\n\nIn tacker repository following issues are encounter:\n\n1. Replace deprecated SQLAlchemy ""with_lockmode"" method.\n   The method was deprecated in sqlalchemy 0.9 [1][2]\n   and finally removed in version 1.4.\n   This patch replaces ""with_lockmode"" with new method\n   ""with_for_update"", which has no end-user impact.\n\n2. The clause column IN, in the new version it requires parameters\n   passed to operator either be a list of literal value\n   or a tuple, or an empty list [3].\n\n3. Observe an argument error in \'update\' query.\n   Error: sqlalchemy.exc.ArgumentError: subject table for an INSERT,\n   UPDATE or DELETE expected, got Column(\'id\', Uuid(length=36),\n   table=<vnf_software_images>, primary_key=True, nullable=False,\n   default=ColumnDefault(<function generate_uuid at 0x7fb5be371d30>))\n\n4. The INSERT statement requires values to add in table as a list,\n   tuple or dictionary [4].\n   Error: sqlalchemy.exc.ArgumentError: mapping or sequence expected\n          for parameters\n   This patch creates a dictionary of fields to be insert in\n   VnfLcmOpOccs table.\n\n5. Query fails on applying filters.\n   When applying query to list vnf package or vnf instance using\n   apply_filters() method exported from sqlalchemy_filters,\n   it failed.\n   AttributeError: \'Query\' object has no attribute \'_join_entities\'\n\n   In SQLAlchemy 1.4 unification of ""query"" and ""select"" construct\n   took place [5][6].\n   The issue observe in tacker is an open bug of SQLAlchemy [7].\n   This patch drops ""sqlalchemy_filters"" and add customize method\n   to apply filters in query.\n\nNote: This patch address sqlalchemy errors, SAWarnings will be resolve\nin future patches.\n\n[1] https://docs.sqlalchemy.org/en/13/changelog/migration_09.html?highlight=with_lockmode#new-for-update-support-on-select-query\n[2] https://docs.sqlalchemy.org/en/13/orm/query.html#sqlalchemy.orm.query.Query.with_lockmode\n[3] https://docs.sqlalchemy.org/en/14/core/sqlelement.html#sqlalchemy.sql.expression.ColumnElement.in_\n[4] https://docs.sqlalchemy.org/en/14/core/dml.html#dml-class-documentation-constructors\n[5] https://github.com/sqlalchemy/sqlalchemy/issues/5159\n[6] https://gerrit.sqlalchemy.org/c/sqlalchemy/sqlalchemy/+/1599/\n[7] https://github.com/juliotrigo/sqlalchemy-filters/issues/61\n\nChange-Id: Ifd1ae2753c639f22fc1afa020222416fe79469ef\n'}, {'number': 6, 'created': '2021-06-29 08:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/a49e5aa9a9060fb5ecebb89019bce7fc6afd9305', 'message': '[WIP] Fix migration for sqlalchemy 1.4\n\nThis patch fixes a database migration for sqlalchemy 1.4.\n\nIn tacker repository following issues are encounter:\n\n1. Replace deprecated SQLAlchemy ""with_lockmode"" method.\n   The method was deprecated in sqlalchemy 0.9 [1][2]\n   and finally removed in version 1.4.\n   This patch replaces ""with_lockmode"" with new method\n   ""with_for_update"", which has no end-user impact.\n\n2. The clause column IN, in the new version it requires parameters\n   passed to operator either be a list of literal value\n   or a tuple, or an empty list [3].\n\n3. Observe an argument error in \'update\' query.\n   Error: sqlalchemy.exc.ArgumentError: subject table for an INSERT,\n   UPDATE or DELETE expected, got Column(\'id\', Uuid(length=36),\n   table=<vnf_software_images>, primary_key=True, nullable=False,\n   default=ColumnDefault(<function generate_uuid at 0x7fb5be371d30>))\n\n4. The INSERT statement requires values to add in table as a list,\n   tuple or dictionary [4].\n   Error: sqlalchemy.exc.ArgumentError: mapping or sequence expected\n          for parameters\n   This patch creates a dictionary of fields to be insert in\n   VnfLcmOpOccs table.\n\n5. Query fails on applying filters.\n   When applying query to list vnf package or vnf instance using\n   apply_filters() method exported from sqlalchemy_filters,\n   it failed.\n   AttributeError: \'Query\' object has no attribute \'_join_entities\'\n\n   In SQLAlchemy 1.4 unification of ""query"" and ""select"" construct\n   took place [5][6].\n   The issue observe in tacker is an open bug of SQLAlchemy [7].\n   This patch drops ""sqlalchemy_filters"" and add customize method\n   to apply filters in query.\n\nNote: This patch address sqlalchemy errors, SAWarnings will be resolve\nin future patches.\n\n[1] https://docs.sqlalchemy.org/en/13/changelog/migration_09.html?highlight=with_lockmode#new-for-update-support-on-select-query\n[2] https://docs.sqlalchemy.org/en/13/orm/query.html#sqlalchemy.orm.query.Query.with_lockmode\n[3] https://docs.sqlalchemy.org/en/14/core/sqlelement.html#sqlalchemy.sql.expression.ColumnElement.in_\n[4] https://docs.sqlalchemy.org/en/14/core/dml.html#dml-class-documentation-constructors\n[5] https://github.com/sqlalchemy/sqlalchemy/issues/5159\n[6] https://gerrit.sqlalchemy.org/c/sqlalchemy/sqlalchemy/+/1599/\n[7] https://github.com/juliotrigo/sqlalchemy-filters/issues/61\n\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\n\nChange-Id: Ifd1ae2753c639f22fc1afa020222416fe79469ef\n'}, {'number': 7, 'created': '2021-06-30 02:00:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/ef620300351308800803971ccd445b89b8fa84e7', 'message': 'Fix migration for sqlalchemy 1.4\n\nThis patch fixes a database migration for sqlalchemy 1.4.\n\nIn tacker repository following issues are encounter:\n\n1. Replace deprecated SQLAlchemy ""with_lockmode"" method.\n   The method was deprecated in sqlalchemy 0.9 [1][2]\n   and finally removed in version 1.4.\n   This patch replaces ""with_lockmode"" with new method\n   ""with_for_update"", which has no end-user impact.\n\n2. The clause column IN, in the new version it requires parameters\n   passed to operator either be a list of literal value\n   or a tuple, or an empty list [3].\n\n3. Observe an argument error in \'update\' query.\n   Error: sqlalchemy.exc.ArgumentError: subject table for an INSERT,\n   UPDATE or DELETE expected, got Column(\'id\', Uuid(length=36),\n   table=<vnf_software_images>, primary_key=True, nullable=False,\n   default=ColumnDefault(<function generate_uuid at 0x7fb5be371d30>))\n\n4. The INSERT statement requires values to add in table as a list,\n   tuple or dictionary [4].\n   Error: sqlalchemy.exc.ArgumentError: mapping or sequence expected\n          for parameters\n   This patch creates a dictionary of fields to be insert in\n   VnfLcmOpOccs table.\n\n5. Query fails on applying filters.\n   When applying query to list vnf package or vnf instance using\n   apply_filters() method exported from sqlalchemy_filters,\n   it failed.\n   AttributeError: \'Query\' object has no attribute \'_join_entities\'\n\n   In SQLAlchemy 1.4 unification of ""query"" and ""select"" construct\n   took place [5][6].\n   The issue observe in tacker is an open bug of SQLAlchemy [7].\n   This patch drops ""sqlalchemy_filters"" and add customize method\n   to apply filters in query.\n\nNote: This patch address sqlalchemy errors, SAWarnings will be resolve\nin future patches.\n\n[1] https://docs.sqlalchemy.org/en/13/changelog/migration_09.html?highlight=with_lockmode#new-for-update-support-on-select-query\n[2] https://docs.sqlalchemy.org/en/13/orm/query.html#sqlalchemy.orm.query.Query.with_lockmode\n[3] https://docs.sqlalchemy.org/en/14/core/sqlelement.html#sqlalchemy.sql.expression.ColumnElement.in_\n[4] https://docs.sqlalchemy.org/en/14/core/dml.html#dml-class-documentation-constructors\n[5] https://github.com/sqlalchemy/sqlalchemy/issues/5159\n[6] https://gerrit.sqlalchemy.org/c/sqlalchemy/sqlalchemy/+/1599/\n[7] https://github.com/juliotrigo/sqlalchemy-filters/issues/61\n\nChange-Id: Ifd1ae2753c639f22fc1afa020222416fe79469ef\n'}, {'number': 8, 'created': '2021-06-30 04:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/466dad415e22b4db1a3139f535809fbcf28cec49', 'message': '[WIP]Fix migration for sqlalchemy 1.4\n\nThis patch fixes a database migration for sqlalchemy 1.4.\n\nIn tacker repository following issues are encounter:\n\n1. Replace deprecated SQLAlchemy ""with_lockmode"" method.\n   The method was deprecated in sqlalchemy 0.9 [1][2]\n   and finally removed in version 1.4.\n   This patch replaces ""with_lockmode"" with new method\n   ""with_for_update"", which has no end-user impact.\n\n2. The clause column IN, in the new version it requires parameters\n   passed to operator either be a list of literal value\n   or a tuple, or an empty list [3].\n\n3. Observe an argument error in \'update\' query.\n   Error: sqlalchemy.exc.ArgumentError: subject table for an INSERT,\n   UPDATE or DELETE expected, got Column(\'id\', Uuid(length=36),\n   table=<vnf_software_images>, primary_key=True, nullable=False,\n   default=ColumnDefault(<function generate_uuid at 0x7fb5be371d30>))\n\n4. The INSERT statement requires values to add in table as a list,\n   tuple or dictionary [4].\n   Error: sqlalchemy.exc.ArgumentError: mapping or sequence expected\n          for parameters\n   This patch creates a dictionary of fields to be insert in\n   VnfLcmOpOccs table.\n\n5. Query fails on applying filters.\n   When applying query to list vnf package or vnf instance using\n   apply_filters() method exported from sqlalchemy_filters,\n   it failed.\n   AttributeError: \'Query\' object has no attribute \'_join_entities\'\n\n   In SQLAlchemy 1.4 unification of ""query"" and ""select"" construct\n   took place [5][6].\n   The issue observe in tacker is an open bug of SQLAlchemy [7].\n   This patch drops ""sqlalchemy_filters"" and add customize method\n   to apply filters in query.\n\nNote: This patch address sqlalchemy errors, SAWarnings will be resolve\nin future patches.\n\n[1] https://docs.sqlalchemy.org/en/13/changelog/migration_09.html?highlight=with_lockmode#new-for-update-support-on-select-query\n[2] https://docs.sqlalchemy.org/en/13/orm/query.html#sqlalchemy.orm.query.Query.with_lockmode\n[3] https://docs.sqlalchemy.org/en/14/core/sqlelement.html#sqlalchemy.sql.expression.ColumnElement.in_\n[4] https://docs.sqlalchemy.org/en/14/core/dml.html#dml-class-documentation-constructors\n[5] https://github.com/sqlalchemy/sqlalchemy/issues/5159\n[6] https://gerrit.sqlalchemy.org/c/sqlalchemy/sqlalchemy/+/1599/\n[7] https://github.com/juliotrigo/sqlalchemy-filters/issues/61\n\nChange-Id: Ifd1ae2753c639f22fc1afa020222416fe79469ef\n'}, {'number': 9, 'created': '2021-07-05 16:18:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/514514fcaf7b87c22a398895f61ccb95c47305c9', 'message': '[WIP]Fix migration for sqlalchemy 1.4\n\nThis patch fixes a database migration for sqlalchemy 1.4.\n\nIn tacker repository following issues are encounter:\n\n1. Replace deprecated SQLAlchemy ""with_lockmode"" method.\n   The method was deprecated in sqlalchemy 0.9 [1][2]\n   and finally removed in version 1.4.\n   This patch replaces ""with_lockmode"" with new method\n   ""with_for_update"", which has no end-user impact.\n\n2. The clause column IN, in the new version it requires parameters\n   passed to operator either be a list of literal value\n   or a tuple, or an empty list [3].\n\n3. Observe an argument error in \'update\' query.\n   Error: sqlalchemy.exc.ArgumentError: subject table for an INSERT,\n   UPDATE or DELETE expected, got Column(\'id\', Uuid(length=36),\n   table=<vnf_software_images>, primary_key=True, nullable=False,\n   default=ColumnDefault(<function generate_uuid at 0x7fb5be371d30>))\n\n4. The INSERT statement requires values to add in table as a list,\n   tuple or dictionary [4].\n   Error: sqlalchemy.exc.ArgumentError: mapping or sequence expected\n          for parameters\n   This patch creates a dictionary of fields to be insert in\n   VnfLcmOpOccs table.\n\n5. Query fails on applying filters.\n   When applying query to list vnf package or vnf instance using\n   apply_filters() method exported from sqlalchemy_filters,\n   it failed.\n   AttributeError: \'Query\' object has no attribute \'_join_entities\'\n\n   In SQLAlchemy 1.4 unification of ""query"" and ""select"" construct\n   took place [5][6].\n   The issue observe in tacker is an open bug of SQLAlchemy [7].\n   This patch drops ""sqlalchemy_filters"" and add customize method\n   to apply filters in query.\n\nNote: This patch address sqlalchemy errors, SAWarnings will be resolve\nin future patches.\n\n[1] https://docs.sqlalchemy.org/en/13/changelog/migration_09.html?highlight=with_lockmode#new-for-update-support-on-select-query\n[2] https://docs.sqlalchemy.org/en/13/orm/query.html#sqlalchemy.orm.query.Query.with_lockmode\n[3] https://docs.sqlalchemy.org/en/14/core/sqlelement.html#sqlalchemy.sql.expression.ColumnElement.in_\n[4] https://docs.sqlalchemy.org/en/14/core/dml.html#dml-class-documentation-constructors\n[5] https://github.com/sqlalchemy/sqlalchemy/issues/5159\n[6] https://gerrit.sqlalchemy.org/c/sqlalchemy/sqlalchemy/+/1599/\n[7] https://github.com/juliotrigo/sqlalchemy-filters/issues/61\n\nChange-Id: Ifd1ae2753c639f22fc1afa020222416fe79469ef\n'}, {'number': 10, 'created': '2021-07-08 15:39:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/d182ff90fbb9d0f3b25c18a705ffbf92658f8873', 'message': 'Fix migration for sqlalchemy 1.4\n\nThis patch fixes a database migration for sqlalchemy 1.4.\n\nIn tacker repository following issues are encounter:\n\n1. Replace deprecated SQLAlchemy ""with_lockmode"" method.\n   The method was deprecated in sqlalchemy 0.9 [1][2]\n   and finally removed in version 1.4.\n   This patch replaces ""with_lockmode"" with new method\n   ""with_for_update"", which has no end-user impact.\n\n2. The clause column IN, in the new version it requires parameters\n   passed to operator either be a list of literal value\n   or a tuple, or an empty list [3].\n\n3. Observe an argument error in \'update\' query.\n   Error: sqlalchemy.exc.ArgumentError: subject table for an INSERT,\n   UPDATE or DELETE expected, got Column(\'id\', Uuid(length=36),\n   table=<vnf_software_images>, primary_key=True, nullable=False,\n   default=ColumnDefault(<function generate_uuid at 0x7fb5be371d30>))\n\n4. The INSERT statement requires values to add in table as a list,\n   tuple or dictionary [4].\n   Error: sqlalchemy.exc.ArgumentError: mapping or sequence expected\n          for parameters\n   This patch creates a dictionary of fields to be insert in\n   VnfLcmOpOccs table.\n\n5. Query fails on applying filters.\n   When applying query to list vnf package or vnf instance using\n   apply_filters() method exported from sqlalchemy_filters,\n   it failed.\n   AttributeError: \'Query\' object has no attribute \'_join_entities\'\n\n   In SQLAlchemy 1.4 unification of ""query"" and ""select"" construct\n   took place [5][6].\n   The issue observe in tacker is an open bug of SQLAlchemy [7].\n   This patch drops ""sqlalchemy_filters"" and add customize method\n   to apply filters in query.\n\nThe tacker-functional-devstack-multinode-legacy test were failing due\nto aodh-client exception, added depend on the patch [8].\n\nNote: This patch address sqlalchemy errors, SAWarnings will be resolve\nin future patches.\n\n[1] https://docs.sqlalchemy.org/en/13/changelog/migration_09.html?highlight=with_lockmode#new-for-update-support-on-select-query\n[2] https://docs.sqlalchemy.org/en/13/orm/query.html#sqlalchemy.orm.query.Query.with_lockmode\n[3] https://docs.sqlalchemy.org/en/14/core/sqlelement.html#sqlalchemy.sql.expression.ColumnElement.in_\n[4] https://docs.sqlalchemy.org/en/14/core/dml.html#dml-class-documentation-constructors\n[5] https://github.com/sqlalchemy/sqlalchemy/issues/5159\n[6] https://gerrit.sqlalchemy.org/c/sqlalchemy/sqlalchemy/+/1599/\n[7] https://github.com/juliotrigo/sqlalchemy-filters/issues/61\n[8] https://review.opendev.org/c/openstack/aodh/+/799651\n\nCo-Authored-By: Ayumu Ueha <ueha.ayumu@fujitsu.com>\n\nDepends-On: https://review.opendev.org/c/openstack/aodh/+/799651\nChange-Id: Ifd1ae2753c639f22fc1afa020222416fe79469ef\n'}, {'number': 11, 'created': '2021-07-09 09:31:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/73f866467cbd149d3147ed841be309738c3824fd', 'message': 'Fix migration for SQLAlchemy 1.4\n\nThis patch fixes a database migration for SQLAlchemy 1.4.\n\nIn tacker repository following issues are encounter:\n\n1. Replace deprecated SQLAlchemy ""with_lockmode"" method.\n   The method was deprecated in SQLAlchemy 0.9 [1][2]\n   and finally removed in version 1.4.\n   This patch replaces ""with_lockmode"" with new method\n   ""with_for_update"", which has no end-user impact.\n\n2. The clause column IN, in the new version it requires parameters\n   passed to operator either be a list of literal value\n   or a tuple, or an empty list [3].\n\n3. Observe an argument error in \'update\' query.\n   Error: sqlalchemy.exc.ArgumentError: subject table for an INSERT,\n   UPDATE or DELETE expected, got Column(\'id\', Uuid(length=36),\n   table=<vnf_software_images>, primary_key=True, nullable=False,\n   default=ColumnDefault(<function generate_uuid at 0x7fb5be371d30>))\n\n4. The INSERT statement requires values to add in table as a list,\n   tuple or dictionary [4].\n   Error: sqlalchemy.exc.ArgumentError: mapping or sequence expected\n          for parameters\n   This patch creates a dictionary of fields to be insert in\n   VnfLcmOpOccs table.\n\n5. Query fails on applying filters.\n   When applying query to list vnf package or vnf instance using\n   apply_filters() method exported from sqlalchemy_filters,\n   it failed.\n   AttributeError: \'Query\' object has no attribute \'_join_entities\'\n\n   In SQLAlchemy 1.4 unification of ""query"" and ""select"" construct\n   took place [5][6].\n   The issue observe in tacker is an open bug of SQLAlchemy [7].\n   This patch drops ""sqlalchemy_filters"" and add customize method\n   to apply filters in query.\n\nThe tacker-functional-devstack-multinode-legacy and\ntacker-functional-devstack-multide-libs-master test were failing due\nto aodh-client exception, added depend on the patch [8].\n\nNote: This patch address sqlalchemy errors, SAWarnings will be resolve\nin future patches.\n\n[1] https://docs.sqlalchemy.org/en/13/changelog/migration_09.html?highlight=with_lockmode#new-for-update-support-on-select-query\n[2] https://docs.sqlalchemy.org/en/13/orm/query.html#sqlalchemy.orm.query.Query.with_lockmode\n[3] https://docs.sqlalchemy.org/en/14/core/sqlelement.html#sqlalchemy.sql.expression.ColumnElement.in_\n[4] https://docs.sqlalchemy.org/en/14/core/dml.html#dml-class-documentation-constructors\n[5] https://github.com/sqlalchemy/sqlalchemy/issues/5159\n[6] https://gerrit.sqlalchemy.org/c/sqlalchemy/sqlalchemy/+/1599/\n[7] https://github.com/juliotrigo/sqlalchemy-filters/issues/61\n[8] https://review.opendev.org/c/openstack/aodh/+/799651\n\nCo-Authored-By: Ayumu Ueha <ueha.ayumu@fujitsu.com>\n\nDepends-On: https://review.opendev.org/c/openstack/aodh/+/799651\nChange-Id: Ifd1ae2753c639f22fc1afa020222416fe79469ef\n'}, {'number': 12, 'created': '2021-07-09 11:34:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/8c795ef182f0e4f150f18cd9fd38591d95656de1', 'message': 'Fix migration for SQLAlchemy 1.4\n\nThis patch fixes a database migration for SQLAlchemy 1.4.\n\nIn tacker repository following issues are encounter:\n\n1. Replace deprecated SQLAlchemy ""with_lockmode"" method.\n   The method was deprecated in SQLAlchemy 0.9 [1][2]\n   and finally removed in version 1.4.\n   This patch replaces ""with_lockmode"" with new method\n   ""with_for_update"", which has no end-user impact.\n\n2. The clause column IN, in the new version it requires parameters\n   passed to operator either be a list of literal value\n   or a tuple, or an empty list [3].\n\n3. Observe an argument error in \'update\' query.\n   Error: sqlalchemy.exc.ArgumentError: subject table for an INSERT,\n   UPDATE or DELETE expected, got Column(\'id\', Uuid(length=36),\n   table=<vnf_software_images>, primary_key=True, nullable=False,\n   default=ColumnDefault(<function generate_uuid at 0x7fb5be371d30>))\n\n4. The INSERT statement requires values to add in table as a list,\n   tuple or dictionary [4].\n   Error: sqlalchemy.exc.ArgumentError: mapping or sequence expected\n          for parameters\n   This patch creates a dictionary of fields to be insert in\n   VnfLcmOpOccs table.\n\n5. Query fails on applying filters.\n   When applying query to list vnf package or vnf instance using\n   apply_filters() method exported from sqlalchemy_filters,\n   it failed.\n   AttributeError: \'Query\' object has no attribute \'_join_entities\'\n\n   In SQLAlchemy 1.4 unification of ""query"" and ""select"" construct\n   took place [5][6].\n   The issue observe in tacker is an open bug of SQLAlchemy [7].\n   This patch drops ""sqlalchemy_filters"" and add customize method\n   to apply filters in query.\n\nThe tacker-functional-devstack-multinode-legacy and\ntacker-functional-devstack-multide-libs-master test were failing due\nto aodh-client exception, added depend on the patch [8].\n\nNote: This patch address sqlalchemy errors, SAWarnings will be resolve\nin future patches.\n\n[1] https://docs.sqlalchemy.org/en/13/changelog/migration_09.html?highlight=with_lockmode#new-for-update-support-on-select-query\n[2] https://docs.sqlalchemy.org/en/13/orm/query.html#sqlalchemy.orm.query.Query.with_lockmode\n[3] https://docs.sqlalchemy.org/en/14/core/sqlelement.html#sqlalchemy.sql.expression.ColumnElement.in_\n[4] https://docs.sqlalchemy.org/en/14/core/dml.html#dml-class-documentation-constructors\n[5] https://github.com/sqlalchemy/sqlalchemy/issues/5159\n[6] https://gerrit.sqlalchemy.org/c/sqlalchemy/sqlalchemy/+/1599/\n[7] https://github.com/juliotrigo/sqlalchemy-filters/issues/61\n[8] https://review.opendev.org/c/openstack/aodh/+/799651\n\nCo-Authored-By: Ayumu Ueha <ueha.ayumu@fujitsu.com>\n\nDepends-On: https://review.opendev.org/c/openstack/aodh/+/799651\nChange-Id: Ifd1ae2753c639f22fc1afa020222416fe79469ef\n'}, {'number': 13, 'created': '2021-07-09 14:47:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/1ed425d0c0db578dfdcc899ad5d6d73627e58126', 'message': 'Fix migration for SQLAlchemy 1.4\n\nThis patch fixes a database migration for SQLAlchemy 1.4.\n\nIn tacker repository following issues are encounter:\n\n1. Replace deprecated SQLAlchemy ""with_lockmode"" method.\n   The method was deprecated in SQLAlchemy 0.9 [1][2]\n   and finally removed in version 1.4.\n   This patch replaces ""with_lockmode"" with new method\n   ""with_for_update"", which has no end-user impact.\n\n2. The clause column IN, in the new version it requires parameters\n   passed to operator either be a list of literal value\n   or a tuple, or an empty list [3].\n\n3. Observe an argument error in \'update\' query.\n   Error: sqlalchemy.exc.ArgumentError: subject table for an INSERT,\n   UPDATE or DELETE expected, got Column(\'id\', Uuid(length=36),\n   table=<vnf_software_images>, primary_key=True, nullable=False,\n   default=ColumnDefault(<function generate_uuid at 0x7fb5be371d30>))\n\n4. The INSERT statement requires values to add in table as a list,\n   tuple or dictionary [4].\n   Error: sqlalchemy.exc.ArgumentError: mapping or sequence expected\n          for parameters\n   This patch creates a dictionary of fields to be insert in\n   VnfLcmOpOccs table.\n\n5. Query fails on applying filters.\n   When applying query to list vnf package or vnf instance using\n   apply_filters() method exported from sqlalchemy_filters,\n   it failed.\n   AttributeError: \'Query\' object has no attribute \'_join_entities\'\n\n   In SQLAlchemy 1.4 unification of ""query"" and ""select"" construct\n   took place [5][6].\n   The issue observe in tacker is an open bug of SQLAlchemy [7].\n   This patch drops ""sqlalchemy_filters"" and add customize method\n   to apply filters in query.\n\nNote: This patch address sqlalchemy errors, SAWarnings will be resolve\nin future patches.\n\n[1] https://docs.sqlalchemy.org/en/13/changelog/migration_09.html?highlight=with_lockmode#new-for-update-support-on-select-query\n[2] https://docs.sqlalchemy.org/en/13/orm/query.html#sqlalchemy.orm.query.Query.with_lockmode\n[3] https://docs.sqlalchemy.org/en/14/core/sqlelement.html#sqlalchemy.sql.expression.ColumnElement.in_\n[4] https://docs.sqlalchemy.org/en/14/core/dml.html#dml-class-documentation-constructors\n[5] https://github.com/sqlalchemy/sqlalchemy/issues/5159\n[6] https://gerrit.sqlalchemy.org/c/sqlalchemy/sqlalchemy/+/1599/\n[7] https://github.com/juliotrigo/sqlalchemy-filters/issues/61\n\nCo-Authored-By: Ayumu Ueha <ueha.ayumu@fujitsu.com>\n\nChange-Id: Ifd1ae2753c639f22fc1afa020222416fe79469ef\n'}, {'number': 14, 'created': '2021-07-10 00:50:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/9acb1c66c5dd10e79bdf3da41734acc89fbaf98a', 'message': 'Fix migration for SQLAlchemy 1.4\n\nThis patch fixes a database migration for SQLAlchemy 1.4.\n\nIn tacker repository following issues are encounter:\n\n1. Replace deprecated SQLAlchemy ""with_lockmode"" method.\n   The method was deprecated in SQLAlchemy 0.9 [1][2]\n   and finally removed in version 1.4.\n   This patch replaces ""with_lockmode"" with new method\n   ""with_for_update"", which has no end-user impact.\n\n2. The clause column IN, in the new version it requires parameters\n   passed to operator either be a list of literal value\n   or a tuple, or an empty list [3].\n\n3. Observe an argument error in \'update\' query.\n   Error: sqlalchemy.exc.ArgumentError: subject table for an INSERT,\n   UPDATE or DELETE expected, got Column(\'id\', Uuid(length=36),\n   table=<vnf_software_images>, primary_key=True, nullable=False,\n   default=ColumnDefault(<function generate_uuid at 0x7fb5be371d30>))\n\n4. The INSERT statement requires values to add in table as a list,\n   tuple or dictionary [4].\n   Error: sqlalchemy.exc.ArgumentError: mapping or sequence expected\n          for parameters\n   This patch creates a dictionary of fields to be insert in\n   VnfLcmOpOccs table.\n\n5. Query fails on applying filters.\n   When applying query to list vnf package or vnf instance using\n   apply_filters() method exported from sqlalchemy_filters,\n   it failed.\n   AttributeError: \'Query\' object has no attribute \'_join_entities\'\n\n   In SQLAlchemy 1.4 unification of ""query"" and ""select"" construct\n   took place [5][6].\n   The issue observe in tacker is an open bug of SQLAlchemy [7].\n   This patch drops ""sqlalchemy_filters"" and add customize method\n   to apply filters in query.\n\nNote: This patch address sqlalchemy errors, SAWarnings will be resolve\nin future patches.\n\n[1] https://docs.sqlalchemy.org/en/13/changelog/migration_09.html?highlight=with_lockmode#new-for-update-support-on-select-query\n[2] https://docs.sqlalchemy.org/en/13/orm/query.html#sqlalchemy.orm.query.Query.with_lockmode\n[3] https://docs.sqlalchemy.org/en/14/core/sqlelement.html#sqlalchemy.sql.expression.ColumnElement.in_\n[4] https://docs.sqlalchemy.org/en/14/core/dml.html#dml-class-documentation-constructors\n[5] https://github.com/sqlalchemy/sqlalchemy/issues/5159\n[6] https://gerrit.sqlalchemy.org/c/sqlalchemy/sqlalchemy/+/1599/\n[7] https://github.com/juliotrigo/sqlalchemy-filters/issues/61\n\nCo-Authored-By: Ayumu Ueha <ueha.ayumu@fujitsu.com>\n\nChange-Id: Ifd1ae2753c639f22fc1afa020222416fe79469ef\n'}, {'number': 15, 'created': '2021-07-10 01:21:29.000000000', 'files': ['tacker/db/nfvo/vnffg_db.py', 'tacker/objects/vnf_lcm_subscriptions.py', 'tacker/objects/vnf_lcm_op_occs.py', 'tacker/objects/vnf_instance.py', 'lower-constraints.txt', 'requirements.txt', 'tacker/objects/common.py', 'tacker/db/nfvo/nfvo_db_plugin.py', 'tacker/db/nfvo/ns_db.py', 'tacker/db/db_base.py', 'tacker/db/vnfm/vnfm_db.py', 'tacker/objects/vnf_package.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/e0c09499a68bb21fbcd27200dba49de6de336291', 'message': 'Fix migration for SQLAlchemy 1.4\n\nThis patch fixes a database migration for SQLAlchemy 1.4.\n\nIn tacker repository following issues are encounter:\n\n1. Replace deprecated SQLAlchemy ""with_lockmode"" method.\n   The method was deprecated in SQLAlchemy 0.9 [1][2]\n   and finally removed in version 1.4.\n   This patch replaces ""with_lockmode"" with new method\n   ""with_for_update"", which has no end-user impact.\n\n2. The clause column IN, in the new version it requires parameters\n   passed to operator either be a list of literal value\n   or a tuple, or an empty list [3].\n\n3. Observe an argument error in \'update\' query.\n   Error: sqlalchemy.exc.ArgumentError: subject table for an INSERT,\n   UPDATE or DELETE expected, got Column(\'id\', Uuid(length=36),\n   table=<vnf_software_images>, primary_key=True, nullable=False,\n   default=ColumnDefault(<function generate_uuid at 0x7fb5be371d30>))\n\n4. The INSERT statement requires values to add in table as a list,\n   tuple or dictionary [4].\n   Error: sqlalchemy.exc.ArgumentError: mapping or sequence expected\n          for parameters\n   This patch creates a dictionary of fields to be insert in\n   VnfLcmOpOccs table.\n\n5. Query fails on applying filters.\n   When applying query to list vnf package or vnf instance using\n   apply_filters() method exported from sqlalchemy_filters,\n   it failed.\n   AttributeError: \'Query\' object has no attribute \'_join_entities\'\n\n   In SQLAlchemy 1.4 unification of ""query"" and ""select"" construct\n   took place [5][6].\n   The issue observe in tacker is an open bug of SQLAlchemy [7].\n   This patch drops ""sqlalchemy_filters"" and add customize method\n   to apply filters in query.\n\nNote: This patch address sqlalchemy errors, SAWarnings will be resolve\nin future patches.\n\n[1] https://docs.sqlalchemy.org/en/13/changelog/migration_09.html?highlight=with_lockmode#new-for-update-support-on-select-query\n[2] https://docs.sqlalchemy.org/en/13/orm/query.html#sqlalchemy.orm.query.Query.with_lockmode\n[3] https://docs.sqlalchemy.org/en/14/core/sqlelement.html#sqlalchemy.sql.expression.ColumnElement.in_\n[4] https://docs.sqlalchemy.org/en/14/core/dml.html#dml-class-documentation-constructors\n[5] https://github.com/sqlalchemy/sqlalchemy/issues/5159\n[6] https://gerrit.sqlalchemy.org/c/sqlalchemy/sqlalchemy/+/1599/\n[7] https://github.com/juliotrigo/sqlalchemy-filters/issues/61\n\nCo-Authored-By: Ayumu Ueha <ueha.ayumu@fujitsu.com>\n\nChange-Id: Ifd1ae2753c639f22fc1afa020222416fe79469ef\n'}]",23,796160,e0c09499a68bb21fbcd27200dba49de6de336291,72,7,15,32102,,,0,"Fix migration for SQLAlchemy 1.4

This patch fixes a database migration for SQLAlchemy 1.4.

In tacker repository following issues are encounter:

1. Replace deprecated SQLAlchemy ""with_lockmode"" method.
   The method was deprecated in SQLAlchemy 0.9 [1][2]
   and finally removed in version 1.4.
   This patch replaces ""with_lockmode"" with new method
   ""with_for_update"", which has no end-user impact.

2. The clause column IN, in the new version it requires parameters
   passed to operator either be a list of literal value
   or a tuple, or an empty list [3].

3. Observe an argument error in 'update' query.
   Error: sqlalchemy.exc.ArgumentError: subject table for an INSERT,
   UPDATE or DELETE expected, got Column('id', Uuid(length=36),
   table=<vnf_software_images>, primary_key=True, nullable=False,
   default=ColumnDefault(<function generate_uuid at 0x7fb5be371d30>))

4. The INSERT statement requires values to add in table as a list,
   tuple or dictionary [4].
   Error: sqlalchemy.exc.ArgumentError: mapping or sequence expected
          for parameters
   This patch creates a dictionary of fields to be insert in
   VnfLcmOpOccs table.

5. Query fails on applying filters.
   When applying query to list vnf package or vnf instance using
   apply_filters() method exported from sqlalchemy_filters,
   it failed.
   AttributeError: 'Query' object has no attribute '_join_entities'

   In SQLAlchemy 1.4 unification of ""query"" and ""select"" construct
   took place [5][6].
   The issue observe in tacker is an open bug of SQLAlchemy [7].
   This patch drops ""sqlalchemy_filters"" and add customize method
   to apply filters in query.

Note: This patch address sqlalchemy errors, SAWarnings will be resolve
in future patches.

[1] https://docs.sqlalchemy.org/en/13/changelog/migration_09.html?highlight=with_lockmode#new-for-update-support-on-select-query
[2] https://docs.sqlalchemy.org/en/13/orm/query.html#sqlalchemy.orm.query.Query.with_lockmode
[3] https://docs.sqlalchemy.org/en/14/core/sqlelement.html#sqlalchemy.sql.expression.ColumnElement.in_
[4] https://docs.sqlalchemy.org/en/14/core/dml.html#dml-class-documentation-constructors
[5] https://github.com/sqlalchemy/sqlalchemy/issues/5159
[6] https://gerrit.sqlalchemy.org/c/sqlalchemy/sqlalchemy/+/1599/
[7] https://github.com/juliotrigo/sqlalchemy-filters/issues/61

Co-Authored-By: Ayumu Ueha <ueha.ayumu@fujitsu.com>

Change-Id: Ifd1ae2753c639f22fc1afa020222416fe79469ef
",git fetch https://review.opendev.org/openstack/tacker refs/changes/60/796160/9 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/db/nfvo/vnffg_db.py', 'tacker/db/nfvo/nfvo_db_plugin.py', 'tacker/db/nfvo/ns_db.py', 'tacker/db/db_base.py', 'tacker/db/types.py', 'tacker/db/vnfm/vnfm_db.py', 'tacker/objects/vnf_package.py']",7,1692e8b2fcbcbf2618406942cf3efcfc50531cfb,migration-sqlalchemy14,," software_images_query.update(updated_values, synchronize_session=False) ",24,15
openstack%2Fkolla-ansible~master~I9cd289a1ea79f00cee4d2ef30cbb508ac73f9767,openstack/kolla-ansible,master,I9cd289a1ea79f00cee4d2ef30cbb508ac73f9767,Extend support for custom Grafana dashboards,MERGED,2021-04-13 15:53:06.000000000,2021-07-12 16:02:18.000000000,2021-07-12 16:00:47.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23084}, {'_account_id': 24072}, {'_account_id': 30491}, {'_account_id': 32657}]","[{'number': 1, 'created': '2021-04-13 15:53:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/981ca24b7d16ec6d7ee8889b1a6720104e90129a', 'message': 'Extend support for custom Grafana dashboards\n\nThe current behaviour is to support supplying a single\nfolder of Grafana dashboards which can then be populated\ninto a single folder in Grafana. Some users may wish\nto have sub-folders of Dashboards, and load these into\nseparate dashboard folders in Grafana via a custom\nprovisioning file. For example, a user may have a\nsub-folder of Ceph dashboards that they wish to keep\nseparate from OpenStack dashboards. This patch supports\nsub-folders whilst not affecting the original mechanism.\n\nTrivial-Fix\n\nChange-Id: I9cd289a1ea79f00cee4d2ef30cbb508ac73f9767\n'}, {'number': 2, 'created': '2021-04-19 10:11:58.000000000', 'files': ['ansible/roles/grafana/tasks/config.yml', 'doc/source/reference/logging-and-monitoring/grafana-guide.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d01192c1601cb037e7869afd33e4649eb4447032', 'message': 'Extend support for custom Grafana dashboards\n\nThe current behaviour is to support supplying a single\nfolder of Grafana dashboards which can then be populated\ninto a single folder in Grafana. Some users may wish\nto have sub-folders of Dashboards, and load these into\nseparate dashboard folders in Grafana via a custom\nprovisioning file. For example, a user may have a\nsub-folder of Ceph dashboards that they wish to keep\nseparate from OpenStack dashboards. This patch supports\nsub-folders whilst not affecting the original mechanism.\n\nTrivial-Fix\n\nChange-Id: I9cd289a1ea79f00cee4d2ef30cbb508ac73f9767\n'}]",1,786071,d01192c1601cb037e7869afd33e4649eb4447032,23,6,2,17669,,,0,"Extend support for custom Grafana dashboards

The current behaviour is to support supplying a single
folder of Grafana dashboards which can then be populated
into a single folder in Grafana. Some users may wish
to have sub-folders of Dashboards, and load these into
separate dashboard folders in Grafana via a custom
provisioning file. For example, a user may have a
sub-folder of Ceph dashboards that they wish to keep
separate from OpenStack dashboards. This patch supports
sub-folders whilst not affecting the original mechanism.

Trivial-Fix

Change-Id: I9cd289a1ea79f00cee4d2ef30cbb508ac73f9767
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/71/786071/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/grafana/tasks/config.yml', 'doc/source/reference/logging-and-monitoring/grafana-guide.rst']",2,981ca24b7d16ec6d7ee8889b1a6720104e90129a,,Dashboard JSON files should be placed into the ``{{ node_custom_config }}/grafana/dashboards/`` folder. The use of sub-folders if also supported when using a custom ``provisioning.yaml`` file. Dashboards will be imported into the Grafana dashboards 'General' folder by default.,Dashboard's JSON files should be placed into ``{{ node_custom_config }}/grafana/dashboards/`` folder. Dashboards will be imported to Grafana dashboards General Folder.,7,21
openstack%2Fpuppet-openstack-guide~master~I9103f7e7af0137dda22e5a4f121d6f4524c440ec,openstack/puppet-openstack-guide,master,I9103f7e7af0137dda22e5a4f121d6f4524c440ec,Remove remaining reference to puppet-glare,MERGED,2021-07-12 08:01:45.000000000,2021-07-12 16:01:37.000000000,2021-07-12 16:00:20.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-12 08:01:45.000000000', 'files': ['doc/source/contributor/module-list.rst'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/c6fcc7f734cb51073658c547a5eb55743a9523e0', 'message': 'Remove remaining reference to puppet-glare\n\n... because it was already retired.\n\nChange-Id: I9103f7e7af0137dda22e5a4f121d6f4524c440ec\n'}]",0,800433,c6fcc7f734cb51073658c547a5eb55743a9523e0,8,3,1,9816,,,0,"Remove remaining reference to puppet-glare

... because it was already retired.

Change-Id: I9103f7e7af0137dda22e5a4f121d6f4524c440ec
",git fetch https://review.opendev.org/openstack/puppet-openstack-guide refs/changes/33/800433/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/module-list.rst'],1,c6fcc7f734cb51073658c547a5eb55743a9523e0,,,* `GLare Artifact Repository <http://opendev.org/openstack/puppet-glare/>`_ (*Glare*),0,1
openstack%2Frequirements~stable%2Fussuri~I75f38cab25ad5f82b25eff2c61cbc243a37c8301,openstack/requirements,stable/ussuri,I75f38cab25ad5f82b25eff2c61cbc243a37c8301,update constraint for neutron to new release 16.4.0,MERGED,2021-07-12 10:12:56.000000000,2021-07-12 16:00:31.000000000,2021-07-12 16:00:31.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-12 10:12:56.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ffcb1e579159f9f10fe974a3d0968eae41817fd0', 'message': 'update constraint for neutron to new release 16.4.0\n\nmeta: version: 16.4.0\nmeta: diff-start: -\nmeta: series: ussuri\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Corey Bryant <corey.bryant@canonical.com>\nmeta: release:Commit: Corey Bryant <corey.bryant@canonical.com>\nmeta: release:Change-Id: If6a766c42389a20fd71a768cfc9c718e75265020\nmeta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>\nmeta: release:Code-Review+1: Bernard Cafarelli <bcafarel@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I75f38cab25ad5f82b25eff2c61cbc243a37c8301\n'}]",0,800448,ffcb1e579159f9f10fe974a3d0968eae41817fd0,7,3,1,11131,,,0,"update constraint for neutron to new release 16.4.0

meta: version: 16.4.0
meta: diff-start: -
meta: series: ussuri
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Corey Bryant <corey.bryant@canonical.com>
meta: release:Commit: Corey Bryant <corey.bryant@canonical.com>
meta: release:Change-Id: If6a766c42389a20fd71a768cfc9c718e75265020
meta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>
meta: release:Code-Review+1: Bernard Cafarelli <bcafarel@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I75f38cab25ad5f82b25eff2c61cbc243a37c8301
",git fetch https://review.opendev.org/openstack/requirements refs/changes/48/800448/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,ffcb1e579159f9f10fe974a3d0968eae41817fd0,new-release,neutron===16.4.0,neutron===16.3.2,1,1
openstack%2Frequirements~stable%2Fvictoria~I0ec1a4d3278f0159c3f3e80d9df3eb5c23749b2c,openstack/requirements,stable/victoria,I0ec1a4d3278f0159c3f3e80d9df3eb5c23749b2c,update constraint for neutron to new release 17.2.0,MERGED,2021-07-12 10:11:41.000000000,2021-07-12 15:56:24.000000000,2021-07-12 15:56:24.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-12 10:11:41.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/778cab7de2e8495b7c169c166e120964f2c2b5f2', 'message': 'update constraint for neutron to new release 17.2.0\n\nmeta: version: 17.2.0\nmeta: diff-start: -\nmeta: series: victoria\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Corey Bryant <corey.bryant@canonical.com>\nmeta: release:Commit: Corey Bryant <corey.bryant@canonical.com>\nmeta: release:Change-Id: If6a766c42389a20fd71a768cfc9c718e75265020\nmeta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>\nmeta: release:Code-Review+1: Bernard Cafarelli <bcafarel@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I0ec1a4d3278f0159c3f3e80d9df3eb5c23749b2c\n'}]",0,800447,778cab7de2e8495b7c169c166e120964f2c2b5f2,8,3,1,11131,,,0,"update constraint for neutron to new release 17.2.0

meta: version: 17.2.0
meta: diff-start: -
meta: series: victoria
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Corey Bryant <corey.bryant@canonical.com>
meta: release:Commit: Corey Bryant <corey.bryant@canonical.com>
meta: release:Change-Id: If6a766c42389a20fd71a768cfc9c718e75265020
meta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>
meta: release:Code-Review+1: Bernard Cafarelli <bcafarel@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I0ec1a4d3278f0159c3f3e80d9df3eb5c23749b2c
",git fetch https://review.opendev.org/openstack/requirements refs/changes/47/800447/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,778cab7de2e8495b7c169c166e120964f2c2b5f2,new-release,neutron===17.2.0,neutron===17.1.2,1,1
openstack%2Ftripleo-validations~master~Ia3641f8b840e4d5e82fe47242609c1d1e997fa1b,openstack/tripleo-validations,master,Ia3641f8b840e4d5e82fe47242609c1d1e997fa1b,molecule-requirements constraints,ABANDONED,2021-07-08 11:01:05.000000000,2021-07-12 15:43:53.000000000,,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27419}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-07-08 11:01:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/e042917a914d2e732a98b6c7843ac26264aeed27', 'message': 'molecule-requirements constraints\n\nBy placing further constraints on the versions of the\nrequested packages, we can minimize the time used by\nthe pip resolver mechanism. [1]\n\n[1](https://github.com/pypa/pip/issues/9215)\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ia3641f8b840e4d5e82fe47242609c1d1e997fa1b\n'}, {'number': 2, 'created': '2021-07-08 11:04:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/56878a857106eb5555bd0e38452151e48575c2e9', 'message': 'molecule-requirements constraints\n\nBy placing further constraints on the versions of the\nrequested packages, we can minimize the time used by\nthe pip resolver mechanism. [1]\n\n[1](https://github.com/pypa/pip/issues/9215)\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ia3641f8b840e4d5e82fe47242609c1d1e997fa1b\n'}, {'number': 3, 'created': '2021-07-08 13:47:04.000000000', 'files': ['molecule-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f59e7d0d6d2897d9e37ce0a075130a2e103d1883', 'message': 'molecule-requirements constraints\n\nBy placing further constraints on the versions of the\nrequested packages, we can minimize the time used by\nthe pip resolver mechanism. [1]\n\n[1](https://github.com/pypa/pip/issues/9215)\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ia3641f8b840e4d5e82fe47242609c1d1e997fa1b\n'}]",3,800013,f59e7d0d6d2897d9e37ce0a075130a2e103d1883,9,7,3,32926,,,0,"molecule-requirements constraints

By placing further constraints on the versions of the
requested packages, we can minimize the time used by
the pip resolver mechanism. [1]

[1](https://github.com/pypa/pip/issues/9215)

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ia3641f8b840e4d5e82fe47242609c1d1e997fa1b
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/13/800013/1 && git format-patch -1 --stdout FETCH_HEAD,['molecule-requirements.txt'],1,e042917a914d2e732a98b6c7843ac26264aeed27,,ansi2html>=1.6.0 # LGPLv3+molecule-podman>-0.3.0 # MIT pytest>=6.2.0 # MIT pytest-cov>=2.12.0 # MIT pytest-html>=3.1.0 # Mozilla Public License 2.0 pytest-xdist>=2.3.0 # MIT selinux>=0.2.0 # MIT lxml>=4.6.3 # BSD,ansi2html # LGPLv3+molecule-podman # MIT pytest # MIT pytest-cov # MIT pytest-html # Mozilla Public License 2.0 pytest-xdist # MIT selinux # MIT lxml # BSD,8,8
openstack%2Fkolla~stable%2Ftrain~Id853f60869907c58e3ffd92cc27633ecf1fa1cd1,openstack/kolla,stable/train,Id853f60869907c58e3ffd92cc27633ecf1fa1cd1,Bump prometheus elasticsearch exporter version.,ABANDONED,2021-07-08 10:02:22.000000000,2021-07-12 15:23:48.000000000,,"[{'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2021-07-08 10:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1a2525c09db31c961eb23e797e6bd5a2989917ed', 'message': 'Bump prometheus elasticsearch exporter version.\n  * Fix few metrics.\n  * Introduce posix based cli flags.\n\nChange-Id: Id853f60869907c58e3ffd92cc27633ecf1fa1cd1\nCloses-bug: #1935015\n'}, {'number': 2, 'created': '2021-07-08 13:42:41.000000000', 'files': ['docker/prometheus/prometheus-elasticsearch-exporter/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/7d3d02ddd06850e3ba582aa8b8f943f626cad83e', 'message': 'Bump prometheus elasticsearch exporter version.\n\n  * Fix few metrics.\n  * Introduce posix based cli flags.\n\nChange-Id: Id853f60869907c58e3ffd92cc27633ecf1fa1cd1\nCloses-bug: #1935015\n'}]",4,800002,7d3d02ddd06850e3ba582aa8b8f943f626cad83e,15,2,2,32398,,,0,"Bump prometheus elasticsearch exporter version.

  * Fix few metrics.
  * Introduce posix based cli flags.

Change-Id: Id853f60869907c58e3ffd92cc27633ecf1fa1cd1
Closes-bug: #1935015
",git fetch https://review.opendev.org/openstack/kolla refs/changes/02/800002/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/prometheus/prometheus-elasticsearch-exporter/Dockerfile.j2'],1,1a2525c09db31c961eb23e797e6bd5a2989917ed,,ENV elasticsearch_exporter_version=1.2.0,ENV elasticsearch_exporter_version=1.0.2,1,1
openstack%2Fkolla~master~Id853f60869907c58e3ffd92cc27633ecf1fa1cd1,openstack/kolla,master,Id853f60869907c58e3ffd92cc27633ecf1fa1cd1,Bump prometheus elasticsearch exporter to 1.2.1,ABANDONED,2021-07-12 14:54:02.000000000,2021-07-12 15:23:27.000000000,,[{'_account_id': 17669}],"[{'number': 1, 'created': '2021-07-12 14:54:02.000000000', 'files': ['docker/prometheus/prometheus-elasticsearch-exporter/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/00703df859e26b7ebaa8ea96ba0615227a87a735', 'message': 'Bump prometheus elasticsearch exporter to 1.2.1\n\n* Fix few metrics.\n* Introduce posix based cli flags.\n\nCloses-bug: #1935015\n\nChange-Id: Id853f60869907c58e3ffd92cc27633ecf1fa1cd1\n'}]",1,800491,00703df859e26b7ebaa8ea96ba0615227a87a735,3,1,1,24072,,,0,"Bump prometheus elasticsearch exporter to 1.2.1

* Fix few metrics.
* Introduce posix based cli flags.

Closes-bug: #1935015

Change-Id: Id853f60869907c58e3ffd92cc27633ecf1fa1cd1
",git fetch https://review.opendev.org/openstack/kolla refs/changes/91/800491/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/prometheus/prometheus-elasticsearch-exporter/Dockerfile.j2'],1,00703df859e26b7ebaa8ea96ba0615227a87a735,,ENV elasticsearch_exporter_version=1.2.1RUN curl -o /tmp/elasticsearch_exporter.tar.gz https://github.com/prometheus-community/elasticsearch_exporter/releases/download/v${elasticsearch_exporter_version}/elasticsearch_exporter-${elasticsearch_exporter_version}.linux-{{debian_arch}}.tar.gz \,ENV elasticsearch_exporter_version=1.1.0RUN curl -o /tmp/elasticsearch_exporter.tar.gz https://github.com/justwatchcom/elasticsearch_exporter/releases/download/v${elasticsearch_exporter_version}/elasticsearch_exporter-${elasticsearch_exporter_version}.linux-{{debian_arch}}.tar.gz \,2,2
openstack%2Fcharm-placement~stable%2F21.04~Id2725031ef44ce26ec49696fb4b4aa749eabcafc,openstack/charm-placement,stable/21.04,Id2725031ef44ce26ec49696fb4b4aa749eabcafc,rebuild - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:26:19.000000000,2021-07-12 15:17:04.000000000,2021-07-12 15:17:04.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:26:19.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/17665f2ba80d7c65d6c29f5f6d3db2f78e413d8e', 'message': 'rebuild - restore proxy env vars for add-apt-repository\n\nChange-Id: Id2725031ef44ce26ec49696fb4b4aa749eabcafc\n'}]",0,799312,17665f2ba80d7c65d6c29f5f6d3db2f78e413d8e,12,4,1,11805,,,0,"rebuild - restore proxy env vars for add-apt-repository

Change-Id: Id2725031ef44ce26ec49696fb4b4aa749eabcafc
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/12/799312/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,17665f2ba80d7c65d6c29f5f6d3db2f78e413d8e,batch-update,8ef232d0-db58-11eb-a2e1-5f4c477d4034,bed1030a-64d9-11eb-92ff-17f792394591,1,1
openstack%2Fcloudkitty-tempest-plugin~master~I8a5dbb8b2614119d19c37ef197db3809d2d5a50d,openstack/cloudkitty-tempest-plugin,master,I8a5dbb8b2614119d19c37ef197db3809d2d5a50d,[ussuri][goal] Update contributor documentation,MERGED,2021-05-13 21:02:14.000000000,2021-07-12 15:12:54.000000000,2021-07-12 15:12:54.000000000,"[{'_account_id': 8556}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28356}]","[{'number': 1, 'created': '2021-05-13 21:02:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-tempest-plugin/commit/056b61b8c37427438d8acc2abbe797fe681ae742', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38517\nChange-Id: I8a5dbb8b2614119d19c37ef197db3809d2d5a50d\n'}, {'number': 2, 'created': '2021-05-13 21:10:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-tempest-plugin/commit/08a8b4aa74c08ff7334995b5eba5fb2c22c56ea3', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38517\nChange-Id: I8a5dbb8b2614119d19c37ef197db3809d2d5a50d\n'}, {'number': 3, 'created': '2021-05-14 16:50:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-tempest-plugin/commit/1dd712ad4e3abb07ce20c84780a44c7cfe89a641', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38517\nChange-Id: I8a5dbb8b2614119d19c37ef197db3809d2d5a50d\n'}, {'number': 4, 'created': '2021-05-31 20:36:25.000000000', 'files': ['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/cloudkitty-tempest-plugin/commit/984fd8f624f76d0bd807510d755cd633075c2ed1', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38517\nChange-Id: I8a5dbb8b2614119d19c37ef197db3809d2d5a50d\n'}]",0,791318,984fd8f624f76d0bd807510d755cd633075c2ed1,14,4,4,8556,,,0,"[ussuri][goal] Update contributor documentation

This patch updates/adds the contributor documentation to follow
the guidelines of the Ussuri cycle community goal[1].

[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html

Story: #2007236
Task: #38517
Change-Id: I8a5dbb8b2614119d19c37ef197db3809d2d5a50d
",git fetch https://review.opendev.org/openstack/cloudkitty-tempest-plugin refs/changes/18/791318/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst']",2,056b61b8c37427438d8acc2abbe797fe681ae742,project-ptl-and-contrib-docs,"The source repository for this project can be found at: https://opendev.org/openstack/cloudkitty-tempest-plugin Pull requests submitted through GitHub are not monitored. To start contributing to OpenStack, follow the steps in the contribution guide to set up and use Gerrit: https://docs.openstack.org/contributors/code-and-documentation/quick-start.html Bugs should be filed on Storyboard: https://storyboard.openstack.org/#!/project/914 For more specific information about contributing to this repository, see the cloudkitty-tempest-plugin contributor guide: https://docs.openstack.org/cloudkitty-tempest-plugin/latest/contributor/contributing.html","If you would like to contribute to the development of OpenStack, you must follow the steps in this page: https://docs.openstack.org/infra/manual/developers.html If you already have a good understanding of how the system works and your OpenStack accounts are set up, you can skip to the development workflow section of this documentation to learn how changes to OpenStack should be submitted for review via the Gerrit tool: https://docs.openstack.org/infra/manual/developers.html#development-workflow Pull requests submitted through GitHub will be ignored. Bugs should be filed on Storyboard, not GitHub: https://storyboard.openstack.org/#!/project/890",61,11
openstack%2Fcloudkitty-tempest-plugin~master~I378644df79feae8f90b4eba60bb979f5c9fbc60a,openstack/cloudkitty-tempest-plugin,master,I378644df79feae8f90b4eba60bb979f5c9fbc60a,Use TOX_CONSTRAINTS_FILE,MERGED,2021-05-20 02:52:17.000000000,2021-07-12 15:12:40.000000000,2021-07-12 15:12:40.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28356}]","[{'number': 1, 'created': '2021-05-20 02:52:17.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cloudkitty-tempest-plugin/commit/018a0cdba7b7f342f65745477a1722f6acd19942', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\nThis allows to use upper-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: I378644df79feae8f90b4eba60bb979f5c9fbc60a\n'}]",0,792313,018a0cdba7b7f342f65745477a1722f6acd19942,7,3,1,32238,,,0,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: I378644df79feae8f90b4eba60bb979f5c9fbc60a
",git fetch https://review.opendev.org/openstack/cloudkitty-tempest-plugin refs/changes/13/792313/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,018a0cdba7b7f342f65745477a1722f6acd19942,,install_command = pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},1,1
openstack%2Fcloudkitty-tempest-plugin~master~I47bfd89850444ba894f54d373658bea2a1573ac0,openstack/cloudkitty-tempest-plugin,master,I47bfd89850444ba894f54d373658bea2a1573ac0,setup.cfg: Replace dashes with underscores,MERGED,2021-05-13 12:02:01.000000000,2021-07-12 15:12:35.000000000,2021-07-12 15:12:35.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28356}, {'_account_id': 33546}]","[{'number': 1, 'created': '2021-05-13 12:02:01.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/cloudkitty-tempest-plugin/commit/1c4e7b43efaea4d005a236e58fcea4fb6bc69d23', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I47bfd89850444ba894f54d373658bea2a1573ac0\n""}]",0,791138,1c4e7b43efaea4d005a236e58fcea4fb6bc69d23,8,4,1,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I47bfd89850444ba894f54d373658bea2a1573ac0
",git fetch https://review.opendev.org/openstack/cloudkitty-tempest-plugin refs/changes/38/791138/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,1c4e7b43efaea4d005a236e58fcea4fb6bc69d23,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://opendev.org/openstack/cloudkitty-tempest-plugin,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://opendev.org/openstack/cloudkitty-tempest-plugin,3,3
openstack%2Fcinder~master~I05032e1be306fec3dc75e9e5a38c98f0f97fe9d6,openstack/cinder,master,I05032e1be306fec3dc75e9e5a38c98f0f97fe9d6,"Revert ""Make py3 default tox target flexible""",ABANDONED,2021-06-03 18:03:41.000000000,2021-07-12 14:58:15.000000000,,"[{'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 18:03:41.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/bb46cd411375fe139576526cac8c1401ca570a6f', 'message': 'Revert ""Make py3 default tox target flexible""\n\nThis reverts commit 07999e82faebec6a17fd16e34499b5469c31a042.\n\nThis doesn\'t work in a predictable way across distributions\nand versions of Python.\n\nOn Fedora 34, ""tox -e py3"" runs under Python 3.9, which\nisn\'t officially supported by Cinder, so we shouldn\'t use it\nas the default target.\n\nChange-Id: I05032e1be306fec3dc75e9e5a38c98f0f97fe9d6\n'}]",2,794661,bb46cd411375fe139576526cac8c1401ca570a6f,17,2,1,4523,,,0,"Revert ""Make py3 default tox target flexible""

This reverts commit 07999e82faebec6a17fd16e34499b5469c31a042.

This doesn't work in a predictable way across distributions
and versions of Python.

On Fedora 34, ""tox -e py3"" runs under Python 3.9, which
isn't officially supported by Cinder, so we shouldn't use it
as the default target.

Change-Id: I05032e1be306fec3dc75e9e5a38c98f0f97fe9d6
",git fetch https://review.opendev.org/openstack/cinder refs/changes/61/794661/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,bb46cd411375fe139576526cac8c1401ca570a6f,,"skip_missing_interpreters = trueenvlist = py38,py36,compliance,pep8","envlist = py3,compliance,pep8",2,1
openstack%2Fopenstack-ansible-os_keystone~stable%2Fvictoria~I8a1d7e8d31b43b70de062d5bbf2f648c71014af0,openstack/openstack-ansible-os_keystone,stable/victoria,I8a1d7e8d31b43b70de062d5bbf2f648c71014af0,Fix typo in keystone-httpd template,MERGED,2021-07-06 12:58:22.000000000,2021-07-12 14:57:19.000000000,2021-07-12 14:55:03.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-07-06 12:58:22.000000000', 'files': ['templates/keystone-httpd.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/bb03f36108a6b92de9d6eaef27583ebc10457f83', 'message': 'Fix typo in keystone-httpd template\n\nFor backwards compatiblity I have left in the original incorrect spelling,\nthis patch should be backported.\n\nChange-Id: I8a1d7e8d31b43b70de062d5bbf2f648c71014af0\n(cherry picked from commit 9c4f9ef4f1488de738625b34fc97dfc5cfe3a98f)\n'}]",0,799587,bb03f36108a6b92de9d6eaef27583ebc10457f83,8,3,1,29865,,,0,"Fix typo in keystone-httpd template

For backwards compatiblity I have left in the original incorrect spelling,
this patch should be backported.

Change-Id: I8a1d7e8d31b43b70de062d5bbf2f648c71014af0
(cherry picked from commit 9c4f9ef4f1488de738625b34fc97dfc5cfe3a98f)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/87/799587/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/keystone-httpd.conf.j2'],1,bb03f36108a6b92de9d6eaef27583ebc10457f83,," OIDCScope ""{{ keystone_sp.trusted_idp_list.0.idc_scope | default(keystone_sp.trusted_idp_list.0.oidc_scope | default('openid email profile')) }}"""," OIDCScope ""{{ keystone_sp.trusted_idp_list.0.idc_scope | default('openid email profile') }}""",1,1
openstack%2Fopenstack-ansible-os_keystone~stable%2Fussuri~I8a1d7e8d31b43b70de062d5bbf2f648c71014af0,openstack/openstack-ansible-os_keystone,stable/ussuri,I8a1d7e8d31b43b70de062d5bbf2f648c71014af0,Fix typo in keystone-httpd template,MERGED,2021-07-06 12:58:41.000000000,2021-07-12 14:56:53.000000000,2021-07-12 14:55:23.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-07-06 12:58:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/17eca0341380194744930f5cb262daad0bbc81b7', 'message': 'Fix typo in keystone-httpd template\n\nFor backwards compatiblity I have left in the original incorrect spelling,\nthis patch should be backported.\n\nChange-Id: I8a1d7e8d31b43b70de062d5bbf2f648c71014af0\n(cherry picked from commit 9c4f9ef4f1488de738625b34fc97dfc5cfe3a98f)\n'}, {'number': 2, 'created': '2021-07-07 14:54:32.000000000', 'files': ['templates/keystone-httpd.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/be97806eff60725216aa86197748fdfc988e306d', 'message': 'Fix typo in keystone-httpd template\n\nFor backwards compatiblity I have left in the original incorrect spelling,\nthis patch should be backported.\n\nDepends-On: Ic102ed66d27acacbf470dbcb83c0877194702ea4\nChange-Id: I8a1d7e8d31b43b70de062d5bbf2f648c71014af0\n(cherry picked from commit 9c4f9ef4f1488de738625b34fc97dfc5cfe3a98f)\n'}]",0,799588,be97806eff60725216aa86197748fdfc988e306d,10,3,2,29865,,,0,"Fix typo in keystone-httpd template

For backwards compatiblity I have left in the original incorrect spelling,
this patch should be backported.

Depends-On: Ic102ed66d27acacbf470dbcb83c0877194702ea4
Change-Id: I8a1d7e8d31b43b70de062d5bbf2f648c71014af0
(cherry picked from commit 9c4f9ef4f1488de738625b34fc97dfc5cfe3a98f)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/88/799588/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/keystone-httpd.conf.j2'],1,17eca0341380194744930f5cb262daad0bbc81b7,," OIDCScope ""{{ keystone_sp.trusted_idp_list.0.idc_scope | default(keystone_sp.trusted_idp_list.0.oidc_scope | default('openid email profile')) }}"""," OIDCScope ""{{ keystone_sp.trusted_idp_list.0.idc_scope | default('openid email profile') }}""",1,1
openstack%2Fcloudkitty-dashboard~master~I9ff4436aef9e7a185cbae067323e344465e222cc,openstack/cloudkitty-dashboard,master,I9ff4436aef9e7a185cbae067323e344465e222cc,Moving IRC network reference to OFTC,MERGED,2021-07-08 13:08:34.000000000,2021-07-12 14:37:43.000000000,2021-07-12 14:36:16.000000000,"[{'_account_id': 7198}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28356}, {'_account_id': 33546}]","[{'number': 1, 'created': '2021-07-08 13:08:34.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/2a0ec4732542a98a82e71f948a2f2d377f00f1c2', 'message': 'Moving IRC network reference to OFTC\n\nChange-Id: I9ff4436aef9e7a185cbae067323e344465e222cc\n'}]",0,800034,2a0ec4732542a98a82e71f948a2f2d377f00f1c2,10,5,1,8556,,,0,"Moving IRC network reference to OFTC

Change-Id: I9ff4436aef9e7a185cbae067323e344465e222cc
",git fetch https://review.opendev.org/openstack/cloudkitty-dashboard refs/changes/34/800034/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,2a0ec4732542a98a82e71f948a2f2d377f00f1c2,oftc,"You can reach us through IRC (#cloudkitty @oftc.net), or on the official","You can reach us through IRC (#cloudkitty @freenode.net), or on the official",1,1
openstack%2Fcloudkitty-specs~master~I2d4c19cf44897668697cbfd6efc6d56b3a38d83f,openstack/cloudkitty-specs,master,I2d4c19cf44897668697cbfd6efc6d56b3a38d83f,setup.cfg: Replace dashes with underscores,MERGED,2021-05-13 12:00:16.000000000,2021-07-12 14:35:36.000000000,2021-07-12 14:34:19.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28356}, {'_account_id': 33546}]","[{'number': 1, 'created': '2021-05-13 12:00:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/4791524cedc7e533922cb9a4762cb8443bd0398b', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I2d4c19cf44897668697cbfd6efc6d56b3a38d83f\n""}, {'number': 2, 'created': '2021-05-16 20:51:06.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/2f2ea5d4b12d89a72a81eff69ed8b7202b1bbbef', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I2d4c19cf44897668697cbfd6efc6d56b3a38d83f\n""}]",0,791137,2f2ea5d4b12d89a72a81eff69ed8b7202b1bbbef,19,4,2,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I2d4c19cf44897668697cbfd6efc6d56b3a38d83f
",git fetch https://review.opendev.org/openstack/cloudkitty-specs refs/changes/37/791137/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,4791524cedc7e533922cb9a4762cb8443bd0398b,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = http://www.openstack.org/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = http://www.openstack.org/,3,3
openstack%2Fnova-specs~master~I54af69453f396a3577503015cd7da7c958d4507a,openstack/nova-specs,master,I54af69453f396a3577503015cd7da7c958d4507a,Store and allow libvirt instance device buses and models to be updated,MERGED,2021-07-07 12:48:31.000000000,2021-07-12 14:18:51.000000000,2021-07-12 14:17:13.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-07 12:48:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/85ca28962007b54e4027bc34681eed28a2064531', 'message': 'Store and allow libvirt instance device buses and models to be updated\n\nChange-Id: I54af69453f396a3577503015cd7da7c958d4507a\nBlueprint: libvirt-device-bus-model-update\n'}, {'number': 2, 'created': '2021-07-07 17:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/9ff1e894b0a92860257011c9ddc058161a349d1f', 'message': 'Store and allow libvirt instance device buses and models to be updated\n\nThis spec aims to outline a basic set of nova-manage commands to allow\noperators to move instances between specific device bus and model types\nwithout requiring a rebuild.\n\nChange-Id: I54af69453f396a3577503015cd7da7c958d4507a\nBlueprint: libvirt-device-bus-model-update\n'}, {'number': 3, 'created': '2021-07-12 12:27:08.000000000', 'files': ['specs/xena/approved/nova-manage-commands-to-update-libvirt-device-models.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/e7fbd7eb3179ac0e7b67640ab1e9ad619e6c70b2', 'message': 'Store and allow libvirt instance device buses and models to be updated\n\nThis spec aims to outline a basic set of nova-manage commands to allow\noperators to move instances between specific device bus and model types\nwithout requiring a rebuild.\n\nChange-Id: I54af69453f396a3577503015cd7da7c958d4507a\nBlueprint: libvirt-device-bus-model-update\n'}]",45,799811,e7fbd7eb3179ac0e7b67640ab1e9ad619e6c70b2,22,5,3,10135,,,0,"Store and allow libvirt instance device buses and models to be updated

This spec aims to outline a basic set of nova-manage commands to allow
operators to move instances between specific device bus and model types
without requiring a rebuild.

Change-Id: I54af69453f396a3577503015cd7da7c958d4507a
Blueprint: libvirt-device-bus-model-update
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/11/799811/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/xena/approved/nova-manage-commands-to-update-libvirt-device-models.rst'],1,85ca28962007b54e4027bc34681eed28a2064531,specs/xena/approved/nova-manage-commands-to-move-between-device-models,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ====================================================================== Store and allow libvirt instance device buses and models to be updated ====================================================================== https://blueprints.launchpad.net/nova/+spec/libvirt-device-bus-model-update QEMU support for device buses and models can come and go dependent on the underlying instance machine type *and* QEMU version used within an environment. The defaults provided by libosinfo and currently hardcoded in to the libvirt driver are also not persisted by each instance at present. This spec aims to outline a basic set of nova-manage commands to allow operators to move instances between specific device bus and model types without requiring a rebuild. Problem description =================== At present device bus and model types defined as image properties associated with an instance are always used when launching instances with the libvirt driver. When these types are not defined as image properties their values either come from libosinfo or those directly hardcoded into the libvirt driver. Support for each device bus and model is dependent on the machine type used *and* version of QEMU available on the underlying compute host. As such any changes to the machine type of an instance or version of QEMU on a host might suddenly invalidate the now stashed device bus or model image properties with no way of updating outside of a complete instance rebuild against a new image defining new image properties. Additionally any changes to the defaults provided by libosinfo or the libvirt driver could result in unforeseen changes to existing instances. This has been encountered in the past as libosinfo assumes that libvirt domain definitions are static when OpenStack Nova specifically rewrites and redefines these domains during a hard reboot or migration allowing changes to possibly occur. Use Cases --------- * As a user I want the device buses and models used by my instance to remain stable for as long as possible and not be changed by new defaults in libosinfo or the OpenStack Nova libvirt driver. * As an operator I want to change the device bus or model of an instance *without* forcing users to fully rebuild the instance in order to accommodate changing machine types or QEMU deprecations for certain types. Proposed change =============== Register existing device buses and models within system_metadata ---------------------------------------------------------------- As with ``hw_machine_type`` we first want to ensure the current device bus and model types associated with an instance are stashed ensuring they remain stable during the lifetime of the instance. This already happens when these buses or models are defined by image properties so we only need to capture their value when these are not defined at either service startup or instance creation time. The following list of image properties outline the list of device buses and models this spec will aim to cover: * ``hw_disk_bus`` * ``hw_cdrom_bus`` * ``hw_rescue_bus`` * ``hw_pointer_model`` * ``hw_rng_model`` * ``hw_scsi_model`` * ``hw_video_model`` * ``hw_vif_model`` Provide nova-manage commands to update existing device buses and models ----------------------------------------------------------------------- With the bus and model types stored we can now provide commands to operators to inspect and update these per instance: ``$ nova-manage libvirt device-model-list $instance`` ``$ nova-manage libvirt device-model-show $instance $device`` ``$ nova-manage libvirt device-model-update $instance $device $model`` Alternatives ------------ None, other than providing a generic API to allow stashed image properties to be updated by users over time without requiring a rebuild but that's out of scope of this basic nova-manage command spec. Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- Users should now find that the device bus and models used by their instances remain stable throughout their lifetime unless a move is forced upon them by the operator, QEMU support deprecations etc. Performance Impact ------------------ Stashing these values will incur a slight overhead at compute service start time when using the libvirt driver and additionally when spawning new instances. Other deployer impact --------------------- Operators should have more control over when and how they move users to different machine types and versions of QEMU. Developer impact ---------------- None Upgrade impact -------------- None Implementation ============== Assignee(s) ----------- Primary assignee: lyarwood Other contributors: <launchpad-id or None> Feature Liaison --------------- Feature liaison: lyarwood Work Items ---------- * Register existing device buses and models within system_metadata * Provide nova-manage commands to update existing device buses and models Dependencies ============ None Testing ======= Extensive unit and functional tests will be written to validate this. Documentation Impact ==================== Operator/admin facing documentation will be written outling the usecase for these commands as well as the normal documentation for the commands themselves. References ========== History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Xena - Introduced ",,202,0
openstack%2Ftripleo-repos~master~I893aac72ee50b389c4d3173fa01bb8d6f74ff38f,openstack/tripleo-repos,master,I893aac72ee50b389c4d3173fa01bb8d6f74ff38f,Add tripleo-yum-config ansible module,MERGED,2021-06-15 18:02:30.000000000,2021-07-12 14:09:51.000000000,2021-07-12 14:09:51.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 18:02:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/ea3c83ea02fa2fdd93c49fda0a2126e6a087acc7', 'message': 'Add tripleo-yum-config ansible module\n\nThis patch adds the tripleo-yum-config module and also\nupdates its readme file with both ansible and pip information.\n\nChange-Id: I893aac72ee50b389c4d3173fa01bb8d6f74ff38f\n'}, {'number': 2, 'created': '2021-06-15 18:04:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/c507b037bbbc432e11cc2e3c2e61dd09a70b618c', 'message': 'Add tripleo-yum-config ansible module\n\nThis patch adds the tripleo-yum-config module and also\nupdates its readme file with both ansible and pip information.\n\nChange-Id: I893aac72ee50b389c4d3173fa01bb8d6f74ff38f\n'}, {'number': 3, 'created': '2021-07-05 12:46:31.000000000', 'files': ['tripleo-yum-config/setup.cfg', 'tripleo-yum-config/README.md', 'tripleo-yum-config/tripleo_yum_config.py', 'tripleo-yum-config/example_playbook.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/82dd143ce861a621eb3796fff1dc1a5a1d973356', 'message': 'Add tripleo-yum-config ansible module\n\nThis patch adds the tripleo-yum-config module and also\nupdates its readme file with both ansible and pip information.\n\nChange-Id: I893aac72ee50b389c4d3173fa01bb8d6f74ff38f\n'}]",30,796529,82dd143ce861a621eb3796fff1dc1a5a1d973356,18,6,3,30002,,,0,"Add tripleo-yum-config ansible module

This patch adds the tripleo-yum-config module and also
updates its readme file with both ansible and pip information.

Change-Id: I893aac72ee50b389c4d3173fa01bb8d6f74ff38f
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/29/796529/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo-yum-config/setup.cfg', 'tripleo-yum-config/README.md', 'tripleo-yum-config/tripleo_yum_config.py', 'tripleo-yum-config/example_playbook.yaml']",4,ea3c83ea02fa2fdd93c49fda0a2126e6a087acc7,tripleo-yum-config,"--- - name: Example usage for tripleo_yum_config python module hosts: localhost tasks: - name: Enable fake yum repo and set exclude dirs become: true tripleo_yum_config: type: repo name: appstream enabled: true set_options: exclude: - nodejs* - mariadb* - name: Change nginx module configuration become: true tripleo_yum_config: type: module name: nginx dir_path: /etc/dnf/modules.d/ set_options: stream: mainline profiles: common - name: Set yum global options in dnf.conf become: true tripleo_yum_config: type: global file_path: /etc/dnf/dnf.conf set_options: skip_if_unavailable: ""False"" keepcache: ""0"" ",,249,2
openstack%2Ftripleo-ci~master~Idd2d194afaf2505caf50b9f1fbac97630eda7de3,openstack/tripleo-ci,master,Idd2d194afaf2505caf50b9f1fbac97630eda7de3,Remove reference to tripleo-common-tempest-plugin,MERGED,2021-07-09 13:33:31.000000000,2021-07-12 14:06:04.000000000,2021-07-12 14:06:04.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-07-09 13:33:31.000000000', 'files': ['scripts/website/tripleo-reviewday.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a5022edb8a949eb3c12cd98708e52d9e30b44451', 'message': 'Remove reference to tripleo-common-tempest-plugin\n\n... because the repo will be retired[1].\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-July/023557.html\n\nChange-Id: Idd2d194afaf2505caf50b9f1fbac97630eda7de3\n'}]",0,800239,a5022edb8a949eb3c12cd98708e52d9e30b44451,8,7,1,9816,,,0,"Remove reference to tripleo-common-tempest-plugin

... because the repo will be retired[1].

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-July/023557.html

Change-Id: Idd2d194afaf2505caf50b9f1fbac97630eda7de3
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/39/800239/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/website/tripleo-reviewday.yaml'],1,a5022edb8a949eb3c12cd98708e52d9e30b44451,retire-tempest-tripleo,, - name: tripleo-common-tempest-plugin launchpad_project: tripleo,0,2
openstack%2Foslo.middleware~master~Ic94f064f073755bee09495ced4f7627484bf8337,openstack/oslo.middleware,master,Ic94f064f073755bee09495ced4f7627484bf8337,Fix requirements issues,MERGED,2021-04-12 11:38:13.000000000,2021-07-12 13:52:05.000000000,2021-04-15 14:54:32.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-12 11:38:13.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini', '.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/3a0f7e456d3366a96b4b3e6c9f7d5acc8600f1a0', 'message': ""Fix requirements issues\n\nThis patch is the merge of 2 current fixes that need to be solved in the\nsame time. Indeed each issue lock our gates independently.\n\nDropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nMove flake8 as a pre-commit local target.\n\nThe goal here is to avoid conflicts between flake8 and hacking version each\n2 days.\n\nInspired from nova's approach[1].\n\nThe flake8 version to install will be determined by hacking and\nrequirements[2] will stay aligned instead of relying on different versions.\n\n[1] https://opendev.org/openstack/nova/src/branch/master/.pre-commit-config.yaml#L26-L35\n[2] https://opendev.org/openstack/hacking/src/branch/master/requirements.txt#L1\n\nCo-authored-by: Herv Beraud <hberaud@redhat.com>\n(cherry picked from commit 5c806d492b22f25b79e6598b2fe3847ba6963220)\nChange-Id: Ic94f064f073755bee09495ced4f7627484bf8337\n""}]",0,785857,3a0f7e456d3366a96b4b3e6c9f7d5acc8600f1a0,9,2,1,31245,,,0,"Fix requirements issues

This patch is the merge of 2 current fixes that need to be solved in the
same time. Indeed each issue lock our gates independently.

Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Move flake8 as a pre-commit local target.

The goal here is to avoid conflicts between flake8 and hacking version each
2 days.

Inspired from nova's approach[1].

The flake8 version to install will be determined by hacking and
requirements[2] will stay aligned instead of relying on different versions.

[1] https://opendev.org/openstack/nova/src/branch/master/.pre-commit-config.yaml#L26-L35
[2] https://opendev.org/openstack/hacking/src/branch/master/requirements.txt#L1

Co-authored-by: Herv Beraud <hberaud@redhat.com>
(cherry picked from commit 5c806d492b22f25b79e6598b2fe3847ba6963220)
Change-Id: Ic94f064f073755bee09495ced4f7627484bf8337
",git fetch https://review.opendev.org/openstack/oslo.middleware refs/changes/57/785857/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini', '.pre-commit-config.yaml']",4,3a0f7e456d3366a96b4b3e6c9f7d5acc8600f1a0,stable/wallaby, - repo: local name: flake8 language: python entry: flake8 files: '^.*\.py$' exclude: '^(doc|releasenotes|tools)/.*$', - repo: https://gitlab.com/pycqa/flake8 rev: 181bb46098dddf7e2d45319ea654b4b4d58c2840 # 3.8.3,6,52
openstack%2Fnova~master~I96fd69ad5f29939d79fc55a6f4ea2ee792c354b7,openstack/nova,master,I96fd69ad5f29939d79fc55a6f4ea2ee792c354b7,WIP db: Add our first alembic migration,ABANDONED,2021-07-08 16:14:57.000000000,2021-07-12 13:47:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-08 16:14:57.000000000', 'files': ['nova/db/main/migrations/versions/c488414659cb_add_missing_timestamp_columns.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e0aa4fe1f9c567f313bc99d46116b56ad8107ad1', 'message': ""WIP db: Add our first alembic migration\n\nThe auto-generation found something! Namely, that we're missing\ntimestamp fields for a number of database models. Add these and improve\nour testing to catch this stuff in the future.\n\nWIP because I need to improve the tests to catch this.\n\nChange-Id: I96fd69ad5f29939d79fc55a6f4ea2ee792c354b7\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,800079,e0aa4fe1f9c567f313bc99d46116b56ad8107ad1,7,1,1,15334,,,0,"WIP db: Add our first alembic migration

The auto-generation found something! Namely, that we're missing
timestamp fields for a number of database models. Add these and improve
our testing to catch this stuff in the future.

WIP because I need to improve the tests to catch this.

Change-Id: I96fd69ad5f29939d79fc55a6f4ea2ee792c354b7
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/79/800079/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/db/main/migrations/versions/c488414659cb_add_missing_timestamp_columns.py'],1,e0aa4fe1f9c567f313bc99d46116b56ad8107ad1,bp/remove-sqlalchemy-migrate,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""Add missing timestamp columns Revision ID: c488414659cb Revises: 8f2f1571d55b Create Date: 2021-07-08 16:29:38.629365 """""" from alembic import op import sqlalchemy as sa # revision identifiers, used by Alembic. revision = 'c488414659cb' down_revision = '8f2f1571d55b' branch_labels = None depends_on = None def upgrade(): op.add_column( 'allocations', sa.Column('created_at', sa.DateTime(), nullable=True) ) op.add_column( 'allocations', sa.Column('updated_at', sa.DateTime(), nullable=True) ) op.add_column( 'inventories', sa.Column('created_at', sa.DateTime(), nullable=True) ) op.add_column( 'inventories', sa.Column('updated_at', sa.DateTime(), nullable=True) ) op.add_column( 'resource_provider_aggregates', sa.Column('created_at', sa.DateTime(), nullable=True), ) op.add_column( 'resource_provider_aggregates', sa.Column('updated_at', sa.DateTime(), nullable=True), ) op.add_column( 'resource_providers', sa.Column('created_at', sa.DateTime(), nullable=True), ) op.add_column( 'resource_providers', sa.Column('updated_at', sa.DateTime(), nullable=True), ) op.add_column( 'tags', sa.Column('created_at', sa.DateTime(), nullable=True) ) op.add_column( 'tags', sa.Column('updated_at', sa.DateTime(), nullable=True) ) ",,65,0
openstack%2Fcloudkitty~master~I0cf1a50e43a18984d4f299a551c5bbef483d82ec,openstack/cloudkitty,master,I0cf1a50e43a18984d4f299a551c5bbef483d82ec,Changed minversion in tox to 3.18.0,MERGED,2021-05-31 01:42:52.000000000,2021-07-12 13:45:07.000000000,2021-07-12 13:43:51.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25277}]","[{'number': 1, 'created': '2021-05-31 01:42:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/bad31fdd79d50f2e2873e7b483b6e55ab3822b44', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I0cf1a50e43a18984d4f299a551c5bbef483d82ec\n""}, {'number': 2, 'created': '2021-06-21 15:31:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/7c277446b0730bc0ddeffb3081a80a9e29c00296', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I0cf1a50e43a18984d4f299a551c5bbef483d82ec\n""}, {'number': 3, 'created': '2021-06-29 09:04:15.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/d087c358a13c8b8f9ece8b5129e66ede51106033', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I0cf1a50e43a18984d4f299a551c5bbef483d82ec\n""}]",0,793707,d087c358a13c8b8f9ece8b5129e66ede51106033,15,3,3,32291,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I0cf1a50e43a18984d4f299a551c5bbef483d82ec
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/07/793707/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,bad31fdd79d50f2e2873e7b483b6e55ab3822b44,update-min-tox,minversion = 3.18.0allowlist_externals = rm# allowlist_externals =,minversion = 3.1.0whitelist_externals = rm# whitelist_externals =,3,3
openstack%2Fglance-specs~master~Ife55e6b1efa66bca1e0efc5a7efb3ba130a1e33f,openstack/glance-specs,master,Ife55e6b1efa66bca1e0efc5a7efb3ba130a1e33f,Spec Lite: CLI support for new cache APIs,MERGED,2021-06-04 06:19:07.000000000,2021-07-12 13:16:18.000000000,2021-07-12 13:15:08.000000000,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-04 06:19:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/05e46109d555e4c6edec655a34bcf44e339a1c04', 'message': 'Spec Lite: CLI support for new cache APIs\n\nChange-Id: Ife55e6b1efa66bca1e0efc5a7efb3ba130a1e33f\n'}, {'number': 2, 'created': '2021-06-08 14:05:37.000000000', 'files': ['specs/xena/approved/index.rst', 'specs/xena/approved/python-glanceclient/cache-api-cli.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/de934b5e7234aaaec71b4be7f2ec2cdf6a0be3b8', 'message': 'Spec Lite: CLI support for new cache APIs\n\nChange-Id: Ife55e6b1efa66bca1e0efc5a7efb3ba130a1e33f\n'}]",2,794709,de934b5e7234aaaec71b4be7f2ec2cdf6a0be3b8,13,6,2,9303,,,0,"Spec Lite: CLI support for new cache APIs

Change-Id: Ife55e6b1efa66bca1e0efc5a7efb3ba130a1e33f
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/09/794709/2 && git format-patch -1 --stdout FETCH_HEAD,"['specs/xena/approved/index.rst', 'specs/xena/approved/python-glanceclient/cache-api-cli.rst']",2,05e46109d555e4c6edec655a34bcf44e339a1c04,bp/cache-client,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================= Spec Lite: CLI support for new cache APIs ========================================= :project: python-glanceclient :problem: In Xena we are deprecating `glance-cache-manage` CLI utility as we are moving caching operations under glance-api by introducing new API endpoints for cache related operations. :solution: We need to add new CLI commands; `cache-queue`, `cache-list`, `cache-delete`, `cache-delete-all` to support new cache APIs. :impacts: APIImpact, DocImpact :how: We will add new CLI interface for `cache-queue`, `cache-list`, `cache-delete`, `cache-delete-all` commands. A new command line option `--endpoint-override` will be added for these commands. As caching is local to each glance node and most of the deployments configures glance nodes behind the load-balancers, operator/user need to pass actual endpoint of the glance node using `--endpoint-override` to these new commands. None of the command will function if `--endpoint-override` is not provided. :alternatives: None :timeline: Xena Milestone 2 :link: https://review.opendev.org/c/openstack/glance-specs/+/665258 :reviewers: dansmith, abhishek-kekane, cyril-roelandt :assignee: jokke ",,47,0
openstack%2Freleases~master~Icb8280040a88e6d2f98669295bc97de7aa056e08,openstack/releases,master,Icb8280040a88e6d2f98669295bc97de7aa056e08,Release python-octaviaclient 2.3.1 for stable/wallaby,MERGED,2021-07-09 16:10:59.000000000,2021-07-12 13:07:23.000000000,2021-07-12 13:04:34.000000000,"[{'_account_id': 308}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-09 16:10:59.000000000', 'files': ['deliverables/wallaby/python-octaviaclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/85e449269549fb04f3c1c2f362de9dee0e4218b9', 'message': ""Release python-octaviaclient 2.3.1 for stable/wallaby\n\nThis release contains bugfixes and performance improvements.\n\n$ git log --no-decorate --oneline --no-merges 2.3.0..51347bcb\n51347bc Improve the client performance on large clouds\n34e55d3 Support pagination for 'list' API calls\nee34231 Update TOX_CONSTRAINTS_FILE for stable/wallaby\n5238beb Update .gitreview for stable/wallaby\n\nChange-Id: Icb8280040a88e6d2f98669295bc97de7aa056e08\n""}]",0,800277,85e449269549fb04f3c1c2f362de9dee0e4218b9,11,5,1,29244,,,0,"Release python-octaviaclient 2.3.1 for stable/wallaby

This release contains bugfixes and performance improvements.

$ git log --no-decorate --oneline --no-merges 2.3.0..51347bcb
51347bc Improve the client performance on large clouds
34e55d3 Support pagination for 'list' API calls
ee34231 Update TOX_CONSTRAINTS_FILE for stable/wallaby
5238beb Update .gitreview for stable/wallaby

Change-Id: Icb8280040a88e6d2f98669295bc97de7aa056e08
",git fetch https://review.opendev.org/openstack/releases refs/changes/77/800277/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/python-octaviaclient.yaml'],1,85e449269549fb04f3c1c2f362de9dee0e4218b9,, - version: 2.3.1 projects: - repo: openstack/python-octaviaclient hash: 51347bcbca53d4aeecaab5cbd0f9a3f6b47520d8,,4,0
openstack%2Freleases~master~If11377cfdceed562ae261027b2acb13a2c30c8c6,openstack/releases,master,If11377cfdceed562ae261027b2acb13a2c30c8c6,Release python-octaviaclient 2.2.1 for stable/victoria,MERGED,2021-07-09 16:10:59.000000000,2021-07-12 13:04:23.000000000,2021-07-12 13:04:23.000000000,"[{'_account_id': 308}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-09 16:10:59.000000000', 'files': ['deliverables/victoria/python-octaviaclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4f623afe95c444989644147599bbdc099fa8c674', 'message': ""Release python-octaviaclient 2.2.1 for stable/victoria\n\nThis release contains bugfixes and performance improvements.\n\n$ git log --no-decorate --oneline --no-merges 2.2.0..c2aa2017\nc2aa201 Improve the client performance on large clouds\nea0eedc Support pagination for 'list' API calls\nfd7cd86 Dropping lower-constraints job\n240ce4b Update TOX_CONSTRAINTS_FILE for stable/victoria\n12932e7 Update .gitreview for stable/victoria\n\nChange-Id: If11377cfdceed562ae261027b2acb13a2c30c8c6\n""}]",0,800276,4f623afe95c444989644147599bbdc099fa8c674,9,5,1,29244,,,0,"Release python-octaviaclient 2.2.1 for stable/victoria

This release contains bugfixes and performance improvements.

$ git log --no-decorate --oneline --no-merges 2.2.0..c2aa2017
c2aa201 Improve the client performance on large clouds
ea0eedc Support pagination for 'list' API calls
fd7cd86 Dropping lower-constraints job
240ce4b Update TOX_CONSTRAINTS_FILE for stable/victoria
12932e7 Update .gitreview for stable/victoria

Change-Id: If11377cfdceed562ae261027b2acb13a2c30c8c6
",git fetch https://review.opendev.org/openstack/releases refs/changes/76/800276/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/python-octaviaclient.yaml'],1,4f623afe95c444989644147599bbdc099fa8c674,, - version: 2.2.1 projects: - repo: openstack/python-octaviaclient hash: c2aa20175c425b5ace32ec6862dba1189ae1ad5a,,4,0
openstack%2Freleases~master~I1d99d38b96c6f4cb14200594edc7dad0e7bb0ab8,openstack/releases,master,I1d99d38b96c6f4cb14200594edc7dad0e7bb0ab8,Release python-octaviaclient 2.0.2 for stable/ussuri,MERGED,2021-07-09 16:10:59.000000000,2021-07-12 13:04:17.000000000,2021-07-12 13:04:17.000000000,"[{'_account_id': 308}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-09 16:10:59.000000000', 'files': ['deliverables/ussuri/python-octaviaclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c3b96a079da118d64ff9925e79dfb93fe95832a9', 'message': ""Release python-octaviaclient 2.0.2 for stable/ussuri\n\nThis release contains bugfixes and performance improvements.\n\n$ git log --no-decorate --oneline --no-merges 2.0.1..6d843fb\n6d843fb Improve the client performance on large clouds\na5beab0 Support pagination for 'list' API calls\n441547f Dropping lower-constraints job\ne56989b Cap pylint for stable branches\n6f72322 Update TOX/UPPER_CONSTRAINTS_FILE for stable/ussuri\nc2e82f1 Update .gitreview for stable/ussuri\n\nChange-Id: I1d99d38b96c6f4cb14200594edc7dad0e7bb0ab8\n""}]",0,800275,c3b96a079da118d64ff9925e79dfb93fe95832a9,9,5,1,29244,,,0,"Release python-octaviaclient 2.0.2 for stable/ussuri

This release contains bugfixes and performance improvements.

$ git log --no-decorate --oneline --no-merges 2.0.1..6d843fb
6d843fb Improve the client performance on large clouds
a5beab0 Support pagination for 'list' API calls
441547f Dropping lower-constraints job
e56989b Cap pylint for stable branches
6f72322 Update TOX/UPPER_CONSTRAINTS_FILE for stable/ussuri
c2e82f1 Update .gitreview for stable/ussuri

Change-Id: I1d99d38b96c6f4cb14200594edc7dad0e7bb0ab8
",git fetch https://review.opendev.org/openstack/releases refs/changes/75/800275/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/python-octaviaclient.yaml'],1,c3b96a079da118d64ff9925e79dfb93fe95832a9,, - version: 2.0.2 projects: - repo: openstack/python-octaviaclient hash: 6d843fb6f1c3ed6aa7bd8c9acf6afea15fc783a3,,4,0
openstack%2Fironic~master~I801b71d381a69e7b8678b9e60ff36dda0ae3f7fb,openstack/ironic,master,I801b71d381a69e7b8678b9e60ff36dda0ae3f7fb,Add ipxe ramdisk kernel append param test,MERGED,2021-07-09 18:56:23.000000000,2021-07-12 13:01:24.000000000,2021-07-12 12:58:36.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-07-09 18:56:23.000000000', 'files': ['ironic/tests/unit/drivers/modules/test_ipxe.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ae535bac2500083c47905408541ee5b0aee521e8', 'message': ""Add ipxe ramdisk kernel append param test\n\nWhile investigating a bug report, I noticed we didn't explicitly\ntest passing arguments in with the ipxe interface and a ramdisk,\nand given the issue reported was precisely that, I wrote a test.\n\nChange-Id: I801b71d381a69e7b8678b9e60ff36dda0ae3f7fb\n""}]",0,800298,ae535bac2500083c47905408541ee5b0aee521e8,10,3,1,11655,,,0,"Add ipxe ramdisk kernel append param test

While investigating a bug report, I noticed we didn't explicitly
test passing arguments in with the ipxe interface and a ramdisk,
and given the issue reported was precisely that, I wrote a test.

Change-Id: I801b71d381a69e7b8678b9e60ff36dda0ae3f7fb
",git fetch https://review.opendev.org/openstack/ironic refs/changes/98/800298/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/tests/unit/drivers/modules/test_ipxe.py'],1,ae535bac2500083c47905408541ee5b0aee521e8,," @mock.patch.object(pxe_utils, 'create_pxe_config', autospec=True) @mock.patch.object(manager_utils, 'node_set_boot_device', autospec=True) @mock.patch.object(deploy_utils, 'switch_pxe_config', autospec=True) @mock.patch.object(dhcp_factory, 'DHCPFactory', autospec=True) @mock.patch.object(pxe_utils, 'cache_ramdisk_kernel', autospec=True) @mock.patch.object(pxe_utils, 'get_instance_image_info', autospec=True) def test_prepare_instance_ramdisk( self, get_image_info_mock, cache_mock, dhcp_factory_mock, switch_pxe_config_mock, set_boot_device_mock, mock_create_pxe_config): provider_mock = mock.MagicMock() dhcp_factory_mock.return_value = provider_mock image_info = {'kernel': ('', '/path/to/kernel'), 'ramdisk': ('', '/path/to/ramdisk')} i_info_caps = {""boot_option"": ""ramdisk""} kernel_arg = ""meow"" get_image_info_mock.return_value = image_info with task_manager.acquire(self.context, self.node.uuid) as task: dhcp_opts = pxe_utils.dhcp_options_for_instance( task, ipxe_enabled=True) dhcp_opts += pxe_utils.dhcp_options_for_instance( task, ipxe_enabled=True, ip_version=6) pxe_config_path = pxe_utils.get_pxe_config_file_path( task.node.uuid, ipxe_enabled=True) task.node.properties['capabilities'] = 'boot_mode:bios' i_info = task.node.instance_info i_info['capabilities'] = i_info_caps i_info['kernel_append_params'] = kernel_arg task.node.instance_info = i_info task.node.save() task.driver.boot.prepare_instance(task) get_image_info_mock.assert_called_once_with( task, ipxe_enabled=True) cache_mock.assert_called_once_with(task, image_info, ipxe_enabled=True) provider_mock.update_dhcp.assert_called_once_with(task, dhcp_opts) switch_pxe_config_mock.assert_called_once_with( pxe_config_path, None, 'bios', False, iscsi_boot=False, ramdisk_boot=True, ipxe_enabled=True, anaconda_boot=False) set_boot_device_mock.assert_called_once_with(task, boot_devices.PXE, persistent=True) expected_params = { 'aki_path': 'http://myserver/' + task.node.uuid + '/kernel', 'ari_path': 'http://myserver/' + task.node.uuid + '/ramdisk', 'pxe_append_params': 'meow ipa-debug=1 ipa-global-request-id' '=' + task.context.request_id, 'tftp_server': mock.ANY, 'ipxe_timeout': 0} mock_create_pxe_config.assert_called_once_with( task, expected_params, mock.ANY, ipxe_enabled=True) ",,54,0
openstack%2Fironic~master~Ia34fce52f2b717428c7502ed7cb0ed1a7df66bc6,openstack/ironic,master,Ia34fce52f2b717428c7502ed7cb0ed1a7df66bc6,Update iDRAC virtual media boot known issue,MERGED,2021-07-08 16:00:52.000000000,2021-07-12 13:00:12.000000000,2021-07-12 12:58:28.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-07-08 16:00:52.000000000', 'files': ['doc/source/admin/drivers/idrac.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/fdef42fee323e23adbc012352c43966c0ffa7dcb', 'message': 'Update iDRAC virtual media boot known issue\n\nChange-Id: Ia34fce52f2b717428c7502ed7cb0ed1a7df66bc6\n'}]",0,800073,fdef42fee323e23adbc012352c43966c0ffa7dcb,9,3,1,27909,,,0,"Update iDRAC virtual media boot known issue

Change-Id: Ia34fce52f2b717428c7502ed7cb0ed1a7df66bc6
",git fetch https://review.opendev.org/openstack/ironic refs/changes/73/800073/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/drivers/idrac.rst'],1,fdef42fee323e23adbc012352c43966c0ffa7dcb,idrac-doc,"Unable to mount remote share with iDRAC firmware before 4.40.40.00 ------------------------------------------------------------------ When using iDRAC firmware 4.40.00.00 and consecutive versions before 4.40.40.00 with virtual media boot and new Virtual Console plug-in type eHTML5, there is an error: ""Unable to mount remote share"". This is a known issue that is fixed in 4.40.40.00 iDRAC firmware release. If cannot upgrade, then adjust settings in iDRAC to use plug-in type HTML5. In iDRAC web UI go to Configuration -> Virtual Console and select Plug-in Type to HTML5.","Unable to mount remote share with iDRAC firmware 4.40.00.00 or newer --------------------------------------------------------------------- When using iDRAC firmware 4.40.00.00 or newer with virtual media boot and new Virtual Console plug-in type eHTML5, there is an error: ""Unable to mount remote share"". This is a known issue that will be fixed in future iDRAC firmware releases. Until then can adjust settings in iDRAC to use plug-in type HTML5. In iDRAC web UI go to Configuration -> Virtual Console and select Plug-in Type to HTML5.",8,8
openstack%2Fcyborg~master~Ib7507909abb85d9b4a9367c99ac7cd09d124cb2d,openstack/cyborg,master,Ib7507909abb85d9b4a9367c99ac7cd09d124cb2d,Add test cases for checking device profile create params,MERGED,2021-06-29 02:55:21.000000000,2021-07-12 12:39:31.000000000,2021-07-12 12:38:14.000000000,"[{'_account_id': 22348}, {'_account_id': 23950}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}]","[{'number': 1, 'created': '2021-06-29 02:55:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/ef3029f91e727e7c9c60a0e87b491b3f6b4e2df7', 'message': 'Add test cases for checking device profile create params\n\nChange-Id: Ib7507909abb85d9b4a9367c99ac7cd09d124cb2d\n'}, {'number': 2, 'created': '2021-07-08 10:58:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/5310798b275647271ed3c55c1f5130f29ddd84b2', 'message': 'Add test cases for checking device profile create params\n\nChange-Id: Ib7507909abb85d9b4a9367c99ac7cd09d124cb2d\n'}, {'number': 3, 'created': '2021-07-08 13:10:01.000000000', 'files': ['cyborg/tests/unit/api/controllers/v2/test_device_profiles.py', 'cyborg/api/controllers/v2/device_profiles.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/b243f04a8090bbb4ce70a05e9d0d25f020d6c547', 'message': 'Add test cases for checking device profile create params\n\nChange-Id: Ib7507909abb85d9b4a9367c99ac7cd09d124cb2d\n'}]",16,798405,b243f04a8090bbb4ce70a05e9d0d25f020d6c547,16,5,3,31412,,,0,"Add test cases for checking device profile create params

Change-Id: Ib7507909abb85d9b4a9367c99ac7cd09d124cb2d
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/05/798405/1 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/tests/unit/api/controllers/v2/test_device_profiles.py', 'cyborg/api/controllers/v2/device_profiles.py']",2,ef3029f91e727e7c9c60a0e87b491b3f6b4e2df7,," err=""Device profile group keys must be of"" "" be one among %s"" % (value, TRAIT_VALUES)) err=""Resources number %s is invalid"" % value)"," err=""Device profile group keys must be of "" "" be one among %s"" % TRAIT_VALUES) err=""Resources nummber %s is invalid"" % value)",82,5
openstack%2Ftrove-tempest-plugin~master~Iafc98a55865a1c19464dce6fbbd683263b121186,openstack/trove-tempest-plugin,master,Iafc98a55865a1c19464dce6fbbd683263b121186,Show instance fault message when ERROR,MERGED,2021-06-22 04:25:29.000000000,2021-07-12 12:29:56.000000000,2021-07-12 12:28:14.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-22 04:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-tempest-plugin/commit/66b54f6c2087f8d77bdd5c648454769818477c2d', 'message': 'Show instance fault message when ERROR\n\nChange-Id: Iafc98a55865a1c19464dce6fbbd683263b121186\n'}, {'number': 2, 'created': '2021-07-12 01:30:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-tempest-plugin/commit/2f3ce0f6b6ab0e0063c6803adc2d93e2ec75b6c3', 'message': 'Show instance fault message when ERROR\n\nChange-Id: Iafc98a55865a1c19464dce6fbbd683263b121186\n'}, {'number': 3, 'created': '2021-07-12 01:57:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-tempest-plugin/commit/0bc19124850c64b3ef9ab6640a72f359f8f3cb4f', 'message': 'Show instance fault message when ERROR\n\nChange-Id: Iafc98a55865a1c19464dce6fbbd683263b121186\n'}, {'number': 4, 'created': '2021-07-12 08:03:46.000000000', 'files': ['trove_tempest_plugin/tests/scenario/test_instance_actions.py', '.zuul.yaml', 'trove_tempest_plugin/tests/base.py'], 'web_link': 'https://opendev.org/openstack/trove-tempest-plugin/commit/23ac0ee82bb171caa1017dea10f2f796f88b8006', 'message': 'Show instance fault message when ERROR\n\nChange-Id: Iafc98a55865a1c19464dce6fbbd683263b121186\n'}]",1,797382,23ac0ee82bb171caa1017dea10f2f796f88b8006,17,2,4,6732,,,0,"Show instance fault message when ERROR

Change-Id: Iafc98a55865a1c19464dce6fbbd683263b121186
",git fetch https://review.opendev.org/openstack/trove-tempest-plugin refs/changes/82/797382/2 && git format-patch -1 --stdout FETCH_HEAD,"['trove_tempest_plugin/tests/scenario/test_instance_actions.py', 'trove_tempest_plugin/tests/base.py']",2,66b54f6c2087f8d77bdd5c648454769818477c2d,error-log," res = cls.admin_client.get_resource(""instances"", id) LOG.info(f'Instance fault msg: {res[""instance""].get(""fault"")}') ",,13,6
openstack%2Fmanila~stable%2Fwallaby~Iac6507a6e395c55f0fec453650009f08c2bb6563,openstack/manila,stable/wallaby,Iac6507a6e395c55f0fec453650009f08c2bb6563,init_host should be called before RPC consumer is created,MERGED,2021-07-03 10:10:09.000000000,2021-07-12 12:18:07.000000000,2021-07-12 12:16:42.000000000,"[{'_account_id': 9003}, {'_account_id': 18816}, {'_account_id': 22348}, {'_account_id': 30407}]","[{'number': 1, 'created': '2021-07-03 10:10:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/27040c0686b52cf704e2e48bfba30d1163177860', 'message': 'init_host should be called before RPC consumer is created\n\nThis change adds a new hook to Manager class called init_host_with_rpc()\nto allow services like scheduler to do something once RPC is ready.\n\nCopied from cinder https://opendev.org/openstack/cinder/commit/65fa80c361f71158cc492dfc520dc4a63ccfa419\nand https://opendev.org/openstack/cinder/commit/60c563f72d2d6d008fca03f0a058941f3807e1a8\n\nChange-Id: Iac6507a6e395c55f0fec453650009f08c2bb6563\nCloses-Bug: #1271568\n(cherry picked from commit 0339802a5d0801cda19c464a87853b60982ae011)\n'}, {'number': 2, 'created': '2021-07-08 15:16:44.000000000', 'files': ['manila/service.py', 'releasenotes/notes/bug-1271568-fix-rpc-init-host-with-rpc-6e76afa553b4f2af.yaml', 'manila/manager.py', 'manila/tests/scheduler/test_manager.py', 'manila/scheduler/manager.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/887c4bf4c041cfaafaf1c47edb9262574bbb959a', 'message': 'init_host should be called before RPC consumer is created\n\nThis change adds a new hook to Manager class called init_host_with_rpc()\nto allow services like scheduler to do something once RPC is ready.\n\nCopied from cinder https://opendev.org/openstack/cinder/commit/65fa80c361f71158cc492dfc520dc4a63ccfa419\nand https://opendev.org/openstack/cinder/commit/60c563f72d2d6d008fca03f0a058941f3807e1a8\n\nChange-Id: Iac6507a6e395c55f0fec453650009f08c2bb6563\nCloses-Bug: #1271568\n(cherry picked from commit 0339802a5d0801cda19c464a87853b60982ae011)\n'}]",0,799358,887c4bf4c041cfaafaf1c47edb9262574bbb959a,20,4,2,9003,,,0,"init_host should be called before RPC consumer is created

This change adds a new hook to Manager class called init_host_with_rpc()
to allow services like scheduler to do something once RPC is ready.

Copied from cinder https://opendev.org/openstack/cinder/commit/65fa80c361f71158cc492dfc520dc4a63ccfa419
and https://opendev.org/openstack/cinder/commit/60c563f72d2d6d008fca03f0a058941f3807e1a8

Change-Id: Iac6507a6e395c55f0fec453650009f08c2bb6563
Closes-Bug: #1271568
(cherry picked from commit 0339802a5d0801cda19c464a87853b60982ae011)
",git fetch https://review.opendev.org/openstack/manila refs/changes/58/799358/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/service.py', 'releasenotes/notes/bug-1271568-fix-rpc-init-host-with-rpc-6e76afa553b4f2af.yaml', 'manila/manager.py', 'manila/tests/scheduler/test_manager.py', 'manila/scheduler/manager.py']",5,27040c0686b52cf704e2e48bfba30d1163177860,bug/1271568, def init_host_with_rpc(self):, def init_host(self):,25,5
openstack%2Ftrove~master~I3499956a7ba0a5d0ab4a49f5938ce038446d91b7,openstack/trove,master,I3499956a7ba0a5d0ab4a49f5938ce038446d91b7,Fix rebuild instances in replication cluster,MERGED,2021-07-11 22:03:15.000000000,2021-07-12 11:53:05.000000000,2021-07-12 11:51:52.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-11 22:03:15.000000000', 'files': ['trove/taskmanager/models.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/f0bf45ea120f5b22be50fdc0f588c431fea0e8f5', 'message': 'Fix rebuild instances in replication cluster\n\nStory: 2009043\nTask: 42806\nChange-Id: I3499956a7ba0a5d0ab4a49f5938ce038446d91b7\n'}]",0,800344,f0bf45ea120f5b22be50fdc0f588c431fea0e8f5,9,2,1,6732,,,0,"Fix rebuild instances in replication cluster

Story: 2009043
Task: 42806
Change-Id: I3499956a7ba0a5d0ab4a49f5938ce038446d91b7
",git fetch https://review.opendev.org/openstack/trove refs/changes/44/800344/1 && git format-patch -1 --stdout FETCH_HEAD,['trove/taskmanager/models.py'],1,f0bf45ea120f5b22be50fdc0f588c431fea0e8f5,fix-rebuild,"from trove.configuration import models as config_models """"""The action to perform rebuild. :param instance: A BuiltInstanceTasks instance. :param image_id: Image ID. """""" context = self.instance.context user_config = config_models.Configuration( context, self.instance.configuration.id) overrides = user_config.get_configuration_overrides() # Restore replication config for primary if self.instance.slaves: LOG.info(f""Enabling {self.instance.id} as primay after rebuild"") self.instance.enable_as_master() # Restart all the replicas to reconnect with the primary for replica in self.instance.slaves: LOG.info(f""Restarting replica {replica.id} after rebuild "" f""primary {self.instance.id}"") replica_tasks = BuiltInstanceTasks.load(context, replica.id) replica_tasks.restart() # Restore replication config for replica elif self.instance.slave_of_id: LOG.info(f""Re-attaching replica {self.instance.id} after rebuild"") primary = BuiltInstanceTasks.load( context, self.instance.slave_of_id) self.instance.detach_replica(primary, for_failover=True) self.instance.attach_replica(primary, restart=True) ", overrides = self.instance.configuration. \ get_configuration_overrides(),31,2
openstack%2Fnova-specs~master~I2b4028afa975b4b11acef62452a8d4dc472ebb2e,openstack/nova-specs,master,I2b4028afa975b4b11acef62452a8d4dc472ebb2e,Add nova-manage commands to show and refresh connection_info,MERGED,2021-07-06 10:12:16.000000000,2021-07-12 11:15:52.000000000,2021-07-12 11:14:28.000000000,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-06 10:12:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/57573cb0c5bb366a20deaff7ee423258debe159d', 'message': 'Add nova-manage commands to show and refresh connection_info\n\nThis spec aims to outline some basic and potentially backportable\n``nova-manage`` commands that will allow operators to both view and\nrefresh the connection_info of a specific block device mapping within\nNova.\n\nBlueprint: nova-manage-refresh-connection-info\nChange-Id: I2b4028afa975b4b11acef62452a8d4dc472ebb2e\n'}, {'number': 2, 'created': '2021-07-07 16:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/cdd3d1e98bbb8ac370b1f4bc1abce7cf0d98c228', 'message': 'Add nova-manage commands to show and refresh connection_info\n\nThis spec aims to outline some basic and potentially backportable\n``nova-manage`` commands that will allow operators to both view and\nrefresh the connection_info of a specific block device mapping within\nNova.\n\nBlueprint: nova-manage-refresh-connection-info\nChange-Id: I2b4028afa975b4b11acef62452a8d4dc472ebb2e\n'}, {'number': 3, 'created': '2021-07-09 11:44:41.000000000', 'files': ['specs/xena/approved/nova-manage-commands-to-manage-connection_info.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/19f411a07dc99f71f788e6c518482ea1f8e8cebd', 'message': 'Add nova-manage commands to show and refresh connection_info\n\nThis spec aims to outline some basic and potentially backportable\n``nova-manage`` commands that will allow operators to both view and\nrefresh the connection_info of a specific block device mapping within\nNova.\n\nBlueprint: nova-manage-refresh-connection-info\nChange-Id: I2b4028afa975b4b11acef62452a8d4dc472ebb2e\n'}]",42,799624,19f411a07dc99f71f788e6c518482ea1f8e8cebd,22,4,3,10135,,,0,"Add nova-manage commands to show and refresh connection_info

This spec aims to outline some basic and potentially backportable
``nova-manage`` commands that will allow operators to both view and
refresh the connection_info of a specific block device mapping within
Nova.

Blueprint: nova-manage-refresh-connection-info
Change-Id: I2b4028afa975b4b11acef62452a8d4dc472ebb2e
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/24/799624/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/xena/approved/nova-manage-commands-to-manage-connection_info.rst'],1,57573cb0c5bb366a20deaff7ee423258debe159d,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================================================ Provide nova-manage commands to refresh block device mapping connection_info ============================================================================ https://blueprints.launchpad.net/nova/+spec/nova-manage-refresh-connection-info The connection_info associated with a Cinder volume attachment stashed within Nova's block device mappings can often become stale. Previously operators have had to query the database directly for an understanding of the current state of the connection_info and could only migrate or shelve the instance to force a refresh of this. This spec aims to outline some basic and potentially backportable ``nova-manage`` commands that will allow operators to both view and refresh the connection_info of a specific block device mapping within Nova. Problem description =================== As suggested above the connection_info of a given volume attachment is stashed within the block device mapping record associated with an attached volume within Nova. Over time this connection_info can become stale if changes are made in the environment, the most common example of which being the changing of MON IP addresses when using Ceph as the backing store for the Cinder volume service. There have also been various migration rollback issues over the years where the connection_info associated with the block device mapping can actually refer to that used by another compute host. In both cases until now the only way to force a refresh of the connection_info was through another migration or shelve/unshelve that could also fail during the initial disconnect of the volume. As such providing operators with a reliable means with which to refresh this connection_info would be extremely useful. Use Cases --------- * As an operator I want to view the current connection_info associated with a block device mapping. * As an operator I want to refresh the connection_info of block device mappings attached to a users STOPPED instance without shelving and unshelving. Proposed change =============== Introduce a set of backportable ``nova-manage`` commands to manage the connection_info associated with a given volume attachment. .. note:: ``$bdm_uuid`` below refers to the UUID of the block device mapping record within Nova and not the volume attachment UUID within Cinder. Block device mapping UUIDs for attached volumes can be obtained using the ``openstack server volume list $instance_uuid`` openstackclient command with >= 5.5.0 or ``nova volume-attachments $instance_uuid`` novaclient command. Add a command to show the connection_info of a given block device mapping ------------------------------------------------------------------------- ``$ nova-manage bdm show $bdm_uuid`` This command will simply show *all* attributes of the volume attachment as currently stored within the Nova database. .. note:: This should also be accomplished within ``os-volume_attachments`` the API under a microversion but for the sake of this spec we will only focus on the above backportable ``nova-manage`` command. Add a command to refresh the connection_info of a given block device mapping ---------------------------------------------------------------------------- ``$ nova-manage bdm refresh $bdm_uuid`` This command will refresh the connection_info of a given volume based block device mapping record within Nova. Prerequisites ^^^^^^^^^^^^^ - The block device mapping refers to an attached volume or volume snapshot. - The instance the block device mapping is attached to must be in a STOPPED vm_state. - The libvirt virt driver is used by the compute hosting the instance. - The command must be called from the compute currently hosting the instance. When these prerequisites are met the command will start by disconnecting the original volume connection from the compute host using the existing logic within the libvirt virt driver volume drivers. Any errors raised during this initial attempt will be logged but ignored. The command will then unmap the volume from the compute host on the Cinder side by either calling the terminate_connection Cinder API for volumes attached using the cinderv2 attachment flow or by deleting the Cinder volume attachment for volumes using the cinderv3 attachment flow. .. note:: We cannot create a separate fresh volume attachment for the cinderv3 attachment flow as the provided connector would conflict with the existing attachment and thus result in a failure. This differs to the live migration case where the source and destination connectors obviously differ allowing us to have two active volume attachments at once within Cinder. At this point a fresh cinderv3 volume attachment will be created using the compute connector with the resulting attachment_id and connection_info being stashed in the block device mapping record within Nova. This has the added benefit of migrating some volume attachments from the cinderv2 to cinderv3 flow. While much more work is required outside of this spec for Nova to migrate every volume attachment to the newer flow this is at least a start on that journey. Finally, the user can now power on the instance that will in turn connect the volume to the compute host using the newly updated connection_info. .. note:: As with the earlier command this should also be accomplished within the ``os-volume_attachments`` API under a new microversion but again for the sake of the spec we will only focus on the above backportable command. Alternatives ------------ Continue to only allow connection_info to be updated by migrating or shelving an instance. This doesn't scale well and can often lead to more issues when connection_info has become stale and out dated within an environment. Data model impact ----------------- None. REST API impact --------------- None. Security impact --------------- None, the connection_info for a given attachment is already available to the owner of said attachment via Cinder. There is a case to make this an admin only API under a microversion within Cinder in the future, using service credentials within Nova to facilitate the passing of sensitive attributes like passwords, tokens and keyrings but for now having a nova-manage command expose what is stored in our database shouldn't have an impact on our security model. Notifications impact -------------------- None. Other end user impact --------------------- None. Performance Impact ------------------ None. Other deployer impact --------------------- None. Developer impact ---------------- None. Upgrade impact -------------- None. Implementation ============== Assignee(s) ----------- Primary assignee: lyarwood Other contributors: Feature Liaison --------------- Feature liaison: lyarwood Work Items ---------- * Introduce a command to show the attributes of a block device mapping, including the volume attachment id and connection_info. * Introduce a command to refresh the connection_info of a block device mapping. Dependencies ============ None Testing ======= Functional and unit tests will be written to validate these commands. We could also include integration tests in the form of some post-run playbooks and runs but this isn't required for these commands to land. Documentation Impact ==================== As with all nova-manage commands extensive operator facing documentation will be written detailing commands. References ========== None History ======= Optional section intended to be used each time the spec is updated to describe new design, API or any database schema updated. Useful to let reader understand what's happened along the time. .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Xena - Introduced ",,255,0
openstack%2Fkuryr-kubernetes~master~I863936e69eb4e9f8453c1dd6350de9a4b5451c64,openstack/kuryr-kubernetes,master,I863936e69eb4e9f8453c1dd6350de9a4b5451c64,CNI: Convert bridge driver to use NDB,NEW,2021-07-09 11:20:44.000000000,2021-07-12 11:04:09.000000000,,"[{'_account_id': 11600}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-09 11:20:44.000000000', 'files': ['kuryr_kubernetes/cni/plugins/k8s_cni_registry.py', 'kuryr_kubernetes/cni/binding/bridge.py', 'kuryr_kubernetes/cni/binding/base.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/5b8a9cc112ed15005416fa340d3bef355f31898a', 'message': 'CNI: Convert bridge driver to use NDB\n\nChange-Id: I863936e69eb4e9f8453c1dd6350de9a4b5451c64\n'}]",2,800207,5b8a9cc112ed15005416fa340d3bef355f31898a,5,2,1,11600,,,0,"CNI: Convert bridge driver to use NDB

Change-Id: I863936e69eb4e9f8453c1dd6350de9a4b5451c64
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/07/800207/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/cni/plugins/k8s_cni_registry.py', 'kuryr_kubernetes/cni/binding/bridge.py', 'kuryr_kubernetes/cni/binding/base.py']",3,5b8a9cc112ed15005416fa340d3bef355f31898a,pyroute2-ndb," def _remove_ifaces(self, ndb, ifnames, netns='host'): :param ndb: ndb of the network namespace to check if ifname in ndb.interfaces: with ndb.interfaces[ifname] as iface:def get_ndb(netns=None): if netns: netns = utils.convert_netns(netns) ndb = pyroute2.NDB(sources=[{'netns': netns}]) else: ndb = pyroute2.NDB() return ndb with get_ndb(netns) as ndb: with ndb.interfaces[ifname] as iface: routes = ndb.routes routes.create(gateway=str(route.gateway), dst=str(route.cidr)).commit() routes.create(gateway=str(subnet.gateway), dst='default').commit()"," def _remove_ifaces(self, ipdb, ifnames, netns='host'): :param ipdb: ipdb of the network namespace to check if ifname in ipdb.interfaces: with ipdb.interfaces[ifname] as iface: with get_ipdb(netns) as ipdb: with ipdb.interfaces[ifname] as iface: routes = ipdb.routes routes.add(gateway=str(route.gateway), dst=str(route.cidr)).commit() routes.add(gateway=str(subnet.gateway), dst='default').commit()",42,32
openstack%2Fnova-specs~master~Ie2f7491fd6f1edebf260e7df47fcfbce1af530ef,openstack/nova-specs,master,Ie2f7491fd6f1edebf260e7df47fcfbce1af530ef,Create specs directory for Yoga,MERGED,2021-07-10 14:38:03.000000000,2021-07-12 10:49:09.000000000,2021-07-12 10:47:31.000000000,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-10 14:38:03.000000000', 'files': ['specs/yoga/redirects', 'doc/source/specs/yoga/template.rst', 'priorities/yoga-priorities.rst', 'specs/yoga/approved/yoga-template.rst', 'specs/yoga-template.rst', 'doc/source/specs/yoga/approved', 'specs/backlog-template.rst', 'doc/source/specs/yoga/index.rst', 'doc/source/index.rst', 'specs/yoga/implemented/yoga-template.rst', 'doc/source/specs/yoga/implemented', 'doc/source/specs/yoga/redirects'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/b24c65f366eb1e53103a0939d9bc51ed7184f4c7', 'message': 'Create specs directory for Yoga\n\nChange-Id: Ie2f7491fd6f1edebf260e7df47fcfbce1af530ef\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}]",0,800324,b24c65f366eb1e53103a0939d9bc51ed7184f4c7,8,3,1,7634,,,0,"Create specs directory for Yoga

Change-Id: Ie2f7491fd6f1edebf260e7df47fcfbce1af530ef
Signed-off-by: Takashi Natsume <takanattie@gmail.com>
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/24/800324/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/yoga/redirects', 'doc/source/specs/yoga/template.rst', 'priorities/yoga-priorities.rst', 'specs/yoga/approved/yoga-template.rst', 'specs/yoga-template.rst', 'doc/source/specs/yoga/approved', 'specs/backlog-template.rst', 'doc/source/specs/yoga/index.rst', 'doc/source/index.rst', 'specs/yoga/implemented/yoga-template.rst', 'doc/source/specs/yoga/implemented', 'doc/source/specs/yoga/redirects']",12,b24c65f366eb1e53103a0939d9bc51ed7184f4c7,create_yoga_directory,../../../../specs/yoga/redirects,,516,1
openstack%2Freleases~master~I455398e4c7c9bb9187579651ec60451930f4a7e6,openstack/releases,master,I455398e4c7c9bb9187579651ec60451930f4a7e6,Release yaql 2.0.0,MERGED,2021-06-24 17:40:25.000000000,2021-07-12 10:36:16.000000000,2021-07-12 10:36:16.000000000,"[{'_account_id': 14107}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-24 17:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/bd49baf5d6b912f0996ba5b1f0c939af9e176270', 'message': 'Release yaql 1.2.0\n\nChange-Id: I455398e4c7c9bb9187579651ec60451930f4a7e6\n'}, {'number': 2, 'created': '2021-07-09 14:42:11.000000000', 'files': ['deliverables/_independent/yaql.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/5042d16bba39812b74c9cfb2c78619be6ff00bb8', 'message': 'Release yaql 2.0.0\n\nChange-Id: I455398e4c7c9bb9187579651ec60451930f4a7e6\n'}]",2,797996,5042d16bba39812b74c9cfb2c78619be6ff00bb8,24,5,2,16688,,,0,"Release yaql 2.0.0

Change-Id: I455398e4c7c9bb9187579651ec60451930f4a7e6
",git fetch https://review.opendev.org/openstack/releases refs/changes/96/797996/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/yaql.yaml'],1,bd49baf5d6b912f0996ba5b1f0c939af9e176270,yaql_1_2_0, - version: 1.2.0 projects: - repo: openstack/yaql hash: c3bda9eeb1d802cd95b3120925d3786a4f060025,,4,0
openstack%2Ftelemetry-tempest-plugin~master~I4c07e622f2285513c86f168c15b375e62b5594ad,openstack/telemetry-tempest-plugin,master,I4c07e622f2285513c86f168c15b375e62b5594ad,Move doc requirements to doc,MERGED,2021-07-09 07:39:54.000000000,2021-07-12 10:17:35.000000000,2021-07-12 10:17:35.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-09 07:39:54.000000000', 'files': ['requirements.txt', 'doc/requirements.txt', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/590f33806abd61d22a24a5adb122504536a09b84', 'message': 'Move doc requirements to doc\n\nand update tox to later version\n\nChange-Id: I4c07e622f2285513c86f168c15b375e62b5594ad\n'}]",0,800162,590f33806abd61d22a24a5adb122504536a09b84,6,2,1,4264,,,0,"Move doc requirements to doc

and update tox to later version

Change-Id: I4c07e622f2285513c86f168c15b375e62b5594ad
",git fetch https://review.opendev.org/openstack/telemetry-tempest-plugin refs/changes/62/800162/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'doc/requirements.txt', 'setup.cfg', 'tox.ini']",4,590f33806abd61d22a24a5adb122504536a09b84,tox_update,"minversion = 3.18.0sitepackages = Falsedeps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/requirements.txt deps = hacking>=3.0,<3.1.0deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/doc/requirements.txtsetenv = PYTHONHASHSEED=0",minversion = 3.1.1skipsdist = Trueinstall_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages}deps = -r{toxinidir}/test-requirements.txt,16,8
openstack%2Fdiskimage-builder~master~Idcf774384e56cce03e56c0e19c7d08a768606399,openstack/diskimage-builder,master,Idcf774384e56cce03e56c0e19c7d08a768606399,Add a growvols utility for growing LVM volumes,MERGED,2021-05-13 02:46:34.000000000,2021-07-12 10:13:30.000000000,2021-07-12 10:12:12.000000000,"[{'_account_id': 6469}, {'_account_id': 6926}, {'_account_id': 7118}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-05-13 02:46:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/64b7c5047301d82cdd87d9e07c48a0cc41258616', 'message': 'WIP Add a growvols utility for growing LVM volumes\n\nThere is currently no automated way of growing LVM volumes on boot\nlike single partition images do with their growroot mechanism. This\nlack likely contributes to LVM not being widely used on VM and\nbaremetal workloads, since growing to the full disk requires workload\nknowledge to determine which volumes to grow and by what amount.\n\nThe growvols element contributes a growvols python script which can be\nrun on firstboot (via systemd or cloud-init) or manually via\nautomation such as ansible. It is also an iteractive script which\ndisplays the full list of modifying commands before prompting for\nconfirmation to run them all.\n\nBy default the script will grow the root volume, but arguments allow\nany volume to grow by a specified amount, or a percentage of the\navailable disk space.\n\nWIP: needs unit tests on all functions, and a proper mechanism to run\non firstboot with arguments baked into the image.\n\nBlueprint: whole-disk-default\nChange-Id: Idcf774384e56cce03e56c0e19c7d08a768606399\n'}, {'number': 2, 'created': '2021-05-14 01:59:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/966b88db1ca4aff6f6b6c2a7589bf7b28f9172fb', 'message': 'WIP Add a growvols utility for growing LVM volumes\n\nThere is currently no automated way of growing LVM volumes on boot\nlike single partition images do with their growroot mechanism. This\nlack likely contributes to LVM not being widely used on VM and\nbaremetal workloads, since growing to the full disk requires workload\nknowledge to determine which volumes to grow and by what amount.\n\nThe growvols element contributes a growvols python script which can be\nrun on firstboot (via systemd or cloud-init) or manually via\nautomation such as ansible. It is also an iteractive script which\ndisplays the full list of modifying commands before prompting for\nconfirmation to run them all.\n\nBy default the script will grow the root volume, but arguments allow\nany volume to grow by a specified amount, or a percentage of the\navailable disk space.\n\nWIP: needs unit tests on all functions, and a proper mechanism to run\non firstboot with arguments baked into the image.\n\nBlueprint: whole-disk-default\nChange-Id: Idcf774384e56cce03e56c0e19c7d08a768606399\n'}, {'number': 3, 'created': '2021-05-16 23:20:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/80d03c3ec9b8305fb1be46e13255c46486124ba7', 'message': 'WIP Add a growvols utility for growing LVM volumes\n\nThere is currently no automated way of growing LVM volumes on boot\nlike single partition images do with their growroot mechanism. This\nlack likely contributes to LVM not being widely used on VM and\nbaremetal workloads, since growing to the full disk requires workload\nknowledge to determine which volumes to grow and by what amount.\n\nThe growvols element contributes a growvols python script which can be\nrun on firstboot (via systemd or cloud-init) or manually via\nautomation such as ansible. It is also an interactive script which\ndisplays the full list of modifying commands before prompting for\nconfirmation to run them all.\n\nBy default the script will grow the root volume, but arguments allow\nany volume to grow by a specified amount, or a percentage of the\navailable disk space.\n\nWIP: needs unit tests on all functions\n\nBlueprint: whole-disk-default\nChange-Id: Idcf774384e56cce03e56c0e19c7d08a768606399\n'}, {'number': 4, 'created': '2021-05-20 01:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/df51bedcef0875f450213a2490fa9bf0cf1ad959', 'message': 'WIP Add a growvols utility for growing LVM volumes\n\nThere is currently no automated way of growing LVM volumes on boot\nlike single partition images do with their growroot mechanism. This\nlack likely contributes to LVM not being widely used on VM and\nbaremetal workloads, since growing to the full disk requires workload\nknowledge to determine which volumes to grow and by what amount.\n\nThe growvols element contributes a growvols python script which can be\nrun on firstboot (via systemd or cloud-init) or manually via\nautomation such as ansible. It is also an interactive script which\ndisplays the full list of modifying commands before prompting for\nconfirmation to run them all.\n\nBy default the script will grow the root volume, but arguments allow\nany volume to grow by a specified amount, or a percentage of the\navailable disk space.\n\nWIP: needs unit tests on all functions\n\nBlueprint: whole-disk-default\nChange-Id: Idcf774384e56cce03e56c0e19c7d08a768606399\n'}, {'number': 5, 'created': '2021-06-01 05:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/5743a345b15788e76feec6fdbeb117433e0c37ca', 'message': 'Add a growvols utility for growing LVM volumes\n\nThere is currently no automated way of growing LVM volumes on boot\nlike single partition images do with their growroot mechanism. This\nlack likely contributes to LVM not being widely used on VM and\nbaremetal workloads, since growing to the full disk requires workload\nknowledge to determine which volumes to grow and by what amount.\n\nThe growvols element contributes a growvols python script which can be\nrun on firstboot (via systemd or cloud-init) or manually via\nautomation such as ansible. It is also an interactive script which\ndisplays the full list of modifying commands before prompting for\nconfirmation to run them all.\n\nBy default the script will grow the root volume, but arguments allow\nany volume to grow by a specified amount, or a percentage of the\navailable disk space.\n\nBlueprint: whole-disk-default\nChange-Id: Idcf774384e56cce03e56c0e19c7d08a768606399\n'}, {'number': 6, 'created': '2021-06-14 22:28:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/830349b86d6a79c99f688fcd6cf10eb9b60d6010', 'message': 'Add a growvols utility for growing LVM volumes\n\nThere is currently no automated way of growing LVM volumes on boot\nlike single partition images do with their growroot mechanism. This\nlack likely contributes to LVM not being widely used on VM and\nbaremetal workloads, since growing to the full disk requires workload\nknowledge to determine which volumes to grow and by what amount.\n\nThe growvols element contributes a growvols python script which can be\nrun on firstboot (via systemd or cloud-init) or manually via\nautomation such as ansible. It is also an interactive script which\ndisplays the full list of modifying commands before prompting for\nconfirmation to run them all.\n\nBy default the script will grow the root volume, but arguments allow\nany volume to grow by a specified amount, or a percentage of the\navailable disk space.\n\nBlueprint: whole-disk-default\nChange-Id: Idcf774384e56cce03e56c0e19c7d08a768606399\n'}, {'number': 7, 'created': '2021-06-15 02:15:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/4b4ca3de4027709691cb703038d5fb8c98fe5544', 'message': 'Add a growvols utility for growing LVM volumes\n\nThere is currently no automated way of growing LVM volumes on boot\nlike single partition images do with their growroot mechanism. This\nlack likely contributes to LVM not being widely used on VM and\nbaremetal workloads, since growing to the full disk requires workload\nknowledge to determine which volumes to grow and by what amount.\n\nThe growvols element contributes a growvols python script which can be\nrun on firstboot (via systemd or cloud-init) or manually via\nautomation such as ansible. It is also an interactive script which\ndisplays the full list of modifying commands before prompting for\nconfirmation to run them all.\n\nBy default the script will grow the root volume, but arguments allow\nany volume to grow by a specified amount, or a percentage of the\navailable disk space.\n\nBlueprint: whole-disk-default\nChange-Id: Idcf774384e56cce03e56c0e19c7d08a768606399\n'}, {'number': 8, 'created': '2021-06-15 04:33:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/54b90ad1d1cb6debe67966fec8bc2745b9fd2527', 'message': 'Add a growvols utility for growing LVM volumes\n\nThere is currently no automated way of growing LVM volumes on boot\nlike single partition images do with their growroot mechanism. This\nlack likely contributes to LVM not being widely used on VM and\nbaremetal workloads, since growing to the full disk requires workload\nknowledge to determine which volumes to grow and by what amount.\n\nThe growvols element contributes a growvols python script which can be\nrun on firstboot (via systemd or cloud-init) or manually via\nautomation such as ansible. It is also an interactive script which\ndisplays the full list of modifying commands before prompting for\nconfirmation to run them all.\n\nBy default the script will grow the root volume, but arguments allow\nany volume to grow by a specified amount, or a percentage of the\navailable disk space.\n\nBlueprint: whole-disk-default\nChange-Id: Idcf774384e56cce03e56c0e19c7d08a768606399\n'}, {'number': 9, 'created': '2021-06-30 23:17:16.000000000', 'files': ['diskimage_builder/elements/growvols/tests/test_growvols.py', 'diskimage_builder/elements/growvols/environment.d/15-growvols', 'diskimage_builder/elements/growvols/README.rst', 'diskimage_builder/elements/growvols/tests/__init__.py', 'diskimage_builder/elements/growvols/__init__.py', 'diskimage_builder/elements/growvols/init-scripts/systemd/growvols.service', 'diskimage_builder/elements/growvols/post-install.d/80-growvols', 'diskimage_builder/elements/growvols/static/usr/local/sbin/growvols', 'diskimage_builder/elements/growvols/package-installs.yaml', 'diskimage_builder/elements/growvols/element-deps'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a6e0bf83dbb6c6a304379ad6b896d6b7a5573228', 'message': 'Add a growvols utility for growing LVM volumes\n\nThere is currently no automated way of growing LVM volumes on boot\nlike single partition images do with their growroot mechanism. This\nlack likely contributes to LVM not being widely used on VM and\nbaremetal workloads, since growing to the full disk requires workload\nknowledge to determine which volumes to grow and by what amount.\n\nThe growvols element contributes a growvols python script which can be\nrun on firstboot (via systemd or cloud-init) or manually via\nautomation such as ansible. It is also an interactive script which\ndisplays the full list of modifying commands before prompting for\nconfirmation to run them all.\n\nBy default the script will grow the root volume, but arguments allow\nany volume to grow by a specified amount, or a percentage of the\navailable disk space.\n\nBlueprint: whole-disk-default\nChange-Id: Idcf774384e56cce03e56c0e19c7d08a768606399\n'}]",6,791083,a6e0bf83dbb6c6a304379ad6b896d6b7a5573228,70,6,9,4571,,,0,"Add a growvols utility for growing LVM volumes

There is currently no automated way of growing LVM volumes on boot
like single partition images do with their growroot mechanism. This
lack likely contributes to LVM not being widely used on VM and
baremetal workloads, since growing to the full disk requires workload
knowledge to determine which volumes to grow and by what amount.

The growvols element contributes a growvols python script which can be
run on firstboot (via systemd or cloud-init) or manually via
automation such as ansible. It is also an interactive script which
displays the full list of modifying commands before prompting for
confirmation to run them all.

By default the script will grow the root volume, but arguments allow
any volume to grow by a specified amount, or a percentage of the
available disk space.

Blueprint: whole-disk-default
Change-Id: Idcf774384e56cce03e56c0e19c7d08a768606399
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/83/791083/9 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/growvols/README.rst', 'diskimage_builder/elements/growvols/init-scripts/systemd/growvols.service', 'diskimage_builder/elements/growvols/post-install.d/80-growvols', 'diskimage_builder/elements/growvols/static/usr/local/sbin/growvols', 'diskimage_builder/elements/growvols/element-deps']",5,64b7c5047301d82cdd87d9e07c48a0cc41258616,bp/whole-disk-default,dib-init-system install-static ,,597,0
openstack%2Fdiskimage-builder~master~I6d91166bb237f2a1818cae7532e794ef0f01288b,openstack/diskimage-builder,master,I6d91166bb237f2a1818cae7532e794ef0f01288b,cache-url : turn down verbose curl,MERGED,2021-06-24 00:11:39.000000000,2021-07-12 09:56:40.000000000,2021-07-12 09:55:28.000000000,"[{'_account_id': 6469}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-24 00:11:39.000000000', 'files': ['diskimage_builder/elements/cache-url/bin/cache-url'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ba5bcce0360f58e8f1b20e8bef8ea5bc957d4eb5', 'message': 'cache-url : turn down verbose curl\n\ncurl\'s ""-v"" is a bit too verbose for ""-x"", especially when what you\'re\ndownloading bounces through a few redirects as is common.  Turn this\ndown and put it behind ""-xx"" or greater.\n\nChange-Id: I6d91166bb237f2a1818cae7532e794ef0f01288b\n'}]",0,797791,ba5bcce0360f58e8f1b20e8bef8ea5bc957d4eb5,13,2,1,7118,,,0,"cache-url : turn down verbose curl

curl's ""-v"" is a bit too verbose for ""-x"", especially when what you're
downloading bounces through a few redirects as is common.  Turn this
down and put it behind ""-xx"" or greater.

Change-Id: I6d91166bb237f2a1818cae7532e794ef0f01288b
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/91/797791/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/cache-url/bin/cache-url'],1,ba5bcce0360f58e8f1b20e8bef8ea5bc957d4eb5,curl-verbose,"CURL_DASH_V='' if [ ${DIB_DEBUG_TRACE:-0} -gt 1 ]; then CURL_DASH_V='-v' fi rcode=$(curl ${CURL_DASH_V} -L -o $tmp -w '%{http_code}' --connect-timeout 10 ""${curl_opts[@]}"" $url $time_cond)","rcode=$(curl -v -L -o $tmp -w '%{http_code}' --connect-timeout 10 ""${curl_opts[@]}"" $url $time_cond)",6,1
openstack%2Freleases~master~If6a766c42389a20fd71a768cfc9c718e75265020,openstack/releases,master,If6a766c42389a20fd71a768cfc9c718e75265020,"Neutron stable releases (Ussuri, Victoria, Wallaby)",MERGED,2021-07-08 12:47:00.000000000,2021-07-12 09:51:49.000000000,2021-07-12 09:51:49.000000000,"[{'_account_id': 308}, {'_account_id': 841}, {'_account_id': 11975}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 12:47:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/1052d10cdba2da3e271c4bed343f32de824f173c', 'message': 'Neutron stable releases (Ussuri, Victoria, Wallaby)\n\nChange-Id: If6a766c42389a20fd71a768cfc9c718e75265020\n'}, {'number': 2, 'created': '2021-07-08 17:53:27.000000000', 'files': ['deliverables/victoria/neutron.yaml', 'deliverables/wallaby/neutron.yaml', 'deliverables/ussuri/neutron.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f4a720558d8b130a1a84563bdc3747c653c523c3', 'message': 'Neutron stable releases (Ussuri, Victoria, Wallaby)\n\nChange-Id: If6a766c42389a20fd71a768cfc9c718e75265020\n'}]",3,800029,f4a720558d8b130a1a84563bdc3747c653c523c3,13,6,2,11805,,,0,"Neutron stable releases (Ussuri, Victoria, Wallaby)

Change-Id: If6a766c42389a20fd71a768cfc9c718e75265020
",git fetch https://review.opendev.org/openstack/releases refs/changes/29/800029/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/neutron.yaml', 'deliverables/wallaby/neutron.yaml', 'deliverables/ussuri/neutron.yaml']",3,1052d10cdba2da3e271c4bed343f32de824f173c,, - version: 16.3.3 projects: - repo: openstack/neutron hash: d07ad0324ab2e6171bb57997960c13159813c712,,12,0
openstack%2Fswift~master~Ida8ea98ad23c63f99a002dc77df49ba8b5bf820e,openstack/swift,master,Ida8ea98ad23c63f99a002dc77df49ba8b5bf820e,Sharder: Add root_audit overlap stats,MERGED,2021-07-01 07:16:59.000000000,2021-07-12 09:48:15.000000000,2021-07-12 09:46:55.000000000,"[{'_account_id': 1179}, {'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-01 07:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b3d324680527387d9b4cd03f8c3f0a9fcf5f5b03', 'message': 'Sharder: Add root_audit overlap stats\n\nWe currently log overlaps as a warning in the logs, but having the stats\nlogged to recon so we can pull the data more readily is a win.\n\nChange-Id: Ida8ea98ad23c63f99a002dc77df49ba8b5bf820e\n'}, {'number': 2, 'created': '2021-07-02 02:09:17.000000000', 'files': ['test/unit/container/test_sharder.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/e0ba83eca333038cb9bb166c1e4b6121f3ac3656', 'message': 'Sharder: Add root_audit overlap stats\n\nWe currently log overlaps as a warning in the logs, but having the stats\nlogged to recon so we can pull the data more readily is a win.\n\nChange-Id: Ida8ea98ad23c63f99a002dc77df49ba8b5bf820e\n'}]",3,798994,e0ba83eca333038cb9bb166c1e4b6121f3ac3656,15,3,2,7233,,,0,"Sharder: Add root_audit overlap stats

We currently log overlaps as a warning in the logs, but having the stats
logged to recon so we can pull the data more readily is a win.

Change-Id: Ida8ea98ad23c63f99a002dc77df49ba8b5bf820e
",git fetch https://review.opendev.org/openstack/swift refs/changes/94/798994/2 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_sharder.py', 'swift/container/sharder.py']",2,b3d324680527387d9b4cd03f8c3f0a9fcf5f5b03,sharder_add_overlap_stats," ('audit_root', default_stats + ('has_overlap', 'num_overlap')), self._increment_stat('audit_root', 'has_overlap') self._increment_stat('audit_root', 'num_overlap', step=len(overlaps))"," ('audit_root', default_stats),",6,2
openstack%2Ftrove~master~I9e3165ed9b38b15714542e35456415e65d438497,openstack/trove,master,I9e3165ed9b38b15714542e35456415e65d438497,Keep user defined configuration after resizing instance,MERGED,2021-07-08 11:49:00.000000000,2021-07-12 09:14:07.000000000,2021-07-12 09:12:40.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 11:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/d0bca6271cc807f59fcf60c51c6482e9c4ec7c96', 'message': 'Fix resize instance of replication cluster\n\nWhen resizing instances of replication cluster, we should restore\nthe replication config.\n\nStory: 2009033\nTask: 42773\nChange-Id: I9e3165ed9b38b15714542e35456415e65d438497\n'}, {'number': 2, 'created': '2021-07-09 01:04:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/34ab79704bd3a4564516e4b0b19eb09752b5e372', 'message': 'Fix resize instance of replication cluster\n\nWhen resizing instances of replication cluster, we should restore\nthe replication config.\n\nStory: 2009033\nTask: 42773\nChange-Id: I9e3165ed9b38b15714542e35456415e65d438497\n'}, {'number': 3, 'created': '2021-07-09 01:08:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/7dd3cab859ac350ba975bfb5be6133e9cb28a1db', 'message': 'Restore configuration after resizing instance\n\nThe instance configuration is lost after resizing, which should be fixed\nby this patch, not only including the user customized configuration,\nbut also the replication related config.\n\nStory: 2009033\nTask: 42773\nChange-Id: I9e3165ed9b38b15714542e35456415e65d438497\n'}, {'number': 4, 'created': '2021-07-10 02:08:43.000000000', 'files': ['trove/guestagent/datastore/postgres/manager.py', 'trove/guestagent/datastore/mysql_common/service.py', 'trove/guestagent/datastore/manager.py', 'trove/guestagent/datastore/postgres/service.py', 'trove/guestagent/datastore/mysql_common/manager.py', 'trove/guestagent/common/configuration.py', 'trove/taskmanager/models.py', 'trove/guestagent/api.py', 'releasenotes/notes/xena-fix-resize-instance.yaml', 'trove/guestagent/datastore/service.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/c274ab9f1a9b270c0ec2cb2d4aebe052aa37d416', 'message': ""Keep user defined configuration after resizing instance\n\n* Never remove user defined config, changing the function name from\n  save_configuration to reset_configuration in trove-guestagent.\n* Improved some logs\n* Do not remove Innodb Log Files after resize which will cause error:\n  Can't open and lock privilege tables: Table './mysql/user' is marked\n  as crashed and should be repaired\n\nStory: 2009033\nTask: 42773\nChange-Id: I9e3165ed9b38b15714542e35456415e65d438497\n""}]",0,800019,c274ab9f1a9b270c0ec2cb2d4aebe052aa37d416,16,2,4,6732,,,0,"Keep user defined configuration after resizing instance

* Never remove user defined config, changing the function name from
  save_configuration to reset_configuration in trove-guestagent.
* Improved some logs
* Do not remove Innodb Log Files after resize which will cause error:
  Can't open and lock privilege tables: Table './mysql/user' is marked
  as crashed and should be repaired

Story: 2009033
Task: 42773
Change-Id: I9e3165ed9b38b15714542e35456415e65d438497
",git fetch https://review.opendev.org/openstack/trove refs/changes/19/800019/4 && git format-patch -1 --stdout FETCH_HEAD,['trove/taskmanager/models.py'],1,d0bca6271cc807f59fcf60c51c6482e9c4ec7c96,fix-resize," LOG.exception(f""Failed to resize instance {self.instance.id}"") LOG.error(f""Restarting instance {self.instance.id}"") LOG.error(f""Cannot restart instance {self.instance.id} "" f""because Nova server status is not ACTIVE"") context = self.instance.context # This is needed for the following actions, the new flavor ID is not # set yet. self.instance.db_info.flavor_id = self.new_flavor_id # Restore replication config for primary if self.instance.slaves: LOG.info(f""Enabling {self.instance.id} as primay after resize"") self.instance.enable_as_master() # Restart all the replicas to reconnect with the primary for replica in self.instance.slaves: LOG.info(f""Restarting replica {replica.id} after resizing "" f""primary {self.instance.id}"") replica_ins = Instance.load(context, replica.id) replica_ins.restart() # Restore replication config for replica if self.instance.slave_of_id: LOG.info(f""Re-attaching replica {self.instance.id} after resize"") primary = BuiltInstanceTasks.load( context, self.instance.slave_of_id) self.instance.detach_replica(primary, for_failover=True) self.instance.attach_replica(primary, restart=True) "," LOG.exception(""Exception during nova action."") LOG.error(""Restarting datastore."") LOG.error(""Cannot restart datastore because "" ""Nova server status is not ACTIVE"") LOG.error(""Error resizing instance %s."", self.instance.id)",29,5
openstack%2Ftripleo-operator-ansible~master~I58c73de1df26009ae11ac9bdb56023c818e6f54f,openstack/tripleo-operator-ansible,master,I58c73de1df26009ae11ac9bdb56023c818e6f54f,tripleo_overcloud_node_introspect: Add log output,MERGED,2021-07-09 12:01:06.000000000,2021-07-12 09:10:26.000000000,2021-07-12 09:10:26.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-09 12:01:06.000000000', 'files': ['roles/tripleo_overcloud_node_introspect/tasks/main.yml', 'roles/tripleo_overcloud_node_introspect/molecule/default/converge.yml', 'roles/tripleo_overcloud_node_introspect/README.md', 'roles/tripleo_overcloud_node_introspect/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/d2619150b537a07941871e6be0108a0e69d96333', 'message': 'tripleo_overcloud_node_introspect: Add log output\n\nThe log output will be useful in order to debug the failures.\n\nChange-Id: I58c73de1df26009ae11ac9bdb56023c818e6f54f\n'}]",0,800210,d2619150b537a07941871e6be0108a0e69d96333,12,8,1,29775,,,0,"tripleo_overcloud_node_introspect: Add log output

The log output will be useful in order to debug the failures.

Change-Id: I58c73de1df26009ae11ac9bdb56023c818e6f54f
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/10/800210/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_overcloud_node_introspect/tasks/main.yml', 'roles/tripleo_overcloud_node_introspect/molecule/default/converge.yml', 'roles/tripleo_overcloud_node_introspect/README.md', 'roles/tripleo_overcloud_node_introspect/defaults/main.yml']",4,d2619150b537a07941871e6be0108a0e69d96333,,"tripleo_overcloud_node_introspect_log: ""{{ tripleo_overcloud_node_introspect_home_dir }}/overcloud_node_introspect.log"" tripleo_overcloud_node_introspect_log_combine: true tripleo_overcloud_node_introspect_log_output: true",,28,0
openstack%2Fdiskimage-builder~master~I704356082e2c25d21aff3c5433efa077259b0b1d,openstack/diskimage-builder,master,I704356082e2c25d21aff3c5433efa077259b0b1d,Migrate from testr to stestr,MERGED,2021-05-03 11:17:23.000000000,2021-07-12 08:45:25.000000000,2021-07-12 08:43:53.000000000,"[{'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-05-03 11:17:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/c25801dda32db209d504c0714b7ff35f8f2410ab', 'message': 'Migrate from testr to stestr\n\n* Replace .testr.conf by .stestr.conf for migration and update\n  .gitignore and test-requirements.txt files accordingly\n* Use py3 as the default runtime for tox\n\nSigned-off-by: HeroicHitesh <email.hiteshkumar@gmail.com>\nChange-Id: I704356082e2c25d21aff3c5433efa077259b0b1d\n'}, {'number': 2, 'created': '2021-05-17 12:10:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/41ea089852eddeab1df5eb2da627ab9d6cf695c2', 'message': 'Migrate from testr to stestr\n\n* Replace .testr.conf by .stestr.conf for migration and update\n  .gitignore, test-requirements.txt and lower-constraints.txt\n  files accordingly\n* Use py3 as the default runtime for tox\n\nSigned-off-by: HeroicHitesh <email.hiteshkumar@gmail.com>\nChange-Id: I704356082e2c25d21aff3c5433efa077259b0b1d\n'}, {'number': 3, 'created': '2021-05-18 05:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/cd1b9d41eaed353e41e6ce86489e515a6a4689c0', 'message': 'Migrate from testr to stestr\n\n* Replace .testr.conf by .stestr.conf for migration and update\n  .gitignore, test-requirements.txt and lower-constraints.txt\n  files accordingly\n* Use py3 as the default runtime for tox\n\nSigned-off-by: HeroicHitesh <email.hiteshkumar@gmail.com>\nChange-Id: I704356082e2c25d21aff3c5433efa077259b0b1d\n'}, {'number': 4, 'created': '2021-05-20 06:03:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e94508afc6bfbcb887737aaa0272ff2d3c663497', 'message': 'Migrate from testr to stestr\n\n* Replace .testr.conf by .stestr.conf for migration and update\n  .gitignore, test-requirements.txt and lower-constraints.txt\n  files accordingly\n* Use py3 as the default runtime and 3.18.0 as the minversion\n  for tox\n\nSigned-off-by: HeroicHitesh <email.hiteshkumar@gmail.com>\nChange-Id: I704356082e2c25d21aff3c5433efa077259b0b1d\n'}, {'number': 5, 'created': '2021-06-30 13:30:25.000000000', 'files': ['.gitignore', 'test-requirements.txt', '.testr.conf', 'lower-constraints.txt', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/687a3127d398a1e2c8cf29b95b0c3cb7ab5cab01', 'message': 'Migrate from testr to stestr\n\n* Replace .testr.conf by .stestr.conf for migration and update\n  .gitignore, test-requirements.txt and lower-constraints.txt\n  files accordingly\n* Use py3 as the default runtime and 3.18.0 as the minversion\n  for tox\n* Add group_regex to run all tests\n\nSigned-off-by: HeroicHitesh <email.hiteshkumar@gmail.com>\nChange-Id: I704356082e2c25d21aff3c5433efa077259b0b1d\n'}]",3,789246,687a3127d398a1e2c8cf29b95b0c3cb7ab5cab01,40,4,5,33370,,,0,"Migrate from testr to stestr

* Replace .testr.conf by .stestr.conf for migration and update
  .gitignore, test-requirements.txt and lower-constraints.txt
  files accordingly
* Use py3 as the default runtime and 3.18.0 as the minversion
  for tox
* Add group_regex to run all tests

Signed-off-by: HeroicHitesh <email.hiteshkumar@gmail.com>
Change-Id: I704356082e2c25d21aff3c5433efa077259b0b1d
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/46/789246/4 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'test-requirements.txt', '.testr.conf', 'tox.ini', '.stestr.conf']",5,c25801dda32db209d504c0714b7ff35f8f2410ab,stestr,[DEFAULT] test_path=./tests/ top_dir=./ ,,19,16
openstack%2Fproject-config~master~I1631a7638c7ed4a8da03f6f7aeb94c892d492464,openstack/project-config,master,I1631a7638c7ed4a8da03f6f7aeb94c892d492464,add acls for tricirlce under x namespaces,ABANDONED,2021-07-12 03:43:31.000000000,2021-07-12 07:53:18.000000000,,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-12 03:43:31.000000000', 'files': ['gerrit/acls/x/tricircle.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d7d576dba5964e5ce920f93e6159a7595ec46ce9', 'message': 'add acls for tricirlce under x namespaces\n\nChange-Id: I1631a7638c7ed4a8da03f6f7aeb94c892d492464\n'}]",0,800404,d7d576dba5964e5ce920f93e6159a7595ec46ce9,4,2,1,28071,,,0,"add acls for tricirlce under x namespaces

Change-Id: I1631a7638c7ed4a8da03f6f7aeb94c892d492464
",git fetch https://review.opendev.org/openstack/project-config refs/changes/04/800404/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/acls/x/tricircle.config'],1,d7d576dba5964e5ce920f93e6159a7595ec46ce9,,"[access ""refs/heads/*""] abandon = group tricircle-core create = group tricircle-release label-Code-Review = -2..+2 group tricircle-core label-Workflow = -1..+1 group tricircle-core [access ""refs/tags/*""] pushSignedTag = group tricircle-release [receive] requireChangeId = true requireContributorAgreement = true [submit] mergeContent = true ",,15,0
openstack%2Fproject-config~master~I228bffa92bfea6c88ba4a1ef6e0306b64f9b4831,openstack/project-config,master,I228bffa92bfea6c88ba4a1ef6e0306b64f9b4831,register andd return back tricircle under x namespaces,ABANDONED,2021-07-09 10:08:37.000000000,2021-07-12 07:52:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-09 10:08:37.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d10662fb01b7f5dffc0003887b7b93d1e4b914d1', 'message': 'register andd return back tricircle under x namespaces\n\nChange-Id: I228bffa92bfea6c88ba4a1ef6e0306b64f9b4831\n'}]",0,800196,d10662fb01b7f5dffc0003887b7b93d1e4b914d1,3,1,1,28071,,,0,"register andd return back tricircle under x namespaces

Change-Id: I228bffa92bfea6c88ba4a1ef6e0306b64f9b4831
",git fetch https://review.opendev.org/openstack/project-config refs/changes/96/800196/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,d10662fb01b7f5dffc0003887b7b93d1e4b914d1,,- project: x/tricircle description: The Tricircle is to provide networking automation across Neutron in multi-region OpenStack deployments.,,3,0
openstack%2Ftrove~master~I3e6f34318d62785d9883bb294c1fdd50c62ab1d4,openstack/trove,master,I3e6f34318d62785d9883bb294c1fdd50c62ab1d4,don't override old config when resize instance's flavor,ABANDONED,2021-07-05 16:28:37.000000000,2021-07-12 07:37:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-05 16:28:37.000000000', 'files': ['trove/guestagent/common/configuration.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/241544654bd374328a7c11e82af095f0d2542107', 'message': ""don't override old config when resize instance's flavor\n\nTask: #42773\nStory: #2009033\nChange-Id: I3e6f34318d62785d9883bb294c1fdd50c62ab1d4\n""}]",0,799531,241544654bd374328a7c11e82af095f0d2542107,3,1,1,28691,,,0,"don't override old config when resize instance's flavor

Task: #42773
Story: #2009033
Change-Id: I3e6f34318d62785d9883bb294c1fdd50c62ab1d4
",git fetch https://review.opendev.org/openstack/trove refs/changes/31/799531/1 && git format-patch -1 --stdout FETCH_HEAD,['trove/guestagent/common/configuration.py'],1,241544654bd374328a7c11e82af095f0d2542107,fix-lost-config, # We don't need to do this when we resize instance's flavors # self._override_strategy.remove(self.USER_GROUP) # self._override_strategy.remove(self.SYSTEM_PRE_USER_GROUP) # self._override_strategy.remove(self.SYSTEM_POST_USER_GROUP), self._override_strategy.remove(self.USER_GROUP) self._override_strategy.remove(self.SYSTEM_PRE_USER_GROUP) self._override_strategy.remove(self.SYSTEM_POST_USER_GROUP),4,3
openstack%2Fmagnum~master~I4e6886b82d4584591f2a9325325a51d97d5f6740,openstack/magnum,master,I4e6886b82d4584591f2a9325325a51d97d5f6740,Fix CPO for k8s v1.21+,ABANDONED,2021-07-12 00:19:08.000000000,2021-07-12 05:41:12.000000000,,"[{'_account_id': 6732}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2021-07-12 00:19:08.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/kube-apiserver-to-kubelet-role.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/30d18f11f1d5130c501dd6da18e7bc9563941a28', 'message': 'Fix CPO for k8s v1.21+\n\nFrom k8s v1.21, the cloud controller manager must come with\nthe --cloud-provider parameter otherwise it cannot start\nproperly.\n\nTask: 42808\nStory: 2009044\n\nChange-Id: I4e6886b82d4584591f2a9325325a51d97d5f6740\n'}]",0,800345,30d18f11f1d5130c501dd6da18e7bc9563941a28,4,4,1,6484,,,0,"Fix CPO for k8s v1.21+

From k8s v1.21, the cloud controller manager must come with
the --cloud-provider parameter otherwise it cannot start
properly.

Task: 42808
Story: 2009044

Change-Id: I4e6886b82d4584591f2a9325325a51d97d5f6740
",git fetch https://review.opendev.org/openstack/magnum refs/changes/45/800345/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/common/templates/kubernetes/fragments/kube-apiserver-to-kubelet-role.sh'],1,30d18f11f1d5130c501dd6da18e7bc9563941a28,story/2009044-fix-cpo, - --cloud-provider=openstack,,1,0
openstack%2Fpaunch~stable%2Ftrain~I315ed6d8315446faedb85fd038f369a6e73115cc,openstack/paunch,stable/train,I315ed6d8315446faedb85fd038f369a6e73115cc,[TRAIN ONLY] WIP - Clean up containers with default managed_by,ABANDONED,2021-07-07 10:43:05.000000000,2021-07-12 05:21:43.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-07-07 10:43:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/b4268d7859043b4deda7b1a33d339816f578c5e8', 'message': ""[TRAIN ONLY] WIP - Clean up containers with default managed_by\n\nWhen containers are created with the default\nmanaged_by label, TripleO deployments will fail\nto recreate the containers. This happens often\nenough that it's work deleting the containers\nand recreating them with the correct managed_by\nlabel.\n\nResolves: rhbz#1976830\nChange-Id: I315ed6d8315446faedb85fd038f369a6e73115cc\n""}, {'number': 2, 'created': '2021-07-08 01:10:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/c06f789c014a22fc1cca9d39deb9f655453a00a4', 'message': ""[TRAIN ONLY] WIP - Clean up containers with default managed_by\n\nWhen containers are created with the default\nmanaged_by label, TripleO deployments will fail\nto recreate the containers. This happens often\nenough that it's work deleting the containers\nand recreating them with the correct managed_by\nlabel.\n\nResolves: rhbz#1976830\nChange-Id: I315ed6d8315446faedb85fd038f369a6e73115cc\n""}, {'number': 3, 'created': '2021-07-08 01:12:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/18b54620ef186bae0b3d086ba6cbcdfecb9fe7d6', 'message': ""[TRAIN ONLY] WIP - Clean up containers with default managed_by\n\nWhen containers are created with the default\nmanaged_by label, TripleO deployments will fail\nto recreate the containers. This happens often\nenough that it's work deleting the containers\nand recreating them with the correct managed_by\nlabel.\n\nResolves: rhbz#1976830\nChange-Id: I315ed6d8315446faedb85fd038f369a6e73115cc\n""}, {'number': 4, 'created': '2021-07-08 01:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/465cfc22b98a11c15b2f272a617104426f0f4de3', 'message': ""[TRAIN ONLY] WIP - Clean up containers with default managed_by\n\nWhen containers are created with the default\nmanaged_by label, TripleO deployments will fail\nto recreate the containers. This happens often\nenough that it's work deleting the containers\nand recreating them with the correct managed_by\nlabel.\n\nResolves: rhbz#1976830\nChange-Id: I315ed6d8315446faedb85fd038f369a6e73115cc\n""}, {'number': 5, 'created': '2021-07-08 02:38:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/51d4d10fcdfc0b02904b0c5fac1816f695fb1de7', 'message': ""[TRAIN ONLY] WIP - Clean up containers with default managed_by\n\nWhen containers are created with the default\nmanaged_by label, TripleO deployments will fail\nto recreate the containers. This happens often\nenough that it's work deleting the containers\nand recreating them with the correct managed_by\nlabel.\n\nResolves: rhbz#1976830\nChange-Id: I315ed6d8315446faedb85fd038f369a6e73115cc\n""}, {'number': 6, 'created': '2021-07-08 04:10:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/90de0d27cf368bbdc41b63d7e0e4e1e3b2450264', 'message': ""[TRAIN ONLY] WIP - Clean up containers with default managed_by\n\nWhen containers are created with the default\nmanaged_by label, TripleO deployments will fail\nto recreate the containers. This happens often\nenough that it's work deleting the containers\nand recreating them with the correct managed_by\nlabel.\n\nResolves: rhbz#1976830\nChange-Id: I315ed6d8315446faedb85fd038f369a6e73115cc\n""}, {'number': 7, 'created': '2021-07-08 05:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/2d204a52c34e655221459c4a606f1e8ca3bd8997', 'message': ""[TRAIN ONLY] WIP - Clean up containers with default managed_by\n\nWhen containers are created with the default\nmanaged_by label, TripleO deployments will fail\nto recreate the containers. This happens often\nenough that it's work deleting the containers\nand recreating them with the correct managed_by\nlabel.\n\nResolves: rhbz#1976830\nChange-Id: I315ed6d8315446faedb85fd038f369a6e73115cc\n""}, {'number': 8, 'created': '2021-07-08 10:13:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/bb9c474810e863e7a103a97955ba62179b20ec00', 'message': ""[TRAIN ONLY] WIP - Clean up containers with default managed_by\n\nWhen containers are created with the default\nmanaged_by label, TripleO deployments will fail\nto recreate the containers. This happens often\nenough that it's work deleting the containers\nand recreating them with the correct managed_by\nlabel.\n\nResolves: rhbz#1976830\nChange-Id: I315ed6d8315446faedb85fd038f369a6e73115cc\n""}, {'number': 9, 'created': '2021-07-08 10:15:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/0a74c0ee88ca30aafe92f6fe0b02376f5af89f18', 'message': ""[TRAIN ONLY] WIP - Clean up containers with default managed_by\n\nWhen containers are created with the default\nmanaged_by label, TripleO deployments will fail\nto recreate the containers. This happens often\nenough that it's work deleting the containers\nand recreating them with the correct managed_by\nlabel.\n\nResolves: rhbz#1976830\nChange-Id: I315ed6d8315446faedb85fd038f369a6e73115cc\n""}, {'number': 10, 'created': '2021-07-08 14:43:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/bd24a99b933df22f29e20e3319b53be69e847e9d', 'message': ""[TRAIN ONLY] WIP - Clean up containers with default managed_by\n\nWhen containers are created with the default\nmanaged_by label, TripleO deployments will fail\nto recreate the containers. This happens often\nenough that it's work deleting the containers\nand recreating them with the correct managed_by\nlabel.\n\nResolves: rhbz#1976830\nChange-Id: I315ed6d8315446faedb85fd038f369a6e73115cc\n""}, {'number': 11, 'created': '2021-07-09 10:24:12.000000000', 'files': ['paunch/tests/test_runner.py', 'paunch/runner.py', 'paunch/tests/test_builder_base.py', 'paunch/builder/base.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/916ceb0f4605220c8770dccf3e40ca32e8feb4a7', 'message': ""[TRAIN ONLY] WIP - Clean up containers with default managed_by\n\nWhen containers are created with the default\nmanaged_by label, TripleO deployments will fail\nto recreate the containers. This happens often\nenough that it's work deleting the containers\nand recreating them with the correct managed_by\nlabel.\n\nResolves: rhbz#1976830\nChange-Id: I315ed6d8315446faedb85fd038f369a6e73115cc\n""}]",12,799786,916ceb0f4605220c8770dccf3e40ca32e8feb4a7,36,3,11,30073,,,0,"[TRAIN ONLY] WIP - Clean up containers with default managed_by

When containers are created with the default
managed_by label, TripleO deployments will fail
to recreate the containers. This happens often
enough that it's work deleting the containers
and recreating them with the correct managed_by
label.

Resolves: rhbz#1976830
Change-Id: I315ed6d8315446faedb85fd038f369a6e73115cc
",git fetch https://review.opendev.org/openstack/paunch refs/changes/86/799786/4 && git format-patch -1 --stdout FETCH_HEAD,"['paunch/runner.py', 'paunch/builder/base.py']",2,b4268d7859043b4deda7b1a33d339816f578c5e8,clean_default_containers," # Containers created with managed_by=paunch are # probably not supposed to be here. We should clean # them up and recreate with the correct managed_by label if ""paunch"" in inspect_info['Config']['Labels']['managed_by']: self.runner.remove_container(container) return True",,23,16
openstack%2Fpuppet-placement~master~I3f669686896b543f751fe2145bdc2f40aaa310bf,openstack/puppet-placement,master,I3f669686896b543f751fe2145bdc2f40aaa310bf,Run placmeent on an independent port by default,ABANDONED,2020-08-07 00:59:08.000000000,2021-07-12 02:49:03.000000000,,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-07 00:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/1b5ed0aa1913837be26735dec7f0317ce73f574f', 'message': 'Change default api_port\n\nThis patch replaces the current default api port(80) by 8778, because\ntcp/8778 is more commonly used as placement service port.\n\nChange-Id: I3f669686896b543f751fe2145bdc2f40aaa310bf\n'}, {'number': 2, 'created': '2020-08-31 13:46:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/e8fb4756f29f6b47eb8eba00a9fd71955d71bbe7', 'message': 'Change default api_port\n\nThis patch makes placmenet service use dedicated port, tcp/8778,\ninstead of the default apache port, tcp/80, to follows the way\ndescribed in installation guide[1], and be consistent among all\nservices deployed as wsgi services.\n\n[1] https://docs.openstack.org/placement/latest/install/\n\nDepends-on: https://review.opendev.org/#/c/749058/\nChange-Id: I3f669686896b543f751fe2145bdc2f40aaa310bf\n'}, {'number': 3, 'created': '2020-08-31 13:49:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/2997d3ca8aca859b16c5a95f5c7239f37581eb46', 'message': 'Run placmeent on an independent port by default\n\nThis patch makes placmenet service use dedicated port, tcp/8778,\ninstead of the default apache port, tcp/80, to follows the way\ndescribed in installation guide[1], and be consistent among all\nservices deployed as wsgi services.\n\n[1] https://docs.openstack.org/placement/latest/install/\n\nDepends-on: https://review.opendev.org/#/c/749058/\nChange-Id: I3f669686896b543f751fe2145bdc2f40aaa310bf\n'}, {'number': 4, 'created': '2020-08-31 14:23:45.000000000', 'files': ['manifests/wsgi/apache.pp', 'releasenotes/notes/use-dedicated-port-for-api-7d364ea07e1dc180.yaml', 'spec/classes/placement_wsgi_apache.rb', 'manifests/keystone/auth.pp', 'spec/classes/placement_keystone_auth_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/2a02ecbc092480e690738145ad3c856358fe0f97', 'message': 'Run placmeent on an independent port by default\n\nThis patch makes placmenet service use dedicated port, tcp/8778,\ninstead of the default apache port, tcp/80, to follows the way\ndescribed in installation guide[1], and be consistent among all\nservices deployed as wsgi services.\n\n[1] https://docs.openstack.org/placement/latest/install/\n\nDepends-on: https://review.opendev.org/#/c/749058/\nChange-Id: I3f669686896b543f751fe2145bdc2f40aaa310bf\n'}]",3,745272,2a02ecbc092480e690738145ad3c856358fe0f97,18,5,4,9816,,,0,"Run placmeent on an independent port by default

This patch makes placmenet service use dedicated port, tcp/8778,
instead of the default apache port, tcp/80, to follows the way
described in installation guide[1], and be consistent among all
services deployed as wsgi services.

[1] https://docs.openstack.org/placement/latest/install/

Depends-on: https://review.opendev.org/#/c/749058/
Change-Id: I3f669686896b543f751fe2145bdc2f40aaa310bf
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/72/745272/4 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache.pp', 'releasenotes/notes/default-api-port-8778-0f24f382fa1a8d63.yaml', 'spec/classes/placement_wsgi_apache.rb']",3,1b5ed0aa1913837be26735dec7f0317ce73f574f,placement-port," :bind_port => 8778,"," :bind_port => 80,",21,4
openstack%2Fzaqar~master~Iff1e39b4b9d89ff925f5b21774265ea1bc9a0b5f,openstack/zaqar,master,Iff1e39b4b9d89ff925f5b21774265ea1bc9a0b5f,Fix confirmation api doc missing,MERGED,2021-07-09 02:02:35.000000000,2021-07-12 01:53:28.000000000,2021-07-12 01:52:15.000000000,"[{'_account_id': 22348}, {'_account_id': 31882}]","[{'number': 1, 'created': '2021-07-09 02:02:35.000000000', 'files': ['api-ref/source/parameters.yaml', 'api-ref/source/samples/subscription-confirm-request.json', 'api-ref/source/subscription.inc'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/96d9c97e556e21fd969432c67472dbcc21013927', 'message': ""Fix confirmation api doc missing\n\nZaqar didn't update the api doc after supporting\nthe confirmation feature.\n\nChange-Id: Iff1e39b4b9d89ff925f5b21774265ea1bc9a0b5f\n""}]",0,800150,96d9c97e556e21fd969432c67472dbcc21013927,7,2,1,8846,,,0,"Fix confirmation api doc missing

Zaqar didn't update the api doc after supporting
the confirmation feature.

Change-Id: Iff1e39b4b9d89ff925f5b21774265ea1bc9a0b5f
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/50/800150/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'api-ref/source/samples/subscription-confirm-request.json', 'api-ref/source/subscription.inc']",3,96d9c97e556e21fd969432c67472dbcc21013927,fix-confirmation-api-doc-missing, Confirm Subscription ==================== .. rest_method:: POST /v2/queues/{queue_name}/subscriptions/{subscription_id}/confirm Confirm a subscription. This operation can confirm or cancel a subscription. Response codes -------------- .. rest_status_code:: success status.yaml - 201 .. rest_status_code:: error status.yaml - 400 - 401 - 503 Request Parameters ------------------ .. rest_parameters:: parameters.yaml - queue_name: queue_name - subscription_id: subscription_id_path - confirmed: confirmed Request Example --------------- .. literalinclude:: samples/subscription-confirm-request.json :language: javascript This operation does not return a response body.,,54,0
openstack%2Fcyborg~master~I5f7b2027e9d015cef6e8e7b459ebf2005c432209,openstack/cyborg,master,I5f7b2027e9d015cef6e8e7b459ebf2005c432209,Fix oslo policy DeprecatedRule warnings,MERGED,2021-07-03 23:56:17.000000000,2021-07-12 01:36:58.000000000,2021-07-12 01:35:50.000000000,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}]","[{'number': 1, 'created': '2021-07-03 23:56:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/dc4b2a171760840f3e2d36165d3df083ca973e88', 'message': 'Fix oslo policy DeprecatedRule warnings\n\nSince 3.7.0, oslo policy started the DeprecationWarning[1] if\ndeprecated_reason and deprecated_since param are not passed\nin DeprecatedRule or they are passed in RuleDefault object.\n\nThese warnings are logged for every test which increase the\nlog size and sometime can full the log buffer and fail the\njob.\n\n[1] https://github.com/openstack/oslo.policy/blob/3.7.0/oslo_policy/policy.py#L1538\n\nChange-Id: I5f7b2027e9d015cef6e8e7b459ebf2005c432209\n'}, {'number': 2, 'created': '2021-07-04 22:59:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/e2d23e26ce917959c6b9e4f88a082807d446937c', 'message': 'Fix oslo policy DeprecatedRule warnings\n\nSince 3.7.0, oslo policy started the DeprecationWarning[1] if\ndeprecated_reason and deprecated_since param are not passed\nin DeprecatedRule or they are passed in RuleDefault object.\n\nThese warnings are logged for every test which increase the\nlog size and sometime can full the log buffer and fail the\njob.\n\n[1] https://github.com/openstack/oslo.policy/blob/3.7.0/oslo_policy/policy.py#L1538\n\nChange-Id: I5f7b2027e9d015cef6e8e7b459ebf2005c432209\n'}, {'number': 3, 'created': '2021-07-05 16:34:54.000000000', 'files': ['requirements.txt', 'cyborg/policies/device_profiles.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/5469b497ebadacac70c056c490b8e93282fdb15e', 'message': 'Fix oslo policy DeprecatedRule warnings\n\nSince 3.7.0, oslo policy started the DeprecationWarning[1] if\ndeprecated_reason and deprecated_since param are not passed\nin DeprecatedRule or they are passed in RuleDefault object.\n\nThese warnings are logged for every test which increase the\nlog size and sometime can full the log buffer and fail the\njob.\n\n[1] https://github.com/openstack/oslo.policy/blob/3.7.0/oslo_policy/policy.py#L1538\n\nChange-Id: I5f7b2027e9d015cef6e8e7b459ebf2005c432209\n'}]",4,799404,5469b497ebadacac70c056c490b8e93282fdb15e,13,3,3,8556,,,0,"Fix oslo policy DeprecatedRule warnings

Since 3.7.0, oslo policy started the DeprecationWarning[1] if
deprecated_reason and deprecated_since param are not passed
in DeprecatedRule or they are passed in RuleDefault object.

These warnings are logged for every test which increase the
log size and sometime can full the log buffer and fail the
job.

[1] https://github.com/openstack/oslo.policy/blob/3.7.0/oslo_policy/policy.py#L1538

Change-Id: I5f7b2027e9d015cef6e8e7b459ebf2005c432209
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/04/799404/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/policies/device_profiles.py'],1,dc4b2a171760840f3e2d36165d3df083ca973e88,fix-oslo-policy-warnings," check_str=base.deprecated_default), deprecated_reason=('request admin_or_owmer rule is too strict for ' 'listing device_profile'), deprecated_since=versionutils.deprecated.WALLABY check_str=base.deprecated_default, deprecated_reason=('request admin_or_owmer rule is too strict for ' 'retrieving a device_profile'), deprecated_since=versionutils.deprecated.WALLABY) check_str=base.deprecated_is_admin, deprecated_reason=('project_admin_or_owner is too permissive, ' 'introduce system_scoped admin for creation'), deprecated_since=versionutils.deprecated.WALLABY) check_str=base.deprecated_default, deprecated_reason=('project_admin_or_owner is too permissive, ' 'introduce system_scoped admin for deletion'), deprecated_since=versionutils.deprecated.WALLABY) deprecated_rule=deprecated_get_all), deprecated_rule=deprecated_get_one), deprecated_rule=deprecated_create), deprecated_rule=deprecated_delete),"," check_str=base.deprecated_default) check_str=base.deprecated_default) check_str=base.deprecated_is_admin) check_str=base.deprecated_default) deprecated_rule=deprecated_get_all, deprecated_reason=('request admin_or_owmer rule is too strict for ' 'listing device_profile'), deprecated_since=versionutils.deprecated.WALLABY), deprecated_rule=deprecated_get_one, deprecated_reason=('request admin_or_owmer rule is too strict for ' 'retrieving a device_profile'), deprecated_since=versionutils.deprecated.WALLABY), deprecated_rule=deprecated_create, deprecated_reason=('project_admin_or_owner is too permissive, ' 'introduce system_scoped admin for creation'), deprecated_since=versionutils.deprecated.WALLABY), deprecated_rule=deprecated_delete, deprecated_reason=('project_admin_or_owner is too permissive, ' 'introduce system_scoped admin for deletion'), deprecated_since=versionutils.deprecated.WALLABY),",20,20
openstack%2Fplacement~master~I6a2e22840060da9c1156581c1e1cea880d6ec840,openstack/placement,master,I6a2e22840060da9c1156581c1e1cea880d6ec840,Changed minversion in tox to 3.18.0,ABANDONED,2021-07-06 08:15:05.000000000,2021-07-12 00:55:59.000000000,,"[{'_account_id': 7634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-06 08:15:05.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/placement/commit/05839cc215949940f553d18ac8d738ff033822ce', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I6a2e22840060da9c1156581c1e1cea880d6ec840\n""}]",0,799601,05839cc215949940f553d18ac8d738ff033822ce,5,2,1,32291,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I6a2e22840060da9c1156581c1e1cea880d6ec840
",git fetch https://review.opendev.org/openstack/placement refs/changes/01/799601/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,05839cc215949940f553d18ac8d738ff033822ce,update-min-tox,minversion = 3.18.0allowlist_externals =allowlist_externals =,minversion = 3.1.1whitelist_externals =whitelist_externals =,3,3
openstack%2Ftacker~master~I85589e9811404e5a592ede93650bde2420a92196,openstack/tacker,master,I85589e9811404e5a592ede93650bde2420a92196,[DNM] Test to fix FT error of patch 796160,ABANDONED,2021-06-24 07:18:26.000000000,2021-07-12 00:49:28.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-24 07:18:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/56cf8b0fda92b62d19389060365338440cb3b724', 'message': '[DNM] Test to fix FT error of patch 796160\n\nThis patch is just test patch for FT error of 796160.\nhttps://review.opendev.org/c/openstack/tacker/+/796160\n\nThe multinode-sol job\'s test fail following error:\n* Failed in tests for retry operation.\n  ```\n  File ""/opt/stack/tacker/tacker/api/vnflcm/v1/controller.py"",\\\n    line 1546, in retry\n  body = jsonutils.loads(vnf_lcm_op_occs.operation_params)\n\n  Unexpected exception in API method:\\\n    TypeError: <class \'NoneType\'> can\'t be decoded\n  ```\n  The parameter appears to be missing. This patch try to fix it.\n\nThis patch will be abandoned after feedback of the result to 796160.\n\nChange-Id: I85589e9811404e5a592ede93650bde2420a92196\n'}, {'number': 2, 'created': '2021-06-29 14:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/391a53eac7c73ed0e2ffa8f7d1a80c56e19bd262', 'message': '[DNM] Test to fix FT error of patch 796160\n\nThis patch is just test patch for FT error of 796160.\nhttps://review.opendev.org/c/openstack/tacker/+/796160\n\nThe multinode-sol job\'s test fail following error:\n* Failed in tests for retry operation.\n  ```\n  File ""/opt/stack/tacker/tacker/api/vnflcm/v1/controller.py"",\\\n    line 1546, in retry\n  body = jsonutils.loads(vnf_lcm_op_occs.operation_params)\n\n  Unexpected exception in API method:\\\n    TypeError: <class \'NoneType\'> can\'t be decoded\n  ```\n  The parameter appears to be missing. This patch try to fix it.\n* Modify common.apply_filters().\n  It support case of multiple models are joined to query.\n\nThis patch will be abandoned after feedback of the result to 796160.\n\nChange-Id: I85589e9811404e5a592ede93650bde2420a92196\n'}, {'number': 3, 'created': '2021-06-29 15:13:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/0f396565559180e9f8c9c0798c46b1ec710722ea', 'message': '[DNM] Test to fix FT error of patch 796160\n\nThis patch is just test patch for FT error of 796160.\nhttps://review.opendev.org/c/openstack/tacker/+/796160\n\nThe multinode-sol job\'s test fail following error:\n* Failed in tests for retry operation.\n  ```\n  File ""/opt/stack/tacker/tacker/api/vnflcm/v1/controller.py"",\\\n    line 1546, in retry\n  body = jsonutils.loads(vnf_lcm_op_occs.operation_params)\n\n  Unexpected exception in API method:\\\n    TypeError: <class \'NoneType\'> can\'t be decoded\n  ```\n  The parameter appears to be missing. This patch try to fix it.\n* Modify common.apply_filters().\n  It support case of multiple models are joined to query.\n\nThis patch will be abandoned after feedback of the result to 796160.\n\nChange-Id: I85589e9811404e5a592ede93650bde2420a92196\n'}, {'number': 4, 'created': '2021-06-30 02:14:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/3f2a285fe368fe4365d92f709eecf73b8905fc85', 'message': '[DNM] Test to fix FT error of patch 796160\n\nThis patch is just test patch for FT error of 796160.\nhttps://review.opendev.org/c/openstack/tacker/+/796160\n\nThe multinode-sol job\'s test fail following error:\n* Failed in tests for retry operation.\n  ```\n  File ""/opt/stack/tacker/tacker/api/vnflcm/v1/controller.py"",\\\n    line 1546, in retry\n  body = jsonutils.loads(vnf_lcm_op_occs.operation_params)\n\n  Unexpected exception in API method:\\\n    TypeError: <class \'NoneType\'> can\'t be decoded\n  ```\n  The parameter appears to be missing. This patch try to fix it.\n* Modify common.apply_filters().\n  It support case of multiple models are joined to query.\n\nThis patch will be abandoned after feedback of the result to 796160.\n\nChange-Id: I85589e9811404e5a592ede93650bde2420a92196\n'}, {'number': 5, 'created': '2021-06-30 06:41:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/48142c114277009505c9740b3337998d46376619', 'message': '[DNM] Test to fix FT error of patch 796160\n\nThis patch is just test patch for FT error of 796160.\nhttps://review.opendev.org/c/openstack/tacker/+/796160\n\nThe multinode-sol job\'s test fail following error:\n* Failed in tests for retry operation.\n  ```\n  File ""/opt/stack/tacker/tacker/api/vnflcm/v1/controller.py"",\\\n    line 1546, in retry\n  body = jsonutils.loads(vnf_lcm_op_occs.operation_params)\n\n  Unexpected exception in API method:\\\n    TypeError: <class \'NoneType\'> can\'t be decoded\n  ```\n  The parameter appears to be missing. This patch try to fix it.\n* Modify common.apply_filters().\n  It support case of multiple models are joined to query.\n\nThis patch will be abandoned after feedback of the result to 796160.\n\nChange-Id: I85589e9811404e5a592ede93650bde2420a92196\n'}, {'number': 6, 'created': '2021-07-01 03:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/4cab89fdd583c79a184f2e7743d49356ea497cd7', 'message': '[DNM] Test to fix FT error of patch 796160\n\nThis patch is just test patch for FT error of 796160.\nhttps://review.opendev.org/c/openstack/tacker/+/796160\n\nThe multinode-sol job\'s test fail following error:\n* Failed in tests for retry operation.\n  ```\n  File ""/opt/stack/tacker/tacker/api/vnflcm/v1/controller.py"",\\\n    line 1546, in retry\n  body = jsonutils.loads(vnf_lcm_op_occs.operation_params)\n\n  Unexpected exception in API method:\\\n    TypeError: <class \'NoneType\'> can\'t be decoded\n  ```\n  The parameter appears to be missing. This patch try to fix it.\n* Modify common.apply_filters().\n  It support case of multiple models are joined to query.\n\nThis patch will be abandoned after feedback of the result to 796160.\n\nChange-Id: I85589e9811404e5a592ede93650bde2420a92196\n'}, {'number': 7, 'created': '2021-07-02 09:30:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/2c23bac99b63229564176a70614df30f63092983', 'message': '[DNM] Test to fix FT error of patch 796160\n\nThis patch is just test patch for FT error of 796160.\nhttps://review.opendev.org/c/openstack/tacker/+/796160\n\nThe multinode-sol job\'s test fail following error:\n* Failed in tests for retry operation.\n  ```\n  File ""/opt/stack/tacker/tacker/api/vnflcm/v1/controller.py"",\\\n    line 1546, in retry\n  body = jsonutils.loads(vnf_lcm_op_occs.operation_params)\n\n  Unexpected exception in API method:\\\n    TypeError: <class \'NoneType\'> can\'t be decoded\n  ```\n  The parameter appears to be missing. This patch try to fix it.\n* Modify common.apply_filters().\n  It support case of multiple models are joined to query.\n\nThis patch will be abandoned after feedback of the result to 796160.\n\nChange-Id: I85589e9811404e5a592ede93650bde2420a92196\n'}, {'number': 8, 'created': '2021-07-06 09:25:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/53a2f15afa48bbef9f3dea3953583b959c6b4784', 'message': '[DNM] Test to fix FT error of patch 796160\n\nThis patch is just test patch for FT error of 796160.\nhttps://review.opendev.org/c/openstack/tacker/+/796160\n\nThe multinode-sol job\'s test fail following error:\n* Failed in tests for retry operation.\n  ```\n  File ""/opt/stack/tacker/tacker/api/vnflcm/v1/controller.py"",\\\n    line 1546, in retry\n  body = jsonutils.loads(vnf_lcm_op_occs.operation_params)\n\n  Unexpected exception in API method:\\\n    TypeError: <class \'NoneType\'> can\'t be decoded\n  ```\n  The parameter appears to be missing. This patch try to fix it.\n* Modify common.apply_filters().\n  It support case of multiple models are joined to query.\n\nThis patch will be abandoned after feedback of the result to 796160.\n\nChange-Id: I85589e9811404e5a592ede93650bde2420a92196\n'}, {'number': 9, 'created': '2021-07-06 13:09:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/c7e207854547e68e4994a8b96c85036ff82cf07e', 'message': '[DNM] Test to fix FT error of patch 796160\n\nThis patch is just test patch for FT error of 796160.\nhttps://review.opendev.org/c/openstack/tacker/+/796160\n\nThe multinode-sol job\'s test fail following error:\n* Failed in tests for retry operation.\n  ```\n  File ""/opt/stack/tacker/tacker/api/vnflcm/v1/controller.py"",\\\n    line 1546, in retry\n  body = jsonutils.loads(vnf_lcm_op_occs.operation_params)\n\n  Unexpected exception in API method:\\\n    TypeError: <class \'NoneType\'> can\'t be decoded\n  ```\n  The parameter appears to be missing. This patch try to fix it.\n* Modify common.apply_filters().\n  It support case of multiple models are joined to query.\n* Fix `_vnf_package_list_by_filters` method to filter by vnfd_id\n  correctly.\n\nThis patch will be abandoned after feedback of the result to 796160.\n\nChange-Id: I85589e9811404e5a592ede93650bde2420a92196\n'}, {'number': 10, 'created': '2021-07-08 10:13:21.000000000', 'files': ['tacker/objects/vnf_lcm_subscriptions.py', 'tacker/objects/common.py', 'tacker/objects/vnf_lcm_op_occs.py', 'tacker/objects/vnf_instance.py', 'tacker/objects/vnf_package.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/924e7c9dc9cf08c9c5641e478ca08af75a6eb440', 'message': '[DNM] Test to fix FT error of patch 796160\n\nThis patch is just test patch for FT error of 796160 [1].\n\nThe multinode-sol job\'s test failed following error:\n* Failed in tests for retry operation.\n  ```\n  File ""/opt/stack/tacker/tacker/api/vnflcm/v1/controller.py"",\\\n    line 1546, in retry\n  body = jsonutils.loads(vnf_lcm_op_occs.operation_params)\n\n  Unexpected exception in API method:\\\n    TypeError: <class \'NoneType\'> can\'t be decoded\n  ```\n  The parameter appears to be missing. This patch try to fix it.\n\nAnd following changes are needed to filter correctly:\n* Modify common.apply_filters().\n  It support case of multiple models are joined to query.\n* Fix `_vnf_package_list_by_filters` method to filter by vnfd_id\n  correctly.\n\nThe multinode-legacy job\'s test failed by aodh-client exception,\nSo, I will try to depend on the patch [2] to see if it can be fixed.\n\nThis patch will be abandoned after feedback of the result to 796160.\n\n[1] https://review.opendev.org/c/openstack/tacker/+/796160\n[2] https://review.opendev.org/c/openstack/aodh/+/799651\n\nDepends-On: https://review.opendev.org/c/openstack/aodh/+/799651\nChange-Id: I85589e9811404e5a592ede93650bde2420a92196\n'}]",0,797809,924e7c9dc9cf08c9c5641e478ca08af75a6eb440,29,1,10,31857,,,0,"[DNM] Test to fix FT error of patch 796160

This patch is just test patch for FT error of 796160 [1].

The multinode-sol job's test failed following error:
* Failed in tests for retry operation.
  ```
  File ""/opt/stack/tacker/tacker/api/vnflcm/v1/controller.py"",\
    line 1546, in retry
  body = jsonutils.loads(vnf_lcm_op_occs.operation_params)

  Unexpected exception in API method:\
    TypeError: <class 'NoneType'> can't be decoded
  ```
  The parameter appears to be missing. This patch try to fix it.

And following changes are needed to filter correctly:
* Modify common.apply_filters().
  It support case of multiple models are joined to query.
* Fix `_vnf_package_list_by_filters` method to filter by vnfd_id
  correctly.

The multinode-legacy job's test failed by aodh-client exception,
So, I will try to depend on the patch [2] to see if it can be fixed.

This patch will be abandoned after feedback of the result to 796160.

[1] https://review.opendev.org/c/openstack/tacker/+/796160
[2] https://review.opendev.org/c/openstack/aodh/+/799651

Depends-On: https://review.opendev.org/c/openstack/aodh/+/799651
Change-Id: I85589e9811404e5a592ede93650bde2420a92196
",git fetch https://review.opendev.org/openstack/tacker refs/changes/09/797809/1 && git format-patch -1 --stdout FETCH_HEAD,['tacker/objects/vnf_lcm_op_occs.py'],1,56cf8b0fda92b62d19389060365338440cb3b724,migration-sqlalchemy14, if 'grant_id' in values: fields['grant_id'] = values.grant_id if 'operation_params' in values: fields['operation_params'] = values.operation_params ,,5,0
openstack%2Fbifrost~stable%2Fwallaby~I4ab7cf8432ccce0c3286b7ac696acfb3d4e64655,openstack/bifrost,stable/wallaby,I4ab7cf8432ccce0c3286b7ac696acfb3d4e64655,Install libvirt-python from source instead of a wheel,MERGED,2021-07-11 09:11:06.000000000,2021-07-11 20:35:52.000000000,2021-07-11 20:34:38.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-11 09:11:06.000000000', 'files': ['releasenotes/notes/libvirt-not-importable-c8e88a8ef11a1f09.yaml', 'playbooks/roles/bifrost-create-vm-nodes/tasks/prepare_libvirt.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/12080fb311d81c08e980ee03d35e56fb71272bdc', 'message': 'Install libvirt-python from source instead of a wheel\n\nApparently the binary installation no longer works.\n\nChange-Id: I4ab7cf8432ccce0c3286b7ac696acfb3d4e64655\n(cherry picked from commit 79c8418ead5ead97494497b998aa6c03e27b87bf)\n'}]",0,800191,12080fb311d81c08e980ee03d35e56fb71272bdc,7,2,1,10239,,,0,"Install libvirt-python from source instead of a wheel

Apparently the binary installation no longer works.

Change-Id: I4ab7cf8432ccce0c3286b7ac696acfb3d4e64655
(cherry picked from commit 79c8418ead5ead97494497b998aa6c03e27b87bf)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/91/800191/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/libvirt-not-importable-c8e88a8ef11a1f09.yaml', 'playbooks/roles/bifrost-create-vm-nodes/tasks/prepare_libvirt.yml']",2,12080fb311d81c08e980ee03d35e56fb71272bdc,gate-stable/wallaby,"- name: install gunicorn and lxml- name: install libvirt-python include_role: name: bifrost-pip-install vars: package: libvirt-python # FIXME(dtantsur): libvirt-python 7.5.0 cannot be used when installed from # a wheel, force a source installation extra_args: --no-binary libvirt-python ","- name: install libvirt-python, gunicorn and lxml - libvirt-python",15,2
openstack%2Fdevstack~master~Ib14542311e9b1d49829bef54f433b8a04709a9fd,openstack/devstack,master,Ib14542311e9b1d49829bef54f433b8a04709a9fd,Make explicit the network backend used in the CI jobs,MERGED,2021-06-23 13:04:59.000000000,2021-07-11 19:02:26.000000000,2021-07-11 19:00:41.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-23 13:04:59.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/bf13075632b076d19b22f347aaa52cba7dcb7169', 'message': 'Make explicit the network backend used in the CI jobs\n\nAll Neutron CI jobs (except for unit, functional and fullstack jobs),\nhave explicitly defined the network backend used:\n- linuxbridge\n- ovs\n- ovn\n\nThat was discussed and approved during the Neutron CI meetings [1].\n\n[1]https://meetings.opendev.org/meetings/neutron_ci/2021/neutron_ci.2021-06-15-15.00.log.html\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/797051\nChange-Id: Ib14542311e9b1d49829bef54f433b8a04709a9fd\n'}]",0,797638,bf13075632b076d19b22f347aaa52cba7dcb7169,8,4,1,16688,,,0,"Make explicit the network backend used in the CI jobs

All Neutron CI jobs (except for unit, functional and fullstack jobs),
have explicitly defined the network backend used:
- linuxbridge
- ovs
- ovn

That was discussed and approved during the Neutron CI meetings [1].

[1]https://meetings.opendev.org/meetings/neutron_ci/2021/neutron_ci.2021-06-15-15.00.log.html

Depends-On: https://review.opendev.org/c/openstack/neutron/+/797051
Change-Id: Ib14542311e9b1d49829bef54f433b8a04709a9fd
",git fetch https://review.opendev.org/openstack/devstack refs/changes/38/797638/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,bf13075632b076d19b22f347aaa52cba7dcb7169,neutron_jobs_explicit_backend, - neutron-ovs-grenade-multinode: - neutron-linuxbridge-tempest: - neutron-ovs-grenade-multinode: - neutron-linuxbridge-tempest: - neutron-ovs-tempest-dvr: - neutron-ovs-tempest-dvr-ha-multinode-full:, - neutron-grenade-multinode: - neutron-tempest-linuxbridge: - neutron-grenade-multinode: - neutron-tempest-linuxbridge: - neutron-tempest-dvr: - neutron-tempest-dvr-ha-multinode-full:,6,6
openstack%2Fironic~master~Ibd591ab6e17e26db0b2b4dde103fe3458e1536f5,openstack/ironic,master,Ibd591ab6e17e26db0b2b4dde103fe3458e1536f5,Add missing BIOSSettings version mapping for older releases,MERGED,2021-07-07 16:43:35.000000000,2021-07-11 14:17:05.000000000,2021-07-11 14:14:33.000000000,"[{'_account_id': 6618}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-07 16:43:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bd005e6d10fc941f758d8892c05200cf615954f1', 'message': 'Add overlap in BIOSSettings versions between 17.0 and 18.0\n\nOtherwise the upgrade fails because of old versions. Also add a unit\ntest to prevent this situation in the future.\n\nChange-Id: Ibd591ab6e17e26db0b2b4dde103fe3458e1536f5\n'}, {'number': 2, 'created': '2021-07-07 17:38:01.000000000', 'files': ['releasenotes/notes/bios-version-dfd5c95805c295c5.yaml', 'ironic/common/release_mappings.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7e5e65550d834c4c2572908ca135c8f596f9c582', 'message': 'Add missing BIOSSettings version mapping for older releases\n\nOtherwise the upgrade fails because of old versions.\n\nChange-Id: Ibd591ab6e17e26db0b2b4dde103fe3458e1536f5\n'}]",2,799869,7e5e65550d834c4c2572908ca135c8f596f9c582,31,3,2,10239,,,0,"Add missing BIOSSettings version mapping for older releases

Otherwise the upgrade fails because of old versions.

Change-Id: Ibd591ab6e17e26db0b2b4dde103fe3458e1536f5
",git fetch https://review.opendev.org/openstack/ironic refs/changes/69/799869/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/common/test_release_mappings.py', 'releasenotes/notes/bios-version-dfd5c95805c295c5.yaml', 'ironic/common/release_mappings.py']",3,bd005e6d10fc941f758d8892c05200cf615954f1,bios-version," 'BIOSSetting': ['1.1', '1.0'], 'BIOSSetting': ['1.1', '1.0'],"," 'BIOSSetting': ['1.1'], 'BIOSSetting': ['1.1'],",18,2
openstack%2Fpython-tackerclient~master~I881cb5faaefab3bffb9b7253dcd65e69581488bf,openstack/python-tackerclient,master,I881cb5faaefab3bffb9b7253dcd65e69581488bf,Remove broken link from Python-TackerClient guide,MERGED,2021-07-04 06:04:44.000000000,2021-07-11 11:39:55.000000000,2021-07-11 11:38:48.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}]","[{'number': 1, 'created': '2021-07-04 06:04:44.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/e8280f57806ce8ef22526358b6f6bd21d0b0cd9d', 'message': 'Remove broken link from Python-TackerClient guide\n\nIn Python-TackerClient guide, under ""Indices and tables"" section,\n""Module Index"" refer to a broken link [1].\n\nThe documentation build does not generate module index, thus\nwe can remove the link [1] from page.\n\n[1] https://docs.openstack.org/python-tackerclient/latest/py-modindex.html\n\nCloses-Bug: #1934581\nChange-Id: I881cb5faaefab3bffb9b7253dcd65e69581488bf\n'}]",0,799411,e8280f57806ce8ef22526358b6f6bd21d0b0cd9d,9,4,1,32102,,,0,"Remove broken link from Python-TackerClient guide

In Python-TackerClient guide, under ""Indices and tables"" section,
""Module Index"" refer to a broken link [1].

The documentation build does not generate module index, thus
we can remove the link [1] from page.

[1] https://docs.openstack.org/python-tackerclient/latest/py-modindex.html

Closes-Bug: #1934581
Change-Id: I881cb5faaefab3bffb9b7253dcd65e69581488bf
",git fetch https://review.opendev.org/openstack/python-tackerclient refs/changes/11/799411/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,e8280f57806ce8ef22526358b6f6bd21d0b0cd9d,bug/1934581,,* :ref:`modindex`,0,1
openstack%2Ftacker-specs~master~If7cf03550ad2501c7e4397e50a765e093dcae84c,openstack/tacker-specs,master,If7cf03550ad2501c7e4397e50a765e093dcae84c,Multi-Version Design for ETSI NFV-SOL,MERGED,2021-04-16 07:03:09.000000000,2021-07-11 11:26:46.000000000,2021-07-11 11:25:35.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 31821}, {'_account_id': 31857}, {'_account_id': 32102}, {'_account_id': 32581}]","[{'number': 1, 'created': '2021-04-16 07:03:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/04606c4154eec01b40fedb08a1f8710fa42155c0', 'message': 'Multi-Version Design for ETSI NFV-SOL\n\nThis spec proposes the new design of Tacker to support\nmultiple versions of APIs defined in Release 2, 3, and 4\nspecifications. For simple management of different version support,\neach version should be implemented in independent manner.\nAt the same time, redundant logics can be shared in common functions.\nThe database and object class are also separated from existing\nRelease 2 implementations.\n\nChange-Id: If7cf03550ad2501c7e4397e50a765e093dcae84c\n'}, {'number': 2, 'created': '2021-07-07 07:56:18.000000000', 'files': ['specs/xena/multi-version-api.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/9baafe194e11730889147b12bea0607bb4fec4c1', 'message': 'Multi-Version Design for ETSI NFV-SOL\n\nThis spec proposes the new design of Tacker to support\nmultiple versions of APIs defined in Release 2, 3, and 4\nspecifications. For simple management of different version support,\neach version should be implemented in independent manner.\nAt the same time, redundant logics can be shared in common functions.\nThe database and object class are also separated from existing\nRelease 2 implementations.\n\nChange-Id: If7cf03550ad2501c7e4397e50a765e093dcae84c\nImplements: blueprint multi-version-api\n'}]",24,786583,9baafe194e11730889147b12bea0607bb4fec4c1,19,9,2,27880,,,0,"Multi-Version Design for ETSI NFV-SOL

This spec proposes the new design of Tacker to support
multiple versions of APIs defined in Release 2, 3, and 4
specifications. For simple management of different version support,
each version should be implemented in independent manner.
At the same time, redundant logics can be shared in common functions.
The database and object class are also separated from existing
Release 2 implementations.

Change-Id: If7cf03550ad2501c7e4397e50a765e093dcae84c
Implements: blueprint multi-version-api
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/83/786583/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/xena/multi-version-api.rst'],1,04606c4154eec01b40fedb08a1f8710fa42155c0,bp/multi-version-api,"===================================== Multi-Version Design for ETSI NFV-SOL ===================================== https://blueprints.launchpad.net/tacker/+spec/multi-version-api This spec proposes a new design of ESTI NFV-SOL based implementation in Tacker to support multiple versions of ETSI NFV Release2, 3, and 4. API versions are described in ETSI NFV-SOL documents. In Release 3, VNF Lifecycle Management interface SOL003 v2.6.1 [#SOL003-V261]_ is defined as ""1.3.0"", and it's upgraded to ""2.0.0"" in v3.3.1 [#SOL003-V331]_. Problem description =================== ETSI NFV Release3 and 4 documents are published while Tacker now supports only Release2 based implementation with ETSI NFV-SOL v2.6.1 [#SOL003-V261]_. In Release4, a lot of expansions for Cloud Native Function (CNF) are under discussion. Toward supporting those new specifications, Tacker needs a new design to support multiple versions on its APIs. Proposed change =============== For multi-version API support, Tacker needs to change: #. HTTP header fields compliant with ETSI NFV SOL013 v3.4.1 [#SOL013-V341]_ + Request header fields + Response header fields #. ApiVersionInformation compliant with ETSI NFV SOL013 v3.4.1 [#SOL013-V341]_ + VNF Lifecycle Management (/vnflcm) + VNF Package Management (/vnfpkgm) #. Major/minor version support in Controller + Schema validation + VnfInstances (/vnflcm/{v1 or v2}/vnf_instances) + VnfLcmOpOccs (/vnflcm/{v1 or v2}/vnf_lcm_op_occs) + Subscriptions (/vnflcm/{v1 or v2}/subscriptions) #. Major/minor version support in Conductor + Conductor server to call multi-version Drivers + VnflcmDriver + OpenStack InfraDriver + Kubernetes InfraDriver #. Major/minor version support in Database + Objects + SQLArchemy Design of operation --------------------- The following is the block diagram how multi-version api design works: .. code-block:: +----------+ | Request | | Response | | | +--+-------+ | +-------+--------------------------------------+ | | Tacker-server | | +--v------------------+ | | | Schema validation | | | | * VNF Lifecycle | | | +--+ | | | | +---------------------+ | | | +---------------------+ +-------------+ | | +->| VNF Lifecycle | | ApiVersion | | | | vnflcm/{v1 or v2} | | /vnflcm | | | | /vnf_instances | | /vnfpkgm | | | | /vnf_lcm_op_occs | | | | | | /subscriptions | +-------------+ | | | | | | +--+------------------+ | | | | +-------+--------------------------------------+ | +-------+--------------------------------------+ | | Tacker-conductor | | +--v--------------+ | | | Conductor | | | +--+ | | | | +-----------------+ | | | +-----------------+ +-----------------+ | +-----------------+ | +->| VnflcmDriverV1 +-->| InfraDriverV1 +-+--+->| OpenStack VIM | | | | | | | | | | | | | +-----------------+ +-----------------+ | | +-----------------+ | +->| VnflcmDriverV2 +-->| InfraDriverV2 +-+--+->| Kubernetes VIM | | | | | | | | | | +-----------------+ +-----------------+ | +-----------------+ | | +----------------------------------------------+ Request/Response header fields ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The specifications for Request and Response header fields are defined in in section 4.2 of ETSI NFV-SOL013 v3.4.1 [#SOL013-V341]_. Tacker already has its Request and Response class but not all required fields are supported. Request class requires the following header fields: +-------------------+-------------------------------------------+ | Header field name | Descriptions | +===================+===========================================+ | Accept | Content-Types that are acceptable | | | for the response. | | | This header field shall be present if | | | the response is expected to have a | | | non-empty message body. | +-------------------+-------------------------------------------+ | Content-Type | The MIME type of the body of the request. | | | This header field shall be present if | | | the request has a non-empty | | | message body. | +-------------------+-------------------------------------------+ | Authorization | The authorization token for the request. | +-------------------+-------------------------------------------+ | Range | Requested range of bytes from a file. | +-------------------+-------------------------------------------+ | Version | Version of the API requested to use | | | when responding to this request. | +-------------------+-------------------------------------------+ Response needs to support to provide the following header fields: +-------------------+-------------------------------------------+ | Header field name | Descriptions | +===================+===========================================+ | WWW-Authenticate | Content-Types that are acceptable | | | for the response. | | | This header field shall be present if | | | the response is expected to have a | | | non-empty message body. | +-------------------+-------------------------------------------+ | Accept-Ranges | Used by the server to signal | | | whether or not it supports ranges for | | | certain resources. | +-------------------+-------------------------------------------+ | Content-Range | Signals the byte range that is | | | contained in the response, and the | | | total length of the file. | +-------------------+-------------------------------------------+ | Retry-After | Used to indicate how long the user | | | agent ought to wait before making a | | | follow-up request. | | | It can be used with 503 responses. | | | The value of this field can be an | | | HTTP-date or a number of seconds | | | to delay after the response is received. | +-------------------+-------------------------------------------+ | Link | Reference to other resources. | +-------------------+-------------------------------------------+ | Version | Version of the API requested to use | | | when responding to this request. | +-------------------+-------------------------------------------+ Version management ~~~~~~~~~~~~~~~~~~ According to ETSI NFV-SOL013 v3.4.1 [#SOL013-V341]_, all interfaces need to provide ApiVersionInformation for version information retrieval. Tacker now supports two APIs, VNF Lifecycle Management in ETSI NFV-SOL003 and VNF Package Management interface in ETSI NFV-SOL005. Both of them need to have the following two URIs: #. {apiRoot}/{apiName}/api_versions #. {apiRoot}/{apiName}/{apiMajorVersion}/api_versions The detail of API specification is described in ref:`REST API impact` Controller for major/minor version ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The schema validation for VNF Lifecycle Management is updated to support multiple major/minor versions. Each operation has its validation dict for each major version. The dict is updated for new minor versions. For example of ``POST {apiRoot}/vnflcm/v1/vnf_instances`` with v2.0.0 and v2.0.1 where some updates exist in newer version: .. code-block:: python vnf_instances_create_v200 = { ""type"": ""object"", ""properties"": { ""vnfdId"": parameter_types.uuid, ""vnfInstanceName"": parameter_types.name_allow_zero_min_length, ""vnfInstanceDescription"": parameter_types.description, ""metadata"": parameter_types.keyvalue_pairs, }, ""required"": [""vnfdId""], ""additionalProperties"": True, } vnf_instances_create_v201 = copy.deepcopy(vnf_instances_create_v200) vnf_instances_create_v201[""properties""].update({ ""somethingNew"": parameter_types.something }) The Controller for VNF Lifecycle Management is now implemented in VnflcmController, however, it's separated to three Controllers; VnfInstancesController, VnfLcmOpOccController, and SubscriptionsControllers. This change helps us to easily understand huge logic blocks of VNF Lifecycle Management. Conductor for major/minor version ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Conductor server needs to invoke different versions of VnflcmDrivers according to the Version header in the request. VnflcmDrivers should be different class implementation not to depend each other for the management of deprecated API versions in future. On the other hand, it's too redundant to implement all logics in VnflcmDriver for each because most of them are the same in the different major versions. Therefore the VnflcmDrivers expose their logics to the common function files, for example, vnf_instances_utils.py. This enables to re-use of the logics in VnflcmDriver and to reduce duplicated code blocks. InfraDrivers for OpenStack and Kubernetes are also re-designed to follow the different version of APIs because they may needs different logics. Database for major/minor version ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The different major API versions require different Database tables because the major version is incremented when one or more changed were made to the resources structure of API that breaks backward compatibility. Otherwise, complex dependencies make difficult to maintain data models. It is also useful to expose their logics to the common function files as the case in VnflcmDriver to re-use the same logics in different API versions. Sequence of multi-version API ----------------------------- .. seqdiag:: seqdiag { node_width = 100; edge_length = 115; ""Client"" ""Controller"" ""Conductor"" ""VnflcmDriver"" ""InfraDriver"" ""CommonUtils"" ""Database"" Client -> Controller [label = ""HTTP request (e.g. VNF Lifecycle Management)""]; Controller -> CommonUtils [label = ""Process common logic""]; Controller <-- CommonUtils [label = """"]; Controller -> Database [label = ""Validate request with appropriate API version""]; Controller <-- Database [label = """"]; Controller -> Database [label = ""Create VnfLcmOpOcc(STARTING)""]; Controller <-- Database [label = """"]; Controller -> Conductor [label = ""Send RPC""]; Client <-- Controller [label = ""202 Accepted""] Conductor -> VnflcmDriver [label = ""Invoke VnflcmDriver with appropriate API version""]; VnflcmDriver -> CommonUtils [label = ""Process common logic""]; VnflcmDriver <-- CommonUtils [label = """"]; VnflcmDriver -> Database [label = ""Update VnfLcmOpOcc(PROCESSING)""]; VnflcmDriver <-- Database [label = """"]; VnflcmDriver -> InfraDriver [label = ""Invoke InfraDriver with appropriate API version""]; VnflcmDriver <-- InfraDriver [label = """"]; VnflcmDriver -> CommonUtils [label = ""Process common logic""]; VnflcmDriver <-- CommonUtils [label = """"]; VnflcmDriver -> Database [label = ""Update VnfLcmOpOcc(COMPLETED)""]; VnflcmDriver <-- Database [label = """"]; Conductor <-- VnflcmDriver [label = """"]; } #. Client sends HTTP request (e.g. `POST vnflcm/v2/vnf_instances/instantiate`) #. Controller receives and validates requests #. Controller creates VnfLcmOpOcc(""STARTING"") table #. Controller sends RPC to Conductor and sends ""202 Accepted"" to Client #. Conductor receives RPC and invokes VnflcmDriver #. Finds Version header field in the request #. Chooses appropriate version of VnflcmDriver with API version #. VnflcmDriver updates VnfLcmOpOcc(""PROCESSING"") table #. VnflcmDriver invokes InfraDriver #. Finds Version header field in the request #. Chooses appropriate version of InfraDriver with API version #. VnflcmDriver updates VnfLcmOpOcc(""COMPLETED"") table Alternatives ------------ The difference between Release 2 implementation and the one for Release 3 may be limited for some APIs. It is also possible to inherit the class of Release2 for the new Release 3 class, but this design makes version management much difficult. Therefore, in this spec, the class for Release 3 is newly created and its implementations can be shared between Release 2 and Release 3 with utils functions. Data model impact ----------------- None. REST API impact --------------- * | **Name**: API versions | **Description**: Reads API version information | **Method type**: GET | **URL for the resource**: /vnflcm/api_versions, /vnflcm/{v1/v2}/api_versions | **Request**: n/a | **Response**: +-----------------------+-------------+------------------+-----------------------------------------------------+ | Data type | Cardinality | Response Codes | Description | +=======================+=============+==================+=====================================================+ | ApiVersionInformation | 1 | Success 200 | API version information was read successfully. | | | | Error 4xx/5xx | | +-----------------------+-------------+------------------+-----------------------------------------------------+ +------------------+-----------+-------------+--------------------------------------------------------------+ | Attribute name | Data type | Cardinality | Description | +==================+===========+=============+==============================================================+ | uriPrefix | String | 1 | Specifies the URI prefix for the API, in the following form | | | | | {apiRoot}/{apiName}/{apiMajorVersion}/. | +------------------+-----------+-------------+--------------------------------------------------------------+ | apiVersions | Structure | 1..N | Version(s) supported for the API signalled by | | | | | the uriPrefix attribute. | +------------------+-----------+-------------+--------------------------------------------------------------+ | > version | String | 1 | Identifies a supported version. | +------------------+-----------+-------------+--------------------------------------------------------------+ | > isDeprecated | Boolean | 0..1 | If such information is available, this attribute indicates | | | | | whether use of the version signalled by the version | | | | | attribute is deprecated (true) or not (false). | +------------------+-----------+-------------+--------------------------------------------------------------+ | > retirementDate | DateTime | 0..1 | The date and time after which the API version will no longer | | | | | be supported. This attribute may be included if the value of | | | | | the isDeprecated attribute is set to true and shall be | | | | | absent otherwise. | +------------------+-----------+-------------+--------------------------------------------------------------+ Security impact --------------- None. Notifications impact -------------------- None. Other end user impact --------------------- None. Performance Impact ------------------ None. Other deployer impact --------------------- None. Developer impact ---------------- * `python-tackerclient` needs to support version management. * The basic design of Tacker is recreated and all new features need to follow the new design of Controller and Conductor. Implementation ============== Assignee(s) ----------- Primary assignee: Yoshito Ito <yoshito.itou.dr@hco.ntt.co.jp> Work Items ---------- * Add new Request/Response class * Add new controller for API version management * Add new Controller design for major/minor versions support * Add new Conductor to invoke VnflcmDrivers for different major versions * Add new Database design to separate different major versions Dependencies ============ None. Testing ======= Unit and functional test cases will be added for VNF Lifecycle Management of Release3. Documentation Impact ==================== Complete contributor guide will be added for multi-version support design. References ========== .. [#SOL003-V261] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/003/02.06.01_60/gs_nfv-sol003v020601p.pdf .. [#SOL003-V331] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/003/03.03.01_60/gs_NFV-SOL003v030301p.pdf .. [#SOL013-V341] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/013/03.04.01_60/gs_NFV-SOL013v030401p.pdf ",,465,0
openstack%2Ftacker~master~I9e6dd96e6e34f339591ac623243611618cc7a4f6,openstack/tacker,master,I9e6dd96e6e34f339591ac623243611618cc7a4f6,Fix old link in Gerrit Dashboards,MERGED,2021-07-01 09:53:51.000000000,2021-07-11 10:38:15.000000000,2021-07-11 10:37:00.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}]","[{'number': 1, 'created': '2021-07-01 09:53:51.000000000', 'files': ['doc/source/contributor/dashboards.rst'], 'web_link': 'https://opendev.org/openstack/tacker/commit/987f60edd1fc6dbbe74bce9cb48fb1f346b0afcc', 'message': 'Fix old link in Gerrit Dashboards\n\nIn the Tacker Contribution guide, Gerrit Dashboards refers to an\nold link for dashboard link generation.\n\nThis patch replaces the old link [1] with the new link [2].\n\n[1] https://github.com/openstack-archive/gerrit-dash-creator\n[2] https://opendev.org/x/gerrit-dash-creator\n\nCloses-Bug: #1934178\nChange-Id: I9e6dd96e6e34f339591ac623243611618cc7a4f6\n'}]",0,799030,987f60edd1fc6dbbe74bce9cb48fb1f346b0afcc,9,4,1,32102,,,0,"Fix old link in Gerrit Dashboards

In the Tacker Contribution guide, Gerrit Dashboards refers to an
old link for dashboard link generation.

This patch replaces the old link [1] with the new link [2].

[1] https://github.com/openstack-archive/gerrit-dash-creator
[2] https://opendev.org/x/gerrit-dash-creator

Closes-Bug: #1934178
Change-Id: I9e6dd96e6e34f339591ac623243611618cc7a4f6
",git fetch https://review.opendev.org/openstack/tacker refs/changes/30/799030/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/dashboards.rst'],1,987f60edd1fc6dbbe74bce9cb48fb1f346b0afcc,bug/1934178,.. _Gerrit Dashboard Creator: https://opendev.org/x/gerrit-dash-creator,.. _Gerrit Dashboard Creator: https://github.com/openstack/gerrit-dash-creator,1,1
openstack%2Fpython-tackerclient~master~Idc77d855b41801777d57cfe92d1c448b6e72feaa,openstack/python-tackerclient,master,Idc77d855b41801777d57cfe92d1c448b6e72feaa,Correct YAML load warning,MERGED,2021-07-02 15:14:51.000000000,2021-07-11 10:34:47.000000000,2021-07-11 10:33:40.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}]","[{'number': 1, 'created': '2021-07-02 15:14:51.000000000', 'files': ['tackerclient/tacker/v1_0/nfvo/vim.py', 'tackerclient/osc/v1/nfvo/vim.py'], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/94e28fc28f117fa5336e61185f08e62ae68e0081', 'message': 'Correct YAML load warning\n\nThe use of `yaml.load` without Loader is deprecated and\nconsidered unsafe.\n\nThe warning notice:\n/opt/stack/python-tackerclient/tackerclient/tacker/v1_0/nfvo/vim.py:\nYAMLLoadWarning: calling yaml.load() without Loader=... is deprecated,\nas the default Loader is unsafe.\nPlease read https://msg.pyyaml.org/load for full details.\nconfig_param = yaml.load(config_yaml)\n\nThis change adds (Loader=yaml.SafeLoader) to remove the warning.\n\nChange-Id: Idc77d855b41801777d57cfe92d1c448b6e72feaa\n'}]",0,799222,94e28fc28f117fa5336e61185f08e62ae68e0081,9,4,1,32102,,,0,"Correct YAML load warning

The use of `yaml.load` without Loader is deprecated and
considered unsafe.

The warning notice:
/opt/stack/python-tackerclient/tackerclient/tacker/v1_0/nfvo/vim.py:
YAMLLoadWarning: calling yaml.load() without Loader=... is deprecated,
as the default Loader is unsafe.
Please read https://msg.pyyaml.org/load for full details.
config_param = yaml.load(config_yaml)

This change adds (Loader=yaml.SafeLoader) to remove the warning.

Change-Id: Idc77d855b41801777d57cfe92d1c448b6e72feaa
",git fetch https://review.opendev.org/openstack/python-tackerclient refs/changes/22/799222/1 && git format-patch -1 --stdout FETCH_HEAD,"['tackerclient/tacker/v1_0/nfvo/vim.py', 'tackerclient/osc/v1/nfvo/vim.py']",2,94e28fc28f117fa5336e61185f08e62ae68e0081,warnings," config_param = yaml.load(config_yaml, Loader=yaml.SafeLoader)", config_param = yaml.load(config_yaml),4,2
openstack%2Fbifrost~master~I261dc97f878a9a8e8bba8f59a4c2886832c68ce9,openstack/bifrost,master,I261dc97f878a9a8e8bba8f59a4c2886832c68ce9,Fix Redeploy Playbook,MERGED,2021-06-25 11:52:24.000000000,2021-07-11 10:21:40.000000000,2021-07-11 10:20:27.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-25 11:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/4c741c857e9d470d4f184354a87f831565a1bc77', 'message': 'Fix Redeploy Playbook\n\nThis commit fixes 2 issues in redeploy playbook\n\n- Default value of ironic_url is not set, added default(omit) to use\nenvironment variable for connecting to ironic\n\n- provision_state and maintenance is actually not set when pulling\nironic facts. This commit changes the playbook to refer to the value\nregistered in node_info.\n\nChange-Id: I261dc97f878a9a8e8bba8f59a4c2886832c68ce9\n'}, {'number': 2, 'created': '2021-07-10 06:22:03.000000000', 'files': ['playbooks/redeploy-dynamic.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/43062e2fe7eb20202c67ec9253909a8f599ee643', 'message': 'Fix Redeploy Playbook\n\nThis commit fixes 2 issues in redeploy playbook\n\n- Default value of ironic_url is not set, added default(omit) to use\nenvironment variable for connecting to ironic\n\n- provision_state and maintenance is actually not set when pulling\nironic facts. This commit changes the playbook to refer to the value\nregistered in node_info.\n\nChange-Id: I261dc97f878a9a8e8bba8f59a4c2886832c68ce9\n'}]",0,798079,43062e2fe7eb20202c67ec9253909a8f599ee643,18,3,2,32523,,,0,"Fix Redeploy Playbook

This commit fixes 2 issues in redeploy playbook

- Default value of ironic_url is not set, added default(omit) to use
environment variable for connecting to ironic

- provision_state and maintenance is actually not set when pulling
ironic facts. This commit changes the playbook to refer to the value
registered in node_info.

Change-Id: I261dc97f878a9a8e8bba8f59a4c2886832c68ce9
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/79/798079/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/redeploy-dynamic.yaml'],1,4c741c857e9d470d4f184354a87f831565a1bc77,fix_redeploy," ironic_url: ""{{ ironic_url | default(omit) }}"" - node_info.node.provision_state == ""active"" or node_info.node.provision_state == ""deploy failed"" or node_info.node.provision_state == ""error"" - not node_info.node.maintenance | bool ironic_url: ""{{ ironic_url | default(omit) }}"" - node_info.node.provision_state == ""available"" - not node_info.node.maintenance | bool - node_info.node.provision_state == ""available"" - not node_info.node.maintenance | bool ironic_url: ""{{ ironic_url | default(omit) }}"""," ironic_url: ""{{ ironic_url }}"" - provision_state == ""active"" or provision_state == ""deploy failed"" or provision_state == ""error"" - not maintenance | bool ironic_url: ""{{ ironic_url }}"" - provision_state == ""available"" - not maintenance | bool - provision_state == ""available"" - not maintenance | bool ironic_url: ""{{ ironic_url }}""",11,11
openstack%2Ftacker-specs~master~I4be534d4fb94b3ba2feb4718603bcb8dd42ef69e,openstack/tacker-specs,master,I4be534d4fb94b3ba2feb4718603bcb8dd42ef69e,Support PVs for k8s cluster with MgmtDriver,MERGED,2021-04-16 07:00:36.000000000,2021-07-11 10:17:54.000000000,2021-07-11 10:16:45.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 31821}, {'_account_id': 31857}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-04-16 07:00:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/fa9442b992419fb7e3390b8c2f9565250e3a8ddf', 'message': 'Support PVs for k8s cluster with MgmtDriver\n\nThe Tacker Wallaby release supports to manage a Kubernetes cluster as\nVNF instance with ETSI NFV-SOL003 VNF Lifecycle Management\ninterface with MgmtDriver according to the spec ""Support deploying\nKubernetes cluster with MgmtDriver"".\nThis specification proposes that the deployed Kubernetes cluster VNF\nhas a Storage server with Cinder volume to enable Users to deploy CNF\nwhich has PersistentVolume on it.\n\nImplements: blueprint pv-k8s-cluster\nChange-Id: I4be534d4fb94b3ba2feb4718603bcb8dd42ef69e\n'}, {'number': 2, 'created': '2021-05-17 01:43:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/19d64ce4c78f5026ad11847433a469a6a393cebc', 'message': 'Support PVs for k8s cluster with MgmtDriver\n\nThe Tacker Wallaby release supports to manage a Kubernetes cluster as\nVNF instance with ETSI NFV-SOL003 VNF Lifecycle Management\ninterface with MgmtDriver according to the spec ""Support deploying\nKubernetes cluster with MgmtDriver"".\nThis specification proposes that the deployed Kubernetes cluster VNF\nhas a Storage server with Cinder volume to enable Users to deploy CNF\nwhich has PersistentVolume on it.\n\nImplements: blueprint pv-k8s-cluster\nChange-Id: I4be534d4fb94b3ba2feb4718603bcb8dd42ef69e\n'}, {'number': 3, 'created': '2021-06-28 04:56:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/71ee10fa61ee8e5f3929b53697529957dafbf6c1', 'message': 'Support PVs for k8s cluster with MgmtDriver\n\nThe Tacker Wallaby release supports to manage a Kubernetes cluster as\nVNF instance with ETSI NFV-SOL003 VNF Lifecycle Management\ninterface with MgmtDriver according to the spec ""Support deploying\nKubernetes cluster with MgmtDriver"".\nThis specification proposes that the deployed Kubernetes cluster VNF\nhas a Storage server with Cinder volume to enable Users to deploy CNF\nwhich has PersistentVolume on it.\n\nImplements: blueprint pv-k8s-cluster\nChange-Id: I4be534d4fb94b3ba2feb4718603bcb8dd42ef69e\n'}, {'number': 4, 'created': '2021-06-30 08:49:59.000000000', 'files': ['specs/xena/pv-k8s-cluster.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/1aca78f118e74ca52bd692cfd89028e97552e4cf', 'message': 'Support PVs for k8s cluster with MgmtDriver\n\nThe Tacker Wallaby release supports to manage a Kubernetes cluster as\nVNF instance with ETSI NFV-SOL003 VNF Lifecycle Management\ninterface with MgmtDriver according to the spec ""Support deploying\nKubernetes cluster with MgmtDriver"".\nThis specification proposes that the deployed Kubernetes cluster VNF\nhas a Storage server with Cinder volume to enable Users to deploy CNF\nwhich has PersistentVolume on it.\n\nImplements: blueprint pv-k8s-cluster\nChange-Id: I4be534d4fb94b3ba2feb4718603bcb8dd42ef69e\n'}]",9,786582,1aca78f118e74ca52bd692cfd89028e97552e4cf,24,8,4,33292,,,0,"Support PVs for k8s cluster with MgmtDriver

The Tacker Wallaby release supports to manage a Kubernetes cluster as
VNF instance with ETSI NFV-SOL003 VNF Lifecycle Management
interface with MgmtDriver according to the spec ""Support deploying
Kubernetes cluster with MgmtDriver"".
This specification proposes that the deployed Kubernetes cluster VNF
has a Storage server with Cinder volume to enable Users to deploy CNF
which has PersistentVolume on it.

Implements: blueprint pv-k8s-cluster
Change-Id: I4be534d4fb94b3ba2feb4718603bcb8dd42ef69e
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/82/786582/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/xena/pv-k8s-cluster.rst'],1,fa9442b992419fb7e3390b8c2f9565250e3a8ddf,change-786582-3,"================================================================= Support persistent volumes for Kubernetes cluster with MgmtDriver ================================================================= https://blueprints.launchpad.net/tacker/+spec/pv-k8s-cluster Problem description =================== The Tacker Wallaby release supports to manage a Kubernetes cluster as VNF instance with ETSI NFV-SOL003 [#NFV-SOL003]_ VNF Lifecycle Management interface with MgmtDriver according to the spec ""Support deploying Kubernetes cluster with MgmtDriver"" [#SPEC-K8S-CLUSTER]_. This specification proposes that the deployed Kubernetes cluster VNF has a Storage server with Cinder volume to enable Users to deploy CNF which has PersistentVolume on it. Proposed change =============== The LCM operations for Kubernetes cluster VNF require the following changes: + Instantiate operation for Kubernetes cluster with MgmtDriver [#SPEC-K8S-CLUSTER]_. #. Create a Storage server VM with Cinder volume. #. MgmtDriver exposes Cinder volume as NFS shared directories in the Storage server. #. MgmtDriver registers NFS shared directories as Kubernetes PersistentVolumes. + Heal operation for the entire Kubernetes cluster with MgmtDriver [#SPEC-K8S-HEAL]_. #. MgmtDriver exposes Cinder volume as NFS shared directories in the respawned Storage server. #. MgmtDriver registers NFS shared directories as Kubernetes PersistentVolumes. + Heal operation for the Storage server VM with MgmtDriver. MgmtDriver performs following processes in ``heal_start``. #. Check that all registered PersistentVolumes in the Kubernetes cluster are not in use, otherwise fail. #. Deletes all the PersistentVolumes. .. note:: All the PersistentVolumes should be deleted before healing the Storage server VM. Not to make Pods go failed state, it is also required to terminate the Pods with PersistentVolumes. MgmtDriver performs following processes in ``heal_end``. #. MgmtDriver exposes Cinder volume as NFS shared directories in the respawned Storage server. #. MgmtDriver registers NFS shared directories as Kubernetes PersistentVolumes. Install NFS client on newly created Master/Worker VMs in all LCM operations. The following LCM operations need some additional process to install NFS client in the created Master/Worker VMs. + Scale-out operation for Kubernetes cluster Worker-nodes with MgmtDriver [#SPEC-K8S-SCALE]_. MgmtDriver installs the NFS client in ``scale_end``. + Heal operation for a single node (Master/Worker) in Kubernetes cluster with MgmtDriver [#SPEC-K8S-HEAL]_. MgmtDriver installs the NFS client in ``heal_end``. .. note:: + Scale operation for the Storage server VM is not supported. + Scale-in operation for Worker nodes is unchanged. + Terminate operation is unchanged. .. note:: When user deploys their CNF as Pods with PersistentVolume, PersistentVolumeClaim should be defined in Kubernetes resource files. PersistentVolumeClaim and controller resources such as Deployment, ReplicaSet, and Pod, are already supported in ""Container Network Function (CNF) with VNFM and CISM"" in Victoria release [#SPEC-CNF]_. Instantiate operation for Kubernetes cluster with PersistentVolumes ------------------------------------------------------------------- Add PersistentVolumes provided by Storage server VM to spec ""Support deploying Kubernetes cluster with MgmtDriver"" [#SPEC-K8S-CLUSTER]_. The diagram below shows creation of Kubernetes cluster and registration of PersistentVolumes: :: +---------+ +---------+ | Cluster | | | | Install | | VNFD | +-------------------+ | Script | | | | PersistentVolumes | +-------+-+ +-+-------+ | manifest(yaml) +--+ | | +-------------------+ | v v +---------------+ | +----------+ +---------------+ | LCM operation | +--->| | | Instantiation | | UserData +------>| CSAR | | Request with | +---------------+ | | | Additional | +------------+ +--->| | | Params | | Heat | | +----+-----+ +-+-------------+ | Template +--+ | | 1. Instantiate VNF | (Base HOT) | | | +------------+ +-----+----------+-------------+ | v v VNFM | | +-------------------+ | | | TackerServer | | | +-------+-----------+ | 3. Kubernetes Cluster | | | Installation | v | 6. NFS client | +----------------------+ | Installation | | +--------------+ | | +--------------+-----------------------------+--+---+ | | | | | | | | | | | +-------+--------------+--------+ | | | | | | | | | | | | | | | | | +----+-----+ +----+-----+ | 7. Kubernetes | | | | | | | | v | | v | | PersistentVolumes | | | | | | | | +------+ | | +------+ | | Registration | | | MgmtDriver | | | | | |Worker| | | |Master|<+--+--------------------+--+---+ | | | | | +------+ | | +------+ | | | | | | | | | | VM | | VM | | | | | | | | | +----------+ +----------+ | +-+--+---+ | | | | +-------------------------+ | 5. NFS server | | | | | | | | | +---------------+ | | Installation | | | +-+ | | | | | | NFS |<---+--+------------------+ | | | +--------------+ | | | | +---------------+ | | 4. Set up Cinder | | | | | | | +---------------+ | | volume directories | | | | | | | | Cinder volume |<---+--+--------------------+--+-+ +--------------+ | | | | +---------------+ | | | | | OpenStack | | | | | | |<-------------------+--+---+ Infra Driver | | | | | Storage server VM | | 2. Create VMs | | +--------------+ | | | +-------------------------+ |(MasterVM/WorkerVM/ | | | | +-------------------------------+ Storage server VM | | Tacker Conductor | | +-------------------------------+ with Cinder volume)| +----------------------+ | | Hardware Resources | | | +-------------------------------+ +------------------------------+ VNFD for Kubernetes cluster with UserData ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ It is basically the same as user guide ""How to use Mgmt Driver for deploying Kubernetes Cluster"" [#USER-GUIDE-K8S-CLUSTER]_, except for the following additions. Add definitions related to the Storage server VM to the VNFD and Heat template (Base HOT) as the following samples: VNFD: .. code-block:: yaml node_templates: ... storage_server: type: tosca.nodes.nfv.Vdu.Compute ... storage_server_CP: type: tosca.nodes.nfv.VduCp ... requirements: - virtual_binding: storage_server ... Heat template(Base HOT): .. code-block:: yaml resources: ... storage_server_volume: type: OS::Cinder::Volume properties: ... storage_server_CP: type: OS::Neutron::Port properties: ... storage_server: type: OS::Nova::Server properties: name: storage_server block_device_mapping: - device_name: vdb volume_id: {get_resource: storage_server_volume} networks: - port: {get_resource: storage_server_CP} ... Request parameters for Instantiate Kubernetes cluster with PersistentVolumes ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Add the following attributes to ``additionalParams`` described in the user guide ""How to use Mgmt Driver for deploying Kubernetes Cluster"" [#USER-GUIDE-K8S-CLUSTER]_. +-----------------------------------+-------------+-------------------------------------------------------------------------------------+ | Attribute name | Cardinality | Parameter description | +===================================+=============+=====================================================================================+ | k8s_cluster_installation_param | 1 | Configuration for Kubernetes cluster installation. | +-----------------------------------+-------------+-------------------------------------------------------------------------------------+ | >storage_server | 0..1 | Optional. Configuration for the Storage server VM. | | | | If the function of this specification is not used, the attribute is omitted. | +-----------------------------------+-------------+-------------------------------------------------------------------------------------+ | >>ssh_cp_name | 1 | CP name that MgmtDriver uses when SSH/SFTP access to the Storage server VM. | +-----------------------------------+-------------+-------------------------------------------------------------------------------------+ | >>username | 1 | User name that MgmtDriver uses when SSH/SFTP access to the Storage server VM. | +-----------------------------------+-------------+-------------------------------------------------------------------------------------+ | >>password | 1 | User password that MgmtDriver uses when SSH/SFTP access to the Storage server VM. | +-----------------------------------+-------------+-------------------------------------------------------------------------------------+ | >>cinder_volume_setup_params | 1..N | Configurations for Cinder volume directories on the Storage server VM. | +-----------------------------------+-------------+-------------------------------------------------------------------------------------+ | >>>volume_resource_id | 1 | The resource ID of the Cinder volume defined in the heat template(Base HOT). | | | | This attribute is used by the MgmtDriver to identify the Cinder volume. | +-----------------------------------+-------------+-------------------------------------------------------------------------------------+ | >>>mount_to | 1 | Directory path where the Cinder volume will be mounted on the Storage server VM. | +-----------------------------------+-------------+-------------------------------------------------------------------------------------+ | >>nfs_server_setup_params | 1..N | Configurations for NFS exports on the Storage server VM. | +-----------------------------------+-------------+-------------------------------------------------------------------------------------+ | >>>export_dir | 1 | Directory path to be exported over NFS. | +-----------------------------------+-------------+-------------------------------------------------------------------------------------+ | >>>export_to | 1 | The network address to which the directory is exported over NFS. | +-----------------------------------+-------------+-------------------------------------------------------------------------------------+ | >pv_registration_params | 0..N | Optional. Configuration for Kubernetes PersistentVolumes. | | | | If the function of this specification is not used, the attribute is omitted. | +-----------------------------------+-------------+-------------------------------------------------------------------------------------+ | >>pv_manifest_file_path | 1 | Path of manifest file for Kubernetes PersistentVolume in VNF Package. | +-----------------------------------+-------------+-------------------------------------------------------------------------------------+ | >>nfs_server_cp | 1 | CP name of the NFS server. If DHCP is enabled for the network used by NFS, | | | | the NFS server IP address in the manifest file for Kubernetes PersistentVolume | | | | cannot be preconfigured. Therefore, the NFS server IP address in the manifest file | | | | is replaced with the IP address of the CP specified by this attribute. | +-----------------------------------+-------------+-------------------------------------------------------------------------------------+ The following is a sample of body provided in the Instantiate VNF request `POST /vnflcm/v1/vnf_instances/{vnfInstanceId}/instantiate`: .. code-block:: json { ""flavourId"": ""simple"", ""additionalParams"": { ""k8s_cluster_installation_param"": { ""script_path"": ""Scripts/install_k8s_cluster.sh"", ""vim_name"": ""kubernetes_vim"", ""master_node"": { ""aspect_id"": ""master_instance"", ""ssh_cp_name"": ""masterNode_CP1"", ""nic_cp_name"": ""masterNode_CP1"", ""username"": ""ubuntu"", ""password"": ""ubuntu"", ""pod_cidr"": ""192.168.3.0/16"", ""cluster_cidr"": ""10.199.187.0/24"", ""cluster_cp_name"": ""masterNode_CP1"" }, ""worker_node"": { ""aspect_id"": ""worker_instance"", ""ssh_cp_name"": ""workerNode_CP2"", ""nic_cp_name"": ""workerNode_CP2"", ""username"": ""ubuntu"", ""password"": ""ubuntu"" }, ""proxy"": { ""http_proxy"": ""http://user1:password1@host1:port1"", ""https_proxy"": ""https://user2:password2@host2:port2"", ""no_proxy"": ""192.168.246.0/24,10.0.0.1"", ""k8s_node_cidr"": ""10.10.0.0/24"" }, ""storage_server"": { ""ssh_cp_name"": ""storage_server_CP"", ""username"": ""ubuntu"", ""password"": ""ubuntu"", ""cinder_volume_setup_params"": [ { ""volume_resource_id"": ""storage_server_volume"", ""mount_to"": ""/volume"" } ], ""nfs_server_setup_params"": [ { ""export_dir"": ""/volume/nfs/pv1"", ""export_to"": ""10.10.0.0/24"" }, { ""export_dir"": ""/volume/nfs/pv2"", ""export_to"": ""10.10.0.0/24"" }, { ""export_dir"": ""/volume/nfs/pv3"", ""export_to"": ""10.10.0.0/24"" } ] }, ""pv_registration_params"": [ { ""pv_manifest_file_path"": ""Files/kubernetes/nfs-pv1.yaml"", ""nfs_server_cp"": ""storage_server_CP"" }, { ""pv_manifest_file_path"": ""Files/kubernetes/nfs-pv2.yaml"", ""nfs_server_cp"": ""storage_server_CP"" }, { ""pv_manifest_file_path"": ""Files/kubernetes/nfs-pv3.yaml"", ""nfs_server_cp"": ""storage_server_CP"" } ] }, ""lcm-operation-user-data"": ""./UserData/k8s_cluster_user_data.py"", ""lcm-operation-user-data-class"": ""KubernetesClusterUserData"" }, ""extVirtualLinks"": [ { ""id"": ""net0_master"", ""resourceId"": ""f0c82461-36b5-4d86-8322-b0bc19cda65f"", ""extCps"": [ { ""cpdId"": ""masterNode_CP1"", ""cpConfig"": [ { ""cpProtocolData"": [ { ""layerProtocol"": ""IP_OVER_ETHERNET"" } ] } ] } ] }, { ""id"": ""net0_worker"", ""resourceId"": ""f0c82461-36b5-4d86-8322-b0bc19cda65f"", ""extCps"": [ { ""cpdId"": ""workerNode_CP2"", ""cpConfig"": [ { ""cpProtocolData"": [ { ""layerProtocol"": ""IP_OVER_ETHERNET"" } ] } ] } ] }, { ""id"": ""net0_storage"", ""resourceId"": ""f0c82461-36b5-4d86-8322-b0bc19cda65f"", ""extCps"": [ { ""cpdId"": ""storage_server_CP"", ""cpConfig"": [ { ""cpProtocolData"": [ { ""layerProtocol"": ""IP_OVER_ETHERNET"" } ] } ] } ] } ], ""vimConnectionInfo"": [ { ""id"": ""8a3adb69-0784-43c7-833e-aab0b6ab4470"", ""vimId"": ""8d8373fe-6977-49ff-83ac-7756572ed186"", ""vimType"": ""openstack"" } ] } Sequence for Instantiate Kubernetes cluster with PersistentVolumes ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ .. seqdiag:: seqdiag { node_width = 80; edge_length = 100; ""Client"" ""Tacker-server"" ""Tacker-conductor"" ""VnfLcmDriver"" ""OpenStackInfraDriver"" ""Heat"" ""MgmtDriver"" ""VnfInstance(Tacker DB)"" ""RemoteCommandExecutor"" ""SFTPClient"" ""NfvoPlugin"" Client -> ""Tacker-server"" [label = ""POST /vnf_instances/{vnfInstanceId}/instantiate""]; Client <-- ""Tacker-server"" [label = ""Response 202 Accepted""]; ""Tacker-server"" -> ""Tacker-conductor"" [label = ""trigger asynchronous task""]; ""Tacker-conductor"" -> ""VnfLcmDriver"" [label = ""execute VnfLcmDriver""]; ""VnfLcmDriver"" -> ""OpenStackInfraDriver"" [label = ""execute OpenStackInfraDriver""]; ""OpenStackInfraDriver"" -> ""Heat"" [label = ""create stack""]; ""OpenStackInfraDriver"" <-- ""Heat"" [label = ""return stack id""]; ""VnfLcmDriver"" <-- ""OpenStackInfraDriver"" [label = ""return instance_id""]; ""VnfLcmDriver"" -> ""MgmtDriver"" [label = ""instantiate_end""]; ""MgmtDriver"" -> ""VnfInstance(Tacker DB)"" [label = ""get stack id""]; ""MgmtDriver"" <-- ""VnfInstance(Tacker DB)"" [label = """"]; ""MgmtDriver"" -> ""Heat"" [label = ""get SSH/SFTP IP addresses and Kubernetes addresses using stack id""]; ""MgmtDriver"" <-- ""Heat"" [label = """"]; ""MgmtDriver"" -> ""RemoteCommandExecutor"" [label = ""install Kubernetes and create cluster on Master/Worker VMs""]; ""MgmtDriver"" <-- ""RemoteCommandExecutor"" [label = """"]; ""MgmtDriver"" -> ""RemoteCommandExecutor"" [label = ""get identification token from Kubernetes cluster""]; ""MgmtDriver"" <-- ""RemoteCommandExecutor"" [label = """"]; ""MgmtDriver"" -> ""RemoteCommandExecutor"" [label = ""set up Cinder volume directories on the Storage server VM""]; ""MgmtDriver"" <-- ""RemoteCommandExecutor"" [label = """"]; ""MgmtDriver"" -> ""RemoteCommandExecutor"" [label = ""install NFS server and set up NFS exports on the Storage server VM""]; ""MgmtDriver"" <-- ""RemoteCommandExecutor"" [label = """"]; ""MgmtDriver"" -> ""RemoteCommandExecutor"" [label = ""install NFS client on all Master/Worker VMs""]; ""MgmtDriver"" <-- ""RemoteCommandExecutor"" [label = """"]; ""MgmtDriver"" -> ""SFTPClient"" [label = ""transfer manifest files for Kubernetes PersistentVolumes to the Master VM""]; ""MgmtDriver"" <-- ""SFTPClient"" [label = """"]; ""MgmtDriver"" -> ""RemoteCommandExecutor"" [label = ""replace the NFS server IP address in manifest files for Kubernetes PersistentVolumes""]; ""MgmtDriver"" <-- ""RemoteCommandExecutor"" [label = """"]; ""MgmtDriver"" -> ""RemoteCommandExecutor"" [label = ""register Kubernetes PersistentVolumes on the Master VM""]; ""MgmtDriver"" <-- ""RemoteCommandExecutor"" [label = """"]; ""MgmtDriver"" -> ""NfvoPlugin"" [label = ""register Kubernetes VIM to tacker""]; ""MgmtDriver"" <-- ""NfvoPlugin"" [label = """"] ""MgmtDriver"" -> ""VnfInstance(Tacker DB)"" [label = ""append Kubernetes cluster VIM info to VimConnectionInfo""] ""MgmtDriver"" <-- ""VnfInstance(Tacker DB)"" [label = """"] ""VnfLcmDriver"" <-- ""MgmtDriver"" [label = """"]; ""Tacker-conductor"" <-- ""VnfLcmDriver"" [label = """"]; } The procedure consists of the following steps as illustrated in above sequence. #. Client sends a POST Instantiate VNF request. #. It is basically the same sequence as described in spec ""Support deployment Kubernetes cluster with MgmtDriver"" [#SPEC-K8S-CLUSTER]_, except for following additional processes. #. The following processes are added to ``instantiate_end``. #. MgmtDriver creates file system for Cinder volume and mounts it to a directory on the Storage server VM. #. MgmtDriver installs the NFS server and sets up NFS exports on the Storage server VM. #. MgmtDriver installs the NFS client on all Master/Worker VMs. #. MgmtDriver transfers manifest files for Kubernetes PersistentVolumes to the Master VM. #. MgmtDriver replaces the NFS server IP address in manifest files for Kubernetes PersistentVolumes with the actual NFS server IP address. #. MgmtDriver uses CLI to register PersistentVolumes on the Master VM. .. note:: It is assumed that the OS of the Storage Server VM is Ubuntu. The file system for the Cinder volume is created with ""ext4"". Heal operation for the entire Kubernetes cluster with PersistentVolumes ----------------------------------------------------------------------- Add PersistentVolumes provided by Storage server VM to spec ""Support Healing Kubernetes Master/Worker-nodes with Mgmtdriver"" [#SPEC-K8S-HEAL]_. The diagram below shows Heal(entire Kubernetes cluster) operation: :: +---------------+ | Heal Request | +---+-----------+ | 1. Heal VNF | +----------------+-------------+ | v VNFM | | +-------------------+ | | | TackerServer | | | +-------+-----------+ | 5. Kubernetes Cluster | | | Installation | v | 8. NFS client | +----------------------+ | Installation | | +--------------+ | | +--------------+-------------------------------+--+---+ | | | | | | | | | | | +-------+--------------+--------+ | | | | | | | | | | | | | | | | | +----+-----+ +----+-----+ | 9. Kubernetes | | | | | | | | v | | v | | PersistentVolumes | | | | | | | | +------+ | | +------+ | | Registration | | | MgmtDriver | | | | | |Worker| | | |Master|<+--+----------------------+--+---+ | | | | | +------+ | | +------+ | | | | | | | | | | VM | | VM | | | | | | | | | +----------+ +----------+ | | | | | | | | +-------------------------+ | 7. NFS server | | | | | | | | +---------------+ | | Installation | | | | | | | | | NFS |<---+--+----------------------+--+---+ | | | | | +---------------+ | | 6. Set up Cinder | | | | | | | | +---------------+ | | volume directories | | | | | | | | | Cinder volume |<---+--+----------------------+--+---+ | | | | | +---------------+ | | | | +--------------+ | | | | Storage server VM | | | | 2. Delete old | | | +-------------------------+ | | | Kubernetes cluster | | | New VMs |<-------------------+ | | information | | +-------------------------------+ 4. Create VMs | | | 10. Register new | | +-------------------------------+(MasterVM/WorkerVM/ | | | Kubernetes cluster | | | +----------+ +----------+ | Storage server VM | | | information | | | | +------+ | | +------+ | | with Cinder volume)| | | | | | | |Worker| | | |Master| | | | | | | | | | +------+ | | +------+ | | | | | | | | | VM | | VM | | | | | | | | +----------+ +----------+ | | | | | | | +-------------------------+ | | | | | | | | +---------------+ | | | | | +--------------+ | | | | | NFS | | | +-+--+---+ | | | | | +---------------+ | | | | | OpenStack | | | | | +---------------+ | | | | | Infra Driver | | | | | | Cinder volume | | |<---------------------+--+---+ | | | | | +---------------+ | | 3. Delete VMs | | +--------------+ | | | | Storage server VM | |(MasterVM/WorkerVM/ | | | | | +-------------------------+ | Storage server VM | | | | | Old VMs | with Cinder volume) | | | | +-------------------------------+ | | Tacker Conductor | | +-------------------------------+ | +----------------------+ | | Hardware Resources | | | +-------------------------------+ +------------------------------+ VNFD for Heal(entire Kubernetes cluster) operation ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ No change from spec ""Support Healing Kubernetes Master/Worker-nodes with Mgmtdriver"" [#SPEC-K8S-HEAL]_. Request parameters for Heal(entire Kubernetes cluster) operation ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ No change from spec ""Support Healing Kubernetes Master/Worker-nodes with Mgmtdriver"" [#SPEC-K8S-HEAL]_. Procedure for Heal(entire Kubernetes cluster) operation ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ The procedure consists of the following steps. #. Client sends a POST Heal VNF request. #. It is basically the same sequence as described in spec ""Support Healing Kubernetes Master/Worker-nodes with Mgmtdriver"" [#SPEC-K8S-HEAL]_, except for following additional processes. #. The following processes are added to ``heal_end``. #. MgmtDriver gets ``additionalParams`` of Instantiate VNF request from VnfInstance(Tacker DB). #. MgmtDriver creates file system for Cinder volume and mounts it to a directory on the new Storage server VM. #. MgmtDriver installs the NFS server and sets up NFS exports on the new Storage server VM. #. MgmtDriver installs the NFS client on all new Master/Worker VMs. #. MgmtDriver transfers manifest files for Kubernetes PersistentVolumes to the new Master VM. #. MgmtDriver replaces the NFS server IP address in manifest files for Kubernetes PersistentVolumes with the actual NFS server IP address. #. MgmtDriver uses CLI to register Kubernetes PersistentVolumes on the new Master VM. Heal operation for the Storage server VM ---------------------------------------- The diagram below shows Heal operation for the Storage server VM: :: +---------------+ | Heal Request | +---+-----------+ | 1. Heal VNF | +----------------+-------------+ | v VNFM | | +-------------------+ | | | TackerServer | | 2. Delete old | +-------+-----------+ | Kubernetes | | | +-------------------------------+ PersistentVolumes | v | | +----------+ | 7. Register new | +----------------------+ | | | | | Kubernetes | | +--------------+ | | | | +------+ | | PersistentVolumes | | | | | | | | |Master|<+--+----------------------+--+---+ | | | | | +------+ | | | | | | | | | | VM | | | | | | | | | +----------+ | | | | | | | | +-------------------------+ | 6. NFS server | | | MgmtDriver | | | | | +---------------+ | | Installation | | | | | | | | | NFS |<---+--+----------------------+--+---+ | | | | | +---------------+ | | 5. Set up Cinder | | | | | | | | +---------------+ | | volume directories | | | | | | | | | Cinder volume |<---+--+----------------------+--+---+ | | | | | +---------------+ | | | | +--------------+ | | | | New Storage server VM |<-+--------------------+ | | | | | +-------------------------+ | 4. Create new | | | | | | +-------------------------+ | Storage server VM | | | | | | | +---------------+ | | | | | | | | | | NFS | | | | | | +--------------+ | | | | +---------------+ | | +-+--+---+ | | | | | +---------------+ | | | | | OpenStack | | | | | | Cinder volume | | | | | | Infra Driver | | | | | +---------------+ |<-+----------------------+--+---+ | | | | | Old Storage server VM | | 3. Delete old | | +--------------+ | | | +-------------------------+ | Storage server VM | | | | +-------------------------------+ | | Tacker Conductor | | +-------------------------------+ | +----------------------+ | | Hardware Resources | | | +-------------------------------+ +------------------------------+ VNFD for Heal(Storage server VM) operation ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ VNFD needs to have ``heal_start`` and ``heal_end`` definitions. Same as spec ""Support Healing Kubernetes Master/Worker-nodes with Mgmtdriver"" [#SPEC-K8S-HEAL]_. Request parameters for Heal(Storage server VM) operation ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ User gives ``HealVnfRequest`` data type defined in ETSI NFV-SOL002 v2.6.1 [#NFV-SOL002]_ as request parameters. Same as spec ""Support Healing Kubernetes Master/Worker-nodes with Mgmtdriver"" [#SPEC-K8S-HEAL]_. Procedure for Heal(Storage server VM) operation ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ The procedure consists of the following steps. #. Client sends a POST Heal VNF request. #. It is basically the same sequence as described in the ""3) Flow of Heal of a VNF instance"" chapter of spec ""REST API for VNF based on ETSI NFV-SOL specification"" [#SPEC-SOL-REST-API]_, except for the MgmtDriver. #. The following processes are performed in ``heal_start``. #. MgmtDriver gets ``additionalParams`` of Instantiate VNF request from VnfInstance(Tacker DB). #. MgmtDriver uses CLI to get status of Kubernetes PersistentVolumes, and check that they are not in use. If Kubernetes PersistentVolumes are in use, raise exception and Heal operation fails. #. MgmtDriver uses CLI to delete Kubernetes PersistentVolumes on the Master VM. #. The following processes are performed in ``heal_end``. #. MgmtDriver gets IP address of the new Storage server VM from Heat. #. MgmtDriver gets ``additionalParams`` of Instantiate VNF request from VnfInstance(Tacker DB). #. MgmtDriver creates file system for new Cinder volume and mounts it to a directory on the new Storage server VM. #. MgmtDriver installs the NFS server and sets up NFS exports on the new Storage server VM. #. MgmtDriver transfers manifest files for Kubernetes PersistentVolumes to the Master VM. #. MgmtDriver replaces the NFS server IP address in manifest files for Kubernetes PersistentVolumes with the actual NFS server IP address. #. MgmtDriver uses CLI to register Kubernetes PersistentVolumes on the Master VM. Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Masaki Ueno <masaki.ueno.up@hco.ntt.co.jp> Other contributors: Yoshito Ito <yoshito.itou.dr@hco.ntt.co.jp> Yoshiyuki Katada <katada.yoshiyuk@fujitsu.com> Ayumu Ueha <ueha.ayumu@fujitsu.com> Liang Lu <lu.liang@fujitsu.com> Work Items ---------- + Provide the sample script executed by MgmtDriver based on the Wallaby released sample script for Kubernetes cluster with the following changes: + Expose Cinder volume of Storage server VM as NFS shared directories, and register NFS shared directories as Kubernetes PersistentVolumes. + Install NFS client on all Master/Worker VMs. + When healing the Storage server VM, re-register the Kubernetes PersistentVolumes. + Add new unit and functional tests. Dependencies ============ LCM operations for the Kubernetes cluster depend on the following specifications: + Instantiate operation for the Kubernetes cluster Depends on spec ""Support deploying Kubernetes cluster with MgmtDriver"" [#SPEC-K8S-CLUSTER]_. + Scale operation for the Kubernetes cluster Depends on spec ""Support scaling Kubernetes Worker-nodes with Mgmtdriver"" [#SPEC-K8S-SCALE]_. + Heal operation for the Kubernetes cluster Depends on spec ""Support Healing Kubernetes Master/Worker-nodes with Mgmtdriver"" [#SPEC-K8S-HEAL]_. Testing ======= Unit and functional tests will be added to cover cases required in the spec. Documentation Impact ==================== Complete user guide will be added to explain how to use a Kubernetes cluster with a Storage server containing Cinder volume. References ========== .. [#NFV-SOL003] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/003/02.06.01_60/gs_NFV-SOL003v020601p.pdf .. [#SPEC-K8S-CLUSTER] https://specs.openstack.org/openstack/tacker-specs/specs/wallaby/mgmt-driver-for-k8s-cluster.html .. [#SPEC-K8S-HEAL] https://specs.openstack.org/openstack/tacker-specs/specs/wallaby/mgmt-driver-for-k8s-heal.html .. [#SPEC-K8S-SCALE] https://specs.openstack.org/openstack/tacker-specs/specs/wallaby/mgmt-driver-for-k8s-scale.html .. [#SPEC-CNF] https://specs.openstack.org/openstack/tacker-specs/specs/victoria/container-network-function.html .. [#USER-GUIDE-K8S-CLUSTER] https://docs.openstack.org/tacker/latest/user/mgmt_driver_deploy_k8s_usage_guide.html .. [#NFV-SOL002] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/002/02.06.01_60/gs_nfv-sol002v020601p.pdf .. [#SPEC-SOL-REST-API] https://specs.openstack.org/openstack/tacker-specs/specs/ussuri/etsi-nfv-sol-rest-api-for-VNF-deployment.html ",,850,0
openstack%2Ftacker-specs~master~Ib3a5df22d19fbe10c3c25385e7f88cb60d299f47,openstack/tacker-specs,master,Ib3a5df22d19fbe10c3c25385e7f88cb60d299f47,Enhance Heat input on the basis of NFV SOL014,MERGED,2021-04-19 04:55:40.000000000,2021-07-11 09:48:57.000000000,2021-07-11 09:47:49.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 31857}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-04-19 04:55:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/afecb89724bc84625248a22f6e0963564fce87cc', 'message': ""Enhance Heat input parameters on the basis of ETSI NFV SOL014\n\nThis specification enhances the Tacker's supported parameters mapped\nto the OpenStack's Heat Orchestration Template (HOT).\nThe specification adds supported parameters and focuses\non how they can be mapped onto the HOT to instantiate the VNF.\n\nChange-Id: Ib3a5df22d19fbe10c3c25385e7f88cb60d299f47\nImplements: blueprint support-hot-according-to-nfv-sol014\n""}, {'number': 2, 'created': '2021-04-20 05:55:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/08e5f7584136a4716d9f06dbbe5f889933d9bfa4', 'message': ""Enhance Heat input parameters on the basis of ETSI NFV SOL014\n\nThis specification enhances the Tacker's supported parameters mapped\nto the OpenStack's Heat Orchestration Template (HOT).\nThe specification adds supported parameters and focuses\non how they can be mapped onto the HOT to instantiate the VNF.\n\nChange-Id: Ib3a5df22d19fbe10c3c25385e7f88cb60d299f47\nImplements: blueprint support-hot-according-to-nfv-sol014\n""}, {'number': 3, 'created': '2021-04-30 03:06:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/dd783d6e334887abe958b22d5d64e3e876fe1bcb', 'message': ""Enhance Heat input parameters on the basis of ETSI NFV SOL014\n\nThis specification enhances the Tacker's supported parameters mapped\nto the OpenStack's Heat Orchestration Template (HOT).\nThe specification adds supported parameters and focuses\non how they can be mapped onto the HOT to instantiate the VNF.\n\nChange-Id: Ib3a5df22d19fbe10c3c25385e7f88cb60d299f47\nImplements: blueprint support-hot-according-to-nfv-sol014\n""}, {'number': 4, 'created': '2021-06-29 07:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/a3535e63a7562cfbb1f39193e44739ffb8100f31', 'message': ""Enhance Heat input parameters on the basis of ETSI NFV SOL014\n\nThis specification enhances the Tacker's supported parameters mapped\nto the OpenStack's Heat Orchestration Template (HOT).\nThe specification adds supported parameters and focuses\non how they can be mapped onto the HOT to instantiate the VNF.\n\nChange-Id: Ib3a5df22d19fbe10c3c25385e7f88cb60d299f47\nImplements: blueprint support-hot-according-to-nfv-sol014\n""}, {'number': 5, 'created': '2021-07-01 06:13:46.000000000', 'files': ['specs/xena/support-hot-according-to-nfv-sol014.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/1e7b264f8854597ebbb5b16654bb3466d8541371', 'message': ""Enhance Heat input on the basis of NFV SOL014\n\nThis specification enhances the Tacker's supported parameters mapped\nto the OpenStack's Heat Orchestration Template (HOT).\nThe specification adds supported parameters and focuses\non how they can be mapped onto the HOT to instantiate the VNF.\n\nChange-Id: Ib3a5df22d19fbe10c3c25385e7f88cb60d299f47\nImplements: blueprint support-hot-according-to-nfv-sol014\n""}]",36,786815,1e7b264f8854597ebbb5b16654bb3466d8541371,25,7,5,32581,,,0,"Enhance Heat input on the basis of NFV SOL014

This specification enhances the Tacker's supported parameters mapped
to the OpenStack's Heat Orchestration Template (HOT).
The specification adds supported parameters and focuses
on how they can be mapped onto the HOT to instantiate the VNF.

Change-Id: Ib3a5df22d19fbe10c3c25385e7f88cb60d299f47
Implements: blueprint support-hot-according-to-nfv-sol014
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/15/786815/5 && git format-patch -1 --stdout FETCH_HEAD,['specs/xena/support-hot-according-to-nfv-sol014.rst'],1,afecb89724bc84625248a22f6e0963564fce87cc,bp/support-hot-according-to-nfv-sol014,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================================== Enhance Heat input parameters on the basis of ETSI NFV SOL014 ============================================================== https://blueprints.launchpad.net/tacker/+spec/support-hot-according-to-nfv-sol014 This specification enhances the Tacker's supported parameters mapped to the OpenStack's Heat Orchestration Template (HOT) [#Heat_API]_. The specification adds supported parameters and focuses on how they can be mapped onto the HOT to instantiate the VNF. Problem description =================== ETSI NFV SOL 014 [#ETSI_SOL014]_ specified a set of data models for information exchanged over the virtualised resource management. It also focused on implementation examples of the data models defined for the various interfaces using the HOT. Though Tacker has already been implemented LCM operations using HOT [#Userdata]_ , its supported parameters were limited. The further support of the parameters in HOT with SOL014 makes Tacker more flexible and powerful as Generic-VNFM. Proposed change =============== This specification enables Tacker to support more parameters in the input data for Heat. To instantiate VNF, Tacker will generate the input data for Heat in accordance with VNF Descriptor (VNFD), information in InstantiateVnfRequest operation, and Grant operation defined in SOL001 [#ETSI_SOL001]_ and SOL003 [#ETSI_SOL003]_ . Following parameters will be supported. +-------------+---------------------------+-------------------------------------------+-----------------------------+------------------------+--------------------------------------------------------------+-------------------------+ | parameter | | VNFD | API - InstantiateVnfRequest | API - Grant | Heat | Supported in (W) | +=============+===========================+===========================================+=============================+========================+==============================================================+=========================+ | Compute | name | tosca.nodes.nfv.Vdu.Compute | N/A | N/A | OS::Nova::Server > properties > name | NO | + +---------------------------+-------------------------------------------+-----------------------------+------------------------+--------------------------------------------------------------+-------------------------+ | | flavour | tosca.nodes.nfv.Vdu.Compute | N/A | vimAssets | OS::Nova::Server > properties > flavor | YES | + +---------------------------+-------------------------------------------+-----------------------------+------------------------+--------------------------------------------------------------+-------------------------+ | | image | tosca.artifacts.nfv.SwImage | N/A | vimAssets | OS::Nova::Server > properties > image | YES | + +---------------------------+-------------------------------------------+-----------------------------+------------------------+--------------------------------------------------------------+-------------------------+ | | desired_capacity | tosca.policies.nfv.InstantiationLevels | N/A | N/A | OS::Heat::AutoScalingGroup > properties > desired_capacity | NO | | | | tosca.policies.nfv.VduScalingAspectDeltas | | | | | | | | tosca.policies.nfv.VduInitialDelta | | | | | + +---------------------------+-------------------------------------------+-----------------------------+------------------------+--------------------------------------------------------------+-------------------------+ | | max_size | tosca.nodes.nfv.Vdu.Compute | N/A | N/A | OS::Heat::AutoScalingGroup > properties > max_size | NO | + +---------------------------+-------------------------------------------+-----------------------------+------------------------+--------------------------------------------------------------+-------------------------+ | | min_size | tosca.nodes.nfv.Vdu.Compute | N/A | N/A | OS::Heat::AutoScalingGroup > properties > min_size | NO | + +---------------------------+-------------------------------------------+-----------------------------+------------------------+--------------------------------------------------------------+-------------------------+ | | scaling_adjustment | N/A | addtionalParams | addtionalParams | OS::Heat::ScalingPolicy > properties > scaling_adjustment | NO | +-------------+---------------------------+-------------------------------------------+-----------------------------+------------------------+--------------------------------------------------------------+-------------------------+ | Network | ext_network | N/A | extVirtualLinks | extVirtualLinks | OS::Neutron::Port > properties > network | YES | + +---------------------------+-------------------------------------------+-----------------------------+------------------------+--------------------------------------------------------------+-------------------------+ | | ext_subnet | N/A | extVirtualLinks | extVirtualLinks | OS::Neutron::Subnet > properties > name | YES | + +---------------------------+-------------------------------------------+-----------------------------+------------------------+--------------------------------------------------------------+-------------------------+ | | ext_ip_address | N/A | extVirtualLinks | extVirtualLinks | OS::Neutron::Port > properties > fixed_ips > ip_address | YES | + +---------------------------+-------------------------------------------+-----------------------------+------------------------+--------------------------------------------------------------+-------------------------+ | | ext_managed_network | tosca.nodes.nfv.VnfVirtualLink | extManagedVirtualLinks | extManagedVirtualLinks | OS::Neutron::Port > properties > network | NO | + +---------------------------+-------------------------------------------+-----------------------------+------------------------+--------------------------------------------------------------+-------------------------+ | | ext_managed_subnet | N/A | addtionalParams | addtionalParams | OS::Neutron::Subnet > properties > name | NO | + +---------------------------+-------------------------------------------+-----------------------------+------------------------+--------------------------------------------------------------+-------------------------+ | | ip_address | tosca.nodes.nfv.VnfVirtualLink | N/A | N/A | OS::Neutron::Port > properties > fixed_ips > ip_address | NO | + +---------------------------+-------------------------------------------+-----------------------------+------------------------+--------------------------------------------------------------+-------------------------+ | | gateway_ip | tosca.nodes.nfv.VnfVirtualLink | N/A | N/A | OS::Neutron::Subnet > properties > gateway_ip | NO | + +---------------------------+-------------------------------------------+-----------------------------+------------------------+--------------------------------------------------------------+-------------------------+ | | enable_dhcp | tosca.nodes.nfv.VnfVirtualLink | N/A | N/A | OS::Neutron::Subnet > properties > enable_dhcp | NO | + +---------------------------+-------------------------------------------+-----------------------------+------------------------+--------------------------------------------------------------+-------------------------+ | | mac_address | N/A | extVirtualLinks | extVirtualLinks | OS::Neutron::Port > properties > mac_address | NO | + +---------------------------+-------------------------------------------+-----------------------------+------------------------+--------------------------------------------------------------+-------------------------+ | | port_id | tosca.nodes.nfv.VduCp | extVirtualLinks | extVirtualLinks | OS::Neutron::FloatingIP > properties > port_id | NO | | | | | | | | | | | | | extManagedVirtualLinks | extManagedVirtualLinks | | | + +---------------------------+-------------------------------------------+-----------------------------+------------------------+--------------------------------------------------------------+-------------------------+ | | network_type | tosca.nodes.nfv.VnfVirtualLink | N/A | N/A | OS::Neutron::ProviderNet > propterties > network_type | NO | | | | | | | | | | | | | | | OS::Neutron::Segment > propterties > network_type | | + +---------------------------+-------------------------------------------+-----------------------------+------------------------+--------------------------------------------------------------+-------------------------+ | | binding:vnic_type | tosca.nodes.nfv.VduCp | N/A | N/A | OS::Neutron::Port > properties > binding:vnic_type | NO | + +---------------------------+-------------------------------------------+-----------------------------+------------------------+--------------------------------------------------------------+-------------------------+ | | max_kbps | tosca.nodes.nfv.VnfVirtualLink | N/A | N/A | OS::Neutron::QoSBandwidthLimitRule > properties > max_kbps | NO | + +---------------------------+-------------------------------------------+-----------------------------+------------------------+--------------------------------------------------------------+-------------------------+ | | min_kbps | tosca.nodes.nfv.VnfVirtualLink | N/A | N/A | OS::Neutron::QoSMinimumBandwidthRule > properties > min_kbps | NO | +-------------+---------------------------+-------------------------------------------+-----------------------------+------------------------+--------------------------------------------------------------+-------------------------+ | Storage | volume_type | N/A | addtionalParams | addtionalParams | OS::Cinder::Volume > properties > volume_type | NO | + +---------------------------+-------------------------------------------+-----------------------------+------------------------+--------------------------------------------------------------+-------------------------+ | | volume_size | tosca.nodes.nfv.Vdu.VirtualBlockStorage | N/A | N/A | OS::Cinder::Volume > properties > volume_size | NO | +-------------+---------------------------+-------------------------------------------+-----------------------------+------------------------+--------------------------------------------------------------+-------------------------+ | placement | server_availability_zone | N/A | N/A | zones | OS::Nova::Server > properties > availability_zone | YES | | +---------------------------+-------------------------------------------+-----------------------------+------------------------+--------------------------------------------------------------+-------------------------+ | | volume_availability_zone | N/A | addtionalParams | addtionalParams | OS::Cinder::Volume > properties > availability_zone | NO | | +---------------------------+-------------------------------------------+-----------------------------+------------------------+--------------------------------------------------------------+-------------------------+ | | ServerGroup | tosca.policies.nfv.AffinityRule | N/A | N/A | OS::Nova::ServerGroup > properties > policies | NO | | | | tosca.policies.nfv.AntiAffinityRule | | | | | +-------------+---------------------------+-------------------------------------------+-----------------------------+------------------------+--------------------------------------------------------------+-------------------------+ | other parameter | N/A | addtionalParams | N/A | other parameter | NO | +-------------+---------------------------+-------------------------------------------+-----------------------------+------------------------+--------------------------------------------------------------+-------------------------+ To support arbitrary data type, which is not specified in standard VNF Instantiation operation, Tacker will provide several operations using the addionalParams in InstantiateVnfRequest. The following describes the example of the input data including additionalParams. .. note:: Tacker has already supported additionalParams in InstantiateVnfRequest. However, additinalParamas was only used as a flag regarding LCM operation user data. This specification will expand the use of additionalParams by allowing it to be set any data defined by consumers. .. code-block:: json-object { ""flavourId"": ""flavour_id"", ""instantiationLevelId"": ""instantiation_level_id"", ""extVirtualLinks"": [ { ""resourceId"": ""a77119b7-fcaa-47e5-955d-29f37d5603d4"", ""id"": ""dc144409-bc93-48b9-be0a-7d737c01a88b"", ""extCps"": [ { ""cpdId"": ""CP_0"", ""cpConfig"": [ { ""cpProtocolData"": [ { ""layerProtocol"": ""IP_OVER_ETHERNET"", ""ipOverEthernet"": { ""ipAddresses"": [ { ""type"": ""IPV4"", ""macAddress"": ""fa:16:3e:aa:bb:cc"", ""fixedAddresses"": [ ""192.168.1.1"" ] } ] } } ] } ] } ] } ], ""additionalParams"": { ""lcm-operation-user-data"": ""./UserData/lcm_user_data.py"", ""lcm-operation-user-data-class"": ""SampleUserData"", ""Cp1Network"": ""452e9c2f-a0b4-401e-bdea-5007ce1dfd2b"", ""Cp1IpAddress"": ""192.168.10.1"", ""Cp1MacAddress"": ""fa:16:3e:aa:bb:dd"" } } Tacker will generate the input data mapped to HOT when it calls create-stack API in Heat. To address various consumers requirements, Tacker will provide three options to describe HOT and set corresponding additionalParams. The following data model shows sample HOT and additionalParams for each option. * Set parameters obtained from additionalParams within the nfv data structure. HOT: .. code-block:: yaml resources: VDU_0: type: OS::Nova::Server properties: name: VDU_0 flavor: { get_param: [ nfv, VDU, VDU_0, flavor ] } block_device_mapping_v2: [{ device_name: ""vda"", volume_id : { get_resource : VDU_0_Storage } }] availability_zone: nova networks: - port: { get_resource: CP_0 } - port: { get_resource: CP_1 } CP_0: type: OS::Neutron::Port properties: network: { get_param: [ nfv, CP, CP_0, network ] } fixed_ips: - ip_address: [ nfv, CP, CP_0, fixed_ips, ip_address, 0 ] mac_address: { get_param: [ nfv, CP, CP_0, mac_address ] } CP_1: type: OS::Neutron::Port properties: network: { get_param : [ nfv, Cp1Network ] } fixed_ips: - ip_address: { get_param: [ nfv, Cp1IPAddress ] } mac_address: { get_param: [ nfv, Cp1MacAddress ] } VDU_0_Storage: type: OS::Cinder::Volume deletion_policy: Delete properties: name: VDU_0_Storage image: { get_param: [ nfv, VDU, VDU_0_Storage, image ] } size: 30 parameters: .. code-block:: json-object { ""parameters"": { ""nfv"": { ""VDU"": { ""VDU_0"": {""flavor"": ""VDU_Flavor""}, ""VDU_0_Storage"": {""image"": ""VDU_image""} }, ""CP"": { ""CP_0"": { ""network"": ""a77119b7-fcaa-47e5-955d-29f37d5603d4"", ""mac_address"": ""fa:16:3e:aa:bb:cc"", ""fixed_ips"": [ { ""ip_address"": ""192.168.1.1"" } ] } }, ""Cp1Network"" : ""452e9c2f-a0b4-401e-bdea-5007ce1dfd2b"", ""Cp1IPAddress"": ""192.168.10.1"", ""Cp1MacAddress"": ""fa:16:3e:aa:bb:dd"" } } } * Set parameters obtained from additionalParams outside the nfv data structure. HOT: .. code-block:: yaml resources: VDU_0: type: OS::Nova::Server properties: name: VDU_0 flavor: { get_param: [ nfv, VDU, VDU_0, flavor ] } block_device_mapping_v2: [{ device_name: ""vda"", volume_id : { get_resource : VDU_0_Storage } }] availability_zone: nova networks: - port: { get_resource: CP_0 } - port: { get_resource: CP_1 } CP_0: type: OS::Neutron::Port properties: network: { get_param: [ nfv, CP, CP_0, network ] } fixed_ips: - ip_address: [ nfv, CP, CP_0, fixed_ips, ip_address, 0 ] mac_address: { get_param: [ nfv, CP, CP_0, mac_address ] } CP_1: type: OS::Neutron::Port properties: network: { get_param : Cp1Network } fixed_ips: - ip_address: { get_param: Cp1IPAddress } mac_address: { get_param: Cp1MacAddress } VDU_0_Storage: type: OS::Cinder::Volume deletion_policy: Delete properties: name: VDU_0_Storage image: { get_param: [ nfv, VDU, VDU_0_Storage, image ] } size: 30 parameters: .. code-block:: json-object { ""parameters"": { ""nfv"": { ""VDU"": { ""VDU_0"": {""flavor"": ""VDU_Flavor""}, ""VDU_0_Storage"": {""image"": ""VDU_image""} }, ""CP"": { ""CP_0"": { ""network"": ""a77119b7-fcaa-47e5-955d-29f37d5603d4"", ""mac_address"": ""fa:16:3e:aa:bb:cc"", ""fixed_ips"": [ { ""ip_address"": ""192.168.1.1"" } ] } } } ""Cp1Network"" : ""452e9c2f-a0b4-401e-bdea-5007ce1dfd2b"", ""Cp1IPAddress"": ""192.168.10.1"", ""Cp1MacAddress"": ""fa:16:3e:aa:bb:dd"" } } * Set all parameters outside the nfv data structure. .. note:: In this option, the nfv data structure is not mandatory for HOT and the input data. HOT: .. code-block:: yaml resources: VDU_0: type: OS::Nova::Server properties: name: VDU_0 flavor: { get_param: nfv_VDU_VDU_0_flavor } block_device_mapping_v2: [{ device_name: ""vda"", volume_id : { get_resource : VDU_0_Storage } }] availability_zone: nova networks: - port: { get_resource: CP_0 } - port: { get_resource: CP_1 } CP_0: type: OS::Neutron::Port properties: network: { get_param : nfv_CP_CP_0_network } fixed_ips: - ip_address: { get_param : nfv_CP_CP_0_fixed_ips_ip_address_0 } mac_address: { get_param : nfv_CP_CP_0_fixed_ips_ip_mac_address } CP_1: type: OS::Neutron::Port properties: network: { get_param : Cp1Network } fixed_ips: - ip_address: { get_param: Cp1IPAddress } mac_address: { get_param: Cp1MacAddress } VDU_0_Storage: type: OS::Cinder::Volume deletion_policy: Delete properties: name: VDU_0_Storage image: { get_param: nfv_VDU_VOU_0_Storage_image } size: 30 parameters: .. code-block:: json-object { ""parameters"": { ""nfv_VDU_VDU_0_flavor"": ""VDU_Flavor"", ""nfv_VDU_VOU_0_Storage_image"": ""VDU_image"", ""nfv_CP_CP_0_network"" : ""a77119b7-fcaa-47e5-955d-29f37d5603d4"", ""nfv_CP_CP_0_fixed_ips_ip_address_0"": ""192.168.1.1"", ""nfv_CP_CP_0_fixed_ips_ip_mac_address"": ""fa:16:3e:aa:bb:cc"", ""Cp1Network"" : ""452e9c2f-a0b4-401e-bdea-5007ce1dfd2b"", ""Cp1IPAddress"": ""192.168.10.1"", ""Cp1MacAddress"": ""fa:16:3e:aa:bb:dd"" } } Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Hirofumi Noguchi <hirofumi.noguchi.rs@hco.ntt.co.jp> Work Items ---------- Add new unit and functional tests. Dependencies ============ None Testing ======== None Documentation Impact ==================== None References ========== .. [#Heat_API] https://docs.openstack.org/heat/latest/template_guide/openstack.html .. [#ETSI_SOL014] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/014/ .. [#userdata] https://specs.openstack.org/openstack/tacker-specs/specs/ussuri/lcm-operation-with-lcm-operation-user-data.html .. [#ETSI_SOL001] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/003/ .. [#ETSI_SOL003] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/001/ ",,472,0
openstack%2Fironic-specs~master~Idf79c17e13590c507156be71f2955724b2a61e07,openstack/ironic-specs,master,Idf79c17e13590c507156be71f2955724b2a61e07,Ironic deployment steps,ABANDONED,2016-12-19 16:40:48.000000000,2021-07-11 09:22:01.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 2033}, {'_account_id': 5805}, {'_account_id': 6133}, {'_account_id': 6618}, {'_account_id': 7080}, {'_account_id': 7711}, {'_account_id': 10202}, {'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 11040}, {'_account_id': 11076}, {'_account_id': 11297}, {'_account_id': 11655}, {'_account_id': 12356}, {'_account_id': 13295}, {'_account_id': 14250}, {'_account_id': 14826}, {'_account_id': 19686}, {'_account_id': 21908}, {'_account_id': 22348}]","[{'number': 1, 'created': '2016-12-19 16:40:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/a3b6aaea542816a9c16d799cd4f84f45ab079f42', 'message': 'Ironic deployment steps\n\nCreate an independent spec to reflect the ironic deployment\nsteps feature. By isolating that spec, it can be documented\nproperly, and can reflect all possible use cases and features\nthat we will need to cover.\n\nChange-Id: Idf79c17e13590c507156be71f2955724b2a61e07\n'}, {'number': 2, 'created': '2016-12-19 17:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/29c5af060b8542e1c46e1f02b5dbca00c245c6f2', 'message': 'Ironic deployment steps\n\nCreate an independent spec to reflect the ironic deployment\nsteps feature. By isolating that spec, it can be documented\nproperly, and can reflect all possible use cases and features\nthat we will need to cover.\n\nChange-Id: Idf79c17e13590c507156be71f2955724b2a61e07\n'}, {'number': 3, 'created': '2017-01-05 08:33:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/93132890c46606c2267b4fe61b6ab372440ab37b', 'message': 'Ironic deployment steps\n\nCreate an independent spec to reflect the ironic deployment\nsteps feature. By isolating that spec, it can be documented\nproperly, and can reflect all possible use cases and features\nthat we will need to cover.\n\nChange-Id: Idf79c17e13590c507156be71f2955724b2a61e07\n'}, {'number': 4, 'created': '2017-01-09 07:30:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/7e085edb07527606e842d75b94f198bb71b91832', 'message': 'Ironic deployment steps\n\nCreate an independent spec to reflect the ironic deployment\nsteps feature. By isolating that spec, it can be documented\nproperly, and can reflect all possible use cases and features\nthat we will need to cover.\n\nChange-Id: Idf79c17e13590c507156be71f2955724b2a61e07\n'}, {'number': 5, 'created': '2017-01-10 09:09:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/ed94b1582007a24acfd0ce613f197f203abfac86', 'message': 'Ironic deployment steps\n\nCreate an independent spec to reflect the ironic deployment\nsteps feature. By isolating that spec, it can be documented\nproperly, and can reflect all possible use cases and features\nthat we will need to cover.\n\nChange-Id: Idf79c17e13590c507156be71f2955724b2a61e07\n'}, {'number': 6, 'created': '2017-01-23 14:30:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/78a2445d034ea39dac6a17be16b9a742e1d62c2a', 'message': 'Ironic deployment steps\n\nCreate an independent spec to reflect the ironic deployment\nsteps feature. By isolating that spec, it can be documented\nproperly, and can reflect all possible use cases and features\nthat we will need to cover.\n\nChange-Id: Idf79c17e13590c507156be71f2955724b2a61e07\n'}, {'number': 7, 'created': '2017-01-23 14:34:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/28e1ff341882d277b64ae03695781f76d9331e4f', 'message': 'Ironic deployment steps\n\nCreate an independent spec to reflect the ironic deployment\nsteps feature. By isolating that spec, it can be documented\nproperly, and can reflect all possible use cases and features\nthat we will need to cover.\n\nChange-Id: Idf79c17e13590c507156be71f2955724b2a61e07\n'}, {'number': 8, 'created': '2017-01-23 15:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/eeff48aba7ede6f76d053a1823354342e5f3c507', 'message': 'Ironic deployment steps\n\nCreate an independent spec to reflect the ironic deployment\nsteps feature. By isolating that spec, it can be documented\nproperly, and can reflect all possible use cases and features\nthat we will need to cover.\n\nChange-Id: Idf79c17e13590c507156be71f2955724b2a61e07\n'}, {'number': 9, 'created': '2017-01-27 09:19:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/cbb1a86b6a163fff1bedf0c7b215121473cc6c47', 'message': 'Ironic deployment steps\n\nCreate an independent spec to reflect the ironic deployment\nsteps feature. By isolating that spec, it can be documented\nproperly, and can reflect all possible use cases and features\nthat we will need to cover.\n\nChange-Id: Idf79c17e13590c507156be71f2955724b2a61e07\n'}, {'number': 10, 'created': '2017-01-27 11:36:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/3c6cee837f6917a63913e755e6e87736aa09e306', 'message': 'Ironic deployment steps\n\nCreate an independent spec to reflect the ironic deployment\nsteps feature. By isolating that spec, it can be documented\nproperly, and can reflect all possible use cases and features\nthat we will need to cover.\n\nChange-Id: Idf79c17e13590c507156be71f2955724b2a61e07\n'}, {'number': 11, 'created': '2017-01-30 16:07:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/cee4d52a90b80f512eee6828b7674da62504830d', 'message': 'Ironic deployment steps\n\nCreate an independent spec to reflect the ironic deployment\nsteps feature. By isolating that spec, it can be documented\nproperly, and can reflect all possible use cases and features\nthat we will need to cover.\n\nChange-Id: Idf79c17e13590c507156be71f2955724b2a61e07\n'}, {'number': 12, 'created': '2017-02-14 13:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/e0907f459b064b1ccdd868a5ffc0900823e918a0', 'message': 'Ironic deployment steps\n\nCreate an independent spec to reflect the ironic deployment\nsteps feature. By isolating that spec, it can be documented\nproperly, and can reflect all possible use cases and features\nthat we will need to cover.\n\nChange-Id: Idf79c17e13590c507156be71f2955724b2a61e07\n'}, {'number': 13, 'created': '2017-02-17 11:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/b2f72cbc09fd116bcefbdcfdf6e078c5d33768aa', 'message': 'Ironic deployment steps\n\nCreate an independent spec to reflect the ironic deployment\nsteps feature. By isolating that spec, it can be documented\nproperly, and can reflect all possible use cases and features\nthat we will need to cover.\n\nChange-Id: Idf79c17e13590c507156be71f2955724b2a61e07\n'}, {'number': 14, 'created': '2017-02-17 11:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/a3ecaa9656bd002ec60014784c3330695b9a2c60', 'message': 'Ironic deployment steps\n\nCreate an independent spec to reflect the ironic deployment\nsteps feature. By isolating that spec, it can be documented\nproperly, and can reflect all possible use cases and features\nthat we will need to cover.\n\nChange-Id: Idf79c17e13590c507156be71f2955724b2a61e07\n'}, {'number': 15, 'created': '2017-02-20 14:49:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/37df840f771468c54bc316a329a8afa77130b7c7', 'message': 'Ironic deployment steps\n\nCreate an independent spec to reflect the ironic deployment\nsteps feature. By isolating that spec, it can be documented\nproperly, and can reflect all possible use cases and features\nthat we will need to cover.\n\nChange-Id: Idf79c17e13590c507156be71f2955724b2a61e07\n'}, {'number': 16, 'created': '2017-02-27 08:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/342e952e8d98c505e5588ac3899a8282203283b2', 'message': 'Ironic deployment steps\n\nCreate an independent spec to reflect the ironic deployment\nsteps feature. By isolating that spec, it can be documented\nproperly, and can reflect all possible use cases and features\nthat we will need to cover.\n\nChange-Id: Idf79c17e13590c507156be71f2955724b2a61e07\n'}, {'number': 17, 'created': '2017-03-08 09:10:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/b7f3fc5712c47a04ba803347059c4b69511843f1', 'message': 'Ironic deployment steps\n\nCreate an independent spec to reflect the ironic deployment\nsteps feature. By isolating that spec, it can be documented\nproperly, and can reflect all possible use cases and features\nthat we will need to cover.\n\nChange-Id: Idf79c17e13590c507156be71f2955724b2a61e07\n'}, {'number': 18, 'created': '2017-11-29 21:15:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/055323d774d05c0ad98b8315d2f057782c4ddbe5', 'message': 'Ironic deployment steps\n\nCreate an independent spec to reflect the ironic deployment\nsteps feature. By isolating that spec, it can be documented\nproperly, and can reflect all possible use cases and features\nthat we will need to cover.\n\nChange-Id: Idf79c17e13590c507156be71f2955724b2a61e07\n'}, {'number': 19, 'created': '2017-11-30 15:35:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/872335b63265b53bd3ec8ce158f8d59a4c0b7361', 'message': 'Ironic deployment steps\n\nThis specification describes a framework in ironic for supporting\ndeployment steps, similar to the clean steps mechanism used in the\ncleaning process.\n\nDeployment steps would allow for a customized and extensible deployment\nprocess.\n\nChange-Id: Idf79c17e13590c507156be71f2955724b2a61e07\n'}, {'number': 20, 'created': '2018-02-23 02:38:04.000000000', 'files': ['specs/approved/deployment-steps.rst', 'specs/not-implemented/deployment-steps.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/0cf5790ddaa4f94f71d7e450ddbfaece119c725a', 'message': 'Ironic deployment steps\n\nThis specification describes a framework in ironic for supporting\ndeployment steps, similar to the clean steps mechanism used in the\ncleaning process.\n\nDeployment steps would allow for a customized and extensible deployment\nprocess.\n\nRelated-Bug: 1651185\nCo-Authored-By: Ruby Loo <ruby.loo@intel.com>\nChange-Id: Idf79c17e13590c507156be71f2955724b2a61e07\n'}]",233,412523,0cf5790ddaa4f94f71d7e450ddbfaece119c725a,89,22,20,6133,,,0,"Ironic deployment steps

This specification describes a framework in ironic for supporting
deployment steps, similar to the clean steps mechanism used in the
cleaning process.

Deployment steps would allow for a customized and extensible deployment
process.

Related-Bug: 1651185
Co-Authored-By: Ruby Loo <ruby.loo@intel.com>
Change-Id: Idf79c17e13590c507156be71f2955724b2a61e07
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/23/412523/20 && git format-patch -1 --stdout FETCH_HEAD,"['specs/approved/deployment-steps.rst', 'specs/not-implemented/deployment-steps.rst']",2,a3b6aaea542816a9c16d799cd4f84f45ab079f42,412523,../approved/deployment-steps.rst,,191,0
openstack%2Fpuppet-cinder~master~I3747ae08bc210455865eacd0915bf51fed01e4af,openstack/puppet-cinder,master,I3747ae08bc210455865eacd0915bf51fed01e4af,Do not merge: Check logs in litmus job result,ABANDONED,2021-05-23 13:18:35.000000000,2021-07-11 04:30:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-23 13:18:35.000000000', 'files': ['spec/acceptance/basic_cinder_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/1b979728bb0ddafa8a6854b0941a32e4d2dd4a47', 'message': 'Do not merge: Check logs in litmus job result\n\nDepends-on: https://review.opendev.org/792738\nChange-Id: I3747ae08bc210455865eacd0915bf51fed01e4af\n'}]",0,792739,1b979728bb0ddafa8a6854b0941a32e4d2dd4a47,3,1,1,9816,,,0,"Do not merge: Check logs in litmus job result

Depends-on: https://review.opendev.org/792738
Change-Id: I3747ae08bc210455865eacd0915bf51fed01e4af
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/39/792739/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_cinder_spec.rb'],1,1b979728bb0ddafa8a6854b0941a32e4d2dd4a47,dnm-litmus,,,0,1
openstack%2Fneutron~master~I5c00eae155afa6c0fc8e3956bc39edbeca3ea1e7,openstack/neutron,master,I5c00eae155afa6c0fc8e3956bc39edbeca3ea1e7,use payloads for PORT AFTER_UPDATE events,MERGED,2021-06-07 14:36:52.000000000,2021-07-11 00:54:54.000000000,2021-07-11 00:53:16.000000000,"[{'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-07 14:36:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c2522f71e3b5c11574681a54a28bfc3addf56657', 'message': 'use payloads for PORT AFTER_UPDATE events\n\nThis patch switches over to callback payloads for PORT\nAFTER_UPDATE events.\n\nChange-Id: I5c00eae155afa6c0fc8e3956bc39edbeca3ea1e7\n'}, {'number': 2, 'created': '2021-06-07 17:52:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e7a7a1c63011066611000a4bf5fb088fdc98cfc0', 'message': 'use payloads for PORT AFTER_UPDATE events\n\nThis patch switches over to callback payloads for PORT\nAFTER_UPDATE events.\n\nChange-Id: I5c00eae155afa6c0fc8e3956bc39edbeca3ea1e7\n'}, {'number': 3, 'created': '2021-06-09 05:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/40fb9334c79fabd139dd084cbb94e9affbdca0ff', 'message': 'use payloads for PORT AFTER_UPDATE events\n\nThis patch switches over to callback payloads for PORT\nAFTER_UPDATE events.\n\nChange-Id: I5c00eae155afa6c0fc8e3956bc39edbeca3ea1e7\n'}, {'number': 4, 'created': '2021-06-10 14:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/51a2abb20e803c7883b9215569ca3ad2d1844207', 'message': 'use payloads for PORT AFTER_UPDATE events\n\nThis patch switches over to callback payloads for PORT\nAFTER_UPDATE events.\n\nChange-Id: I5c00eae155afa6c0fc8e3956bc39edbeca3ea1e7\n'}, {'number': 5, 'created': '2021-06-18 08:31:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6b462d220f59c2701819675249d7bee8541442f8', 'message': 'use payloads for PORT AFTER_UPDATE events\n\nThis patch switches over to callback payloads for PORT\nAFTER_UPDATE events.\n\nChange-Id: I5c00eae155afa6c0fc8e3956bc39edbeca3ea1e7\n'}, {'number': 6, 'created': '2021-06-22 09:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/73afc165e875634c4213791e634315494ff8eff7', 'message': 'use payloads for PORT AFTER_UPDATE events\n\nThis patch switches over to callback payloads for PORT\nAFTER_UPDATE events.\n\nChange-Id: I5c00eae155afa6c0fc8e3956bc39edbeca3ea1e7\n'}, {'number': 7, 'created': '2021-06-23 11:33:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e0006c4acec167adba89fa54e35face4592ae79d', 'message': 'use payloads for PORT AFTER_UPDATE events\n\nThis patch switches over to callback payloads for PORT\nAFTER_UPDATE events.\n\nChange-Id: I5c00eae155afa6c0fc8e3956bc39edbeca3ea1e7\n'}, {'number': 8, 'created': '2021-06-23 21:19:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/52f261c37cbcff8628adb69ac5b96aaeacaf92dc', 'message': 'use payloads for PORT AFTER_UPDATE events\n\nThis patch switches over to callback payloads for PORT\nAFTER_UPDATE events.\n\nChange-Id: I5c00eae155afa6c0fc8e3956bc39edbeca3ea1e7\n'}, {'number': 9, 'created': '2021-06-24 10:26:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f800f3cedea9a0a0424d95835c92affc02349dac', 'message': 'use payloads for PORT AFTER_UPDATE events\n\nThis patch switches over to callback payloads for PORT\nAFTER_UPDATE events.\n\nChange-Id: I5c00eae155afa6c0fc8e3956bc39edbeca3ea1e7\n'}, {'number': 10, 'created': '2021-06-24 10:32:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/59b2d0aaa9b0dd1e70eae50fb68c490af74b9046', 'message': 'use payloads for PORT AFTER_UPDATE events\n\nThis patch switches over to callback payloads for PORT\nAFTER_UPDATE events.\n\nChange-Id: I5c00eae155afa6c0fc8e3956bc39edbeca3ea1e7\n'}, {'number': 11, 'created': '2021-06-28 11:45:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5728c25b537320951df13bb12d6fb80c59087f5c', 'message': 'use payloads for PORT AFTER_UPDATE events\n\nThis patch switches over to callback payloads for PORT\nAFTER_UPDATE events.\n\nChange-Id: I5c00eae155afa6c0fc8e3956bc39edbeca3ea1e7\n'}, {'number': 12, 'created': '2021-06-28 13:58:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2aacd95bdfeb7c23b052ffd5103a8afbbb7c3244', 'message': 'use payloads for PORT AFTER_UPDATE events\n\nThis patch switches over to callback payloads for PORT\nAFTER_UPDATE events.\n\nChange-Id: I5c00eae155afa6c0fc8e3956bc39edbeca3ea1e7\n'}, {'number': 13, 'created': '2021-07-01 09:36:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b5296d4de6509364cee428bef03c4f847c76866b', 'message': 'use payloads for PORT AFTER_UPDATE events\n\nThis patch switches over to callback payloads for PORT\nAFTER_UPDATE events.\n\nChange-Id: I5c00eae155afa6c0fc8e3956bc39edbeca3ea1e7\n'}, {'number': 14, 'created': '2021-07-01 14:45:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b76ef2aaaba85b51ccaa29c1e5044732dbc85376', 'message': 'use payloads for PORT AFTER_UPDATE events\n\nThis patch switches over to callback payloads for PORT\nAFTER_UPDATE events.\n\nChange-Id: I5c00eae155afa6c0fc8e3956bc39edbeca3ea1e7\n'}, {'number': 15, 'created': '2021-07-07 21:01:24.000000000', 'files': ['neutron/notifiers/ironic.py', 'neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py', 'neutron/services/segments/plugin.py', 'neutron/tests/unit/notifiers/test_ironic.py', 'neutron/tests/unit/extensions/test_l3.py', 'neutron/tests/unit/scheduler/test_l3_agent_scheduler.py', 'neutron/db/l3_db.py', 'neutron/services/trunk/plugin.py', 'neutron/plugins/ml2/ovo_rpc.py', 'neutron/services/portforwarding/pf_plugin.py', 'neutron/plugins/ml2/plugin.py', 'neutron/plugins/ml2/extensions/dns_integration.py', 'neutron/tests/unit/api/rpc/agentnotifiers/test_dhcp_rpc_agent_api.py', 'neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/db/l3_dvrscheduler_db.py', 'neutron/db/securitygroups_rpc_base.py', 'neutron/tests/unit/services/trunk/test_plugin.py', 'neutron/db/l3_hascheduler_db.py', 'neutron/services/ovn_l3/plugin.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/129b823a8b610284ff95cc5e7b2f7b6ed3540172', 'message': 'use payloads for PORT AFTER_UPDATE events\n\nThis patch switches over to callback payloads for PORT\nAFTER_UPDATE events.\n\nChange-Id: I5c00eae155afa6c0fc8e3956bc39edbeca3ea1e7\n'}]",9,795117,129b823a8b610284ff95cc5e7b2f7b6ed3540172,307,3,15,32667,,,0,"use payloads for PORT AFTER_UPDATE events

This patch switches over to callback payloads for PORT
AFTER_UPDATE events.

Change-Id: I5c00eae155afa6c0fc8e3956bc39edbeca3ea1e7
",git fetch https://review.opendev.org/openstack/neutron refs/changes/17/795117/9 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/notifiers/ironic.py', 'neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py', 'neutron/services/segments/plugin.py', 'neutron/tests/unit/notifiers/test_ironic.py', 'neutron/tests/unit/extensions/test_l3.py', 'neutron/tests/unit/scheduler/test_l3_agent_scheduler.py', 'neutron/db/l3_db.py', 'neutron/services/trunk/plugin.py', 'neutron/services/portforwarding/pf_plugin.py', 'neutron/plugins/ml2/plugin.py', 'neutron/plugins/ml2/extensions/dns_integration.py', 'neutron/tests/unit/api/rpc/agentnotifiers/test_dhcp_rpc_agent_api.py', 'neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/db/l3_dvrscheduler_db.py', 'neutron/db/securitygroups_rpc_base.py', 'neutron/tests/unit/services/trunk/test_plugin.py', 'neutron/db/l3_hascheduler_db.py', 'neutron/services/ovn_l3/plugin.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py']",19,c2522f71e3b5c11574681a54a28bfc3addf56657,port_after_delete," context = 'fake_context' port = {'device_owner': 'foo'} payload=events.DBEventPayload( context, states=(port,))) port = {'device_owner': constants.DEVICE_OWNER_ROUTER_INTF} payload=events.DBEventPayload( context, states=(port,))) update_rp_mock.assert_called_once_with(context, port,"," kwargs = {'port': {'device_owner': 'foo'}, 'context': 'fake_context'} **kwargs) kwargs = {'port': {'device_owner': constants.DEVICE_OWNER_ROUTER_INTF}, 'context': 'fake_context'} **kwargs) update_rp_mock.assert_called_once_with(kwargs['context'], kwargs['port'],",316,274
openstack%2Fpuppet-tripleo~stable%2Fwallaby~I7909cd18c7a123d64d24ebc33167d415a8cfb228,openstack/puppet-tripleo,stable/wallaby,I7909cd18c7a123d64d24ebc33167d415a8cfb228,Remove side-car containers in Create status,MERGED,2021-07-07 13:33:42.000000000,2021-07-10 19:38:52.000000000,2021-07-10 19:38:52.000000000,"[{'_account_id': 8655}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-07-07 13:33:42.000000000', 'files': ['templates/neutron/keepalived.epp', 'templates/neutron/dibbler-client.epp', 'templates/neutron/haproxy.epp', 'templates/neutron/radvd.epp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/cc7dc21b0fc74ccf2538ed334cedbfc1c2999e94', 'message': ""Remove side-car containers in Create status\n\nThe change Ib3c41a8bee349856d21f360595e41a9eafd79323 added a mechanism\nto remove side-car containers before spawning a new one for the same\nnetwork.\n\nFor dnsmasq side-car, it matches on container statuses Exited\nand Created, while all remaining containers match on Exited only.\nHowever if a node running side-car is shut down ungracefully, containers\nend in Created status and wrapper script won't be able to start the\ncontainers because they already exist.\n\nThis is a forward port to ussuri because we went back to the puppet\nmanaged versions after issues with the ansible version.\n\nChange-Id: I7909cd18c7a123d64d24ebc33167d415a8cfb228\n(cherry picked from commit 378580d3d8b3909c113e8d5c9bcae1fbf3315376)\n""}]",0,799830,cc7dc21b0fc74ccf2538ed334cedbfc1c2999e94,8,5,1,14985,,,0,"Remove side-car containers in Create status

The change Ib3c41a8bee349856d21f360595e41a9eafd79323 added a mechanism
to remove side-car containers before spawning a new one for the same
network.

For dnsmasq side-car, it matches on container statuses Exited
and Created, while all remaining containers match on Exited only.
However if a node running side-car is shut down ungracefully, containers
end in Created status and wrapper script won't be able to start the
containers because they already exist.

This is a forward port to ussuri because we went back to the puppet
managed versions after issues with the ansible version.

Change-Id: I7909cd18c7a123d64d24ebc33167d415a8cfb228
(cherry picked from commit 378580d3d8b3909c113e8d5c9bcae1fbf3315376)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/30/799830/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/neutron/keepalived.epp', 'templates/neutron/dibbler-client.epp', 'templates/neutron/haproxy.epp', 'templates/neutron/radvd.epp']",4,cc7dc21b0fc74ccf2538ed334cedbfc1c2999e94,fix-wrappers-stable/wallaby,"# FIXME(cjeanner): https://github.com/containers/libpod/issues/1703 ORPHANTS=$(printf ""%s\n"" ""${LIST}"" | grep -E "":(Exited|Created)"")","ORPHANTS=$(printf ""%s\n"" ""${LIST}"" | grep "":Exited"")",8,4
openstack%2Ftripleo-common~master~I6064e29541fdba93b2f23f96a21f52e7dfe82d2a,openstack/tripleo-common,master,I6064e29541fdba93b2f23f96a21f52e7dfe82d2a,Rename AdminToken to KeystonePassword,MERGED,2021-07-05 01:23:50.000000000,2021-07-10 19:26:56.000000000,2021-07-10 19:25:50.000000000,"[{'_account_id': 7144}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 16347}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-07-05 01:23:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/aad2e7d6377001d2fa64e0743a7334a0323f149a', 'message': 'Rename AdminToken to KeystonePassword\n\nDepends-on: https://review.opendev.org/799425\nChange-Id: I6064e29541fdba93b2f23f96a21f52e7dfe82d2a\n'}, {'number': 2, 'created': '2021-07-05 02:22:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ae097fb05fbb31431ee0882602771defe2394622', 'message': 'Rename AdminToken to KeystonePassword\n\nDepends-on: https://review.opendev.org/799425\nChange-Id: I6064e29541fdba93b2f23f96a21f52e7dfe82d2a\n'}, {'number': 3, 'created': '2021-07-05 02:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/54212f225154df3a062c81ddb24892528ab9f3cb', 'message': 'Rename AdminToken to KeystonePassword\n\nDepends-on: https://review.opendev.org/799425\nChange-Id: I6064e29541fdba93b2f23f96a21f52e7dfe82d2a\n'}, {'number': 4, 'created': '2021-07-05 02:39:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f8885ac83c62696abda91c79d38bc08a4c9e3503', 'message': 'Rename AdminToken to KeystonePassword\n\nDepends-on: https://review.opendev.org/799425\nChange-Id: I6064e29541fdba93b2f23f96a21f52e7dfe82d2a\n'}, {'number': 5, 'created': '2021-07-05 02:41:00.000000000', 'files': ['tripleo_common/constants.py', 'tripleo_common/tests/utils/test_plan.py', 'tripleo_common/utils/passwords.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/db1d164439661a9a6c82b26dd978296b07998ecb', 'message': 'Rename AdminToken to KeystonePassword\n\nFollowing the renaming in t-h-t, this change updates the list of\npassword parameters generated by tripleo-common. To keep the keystone\npassword during upgrade, AdminToken is automatically converted to\nKeystonePassword during password generation.\n\nDepends-on: https://review.opendev.org/799425\nChange-Id: I6064e29541fdba93b2f23f96a21f52e7dfe82d2a\n'}]",5,799426,db1d164439661a9a6c82b26dd978296b07998ecb,25,7,5,9816,,,0,"Rename AdminToken to KeystonePassword

Following the renaming in t-h-t, this change updates the list of
password parameters generated by tripleo-common. To keep the keystone
password during upgrade, AdminToken is automatically converted to
KeystonePassword during password generation.

Depends-on: https://review.opendev.org/799425
Change-Id: I6064e29541fdba93b2f23f96a21f52e7dfe82d2a
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/26/799426/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/constants.py', 'tripleo_common/tests/utils/test_plan.py', 'tripleo_common/utils/plan.py']",3,aad2e7d6377001d2fa64e0743a7334a0323f149a,keystone-password, if (not 'KeystonePassword' in passwords) and ('AdminToken' in passwords): LOG.debug('Setting AdminToken to KeystonePassword') passwords['KeystonePassword'] = passwords['AdminToken'] del passwords['AdminToken'] ,,7,2
openstack%2Fpuppet-tripleo~stable%2Fwallaby~I855a62c4b8132acbbe81e28576b50d0191b1cde6,openstack/puppet-tripleo,stable/wallaby,I855a62c4b8132acbbe81e28576b50d0191b1cde6,Wire up the tripleo-upgrades-wallaby-pipeline,MERGED,2021-05-26 09:01:56.000000000,2021-07-10 16:07:15.000000000,2021-07-10 16:07:15.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-05-26 09:01:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9a76f0cd9f0d6cb326da6932b9e593e06f300966', 'message': 'Wire up the tripleo-upgrades-wallaby-pipeline\n\nThis wires up the wallaby upgrades jobs added in depends-on. See\ntopic branch [1] for related patches.\n\n[1] https://review.opendev.org/q/topic:wallaby-upgrade-jobs\nDepends-On: I91c4e84523a756c0588d20e6cc34782b6c712d50\n\nChange-Id: I855a62c4b8132acbbe81e28576b50d0191b1cde6\n'}, {'number': 2, 'created': '2021-05-26 11:15:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c8535ee0edefa44763314293937901d2d5df8d81', 'message': 'Wire up the tripleo-upgrades-wallaby-pipeline\n\nThis wires up the wallaby upgrades jobs added in depends-on. See\ntopic branch [1] for related patches.\n\n[1] https://review.opendev.org/q/topic:wallaby-upgrade-jobs\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/793120\n\nChange-Id: I855a62c4b8132acbbe81e28576b50d0191b1cde6\n'}, {'number': 3, 'created': '2021-06-02 12:50:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/758515f7bf16574fefffe23a23b393f2bfe8bed2', 'message': 'Wire up the tripleo-upgrades-wallaby-pipeline\n\nThis wires up the wallaby upgrades jobs added in depends-on. See\ntopic branch [1] for related patches.\n\n[1] https://review.opendev.org/q/topic:wallaby-upgrade-jobs\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/793120\nDepends-On: Icceb71bf659a214d7d19e84c0e7c3d196ee81e3b\nChange-Id: I855a62c4b8132acbbe81e28576b50d0191b1cde6\n'}, {'number': 4, 'created': '2021-06-04 10:07:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ef2e810b3774708bf22251aea16d04e39fe3a221', 'message': 'Wire up the tripleo-upgrades-wallaby-pipeline\n\nThis wires up the wallaby upgrades jobs added in depends-on. See\ntopic branch [1] for related patches.\n\n[1] https://review.opendev.org/q/topic:wallaby-upgrade-jobs\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/793120\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/794216\nChange-Id: I855a62c4b8132acbbe81e28576b50d0191b1cde6\n'}, {'number': 5, 'created': '2021-07-01 15:10:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4f13494f748d482f0085adae2fe9f9e587d161d2', 'message': 'Wire up the tripleo-upgrades-wallaby-pipeline\n\nThis wires up the wallaby upgrades jobs added in depends-on. See\ntopic branch [1] for related patches.\n\n[1] https://review.opendev.org/q/topic:wallaby-upgrade-jobs\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/793120\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/794216\nChange-Id: I855a62c4b8132acbbe81e28576b50d0191b1cde6\n'}, {'number': 6, 'created': '2021-07-08 10:45:55.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/b6f4672724422a89e9c126d5a884ae04c95183c3', 'message': 'Wire up the tripleo-upgrades-wallaby-pipeline\n\nThis wires up the wallaby upgrades jobs added in tripleo-ci depends-on.\nSee topic branch [1] for related patches. The tripleo-heat-templates\ndepends-on is needed to fix a bug with the undercloud upgrade.\n\n[1] https://review.opendev.org/q/topic:wallaby-upgrade-jobs\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/793120\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/800007\n\nChange-Id: I855a62c4b8132acbbe81e28576b50d0191b1cde6\n'}]",0,793124,b6f4672724422a89e9c126d5a884ae04c95183c3,23,4,6,8449,,,0,"Wire up the tripleo-upgrades-wallaby-pipeline

This wires up the wallaby upgrades jobs added in tripleo-ci depends-on.
See topic branch [1] for related patches. The tripleo-heat-templates
depends-on is needed to fix a bug with the undercloud upgrade.

[1] https://review.opendev.org/q/topic:wallaby-upgrade-jobs

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/793120
Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/800007

Change-Id: I855a62c4b8132acbbe81e28576b50d0191b1cde6
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/24/793124/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,9a76f0cd9f0d6cb326da6932b9e593e06f300966,wallaby-upgrade-jobs, - tripleo-upgrades-wallaby-pipeline, - tripleo-upgrades-master-pipeline,1,1
openstack%2Fpuppet-tripleo~master~I7909cd18c7a123d64d24ebc33167d415a8cfb228,openstack/puppet-tripleo,master,I7909cd18c7a123d64d24ebc33167d415a8cfb228,Remove side-car containers in Create status,MERGED,2021-07-07 13:34:01.000000000,2021-07-10 16:04:25.000000000,2021-07-10 16:04:25.000000000,"[{'_account_id': 8655}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-07-07 13:34:01.000000000', 'files': ['templates/neutron/keepalived.epp', 'templates/neutron/dibbler-client.epp', 'templates/neutron/haproxy.epp', 'templates/neutron/radvd.epp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/de1b69e0610034a725e321d2cf6d8d085803cfb2', 'message': ""Remove side-car containers in Create status\n\nThe change Ib3c41a8bee349856d21f360595e41a9eafd79323 added a mechanism\nto remove side-car containers before spawning a new one for the same\nnetwork.\n\nFor dnsmasq side-car, it matches on container statuses Exited\nand Created, while all remaining containers match on Exited only.\nHowever if a node running side-car is shut down ungracefully, containers\nend in Created status and wrapper script won't be able to start the\ncontainers because they already exist.\n\nThis is a forward port to ussuri because we went back to the puppet\nmanaged versions after issues with the ansible version.\n\nChange-Id: I7909cd18c7a123d64d24ebc33167d415a8cfb228\n(cherry picked from commit 378580d3d8b3909c113e8d5c9bcae1fbf3315376)\n""}]",0,799831,de1b69e0610034a725e321d2cf6d8d085803cfb2,8,5,1,14985,,,0,"Remove side-car containers in Create status

The change Ib3c41a8bee349856d21f360595e41a9eafd79323 added a mechanism
to remove side-car containers before spawning a new one for the same
network.

For dnsmasq side-car, it matches on container statuses Exited
and Created, while all remaining containers match on Exited only.
However if a node running side-car is shut down ungracefully, containers
end in Created status and wrapper script won't be able to start the
containers because they already exist.

This is a forward port to ussuri because we went back to the puppet
managed versions after issues with the ansible version.

Change-Id: I7909cd18c7a123d64d24ebc33167d415a8cfb228
(cherry picked from commit 378580d3d8b3909c113e8d5c9bcae1fbf3315376)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/31/799831/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/neutron/keepalived.epp', 'templates/neutron/dibbler-client.epp', 'templates/neutron/haproxy.epp', 'templates/neutron/radvd.epp']",4,de1b69e0610034a725e321d2cf6d8d085803cfb2,fix-wrappers-master,"# FIXME(cjeanner): https://github.com/containers/libpod/issues/1703 ORPHANTS=$(printf ""%s\n"" ""${LIST}"" | grep -E "":(Exited|Created)"")","ORPHANTS=$(printf ""%s\n"" ""${LIST}"" | grep "":Exited"")",8,4
openstack%2Fmistral~master~Ia4b1eec7a788cb1ede3dc338f7be7e5d8a84069d,openstack/mistral,master,Ia4b1eec7a788cb1ede3dc338f7be7e5d8a84069d,Remove references to sys.version_info,MERGED,2021-05-28 01:52:51.000000000,2021-07-10 14:57:20.000000000,2021-07-10 14:56:06.000000000,"[{'_account_id': 15895}, {'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-05-28 01:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/63d316bdcddeba834e7cdccf2cc270a81ca3aed2', 'message': 'Remove references to sys.version_info\n\nWe support Python 3.6 as a minimum now, making these checks no-ops.\n\nChange-Id: Ia4b1eec7a788cb1ede3dc338f7be7e5d8a84069d\n'}, {'number': 2, 'created': '2021-07-10 06:20:08.000000000', 'files': ['mistral/services/action_heartbeat_sender.py', 'mistral/services/action_heartbeat_checker.py', 'mistral/services/legacy_scheduler.py', 'mistral/scheduler/default_scheduler.py', 'mistral/tests/unit/base.py', 'tools/install_venv_common.py', 'tools/install_venv.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/22e822dde29dd68c5868f615629b84b53841c4e6', 'message': 'Remove references to sys.version_info\n\nWe support Python 3.6 as a minimum now, making these checks no-ops.\n\nChange-Id: Ia4b1eec7a788cb1ede3dc338f7be7e5d8a84069d\n'}]",0,793528,22e822dde29dd68c5868f615629b84b53841c4e6,18,4,2,31412,,,0,"Remove references to sys.version_info

We support Python 3.6 as a minimum now, making these checks no-ops.

Change-Id: Ia4b1eec7a788cb1ede3dc338f7be7e5d8a84069d
",git fetch https://review.opendev.org/openstack/mistral refs/changes/28/793528/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/services/action_heartbeat_sender.py', 'mistral/services/action_heartbeat_checker.py', 'mistral/services/legacy_scheduler.py', 'mistral/scheduler/default_scheduler.py', 'mistral/tests/unit/base.py', 'tools/install_venv_common.py', 'tools/install_venv.py']",7,63d316bdcddeba834e7cdccf2cc270a81ca3aed2,,, install.check_python_version(),2,49
openstack%2Ftripleo-common~stable%2Fwallaby~Ic23e80465356f0a336621008e0a9d5b0c295d816,openstack/tripleo-common,stable/wallaby,Ic23e80465356f0a336621008e0a9d5b0c295d816,Remove ironic-inspector dnsmasq healthcheck,MERGED,2021-07-08 02:02:42.000000000,2021-07-10 14:31:52.000000000,2021-07-10 14:28:46.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-08 02:02:42.000000000', 'files': ['healthcheck/ironic-inspector'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9c427641f9b95a1e2dd7ff1e7060d2e0132dc005', 'message': ""Remove ironic-inspector dnsmasq healthcheck\n\nThis check is broken because healthcheck_port uses the user of the\nprocess, but the /proc files accessed are owned by root. This is\nprobably because dnsmasq starts as root to bind to priviliged port 67,\nthen drops to the dnsmasq user.\n\nThis healthcheck likely doesn't add much value since it is a\nself-contained tool which will be bound to the port if it is running.\n\nSee https://bugzilla.redhat.com/show_bug.cgi?id=1961237\n\nChange-Id: Ic23e80465356f0a336621008e0a9d5b0c295d816\n(cherry picked from commit a3be15743bcb33d6ecd67e24d082aa664d55864b)\n""}]",0,799943,9c427641f9b95a1e2dd7ff1e7060d2e0132dc005,8,3,1,4571,,,0,"Remove ironic-inspector dnsmasq healthcheck

This check is broken because healthcheck_port uses the user of the
process, but the /proc files accessed are owned by root. This is
probably because dnsmasq starts as root to bind to priviliged port 67,
then drops to the dnsmasq user.

This healthcheck likely doesn't add much value since it is a
self-contained tool which will be bound to the port if it is running.

See https://bugzilla.redhat.com/show_bug.cgi?id=1961237

Change-Id: Ic23e80465356f0a336621008e0a9d5b0c295d816
(cherry picked from commit a3be15743bcb33d6ecd67e24d082aa664d55864b)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/43/799943/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/ironic-inspector'],1,9c427641f9b95a1e2dd7ff1e7060d2e0132dc005,wallaby/dnsmasq-health, exit 0," listen_address=$(get_config_val /etc/ironic-inspector/inspector.conf DEFAULT listen_address 127.0.0.1) # Check DHCPv6 port if using IPv6 if [[ $listen_address =~ "":"" ]]; then port=""547"" else port=""67"" fi echo ""Checking $process port(s) $port."" if ! healthcheck_port $process $port; then echo ""There is no $process process listening on port(s) $port in the container."" exit 1 fi",1,12
openstack%2Ftripleo-heat-templates~master~Ie5a63522af9e4a54281550cd4bdfb3dc4b6e9207,openstack/tripleo-heat-templates,master,Ie5a63522af9e4a54281550cd4bdfb3dc4b6e9207,fix typo in readme,MERGED,2021-07-09 12:30:40.000000000,2021-07-10 14:28:51.000000000,2021-07-10 14:28:51.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-09 12:30:40.000000000', 'files': ['deployed-server/README.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/abed6abbe52983521bdc6019396bcf7cbcd37389', 'message': 'fix typo in readme\n\nChange-Id: Ie5a63522af9e4a54281550cd4bdfb3dc4b6e9207\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,800217,abed6abbe52983521bdc6019396bcf7cbcd37389,6,2,1,7353,,,0,"fix typo in readme

Change-Id: Ie5a63522af9e4a54281550cd4bdfb3dc4b6e9207
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/17/800217/1 && git format-patch -1 --stdout FETCH_HEAD,['deployed-server/README.rst'],1,abed6abbe52983521bdc6019396bcf7cbcd37389,, ControllerNetworkConfigTemplate: 'templates/net_config_static_bridge.j2', ControlleNetworkConfigTemplate: 'templates/net_config_static_bridge.j2',1,1
openstack%2Ftripleo-ansible~master~I4f8664c9033502b25b40646cfd8976cc5638e643,openstack/tripleo-ansible,master,I4f8664c9033502b25b40646cfd8976cc5638e643,Copy generated /boot/grub2/grubenv to EFI dirs,MERGED,2021-07-02 02:27:09.000000000,2021-07-10 13:01:12.000000000,2021-07-10 13:01:12.000000000,"[{'_account_id': 7144}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-07-02 02:27:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/73f7729d58f05814c14c6bbab68147774b583a60', 'message': 'Copy generated /boot/grub2/grubenv to EFI dirs\n\nThere is an issue with grub2 in rhel-8.2 where generating grub.cfg in\nan EFI directory will regenerate grubenv in /boot/grub2. Then when the\nhost is rebooted, the stale grubenv file in the EFI directory is used,\nand any new kernal args are not used.\n\nThis change works around this by copying /boot/grub2/grubenv to the\nEFI directories. Newer versions of grub2 many not show this behaviour\nbut the workaround can remain in place.\n\nSee https://bugzilla.redhat.com/show_bug.cgi?id=1974507\n\nChange-Id: I4f8664c9033502b25b40646cfd8976cc5638e643\n'}, {'number': 2, 'created': '2021-07-02 02:28:22.000000000', 'files': ['tripleo_ansible/roles/tripleo_kernel/tasks/kernelargs.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c1d4d602f8d2a3a1010735de10883c5047ad83ca', 'message': 'Copy generated /boot/grub2/grubenv to EFI dirs\n\nThere is an issue with grub2 in rhel-8.2 where generating grub.cfg in\nan EFI directory will regenerate grubenv in /boot/grub2. Then when the\nhost is rebooted, the stale grubenv file in the EFI directory is used,\nand any new kernal args are not used.\n\nThis change works around this by copying /boot/grub2/grubenv to the\nEFI directories. Newer versions of grub2 many not show this behaviour\nbut the workaround can remain in place.\n\nThis change also adds /boot/efi/EFI/BOOT to the list of EFI\ndirectories checked for, as it should have been in the original list.\n\nSee https://bugzilla.redhat.com/show_bug.cgi?id=1974507\n\nChange-Id: I4f8664c9033502b25b40646cfd8976cc5638e643\n'}]",0,799132,c1d4d602f8d2a3a1010735de10883c5047ad83ca,10,5,2,4571,,,0,"Copy generated /boot/grub2/grubenv to EFI dirs

There is an issue with grub2 in rhel-8.2 where generating grub.cfg in
an EFI directory will regenerate grubenv in /boot/grub2. Then when the
host is rebooted, the stale grubenv file in the EFI directory is used,
and any new kernal args are not used.

This change works around this by copying /boot/grub2/grubenv to the
EFI directories. Newer versions of grub2 many not show this behaviour
but the workaround can remain in place.

This change also adds /boot/efi/EFI/BOOT to the list of EFI
directories checked for, as it should have been in the original list.

See https://bugzilla.redhat.com/show_bug.cgi?id=1974507

Change-Id: I4f8664c9033502b25b40646cfd8976cc5638e643
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/32/799132/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_kernel/tasks/kernelargs.yml'],1,73f7729d58f05814c14c6bbab68147774b583a60,grubenv," - /boot/efi/EFI/BOOT - /boot/efi/EFI/redhat - /boot/efi/EFI/centos - /boot/efi/EFI/fedora command: ""grub2-mkconfig -o /boot/grub2/grub.cfg"" - name: Generate EFI grub config command: ""grub2-mkconfig -o {{ item.stat.path }}/grub.cfg"" when: item.stat.exists|bool loop: ""{{ grub_stat.results }}"" - name: Copy grubenv to EFI directory copy: remote_src: true src: /boot/grub2/grubenv dest: ""{{ item.stat.path }}/grubenv"""," - /boot/grub2/grub.cfg - /boot/efi/EFI/redhat/grub.cfg - /boot/efi/EFI/centos/grub.cfg - /boot/efi/EFI/fedora/grub.cfg command: ""grub2-mkconfig -o {{ item.stat.path }}""",16,5
openstack%2Fopenstack-ansible-lxc_hosts~master~Iac833ea63636be9e3dc2a804d890bcb6851be542,openstack/openstack-ansible-lxc_hosts,master,Iac833ea63636be9e3dc2a804d890bcb6851be542,Add iproute to CentOS LXC,MERGED,2021-07-02 20:50:44.000000000,2021-07-10 12:35:55.000000000,2021-07-10 12:33:47.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-07-02 20:50:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/b95c00453c79d67adc87f7368b36dea2158f1e1e', 'message': 'Add iproute to CentOS 8 LXC\n\nThis package provides `ip` binary that is required for gathering network\nfacts and any net management.\n\nChange-Id: Iac833ea63636be9e3dc2a804d890bcb6851be542\n'}, {'number': 2, 'created': '2021-07-02 20:51:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/c20192fdefe8607c84ba84f2e3c6d94712a39871', 'message': 'Add iproute to CentOS LXC\n\nThis package provides `ip` binary that is required for gathering network\nfacts and any net management.\n\nChange-Id: Iac833ea63636be9e3dc2a804d890bcb6851be542\n'}, {'number': 3, 'created': '2021-07-07 13:02:11.000000000', 'files': ['vars/centos-8.3.yml', 'vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/a640dd6f389582d7f79fad5369410487cb01632f', 'message': 'Add iproute to CentOS LXC\n\nThis package provides `ip` binary that is required for gathering network\nfacts and any net management.\n\nChange-Id: Iac833ea63636be9e3dc2a804d890bcb6851be542\n'}]",0,799328,a640dd6f389582d7f79fad5369410487cb01632f,11,3,3,28619,,,0,"Add iproute to CentOS LXC

This package provides `ip` binary that is required for gathering network
facts and any net management.

Change-Id: Iac833ea63636be9e3dc2a804d890bcb6851be542
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/28/799328/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/centos-8.3.yml'],1,b95c00453c79d67adc87f7368b36dea2158f1e1e,, - iproute,,1,0
openstack%2Fopenstack-ansible-lxc_hosts~master~Ic2efb5c510d07ed96e0ae9b867abf61745340088,openstack/openstack-ansible-lxc_hosts,master,Ic2efb5c510d07ed96e0ae9b867abf61745340088,Add pki role to local a-r-r,MERGED,2021-07-05 09:33:02.000000000,2021-07-10 12:34:56.000000000,2021-07-10 12:33:44.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-07-05 09:33:02.000000000', 'files': ['tests/ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/6b062d1de3d7ff3878fa07c83d3ad5bf8b0ff6e7', 'message': 'Add pki role to local a-r-r\n\nChange-Id: Ic2efb5c510d07ed96e0ae9b867abf61745340088\n'}]",0,799448,6b062d1de3d7ff3878fa07c83d3ad5bf8b0ff6e7,12,3,1,25023,,,0,"Add pki role to local a-r-r

Change-Id: Ic2efb5c510d07ed96e0ae9b867abf61745340088
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/48/799448/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/ansible-role-requirements.yml'],1,6b062d1de3d7ff3878fa07c83d3ad5bf8b0ff6e7,osa/pki,- name: pki src: https://opendev.org/openstack/ansible-role-pki scm: git version: master,,4,0
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I5dd81788c08bb0d797190a5fb8bb120b7d8b4f32,openstack/python-tripleoclient,stable/wallaby,I5dd81788c08bb0d797190a5fb8bb120b7d8b4f32,Add '--templates' arg to node and net provision,MERGED,2021-07-02 21:32:59.000000000,2021-07-10 12:22:35.000000000,2021-07-10 12:21:27.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-02 21:32:59.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v2/overcloud_node.py', 'tripleoclient/tests/v2/overcloud_network/test_overcloud_network.py', 'tripleoclient/tests/v2/overcloud_node/test_overcloud_node.py', 'tripleoclient/v2/overcloud_network.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4e097d5409d6b992fcb2e6121241a22e76313fba', 'message': ""Add '--templates' arg to node and net provision\n\nAllow setting '--templates', the path tot the THT root\ndirectory. Environment files created by the node and\nnetwork provision commands will be created with the user\nspecified path to the THT root. Defaults to:\n /usr/share/openstack-tripleo-heat-templates/\n\nCloses-Bug: #1932079\nDepends-On: I9decd8fb9860cd17dc9e69b9970d9f9dabf11428\nChange-Id: I5dd81788c08bb0d797190a5fb8bb120b7d8b4f32\n(cherry picked from commit 9c997ff0945e2771a857c6859120af381d480505)\n""}]",0,799255,4e097d5409d6b992fcb2e6121241a22e76313fba,8,5,1,24245,,,0,"Add '--templates' arg to node and net provision

Allow setting '--templates', the path tot the THT root
directory. Environment files created by the node and
network provision commands will be created with the user
specified path to the THT root. Defaults to:
 /usr/share/openstack-tripleo-heat-templates/

Closes-Bug: #1932079
Depends-On: I9decd8fb9860cd17dc9e69b9970d9f9dabf11428
Change-Id: I5dd81788c08bb0d797190a5fb8bb120b7d8b4f32
(cherry picked from commit 9c997ff0945e2771a857c6859120af381d480505)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/55/799255/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v2/overcloud_node.py', 'tripleoclient/tests/v2/overcloud_network/test_overcloud_network.py', 'tripleoclient/tests/v2/overcloud_node/test_overcloud_node.py', 'tripleoclient/v2/overcloud_network.py', 'tripleoclient/v1/overcloud_deploy.py']",6,4e097d5409d6b992fcb2e6121241a22e76313fba,bug/1932079-stable/wallaby," ""working_dir"": self.working_dir, ""templates"": parsed_args.templates, ""templates"": parsed_args.templates, ""templates"": parsed_args.templates,"," ""working_dir"": self.working_dir",44,14
openstack%2Ftripleo-heat-templates~master~I7a919ae6d00994d433e03b3304722abccac8dc2a,openstack/tripleo-heat-templates,master,I7a919ae6d00994d433e03b3304722abccac8dc2a,Fix manila-cephfsganesha-config environment for cephadm,MERGED,2021-07-09 16:21:55.000000000,2021-07-10 12:11:13.000000000,2021-07-10 12:11:13.000000000,"[{'_account_id': 14985}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-07-09 16:21:55.000000000', 'files': ['environments/manila-cephfsganesha-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/61ffbe98958e50133aae3fba51a79a1ca6804d77', 'message': 'Fix manila-cephfsganesha-config environment for cephadm\n\nThe composable service is located in deployment/cephadm/cephadm.yaml,\nnot the one previously mentioned.\n\nThis patch will fix it.\n\nChange-Id: I7a919ae6d00994d433e03b3304722abccac8dc2a\n'}]",1,800279,61ffbe98958e50133aae3fba51a79a1ca6804d77,10,5,1,3153,,,0,"Fix manila-cephfsganesha-config environment for cephadm

The composable service is located in deployment/cephadm/cephadm.yaml,
not the one previously mentioned.

This patch will fix it.

Change-Id: I7a919ae6d00994d433e03b3304722abccac8dc2a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/79/800279/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/manila-cephfsganesha-config.yaml'],1,61ffbe98958e50133aae3fba51a79a1ca6804d77,ceph/nfs, OS::TripleO::Services::CephNfs: ../deployment/cephadm/ceph-nfs.yaml, OS::TripleO::Services::CephNfs: ../deployment/cephadm/cephadm.yaml,1,1
openstack%2Fironic~master~Iddd1421a6fa37d69da56658a2fefa5bc8cfd15e4,openstack/ironic,master,Iddd1421a6fa37d69da56658a2fefa5bc8cfd15e4,Add `boot_mode` and `secure_boot` to node object and expose in api,MERGED,2021-06-18 10:44:38.000000000,2021-07-10 11:53:44.000000000,2021-07-08 20:59:06.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-18 10:44:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c8edc5f8f9015b4b33737f1bf742250e7a2e8692', 'message': '[WIP] Add `boot_mode` and `secure_boot` to node object\n\nTodo: expose them at endpoint `/v1/nodes/{node_ident}/states`\nStory: 2008567\nTask: 41709\nChange-Id: Iddd1421a6fa37d69da56658a2fefa5bc8cfd15e4\n'}, {'number': 2, 'created': '2021-06-18 15:57:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6ed08d77d0717116d5d511356512145614fb7294', 'message': '[WIP] Add `boot_mode` and `secure_boot` to node object\n\nTodo: expose them at endpoint `/v1/nodes/{node_ident}/states`\nStory: 2008567\nTask: 41709\nChange-Id: Iddd1421a6fa37d69da56658a2fefa5bc8cfd15e4\n'}, {'number': 3, 'created': '2021-06-21 08:45:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/811ab5f788ae7318ccb39d0083c090c0b2820de5', 'message': '[WIP] Add `boot_mode` and `secure_boot` to node object\n\nTodo: expose them at endpoint `/v1/nodes/{node_ident}/states`\nStory: 2008567\nTask: 41709\nChange-Id: Iddd1421a6fa37d69da56658a2fefa5bc8cfd15e4\n'}, {'number': 4, 'created': '2021-06-21 14:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/44909f973cd27ff26550de25696077e6e1312d29', 'message': '[WIP] Add `boot_mode` and `secure_boot` to node object\n\nTodo: expose them at endpoint `/v1/nodes/{node_ident}/states`\nStory: 2008567\nTask: 41709\nChange-Id: Iddd1421a6fa37d69da56658a2fefa5bc8cfd15e4\n'}, {'number': 5, 'created': '2021-06-21 17:04:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3928c0e714c6dfed6bc3e4ddf75d1562ba9025d4', 'message': '[WIP] Add `boot_mode` and `secure_boot` to node object\n\nTodo: expose them at endpoint `/v1/nodes/{node_ident}/states`\nStory: 2008567\nTask: 41709\nChange-Id: Iddd1421a6fa37d69da56658a2fefa5bc8cfd15e4\n'}, {'number': 6, 'created': '2021-06-22 08:35:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5a336ee7657c088312237b0bb1b9b556d8ea4efa', 'message': '[WIP] Add `boot_mode` and `secure_boot` to node object\n\nTodo: expose them at endpoint `/v1/nodes/{node_ident}/states`\nStory: 2008567\nTask: 41709\nChange-Id: Iddd1421a6fa37d69da56658a2fefa5bc8cfd15e4\n'}, {'number': 7, 'created': '2021-06-22 17:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cd548ec84fd817a18cba2fb54ff7b03564d5f6b4', 'message': '[WIP] Add `boot_mode` and `secure_boot` to node object and expose in api\n\nDone: expose them at endpoint `/v1/nodes/{node_ident}/states`\nTodo: test.\nStory: 2008567\nTask: 41709\nChange-Id: Iddd1421a6fa37d69da56658a2fefa5bc8cfd15e4\n'}, {'number': 8, 'created': '2021-06-24 09:54:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/69205e79cbac221e9a95a5a814353f3779810377', 'message': '[WIP] Add `boot_mode` and `secure_boot` to node object and expose in api\n\nDone: expose them at endpoint `/v1/nodes/{node_ident}/states`\nTodo: test.\nStory: 2008567\nTask: 41709\nChange-Id: Iddd1421a6fa37d69da56658a2fefa5bc8cfd15e4\n'}, {'number': 9, 'created': '2021-06-24 10:43:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d342f49098171d1c1c7b5ac4e69bad46389b2e96', 'message': '[WIP] Add `boot_mode` and `secure_boot` to node object and expose in api\n\nDone: expose them at endpoint `/v1/nodes/{node_ident}/states`\nTodo: tests [wip].\nStory: 2008567\nTask: 41709\n\nChange-Id: Iddd1421a6fa37d69da56658a2fefa5bc8cfd15e4\n'}, {'number': 10, 'created': '2021-06-24 12:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b8bcbb034707eee996ff168a074e0c58899ce906', 'message': '[WIP] Add `boot_mode` and `secure_boot` to node object and expose in api\n\nDone: expose them at endpoint `/v1/nodes/{node_ident}/states`\nTodo: tests [wip].\nStory: 2008567\nTask: 41709\n\nChange-Id: Iddd1421a6fa37d69da56658a2fefa5bc8cfd15e4\n'}, {'number': 11, 'created': '2021-06-25 10:15:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/dab61e1b9041367df465a2c2a7989b23ebf29293', 'message': '[WIP] Add `boot_mode` and `secure_boot` to node object and expose in api\n\nDone: expose them at endpoint `/v1/nodes/{node_ident}/states`\nTodo: tests [wip].\nStory: 2008567\nTask: 41709\n\nChange-Id: Iddd1421a6fa37d69da56658a2fefa5bc8cfd15e4\n'}, {'number': 12, 'created': '2021-06-25 12:36:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0930d639b27bedbf6e886afef6506f6dcce6c440', 'message': '[WIP] Add `boot_mode` and `secure_boot` to node object and expose in api\n\nDone:\n  - add fields to Node object\n  - expose them at endpoint `/v1/nodes/{node_ident}/states`\n  - tests\n\nDoing:\n  - update states on powersync / manage\n\nStory: 2008567\nTask: 41709\n\nChange-Id: Iddd1421a6fa37d69da56658a2fefa5bc8cfd15e4\n'}, {'number': 13, 'created': '2021-06-25 14:40:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/392f436e2ee45c0536872a006d44ccdb56759273', 'message': '[WIP] Add `boot_mode` and `secure_boot` to node object and expose in api\n\nDone:\n  - add fields to Node object\n  - expose them at endpoint `/v1/nodes/{node_ident}/states`\n  - tests\n\nDoing:\n  - update states on powersync / manage\n\nStory: 2008567\nTask: 41709\n\nChange-Id: Iddd1421a6fa37d69da56658a2fefa5bc8cfd15e4\n'}, {'number': 14, 'created': '2021-06-25 15:04:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c2d8fd10dc1fa3f2ccd0c3978b75f0d3e5f7f533', 'message': '[WIP] Add `boot_mode` and `secure_boot` to node object and expose in api\n\nDone:\n  - add fields to Node object\n  - expose them at endpoint `/v1/nodes/{node_ident}/states`\n  - tests\n\nDoing:\n  - update states on powersync / manage\n\nStory: 2008567\nTask: 41709\n\nChange-Id: Iddd1421a6fa37d69da56658a2fefa5bc8cfd15e4\n'}, {'number': 15, 'created': '2021-06-29 13:19:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/52e421f7f58adf890ae4da29e170132dae342476', 'message': '[WIP] Add `boot_mode` and `secure_boot` to node object and expose in api\n\nDone:\n  - add fields to Node object\n  - expose them at endpoint `/v1/nodes/{node_ident}/states`\n  - update states on powersync / manage\n  - tests\n\nTodo:\n  - iron out bugs/ tests\n\nStory: 2008567\nTask: 41709\n\nChange-Id: Iddd1421a6fa37d69da56658a2fefa5bc8cfd15e4\n'}, {'number': 16, 'created': '2021-06-29 15:36:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0d7d3bf10191b733b741ba7bda02d1781bc5a8eb', 'message': '[WIP] Add `boot_mode` and `secure_boot` to node object and expose in api\n\nDone:\n  - add fields to Node object\n  - expose them at endpoint `/v1/nodes/{node_ident}/states`\n  - update states on powersync / manage\n  - tests\n  - update api endpoint info in api-ref\n\nTodo:\n  - iron out bugs/ tests\n\nStory: 2008567\nTask: 41709\n\nChange-Id: Iddd1421a6fa37d69da56658a2fefa5bc8cfd15e4\n'}, {'number': 17, 'created': '2021-06-29 17:50:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a7811095567f8fe88554844d306455b13210f1eb', 'message': '[WIP] Add `boot_mode` and `secure_boot` to node object and expose in api\n\nDone:\n  - add fields to Node object\n  - expose them at endpoint `/v1/nodes/{node_ident}/states`\n  - update states on powersync / manage\n  - tests\n  - update api endpoint info in api-ref\n\nTodo:\n  - iron out bugs/ tests\n\nStory: 2008567\nTask: 41709\n\nChange-Id: Iddd1421a6fa37d69da56658a2fefa5bc8cfd15e4\n'}, {'number': 18, 'created': '2021-06-29 19:07:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/28505c5712058843b35fb00441ac4e9cf70146bb', 'message': 'Add `boot_mode` and `secure_boot` to node object and expose in api\n\nDone:\n  - add fields to Node object\n  - expose them at endpoint `/v1/nodes/{node_ident}/states`\n  - update states on powersync / manage\n  - tests\n  - update api endpoint info in api-ref\n\nTodo:\n  - iron out bugs/ tests\n  - releasenotes\n\nStory: 2008567\nTask: 41709\n\nChange-Id: Iddd1421a6fa37d69da56658a2fefa5bc8cfd15e4\n'}, {'number': 19, 'created': '2021-06-30 16:34:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c28e71bd73cf77b6b85a8f57c69da790bf8821d0', 'message': 'Add `boot_mode` and `secure_boot` to node object and expose in api\n\nDone:\n  - add fields to Node object\n  - expose them at endpoint `/v1/nodes/{node_ident}/states`\n  - update states on powersync / manage\n  - tests\n  - update api endpoint info in api-ref\n\nTodo:\n  - iron out bugs/ tests\n  - releasenotes\n\nStory: 2008567\nTask: 41709\n\nChange-Id: Iddd1421a6fa37d69da56658a2fefa5bc8cfd15e4\n'}, {'number': 20, 'created': '2021-07-01 09:36:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ef55ec98cc84b5692fc9b879a209ce2b9facc296', 'message': 'Add `boot_mode` and `secure_boot` to node object and expose in api\n\n  * add fields to Node object\n  * expose them at endpoint `/v1/nodes/{node_ident}/states`\n  * update states on powersync / entering managed state.\n  * tests\n  * update api endpoint info in api-ref\n\nStory: 2008567\nTask: 41709\n\nChange-Id: Iddd1421a6fa37d69da56658a2fefa5bc8cfd15e4\n'}, {'number': 21, 'created': '2021-07-01 14:37:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e33edfab078ca4d429eee37408de629570ddf40b', 'message': 'Add `boot_mode` and `secure_boot` to node object and expose in api\n\n  * add fields to Node object\n  * expose them at endpoint `/v1/nodes/{node_ident}/states`\n  * update states on powersync / entering managed state.\n  * tests\n  * update api endpoint info in api-ref\n\nStory: 2008567\nTask: 41709\n\nChange-Id: Iddd1421a6fa37d69da56658a2fefa5bc8cfd15e4\n'}, {'number': 22, 'created': '2021-07-08 13:21:37.000000000', 'files': ['api-ref/source/parameters.yaml', 'api-ref/source/samples/node-get-state-response.json', 'ironic/tests/unit/conductor/test_manager.py', 'releasenotes/notes/node-boot-mode-0662effa2a2644dc.yaml', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'doc/source/contributor/webapi-version-history.rst', 'ironic/objects/node.py', 'ironic/drivers/modules/boot_mode_utils.py', 'ironic/conductor/manager.py', 'ironic/api/controllers/v1/versions.py', 'ironic/tests/unit/conductor/test_utils.py', 'api-ref/source/baremetal-api-v1-node-management.inc', 'ironic/tests/unit/db/utils.py', 'ironic/conductor/utils.py', 'ironic/api/controllers/v1/utils.py', 'ironic/common/release_mappings.py', 'ironic/db/sqlalchemy/alembic/versions/c1846a214450_add_boot_mode_and_secure_boot.py', 'ironic/tests/unit/objects/test_objects.py', 'ironic/db/sqlalchemy/models.py', 'ironic/tests/unit/db/sqlalchemy/test_migrations.py', 'ironic/api/controllers/v1/node.py', 'ironic/tests/unit/objects/test_node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/46ff51487accf8881e468b975f4479c85daa8163', 'message': 'Add `boot_mode` and `secure_boot` to node object and expose in api\n\n  * add fields to Node object\n  * expose them at endpoint `/v1/nodes/{node_ident}/states`\n  * update states on powersync / entering managed state.\n  * tests\n  * update api endpoint info in api-ref\n\nStory: 2008567\nTask: 41709\n\nChange-Id: Iddd1421a6fa37d69da56658a2fefa5bc8cfd15e4\n'}]",63,797055,46ff51487accf8881e468b975f4479c85daa8163,123,6,22,33344,,,0,"Add `boot_mode` and `secure_boot` to node object and expose in api

  * add fields to Node object
  * expose them at endpoint `/v1/nodes/{node_ident}/states`
  * update states on powersync / entering managed state.
  * tests
  * update api endpoint info in api-ref

Story: 2008567
Task: 41709

Change-Id: Iddd1421a6fa37d69da56658a2fefa5bc8cfd15e4
",git fetch https://review.opendev.org/openstack/ironic refs/changes/55/797055/15 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/objects/node.py', 'ironic/api/controllers/v1/versions.py', 'ironic/common/release_mappings.py', 'doc/source/contributor/webapi-version-history.rst']",4,c8edc5f8f9015b4b33737f1bf742250e7a2e8692,ironic_boot_mode_status,"1.75 (?, ?) ---------------------- Add `boot_mode` and `secure_boot` to node object and expose their state at: * ``/v1/nodes/{node_ident}/states`` Also support triggering a change in these using endpoints: * ``/v1/nodes/{node_ident}/states/boot_mode`` * ``/v1/nodes/{node_ident}/states/secure_boot`` ",,27,6
openstack%2Fopenstack-ansible-os_cloudkitty~stable%2Fvictoria~I0fe96c318273f0016d93cf043bda74feb11c63f8,openstack/openstack-ansible-os_cloudkitty,stable/victoria,I0fe96c318273f0016d93cf043bda74feb11c63f8,Cloudkitty role cleanup and config updates,MERGED,2021-06-18 13:11:42.000000000,2021-07-10 11:24:11.000000000,2021-07-10 11:23:05.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-06-18 13:11:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/2054c29e2e88454128ee9c7f0c8cfd2f490a98ac', 'message': 'Cloudkitty role cleanup and config updates\n\nThe Cloudkitty role has been lacking some attention for a while\ncausing some of the configuration and examples outdated.\n\nNow that Cloudkitty playbook and dashboard can be installed using\nOSA without running any additional playbooks from this repository\ni have removed those from here.\n\nChange-Id: I0fe96c318273f0016d93cf043bda74feb11c63f8\n(cherry picked from commit b67bd60df37d870eb5c1a08b2272a5be5fb3ffc7)\n'}, {'number': 2, 'created': '2021-06-18 13:15:29.000000000', 'files': ['extras/horizon/horizon_vars.yml', 'tasks/main.yml', 'extras/haproxy_cloudkitty.yml', 'templates/cloudkitty.conf.j2', 'extras/env.d/cloudkitty.yml', 'extras/horizon/horizon_post_install.yml', 'extras/user_secrets_cloudkitty.yml', 'templates/api-paste.ini.j2', 'releasenotes/notes/role-cleanup-e709b66675dcda60.yaml', 'templates/cloudkitty-metrics.yml.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/1eaa626c62cba3b2414f44a2b161ce33dc16dee7', 'message': 'Cloudkitty role cleanup and config updates\n\nThe Cloudkitty role has been lacking some attention for a while\ncausing some of the configuration and examples outdated.\n\nNow that Cloudkitty playbook and dashboard can be installed using\nOSA without running any additional playbooks from this repository\ni have removed those from here.\n\nChange-Id: I0fe96c318273f0016d93cf043bda74feb11c63f8\n(cherry picked from commit b67bd60df37d870eb5c1a08b2272a5be5fb3ffc7)\n'}]",0,797032,1eaa626c62cba3b2414f44a2b161ce33dc16dee7,10,3,2,18279,,,0,"Cloudkitty role cleanup and config updates

The Cloudkitty role has been lacking some attention for a while
causing some of the configuration and examples outdated.

Now that Cloudkitty playbook and dashboard can be installed using
OSA without running any additional playbooks from this repository
i have removed those from here.

Change-Id: I0fe96c318273f0016d93cf043bda74feb11c63f8
(cherry picked from commit b67bd60df37d870eb5c1a08b2272a5be5fb3ffc7)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cloudkitty refs/changes/32/797032/2 && git format-patch -1 --stdout FETCH_HEAD,"['extras/horizon/horizon_vars.yml', 'tasks/main.yml', 'extras/os-cloudkitty-install.yml', 'templates/cloudkitty.conf.j2', 'extras/user_secrets_cloudkitty.yml', 'releasenotes/notes/role-cleanup-e709b66675dcda60.yaml', 'defaults/main.yml', 'extras/haproxy_cloudkitty.yml', 'extras/env.d/cloudkitty.yml', 'extras/horizon/horizon_post_install.yml', 'templates/api-paste.ini.j2', 'templates/cloudkitty-metrics.yml.j2']",12,2054c29e2e88454128ee9c7f0c8cfd2f490a98ac,,# {{ ansible_managed }} ,,51,104
openstack%2Fzun~master~Ife71fb32e0a091aaef30e97e626be307ff851356,openstack/zun,master,Ife71fb32e0a091aaef30e97e626be307ff851356,[WIP] support to attach/detach network to capsule,NEW,2020-02-13 04:47:06.000000000,2021-07-10 08:54:50.000000000,,"[{'_account_id': 11536}, {'_account_id': 22348}, {'_account_id': 23365}]","[{'number': 1, 'created': '2020-02-13 04:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/aef594f105b2db18a33476e68b9891722bcd8ff1', 'message': 'support to attach/detach network to capsule\n\nChange-Id: Ife71fb32e0a091aaef30e97e626be307ff851356\n'}, {'number': 2, 'created': '2020-03-30 02:06:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/e8e56dc1c9a15008ae60c69d3b809a1300d7d6ac', 'message': '[WIP] support to attach/detach network to capsule\n\nChange-Id: Ife71fb32e0a091aaef30e97e626be307ff851356\n'}, {'number': 3, 'created': '2020-12-30 12:29:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/487203f3b5117bc12c4d7a560c11585c4389ebc3', 'message': '[WIP] support to attach/detach network to capsule\n\nChange-Id: Ife71fb32e0a091aaef30e97e626be307ff851356\n'}, {'number': 4, 'created': '2020-12-31 10:55:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/4bc83acfbe38013f7ac3c24f424164f4bcedbec8', 'message': '[WIP] support to attach/detach network to capsule\n\nChange-Id: Ife71fb32e0a091aaef30e97e626be307ff851356\n'}, {'number': 5, 'created': '2021-01-01 07:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/3634701e5cad0d64df8a211a6b3f8f64c060eeeb', 'message': '[WIP] support to attach/detach network to capsule\n\nChange-Id: Ife71fb32e0a091aaef30e97e626be307ff851356\n'}, {'number': 6, 'created': '2021-01-04 08:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/15905311012cd63edda17fa817334d4ca352de78', 'message': '[WIP] support to attach/detach network to capsule\n\nChange-Id: Ife71fb32e0a091aaef30e97e626be307ff851356\n'}, {'number': 7, 'created': '2021-03-21 05:02:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/1332232b034716f7a69b78366c81891392c94c3c', 'message': '[WIP] support to attach/detach network to capsule\n\nChange-Id: Ife71fb32e0a091aaef30e97e626be307ff851356\n'}, {'number': 8, 'created': '2021-03-28 10:06:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/c7b5e35b4daef45566294125f60c35bb3268688a', 'message': '[WIP] support to attach/detach network to capsule\n\nChange-Id: Ife71fb32e0a091aaef30e97e626be307ff851356\n'}, {'number': 9, 'created': '2021-03-28 12:36:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/536fecb49e46d499986454cd2d98e045697764d2', 'message': '[WIP] support to attach/detach network to capsule\n\nChange-Id: Ife71fb32e0a091aaef30e97e626be307ff851356\n'}, {'number': 10, 'created': '2021-07-10 08:24:00.000000000', 'files': ['zun/conf/network.py', 'zun/api/controllers/v1/schemas/capsules.py', 'zun/cni/plugins/zun_cni_registry.py', 'zun/container/cri/driver.py', 'zun/cni/daemon/service.py', 'zun/network/cni_utils.py', 'zun/network/cni_network.py', 'zun/common/policies/capsule.py', 'zun/network/os_vif_util.py', 'zun/api/controllers/v1/capsules.py', 'zun/objects/vif.py', 'zun/api/controllers/versions.py', 'zun/cni/api.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/486b8c014ca56d4a0d9b347341995486c617cdde', 'message': '[WIP] support to attach/detach network to capsule\n\nChange-Id: Ife71fb32e0a091aaef30e97e626be307ff851356\n'}]",240,707526,486b8c014ca56d4a0d9b347341995486c617cdde,28,3,10,23365,,,0,"[WIP] support to attach/detach network to capsule

Change-Id: Ife71fb32e0a091aaef30e97e626be307ff851356
",git fetch https://review.opendev.org/openstack/zun refs/changes/26/707526/4 && git format-patch -1 --stdout FETCH_HEAD,['zun/common/utils.py'],1,aef594f105b2db18a33476e68b9891722bcd8ff1,," try: container = api_utils.get_resource('Container', container_ident) except exception.ContainerNotFound: container = api_utils.get_resource('Capsule', container_ident) if not container: pecan.abort(404, ('Not found; the container you requested ' 'does not exist.'))"," container = api_utils.get_resource('Container', container_ident) if not container: pecan.abort(404, ('Not found; the container you requested ' 'does not exist.'))",7,4
openstack%2Fzun-tempest-plugin~master~Ib24d7b90a20f3b56993c1faede020c015395a1be,openstack/zun-tempest-plugin,master,Ib24d7b90a20f3b56993c1faede020c015395a1be,Migrate from testr to stestr,MERGED,2021-06-10 18:42:46.000000000,2021-07-10 06:45:42.000000000,2021-07-10 06:44:31.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-06-10 18:42:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/e5fe7f57d7d334f1e59d20b5b4727eb50b52dd3e', 'message': ""Migrate from testr to stestr\n\n* Replace .testr.conf by .stestr.conf for migration and update\n  .gitignore and test-requirements.txt file accordingly\n* Use py3 as the default runtime for tox\n* Add a new job, openstack-cover-jobs, to run the coverage in Zuul\n* Setuptools v54.1.0 introduces a warning that the use of dash-separated\n  options in 'setup.cfg' will not be supported in a future version [1].\n  Get ahead of the issue by replacing the dashes with underscores\n\n [1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ib24d7b90a20f3b56993c1faede020c015395a1be\n""}, {'number': 2, 'created': '2021-06-10 19:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/60d0630db04ab95e6a1cdddca3762575838bd6cd', 'message': ""Migrate from testr to stestr\n\n* Replace .testr.conf by .stestr.conf for migration and update\n  .gitignore and test-requirements.txt file accordingly\n* Use py3 as the default runtime for tox\n* Add a new job, openstack-cover-jobs, to run the coverage in Zuul\n* Setuptools v54.1.0 introduces a warning that the use of dash-separated\n  options in 'setup.cfg' will not be supported in a future version [1].\n  Get ahead of the issue by replacing the dashes with underscores\n\n [1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ib24d7b90a20f3b56993c1faede020c015395a1be\n""}, {'number': 3, 'created': '2021-06-14 15:50:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/9ae0942d55198aa9771da2f5ef504a819b013a37', 'message': 'Migrate from testr to stestr\n\n* Replace .testr.conf by .stestr.conf for migration and update\n  .gitignore and test-requirements.txt file accordingly\n* Use py3 as the default runtime for tox\n* Add a new job, openstack-cover-jobs, to run the coverage in Zuul\n\nChange-Id: Ib24d7b90a20f3b56993c1faede020c015395a1be\n'}, {'number': 4, 'created': '2021-06-16 13:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/7d9f2f4452f28f2af8e756251d6703cb7ca746c4', 'message': 'Migrate from testr to stestr\n\n* Replace .testr.conf by .stestr.conf for migration and update\n  .gitignore and test-requirements.txt file accordingly\n* Use py3 as the default runtime for tox\n\nChange-Id: Ib24d7b90a20f3b56993c1faede020c015395a1be\n'}, {'number': 5, 'created': '2021-06-16 13:54:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/5025ffd2ff9a656132a6ac20f6f007c0560979f5', 'message': 'Migrate from testr to stestr\n\n* Replace .testr.conf by .stestr.conf for migration and update\n  .gitignore and test-requirements.txt file accordingly\n* Use py3 as the default runtime for tox\n\nChange-Id: Ib24d7b90a20f3b56993c1faede020c015395a1be\n'}, {'number': 6, 'created': '2021-06-29 18:21:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/1f9e3b75d7bd9873cb4c56c03bc2a3bccad8a561', 'message': 'Migrate from testr to stestr\n\n* Replace .testr.conf by .stestr.conf for migration and update\n  .gitignore and test-requirements.txt file accordingly\n* Use py3 as the default runtime for tox\n\nChange-Id: Ib24d7b90a20f3b56993c1faede020c015395a1be\n'}, {'number': 7, 'created': '2021-07-01 10:39:36.000000000', 'files': ['.gitignore', 'test-requirements.txt', '.testr.conf', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/06283974c4aca968b09c196d81a5c06a8a930a49', 'message': 'Migrate from testr to stestr\n\n* Replace .testr.conf by .stestr.conf for migration and update\n  .gitignore and test-requirements.txt file accordingly\n* Use py3 as the default runtime for tox\n\nChange-Id: Ib24d7b90a20f3b56993c1faede020c015395a1be\n'}]",13,795865,06283974c4aca968b09c196d81a5c06a8a930a49,26,3,7,33379,,,0,"Migrate from testr to stestr

* Replace .testr.conf by .stestr.conf for migration and update
  .gitignore and test-requirements.txt file accordingly
* Use py3 as the default runtime for tox

Change-Id: Ib24d7b90a20f3b56993c1faede020c015395a1be
",git fetch https://review.opendev.org/openstack/zun-tempest-plugin refs/changes/65/795865/7 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', '.testr.conf', '.zuul.yaml', 'setup.cfg', 'tox.ini', '.stestr.conf']",6,e5fe7f57d7d334f1e59d20b5b4727eb50b52dd3e,,[DEFAULT] test_path=./zun-tempest-plugin/tests/ top_dir=./,,22,15
openstack%2Fzun-tempest-plugin~master~Ic2c882bf42886f5a12115f464189d784b5149952,openstack/zun-tempest-plugin,master,Ic2c882bf42886f5a12115f464189d784b5149952,setup.cfg: Replace dashes with underscores,MERGED,2021-04-27 03:51:58.000000000,2021-07-10 06:29:53.000000000,2021-07-10 06:27:22.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-27 03:51:58.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/8e24aaaa7b9c1c2e76df4311734cb43578395710', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ic2c882bf42886f5a12115f464189d784b5149952\n""}]",0,788125,8e24aaaa7b9c1c2e76df4311734cb43578395710,11,2,1,31027,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ic2c882bf42886f5a12115f464189d784b5149952
",git fetch https://review.opendev.org/openstack/zun-tempest-plugin refs/changes/25/788125/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,8e24aaaa7b9c1c2e76df4311734cb43578395710,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/zun-tempest-plugin/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/zun-tempest-plugin/latest/,3,3
openstack%2Ftripleo-ansible~stable%2Ftrain~I62cadfd95c514edf0b982fa652a53feadb24f2b7,openstack/tripleo-ansible,stable/train,I62cadfd95c514edf0b982fa652a53feadb24f2b7,Add playbook to perform UC DB backup only.,MERGED,2021-07-08 07:58:08.000000000,2021-07-10 06:04:48.000000000,2021-07-10 06:04:48.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-08 07:58:08.000000000', 'files': ['tripleo_ansible/roles/backup-and-restore/backup/tasks/db_backup.yml', 'tripleo_ansible/roles/backup-and-restore/defaults/main.yml', 'tripleo_ansible/playbooks/cli-undercloud-db-backup.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/37ac642374a1fb6bab2b2fd75c7f7db03d9b8438', 'message': ""Add playbook to perform UC DB backup only.\n\nCurrently, the openstack undercloud backup command allows us setting\nup rear, nfs and run the Undercloud's backup. However, it might be\nuseful to just perform a DB backup instead of a full backup of the\nUndercloud.\n\nThis patch adds a new playbook cli-undercloud-db-backup.yaml which\ninvokes only the db_backup.yml play from the backup_and_restore\nrole. This will perform only the MariaDB database backup for the\nUndercloud node. As the file name was hardcoded in the play, this\npatch also parametrizes it so that it will be possible to run\nthe command multiple times without override an existing backup.\n\nRelated: rhbz#1977392\nChange-Id: I62cadfd95c514edf0b982fa652a53feadb24f2b7\n(cherry picked from commit 0f221aca95252b0851b64548471f0b548016705c)\n(cherry picked from commit 3791391e6e2533848d20e9bc6a473fcdd9673664)\n(cherry picked from commit a51dfcdb03084ae2d3ea3e654f6466097ed177bc)\n(cherry picked from commit 5bdec26076c8abeb070fddf5aa0ac0fc2050026a)\n""}]",0,799969,37ac642374a1fb6bab2b2fd75c7f7db03d9b8438,14,3,1,26343,,,0,"Add playbook to perform UC DB backup only.

Currently, the openstack undercloud backup command allows us setting
up rear, nfs and run the Undercloud's backup. However, it might be
useful to just perform a DB backup instead of a full backup of the
Undercloud.

This patch adds a new playbook cli-undercloud-db-backup.yaml which
invokes only the db_backup.yml play from the backup_and_restore
role. This will perform only the MariaDB database backup for the
Undercloud node. As the file name was hardcoded in the play, this
patch also parametrizes it so that it will be possible to run
the command multiple times without override an existing backup.

Related: rhbz#1977392
Change-Id: I62cadfd95c514edf0b982fa652a53feadb24f2b7
(cherry picked from commit 0f221aca95252b0851b64548471f0b548016705c)
(cherry picked from commit 3791391e6e2533848d20e9bc6a473fcdd9673664)
(cherry picked from commit a51dfcdb03084ae2d3ea3e654f6466097ed177bc)
(cherry picked from commit 5bdec26076c8abeb070fddf5aa0ac0fc2050026a)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/69/799969/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup-and-restore/backup/tasks/db_backup.yml', 'tripleo_ansible/roles/backup-and-restore/defaults/main.yml', 'tripleo_ansible/playbooks/cli-undercloud-db-backup.yaml']",3,37ac642374a1fb6bab2b2fd75c7f7db03d9b8438,,"--- # Copyright 2020 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: TripleO Undercloud DB backup. hosts: Undercloud remote_user: ""{{ tripleo_target_user | default(lookup('env', 'USER')) }}"" become: true tasks: - name: Create DB Backup for the undercloud vars: tripleo_backup_and_restore_service_manager: false tripleo_backup_and_restore_mysql_backup_file: ""/home/stack/openstack-backup-mysql-{{ lookup('pipe', 'date +%F_%H_%M_%S') }}.sql"" tripleo_backup_and_restore_mysql_grants_file: ""/home/stack/openstack-backup-mysql-grants-{{ lookup('pipe', 'date +%F_%H_%M_%S') }}.sql"" include_role: name: backup_and_restore tasks_from: db_backup.yml ",,36,2
openstack%2Ftripleo-ansible~stable%2Ftrain~I3f3182929571ec723f4e1d5a8e283755b3e17f95,openstack/tripleo-ansible,stable/train,I3f3182929571ec723f4e1d5a8e283755b3e17f95,"replacing "","" with "" "" to avoid timemaster to consider it as a single interface",MERGED,2021-07-09 07:35:18.000000000,2021-07-10 06:04:44.000000000,2021-07-10 06:04:44.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-09 07:35:18.000000000', 'files': ['tripleo_ansible/roles/tripleo_timemaster/templates/timemaster.conf.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/744bc7a9b4c8637821438eb13ed91db626656c69', 'message': 'replacing "","" with "" "" to avoid timemaster to\nconsider it as a single interface\n\nDue to this, when below is passed via THT,\nPTPInterfaces: \'0:eno1,0:eno2\'\n\nresults in to\n[ptp_domain 0]\ninterfaces eno1,eno2\n\ntimemaster[169838]: timemaster[532409.195]:\nioctl SIOCETHTOOL failed: No such device\ntimemaster[169838]: timemaster[532409.195]:\nfailed to get time stamping info for eno1,eno2\nsystemd[1]: timemaster.service: Main process\nexited, code=exited, status=1/FAILURE\nsystemd[1]: timemaster.service: Failed with\nresult \'exit-code\'.\n\nCloses-Bug: #1934667\nChange-Id: I3f3182929571ec723f4e1d5a8e283755b3e17f95\n(cherry picked from commit 34c0d5d62c5b86f4646afe053220b0a9dc900168)\n'}]",0,799993,744bc7a9b4c8637821438eb13ed91db626656c69,8,3,1,30229,,,0,"replacing "","" with "" "" to avoid timemaster to
consider it as a single interface

Due to this, when below is passed via THT,
PTPInterfaces: '0:eno1,0:eno2'

results in to
[ptp_domain 0]
interfaces eno1,eno2

timemaster[169838]: timemaster[532409.195]:
ioctl SIOCETHTOOL failed: No such device
timemaster[169838]: timemaster[532409.195]:
failed to get time stamping info for eno1,eno2
systemd[1]: timemaster.service: Main process
exited, code=exited, status=1/FAILURE
systemd[1]: timemaster.service: Failed with
result 'exit-code'.

Closes-Bug: #1934667
Change-Id: I3f3182929571ec723f4e1d5a8e283755b3e17f95
(cherry picked from commit 34c0d5d62c5b86f4646afe053220b0a9dc900168)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/93/799993/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_timemaster/templates/timemaster.conf.j2'],1,744bc7a9b4c8637821438eb13ed91db626656c69,timemaster_domain-stable/train,{{ nic }}{% if not loop.last %} {% endif %},"{{ nic }}{% if not loop.last %},{% endif %}",1,1
openstack%2Ftripleo-ansible~stable%2Fussuri~I3f3182929571ec723f4e1d5a8e283755b3e17f95,openstack/tripleo-ansible,stable/ussuri,I3f3182929571ec723f4e1d5a8e283755b3e17f95,"replacing "","" with "" "" to avoid timemaster to consider it as a single interface",MERGED,2021-07-09 07:34:51.000000000,2021-07-10 05:50:57.000000000,2021-07-10 05:50:57.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-09 07:34:51.000000000', 'files': ['tripleo_ansible/roles/tripleo_timemaster/templates/timemaster.conf.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d2cb0e7e18fbc819a5c69be0000ab5d35b5ea85c', 'message': 'replacing "","" with "" "" to avoid timemaster to\nconsider it as a single interface\n\nDue to this, when below is passed via THT,\nPTPInterfaces: \'0:eno1,0:eno2\'\n\nresults in to\n[ptp_domain 0]\ninterfaces eno1,eno2\n\ntimemaster[169838]: timemaster[532409.195]:\nioctl SIOCETHTOOL failed: No such device\ntimemaster[169838]: timemaster[532409.195]:\nfailed to get time stamping info for eno1,eno2\nsystemd[1]: timemaster.service: Main process\nexited, code=exited, status=1/FAILURE\nsystemd[1]: timemaster.service: Failed with\nresult \'exit-code\'.\n\nCloses-Bug: #1934667\nChange-Id: I3f3182929571ec723f4e1d5a8e283755b3e17f95\n(cherry picked from commit 34c0d5d62c5b86f4646afe053220b0a9dc900168)\n'}]",0,799992,d2cb0e7e18fbc819a5c69be0000ab5d35b5ea85c,8,3,1,30229,,,0,"replacing "","" with "" "" to avoid timemaster to
consider it as a single interface

Due to this, when below is passed via THT,
PTPInterfaces: '0:eno1,0:eno2'

results in to
[ptp_domain 0]
interfaces eno1,eno2

timemaster[169838]: timemaster[532409.195]:
ioctl SIOCETHTOOL failed: No such device
timemaster[169838]: timemaster[532409.195]:
failed to get time stamping info for eno1,eno2
systemd[1]: timemaster.service: Main process
exited, code=exited, status=1/FAILURE
systemd[1]: timemaster.service: Failed with
result 'exit-code'.

Closes-Bug: #1934667
Change-Id: I3f3182929571ec723f4e1d5a8e283755b3e17f95
(cherry picked from commit 34c0d5d62c5b86f4646afe053220b0a9dc900168)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/92/799992/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_timemaster/templates/timemaster.conf.j2'],1,d2cb0e7e18fbc819a5c69be0000ab5d35b5ea85c,timemaster_domain-stable/ussuri,{{ nic }}{% if not loop.last %} {% endif %},"{{ nic }}{% if not loop.last %},{% endif %}",1,1
openstack%2Fnova~stable%2Fussuri~I59a0746b864610b6a314078cf5661d3d2b84b1d4,openstack/nova,stable/ussuri,I59a0746b864610b6a314078cf5661d3d2b84b1d4,Ignore PCI devices with 32bit domain,MERGED,2021-05-17 15:38:22.000000000,2021-07-10 05:45:47.000000000,2021-07-10 05:44:14.000000000,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-17 15:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d311cae258714d4538a868e72801724d6f93ecb8', 'message': 'Ignore PCI devices with 32bit domain\n\nNova and QEMU[1] supports PCI devices with a PCI address that has 16 bit\ndomain. However there are hypervisors that reports PCI addresses with\n32 bit domain. While today we cannot assign these to guests this should\nnot prevent the nova-compute service to start.\n\nThis patch changes the PCI manager to ignore such PCI devices.\n\nPlease note that this patch does not change fact that nova does not\nallow specifying PCI addresses with 32bit domain in the\n[pci]/passthrough_whitelist configuration. Such configuration is still\nrejected at nova-compute service startup.\n\nCloses-Bug: #1897528\n\n[1] https://github.com/qemu/qemu/blob/f2a1cf9180f63e88bb38ff21c169da97c3f2bad5/hw/core/qdev-properties.c#L993\n\nChange-Id: I59a0746b864610b6a314078cf5661d3d2b84b1d4\n(cherry picked from commit 8c9d6fc8f073cde78b79ae259c9915216f5d59b0)\n(cherry picked from commit 90ffc553d7f4152a6a4a8708787150d3c3c40b03)\n'}, {'number': 2, 'created': '2021-06-17 09:51:49.000000000', 'files': ['nova/pci/manager.py', 'doc/source/admin/networking.rst', 'nova/conf/pci.py', 'nova/tests/unit/pci/test_manager.py', 'doc/source/admin/pci-passthrough.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/22daca3e7f33e89b937f03a89db63cf25489e3c9', 'message': ""Ignore PCI devices with 32bit domain\n\nNova and QEMU[1] supports PCI devices with a PCI address that has 16 bit\ndomain. However there are hypervisors that reports PCI addresses with\n32 bit domain. While today we cannot assign these to guests this should\nnot prevent the nova-compute service to start.\n\nThis patch changes the PCI manager to ignore such PCI devices.\n\nPlease note that this patch does not change fact that nova does not\nallow specifying PCI addresses with 32bit domain in the\n[pci]/passthrough_whitelist configuration. Such configuration is still\nrejected at nova-compute service startup.\n\nChanges:\n  nova/pci/manager.py\n\nNOTE(stephenfin): We need to replace a use of 'str(exc)' with\n'six.text_type(exc)' to keep pep8/Python 2.7 happy.\n\nCloses-Bug: #1897528\n\n[1] https://github.com/qemu/qemu/blob/f2a1cf9180f63e88bb38ff21c169da97c3f2bad5/hw/core/qdev-properties.c#L993\n\nChange-Id: I59a0746b864610b6a314078cf5661d3d2b84b1d4\n(cherry picked from commit 8c9d6fc8f073cde78b79ae259c9915216f5d59b0)\n(cherry picked from commit 90ffc553d7f4152a6a4a8708787150d3c3c40b03)\n""}]",2,791771,22daca3e7f33e89b937f03a89db63cf25489e3c9,68,5,2,15334,,,0,"Ignore PCI devices with 32bit domain

Nova and QEMU[1] supports PCI devices with a PCI address that has 16 bit
domain. However there are hypervisors that reports PCI addresses with
32 bit domain. While today we cannot assign these to guests this should
not prevent the nova-compute service to start.

This patch changes the PCI manager to ignore such PCI devices.

Please note that this patch does not change fact that nova does not
allow specifying PCI addresses with 32bit domain in the
[pci]/passthrough_whitelist configuration. Such configuration is still
rejected at nova-compute service startup.

Changes:
  nova/pci/manager.py

NOTE(stephenfin): We need to replace a use of 'str(exc)' with
'six.text_type(exc)' to keep pep8/Python 2.7 happy.

Closes-Bug: #1897528

[1] https://github.com/qemu/qemu/blob/f2a1cf9180f63e88bb38ff21c169da97c3f2bad5/hw/core/qdev-properties.c#L993

Change-Id: I59a0746b864610b6a314078cf5661d3d2b84b1d4
(cherry picked from commit 8c9d6fc8f073cde78b79ae259c9915216f5d59b0)
(cherry picked from commit 90ffc553d7f4152a6a4a8708787150d3c3c40b03)
",git fetch https://review.opendev.org/openstack/nova refs/changes/71/791771/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/pci/manager.py', 'doc/source/admin/networking.rst', 'nova/conf/pci.py', 'nova/tests/unit/pci/test_manager.py', 'doc/source/admin/pci-passthrough.rst']",5,d311cae258714d4538a868e72801724d6f93ecb8,bug/1897528,.. note:: Nova only supports PCI addresses where the fields are restricted to the following maximum value: * domain - 0xFFFF * bus - 0xFF * slot - 0x1F * function - 0x7 Nova will ignore PCI devices reported by the hypervisor if the address is outside of these ranges.,,77,16
openstack%2Ftripleo-ansible~stable%2Fvictoria~I3f3182929571ec723f4e1d5a8e283755b3e17f95,openstack/tripleo-ansible,stable/victoria,I3f3182929571ec723f4e1d5a8e283755b3e17f95,"replacing "","" with "" "" to avoid timemaster to consider it as a single interface",MERGED,2021-07-09 07:34:27.000000000,2021-07-10 05:23:00.000000000,2021-07-10 05:23:00.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-09 07:34:27.000000000', 'files': ['tripleo_ansible/roles/tripleo_timemaster/templates/timemaster.conf.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fd8df6f4eb773c9d078e636357456eaf9f0d047d', 'message': 'replacing "","" with "" "" to avoid timemaster to\nconsider it as a single interface\n\nDue to this, when below is passed via THT,\nPTPInterfaces: \'0:eno1,0:eno2\'\n\nresults in to\n[ptp_domain 0]\ninterfaces eno1,eno2\n\ntimemaster[169838]: timemaster[532409.195]:\nioctl SIOCETHTOOL failed: No such device\ntimemaster[169838]: timemaster[532409.195]:\nfailed to get time stamping info for eno1,eno2\nsystemd[1]: timemaster.service: Main process\nexited, code=exited, status=1/FAILURE\nsystemd[1]: timemaster.service: Failed with\nresult \'exit-code\'.\n\nCloses-Bug: #1934667\nChange-Id: I3f3182929571ec723f4e1d5a8e283755b3e17f95\n(cherry picked from commit 34c0d5d62c5b86f4646afe053220b0a9dc900168)\n'}]",0,799991,fd8df6f4eb773c9d078e636357456eaf9f0d047d,8,3,1,30229,,,0,"replacing "","" with "" "" to avoid timemaster to
consider it as a single interface

Due to this, when below is passed via THT,
PTPInterfaces: '0:eno1,0:eno2'

results in to
[ptp_domain 0]
interfaces eno1,eno2

timemaster[169838]: timemaster[532409.195]:
ioctl SIOCETHTOOL failed: No such device
timemaster[169838]: timemaster[532409.195]:
failed to get time stamping info for eno1,eno2
systemd[1]: timemaster.service: Main process
exited, code=exited, status=1/FAILURE
systemd[1]: timemaster.service: Failed with
result 'exit-code'.

Closes-Bug: #1934667
Change-Id: I3f3182929571ec723f4e1d5a8e283755b3e17f95
(cherry picked from commit 34c0d5d62c5b86f4646afe053220b0a9dc900168)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/91/799991/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_timemaster/templates/timemaster.conf.j2'],1,fd8df6f4eb773c9d078e636357456eaf9f0d047d,timemaster_domain-stable/victoria,{{ nic }}{% if not loop.last %} {% endif %},"{{ nic }}{% if not loop.last %},{% endif %}",1,1
openstack%2Ftripleo-ansible~stable%2Fwallaby~I3f3182929571ec723f4e1d5a8e283755b3e17f95,openstack/tripleo-ansible,stable/wallaby,I3f3182929571ec723f4e1d5a8e283755b3e17f95,"replacing "","" with "" "" to avoid timemaster to consider it as a single interface",MERGED,2021-07-09 07:33:38.000000000,2021-07-10 05:22:56.000000000,2021-07-10 05:22:56.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-09 07:33:38.000000000', 'files': ['tripleo_ansible/roles/tripleo_timemaster/templates/timemaster.conf.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dba77c4b22dd52c692376dc2ed5c47b934dc0186', 'message': 'replacing "","" with "" "" to avoid timemaster to\nconsider it as a single interface\n\nDue to this, when below is passed via THT,\nPTPInterfaces: \'0:eno1,0:eno2\'\n\nresults in to\n[ptp_domain 0]\ninterfaces eno1,eno2\n\ntimemaster[169838]: timemaster[532409.195]:\nioctl SIOCETHTOOL failed: No such device\ntimemaster[169838]: timemaster[532409.195]:\nfailed to get time stamping info for eno1,eno2\nsystemd[1]: timemaster.service: Main process\nexited, code=exited, status=1/FAILURE\nsystemd[1]: timemaster.service: Failed with\nresult \'exit-code\'.\n\nCloses-Bug: #1934667\nChange-Id: I3f3182929571ec723f4e1d5a8e283755b3e17f95\n(cherry picked from commit 34c0d5d62c5b86f4646afe053220b0a9dc900168)\n'}]",0,799990,dba77c4b22dd52c692376dc2ed5c47b934dc0186,8,3,1,30229,,,0,"replacing "","" with "" "" to avoid timemaster to
consider it as a single interface

Due to this, when below is passed via THT,
PTPInterfaces: '0:eno1,0:eno2'

results in to
[ptp_domain 0]
interfaces eno1,eno2

timemaster[169838]: timemaster[532409.195]:
ioctl SIOCETHTOOL failed: No such device
timemaster[169838]: timemaster[532409.195]:
failed to get time stamping info for eno1,eno2
systemd[1]: timemaster.service: Main process
exited, code=exited, status=1/FAILURE
systemd[1]: timemaster.service: Failed with
result 'exit-code'.

Closes-Bug: #1934667
Change-Id: I3f3182929571ec723f4e1d5a8e283755b3e17f95
(cherry picked from commit 34c0d5d62c5b86f4646afe053220b0a9dc900168)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/90/799990/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_timemaster/templates/timemaster.conf.j2'],1,dba77c4b22dd52c692376dc2ed5c47b934dc0186,timemaster_domain-stable/wallaby,{{ nic }}{% if not loop.last %} {% endif %},"{{ nic }}{% if not loop.last %},{% endif %}",1,1
openstack%2Fpuppet-tripleo~stable%2Fwallaby~I43eb5e96a2f15c4c49193c676acccce9c3f413c1,openstack/puppet-tripleo,stable/wallaby,I43eb5e96a2f15c4c49193c676acccce9c3f413c1,"Revert ""Aodh deprecation""",MERGED,2021-07-08 02:18:57.000000000,2021-07-10 05:22:53.000000000,2021-07-10 05:22:53.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 02:18:57.000000000', 'files': ['manifests/profile/base/aodh/api.pp', 'manifests/profile/base/aodh/listener.pp', 'manifests/profile/base/aodh/notifier.pp', 'manifests/profile/base/aodh/evaluator.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/567ea3f035bd14f47b616a9f3369ede640ada03e', 'message': 'Revert ""Aodh deprecation""\n\nThis reverts commit de98e1411b0d433c3176098dc7eca3cf022bef76.\n\nReason for revert:\nAodh service has never been deprecated in tripleo-heat-templates.\nThe current warning in puppet-tripleo gives a wrong notice to users.\nDeprecation should happen in a consistent manner within all TripleO\nrepos.\n\nConflicts:\n        manifests/profile/base/aodh/api.pp\n        manifests/profile/base/aodh/evaluator.pp\n        manifests/profile/base/aodh/listener.pp\n        manifests/profile/base/aodh/notifier.pp\n\nResolved conflicts caused by migration of class name format (from\nabsolute names to relative names)\n\nChange-Id: I43eb5e96a2f15c4c49193c676acccce9c3f413c1\n(cherry picked from commit bf8895796fe5427092ba76104c64b659dfff25d8)\n'}]",0,799884,567ea3f035bd14f47b616a9f3369ede640ada03e,7,2,1,9816,,,0,"Revert ""Aodh deprecation""

This reverts commit de98e1411b0d433c3176098dc7eca3cf022bef76.

Reason for revert:
Aodh service has never been deprecated in tripleo-heat-templates.
The current warning in puppet-tripleo gives a wrong notice to users.
Deprecation should happen in a consistent manner within all TripleO
repos.

Conflicts:
        manifests/profile/base/aodh/api.pp
        manifests/profile/base/aodh/evaluator.pp
        manifests/profile/base/aodh/listener.pp
        manifests/profile/base/aodh/notifier.pp

Resolved conflicts caused by migration of class name format (from
absolute names to relative names)

Change-Id: I43eb5e96a2f15c4c49193c676acccce9c3f413c1
(cherry picked from commit bf8895796fe5427092ba76104c64b659dfff25d8)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/84/799884/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/aodh/api.pp', 'manifests/profile/base/aodh/listener.pp', 'manifests/profile/base/aodh/notifier.pp', 'manifests/profile/base/aodh/evaluator.pp']",4,567ea3f035bd14f47b616a9f3369ede640ada03e,,," warning('Service aodh is deprecated. Please take in mind, that it is going to be removed in T release.')",0,4
openstack%2Ftrove~master~I0000b9b0139471064c9589fe5c350b6facdd80dd,openstack/trove,master,I0000b9b0139471064c9589fe5c350b6facdd80dd,Show all the instances in descending order of creation time,MERGED,2021-07-10 00:44:14.000000000,2021-07-10 04:57:49.000000000,2021-07-10 04:56:41.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-10 00:44:14.000000000', 'files': ['trove/extensions/mgmt/instances/views.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/7b4631181752be749092add04d5f0ecd57057c73', 'message': 'Show all the instances in descending order of creation time\n\nThis is for list instance response of admin user, keep consistent with\nthe behavior of normal user.\n\nChange-Id: I0000b9b0139471064c9589fe5c350b6facdd80dd\n'}]",0,800319,7b4631181752be749092add04d5f0ecd57057c73,7,2,1,6732,,,0,"Show all the instances in descending order of creation time

This is for list instance response of admin user, keep consistent with
the behavior of normal user.

Change-Id: I0000b9b0139471064c9589fe5c350b6facdd80dd
",git fetch https://review.opendev.org/openstack/trove refs/changes/19/800319/1 && git format-patch -1 --stdout FETCH_HEAD,['trove/extensions/mgmt/instances/views.py'],1,7b4631181752be749092add04d5f0ecd57057c73,admin-list-instances-order," # Return instances in the order of 'created' for instance in sorted(self.instances, key=lambda ins: ins.created, reverse=True):", # These are model instances for instance in self.instances:,3,2
openstack%2Fmistral~master~I718afc9cc7f8ed672e039ce17ed75472cea428bb,openstack/mistral,master,I718afc9cc7f8ed672e039ce17ed75472cea428bb,Replace deprecated tenacity.Retrying.call,MERGED,2021-07-07 07:22:02.000000000,2021-07-10 04:36:47.000000000,2021-07-10 04:35:38.000000000,"[{'_account_id': 15895}, {'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-07 07:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/0041e6a56f46edb1c2d76864be2886e96b30755c', 'message': 'Replace deprecated tenacity.Retrying.call\n\n... by the __call__ method following the deprecation in the tenacity\nlibrary[1].\n\n[1] https://github.com/jd/tenacity/commit/d66af82a70dd9af24a7953c6ae5f02d8f198d10f\n\nChange-Id: I718afc9cc7f8ed672e039ce17ed75472cea428bb\n'}, {'number': 2, 'created': '2021-07-07 09:36:31.000000000', 'files': ['mistral/utils/rest_utils.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/5055da9105f15419bcae475301297a3455d86b9e', 'message': 'Replace deprecated tenacity.Retrying.call\n\n... by the __call__ method following the deprecation in the tenacity\nlibrary[1].\n\n[1] https://github.com/jd/tenacity/commit/d66af82a70dd9af24a7953c6ae5f02d8f198d10f\n\nChange-Id: I718afc9cc7f8ed672e039ce17ed75472cea428bb\n'}]",1,799745,5055da9105f15419bcae475301297a3455d86b9e,18,3,2,9816,,,0,"Replace deprecated tenacity.Retrying.call

... by the __call__ method following the deprecation in the tenacity
library[1].

[1] https://github.com/jd/tenacity/commit/d66af82a70dd9af24a7953c6ae5f02d8f198d10f

Change-Id: I718afc9cc7f8ed672e039ce17ed75472cea428bb
",git fetch https://review.opendev.org/openstack/mistral refs/changes/45/799745/2 && git format-patch -1 --stdout FETCH_HEAD,['mistral/utils/rest_utils.py'],1,0041e6a56f46edb1c2d76864be2886e96b30755c,ut," __call__ = call return super(MistralRetrying, self)(fn, *args, **kwargs)"," return super(MistralRetrying, self).call(fn, *args, **kwargs)",3,1
openstack%2Ftrove~stable%2Fvictoria~I96bb9f948dda22f50ec2a4fb5710ad9778e16b9d,openstack/trove,stable/victoria,I96bb9f948dda22f50ec2a4fb5710ad9778e16b9d,Add package iptables-persistent inside guest instance,MERGED,2021-07-09 22:11:38.000000000,2021-07-10 04:36:03.000000000,2021-07-10 04:34:52.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-09 22:11:38.000000000', 'files': ['integration/scripts/files/elements/guest-agent/package-installs.yaml'], 'web_link': 'https://opendev.org/openstack/trove/commit/cf13d8128b8ef3bba9becf2cff9a1c038a7a69fb', 'message': 'Add package iptables-persistent inside guest instance\n\niptables-persistent is needed to persists the iptable settings inside\nguest instance.\n\nChange-Id: I96bb9f948dda22f50ec2a4fb5710ad9778e16b9d\n(cherry picked from commit 4ce59ace17612a13bc65aea3844b4e4a187288da)\n'}]",0,800311,cf13d8128b8ef3bba9becf2cff9a1c038a7a69fb,7,2,1,6732,,,0,"Add package iptables-persistent inside guest instance

iptables-persistent is needed to persists the iptable settings inside
guest instance.

Change-Id: I96bb9f948dda22f50ec2a4fb5710ad9778e16b9d
(cherry picked from commit 4ce59ace17612a13bc65aea3844b4e4a187288da)
",git fetch https://review.opendev.org/openstack/trove refs/changes/11/800311/1 && git format-patch -1 --stdout FETCH_HEAD,['integration/scripts/files/elements/guest-agent/package-installs.yaml'],1,cf13d8128b8ef3bba9becf2cff9a1c038a7a69fb,victoria-cherry-pick,iptables: iptables-persistent:,,2,0
openstack%2Ftrove~stable%2Fwallaby~I96bb9f948dda22f50ec2a4fb5710ad9778e16b9d,openstack/trove,stable/wallaby,I96bb9f948dda22f50ec2a4fb5710ad9778e16b9d,Add package iptables-persistent inside guest instance,MERGED,2021-07-09 21:10:51.000000000,2021-07-10 04:36:00.000000000,2021-07-10 04:34:49.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-09 21:10:51.000000000', 'files': ['integration/scripts/files/elements/guest-agent/package-installs.yaml'], 'web_link': 'https://opendev.org/openstack/trove/commit/ae5904f92870c2726d47d693342e2f5d24c5630c', 'message': 'Add package iptables-persistent inside guest instance\n\niptables-persistent is needed to persists the iptable settings inside\nguest instance.\n\nChange-Id: I96bb9f948dda22f50ec2a4fb5710ad9778e16b9d\n(cherry picked from commit 4ce59ace17612a13bc65aea3844b4e4a187288da)\n'}]",0,800182,ae5904f92870c2726d47d693342e2f5d24c5630c,7,2,1,6732,,,0,"Add package iptables-persistent inside guest instance

iptables-persistent is needed to persists the iptable settings inside
guest instance.

Change-Id: I96bb9f948dda22f50ec2a4fb5710ad9778e16b9d
(cherry picked from commit 4ce59ace17612a13bc65aea3844b4e4a187288da)
",git fetch https://review.opendev.org/openstack/trove refs/changes/82/800182/1 && git format-patch -1 --stdout FETCH_HEAD,['integration/scripts/files/elements/guest-agent/package-installs.yaml'],1,ae5904f92870c2726d47d693342e2f5d24c5630c,iptables-persistent-stable/wallaby,iptables-persistent:,,1,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ie2c78fc3a07be1cd22cb6cac240047b5d2b9cd0a,openstack/tripleo-heat-templates,stable/wallaby,Ie2c78fc3a07be1cd22cb6cac240047b5d2b9cd0a,Simplify libvirt/qemu ssl certificates,MERGED,2021-06-28 06:35:37.000000000,2021-07-10 03:00:28.000000000,2021-07-10 02:59:11.000000000,"[{'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-06-28 06:35:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/74146b54c8b3dd25cd4fb95303fc6cb660a3eaa8', 'message': ""Simplify libvirt/qemu ssl certificates\n\nOn the compute nodes, right now ssl certificates got created for\nlibvirt, qemu-default, qemu-vnc and qemu-nbd. This is not required\nbecause the all services use the same NovaLibvirtNetwork network and\ntherefore multiple certificates for the same hostname get created.\nAlso from qemu point of view, if default_tls_x509_cert_dir and\ndefault_tls_x509_verify parameters get set for all certificates, there\nis no need to specify any of the other *_tls* config options. From [1]\n\nThe intention (of libvirt) is that you can just use the\ndefault_tls_x509_* config attributes so that you dont need to set any\nother *_tls* parameters, unless_ you need different certificates for\nsome services. The rationale for that is that some services (e.g.\nmigration / NBD) are only exposed to internal infrastructure; while\nsome sevices (VNC, Spice) might be exposed publically, so might need\ndifferent certificates. For OpenStack this does not matter, though,\nwe will stick with the defaults.\n\nTherefore with this change InternalTLSNbdCAFile, InternalTLSVncCAFile\nand InternalTLSQemuCAFile get removed (which defaulted to\n/etc/ipa/ca.crt anyways) and just use InternalTLSCAFile.\n\nAlso all cerfificates get created when EnableInternalTLS is true to\nand mount all SSL certificates from the host. This is to prevent\ncertificate information is not available in a qemu's process container\nenvironment if features get switched later, which has shown to be\nproblematic.\n\n[1] https://docs.openstack.org/nova/latest/admin/secure-live-migration-with-qemu-native-tls.html\n\nAlso squashes c904c7555c28b2978e49655ef7dff40c97ea8fd9 into this\nbackport:\nExplicit set qemu certificate group ownership\n\nWhile the certificates get requested with the appropriate group\nroot:qemu [1] and copied to /etc/pki/qemu/ with -a it has seen\nthat the group ownership is not correct on the target certificate\nfiles. Lets set explicit group ownership via the run_after\nscript.\n\nCloses-Bug: #1933330\n\n[1] https://github.com/openstack/tripleo-heat-templates/blob/master/deployment/nova/nova-libvirt-container-puppet.yaml#L777-L779\n\nChange-Id: Ie2c78fc3a07be1cd22cb6cac240047b5d2b9cd0a\n(cherry picked from commit d20f295f3a8e6a5792528fa79f9797a610bfefc7)\n""}, {'number': 2, 'created': '2021-07-08 08:52:59.000000000', 'files': ['deployment/nova/nova-libvirt-container-puppet.yaml', 'releasenotes/notes/nova_libvirt_ssl_cert_simplification-dbee541be9f55ce5.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/59a235340cfd06c6daf7674925f1c2c010653c6a', 'message': ""Simplify libvirt/qemu ssl certificates\n\nOn the compute nodes, right now ssl certificates got created for\nlibvirt, qemu-default, qemu-vnc and qemu-nbd. This is not required\nbecause the all services use the same NovaLibvirtNetwork network and\ntherefore multiple certificates for the same hostname get created.\nAlso from qemu point of view, if default_tls_x509_cert_dir and\ndefault_tls_x509_verify parameters get set for all certificates, there\nis no need to specify any of the other *_tls* config options. From [1]\n\nThe intention (of libvirt) is that you can just use the\ndefault_tls_x509_* config attributes so that you dont need to set any\nother *_tls* parameters, unless_ you need different certificates for\nsome services. The rationale for that is that some services (e.g.\nmigration / NBD) are only exposed to internal infrastructure; while\nsome sevices (VNC, Spice) might be exposed publically, so might need\ndifferent certificates. For OpenStack this does not matter, though,\nwe will stick with the defaults.\n\nTherefore with this change InternalTLSNbdCAFile, InternalTLSVncCAFile\nand InternalTLSQemuCAFile get removed (which defaulted to\n/etc/ipa/ca.crt anyways) and just use InternalTLSCAFile.\n\nAlso all cerfificates get created when EnableInternalTLS is true to\nand mount all SSL certificates from the host. This is to prevent\ncertificate information is not available in a qemu's process container\nenvironment if features get switched later, which has shown to be\nproblematic.\n\n[1] https://docs.openstack.org/nova/latest/admin/secure-live-migration-with-qemu-native-tls.html\n\nAlso squashes c904c7555c28b2978e49655ef7dff40c97ea8fd9 into this\nbackport:\nExplicit set qemu certificate group ownership\n\nWhile the certificates get requested with the appropriate group\nroot:qemu [1] and copied to /etc/pki/qemu/ with -a it has seen\nthat the group ownership is not correct on the target certificate\nfiles. Lets set explicit group ownership via the run_after\nscript.\n\nCloses-Bug: #1933330\n\n[1] https://github.com/openstack/tripleo-heat-templates/blob/master/deployment/nova/nova-libvirt-container-puppet.yaml#L777-L779\n\nChange-Id: Ie2c78fc3a07be1cd22cb6cac240047b5d2b9cd0a\n(cherry picked from commit d20f295f3a8e6a5792528fa79f9797a610bfefc7)\n""}]",0,798250,59a235340cfd06c6daf7674925f1c2c010653c6a,17,7,2,17216,,,0,"Simplify libvirt/qemu ssl certificates

On the compute nodes, right now ssl certificates got created for
libvirt, qemu-default, qemu-vnc and qemu-nbd. This is not required
because the all services use the same NovaLibvirtNetwork network and
therefore multiple certificates for the same hostname get created.
Also from qemu point of view, if default_tls_x509_cert_dir and
default_tls_x509_verify parameters get set for all certificates, there
is no need to specify any of the other *_tls* config options. From [1]

The intention (of libvirt) is that you can just use the
default_tls_x509_* config attributes so that you dont need to set any
other *_tls* parameters, unless_ you need different certificates for
some services. The rationale for that is that some services (e.g.
migration / NBD) are only exposed to internal infrastructure; while
some sevices (VNC, Spice) might be exposed publically, so might need
different certificates. For OpenStack this does not matter, though,
we will stick with the defaults.

Therefore with this change InternalTLSNbdCAFile, InternalTLSVncCAFile
and InternalTLSQemuCAFile get removed (which defaulted to
/etc/ipa/ca.crt anyways) and just use InternalTLSCAFile.

Also all cerfificates get created when EnableInternalTLS is true to
and mount all SSL certificates from the host. This is to prevent
certificate information is not available in a qemu's process container
environment if features get switched later, which has shown to be
problematic.

[1] https://docs.openstack.org/nova/latest/admin/secure-live-migration-with-qemu-native-tls.html

Also squashes c904c7555c28b2978e49655ef7dff40c97ea8fd9 into this
backport:
Explicit set qemu certificate group ownership

While the certificates get requested with the appropriate group
root:qemu [1] and copied to /etc/pki/qemu/ with -a it has seen
that the group ownership is not correct on the target certificate
files. Lets set explicit group ownership via the run_after
script.

Closes-Bug: #1933330

[1] https://github.com/openstack/tripleo-heat-templates/blob/master/deployment/nova/nova-libvirt-container-puppet.yaml#L777-L779

Change-Id: Ie2c78fc3a07be1cd22cb6cac240047b5d2b9cd0a
(cherry picked from commit d20f295f3a8e6a5792528fa79f9797a610bfefc7)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/50/798250/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-libvirt-container-puppet.yaml', 'releasenotes/notes/nova_libvirt_ssl_cert_simplification-dbee541be9f55ce5.yaml']",2,74146b54c8b3dd25cd4fb95303fc6cb660a3eaa8,libvirt_ssl-w,"--- fixes: - | On the compute nodes, right now ssl certificates got created for libvirt, qemu-default, qemu-vnc and qemu-nbd. This is not required because the all services use the same NovaLibvirtNetwork network and therefore multiple certificates for the same hostname get created. Also from qemu point of view, if default_tls_x509_cert_dir and default_tls_x509_verify parameters get set for all certificates, there is no need to specify any of the other `*_tls*` config options. From `Secure live migration with QEMU-native TLS <https://docs.openstack.org/nova/latest/admin/secure-live-migration-with-qemu-native-tls.html>`_ The intention (of libvirt) is that you can just use the default_tls_x509_* config attributes so that you dont need to set any other `*_tls*` parameters, unless you need different certificates for some services. The rationale for that is that some services (e.g. migration / NBD) are only exposed to internal infrastructure; while some sevices (VNC, Spice) might be exposed publically, so might need different certificates. For OpenStack this does not matter, though, we will stick with the defaults. Therefore with this change InternalTLSNbdCAFile, InternalTLSVncCAFile and InternalTLSQemuCAFile get removed (which defaulted to /etc/ipa/ca.crt anyways) and just use InternalTLSCAFile. Also all cerfificates get created when EnableInternalTLS is true to and mount all SSL certificates from the host. This is to prevent certificate information is not available in a qemu's process container environment if features get switched later, which has shown to be problematic. ",,103,163
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ided482f7eaed8d5e1fac60679ef3ba07bda41c0c,openstack/tripleo-ansible,stable/wallaby,Ided482f7eaed8d5e1fac60679ef3ba07bda41c0c,Switch from pacemaker standby to pacemaker stop,MERGED,2021-07-01 16:12:23.000000000,2021-07-10 02:58:59.000000000,2021-07-10 02:58:59.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 32728}]","[{'number': 1, 'created': '2021-07-01 16:12:23.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/pacemaker_start.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/76d61eaccbd4474b04f4b338f8edd1b2a6937f6f', 'message': 'Switch from pacemaker standby to pacemaker stop\n\nCurrently, the ""snapshots"" backup is being taken after taking out one\nnode from the cluster using pcs node standby. The consequence of it is\nthat the standby property is also being backuped, so when the node is\nrestored, it appears as standby and it needs to be unstandby manually.\n\nSwitching to pcs cluster stop/pcs cluster start does not make the playbook take any\nlonger, nor it creates an impact on the time the vips take to be\nmigrated to a different node while provides the advantage that when the\nnode is restarted (during restore), pacemaker starts correctly without\nany other manual step.\n\nChange-Id: Ided482f7eaed8d5e1fac60679ef3ba07bda41c0c\n(cherry picked from commit 0fb4873ca01c76350b162fcf574dafe970f760df)\n'}]",0,799074,76d61eaccbd4474b04f4b338f8edd1b2a6937f6f,16,7,1,32968,,,0,"Switch from pacemaker standby to pacemaker stop

Currently, the ""snapshots"" backup is being taken after taking out one
node from the cluster using pcs node standby. The consequence of it is
that the standby property is also being backuped, so when the node is
restored, it appears as standby and it needs to be unstandby manually.

Switching to pcs cluster stop/pcs cluster start does not make the playbook take any
longer, nor it creates an impact on the time the vips take to be
migrated to a different node while provides the advantage that when the
node is restarted (during restore), pacemaker starts correctly without
any other manual step.

Change-Id: Ided482f7eaed8d5e1fac60679ef3ba07bda41c0c
(cherry picked from commit 0fb4873ca01c76350b162fcf574dafe970f760df)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/74/799074/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/pacemaker_start.yml']",4,76d61eaccbd4474b04f4b338f8edd1b2a6937f6f,change-794746-4-stable/wallaby, command: pcs cluster start, command: pcs node unstandby,6,3
openstack%2Ftripleo-ansible~stable%2Fwallaby~I879abd53a17402a0860557d8e0e31ab0c560fcd4,openstack/tripleo-ansible,stable/wallaby,I879abd53a17402a0860557d8e0e31ab0c560fcd4,Online backup of the galera database must desynchronize the node before backup,MERGED,2021-07-07 11:55:17.000000000,2021-07-10 02:58:56.000000000,2021-07-10 02:58:56.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 29268}, {'_account_id': 32728}]","[{'number': 1, 'created': '2021-07-07 11:55:17.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bf60d71718f442296280080215f2de75cb8271ac', 'message': 'Online backup of the galera database must desynchronize the node before backup\n\nThis fix aims to desynchonize the current node of the galera database to\navoid receiving any writes or syncs from the master node while the\nbackup is being performed, ensuring the consistency of the dump.\n\nThis procedure is specified on the product manual [1].\n\n[1] https://galeracluster.com/library/training/tutorials/galera-backup.html\n\nCloses-Bug: #1934654\n\nChange-Id: I879abd53a17402a0860557d8e0e31ab0c560fcd4\n(cherry picked from commit dea5ae05694a64634bfc3df63bc176a1cbeab585)\n'}]",0,799767,bf60d71718f442296280080215f2de75cb8271ac,16,7,1,32968,,,0,"Online backup of the galera database must desynchronize the node before backup

This fix aims to desynchonize the current node of the galera database to
avoid receiving any writes or syncs from the master node while the
backup is being performed, ensuring the consistency of the dump.

This procedure is specified on the product manual [1].

[1] https://galeracluster.com/library/training/tutorials/galera-backup.html

Closes-Bug: #1934654

Change-Id: I879abd53a17402a0860557d8e0e31ab0c560fcd4
(cherry picked from commit dea5ae05694a64634bfc3df63bc176a1cbeab585)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/67/799767/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml'],1,bf60d71718f442296280080215f2de75cb8271ac,change-799444-6-stable/wallaby,"- name: Galera desync the MySQL node shell: | set -o pipefail {{ tripleo_container_cli }} exec {{ tripleo_backup_and_restore_mysql_container }} bash -c ""mysql -p -u root \ -p{{ mysql_password.stdout }} --execute 'SET GLOBAL wsrep_desync = ON'"" when: - mysql_password.stderr is defined - enabled_galera - tripleo_backup_and_restore_enable_snapshots|bool or not tripleo_backup_and_restore_service_manager|bool tags: - bar_create_recover_image no_log: ""{{ tripleo_backup_and_restore_hide_sensitive_logs | bool }}"" - name: Galera sync the MySQL node shell: | set -o pipefail {{ tripleo_container_cli }} exec {{ tripleo_backup_and_restore_mysql_container }} bash -c ""mysql -p -u root \ -p{{ mysql_password.stdout }} --execute 'SET GLOBAL wsrep_desync = OFF'"" when: - mysql_password.stderr is defined - enabled_galera - tripleo_backup_and_restore_enable_snapshots|bool or not tripleo_backup_and_restore_service_manager|bool tags: - bar_create_recover_image no_log: ""{{ tripleo_backup_and_restore_hide_sensitive_logs | bool }}"" ",,26,0
openstack%2Ftripleo-upgrade~stable%2Ftrain~Ib1c062839708f3c2e6e627523462400429ff759a,openstack/tripleo-upgrade,stable/train,Ib1c062839708f3c2e6e627523462400429ff759a,Adapt rename-nics play to match the docs update.,MERGED,2021-07-02 08:01:26.000000000,2021-07-10 02:58:53.000000000,2021-07-10 02:58:53.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-02 08:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/f7e7a06fe6bc45426377cb7e13d7caae84d25dd9', 'message': 'Adapt rename-nics play to match the docs update.\n\nAs it was suggested in [0], we modified the playbook to perform the nics renaming\nso that it also replaces ethX references in the undercloud.conf and os-net-config\nconfiguration. This patch moves the replacing task from undercloud_os_upgrade.yaml\ninto the rename-nics.yaml play.\n\n[0] - https://bugzilla.redhat.com/show_bug.cgi?id=1948536#c6\n\nChange-Id: Ib1c062839708f3c2e6e627523462400429ff759a\n'}, {'number': 2, 'created': '2021-07-07 15:33:01.000000000', 'files': ['files/rename-nics.yaml', 'tasks/common/undercloud_os_upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/4bd23a9a7d8d7b1251049af2a4af99b00b3c497b', 'message': 'Adapt rename-nics play to match the docs update.\n\nAs it was suggested in [0], we modified the playbook to perform the nics renaming\nso that it also replaces ethX references in the undercloud.conf and os-net-config\nconfiguration. This patch moves the replacing task from undercloud_os_upgrade.yaml\ninto the rename-nics.yaml play.\n\n[0] - https://bugzilla.redhat.com/show_bug.cgi?id=1948536#c6\n\nChange-Id: Ib1c062839708f3c2e6e627523462400429ff759a\n'}]",3,799166,4bd23a9a7d8d7b1251049af2a4af99b00b3c497b,19,4,2,26343,,,0,"Adapt rename-nics play to match the docs update.

As it was suggested in [0], we modified the playbook to perform the nics renaming
so that it also replaces ethX references in the undercloud.conf and os-net-config
configuration. This patch moves the replacing task from undercloud_os_upgrade.yaml
into the rename-nics.yaml play.

[0] - https://bugzilla.redhat.com/show_bug.cgi?id=1948536#c6

Change-Id: Ib1c062839708f3c2e6e627523462400429ff759a
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/66/799166/1 && git format-patch -1 --stdout FETCH_HEAD,"['files/rename-nics.yaml', 'tasks/common/undercloud_os_upgrade.yaml']",2,f7e7a06fe6bc45426377cb7e13d7caae84d25dd9,,"- name: run playbook from Undercloud to rename ethX interfaces shell: | set -o pipefail ansible-playbook -v -c local -i localhost, -e prefix={{ nic_prefix }} \ {{ working_dir }}/rename-nics.yaml 2>&1 {{ timestamper_cmd }} >> {{ working_dir}}/undercloud-rename-nics.log","- block: - name: run playbook from Undercloud to rename ethX interfaces shell: | set -o pipefail ansible-playbook -v -c local -i localhost, -e prefix={{ nic_prefix }} \ {{ working_dir }}/rename-nics.yaml 2>&1 {{ timestamper_cmd }} >> {{ working_dir}}/undercloud-rename-nics.log - name: Replace interface name in undercloud.conf and /etc/os-net-config/config.json replace: path: ""{{ item }}"" regexp: 'eth' replace: ""{{ nic_prefix }}"" loop: - ""{{ undercloud_conf }}"" - ""/etc/os-net-config/config.json"" ",29,16
openstack%2Fcyborg~master~Idaa660bdb0d62752d8ad0751e56011741ac6b038,openstack/cyborg,master,Idaa660bdb0d62752d8ad0751e56011741ac6b038,DNM: fix tempest,ABANDONED,2021-06-17 08:45:07.000000000,2021-07-10 02:07:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-17 08:45:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/33dbcb3a349623ee8a4f627c337a0ec8744fb023', 'message': 'DNM: fix tempest\n\nChange-Id: Idaa660bdb0d62752d8ad0751e56011741ac6b038\n'}, {'number': 2, 'created': '2021-06-17 09:38:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/bdb8c707b0477e88bc47513e56fe156608dfaf75', 'message': 'DNM: fix tempest\n\nChange-Id: Idaa660bdb0d62752d8ad0751e56011741ac6b038\n'}, {'number': 3, 'created': '2021-06-18 01:02:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/73fb85aa387c94cde047995e75bd645df6e99895', 'message': 'DNM: fix tempest\n\nDepends-on: https://review.opendev.org/c/openstack/cyborg-tempest-plugin/+/796977\nChange-Id: Idaa660bdb0d62752d8ad0751e56011741ac6b038\n'}, {'number': 4, 'created': '2021-06-18 06:27:47.000000000', 'files': ['cyborg/conductor/manager.py', 'api-ref/source/v2/devices.inc', 'api-ref/source/v2/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/6613d20c2371b93f01f1ff166ba8f1531305b44b', 'message': 'DNM: fix tempest\n\nChange-Id: Idaa660bdb0d62752d8ad0751e56011741ac6b038\n'}]",0,796799,6613d20c2371b93f01f1ff166ba8f1531305b44b,9,1,4,31412,,,0,"DNM: fix tempest

Change-Id: Idaa660bdb0d62752d8ad0751e56011741ac6b038
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/99/796799/4 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v2/parameters.yaml'],1,33dbcb3a349623ee8a4f627c337a0ec8744fb023,api-ref,,# variables in query device_filters: description: | A list of filter of ``FilterType`` to get device list by filter. in: query required: false type: array device_type: &device_type description: | The type of the device. in: query required: false type: string device_vendor: &device_vendor description: | The vendor ID of the device. in: query required: false type: string hostname: &hostname description: | The hostname of a compute node where the device locates. in: query required: false type: string device_model_resp: description: | The model of the device in: body required: true type: stringdevice_std_board_info_resp: description: | The standard board information of the device in: body required: true type: string device_type_resp: <<: *device_type in: body required: true device_uuid_resp: description: | The UUID of the device. in: body required: true type: string device_vendor_board_info_resp: description: | The vendor board information of the device in: body required: true type: string device_vendor_resp: <<: *device_vendor in: body required: true devices: description: | A list of ``devices`` objects. in: body required: true type: arrayhostname_resp: <<: *hostname in: body required: true,0,69
