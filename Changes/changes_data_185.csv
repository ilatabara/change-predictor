id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fironic~master~I87ce46bfcca8b023ef26cf0cdc807de6956fb2b3,openstack/ironic,master,I87ce46bfcca8b023ef26cf0cdc807de6956fb2b3,Update master for stable/wallaby,MERGED,2021-04-01 09:12:24.000000000,2021-04-03 22:16:14.000000000,2021-04-01 10:24:19.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-01 09:12:24.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/dd56a20b6bc27fdff542bd3859319c20f3dcf4ec', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: I87ce46bfcca8b023ef26cf0cdc807de6956fb2b3\n'}]",0,784221,dd56a20b6bc27fdff542bd3859319c20f3dcf4ec,8,2,1,22816,,,0,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: I87ce46bfcca8b023ef26cf0cdc807de6956fb2b3
",git fetch https://review.opendev.org/openstack/ironic refs/changes/21/784221/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,dd56a20b6bc27fdff542bd3859319c20f3dcf4ec,reno-wallaby, wallaby,,7,0
openstack%2Fcinder~stable%2Fwallaby~I1175d68466ac069e90ecaeef51ec6adb444241d3,openstack/cinder,stable/wallaby,I1175d68466ac069e90ecaeef51ec6adb444241d3,Fix PowerStore iSCSI targets filtering,MERGED,2021-03-30 10:16:00.000000000,2021-04-03 21:41:39.000000000,2021-03-31 07:21:50.000000000,"[{'_account_id': 5314}, {'_account_id': 7160}, {'_account_id': 7198}, {'_account_id': 13671}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-30 10:16:00.000000000', 'files': ['releasenotes/notes/bug-1920729-powerstore-iscsi-targets-filtering-9623ac03da5c6721.yaml', 'cinder/volume/drivers/dell_emc/powerstore/client.py', 'cinder/volume/drivers/dell_emc/powerstore/driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/80adbda09c38efe073d62765ac69499031eca873', 'message': 'Fix PowerStore iSCSI targets filtering\n\nIf PowerStore ports are configured for multiple purposes\n(iSCSI, Replication, etc.) driver will report that no accessible\niSCSI targets found because of the wrong REST filter.\n\nCloses-Bug: #1920729\nChange-Id: I1175d68466ac069e90ecaeef51ec6adb444241d3\n(cherry picked from commit f0abdefed74635ea0074e9d3060c8939fa815515)\n'}]",0,783695,80adbda09c38efe073d62765ac69499031eca873,23,5,1,31016,,,0,"Fix PowerStore iSCSI targets filtering

If PowerStore ports are configured for multiple purposes
(iSCSI, Replication, etc.) driver will report that no accessible
iSCSI targets found because of the wrong REST filter.

Closes-Bug: #1920729
Change-Id: I1175d68466ac069e90ecaeef51ec6adb444241d3
(cherry picked from commit f0abdefed74635ea0074e9d3060c8939fa815515)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/95/783695/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1920729-powerstore-iscsi-targets-filtering-9623ac03da5c6721.yaml', 'cinder/volume/drivers/dell_emc/powerstore/client.py', 'cinder/volume/drivers/dell_emc/powerstore/driver.py']",3,80adbda09c38efe073d62765ac69499031eca873,bug/1920729," 1.1.2 - Fix iSCSI targets not being returned from the REST API call if targets are used for multiple purposes (iSCSI target, Replication target, etc.) VERSION = ""1.1.2"""," VERSION = ""1.1.1""",13,2
openstack%2Ftripleo-heat-templates~stable%2Fussuri~If24653b629e39b6dd7ec6d09ae0ef32d7842c48f,openstack/tripleo-heat-templates,stable/ussuri,If24653b629e39b6dd7ec6d09ae0ef32d7842c48f,OVNChassisMacPorts for distributed VLAN,MERGED,2020-12-21 14:15:32.000000000,2021-04-03 21:11:40.000000000,2021-04-03 21:11:40.000000000,"[{'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-12-21 14:15:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fd2c5d06b45024004349ed34c9ba0ef93431f875', 'message': 'OVNChassisMacPorts for distributed VLAN\n\nFor distributed vlan in ovn we need to add support of\ncreating mac addresses per compute and seting them in\nexternal_ids:ovn-chassis-mac-mappings.\n\nThis change passes the ovn::controller::ovn_bridge_mappings\nto the role node configuration so that ports for each\nbridge mapping can be created. The map of physnet/mac_address\npairs is placed in the role output, and in RoleGroupVars.\n\nRelated-Bug: #1881593\nChange-Id: If24653b629e39b6dd7ec6d09ae0ef32d7842c48f\n(cherry picked from commit c90bbe188efafc3d4a073e8152d730b42af44b27)\n'}, {'number': 2, 'created': '2021-03-24 13:21:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5b31baabeb4e64c399724dafa781c35b3bdf2a8b', 'message': 'OVNChassisMacPorts for distributed VLAN\n\nFor distributed vlan in ovn we need to add support of\ncreating mac addresses per compute and seting them in\nexternal_ids:ovn-chassis-mac-mappings.\n\nThis change passes the ovn::controller::ovn_bridge_mappings\nto the role node configuration so that ports for each\nbridge mapping can be created. The map of physnet/mac_address\npairs is placed in the role output, and in RoleGroupVars.\n\nRelated-Bug: #1881593\nChange-Id: If24653b629e39b6dd7ec6d09ae0ef32d7842c48f\n(cherry picked from commit c90bbe188efafc3d4a073e8152d730b42af44b27)\n'}, {'number': 3, 'created': '2021-03-30 12:57:29.000000000', 'files': ['overcloud.j2.yaml', 'puppet/role.role.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2a97154efddf09b9825fcf5bdd25feb77ec60395', 'message': 'OVNChassisMacPorts for distributed VLAN\n\nFor distributed vlan in ovn we need to add support of\ncreating mac addresses per compute and seting them in\nexternal_ids:ovn-chassis-mac-mappings.\n\nThis change passes the ovn::controller::ovn_bridge_mappings\nto the role node configuration so that ports for each\nbridge mapping can be created. The map of physnet/mac_address\npairs is placed in the role output, and in RoleGroupVars.\n\nRelated-Bug: #1881593\nChange-Id: If24653b629e39b6dd7ec6d09ae0ef32d7842c48f\n(cherry picked from commit c90bbe188efafc3d4a073e8152d730b42af44b27)\n'}]",0,768063,2a97154efddf09b9825fcf5bdd25feb77ec60395,22,5,3,7130,,,0,"OVNChassisMacPorts for distributed VLAN

For distributed vlan in ovn we need to add support of
creating mac addresses per compute and seting them in
external_ids:ovn-chassis-mac-mappings.

This change passes the ovn::controller::ovn_bridge_mappings
to the role node configuration so that ports for each
bridge mapping can be created. The map of physnet/mac_address
pairs is placed in the role output, and in RoleGroupVars.

Related-Bug: #1881593
Change-Id: If24653b629e39b6dd7ec6d09ae0ef32d7842c48f
(cherry picked from commit c90bbe188efafc3d4a073e8152d730b42af44b27)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/63/768063/3 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud.j2.yaml', 'puppet/role.role.j2.yaml']",2,fd2c5d06b45024004349ed34c9ba0ef93431f875,ovn-distributed-vlan-traffic," OVNBridgeMappings: type: comma_delimited_list default: [] ovn_chassis_mac_map: {get_attr: [{{server_resource_name}}OVNChassisMacMap, value]} {{server_resource_name}}OVNChassisMacPorts: type: OS::Heat::ResourceGroup properties: count: yaql: expression: $.data.len() data: {get_param: OVNBridgeMappings} resource_def: type: OS::TripleO::OVNMacAddressPort properties: PortName: {{server_resource_name}}-ovn-mac-%index% {{server_resource_name}}OVNChassisMacMap: type: OS::Heat::Value properties: type: json value: yaql: expression: let(physnets => switch(isList($.data.physnets) => $.data.physnets, true => [])) -> $physnets.zip($.data.macs).toDict($.first(), $.last()) data: physnets: yaql: expression: $.data.select($.split(':').first()) data: {get_param: OVNBridgeMappings} macs: yaql: expression: switch(isDict($.data) => $.data.values(), true => []) data: {get_attr: [{{server_resource_name}}OVNChassisMacPorts, attributes, mac_address]}",,35,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~If495b5d5c1e6beff02b48507051cccfb70fd995c,openstack/tripleo-heat-templates,stable/ussuri,If495b5d5c1e6beff02b48507051cccfb70fd995c,Create OVNMacAddrNet network on Undercloud,MERGED,2020-12-21 14:13:52.000000000,2021-04-03 21:11:35.000000000,2021-04-03 21:11:35.000000000,"[{'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-12-21 14:13:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bf1ddc27be4cfe269c88d61a7999ff6a495cf828', 'message': ""Create OVNMacAddrNet network on Undercloud\n\nA network used to allocate MAC addresses for OVN chassis.\nPorts without and IP allocation will be created on this\nnetwork, the MAC addresses of the ports will by used to\nconfigure the ovn-chassis-mac-mappings.\n\nNOTE, we may want to change the 'base_mac' option of the\nundercloud, so that we don't have collissions with the\novercloud 'base_mac'.\n\nRelated-Bug: #1881593\nChange-Id: If495b5d5c1e6beff02b48507051cccfb70fd995c\n(cherry picked from commit 208209933240d8ab26bc3eb696447e830fd292b5)\n""}, {'number': 2, 'created': '2021-03-24 12:50:09.000000000', 'files': ['sample-env-generator/standalone.yaml', 'network/networks.j2.yaml', 'environments/undercloud.yaml', 'environments/standalone/standalone-tripleo.yaml', 'network/ports/ovn_mac_addr_port.yaml', 'sample-env-generator/undercloud-minion.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/undercloud/undercloud-minion.yaml', 'environments/standalone/standalone-overcloud.yaml', 'network/ovn_mac_addr_net.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d690b41efdd47bcfd337d9f0f9d139730049af66', 'message': ""Create OVNMacAddrNet network on Undercloud\n\nA network used to allocate MAC addresses for OVN chassis.\nPorts without and IP allocation will be created on this\nnetwork, the MAC addresses of the ports will by used to\nconfigure the ovn-chassis-mac-mappings.\n\nNOTE, we may want to change the 'base_mac' option of the\nundercloud, so that we don't have collissions with the\novercloud 'base_mac'.\n\nRelated-Bug: #1881593\nChange-Id: If495b5d5c1e6beff02b48507051cccfb70fd995c\n(cherry picked from commit 208209933240d8ab26bc3eb696447e830fd292b5)\n""}]",0,768061,d690b41efdd47bcfd337d9f0f9d139730049af66,14,5,2,7130,,,0,"Create OVNMacAddrNet network on Undercloud

A network used to allocate MAC addresses for OVN chassis.
Ports without and IP allocation will be created on this
network, the MAC addresses of the ports will by used to
configure the ovn-chassis-mac-mappings.

NOTE, we may want to change the 'base_mac' option of the
undercloud, so that we don't have collissions with the
overcloud 'base_mac'.

Related-Bug: #1881593
Change-Id: If495b5d5c1e6beff02b48507051cccfb70fd995c
(cherry picked from commit 208209933240d8ab26bc3eb696447e830fd292b5)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/61/768061/1 && git format-patch -1 --stdout FETCH_HEAD,"['network/networks.j2.yaml', 'sample-env-generator/standalone.yaml', 'environments/undercloud.yaml', 'environments/standalone/standalone-tripleo.yaml', 'network/ports/ovn_mac_addr_port.yaml', 'sample-env-generator/undercloud-minion.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/undercloud/undercloud-minion.yaml', 'environments/standalone/standalone-overcloud.yaml', 'network/ovn_mac_addr_net.yaml']",10,bf1ddc27be4cfe269c88d61a7999ff6a495cf828,ovn-distributed-vlan-traffic,"heat_template_version: rocky description: Network used to allocate MAC addresses for OVN chassis. parameters: OVNMacAddressNetworkName: default: ovn_mac_addr_net description: The name of the OVNMacAddr network. type: string ManageNetworks: default: true type: boolean description: > Manage the network and related resources (subnets and segments) with either create, update, or delete operations (depending on the stack operation). Does not apply to ports which will always be managed as needed. Defaults to true. For multi-stack use cases where the network related resources have already been managed by a separate stack, this parameter can be set to false. conditions: manage_networks: {get_param: ManageNetworks} resources: OVNMacAddressNetwork: type: OS::Neutron::Net condition: manage_networks properties: name: {get_param: OVNMacAddressNetworkName} value_specs: description: Network used to allocate MAC addresses for OVN chassis. outputs: OS::stack_id: description: > Network used to allocate MAC addresses for OVN chassis. value: {get_resource: OVNMacAddressNetwork} ",,93,1
openstack%2Fneutron~stable%2Fwallaby~Idba1cf4949f089deb9cc54a6648ec795c59a7377,openstack/neutron,stable/wallaby,Idba1cf4949f089deb9cc54a6648ec795c59a7377,Fix Floating IP policy rules,MERGED,2021-04-01 19:21:05.000000000,2021-04-03 20:39:49.000000000,2021-04-03 20:38:16.000000000,"[{'_account_id': 4694}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-01 19:21:05.000000000', 'files': ['neutron/conf/policies/floatingip.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ca78bf4a6b9ede08c98bb449b657f001d84f5efc', 'message': 'Fix Floating IP policy rules\n\nDuring migration to the new secure API rules of the Floating IP API we\nmade some mistakes. This patch fixes it by:\n\n* allow SYSTEM_ADMIN to create floating IPs,\n* fix wrong name of the deprecated rule for update and delete floating\n  IP\n\nRelated-blueprint: bp/secure-rbac-roles\nChange-Id: Idba1cf4949f089deb9cc54a6648ec795c59a7377\n(cherry picked from commit dd6cd3fb8a0a1ed3b9d5bb2ecba8422433f657e8)\n'}]",0,784405,ca78bf4a6b9ede08c98bb449b657f001d84f5efc,28,3,1,11975,,,0,"Fix Floating IP policy rules

During migration to the new secure API rules of the Floating IP API we
made some mistakes. This patch fixes it by:

* allow SYSTEM_ADMIN to create floating IPs,
* fix wrong name of the deprecated rule for update and delete floating
  IP

Related-blueprint: bp/secure-rbac-roles
Change-Id: Idba1cf4949f089deb9cc54a6648ec795c59a7377
(cherry picked from commit dd6cd3fb8a0a1ed3b9d5bb2ecba8422433f657e8)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/05/784405/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/conf/policies/floatingip.py'],1,ca78bf4a6b9ede08c98bb449b657f001d84f5efc,secure-rbac-stable/wallaby," check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, name='update_floatingip', name='delete_floatingip',"," check_str=base.PROJECT_MEMBER, name='create_floatingip', name='create_floatingip',",3,3
openstack%2Fcinder~stable%2Fwallaby~I2e9426c899672500e70b934f4c7d88732232b1ec,openstack/cinder,stable/wallaby,I2e9426c899672500e70b934f4c7d88732232b1ec,Add prelude for Wallaby release notes,MERGED,2021-03-30 17:49:32.000000000,2021-04-03 19:41:39.000000000,2021-04-01 18:26:38.000000000,"[{'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-30 17:49:32.000000000', 'files': ['releasenotes/notes/wallaby-prelude-661b619978e1b339.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ebc12b9404ea014b93a76d9fc47d51e8bac24cf3', 'message': 'Add prelude for Wallaby release notes\n\nChange-Id: I2e9426c899672500e70b934f4c7d88732232b1ec\n'}]",0,783937,ebc12b9404ea014b93a76d9fc47d51e8bac24cf3,21,3,1,5314,,,0,"Add prelude for Wallaby release notes

Change-Id: I2e9426c899672500e70b934f4c7d88732232b1ec
",git fetch https://review.opendev.org/openstack/cinder refs/changes/37/783937/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/wallaby-prelude-661b619978e1b339.yaml'],1,ebc12b9404ea014b93a76d9fc47d51e8bac24cf3,wallaby-prelude,"--- prelude: > Welcome to the Wallaby release of the OpenStack Block Storage service (cinder). With this release, the Block Storage API version 3 has reached microversion **3.64**.",,5,0
openstack%2Fcinder~master~I3fd627639a6a72a2e158b84e0219c1e97bc6192a,openstack/cinder,master,I3fd627639a6a72a2e158b84e0219c1e97bc6192a,Remove unused quota python classes,MERGED,2021-03-01 15:55:40.000000000,2021-04-03 18:15:13.000000000,2021-04-01 12:10:14.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 32238}]","[{'number': 1, 'created': '2021-03-01 15:55:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/01b17ef9cf04c91e8491dd361695f55a86506826', 'message': ""Remove unused quota python classes\n\nIn Change-Id I221c7a9dc51a2bb9bf7228c056f63ba9546cf5f9 Cinder added\nquota support, and there were some classes added for countable\nresources that were not used by Cinder.\n\nAfter such a long time we still haven't used these resources, moreover,\nthey don't seem useful for how Cinder uses quotas.\n\nInstead of keeping this code in case we need it in the future, it makes\nmore sense to reduce our code base to what we use to reduce confusion\nfor developers when reading our code.\n\nChange-Id: I3fd627639a6a72a2e158b84e0219c1e97bc6192a\n""}, {'number': 2, 'created': '2021-03-17 14:00:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/209285ffa937a3ea05c8dcff702fd7a5faa99d38', 'message': ""Remove unused quota python classes\n\nIn Change-Id I221c7a9dc51a2bb9bf7228c056f63ba9546cf5f9 Cinder added\nquota support, and there were some classes added for countable\nresources that were not used by Cinder.\n\nAfter such a long time we still haven't used these resources, moreover,\nthey don't seem useful for how Cinder uses quotas.\n\nInstead of keeping this code in case we need it in the future, it makes\nmore sense to reduce our code base to what we use to reduce confusion\nfor developers when reading our code.\n\nChange-Id: I3fd627639a6a72a2e158b84e0219c1e97bc6192a\n""}, {'number': 3, 'created': '2021-03-26 11:26:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9389c49f98babb6cffa8ef2f4e111dd77f6e1079', 'message': ""Remove unused quota python classes\n\nIn Change-Id I221c7a9dc51a2bb9bf7228c056f63ba9546cf5f9 Cinder added\nquota support, and there were some classes added for countable\nresources that were not used by Cinder.\n\nAfter such a long time we still haven't used these resources, moreover,\nthey don't seem useful for how Cinder uses quotas.\n\nInstead of keeping this code in case we need it in the future, it makes\nmore sense to reduce our code base to what we use to reduce confusion\nfor developers when reading our code.\n\nChange-Id: I3fd627639a6a72a2e158b84e0219c1e97bc6192a\n""}, {'number': 4, 'created': '2021-03-30 13:48:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bc106208cb195a381e4f1017e709afcf94af4066', 'message': ""Remove unused quota python classes\n\nIn Change-Id I221c7a9dc51a2bb9bf7228c056f63ba9546cf5f9 Cinder added\nquota support, and there were some classes added for countable\nresources that were not used by Cinder.\n\nAfter such a long time we still haven't used these resources, moreover,\nthey don't seem useful for how Cinder uses quotas.\n\nInstead of keeping this code in case we need it in the future, it makes\nmore sense to reduce our code base to what we use to reduce confusion\nfor developers when reading our code.\n\nChange-Id: I3fd627639a6a72a2e158b84e0219c1e97bc6192a\n""}, {'number': 5, 'created': '2021-03-30 14:23:56.000000000', 'files': ['cinder/tests/unit/test_quota.py', 'cinder/quota.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/29edc0fd250c88f01f8b678577258dcda1d2821e', 'message': ""Remove unused quota python classes\n\nIn Change-Id I221c7a9dc51a2bb9bf7228c056f63ba9546cf5f9 Cinder added\nquota support, and there were some classes added for countable\nresources that were not used by Cinder.\n\nAfter such a long time we still haven't used these resources, moreover,\nthey don't seem useful for how Cinder uses quotas.\n\nInstead of keeping this code in case we need it in the future, it makes\nmore sense to reduce our code base to what we use to reduce confusion\nfor developers when reading our code.\n\nChange-Id: I3fd627639a6a72a2e158b84e0219c1e97bc6192a\n""}]",0,778017,29edc0fd250c88f01f8b678577258dcda1d2821e,122,5,5,9535,,,0,"Remove unused quota python classes

In Change-Id I221c7a9dc51a2bb9bf7228c056f63ba9546cf5f9 Cinder added
quota support, and there were some classes added for countable
resources that were not used by Cinder.

After such a long time we still haven't used these resources, moreover,
they don't seem useful for how Cinder uses quotas.

Instead of keeping this code in case we need it in the future, it makes
more sense to reduce our code base to what we use to reduce confusion
for developers when reading our code.

Change-Id: I3fd627639a6a72a2e158b84e0219c1e97bc6192a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/17/778017/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/test_quota.py', 'cinder/quota.py']",2,01b17ef9cf04c91e8491dd361695f55a86506826,unused-quota-classes,,"class AbsoluteResource(BaseResource): """"""Describe a non-reservable resource."""""" pass class CountableResource(AbsoluteResource): """"""Describe a resource where counts aren't based only on the project ID."""""" def __init__(self, name, count, flag=None): """"""Initializes a CountableResource. Countable resources are those resources which directly correspond to objects in the database, i.e., volumes, gigabytes, etc., but for which a count by project ID is inappropriate. A CountableResource must be constructed with a counting function, which will be called to determine the current counts of the resource. The counting function will be passed the context, along with the extra positional and keyword arguments that are passed to Quota.count(). It should return an integer specifying the count. Note that this counting is not performed in a transaction-safe manner. This resource class is a temporary measure to provide required functionality, until a better approach to solving this problem can be evolved. :param name: The name of the resource, i.e., ""volumes"". :param count: A callable which returns the count of the resource. The arguments passed are as described above. :param flag: The name of the flag or configuration option which specifies the default value of the quota for this resource. """""" super(CountableResource, self).__init__(name, flag=flag) self.count = count def count(self, context, resource, *args, **kwargs): """"""Count a resource. For countable resources, invokes the count() function and returns its result. Arguments following the context and resource are passed directly to the count function declared by the resource. :param context: The request context, for access checks. :param resource: The name of the resource, as a string. """""" # Get the resource res = self.resources.get(resource) if not res or not hasattr(res, 'count'): raise exception.QuotaResourceUnknown(unknown=[resource]) return res.count(context, *args, **kwargs) ",9,101
openstack%2Ftripleo-common~stable%2Fussuri~I44014883a332c67e9cb9bdd701c717e324e1fc29,openstack/tripleo-common,stable/ussuri,I44014883a332c67e9cb9bdd701c717e324e1fc29,exclude redhat-release from yum update in openstack-base,MERGED,2021-04-02 19:44:13.000000000,2021-04-03 17:41:34.000000000,2021-04-03 17:40:27.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-02 19:44:13.000000000', 'files': ['container-images/tcib/base/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0f38abccfafd23b86e7b75aca280b59812026f71', 'message': 'exclude redhat-release from yum update in openstack-base\n\nRelated to this change I think:\nhttps://git.centos.org/rpms/centos-stream-release/c/ba1b93480d15848e19aa40af070308d6a2a3eb20\n\nRelated-Bug: #1922326\nChange-Id: I44014883a332c67e9cb9bdd701c717e324e1fc29\n(cherry picked from commit 568e40838d8076a997a9a140aa0d1e3bb83a216c)\n(cherry picked from commit e5575a781813cf2a0af0092761a2c437cd06f28d)\n'}]",0,784610,0f38abccfafd23b86e7b75aca280b59812026f71,13,5,1,9592,,,0,"exclude redhat-release from yum update in openstack-base

Related to this change I think:
https://git.centos.org/rpms/centos-stream-release/c/ba1b93480d15848e19aa40af070308d6a2a3eb20

Related-Bug: #1922326
Change-Id: I44014883a332c67e9cb9bdd701c717e324e1fc29
(cherry picked from commit 568e40838d8076a997a9a140aa0d1e3bb83a216c)
(cherry picked from commit e5575a781813cf2a0af0092761a2c437cd06f28d)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/10/784610/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/base.yaml'],1,0f38abccfafd23b86e7b75aca280b59812026f71,fix_ubi8_update,- run: dnf update --excludepkgs redhat-release -y && dnf clean all && rm -rf /var/cache/dnf,- run: dnf update -y && dnf clean all && rm -rf /var/cache/dnf,1,1
openstack%2Ftripleo-docs~master~I125597d10ba250ba5d241cb62928c30fc3de2a82,openstack/tripleo-docs,master,I125597d10ba250ba5d241cb62928c30fc3de2a82,Update node deletion documentation,MERGED,2021-02-17 23:11:33.000000000,2021-04-03 17:35:20.000000000,2021-04-03 17:34:07.000000000,"[{'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16347}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-17 23:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/b7b3794a6d7f462583023f932a649469272450cd', 'message': ""Update node deletion documentation\n\nUpdating the node deletion documetation to use hostnames instead of\nnova UUID's. Additionally, adding the new optional step of\n--update-plan-only\n\nInstead of mentioning how to find Nova UUID's. This change proposes\nthat we provide the user with steps to verify the hostname to be used\ninstead of the Nova UUID.\n\nCloses: #1913265\nChange-Id: I125597d10ba250ba5d241cb62928c30fc3de2a82\n""}, {'number': 2, 'created': '2021-02-18 00:09:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/8dc239dcbbfc54ba05c10186a76329f5bf63f213', 'message': ""Update node deletion documentation\n\nUpdating the node deletion documetation to use hostnames instead of\nnova UUID's. Additionally, adding the new optional step of\n--update-plan-only\n\nInstead of mentioning how to find Nova UUID's. This change proposes\nthat we provide the user with steps to verify the hostname to be used\ninstead of the Nova UUID.\n\nCloses: #1913265\nChange-Id: I125597d10ba250ba5d241cb62928c30fc3de2a82\n""}, {'number': 3, 'created': '2021-02-18 00:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/6c3ccbfdb9131aaf668d244e4f10372175294cce', 'message': ""Update node deletion documentation\n\nUpdating the node deletion documetation to use hostnames instead of\nnova UUID's. Additionally, adding the new optional step of\n--update-plan-only\n\nInstead of mentioning how to find Nova UUID's. This change proposes\nthat we provide the user with steps to verify the hostname to be used\ninstead of the Nova UUID.\n\nCloses: #1913265\nChange-Id: I125597d10ba250ba5d241cb62928c30fc3de2a82\n""}, {'number': 4, 'created': '2021-02-18 05:37:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/3ec91fbd14c614ab210b0101ba948bef808947fe', 'message': ""Update node deletion documentation\n\nUpdating the node deletion documetation to use hostnames instead of\nnova UUID's. Additionally, adding the new optional step of\n--update-plan-only\n\nInstead of mentioning how to find Nova UUID's. This change proposes\nthat we provide the user with steps to verify the hostname to be used\ninstead of the Nova UUID.\n\nCloses: #1913265\nChange-Id: I125597d10ba250ba5d241cb62928c30fc3de2a82\n""}, {'number': 5, 'created': '2021-02-18 05:48:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/948f9c9b0049c9156726436b9a278f0dcc51180a', 'message': ""Update node deletion documentation\n\nUpdating the node deletion documetation to use hostnames instead of\nnova UUID's. Additionally, adding the new optional step of\n--update-plan-only\n\nInstead of mentioning how to find Nova UUID's. This change proposes\nthat we provide the user with steps to verify the hostname to be used\ninstead of the Nova UUID.\n\nCloses: #1913265\nChange-Id: I125597d10ba250ba5d241cb62928c30fc3de2a82\n""}, {'number': 6, 'created': '2021-03-28 00:00:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/3fc090f4f5db0ba53bda0fd57ed1643aea3749be', 'message': ""Update node deletion documentation\n\nUpdating the node deletion documetation to use hostnames instead of\nnova UUID's\n\nInstead of mentioning how to find Nova UUID's. This change proposes\nthat we provide the user with steps to verify the hostname to be used\ninstead of the Nova UUID.\n\nCloses: #1913265\nChange-Id: I125597d10ba250ba5d241cb62928c30fc3de2a82\n""}, {'number': 7, 'created': '2021-03-30 00:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/a350c5537081767a86147ffb2cc5a2b17df4ce94', 'message': ""Update node deletion documentation\n\nUpdating the node deletion documetation to use hostnames instead of\nnova UUID's\n\nInstead of mentioning how to find Nova UUID's. This change proposes\nthat we provide the user with steps to verify the hostname to be used\ninstead of the Nova UUID.\n\nCloses: #1913265\nChange-Id: I125597d10ba250ba5d241cb62928c30fc3de2a82\n""}, {'number': 8, 'created': '2021-03-30 02:11:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/4aeef179a22b2f5964bbd76578f65044f6890cbc', 'message': ""Update node deletion documentation\n\nUpdating the node deletion documetation to use hostnames instead of\nnova UUID's\n\nInstead of mentioning how to find Nova UUID's. This change proposes\nthat we provide the user with steps to verify the hostname to be used\ninstead of the Nova UUID.\n\nCloses: #1913265\nChange-Id: I125597d10ba250ba5d241cb62928c30fc3de2a82\n""}, {'number': 9, 'created': '2021-03-30 02:30:36.000000000', 'files': ['deploy-guide/source/post_deployment/delete_nodes.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/aff9c5311b5875b70e2b219f4d486d10b51760d9', 'message': ""Update node deletion documentation\n\nUpdating the node deletion documetation to use hostnames instead of\nnova UUID's\n\nInstead of mentioning how to find Nova UUID's. This change proposes\nthat we provide the user with steps to verify the hostname to be used\ninstead of the Nova UUID.\n\nCloses: #1913265\nChange-Id: I125597d10ba250ba5d241cb62928c30fc3de2a82\n""}]",12,776291,aff9c5311b5875b70e2b219f4d486d10b51760d9,30,6,9,30073,,,0,"Update node deletion documentation

Updating the node deletion documetation to use hostnames instead of
nova UUID's

Instead of mentioning how to find Nova UUID's. This change proposes
that we provide the user with steps to verify the hostname to be used
instead of the Nova UUID.

Closes: #1913265
Change-Id: I125597d10ba250ba5d241cb62928c30fc3de2a82
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/91/776291/9 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/post_deployment/delete_nodes.rst'],1,b7b3794a6d7f462583023f932a649469272450cd,bug/update_node_delete_doc,"There may be situations where it's necessary to remove specific Compute nodes from the overcloud. In those situations, it is possible to remove specific nodes by following the process outlined in on this page. .. note:: If your Compute node is still hosting VM's, ensure they are migrated to another Compute node before continuing. .. note:: If you are using :ref:`baremetal_provision` then follow those scale-down instructions to call ``openstack overcloud node delete`` with a ``--baremetal-deployment`` argument instead of passing a list of nodes to delete as arguments. .. note:: As an optional step, you can update the current plan with your most recent configurations using `--update-plan-only`. For example:: openstack overcloud deploy --update-plan-only \ --templates \ -e /usr/share/openstack-tripleo-heat-templates/environments/network-isolation.yaml \ -e /home/stack/templates/network-environment.yaml \ -e /home/stack/templates/storage-environment.yaml \ -e /home/stack/templates/rhel-registration/environment-rhel-registration.yaml \ [-e |...] To delete a specific node from the Overcloud. We use the following command:: openstack overcloud node delete --stack $STACK_NAME <hostname-of-compute-node> .. note:: This command uses the hostnames as it's referring to nodes from the Ansible inventory. While there is currently a process to translate Nova UUID's to the hostname. This may be removed in future releases. As such, it is recommended to use the hostname instead of Nova UUIDs. You can generate the list of hostname in the Ansible inventory using:: . stackrc tripleo-ansible-inventory --stack <STACK_NAME> --static-yaml-inventory overcloud-inv.yaml This file will contain the Ansible inventory in use and help to identify the hostname that needs to be passed to the `node delete` command.","You can delete specific nodes from an overcloud with command:: openstack overcloud node delete --stack $STACK_NAME --templates [templates dir] <list of nova instance IDs or hostnames starting in Train> If you are :ref:`baremetal_provision` then follow those scale-down instructions to call ``openstack overcloud node delete`` with a ``--baremetal-deployment`` argument instead of passing a list of nodes to delete as arguments. .. note:: If you passed any extra environment files when you created the overcloud (for instance, in order to configure :doc:`network isolation <../features/network_isolation>`), you must pass them again here using the ``-e`` or ``--environment-file`` option to avoid making undesired changes to the overcloud. .. note:: A list of nova instance IDs can be listed with command:: openstack server list ",35,17
openstack%2Fneutron~stable%2Fwallaby~Ibd1caf34a5f707f5ae9ff5973860d4e8338ef224,openstack/neutron,stable/wallaby,Ibd1caf34a5f707f5ae9ff5973860d4e8338ef224,[OVN] External ports (SR-IOV) QoS is handled by SR-IOV agent,MERGED,2021-03-31 14:12:12.000000000,2021-04-03 17:29:12.000000000,2021-04-03 17:27:51.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-31 14:12:12.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/test_qos.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/qos.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e1a6c8cb884762bc7ecc85eee8d572bdf3705b59', 'message': '[OVN] External ports (SR-IOV) QoS is handled by SR-IOV agent\n\nOVN QoS extension do not manage the external type ports (SR-IOV);\nthe port QoS policy of those ports is handled by the SR-IOV agent\nQoS extension.\n\nChange-Id: Ibd1caf34a5f707f5ae9ff5973860d4e8338ef224\nCloses-Bug: #1918702\n(cherry picked from commit f700660b6b11118fa80129a4ef20c3e091da988b)\n'}]",0,784104,e1a6c8cb884762bc7ecc85eee8d572bdf3705b59,9,3,1,16688,,,0,"[OVN] External ports (SR-IOV) QoS is handled by SR-IOV agent

OVN QoS extension do not manage the external type ports (SR-IOV);
the port QoS policy of those ports is handled by the SR-IOV agent
QoS extension.

Change-Id: Ibd1caf34a5f707f5ae9ff5973860d4e8338ef224
Closes-Bug: #1918702
(cherry picked from commit f700660b6b11118fa80129a4ef20c3e091da988b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/04/784104/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/test_qos.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/qos.py']",3,e1a6c8cb884762bc7ecc85eee8d572bdf3705b59,bug/1918702," def create_port(self, txn, port, port_type=None): self.update_port(txn, port, None, reset=True, port_type=port_type) qos_rules=None, port_type=None): if port_type == ovn_const.LSP_TYPE_EXTERNAL: # External ports (SR-IOV) QoS is handled the SR-IOV agent QoS # extension. return "," def create_port(self, txn, port): self.update_port(txn, port, None, reset=True) qos_rules=None):",18,5
openstack%2Fironic~master~I658b6b4eca7978473b08244c349ea5ac8bf37f76,openstack/ironic,master,I658b6b4eca7978473b08244c349ea5ac8bf37f76,Follow-up Automaticaly set cipher suite,MERGED,2021-03-30 00:21:01.000000000,2021-04-03 17:00:29.000000000,2021-04-01 10:08:40.000000000,"[{'_account_id': 4571}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-30 00:21:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c129a19a284b8b976f9452811a3ed7c933ab102b', 'message': 'Follow-up Automaticaly set cipher suite\n\nThis commit is a follow-up to  I6788585a83268e20ff6447e570995871bc9c25d5\n\nChange-Id: I658b6b4eca7978473b08244c349ea5ac8bf37f76\n'}, {'number': 2, 'created': '2021-03-31 11:57:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c16a4f3b462bc07df90f98b1856e1cfc3fc1fca7', 'message': 'Follow-up Automaticaly set cipher suite\n\nThis commit is a follow-up to  I6788585a83268e20ff6447e570995871bc9c25d5\n\nChange-Id: I658b6b4eca7978473b08244c349ea5ac8bf37f76\n'}, {'number': 3, 'created': '2021-03-31 16:35:53.000000000', 'files': ['ironic/drivers/modules/ipmitool.py', 'doc/source/admin/drivers/ipmitool.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/a036728fb4ca7acfe19e14f2a1f89c19ef30fe98', 'message': 'Follow-up Automaticaly set cipher suite\n\nThis commit is a follow-up to  I6788585a83268e20ff6447e570995871bc9c25d5\n\nChange-Id: I658b6b4eca7978473b08244c349ea5ac8bf37f76\n'}]",6,783759,a036728fb4ca7acfe19e14f2a1f89c19ef30fe98,47,2,3,15519,,,0,"Follow-up Automaticaly set cipher suite

This commit is a follow-up to  I6788585a83268e20ff6447e570995871bc9c25d5

Change-Id: I658b6b4eca7978473b08244c349ea5ac8bf37f76
",git fetch https://review.opendev.org/openstack/ironic refs/changes/59/783759/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/ipmitool.py', 'doc/source/admin/drivers/ipmitool.rst']",2,c129a19a284b8b976f9452811a3ed7c933ab102b,follow_up_cs,"each node, the configuration parameter `[ipmi]/cipher_suite_versions` can be set to a list of cipher suites that will be used, Ironic will attempt to find a value that can be used from the list provided (from last to first).::","each node, the configuration `[ipmi]/cipher_suite_versions` can be set to a list of cipher suites that will be used, Ironic will attempt to find a value that can be used from the list provided (from last to first).::",12,12
openstack%2Fironic~master~I9f305cb3f33766c1c93cf4347368b1ce025fc635,openstack/ironic,master,I9f305cb3f33766c1c93cf4347368b1ce025fc635,Restrict syncing of boot mode to Supermicro,MERGED,2021-03-31 19:02:58.000000000,2021-04-03 13:31:40.000000000,2021-04-01 07:12:46.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-31 19:02:58.000000000', 'files': ['releasenotes/notes/restrict-sync-mode-after-device-to-supermicro-218e8cb57735c685.yaml', 'ironic/drivers/modules/redfish/management.py', 'ironic/tests/unit/drivers/modules/redfish/test_management.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/8bd25a9882e64ae378974e974c39b874d4b9b0e8', 'message': 'Restrict syncing of boot mode to Supermicro\n\nThe fix for https://storyboard.openstack.org/#!/story/2008252 synced\nthe boot mode after changing the boot device, because Supermicro nodes\nreset the boot mode if not included in the boot device set. However this\ncan cause a problem on Dell nodes when changing the mode uefi->bios or\nbios->uefi. Restrict the syncing of the boot mode to Supermicro.\n\nStory: 2008712\nTask: 42046\nChange-Id: I9f305cb3f33766c1c93cf4347368b1ce025fc635\n'}]",0,784156,8bd25a9882e64ae378974e974c39b874d4b9b0e8,18,2,1,21909,,,0,"Restrict syncing of boot mode to Supermicro

The fix for https://storyboard.openstack.org/#!/story/2008252 synced
the boot mode after changing the boot device, because Supermicro nodes
reset the boot mode if not included in the boot device set. However this
can cause a problem on Dell nodes when changing the mode uefi->bios or
bios->uefi. Restrict the syncing of the boot mode to Supermicro.

Story: 2008712
Task: 42046
Change-Id: I9f305cb3f33766c1c93cf4347368b1ce025fc635
",git fetch https://review.opendev.org/openstack/ironic refs/changes/56/784156/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/restrict-sync-mode-after-device-to-supermicro-218e8cb57735c685.yaml', 'ironic/drivers/modules/redfish/management.py', 'ironic/tests/unit/drivers/modules/redfish/test_management.py']",3,8bd25a9882e64ae378974e974c39b874d4b9b0e8,restrict-sync-mode-supermicro," enabled=sushy.BOOT_SOURCE_ENABLED_ONCE)]) enabled=expected)]) [mock.call(sushy.BOOT_SOURCE_TARGET_PXE, enabled=None)]) if vendor == 'SuperMicro': fake_system.set_system_boot_options.assert_has_calls( [mock.call(sushy.BOOT_SOURCE_TARGET_PXE, enabled=expected), mock.call(mode=sushy.BOOT_SOURCE_MODE_BIOS)]) else: fake_system.set_system_boot_options.assert_has_calls( [mock.call(sushy.BOOT_SOURCE_TARGET_PXE, enabled=expected)])"," enabled=sushy.BOOT_SOURCE_ENABLED_ONCE), mock.call(mode=sushy.BOOT_SOURCE_MODE_BIOS)]) enabled=expected), mock.call(mode=sushy.BOOT_SOURCE_MODE_BIOS)]) [mock.call(sushy.BOOT_SOURCE_TARGET_PXE, enabled=None), mock.call(mode=sushy.BOOT_SOURCE_MODE_BIOS)]) fake_system.set_system_boot_options.assert_has_calls( [mock.call(sushy.BOOT_SOURCE_TARGET_PXE, enabled=expected), mock.call(mode=sushy.BOOT_SOURCE_MODE_BIOS)])",29,12
openstack%2Ftripleo-heat-templates~master~Idb07cbc8fc3a4d73ff52c54d869310fd6c49b502,openstack/tripleo-heat-templates,master,Idb07cbc8fc3a4d73ff52c54d869310fd6c49b502,Simplify internal_tls_enabled conditions,MERGED,2021-03-16 17:31:01.000000000,2021-04-03 13:20:28.000000000,2021-04-03 13:20:28.000000000,"[{'_account_id': 6469}, {'_account_id': 7144}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-03-16 17:31:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7c7e2195cb57a2afd1fc0d8c17083164a6ab5e6f', 'message': 'WIP Simplify internal_tls_enabled conditions\n\nWe do not need to add an if: internal_tls_enabled in a number of\nansible tasks. enabled_internal_tls is already defined as an ansible\nfact in common/deploy-steps.j2:\nenable_internal_tls: {get_param: EnableInternalTLS}\n\nChange-Id: Idb07cbc8fc3a4d73ff52c54d869310fd6c49b502\n'}, {'number': 2, 'created': '2021-03-16 17:36:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c82aaadbdecdd89940755efc0d366988708e305f', 'message': 'WIP Simplify internal_tls_enabled conditions\n\nWe do not need to add an if: internal_tls_enabled in a number of\nansible tasks. enabled_internal_tls is already defined as an ansible\nfact in common/deploy-steps.j2:\nenable_internal_tls: {get_param: EnableInternalTLS}\n\nChange-Id: Idb07cbc8fc3a4d73ff52c54d869310fd6c49b502\n'}, {'number': 3, 'created': '2021-03-16 20:53:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/637562aaf2415609c66cf0e34806a565d0ad8f11', 'message': 'WIP Simplify internal_tls_enabled conditions\n\nWe do not need to add an if: internal_tls_enabled in a number of\nansible tasks. enabled_internal_tls is already defined as an ansible\nfact in common/deploy-steps.j2:\nenable_internal_tls: {get_param: EnableInternalTLS}\n\nChange-Id: Idb07cbc8fc3a4d73ff52c54d869310fd6c49b502\n'}, {'number': 4, 'created': '2021-03-16 21:01:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ad8297aafeb549a01e2e102f27d03875fe997406', 'message': 'WIP Simplify internal_tls_enabled conditions\n\nWe do not need to add an if: internal_tls_enabled in a number of\nansible tasks. enabled_internal_tls is already defined as an ansible\nfact in common/deploy-steps.j2:\nenable_internal_tls: {get_param: EnableInternalTLS}\n\nChange-Id: Idb07cbc8fc3a4d73ff52c54d869310fd6c49b502\n'}, {'number': 5, 'created': '2021-03-17 09:21:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5d4c108c82615e7edc99c643eff1ecec638020b4', 'message': 'WIP Simplify internal_tls_enabled conditions\n\nWe do not need to add an if: internal_tls_enabled in a number of\nansible tasks. enabled_internal_tls is already defined as an ansible\nfact in common/deploy-steps.j2:\nenable_internal_tls: {get_param: EnableInternalTLS}\n\nSo when the service uses the enable_internal_tls condition and it points\nto the EnableInternalTLS param, we can just use the ansible fact\ndirectly.\n\nChange-Id: Idb07cbc8fc3a4d73ff52c54d869310fd6c49b502\n'}, {'number': 6, 'created': '2021-03-17 14:35:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6eba9d89e7a024348aea9cefad444aa26a783dff', 'message': 'WIP Simplify internal_tls_enabled conditions\n\nWe do not need to add an if: internal_tls_enabled in a number of\nansible tasks. enabled_internal_tls is already defined as an ansible\nfact in common/deploy-steps.j2:\nenable_internal_tls: {get_param: EnableInternalTLS}\n\nSo when the service uses the enable_internal_tls condition and it points\nto the EnableInternalTLS param, we can just use the ansible fact\ndirectly.\n\nChange-Id: Idb07cbc8fc3a4d73ff52c54d869310fd6c49b502\n'}, {'number': 7, 'created': '2021-03-17 20:27:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2b5b6fb8198b2ac8efa25bda15c5e384afc521c0', 'message': 'WIP Simplify internal_tls_enabled conditions\n\nWe do not need to add an if: internal_tls_enabled in a number of\nansible tasks. enabled_internal_tls is already defined as an ansible\nfact in common/deploy-steps.j2:\nenable_internal_tls: {get_param: EnableInternalTLS}\n\nSo when the service uses the enable_internal_tls condition and it points\nto the EnableInternalTLS param, we can just use the ansible fact\ndirectly.\n\nDepends-On: Ic9ae8a1a0f69d85b2acd2598644c1cae8c1db78d\n\nChange-Id: Idb07cbc8fc3a4d73ff52c54d869310fd6c49b502\n'}, {'number': 8, 'created': '2021-03-19 08:15:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b6c604572ec1830b4aeb1d724894d8b7aba189c1', 'message': 'Simplify internal_tls_enabled conditions\n\nWe do not need to add an if: internal_tls_enabled in a number of\nansible tasks. enabled_internal_tls is already defined as an ansible\nfact in common/deploy-steps.j2:\nenable_internal_tls: {get_param: EnableInternalTLS}\n\nSo when the service uses the enable_internal_tls condition and it points\nto the EnableInternalTLS param, we can just use the ansible fact\ndirectly. Note that if the enable_internal_tls condition points to\nsomething else than the mere EnableInternalTLS we may not do this\ncleanup.\n\nChange-Id: Idb07cbc8fc3a4d73ff52c54d869310fd6c49b502\n'}, {'number': 9, 'created': '2021-03-24 08:07:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5e8e83ca8b80734a461d7139fc6b5b7a50400c4e', 'message': 'Simplify internal_tls_enabled conditions\n\nWe do not need to add an if: internal_tls_enabled in a number of\nansible tasks. enabled_internal_tls is already defined as an ansible\nfact in common/deploy-steps.j2:\nenable_internal_tls: {get_param: EnableInternalTLS}\n\nSo when the service uses the enable_internal_tls condition and it points\nto the EnableInternalTLS param, we can just use the ansible fact\ndirectly. Note that if the enable_internal_tls condition points to\nsomething else than the mere EnableInternalTLS we may not do this\ncleanup.\n\nChange-Id: Idb07cbc8fc3a4d73ff52c54d869310fd6c49b502\n'}, {'number': 10, 'created': '2021-03-25 10:00:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ae91f32a3cdf2d6515f222fe69cc54cf8f53e7e0', 'message': 'Simplify internal_tls_enabled conditions\n\nWe do not need to add an if: internal_tls_enabled in a number of\nansible tasks. enabled_internal_tls is already defined as an ansible\nfact in common/deploy-steps.j2:\nenable_internal_tls: {get_param: EnableInternalTLS}\n\nSo when the service uses the enable_internal_tls condition and it points\nto the EnableInternalTLS param, we can just use the ansible fact\ndirectly. Note that if the enable_internal_tls condition points to\nsomething else than the mere EnableInternalTLS we may not do this\ncleanup.\n\nChange-Id: Idb07cbc8fc3a4d73ff52c54d869310fd6c49b502\n'}, {'number': 11, 'created': '2021-03-27 12:43:22.000000000', 'files': ['deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'deployment/database/redis-container-puppet.yaml', 'deployment/database/mysql-base.yaml', 'deployment/ceph-ansible/ceph-rgw.yaml', 'deployment/ceph-ansible/ceph-grafana.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml', 'deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/metrics/qdr-container-puppet.yaml', 'deployment/apache/apache-baremetal-puppet.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5e4c17acfb12a050f03bf7e67147b2db05544e89', 'message': 'Simplify internal_tls_enabled conditions\n\nWe do not need to add an if: internal_tls_enabled in a number of\nansible tasks. enabled_internal_tls is already defined as an ansible\nfact in common/deploy-steps.j2:\nenable_internal_tls: {get_param: EnableInternalTLS}\n\nSo when the service uses the enable_internal_tls condition and it points\nto the EnableInternalTLS param, we can just use the ansible fact\ndirectly. Note that if the enable_internal_tls condition points to\nsomething else than the mere EnableInternalTLS we may not do this\ncleanup.\n\nChange-Id: Idb07cbc8fc3a4d73ff52c54d869310fd6c49b502\n'}]",0,780934,5e4c17acfb12a050f03bf7e67147b2db05544e89,52,7,11,20172,,,0,"Simplify internal_tls_enabled conditions

We do not need to add an if: internal_tls_enabled in a number of
ansible tasks. enabled_internal_tls is already defined as an ansible
fact in common/deploy-steps.j2:
enable_internal_tls: {get_param: EnableInternalTLS}

So when the service uses the enable_internal_tls condition and it points
to the EnableInternalTLS param, we can just use the ansible fact
directly. Note that if the enable_internal_tls condition points to
something else than the mere EnableInternalTLS we may not do this
cleanup.

Change-Id: Idb07cbc8fc3a4d73ff52c54d869310fd6c49b502
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/34/780934/8 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'],1,7c7e2195cb57a2afd1fc0d8c17083164a6ab5e6f,cleanup-tls," - name: Certificate generation when: - step|int == 1 - enabled_internal_tls block: - include_role: name: linux-system-roles.certificate vars: certificate_requests: - name: ovn_dbs dns: str_replace: template: ""{{fqdn_$NETWORK}}"" params: $NETWORK: {get_param: [ServiceNetMap, OvnDbsNetwork]} principal: str_replace: template: ""ovn_controller/{{fqdn_$NETWORK}}@{{idm_realm}}"" params: $NETWORK: {get_param: [ServiceNetMap, OvnDbsNetwork]} key_size: if: - key_size_override_unset - {get_param: CertificateKeySize} - {get_param: OvnDBSCertificateKeySize} ca: ipa"," - if: - internal_tls_enabled - - name: Certificate generation when: step|int == 1 block: - include_role: name: linux-system-roles.certificate vars: certificate_requests: - name: ovn_dbs dns: str_replace: template: ""{{fqdn_$NETWORK}}"" params: $NETWORK: {get_param: [ServiceNetMap, OvnDbsNetwork]} principal: str_replace: template: ""ovn_controller/{{fqdn_$NETWORK}}@{{idm_realm}}"" params: $NETWORK: {get_param: [ServiceNetMap, OvnDbsNetwork]} key_size: if: - key_size_override_unset - {get_param: CertificateKeySize} - {get_param: OvnDBSCertificateKeySize} ca: ipa - []",26,28
openstack%2Fheat~master~I3f0047f053ed82b18951638e896cef94e86f95df,openstack/heat,master,I3f0047f053ed82b18951638e896cef94e86f95df,Add Python3 xena unit tests,MERGED,2021-03-26 15:30:57.000000000,2021-04-03 12:06:56.000000000,2021-04-03 12:03:41.000000000,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-26 15:30:57.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/1ac36e4a7ccf524ece075807b292fcaecc97a6e6', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I3f0047f053ed82b18951638e896cef94e86f95df\n'}]",0,783330,1ac36e4a7ccf524ece075807b292fcaecc97a6e6,15,2,1,22816,,,0,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I3f0047f053ed82b18951638e896cef94e86f95df
",git fetch https://review.opendev.org/openstack/heat refs/changes/30/783330/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1ac36e4a7ccf524ece075807b292fcaecc97a6e6,add-xena-python-jobtemplates, - openstack-python3-xena-jobs - openstack-python3-xena-jobs-arm64, - openstack-python3-wallaby-jobs - openstack-python3-wallaby-jobs-arm64,2,2
openstack%2Fopenstack-ansible~master~I155cec1e687f46800880af48276ba8709bfe59b3,openstack/openstack-ansible,master,I155cec1e687f46800880af48276ba8709bfe59b3,Use ansible_facts[] instead of fact variables in AIO config,MERGED,2021-03-01 13:28:31.000000000,2021-04-03 10:38:00.000000000,2021-04-03 10:36:24.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-03-01 13:28:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6319e6a51882d92e9606b49a14d4adacddcc1ff4', 'message': 'Use ansible_facts[] instead of fact variables in AIO config\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I155cec1e687f46800880af48276ba8709bfe59b3\n'}, {'number': 2, 'created': '2021-03-01 13:55:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/06fec71aa6582941fb71ab20a459832b290c3e7f', 'message': 'Use ansible_facts[] instead of fact variables in AIO config\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I155cec1e687f46800880af48276ba8709bfe59b3\n'}, {'number': 3, 'created': '2021-03-01 17:12:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/19a8c98965dc97b1d560be5ac0e99c9d5d1c1d36', 'message': 'Use ansible_facts[] instead of fact variables in AIO config\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I155cec1e687f46800880af48276ba8709bfe59b3\n'}, {'number': 4, 'created': '2021-03-02 15:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b777cde72d8506cb9843188a56bbaea5b82ddca2', 'message': 'Use ansible_facts[] instead of fact variables in AIO config\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I155cec1e687f46800880af48276ba8709bfe59b3\n'}, {'number': 5, 'created': '2021-03-02 16:24:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/24c2533695681e14dbd093e170ca731e3ba99879', 'message': 'Use ansible_facts[] instead of fact variables in AIO config\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I155cec1e687f46800880af48276ba8709bfe59b3\n'}, {'number': 6, 'created': '2021-03-03 09:13:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d8bd95ca973d134e501b993441ebd0f8b2ecf4b7', 'message': 'Use ansible_facts[] instead of fact variables in AIO config\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I155cec1e687f46800880af48276ba8709bfe59b3\n'}, {'number': 7, 'created': '2021-03-03 09:39:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/419cb34bf8a0fb251ee9d029df84dd3dd6bc5b6b', 'message': 'Use ansible_facts[] instead of fact variables in AIO config\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I155cec1e687f46800880af48276ba8709bfe59b3\n'}, {'number': 8, 'created': '2021-03-03 11:24:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0b8047216fa5a58b0961d2076c8dea61693448b4', 'message': 'Use ansible_facts[] instead of fact variables in AIO config\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I155cec1e687f46800880af48276ba8709bfe59b3\n'}, {'number': 9, 'created': '2021-03-03 15:03:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0f0dba614e1d1c46248db11c421a7c45c2995297', 'message': 'Use ansible_facts[] instead of fact variables in AIO config\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I155cec1e687f46800880af48276ba8709bfe59b3\n'}, {'number': 10, 'created': '2021-03-04 17:00:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/dac01a69d18ea2d8f3b7e15cddc93ff9108e8237', 'message': 'Use ansible_facts[] instead of fact variables in AIO config\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I155cec1e687f46800880af48276ba8709bfe59b3\n'}, {'number': 11, 'created': '2021-03-08 07:46:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d3105035de3d76fba90b1e430a185c01cc08d88f', 'message': 'Use ansible_facts[] instead of fact variables in AIO config\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I155cec1e687f46800880af48276ba8709bfe59b3\n'}, {'number': 12, 'created': '2021-03-23 16:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2565f1d4982f51733fa37531fe7764487121a498', 'message': 'Use ansible_facts[] instead of fact variables in AIO config\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I155cec1e687f46800880af48276ba8709bfe59b3\n'}, {'number': 13, 'created': '2021-03-23 16:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/90e2b0685689e90590099f1ed4cbc2ef309390a9', 'message': 'Use ansible_facts[] instead of fact variables in AIO config\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I155cec1e687f46800880af48276ba8709bfe59b3\n'}, {'number': 14, 'created': '2021-03-27 11:47:44.000000000', 'files': ['etc/openstack_deploy/openstack_user_config.yml.aio.j2', 'etc/openstack_deploy/openstack_user_config.yml.aio-nspawn.j2', 'etc/openstack_deploy/openstack_user_config.yml.aio'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3abb80ec09828bdc2926a594e65410b38b0b614e', 'message': 'Use ansible_facts[] instead of fact variables in AIO config\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I155cec1e687f46800880af48276ba8709bfe59b3\n'}]",0,777999,3abb80ec09828bdc2926a594e65410b38b0b614e,44,3,14,25023,,,0,"Use ansible_facts[] instead of fact variables in AIO config

See https://github.com/ansible/ansible/issues/73654

Change-Id: I155cec1e687f46800880af48276ba8709bfe59b3
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/99/777999/3 && git format-patch -1 --stdout FETCH_HEAD,"['etc/openstack_deploy/openstack_user_config.yml.aio.j2', 'etc/openstack_deploy/openstack_user_config.yml.aio-nspawn.j2', 'etc/openstack_deploy/openstack_user_config.yml.aio']",3,6319e6a51882d92e9606b49a14d4adacddcc1ff4,osa-facts," external_lb_vip_address: ""{{ bootstrap_host_public_address | default(ansible_facts['default_ipv4']['address']) }}"""," external_lb_vip_address: ""{{ bootstrap_host_public_address | default(ansible_default_ipv4.address) }}""",12,12
openstack%2Frequirements~stable%2Fvictoria~If6a423c3e567f6c87e40c69423242611c8cd179b,openstack/requirements,stable/victoria,If6a423c3e567f6c87e40c69423242611c8cd179b,pin importlib-metadata for openstack-ansible CI jobs,MERGED,2021-03-29 16:49:54.000000000,2021-04-03 09:44:33.000000000,2021-04-03 09:44:33.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-03-29 16:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/27330d8083658e9b14bdc215be7372fd9a1826ca', 'message': 'pin importlib-metadata for openstack-ansible CI jobs\n\nChange-Id: If6a423c3e567f6c87e40c69423242611c8cd179b\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 2, 'created': '2021-03-31 15:57:42.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/db1e0df5479216101b4501523757df520c89a154', 'message': 'pin importlib-metadata for openstack-ansible CI jobs\n\nChange-Id: If6a423c3e567f6c87e40c69423242611c8cd179b\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",3,783715,db1e0df5479216101b4501523757df520c89a154,21,3,2,14288,,,0,"pin importlib-metadata for openstack-ansible CI jobs

Change-Id: If6a423c3e567f6c87e40c69423242611c8cd179b
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/15/783715/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,27330d8083658e9b14bdc215be7372fd9a1826ca,victoria-importlib-metadata-3.7,importlib-metadata===1.7.0;python_version=='3.7',,1,0
openstack%2Fironic~master~Ieb452149730510b001c4712bbb2e0f28acfc3c2e,openstack/ironic,master,Ieb452149730510b001c4712bbb2e0f28acfc3c2e,Add agent_status and agent_status_message params to heartbeat,MERGED,2021-03-01 19:52:17.000000000,2021-04-03 09:31:04.000000000,2021-04-01 07:09:33.000000000,"[{'_account_id': 6618}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-03-01 19:52:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0a1ade0f51b88163a9ccc7551c6e51d379d6cb31', 'message': ""Add agent_state and agent_status params to heartbeat\n\nagent_state is used by anaconda ramdisk to inform the\nconductor about state of the deployment. Valid agent\nstates are 'start', 'end' and 'error'. The agent_status\nis used to describe the why the agent_state is set to a\nparticular state.\n\nWhen anaconda finishes deployment the agent_state is\nset to 'end'. When anaconda ramdisk is unable to deploy\nthe  OS for some reason the agent_state is set to 'error'.\n\nPXEAnacondaDeploy is implemented to handle the 'anaconda'\ndeploy interface. PXEAnacondaDeploy ties to together pieces\nneeded to deploy a node using anaconda ramdisk.\n\nChange-Id: Ieb452149730510b001c4712bbb2e0f28acfc3c2e\n""}, {'number': 2, 'created': '2021-03-02 08:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0e46f82f39f39d6aa723a85b766a795b456d98bc', 'message': ""Add agent_state and agent_status params to heartbeat\n\nagent_state is used by anaconda ramdisk to inform the\nconductor about state of the deployment. Valid agent\nstates are 'start', 'end' and 'error'. The agent_status\nis used to describe the why the agent_state is set to a\nparticular state.\n\nWhen anaconda finishes deployment the agent_state is\nset to 'end'. When anaconda ramdisk is unable to deploy\nthe  OS for some reason the agent_state is set to 'error'.\n\nPXEAnacondaDeploy is implemented to handle the 'anaconda'\ndeploy interface. PXEAnacondaDeploy ties to together pieces\nneeded to deploy a node using anaconda ramdisk.\n\nChange-Id: Ieb452149730510b001c4712bbb2e0f28acfc3c2e\n""}, {'number': 3, 'created': '2021-03-19 00:23:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7cb5b3896547688ff3aff027b19f7abcc2a6be56', 'message': ""Add agent_state and agent_status params to heartbeat\n\nagent_state is used by anaconda ramdisk to inform the\nconductor about state of the deployment. Valid agent\nstates are 'start', 'end' and 'error'. The agent_status\nis used to describe the why the agent_state is set to a\nparticular state.\n\nWhen anaconda finishes deployment the agent_state is\nset to 'end'. When anaconda ramdisk is unable to deploy\nthe  OS for some reason the agent_state is set to 'error'.\n\nPXEAnacondaDeploy is implemented to handle the 'anaconda'\ndeploy interface. PXEAnacondaDeploy ties to together pieces\nneeded to deploy a node using anaconda ramdisk.\n\nChange-Id: Ieb452149730510b001c4712bbb2e0f28acfc3c2e\n""}, {'number': 4, 'created': '2021-03-19 05:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/946c11008d5e8c5d4dfde07f2ee84d17eba0f215', 'message': ""Add agent_state and agent_status params to heartbeat\n\nagent_state is used by anaconda ramdisk to inform the\nconductor about state of the deployment. Valid agent\nstates are 'start', 'end' and 'error'. The agent_status\nis used to describe the why the agent_state is set to a\nparticular state.\n\nWhen anaconda finishes deployment the agent_state is\nset to 'end'. When anaconda ramdisk is unable to deploy\nthe  OS for some reason the agent_state is set to 'error'.\n\nPXEAnacondaDeploy is implemented to handle the 'anaconda'\ndeploy interface. PXEAnacondaDeploy ties to together pieces\nneeded to deploy a node using anaconda ramdisk.\n\nChange-Id: Ieb452149730510b001c4712bbb2e0f28acfc3c2e\n""}, {'number': 5, 'created': '2021-03-19 16:41:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1309514e37d36c32e77004007096e8b5b556dd8d', 'message': ""Add agent_state and agent_status params to heartbeat\n\nagent_state is used by anaconda ramdisk to inform the\nconductor about state of the deployment. Valid agent\nstates are 'start', 'end' and 'error'. The agent_status\nis used to describe the why the agent_state is set to a\nparticular state.\n\nWhen anaconda finishes deployment the agent_state is\nset to 'end'. When anaconda ramdisk is unable to deploy\nthe  OS for some reason the agent_state is set to 'error'.\n\nPXEAnacondaDeploy is implemented to handle the 'anaconda'\ndeploy interface. PXEAnacondaDeploy ties to together pieces\nneeded to deploy a node using anaconda ramdisk.\n\nChange-Id: Ieb452149730510b001c4712bbb2e0f28acfc3c2e\n""}, {'number': 6, 'created': '2021-03-20 01:17:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/766906c49f4e7df75f5c31f6a76e13bb03fdf364', 'message': ""Add agent_state and agent_status params to heartbeat\n\nagent_state is used by anaconda ramdisk to inform the\nconductor about state of the deployment. Valid agent\nstates are 'start', 'end' and 'error'. The agent_status\nis used to describe the why the agent_state is set to a\nparticular state.\n\nWhen anaconda finishes deployment the agent_state is\nset to 'end'. When anaconda ramdisk is unable to deploy\nthe  OS for some reason the agent_state is set to 'error'.\n\nPXEAnacondaDeploy is implemented to handle the 'anaconda'\ndeploy interface. PXEAnacondaDeploy ties to together pieces\nneeded to deploy a node using anaconda ramdisk.\n\nChange-Id: Ieb452149730510b001c4712bbb2e0f28acfc3c2e\n""}, {'number': 7, 'created': '2021-03-22 18:59:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/018504bea5468928978ff353dee4f2ee3e3be5eb', 'message': ""Add agent_state and agent_status params to heartbeat\n\nagent_state is used by anaconda ramdisk to inform the\nconductor about state of the deployment. Valid agent\nstates are 'start', 'end' and 'error'. The agent_status\nis used to describe the why the agent_state is set to a\nparticular state.\n\nWhen anaconda finishes deployment the agent_state is\nset to 'end'. When anaconda ramdisk is unable to deploy\nthe  OS for some reason the agent_state is set to 'error'.\n\nPXEAnacondaDeploy is implemented to handle the 'anaconda'\ndeploy interface. PXEAnacondaDeploy ties to together pieces\nneeded to deploy a node using anaconda ramdisk.\n\nChange-Id: Ieb452149730510b001c4712bbb2e0f28acfc3c2e\n""}, {'number': 8, 'created': '2021-03-24 04:28:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bbf5e0d93b0379f73fea992fd397765cb9700764', 'message': ""Add agent_state and agent_status params to heartbeat\n\nagent_state is used by anaconda ramdisk to inform the\nconductor about state of the deployment. Valid agent\nstates are 'start', 'end' and 'error'. The agent_status\nis used to describe the why the agent_state is set to a\nparticular state.\n\nWhen anaconda finishes deployment the agent_state is\nset to 'end'. When anaconda ramdisk is unable to deploy\nthe  OS for some reason the agent_state is set to 'error'.\n\nPXEAnacondaDeploy is implemented to handle the 'anaconda'\ndeploy interface. PXEAnacondaDeploy ties to together pieces\nneeded to deploy a node using anaconda ramdisk.\n\nChange-Id: Ieb452149730510b001c4712bbb2e0f28acfc3c2e\n""}, {'number': 9, 'created': '2021-03-24 04:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/64227493e3c82f14aad5b8b4fe799eb7b971a8f0', 'message': ""Add agent_state and agent_status params to heartbeat\n\nagent_state is used by anaconda ramdisk to inform the\nconductor about state of the deployment. Valid agent\nstates are 'start', 'end' and 'error'. The agent_status\nis used to describe the why the agent_state is set to a\nparticular state.\n\nWhen anaconda finishes deployment the agent_state is\nset to 'end'. When anaconda ramdisk is unable to deploy\nthe  OS for some reason the agent_state is set to 'error'.\n\nPXEAnacondaDeploy is implemented to handle the 'anaconda'\ndeploy interface. PXEAnacondaDeploy ties to together pieces\nneeded to deploy a node using anaconda ramdisk.\n\nChange-Id: Ieb452149730510b001c4712bbb2e0f28acfc3c2e\n""}, {'number': 10, 'created': '2021-03-29 09:07:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0d8477b355104608837ce967f3ad56cc573f46d8', 'message': ""Add agent_state and agent_status params to heartbeat\n\nagent_state is used by anaconda ramdisk to inform the\nconductor about state of the deployment. Valid agent\nstates are 'start', 'end' and 'error'. The agent_status\nis used to describe the why the agent_state is set to a\nparticular state.\n\nWhen anaconda finishes deployment the agent_state is\nset to 'end'. When anaconda ramdisk is unable to deploy\nthe  OS for some reason the agent_state is set to 'error'.\n\nPXEAnacondaDeploy is implemented to handle the 'anaconda'\ndeploy interface. PXEAnacondaDeploy ties to together pieces\nneeded to deploy a node using anaconda ramdisk.\n\nChange-Id: Ieb452149730510b001c4712bbb2e0f28acfc3c2e\n""}, {'number': 11, 'created': '2021-03-29 23:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/090aa2c513699132c6c3cf384cc839b47200bb67', 'message': ""Add agent_state and agent_status params to heartbeat\n\nagent_state is used by anaconda ramdisk to inform the\nconductor about state of the deployment. Valid agent\nstates are 'start', 'end' and 'error'. The agent_status\nis used to describe the why the agent_state is set to a\nparticular state.\n\nWhen anaconda finishes deployment the agent_state is\nset to 'end'. When anaconda ramdisk is unable to deploy\nthe  OS for some reason the agent_state is set to 'error'.\n\nPXEAnacondaDeploy is implemented to handle the 'anaconda'\ndeploy interface. PXEAnacondaDeploy ties to together pieces\nneeded to deploy a node using anaconda ramdisk.\n\nChange-Id: Ieb452149730510b001c4712bbb2e0f28acfc3c2e\n""}, {'number': 12, 'created': '2021-03-30 06:08:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/911b05b069a02f55f5a7b32d1889be3d3814fc81', 'message': ""Add agent_state and agent_status params to heartbeat\n\nagent_state is used by anaconda ramdisk to inform the\nconductor about state of the deployment. Valid agent\nstates are 'start', 'end' and 'error'. The agent_status\nis used to describe the why the agent_state is set to a\nparticular state.\n\nWhen anaconda finishes deployment the agent_state is\nset to 'end'. When anaconda ramdisk is unable to deploy\nthe  OS for some reason the agent_state is set to 'error'.\n\nPXEAnacondaDeploy is implemented to handle the 'anaconda'\ndeploy interface. PXEAnacondaDeploy ties to together pieces\nneeded to deploy a node using anaconda ramdisk.\n\nChange-Id: Ieb452149730510b001c4712bbb2e0f28acfc3c2e\n""}, {'number': 13, 'created': '2021-03-30 19:00:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b8b5304e1a83cf43b29fa1b54af6365b8ed1ff0e', 'message': ""Add agent_state and agent_status params to heartbeat\n\nagent_state is used by anaconda ramdisk to inform the\nconductor about state of the deployment. Valid agent\nstates are 'start', 'end' and 'error'. The agent_status\nis used to describe the why the agent_state is set to a\nparticular state.\n\nWhen anaconda finishes deployment the agent_state is\nset to 'end'. When anaconda ramdisk is unable to deploy\nthe  OS for some reason the agent_state is set to 'error'.\n\nPXEAnacondaDeploy is implemented to handle the 'anaconda'\ndeploy interface. PXEAnacondaDeploy ties to together pieces\nneeded to deploy a node using anaconda ramdisk.\n\nChange-Id: Ieb452149730510b001c4712bbb2e0f28acfc3c2e\n""}, {'number': 14, 'created': '2021-03-30 23:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3dda06779353c37e204317ca003ad53e2d8d428d', 'message': ""Add agent_status and agent_status_message params to heartbeat\n\nagent_status is used by anaconda ramdisk to inform the\nconductor about state of the deployment. Valid agent\nstates are 'start', 'end' and 'error'. The agent_status_message\nis used to describe the why the agent_status is set to a\nparticular state.\n\nWhen anaconda finishes deployment the agent_status is\nset to 'end'. When anaconda ramdisk is unable to deploy\nthe  OS for some reason the agent_status is set to 'error'.\n\nPXEAnacondaDeploy is implemented to handle the 'anaconda'\ndeploy interface. PXEAnacondaDeploy ties to together pieces\nneeded to deploy a node using anaconda ramdisk.\n\nChange-Id: Ieb452149730510b001c4712bbb2e0f28acfc3c2e\n""}, {'number': 15, 'created': '2021-03-31 20:49:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c474e13b94c161bc867937987e6038a4c3b87540', 'message': ""Add agent_status and agent_status_message params to heartbeat\n\nagent_status is used by anaconda ramdisk to inform the\nconductor about state of the deployment. Valid agent\nstates are 'start', 'end' and 'error'. The agent_status_message\nis used to describe the why the agent_status is set to a\nparticular state.\n\nWhen anaconda finishes deployment the agent_status is\nset to 'end'. When anaconda ramdisk is unable to deploy\nthe  OS for some reason the agent_status is set to 'error'.\n\nPXEAnacondaDeploy is implemented to handle the 'anaconda'\ndeploy interface. PXEAnacondaDeploy ties to together pieces\nneeded to deploy a node using anaconda ramdisk.\n\nCo-Authored-By: Jay Faulkner <jay@jvf.cc>\nChange-Id: Ieb452149730510b001c4712bbb2e0f28acfc3c2e\n""}, {'number': 16, 'created': '2021-03-31 20:52:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b824025bd79bd5da86c50768202c0b781277d028', 'message': ""Add agent_status and agent_status_message params to heartbeat\n\nagent_status is used by anaconda ramdisk to inform the\nconductor about state of the deployment. Valid agent\nstates are 'start', 'end' and 'error'. The agent_status_message\nis used to describe the why the agent_status is set to a\nparticular state.\n\nWhen anaconda finishes deployment the agent_status is\nset to 'end'. When anaconda ramdisk is unable to deploy\nthe  OS for some reason the agent_status is set to 'error'.\n\nPXEAnacondaDeploy is implemented to handle the 'anaconda'\ndeploy interface. PXEAnacondaDeploy ties to together pieces\nneeded to deploy a node using anaconda ramdisk.\n\nCo-Authored-By: Jay Faulkner <jay@jvf.cc>\nChange-Id: Ieb452149730510b001c4712bbb2e0f28acfc3c2e\n""}, {'number': 17, 'created': '2021-03-31 21:00:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e248a115487d388a1656e44453b0a9f8fd36c446', 'message': ""Add agent_status and agent_status_message params to heartbeat\n\nagent_status is used by anaconda ramdisk to inform the\nconductor about state of the deployment. Valid agent\nstates are 'start', 'end' and 'error'. The agent_status_message\nis used to describe the why the agent_status is set to a\nparticular state.\n\nWhen anaconda finishes deployment the agent_status is\nset to 'end'. When anaconda ramdisk is unable to deploy\nthe  OS for some reason the agent_status is set to 'error'.\n\nPXEAnacondaDeploy is implemented to handle the 'anaconda'\ndeploy interface. PXEAnacondaDeploy ties to together pieces\nneeded to deploy a node using anaconda ramdisk.\n\nCo-Authored-By: Jay Faulkner <jay@jvf.cc>\nChange-Id: Ieb452149730510b001c4712bbb2e0f28acfc3c2e\n""}, {'number': 18, 'created': '2021-03-31 21:21:35.000000000', 'files': ['ironic/tests/unit/api/controllers/v1/test_ramdisk.py', 'ironic/tests/unit/conductor/test_rpcapi.py', 'ironic/drivers/base.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/api/controllers/v1/ramdisk.py', 'releasenotes/notes/anaconda-deploy-interface-c04932f6f469227a.yaml', 'doc/source/contributor/webapi-version-history.rst', 'ironic/conductor/rpcapi.py', 'ironic/conductor/manager.py', 'ironic/api/controllers/v1/versions.py', 'ironic/drivers/modules/agent_base.py', 'ironic/drivers/modules/pxe.py', 'ironic/tests/base.py', 'ironic/tests/unit/drivers/modules/test_pxe.py', 'ironic/drivers/modules/ks.cfg.template', 'ironic/api/controllers/v1/utils.py', 'ironic/common/release_mappings.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/288b8fd88351afcb4cd254a208dc75e18cb20cb9', 'message': ""Add agent_status and agent_status_message params to heartbeat\n\nagent_status is used by anaconda ramdisk to inform the\nconductor about state of the deployment. Valid agent\nstates are 'start', 'end' and 'error'. The agent_status_message\nis used to describe the why the agent_status is set to a\nparticular state. Use of these parameters require API\nversion 1.72 or greater.\n\nWhen anaconda finishes deployment the agent_status is\nset to 'end'. When anaconda ramdisk is unable to deploy\nthe OS for some reason the agent_status is set to 'error'.\n\nPXEAnacondaDeploy is implemented to handle the 'anaconda'\ndeploy interface. PXEAnacondaDeploy ties to together pieces\nneeded to deploy a node using anaconda ramdisk.\n\nCo-Authored-By: Jay Faulkner <jay@jvf.cc>\nChange-Id: Ieb452149730510b001c4712bbb2e0f28acfc3c2e\n""}]",45,778058,288b8fd88351afcb4cd254a208dc75e18cb20cb9,110,6,18,12640,,,0,"Add agent_status and agent_status_message params to heartbeat

agent_status is used by anaconda ramdisk to inform the
conductor about state of the deployment. Valid agent
states are 'start', 'end' and 'error'. The agent_status_message
is used to describe the why the agent_status is set to a
particular state. Use of these parameters require API
version 1.72 or greater.

When anaconda finishes deployment the agent_status is
set to 'end'. When anaconda ramdisk is unable to deploy
the OS for some reason the agent_status is set to 'error'.

PXEAnacondaDeploy is implemented to handle the 'anaconda'
deploy interface. PXEAnacondaDeploy ties to together pieces
needed to deploy a node using anaconda ramdisk.

Co-Authored-By: Jay Faulkner <jay@jvf.cc>
Change-Id: Ieb452149730510b001c4712bbb2e0f28acfc3c2e
",git fetch https://review.opendev.org/openstack/ironic refs/changes/58/778058/16 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/api/controllers/v1/test_ramdisk.py', 'ironic/tests/unit/conductor/test_rpcapi.py', 'ironic/drivers/base.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/api/controllers/v1/ramdisk.py', 'ironic/conductor/rpcapi.py', 'ironic/conductor/manager.py', 'ironic/drivers/modules/agent_base.py', 'ironic/drivers/modules/pxe.py', 'ironic/tests/base.py', 'ironic/tests/unit/drivers/modules/test_pxe.py', 'ironic/common/release_mappings.py']",12,0a1ade0f51b88163a9ccc7551c6e51d379d6cb31,anaconda-deploy-driver," 'rpc': '1.53',"," 'rpc': '1.52',",450,36
openstack%2Ftripleo-common~stable%2Ftrain~I44014883a332c67e9cb9bdd701c717e324e1fc29,openstack/tripleo-common,stable/train,I44014883a332c67e9cb9bdd701c717e324e1fc29,exclude redhat-release from yum update in openstack-base,MERGED,2021-04-02 19:45:31.000000000,2021-04-03 09:11:39.000000000,2021-04-03 09:10:21.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-02 19:45:31.000000000', 'files': ['container-images/tcib/base/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3158d18a1b6b3adbf4a3477c3e590eb01a31c3e0', 'message': 'exclude redhat-release from yum update in openstack-base\n\nRelated to this change I think:\nhttps://git.centos.org/rpms/centos-stream-release/c/ba1b93480d15848e19aa40af070308d6a2a3eb20\n\nRelated-Bug: #1922326\nChange-Id: I44014883a332c67e9cb9bdd701c717e324e1fc29\n(cherry picked from commit 568e40838d8076a997a9a140aa0d1e3bb83a216c)\n(cherry picked from commit e5575a781813cf2a0af0092761a2c437cd06f28d)\n(cherry picked from commit 0f38abccfafd23b86e7b75aca280b59812026f71)\n'}]",0,784611,3158d18a1b6b3adbf4a3477c3e590eb01a31c3e0,14,6,1,9592,,,0,"exclude redhat-release from yum update in openstack-base

Related to this change I think:
https://git.centos.org/rpms/centos-stream-release/c/ba1b93480d15848e19aa40af070308d6a2a3eb20

Related-Bug: #1922326
Change-Id: I44014883a332c67e9cb9bdd701c717e324e1fc29
(cherry picked from commit 568e40838d8076a997a9a140aa0d1e3bb83a216c)
(cherry picked from commit e5575a781813cf2a0af0092761a2c437cd06f28d)
(cherry picked from commit 0f38abccfafd23b86e7b75aca280b59812026f71)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/11/784611/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/base.yaml'],1,3158d18a1b6b3adbf4a3477c3e590eb01a31c3e0,fix_ubi8_update,- run: dnf update --excludepkgs redhat-release -y && dnf clean all && rm -rf /var/cache/dnf,- run: dnf update -y && dnf clean all && rm -rf /var/cache/dnf,1,1
openstack%2Ftripleo-common~master~I44014883a332c67e9cb9bdd701c717e324e1fc29,openstack/tripleo-common,master,I44014883a332c67e9cb9bdd701c717e324e1fc29,exclude redhat-release from yum update in openstack-base,MERGED,2021-04-02 16:37:48.000000000,2021-04-03 05:31:39.000000000,2021-04-03 05:30:37.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-02 16:37:48.000000000', 'files': ['container-images/tcib/base/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/568e40838d8076a997a9a140aa0d1e3bb83a216c', 'message': 'exclude redhat-release from yum update in openstack-base\n\nRelated to this change I think:\nhttps://git.centos.org/rpms/centos-stream-release/c/ba1b93480d15848e19aa40af070308d6a2a3eb20\n\nRelated-Bug: #1922326\nChange-Id: I44014883a332c67e9cb9bdd701c717e324e1fc29\n'}]",0,784601,568e40838d8076a997a9a140aa0d1e3bb83a216c,17,5,1,9592,,,0,"exclude redhat-release from yum update in openstack-base

Related to this change I think:
https://git.centos.org/rpms/centos-stream-release/c/ba1b93480d15848e19aa40af070308d6a2a3eb20

Related-Bug: #1922326
Change-Id: I44014883a332c67e9cb9bdd701c717e324e1fc29
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/01/784601/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/base.yaml'],1,568e40838d8076a997a9a140aa0d1e3bb83a216c,fix_ubi8_update,- run: dnf update --excludepkgs redhat-release -y && dnf clean all && rm -rf /var/cache/dnf,- run: dnf update -y && dnf clean all && rm -rf /var/cache/dnf,1,1
openstack%2Fneutron~stable%2Fwallaby~I820f727d7ff1d35cfa1900e9020c21576873814a,openstack/neutron,stable/wallaby,I820f727d7ff1d35cfa1900e9020c21576873814a,Fix new Network API policy rules,MERGED,2021-04-01 19:22:04.000000000,2021-04-03 03:44:27.000000000,2021-04-03 03:43:01.000000000,"[{'_account_id': 4694}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-01 19:22:04.000000000', 'files': ['neutron/conf/policies/network.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ec268b650f881b4c6eaba827673b5827e9e9fad9', 'message': ""Fix new Network API policy rules\n\nDuring the migration to the new policy rules with common personas, some\nactions like create_network or get_network were defined to be available\nonly for PROJECT_MEMBER persona but wasn't allowed for SYSTEM_ADMIN.\nThat is of course mistake and this patch fixes it.\n\nRelated-blueprint: bp/secure-rbac-roles\nChange-Id: I820f727d7ff1d35cfa1900e9020c21576873814a\n(cherry picked from commit 83a6418d683bf5226819eae5bb5a0054d39564c1)\n""}]",0,784406,ec268b650f881b4c6eaba827673b5827e9e9fad9,10,3,1,11975,,,0,"Fix new Network API policy rules

During the migration to the new policy rules with common personas, some
actions like create_network or get_network were defined to be available
only for PROJECT_MEMBER persona but wasn't allowed for SYSTEM_ADMIN.
That is of course mistake and this patch fixes it.

Related-blueprint: bp/secure-rbac-roles
Change-Id: I820f727d7ff1d35cfa1900e9020c21576873814a
(cherry picked from commit 83a6418d683bf5226819eae5bb5a0054d39564c1)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/06/784406/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/conf/policies/network.py'],1,ec268b650f881b4c6eaba827673b5827e9e9fad9,secure-rbac-stable/wallaby," check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, check_str=base.SYSTEM_OR_PROJECT_READER,"," check_str=base.PROJECT_MEMBER, check_str=base.PROJECT_MEMBER, check_str=base.PROJECT_READER,",3,3
openstack%2Fneutron~stable%2Fwallaby~I65130b299541dd4559e2d758fb4ab9d68c6f2cfa,openstack/neutron,stable/wallaby,I65130b299541dd4559e2d758fb4ab9d68c6f2cfa,Fix create_port new API policy roles,MERGED,2021-04-02 07:33:25.000000000,2021-04-03 02:38:12.000000000,2021-04-03 02:35:48.000000000,"[{'_account_id': 4694}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-02 07:33:25.000000000', 'files': ['neutron/conf/policies/port.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a25b9f74d604b042d5fdbd07be401f375b0b71f3', 'message': 'Fix create_port new API policy roles\n\nSome rules for create port, using new personas policies allowed to\ncreate port PROJECT_MEMBER persona but not SYSTEM_ADMIN. So this patch\nfixes it by adding SYSTEM_ADMIN to that rules too.\n\nRelated-blueprint: bp/secure-rbac-roles\nChange-Id: I65130b299541dd4559e2d758fb4ab9d68c6f2cfa\n(cherry picked from commit 2bc1572740d9eb6cff8c8d893c5a24ab10ed37b0)\n'}]",0,784412,a25b9f74d604b042d5fdbd07be401f375b0b71f3,10,3,1,11975,,,0,"Fix create_port new API policy roles

Some rules for create port, using new personas policies allowed to
create port PROJECT_MEMBER persona but not SYSTEM_ADMIN. So this patch
fixes it by adding SYSTEM_ADMIN to that rules too.

Related-blueprint: bp/secure-rbac-roles
Change-Id: I65130b299541dd4559e2d758fb4ab9d68c6f2cfa
(cherry picked from commit 2bc1572740d9eb6cff8c8d893c5a24ab10ed37b0)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/12/784412/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/conf/policies/port.py'],1,a25b9f74d604b042d5fdbd07be401f375b0b71f3,secure-rbac-stable/wallaby," check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER,"," check_str=base.PROJECT_MEMBER, check_str=base.PROJECT_MEMBER,",2,2
openstack%2Fneutron~stable%2Fwallaby~I9f8a9f0ae24683458aa3b5f8e49c6f111ccf815a,openstack/neutron,stable/wallaby,I9f8a9f0ae24683458aa3b5f8e49c6f111ccf815a,Fix API policy rules for new personas,MERGED,2021-04-02 12:52:38.000000000,2021-04-03 02:37:06.000000000,2021-04-03 02:35:41.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-02 12:52:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bdee94bce9ad875f12e81664be99a1adcbb943f6', 'message': 'Fix API policy rules for new personas\n\nDuring migration to the new personas in the API policies, we made few\nmistakes and allowed creation of some resources just for PROJECT_MEMBER\nrole. It should also be possible for the SYSTEM_ADMIN persona and that\npatch fixes it by adding SYSTEM_ADMIN persona to the default rules where\nit was missing.\n\nRelated-blueprint: bp/secure-rbac-roles\nChange-Id: I9f8a9f0ae24683458aa3b5f8e49c6f111ccf815a\n(cherry picked from commit cabf19a984a575d14cc4cde0312807e859765aa8)\n'}, {'number': 2, 'created': '2021-04-02 14:34:50.000000000', 'files': ['neutron/conf/policies/subnetpool.py', 'neutron/conf/policies/router.py', 'neutron/conf/policies/rbac.py', 'neutron/conf/policies/trunk.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/15fee2f573c330e4e533ff3841cb008afaba299f', 'message': 'Fix API policy rules for new personas\n\nDuring migration to the new personas in the API policies, we made few\nmistakes and allowed creation of some resources just for PROJECT_MEMBER\nrole. It should also be possible for the SYSTEM_ADMIN persona and that\npatch fixes it by adding SYSTEM_ADMIN persona to the default rules where\nit was missing.\n\nRelated-blueprint: bp/secure-rbac-roles\nChange-Id: I9f8a9f0ae24683458aa3b5f8e49c6f111ccf815a\n(cherry picked from commit cabf19a984a575d14cc4cde0312807e859765aa8)\n'}]",0,784576,15fee2f573c330e4e533ff3841cb008afaba299f,21,3,2,21798,,,0,"Fix API policy rules for new personas

During migration to the new personas in the API policies, we made few
mistakes and allowed creation of some resources just for PROJECT_MEMBER
role. It should also be possible for the SYSTEM_ADMIN persona and that
patch fixes it by adding SYSTEM_ADMIN persona to the default rules where
it was missing.

Related-blueprint: bp/secure-rbac-roles
Change-Id: I9f8a9f0ae24683458aa3b5f8e49c6f111ccf815a
(cherry picked from commit cabf19a984a575d14cc4cde0312807e859765aa8)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/76/784576/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/conf/policies/subnetpool.py', 'neutron/conf/policies/rbac.py', 'neutron/conf/policies/router.py', 'neutron/conf/policies/trunk.py']",4,bdee94bce9ad875f12e81664be99a1adcbb943f6,secure-rbac-stable/wallaby," check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER,"," check_str=base.PROJECT_MEMBER,",4,4
openstack%2Fopenstack-helm~master~Iee5a173608a39ee351b41719208b934a4b8f3604,openstack/openstack-helm,master,Iee5a173608a39ee351b41719208b934a4b8f3604,Imported Translations from Zanata,MERGED,2021-04-02 07:44:12.000000000,2021-04-03 01:19:24.000000000,2021-04-03 01:18:13.000000000,"[{'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-02 07:44:12.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/34c3cd4adf8bdfcc7f960620f667e1f43f4bb9b2', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Iee5a173608a39ee351b41719208b934a4b8f3604\n'}]",0,784542,34c3cd4adf8bdfcc7f960620f667e1f43f4bb9b2,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Iee5a173608a39ee351b41719208b934a4b8f3604
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/42/784542/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,34c3cd4adf8bdfcc7f960620f667e1f43f4bb9b2,zanata/translations,"""POT-Creation-Date: 2021-03-30 22:31+0000\n""""PO-Revision-Date: 2021-04-01 09:01+0000\n""msgid ""0.1.0-1943"" msgstr ""0.1.0-1943""msgid ""0.1.11 Added the helm.sh/hook, helm.sh/hook-weight annotations"" msgstr ""0.1.11 Added the helm.sh/hook, helm.sh/hook-weight annotations"" msgid ""0.1.2 Added post-install and post-upgrade helm hook for Jobs"" msgstr ""0.1.2 Added post-install and post-upgrade helm hook for Jobs"" msgid ""0.1.2 Added post-install and post-upgrade helm hook for jobs"" msgstr ""0.1.2 Added post-install and post-upgrade helm hook for jobs"" msgid ""0.1.2 Added post-install and post-upgrade helm hooks on Jobs"" msgstr ""0.1.2 Added post-install and post-upgrade helm hooks on Jobs"" msgid ""0.1.2 Added post-install and post-upgrade helm.sh/hook for jobs"" msgstr ""0.1.2 Added post-install and post-upgrade helm.sh/hook for jobs"" msgid ""0.1.2 Added post-install and post-upgrade hook for Jobs"" msgstr ""0.1.2 Added post-install and post-upgrade hook for Jobs"" msgid ""0.1.7 Update glance default policy values"" msgstr ""0.1.7 Update glance default policy values"" msgid ""0.1.7 Update storage init script with cacert"" msgstr ""0.1.7 Update storage init script with cacert"" msgid ""0.1.8 Update glance default policy values"" msgstr ""0.1.8 Update glance default policy values"" ","""POT-Creation-Date: 2021-03-21 09:38+0000\n""""PO-Revision-Date: 2021-03-21 09:39+0000\n""msgid ""0.1.0-1929"" msgstr ""0.1.0-1929""",31,4
openstack%2Fcharm-mysql-innodb-cluster~master~I7b0b40254c87e55370ad354d9ea4980d881e28ff,openstack/charm-mysql-innodb-cluster,master,I7b0b40254c87e55370ad354d9ea4980d881e28ff,Coordinated delayed action,MERGED,2021-04-01 20:50:53.000000000,2021-04-02 20:56:04.000000000,2021-04-02 20:56:04.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-01 20:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/08d25b23866d56e44eae4866617e67636be6b6d6', 'message': 'Coordinated delayed action\n\nPrior to this change, when the mysql-innodb-cluster charm received its\ncertificates from vault it would update its clients and subsequently\nbegin a rolling restart. This led to race condition failures on the\nclient side.\n\nInherit the BaseCoordinator and create the DelayedActionCoordinator in\norder to delay db_router client updates until after rolling restarts\nhave completed.\n\nCloses-Bug: #1918953\nChange-Id: I7b0b40254c87e55370ad354d9ea4980d881e28ff\n'}, {'number': 2, 'created': '2021-04-01 22:33:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/5fda57063b90008ae9b9df1115a5c4cd5d0a6024', 'message': 'Coordinated delayed action\n\nPrior to this change, when the mysql-innodb-cluster charm received its\ncertificates from vault it would update its clients and subsequently\nbegin a rolling restart. This led to race condition failures on the\nclient side.\n\nInherit the BaseCoordinator and create the DelayedActionCoordinator in\norder to delay db_router client updates until after rolling restarts\nhave completed.\n\nCloses-Bug: #1918953\nChange-Id: I7b0b40254c87e55370ad354d9ea4980d881e28ff\n'}, {'number': 3, 'created': '2021-04-01 23:44:48.000000000', 'files': ['src/lib/charm/openstack/delayed_action_coordinator.py', 'src/lib/charm/openstack/mysql_innodb_cluster.py', 'unit_tests/test_mysql_innodb_cluster_handlers.py', 'src/reactive/mysql_innodb_cluster_handlers.py', 'src/layer.yaml'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/45b358103ee205860ca95e6f4a3c592c897df317', 'message': 'Coordinated delayed action\n\nPrior to this change, when the mysql-innodb-cluster charm received its\ncertificates from vault it would update its clients and subsequently\nbegin a rolling restart. This led to race condition failures on the\nclient side.\n\nInherit the BaseCoordinator and create the DelayedActionCoordinator in\norder to delay db_router client updates until after rolling restarts\nhave completed.\n\nCloses-Bug: #1918953\nChange-Id: I7b0b40254c87e55370ad354d9ea4980d881e28ff\n'}]",1,784483,45b358103ee205860ca95e6f4a3c592c897df317,18,3,3,20805,,,0,"Coordinated delayed action

Prior to this change, when the mysql-innodb-cluster charm received its
certificates from vault it would update its clients and subsequently
begin a rolling restart. This led to race condition failures on the
client side.

Inherit the BaseCoordinator and create the DelayedActionCoordinator in
order to delay db_router client updates until after rolling restarts
have completed.

Closes-Bug: #1918953
Change-Id: I7b0b40254c87e55370ad354d9ea4980d881e28ff
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/83/784483/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/lib/charm/openstack/delayed_action_coordinator.py', 'unit_tests/__init__.py', 'src/lib/charm/openstack/mysql_innodb_cluster.py', 'unit_tests/test_mysql_innodb_cluster_handlers.py', 'src/reactive/mysql_innodb_cluster_handlers.py', 'src/layer.yaml']",6,08d25b23866d56e44eae4866617e67636be6b6d6,bug/1918953, coordinator: class: charm.openstack.delayed_action_coordinator.DelayedActionCoordinator ,,294,13
openstack%2Fkayobe~master~Ibbb1fdcad4034620ff8fbfe184d803bcc86f53f9,openstack/kayobe,master,Ibbb1fdcad4034620ff8fbfe184d803bcc86f53f9,Exit when environment clashes are detected,MERGED,2021-03-25 21:42:42.000000000,2021-04-02 20:27:58.000000000,2021-04-02 20:26:43.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2021-03-25 21:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/838ef6a9a544fb5c41c302ba9ce4babd99ec1b2d', 'message': 'Exit when environment clashes are detected\n\nWhen running kolla-ansible using a Kayobe environment, write the\nenvironment name to $KOLLA_CONFIG_PATH/.environment. In later\nexecutions, check that the environment name is the same. Warn user to\nclean up $KOLLA_CONFIG_PATH otherwise.\n\nChange-Id: Ibbb1fdcad4034620ff8fbfe184d803bcc86f53f9\n'}, {'number': 2, 'created': '2021-03-26 08:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a478a40859c9084aba3bc9b0dfe123cacd2fc354', 'message': '[DNM] Exit when environment clashes are detected\n\nWhen running kolla-ansible using a Kayobe environment, write the\nenvironment name to $KOLLA_CONFIG_PATH/.environment. In later\nexecutions, check that the environment name is the same. Warn user to\nclean up $KOLLA_CONFIG_PATH otherwise.\n\nChange-Id: Ibbb1fdcad4034620ff8fbfe184d803bcc86f53f9\n'}, {'number': 3, 'created': '2021-03-26 08:34:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7bcea5edc6e57dd82b386126821cf6f6001d95aa', 'message': 'Exit when environment clashes are detected\n\nWhen running kolla-ansible using a Kayobe environment, write the\nenvironment name to $KOLLA_CONFIG_PATH/.environment. In later\nexecutions, check that the environment name is the same. Warn user to\nclean up $KOLLA_CONFIG_PATH otherwise.\n\nChange-Id: Ibbb1fdcad4034620ff8fbfe184d803bcc86f53f9\n'}, {'number': 4, 'created': '2021-03-31 14:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/6317628c85990d40b3e0eed02847be3fd98d1ce3', 'message': 'Exit when environment clashes are detected\n\nWhen running kolla-ansible using a Kayobe environment, write the\nenvironment name to $KOLLA_CONFIG_PATH/.environment. In later\nexecutions, check that the environment name is the same. Warn user to\nclean up $KOLLA_CONFIG_PATH otherwise.\n\nChange-Id: Ibbb1fdcad4034620ff8fbfe184d803bcc86f53f9\nStory: 2002009\nTask: 42185\n'}, {'number': 5, 'created': '2021-03-31 15:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3cfe43cd9da318694e47cde2955df3dd5580e686', 'message': 'Exit when environment clashes are detected\n\nWhen running kolla-ansible using a Kayobe environment, write the\nenvironment name to $KOLLA_CONFIG_PATH/.environment. In later\nexecutions, check that the environment name is the same. Warn user to\nclean up $KOLLA_CONFIG_PATH otherwise.\n\nChange-Id: Ibbb1fdcad4034620ff8fbfe184d803bcc86f53f9\nStory: 2002009\nTask: 42185\n'}, {'number': 6, 'created': '2021-04-02 13:05:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e20bf7b21f944e912ee838b3c3868a04b103bc1d', 'message': 'Exit when environment clashes are detected\n\nWhen running kolla-ansible using a Kayobe environment, write the\nenvironment name to $KOLLA_CONFIG_PATH/.environment. In later\nexecutions, check that the environment name is the same. Warn user to\nclean up $KOLLA_CONFIG_PATH otherwise.\n\nChange-Id: Ibbb1fdcad4034620ff8fbfe184d803bcc86f53f9\nStory: 2002009\nTask: 42185\n'}, {'number': 7, 'created': '2021-04-02 13:07:08.000000000', 'files': ['ansible/roles/kolla-ansible/tasks/config.yml', 'ansible/kolla-ansible.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/18a25fdb0580f0d68c93b2c63de99554034e19a7', 'message': 'Exit when environment clashes are detected\n\nWhen running kolla-ansible using a Kayobe environment, write the\nenvironment name to $KOLLA_CONFIG_PATH/.environment. In later\nexecutions, check that the environment name is the same. Warn user to\nclean up $KOLLA_CONFIG_PATH otherwise.\n\nChange-Id: Ibbb1fdcad4034620ff8fbfe184d803bcc86f53f9\nStory: 2002009\nTask: 42185\n'}]",6,783114,18a25fdb0580f0d68c93b2c63de99554034e19a7,25,3,7,15197,,,0,"Exit when environment clashes are detected

When running kolla-ansible using a Kayobe environment, write the
environment name to $KOLLA_CONFIG_PATH/.environment. In later
executions, check that the environment name is the same. Warn user to
clean up $KOLLA_CONFIG_PATH otherwise.

Change-Id: Ibbb1fdcad4034620ff8fbfe184d803bcc86f53f9
Story: 2002009
Task: 42185
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/14/783114/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kolla-ansible/tasks/config.yml', 'ansible/kolla-ansible.yml']",2,838ef6a9a544fb5c41c302ba9ce4babd99ec1b2d,multiple-environments," - name: Look for environment file in Kolla configuration path stat: path: ""{{ kolla_config_path ~ '/.environment' }}"" get_checksum: False get_md5: False mime: False register: kolla_environment_file tags: - config - name: Check whether Kolla configuration path has been used by another environment block: - name: Read the environment file from Kolla configuration path set_fact: kolla_environment: ""{{ lookup('file', kolla_config_path ~ '/.environment') }}"" - name: Flag that the Kolla configuration path has been used by another environment fail: msg: > The Kolla configuration path at {{ kolla_config_path }} was already used by environment {{ kolla_environment }}. You should clean up this directory, including the environment file located at {{ kolla_config_path ~ '/.environment' }}, before running Kayobe again. when: kolla_environment != kayobe_environment when: kolla_environment_file.stat.exists tags: - config ",,35,0
openstack%2Fkolla~master~I85a505ca028878cb748e850613d07f89e240f2fc,openstack/kolla,master,I85a505ca028878cb748e850613d07f89e240f2fc,Skip existing unmatched parent,ABANDONED,2019-12-07 10:51:10.000000000,2021-04-02 19:13:59.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-07 10:51:10.000000000', 'files': ['kolla/image/build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/1b87b12e045c036b3f7c331a13e01a5040a5e287', 'message': 'Skip existing unmatched parent\n\nSee bug: #1810979\nReleated Change: I6b6897d20626825bcd235b9a85859644effbd222\n\nThe change is fine, but when the parent is skipped, and unmatched,\nwhich is a common case, filter_images change all other status to unmatched.\nwe should keep the skipped status.\n\nChange-Id: I85a505ca028878cb748e850613d07f89e240f2fc\nCloses-Bug: #1810979\n'}]",0,697831,1b87b12e045c036b3f7c331a13e01a5040a5e287,6,3,1,23831,,,0,"Skip existing unmatched parent

See bug: #1810979
Releated Change: I6b6897d20626825bcd235b9a85859644effbd222

The change is fine, but when the parent is skipped, and unmatched,
which is a common case, filter_images change all other status to unmatched.
we should keep the skipped status.

Change-Id: I85a505ca028878cb748e850613d07f89e240f2fc
Closes-Bug: #1810979
",git fetch https://review.opendev.org/openstack/kolla refs/changes/31/697831/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/image/build.py'],1,1b87b12e045c036b3f7c331a13e01a5040a5e287,bug/1810979, # See: https://bugs.launchpad.net/kolla/+bug/1810979 if image.status != STATUS_SKIPPED: image.status = STATUS_UNMATCHED, # we do not care if it is skipped or not as we did not # request it image.status = STATUS_UNMATCHED,3,3
openstack%2Fcharm-interface-ceph-rbd-mirror~master~If1538eb645577653cada770211fd445b76284fd3,openstack/charm-interface-ceph-rbd-mirror,master,If1538eb645577653cada770211fd445b76284fd3,Handle AddrFormatError when CIDR can't be found,MERGED,2021-04-01 18:10:54.000000000,2021-04-02 18:12:38.000000000,2021-04-02 18:12:38.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-01 18:10:54.000000000', 'files': ['requires.py', 'unit_tests/test_requires.py'], 'web_link': 'https://opendev.org/openstack/charm-interface-ceph-rbd-mirror/commit/1bb6e20b349e4573ba47863003382fa5375ce6e9', 'message': ""Handle AddrFormatError when CIDR can't be found\n\nThe network space for the cluster space or the public space may have\naddresses in a different subnet than the one that is currently assigned\nto the unit. In this case, the attempt to look up the netmask results in\na value of None, which in turn causes charmhelpers to raise an\nAddrFormatError when attempting to determine the CIDR.\n\nHandle this case within the interface and return None for the respective\nCIDR. This may cause some issues where the public or cluster CIDRs are\nnot resolvable, however the charm interface already expects to provide\nNone if the CIDR cannot be determined.\n\nA better, however more invasive, change would be to change out the calls\nin the ceph-mon charm to use the network_get calls rather than\nnetwork_get_primary_address. Per the documentation for the network\nprimitives, it appears that the cidr can still be empty and is likely to\nstill lead to the inability to resolve the CIDR locally.\n\nThis change will primarily focus on handling the inability to resolve a\nCIDR locally, postponing the network_get transformation this late in the\ncycle.\n\nCloses-Bug: #1898299\nChange-Id: If1538eb645577653cada770211fd445b76284fd3\n""}]",0,784456,1bb6e20b349e4573ba47863003382fa5375ce6e9,8,3,1,8992,,,0,"Handle AddrFormatError when CIDR can't be found

The network space for the cluster space or the public space may have
addresses in a different subnet than the one that is currently assigned
to the unit. In this case, the attempt to look up the netmask results in
a value of None, which in turn causes charmhelpers to raise an
AddrFormatError when attempting to determine the CIDR.

Handle this case within the interface and return None for the respective
CIDR. This may cause some issues where the public or cluster CIDRs are
not resolvable, however the charm interface already expects to provide
None if the CIDR cannot be determined.

A better, however more invasive, change would be to change out the calls
in the ceph-mon charm to use the network_get calls rather than
network_get_primary_address. Per the documentation for the network
primitives, it appears that the cidr can still be empty and is likely to
still lead to the inability to resolve the CIDR locally.

This change will primarily focus on handling the inability to resolve a
CIDR locally, postponing the network_get transformation this late in the
cycle.

Closes-Bug: #1898299
Change-Id: If1538eb645577653cada770211fd445b76284fd3
",git fetch https://review.opendev.org/openstack/charm-interface-ceph-rbd-mirror refs/changes/56/784456/1 && git format-patch -1 --stdout FETCH_HEAD,"['requires.py', 'unit_tests/test_requires.py']",2,1bb6e20b349e4573ba47863003382fa5375ce6e9,bug/1898299,"from netaddr.core import AddrFormatError # Test no netmask condition self.resolve_network_cidr.side_effect = AddrFormatError() self.assertEqual(self.requires_class.public_network, None) # Test no netmask condition self.resolve_network_cidr.side_effect = AddrFormatError() self.assertEqual(self.requires_class.cluster_network, None) ",,26,2
openstack%2Fironic~master~I7f5b7323b108b303b5b77609d5903128d4adca3c,openstack/ironic,master,I7f5b7323b108b303b5b77609d5903128d4adca3c,Fix Bandit check,MERGED,2021-03-29 21:44:38.000000000,2021-04-02 18:03:40.000000000,2021-03-31 18:41:42.000000000,"[{'_account_id': 4571}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-29 21:44:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d25cf60aeb77cde526cd98ef74c71cbc383515f4', 'message': ""Fix Bandit check\n\nBandit has started to fail on master.\n\n >> Issue: [B701:jinja2_autoescape_false] Using jinja2 templates with autoescape=False is dangerous and can lead to XSS. Ensure autoescape=True or use the select_autoescape function to mitigate XSS vulnerabilities.\n    Severity: High   Confidence: Medium\n    Location: ironic/common/utils.py:491\n    More Info: https://bandit.readthedocs.io/en/latest/plugins/b701_jinja2_autoescape_false.html\n 489\t    # NOTE(pas-ha) not using default_for_string=False as we set the name\n 490\t    # of the template above for strings too.\n 491\t    env = jinja2.Environment(\n 492\t        loader=loader,\n 493\t        autoescape=jinja2.select_autoescape(),\n 494\t        undefined=jinja2.StrictUndefined if strict else jinja2.Undefined\n 495\t    )\n\nIt appears that Arun changed this around a little in\nhttps://review.opendev.org/c/openstack/ironic/+/777448/10/ironic/common/utils.py\nhowever this doesn't seem to pass reliably. As such, I'm returning\nthe notation of the label to the first line as it was before, which\nseems to consistently pass bandit checking.\n\nChange-Id: I7f5b7323b108b303b5b77609d5903128d4adca3c\n""}, {'number': 2, 'created': '2021-03-29 21:46:05.000000000', 'files': ['ironic/common/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/4afbf7479829a464728555cda077979c0a7efb2b', 'message': ""Fix Bandit check\n\nBandit has started to fail on master.\n\n >> Issue: [B701:jinja2_autoescape_false] Using jinja2 templates with autoescape=False is dangerous and can lead to XSS. Ensure autoescape=True or use the select_autoescape function to mitigate XSS vulnerabilities.\n    Severity: High   Confidence: Medium\n    Location: ironic/common/utils.py:491\n    More Info: https://bandit.readthedocs.io/en/latest/plugins/b701_jinja2_autoescape_false.html\n 489\t    # NOTE(pas-ha) not using default_for_string=False as we set the name\n 490\t    # of the template above for strings too.\n 491\t    env = jinja2.Environment(\n 492\t        loader=loader,\n 493\t        autoescape=jinja2.select_autoescape(),\n 494\t        undefined=jinja2.StrictUndefined if strict else jinja2.Undefined\n 495\t    )\n\nIt appears that Arun changed this around a little in\nhttps://review.opendev.org/c/openstack/ironic/+/777448/10/ironic/common/utils.py\nhowever this doesn't seem to pass reliably. As such, I'm returning\nthe notation of the label to the first line as it was before, which\nseems to consistently pass bandit checking.\n\nChange-Id: I7f5b7323b108b303b5b77609d5903128d4adca3c\n""}]",0,783749,4afbf7479829a464728555cda077979c0a7efb2b,27,3,2,11655,,,0,"Fix Bandit check

Bandit has started to fail on master.

 >> Issue: [B701:jinja2_autoescape_false] Using jinja2 templates with autoescape=False is dangerous and can lead to XSS. Ensure autoescape=True or use the select_autoescape function to mitigate XSS vulnerabilities.
    Severity: High   Confidence: Medium
    Location: ironic/common/utils.py:491
    More Info: https://bandit.readthedocs.io/en/latest/plugins/b701_jinja2_autoescape_false.html
 489	    # NOTE(pas-ha) not using default_for_string=False as we set the name
 490	    # of the template above for strings too.
 491	    env = jinja2.Environment(
 492	        loader=loader,
 493	        autoescape=jinja2.select_autoescape(),
 494	        undefined=jinja2.StrictUndefined if strict else jinja2.Undefined
 495	    )

It appears that Arun changed this around a little in
https://review.opendev.org/c/openstack/ironic/+/777448/10/ironic/common/utils.py
however this doesn't seem to pass reliably. As such, I'm returning
the notation of the label to the first line as it was before, which
seems to consistently pass bandit checking.

Change-Id: I7f5b7323b108b303b5b77609d5903128d4adca3c
",git fetch https://review.opendev.org/openstack/ironic refs/changes/49/783749/2 && git format-patch -1 --stdout FETCH_HEAD,['ironic/common/utils.py'],1,d25cf60aeb77cde526cd98ef74c71cbc383515f4,," env = jinja2.Environment( # nosec B701 autoescape=jinja2.select_autoescape(),"," env = jinja2.Environment( autoescape=jinja2.select_autoescape(), # nosec B701",2,2
openstack%2Fopenstack-ansible-os_designate~stable%2Ftrain~Ia3288ccfc655a2814c36204a5cb381d3aa57e53e,openstack/openstack-ansible-os_designate,stable/train,Ia3288ccfc655a2814c36204a5cb381d3aa57e53e,Fix paging link protocol when behind haproxy,MERGED,2021-04-02 09:29:32.000000000,2021-04-02 18:01:14.000000000,2021-04-02 17:59:58.000000000,"[{'_account_id': 21714}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-04-02 09:29:32.000000000', 'files': ['templates/designate.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/add2434a5c7726ff8444b24cf57434cec234b450', 'message': 'Fix paging link protocol when behind haproxy\n\nWhen using the designate public endpoint through haproxy, designate\nis returning a paging link with the incorrect protocol.  This change\nis to make sure designate configurs oslo_middleware to parse the\nX-Forwarded-Proto header set by haproxy.\n\nChange-Id: Ia3288ccfc655a2814c36204a5cb381d3aa57e53e\nCloses-Bug: #1713663\n(cherry picked from commit 7cdb8ea27c017fd056edfea056114b5329f8248a)\n'}]",0,784414,add2434a5c7726ff8444b24cf57434cec234b450,9,4,1,28619,,,0,"Fix paging link protocol when behind haproxy

When using the designate public endpoint through haproxy, designate
is returning a paging link with the incorrect protocol.  This change
is to make sure designate configurs oslo_middleware to parse the
X-Forwarded-Proto header set by haproxy.

Change-Id: Ia3288ccfc655a2814c36204a5cb381d3aa57e53e
Closes-Bug: #1713663
(cherry picked from commit 7cdb8ea27c017fd056edfea056114b5329f8248a)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/14/784414/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/designate.conf.j2'],1,add2434a5c7726ff8444b24cf57434cec234b450,bug/1713663-stable/train,################################# ## Oslo Middleware Configuration ################################# [oslo_middleware] enable_proxy_headers_parsing = true ,,6,0
openstack%2Fmonasca-api~stable%2Fwallaby~I893d21d35239af6361ba824a7bede56bc88efd55,openstack/monasca-api,stable/wallaby,I893d21d35239af6361ba824a7bede56bc88efd55,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-03-26 11:17:44.000000000,2021-04-02 16:56:31.000000000,2021-04-02 16:55:20.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-03-26 11:17:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/8cf465cbd6d470a6a37465d65274e423442d66a0', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I893d21d35239af6361ba824a7bede56bc88efd55\n'}, {'number': 2, 'created': '2021-04-01 10:59:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/cc4fe9d3f3898cba8718173546467aafed6698b5', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I893d21d35239af6361ba824a7bede56bc88efd55\n'}, {'number': 3, 'created': '2021-04-01 12:07:00.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/97510ed021abbdfe06ce4011451b002c75063b23', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I893d21d35239af6361ba824a7bede56bc88efd55\n'}]",0,783272,97510ed021abbdfe06ce4011451b002c75063b23,30,2,3,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I893d21d35239af6361ba824a7bede56bc88efd55
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/72/783272/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8cf465cbd6d470a6a37465d65274e423442d66a0,create-wallaby, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby}deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Foctavia~master~I38a1dd7c4f10717a90d83a568cddf48d0dec2972,openstack/octavia,master,I38a1dd7c4f10717a90d83a568cddf48d0dec2972,DNM: Testing the agent,ABANDONED,2021-04-01 23:01:04.000000000,2021-04-02 16:10:39.000000000,,"[{'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-01 23:01:04.000000000', 'files': ['octavia/amphorae/backends/agent/api_server/loadbalancer.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/ff362d1acf0438a8924d9062c4155bf471352f89', 'message': 'DNM: Testing the agent\n\nChange-Id: I38a1dd7c4f10717a90d83a568cddf48d0dec2972\n'}]",0,784514,ff362d1acf0438a8924d9062c4155bf471352f89,4,2,1,11628,,,0,"DNM: Testing the agent

Change-Id: I38a1dd7c4f10717a90d83a568cddf48d0dec2972
",git fetch https://review.opendev.org/openstack/octavia refs/changes/14/784514/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/amphorae/backends/agent/api_server/loadbalancer.py'],1,ff362d1acf0438a8924d9062c4155bf471352f89,, LOG.error(new_config),,1,0
openstack%2Fopenstack-ansible-openstack_hosts~master~Icbd3350c11bd0698bffc2083215ad51af759d5ef,openstack/openstack-ansible-openstack_hosts,master,Icbd3350c11bd0698bffc2083215ad51af759d5ef,Ability to add extra package manager configuration,MERGED,2021-04-02 12:17:37.000000000,2021-04-02 15:40:30.000000000,2021-04-02 15:39:21.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-04-02 12:17:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/b7464c3bd0b9c9f97d2bd90170ac1ba0895db13e', 'message': ""Ability to add extra package manager configuration\n\nThis change implements openstack_hosts_package_manager_extra_conf variable which allows to add extra content into package manager's configuration(works with apt,yum and dnf).\n\nChange-Id: Icbd3350c11bd0698bffc2083215ad51af759d5ef\n""}, {'number': 2, 'created': '2021-04-02 12:28:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/f9dd9ffcd89d3e3c25f794fa75720ccc7c05da72', 'message': ""Ability to add extra package manager configuration\n\nThis change implements openstack_hosts_package_manager_extra_conf variable which allows to add extra content into package manager's configuration(works with apt,yum and dnf).\n\nChange-Id: Icbd3350c11bd0698bffc2083215ad51af759d5ef\n""}, {'number': 3, 'created': '2021-04-02 12:32:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/6a5db58e2eda6f872f103b69d68a48b16183d693', 'message': ""Ability to add extra package manager configuration\n\nThis change implements openstack_hosts_package_manager_extra_conf variable which allows to add extra content into package manager's configuration(works with apt,yum and dnf).\n\nChange-Id: Icbd3350c11bd0698bffc2083215ad51af759d5ef\n""}, {'number': 4, 'created': '2021-04-02 12:37:03.000000000', 'files': ['releasenotes/notes/ability-to-add-extra-package-manager-configuration-815b7959870479e7.yaml', 'tasks/openstack_hosts_configure_apt.yml', 'tasks/openstack_hosts_configure_dnf.yml', 'defaults/main.yml', 'tasks/openstack_hosts_configure_yum.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/853114ea286163c882faedc6a5ac41369c23cdff', 'message': ""Ability to add extra package manager configuration\n\nThis change implements openstack_hosts_package_manager_extra_conf variable which allows to add extra content into package manager's configuration(works with apt,yum and dnf).\n\nChange-Id: Icbd3350c11bd0698bffc2083215ad51af759d5ef\n""}]",1,784563,853114ea286163c882faedc6a5ac41369c23cdff,13,3,4,32666,,,0,"Ability to add extra package manager configuration

This change implements openstack_hosts_package_manager_extra_conf variable which allows to add extra content into package manager's configuration(works with apt,yum and dnf).

Change-Id: Icbd3350c11bd0698bffc2083215ad51af759d5ef
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/63/784563/4 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/openstack_hosts_configure_apt.yml', 'tasks/openstack_hosts_configure_dnf.yml', 'defaults/main.yml', 'tasks/openstack_hosts_configure_yum.yml']",4,b7464c3bd0b9c9f97d2bd90170ac1ba0895db13e,," - name: Add yum extra conf blockinfile: block: ""{{ openstack_hosts_package_manager_extra_conf }}"" path: /etc/yum.conf marker: ""# {mark} OPENSTACK-ANSIBLE-OPENSTACK_HOSTS MANAGED BLOCK"" create: yes when: - openstack_hosts_package_manager_extra_conf | length > 0",,28,0
openstack%2Fkayobe~master~I50f75f8f8ed200b1c70f834973463c2f7343ed1a,openstack/kayobe,master,I50f75f8f8ed200b1c70f834973463c2f7343ed1a,Add output printing to host-command-run,MERGED,2021-02-18 14:33:45.000000000,2021-04-02 15:34:54.000000000,2021-04-02 15:33:34.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 32657}]","[{'number': 1, 'created': '2021-02-18 14:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7910051682772b0db2ab853cc76a10eaed208684', 'message': 'Add output printing to host-command-run\n\nChange-Id: I50f75f8f8ed200b1c70f834973463c2f7343ed1a\n'}, {'number': 2, 'created': '2021-02-23 17:14:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/335690213d07bc25c907147a5c01b908168c61f7', 'message': 'Add output printing to host-command-run\n\nChange-Id: I50f75f8f8ed200b1c70f834973463c2f7343ed1a\n'}, {'number': 3, 'created': '2021-02-24 09:21:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d5d478b3131357b37f4308a7b9f0cf21f3f654f7', 'message': 'Add output printing to host-command-run\n\nChange-Id: I50f75f8f8ed200b1c70f834973463c2f7343ed1a\n'}, {'number': 4, 'created': '2021-02-24 16:53:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/45a8e1cb9f89983c6a377dab7f96b3e49809386f', 'message': 'Add output printing to host-command-run\n\nChange-Id: I50f75f8f8ed200b1c70f834973463c2f7343ed1a\n'}, {'number': 5, 'created': '2021-03-26 11:33:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/2c141fa94c7bd52365aa93d0c53c96f7eb6991f1', 'message': 'Add output printing to host-command-run\n\nChange-Id: I50f75f8f8ed200b1c70f834973463c2f7343ed1a\n'}, {'number': 6, 'created': '2021-03-29 06:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/22eae7a7b0ba3260909c697c8d373a8e69a2c3ff', 'message': 'Add output printing to host-command-run\n\nChange-Id: I50f75f8f8ed200b1c70f834973463c2f7343ed1a\n'}, {'number': 7, 'created': '2021-03-29 14:55:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f9f33fae2d2725ebdfd9d3a260c552be881b5cc0', 'message': 'Add output printing to host-command-run\n\nChange-Id: I50f75f8f8ed200b1c70f834973463c2f7343ed1a\n'}, {'number': 8, 'created': '2021-03-29 16:53:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5629ae0ef266d87e2fe99b467907d5971aaa7db3', 'message': 'Add output printing to host-command-run\n\nChange-Id: I50f75f8f8ed200b1c70f834973463c2f7343ed1a\n'}, {'number': 9, 'created': '2021-03-30 11:27:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ad2f9781ab1c320830cc865a5428790fcc127e60', 'message': 'Add output printing to host-command-run\n\nChange-Id: I50f75f8f8ed200b1c70f834973463c2f7343ed1a\n'}, {'number': 10, 'created': '2021-03-30 13:27:11.000000000', 'files': ['ansible/host-command-run.yml', 'kayobe/tests/unit/cli/test_commands.py', 'kayobe/cli/commands.py', 'releasenotes/notes/cli-show-output-11a257c87502d5a3.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/847bb8666d4f08e076e789c8cd3d094e49ea03be', 'message': 'Add output printing to host-command-run\n\nChange-Id: I50f75f8f8ed200b1c70f834973463c2f7343ed1a\n'}]",14,776471,847bb8666d4f08e076e789c8cd3d094e49ea03be,40,4,10,22629,,,0,"Add output printing to host-command-run

Change-Id: I50f75f8f8ed200b1c70f834973463c2f7343ed1a
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/71/776471/10 && git format-patch -1 --stdout FETCH_HEAD,['ansible/host-command-run.yml'],1,7910051682772b0db2ab853cc76a10eaed208684,show-output," register: command_output - name: Print output debug: msg: ""{{ command_output.stdout }}""",,4,0
openstack%2Fneutron~master~If76c6ee1734f544abdd4196431351d4328ad26fd,openstack/neutron,master,If76c6ee1734f544abdd4196431351d4328ad26fd,Read keepalived initial state in parallel to interface monitoring,MERGED,2021-03-05 18:29:36.000000000,2021-04-02 15:27:20.000000000,2021-04-02 15:25:03.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-05 18:29:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3fc31c7d07920a0695dc94dcfce4e55e123b007d', 'message': '[WIP] Read keepalived initial state in parallel to interface monitoring\n\nThe initial router state method is now a thread that is executed\nin parallel with the ""ip monitor"" thread. If by any circumstance\nthis thread do not read the interface IP addresses on time, the\nstate of the router will be defined as ""backup"".\n\nRelated-Bug: #1917793\n\nChange-Id: If76c6ee1734f544abdd4196431351d4328ad26fd\n'}, {'number': 2, 'created': '2021-03-06 07:19:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d902cf422171a9b74776f5d6d12d0a1fba930baf', 'message': '[WIP] Read keepalived initial state in parallel to interface monitoring\n\nThe initial router state method is now a thread that is executed\nin parallel with the ""ip monitor"" thread. If by any circumstance\nthis thread do not read the interface IP addresses on time, the\nstate of the router will be defined as ""backup"".\n\nRelated-Bug: #1917793\n\nChange-Id: If76c6ee1734f544abdd4196431351d4328ad26fd\n'}, {'number': 3, 'created': '2021-03-09 08:42:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8a18d84b39f6cfbccd12b24510eba2c178d0d999', 'message': 'Read keepalived initial state in parallel to interface monitoring\n\nThe initial router state method is now a thread that is executed\nin parallel with the ""ip monitor"" thread. If by any circumstance\nthis thread do not read the interface IP addresses on time, the\nstate of the router will be defined as ""backup"".\n\nRelated-Bug: #1917793\n\nChange-Id: If76c6ee1734f544abdd4196431351d4328ad26fd\n'}, {'number': 4, 'created': '2021-03-30 16:47:57.000000000', 'files': ['neutron/tests/functional/agent/l3/test_keepalived_state_change.py', 'neutron/agent/l3/keepalived_state_change.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c1ade52fda59163510dd0959ab72c442d1d07027', 'message': 'Read keepalived initial state in parallel to interface monitoring\n\nThe initial router state method is now a thread that is executed\nin parallel with the ""ip monitor"" thread. If by any circumstance\nthis thread does not read the interface IP addresses on time, the\nstate of the router will be defined as ""backup"".\n\nRelated-Bug: #1917793\n\nChange-Id: If76c6ee1734f544abdd4196431351d4328ad26fd\n'}]",8,779024,c1ade52fda59163510dd0959ab72c442d1d07027,59,5,4,16688,,,0,"Read keepalived initial state in parallel to interface monitoring

The initial router state method is now a thread that is executed
in parallel with the ""ip monitor"" thread. If by any circumstance
this thread does not read the interface IP addresses on time, the
state of the router will be defined as ""backup"".

Related-Bug: #1917793

Change-Id: If76c6ee1734f544abdd4196431351d4328ad26fd
",git fetch https://review.opendev.org/openstack/neutron refs/changes/24/779024/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/l3/test_keepalived_state_change.py', 'neutron/agent/l3/keepalived_state_change.py']",2,3fc31c7d07920a0695dc94dcfce4e55e123b007d,bug/1917793,"import time from neutron.common import utils as common_utils self._initial_state = None @property def initial_state(self): return self._initial_state @initial_state.setter def initial_state(self, state): if not self._initial_state: LOG.debug('Initial status of router %s is %s', self.router_id, state) self._initial_state = state def run(self): self._thread_initial_state = threading.Thread( target=self.handle_initial_state) self._thread_initial_state.start() self._thread_initial_state.join(timeout=10) if not self.initial_state: self.write_state_change('backup') self.notify_agent('backup') # ADD debug time ip_address = common_utils.cidr_to_ip(self.cidr) for address in ip_lib.get_devices_with_ip(self.namespace, address=ip_address): if address['name'] == self.interface: if not self.initial_state: self.write_state_change(state) self.notify_agent(state) except Exception: if not self.initial_state: LOG.exception('Failed to get initial status of router %s', self.router_id) self.initial_state = state"," def run(self): self.handle_initial_state() ip = ip_lib.IPDevice(self.interface, self.namespace) for address in ip.addr.list(): if address.get('cidr') == self.cidr: LOG.debug('Initial status of router %s is %s', self.router_id, state) self.write_state_change(state) self.notify_agent(state) except Exception: LOG.exception('Failed to get initial status of router %s', self.router_id)",44,10
openstack%2Fneutron~stable%2Ftrain~I9284a6830ea103cb51a775fff720973852076770,openstack/neutron,stable/train,I9284a6830ea103cb51a775fff720973852076770,"Test SQL cast in ""get_total_reservations_map""",MERGED,2021-03-23 10:41:16.000000000,2021-04-02 15:27:07.000000000,2021-04-02 15:25:29.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-23 10:41:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5000a07e7008e1d8dd50a496add313b042913464', 'message': 'Test SQL cast in ""get_total_reservations_map""\n\nThis patch implements the tests for [1]. Instead of using the usual\nOVO SQL unit test, based in SQLite, this patch implements a similar\ntesting but using the functional testing framework, that provides\nSQL opportunistic testing drivers for MySQL and PostgreSQL backends.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/779878\n\nRelated-Bug: #1918565\n\nChange-Id: I9284a6830ea103cb51a775fff720973852076770\n(cherry picked from commit 60b08896ab596be272e83c97be80ad62a3e2cbe4)\n'}, {'number': 2, 'created': '2021-03-24 09:29:43.000000000', 'files': ['neutron/tests/functional/objects/__init__.py', 'neutron/tests/functional/objects/test_quota.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ecdf1752e8dd15beeceba61a804e4c6ff5049053', 'message': 'Test SQL cast in ""get_total_reservations_map""\n\nThis patch implements the tests for [1]. Instead of using the usual\nOVO SQL unit test, based in SQLite, this patch implements a similar\ntesting but using the functional testing framework, that provides\nSQL opportunistic testing drivers for MySQL and PostgreSQL backends.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/779878\n\nRelated-Bug: #1918565\n\nConflicts:\n    neutron/tests/functional/objects/test_quota.py\n\nChange-Id: I9284a6830ea103cb51a775fff720973852076770\n(cherry picked from commit 60b08896ab596be272e83c97be80ad62a3e2cbe4)\n'}]",4,782418,ecdf1752e8dd15beeceba61a804e4c6ff5049053,24,3,2,16688,,,0,"Test SQL cast in ""get_total_reservations_map""

This patch implements the tests for [1]. Instead of using the usual
OVO SQL unit test, based in SQLite, this patch implements a similar
testing but using the functional testing framework, that provides
SQL opportunistic testing drivers for MySQL and PostgreSQL backends.

[1]https://review.opendev.org/c/openstack/neutron/+/779878

Related-Bug: #1918565

Conflicts:
    neutron/tests/functional/objects/test_quota.py

Change-Id: I9284a6830ea103cb51a775fff720973852076770
(cherry picked from commit 60b08896ab596be272e83c97be80ad62a3e2cbe4)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/18/782418/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/objects/__init__.py', 'neutron/tests/functional/objects/test_quota.py']",2,5000a07e7008e1d8dd50a496add313b042913464,bug/1918565,"# Copyright 2021 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import datetime from neutron_lib import context from oslo_utils import uuidutils from neutron.objects import quota from neutron.tests.unit import testlib_api class _ReservationSql(testlib_api.SqlTestCase): def setUp(self): super().setUp() self.context = context.Context(user_id=None, tenant_id=None, is_admin=True, overwrite=False) def _create_test_reservation(self, exp): res_id = uuidutils.generate_uuid() project_id = uuidutils.generate_uuid() reservation = quota.Reservation( self.context, id=res_id, expiration=exp, project_id=project_id) reservation.create() return reservation def _get_reservation(self, _id): return quota.Reservation.get_object(self.context, id=_id) def _create_resource_delta(self, resource, reservation_id, amount): resource_delta = quota.ResourceDelta( self.context, resource=resource, reservation_id=reservation_id, amount=amount) resource_delta.create() return resource_delta def test_get_total_reservations_map(self): resources = ['port'] a_long_time_ago = datetime.datetime(1978, 9, 4) res = self._create_test_reservation(a_long_time_ago) res_delta = self._create_resource_delta('port', res.id, 100) res = self._get_reservation(res.id) self.assertEqual(1, len(res.resource_deltas)) self.assertEqual(res_delta, res.resource_deltas[0]) res_map = quota.Reservation.get_total_reservations_map( self.context, datetime.datetime.utcnow(), res.project_id, resources, True) self.assertEqual({'port': 100}, res_map) self.assertIsInstance(res_map['port'], int) class TestReservationMySQL(_ReservationSql, testlib_api.MySQLTestCaseMixin): pass class TestReservationPostgreSQL(_ReservationSql, testlib_api.PostgreSQLTestCaseMixin): pass ",,71,0
openstack%2Fpuppet-tripleo~stable%2Fussuri~I696a6afbdee8fec2476f59139eebc77d02b299a4,openstack/puppet-tripleo,stable/ussuri,I696a6afbdee8fec2476f59139eebc77d02b299a4,Bump metadata.json 12.6.0 for stable/ussuri release,MERGED,2021-03-31 16:40:01.000000000,2021-04-02 15:20:46.000000000,2021-04-02 15:20:46.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-31 16:40:01.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/69b8e65f1c01e81b7c92a4dcd6f29adf3c8a095b', 'message': 'Bump metadata.json 12.6.0 for stable/ussuri release\n\nNeeded by [1] to make a stable/ussuri release for tripleo repos.\n\n[1] Ib5dbe93c16343a5192e70e0577c500f21258c126\n\nChange-Id: I696a6afbdee8fec2476f59139eebc77d02b299a4\n'}]",0,784123,69b8e65f1c01e81b7c92a4dcd6f29adf3c8a095b,9,4,1,8449,,,0,"Bump metadata.json 12.6.0 for stable/ussuri release

Needed by [1] to make a stable/ussuri release for tripleo repos.

[1] Ib5dbe93c16343a5192e70e0577c500f21258c126

Change-Id: I696a6afbdee8fec2476f59139eebc77d02b299a4
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/23/784123/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,69b8e65f1c01e81b7c92a4dcd6f29adf3c8a095b,," ""version"": ""12.6.0"","," ""version"": ""12.5.0"",",1,1
openstack%2Fnova~master~I6c585a34d6e774f890f992be647214e7e1073edb,openstack/nova,master,I6c585a34d6e774f890f992be647214e7e1073edb,live migration: Pass limits onto scheduler-chosen destination,NEW,2021-03-08 15:38:15.000000000,2021-04-02 15:15:47.000000000,,"[{'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 15:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f418e24b4fb640b9e17ddd349d813f809dd84a22', 'message': ""live migration: Pass limits onto scheduler-chosen destination\n\nIf a live migration without a specific destination has been requested,\nthe conductor will get a list of potential destinations from the\nscheduler. The conductor will then proceed to check if the destination\ncan accommodate the instance by calling check_can_live_migrate_destination.\n\nHowever, this call is made in _find_destination by calling\n_call_livem_checks_on_host, which will then remotely call the method\nmentioned above, and passing it self.limits, which at that point is still None.\n\nOn the nova-compute side, check_can_live_migrate_destination will also create\nthe resource claim, which also includes the soon-to-used NUMA topology that\nwill be used by the live-migrated instance. For this, the function\nnuma_fit_instance_to_host is called, which will return the first match that\nwill fit the instance NUMA topology. This function will also receive those\nlimits from the conductor, and because it's always None, CPU and memory\nallocation ratios are never respected for the NUMA node 0, so NUMA node 0\nis always a valid candidate for Live Migrations, which means that with\nevery Live Migration the NUMA node 0 will get more and more overcommited,\neventually causing VMs to get into OOM as well.\n\nThis commit simply passes those limits received from the scheduler onto\nnova-compute, so they can be used to make sure we don't overcommit NUMA nodes.\nThose limits are created by the NUMATopologyFilter.\n\nChange-Id: I6c585a34d6e774f890f992be647214e7e1073edb\n""}, {'number': 2, 'created': '2021-03-08 15:39:25.000000000', 'files': ['nova/conductor/tasks/live_migrate.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6795a47bd1cd9c926d5e0f6d08a616d2214ea7f1', 'message': ""live migration: Pass limits onto scheduler-chosen destination\n\nIf a live migration without a specific destination has been requested,\nthe conductor will get a list of potential destinations from the\nscheduler. The conductor will then proceed to check if the destination\ncan accommodate the instance by calling check_can_live_migrate_destination.\n\nHowever, this call is made in _find_destination by calling\n_call_livem_checks_on_host, which will then remotely call the method\nmentioned above, and passing it self.limits, which at that point is still None.\n\nOn the nova-compute side, check_can_live_migrate_destination will also create\nthe resource claim, which also includes the soon-to-used NUMA topology that\nwill be used by the live-migrated instance. For this, the function\nnuma_fit_instance_to_host is called, which will return the first match that\nwill fit the instance NUMA topology. This function will also receive those\nlimits from the conductor, and because it's always None, CPU and memory\nallocation ratios are never respected for the NUMA node 0, so NUMA node 0\nis always a valid candidate for Live Migrations, which means that with\nevery Live Migration the NUMA node 0 will get more and more overcommited,\neventually causing VMs to get into OOM as well.\n\nThis commit simply passes those limits received from the scheduler onto\nnova-compute, so they can be used to make sure we don't overcommit NUMA nodes.\nThose limits are created by the NUMATopologyFilter.\n\nChange-Id: I6c585a34d6e774f890f992be647214e7e1073edb\n""}]",1,779285,6795a47bd1cd9c926d5e0f6d08a616d2214ea7f1,10,2,2,8213,,,0,"live migration: Pass limits onto scheduler-chosen destination

If a live migration without a specific destination has been requested,
the conductor will get a list of potential destinations from the
scheduler. The conductor will then proceed to check if the destination
can accommodate the instance by calling check_can_live_migrate_destination.

However, this call is made in _find_destination by calling
_call_livem_checks_on_host, which will then remotely call the method
mentioned above, and passing it self.limits, which at that point is still None.

On the nova-compute side, check_can_live_migrate_destination will also create
the resource claim, which also includes the soon-to-used NUMA topology that
will be used by the live-migrated instance. For this, the function
numa_fit_instance_to_host is called, which will return the first match that
will fit the instance NUMA topology. This function will also receive those
limits from the conductor, and because it's always None, CPU and memory
allocation ratios are never respected for the NUMA node 0, so NUMA node 0
is always a valid candidate for Live Migrations, which means that with
every Live Migration the NUMA node 0 will get more and more overcommited,
eventually causing VMs to get into OOM as well.

This commit simply passes those limits received from the scheduler onto
nova-compute, so they can be used to make sure we don't overcommit NUMA nodes.
Those limits are created by the NUMATopologyFilter.

Change-Id: I6c585a34d6e774f890f992be647214e7e1073edb
",git fetch https://review.opendev.org/openstack/nova refs/changes/85/779285/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conductor/tasks/live_migrate.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py']",2,f418e24b4fb640b9e17ddd349d813f809dd84a22,," mock_call.assert_called_once_with('host1', {}, fake_limits1) mock_call.assert_called_once_with('host1', {}, fake_limits1) mock_call.assert_called_once_with('host2', {}, fake_limits2) [mock.call('host1', {}, fake_limits1), mock.call('host2', {}, fake_limits2)]) [mock.call('host1', {}, fake_limits1), mock.call('host2', {}, fake_limits2)]) self.task._call_livem_checks_on_host, {}, {}, None) mock_call.assert_called_once_with('host1', {uuids.port_id: []}, fake_limits1)"," mock_call.assert_called_once_with('host1', {}) mock_call.assert_called_once_with('host1', {}) mock_call.assert_called_once_with('host2', {}) [mock.call('host1', {}), mock.call('host2', {})]) [mock.call('host1', {}), mock.call('host2', {})]) self.task._call_livem_checks_on_host, {}, {}) mock_call.assert_called_once_with('host1', {uuids.port_id: []})",17,11
openstack%2Fpython-tripleoclient~stable%2Fqueens~I6aca5c701cb00c82c6b3f92db72b5547799a10bf,openstack/python-tripleoclient,stable/queens,I6aca5c701cb00c82c6b3f92db72b5547799a10bf,Check CephClusterFSID against proposed env files,MERGED,2021-04-01 12:21:52.000000000,2021-04-02 15:12:03.000000000,2021-04-02 15:12:03.000000000,"[{'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-01 12:21:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/22e85114dd2104c6a7ad9156b3474423a8688894', 'message': 'Check CephClusterFSID against proposed env files\n\nThere have been cases where operators inadvertenly changed the\nCephClusterFSID on a stack update, which is unsupported by both\nCeph and openstack.\nFor this reason we need to check that the existing deployed Ceph\ncluster ID present in the stack is consistent with the value of\nthe environment, raising an InvalidConfiguration exception if\nthey are different.\n\nChange-Id: I6aca5c701cb00c82c6b3f92db72b5547799a10bf\nCloses-Bug: #1882548\n(cherry picked from commit 58f913512c7792d2c90e3262dd7c5fd1288308d4)\n(cherry picked from commit 05a909c3554e72ca25a3a44fcd15be08f852adf3)\n'}, {'number': 2, 'created': '2021-04-01 12:36:53.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/utils.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9871ac7bc6fc6850c7b74ba22d3c7558209574f2', 'message': 'Check CephClusterFSID against proposed env files\n\nThere have been cases where operators inadvertenly changed the\nCephClusterFSID on a stack update, which is unsupported by both\nCeph and openstack.\nFor this reason we need to check that the existing deployed Ceph\ncluster ID present in the stack is consistent with the value of\nthe environment, raising an InvalidConfiguration exception if\nthey are different.\n\nChange-Id: I6aca5c701cb00c82c6b3f92db72b5547799a10bf\nCloses-Bug: #1882548\n(cherry picked from commit 58f913512c7792d2c90e3262dd7c5fd1288308d4)\n(cherry picked from commit 05a909c3554e72ca25a3a44fcd15be08f852adf3)\n'}]",0,784385,9871ac7bc6fc6850c7b74ba22d3c7558209574f2,14,5,2,25402,,,0,"Check CephClusterFSID against proposed env files

There have been cases where operators inadvertenly changed the
CephClusterFSID on a stack update, which is unsupported by both
Ceph and openstack.
For this reason we need to check that the existing deployed Ceph
cluster ID present in the stack is consistent with the value of
the environment, raising an InvalidConfiguration exception if
they are different.

Change-Id: I6aca5c701cb00c82c6b3f92db72b5547799a10bf
Closes-Bug: #1882548
(cherry picked from commit 58f913512c7792d2c90e3262dd7c5fd1288308d4)
(cherry picked from commit 05a909c3554e72ca25a3a44fcd15be08f852adf3)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/85/784385/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/utils.py', 'tripleoclient/v1/overcloud_deploy.py']",4,22e85114dd2104c6a7ad9156b3474423a8688894,," ceph_deployed = env.get('resource_registry', {}).get( 'OS::TripleO::Services::CephMon', 'OS::Heat::None') ceph_external = env.get('resource_registry', {}).get( 'OS::TripleO::Services::CephExternal', 'OS::Heat::None') # note (fpantano) if ceph is not TripleO deployed and no # external ceph cluster are present, there's no reason to # make this check and we can simply ignore it if (ceph_deployed != ""OS::Heat::None"" or ceph_external != ""OS::Heat::None""): utils.check_ceph_fsid_matches_env_files(stack, env)",,102,9
openstack%2Fopenstack-ansible-rabbitmq_server~stable%2Fstein~Ibe65984d2a840d980f975d8553e80da99b81345c,openstack/openstack-ansible-rabbitmq_server,stable/stein,Ibe65984d2a840d980f975d8553e80da99b81345c,Bump erlang version,MERGED,2021-03-22 22:42:41.000000000,2021-04-02 14:55:57.000000000,2021-04-02 14:54:43.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-03-22 22:42:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/a18e82d6f6c75627a76ac01cd17a5d2ebcab8ff0', 'message': 'Bump erlang version\n\nPackagecloud repo has dropped previous erlang repo causing CentOS 7\nCI to fail. We bump debian erlang version for consistency as well.\n\nChange-Id: Ibe65984d2a840d980f975d8553e80da99b81345c\n'}, {'number': 2, 'created': '2021-03-22 23:29:06.000000000', 'files': ['vars/redhat.yml', 'vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/3cd88f6f403cbde16a332c89fdb82e4e5c3d3126', 'message': 'Bump erlang version\n\nPackagecloud repo has dropped previous erlang repo causing CentOS 7\nCI to fail. We bump debian erlang version for consistency as well.\n\nChange-Id: Ibe65984d2a840d980f975d8553e80da99b81345c\n'}]",0,782334,3cd88f6f403cbde16a332c89fdb82e4e5c3d3126,10,3,2,25023,,,0,"Bump erlang version

Packagecloud repo has dropped previous erlang repo causing CentOS 7
CI to fail. We bump debian erlang version for consistency as well.

Change-Id: Ibe65984d2a840d980f975d8553e80da99b81345c
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/34/782334/2 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'vars/debian.yml']",2,a18e82d6f6c75627a76ac01cd17a5d2ebcab8ff0,,"_rabbitmq_package_url: ""https://packagecloud.io/rabbitmq/rabbitmq-server/packages/{{ ansible_distribution | lower }}/{{ ansible_distribution_release | lower }}/rabbitmq-server_3.7.28-1_all.deb/download.deb""_rabbitmq_erlang_version_spec: ""1:22.3*""","_rabbitmq_package_url: ""https://packagecloud.io/rabbitmq/rabbitmq-server/packages/{{ ansible_distribution | lower }}/{{ ansible_distribution_release | lower }}/rabbitmq-server_3.7.8-1_all.deb/download.deb""_rabbitmq_erlang_version_spec: ""1:20.3*""",4,4
openstack%2Fironic~master~Iad69c8d7cf3a373f5cfcc619a479a106efa2e4d4,openstack/ironic,master,Iad69c8d7cf3a373f5cfcc619a479a106efa2e4d4,Add iDRAC management via Redfish to idrac HW type,MERGED,2020-04-21 12:20:58.000000000,2021-04-02 14:39:39.000000000,2021-03-31 17:52:39.000000000,"[{'_account_id': 7160}, {'_account_id': 8580}, {'_account_id': 10239}, {'_account_id': 10250}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 27336}, {'_account_id': 27909}, {'_account_id': 30100}, {'_account_id': 31616}, {'_account_id': 31871}]","[{'number': 1, 'created': '2020-04-21 12:20:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f49921db6a9536b39dc0fe2ef70819f079a393cd', 'message': '[WIP] DRAC: Added redfish management clean steps\n\nChange-Id: Iad69c8d7cf3a373f5cfcc619a479a106efa2e4d4\n'}, {'number': 2, 'created': '2020-04-22 06:33:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cdc2ece203f01d1a7ee3eb10683df8fd859ed894', 'message': '[WIP] DRAC: Added redfish management clean steps\n\nChange-Id: Iad69c8d7cf3a373f5cfcc619a479a106efa2e4d4\n'}, {'number': 3, 'created': '2020-05-04 14:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8002d906b7422da78d6fe1502042cd835dede33b', 'message': 'DRAC: Added redfish management clean steps\n\nAdded reset_idrac, clear_job_queue and known_good_state\ncleaning steps in the iDRAC driver that resets the iDRAC,\nClear the job queue to get the iDRAC into known good state.\n\nChange-Id: Iad69c8d7cf3a373f5cfcc619a479a106efa2e4d4\nStory: 2007617\nTask: 39628\n'}, {'number': 4, 'created': '2020-05-05 11:37:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9e9610eddf768bf472cf7942dbbd0112c15add68', 'message': 'DRAC: Added redfish management clean steps\n\nAdded reset_idrac, clear_job_queue and known_good_state\ncleaning steps in the iDRAC driver that resets the iDRAC,\nClear the job queue to get the iDRAC into known good state.\n\nChange-Id: Iad69c8d7cf3a373f5cfcc619a479a106efa2e4d4\nStory: 2007617\nTask: 39628\nDepends-On: I29ce49c0865a610f2fb10f5072893bbf51b47303\n'}, {'number': 5, 'created': '2020-05-08 16:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6061cba898cb9e5c98fd9122aedb372299473bc8', 'message': 'DRAC: Added redfish management clean steps\n\nAdded reset_idrac, clear_job_queue and known_good_state\ncleaning steps in the iDRAC driver that resets the iDRAC\nand clears the job queue to get the iDRAC into known good state.\n\nChange-Id: Iad69c8d7cf3a373f5cfcc619a479a106efa2e4d4\nStory: 2007617\nTask: 39628\nDepends-On: I29ce49c0865a610f2fb10f5072893bbf51b47303\n'}, {'number': 6, 'created': '2020-05-11 14:28:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1895891ec0bfdbe72d375a3904e17a830e8fef07', 'message': 'DRAC: Added redfish management clean steps\n\nAdded reset_idrac, clear_job_queue and known_good_state\ncleaning steps in the iDRAC driver that resets the iDRAC\nand clears the job queue to get the iDRAC into known good state.\n\nChange-Id: Iad69c8d7cf3a373f5cfcc619a479a106efa2e4d4\nStory: 2007617\nTask: 39628\nDepends-On: I29ce49c0865a610f2fb10f5072893bbf51b47303\n'}, {'number': 7, 'created': '2020-09-28 16:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ec815b2bc064ecbbe76d9f4341c9f82180d90582', 'message': 'DRAC: Added redfish management clean steps\n\nAdded reset_idrac, clear_job_queue and known_good_state\ncleaning steps in the iDRAC driver that resets the iDRAC\nand clears the job queue to get the iDRAC into known good state.\n\nChange-Id: Iad69c8d7cf3a373f5cfcc619a479a106efa2e4d4\nStory: 2007617\nTask: 39628\nDepends-On: I29ce49c0865a610f2fb10f5072893bbf51b47303\n'}, {'number': 8, 'created': '2020-09-30 15:46:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/faa7dd997abadd7537a2466935a0b5090c60ae2a', 'message': 'DRAC: Added redfish management clean steps\n\nAdded reset_idrac, clear_job_queue and known_good_state\ncleaning steps in the iDRAC driver that resets the iDRAC\nand clears the job queue to get the iDRAC into known good state.\n\nChange-Id: Iad69c8d7cf3a373f5cfcc619a479a106efa2e4d4\nStory: 2007617\nTask: 39628\nDepends-On: I29ce49c0865a610f2fb10f5072893bbf51b47303\n'}, {'number': 9, 'created': '2021-02-26 06:45:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/04384f6bc74f203057834972c60e2b9dcd5b25bc', 'message': 'DRAC: Added redfish management clean steps\n\nAdded reset_idrac, clear_job_queue and known_good_state\ncleaning steps in the iDRAC driver that resets the iDRAC\nand clears the job queue to get the iDRAC into known good state.\n\nChange-Id: Iad69c8d7cf3a373f5cfcc619a479a106efa2e4d4\nStory: 2007617\nTask: 39628\nDepends-On: I29ce49c0865a610f2fb10f5072893bbf51b47303\n'}, {'number': 10, 'created': '2021-02-26 07:29:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3cafd515597bf82e1b21a9c00529a757c6fa773e', 'message': 'DRAC: Added redfish management clean steps\n\nAdded reset_idrac, clear_job_queue and known_good_state\ncleaning steps in the iDRAC driver that resets the iDRAC\nand clears the job queue to get the iDRAC into known good state.\n\nChange-Id: Iad69c8d7cf3a373f5cfcc619a479a106efa2e4d4\nStory: 2007617\nTask: 39628\nDepends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/721596\n'}, {'number': 11, 'created': '2021-02-26 08:59:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/53c0f59023bfdc537b34aeaadbe0611c09bd4b02', 'message': 'DRAC: Added redfish management clean steps\n\nAdded reset_idrac, clear_job_queue and known_good_state\ncleaning steps in the iDRAC driver that resets the iDRAC\nand clears the job queue to get the iDRAC into known good state.\n\nChange-Id: Iad69c8d7cf3a373f5cfcc619a479a106efa2e4d4\nStory: 2007617\nTask: 39628\nDepends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/721596\n'}, {'number': 12, 'created': '2021-03-03 10:45:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f508e03dcf879484f30a3c5f773b6eca9f7dce9b', 'message': 'DRAC: Added redfish management clean steps\n\nAdded reset_idrac, clear_job_queue and known_good_state\ncleaning steps in the iDRAC driver that resets the iDRAC\nand clears the job queue to get the iDRAC into known good state.\n\nChange-Id: Iad69c8d7cf3a373f5cfcc619a479a106efa2e4d4\nStory: 2007617\nTask: 39628\nDepends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/721596\n'}, {'number': 13, 'created': '2021-03-17 08:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4d0703c52e17a42e86797588f23e64176742ce2d', 'message': 'DRAC: Added redfish management clean steps\n\nAdded reset_idrac, clear_job_queue and known_good_state\ncleaning steps in the iDRAC driver that resets the iDRAC\nand clears the job queue to get the iDRAC into known good state.\n\nChange-Id: Iad69c8d7cf3a373f5cfcc619a479a106efa2e4d4\nStory: 2007617\nTask: 39628\nDepends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/721596\n'}, {'number': 14, 'created': '2021-03-22 11:27:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a1437b535414efb750b85fc753a4b61046376e1d', 'message': 'DRAC: Added redfish management clean steps\n\nAdded reset_idrac, clear_job_queue and known_good_state\ncleaning steps in the iDRAC driver that resets the iDRAC\nand clears the job queue to get the iDRAC into known good state.\n\nChange-Id: Iad69c8d7cf3a373f5cfcc619a479a106efa2e4d4\nStory: 2007617\nTask: 39628\nDepends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/721596\n'}, {'number': 15, 'created': '2021-03-24 14:01:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/56b09b19b963bbbb3f19dc9e8f66bd19656366a5', 'message': 'DRAC: Added redfish management clean steps\n\nAdded reset_idrac, clear_job_queue and known_good_state\ncleaning steps in the iDRAC driver that resets the iDRAC\nand clears the job queue to get the iDRAC into known good state.\n\nChange-Id: Iad69c8d7cf3a373f5cfcc619a479a106efa2e4d4\nStory: 2007617\nTask: 39628\nDepends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/721596\n'}, {'number': 16, 'created': '2021-03-24 15:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ba9b97576eac1e6b215a64923daa0f7647a712f4', 'message': 'DRAC: Added redfish management clean steps\n\nAdded reset_idrac, clear_job_queue and known_good_state\ncleaning steps in the iDRAC driver that resets the iDRAC\nand clears the job queue to get the iDRAC into known good state.\n\nChange-Id: Iad69c8d7cf3a373f5cfcc619a479a106efa2e4d4\nStory: 2007617\nTask: 39628\nDepends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/721596\n'}, {'number': 17, 'created': '2021-03-25 12:06:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7cb962cae090d2b06d1a6ca4b6e8cd9a362defc7', 'message': 'DRAC: Added redfish management clean steps\n\nAdded reset_idrac, clear_job_queue and known_good_state\ncleaning steps in the iDRAC driver that resets the iDRAC\nand clears the job queue to get the iDRAC into known good state.\n\nChange-Id: Iad69c8d7cf3a373f5cfcc619a479a106efa2e4d4\nStory: 2007617\nTask: 39628\nDepends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/721596\n'}, {'number': 18, 'created': '2021-03-25 16:03:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/eb30455f49d0dc680352e04b2a66ea3e8c3d0d7d', 'message': 'DRAC: Added redfish management clean steps\n\nAdded reset_idrac, clear_job_queue and known_good_state\ncleaning steps in the iDRAC driver that resets the iDRAC\nand clears the job queue to get the iDRAC into known good state.\n\nChange-Id: Iad69c8d7cf3a373f5cfcc619a479a106efa2e4d4\nStory: 2007617\nTask: 39628\nDepends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/721596\n'}, {'number': 19, 'created': '2021-03-26 09:03:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2b7e175c06454ae99c49701732aab614445ef387', 'message': 'DRAC: Added redfish management clean steps\n\nAdded reset_idrac, clear_job_queue and known_good_state\ncleaning steps in the iDRAC driver that resets the iDRAC\nand clears the job queue to get the iDRAC into known good state.\n\nChange-Id: Iad69c8d7cf3a373f5cfcc619a479a106efa2e4d4\nStory: 2007617\nTask: 39628\nDepends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/782254\n'}, {'number': 20, 'created': '2021-03-26 16:58:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/339482e1de595af234bfa8374d7fb725988173f4', 'message': 'DRAC: Added redfish management clean steps\n\nAdded reset_idrac, clear_job_queue and known_good_state\ncleaning steps in the iDRAC driver that resets the iDRAC\nand clears the job queue to get the iDRAC into known good state.\n\nChange-Id: Iad69c8d7cf3a373f5cfcc619a479a106efa2e4d4\nStory: 2007617\nTask: 39628\nDepends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/782254\n'}, {'number': 21, 'created': '2021-03-29 23:38:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fe81a70e8c3af9a53308e1396ae1027ff7c634a2', 'message': 'Add iDRAC management via Redfish to idrac HW type\n\nThis change adds support for managing an iDRAC -- reset, clear job\nqueue, and reset to known good state -- via the Redfish out-of-band\n(OOB) management protocol to the idrac hardware type. This is offered by\nnew idrac-redfish management hardware interface implementation cleaning\nsteps: reset_idrac, clear_job_queue, and known_good_state. known_good\nstate both resets an iDRAC and clears its job queue.\n\nStory: 2007617\nTask: 39628\nDepends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/782254\n\nChange-Id: Iad69c8d7cf3a373f5cfcc619a479a106efa2e4d4\n'}, {'number': 22, 'created': '2021-03-30 06:21:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/23877dd0edf3df85431632d0668a37e194537b57', 'message': 'Add iDRAC management via Redfish to idrac HW type\n\nThis change adds support for managing an iDRAC -- reset, clear job\nqueue, and reset to known good state -- via the Redfish out-of-band\n(OOB) management protocol to the idrac hardware type. This is offered by\nnew idrac-redfish management hardware interface implementation cleaning\nsteps: reset_idrac, clear_job_queue, and known_good_state. known_good\nstate both resets an iDRAC and clears its job queue.\n\nStory: 2007617\nTask: 39628\nDepends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/782254\n\nChange-Id: Iad69c8d7cf3a373f5cfcc619a479a106efa2e4d4\n'}, {'number': 23, 'created': '2021-03-30 15:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3d9d91eae6a61f0fbc6b9d90b75855da2a2f38fd', 'message': 'Add iDRAC management via Redfish to idrac HW type\n\nThis change adds support for managing an iDRAC -- reset, clear job\nqueue, and reset to known good state -- via the Redfish out-of-band\n(OOB) management protocol to the idrac hardware type. This is offered by\nnew idrac-redfish management hardware interface implementation cleaning\nsteps: reset_idrac, clear_job_queue, and known_good_state. known_good_state\nboth resets an iDRAC and clears its job queue.\n\nStory: 2007617\nTask: 39628\nDepends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/782254\n\nChange-Id: Iad69c8d7cf3a373f5cfcc619a479a106efa2e4d4\n'}, {'number': 24, 'created': '2021-03-30 15:34:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/83492daef94a6f69dcc854accdbf944e6c2606b7', 'message': 'Add iDRAC management via Redfish to idrac HW type\n\nThis change adds support for managing an iDRAC -- reset, clear job\nqueue, and reset to known good state -- via the Redfish out-of-band\n(OOB) management protocol to the idrac hardware type. This is offered by\nnew idrac-redfish management hardware interface implementation cleaning\nsteps: reset_idrac, clear_job_queue, and known_good_state.\nknown_good_state both resets an iDRAC and clears its job queue.\n\nStory: 2007617\nTask: 39628\nDepends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/782254\n\nChange-Id: Iad69c8d7cf3a373f5cfcc619a479a106efa2e4d4\n'}, {'number': 25, 'created': '2021-03-31 02:35:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7ca3c9c1e321d3019017c7a354a3346f02a9346a', 'message': 'Add iDRAC management via Redfish to idrac HW type\n\nThis change adds support for managing an iDRAC -- reset, clear job\nqueue, and reset to known good state -- via the Redfish out-of-band\n(OOB) management protocol to the idrac hardware type. This is offered by\nnew idrac-redfish management hardware interface implementation cleaning\nsteps: reset_idrac, clear_job_queue, and known_good_state.\nknown_good_state both resets an iDRAC and clears its job queue.\n\nStory: 2007617\nTask: 39628\nDepends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/782254\n\nChange-Id: Iad69c8d7cf3a373f5cfcc619a479a106efa2e4d4\n'}, {'number': 26, 'created': '2021-03-31 13:02:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b27795f846de3c42b8572162d8e69bd6556b20fc', 'message': 'Add iDRAC management via Redfish to idrac HW type\n\nThis change adds support for managing an iDRAC -- reset, clear job\nqueue, and reset to known good state -- via the Redfish out-of-band\n(OOB) management protocol to the idrac hardware type. This is offered by\nnew idrac-redfish management hardware interface implementation cleaning\nsteps: reset_idrac, clear_job_queue, and known_good_state.\nknown_good_state both resets an iDRAC and clears its job queue.\n\nStory: 2007617\nTask: 39628\nDepends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/782254\n\nChange-Id: Iad69c8d7cf3a373f5cfcc619a479a106efa2e4d4\n'}, {'number': 27, 'created': '2021-03-31 13:06:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e4936e09c3f9452b098cfc8556d1acae201d8b28', 'message': 'Add iDRAC management via Redfish to idrac HW type\n\nThis change adds support for managing an iDRAC -- reset, clear job\nqueue, and reset to known good state -- via the Redfish out-of-band\n(OOB) management protocol to the idrac hardware type. This is offered by\nnew idrac-redfish management hardware interface implementation cleaning\nsteps: reset_idrac, clear_job_queue, and known_good_state.\nknown_good_state both resets an iDRAC and clears its job queue.\n\nStory: 2007617\nTask: 39628\nDepends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/782254\n\nChange-Id: Iad69c8d7cf3a373f5cfcc619a479a106efa2e4d4\n'}, {'number': 28, 'created': '2021-03-31 13:08:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2a34c9fff4402ba7031ef731c2619465f4ee299a', 'message': 'Add iDRAC management via Redfish to idrac HW type\n\nThis change adds support for managing an iDRAC -- reset, clear job\nqueue, and reset to known good state -- via the Redfish out-of-band\n(OOB) management protocol to the idrac hardware type. This is offered by\nnew idrac-redfish management hardware interface implementation cleaning\nsteps: reset_idrac, clear_job_queue, and known_good_state.\nknown_good_state both resets an iDRAC and clears its job queue.\n\nStory: 2007617\nTask: 39628\nDepends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/782254\n\nChange-Id: Iad69c8d7cf3a373f5cfcc619a479a106efa2e4d4\n'}, {'number': 29, 'created': '2021-03-31 13:14:20.000000000', 'files': ['ironic/drivers/modules/redfish/utils.py', 'ironic/drivers/modules/drac/management.py', 'ironic/tests/unit/drivers/modules/drac/test_management.py', 'releasenotes/notes/redfish_mgmt_clean_steps-c983a8858835046d.yaml', 'driver-requirements.txt'], 'web_link': 'https://opendev.org/openstack/ironic/commit/601f6d51f693c5b0e6b570234db415f12f881257', 'message': 'Add iDRAC management via Redfish to idrac HW type\n\nThis change adds support for managing an iDRAC -- reset, clear job\nqueue, and reset to known good state -- via the Redfish out-of-band\n(OOB) management protocol to the idrac hardware type. This is offered by\nnew idrac-redfish management hardware interface implementation cleaning\nsteps: reset_idrac, clear_job_queue, and known_good_state.\nknown_good_state both resets an iDRAC and clears its job queue.\n\nStory: 2007617\nTask: 39628\nDepends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/782254\n\nChange-Id: Iad69c8d7cf3a373f5cfcc619a479a106efa2e4d4\n'}]",203,721593,601f6d51f693c5b0e6b570234db415f12f881257,191,15,29,31871,,,0,"Add iDRAC management via Redfish to idrac HW type

This change adds support for managing an iDRAC -- reset, clear job
queue, and reset to known good state -- via the Redfish out-of-band
(OOB) management protocol to the idrac hardware type. This is offered by
new idrac-redfish management hardware interface implementation cleaning
steps: reset_idrac, clear_job_queue, and known_good_state.
known_good_state both resets an iDRAC and clears its job queue.

Story: 2007617
Task: 39628
Depends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/782254

Change-Id: Iad69c8d7cf3a373f5cfcc619a479a106efa2e4d4
",git fetch https://review.opendev.org/openstack/ironic refs/changes/93/721593/7 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/redfish/utils.py', 'ironic/drivers/modules/drac/management.py', 'ironic/tests/unit/drivers/modules/drac/test_management.py', 'ironic/drivers/modules/drac/utils.py', 'ironic/drivers/modules/drac/common.py']",5,f49921db6a9536b39dc0fe2ef70819f079a393cd,change-721593-22,"from ironic.drivers.modules.redfish import utils as redfish_utilssushy = importutils.try_import('sushy') dracclient_exceptions = importutils.try_import('dracclient.exceptions') _SERVICE_ROOT = '/redfish/v1/Managers/' def get_sushy_oem_manager(node): """"""Returns a OEM manager object from sushy-oem library. :param node: an ironic node object. :returns: a OEM manager object. """""" system = redfish_utils.get_system(node) for manager in system.managers: try: # Get instance of Sushy OEM manager object oem_manager = manager.get_oem_extension('Dell') except sushy.exceptions.OEMExtensionNotFoundError as e: error_msg = (_(""Search for Sushy OEM extension package"" ""'sushy-oem-idrac' failed for node %(node)s."" ""Ensure it is installed. Error: %(error)s"") % {'node': node.uuid, 'error': e}) LOG.error(error_msg) raise exception.RedfishError(error=error_msg) return oem_manager",,412,56
openstack%2Fkayobe~master~I875d73cfe056dc505beffdec9bf348b3dc8bd910,openstack/kayobe,master,I875d73cfe056dc505beffdec9bf348b3dc8bd910,Support passing multiple Kayobe inventory arguments,MERGED,2021-02-02 16:04:09.000000000,2021-04-02 12:38:50.000000000,2021-04-01 17:51:11.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-02-02 16:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/dceabffbcd3dbf4a21e9baab9b578eb3257027e2', 'message': 'Support passing multiple Kayobe inventory arguments\n\nChange-Id: I875d73cfe056dc505beffdec9bf348b3dc8bd910\nStory: 2002009\nTask: 41738\n'}, {'number': 2, 'created': '2021-03-09 15:16:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c5f9e23579488dea9b2fac07676a6196d01a1606', 'message': 'Support passing multiple Kayobe inventory arguments\n\nChange-Id: I875d73cfe056dc505beffdec9bf348b3dc8bd910\nStory: 2002009\nTask: 41738\n'}, {'number': 3, 'created': '2021-03-15 14:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/97a1e9143f28b9b4365ef2db374b2eb2822c2086', 'message': 'Support passing multiple Kayobe inventory arguments\n\nChange-Id: I875d73cfe056dc505beffdec9bf348b3dc8bd910\nStory: 2002009\nTask: 41738\n'}, {'number': 4, 'created': '2021-03-31 14:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/42513e05dd2964dafeb7808365774c3724cbd87f', 'message': 'Support passing multiple Kayobe inventory arguments\n\nChange-Id: I875d73cfe056dc505beffdec9bf348b3dc8bd910\nStory: 2002009\nTask: 41738\n'}, {'number': 5, 'created': '2021-03-31 15:01:48.000000000', 'files': ['kayobe/ansible.py', 'kayobe/tests/unit/test_ansible.py'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c15ed69b18dfbf4de69d8bf2ca01c934cb4fbf54', 'message': 'Support passing multiple Kayobe inventory arguments\n\nChange-Id: I875d73cfe056dc505beffdec9bf348b3dc8bd910\nStory: 2002009\nTask: 41738\n'}]",3,773718,c15ed69b18dfbf4de69d8bf2ca01c934cb4fbf54,23,3,5,15197,,,0,"Support passing multiple Kayobe inventory arguments

Change-Id: I875d73cfe056dc505beffdec9bf348b3dc8bd910
Story: 2002009
Task: 41738
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/18/773718/1 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/ansible.py', 'kayobe/tests/unit/test_ansible.py']",2,dceabffbcd3dbf4a21e9baab9b578eb3257027e2,multiple-environments," @mock.patch.object(utils, ""run_command"") @mock.patch.object(ansible, ""_get_vars_files"") @mock.patch.object(ansible, ""_validate_args"") def test_multiple_inventory_args(self, mock_validate, mock_vars, mock_run): mock_vars.return_value = [] parser = argparse.ArgumentParser() ansible.add_args(parser) vault.add_args(parser) args = [ ""--inventory"", ""/etc/kayobe/inventory"", ""--inventory"", ""/etc/kayobe/environments/foobar/inventory"", ] parsed_args = parser.parse_args(args) ansible.run_playbooks(parsed_args, [""playbook1.yml"", ""playbook2.yml""]) expected_cmd = [ ""ansible-playbook"", ""--inventory"", ""/etc/kayobe/inventory"", ""--inventory"", ""/etc/kayobe/environments/foobar/inventory"", ""playbook1.yml"", ""playbook2.yml"", ] expected_env = {""KAYOBE_CONFIG_PATH"": ""/etc/kayobe""} mock_run.assert_called_once_with(expected_cmd, check_output=False, quiet=False, env=expected_env) mock_vars.assert_called_once_with([""/etc/kayobe""])",,41,12
openstack%2Fneutron~master~I9f8a9f0ae24683458aa3b5f8e49c6f111ccf815a,openstack/neutron,master,I9f8a9f0ae24683458aa3b5f8e49c6f111ccf815a,Fix API policy rules for new personas,MERGED,2021-04-01 15:02:56.000000000,2021-04-02 12:23:44.000000000,2021-04-02 12:22:14.000000000,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-01 15:02:56.000000000', 'files': ['neutron/conf/policies/subnetpool.py', 'neutron/conf/policies/router.py', 'neutron/conf/policies/rbac.py', 'neutron/conf/policies/trunk.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cabf19a984a575d14cc4cde0312807e859765aa8', 'message': 'Fix API policy rules for new personas\n\nDuring migration to the new personas in the API policies, we made few\nmistakes and allowed creation of some resources just for PROJECT_MEMBER\nrole. It should also be possible for the SYSTEM_ADMIN persona and that\npatch fixes it by adding SYSTEM_ADMIN persona to the default rules where\nit was missing.\n\nRelated-blueprint: bp/secure-rbac-roles\nChange-Id: I9f8a9f0ae24683458aa3b5f8e49c6f111ccf815a\n'}]",0,784434,cabf19a984a575d14cc4cde0312807e859765aa8,15,6,1,11975,,,0,"Fix API policy rules for new personas

During migration to the new personas in the API policies, we made few
mistakes and allowed creation of some resources just for PROJECT_MEMBER
role. It should also be possible for the SYSTEM_ADMIN persona and that
patch fixes it by adding SYSTEM_ADMIN persona to the default rules where
it was missing.

Related-blueprint: bp/secure-rbac-roles
Change-Id: I9f8a9f0ae24683458aa3b5f8e49c6f111ccf815a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/34/784434/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/conf/policies/subnetpool.py', 'neutron/conf/policies/rbac.py', 'neutron/conf/policies/router.py', 'neutron/conf/policies/trunk.py']",4,cabf19a984a575d14cc4cde0312807e859765aa8,secure-rbac," check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER,"," check_str=base.PROJECT_MEMBER,",4,4
openstack%2Fkeystone~master~Iabc8fa117a63136712ea27b7619a8753ff414387,openstack/keystone,master,Iabc8fa117a63136712ea27b7619a8753ff414387,Adds support for JWT Tokens as authorization method (second try),NEW,2021-04-02 10:40:00.000000000,2021-04-02 12:21:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-02 10:40:00.000000000', 'files': ['keystone/conf/__init__.py', 'keystone/auth/plugins/mapped.py', 'keystone/conf/jwt_token.py', 'setup.cfg', 'keystone/auth/plugins/jwt_token.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/84db4ee64a3b7a54c2a34e6bce00840f81b8bd91', 'message': 'Adds support for JWT Tokens as authorization method (second try)\n\nThis patch adds new authorization protocol - jwt_token.\nIt allows to access endpoint \'/v3/OS-FEDERATION/identity_providers/{IDP_NAME}/protocols/jwt_token/auth\' (and obtain keystone auth token) using JWT token in Authorization header field.\nHeader value is checked against proper formating and JWT token is extracted from it.\nThen, token is validated against proper signature, issuer, expiration date and others.\nThen, if this end with success, payload from token is supplied to mapping engine, when new user is created.\n\nThis can be usefull in CLI-like API access to openstack with connection to OAuth or other IdP provider.\nYou can supply env like\n\texport OS_IDENTITY_PROVIDER=""idp_name""\n\texport OS_PROTOCOL=""jwt_token""\n\texport OS_AUTH_TYPE=""v3oidcclientcredentials""\n\texport OS_ACCESS_TOKEN_ENDPOINT="".../oauth/token""\n\texport OS_CLIENT_ID=\'...\'\n\texport OS_CLIENT_SECRET=\'...\'\n\nIn this scenario, JWT token is obtainer from oauth endpoint and then supplied to keystone, where is beeing parsed, validated.\nNew user is created (according to mappings) and access is given.\n\nChange-Id: Iabc8fa117a63136712ea27b7619a8753ff414387\n'}]",0,784558,84db4ee64a3b7a54c2a34e6bce00840f81b8bd91,3,1,1,33315,,,0,"Adds support for JWT Tokens as authorization method (second try)

This patch adds new authorization protocol - jwt_token.
It allows to access endpoint '/v3/OS-FEDERATION/identity_providers/{IDP_NAME}/protocols/jwt_token/auth' (and obtain keystone auth token) using JWT token in Authorization header field.
Header value is checked against proper formating and JWT token is extracted from it.
Then, token is validated against proper signature, issuer, expiration date and others.
Then, if this end with success, payload from token is supplied to mapping engine, when new user is created.

This can be usefull in CLI-like API access to openstack with connection to OAuth or other IdP provider.
You can supply env like
	export OS_IDENTITY_PROVIDER=""idp_name""
	export OS_PROTOCOL=""jwt_token""
	export OS_AUTH_TYPE=""v3oidcclientcredentials""
	export OS_ACCESS_TOKEN_ENDPOINT="".../oauth/token""
	export OS_CLIENT_ID='...'
	export OS_CLIENT_SECRET='...'

In this scenario, JWT token is obtainer from oauth endpoint and then supplied to keystone, where is beeing parsed, validated.
New user is created (according to mappings) and access is given.

Change-Id: Iabc8fa117a63136712ea27b7619a8753ff414387
",git fetch https://review.opendev.org/openstack/keystone refs/changes/58/784558/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/conf/__init__.py', 'keystone/auth/plugins/mapped.py', 'keystone/conf/jwt_token.py', 'setup.cfg', 'keystone/auth/plugins/jwt_token.py']",5,84db4ee64a3b7a54c2a34e6bce00840f81b8bd91,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # """"""Supports for jwt_token authorization method """""" import flask import jwt from oslo_log import log from cryptography.hazmat.backends import default_backend from cryptography.hazmat.primitives import serialization from keystone.auth.plugins import base from keystone.auth.plugins import mapped from keystone.common import provider_api from keystone import exception import keystone.conf LOG = log.getLogger(__name__) CONF = keystone.conf.CONF PROVIDERS = provider_api.ProviderAPIs MODULE_NAME = 'jwt_token' class JWTToken(base.AuthMethodHandler): def __init__(self): self._public_key = None def authenticate(self, auth_payload): """"""Performs authentication process using JWT token supplied in header Firstly check if header is valid - that means, if is in format 'Authorization: Bearer XXXX' Then parses JWT token in header and verify it agains - expiration time, issuer and check signature - according to configuration. If everything is ok, payload from token is extracted and then passed to maping engine. """""" authorization_header_value = flask.request.headers.get('Authorization') if not authorization_header_value: raise exception.ValidationError(attribute='Authorization', target='request.headers') authorization_header_arr = authorization_header_value.split(' ') if len(authorization_header_arr) != 2: raise exception.Unauthorized('Invalid authorization header value') if authorization_header_arr[0] != 'Bearer': raise exception.Unauthorized('Invalid authorization header value') jwt_header = None jwt_payload = None try: jwt_header = jwt.get_unverified_header(authorization_header_arr[1]) if 'alg' not in jwt_header: msg = 'No algorithm specified' raise jwt.exceptions.InvalidAlgorithmError(msg) if jwt_header['alg'] not in self._get_valid_algorithms(): msg = 'Unsupported algorithm given' raise jwt.exceptions.InvalidAlgorithmError(msg) if jwt_header['alg'].startswith('RS'): jwt_payload = jwt.decode( authorization_header_arr[1], key=self._load_public_key(), algorithms=self._get_valid_algorithms(), leeway=CONF.jwt_token.leeway, options={'require_exp': True, 'verify_aud': False, 'verify_exp': True, 'verify_iss': False} ) elif jwt_header['alg'].startswith('HS'): jwt_payload = jwt.decode( authorization_header_arr[1], key=CONF.jwt_token.verify_signature_secret, algorithms=self._get_valid_algorithms(), leeway=CONF.jwt_token.leeway, options={'require_exp': True, 'verify_aud': False, 'verify_exp': True, 'verify_iss': False} ) else: msg = 'Unsupported algorithm given' raise jwt.exceptions.InvalidAlgorithmError(msg) if CONF.jwt_token.verify_issuer: if 'iss' not in jwt_payload: raise jwt.exceptions.InvalidIssuerError('Invalid issuer') if not jwt_payload['iss'] in self._get_valid_issuers(): raise jwt.exceptions.InvalidIssuerError('Invalid issuer') except (jwt.exceptions.DecodeError, jwt.exceptions.ExpiredSignatureError, jwt.exceptions.ImmatureSignatureError, jwt.exceptions.InvalidAlgorithmError, jwt.exceptions.InvalidAudienceError, jwt.exceptions.InvalidIssuedAtError, jwt.exceptions.InvalidIssuerError, jwt.exceptions.InvalidKeyError, jwt.exceptions.InvalidTokenError, jwt.exceptions.MissingRequiredClaimError) as e: raise exception.Unauthorized('JWT Error: ' + e.message) response_data = mapped.handle_unscoped_token(auth_payload, PROVIDERS.resource_api, PROVIDERS.federation_api, PROVIDERS.identity_api, PROVIDERS.assignment_api, PROVIDERS.role_api, jwt_payload) return base.AuthHandlerResponse(status=True, response_body=None, response_data=response_data) def _get_valid_algorithms(self): res = [] for v in CONF.jwt_token.valid_algorithms.split(','): v = v.strip() if v != '': res.append(v) return res def _get_valid_issuers(self): res = [] for v in CONF.jwt_token.verify_issuer_valid_issuers.split(','): v = v.strip() if v != '': res.append(v) return res def _load_public_key(self): if not self._public_key: path = CONF.jwt_token.verify_signature_public_key_path with open(path, ""rb"") as key_file: self._public_key = serialization.load_pem_public_key( key_file.read(), backend=default_backend() ) return self._public_key ",,272,2
openstack%2Fneutron~master~Icc1a6b8f8edb9471aa6ab5dc5d5809e4c7126ee5,openstack/neutron,master,Icc1a6b8f8edb9471aa6ab5dc5d5809e4c7126ee5,do not delete removed devices information from port_info,NEW,2021-04-02 10:05:12.000000000,2021-04-02 12:07:47.000000000,,"[{'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-02 10:05:12.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1fa3b9bc0c4495bd7c50cf1f5580cd1a40ed3cb0', 'message': ""do not delete removed devices information from port_info\n\n[OVS] There may be a traffic broken by these stale flows when migrating\nor resizing vms, because removed devices was treated as skipped devices\nin first rpc loop, and port_info['removed'] &= port_info['current']\ndeleted useful information from polling manager in the second rpc loop.\nAfter deleting these code, port_unbound will be executed and the flows\nresidue problem will be resolved.\n\nChange-Id: Icc1a6b8f8edb9471aa6ab5dc5d5809e4c7126ee5\nCloses-Bug: #1912450\n""}]",1,784554,1fa3b9bc0c4495bd7c50cf1f5580cd1a40ed3cb0,6,3,1,30744,,,0,"do not delete removed devices information from port_info

[OVS] There may be a traffic broken by these stale flows when migrating
or resizing vms, because removed devices was treated as skipped devices
in first rpc loop, and port_info['removed'] &= port_info['current']
deleted useful information from polling manager in the second rpc loop.
After deleting these code, port_unbound will be executed and the flows
residue problem will be resolved.

Change-Id: Icc1a6b8f8edb9471aa6ab5dc5d5809e4c7126ee5
Closes-Bug: #1912450
",git fetch https://review.opendev.org/openstack/neutron refs/changes/54/784554/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py']",2,1fa3b9bc0c4495bd7c50cf1f5580cd1a40ed3cb0,fixbug#1912450," def test_process_port_events_removed_ports_not_in_registered_ports(self): removed_ports = {2} expected_ports = ovs_agent.PortInfo(current=registered_ports, removed=removed_ports)", def test_process_port_events_ignores_removed_port_if_never_added(self): expected_ports = ovs_agent.PortInfo(current=registered_ports),4,4
openstack%2Fblazar-dashboard~stable%2Fstein~Ie57dc118d64b15baff611eb8d975601389c4562a,openstack/blazar-dashboard,stable/stein,Ie57dc118d64b15baff611eb8d975601389c4562a,Fix release note formatting,MERGED,2021-04-02 08:36:35.000000000,2021-04-02 11:59:43.000000000,2021-04-02 11:58:16.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-02 08:36:35.000000000', 'files': ['releasenotes/notes/remove-use-of-eval-ef359dec791c97cd.yaml'], 'web_link': 'https://opendev.org/openstack/blazar-dashboard/commit/99da0142c53f5bd4e8efcf5b661658ec9cae48f1', 'message': 'Fix release note formatting\n\nChange-Id: Ie57dc118d64b15baff611eb8d975601389c4562a\n(cherry picked from commit c0af4dd63fd384061641808fd65c5306183fcb56)\n'}]",0,784549,99da0142c53f5bd4e8efcf5b661658ec9cae48f1,7,2,1,15197,,,0,"Fix release note formatting

Change-Id: Ie57dc118d64b15baff611eb8d975601389c4562a
(cherry picked from commit c0af4dd63fd384061641808fd65c5306183fcb56)
",git fetch https://review.opendev.org/openstack/blazar-dashboard refs/changes/49/784549/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/remove-use-of-eval-ef359dec791c97cd.yaml'],1,99da0142c53f5bd4e8efcf5b661658ec9cae48f1,," Uses ``json.loads`` instead of ``eval()`` for JSON parsing, which could"," Uses ``json.loads` instead of ``eval()`` for JSON parsing, which could",1,1
openstack%2Freleases~master~Iabcab9fe9d01f4aa065ff0d7fc152b8883d678a7,openstack/releases,master,Iabcab9fe9d01f4aa065ff0d7fc152b8883d678a7,Add release notes links for Wallaby,MERGED,2021-04-01 09:01:17.000000000,2021-04-02 11:26:00.000000000,2021-04-02 05:43:35.000000000,"[{'_account_id': 841}, {'_account_id': 4264}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 6469}, {'_account_id': 6732}, {'_account_id': 7166}, {'_account_id': 8099}, {'_account_id': 9003}, {'_account_id': 9303}, {'_account_id': 9708}, {'_account_id': 10239}, {'_account_id': 11536}, {'_account_id': 11628}, {'_account_id': 11655}, {'_account_id': 11904}, {'_account_id': 11975}, {'_account_id': 12404}, {'_account_id': 13629}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 15343}, {'_account_id': 16643}, {'_account_id': 19134}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 22998}, {'_account_id': 23078}, {'_account_id': 23365}, {'_account_id': 25701}, {'_account_id': 25738}, {'_account_id': 27032}, {'_account_id': 27654}, {'_account_id': 27900}, {'_account_id': 28062}, {'_account_id': 28356}, {'_account_id': 28522}, {'_account_id': 29244}, {'_account_id': 29313}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-01 09:01:17.000000000', 'files': ['deliverables/wallaby/python-saharaclient.yaml', 'deliverables/wallaby/panko.yaml', 'deliverables/wallaby/os-brick.yaml', 'deliverables/wallaby/kuryr-kubernetes.yaml', 'deliverables/wallaby/openstacksdk.yaml', 'deliverables/wallaby/ironic-inspector.yaml', 'deliverables/wallaby/networking-generic-switch.yaml', 'deliverables/wallaby/cloudkitty-dashboard.yaml', 'deliverables/wallaby/python-masakariclient.yaml', 'deliverables/wallaby/sahara-plugin-ambari.yaml', 'deliverables/wallaby/sahara-plugin-storm.yaml', 'deliverables/wallaby/python-monascaclient.yaml', 'deliverables/wallaby/cloudkitty.yaml', 'deliverables/wallaby/vitrage.yaml', 'deliverables/wallaby/bifrost.yaml', 'deliverables/wallaby/python-vitrageclient.yaml', 'deliverables/wallaby/heat-dashboard.yaml', 'deliverables/wallaby/designate.yaml', 'deliverables/wallaby/masakari.yaml', 'deliverables/wallaby/castellan.yaml', 'deliverables/wallaby/heat.yaml', 'deliverables/wallaby/manila-ui.yaml', 'deliverables/wallaby/sahara.yaml', 'deliverables/wallaby/os-ken.yaml', 'deliverables/wallaby/python-glanceclient.yaml', 'deliverables/wallaby/zun.yaml', 'deliverables/wallaby/osc-placement.yaml', 'deliverables/wallaby/heat-agents.yaml', 'deliverables/wallaby/sahara-dashboard.yaml', 'deliverables/wallaby/monasca-persister.yaml', 'deliverables/wallaby/python-manilaclient.yaml', 'deliverables/wallaby/sahara-plugin-vanilla.yaml', 'deliverables/wallaby/ironic-ui.yaml', 'deliverables/wallaby/monasca-notification.yaml', 'deliverables/wallaby/ironic-prometheus-exporter.yaml', 'deliverables/wallaby/horizon.yaml', 'deliverables/wallaby/sahara-plugin-mapr.yaml', 'deliverables/wallaby/python-novaclient.yaml', 'deliverables/wallaby/python-ironicclient.yaml', 'deliverables/wallaby/sahara-plugin-cdh.yaml', 'deliverables/wallaby/sushy.yaml', 'deliverables/wallaby/glance.yaml', 'deliverables/wallaby/kuryr.yaml', 'deliverables/wallaby/nova.yaml', 'deliverables/wallaby/masakari-monitors.yaml', 'deliverables/wallaby/senlin.yaml', 'deliverables/wallaby/python-swiftclient.yaml', 'deliverables/wallaby/python-ironic-inspector-client.yaml', 'deliverables/wallaby/senlin-dashboard.yaml', 'deliverables/wallaby/aodh.yaml', 'deliverables/wallaby/python-neutronclient.yaml', 'deliverables/wallaby/placement.yaml', 'deliverables/wallaby/sahara-plugin-spark.yaml', 'deliverables/wallaby/neutron.yaml', 'deliverables/wallaby/blazar-dashboard.yaml', 'deliverables/wallaby/kuryr-libnetwork.yaml', 'deliverables/wallaby/tacker.yaml', 'deliverables/wallaby/networking-baremetal.yaml', 'deliverables/wallaby/designate-dashboard.yaml', 'deliverables/wallaby/octavia.yaml', 'deliverables/wallaby/trove.yaml', 'deliverables/wallaby/cinder.yaml', 'deliverables/wallaby/neutron-dynamic-routing.yaml', 'deliverables/wallaby/os-vif.yaml', 'deliverables/wallaby/sushy-cli.yaml', 'deliverables/wallaby/ceilometer.yaml', 'deliverables/wallaby/zun-ui.yaml', 'deliverables/wallaby/cyborg.yaml', 'deliverables/wallaby/metalsmith.yaml', 'deliverables/wallaby/neutron-lib.yaml', 'deliverables/wallaby/manila.yaml', 'deliverables/wallaby/masakari-dashboard.yaml', 'deliverables/wallaby/magnum-ui.yaml', 'deliverables/wallaby/blazar.yaml', 'deliverables/wallaby/neutron-vpnaas.yaml', 'deliverables/wallaby/python-blazarclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ed4fff597a53687b1e2ab249f18cb9147e5a04f4', 'message': 'Add release notes links for Wallaby\n\nChange-Id: Iabcab9fe9d01f4aa065ff0d7fc152b8883d678a7\n'}]",3,784210,ed4fff597a53687b1e2ab249f18cb9147e5a04f4,26,40,1,308,,,0,"Add release notes links for Wallaby

Change-Id: Iabcab9fe9d01f4aa065ff0d7fc152b8883d678a7
",git fetch https://review.opendev.org/openstack/releases refs/changes/10/784210/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/wallaby/python-saharaclient.yaml', 'deliverables/wallaby/panko.yaml', 'deliverables/wallaby/os-brick.yaml', 'deliverables/wallaby/kuryr-kubernetes.yaml', 'deliverables/wallaby/openstacksdk.yaml', 'deliverables/wallaby/ironic-inspector.yaml', 'deliverables/wallaby/networking-generic-switch.yaml', 'deliverables/wallaby/cloudkitty-dashboard.yaml', 'deliverables/wallaby/python-masakariclient.yaml', 'deliverables/wallaby/sahara-plugin-ambari.yaml', 'deliverables/wallaby/sahara-plugin-storm.yaml', 'deliverables/wallaby/python-monascaclient.yaml', 'deliverables/wallaby/cloudkitty.yaml', 'deliverables/wallaby/vitrage.yaml', 'deliverables/wallaby/bifrost.yaml', 'deliverables/wallaby/python-vitrageclient.yaml', 'deliverables/wallaby/heat-dashboard.yaml', 'deliverables/wallaby/designate.yaml', 'deliverables/wallaby/masakari.yaml', 'deliverables/wallaby/castellan.yaml', 'deliverables/wallaby/heat.yaml', 'deliverables/wallaby/manila-ui.yaml', 'deliverables/wallaby/sahara.yaml', 'deliverables/wallaby/os-ken.yaml', 'deliverables/wallaby/python-glanceclient.yaml', 'deliverables/wallaby/zun.yaml', 'deliverables/wallaby/osc-placement.yaml', 'deliverables/wallaby/heat-agents.yaml', 'deliverables/wallaby/sahara-dashboard.yaml', 'deliverables/wallaby/monasca-persister.yaml', 'deliverables/wallaby/python-manilaclient.yaml', 'deliverables/wallaby/sahara-plugin-vanilla.yaml', 'deliverables/wallaby/ironic-ui.yaml', 'deliverables/wallaby/monasca-notification.yaml', 'deliverables/wallaby/ironic-prometheus-exporter.yaml', 'deliverables/wallaby/horizon.yaml', 'deliverables/wallaby/sahara-plugin-mapr.yaml', 'deliverables/wallaby/python-novaclient.yaml', 'deliverables/wallaby/python-ironicclient.yaml', 'deliverables/wallaby/sahara-plugin-cdh.yaml', 'deliverables/wallaby/sushy.yaml', 'deliverables/wallaby/glance.yaml', 'deliverables/wallaby/kuryr.yaml', 'deliverables/wallaby/nova.yaml', 'deliverables/wallaby/masakari-monitors.yaml', 'deliverables/wallaby/senlin.yaml', 'deliverables/wallaby/python-swiftclient.yaml', 'deliverables/wallaby/python-ironic-inspector-client.yaml', 'deliverables/wallaby/senlin-dashboard.yaml', 'deliverables/wallaby/aodh.yaml', 'deliverables/wallaby/python-neutronclient.yaml', 'deliverables/wallaby/placement.yaml', 'deliverables/wallaby/sahara-plugin-spark.yaml', 'deliverables/wallaby/neutron.yaml', 'deliverables/wallaby/blazar-dashboard.yaml', 'deliverables/wallaby/kuryr-libnetwork.yaml', 'deliverables/wallaby/tacker.yaml', 'deliverables/wallaby/networking-baremetal.yaml', 'deliverables/wallaby/designate-dashboard.yaml', 'deliverables/wallaby/octavia.yaml', 'deliverables/wallaby/trove.yaml', 'deliverables/wallaby/cinder.yaml', 'deliverables/wallaby/neutron-dynamic-routing.yaml', 'deliverables/wallaby/os-vif.yaml', 'deliverables/wallaby/sushy-cli.yaml', 'deliverables/wallaby/ceilometer.yaml', 'deliverables/wallaby/zun-ui.yaml', 'deliverables/wallaby/cyborg.yaml', 'deliverables/wallaby/metalsmith.yaml', 'deliverables/wallaby/neutron-lib.yaml', 'deliverables/wallaby/manila.yaml', 'deliverables/wallaby/masakari-dashboard.yaml', 'deliverables/wallaby/magnum-ui.yaml', 'deliverables/wallaby/blazar.yaml', 'deliverables/wallaby/neutron-vpnaas.yaml', 'deliverables/wallaby/python-blazarclient.yaml']",76,ed4fff597a53687b1e2ab249f18cb9147e5a04f4,release-links-wallaby,release-notes: https://docs.openstack.org/releasenotes/python-blazarclient/wallaby.html,,83,6
openstack%2Fopenstack-ansible~master~I511987b8d0026bd6737fdb1a0a4af680b137e902,openstack/openstack-ansible,master,I511987b8d0026bd6737fdb1a0a4af680b137e902,Remove group var overriding uwsgi_python_executable,MERGED,2021-03-22 17:33:25.000000000,2021-04-02 11:22:53.000000000,2021-04-02 11:21:07.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-03-22 17:33:25.000000000', 'files': ['inventory/group_vars/all/all.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/63fdf7a41e618da4e8bdff4db04dc28bae8cd7d2', 'message': 'Remove group var overriding uwsgi_python_executable\n\nThis now defaults to python3 in the uwsgi ansible role so does not\nneed to be overridden\n\nChange-Id: I511987b8d0026bd6737fdb1a0a4af680b137e902\n'}]",0,782304,63fdf7a41e618da4e8bdff4db04dc28bae8cd7d2,25,3,1,25023,,,0,"Remove group var overriding uwsgi_python_executable

This now defaults to python3 in the uwsgi ansible role so does not
need to be overridden

Change-Id: I511987b8d0026bd6737fdb1a0a4af680b137e902
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/04/782304/1 && git format-patch -1 --stdout FETCH_HEAD,['inventory/group_vars/all/all.yml'],1,63fdf7a41e618da4e8bdff4db04dc28bae8cd7d2,,,"#uwsgi venv deploys the same python version as OpenStack service venv uwsgi_python_executable: ""{{ openstack_venv_python_executable }}"" ",0,3
openstack%2Fopenstack-ansible-haproxy_server~master~Iab7c31624dc0e9b20ff70fd55bbd2bf1091ba857,openstack/openstack-ansible-haproxy_server,master,Iab7c31624dc0e9b20ff70fd55bbd2bf1091ba857,Fix retrieving variable from inside ansible_facts[],MERGED,2021-03-16 17:35:41.000000000,2021-04-02 11:21:54.000000000,2021-04-02 11:20:28.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-03-16 17:35:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/7eb1f4aaa309978fc83c2c53c8600552e74bdbff', 'message': 'Fix retrieving variable from inside ansible_facts[]\n\nDo not use the dot notation.\n\nChange-Id: Iab7c31624dc0e9b20ff70fd55bbd2bf1091ba857\n'}, {'number': 2, 'created': '2021-04-02 10:39:04.000000000', 'files': ['tasks/haproxy_service_config.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/abafc878c29a206414fc33b79883e926db8ee654', 'message': 'Fix retrieving variable from inside ansible_facts[]\n\nDo not use the dot notation.\n\nChange-Id: Iab7c31624dc0e9b20ff70fd55bbd2bf1091ba857\n'}]",0,780936,abafc878c29a206414fc33b79883e926db8ee654,19,4,2,25023,,,0,"Fix retrieving variable from inside ansible_facts[]

Do not use the dot notation.

Change-Id: Iab7c31624dc0e9b20ff70fd55bbd2bf1091ba857
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/36/780936/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/haproxy_service_config.yml'],1,7eb1f4aaa309978fc83c2c53c8600552e74bdbff,osa-facts," - ansible_facts['selinux']['status'] == ""enabled"""," - ansible_facts['selinux'].status == ""enabled""",1,1
openstack%2Fcompute-hyperv~master~If4315235006d11e7f26e1632eff4f353860483f2,openstack/compute-hyperv,master,If4315235006d11e7f26e1632eff4f353860483f2,Add Python3 xena unit tests,MERGED,2021-03-22 09:12:25.000000000,2021-04-02 11:01:50.000000000,2021-04-02 11:01:50.000000000,"[{'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-22 09:12:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/93fab4d1988c9f5d1b545ccf867d0ede6fcc6aa5', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: If4315235006d11e7f26e1632eff4f353860483f2\n'}, {'number': 2, 'created': '2021-04-02 09:56:11.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/e0aceaab50a0831dd40875ff9355f06226b9b373', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: If4315235006d11e7f26e1632eff4f353860483f2\n'}]",0,782089,e0aceaab50a0831dd40875ff9355f06226b9b373,12,2,2,22816,,,0,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: If4315235006d11e7f26e1632eff4f353860483f2
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/89/782089/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,93fab4d1988c9f5d1b545ccf867d0ede6fcc6aa5,add-xena-python-jobtemplates, - openstack-python3-xena-jobs, - openstack-python3-wallaby-jobs,1,1
openstack%2Fopenstack-ansible-os_neutron~master~I12d982417fa0d3194a71ce800d2bc50736eab216,openstack/openstack-ansible-os_neutron,master,I12d982417fa0d3194a71ce800d2bc50736eab216,Fixing doc typo,MERGED,2021-03-26 19:12:12.000000000,2021-04-02 10:39:09.000000000,2021-04-02 10:37:51.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-03-26 19:12:12.000000000', 'files': ['doc/source/app-ovn.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/ea9dae41ad61195ae25f7673d016bcf2486204c8', 'message': 'Fixing doc typo\n\nChange-Id: I12d982417fa0d3194a71ce800d2bc50736eab216\n'}]",0,783461,ea9dae41ad61195ae25f7673d016bcf2486204c8,8,3,1,28752,,,0,"Fixing doc typo

Change-Id: I12d982417fa0d3194a71ce800d2bc50736eab216
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/61/783461/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/app-ovn.rst'],1,ea9dae41ad61195ae25f7673d016bcf2486204c8,osa/os_neutron, - neutron.services.ovn_l3.plugin.OVNL3RouterPlugin, - networking_ovn.l3.l3_ovn.OVNL3RouterPlugin,1,1
openstack%2Fkeystone~stable%2Fvictoria~I94337812c55cdc1cd07a94ab6dd4dac9ccb439e3,openstack/keystone,stable/victoria,I94337812c55cdc1cd07a94ab6dd4dac9ccb439e3,Adds support for JWT Tokens as authorization method,ABANDONED,2021-04-01 22:22:35.000000000,2021-04-02 10:34:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-01 22:22:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ea5732e1ac2645b0eeaf482f96f9a66714207def', 'message': 'Adds support for JWT Tokens as authorization method\n\nChange-Id: I94337812c55cdc1cd07a94ab6dd4dac9ccb439e3\n'}, {'number': 2, 'created': '2021-04-01 22:34:40.000000000', 'files': ['keystone/conf/__init__.py', 'keystone/auth/plugins/mapped.py', 'keystone/conf/jwt_token.py', 'setup.cfg', 'keystone/auth/plugins/jwt_token.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/d6113c86133db78d8a160bb8a8c487b0c1575b0b', 'message': ""Adds support for JWT Tokens as authorization method\n\nThis patch adds new authorization protocol - jwt_token.\nIt allows to access endpoint '/v3/OS-FEDERATION/identity_providers/{IDP_NAME}/protocols/jwt_token/auth' (and obtain keystone auth token) using JWT token in Authorization header field.\nHeader value is checked against proper formating and JWT token is extracted from it.\nThen, token is validated against proper signature, issuer and expiration date and others.\nThen, if this end with success, payload from token is supplied to mapping engine, when new user is created.\n\nChange-Id: I94337812c55cdc1cd07a94ab6dd4dac9ccb439e3\n""}]",89,784512,d6113c86133db78d8a160bb8a8c487b0c1575b0b,6,1,2,33315,,,0,"Adds support for JWT Tokens as authorization method

This patch adds new authorization protocol - jwt_token.
It allows to access endpoint '/v3/OS-FEDERATION/identity_providers/{IDP_NAME}/protocols/jwt_token/auth' (and obtain keystone auth token) using JWT token in Authorization header field.
Header value is checked against proper formating and JWT token is extracted from it.
Then, token is validated against proper signature, issuer and expiration date and others.
Then, if this end with success, payload from token is supplied to mapping engine, when new user is created.

Change-Id: I94337812c55cdc1cd07a94ab6dd4dac9ccb439e3
",git fetch https://review.opendev.org/openstack/keystone refs/changes/12/784512/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/conf/__init__.py', 'keystone/auth/plugins/mapped.py', 'keystone/conf/jwt_token.py', 'setup.cfg', 'keystone/auth/plugins/jwt_token.py']",5,ea5732e1ac2645b0eeaf482f96f9a66714207def,jwt,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # """"""Supports for jwt_token authorization method """""" from oslo_log import log import six import jwt import flask from cryptography.hazmat.backends import default_backend from cryptography.hazmat.primitives import serialization from keystone.auth.plugins import base from keystone.auth.plugins import mapped from keystone.common import provider_api from keystone import exception import keystone.conf LOG = log.getLogger(__name__) CONF = keystone.conf.CONF.jwt_token PROVIDERS = provider_api.ProviderAPIs MODULE_NAME='jwt_token' class JWTToken(base.AuthMethodHandler): def __init__(self): self._public_key = None def authenticate(self, auth_payload): """""" Performs authentication process using JWT token supplied in 'Authorization' header Firstly check if header is valid - that means, if is in format 'Authorization: Bearer XXXX' Then parses JWT token in header and verify it agains - expiration time, issuer and check signature - according to configuration. If everything is ok, payload from token is extracted and then passed to maping engine. """""" authorization_header_value = flask.request.headers.get('Authorization') if not authorization_header_value: raise exception.ValidationError(attribute='Authorization', target='request.headers') authorization_header_arr = authorization_header_value.split(' ') if len(authorization_header_arr) != 2: raise exception.Unauthorized('Invalid authorization header value') if authorization_header_arr[0] != 'Bearer': raise exception.Unauthorized('Invalid authorization header value') jwt_header = None jwt_payload = None try: jwt_header = jwt.get_unverified_header(authorization_header_arr[1]) if not 'alg' in jwt_header: raise jwt.exceptions.InvalidAlgorithmError('No algorithm specified') if not jwt_header['alg'] in self._get_valid_algorithms(): raise jwt.exceptions.InvalidAlgorithmError('Unsupported algorithm given') if jwt_header['alg'].startswith('RS'): jwt_payload = jwt.decode(authorization_header_arr[1], key=self._load_public_key(), algorithms=self._get_valid_algorithms(), leeway=CONF.leeway, options={ 'require_exp': True, 'verify_aud': False, 'verify_exp': True, 'verify_iss': False, }) elif jwt_header['alg'].startswith('HS'): jwt_payload = jwt.decode(authorization_header_arr[1], key=CONF.verify_signature_secret, algorithms=self._get_valid_algorithms(), leeway=CONF.leeway, options={ 'require_exp': True, 'verify_aud': False, 'verify_exp': True, 'verify_iss': False, }) else: raise jwt.exceptions.InvalidAlgorithmError('Unsupported algorithm given') if CONF.verify_issuer: if not 'iss' in jwt_payload: raise jwt.exceptions.InvalidIssuerError('Invalid issuer') if not jwt_payload['iss'] in self._get_valid_issuers(): raise jwt.exceptions.InvalidIssuerError('Invalid issuer') except (jwt.exceptions.DecodeError, jwt.exceptions.ExpiredSignatureError, jwt.exceptions.ImmatureSignatureError, jwt.exceptions.InvalidAlgorithmError, jwt.exceptions.InvalidAudienceError, jwt.exceptions.InvalidIssuedAtError, jwt.exceptions.InvalidIssuerError, jwt.exceptions.InvalidKeyError, jwt.exceptions.InvalidTokenError, jwt.exceptions.MissingRequiredClaimError) as e: raise exception.Unauthorized('JWT Error: ' + e.message) response_data = mapped.handle_unscoped_token(auth_payload, PROVIDERS.resource_api, PROVIDERS.federation_api, PROVIDERS.identity_api, PROVIDERS.assignment_api, PROVIDERS.role_api, jwt_payload) return base.AuthHandlerResponse(status=True, response_body=None, response_data=response_data) def _get_valid_algorithms(self): res = [ ] for v in CONF.valid_algorithms.split(','): v = v.strip() if v != '': res.append(v) return res def _get_valid_issuers(self): res = [ ] for v in CONF.verify_issuer_valid_issuers.split(','): v = v.strip() if v != '': res.append(v) return res def _load_public_key(self): if not self._public_key: with open(CONF.verify_signature_public_key_path, ""rb"") as key_file: self._public_key = serialization.load_pem_public_key(key_file.read(), backend=default_backend()) return self._public_key ",,266,2
openstack%2Fblazar-dashboard~stable%2Ftrain~Ie57dc118d64b15baff611eb8d975601389c4562a,openstack/blazar-dashboard,stable/train,Ie57dc118d64b15baff611eb8d975601389c4562a,Fix release note formatting,MERGED,2021-04-02 08:36:07.000000000,2021-04-02 10:33:17.000000000,2021-04-02 10:31:45.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-02 08:36:07.000000000', 'files': ['releasenotes/notes/remove-use-of-eval-ef359dec791c97cd.yaml'], 'web_link': 'https://opendev.org/openstack/blazar-dashboard/commit/6b22b22e9872af6a35fb48a861b9dcc9716d61eb', 'message': 'Fix release note formatting\n\nChange-Id: Ie57dc118d64b15baff611eb8d975601389c4562a\n(cherry picked from commit c0af4dd63fd384061641808fd65c5306183fcb56)\n'}]",0,784548,6b22b22e9872af6a35fb48a861b9dcc9716d61eb,7,2,1,15197,,,0,"Fix release note formatting

Change-Id: Ie57dc118d64b15baff611eb8d975601389c4562a
(cherry picked from commit c0af4dd63fd384061641808fd65c5306183fcb56)
",git fetch https://review.opendev.org/openstack/blazar-dashboard refs/changes/48/784548/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/remove-use-of-eval-ef359dec791c97cd.yaml'],1,6b22b22e9872af6a35fb48a861b9dcc9716d61eb,," Uses ``json.loads`` instead of ``eval()`` for JSON parsing, which could"," Uses ``json.loads` instead of ``eval()`` for JSON parsing, which could",1,1
openstack%2Fneutron~stable%2Fstein~I747aa2c391316210339dc8b8239424ee6b44bb47,openstack/neutron,stable/stein,I747aa2c391316210339dc8b8239424ee6b44bb47,Switch tempest jobs to neutron specific ones,MERGED,2021-03-25 15:02:55.000000000,2021-04-02 10:20:22.000000000,2021-04-02 10:16:01.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-25 15:02:55.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/eb5ed602f0134eeed78af197ab159f73eebe11df', 'message': 'Switch tempest jobs to neutron specific ones\n\nIn neutron CI queues we were running tempest-slow-py3 and\ntempest-ipv6-only jobs which are defined in tempest repository and runs\nall tests, e.g related to Swift or Cinder.\nThis patch defines new jobs: ""neutron-tempest-slow-py3"" and\n""neutron-tempest-ipv6-only"" which inherits from the tempest jobs but\ndisables Cinder and Swift services.\nAdditionally ""neutron-tempest-ipv6-only"" job now runs only\n""integrated-networking"" tox_envlist.\n\nOriginally in master branch it was done in patch [1] but due to\ncompletly different structure of zuul config files in stable/ussuri in\nnewer branches, there is no point to do regular cherry-pick to\nstable/train branch from there. So this patch is doing similar change\nbut it\'s valid only for stable/train and older branches.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/770630\n\nConflicts:\n    .zuul.yaml\n\nChange-Id: I747aa2c391316210339dc8b8239424ee6b44bb47\n(cherry picked from commit 1d64488f5c6034ef2675e94c17d80c8d95aa8c76)\n'}]",0,783024,eb5ed602f0134eeed78af197ab159f73eebe11df,41,3,1,11975,,,0,"Switch tempest jobs to neutron specific ones

In neutron CI queues we were running tempest-slow-py3 and
tempest-ipv6-only jobs which are defined in tempest repository and runs
all tests, e.g related to Swift or Cinder.
This patch defines new jobs: ""neutron-tempest-slow-py3"" and
""neutron-tempest-ipv6-only"" which inherits from the tempest jobs but
disables Cinder and Swift services.
Additionally ""neutron-tempest-ipv6-only"" job now runs only
""integrated-networking"" tox_envlist.

Originally in master branch it was done in patch [1] but due to
completly different structure of zuul config files in stable/ussuri in
newer branches, there is no point to do regular cherry-pick to
stable/train branch from there. So this patch is doing similar change
but it's valid only for stable/train and older branches.

[1] https://review.opendev.org/c/openstack/neutron/+/770630

Conflicts:
    .zuul.yaml

Change-Id: I747aa2c391316210339dc8b8239424ee6b44bb47
(cherry picked from commit 1d64488f5c6034ef2675e94c17d80c8d95aa8c76)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/24/783024/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,eb5ed602f0134eeed78af197ab159f73eebe11df,improve-neutron-ci-stable/stein, - neutron-tempest-slow-py3 - neutron-tempest-slow-py3 - job: name: neutron-tempest-slow-py3 parent: tempest-slow-py3 timeout: 10800 irrelevant-files: *tempest-irrelevant-files vars: devstack_plugins: neutron: https://opendev.org/openstack/neutron.git devstack_services: br-ex-tcpdump: true br-int-flows: true # Cinder services c-api: false c-bak: false c-sch: false c-vol: false cinder: false # Swift services s-account: false s-container: false s-object: false s-proxy: false devstack_localrc: # to avoid https://bugs.launchpad.net/neutron/+bug/1914037 # as we couldn't backport the fix to stein release IPV6_PUBLIC_RANGE: 2001:db8:0:10::/64 IPV6_PUBLIC_NETWORK_GATEWAY: 2001:db8:0:10::2 IPV6_ROUTER_GW_IP: 2001:db8:0:10::1 group-vars: subnode: devstack_services: # Cinder services c-bak: false c-vol: false, - tempest-slow-py3: irrelevant-files: *tempest-irrelevant-files vars: devstack_localrc: # to avoid https://bugs.launchpad.net/neutron/+bug/1914037 # as we couldn't backport the fix to stein release IPV6_PUBLIC_RANGE: 2001:db8:0:10::/64 IPV6_PUBLIC_NETWORK_GATEWAY: 2001:db8:0:10::2 IPV6_ROUTER_GW_IP: 2001:db8:0:10::1 - tempest-slow-py3: irrelevant-files: *tempest-irrelevant-files vars: devstack_localrc: # to avoid https://bugs.launchpad.net/neutron/+bug/1914037 # as we couldn't backport the fix to stein release IPV6_PUBLIC_RANGE: 2001:db8:0:10::/64 IPV6_PUBLIC_NETWORK_GATEWAY: 2001:db8:0:10::2 IPV6_ROUTER_GW_IP: 2001:db8:0:10::1,37,18
openstack%2Fcompute-hyperv~stable%2Fwallaby~Ifbf8a9eedd57f851152bb6d7d6b9b4a331046cf9,openstack/compute-hyperv,stable/wallaby,Ifbf8a9eedd57f851152bb6d7d6b9b4a331046cf9,Update .gitreview for stable/wallaby,MERGED,2021-03-22 09:11:28.000000000,2021-04-02 10:12:55.000000000,2021-04-02 10:12:55.000000000,"[{'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-22 09:11:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/0c40f7bb6a7af41ce48933188c0c1b3360772a95', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: Ifbf8a9eedd57f851152bb6d7d6b9b4a331046cf9\n'}, {'number': 2, 'created': '2021-04-02 09:26:06.000000000', 'files': ['requirements.txt', '.gitreview', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/8fdb80375d9703dc39e40a0ba2d9eca83e0d0e06', 'message': ""Update .gitreview for stable/wallaby\n\nIn order to be able to merge this, we'll need to also pick up Nova's\nrequirements, otherwise the lower constraints job fails.\n\nChange-Id: Ifbf8a9eedd57f851152bb6d7d6b9b4a331046cf9\n""}]",0,782082,8fdb80375d9703dc39e40a0ba2d9eca83e0d0e06,11,2,2,22816,,,0,"Update .gitreview for stable/wallaby

In order to be able to merge this, we'll need to also pick up Nova's
requirements, otherwise the lower constraints job fails.

Change-Id: Ifbf8a9eedd57f851152bb6d7d6b9b4a331046cf9
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/82/782082/2 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,0c40f7bb6a7af41ce48933188c0c1b3360772a95,create-wallaby,defaultbranch=stable/wallaby,,1,0
openstack%2Fvalidations-common~master~I9d00c4390ada5d51e1cb336be537349d7c124ac1,openstack/validations-common,master,I9d00c4390ada5d51e1cb336be537349d7c124ac1,.gitignore now excludes JSON molecule logs,MERGED,2021-03-31 06:44:19.000000000,2021-04-02 10:03:42.000000000,2021-04-02 10:03:42.000000000,"[{'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2021-03-31 06:44:19.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/8225fddedbd8d86c4b9d0500bd4bf7636c01344f', 'message': "".gitignore now excludes JSON molecule logs\n\nEach run of the newly implemented tox-ansible tests,\nproduces several JSON log files, one for each stage\nof the molecule test.\n\nThese files only describe results of their specific stage\nand perform no other function.\n\nThis patch makes sure git doesn't consider these files\nas unstaged and ignores them.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I9d00c4390ada5d51e1cb336be537349d7c124ac1\n""}]",0,784007,8225fddedbd8d86c4b9d0500bd4bf7636c01344f,8,4,1,32926,,,0,".gitignore now excludes JSON molecule logs

Each run of the newly implemented tox-ansible tests,
produces several JSON log files, one for each stage
of the molecule test.

These files only describe results of their specific stage
and perform no other function.

This patch makes sure git doesn't consider these files
as unstaged and ignores them.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I9d00c4390ada5d51e1cb336be537349d7c124ac1
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/07/784007/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,8225fddedbd8d86c4b9d0500bd4bf7636c01344f,gitignore/moleculelogs, # JSON files created by molecule tests */roles/*/molecule/*/*Z.json,,3,0
openstack%2Fkeystone~stable%2Fvictoria~Ifd28db1a4907b0326096bf558d119188f24a55f9,openstack/keystone,stable/victoria,Ifd28db1a4907b0326096bf558d119188f24a55f9,Adds support for creating projects by ID and extends mapping engine.,ABANDONED,2021-04-01 22:54:48.000000000,2021-04-02 10:00:28.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-01 22:54:48.000000000', 'files': ['keystone/conf/__init__.py', 'keystone/federation/utils.py', 'keystone/auth/plugins/mapped.py', 'keystone/conf/mapped.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/e914c88eddd8b5a46d79525d7e5a584015d38e7f', 'message': 'Adds support for creating projects by ID and extends mapping engine.\n\nCurrently mapping engine can map multiple projects for user  (as stated in https://docs.openstack.org/keystone/pike/advanced-topics/federation/mapping_combinations.html), but this support\nlacks from (a) dynamic mapping projects from assertion (for ex. projects ids are in assertion) and (b) mapping engine cannot map to list from assertion (if in asertion we have\n""some_field"": [ id1, id2, ..., idN ] - then using this field by substitution - eg ""{1}"" wont map this to whole needed structure of projects in mapping).\n\nIn patch I extend mapping schema by adding new field ""projects_spec"" of type string.\nThis field contains string formated like\n  project1ID:role1:role2:..:roleN,project2ID:role1:...:roleN,...\nand this is mapped into proper structure { ""projects"": [  { ""id"": .., ""roles"": [ ... ] }, ... ] }\n\nthis allows the identity provider to supply permission-like informations about what projects user should have access to.\n\nChange-Id: Ifd28db1a4907b0326096bf558d119188f24a55f9\n'}]",19,784513,e914c88eddd8b5a46d79525d7e5a584015d38e7f,5,1,1,33315,,,0,"Adds support for creating projects by ID and extends mapping engine.

Currently mapping engine can map multiple projects for user  (as stated in https://docs.openstack.org/keystone/pike/advanced-topics/federation/mapping_combinations.html), but this support
lacks from (a) dynamic mapping projects from assertion (for ex. projects ids are in assertion) and (b) mapping engine cannot map to list from assertion (if in asertion we have
""some_field"": [ id1, id2, ..., idN ] - then using this field by substitution - eg ""{1}"" wont map this to whole needed structure of projects in mapping).

In patch I extend mapping schema by adding new field ""projects_spec"" of type string.
This field contains string formated like
  project1ID:role1:role2:..:roleN,project2ID:role1:...:roleN,...
and this is mapped into proper structure { ""projects"": [  { ""id"": .., ""roles"": [ ... ] }, ... ] }

this allows the identity provider to supply permission-like informations about what projects user should have access to.

Change-Id: Ifd28db1a4907b0326096bf558d119188f24a55f9
",git fetch https://review.opendev.org/openstack/keystone refs/changes/13/784513/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/conf/__init__.py', 'keystone/federation/utils.py', 'keystone/auth/plugins/mapped.py', 'keystone/conf/mapped.py']",4,e914c88eddd8b5a46d79525d7e5a584015d38e7f,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_config import cfg from keystone.conf import utils auto_create_project_by_name = cfg.BoolOpt( 'auto_create_project_by_name', default=True, help=utils.fmt("""""" Determines if projects mapped by name should be created """""")) auto_create_project_by_id = cfg.BoolOpt( 'auto_create_project_by_id', default=False, help=utils.fmt("""""" Determines if projects mapped by ID should be created """""")) ignore_uncreated_projects = cfg.BoolOpt( 'ignore_uncreated_projects', default=True, help=utils.fmt("""""" If set, projects that cannot be mapped (by ID or by name) are simply ignored. If not-set, then exception is thrown and user is not able to authenticate """""")) GROUP_NAME = __name__.split('.')[-1] ALL_OPTS = [ auto_create_project_by_name, auto_create_project_by_id, ignore_uncreated_projects ] def register_opts(conf): conf.register_opts(ALL_OPTS, group=GROUP_NAME) def list_opts(): return {GROUP_NAME: ALL_OPTS} ",,182,30
openstack%2Fblazar-dashboard~stable%2Fussuri~Ie57dc118d64b15baff611eb8d975601389c4562a,openstack/blazar-dashboard,stable/ussuri,Ie57dc118d64b15baff611eb8d975601389c4562a,Fix release note formatting,MERGED,2021-04-02 08:35:16.000000000,2021-04-02 09:55:47.000000000,2021-04-02 09:54:29.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-02 08:35:16.000000000', 'files': ['releasenotes/notes/remove-use-of-eval-ef359dec791c97cd.yaml'], 'web_link': 'https://opendev.org/openstack/blazar-dashboard/commit/22a4289b734094a687974618befc5ef851929f31', 'message': 'Fix release note formatting\n\nChange-Id: Ie57dc118d64b15baff611eb8d975601389c4562a\n(cherry picked from commit c0af4dd63fd384061641808fd65c5306183fcb56)\n'}]",0,784547,22a4289b734094a687974618befc5ef851929f31,7,2,1,15197,,,0,"Fix release note formatting

Change-Id: Ie57dc118d64b15baff611eb8d975601389c4562a
(cherry picked from commit c0af4dd63fd384061641808fd65c5306183fcb56)
",git fetch https://review.opendev.org/openstack/blazar-dashboard refs/changes/47/784547/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/remove-use-of-eval-ef359dec791c97cd.yaml'],1,22a4289b734094a687974618befc5ef851929f31,," Uses ``json.loads`` instead of ``eval()`` for JSON parsing, which could"," Uses ``json.loads` instead of ``eval()`` for JSON parsing, which could",1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I0e6594bfd1ff2e27bb4917c157f163643a811ca6,openstack/tripleo-heat-templates,stable/train,I0e6594bfd1ff2e27bb4917c157f163643a811ca6,WIP/TEST/DNM train-only  Move the overcloud bootstrap task 1 before the deploy tasks,ABANDONED,2021-01-28 08:53:33.000000000,2021-04-02 09:47:40.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-28 08:53:33.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6365462559d1bdb76540e22b1b5d0d577ecb18be', 'message': 'WIP/TEST/DNM train-only  Move the overcloud bootstrap task 1 before the deploy tasks\n\nThis is just a train-only test version so I can test this more\n\nChange-Id: I0e6594bfd1ff2e27bb4917c157f163643a811ca6\n'}]",0,772838,6365462559d1bdb76540e22b1b5d0d577ecb18be,8,2,1,20172,,,0,"WIP/TEST/DNM train-only  Move the overcloud bootstrap task 1 before the deploy tasks

This is just a train-only test version so I can test this more

Change-Id: I0e6594bfd1ff2e27bb4917c157f163643a811ca6
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/38/772838/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,6365462559d1bdb76540e22b1b5d0d577ecb18be,train-ordering," - name: Overcloud deploy step tasks for {{step}} delegate_to: localhost run_once: true debug: msg: Use --start-at-task ""Overcloud deploy step tasks for {{step}}"" to resume from this task {%- for role in roles %} - include_tasks: ""{{role.name}}/deploy_steps_tasks_step{{step}}.yaml"" when: - tripleo_role_name == '{{role.name}}' - ""'{{role.name}}/deploy_steps_tasks_step{{step}}.yaml' is exists"" {%- endfor %}"," - name: Overcloud deploy step tasks for {{step}} delegate_to: localhost run_once: true debug: msg: Use --start-at-task ""Overcloud deploy step tasks for {{step}}"" to resume from this task {%- for role in roles %} - include_tasks: ""{{role.name}}/deploy_steps_tasks_step{{step}}.yaml"" when: - tripleo_role_name == '{{role.name}}' - ""'{{role.name}}/deploy_steps_tasks_step{{step}}.yaml' is exists"" {%- endfor %}",11,11
openstack%2Fcompute-hyperv~master~Icb31aff7309c008c141fea3a0de5745cd96bd8bc,openstack/compute-hyperv,master,Icb31aff7309c008c141fea3a0de5745cd96bd8bc,Bump minimum requirements to match Nova,MERGED,2021-04-02 07:10:11.000000000,2021-04-02 09:35:19.000000000,2021-04-02 09:35:19.000000000,"[{'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-02 07:10:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/7efb5b6358d09ce280584ac43de035c7635dd40b', 'message': 'Bump pbr requirement to >= 5.5.1\n\nNova requires pbr 5.5.1, which is why our lower constraints job\nis currently failing.\n\nChange-Id: Icb31aff7309c008c141fea3a0de5745cd96bd8bc\n'}, {'number': 2, 'created': '2021-04-02 08:04:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/602242cf742544b098782792fbc5c44933cc1566', 'message': ""Bump minimum requirements to match Nova\n\nNova bumped a few minimum requirements, which is why our lower\nconstraints job is currently failing.\n\nWe'll have to pick up those changes as well.\n\nChange-Id: Icb31aff7309c008c141fea3a0de5745cd96bd8bc\n""}, {'number': 3, 'created': '2021-04-02 08:31:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/1add0c27f6a68b0eca1cd96d876375117439ca72', 'message': ""Bump minimum requirements to match Nova\n\nNova bumped a few minimum requirements, which is why our lower\nconstraints job is currently failing.\n\nWe'll have to pick up those changes as well.\n\nChange-Id: Icb31aff7309c008c141fea3a0de5745cd96bd8bc\n""}, {'number': 4, 'created': '2021-04-02 08:53:32.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/8e85d7004b82a9d4a486b07b41af4d314d40c3ec', 'message': ""Bump minimum requirements to match Nova\n\nNova bumped a few minimum requirements, which is why our lower\nconstraints job is currently failing.\n\nWe'll have to pick up those changes as well.\n\nChange-Id: Icb31aff7309c008c141fea3a0de5745cd96bd8bc\n""}]",0,784539,8e85d7004b82a9d4a486b07b41af4d314d40c3ec,12,2,4,8543,,,0,"Bump minimum requirements to match Nova

Nova bumped a few minimum requirements, which is why our lower
constraints job is currently failing.

We'll have to pick up those changes as well.

Change-Id: Icb31aff7309c008c141fea3a0de5745cd96bd8bc
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/39/784539/4 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,7efb5b6358d09ce280584ac43de035c7635dd40b,,pbr==5.5.1,pbr==2.0.0,1,1
openstack%2Fblazar-dashboard~stable%2Fvictoria~Ie57dc118d64b15baff611eb8d975601389c4562a,openstack/blazar-dashboard,stable/victoria,Ie57dc118d64b15baff611eb8d975601389c4562a,Fix release note formatting,MERGED,2021-04-02 08:35:02.000000000,2021-04-02 09:27:58.000000000,2021-04-02 09:26:41.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-02 08:35:02.000000000', 'files': ['releasenotes/notes/remove-use-of-eval-ef359dec791c97cd.yaml'], 'web_link': 'https://opendev.org/openstack/blazar-dashboard/commit/916463f5d7f32a33fa40408d60514064e94eedbe', 'message': 'Fix release note formatting\n\nChange-Id: Ie57dc118d64b15baff611eb8d975601389c4562a\n(cherry picked from commit c0af4dd63fd384061641808fd65c5306183fcb56)\n'}]",0,784546,916463f5d7f32a33fa40408d60514064e94eedbe,7,2,1,15197,,,0,"Fix release note formatting

Change-Id: Ie57dc118d64b15baff611eb8d975601389c4562a
(cherry picked from commit c0af4dd63fd384061641808fd65c5306183fcb56)
",git fetch https://review.opendev.org/openstack/blazar-dashboard refs/changes/46/784546/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/remove-use-of-eval-ef359dec791c97cd.yaml'],1,916463f5d7f32a33fa40408d60514064e94eedbe,," Uses ``json.loads`` instead of ``eval()`` for JSON parsing, which could"," Uses ``json.loads` instead of ``eval()`` for JSON parsing, which could",1,1
openstack%2Fblazar-dashboard~stable%2Fwallaby~Ie57dc118d64b15baff611eb8d975601389c4562a,openstack/blazar-dashboard,stable/wallaby,Ie57dc118d64b15baff611eb8d975601389c4562a,Fix release note formatting,MERGED,2021-04-02 08:33:21.000000000,2021-04-02 08:57:38.000000000,2021-04-02 08:56:12.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-02 08:33:21.000000000', 'files': ['releasenotes/notes/remove-use-of-eval-ef359dec791c97cd.yaml'], 'web_link': 'https://opendev.org/openstack/blazar-dashboard/commit/c0af4dd63fd384061641808fd65c5306183fcb56', 'message': 'Fix release note formatting\n\nChange-Id: Ie57dc118d64b15baff611eb8d975601389c4562a\n'}]",0,784545,c0af4dd63fd384061641808fd65c5306183fcb56,7,2,1,15197,,,0,"Fix release note formatting

Change-Id: Ie57dc118d64b15baff611eb8d975601389c4562a
",git fetch https://review.opendev.org/openstack/blazar-dashboard refs/changes/45/784545/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/remove-use-of-eval-ef359dec791c97cd.yaml'],1,c0af4dd63fd384061641808fd65c5306183fcb56,," Uses ``json.loads`` instead of ``eval()`` for JSON parsing, which could"," Uses ``json.loads` instead of ``eval()`` for JSON parsing, which could",1,1
openstack%2Fopenstack-ansible~master~I1889ac7c22870f99b652c0df5f242b89416e1387,openstack/openstack-ansible,master,I1889ac7c22870f99b652c0df5f242b89416e1387,Use the version of setuptools specified in upper-constraints,MERGED,2021-03-29 17:10:06.000000000,2021-04-02 08:52:05.000000000,2021-04-02 08:49:01.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-03-29 17:10:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3fa72f2f4f029fb1d04fd5f50ed63cd0285cfe72', 'message': 'Use the version of setuptools specified in upper-constraints\n\nThe new pip resolver will break every time that u-c specifies a\ndifferent version of setuptools to the one in global-requirement-pins.\n\nDrop the constraint from openstack-ansible and use the one from\nu-c instead. Also bump the version of pip to the latest.\n\nChange-Id: I1889ac7c22870f99b652c0df5f242b89416e1387\n'}, {'number': 2, 'created': '2021-03-30 06:41:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/53c730812b3244b2f6b348a30e5676c162a07fbc', 'message': 'Use the version of setuptools specified in upper-constraints\n\nThe new pip resolver will break every time that u-c specifies a\ndifferent version of setuptools to the one in global-requirement-pins.\n\nDrop the constraint from openstack-ansible and use the one from\nu-c instead. Also bump the version of pip to the latest.\n\nChange-Id: I1889ac7c22870f99b652c0df5f242b89416e1387\n'}, {'number': 3, 'created': '2021-03-30 06:42:34.000000000', 'files': ['global-requirement-pins.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/48abf9a5a4e8ba7ce0a0399b7b76c6424bca93d1', 'message': 'Use the version of setuptools specified in upper-constraints\n\nThe new pip resolver will break every time that u-c specifies a\ndifferent version of setuptools to the one in global-requirement-pins.\n\nDrop the constraint from openstack-ansible and use the one from\nu-c instead. Also bump the version of pip to the latest.\n\nChange-Id: I1889ac7c22870f99b652c0df5f242b89416e1387\n'}]",0,783720,48abf9a5a4e8ba7ce0a0399b7b76c6424bca93d1,17,2,3,25023,,,0,"Use the version of setuptools specified in upper-constraints

The new pip resolver will break every time that u-c specifies a
different version of setuptools to the one in global-requirement-pins.

Drop the constraint from openstack-ansible and use the one from
u-c instead. Also bump the version of pip to the latest.

Change-Id: I1889ac7c22870f99b652c0df5f242b89416e1387
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/20/783720/2 && git format-patch -1 --stdout FETCH_HEAD,['global-requirement-pins.txt'],1,3fa72f2f4f029fb1d04fd5f50ed63cd0285cfe72,,pip==21.0.1,pip==20.3.3 setuptools==51.1.2,1,2
openstack%2Fopenstack-ansible~master~Ibd11a9c12c924b8e51b42fe4c8879baa25d410f4,openstack/openstack-ansible,master,Ibd11a9c12c924b8e51b42fe4c8879baa25d410f4,Add adjutant-ui repo package and zuul repo,MERGED,2021-04-01 12:38:36.000000000,2021-04-02 08:50:48.000000000,2021-04-02 08:46:24.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-04-01 12:38:36.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/416f96434410f47fabed30013694e44cf09b75b1', 'message': 'Add adjutant-ui repo package and zuul repo\n\nAdd these so we can enable the adjutant panels in horizon\n\nChange-Id: Ibd11a9c12c924b8e51b42fe4c8879baa25d410f4\n'}]",0,784389,416f96434410f47fabed30013694e44cf09b75b1,9,3,1,18279,,,0,"Add adjutant-ui repo package and zuul repo

Add these so we can enable the adjutant panels in horizon

Change-Id: Ibd11a9c12c924b8e51b42fe4c8879baa25d410f4
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/89/784389/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'zuul.d/jobs.yaml']",2,416f96434410f47fabed30013694e44cf09b75b1,adjutant-ui, - name: openstack/adjutant-ui,,6,0
openstack%2Fopenstack-ansible-os_trove~master~I5d12c7a1d5dbaa39175ffe318f998c43db9c8181,openstack/openstack-ansible-os_trove,master,I5d12c7a1d5dbaa39175ffe318f998c43db9c8181,Updated from OpenStack Ansible Tests,MERGED,2021-03-12 22:21:44.000000000,2021-04-02 08:37:02.000000000,2021-04-02 08:35:52.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2021-03-12 22:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/1971158e407de0696815e5ccb940ff31df228c27', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I5d12c7a1d5dbaa39175ffe318f998c43db9c8181\n'}, {'number': 2, 'created': '2021-03-22 08:50:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/baaac88e1f26a4bd9cfc65924d9c946de8922e35', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I5d12c7a1d5dbaa39175ffe318f998c43db9c8181\n'}, {'number': 3, 'created': '2021-03-25 10:20:40.000000000', 'files': ['run_tests.sh', 'bindep.txt', 'Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/2624effcaa4247b0c075d99903aac1be18eb8917', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I5d12c7a1d5dbaa39175ffe318f998c43db9c8181\n'}]",0,780376,2624effcaa4247b0c075d99903aac1be18eb8917,13,2,3,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I5d12c7a1d5dbaa39175ffe318f998c43db9c8181
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/76/780376/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'bindep.txt', 'Vagrantfile']",3,1971158e407de0696815e5ccb940ff31df228c27,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""debian10"" do |debian10| debian10.vm.box = ""debian/buster64"" config.vm.define ""ubuntu2004"" do |focal| bionic.disksize.size = ""40GB"" bionic.vm.box = ""ubuntu/focal64"" end"," config.vm.define ""debian8"" do |debian8| debian8.vm.box = ""debian/jessie64"" end config.vm.define ""debian9"" do |debian9| debian9.vm.box = ""debian/stretch64"" end config.vm.define ""gentoo"" do |gentoo| gentoo.vm.box = ""generic/gentoo"" end config.vm.define ""opensuse150"" do |leap150| leap150.vm.box = ""opensuse/openSUSE-15.0-x86_64"" end config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64""",10,30
openstack%2Fopenstack-ansible-os_octavia~master~Ibd5f3d2ca25f9bb880b0c535c59ef430bd1043be,openstack/openstack-ansible-os_octavia,master,Ibd5f3d2ca25f9bb880b0c535c59ef430bd1043be,Omit amp_ssh_access_allowed and remove amp_image_id options.,MERGED,2020-12-17 10:47:47.000000000,2021-04-02 08:10:40.000000000,2021-04-02 08:07:28.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-12-17 10:47:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/a8db92b697790fcad09c9a70cc2b0463cc9f37c0', 'message': 'Do not set amp_ssh_access_allowed configuration option any more.\n\nOctavia complains about this option to be deprecated. See\nhttps://docs.openstack.org/octavia/ussuri/configuration/configref.html#controller_worker.amp_ssh_access_allowed\nThe octavia_ssh_enabled OSA variable is instead used to either write the\namp_ssh_key_name configuration option or not.\n\nChange-Id: Ibd5f3d2ca25f9bb880b0c535c59ef430bd1043be\n'}, {'number': 2, 'created': '2020-12-17 14:11:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/51765c0e2833ae835f577dd72a4e29c76613585a', 'message': 'Omit amp_ssh_access_allowed and remove amp_image_id options.\n\nOctavia complains about option amp_ssh_access_allowed to be deprecated. See\nhttps://docs.openstack.org/octavia/ussuri/configuration/configref.html#controller_worker.amp_ssh_access_allowed\nThe octavia_ssh_enabled OSA variable is instead used to either write the\namp_ssh_key_name configuration option or not.\n\nThe configuration option amp_image_id in Octavia is deprected and image tags\nshould be used instead. Therefore octavia_amp_image_id is removed.\n\nChange-Id: Ibd5f3d2ca25f9bb880b0c535c59ef430bd1043be\n'}, {'number': 3, 'created': '2020-12-17 14:28:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/8f00ef6b3602a550743a268bfdc3cab602c4e14a', 'message': 'Omit amp_ssh_access_allowed and remove amp_image_id options.\n\nOctavia complains about option amp_ssh_access_allowed to be deprecated. See\nhttps://docs.openstack.org/octavia/ussuri/configuration/configref.html#controller_worker.amp_ssh_access_allowed\nThe octavia_ssh_enabled OSA variable is instead used to either write the\namp_ssh_key_name configuration option or not.\n\nThe configuration option amp_image_id in Octavia is deprected and image tags\nshould be used instead. Therefore octavia_amp_image_id is removed.\n\nChange-Id: Ibd5f3d2ca25f9bb880b0c535c59ef430bd1043be\n'}, {'number': 4, 'created': '2021-04-01 18:16:55.000000000', 'files': ['releasenotes/notes/remove_amp_image_id-433eefffba7d6a96.yaml', 'templates/octavia.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/50b83c79274d5cba9869ca4e52ac96a731445a84', 'message': 'Omit amp_ssh_access_allowed and remove amp_image_id options.\n\nOctavia complains about option amp_ssh_access_allowed to be deprecated. See\nhttps://docs.openstack.org/octavia/ussuri/configuration/configref.html#controller_worker.amp_ssh_access_allowed\nThe octavia_ssh_enabled OSA variable is instead used to either write the\namp_ssh_key_name configuration option or not.\n\nThe configuration option amp_image_id in Octavia is deprected and image tags\nshould be used instead. Therefore octavia_amp_image_id is removed.\n\nChange-Id: Ibd5f3d2ca25f9bb880b0c535c59ef430bd1043be\n'}]",1,767511,50b83c79274d5cba9869ca4e52ac96a731445a84,26,3,4,31792,,,0,"Omit amp_ssh_access_allowed and remove amp_image_id options.

Octavia complains about option amp_ssh_access_allowed to be deprecated. See
https://docs.openstack.org/octavia/ussuri/configuration/configref.html#controller_worker.amp_ssh_access_allowed
The octavia_ssh_enabled OSA variable is instead used to either write the
amp_ssh_key_name configuration option or not.

The configuration option amp_image_id in Octavia is deprected and image tags
should be used instead. Therefore octavia_amp_image_id is removed.

Change-Id: Ibd5f3d2ca25f9bb880b0c535c59ef430bd1043be
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/11/767511/4 && git format-patch -1 --stdout FETCH_HEAD,['templates/octavia.conf.j2'],1,a8db92b697790fcad09c9a70cc2b0463cc9f37c0,fix-ssh-config-warning,{% if octavia_ssh_enabled %}{% endif %},amp_ssh_access_allowed = {{ octavia_ssh_enabled }},2,1
openstack%2Fansible-hardening~stable%2Fvictoria~I30d29630214914bea99fc7fd66afa3218705d733,openstack/ansible-hardening,stable/victoria,I30d29630214914bea99fc7fd66afa3218705d733,Extend timeout for RPM verification,MERGED,2021-03-30 16:02:02.000000000,2021-04-02 07:26:19.000000000,2021-04-02 07:25:06.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-03-30 16:02:02.000000000', 'files': ['tasks/rhel7stig/zypper.yml', 'tasks/rhel7stig/rpm.yml', 'tasks/rhel7stig/async_tasks.yml'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/0a482d106fe47a0f3d6f7457922aff5a70170580', 'message': 'Extend timeout for RPM verification\n\nFor systems with many packages deployed or heavy loaded environments\nrpm verification takes the way more time then 5 minutes ending up in\ncorrupted database of the rpm packages. So we set limit to 1 hour\nand extending amount of retries to wait for result to match the async\ntimeout\n\nChange-Id: I30d29630214914bea99fc7fd66afa3218705d733\nCloses-Bug: #1921292\n(cherry picked from commit e4b55822cf1bf12f205d3b7d08dcdb634c2f505f)\n'}]",0,783875,0a482d106fe47a0f3d6f7457922aff5a70170580,10,3,1,28619,,,0,"Extend timeout for RPM verification

For systems with many packages deployed or heavy loaded environments
rpm verification takes the way more time then 5 minutes ending up in
corrupted database of the rpm packages. So we set limit to 1 hour
and extending amount of retries to wait for result to match the async
timeout

Change-Id: I30d29630214914bea99fc7fd66afa3218705d733
Closes-Bug: #1921292
(cherry picked from commit e4b55822cf1bf12f205d3b7d08dcdb634c2f505f)
",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/75/783875/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/rhel7stig/zypper.yml', 'tasks/rhel7stig/rpm.yml', 'tasks/rhel7stig/async_tasks.yml']",3,0a482d106fe47a0f3d6f7457922aff5a70170580,bug/1921292-stable/victoria, async: 3600, async: 300,5,3
openstack%2Fos-win~stable%2Fwallaby~I561482ce90b10af475a30f2217f472b10d1bc368,openstack/os-win,stable/wallaby,I561482ce90b10af475a30f2217f472b10d1bc368,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-03-18 10:32:13.000000000,2021-04-02 07:19:52.000000000,2021-04-02 07:15:47.000000000,"[{'_account_id': 8543}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-18 10:32:13.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-win/commit/41ed543dab6a64b873b06d24367504443ef36d74', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I561482ce90b10af475a30f2217f472b10d1bc368\n'}]",0,781296,41ed543dab6a64b873b06d24367504443ef36d74,8,3,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I561482ce90b10af475a30f2217f472b10d1bc368
",git fetch https://review.opendev.org/openstack/os-win refs/changes/96/781296/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,41ed543dab6a64b873b06d24367504443ef36d74,create-wallaby, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},1,1
openstack%2Fos-win~master~Iae9631f52aea96f8c0f0658109d2d4a428ac1daa,openstack/os-win,master,Iae9631f52aea96f8c0f0658109d2d4a428ac1daa,Update master for stable/wallaby,MERGED,2021-03-18 10:32:17.000000000,2021-04-02 07:19:44.000000000,2021-04-02 07:15:51.000000000,"[{'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-18 10:32:17.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/os-win/commit/a35717739a94197ec3c69554b3a76f06000386ed', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: Iae9631f52aea96f8c0f0658109d2d4a428ac1daa\n'}]",0,781297,a35717739a94197ec3c69554b3a76f06000386ed,7,2,1,22816,,,0,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: Iae9631f52aea96f8c0f0658109d2d4a428ac1daa
",git fetch https://review.opendev.org/openstack/os-win refs/changes/97/781297/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,a35717739a94197ec3c69554b3a76f06000386ed,reno-wallaby, wallaby,,7,0
openstack%2Fos-win~master~I17793d1863bc59e96b29891e2045036a30dfc5f6,openstack/os-win,master,I17793d1863bc59e96b29891e2045036a30dfc5f6,Add Python3 xena unit tests,MERGED,2021-03-18 10:32:20.000000000,2021-04-02 07:15:55.000000000,2021-04-02 07:15:55.000000000,"[{'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-18 10:32:20.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/os-win/commit/530563b6d3ec2b0bd9ea75602ed387a6bbeb09fa', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I17793d1863bc59e96b29891e2045036a30dfc5f6\n'}]",0,781298,530563b6d3ec2b0bd9ea75602ed387a6bbeb09fa,6,2,1,22816,,,0,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I17793d1863bc59e96b29891e2045036a30dfc5f6
",git fetch https://review.opendev.org/openstack/os-win refs/changes/98/781298/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,530563b6d3ec2b0bd9ea75602ed387a6bbeb09fa,add-xena-python-jobtemplates, - openstack-python3-xena-jobs, - openstack-python3-wallaby-jobs,1,1
openstack%2Fnetworking-hyperv~master~I3c30595a5b1909eaadc404cf167ddd4c30155921,openstack/networking-hyperv,master,I3c30595a5b1909eaadc404cf167ddd4c30155921,Update master for stable/wallaby,MERGED,2021-03-22 09:29:09.000000000,2021-04-02 07:05:15.000000000,2021-04-02 07:00:59.000000000,"[{'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-22 09:29:09.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/networking-hyperv/commit/bcafa01bde96a72eb924db23b86f2d13ef921f93', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: I3c30595a5b1909eaadc404cf167ddd4c30155921\n'}]",0,782109,bcafa01bde96a72eb924db23b86f2d13ef921f93,7,2,1,22816,,,0,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: I3c30595a5b1909eaadc404cf167ddd4c30155921
",git fetch https://review.opendev.org/openstack/networking-hyperv refs/changes/09/782109/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,bcafa01bde96a72eb924db23b86f2d13ef921f93,reno-wallaby, wallaby,,7,0
openstack%2Fnetworking-hyperv~stable%2Fwallaby~I8f4802385389e4a31f39ec4c6744ef77602ab4a9,openstack/networking-hyperv,stable/wallaby,I8f4802385389e4a31f39ec4c6744ef77602ab4a9,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-03-22 09:29:04.000000000,2021-04-02 07:04:06.000000000,2021-04-02 07:00:54.000000000,"[{'_account_id': 8543}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-22 09:29:04.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-hyperv/commit/0034a9c7c8b4e83390b53fa6f954976a5527aaec', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I8f4802385389e4a31f39ec4c6744ef77602ab4a9\n'}]",0,782108,0034a9c7c8b4e83390b53fa6f954976a5527aaec,8,3,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I8f4802385389e4a31f39ec4c6744ef77602ab4a9
",git fetch https://review.opendev.org/openstack/networking-hyperv refs/changes/08/782108/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0034a9c7c8b4e83390b53fa6f954976a5527aaec,create-wallaby,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby}deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Fcompute-hyperv~master~Ifce33d9eaf9e4faaef570e77be6aac60cbd472e5,openstack/compute-hyperv,master,Ifce33d9eaf9e4faaef570e77be6aac60cbd472e5,Update master for stable/wallaby,MERGED,2021-03-22 09:12:09.000000000,2021-04-02 07:04:03.000000000,2021-04-02 07:04:03.000000000,"[{'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-22 09:12:09.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/12c7fb686ae8d2ebea331c56783b244b0d6493a8', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: Ifce33d9eaf9e4faaef570e77be6aac60cbd472e5\n'}]",0,782088,12c7fb686ae8d2ebea331c56783b244b0d6493a8,6,2,1,22816,,,0,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: Ifce33d9eaf9e4faaef570e77be6aac60cbd472e5
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/88/782088/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,12c7fb686ae8d2ebea331c56783b244b0d6493a8,reno-wallaby, wallaby,,7,0
openstack%2Fnetworking-hyperv~master~I24600f80fbdd393c163e5e6e03a1b87c70cfa5ba,openstack/networking-hyperv,master,I24600f80fbdd393c163e5e6e03a1b87c70cfa5ba,Add Python3 xena unit tests,MERGED,2021-03-22 09:29:43.000000000,2021-04-02 07:01:19.000000000,2021-04-02 07:01:19.000000000,"[{'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-22 09:29:43.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/networking-hyperv/commit/60a5b5e260c82c83f1403c2c2f9a78f54854e909', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I24600f80fbdd393c163e5e6e03a1b87c70cfa5ba\n'}]",0,782110,60a5b5e260c82c83f1403c2c2f9a78f54854e909,6,2,1,22816,,,0,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I24600f80fbdd393c163e5e6e03a1b87c70cfa5ba
",git fetch https://review.opendev.org/openstack/networking-hyperv refs/changes/10/782110/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,60a5b5e260c82c83f1403c2c2f9a78f54854e909,add-xena-python-jobtemplates, - openstack-python3-xena-jobs-neutron, - openstack-python3-wallaby-jobs-neutron,1,1
openstack%2Fnetworking-hyperv~stable%2Fwallaby~I621c42f8a5ae68d8d2709da6a52274a109a5f1f1,openstack/networking-hyperv,stable/wallaby,I621c42f8a5ae68d8d2709da6a52274a109a5f1f1,Update .gitreview for stable/wallaby,MERGED,2021-03-22 09:29:01.000000000,2021-04-02 07:00:51.000000000,2021-04-02 07:00:51.000000000,"[{'_account_id': 8543}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-22 09:29:01.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/networking-hyperv/commit/996a085a88cfdd02c03473b14eb33d9d3869e0e7', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: I621c42f8a5ae68d8d2709da6a52274a109a5f1f1\n'}]",0,782107,996a085a88cfdd02c03473b14eb33d9d3869e0e7,7,3,1,22816,,,0,"Update .gitreview for stable/wallaby

Change-Id: I621c42f8a5ae68d8d2709da6a52274a109a5f1f1
",git fetch https://review.opendev.org/openstack/networking-hyperv refs/changes/07/782107/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,996a085a88cfdd02c03473b14eb33d9d3869e0e7,create-wallaby,defaultbranch=stable/wallaby,,1,0
openstack%2Fos-win~stable%2Fwallaby~Ie906a101fd063934d90b275765a77bbe495589c0,openstack/os-win,stable/wallaby,Ie906a101fd063934d90b275765a77bbe495589c0,Update .gitreview for stable/wallaby,MERGED,2021-03-18 10:32:10.000000000,2021-04-02 06:56:44.000000000,2021-04-02 06:56:44.000000000,"[{'_account_id': 8543}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-18 10:32:10.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/os-win/commit/6ad0fc72623f4639a1f15728c59b738e01fbbbb8', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: Ie906a101fd063934d90b275765a77bbe495589c0\n'}]",0,781295,6ad0fc72623f4639a1f15728c59b738e01fbbbb8,7,3,1,22816,,,0,"Update .gitreview for stable/wallaby

Change-Id: Ie906a101fd063934d90b275765a77bbe495589c0
",git fetch https://review.opendev.org/openstack/os-win refs/changes/95/781295/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,6ad0fc72623f4639a1f15728c59b738e01fbbbb8,create-wallaby,defaultbranch=stable/wallaby,,1,0
openstack%2Fcyborg-specs~master~I55b21197a25871b728004260770015ec76f5b2d7,openstack/cyborg-specs,master,I55b21197a25871b728004260770015ec76f5b2d7,Add data model impact for vgpu,ABANDONED,2021-03-15 03:14:21.000000000,2021-04-02 05:59:26.000000000,,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}]","[{'number': 1, 'created': '2021-03-15 03:14:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/64b97f98ed0ac636d158fe28b868476e056e738e', 'message': 'Add data model impact for vgpu\n\nChange-Id: I55b21197a25871b728004260770015ec76f5b2d7\n'}, {'number': 2, 'created': '2021-03-15 04:15:49.000000000', 'files': ['specs/wallaby/approved/vgpu-driver-proposal.rst'], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/01513fb3c1b3738a996b3d7cb994b645394b1e2e', 'message': 'Add data model impact for vgpu\n\nChange-Id: I55b21197a25871b728004260770015ec76f5b2d7\n'}]",1,780446,01513fb3c1b3738a996b3d7cb994b645394b1e2e,8,4,2,31412,,,0,"Add data model impact for vgpu

Change-Id: I55b21197a25871b728004260770015ec76f5b2d7
",git fetch https://review.opendev.org/openstack/cyborg-specs refs/changes/46/780446/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/wallaby/approved/vgpu-driver-proposal.rst'],1,64b97f98ed0ac636d158fe28b868476e056e738e,,"One pGPU can be virtualized 4 vGPUs, 8 vGPUs, 16 vGPUs base on the pGPU type. Here we take 2 pGPUs and each pGPU is virtualized 4 vGPUs as example. The data model in Cyborg should like this:: +--------------------------------------------------------+ | | | device A device B | | | | +-----------------------+ +-----------------------+ | | | deployable A | | deployable B | | | | | | | | | | +-------------------+ | | +-------------------+ | | | | | attach handler 1-4| | | | attach handler 5-8| | | | | | | | | | | | | | | | +------+ +------+ | | | | +------+ +------+ | | | | | | | vgpu1| | vgpu2| | | | | | vgpu5| | vgpu6| | | | | | | +------+ +------+ | | | | +------+ +------+ | | | | | | +------+ +------+ | | | | +------+ +------+ | | | | | | | vgpu3| | vgpu4| | | | | | vgpu7| | vgpu8| | | | | | | +------+ +------+ | | | | +------+ +------+ | | | | | +-------------------+ | | +-------------------+ | | | | | | | | | +-----------------------+ +-----------------------+ | | | | VGPU | +--------------------------------------------------------+ The resource provider tree's structure should be reported as :: +--------------------+ | | | compute node | | | +---------+----------+ | +------------+----------------+ | | +------+------+ +------+------+ | | | | | deployable | | deployable | +-----+-------+ +------+------+ | | +-----------+--------+ +----+---------------+ | | | | | | | | +-----+------+ +-----+-----+ +----+------+ +------+-----+ | inventory1 | ... | inventory4| | inventory5| ... | inventory8 | +------------+ +-----------+ +-----------+ +------------+",,50,1
openstack%2Freleases~master~I1a119c751d637260b0ca187c2ea65fa221554759,openstack/releases,master,I1a119c751d637260b0ca187c2ea65fa221554759,Branch devstack-plugin-* deliverables for Victoria,ABANDONED,2021-04-01 11:11:55.000000000,2021-04-02 05:35:41.000000000,,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-04-01 11:11:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/97f4f9ec2a2e0acf23cbad0f057d44da1c6854cd', 'message': 'Branch devstack-plugin-* deliverables\n\nChange-Id: I1a119c751d637260b0ca187c2ea65fa221554759\n'}, {'number': 2, 'created': '2021-04-01 11:46:51.000000000', 'files': ['deliverables/victoria/devstack-plugin-kafka.yaml', 'deliverables/victoria/devstack-plugin-container.yaml', 'deliverables/victoria/devstack-plugin-amqp1.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/268ebce0939033e7b01fe1c0503ee68bd60cda39', 'message': 'Branch devstack-plugin-* deliverables for Victoria\n\nChange-Id: I1a119c751d637260b0ca187c2ea65fa221554759\n'}]",3,784371,268ebce0939033e7b01fe1c0503ee68bd60cda39,8,4,2,28522,,,0,"Branch devstack-plugin-* deliverables for Victoria

Change-Id: I1a119c751d637260b0ca187c2ea65fa221554759
",git fetch https://review.opendev.org/openstack/releases refs/changes/71/784371/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/devstack-plugin-kafka.yaml', 'deliverables/victoria/devstack-plugin-container.yaml', 'deliverables/victoria/devstack-plugin-amqp1.yaml']",3,97f4f9ec2a2e0acf23cbad0f057d44da1c6854cd,devstack-plugin-victoria,branches: - location: openstack/devstack-plugin-amqp1: 3becff51a57a13d7c0e4a88c18348310d0d7c0a0 name: stable/victoria,,12,0
openstack%2Fpuppet-aodh~master~Ic4622ff050cdcc0d5b6c48c792f25a4d36baaa7d,openstack/puppet-aodh,master,Ic4622ff050cdcc0d5b6c48c792f25a4d36baaa7d,metadata.json: debian 11,MERGED,2021-04-01 20:14:08.000000000,2021-04-02 05:04:31.000000000,2021-04-02 05:04:31.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-01 20:14:08.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/0759e482787d0e1444e34df13efc298464c81f94', 'message': 'metadata.json: debian 11\n\nChange-Id: Ic4622ff050cdcc0d5b6c48c792f25a4d36baaa7d\n'}]",0,784474,0759e482787d0e1444e34df13efc298464c81f94,7,3,1,6476,,,0,"metadata.json: debian 11

Change-Id: Ic4622ff050cdcc0d5b6c48c792f25a4d36baaa7d
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/74/784474/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,0759e482787d0e1444e34df13efc298464c81f94,debian-metadata," ""11"""," ""10""",1,1
openstack%2Fcharm-guide~master~I61398edd0e21c5e1c002ac4d9d9c88c2880d7d99,openstack/charm-guide,master,I61398edd0e21c5e1c002ac4d9d9c88c2880d7d99,worker-multiplier config update,MERGED,2021-03-30 05:32:27.000000000,2021-04-02 04:18:07.000000000,2021-04-02 04:16:57.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2021-03-30 05:32:27.000000000', 'files': ['doc/source/2104.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/8441269e202a1cb7df186bd8712d1f8d3a58890e', 'message': 'worker-multiplier config update\n\nBased on the change in charm-helpers:\nhttps://github.com/juju/charm-helpers/pull/553\n\nRelated-Bug: 1843011\nChange-Id: I61398edd0e21c5e1c002ac4d9d9c88c2880d7d99\n'}]",5,783781,8441269e202a1cb7df186bd8712d1f8d3a58890e,11,2,1,8108,,,0,"worker-multiplier config update

Based on the change in charm-helpers:
https://github.com/juju/charm-helpers/pull/553

Related-Bug: 1843011
Change-Id: I61398edd0e21c5e1c002ac4d9d9c88c2880d7d99
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/81/783781/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/2104.rst'],1,8441269e202a1cb7df186bd8712d1f8d3a58890e,bug/1843011,"Upgrade notes ------------- Global cap to worker-multiplier ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Previously the number of workers in each service was capped at 4 when there is no explicit config to ""worker-multiplier"" is provided and the application is deployed into LXD containers. With this charm release, the cap as 4 workers gets applied to all of the services regardless where the application is deployed into. Operators can always override the number of workers by setting any value to ""worker-multiplier"" explicitly. ",,15,0
openstack%2Fneutron~master~I65130b299541dd4559e2d758fb4ab9d68c6f2cfa,openstack/neutron,master,I65130b299541dd4559e2d758fb4ab9d68c6f2cfa,Fix create_port new API policy roles,MERGED,2021-04-01 14:12:31.000000000,2021-04-02 03:59:25.000000000,2021-04-01 20:32:36.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-01 14:12:31.000000000', 'files': ['neutron/conf/policies/port.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2bc1572740d9eb6cff8c8d893c5a24ab10ed37b0', 'message': 'Fix create_port new API policy roles\n\nSome rules for create port, using new personas policies allowed to\ncreate port PROJECT_MEMBER persona but not SYSTEM_ADMIN. So this patch\nfixes it by adding SYSTEM_ADMIN to that rules too.\n\nRelated-blueprint: bp/secure-rbac-roles\nChange-Id: I65130b299541dd4559e2d758fb4ab9d68c6f2cfa\n'}]",0,784422,2bc1572740d9eb6cff8c8d893c5a24ab10ed37b0,13,6,1,11975,,,0,"Fix create_port new API policy roles

Some rules for create port, using new personas policies allowed to
create port PROJECT_MEMBER persona but not SYSTEM_ADMIN. So this patch
fixes it by adding SYSTEM_ADMIN to that rules too.

Related-blueprint: bp/secure-rbac-roles
Change-Id: I65130b299541dd4559e2d758fb4ab9d68c6f2cfa
",git fetch https://review.opendev.org/openstack/neutron refs/changes/22/784422/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/conf/policies/port.py'],1,2bc1572740d9eb6cff8c8d893c5a24ab10ed37b0,secure-rbac," check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER,"," check_str=base.PROJECT_MEMBER, check_str=base.PROJECT_MEMBER,",2,2
openstack%2Fopenstack-helm-infra~master~If794f76a3c847cbd1980792f92cd3ccac59390d3,openstack/openstack-helm-infra,master,If794f76a3c847cbd1980792f92cd3ccac59390d3,[WIP] Ceph mgr prometheus tls sidecar,ABANDONED,2021-02-26 18:02:53.000000000,2021-04-02 02:19:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-26 18:02:53.000000000', 'files': ['ceph-client/templates/certificates.yaml', 'ceph-client/values_overrides/tls.yaml', 'ceph-client/templates/configmap-tls-sidecar.yaml', 'ceph-client/templates/deployment-mgr.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/eaac9d1970cf6429ee6d1e6aeb265ae1e51e0809', 'message': '[WIP] Ceph mgr prometheus tls sidecar\n\nChange-Id: If794f76a3c847cbd1980792f92cd3ccac59390d3\n'}]",0,777800,eaac9d1970cf6429ee6d1e6aeb265ae1e51e0809,4,1,1,32190,,,0,"[WIP] Ceph mgr prometheus tls sidecar

Change-Id: If794f76a3c847cbd1980792f92cd3ccac59390d3
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/00/777800/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-client/templates/certificates.yaml', 'ceph-client/values_overrides/tls.yaml', 'ceph-client/templates/configmap-tls-sidecar.yaml', 'ceph-client/templates/deployment-mgr.yaml']",4,eaac9d1970cf6429ee6d1e6aeb265ae1e51e0809,ceph-mgr-tls-prom, - name: ceph-mgr-tls-sidecar image: nginx volumeMounts: - name: ceph-mgr-tls-secret mountPath: /etc/tls/ - name: ceph-mgr-tls-config mountPath: /etc/nginx/nginx.conf subPath: nginx.conf - name: ceph-mgr-tls-config configMap: name: ceph-mgr-tls-config - name: ceph-mgr-tls-secret secret: secretName: ceph-tls-prom,,91,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ib7e1d47fe7cffa2bd2ed1d72d94e4f380162f10a,openstack/tripleo-heat-templates,stable/train,Ib7e1d47fe7cffa2bd2ed1d72d94e4f380162f10a,Move tmpwatch from cron.daily to actual root crontab,MERGED,2021-03-31 11:59:27.000000000,2021-04-02 02:11:51.000000000,2021-04-02 02:11:51.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-03-31 11:59:27.000000000', 'files': ['deployment/logrotate/logrotate-crond-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2851c49d0e98985a4bbc7eecd5240e6bcd875919', 'message': ""Move tmpwatch from cron.daily to actual root crontab\n\nIt appeary running the tmpwatch from the cron.daily location isn't\npossible: the way cron/anacron is running things appears to break\nSELinux context at some point, leading to SELinux denials caused by a\nweird need for dac_override.\n\nIn order to NOT allow this dac_override (security hazard), and after\nextensive testing, it seems it's better to push the job directly in\nroot's crontab.\n\nChange-Id: Ib7e1d47fe7cffa2bd2ed1d72d94e4f380162f10a\nCloses-Bug: #1922002\nResolves: rhbz#1944466\n(cherry picked from commit 1c7657b00b3a71e3c38b354cb40b00fa72796d4f)\n""}]",0,784081,2851c49d0e98985a4bbc7eecd5240e6bcd875919,14,5,1,7353,,,0,"Move tmpwatch from cron.daily to actual root crontab

It appeary running the tmpwatch from the cron.daily location isn't
possible: the way cron/anacron is running things appears to break
SELinux context at some point, leading to SELinux denials caused by a
weird need for dac_override.

In order to NOT allow this dac_override (security hazard), and after
extensive testing, it seems it's better to push the job directly in
root's crontab.

Change-Id: Ib7e1d47fe7cffa2bd2ed1d72d94e4f380162f10a
Closes-Bug: #1922002
Resolves: rhbz#1944466
(cherry picked from commit 1c7657b00b3a71e3c38b354cb40b00fa72796d4f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/81/784081/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/logrotate/logrotate-crond-container-puppet.yaml'],1,2851c49d0e98985a4bbc7eecd5240e6bcd875919,selinux/tmpwatch," block: - name: Push script copy: dest: /usr/local/sbin/containers-tmpwatch owner: root group: root mode: 0755 content: | #!/bin/sh tmpwatch --nodirs \ -X ""/var/log/containers/*/*log"" \ -X ""/var/log/containers/*/*/*log"" \ -X ""/var/log/containers/*/*err"" \ {{ LogrotatePurgeAfterDays|int +1 }}d \ /var/log/containers/ 2>&1 | logger -t container-tmpwatch vars: LogrotatePurgeAfterDays: {get_param: LogrotatePurgeAfterDays} - name: Insert cronjob in root crontab cron: name: ""Remove old logs"" special_time: ""daily"" user: ""root"" job: ""/usr/local/sbin/containers-tmpwatch"" update_tasks: &tmpwatch_script_clean - name: Ensure old cron.daily is absent when: step|int == 1 file: path: /etc/cron.daily/containers-tmpwatch state: absent upgrade_tasks: *tmpwatch_script_clean"," copy: dest: /etc/cron.daily/containers-tmpwatch owner: root group: root mode: 0755 content: | #!/bin/sh tmpwatch --nodirs \ -X ""/var/log/containers/*/*log"" \ -X ""/var/log/containers/*/*/*log"" \ -X ""/var/log/containers/*/*err"" \ {{ LogrotatePurgeAfterDays|int +1 }}d \ /var/log/containers/ 2>&1 | logger -t container-tmpwatch vars: LogrotatePurgeAfterDays: {get_param: LogrotatePurgeAfterDays}",30,15
openstack%2Ftripleo-common~master~I1e94668978fbf1dc928b6af50a404e6c687707da,openstack/tripleo-common,master,I1e94668978fbf1dc928b6af50a404e6c687707da,container-images: fix Cinder when running at Edge,MERGED,2021-03-22 02:49:36.000000000,2021-04-02 01:44:59.000000000,2021-04-02 01:43:53.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-22 02:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/54aa08588d386b566ecb1d39cb73fb09cd07fc78', 'message': 'container-images: fix Cinder when running at Edge\n\nWhen Cinder Volume is running at the Edge, we need to support the\nOS::TripleO::Services::CinderVolumeEdge service; as well as the\nContainerCinderConfigImage parameter for the Cinder Volume, since it\nonly used to be added for Cinder API but Cinder API is disabled at the\nEdge.\n\nSigned-off-by: Emilien Macchi <emilien@redhat.com>\nChange-Id: I1e94668978fbf1dc928b6af50a404e6c687707da\n'}, {'number': 2, 'created': '2021-03-22 02:53:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/71e230ecfb632459df21907411a89be2521cd4a9', 'message': 'container-images: fix Cinder when running at Edge\n\nWhen Cinder Volume is running at the Edge, we need to support the\nOS::TripleO::Services::CinderVolumeEdge service; as well as the\nContainerCinderConfigImage parameter for the Cinder Volume, since it\nonly used to be added for Cinder API but Cinder API is disabled at the\nEdge.\n\nCloses-Bug: #1920704\nSigned-off-by: Emilien Macchi <emilien@redhat.com>\nChange-Id: I1e94668978fbf1dc928b6af50a404e6c687707da\n'}, {'number': 3, 'created': '2021-03-22 03:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8605bbdf952a1337589d990fd1595eec536b7276', 'message': 'container-images: fix Cinder when running at Edge\n\nWhen Cinder Volume is running at the Edge, we need to support the\nOS::TripleO::Services::CinderVolumeEdge service; as well as the\nContainerCinderConfigImage parameter for the Cinder Volume, since it\nonly used to be added for Cinder API but Cinder API is disabled at the\nEdge.\n\nCloses-Bug: #1920704\nSigned-off-by: Emilien Macchi <emilien@redhat.com>\nChange-Id: I1e94668978fbf1dc928b6af50a404e6c687707da\n'}, {'number': 4, 'created': '2021-03-22 03:15:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0a3182c30769addf2d13eae868164146b004700c', 'message': 'container-images: fix Cinder when running at Edge\n\nWhen Cinder Volume is running at the Edge, we need to support the\nOS::TripleO::Services::CinderVolumeEdge service; as well as the\nContainerCinderConfigImage parameter for the Cinder Volume, since it\nonly used to be added for Cinder API but Cinder API is disabled at the\nEdge.\n\nCloses-Bug: #1920704\nSigned-off-by: Emilien Macchi <emilien@redhat.com>\nChange-Id: I1e94668978fbf1dc928b6af50a404e6c687707da\n'}, {'number': 5, 'created': '2021-03-24 16:22:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8c306bd5f8cce50f85b9887e74449baf8278bd08', 'message': 'container-images: fix Cinder when running at Edge\n\nWhen Cinder Volume is running at the Edge, we need to support the\nOS::TripleO::Services::CinderVolumeEdge service; as well as the\nContainerCinderConfigImage parameter for the Cinder Volume, since it\nonly used to be added for Cinder API but Cinder API is disabled at the\nEdge.\n\nCloses-Bug: #1920704\nSigned-off-by: Emilien Macchi <emilien@redhat.com>\nChange-Id: I1e94668978fbf1dc928b6af50a404e6c687707da\n'}, {'number': 6, 'created': '2021-03-25 20:20:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/274daea593d25273cb0292202b3f60b668dda730', 'message': 'container-images: fix Cinder when running at Edge\n\nWhen Cinder Volume is running at the Edge, we need to support the\nOS::TripleO::Services::CinderVolumeEdge service; as well as the\nContainerCinderConfigImage parameter for the Cinder Volume, since it\nonly used to be added for Cinder API but Cinder API is disabled at the\nEdge.\n\nCloses-Bug: #1920704\nSigned-off-by: Emilien Macchi <emilien@redhat.com>\nChange-Id: I1e94668978fbf1dc928b6af50a404e6c687707da\n'}, {'number': 7, 'created': '2021-03-31 08:42:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fe65cad6fec9224b2ff8f3f37955c2b51a66d078', 'message': 'container-images: fix Cinder when running at Edge\n\nWhen Cinder Volume is running at the Edge, we need to support the\nOS::TripleO::Services::CinderVolumeEdge service; as well as the\nContainerCinderConfigImage parameter for the Cinder Volume, since it\nonly used to be added for Cinder API but Cinder API is disabled at the\nEdge.\n\nDepends-On: https://review.opendev.org/784028\nCloses-Bug: #1920704\nSigned-off-by: Emilien Macchi <emilien@redhat.com>\nChange-Id: I1e94668978fbf1dc928b6af50a404e6c687707da\n'}, {'number': 8, 'created': '2021-03-31 16:59:36.000000000', 'files': ['container-images/tripleo_containers.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8dc6dfe488439b26db5eec1ae63ef77322bc3787', 'message': 'container-images: fix Cinder when running at Edge\n\nWhen Cinder Volume is running at the Edge, we need to support the\nOS::TripleO::Services::CinderVolumeEdge service; as well as the\nContainerCinderConfigImage parameter for the Cinder Volume, since it\nonly used to be added for Cinder API but Cinder API is disabled at the\nEdge.\n\nCloses-Bug: #1920704\nSigned-off-by: Emilien Macchi <emilien@redhat.com>\nChange-Id: I1e94668978fbf1dc928b6af50a404e6c687707da\n'}]",4,782009,8dc6dfe488439b26db5eec1ae63ef77322bc3787,66,6,8,3153,,,0,"container-images: fix Cinder when running at Edge

When Cinder Volume is running at the Edge, we need to support the
OS::TripleO::Services::CinderVolumeEdge service; as well as the
ContainerCinderConfigImage parameter for the Cinder Volume, since it
only used to be added for Cinder API but Cinder API is disabled at the
Edge.

Closes-Bug: #1920704
Signed-off-by: Emilien Macchi <emilien@redhat.com>
Change-Id: I1e94668978fbf1dc928b6af50a404e6c687707da
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/09/782009/8 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_containers.yaml.j2'],1,54aa08588d386b566ecb1d39cb73fb09cd07fc78,cinder-edge, - ContainerCinderConfigImage services: - OS::TripleO::Services::CinderVolumeEdge - OS::TripleO::Services::UndercloudCinderVolume,,4,0
openstack%2Fcharm-heat~master~I0744413fb948de941ac22b71a6cb37206ed4f4ac,openstack/charm-heat,master,I0744413fb948de941ac22b71a6cb37206ed4f4ac,Update worker-multiplier config description,MERGED,2021-03-30 01:58:46.000000000,2021-04-02 01:44:51.000000000,2021-04-02 01:44:51.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2021-03-30 01:58:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/9d618bd29f56cf64d5d02edc85f548857be282c0', 'message': 'Update worker-multiplier config description\n\nBased on the change in charm-helpers:\nhttps://github.com/juju/charm-helpers/pull/553\n\nRelated-Bug: #1843011\nChange-Id: I0744413fb948de941ac22b71a6cb37206ed4f4ac\n'}, {'number': 2, 'created': '2021-03-30 02:04:11.000000000', 'files': ['config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/fe4994b64b151d1c8b068f0d348f214e30e7ed68', 'message': 'Update worker-multiplier config description\n\nBased on the change in charm-helpers:\nhttps://github.com/juju/charm-helpers/pull/553\n\nRelated-Bug: #1843011\nChange-Id: I0744413fb948de941ac22b71a6cb37206ed4f4ac\n'}]",0,783764,fe4994b64b151d1c8b068f0d348f214e30e7ed68,9,3,2,8108,,,0,"Update worker-multiplier config description

Based on the change in charm-helpers:
https://github.com/juju/charm-helpers/pull/553

Related-Bug: #1843011
Change-Id: I0744413fb948de941ac22b71a6cb37206ed4f4ac
",git fetch https://review.opendev.org/openstack/charm-heat refs/changes/64/783764/1 && git format-patch -1 --stdout FETCH_HEAD,['config.yaml'],1,9d618bd29f56cf64d5d02edc85f548857be282c0,bug/1843011, set to twice the number of CPU cores a service unit has. This default value will be capped to 4 workers unless this configuration option is set.," set to twice the number of CPU cores a service unit has. When deployed in a LXD container, this default value will be capped to 4 workers unless this configuration option is set.",3,3
openstack%2Fcharm-cinder~master~I01b826c1e1bbe8bcbe6a69ff9ac7321c097c883e,openstack/charm-cinder,master,I01b826c1e1bbe8bcbe6a69ff9ac7321c097c883e,Update worker-multiplier config description,MERGED,2021-03-30 02:10:24.000000000,2021-04-02 01:38:14.000000000,2021-04-02 01:38:14.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2021-03-30 02:10:24.000000000', 'files': ['config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/41129211832d9823045c84f4321f7e582e2f6dc6', 'message': 'Update worker-multiplier config description\n\nBased on the change in charm-helpers:\nhttps://github.com/juju/charm-helpers/pull/553\n\nRelated-Bug: #1843011\nChange-Id: I01b826c1e1bbe8bcbe6a69ff9ac7321c097c883e\n'}]",0,783767,41129211832d9823045c84f4321f7e582e2f6dc6,8,3,1,8108,,,0,"Update worker-multiplier config description

Based on the change in charm-helpers:
https://github.com/juju/charm-helpers/pull/553

Related-Bug: #1843011
Change-Id: I01b826c1e1bbe8bcbe6a69ff9ac7321c097c883e
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/67/783767/1 && git format-patch -1 --stdout FETCH_HEAD,['config.yaml'],1,41129211832d9823045c84f4321f7e582e2f6dc6,bug/1843011," this service. By default, the number of workers for each daemon is set to twice the number of CPU cores a service unit has. This default value will be capped to 4 workers unless this configuration option is set."," Cinder. By default, the number of workers for each daemon is set to twice the number of CPU cores a service unit has. When deployed in a LXD container, this default value will be capped to 4 workers unless this configuration option is set.",4,4
openstack%2Fcharm-openstack-dashboard~master~Ie165dc3ce10b58274f6220a55d0210cb06936432,openstack/charm-openstack-dashboard,master,Ie165dc3ce10b58274f6220a55d0210cb06936432,Update worker-multiplier config description,MERGED,2021-03-30 02:13:18.000000000,2021-04-02 01:38:06.000000000,2021-04-02 01:38:06.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2021-03-30 02:13:18.000000000', 'files': ['config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/3ba16f757ab3107b196caa57969ba16e7a419fa4', 'message': 'Update worker-multiplier config description\n\nBased on the change in charm-helpers:\nhttps://github.com/juju/charm-helpers/pull/553\n\nRelated-Bug: #1843011\nChange-Id: Ie165dc3ce10b58274f6220a55d0210cb06936432\n'}]",0,783771,3ba16f757ab3107b196caa57969ba16e7a419fa4,8,3,1,8108,,,0,"Update worker-multiplier config description

Based on the change in charm-helpers:
https://github.com/juju/charm-helpers/pull/553

Related-Bug: #1843011
Change-Id: Ie165dc3ce10b58274f6220a55d0210cb06936432
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/71/783771/1 && git format-patch -1 --stdout FETCH_HEAD,['config.yaml'],1,3ba16f757ab3107b196caa57969ba16e7a419fa4,bug/1843011," this service. By default, the number of workers for each daemon is set to twice the number of CPU cores a service unit has. This default value will be capped to 4 workers unless this configuration option is set."," Horizon. By default, the number of workers for each daemon is set to twice the number of CPU cores a service unit has. When deployed in a LXD container, this default value will be capped to 4 workers unless this configuration option is set.",4,4
openstack%2Fcharm-ceilometer~master~I7c09445b79ac7073f90f10032b90751df23ab47e,openstack/charm-ceilometer,master,I7c09445b79ac7073f90f10032b90751df23ab47e,Update worker-multiplier config description,MERGED,2021-03-30 02:03:00.000000000,2021-04-02 01:37:48.000000000,2021-04-02 01:37:48.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2021-03-30 02:03:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/9b012017a0f69f041324f8b19ed08846b6397990', 'message': 'Update worker-multiplier config description\n\nBased on the change in charm-helpers:\nhttps://github.com/juju/charm-helpers/pull/553\n\nRelated-Bug: #1843011\nChange-Id: I7c09445b79ac7073f90f10032b90751df23ab47e\n'}, {'number': 2, 'created': '2021-03-30 02:06:08.000000000', 'files': ['config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/df30cfc048db08439ada33d0446e947b9b4878da', 'message': 'Update worker-multiplier config description\n\nBased on the change in charm-helpers:\nhttps://github.com/juju/charm-helpers/pull/553\n\nRelated-Bug: #1843011\nChange-Id: I7c09445b79ac7073f90f10032b90751df23ab47e\n'}]",0,783765,df30cfc048db08439ada33d0446e947b9b4878da,9,3,2,8108,,,0,"Update worker-multiplier config description

Based on the change in charm-helpers:
https://github.com/juju/charm-helpers/pull/553

Related-Bug: #1843011
Change-Id: I7c09445b79ac7073f90f10032b90751df23ab47e
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/65/783765/2 && git format-patch -1 --stdout FETCH_HEAD,['config.yaml'],1,9b012017a0f69f041324f8b19ed08846b6397990,bug/1843011," this service. By default, the number of workers for each daemon is set to twice the number of CPU cores a service unit has. This default value will be capped to 4 workers unless this configuration option is set."," this service. By default, the number of workers for each daemon is set to twice the number of CPU cores a service unit has. When deployed in a LXD container, this default value will be capped to 4 workers unless this configuration option is set.",4,4
openstack%2Fcharm-keystone~master~Ie43e23d9f70cd03a7dc96471874bbbc96b1f7bbb,openstack/charm-keystone,master,Ie43e23d9f70cd03a7dc96471874bbbc96b1f7bbb,Update worker-multiplier config description,MERGED,2021-03-30 02:11:58.000000000,2021-04-02 01:37:37.000000000,2021-04-02 01:37:37.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2021-03-30 02:11:58.000000000', 'files': ['config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/3643aa963c7f207ccf54cc91e70b3fc8f316f33c', 'message': 'Update worker-multiplier config description\n\nBased on the change in charm-helpers:\nhttps://github.com/juju/charm-helpers/pull/553\n\nRelated-Bug: #1843011\nChange-Id: Ie43e23d9f70cd03a7dc96471874bbbc96b1f7bbb\n'}]",0,783770,3643aa963c7f207ccf54cc91e70b3fc8f316f33c,8,3,1,8108,,,0,"Update worker-multiplier config description

Based on the change in charm-helpers:
https://github.com/juju/charm-helpers/pull/553

Related-Bug: #1843011
Change-Id: Ie43e23d9f70cd03a7dc96471874bbbc96b1f7bbb
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/70/783770/1 && git format-patch -1 --stdout FETCH_HEAD,['config.yaml'],1,3643aa963c7f207ccf54cc91e70b3fc8f316f33c,bug/1843011," this service. By default, the number of workers for each daemon is set to twice the number of CPU cores a service unit has. This default value will be capped to 4 workers unless this configuration option is set."," Keystone. By default, the number of workers for each daemon is set to twice the number of CPU cores a service unit has. When deployed in a LXD container, this default value will be capped to 4 workers unless this configuration option is set.",4,4
openstack%2Fcharm-neutron-openvswitch~master~I9cc584226c68d3a6fa4af547a18e3f8c0c043fc4,openstack/charm-neutron-openvswitch,master,I9cc584226c68d3a6fa4af547a18e3f8c0c043fc4,Update worker-multiplier config description,MERGED,2021-03-30 02:16:37.000000000,2021-04-02 01:36:03.000000000,2021-04-02 01:36:03.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2021-03-30 02:16:37.000000000', 'files': ['config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/e031b3520f67714cd1b8c85d36095ca563f5d457', 'message': 'Update worker-multiplier config description\n\nBased on the change in charm-helpers:\nhttps://github.com/juju/charm-helpers/pull/553\n\nRelated-Bug: #1843011\nChange-Id: I9cc584226c68d3a6fa4af547a18e3f8c0c043fc4\n'}]",0,783772,e031b3520f67714cd1b8c85d36095ca563f5d457,8,3,1,8108,,,0,"Update worker-multiplier config description

Based on the change in charm-helpers:
https://github.com/juju/charm-helpers/pull/553

Related-Bug: #1843011
Change-Id: I9cc584226c68d3a6fa4af547a18e3f8c0c043fc4
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/72/783772/1 && git format-patch -1 --stdout FETCH_HEAD,['config.yaml'],1,e031b3520f67714cd1b8c85d36095ca563f5d457,bug/1843011, This default value will be capped to 4 workers unless this configuration option is set.," When deployed in a LXD container, this default value will be capped to 4 workers unless this configuration option is set.",2,2
openstack%2Fcharm-neutron-api~master~I36fbd881fd6c805699f51cf9d52181e39ea8d8f2,openstack/charm-neutron-api,master,I36fbd881fd6c805699f51cf9d52181e39ea8d8f2,Update worker-multiplier config description,MERGED,2021-03-30 02:24:06.000000000,2021-04-02 01:29:27.000000000,2021-04-02 01:29:27.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2021-03-30 02:24:06.000000000', 'files': ['config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/b65eea58646cb173c5d1dd035fc543056f9cbd90', 'message': 'Update worker-multiplier config description\n\nBased on the change in charm-helpers:\nhttps://github.com/juju/charm-helpers/pull/553\n\nRelated-Bug: #1843011\nChange-Id: I36fbd881fd6c805699f51cf9d52181e39ea8d8f2\n'}]",0,783777,b65eea58646cb173c5d1dd035fc543056f9cbd90,8,3,1,8108,,,0,"Update worker-multiplier config description

Based on the change in charm-helpers:
https://github.com/juju/charm-helpers/pull/553

Related-Bug: #1843011
Change-Id: I36fbd881fd6c805699f51cf9d52181e39ea8d8f2
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/77/783777/1 && git format-patch -1 --stdout FETCH_HEAD,['config.yaml'],1,b65eea58646cb173c5d1dd035fc543056f9cbd90,bug/1843011," this service. By default, the number of workers for each daemon is set to twice the number of CPU cores a service unit has. This default value will be capped to 4 workers unless this configuration option is set."," this service. By default, the number of workers for each daemon is set to twice the number of CPU cores a service unit has. When deployed in a LXD container, this default value will be capped to 4 workers unless this configuration option is set.",4,4
openstack%2Ftacker~master~Ibd8c5cae985766d5bd5e73276920fd4c28d6e87f,openstack/tacker,master,Ibd8c5cae985766d5bd5e73276920fd4c28d6e87f,Support Placement Constraints for Grant,MERGED,2021-03-08 07:12:26.000000000,2021-04-02 01:13:26.000000000,2021-04-02 01:12:13.000000000,"[{'_account_id': 4149}, {'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 31072}, {'_account_id': 31813}, {'_account_id': 31821}, {'_account_id': 32826}]","[{'number': 1, 'created': '2021-03-08 07:12:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/ecce4bff899922c8127e7638790684b1c62689bf', 'message': 'Support Placement Constraints for Grant\n\nGrant for 3rd-party NFVO is improved. Process related to placement\nconstraints is supported. This enables interoperability with\n3rd-party NFVO which enables them to deploy each VM in the VNF after\nsetting the zone information based on the grant response from NFVO.\n\nImplements: blueprint support-placement-constraints\nChange-Id: Ibd8c5cae985766d5bd5e73276920fd4c28d6e87f\n'}, {'number': 2, 'created': '2021-03-17 02:38:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/876afff72cc5b9d41ad57973ea0ad72cfd1bd64b', 'message': 'Support Placement Constraints for Grant\n\nGrant for 3rd-party NFVO is improved. Process related to placement\nconstraints is supported. This enables interoperability with\n3rd-party NFVO which enables them to deploy each VM in the VNF after\nsetting the zone information based on the grant response from NFVO.\n\nImplements: blueprint support-placement-constraints\nChange-Id: Ibd8c5cae985766d5bd5e73276920fd4c28d6e87f\n'}, {'number': 3, 'created': '2021-03-18 03:51:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/85186f5c1c60060c79f4fd6a054b7ba249e9f5d9', 'message': 'Support Placement Constraints for Grant\n\nGrant for 3rd-party NFVO is improved. Process related to placement\nconstraints is supported. This enables interoperability with\n3rd-party NFVO which enables them to deploy each VM in the VNF after\nsetting the zone information based on the grant response from NFVO.\n\nImplements: blueprint support-placement-constraints\nChange-Id: Ibd8c5cae985766d5bd5e73276920fd4c28d6e87f\n'}, {'number': 4, 'created': '2021-03-18 04:29:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/9b938fd3160a5d4e72557e1ff41aaa41a09b3399', 'message': 'Support Placement Constraints for Grant\n\nGrant for 3rd-party NFVO is improved. Process related to placement\nconstraints is supported. This enables interoperability with\n3rd-party NFVO which enables them to deploy each VM in the VNF after\nsetting the zone information based on the grant response from NFVO.\n\nImplements: blueprint support-placement-constraints\nChange-Id: Ibd8c5cae985766d5bd5e73276920fd4c28d6e87f\n'}, {'number': 5, 'created': '2021-03-19 02:14:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/b1acfb2008b5bbb7248e4fab69ace136b2ef1cfe', 'message': 'Support Placement Constraints for Grant\n\nGrant for 3rd-party NFVO is improved. Process related to placement\nconstraints is supported. This enables interoperability with\n3rd-party NFVO which enables them to deploy each VM in the VNF after\nsetting the zone information based on the grant response from NFVO.\n\nImplements: blueprint support-placement-constraints\nChange-Id: Ibd8c5cae985766d5bd5e73276920fd4c28d6e87f\n'}, {'number': 6, 'created': '2021-03-19 13:56:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/551022b74a81c8c68fcad12bbe7cd1edcb0f7770', 'message': 'Support Placement Constraints for Grant\n\nGrant for 3rd-party NFVO is improved. Process related to placement\nconstraints is supported. This enables interoperability with\n3rd-party NFVO which enables them to deploy each VM in the VNF after\nsetting the zone information based on the grant response from NFVO.\n\nImplements: blueprint support-placement-constraints\nChange-Id: Ibd8c5cae985766d5bd5e73276920fd4c28d6e87f\n'}, {'number': 7, 'created': '2021-03-23 08:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/30f3c03259bc554695e719c9eb16b187e7786564', 'message': 'Support Placement Constraints for Grant\n\nGrant for 3rd-party NFVO is improved. Process related to placement\nconstraints is supported. This enables interoperability with\n3rd-party NFVO which enables them to deploy each VM in the VNF after\nsetting the zone information based on the grant response from NFVO.\n\nImplements: blueprint support-placement-constraints\nChange-Id: Ibd8c5cae985766d5bd5e73276920fd4c28d6e87f\n'}, {'number': 8, 'created': '2021-03-24 01:52:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/0907f59521c6263d00acfe67a937d2ff46755b19', 'message': 'Support Placement Constraints for Grant\n\nGrant for 3rd-party NFVO is improved. Process related to placement\nconstraints is supported. This enables interoperability with\n3rd-party NFVO which enables them to deploy each VM in the VNF after\nsetting the zone information based on the grant response from NFVO.\n\nImplements: blueprint support-placement-constraints\nChange-Id: Ibd8c5cae985766d5bd5e73276920fd4c28d6e87f\n'}, {'number': 9, 'created': '2021-03-24 10:44:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/0f87115f87d0a8815098c95f1342fe6ecf35ec59', 'message': 'Support Placement Constraints for Grant\n\nGrant for 3rd-party NFVO is improved. Process related to placement\nconstraints is supported. This enables interoperability with\n3rd-party NFVO which enables them to deploy each VM in the VNF after\nsetting the zone information based on the grant response from NFVO.\n\nImplements: blueprint support-placement-constraints\nChange-Id: Ibd8c5cae985766d5bd5e73276920fd4c28d6e87f\n'}, {'number': 10, 'created': '2021-03-24 10:45:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/45fd1f3c975f1e244942ac7ed116232a175d3252', 'message': 'Support Placement Constraints for Grant\n\nGrant for 3rd-party NFVO is improved. Process related to placement\nconstraints is supported. This enables interoperability with\n3rd-party NFVO which enables them to deploy each VM in the VNF after\nsetting the zone information based on the grant response from NFVO.\n\nImplements: blueprint support-placement-constraints\nChange-Id: Ibd8c5cae985766d5bd5e73276920fd4c28d6e87f\n'}, {'number': 11, 'created': '2021-03-25 06:48:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/d77045cf6b522ca2be4567d6ecb85a0ba0c36434', 'message': 'Support Placement Constraints for Grant\n\nGrant for 3rd-party NFVO is improved. Process related to placement\nconstraints is supported. This enables interoperability with\n3rd-party NFVO which enables them to deploy each VM in the VNF after\nsetting the zone information based on the grant response from NFVO.\n\nCo-authored-By: Yasufumi Ogawa <yasufum.o@gmail.com>\nImplements: blueprint support-placement-constraints\nChange-Id: Ibd8c5cae985766d5bd5e73276920fd4c28d6e87f\n'}, {'number': 12, 'created': '2021-03-25 10:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/ea7ff3ce3328ef1192aeaabc883055cffab4b5d0', 'message': 'Support Placement Constraints for Grant\n\nGrant for 3rd-party NFVO is improved. Process related to placement\nconstraints is supported. This enables interoperability with\n3rd-party NFVO which enables them to deploy each VM in the VNF after\nsetting the zone information based on the grant response from NFVO.\n\nCo-authored-By: Yasufumi Ogawa <yasufum.o@gmail.com>\nImplements: blueprint support-placement-constraints\nChange-Id: Ibd8c5cae985766d5bd5e73276920fd4c28d6e87f\n'}, {'number': 13, 'created': '2021-03-26 11:59:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/1c377e0dc6c10e391835b3e95a161090e258d0bd', 'message': 'Support Placement Constraints for Grant\n\nGrant for 3rd-party NFVO is improved. Process related to placement\nconstraints is supported. This enables interoperability with\n3rd-party NFVO which enables them to deploy each VM in the VNF after\nsetting the zone information based on the grant response from NFVO.\n\nCo-authored-By: Yasufumi Ogawa <yasufum.o@gmail.com>\nImplements: blueprint support-placement-constraints\nChange-Id: Ibd8c5cae985766d5bd5e73276920fd4c28d6e87f\n'}, {'number': 14, 'created': '2021-03-29 09:32:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/5972ff56fc0346b837edb33bc9a8cb811d328ef0', 'message': 'Support Placement Constraints for Grant\n\nGrant for 3rd-party NFVO is improved. Process related to placement\nconstraints is supported. This enables interoperability with\n3rd-party NFVO which enables them to deploy each VM in the VNF after\nsetting the zone information based on the grant response from NFVO.\n\nCo-authored-By: Yasufumi Ogawa <yasufum.o@gmail.com>\nImplements: blueprint support-placement-constraints\nChange-Id: Ibd8c5cae985766d5bd5e73276920fd4c28d6e87f\n'}, {'number': 15, 'created': '2021-03-31 09:30:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/5f70740301b4d80a952f792e30319641dadb0311', 'message': 'Support Placement Constraints for Grant\n\nGrant for 3rd-party NFVO is improved. Process related to placement\nconstraints is supported. This enables interoperability with\n3rd-party NFVO which enables them to deploy each VM in the VNF after\nsetting the zone information based on the grant response from NFVO.\n\nCo-authored-By: Yasufumi Ogawa <yasufum.o@gmail.com>\nImplements: blueprint support-placement-constraints\nChange-Id: Ibd8c5cae985766d5bd5e73276920fd4c28d6e87f\n'}, {'number': 16, 'created': '2021-04-01 05:07:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/54196d879a07a46d113c8488d3d697fd2e2bdc25', 'message': 'Support Placement Constraints for Grant\n\nGrant for 3rd-party NFVO is improved. Process related to placement\nconstraints is supported. This enables interoperability with\n3rd-party NFVO which enables them to deploy each VM in the VNF after\nsetting the zone information based on the grant response from NFVO.\n\nCo-authored-By: Yasufumi Ogawa <yasufum.o@gmail.com>\nImplements: blueprint support-placement-constraints\nChange-Id: Ibd8c5cae985766d5bd5e73276920fd4c28d6e87f\n'}, {'number': 17, 'created': '2021-04-01 08:42:52.000000000', 'files': ['releasenotes/notes/bp-placement-constraints-e3256cfc2d1b2b9f.yaml', 'tacker/tests/functional/sol/vnflcm/base.py', 'tacker/tests/unit/vnfm/infra_drivers/openstack/test_openstack_driver.py', 'tacker/tests/etc/samples/etsi/nfv/functional6/Definitions/helloworld3_df_simple.yaml', 'tacker/tests/functional/sol_separated_nfvo/vnflcm/test_vnf_instance_with_user_data_nfvo_separate.py', 'tacker/tests/etc/samples/etsi/nfv/functional6/BaseHOT/simple/nested/VDU1.yaml', 'tacker/tests/etc/samples/etsi/nfv/functional6/BaseHOT/simple/helloworld3.yaml', 'tacker/tests/etc/samples/etsi/nfv/functional6/BaseHOT/simple/nested/VDU2.yaml', 'tacker/vnfm/infra_drivers/openstack/openstack.py', 'tacker/conductor/conductor_server.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/3859ade82452bd477eebccf96eaccd56ec99385d', 'message': 'Support Placement Constraints for Grant\n\nGrant for 3rd-party NFVO is improved. Process related to placement\nconstraints is supported. This enables interoperability with\n3rd-party NFVO which enables them to deploy each VM in the VNF after\nsetting the zone information based on the grant response from NFVO.\n\nCo-authored-By: Yasufumi Ogawa <yasufum.o@gmail.com>\nImplements: blueprint support-placement-constraints\nChange-Id: Ibd8c5cae985766d5bd5e73276920fd4c28d6e87f\n'}]",67,779158,3859ade82452bd477eebccf96eaccd56ec99385d,73,10,17,32219,,,0,"Support Placement Constraints for Grant

Grant for 3rd-party NFVO is improved. Process related to placement
constraints is supported. This enables interoperability with
3rd-party NFVO which enables them to deploy each VM in the VNF after
setting the zone information based on the grant response from NFVO.

Co-authored-By: Yasufumi Ogawa <yasufum.o@gmail.com>
Implements: blueprint support-placement-constraints
Change-Id: Ibd8c5cae985766d5bd5e73276920fd4c28d6e87f
",git fetch https://review.opendev.org/openstack/tacker refs/changes/58/779158/17 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/tests/functional/sol/vnflcm/base.py', 'tacker/tests/unit/vnfm/infra_drivers/openstack/test_openstack_driver.py', 'tacker/tests/functional/sol_separated_nfvo/vnflcm/test_vnf_instance_with_user_data_nfvo_separate.py', 'tacker/tests/etc/samples/etsi/nfv/functional6/BaseHOT/simple/helloworld3.yaml', 'tacker/tests/etc/samples/etsi/nfv/functional6/BaseHOT/simple/nested/VDU2.yaml', 'tacker/vnfm/infra_drivers/openstack/openstack.py']",6,ecce4bff899922c8127e7638790684b1c62689bf,bp/support-placement-constraints," if not (base_hot_dict['resources'] [vdu_name]['properties'])\ .get('resource'): (base_hot_dict['resources'][vdu_name] ['properties']['resource'])\ = {'properties': {}} if not (base_hot_dict['resources'] [vdu_name] ['properties']['resource'] ['properties']).get('zone'): (base_hot_dict['resources'][vdu_name] ['properties']['resource'] ['properties']['zone'])\ = {'get_param': ['nfv', 'vdu', vdu_name, 'zone']} yaml_name = vdu_name + '.yaml' if not (nested_hot_dict[yaml_name] ['parameters']).get('zone'): (nested_hot_dict[yaml_name]['parameters'] ['zone'])\ = {'type': 'string'} if not (nested_hot_dict[yaml_name] ['resources'][vdu_name] ['properties'])\ .get('availability_zone'): (nested_hot_dict[yaml_name]['resources'] [vdu_name]['properties'] ['availability_zone'])\ = {'get_param': 'zone'} if not (hot_param_dict['nfv']['VDU'] [vdu_name]).get('zone') and\ zone.zone_id: hot_param_dict['nfv']['VDU'][vdu_name]['zone']\ = zone.zone_id if (hot_param_dict['nfv']['VDU'] [vdu_name]).get('zone') and\ not zone.zone_id: del (hot_param_dict['nfv']['VDU'] [vdu_name]['zone']) if addrsc.resource_definition_id == rsc.id: if not (stack_param['nfv']['VDU'] [vdu_name]).get('zone') and\ zone.zone_id: stack_param['nfv']['VDU'][vdu_name]['zone'] = \ zone.zone_id if (stack_param['nfv']['VDU'] [vdu_name]).get('zone') and\ not zone.zone_id: del stack_param['nfv']['VDU'][vdu_name]['zone']", hot_param_dict['nfv']['VDU'][vdu_name]['zone'] = \ zone.zone_id if addrsc.id == rsc.id: stack_param['nfv']['VDU'][vdu_name]['zone'] = zone.zone_id,379,9
openstack%2Fswift~master~I1456aba0158d29fa0a879dcc2dfb13245c45ad16,openstack/swift,master,I1456aba0158d29fa0a879dcc2dfb13245c45ad16,Create a separate doc for audit watcher,MERGED,2021-01-06 05:18:26.000000000,2021-04-02 00:29:55.000000000,2021-04-02 00:27:31.000000000,"[{'_account_id': 597}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-06 05:18:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/13b54841d4ad769e51e9f7710f7088e026670050', 'message': ""Create and audit watcher seperate doc\n\nWe have a separate doc page for middlewares that pulls the docstring\nfrom each middleware's docstring[0]. This makes it easy to look up the docs\nin our documentation and easy to find the middleware doc by looking in\nthe code of the middleware itself.\n\nThis patch does the same with the audit watchers. There is now a page\nthat generates a list of audit watchers, even though currently it's only\none, and pulls the docs from their docstrings. Giving us an easy way to\nmaintain each audit watcher doc along with it's code.\n\n[0] - https://docs.openstack.org/swift/latest/middleware.html\n\nChange-Id: I1456aba0158d29fa0a879dcc2dfb13245c45ad16\n""}, {'number': 2, 'created': '2021-01-06 09:17:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2b13e3fb2f94e370a4b7540916e92e305909751a', 'message': ""Create and audit watcher seperate doc\n\nWe have a separate doc page for middlewares that pulls the docstring\nfrom each middleware's docstring[0]. This makes it easy to look up the docs\nin our documentation and easy to find the middleware doc by looking in\nthe code of the middleware itself.\n\nThis patch does the same with the audit watchers. There is now a page\nthat generates a list of audit watchers, even though currently it's only\none, and pulls the docs from their docstrings. Giving us an easy way to\nmaintain each audit watcher doc along with it's code.\n\n[0] - https://docs.openstack.org/swift/latest/middleware.html\n\nChange-Id: I1456aba0158d29fa0a879dcc2dfb13245c45ad16\n""}, {'number': 3, 'created': '2021-01-06 17:41:13.000000000', 'files': ['doc/source/index.rst', 'doc/source/audit_watchers.rst', 'swift/obj/watchers/dark_data.py', 'doc/source/development_watchers.rst'], 'web_link': 'https://opendev.org/openstack/swift/commit/46a6a09d5b15dbcd7ce7244a6c18a8edbb96013e', 'message': ""Create a separate doc for audit watcher\n\nWe have a separate doc page for middlewares that pulls the docstring\nfrom each middleware's docstring[0]. This makes it easy to look up the docs\nin our documentation and easy to find the middleware doc by looking in\nthe code of the middleware itself.\n\nThis patch does the same with the audit watchers. There is now a page\nthat generates a list of audit watchers, even though currently it's only\none, and pulls the docs from their docstrings. Giving us an easy way to\nmaintain each audit watcher doc along with it's code.\n\n[0] - https://docs.openstack.org/swift/latest/middleware.html\n\nChange-Id: I1456aba0158d29fa0a879dcc2dfb13245c45ad16\n""}]",2,769452,46a6a09d5b15dbcd7ce7244a6c18a8edbb96013e,13,3,3,7233,,,0,"Create a separate doc for audit watcher

We have a separate doc page for middlewares that pulls the docstring
from each middleware's docstring[0]. This makes it easy to look up the docs
in our documentation and easy to find the middleware doc by looking in
the code of the middleware itself.

This patch does the same with the audit watchers. There is now a page
that generates a list of audit watchers, even though currently it's only
one, and pulls the docs from their docstrings. Giving us an easy way to
maintain each audit watcher doc along with it's code.

[0] - https://docs.openstack.org/swift/latest/middleware.html

Change-Id: I1456aba0158d29fa0a879dcc2dfb13245c45ad16
",git fetch https://review.opendev.org/openstack/swift refs/changes/52/769452/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/audit_watchers.rst', 'swift/obj/watchers/dark_data.py', 'doc/source/development_watchers.rst']",4,13b54841d4ad769e51e9f7710f7088e026670050,audit_watcher_seperate_docs,"to see_object(). The :ref:`dark_data` watcher has been provided as an example, if an operator wants to create their own watcher, for now, start by copying the provided example template ``swift/obj/watchers/dark_data.py`` and see if it is sufficient.","to see_object(). For now, start by copying the provided template watcher swift/obj/watchers/dark_data.py and see if it is sufficient. The name of ""Dark Data"" refers to the scientific hypothesis of Dark Matter, which supposes that the universe contains a lot of matter than we cannot observe. The Dark Data in Swift is the name of objects that are not accounted in the containers. The experience of running large scale clusters suggests that Swift does not have any particular bugs that trigger creation of dark data. So, this is an excercise in writing watchers, with a plausible function. When enabled, Dark Data watcher definitely drags down the cluster's overall performance, as mentioned above. Of course, the load increase can be mitigated as usual, but at the expense of the total time taken by the pass of auditor. Finally, keep in mind that Dark Data watcher needs the container ring to operate, but runs on an object node. This can come up if cluster has nodes separated by function.",38,19
openstack%2Fmonasca-api~master~I6dd719aa67e20ad49c3540f8c36398379e15449e,openstack/monasca-api,master,I6dd719aa67e20ad49c3540f8c36398379e15449e,Add Python3 xena unit tests,MERGED,2021-03-26 11:17:54.000000000,2021-04-02 00:10:13.000000000,2021-04-02 00:06:30.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-03-26 11:17:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/f288df3a2b1e5d3dcb210ca326fddb2323de9578', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I6dd719aa67e20ad49c3540f8c36398379e15449e\n'}, {'number': 2, 'created': '2021-03-31 22:51:04.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/545c7a08a5e1e08ff44bdd0fc1d8cd1b21e26e7a', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I6dd719aa67e20ad49c3540f8c36398379e15449e\n'}]",0,783274,545c7a08a5e1e08ff44bdd0fc1d8cd1b21e26e7a,19,2,2,22816,,,0,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I6dd719aa67e20ad49c3540f8c36398379e15449e
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/74/783274/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f288df3a2b1e5d3dcb210ca326fddb2323de9578,add-xena-python-jobtemplates, - openstack-python3-xena-jobs, - openstack-python3-wallaby-jobs,1,1
openstack%2Fglance~stable%2Fvictoria~I5df000eaeeaa4831eb5a021adeb6153cec0734b5,openstack/glance,stable/victoria,I5df000eaeeaa4831eb5a021adeb6153cec0734b5,Remove openstack-tox-lower-constraints voting job,ABANDONED,2021-03-10 17:55:58.000000000,2021-04-02 00:09:22.000000000,,"[{'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-10 17:55:58.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/4ac08e639d311caddbcfa6fcd07309e5ae16c8ae', 'message': 'Remove openstack-tox-lower-constraints voting job\n\nChange-Id: I5df000eaeeaa4831eb5a021adeb6153cec0734b5\n'}]",0,779842,4ac08e639d311caddbcfa6fcd07309e5ae16c8ae,5,2,1,8122,,,0,"Remove openstack-tox-lower-constraints voting job

Change-Id: I5df000eaeeaa4831eb5a021adeb6153cec0734b5
",git fetch https://review.opendev.org/openstack/glance refs/changes/42/779842/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4ac08e639d311caddbcfa6fcd07309e5ae16c8ae,victoria/lower-constraints,, - openstack-lower-constraints-jobs,0,1
openstack%2Fopenstack-ansible~master~Id29f7344da7f71c9513d62c939ce2baead6ef451,openstack/openstack-ansible,master,Id29f7344da7f71c9513d62c939ce2baead6ef451,Gather minimal facts in common playbooks,MERGED,2021-03-01 12:43:54.000000000,2021-04-02 00:01:13.000000000,2021-04-01 23:59:39.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-03-01 12:43:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/92f7db4c64699373c7a6cf269cce6b51a8bb86af', 'message': ""Gather minimal facts in common playbooks\n\nThe common playbooks for cinder, neutron and nova have an initial\nfacts gathering step.\n\nThis patch switches from implicit gather_facts to direct use of\nthe ansible setup module. The minimum set of facts are gathered,\nand an additional filtered set of facts about the target processor\ncount is gathered. The processor count is used in many service\ntemplates to set the number or threads/processes used.\n\nThis approach significantly reduces the size of the gathered\nfacts which cannot be achieved directly with a gather_subset\nof '!all,min,hardware'.\n\nIn addition, all uses of ansible facts are converted to\nansible_facts[].\n\nChange-Id: Id29f7344da7f71c9513d62c939ce2baead6ef451\n""}, {'number': 2, 'created': '2021-03-01 13:55:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2e6816e4dc2aba9469262710e4804b26db69ed33', 'message': ""Gather minimal facts in common playbooks\n\nThe common playbooks for cinder, neutron and nova have an initial\nfacts gathering step.\n\nThis patch switches from implicit gather_facts to direct use of\nthe ansible setup module. The minimum set of facts are gathered,\nand an additional filtered set of facts about the target processor\ncount is gathered. The processor count is used in many service\ntemplates to set the number or threads/processes used.\n\nThis approach significantly reduces the size of the gathered\nfacts which cannot be achieved directly with a gather_subset\nof '!all,min,hardware'.\n\nIn addition, all uses of ansible facts are converted to\nansible_facts[].\n\nChange-Id: Id29f7344da7f71c9513d62c939ce2baead6ef451\n""}, {'number': 3, 'created': '2021-03-01 17:12:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4baaccfa78795fd632c17d3b86cc8055996c1ddf', 'message': ""Gather minimal facts in common playbooks\n\nThe common playbooks for cinder, neutron and nova have an initial\nfacts gathering step.\n\nThis patch switches from implicit gather_facts to direct use of\nthe ansible setup module. The minimum set of facts are gathered,\nand an additional filtered set of facts about the target processor\ncount is gathered. The processor count is used in many service\ntemplates to set the number or threads/processes used.\n\nThis approach significantly reduces the size of the gathered\nfacts which cannot be achieved directly with a gather_subset\nof '!all,min,hardware'.\n\nIn addition, all uses of ansible facts are converted to\nansible_facts[].\n\nChange-Id: Id29f7344da7f71c9513d62c939ce2baead6ef451\n""}, {'number': 4, 'created': '2021-03-02 15:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/eb1e3ec9eabbcdbcf642140b9015b1418aba2d9f', 'message': ""Gather minimal facts in common playbooks\n\nThe common playbooks for cinder, neutron and nova have an initial\nfacts gathering step.\n\nThis patch switches from implicit gather_facts to direct use of\nthe ansible setup module. The minimum set of facts are gathered,\nand an additional filtered set of facts about the target processor\ncount is gathered. The processor count is used in many service\ntemplates to set the number or threads/processes used.\n\nThis approach significantly reduces the size of the gathered\nfacts which cannot be achieved directly with a gather_subset\nof '!all,min,hardware'.\n\nIn addition, all uses of ansible facts are converted to\nansible_facts[].\n\nChange-Id: Id29f7344da7f71c9513d62c939ce2baead6ef451\n""}, {'number': 5, 'created': '2021-03-02 16:22:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/656ef6bf6fddcea09b7efcee75ae7b7a97320b7e', 'message': ""Gather minimal facts in common playbooks\n\nThe common playbooks for cinder, neutron and nova have an initial\nfacts gathering step.\n\nThis patch switches from implicit gather_facts to direct use of\nthe ansible setup module. The minimum set of facts are gathered,\nand an additional filtered set of facts about the target processor\ncount is gathered. The processor count is used in many service\ntemplates to set the number or threads/processes used.\n\nThis approach significantly reduces the size of the gathered\nfacts which cannot be achieved directly with a gather_subset\nof '!all,min,hardware'.\n\nIn addition, all uses of ansible facts are converted to\nansible_facts[].\n\nChange-Id: Id29f7344da7f71c9513d62c939ce2baead6ef451\n""}, {'number': 6, 'created': '2021-03-03 09:12:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a925a818b306216b67d1cb2045998c43aae8e7e8', 'message': ""Gather minimal facts in common playbooks\n\nThe common playbooks for cinder, neutron and nova have an initial\nfacts gathering step.\n\nThis patch switches from implicit gather_facts to direct use of\nthe ansible setup module. The minimum set of facts are gathered,\nand an additional filtered set of facts about the target processor\ncount is gathered. The processor count is used in many service\ntemplates to set the number or threads/processes used.\n\nThis approach significantly reduces the size of the gathered\nfacts which cannot be achieved directly with a gather_subset\nof '!all,min,hardware'.\n\nIn addition, all uses of ansible facts are converted to\nansible_facts[].\n\nChange-Id: Id29f7344da7f71c9513d62c939ce2baead6ef451\n""}, {'number': 7, 'created': '2021-03-03 09:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/99d60e61f97682e5aaecb7d38261403d26a22f41', 'message': ""Gather minimal facts in common playbooks\n\nThe common playbooks for cinder, neutron and nova have an initial\nfacts gathering step.\n\nThis patch switches from implicit gather_facts to direct use of\nthe ansible setup module. The minimum set of facts are gathered,\nand an additional filtered set of facts about the target processor\ncount is gathered. The processor count is used in many service\ntemplates to set the number or threads/processes used.\n\nThis approach significantly reduces the size of the gathered\nfacts which cannot be achieved directly with a gather_subset\nof '!all,min,hardware'.\n\nIn addition, all uses of ansible facts are converted to\nansible_facts[].\n\nChange-Id: Id29f7344da7f71c9513d62c939ce2baead6ef451\n""}, {'number': 8, 'created': '2021-03-03 10:51:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/49eeb3bc349ee3710fc143b4b121a45a25c0ede6', 'message': ""Gather minimal facts in common playbooks\n\nThe common playbooks for cinder, neutron and nova have an initial\nfacts gathering step.\n\nThis patch switches from implicit gather_facts to direct use of\nthe ansible setup module. The minimum set of facts are gathered,\nand an additional filtered set of facts about the target processor\ncount is gathered. The processor count is used in many service\ntemplates to set the number or threads/processes used.\n\nThis approach significantly reduces the size of the gathered\nfacts which cannot be achieved directly with a gather_subset\nof '!all,min,hardware'.\n\nIn addition, all uses of ansible facts are converted to\nansible_facts[].\n\nChange-Id: Id29f7344da7f71c9513d62c939ce2baead6ef451\n""}, {'number': 9, 'created': '2021-03-03 10:56:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/34b2c277983e8678fbf004a9314b3a060337f885', 'message': ""Gather minimal facts in common playbooks\n\nThe common playbooks for cinder, neutron and nova have an initial\nfacts gathering step.\n\nThis patch switches from implicit gather_facts to direct use of\nthe ansible setup module. The minimum set of facts are gathered,\nand an additional filtered set of facts about the target processor\ncount is gathered. The processor count is used in many service\ntemplates to set the number or threads/processes used.\n\nThis approach significantly reduces the size of the gathered\nfacts which cannot be achieved directly with a gather_subset\nof '!all,min,hardware'.\n\nIn addition, all uses of ansible facts are converted to\nansible_facts[].\n\nChange-Id: Id29f7344da7f71c9513d62c939ce2baead6ef451\n""}, {'number': 10, 'created': '2021-03-03 11:24:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c0c7355c0f1ce8cce32bdb945ddc840c7f103c08', 'message': ""Gather minimal facts in common playbooks\n\nThe common playbooks for cinder, neutron and nova have an initial\nfacts gathering step.\n\nThis patch switches from implicit gather_facts to direct use of\nthe ansible setup module. The minimum set of facts are gathered,\nand an additional filtered set of facts about the target processor\ncount is gathered. The processor count is used in many service\ntemplates to set the number or threads/processes used.\n\nThis approach significantly reduces the size of the gathered\nfacts which cannot be achieved directly with a gather_subset\nof '!all,min,hardware'.\n\nIn addition, all uses of ansible facts are converted to\nansible_facts[].\n\nChange-Id: Id29f7344da7f71c9513d62c939ce2baead6ef451\n""}, {'number': 11, 'created': '2021-03-03 15:03:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/968c3fdf582b506445c459dae32785b41860bcf5', 'message': ""Gather minimal facts in common playbooks\n\nThe common playbooks for cinder, neutron and nova have an initial\nfacts gathering step.\n\nThis patch switches from implicit gather_facts to direct use of\nthe ansible setup module. The minimum set of facts are gathered,\nand an additional filtered set of facts about the target processor\ncount is gathered. The processor count is used in many service\ntemplates to set the number or threads/processes used.\n\nThis approach significantly reduces the size of the gathered\nfacts which cannot be achieved directly with a gather_subset\nof '!all,min,hardware'.\n\nIn addition, all uses of ansible facts are converted to\nansible_facts[].\n\nChange-Id: Id29f7344da7f71c9513d62c939ce2baead6ef451\n""}, {'number': 12, 'created': '2021-03-04 17:00:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/739ce865af836116867a8d5c32a64744c967dd3b', 'message': ""Gather minimal facts in common playbooks\n\nThe common playbooks for cinder, neutron and nova have an initial\nfacts gathering step.\n\nThis patch switches from implicit gather_facts to direct use of\nthe ansible setup module. The minimum set of facts are gathered,\nand an additional filtered set of facts about the target processor\ncount is gathered. The processor count is used in many service\ntemplates to set the number or threads/processes used.\n\nThis approach significantly reduces the size of the gathered\nfacts which cannot be achieved directly with a gather_subset\nof '!all,min,hardware'.\n\nIn addition, all uses of ansible facts are converted to\nansible_facts[].\n\nChange-Id: Id29f7344da7f71c9513d62c939ce2baead6ef451\n""}, {'number': 13, 'created': '2021-03-08 07:45:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6e6ddec9719039e1e2503a8f921494fa6355e049', 'message': ""Gather minimal facts in common playbooks\n\nThe common playbooks for cinder, neutron and nova have an initial\nfacts gathering step.\n\nThis patch switches from implicit gather_facts to direct use of\nthe ansible setup module. The minimum set of facts are gathered,\nand an additional filtered set of facts about the target processor\ncount is gathered. The processor count is used in many service\ntemplates to set the number or threads/processes used.\n\nThis approach significantly reduces the size of the gathered\nfacts which cannot be achieved directly with a gather_subset\nof '!all,min,hardware'.\n\nIn addition, all uses of ansible facts are converted to\nansible_facts[].\n\nChange-Id: Id29f7344da7f71c9513d62c939ce2baead6ef451\n""}, {'number': 14, 'created': '2021-03-23 16:27:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/41bbd1c3b2a0eecead94e1b8dba641ec801b4916', 'message': ""Gather minimal facts in common playbooks\n\nThe common playbooks for cinder, neutron and nova have an initial\nfacts gathering step.\n\nThis patch switches from implicit gather_facts to direct use of\nthe ansible setup module. The minimum set of facts are gathered,\nand an additional filtered set of facts about the target processor\ncount is gathered. The processor count is used in many service\ntemplates to set the number or threads/processes used.\n\nThis approach significantly reduces the size of the gathered\nfacts which cannot be achieved directly with a gather_subset\nof '!all,min,hardware'.\n\nIn addition, all uses of ansible facts are converted to\nansible_facts[].\n\nChange-Id: Id29f7344da7f71c9513d62c939ce2baead6ef451\n""}, {'number': 15, 'created': '2021-03-23 16:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5af6444a8ba16d6001d59f89a0a3a3daa7fcb9e2', 'message': ""Gather minimal facts in common playbooks\n\nThe common playbooks for cinder, neutron and nova have an initial\nfacts gathering step.\n\nThis patch switches from implicit gather_facts to direct use of\nthe ansible setup module. The minimum set of facts are gathered,\nand an additional filtered set of facts about the target processor\ncount is gathered. The processor count is used in many service\ntemplates to set the number or threads/processes used.\n\nThis approach significantly reduces the size of the gathered\nfacts which cannot be achieved directly with a gather_subset\nof '!all,min,hardware'.\n\nIn addition, all uses of ansible facts are converted to\nansible_facts[].\n\nChange-Id: Id29f7344da7f71c9513d62c939ce2baead6ef451\n""}, {'number': 16, 'created': '2021-03-25 10:58:05.000000000', 'files': ['playbooks/common-playbooks/neutron.yml', 'playbooks/common-playbooks/cinder.yml', 'playbooks/common-playbooks/nova.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3f1c6c0626bc2709ac5e7ad52ee76b1b8aca92a9', 'message': ""Gather minimal facts in common playbooks\n\nThe common playbooks for cinder, neutron and nova have an initial\nfacts gathering step.\n\nThis patch switches from implicit gather_facts to direct use of\nthe ansible setup module. The minimum set of facts are gathered,\nand an additional filtered set of facts about the target processor\ncount is gathered. The processor count is used in many service\ntemplates to set the number or threads/processes used.\n\nThis approach significantly reduces the size of the gathered\nfacts which cannot be achieved directly with a gather_subset\nof '!all,min,hardware'.\n\nIn addition, all uses of ansible facts are converted to\nansible_facts[].\n\nChange-Id: Id29f7344da7f71c9513d62c939ce2baead6ef451\n""}]",2,777990,3f1c6c0626bc2709ac5e7ad52ee76b1b8aca92a9,39,3,16,25023,,,0,"Gather minimal facts in common playbooks

The common playbooks for cinder, neutron and nova have an initial
facts gathering step.

This patch switches from implicit gather_facts to direct use of
the ansible setup module. The minimum set of facts are gathered,
and an additional filtered set of facts about the target processor
count is gathered. The processor count is used in many service
templates to set the number or threads/processes used.

This approach significantly reduces the size of the gathered
facts which cannot be achieved directly with a gather_subset
of '!all,min,hardware'.

In addition, all uses of ansible facts are converted to
ansible_facts[].

Change-Id: Id29f7344da7f71c9513d62c939ce2baead6ef451
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/90/777990/6 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/common-playbooks/neutron.yml', 'playbooks/common-playbooks/cinder.yml', 'playbooks/common-playbooks/nova.yml']",3,92f7db4c64699373c7a6cf269cce6b51a8bb86af,osa-facts," hosts: ""{{ nova_hosts }}:repo_all"" gather_facts: false tasks: - name: Gather minimal facts for nova setup: gather_subset: - !all"" - min when: osa_gather_facts | default(True) - name: Gather additional facts for nova - setup: gather_subset: ""{{ nova_gather_subset | default('processor_count') }}"" filter: ""{{ nova_gather_filter | default('ansible_processor*' }}"" when: osa_gather_facts | default(True) gather_facts: false"," hosts: ""{{ nova_hosts }}"" gather_facts: ""{{ osa_gather_facts | default(True) }}"" gather_facts: ""{{ osa_gather_facts | default(True) }}""",48,9
openstack%2Fneutron~stable%2Fwallaby~Ib4dadc2619fb1c0d0729a5e01c2db16ebb776940,openstack/neutron,stable/wallaby,Ib4dadc2619fb1c0d0729a5e01c2db16ebb776940,Modify create address scope policy rule and add UT for that API,MERGED,2021-03-31 10:04:32.000000000,2021-04-01 23:59:59.000000000,2021-04-01 23:57:27.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-31 10:04:32.000000000', 'files': ['neutron/conf/policies/address_scope.py', 'neutron/tests/unit/conf/policies/test_address_scope.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c1fdee4c5718e16ebf1617a9cf7338cbc27a4d8b', 'message': ""Modify create address scope policy rule and add UT for that API\n\nThis patch changes create_address_scope policy to allow it for\nSYSTEM_ADMIN too. Before this patch it was available only for\nPROJECT_MEMBER so anyone with project scope could create it but system\nadmin couldn't.\nNow it's fixed.\n\nThis patch additionally adds unit tests to cover new, secure rbac API\npolicies for address scope API.\n\nRelated-blueprint: #secure-rbac-roles\nChange-Id: Ib4dadc2619fb1c0d0729a5e01c2db16ebb776940\n(cherry picked from commit d4147072f8779403fd310a3eb10aa0209acb0d74)\n""}]",0,784037,c1fdee4c5718e16ebf1617a9cf7338cbc27a4d8b,16,3,1,11975,,,0,"Modify create address scope policy rule and add UT for that API

This patch changes create_address_scope policy to allow it for
SYSTEM_ADMIN too. Before this patch it was available only for
PROJECT_MEMBER so anyone with project scope could create it but system
admin couldn't.
Now it's fixed.

This patch additionally adds unit tests to cover new, secure rbac API
policies for address scope API.

Related-blueprint: #secure-rbac-roles
Change-Id: Ib4dadc2619fb1c0d0729a5e01c2db16ebb776940
(cherry picked from commit d4147072f8779403fd310a3eb10aa0209acb0d74)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/37/784037/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/conf/policies/address_scope.py', 'neutron/tests/unit/conf/policies/test_address_scope.py']",2,c1fdee4c5718e16ebf1617a9cf7338cbc27a4d8b,secure-rbac-stable/wallaby,"# Copyright (c) 2021 Red Hat Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. from oslo_policy import policy as base_policy from neutron import policy from neutron.tests.unit.conf.policies import base class AddressScopeAPITestCase(base.PolicyBaseTestCase): def setUp(self): super(AddressScopeAPITestCase, self).setUp() self.target = { 'project_id': self.project_id} def test_system_admin_can_create_address_scope(self): # system_admin_ctx don't have project_id set so it's always call to # create it for ""other project"" self.assertTrue( policy.enforce(self.system_admin_ctx, 'create_address_scope', self.target)) def test_system_member_can_not_create_address_scope(self): # If system member is not able to do that, it implies that # system_reader also will not be able to do that self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.system_member_ctx, 'create_address_scope', self.target) def test_project_member_can_create_address_scope(self): self.assertTrue( policy.enforce(self.project_member_ctx, 'create_address_scope', self.target)) def test_project_member_can_not_create_address_scope_other_project(self): # If project member is not able to do that, it implies that # project_reader also will not be able to do that target = {'project_id': 'other-project'} self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.project_member_ctx, 'create_address_scope', target) def test_system_admin_can_create_shared_address_scope(self): # system_admin_ctx don't have project_id set so it's always call to # create it for ""other project"" target = self.target.copy() target['shared'] = True self.assertTrue( policy.enforce(self.system_admin_ctx, 'create_address_scope:shared', target)) def test_system_member_can_not_create_shared_address_scope(self): # If system member is not able to do that, it implies that # system_reader also will not be able to do that target = self.target.copy() target['shared'] = True self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.system_member_ctx, 'create_address_scope:shared', target) def test_project_admin_can_not_create_shared_address_scope(self): # If project admin is not able to do that, it implies that # project_member and project_reader also will not be able to do that target = self.target.copy() target['shared'] = True self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.project_admin_ctx, 'create_address_scope:shared', target) def test_system_reader_can_get_address_scope(self): self.assertTrue( policy.enforce(self.system_reader_ctx, 'get_address_scope', self.target)) def test_project_reader_can_get_address_scope(self): self.assertTrue( policy.enforce(self.project_reader_ctx, 'get_address_scope', self.target)) def test_project_admin_can_not_get_address_scope_other_project(self): # If project admin is not able to do that, it implies that # project_member and project_reader also will not be able to do that target = {'project_id': 'other-project'} self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.project_admin_ctx, 'get_address_scope', target) def test_system_admin_can_update_address_scope(self): # system_admin_ctx don't have project_id set so it's always call to # create it for ""other project"" self.assertTrue( policy.enforce(self.system_admin_ctx, 'update_address_scope', self.target)) def test_system_member_can_not_update_address_scope(self): # If system member is not able to do that, it implies that # system_reader also will not be able to do that self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.system_member_ctx, 'update_address_scope', self.target) def test_project_member_can_update_address_scope(self): self.assertTrue( policy.enforce(self.project_member_ctx, 'update_address_scope', self.target)) def test_project_member_can_not_update_address_scope_other_project(self): # If project member is not able to do that, it implies that # project_reader also will not be able to do that target = {'project_id': 'other-project'} self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.project_member_ctx, 'update_address_scope', target) def test_system_admin_can_update_shared_address_scope(self): # system_admin_ctx don't have project_id set so it's always call to # create it for ""other project"" target = self.target.copy() target['shared'] = True self.assertTrue( policy.enforce(self.system_admin_ctx, 'update_address_scope:shared', target)) def test_system_member_can_not_update_shared_address_scope(self): # If system member is not able to do that, it implies that # system_reader also will not be able to do that target = self.target.copy() target['shared'] = True self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.system_member_ctx, 'update_address_scope:shared', target) def test_project_admin_can_not_update_shared_address_scope(self): # If project admin is not able to do that, it implies that # project_member and project_reader also will not be able to do that target = self.target.copy() target['shared'] = True self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.project_admin_ctx, 'update_address_scope:shared', target) def test_system_admin_can_delete_address_scope(self): # system_admin_ctx don't have project_id set so it's always call to # create it for ""other project"" self.assertTrue( policy.enforce(self.system_admin_ctx, 'delete_address_scope', self.target)) def test_system_member_can_not_delete_address_scope(self): # If system member is not able to do that, it implies that # system_reader also will not be able to do that self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.system_member_ctx, 'delete_address_scope', self.target) def test_project_member_can_delete_address_scope(self): self.assertTrue( policy.enforce(self.project_member_ctx, 'delete_address_scope', self.target)) def test_project_member_can_not_delete_address_scope_other_project(self): # If project member is not able to do that, it implies that # project_reader also will not be able to do that target = {'project_id': 'other-project'} self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.project_member_ctx, 'delete_address_scope', target) ",,192,1
openstack%2Fneutron~stable%2Fwallaby~Ibcd6084b30d923803723caffbf61bf2a60c6a408,openstack/neutron,stable/wallaby,Ibcd6084b30d923803723caffbf61bf2a60c6a408,Migrate address-group API to the new secure rbac rules,MERGED,2021-03-31 10:05:03.000000000,2021-04-01 23:58:58.000000000,2021-04-01 23:56:51.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-31 10:05:03.000000000', 'files': ['neutron/conf/policies/address_group.py', 'neutron/tests/unit/conf/policies/test_address_group.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/201ea2af163fb362a7cf200025eae67f518e4ea1', 'message': 'Migrate address-group API to the new secure rbac rules\n\nThis commit updates the port policies to understand scope checking and\naccount\nfor a read-only role. This is part of a broader series of changes across\nOpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nIt also adds new UT to test new API policies for address-group API.\n\nChange-Id: Ibcd6084b30d923803723caffbf61bf2a60c6a408\n(cherry picked from commit fd6ee70c3d6717a97b34d1aed70b4c83836245fb)\n'}]",0,784038,201ea2af163fb362a7cf200025eae67f518e4ea1,18,3,1,11975,,,0,"Migrate address-group API to the new secure rbac rules

This commit updates the port policies to understand scope checking and
account
for a read-only role. This is part of a broader series of changes across
OpenStack to provide a consistent RBAC experience and improve
security.

It also adds new UT to test new API policies for address-group API.

Change-Id: Ibcd6084b30d923803723caffbf61bf2a60c6a408
(cherry picked from commit fd6ee70c3d6717a97b34d1aed70b4c83836245fb)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/38/784038/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/conf/policies/address_group.py', 'neutron/tests/unit/conf/policies/test_address_group.py']",2,201ea2af163fb362a7cf200025eae67f518e4ea1,secure-rbac-stable/wallaby,"# Copyright (c) 2021 Red Hat Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. from oslo_policy import policy as base_policy from neutron import policy from neutron.tests.unit.conf.policies import base class AddressGroupAPITestCase(base.PolicyBaseTestCase): def setUp(self): super(AddressGroupAPITestCase, self).setUp() self.target = {'project_id': self.project_id} def test_system_reader_can_get_address_group(self): self.assertTrue( policy.enforce(self.system_reader_ctx, ""get_address_group"", self.target)) def test_project_reader_can_get_address_group(self): self.assertTrue( policy.enforce(self.project_reader_ctx, ""get_address_group"", self.target)) def test_system_reader_can_get_any_address_group(self): target = {'project_id': 'some-other-project'} self.assertTrue( policy.enforce(self.system_reader_ctx, ""get_address_group"", target)) def test_project_reader_can_not_get_address_group_other_tenant(self): target = {'project_id': 'some-other-project'} self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.project_reader_ctx, ""get_address_group"", target) ",,64,3
openstack%2Fopenstack-ansible~master~Ia7ccd5da55119273cf1fac26316ce37aa484d95a,openstack/openstack-ansible,master,Ia7ccd5da55119273cf1fac26316ce37aa484d95a,Convert host and container journal collection to python,MERGED,2020-06-10 16:11:03.000000000,2021-04-01 23:53:42.000000000,2021-04-01 23:51:59.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25600}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-06-10 16:11:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/dca281645c855df0eaeca3e810f5eb0382e2be40', 'message': 'Convert host and container journal collection to python\n\nThis takes only one pass over all the journal files to generate\nthe output rather than iterating over the whole journal once per\nservice.\n\nChange-Id: Ia7ccd5da55119273cf1fac26316ce37aa484d95a\n'}, {'number': 2, 'created': '2020-06-10 17:33:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/eabdb5d7b947945f91e6132224b5905acdc00bb2', 'message': 'Convert host and container journal collection to python\n\nThis takes only one pass over all the journal files to generate\nthe output rather than iterating over the whole journal once per\nservice.\n\nChange-Id: Ia7ccd5da55119273cf1fac26316ce37aa484d95a\n'}, {'number': 3, 'created': '2020-09-23 09:32:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b21ed60b9a8faad68ad147991654961f1d40a427', 'message': 'Convert host and container journal collection to python\n\nThis takes only one pass over all the journal files to generate\nthe output rather than iterating over the whole journal once per\nservice.\n\nChange-Id: Ia7ccd5da55119273cf1fac26316ce37aa484d95a\n'}, {'number': 4, 'created': '2020-09-23 11:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/07008ad25347a3dbbee44f5f6b485de7bad4357d', 'message': 'Convert host and container journal collection to python\n\nThis takes only one pass over all the journal files to generate\nthe output rather than iterating over the whole journal once per\nservice.\n\nChange-Id: Ia7ccd5da55119273cf1fac26316ce37aa484d95a\n'}, {'number': 5, 'created': '2021-03-01 17:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2ac50d77ec4b432211a622d8c0a9990c4503fbc0', 'message': 'Convert host and container journal collection to python\n\nThis takes only one pass over all the journal files to generate\nthe output rather than iterating over the whole journal once per\nservice.\n\nChange-Id: Ia7ccd5da55119273cf1fac26316ce37aa484d95a\n'}, {'number': 6, 'created': '2021-03-01 17:22:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/932460535a0b13c8969b0c3d7ca94df22cbf678d', 'message': 'Convert host and container journal collection to python\n\nThis takes only one pass over all the journal files to generate\nthe output rather than iterating over the whole journal once per\nservice.\n\nChange-Id: Ia7ccd5da55119273cf1fac26316ce37aa484d95a\n'}, {'number': 7, 'created': '2021-03-01 17:44:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/451bf6f6345facf5fa4bc1cab18d5a54b6732a9a', 'message': 'Convert host and container journal collection to python\n\nThis takes only one pass over all the journal files to generate\nthe output rather than iterating over the whole journal once per\nservice.\n\nChange-Id: Ia7ccd5da55119273cf1fac26316ce37aa484d95a\n'}, {'number': 8, 'created': '2021-03-01 23:04:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5cc1301a14668ffd6038a4a3e59be778cbf5f200', 'message': 'Convert host and container journal collection to python\n\nThis takes only one pass over all the journal files to generate\nthe output rather than iterating over the whole journal once per\nservice.\n\nThe journal_dump script is run from the ansible-runtime venv and\nthe uses the yaml and systemd-python packages from the venv rather\nthan system packages.\n\nChange-Id: Ia7ccd5da55119273cf1fac26316ce37aa484d95a\n'}, {'number': 9, 'created': '2021-03-01 23:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/296671e818b7e77231a5e38753077daf10d9361a', 'message': 'Convert host and container journal collection to python\n\nThis takes only one pass over all the journal files to generate\nthe output rather than iterating over the whole journal once per\nservice.\n\nThe journal_dump script is run from the ansible-runtime venv and\nthe uses the yaml and systemd-python packages from the venv rather\nthan system packages.\n\nChange-Id: Ia7ccd5da55119273cf1fac26316ce37aa484d95a\n'}, {'number': 10, 'created': '2021-03-02 06:51:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/640d60f8ea34eae0a926d7ffc9390ad841dc69df', 'message': 'Convert host and container journal collection to python\n\nThis takes only one pass over all the journal files to generate\nthe output rather than iterating over the whole journal once per\nservice.\n\nThe journal_dump script is run from the ansible-runtime venv and\nthe uses the yaml and systemd-python packages from the venv rather\nthan system packages.\n\nChange-Id: Ia7ccd5da55119273cf1fac26316ce37aa484d95a\n'}, {'number': 11, 'created': '2021-03-02 07:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e84441c96ecd40a6baf2d6127c3a8156449f7c3a', 'message': 'Convert host and container journal collection to python\n\nThis takes only one pass over all the journal files to generate\nthe output rather than iterating over the whole journal once per\nservice.\n\nThe journal_dump script is run from the ansible-runtime venv and\nthe uses the yaml and systemd-python packages from the venv rather\nthan system packages.\n\nChange-Id: Ia7ccd5da55119273cf1fac26316ce37aa484d95a\n'}, {'number': 12, 'created': '2021-03-02 08:17:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9c000e1f37922e8de3c9c91d1a0c2f974477e013', 'message': 'Convert host and container journal collection to python\n\nThis takes only one pass over all the journal files to generate\nthe output rather than iterating over the whole journal once per\nservice.\n\nThe journal_dump script is run from the ansible-runtime venv and\nthe uses the yaml and systemd-python packages from the venv rather\nthan system packages.\n\nChange-Id: Ia7ccd5da55119273cf1fac26316ce37aa484d95a\n'}, {'number': 13, 'created': '2021-03-02 09:42:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b2ff274f2e872a08e728d88c3311fc504a12164d', 'message': 'Convert host and container journal collection to python\n\nThis takes only one pass over all the journal files to generate\nthe output rather than iterating over the whole journal once per\nservice.\n\nThe journal_dump script is run from the ansible-runtime venv and\nthe uses the yaml and systemd-python packages from the venv rather\nthan system packages.\n\nChange-Id: Ia7ccd5da55119273cf1fac26316ce37aa484d95a\n'}, {'number': 14, 'created': '2021-03-02 15:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2d90bf59e376018456633a87698340adac41b3ef', 'message': 'Convert host and container journal collection to python\n\nThis takes only one pass over all the journal files to generate\nthe output rather than iterating over the whole journal once per\nservice.\n\nThe journal_dump script is run from the ansible-runtime venv and\nthe uses the yaml and systemd-python packages from the venv rather\nthan system packages.\n\nChange-Id: Ia7ccd5da55119273cf1fac26316ce37aa484d95a\n'}, {'number': 15, 'created': '2021-03-02 22:14:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c0ede6a98a177c643abd6508bb87fd253348db69', 'message': 'Convert host and container journal collection to python\n\nThis takes only one pass over all the journal files to generate\nthe output rather than iterating over the whole journal once per\nservice.\n\nThe journal_dump script is run from the ansible-runtime venv and\nthe uses the yaml and systemd-python packages from the venv rather\nthan system packages.\n\nChange-Id: Ia7ccd5da55119273cf1fac26316ce37aa484d95a\n'}, {'number': 16, 'created': '2021-03-03 15:03:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9deaf02309b225bf6a32df738c5788b7aef02747', 'message': 'Convert host and container journal collection to python\n\nThis takes only one pass over all the journal files to generate\nthe output rather than iterating over the whole journal once per\nservice.\n\nThe journal_dump script is run from the ansible-runtime venv and\nthe uses the yaml and systemd-python packages from the venv rather\nthan system packages.\n\nChange-Id: Ia7ccd5da55119273cf1fac26316ce37aa484d95a\n'}, {'number': 17, 'created': '2021-03-23 16:08:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4e35f82af267b9fba4a3b6d68f5fa873ad0e7a94', 'message': 'Convert host and container journal collection to python\n\nThis takes only one pass over all the journal files to generate\nthe output rather than iterating over the whole journal once per\nservice.\n\nThe journal_dump script is run from the ansible-runtime venv and\nthe uses the yaml and systemd-python packages from the venv rather\nthan system packages.\n\nChange-Id: Ia7ccd5da55119273cf1fac26316ce37aa484d95a\n'}, {'number': 18, 'created': '2021-03-23 16:36:29.000000000', 'files': ['scripts/log-collect.sh', 'scripts/scripts-library.sh', 'scripts/bootstrap-ansible.sh', 'scripts/journal_dump.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/dacc9eb13f4c3f77db4ce2dae5d6fc4495108146', 'message': 'Convert host and container journal collection to python\n\nThis takes only one pass over all the journal files to generate\nthe output rather than iterating over the whole journal once per\nservice.\n\nThe journal_dump script is run from the ansible-runtime venv and\nthe uses the yaml and systemd-python packages from the venv rather\nthan system packages.\n\nChange-Id: Ia7ccd5da55119273cf1fac26316ce37aa484d95a\n'}]",9,734883,dacc9eb13f4c3f77db4ce2dae5d6fc4495108146,72,5,18,25023,,,0,"Convert host and container journal collection to python

This takes only one pass over all the journal files to generate
the output rather than iterating over the whole journal once per
service.

The journal_dump script is run from the ansible-runtime venv and
the uses the yaml and systemd-python packages from the venv rather
than system packages.

Change-Id: Ia7ccd5da55119273cf1fac26316ce37aa484d95a
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/83/734883/18 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/log-collect.sh', 'scripts/journal_dump.py']",2,dca281645c855df0eaeca3e810f5eb0382e2be40,osa-facts,"#!/usr/bin/python3 import datetime import multiprocessing import os import sys import signal import yaml from systemd import journal from collections import defaultdict # ---------------------------------------------------------------------- # constants common_etc_log_names = [ 'apt', 'apache2', 'auditd', 'calico', 'ceph', 'etcd', 'ganesha', 'haproxy', 'httpd', 'memcached', 'mongodb', 'my.cnf', 'mariadb', 'netplan', 'network', 'nginx', 'openstack_deploy', 'pip.conf', 'qpid-dispatch', 'rabbitmq', 'repo', 'resolv.conf', 'rsyslog', 'sasl2', 'sysconfig/network-scripts', 'sysconfig/network', 'systemd', 'uwsgi', 'yum', 'yum.repos.d', 'zypp'] # ---------------------------------------------------------------------- def is_module_available(module_name): if sys.version_info < (3, 0): # python 2 import importlib loader = importlib.find_loader(module_name) elif sys.version_info <= (3, 3): # python 3.0 to 3.3 import pkgutil loader = pkgutil.find_loader(module_name) elif sys.version_info >= (3, 4): # python 3.4 and above import importlib loader = importlib.util.find_spec(module_name) return loader is not None # ---------------------------------------------------------------------- # load ansible-role-requirements.yml def get_ansible_role_names(): with open(""../ansible-role-requirements.yml"", 'r') as a_r_r_file: try: a_r_r = yaml.safe_load(a_r_r_file) except yaml.YAMLError as exc: print(exc) role_service_names = [] role_prefix = ""os_"" for role in a_r_r: if role['name'].startswith(role_prefix): role_service_names.append(role['name'][len(role_prefix):]) return role_service_names # ---------------------------------------------------------------------- # get the list of containers and where their journals are def get_container_journals(): journals = [] if not is_module_available('lxc'): return journals import lxc for container_name in lxc.list_containers(): container = lxc.Container(container_name) info = {} info['name'] = container_name info['subdir'] = ""openstack"" info['pid'] = container.init_pid info['etc_dir'] = ""/proc/"" + str(info['pid']) + ""/root/etc"" with open(info['etc_dir'] + ""/machine-id"", 'r') as machine_id_file: machine_id = machine_id_file.read().strip() info['journal_dir'] = ""/proc/"" + str(info['pid']) + \ ""/root/run/log/journal/"" + machine_id journals.append(info) return journals # ---------------------------------------------------------------------- def demux_one_journal(j): print(""Gathering journals from "" + j['name']) # open the journal from a specific directory, or use the host journal if 'journal_dir' in j: print("" Using journal dir "" + j['journal_dir']) jreader = journal.Reader(path=j['journal_dir']) else: print("" Using host journal"") jreader = journal.Reader() # the path to where we will save the journal for this host/container j_dir = working_dir + '/logs' if 'subdir' in j: j_dir = j_dir + '/' + j['subdir'] d_dir = j_dir j_dir = j_dir + '/' + j['name'] d_dir = d_dir + '/deprecations/' + j['name'] if not os.path.isdir(j_dir): os.makedirs(j_dir) output_files = {} # for each journal entry, try to match it with the services we care about # and split each service out into its own list of journal entries for entry in jreader: if 'MESSAGE' not in entry: continue if '_SYSTEMD_UNIT' not in entry: continue unit = entry['_SYSTEMD_UNIT'] if not next((s for s in service_names if s in unit), None): continue # write each matched service journal entry out s_name = '/' + unit + '.journal-' + timestamp + '.log' j_filename = j_dir + s_name message = str(entry['MESSAGE']) if j_filename not in output_files: output_files[j_filename] = open(j_filename,'w') output_files[j_filename].write(unit + ' ' + message + '\n') if 'eprecat' not in message: continue d_filename = d_dir + s_name if not os.path.isdir(d_dir): os.makedirs(d_dir) with open(d_filename, 'a') as d: d.write(unit + ' ' + message + ""\n"") print(''.join([' Written ' + k + '\n' for k in output_files.keys()])) return True # ---------------------------------------------------------------------- def init_signal(): signal.signal(signal.SIGINT, signal.SIG_IGN) # ---------------------------------------------------------------------- # always collect the host journal, first in the list as it's probably # the largest host_journal = [{}] host_journal[0]['name'] = 'host' journals = [] journals = journals + host_journal journals = journals + get_container_journals() print(journals) # decide which service names we search for service_names = common_etc_log_names + get_ansible_role_names() print(""Service names to search for "" + str(service_names)) if os.getenv('WORKING_DIR') is not None: working_dir = os.getenv('WORKING_DIR') else: working_dir = os.getcwd() if os.getenv('TS') is not None: timestamp = os.getenv('TS') else: timestamp = datetime.datetime.now().strftime('%H-%M-%S') p = multiprocessing.Pool(multiprocessing.cpu_count(), init_signal) journal_success = p.map(demux_one_journal, journals) p.close() success = all(i for i in journal_success) if success: print(""Journal collection Success!"") else: print(""Error during journal collection"") ",,212,33
openstack%2Fneutron~master~I820f727d7ff1d35cfa1900e9020c21576873814a,openstack/neutron,master,I820f727d7ff1d35cfa1900e9020c21576873814a,Fix new Network API policy rules,MERGED,2021-04-01 11:25:52.000000000,2021-04-01 23:40:36.000000000,2021-04-01 18:30:30.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-01 11:25:52.000000000', 'files': ['neutron/conf/policies/network.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/83a6418d683bf5226819eae5bb5a0054d39564c1', 'message': ""Fix new Network API policy rules\n\nDuring the migration to the new policy rules with common personas, some\nactions like create_network or get_network were defined to be available\nonly for PROJECT_MEMBER persona but wasn't allowed for SYSTEM_ADMIN.\nThat is of course mistake and this patch fixes it.\n\nRelated-blueprint: bp/secure-rbac-roles\nChange-Id: I820f727d7ff1d35cfa1900e9020c21576873814a\n""}]",0,784373,83a6418d683bf5226819eae5bb5a0054d39564c1,14,6,1,11975,,,0,"Fix new Network API policy rules

During the migration to the new policy rules with common personas, some
actions like create_network or get_network were defined to be available
only for PROJECT_MEMBER persona but wasn't allowed for SYSTEM_ADMIN.
That is of course mistake and this patch fixes it.

Related-blueprint: bp/secure-rbac-roles
Change-Id: I820f727d7ff1d35cfa1900e9020c21576873814a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/73/784373/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/conf/policies/network.py'],1,83a6418d683bf5226819eae5bb5a0054d39564c1,secure-rbac," check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, check_str=base.SYSTEM_OR_PROJECT_READER,"," check_str=base.PROJECT_MEMBER, check_str=base.PROJECT_MEMBER, check_str=base.PROJECT_READER,",3,3
openstack%2Fpuppet-barbican~stable%2Fussuri~Idf9dc70cd68d4e594119efcd2a3c3a0e56621c96,openstack/puppet-barbican,stable/ussuri,Idf9dc70cd68d4e594119efcd2a3c3a0e56621c96,Add support for always_set_cka_sensitive parameter,MERGED,2021-03-31 15:10:16.000000000,2021-04-01 23:39:55.000000000,2021-04-01 23:38:53.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-31 15:10:16.000000000', 'files': ['manifests/plugins/p11_crypto.pp', 'releasenotes/notes/p11_crypto_plugin_always_set_cka_sensitive-1c9a9b9726c3cf93.yaml', 'spec/classes/barbican_plugins_p11_crypto_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/e2efcba0b993ca19851ba3c502be21df0d3fa441', 'message': 'Add support for always_set_cka_sensitive parameter\n\nSome time ago BarbicanPkcs11AlwaysSetCkaSensitive option was\nadded to tripleo-heat-templates. change:\nIf3fa975e8243dfe30ef67ec81db891943a94a9d5\n\nAt the same time, it looks like relevant change was not added\nto puppet-barbican project. This patch adds missing parameter\nto barbican::plugins::p11_crypto class.\n\nBackport note:\nThis backport includes the subsequent commit[1] which added\na unit test case for the new parameter.\n\n [1] d7e27eb854185ed3b28b07127cca7dbbb87f57b4\n\nPartial-bug: #1916386\nChange-Id: Idf9dc70cd68d4e594119efcd2a3c3a0e56621c96\n(cherry picked from commit 27b1cc2735264556c372c7ea5d02f7164fdfcb68)\n(cherry picked from commit b44996d6c2d1d78543b5e00ba5f9968fba44639e)\n'}]",0,784043,e2efcba0b993ca19851ba3c502be21df0d3fa441,10,3,1,19234,,,0,"Add support for always_set_cka_sensitive parameter

Some time ago BarbicanPkcs11AlwaysSetCkaSensitive option was
added to tripleo-heat-templates. change:
If3fa975e8243dfe30ef67ec81db891943a94a9d5

At the same time, it looks like relevant change was not added
to puppet-barbican project. This patch adds missing parameter
to barbican::plugins::p11_crypto class.

Backport note:
This backport includes the subsequent commit[1] which added
a unit test case for the new parameter.

 [1] d7e27eb854185ed3b28b07127cca7dbbb87f57b4

Partial-bug: #1916386
Change-Id: Idf9dc70cd68d4e594119efcd2a3c3a0e56621c96
(cherry picked from commit 27b1cc2735264556c372c7ea5d02f7164fdfcb68)
(cherry picked from commit b44996d6c2d1d78543b5e00ba5f9968fba44639e)
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/43/784043/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/plugins/p11_crypto.pp', 'releasenotes/notes/p11_crypto_plugin_always_set_cka_sensitive-1c9a9b9726c3cf93.yaml', 'spec/classes/barbican_plugins_p11_crypto_spec.rb']",3,e2efcba0b993ca19851ba3c502be21df0d3fa441,bug/1916386," :p11_crypto_plugin_always_set_cka_sensitive => true, is_expected.to contain_barbican_config('p11_crypto_plugin/always_set_cka_sensitive') \ .with_value(params[:p11_crypto_plugin_always_set_cka_sensitive])",,45,29
openstack%2Fmonasca-api~stable%2Fwallaby~I00110f6fa6dd18675bc0cb75c6d1d6de2c3ebd80,openstack/monasca-api,stable/wallaby,I00110f6fa6dd18675bc0cb75c6d1d6de2c3ebd80,Update .gitreview for stable/wallaby,MERGED,2021-03-26 11:17:41.000000000,2021-04-01 23:34:51.000000000,2021-04-01 23:31:23.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-03-26 11:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/be0e4aef58ad6243dada213a922d2d3f4464a689', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: I00110f6fa6dd18675bc0cb75c6d1d6de2c3ebd80\n'}, {'number': 2, 'created': '2021-04-01 10:59:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/deeea92a829566a8763b0a632d51cac71fc390d8', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: I00110f6fa6dd18675bc0cb75c6d1d6de2c3ebd80\n'}, {'number': 3, 'created': '2021-04-01 11:50:11.000000000', 'files': ['.gitreview', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/a96e5a820d8022c115773de5e2248a8b0eee4526', 'message': 'Update .gitreview for stable/wallaby\n\nRemove temporarily docker build and publish jobs.\nThese jobs require the wallaby u-c [1] which is not yet ready\nOnce the wallaby u-c is available these jobs will be added again.\n\n[1] https://opendev.org/openstack/requirements/raw/branch/stable/wallaby/upper-constraints.txt\n\nChange-Id: I00110f6fa6dd18675bc0cb75c6d1d6de2c3ebd80\n'}]",0,783271,a96e5a820d8022c115773de5e2248a8b0eee4526,16,2,3,22816,,,0,"Update .gitreview for stable/wallaby

Remove temporarily docker build and publish jobs.
These jobs require the wallaby u-c [1] which is not yet ready
Once the wallaby u-c is available these jobs will be added again.

[1] https://opendev.org/openstack/requirements/raw/branch/stable/wallaby/upper-constraints.txt

Change-Id: I00110f6fa6dd18675bc0cb75c6d1d6de2c3ebd80
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/71/783271/3 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,be0e4aef58ad6243dada213a922d2d3f4464a689,create-wallaby,defaultbranch=stable/wallaby,,1,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ib7e1d47fe7cffa2bd2ed1d72d94e4f380162f10a,openstack/tripleo-heat-templates,stable/ussuri,Ib7e1d47fe7cffa2bd2ed1d72d94e4f380162f10a,Move tmpwatch from cron.daily to actual root crontab,MERGED,2021-03-31 11:59:12.000000000,2021-04-01 23:16:32.000000000,2021-04-01 23:16:32.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-03-31 11:59:12.000000000', 'files': ['deployment/logrotate/logrotate-crond-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/83210e340b95091b5bb5b4c68a5f1d281322e914', 'message': ""Move tmpwatch from cron.daily to actual root crontab\n\nIt appeary running the tmpwatch from the cron.daily location isn't\npossible: the way cron/anacron is running things appears to break\nSELinux context at some point, leading to SELinux denials caused by a\nweird need for dac_override.\n\nIn order to NOT allow this dac_override (security hazard), and after\nextensive testing, it seems it's better to push the job directly in\nroot's crontab.\n\nChange-Id: Ib7e1d47fe7cffa2bd2ed1d72d94e4f380162f10a\nCloses-Bug: #1922002\nResolves: rhbz#1944466\n(cherry picked from commit 1c7657b00b3a71e3c38b354cb40b00fa72796d4f)\n""}]",0,784080,83210e340b95091b5bb5b4c68a5f1d281322e914,14,5,1,7353,,,0,"Move tmpwatch from cron.daily to actual root crontab

It appeary running the tmpwatch from the cron.daily location isn't
possible: the way cron/anacron is running things appears to break
SELinux context at some point, leading to SELinux denials caused by a
weird need for dac_override.

In order to NOT allow this dac_override (security hazard), and after
extensive testing, it seems it's better to push the job directly in
root's crontab.

Change-Id: Ib7e1d47fe7cffa2bd2ed1d72d94e4f380162f10a
Closes-Bug: #1922002
Resolves: rhbz#1944466
(cherry picked from commit 1c7657b00b3a71e3c38b354cb40b00fa72796d4f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/80/784080/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/logrotate/logrotate-crond-container-puppet.yaml'],1,83210e340b95091b5bb5b4c68a5f1d281322e914,selinux/tmpwatch," block: - name: Push script copy: dest: /usr/local/sbin/containers-tmpwatch owner: root group: root mode: 0755 content: | #!/bin/sh tmpwatch --nodirs \ -X ""/var/log/containers/*/*log"" \ -X ""/var/log/containers/*/*/*log"" \ -X ""/var/log/containers/*/*err"" \ {{ LogrotatePurgeAfterDays|int +1 }}d \ /var/log/containers/ 2>&1 | logger -t container-tmpwatch vars: LogrotatePurgeAfterDays: {get_param: LogrotatePurgeAfterDays} - name: Insert cronjob in root crontab cron: name: ""Remove old logs"" special_time: ""daily"" user: ""root"" job: ""/usr/local/sbin/containers-tmpwatch"" update_tasks: &tmpwatch_script_clean - name: Ensure old cron.daily is absent when: step|int == 1 file: path: /etc/cron.daily/containers-tmpwatch state: absent upgrade_tasks: *tmpwatch_script_clean"," copy: dest: /etc/cron.daily/containers-tmpwatch owner: root group: root mode: 0755 content: | #!/bin/sh tmpwatch --nodirs \ -X ""/var/log/containers/*/*log"" \ -X ""/var/log/containers/*/*/*log"" \ -X ""/var/log/containers/*/*err"" \ {{ LogrotatePurgeAfterDays|int +1 }}d \ /var/log/containers/ 2>&1 | logger -t container-tmpwatch vars: LogrotatePurgeAfterDays: {get_param: LogrotatePurgeAfterDays}",30,15
openstack%2Fopenstack-helm-infra~master~Ib481c744681acd427c0b8a4567fd1efc13e84312,openstack/openstack-helm-infra,master,Ib481c744681acd427c0b8a4567fd1efc13e84312,"Revert ""Add metadata in job templates""",ABANDONED,2021-04-01 22:28:56.000000000,2021-04-01 22:47:51.000000000,,"[{'_account_id': 18511}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30449}, {'_account_id': 31746}]","[{'number': 1, 'created': '2021-04-01 22:28:56.000000000', 'files': ['helm-toolkit/templates/manifests/_job-s3-user.yaml.tpl', 'helm-toolkit/templates/manifests/_job-ks-endpoints.tpl', 'helm-toolkit/templates/manifests/_job-db-init-mysql.tpl', 'helm-toolkit/templates/manifests/_job_image_repo_sync.tpl', 'helm-toolkit/Chart.yaml', 'releasenotes/notes/helm-toolkit.yaml', 'helm-toolkit/templates/manifests/_job-ks-user.yaml.tpl', 'helm-toolkit/templates/manifests/_job-rabbit-init.yaml.tpl', 'helm-toolkit/templates/manifests/_job-bootstrap.tpl', 'helm-toolkit/templates/manifests/_job-ks-service.tpl', 'helm-toolkit/templates/manifests/_job-db-sync.tpl', 'helm-toolkit/templates/manifests/_job-db-drop-mysql.tpl', 'helm-toolkit/templates/manifests/_job-s3-bucket.yaml.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/17741410827c5eaa356a6bfea65035fd6b60092d', 'message': 'Revert ""Add metadata in job templates""\n\nThis reverts commit 0ae8f4d21ac2a091f1612e50f4786da5065d4398.\n\nThis change explicitly declares annotations.labels after the htk macro inserts them wiping out the htk annotatd version of things\n\nChange-Id: Ib481c744681acd427c0b8a4567fd1efc13e84312\n'}]",0,784408,17741410827c5eaa356a6bfea65035fd6b60092d,3,5,1,8898,,,0,"Revert ""Add metadata in job templates""

This reverts commit 0ae8f4d21ac2a091f1612e50f4786da5065d4398.

This change explicitly declares annotations.labels after the htk macro inserts them wiping out the htk annotatd version of things

Change-Id: Ib481c744681acd427c0b8a4567fd1efc13e84312
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/08/784408/1 && git format-patch -1 --stdout FETCH_HEAD,"['helm-toolkit/templates/manifests/_job-s3-user.yaml.tpl', 'helm-toolkit/templates/manifests/_job-ks-endpoints.tpl', 'helm-toolkit/templates/manifests/_job-db-init-mysql.tpl', 'helm-toolkit/templates/manifests/_job_image_repo_sync.tpl', 'helm-toolkit/Chart.yaml', 'releasenotes/notes/helm-toolkit.yaml', 'helm-toolkit/templates/manifests/_job-ks-user.yaml.tpl', 'helm-toolkit/templates/manifests/_job-rabbit-init.yaml.tpl', 'helm-toolkit/templates/manifests/_job-bootstrap.tpl', 'helm-toolkit/templates/manifests/_job-ks-service.tpl', 'helm-toolkit/templates/manifests/_job-db-sync.tpl', 'helm-toolkit/templates/manifests/_job-db-drop-mysql.tpl', 'helm-toolkit/templates/manifests/_job-s3-bucket.yaml.tpl']",13,17741410827c5eaa356a6bfea65035fd6b60092d,,,"{{- $jobAnnotations := index . ""jobAnnotations"" -}} {{- $jobLabels := index . ""jobLabels"" -}} ""helm.sh/hook-delete-policy"": before-hook-creation {{- if $jobAnnotations }} {{ toYaml $jobAnnotations | indent 4 }} {{- end }} labels: application: {{ $serviceName }} {{- if $jobLabels }} {{ toYaml $jobLabels | indent 4 }} {{- end }}",1,130
openstack%2Fopenstack-helm-infra~master~Ie09f8491800031b9ff051a63feb3e018cb283342,openstack/openstack-helm-infra,master,Ie09f8491800031b9ff051a63feb3e018cb283342,Add metadata in job templates,MERGED,2021-03-01 10:39:18.000000000,2021-04-01 22:28:56.000000000,2021-03-03 17:07:23.000000000,"[{'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-03-01 10:39:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ec38d9d6a1c6facfedd45c6b38dfb32ec7547324', 'message': 'Add metadata in job templates\n\n- Add application label using service name\n- Add before-hook-creation delete policy as a default\n  (It is a default one in helmv3)\n- Add custom metadata by passing params\n\nChange-Id: Ie09f8491800031b9ff051a63feb3e018cb283342\n'}, {'number': 2, 'created': '2021-03-01 11:14:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bf3437658a76076382e7beedee536975cc81abc9', 'message': 'Add metadata in job templates\n\n- Add application label using service name\n- Add before-hook-creation delete policy as a default\n  (It is a default one in helmv3)\n- Add custom metadata by passing params\n\nChange-Id: Ie09f8491800031b9ff051a63feb3e018cb283342\n'}, {'number': 3, 'created': '2021-03-01 12:31:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4d27106ea2114d844ef314ec244fbde58b1bbe0a', 'message': 'Add metadata in job templates\n\n- Add application label using service name\n- Add before-hook-creation delete policy as a default\n  (It is a default one in helmv3)\n- Add custom metadata by passing params\n\nChange-Id: Ie09f8491800031b9ff051a63feb3e018cb283342\n'}, {'number': 4, 'created': '2021-03-01 15:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4903bab7fa671e18a8ec294fa27f639706fc12d6', 'message': 'Add metadata in job templates\n\n- Add application label using service name\n- Add before-hook-creation delete policy as a default\n  (It is a default one in helmv3)\n- Add custom metadata by passing params\n\nChange-Id: Ie09f8491800031b9ff051a63feb3e018cb283342\n'}, {'number': 5, 'created': '2021-03-01 15:32:11.000000000', 'files': ['helm-toolkit/templates/manifests/_job-s3-user.yaml.tpl', 'helm-toolkit/templates/manifests/_job-ks-endpoints.tpl', 'helm-toolkit/templates/manifests/_job-db-init-mysql.tpl', 'helm-toolkit/templates/manifests/_job_image_repo_sync.tpl', 'helm-toolkit/Chart.yaml', 'releasenotes/notes/helm-toolkit.yaml', 'helm-toolkit/templates/manifests/_job-ks-user.yaml.tpl', 'helm-toolkit/templates/manifests/_job-rabbit-init.yaml.tpl', 'helm-toolkit/templates/manifests/_job-bootstrap.tpl', 'helm-toolkit/templates/manifests/_job-ks-service.tpl', 'helm-toolkit/templates/manifests/_job-db-sync.tpl', 'helm-toolkit/templates/manifests/_job-db-drop-mysql.tpl', 'helm-toolkit/templates/manifests/_job-s3-bucket.yaml.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0ae8f4d21ac2a091f1612e50f4786da5065d4398', 'message': 'Add metadata in job templates\n\n- Add application label using service name\n- Add before-hook-creation delete policy as a default\n  (It is a default one in helmv3)\n- Add custom metadata by passing params\n\nChange-Id: Ie09f8491800031b9ff051a63feb3e018cb283342\n'}]",0,777980,0ae8f4d21ac2a091f1612e50f4786da5065d4398,18,5,5,31746,,,0,"Add metadata in job templates

- Add application label using service name
- Add before-hook-creation delete policy as a default
  (It is a default one in helmv3)
- Add custom metadata by passing params

Change-Id: Ie09f8491800031b9ff051a63feb3e018cb283342
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/80/777980/1 && git format-patch -1 --stdout FETCH_HEAD,"['helm-toolkit/templates/manifests/_job-s3-user.yaml.tpl', 'helm-toolkit/templates/manifests/_job-bootstrap.tpl', 'helm-toolkit/templates/manifests/_job-ks-endpoints.tpl', 'helm-toolkit/templates/manifests/_job-db-init-mysql.tpl', 'helm-toolkit/templates/manifests/_job-ks-service.tpl', 'helm-toolkit/templates/manifests/_job_image_repo_sync.tpl', 'helm-toolkit/templates/manifests/_job-db-sync.tpl', 'helm-toolkit/templates/manifests/_job-db-drop-mysql.tpl', 'helm-toolkit/templates/manifests/_job-s3-bucket.yaml.tpl', 'helm-toolkit/templates/manifests/_job-ks-user.yaml.tpl', 'helm-toolkit/templates/manifests/_job-rabbit-init.yaml.tpl']",11,ec38d9d6a1c6facfedd45c6b38dfb32ec7547324,,"{{- $jobAnnotations := index . ""jobAnnotations"" -}} {{- $jobLabels := index . ""jobLabels"" -}} annotations: ""helm.sh/hook-delete-policy"": before-hook-creation {{ toYaml $jobAnnotations | indent 4 }} labels: application: {{ $serviceName }} {{ toYaml $jobLabels | indent 4 }}",,85,1
openstack%2Fpuppet-cinder~master~I4fceff92af25f0cd83ed0b2477946290e2d8ed82,openstack/puppet-cinder,master,I4fceff92af25f0cd83ed0b2477946290e2d8ed82,Update master for stable/wallaby,MERGED,2021-04-01 09:13:37.000000000,2021-04-01 22:23:35.000000000,2021-04-01 22:22:21.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-01 09:13:37.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/467bc71d72e99820e5957fdf01316b15874da7d2', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: I4fceff92af25f0cd83ed0b2477946290e2d8ed82\n'}]",0,784228,467bc71d72e99820e5957fdf01316b15874da7d2,8,3,1,22816,,,0,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: I4fceff92af25f0cd83ed0b2477946290e2d8ed82
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/28/784228/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,467bc71d72e99820e5957fdf01316b15874da7d2,reno-wallaby, wallaby,,7,0
openstack%2Fironic~stable%2Fwallaby~I718c83282f8d3bf95a36f584d37800d08d3bd62c,openstack/ironic,stable/wallaby,I718c83282f8d3bf95a36f584d37800d08d3bd62c,Update .gitreview for stable/wallaby,MERGED,2021-04-01 09:11:49.000000000,2021-04-01 22:20:36.000000000,2021-04-01 10:24:36.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-01 09:11:49.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/ironic/commit/e5ee68047e2df7e44ce19a63d890b1fa8aeb7586', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: I718c83282f8d3bf95a36f584d37800d08d3bd62c\n'}]",0,784218,e5ee68047e2df7e44ce19a63d890b1fa8aeb7586,10,2,1,22816,,,0,"Update .gitreview for stable/wallaby

Change-Id: I718c83282f8d3bf95a36f584d37800d08d3bd62c
",git fetch https://review.opendev.org/openstack/ironic refs/changes/18/784218/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,e5ee68047e2df7e44ce19a63d890b1fa8aeb7586,create-wallaby,defaultbranch=stable/wallaby,,1,0
openstack%2Fpuppet-cloudkitty~master~Ie561c30d6f62b01c412230cec8eb16b9260d41f9,openstack/puppet-cloudkitty,master,Ie561c30d6f62b01c412230cec8eb16b9260d41f9,Update master for stable/wallaby,MERGED,2021-04-01 09:14:22.000000000,2021-04-01 22:19:41.000000000,2021-04-01 22:18:28.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-01 09:14:22.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/149d429a5456ddd692f8bf0ec878e154dc5b2a06', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: Ie561c30d6f62b01c412230cec8eb16b9260d41f9\n'}]",0,784232,149d429a5456ddd692f8bf0ec878e154dc5b2a06,8,3,1,22816,,,0,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: Ie561c30d6f62b01c412230cec8eb16b9260d41f9
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/32/784232/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,149d429a5456ddd692f8bf0ec878e154dc5b2a06,reno-wallaby, wallaby,,7,0
openstack%2Fironic~master~I10dbc30614d8654dda540ffaa5e61e7a9f03c7b3,openstack/ironic,master,I10dbc30614d8654dda540ffaa5e61e7a9f03c7b3,"Add import, export configuration to idrac-redfish",MERGED,2020-10-23 14:00:12.000000000,2021-04-01 22:19:33.000000000,2021-03-31 11:53:03.000000000,"[{'_account_id': 7160}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 27909}]","[{'number': 1, 'created': '2020-10-23 14:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fe5bfafaf6623e91e459eecc98076e832b7ceb69', 'message': '[WIP] Add import, export configuration to idrac-redfish\n\nDepends-On: https://review.opendev.org/#/c/759425/\n\nChange-Id: I10dbc30614d8654dda540ffaa5e61e7a9f03c7b3\n'}, {'number': 2, 'created': '2021-01-20 10:19:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/012620b41c5c792715f073066f388075188c6393', 'message': 'Add import, export configuration to idrac-redfish\n\nIntroduces import_configuration, export_configuration\nand import_export_configuration steps.\n\nCurrently as MVP supports OEM section only.\n\nDepends-On: https://review.opendev.org/#/c/759425/\nDepends-On: https://review.opendev.org/#/c/770614/\n\nChange-Id: I10dbc30614d8654dda540ffaa5e61e7a9f03c7b3\n'}, {'number': 3, 'created': '2021-01-20 10:21:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f3a525614ad290ab1e6ff2c316692dbf3a188f7d', 'message': 'Add import, export configuration to idrac-redfish\n\nIntroduces import_configuration, export_configuration\nand import_export_configuration steps.\n\nCurrently as MVP supports OEM section only.\n\nStory: 2003594\nTask: 40622\n\nDepends-On: https://review.opendev.org/#/c/759425/\nDepends-On: https://review.opendev.org/#/c/770614/\n\nChange-Id: I10dbc30614d8654dda540ffaa5e61e7a9f03c7b3\n'}, {'number': 4, 'created': '2021-03-17 17:21:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/73e17ed84cf26c30ef82eb2a773a2e0937a58885', 'message': 'Add import, export configuration to idrac-redfish\n\nIntroduces import_configuration, export_configuration\nand import_export_configuration steps.\n\nCurrently as MVP supports OEM section only.\n\nStory: 2003594\nTask: 40622\n\nDepends-On: https://review.opendev.org/#/c/759425/\n\nChange-Id: I10dbc30614d8654dda540ffaa5e61e7a9f03c7b3\n'}, {'number': 5, 'created': '2021-03-18 10:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9aec0fb2f17d8775a84af8d2422b9ca39c683a8c', 'message': 'Add import, export configuration to idrac-redfish\n\nIntroduces import_configuration, export_configuration\nand import_export_configuration steps.\n\nCurrently as MVP supports OEM section only.\n\nStory: 2003594\nTask: 40622\n\nDepends-On: https://review.opendev.org/#/c/759425/\n\nChange-Id: I10dbc30614d8654dda540ffaa5e61e7a9f03c7b3\n'}, {'number': 6, 'created': '2021-03-19 16:00:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/de226586c3301dd693bbb42b2513e397df4d62c9', 'message': 'Add import, export configuration to idrac-redfish\n\nIntroduces import_configuration, export_configuration\nand import_export_configuration steps.\n\nCurrently as MVP supports OEM section only.\n\nStory: 2003594\nTask: 40622\n\nDepends-On: https://review.opendev.org/#/c/759425/\n\nChange-Id: I10dbc30614d8654dda540ffaa5e61e7a9f03c7b3\n'}, {'number': 7, 'created': '2021-03-22 16:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b4b37ab4ea5d88badf2fd3e458ccf43c3fe918a2', 'message': 'Add import, export configuration to idrac-redfish\n\nIntroduces import_configuration, export_configuration\nand import_export_configuration steps.\n\nCurrently as MVP supports OEM section only.\n\nStory: 2003594\nTask: 40622\n\nDepends-On: https://review.opendev.org/#/c/759425/\n\nChange-Id: I10dbc30614d8654dda540ffaa5e61e7a9f03c7b3\n'}, {'number': 8, 'created': '2021-03-23 18:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/30f44e679c37ebb35d98239e275b069e967e0501', 'message': 'Add import, export configuration to idrac-redfish\n\nIntroduces import_configuration, export_configuration\nand import_export_configuration steps.\n\nCurrently as MVP supports OEM section only.\n\nStory: 2003594\nTask: 40622\n\nDepends-On: https://review.opendev.org/#/c/759425/\n\nChange-Id: I10dbc30614d8654dda540ffaa5e61e7a9f03c7b3\n'}, {'number': 9, 'created': '2021-03-29 16:33:11.000000000', 'files': ['ironic/drivers/modules/drac/management.py', 'ironic/tests/unit/drivers/modules/drac/test_management.py', 'ironic/conf/drac.py', 'releasenotes/notes/add-config-mold-steps-idrac-1773d81953209964.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/457d0cd70bdb02b37cb8cd87c13d51bee1a7e8cb', 'message': 'Add import, export configuration to idrac-redfish\n\nIntroduces import_configuration, export_configuration\nand import_export_configuration steps.\n\nCurrently as MVP supports OEM section only.\n\nStory: 2003594\nTask: 40622\n\nDepends-On: https://review.opendev.org/#/c/759425/\n\nChange-Id: I10dbc30614d8654dda540ffaa5e61e7a9f03c7b3\n'}]",69,759428,457d0cd70bdb02b37cb8cd87c13d51bee1a7e8cb,83,7,9,27909,,,0,"Add import, export configuration to idrac-redfish

Introduces import_configuration, export_configuration
and import_export_configuration steps.

Currently as MVP supports OEM section only.

Story: 2003594
Task: 40622

Depends-On: https://review.opendev.org/#/c/759425/

Change-Id: I10dbc30614d8654dda540ffaa5e61e7a9f03c7b3
",git fetch https://review.opendev.org/openstack/ironic refs/changes/28/759428/8 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/drac/management.py', 'ironic/drivers/utils.py', 'ironic/tests/unit/drivers/modules/drac/test_management.py', 'ironic/tests/unit/db/utils.py']",4,fe5bfafaf6623e91e459eecc98076e832b7ceb69,conf_molds," ""redfish_address"": ""1.2.3.4"", ""redfish_system_id"": ""/redfish/v1/Systems/System.Embedded.1"", ""redfish_username"": ""admin"", ""redfish_password"": ""fake""",,474,7
openstack%2Fpuppet-barbican~master~Ie80134492571e2fefa2f25eda450a147a074127a,openstack/puppet-barbican,master,Ie80134492571e2fefa2f25eda450a147a074127a,Update master for stable/wallaby,MERGED,2021-04-01 09:11:51.000000000,2021-04-01 22:15:27.000000000,2021-04-01 22:14:23.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-01 09:11:51.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/785ed37de2459fdd2e1a8da32b5cf4df70742955', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: Ie80134492571e2fefa2f25eda450a147a074127a\n'}]",0,784219,785ed37de2459fdd2e1a8da32b5cf4df70742955,8,3,1,22816,,,0,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: Ie80134492571e2fefa2f25eda450a147a074127a
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/19/784219/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,785ed37de2459fdd2e1a8da32b5cf4df70742955,reno-wallaby, wallaby,,7,0
openstack%2Fpuppet-ceilometer~master~Id0f7e4f49cb4e582b7b1c3df4ab96a79afa8cd94,openstack/puppet-ceilometer,master,Id0f7e4f49cb4e582b7b1c3df4ab96a79afa8cd94,Update master for stable/wallaby,MERGED,2021-04-01 09:12:58.000000000,2021-04-01 22:13:53.000000000,2021-04-01 22:12:29.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-01 09:12:58.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/8fed7967ead8e12f473c8b102820a569b7ae5e7b', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: Id0f7e4f49cb4e582b7b1c3df4ab96a79afa8cd94\n'}]",0,784225,8fed7967ead8e12f473c8b102820a569b7ae5e7b,8,3,1,22816,,,0,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: Id0f7e4f49cb4e582b7b1c3df4ab96a79afa8cd94
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/25/784225/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,8fed7967ead8e12f473c8b102820a569b7ae5e7b,reno-wallaby, wallaby,,7,0
openstack%2Fpuppet-aodh~master~Id1452355df143f575d140ff3edab84ab3d919ec2,openstack/puppet-aodh,master,Id1452355df143f575d140ff3edab84ab3d919ec2,Update master for stable/wallaby,MERGED,2021-04-01 09:11:32.000000000,2021-04-01 22:11:49.000000000,2021-04-01 22:10:28.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-01 09:11:32.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/53e0c2aabe50dca86afc06404d6e5dfdd571109a', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: Id1452355df143f575d140ff3edab84ab3d919ec2\n'}]",0,784215,53e0c2aabe50dca86afc06404d6e5dfdd571109a,8,3,1,22816,,,0,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: Id1452355df143f575d140ff3edab84ab3d919ec2
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/15/784215/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,53e0c2aabe50dca86afc06404d6e5dfdd571109a,reno-wallaby, wallaby,,7,0
openstack%2Frequirements~master~I9fc0e7a673a987909bd7e6a6d94644a9a3140d18,openstack/requirements,master,I9fc0e7a673a987909bd7e6a6d94644a9a3140d18,Add Python3 xena unit tests,MERGED,2021-04-01 16:02:02.000000000,2021-04-01 21:31:29.000000000,2021-04-01 21:27:09.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-01 16:02:02.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/requirements/commit/530526d3b0cf6b0d59b21c98f74efa5889cdca62', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I9fc0e7a673a987909bd7e6a6d94644a9a3140d18\n'}]",0,784440,530526d3b0cf6b0d59b21c98f74efa5889cdca62,10,3,1,22816,,,0,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I9fc0e7a673a987909bd7e6a6d94644a9a3140d18
",git fetch https://review.opendev.org/openstack/requirements refs/changes/40/784440/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,530526d3b0cf6b0d59b21c98f74efa5889cdca62,add-xena-python-jobtemplates, - openstack-python3-xena-jobs, - openstack-python3-wallaby-jobs,1,1
openstack%2Fironic~master~I9b26e6f5679dd93efde66ac73904c34d1bd0b9c4,openstack/ironic,master,I9b26e6f5679dd93efde66ac73904c34d1bd0b9c4,Adds config params to support firmware update gate,NEW,2020-11-19 10:25:45.000000000,2021-04-01 20:49:15.000000000,,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 31616}]","[{'number': 1, 'created': '2020-11-19 10:25:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e7b1c01f80bffd2040b94073a976b297089d4023', 'message': 'Adds config params to support fw-update gate\n\nThis patch sets config params firmware_image_url\nand firmware_image_checksum in tempest config file\nto support firmware update gate.\n\nChange-Id: I9b26e6f5679dd93efde66ac73904c34d1bd0b9c4\n'}, {'number': 2, 'created': '2020-11-24 05:14:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6213d9c1cf56d6d45eaa80547deb8be4ec67d806', 'message': 'Adds config params to support firmware update gate\n\nThis patch sets config params firmware_image_url\nand firmware_image_checksum in tempest config file\nto support firmware update gate. Currently its\nbeing used by iLO firmware update gate.\n\nChange-Id: I9b26e6f5679dd93efde66ac73904c34d1bd0b9c4\n'}, {'number': 3, 'created': '2020-12-18 07:33:47.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/51e1b21d3916071617f3334c2e9276785e6c21ed', 'message': 'Adds config params to support firmware update gate\n\nThis patch sets config params firmware_image_url\nand firmware_image_checksum in tempest config file\nto support firmware update gate. Currently its\nbeing used by iLO firmware update gate.\n\nChange-Id: I9b26e6f5679dd93efde66ac73904c34d1bd0b9c4\nDepends-On: https://review.opendev.org/c/openstack/ironic-tempest-plugin/+/763340\n'}]",5,763341,51e1b21d3916071617f3334c2e9276785e6c21ed,37,7,3,19604,,,0,"Adds config params to support firmware update gate

This patch sets config params firmware_image_url
and firmware_image_checksum in tempest config file
to support firmware update gate. Currently its
being used by iLO firmware update gate.

Change-Id: I9b26e6f5679dd93efde66ac73904c34d1bd0b9c4
Depends-On: https://review.opendev.org/c/openstack/ironic-tempest-plugin/+/763340
",git fetch https://review.opendev.org/openstack/ironic refs/changes/41/763341/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,e7b1c01f80bffd2040b94073a976b297089d4023,fw-param-tempest," iniset $TEMPEST_CONFIG baremetal firmware_image_url ""http://$IRONIC_HOST_IPV6:$IRONIC_HTTP_PORT/$IRONIC_FIRMWARE_IMAGE_NAME"" iniset $TEMPEST_CONFIG baremetal firmware_image_url ""http://$IRONIC_HTTP_SERVER:$IRONIC_HTTP_PORT/$IRONIC_FIRMWARE_IMAGE_NAME"" iniset $TEMPEST_CONFIG baremetal firmware_image_checksum $(md5sum $FILES/$IRONIC_FIRMWARE_IMAGE_NAME)",,3,0
openstack%2Fmonasca-api~master~I49d436b0cf1503b148a04f82e1ee41941ebd9d0a,openstack/monasca-api,master,I49d436b0cf1503b148a04f82e1ee41941ebd9d0a,Workaround for new pip 20.3 behavior,MERGED,2021-03-31 12:39:47.000000000,2021-04-01 20:31:51.000000000,2021-04-01 20:30:13.000000000,"[{'_account_id': 22348}, {'_account_id': 26141}]","[{'number': 1, 'created': '2021-03-31 12:39:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/661d8e011a9f7d0b768dcc9e786369b2b28ebd2c', 'message': 'Workaround for new pip 20.3 behavior\n\nThis WA set specific pip version to avoid the issue:\n""ERROR: Links are not allowed as constraints"" [1]\nA proper fix would be to adapt to new pip behavior.\nSimilar issue on Devstack [2][3]\n\n[1] https://github.com/pypa/pip/issues/8210\n[2] https://bugs.launchpad.net/devstack/+bug/1906322\n[2] https://review.opendev.org/c/openstack/devstack/+/764803\n\nChange-Id: I49d436b0cf1503b148a04f82e1ee41941ebd9d0a\n'}, {'number': 2, 'created': '2021-03-31 12:42:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/fa9c992ad96a866fa1abc25f174029647c51b17b', 'message': 'Workaround for new pip 20.3 behavior\n\nThis WA set specific pip version to avoid the issue:\n""ERROR: Links are not allowed as constraints"" [1]\nA proper fix would be to adapt to new pip behavior.\nSimilar issue on Devstack [2][3]\n\n[1] https://github.com/pypa/pip/issues/8210\n[2] https://bugs.launchpad.net/devstack/+bug/1906322\n[2] https://review.opendev.org/c/openstack/devstack/+/764803\n\nChange-Id: I49d436b0cf1503b148a04f82e1ee41941ebd9d0a\n'}, {'number': 3, 'created': '2021-03-31 13:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/b4446e8acf6b51c05a3a34f85594497ed23c83d3', 'message': 'Workaround for new pip 20.3 behavior\n\nThis WA set specific pip version to avoid the issue:\n""ERROR: Links are not allowed as constraints"" [1]\nA proper fix would be to adapt to new pip behavior.\nSimilar issue on Devstack [2][3]\n\n[1] https://github.com/pypa/pip/issues/8210\n[2] https://bugs.launchpad.net/devstack/+bug/1906322\n[2] https://review.opendev.org/c/openstack/devstack/+/764803\n\nChange-Id: I49d436b0cf1503b148a04f82e1ee41941ebd9d0a\n'}, {'number': 4, 'created': '2021-03-31 13:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/c52876d9030f0890787e7a0411a9f0e70b3fc81f', 'message': 'Workaround for new pip 20.3 behavior\n\nThis WA set specific pip version to avoid the issue:\n""ERROR: Links are not allowed as constraints"" [1]\nA proper fix would be to adapt to new pip behavior.\nSimilar issue on Devstack [2][3]\n\n[1] https://github.com/pypa/pip/issues/8210\n[2] https://bugs.launchpad.net/devstack/+bug/1906322\n[3] https://review.opendev.org/c/openstack/devstack/+/764803\n\nChange-Id: I49d436b0cf1503b148a04f82e1ee41941ebd9d0a\n'}, {'number': 5, 'created': '2021-03-31 16:43:28.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/a93e1cc9798473dcaac748719da8ab5f0648ebc0', 'message': 'Workaround for new pip 20.3 behavior\n\nThis WA set specific pip version to avoid the issue:\n""ERROR: Links are not allowed as constraints"" [1]\nA proper fix would be to adapt to new pip behavior.\nSimilar issue on Devstack [2][3]\n\n[1] https://github.com/pypa/pip/issues/8210\n[2] https://bugs.launchpad.net/devstack/+bug/1906322\n[3] https://review.opendev.org/c/openstack/devstack/+/764803\n\nChange-Id: I49d436b0cf1503b148a04f82e1ee41941ebd9d0a\n'}]",0,784094,a93e1cc9798473dcaac748719da8ab5f0648ebc0,24,2,5,28062,,,0,"Workaround for new pip 20.3 behavior

This WA set specific pip version to avoid the issue:
""ERROR: Links are not allowed as constraints"" [1]
A proper fix would be to adapt to new pip behavior.
Similar issue on Devstack [2][3]

[1] https://github.com/pypa/pip/issues/8210
[2] https://bugs.launchpad.net/devstack/+bug/1906322
[3] https://review.opendev.org/c/openstack/devstack/+/764803

Change-Id: I49d436b0cf1503b148a04f82e1ee41941ebd9d0a
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/94/784094/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,661d8e011a9f7d0b768dcc9e786369b2b28ebd2c,cap-pip-23-0, # TODO: remove the trailing pip version when a proper fix # arrives for handling this bug https://github.com/pypa/pip/issues/8210 # Similar issue: https://bugs.launchpad.net/devstack/+bug/1906322 (cd /opt/monasca-agent ; virtualenv -p python3 . ; bin/python3 -m pip install --upgrade pip==20.2.3), (cd /opt/monasca-agent ; virtualenv -p python3 .),6,1
openstack%2Fswift~master~Id0010ee5d9034f48eb6a96c147a5f72a73269253,openstack/swift,master,Id0010ee5d9034f48eb6a96c147a5f72a73269253,WIP: Allow ring lookups via a service,NEW,2019-07-12 23:10:44.000000000,2021-04-01 20:26:47.000000000,,"[{'_account_id': 597}, {'_account_id': 7233}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-12 23:10:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/81fe50678345a4f9825400f11a088924569e2621', 'message': 'WIP: Allow ring lookups via a service\n\nWe keep worrying about the memory footprint involved in adding a ring to\na service that does not currently use one. Why not have an isolated\nprocess per node which is solely responsible for doing ring lookups?\n\nWe can continue to do things like plumbing object-update targets through\nto the object-server from the proxy -- if it makes sense, do it! But\nnow:\n\n  - We don\'t have to worry about loading up rings in a container-server\n    to answer questions about the state of its ring, and\n  - We can reduce the overall memory overhead by removing rings from\n    background daemons in favor of querying the ring service.\n\nPrototype it as a Flask app -- at some point we\'ll need to deploy and\nstart it in a more Swift-y way.\n\nTODO:\n  - Figure out a way to (cheaply) resume handoff enumeration\n  - Think about other useful questions to ask of rings (maybe ""what are\n    all the partitions this device is responsible for?"", for example)\n  - Actually try swapping a daemon to use the service; will maybe\n    involve some sort of RingProxy that mirrors the Ring API but talks\n    to a socket?\n\nChange-Id: Id0010ee5d9034f48eb6a96c147a5f72a73269253\n'}, {'number': 2, 'created': '2019-07-12 23:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9087e2267cb3a938f42237a2740648dcb92dc014', 'message': 'WIP: Allow ring lookups via a service\n\nWe keep worrying about the memory footprint involved in adding a ring to\na service that does not currently use one. Why not have an isolated\nprocess per node which is solely responsible for doing ring lookups?\n\nWe can continue to do things like plumbing object-update targets through\nto the object-server from the proxy -- if it makes sense, do it! But\nnow:\n\n  - We don\'t have to worry about loading up rings in a container-server\n    to answer questions about the state of its ring, and\n  - We can reduce the overall memory overhead by removing rings from\n    background daemons in favor of querying the ring service.\n\nPrototype it as a Flask app -- at some point we\'ll need to deploy and\nstart it in a more Swift-y way.\n\nTODO:\n  - Figure out a way to (cheaply) resume handoff enumeration\n  - Think about other useful questions to ask of rings (maybe ""what are\n    all the partitions this device is responsible for?"", for example)\n  - Actually try swapping a daemon to use the service; will maybe\n    involve some sort of RingProxy that mirrors the Ring API but talks\n    to a socket?\n\nChange-Id: Id0010ee5d9034f48eb6a96c147a5f72a73269253\n'}, {'number': 3, 'created': '2021-01-05 16:28:01.000000000', 'files': ['swift/common/ring/__init__.py', 'swift/container/sync.py', 'swift/proxy/server.py', 'swift/obj/updater.py', 'swift/common/ring/server.py', 'swift/container/updater.py', 'swift/common/utils.py', 'swift/common/middleware/list_endpoints.py', 'swift/common/db_replicator.py', 'swift/account/reaper.py', 'swift/common/storage_policy.py', 'etc/swift.conf-sample', 'swift/common/ring/ring.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/b8933889342a4360872e7547b7ea53b07d6f6ae4', 'message': 'WIP: Allow ring lookups via a service\n\nWe keep worrying about the memory footprint involved in adding a ring to\na service that does not currently use one. Why not have an isolated\nprocess per node which is solely responsible for doing ring lookups?\n\nWe can continue to do things like plumbing object-update targets through\nto the object-server from the proxy -- if it makes sense, do it! But\nnow:\n\n  - We don\'t have to worry about loading up rings in a container-server\n    to answer questions about the state of its ring, and\n  - We can reduce the overall memory overhead by removing rings from\n    background daemons in favor of querying the ring service.\n\nTODO:\n  - Figure out a way to (cheaply) resume handoff enumeration rather than\n    always requesting ""a bunch""\n  - Think about other useful questions to ask of rings (maybe ""what are\n    all the partitions this device is responsible for?"", for example)\n  - Have backend daemons include response headers indicating whether\n    they think they\'re a primary for a resource\n\nChange-Id: Id0010ee5d9034f48eb6a96c147a5f72a73269253\n'}]",9,670674,b8933889342a4360872e7547b7ea53b07d6f6ae4,9,4,3,15343,,,0,"WIP: Allow ring lookups via a service

We keep worrying about the memory footprint involved in adding a ring to
a service that does not currently use one. Why not have an isolated
process per node which is solely responsible for doing ring lookups?

We can continue to do things like plumbing object-update targets through
to the object-server from the proxy -- if it makes sense, do it! But
now:

  - We don't have to worry about loading up rings in a container-server
    to answer questions about the state of its ring, and
  - We can reduce the overall memory overhead by removing rings from
    background daemons in favor of querying the ring service.

TODO:
  - Figure out a way to (cheaply) resume handoff enumeration rather than
    always requesting ""a bunch""
  - Think about other useful questions to ask of rings (maybe ""what are
    all the partitions this device is responsible for?"", for example)
  - Have backend daemons include response headers indicating whether
    they think they're a primary for a resource

Change-Id: Id0010ee5d9034f48eb6a96c147a5f72a73269253
",git fetch https://review.opendev.org/openstack/swift refs/changes/74/670674/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/ring/server.py'],1,81fe50678345a4f9825400f11a088924569e2621,ring-as-a-service,"import itertools import os import flask from flask import request from werkzeug import routing from swift.common import ring from swift.common import swob from swift.common import utils DEFAULT_HANDOFFS = 3 RINGS = {} SWIFT_DIR = os.environ.get('SWIFT_DIR', '/etc/swift') utils.set_swift_dir(SWIFT_DIR) class RingConverter(routing.BaseConverter): regex = r'(?:account|container|object(?:-\d+)?)' def to_python(self, value): if value not in RINGS: ring_file = os.path.join(SWIFT_DIR, value + '.ring.gz') try: RINGS[value] = ring.Ring(ring_file) except (IOError, OSError): raise routing.ValidationError return RINGS[value] def to_url(self, value): return os.path.basename(value.serialized_path).split('.', 1)[0] app = flask.Flask('ring-server') app.url_map.converters['ring'] = RingConverter # Maybe useful for debugging? # @app.route('/mem') def mem(): def gen(): with open('/proc/self/status', 'rb') as fp: for line in fp: if line.startswith(b'Vm'): yield line return swob.HTTPOk(content_type='text/plain', app_iter=gen()) @app.route('/<ring:ring>/info') def info(ring): return {attr: getattr(ring, attr, None) for attr in ( 'part_power', 'next_part_power', 'partition_count', 'replica_count', 'device_count', 'weighted_device_count', 'assigned_device_count', 'version', 'md5', 'size', 'raw_size')} @app.route('/<ring:ring>/devices') def devices(ring): # TODO: be able to filter by region/zone/ip return flask.jsonify(ring.devs) @app.route('/<ring:ring>/partition/<int:part>') def by_part(ring, part): primaries = ring.get_part_nodes(part) try: handoffs = int(request.args.get('handoffs', '')) if handoffs < 0: raise ValueError except ValueError: handoffs = DEFAULT_HANDOFFS handoffs = list(itertools.islice(ring.get_more_nodes(part), handoffs)) return { 'partition': part, 'primaries': primaries, 'handoffs': handoffs, } @app.route('/<ring:ring>/path/<path:path>') def by_path(ring, path): part, primaries = ring.get_nodes(path) try: handoffs = int(request.args.get('handoffs', '')) if handoffs < 0: raise ValueError except ValueError: handoffs = DEFAULT_HANDOFFS handoffs = list(itertools.islice(ring.get_more_nodes(part), handoffs)) for node_set in (primaries, handoffs): for item in node_set: item['url'] = '//{ip}:{port}/{device}/{part}/{path}'.format( ip='[' + item['ip'] + ']' if ':' in item['ip'] else item['ip'], port=item['port'], device=item['device'], part=part, path=swob.wsgi_quote(swob.bytes_to_wsgi(path.encode('utf8')))) return { 'partition': part, 'primaries': primaries, 'handoffs': handoffs, } if __name__ == '__main__': app.run('0.0.0.0') ",,108,0
openstack%2Fironic~master~I56b9a878724d27af2ac05232a1680017de4d8df5,openstack/ironic,master,I56b9a878724d27af2ac05232a1680017de4d8df5,Generic way to configure clean step priorites,MERGED,2020-07-31 10:17:41.000000000,2021-04-01 20:17:04.000000000,2021-03-31 16:30:19.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}, {'_account_id': 32177}]","[{'number': 1, 'created': '2020-07-31 10:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/68891077fe34e6cfeda7a08dd21e2d80e23ed227', 'message': '[WIP]Generic way to configure clean step priorites\n\nThis change adds a generic method of configuring clean step\npriorities instead of making changes in Ironic code every time a new\nclean step is introduced.\n\nChange-Id: I56b9a878724d27af2ac05232a1680017de4d8df5\n'}, {'number': 2, 'created': '2020-08-03 00:05:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ed8df4cb1b6c0fd40594fd37cd2650c8dea13d08', 'message': '[WIP]Generic way to configure clean step priorites\n\nThis change adds a generic method of configuring clean step\npriorities instead of making changes in Ironic code every time a new\nclean step is introduced.\n\nChange-Id: I56b9a878724d27af2ac05232a1680017de4d8df5\n'}, {'number': 3, 'created': '2020-08-03 02:32:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ce217d013e0f6397f0aa3453e049d15babd7b079', 'message': '[WIP]Generic way to configure clean step priorites\n\nThis change adds a generic method of configuring clean step\npriorities instead of making changes in Ironic code every time a new\nclean step is introduced.\n\nChange-Id: I56b9a878724d27af2ac05232a1680017de4d8df5\n'}, {'number': 4, 'created': '2020-08-13 04:23:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6c630edad948e79efa7890b076eb954c94288b50', 'message': '[WIP]Generic way to configure clean step priorites\n\nThis change adds a generic method of configuring clean step\npriorities instead of making changes in Ironic code every time a new\nclean step is introduced.\n\nChange-Id: I56b9a878724d27af2ac05232a1680017de4d8df5\n'}, {'number': 5, 'created': '2020-08-17 00:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a2fc2ac526350b2ed4412ac30680b84326fd649f', 'message': '[WIP]Generic way to configure clean step priorites\n\nThis change adds a generic method of configuring clean step\npriorities instead of making changes in Ironic code every time a new\nclean step is introduced.\n\nChange-Id: I56b9a878724d27af2ac05232a1680017de4d8df5\n'}, {'number': 6, 'created': '2020-08-18 04:27:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/437ee940d4fec2ca6b73e889a8593d25ba6b4b66', 'message': '[WIP]Generic way to configure clean step priorites\n\nThis change adds a generic method of configuring clean step\npriorities instead of making changes in Ironic code every time a new\nclean step is introduced.\n\nChange-Id: I56b9a878724d27af2ac05232a1680017de4d8df5\n'}, {'number': 7, 'created': '2020-08-18 04:49:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fd52b1aedb50588db1692c3c1ac1faf3f90285fc', 'message': '[WIP]Generic way to configure clean step priorites\n\nThis change adds a generic method of configuring clean step\npriorities instead of making changes in Ironic code every time a new\nclean step is introduced.\n\nChange-Id: I56b9a878724d27af2ac05232a1680017de4d8df5\n'}, {'number': 8, 'created': '2020-08-18 08:24:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/23497f566a3a094f6935375e975d1c54e1d0273c', 'message': '[WIP]Generic way to configure clean step priorites\n\nThis change adds a generic method of configuring clean step\npriorities instead of making changes in Ironic code every time a new\nclean step is introduced.\n\nChange-Id: I56b9a878724d27af2ac05232a1680017de4d8df5\n'}, {'number': 9, 'created': '2020-08-18 09:05:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e7a9e30b005763d87c69608308df36f5d660139c', 'message': '[WIP]Generic way to configure clean step priorites\n\nThis change adds a generic method of configuring clean step\npriorities instead of making changes in Ironic code every time a new\nclean step is introduced.\n\nChange-Id: I56b9a878724d27af2ac05232a1680017de4d8df5\n'}, {'number': 10, 'created': '2020-08-18 09:07:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d5c29b3dd2a0d5d24fcb3a736091f19898b9ffc0', 'message': '[WIP]Generic way to configure clean step priorites\n\nThis change adds a generic method of configuring clean step\npriorities instead of making changes in Ironic code every time a new\nclean step is introduced.\n\nChange-Id: I56b9a878724d27af2ac05232a1680017de4d8df5\n'}, {'number': 11, 'created': '2020-08-24 00:18:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ef9b30eb086a49081276c1e4f70be551cd722d24', 'message': 'Generic way to configure clean step priorites\n\nThis change adds a generic method of configuring clean step\npriorities instead of making changes in Ironic code every time a new\nclean step is introduced.\n\nChange-Id: I56b9a878724d27af2ac05232a1680017de4d8df5\n'}, {'number': 12, 'created': '2020-09-09 07:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6c8da5068f29110a8bfd4951e03900bc293dd8c9', 'message': 'Generic way to configure clean step priorites\n\nThis change adds a generic method of configuring clean step\npriorities instead of making changes in Ironic code every time a new\nclean step is introduced.\n\nChange-Id: I56b9a878724d27af2ac05232a1680017de4d8df5\nStory: 1618014\n'}, {'number': 13, 'created': '2020-09-09 08:42:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e15dd9b197e489a2923dcf98fab916d677a8f765', 'message': 'Generic way to configure clean step priorites\n\nThis change adds a generic method of configuring clean step\npriorities instead of making changes in Ironic code every time a new\nclean step is introduced.\n\nChange-Id: I56b9a878724d27af2ac05232a1680017de4d8df5\nStory: 1618014\n'}, {'number': 14, 'created': '2020-09-09 12:43:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5be5779337930422fcd0dd89e12cdcebbea1a810', 'message': 'Generic way to configure clean step priorites\n\nThis change adds a generic method of configuring clean step\npriorities instead of making changes in Ironic code every time a new\nclean step is introduced.\n\nChange-Id: I56b9a878724d27af2ac05232a1680017de4d8df5\nStory: 1618014\n'}, {'number': 15, 'created': '2020-09-16 09:33:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8054ce719434b5069afb90849c4a2848871876fd', 'message': 'Generic way to configure clean step priorites\n\nThis change adds a generic method of configuring clean step\npriorities instead of making changes in Ironic code every time a new\nclean step is introduced.\n\nChange-Id: I56b9a878724d27af2ac05232a1680017de4d8df5\nStory: 1618014\n'}, {'number': 16, 'created': '2020-09-28 00:09:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d637793234e7f3ecce6b7afcc56ba9265af5ed1e', 'message': 'Generic way to configure clean step priorites\n\nThis change adds a generic method of configuring clean step\npriorities instead of making changes in Ironic code every time a new\nclean step is introduced.\n\nChange-Id: I56b9a878724d27af2ac05232a1680017de4d8df5\nStory: 1618014\n'}, {'number': 17, 'created': '2020-09-28 01:45:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8105cd21ae98f5aa620077052af77178255df355', 'message': 'Generic way to configure clean step priorites\n\nThis change adds a generic method of configuring clean step\npriorities instead of making changes in Ironic code every time a new\nclean step is introduced.\n\nChange-Id: I56b9a878724d27af2ac05232a1680017de4d8df5\nStory: 1618014\n'}, {'number': 18, 'created': '2021-03-19 02:41:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d5d560e34b6638391f4d8ed8d860d31428d108b8', 'message': 'Generic way to configure clean step priorites\n\nThis change adds a generic method of configuring clean step\npriorities instead of making changes in Ironic code every time a new\nclean step is introduced.\n\nChange-Id: I56b9a878724d27af2ac05232a1680017de4d8df5\nStory: 1618014\n'}, {'number': 19, 'created': '2021-03-22 11:57:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9b2b930317c29a76df6f2b02c1460a83a2d62082', 'message': 'Generic way to configure clean step priorites\n\nThis change adds a generic method of configuring clean step\npriorities instead of making changes in Ironic code every time a new\nclean step is introduced.\n\nChange-Id: I56b9a878724d27af2ac05232a1680017de4d8df5\nStory: 1618014\n'}, {'number': 20, 'created': '2021-03-24 05:02:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/dc44a75ea0f7b547a06536cd7f042e34e77c64c4', 'message': 'Generic way to configure clean step priorites\n\nThis change adds a generic method of configuring clean step\npriorities instead of making changes in Ironic code every time a new\nclean step is introduced.\n\nChange-Id: I56b9a878724d27af2ac05232a1680017de4d8df5\nStory: 1618014\n'}, {'number': 21, 'created': '2021-03-29 13:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d62096fbd9e2774349cd77301618bb74cf56c713', 'message': 'Generic way to configure clean step priorites\n\nThis change adds a generic method of configuring clean step\npriorities instead of making changes in Ironic code every time a new\nclean step is introduced.\n\nChange-Id: I56b9a878724d27af2ac05232a1680017de4d8df5\nStory: 1618014\n'}, {'number': 22, 'created': '2021-03-30 05:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/95e2280f7ca814ae3f1991b5065db7d56a7bc403', 'message': 'Generic way to configure clean step priorites\n\nThis change adds a generic method of configuring clean step\npriorities instead of making changes in Ironic code every time a new\nclean step is introduced.\n\nChange-Id: I56b9a878724d27af2ac05232a1680017de4d8df5\nStory: 1618014\n'}, {'number': 23, 'created': '2021-03-30 06:24:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/db1f67b640258fc3430b90ebefa008b8f92315f2', 'message': 'Generic way to configure clean step priorites\n\nThis change adds a generic method of configuring clean step\npriorities instead of making changes in Ironic code every time a new\nclean step is introduced.\n\nChange-Id: I56b9a878724d27af2ac05232a1680017de4d8df5\nStory: 1618014\n'}, {'number': 24, 'created': '2021-03-30 10:38:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/81af77b0e9c48736f6355c8f8d91a9f19b1c63b1', 'message': 'Generic way to configure clean step priorites\n\nThis change adds a generic method of configuring clean step\npriorities instead of making changes in Ironic code every time a new\nclean step is introduced.\n\nChange-Id: I56b9a878724d27af2ac05232a1680017de4d8df5\nStory: 1618014\n'}, {'number': 25, 'created': '2021-03-31 04:12:02.000000000', 'files': ['doc/source/admin/cleaning.rst', 'ironic/conf/conductor.py', 'releasenotes/notes/releasenote-b3b25c13ea1e2844.yaml', 'ironic/tests/unit/conductor/test_steps.py', 'ironic/conductor/steps.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/1523ae1ce41bd115be09ceebe16f7c8367ea1b5d', 'message': 'Generic way to configure clean step priorites\n\nThis change adds a generic method of configuring clean step\npriorities instead of making changes in Ironic code every time a new\nclean step is introduced.\n\nChange-Id: I56b9a878724d27af2ac05232a1680017de4d8df5\nStory: 1618014\n'}]",121,744117,1523ae1ce41bd115be09ceebe16f7c8367ea1b5d,160,12,25,32177,,,0,"Generic way to configure clean step priorites

This change adds a generic method of configuring clean step
priorities instead of making changes in Ironic code every time a new
clean step is introduced.

Change-Id: I56b9a878724d27af2ac05232a1680017de4d8df5
Story: 1618014
",git fetch https://review.opendev.org/openstack/ironic refs/changes/17/744117/9 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conf/conductor.py', 'ironic/conductor/steps.py']",2,68891077fe34e6cfeda7a08dd21e2d80e23ed227,story-1618014," if CONF.conductor.clean_step_priority_overrides: for interface in interfaces: interface = getattr(task.driver, interface) if interface: interface_steps = [x for x in getattr(interface, get_method)(task) if not enabled or x['priority'] > 0] steps.extend(interface_steps) else: all_steps = task.node. driver_internal_info['agent_cached_clean_steps'] steps = [step.copy() for step_list in all_steps.values() for step in step_list] for step in steps: new_priority = (value for x, value in CONF.conductor. clean_step_priority_overrides.items() if x.split('.')[1] == step.get('step')). next() if new_priority is not None: step['priority'] = new_priority LOG.info(""janders debug"") LOG.info(type(steps)) res = {k: v for d in steps for k, v in d.items()} LOG.info(str(res))"," for interface in interfaces: interface = getattr(task.driver, interface) if interface: interface_steps = [x for x in getattr(interface, get_method)(task) if not enabled or x['priority'] > 0] steps.extend(interface_steps)",43,6
openstack%2Fheat~master~Icc90a921ec67e49aec2c4acfad72235c57c78421,openstack/heat,master,Icc90a921ec67e49aec2c4acfad72235c57c78421,Don't update status for replaced resource,MERGED,2021-04-01 06:34:53.000000000,2021-04-01 20:06:29.000000000,2021-04-01 20:04:48.000000000,"[{'_account_id': 4257}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-01 06:34:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c8ecba7fed69ee1eba4b85518471054324dc217a', 'message': ""Don't update status for replaced resource\n\nWith I04e7ad90944c2d03ce0e59ba16af9d60d6e01222 we allowed\nupdate of previously-existing resource if replacement\ncreation has failed during last update. However, we force\nupdate the status of the existing resource to 'COMPLETE'.\nTherefore, in the next update if properties/type has not\nchanged for the resource it won't try to update/replace\nthe previously existing resource resulting in false positive\nof stack updated successfully.\n\nTask: 42194\nChange-Id: Icc90a921ec67e49aec2c4acfad72235c57c78421\n""}, {'number': 2, 'created': '2021-04-01 14:10:24.000000000', 'files': ['heat/tests/db/test_sqlalchemy_api.py', 'heat/objects/resource.py', 'heat/db/sqlalchemy/api.py', 'heat/engine/resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/bfbaab107d709c37548a22239b952c6221b9ac85', 'message': ""Don't update status for replaced resource\n\nWith I04e7ad90944c2d03ce0e59ba16af9d60d6e01222 we allowed\nupdate of previously-existing resource if replacement\ncreation has failed during last update. However, we force\nupdate the status of the existing resource to 'COMPLETE'.\nTherefore, in the next update if properties/type has not\nchanged for the resource it won't try to update/replace\nthe previously existing resource resulting in false positive\nof stack updated successfully.\n\nTask: 42194\nChange-Id: Icc90a921ec67e49aec2c4acfad72235c57c78421\n""}]",0,784199,bfbaab107d709c37548a22239b952c6221b9ac85,20,4,2,8833,,,0,"Don't update status for replaced resource

With I04e7ad90944c2d03ce0e59ba16af9d60d6e01222 we allowed
update of previously-existing resource if replacement
creation has failed during last update. However, we force
update the status of the existing resource to 'COMPLETE'.
Therefore, in the next update if properties/type has not
changed for the resource it won't try to update/replace
the previously existing resource resulting in false positive
of stack updated successfully.

Task: 42194
Change-Id: Icc90a921ec67e49aec2c4acfad72235c57c78421
",git fetch https://review.opendev.org/openstack/heat refs/changes/99/784199/2 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/db/test_sqlalchemy_api.py', 'heat/objects/resource.py', 'heat/db/sqlalchemy/api.py', 'heat/engine/resource.py']",4,c8ecba7fed69ee1eba4b85518471054324dc217a,,," update_data = {'status': self.COMPLETE} update_data,",2,12
openstack%2Fironic~stable%2Fvictoria~I9f305cb3f33766c1c93cf4347368b1ce025fc635,openstack/ironic,stable/victoria,I9f305cb3f33766c1c93cf4347368b1ce025fc635,Restrict syncing of boot mode to Supermicro,MERGED,2021-04-01 08:50:18.000000000,2021-04-01 19:55:10.000000000,2021-04-01 19:53:17.000000000,"[{'_account_id': 11655}, {'_account_id': 21909}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-01 08:50:18.000000000', 'files': ['releasenotes/notes/restrict-sync-mode-after-device-to-supermicro-218e8cb57735c685.yaml', 'ironic/drivers/modules/redfish/management.py', 'ironic/tests/unit/drivers/modules/redfish/test_management.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/4fd099345d662dc82a978e767c0b534de4e44e7d', 'message': 'Restrict syncing of boot mode to Supermicro\n\nThe fix for https://storyboard.openstack.org/#!/story/2008252 synced\nthe boot mode after changing the boot device, because Supermicro nodes\nreset the boot mode if not included in the boot device set. However this\ncan cause a problem on Dell nodes when changing the mode uefi->bios or\nbios->uefi. Restrict the syncing of the boot mode to Supermicro.\n\nStory: 2008712\nTask: 42046\nChange-Id: I9f305cb3f33766c1c93cf4347368b1ce025fc635\n(cherry picked from commit 8bd25a9882e64ae378974e974c39b874d4b9b0e8)\n'}]",0,784048,4fd099345d662dc82a978e767c0b534de4e44e7d,11,3,1,10239,,,0,"Restrict syncing of boot mode to Supermicro

The fix for https://storyboard.openstack.org/#!/story/2008252 synced
the boot mode after changing the boot device, because Supermicro nodes
reset the boot mode if not included in the boot device set. However this
can cause a problem on Dell nodes when changing the mode uefi->bios or
bios->uefi. Restrict the syncing of the boot mode to Supermicro.

Story: 2008712
Task: 42046
Change-Id: I9f305cb3f33766c1c93cf4347368b1ce025fc635
(cherry picked from commit 8bd25a9882e64ae378974e974c39b874d4b9b0e8)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/48/784048/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/restrict-sync-mode-after-device-to-supermicro-218e8cb57735c685.yaml', 'ironic/drivers/modules/redfish/management.py', 'ironic/tests/unit/drivers/modules/redfish/test_management.py']",3,4fd099345d662dc82a978e767c0b534de4e44e7d,restrict-sync-mode-supermicro-stable/victoria," enabled=sushy.BOOT_SOURCE_ENABLED_ONCE)]) enabled=expected)]) [mock.call(sushy.BOOT_SOURCE_TARGET_PXE, enabled=None)]) if vendor == 'SuperMicro': fake_system.set_system_boot_options.assert_has_calls( [mock.call(sushy.BOOT_SOURCE_TARGET_PXE, enabled=expected), mock.call(mode=sushy.BOOT_SOURCE_MODE_BIOS)]) else: fake_system.set_system_boot_options.assert_has_calls( [mock.call(sushy.BOOT_SOURCE_TARGET_PXE, enabled=expected)])"," enabled=sushy.BOOT_SOURCE_ENABLED_ONCE), mock.call(mode=sushy.BOOT_SOURCE_MODE_BIOS)]) enabled=expected), mock.call(mode=sushy.BOOT_SOURCE_MODE_BIOS)]) [mock.call(sushy.BOOT_SOURCE_TARGET_PXE, enabled=None), mock.call(mode=sushy.BOOT_SOURCE_MODE_BIOS)]) fake_system.set_system_boot_options.assert_has_calls( [mock.call(sushy.BOOT_SOURCE_TARGET_PXE, enabled=expected), mock.call(mode=sushy.BOOT_SOURCE_MODE_BIOS)])",29,12
openstack%2Frequirements~stable%2Fwallaby~I7b59e551b96d413a705017a655938b9d4bcc8606,openstack/requirements,stable/wallaby,I7b59e551b96d413a705017a655938b9d4bcc8606,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-04-01 16:01:57.000000000,2021-04-01 19:53:35.000000000,2021-04-01 19:53:35.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-01 16:01:57.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ec94a1952ddb86d3fcb5f27f90e3546736d33d13', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I7b59e551b96d413a705017a655938b9d4bcc8606\n'}]",0,784439,ec94a1952ddb86d3fcb5f27f90e3546736d33d13,7,3,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I7b59e551b96d413a705017a655938b9d4bcc8606
",git fetch https://review.opendev.org/openstack/requirements refs/changes/39/784439/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ec94a1952ddb86d3fcb5f27f90e3546736d33d13,create-wallaby,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby},deps = -c{env:UPPER_CONSTRAINTS_FILE:{toxinidir}/upper-constraints.txt},1,1
openstack%2Fkolla~master~I1644fbd7d080a2e0c6c31c7cc06f6fc54dc17d1e,openstack/kolla,master,I1644fbd7d080a2e0c6c31c7cc06f6fc54dc17d1e,octavia: Fix log dir permissions,MERGED,2021-03-30 12:14:44.000000000,2021-04-01 19:50:23.000000000,2021-04-01 19:47:35.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2021-03-30 12:14:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3d90bcf6a3a2a9a2d05beed462bad48de65afeeb', 'message': 'octavia: Fix log dir permissions\n\nChange-Id: I1644fbd7d080a2e0c6c31c7cc06f6fc54dc17d1e\n'}, {'number': 2, 'created': '2021-03-30 12:31:50.000000000', 'files': ['docker/octavia/octavia-base/extend_start.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/ad9edf8a54a902e50385e4455431594379a34523', 'message': 'octavia: Fix log dir permissions\n\nChange-Id: I1644fbd7d080a2e0c6c31c7cc06f6fc54dc17d1e\n'}]",3,783845,ad9edf8a54a902e50385e4455431594379a34523,13,6,2,22629,,,0,"octavia: Fix log dir permissions

Change-Id: I1644fbd7d080a2e0c6c31c7cc06f6fc54dc17d1e
",git fetch https://review.opendev.org/openstack/kolla refs/changes/45/783845/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/octavia/octavia-base/extend_start.sh'],1,3d90bcf6a3a2a9a2d05beed462bad48de65afeeb,octavia_wsgi_perm_fix,"if [[ $(stat -c %U:%G /var/log/kolla/octavia) != ""octavia:kolla"" ]]; then chown -R octavia:kolla /var/log/kolla/octavia fi",,3,0
openstack%2Fkolla-ansible~master~I908efe29dcd16c10b0bc88582d8dfb23ba573a35,openstack/kolla-ansible,master,I908efe29dcd16c10b0bc88582d8dfb23ba573a35,octavia: Fix log directory permission,MERGED,2021-03-30 12:17:54.000000000,2021-04-01 19:49:25.000000000,2021-04-01 19:47:41.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2021-03-30 12:17:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/160c0c42c1f09239197818076b241a6144f2b5e6', 'message': 'octavia: Fix log directory permission\n\nChange-Id: I908efe29dcd16c10b0bc88582d8dfb23ba573a35\n'}, {'number': 2, 'created': '2021-03-30 12:32:25.000000000', 'files': ['ansible/roles/octavia/templates/octavia-api.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a52cf61b2234d2f078dd2893dd37de63e20ea1aa', 'message': 'octavia: Fix log directory permission\n\nAfter WSGI implementation the permissions were not fixed.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/783845\n\nChange-Id: I908efe29dcd16c10b0bc88582d8dfb23ba573a35\n'}]",1,783846,a52cf61b2234d2f078dd2893dd37de63e20ea1aa,13,6,2,22629,,,0,"octavia: Fix log directory permission

After WSGI implementation the permissions were not fixed.

Depends-On: https://review.opendev.org/c/openstack/kolla/+/783845

Change-Id: I908efe29dcd16c10b0bc88582d8dfb23ba573a35
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/46/783846/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/octavia/templates/octavia-api.json.j2'],1,160c0c42c1f09239197818076b241a6144f2b5e6,octavia_wsgi_perm_fix," ""owner"": ""octavia:kolla"","," ""owner"": ""octavia:octavia"",",1,1
openstack%2Fgrenade~stable%2Fwallaby~I896fa9b022e4f520f2eda0727ab3e81a320afab3,openstack/grenade,stable/wallaby,I896fa9b022e4f520f2eda0727ab3e81a320afab3,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-04-01 10:35:21.000000000,2021-04-01 19:48:03.000000000,2021-04-01 19:42:45.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-01 10:35:21.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/grenade/commit/042874196f6aa12ffae1a09d13dd4e68b3720042', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I896fa9b022e4f520f2eda0727ab3e81a320afab3\n'}]",0,784366,042874196f6aa12ffae1a09d13dd4e68b3720042,8,3,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I896fa9b022e4f520f2eda0727ab3e81a320afab3
",git fetch https://review.opendev.org/openstack/grenade refs/changes/66/784366/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,042874196f6aa12ffae1a09d13dd4e68b3720042,create-wallaby, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Fswift~master~Ib6651aab8b009605bf0855ec217003936c0fae6e,openstack/swift,master,Ib6651aab8b009605bf0855ec217003936c0fae6e,Give functional tests another chance to pass,MERGED,2021-03-25 20:06:50.000000000,2021-04-01 19:46:16.000000000,2021-04-01 19:43:22.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-25 20:06:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6b72600798779a2a63d3d3c466fb808258f528bc', 'message': 'Give functional tests another chance to pass\n\nIn the process, move from using os-testr to stestr.\n\nChange-Id: Ib6651aab8b009605bf0855ec217003936c0fae6e\n'}, {'number': 2, 'created': '2021-03-25 20:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/578f749de83c0f4dab65479035a51d6364c2101e', 'message': 'Give functional tests another chance to pass\n\nIn the process, move from using os-testr to stestr.\n\nChange-Id: Ib6651aab8b009605bf0855ec217003936c0fae6e\n'}, {'number': 3, 'created': '2021-03-25 20:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e95f896af01179eba6cbf13df55a559c266ca901', 'message': 'Give functional tests another chance to pass\n\nIn the process, move from using os-testr to stestr.\n\nChange-Id: Ib6651aab8b009605bf0855ec217003936c0fae6e\n'}, {'number': 4, 'created': '2021-03-26 16:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b0db31060b90376ff6e7b8afe8841972c261620a', 'message': 'Give functional tests another chance to pass\n\nIn the process, move from using os-testr to stestr.\n\nChange-Id: Ib6651aab8b009605bf0855ec217003936c0fae6e\n'}, {'number': 5, 'created': '2021-03-26 17:44:30.000000000', 'files': ['.functests', 'test-requirements.txt', '.testr.conf', 'lower-constraints.txt', 'py2-constraints.txt', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/swift/commit/f819fc8c24937bc54cf2eefb51b1a4bf343a7034', 'message': 'Give functional tests another chance to pass\n\nIn the process, move from using os-testr to stestr.\n\nChange-Id: Ib6651aab8b009605bf0855ec217003936c0fae6e\n'}]",0,783091,f819fc8c24937bc54cf2eefb51b1a4bf343a7034,34,2,5,15343,,,0,"Give functional tests another chance to pass

In the process, move from using os-testr to stestr.

Change-Id: Ib6651aab8b009605bf0855ec217003936c0fae6e
",git fetch https://review.opendev.org/openstack/swift refs/changes/91/783091/1 && git format-patch -1 --stdout FETCH_HEAD,"['.functests', 'test-requirements.txt', '.testr.conf', '.stestr.conf']",4,6b72600798779a2a63d3d3c466fb808258f528bc,,[DEFAULT] test_path=./test/functional ,,5,7
openstack%2Ftempest~master~I7f055c9724ce39145125664db8cc8e1fc168314f,openstack/tempest,master,I7f055c9724ce39145125664db8cc8e1fc168314f,Add release notes page for version 27.0.0,MERGED,2021-04-01 14:26:05.000000000,2021-04-01 19:46:05.000000000,2021-04-01 19:42:55.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-01 14:26:05.000000000', 'files': ['releasenotes/source/index.rst', 'releasenotes/source/v27.0.0.rst'], 'web_link': 'https://opendev.org/openstack/tempest/commit/7e96c8e854386f43604ad098a6ec7606ee676145', 'message': 'Add release notes page for version 27.0.0\n\nTempest 27.0.0 has been released [1].\nThis commit adds a new page for 27.0.0 release notes.\n\n[1] https://review.opendev.org/c/openstack/releases/+/783349\n\nChange-Id: I7f055c9724ce39145125664db8cc8e1fc168314f\n'}]",0,784425,7e96c8e854386f43604ad098a6ec7606ee676145,7,2,1,22873,,,0,"Add release notes page for version 27.0.0

Tempest 27.0.0 has been released [1].
This commit adds a new page for 27.0.0 release notes.

[1] https://review.opendev.org/c/openstack/releases/+/783349

Change-Id: I7f055c9724ce39145125664db8cc8e1fc168314f
",git fetch https://review.opendev.org/openstack/tempest refs/changes/25/784425/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/index.rst', 'releasenotes/source/v27.0.0.rst']",2,7e96c8e854386f43604ad098a6ec7606ee676145,,===================== v27.0.0 Release Notes ===================== .. release-notes:: 27.0.0 Release Notes :version: 27.0.0 ,,6,0
openstack%2Frequirements~stable%2Fwallaby~I1610bfca8a005a715feb7ec649f725c27d18be18,openstack/requirements,stable/wallaby,I1610bfca8a005a715feb7ec649f725c27d18be18,Update .gitreview for stable/wallaby,MERGED,2021-04-01 16:01:53.000000000,2021-04-01 19:43:17.000000000,2021-04-01 19:43:17.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-01 16:01:53.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f48333a7b08de89fcdc4f0357d871617f298d4b3', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: I1610bfca8a005a715feb7ec649f725c27d18be18\n'}]",0,784438,f48333a7b08de89fcdc4f0357d871617f298d4b3,7,3,1,22816,,,0,"Update .gitreview for stable/wallaby

Change-Id: I1610bfca8a005a715feb7ec649f725c27d18be18
",git fetch https://review.opendev.org/openstack/requirements refs/changes/38/784438/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,f48333a7b08de89fcdc4f0357d871617f298d4b3,create-wallaby,defaultbranch=stable/wallaby,,1,0
openstack%2Fpuppet-tripleo~stable%2Ftrain~Ice881206b3f413e0a22dcbfd557a7d8224b3449c,openstack/puppet-tripleo,stable/train,Ice881206b3f413e0a22dcbfd557a7d8224b3449c,Bump metadata.json 11.6.0 for stable/train release,MERGED,2021-04-01 16:10:27.000000000,2021-04-01 19:42:05.000000000,2021-04-01 19:42:05.000000000,"[{'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-01 16:10:27.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/308d80599aa70462c495b6fd87b7843c5978976a', 'message': 'Bump metadata.json 11.6.0 for stable/train release\n\nNeeded by [1] to make a stable/train release for tripleo repos.\n\n[1] I7672f167a2279d7f00dd95b86ec83a8233e8bb63\n\nChange-Id: Ice881206b3f413e0a22dcbfd557a7d8224b3449c\n'}]",0,784442,308d80599aa70462c495b6fd87b7843c5978976a,6,3,1,8449,,,0,"Bump metadata.json 11.6.0 for stable/train release

Needed by [1] to make a stable/train release for tripleo repos.

[1] I7672f167a2279d7f00dd95b86ec83a8233e8bb63

Change-Id: Ice881206b3f413e0a22dcbfd557a7d8224b3449c
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/42/784442/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,308d80599aa70462c495b6fd87b7843c5978976a,," ""version"": ""11.6.0"","," ""version"": ""11.5.0"",",1,1
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Ib7e1d47fe7cffa2bd2ed1d72d94e4f380162f10a,openstack/tripleo-heat-templates,stable/victoria,Ib7e1d47fe7cffa2bd2ed1d72d94e4f380162f10a,Move tmpwatch from cron.daily to actual root crontab,MERGED,2021-03-31 11:58:54.000000000,2021-04-01 19:42:00.000000000,2021-04-01 19:42:00.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-03-31 11:58:54.000000000', 'files': ['deployment/logrotate/logrotate-crond-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5325ac3116376ccd759eb326398e0cc1312e43be', 'message': ""Move tmpwatch from cron.daily to actual root crontab\n\nIt appeary running the tmpwatch from the cron.daily location isn't\npossible: the way cron/anacron is running things appears to break\nSELinux context at some point, leading to SELinux denials caused by a\nweird need for dac_override.\n\nIn order to NOT allow this dac_override (security hazard), and after\nextensive testing, it seems it's better to push the job directly in\nroot's crontab.\n\nChange-Id: Ib7e1d47fe7cffa2bd2ed1d72d94e4f380162f10a\nCloses-Bug: #1922002\nResolves: rhbz#1944466\n(cherry picked from commit 1c7657b00b3a71e3c38b354cb40b00fa72796d4f)\n""}]",0,784079,5325ac3116376ccd759eb326398e0cc1312e43be,15,5,1,7353,,,0,"Move tmpwatch from cron.daily to actual root crontab

It appeary running the tmpwatch from the cron.daily location isn't
possible: the way cron/anacron is running things appears to break
SELinux context at some point, leading to SELinux denials caused by a
weird need for dac_override.

In order to NOT allow this dac_override (security hazard), and after
extensive testing, it seems it's better to push the job directly in
root's crontab.

Change-Id: Ib7e1d47fe7cffa2bd2ed1d72d94e4f380162f10a
Closes-Bug: #1922002
Resolves: rhbz#1944466
(cherry picked from commit 1c7657b00b3a71e3c38b354cb40b00fa72796d4f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/79/784079/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/logrotate/logrotate-crond-container-puppet.yaml'],1,5325ac3116376ccd759eb326398e0cc1312e43be,selinux/tmpwatch," block: - name: Push script copy: dest: /usr/local/sbin/containers-tmpwatch owner: root group: root mode: 0755 content: | #!/bin/sh tmpwatch --nodirs \ -X ""/var/log/containers/*/*log"" \ -X ""/var/log/containers/*/*/*log"" \ -X ""/var/log/containers/*/*err"" \ {{ LogrotatePurgeAfterDays|int +1 }}d \ /var/log/containers/ 2>&1 | logger -t container-tmpwatch vars: LogrotatePurgeAfterDays: {get_param: LogrotatePurgeAfterDays} - name: Insert cronjob in root crontab cron: name: ""Remove old logs"" special_time: ""daily"" user: ""root"" job: ""/usr/local/sbin/containers-tmpwatch"" update_tasks: &tmpwatch_script_clean - name: Ensure old cron.daily is absent when: step|int == 1 file: path: /etc/cron.daily/containers-tmpwatch state: absent upgrade_tasks: *tmpwatch_script_clean"," copy: dest: /etc/cron.daily/containers-tmpwatch owner: root group: root mode: 0755 content: | #!/bin/sh tmpwatch --nodirs \ -X ""/var/log/containers/*/*log"" \ -X ""/var/log/containers/*/*/*log"" \ -X ""/var/log/containers/*/*err"" \ {{ LogrotatePurgeAfterDays|int +1 }}d \ /var/log/containers/ 2>&1 | logger -t container-tmpwatch vars: LogrotatePurgeAfterDays: {get_param: LogrotatePurgeAfterDays}",30,15
openstack%2Ftripleo-common~master~I236db070b5d929cb51d34c6eefd47866e07de6a7,openstack/tripleo-common,master,I236db070b5d929cb51d34c6eefd47866e07de6a7,Add ceph-ansible to tripleoclient container,MERGED,2021-04-01 09:43:39.000000000,2021-04-01 19:38:46.000000000,2021-04-01 19:35:41.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-01 09:43:39.000000000', 'files': ['container-images/tcib/base/tripleoclient/tripleoclient.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6a5277b4f6378de8f37d433550d53edbcf7a8f36', 'message': 'Add ceph-ansible to tripleoclient container\n\nChange-Id: I236db070b5d929cb51d34c6eefd47866e07de6a7\n'}]",0,784354,6a5277b4f6378de8f37d433550d53edbcf7a8f36,11,4,1,17216,,,0,"Add ceph-ansible to tripleoclient container

Change-Id: I236db070b5d929cb51d34c6eefd47866e07de6a7
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/54/784354/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/tripleoclient/tripleoclient.yaml'],1,6a5277b4f6378de8f37d433550d53edbcf7a8f36,add_ceph_ansible, - ceph-ansible,,1,0
openstack%2Ftripleo-heat-templates~master~I34f34bc3b263cf0df319ae6f175c7fc414528559,openstack/tripleo-heat-templates,master,I34f34bc3b263cf0df319ae6f175c7fc414528559,radosgw_frontend_port should be a number,MERGED,2021-03-31 09:31:23.000000000,2021-04-01 19:34:39.000000000,2021-04-01 19:34:39.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-31 09:31:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3cd0ba10b8f4c18e8598fd0cb00fca2cc64d808d', 'message': 'radosgw_frontend_port should be a number\n\ncephadm, when rgw is deployed via [1], requires that the frontend_port\nin the spec dict is an int and not a string.\n[2] shows a string is produced, and this patch just adds some logic at\ntht level to manipulate the input, casting it to int.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/783305\n[2] https://github.com/openstack/tripleo-heat-templates/blob/master/network/endpoints/endpoint_map.yaml#L64\n\nChange-Id: I34f34bc3b263cf0df319ae6f175c7fc414528559\n'}, {'number': 2, 'created': '2021-03-31 09:35:11.000000000', 'files': ['deployment/cephadm/ceph-rgw.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d04e7b8ccf01dc37d505036ae231e07bfb727a6b', 'message': ""radosgw_frontend_port should be a number\n\ncephadm, when rgw is deployed via [1], requires that the frontend_port\nin the spec dict is an int and not a string.\n[2] shows a string is produced, and this patch just adds some logic at\ntht level to manipulate the input, casting it to int.\nThe ansible option 'ANSIBLE_JINJA2_NATIVE=True' [3] is supposed to be\nable to enable this feature at tripleo-ansible level, but it's a\nconstraint we wouldn't like to introduce.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/783305\n[2] https://github.com/openstack/tripleo-heat-templates/blob/master/network/endpoints/endpoint_map.yaml#L64\n[3] https://docs.ansible.com/ansible/latest/reference_appendices/config.html#envvar-ANSIBLE_JINJA2_NATIVE\n\nChange-Id: I34f34bc3b263cf0df319ae6f175c7fc414528559\n""}]",0,784056,d04e7b8ccf01dc37d505036ae231e07bfb727a6b,10,4,2,25402,,,0,"radosgw_frontend_port should be a number

cephadm, when rgw is deployed via [1], requires that the frontend_port
in the spec dict is an int and not a string.
[2] shows a string is produced, and this patch just adds some logic at
tht level to manipulate the input, casting it to int.
The ansible option 'ANSIBLE_JINJA2_NATIVE=True' [3] is supposed to be
able to enable this feature at tripleo-ansible level, but it's a
constraint we wouldn't like to introduce.

[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/783305
[2] https://github.com/openstack/tripleo-heat-templates/blob/master/network/endpoints/endpoint_map.yaml#L64
[3] https://docs.ansible.com/ansible/latest/reference_appendices/config.html#envvar-ANSIBLE_JINJA2_NATIVE

Change-Id: I34f34bc3b263cf0df319ae6f175c7fc414528559
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/56/784056/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cephadm/ceph-rgw.yaml'],1,3cd0ba10b8f4c18e8598fd0cb00fca2cc64d808d,cephadm_pacific," radosgw_frontend_port: yaql: data: {get_param: [EndpointMap, CephRgwInternal]} expression: int($.data.port) "," radosgw_frontend_port: {get_param: [EndpointMap, CephRgwInternal, port]}",5,1
openstack%2Ftripleo-heat-templates~master~I75678ee767871190a598a6e08c9222628ddd90ea,openstack/tripleo-heat-templates,master,I75678ee767871190a598a6e08c9222628ddd90ea,Simplify conditions in aodh service templates,MERGED,2021-03-30 03:40:31.000000000,2021-04-01 19:34:29.000000000,2021-04-01 19:34:29.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-03-30 03:40:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7b1a266bec08f80142dc9b4da5b0560a4719a1ce', 'message': 'Simplify conditions in aodh service templates\n\nChange-Id: I75678ee767871190a598a6e08c9222628ddd90ea\n'}, {'number': 2, 'created': '2021-03-31 12:07:56.000000000', 'files': ['deployment/aodh/aodh-evaluator-container-puppet.yaml', 'deployment/aodh/aodh-base.yaml', 'deployment/aodh/aodh-notifier-container-puppet.yaml', 'deployment/aodh/aodh-listener-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dba59f904721db2a2cf1a1657e82e2f7304d7b9c', 'message': 'Simplify conditions in aodh service templates\n\nChange-Id: I75678ee767871190a598a6e08c9222628ddd90ea\n'}]",0,783780,dba59f904721db2a2cf1a1657e82e2f7304d7b9c,20,6,2,8833,,,0,"Simplify conditions in aodh service templates

Change-Id: I75678ee767871190a598a6e08c9222628ddd90ea
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/80/783780/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/aodh/aodh-evaluator-container-puppet.yaml', 'deployment/aodh/aodh-base.yaml', 'deployment/aodh/aodh-notifier-container-puppet.yaml', 'deployment/aodh/aodh-listener-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml']",5,7b1a266bec08f80142dc9b4da5b0560a4719a1ce,simplify_tht,resources: - - /var/lib/config-data/aodh/etc/my.cnf.d/tripleo.cnf:/etc/my.cnf.d/tripleo.cnf:ro - - /var/lib/kolla/config_files/aodh_api.json:/var/lib/kolla/config_files/config.json:ro - {get_param: EnableInternalTLS} - - /etc/pki/tls/certs/httpd:/etc/pki/tls/certs/httpd:ro - /etc/pki/tls/private/httpd:/etc/pki/tls/private/httpd:ro - - /var/lib/kolla/config_files/aodh_api_cron.json:/var/lib/kolla/config_files/config.json:ro,"conditions: internal_tls_enabled: {equals: [{get_param: EnableInternalTLS}, true]} resources: - - /var/lib/config-data/aodh/etc/my.cnf.d/tripleo.cnf:/etc/my.cnf.d/tripleo.cnf:ro - - /var/lib/kolla/config_files/aodh_api.json:/var/lib/kolla/config_files/config.json:ro - internal_tls_enabled - - /etc/pki/tls/certs/httpd:/etc/pki/tls/certs/httpd:ro - [] - if: - internal_tls_enabled - - /etc/pki/tls/private/httpd:/etc/pki/tls/private/httpd:ro - [] - - /var/lib/kolla/config_files/aodh_api_cron.json:/var/lib/kolla/config_files/config.json:ro",17,37
openstack%2Fmagnum~master~I97cb4c5b560657e68158891cf2c86ff8a5ab70a0,openstack/magnum,master,I97cb4c5b560657e68158891cf2c86ff8a5ab70a0,Add usage audit notifications cronjob,NEW,2021-04-01 18:54:06.000000000,2021-04-01 19:30:32.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-01 18:54:06.000000000', 'files': ['setup.cfg', 'magnum/cmd/usage_audit.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/e27868608e7833e71ad1c7c7e8068e7fb12b58eb', 'message': 'Add usage audit notifications cronjob\n\nThis patch adds a simple command which can run using a cron job to\npublish notifications about all the clusters that currently exist\ninside Magnum.\n\nChange-Id: I97cb4c5b560657e68158891cf2c86ff8a5ab70a0\n'}]",0,784466,e27868608e7833e71ad1c7c7e8068e7fb12b58eb,2,1,1,1004,,,0,"Add usage audit notifications cronjob

This patch adds a simple command which can run using a cron job to
publish notifications about all the clusters that currently exist
inside Magnum.

Change-Id: I97cb4c5b560657e68158891cf2c86ff8a5ab70a0
",git fetch https://review.opendev.org/openstack/magnum refs/changes/66/784466/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'magnum/cmd/usage_audit.py']",2,e27868608e7833e71ad1c7c7e8068e7fb12b58eb,,"# Copyright 2021 VEXXHOST, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. """"""Cron script which is meant to generate notifications for the existance of resources within Magnum. """""" import sys from pycadf import cadftaxonomy from magnum.common import context from magnum.common import service from magnum.conductor import utils from magnum import objects def main(): service.prepare_service(sys.argv) ctx = context.make_admin_context(all_tenants=True) for cluster in objects.Cluster.list(ctx): outcome = cadftaxonomy.UNKNOWN if cluster.status.endswith('_COMPLETE'): outcome = cadftaxonomy.OUTCOME_SUCCESS elif cluster.status.endswith('_IN_PROGRESS'): outcome = cadftaxonomy.OUTCOME_PENDING elif cluster.status.endswith('_FAILED'): outcome = cadftaxonomy.OUTCOME_FAILURE utils.notify_about_cluster_operation(ctx, 'notify', outcome, cluster) ",,42,0
openstack%2Fgrenade~stable%2Fwallaby~I2c4a769da9a206ed364e114d4f34de54e9c5e68f,openstack/grenade,stable/wallaby,I2c4a769da9a206ed364e114d4f34de54e9c5e68f,Update .gitreview for stable/wallaby,MERGED,2021-04-01 10:35:17.000000000,2021-04-01 19:30:05.000000000,2021-04-01 19:28:15.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-01 10:35:17.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/grenade/commit/4f942284e758886540f0cf7fec53e90c95664d29', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: I2c4a769da9a206ed364e114d4f34de54e9c5e68f\n'}]",0,784365,4f942284e758886540f0cf7fec53e90c95664d29,9,3,1,22816,,,0,"Update .gitreview for stable/wallaby

Change-Id: I2c4a769da9a206ed364e114d4f34de54e9c5e68f
",git fetch https://review.opendev.org/openstack/grenade refs/changes/65/784365/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,4f942284e758886540f0cf7fec53e90c95664d29,create-wallaby,defaultbranch=stable/wallaby,,1,1
openstack%2Fheat~master~I768eeb10c2c24a0c93749b11636ef3e003ecfcd9,openstack/heat,master,I768eeb10c2c24a0c93749b11636ef3e003ecfcd9,Assume interface detach called for port not found,MERGED,2021-04-01 12:35:27.000000000,2021-04-01 19:26:05.000000000,2021-04-01 19:23:13.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-01 12:35:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ed9cb0d15d4a4d4f82327372962920fac151846a', 'message': ""WIP Assume interface detach called for NotFound()\n\nI see it's being called several times.\n\nChange-Id: I768eeb10c2c24a0c93749b11636ef3e003ecfcd9\n""}, {'number': 2, 'created': '2021-04-01 14:08:01.000000000', 'files': ['heat/tests/openstack/nova/test_server.py', 'heat/engine/clients/os/nova.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/6ff0dc2e19ddf3a3447810f8a55b29d9bec52136', 'message': ""Assume interface detach called for port not found\n\nIf the interface has been detached before we call\ndetach_interface, then we keep on calling it as we\nget a 404 from nova. Let's assume it's being called\nand check if the interface has been detached.\n\nTask: 42195\n\nChange-Id: I768eeb10c2c24a0c93749b11636ef3e003ecfcd9\n""}]",3,784388,6ff0dc2e19ddf3a3447810f8a55b29d9bec52136,14,4,2,8833,,,0,"Assume interface detach called for port not found

If the interface has been detached before we call
detach_interface, then we keep on calling it as we
get a 404 from nova. Let's assume it's being called
and check if the interface has been detached.

Task: 42195

Change-Id: I768eeb10c2c24a0c93749b11636ef3e003ecfcd9
",git fetch https://review.opendev.org/openstack/heat refs/changes/88/784388/2 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/clients/os/nova.py'],1,ed9cb0d15d4a4d4f82327372962920fac151846a,, return True, return True,1,1
openstack%2Fpython-openstackclient~master~I2dc5a0f760ce53269ae25677560b2611cc6bfd91,openstack/python-openstackclient,master,I2dc5a0f760ce53269ae25677560b2611cc6bfd91,Add pre-commit,MERGED,2021-03-11 16:21:00.000000000,2021-04-01 19:06:41.000000000,2021-04-01 19:04:59.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-03-11 16:21:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/87035db0e7f3563b727dc152ea0a4037279d596b', 'message': 'Add pre-commit\n\nThis is helpful to automate code style checks at runtime.\n\nChange-Id: I2dc5a0f760ce53269ae25677560b2611cc6bfd91\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2021-03-11 16:23:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ee3e3095f8e1394cd6e2db6c85b03322a04f4742', 'message': 'Add pre-commit\n\nThis is helpful to automate code style checks at runtime.\n\nChange-Id: I2dc5a0f760ce53269ae25677560b2611cc6bfd91\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 3, 'created': '2021-03-31 17:19:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e82b939aa9db324cddeed2c9abe9a6d0dbfc516d', 'message': 'Add pre-commit\n\nThis is helpful to automate code style checks at runtime. We include\ndocumentation on how to run this as well as a general overview of style\nguidelines in OSC.\n\nChange-Id: I2dc5a0f760ce53269ae25677560b2611cc6bfd91\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 4, 'created': '2021-04-01 14:05:45.000000000', 'files': ['doc/source/contributor/developing.rst', '.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/87e682867886bddd10f1dc9c4a174603414e0480', 'message': 'Add pre-commit\n\nThis is helpful to automate code style checks at runtime. We include\ndocumentation on how to run this as well as a general overview of style\nguidelines in OSC.\n\nChange-Id: I2dc5a0f760ce53269ae25677560b2611cc6bfd91\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",6,780030,87e682867886bddd10f1dc9c4a174603414e0480,14,2,4,15334,,,0,"Add pre-commit

This is helpful to automate code style checks at runtime. We include
documentation on how to run this as well as a general overview of style
guidelines in OSC.

Change-Id: I2dc5a0f760ce53269ae25677560b2611cc6bfd91
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/30/780030/4 && git format-patch -1 --stdout FETCH_HEAD,['.pre-commit-config.yaml'],1,87035db0e7f3563b727dc152ea0a4037279d596b,pre-commit,"--- default_language_version: # force all unspecified python hooks to run python3 python: python3 repos: - repo: https://github.com/pre-commit/pre-commit-hooks rev: v3.4.0 hooks: - id: trailing-whitespace - id: mixed-line-ending args: ['--fix', 'lf'] exclude: '.*\.(svg)$' - id: check-byte-order-marker - id: check-executables-have-shebangs - id: check-merge-conflict - id: debug-statements # nova/cmd/manage.py imports pdb on purpose. exclude: 'nova/cmd/manage.py' - id: check-yaml files: .*\.(yaml|yml)$ - repo: local hooks: - id: flake8 name: flake8 additional_dependencies: - hacking>=2.0.0 - flake8-import-order>=0.13 language: python entry: flake8 files: '^.*\.py$' exclude: '^(doc|releasenotes|tools)/.*$' ",,31,0
openstack%2Ftripleo-heat-templates~master~I685ec7d7c583c9f8d9f04b0f1027136ed042487c,openstack/tripleo-heat-templates,master,I685ec7d7c583c9f8d9f04b0f1027136ed042487c,Simplify conditions in heat service templates,MERGED,2021-03-29 04:24:21.000000000,2021-04-01 18:57:41.000000000,2021-04-01 18:57:41.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-03-29 04:24:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d7bf5d172866877f6fca60be867c705614e7edac', 'message': 'Simplify conditions in heat service templates\n\nThis is part of a series of patches to reduce the\ntemplate complexity.\n\nChange-Id: I685ec7d7c583c9f8d9f04b0f1027136ed042487c\n'}, {'number': 2, 'created': '2021-03-29 04:40:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bc99f870e07f25c5d0a951697bfa6bdef3a45428', 'message': 'Simplify conditions in heat service templates\n\nThis is part of a series of patches to reduce the\ntemplate complexity.\n\nChange-Id: I685ec7d7c583c9f8d9f04b0f1027136ed042487c\n'}, {'number': 3, 'created': '2021-03-30 03:09:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/476f629ce8f73c65de95b2641a8c895fe93f3bed', 'message': 'Simplify conditions in heat service templates\n\nThis is part of a series of patches to reduce the\ntemplate complexity.\n\nChange-Id: I685ec7d7c583c9f8d9f04b0f1027136ed042487c\n'}, {'number': 4, 'created': '2021-03-31 12:07:56.000000000', 'files': ['deployment/heat/heat-base-puppet.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4ee0f1894718329ebcdca692cdd767df57916902', 'message': 'Simplify conditions in heat service templates\n\nThis is part of a series of patches to reduce the\ntemplate complexity.\n\nChange-Id: I685ec7d7c583c9f8d9f04b0f1027136ed042487c\n'}]",1,783596,4ee0f1894718329ebcdca692cdd767df57916902,23,6,4,8833,,,0,"Simplify conditions in heat service templates

This is part of a series of patches to reduce the
template complexity.

Change-Id: I685ec7d7c583c9f8d9f04b0f1027136ed042487c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/96/783596/4 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/heat/heat-base-puppet.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml']",4,d7bf5d172866877f6fca60be867c705614e7edac,simplify_tht," heat_workers_set: not: {equals : [{get_param: HeatWorkers}, 0]} if: - heat_workers_set - {get_param: EnableInternalTLS} - - /etc/pki/tls/certs/httpd:/etc/pki/tls/certs/httpd:ro - /etc/pki/tls/private/httpd:/etc/pki/tls/private/httpd:ro"," internal_tls_enabled: {equals: [{get_param: EnableInternalTLS}, true]} heat_workers_zero: {equals : [{get_param: HeatWorkers}, 0]} - if: - heat_workers_zero - {} - internal_tls_enabled - - /etc/pki/tls/certs/httpd:/etc/pki/tls/certs/httpd:ro - [] - if: - internal_tls_enabled - - /etc/pki/tls/private/httpd:/etc/pki/tls/private/httpd:ro - []",28,47
openstack%2Ftripleo-heat-templates~master~I25f981b60c6a66b39919adc38c02a051b6c51269,openstack/tripleo-heat-templates,master,I25f981b60c6a66b39919adc38c02a051b6c51269,Use 'wallaby' heat_template_version,MERGED,2021-03-25 11:39:42.000000000,2021-04-01 18:57:12.000000000,2021-04-01 18:57:12.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-03-25 11:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5b93198299e8991bb47446a846f82d834ab07e73', 'message': ""Use 'wallaby' heat_template_version\n\nWith I57047682cfa82ba6ca4affff54fab5216e9ba51c Heat has added\na new template version for wallaby. This would allow us to use\n2-argument variant of the ``if`` function that would allow for\n e.g. conditional definition of resource properties and help\ncleanup templates. If only two arguments are passed to ``if``\nfunction, the entire enclosing item is removed when the condition\nis false.\n\nChange-Id: I25f981b60c6a66b39919adc38c02a051b6c51269\n""}, {'number': 2, 'created': '2021-03-25 12:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1912569d956095185b0abebab58dd11eaf6fcfe7', 'message': ""Use 'wallaby' heat_template_version\n\nWith I57047682cfa82ba6ca4affff54fab5216e9ba51c Heat has added\na new template version for wallaby. This would allow us to use\n2-argument variant of the ``if`` function that would allow for\n e.g. conditional definition of resource properties and help\ncleanup templates. If only two arguments are passed to ``if``\nfunction, the entire enclosing item is removed when the condition\nis false.\n\nChange-Id: I25f981b60c6a66b39919adc38c02a051b6c51269\n""}, {'number': 3, 'created': '2021-03-29 04:24:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c42ae4995842b0241e4cb45f18e46faee9f21004', 'message': ""Use 'wallaby' heat_template_version\n\nWith I57047682cfa82ba6ca4affff54fab5216e9ba51c Heat has added\na new template version for wallaby. This would allow us to use\n2-argument variant of the ``if`` function that would allow for\n e.g. conditional definition of resource properties and help\ncleanup templates. If only two arguments are passed to ``if``\nfunction, the entire enclosing item is removed when the condition\nis false.\n\nChange-Id: I25f981b60c6a66b39919adc38c02a051b6c51269\n""}, {'number': 4, 'created': '2021-03-29 04:40:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/196ec4fdea0108e91b11b2555c3a6bae9361d819', 'message': ""Use 'wallaby' heat_template_version\n\nWith I57047682cfa82ba6ca4affff54fab5216e9ba51c Heat has added\na new template version for wallaby. This would allow us to use\n2-argument variant of the ``if`` function that would allow for\n e.g. conditional definition of resource properties and help\ncleanup templates. If only two arguments are passed to ``if``\nfunction, the entire enclosing item is removed when the condition\nis false.\n\nChange-Id: I25f981b60c6a66b39919adc38c02a051b6c51269\n""}, {'number': 5, 'created': '2021-03-30 03:09:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/36fa56f105b5da8a52bb86b799ab69b5a8f8b233', 'message': ""Use 'wallaby' heat_template_version\n\nWith I57047682cfa82ba6ca4affff54fab5216e9ba51c Heat has added\na new template version for wallaby. This would allow us to use\n2-argument variant of the ``if`` function that would allow for\n e.g. conditional definition of resource properties and help\ncleanup templates. If only two arguments are passed to ``if``\nfunction, the entire enclosing item is removed when the condition\nis false.\n\nChange-Id: I25f981b60c6a66b39919adc38c02a051b6c51269\n""}, {'number': 6, 'created': '2021-03-31 12:07:56.000000000', 'files': ['deployment/timesync/chrony-baremetal-ansible.yaml', 'deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/ironic/ironic-neutron-agent-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/veritas-hyperscale/veritas-hyperscale-controller-baremetal-puppet.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/swift/swift-base.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml', 'deployment/undercloud/undercloud-upgrade.yaml', 'deployment/logging/files/placement-api.yaml', 'deployment/neutron/neutron-plugin-nuage.yaml', 'deployment/deprecated/mistral/mistral-executor-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/cinder/cinder-backend-dellemc-vmax-iscsi-puppet.yaml', 'deployment/nova/nova-migration-target-container-puppet.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'deployment/neutron/neutron-base.yaml', 'firstboot/userdata_example.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/manila/manila-backend-isilon.yaml', 'deployment/neutron/neutron-agents-ib-config-container-puppet.yaml', 'deployment/cephadm/ceph-nfs.yaml', 'deployment/logging/stdout/neutron-common.yaml', 'deployment/logging/stdout/heat-engine.yaml', 'deployment/neutron/neutron-plugin-ml2-mlnx-sdn-assist-container-puppet.yaml', 'deployment/manila/manila-backend-vnx.yaml', 'deployment/ceph-ansible/ceph-osd.yaml', 'deployment/neutron/neutron-plugin-ml2-nuage.yaml', 'deployment/swift/external-swift-proxy-baremetal-puppet.yaml', 'puppet/extraconfig/pre_deploy/compute/neutron-ml2-bigswitch.yaml', 'deployment/ceph-ansible/ceph-mon.yaml', 'deployment/gnocchi/gnocchi-statsd-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'deployment/deprecated/cavium/liquidio-compute-config-container-puppet.yaml', 'network/ports/noop.yaml', 'deployment/database/redis-base-puppet.yaml', 'deployment/tls/undercloud-remove-novajoin.yaml', 'common/deploy-steps.j2', 'deployment/neutron/neutron-ovs-dpdk-agent-container-puppet.yaml', 'deployment/neutron/neutron-plugin-ml2.yaml', 'deployment/logging/files/nova-metadata.yaml', 'deployment/neutron/neutron-plugin-ml2-cisco-vts-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/neutron/neutron-metadata-container-puppet.yaml', 'deployment/logrotate/tmpwatch-install.yaml', 'network/ports/deployed_port.j2', 'firstboot/userdata_timesync.yaml', 'deployment/neutron/neutron-bgpvpn-bagpipe-baremetal-puppet.yaml', 'deployment/ceph-ansible/ceph-external.yaml', 'deployment/tls/undercloud-tls.yaml', 'network/ports/net_ip_map.j2.yaml', 'deployment/neutron/neutron-l2gw-agent-baremetal-puppet.yaml', 'network/network.j2', 'deployment/ceph-ansible/ceph-nfs.yaml', 'deployment/database/mysql-base.yaml', 'deployment/ironic/ironic-pxe-container-puppet.yaml', 'deployment/manila/manila-backend-cephfs.yaml', 'deployment/cinder/cinder-backup-container-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/kernel/kernel-boot-params-baremetal-ansible.yaml', 'deployment/experimental/designate/designate-mdns-container-puppet.yaml', 'deployment/neutron/neutron-controller-plugin-nuage.yaml', 'deployment/neutron/neutron-l2gw-api-container-puppet.yaml', 'deployment/ceph-ansible/ceph-base.yaml', 'common/services/role.role.j2.yaml', 'tools/yaml-validate.py', 'deployment/cinder/cinder-backend-dellemc-powerflex-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-shared-puppet.yaml', 'deployment/cephadm/ceph-rgw.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/glance/glance-api-edge-container-puppet.yaml', 'deployment/tests/test-container-volume.yaml', 'deployment/barbican/barbican-backend-dogtag-puppet.yaml', 'deployment/deprecated/novajoin/novajoin-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/manila/manila-base.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/ceilometer/ceilometer-base-container-puppet.yaml', 'network/deployed_networks.yaml', 'deployment/cinder/cinder-backend-pure-puppet.yaml', 'deployment/logging/stdout/haproxy.yaml', 'deployment/octavia/providers/ovn-provider-config.yaml', 'deployment/ironic/ironic-base-puppet.yaml', 'deployment/ipsec/ipsec-baremetal-ansible.yaml', 'deployment/masquerade-networks/masquerade-networks-baremetal-puppet.yaml', 'deployment/neutron/neutron-sriov-agent-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml', 'deployment/cinder/cinder-backend-dellemc-vnx-puppet.yaml', 'deployment/experimental/designate/designate-api-container-puppet.yaml', 'extraconfig/post_deploy/undercloud_post.yaml', 'deployment/deprecated/cinder/cinder-backend-scaleio-puppet.yaml', 'deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/logging/files/nova-common.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'firstboot/os-net-config-mappings.yaml', 'deployment/pacemaker/pacemaker-remote-baremetal-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/nova/nova-apidb-client-puppet.yaml', 'network/ports/vip.yaml', 'deployment/aodh/aodh-evaluator-container-puppet.yaml', 'deployment/cinder/cinder-backend-nvmeof-puppet.yaml', 'network/ports/from_service_v6.yaml', 'deployment/iscsid/iscsid-container-puppet.yaml', 'deployment/cinder/cinder-backend-dellemc-powermax-puppet.yaml', 'deployment/pacemaker/pacemaker-baremetal-puppet.yaml', 'deployment/cephadm/ceph-external.yaml', 'deployment/neutron/neutron-plugin-ml2-container-puppet.yaml', 'deployment/sshd/sshd-baremetal-ansible.yaml', 'deployment/tuned/tuned-baremetal-ansible.yaml', 'deployment/logging/stdout/placement-api.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml', 'network/ports/vip_v6.yaml', 'network/ports/net_ip_list_map.j2.yaml', 'deployment/aodh/aodh-notifier-container-puppet.yaml', 'deployment/neutron/neutron-plugin-nsx-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'puppet/extraconfig/tls/ca-inject.yaml', 'deployment/validations/tripleo-validations-baremetal-ansible.yaml', 'tools/tests/nic_config_convert_samples/heat_templates/single-nic-linux-bridge-vlans-controller.yaml', 'deployment/cephadm/ceph-rbdmirror.yaml', 'deployment/experimental/designate/designate-bind-container.yaml', 'deployment/login-defs/login-defs-baremetal-ansible.yaml', 'network/ports/port.j2', 'network/ovn_mac_addr_net.yaml', 'extraconfig/all_nodes/swap-partition.j2.yaml', 'deployment/logging/stdout/nova-common.yaml', 'deployment/cinder/cinder-base.yaml', 'deployment/logging/stdout/nova-metadata.yaml', 'deployment/ceilometer/ceilometer-agent-ipmi-container-puppet.yaml', 'deployment/manila/manila-backend-vmax.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/cinder/cinder-backend-dellemc-xtremio-iscsi-puppet.yaml', 'deployment/cephadm/ceph-osd.yaml', 'deployment/ceph-ansible/ceph-rbdmirror.yaml', 'deployment/logging/stdout/barbican-api.yaml', 'extraconfig/all_nodes/swap.j2.yaml', 'deployment/deprecated/mistral/mistral-api-container-puppet.yaml', 'deployment/logging/files/neutron-common.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/cinder/cinder-backend-dellsc-puppet.yaml', 'deployment/cinder/cinder-backend-netapp-puppet.yaml', 'extraconfig/post_deploy/default.yaml', 'deployment/pacemaker/clustercheck-container-puppet.yaml', 'network/ports/deployed_vip_port.j2', 'deployment/backup-and-restore/rear-baremetal-ansible.yaml', 'deployment/neutron/neutron-mlnx-agent-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/logging/rsyslog-baremetal-ansible.yaml', 'deployment/gnocchi/gnocchi-base.yaml', 'deployment/unbound/unbound-container-ansible.yaml', 'overcloud.j2.yaml', 'deployment/octavia/octavia-housekeeping-container-puppet.yaml', 'deployment/swift/swift-ringbuilder-container-puppet.yaml', 'deployment/aodh/aodh-listener-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml', 'network/ports/from_service.yaml', 'deployment/manila/manila-share-container-puppet.yaml', 'deployment/experimental/designate/designate-producer-container-puppet.yaml', 'deployment/ceph-ansible/ceph-client.yaml', 'deployment/logging/rsyslog-sidecar-container-puppet.yaml', 'deployment/deprecated/keepalived/keepalived-container-puppet.yaml', 'deployment/logging/files/barbican-api.yaml', 'deployment/apache/apache-baremetal-puppet.j2.yaml', 'deployment/octavia/octavia-base.yaml', 'puppet/extraconfig/pre_deploy/default.yaml', 'deployment/deprecated/cinder/cinder-backend-dellemc-vxflexos-puppet.yaml', 'deployment/neutron/neutron-sfc-api-container-puppet.yaml', 'deployment/manila/manila-backend-netapp.yaml', 'deployment/logging/files/glance-api.yaml', 'deployment/barbican/barbican-client-puppet.yaml', 'deployment/neutron/neutron-bigswitch-agent-baremetal-puppet.yaml', 'deployment/logging/stdout/glance-api.yaml', 'extraconfig/post_deploy/example_run_on_update.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'deployment/haproxy/haproxy-public-tls-inject.yaml', 'tools/tests/nic_config_convert_samples/heat_templates/bond-vlans-controller.yaml', 'deployment/metrics/collectd-container-ansible.yaml', 'network/service_net_map.j2.yaml', 'deployment/frr/frr-container-ansible.yaml', 'deployment/cinder/cinder-backend-dellemc-xtremio-puppet.yaml', 'deployment/logging/files/heat-api.yaml', 'network/ports/ovn_mac_addr_port.yaml', 'extraconfig/post_deploy/example.yaml', 'deployed-server/deployed-server.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'deployed-server/deployed-neutron-port.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml', 'deployment/deprecated/novajoin/ipaclient-baremetal-ansible.yaml', 'deployment/logging/files/nova-libvirt.yaml', 'deployment/cephadm/ceph-base.yaml', 'deployment/pacemaker/ovn-dbs-baremetal-puppet.yaml', 'deployment/logging/files/nova-api.yaml', 'firstboot/userdata_default.yaml', 'config-download-structured.yaml', 'deployment/deprecated/mistral/mistral-base.yaml', 'deployment/securetty/securetty-baremetal-ansible.yaml', 'deployment/deprecated/mistral/mistral-engine-container-puppet.yaml', 'deployment/cinder/cinder-backend-dellemc-unity-puppet.yaml', 'deployment/cinder/cinder-backend-veritas-hyperscale-puppet.yaml', 'firstboot/userdata_heat_admin.yaml', 'tools/tests/nic_config_convert_samples/heat_templates/complex.yaml', 'deployment/logging/files/keystone.yaml', 'deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/image-serve/image-serve-baremetal-ansible.yaml', 'deployment/sshd/sshd-baremetal-puppet.yaml', 'ci/common/vbmc_setup.yaml', 'deployment/haproxy/haproxy-edge-container-puppet.yaml', 'deployment/haproxy/haproxy-internal-tls-certmonger.j2.yaml', 'deployment/cinder/cinder-backend-dellemc-sc-puppet.yaml', 'deployment/ceph-ansible/ceph-mgr.yaml', 'ci/common/ironic_standalone_post.yaml', 'deployment/nova/nova-compute-common-container-puppet.yaml', 'network/networks.j2.yaml', 'deployment/swift/swift-storage-container-puppet.yaml', 'deployment/vpp/vpp-baremetal-puppet.yaml', 'deployment/neutron/neutron-ovn-dpdk-config-container-puppet.yaml', 'deployment/nova/nova-scheduler-container-puppet.yaml', 'deployment/experimental/designate/designate-worker-container-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/nova/nova-libvirt-guests-container-puppet.yaml', 'firstboot/conntectx3_streering.yaml', 'deployed-server/deployed-server-environment-output.yaml', 'tools/tests/nic_config_convert_samples/heat_templates/multiple-nics-vlans-controller.yaml', 'deployment/barbican/barbican-backend-simple-crypto-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'network/ports/deployed_vip_ctlplane.yaml', 'deployment/heat/heat-api-cloudwatch-disabled-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/undercloud/minion-rabbitmq-puppet.yaml', 'deployment/experimental/designate/designate-sink-container-puppet.yaml', 'deployment/swift/swift-dispersion-baremetal-puppet.yaml', 'puppet/extraconfig/pre_deploy/controller/multiple.yaml', 'deployment/certs/ca-certs-baremetal-puppet.yaml', 'deployment/neutron/neutron-plugin-ml2-ovn.yaml', 'deployment/tripleo-firewall/tripleo-firewall-baremetal-ansible.yaml', 'deployment/memcached/memcached-container-puppet.yaml', 'deployment/metrics/collectd-container-puppet.yaml', 'deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'network/ports/net_vip_map_external_v6.j2.yaml', 'deployment/barbican/barbican-backend-pkcs11-crypto-puppet.yaml', 'deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/manila/manila-share-common.yaml', 'deployment/openvswitch/openvswitch-dpdk-netcontrold-container-ansible.yaml', 'deployment/ceilometer/ceilometer-agent-compute-container-puppet.yaml', 'network/endpoints/build_endpoint_map.py', 'deployment/octavia/octavia-deployment-config.j2.yaml', 'puppet/role.role.j2.yaml', 'deployment/cinder/cinder-hpelefthand-iscsi-puppet.yaml', 'deployment/logging/files/haproxy.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'network/ports/ctlplane_vip.yaml', 'deployment/ceph-ansible/ceph-mds.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/nova/nova-manager-container-puppet.yaml', 'deployment/messaging/rpc-qdrouterd-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/deprecated/zaqar/zaqar-container-puppet.yaml', 'network/endpoints/endpoint_map.yaml', 'deployment/etcd/etcd-container-puppet.yaml', 'deployment/qdr/qdrouterd-container-puppet.yaml', 'deployment/logging/files/neutron-api.yaml', 'deployment/ipa/ipaservices-baremetal-ansible.yaml', 'firstboot/userdata_dev_rsync.yaml', 'deployment/time/ptp-baremetal-ansible.yaml', 'deployment/rhsm/rhsm-baremetal-ansible.yaml', 'tools/tests/nic_config_convert_samples/heat_templates/single-nic-vlans-controller.yaml', 'deployment/cephadm/ceph-mon.yaml', 'deployment/deprecated/multipathd-container.yaml', 'deployment/database/redis-container-puppet.yaml', 'deployment/pacemaker/compute-instanceha-baremetal-puppet.yaml', 'config-download-software.yaml', 'deployment/clients/openstack-clients-baremetal-ansible.yaml', 'deployment/database/mysql-container-puppet.yaml', 'deployment/logging/stdout/heat-api.yaml', 'deployment/cephadm/ceph-mgr.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/logging/stdout/nova-api.yaml', 'deployment/ceph-ansible/ceph-grafana.yaml', 'deployment/podman/podman-baremetal-ansible.yaml', 'tools/tests/nic_config_convert_samples/heat_templates/2-linux-bonds-vlans-controller.yaml', 'deployment/cephadm/ceph-client.yaml', 'deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'network/ports/net_vip_map_external.j2.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/containers-common.yaml', 'deployment/manila/manila-scheduler-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'network/ports/port_from_pool.j2', 'deployment/deprecated/mistral/mistral-event-engine-container-puppet.yaml', 'deployed-server/ctlplane-port.yaml', 'deployment/metrics/qdr-container-puppet.yaml', 'deployment/neutron/neutron-vpp-agent-baremetal-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml', 'deployment/auditd/auditd-baremetal-puppet.yaml', 'deployment/nova/nova-db-client-puppet.yaml', 'deployment/neutron/neutron-bgpvpn-api-container-puppet.yaml', 'deployment/logging/stdout/keystone.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'ci/environments/disable-unbound.yaml', 'deployment/logging/stdout/nova-libvirt.yaml', 'deployment/gnocchi/gnocchi-metricd-container-puppet.yaml', 'puppet/extraconfig/pre_deploy/controller/neutron-ml2-bigswitch.yaml', 'deployment/neutron/neutron-compute-plugin-nuage.yaml', 'deployment/aide/aide-baremetal-ansible.yaml', 'deployment/aodh/aodh-base.yaml', 'deployment/database/mysql-client.yaml', 'deployment/ceph-ansible/ceph-rgw.yaml', 'deployment/container-image-prepare/container-image-prepare-baremetal-ansible.j2.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/neutron/neutron-plugin-ml2-ansible-container-puppet.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml', 'firstboot/userdata_root_password.yaml', 'deployment/metrics/qdr-container-ansible.yaml', 'deployment/kernel/kernel-baremetal-ansible.yaml', 'deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/cinder/cinder-scheduler-container-puppet.yaml', 'extraconfig/nova_metadata/krb-service-principals/role.role.j2.yaml', 'deployment/cephadm/ceph-mds.yaml', 'deployment/heat/heat-base-puppet.yaml', 'deployment/nova/nova-base-puppet.yaml', 'deployment/logging/files/heat-api-cfn.yaml', 'deployment/barbican/barbican-backend-kmip-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/neutron/neutron-linuxbridge-agent-baremetal-puppet.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/cinder/cinder-backend-dellemc-powerstore-puppet.yaml', 'deployment/time/timezone-baremetal-ansible.yaml', 'deployment/experimental/designate/designate-base.yaml', 'deployment/experimental/designate/designate-central-container-puppet.yaml', 'deployment/haproxy/haproxy-public-tls-certmonger.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/openvswitch/openvswitch-dpdk-baremetal-ansible.yaml', 'deployment/timemaster/timemaster-baremetal-ansible.yaml', 'ci/environments/multinode-core.yaml', 'deployment/manila/manila-backend-unity.yaml', 'deployment/nova/nova-az-config.yaml', 'deployment/logging/files/heat-engine.yaml', 'deployment/snmp/snmp-baremetal-puppet.yaml', 'deployment/cephadm/ceph-grafana.yaml', 'deployment/ovn/ovn-dbs-container-puppet.yaml', 'deployment/logrotate/logrotate-crond-container-puppet.yaml', 'deployment/logging/stdout/heat-api-cfn.yaml', 'puppet/extraconfig/pre_deploy/per_node.yaml', 'deployment/logging/rsyslog-container-puppet.yaml', 'deployment/multipathd/multipathd-container-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c9991c2e31d1fa32360c57ebded1e61db7b9ea24', 'message': ""Use 'wallaby' heat_template_version\n\nWith I57047682cfa82ba6ca4affff54fab5216e9ba51c Heat has added\na new template version for wallaby. This would allow us to use\n2-argument variant of the ``if`` function that would allow for\n e.g. conditional definition of resource properties and help\ncleanup templates. If only two arguments are passed to ``if``\nfunction, the entire enclosing item is removed when the condition\nis false.\n\nChange-Id: I25f981b60c6a66b39919adc38c02a051b6c51269\n""}]",0,782978,c9991c2e31d1fa32360c57ebded1e61db7b9ea24,39,6,6,8833,,,0,"Use 'wallaby' heat_template_version

With I57047682cfa82ba6ca4affff54fab5216e9ba51c Heat has added
a new template version for wallaby. This would allow us to use
2-argument variant of the ``if`` function that would allow for
 e.g. conditional definition of resource properties and help
cleanup templates. If only two arguments are passed to ``if``
function, the entire enclosing item is removed when the condition
is false.

Change-Id: I25f981b60c6a66b39919adc38c02a051b6c51269
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/78/782978/5 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/timesync/chrony-baremetal-ansible.yaml', 'deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/ironic/ironic-neutron-agent-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/veritas-hyperscale/veritas-hyperscale-controller-baremetal-puppet.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/swift/swift-base.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml', 'deployment/undercloud/undercloud-upgrade.yaml', 'deployment/logging/files/placement-api.yaml', 'deployment/neutron/neutron-plugin-nuage.yaml', 'deployment/deprecated/mistral/mistral-executor-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/cinder/cinder-backend-dellemc-vmax-iscsi-puppet.yaml', 'deployment/nova/nova-migration-target-container-puppet.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'deployment/neutron/neutron-base.yaml', 'firstboot/userdata_example.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/manila/manila-backend-isilon.yaml', 'deployment/neutron/neutron-agents-ib-config-container-puppet.yaml', 'deployment/cephadm/ceph-nfs.yaml', 'deployment/logging/stdout/neutron-common.yaml', 'deployment/logging/stdout/heat-engine.yaml', 'deployment/neutron/neutron-plugin-ml2-mlnx-sdn-assist-container-puppet.yaml', 'deployment/manila/manila-backend-vnx.yaml', 'deployment/ceph-ansible/ceph-osd.yaml', 'deployment/neutron/neutron-plugin-ml2-nuage.yaml', 'deployment/swift/external-swift-proxy-baremetal-puppet.yaml', 'puppet/extraconfig/pre_deploy/compute/neutron-ml2-bigswitch.yaml', 'deployment/ceph-ansible/ceph-mon.yaml', 'deployment/gnocchi/gnocchi-statsd-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'network/ports/noop.yaml', 'deployment/database/redis-base-puppet.yaml', 'deployment/tls/undercloud-remove-novajoin.yaml', 'common/deploy-steps.j2', 'deployment/neutron/neutron-ovs-dpdk-agent-container-puppet.yaml', 'deployment/neutron/neutron-plugin-ml2.yaml', 'deployment/logging/files/nova-metadata.yaml', 'deployment/neutron/neutron-plugin-ml2-cisco-vts-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/neutron/neutron-metadata-container-puppet.yaml', 'deployment/logrotate/tmpwatch-install.yaml', 'network/ports/deployed_port.j2', 'firstboot/userdata_timesync.yaml', 'deployment/neutron/neutron-bgpvpn-bagpipe-baremetal-puppet.yaml', 'deployment/ceph-ansible/ceph-external.yaml', 'deployment/tls/undercloud-tls.yaml', 'network/ports/net_ip_map.j2.yaml', 'deployment/neutron/neutron-l2gw-agent-baremetal-puppet.yaml', 'network/network.j2', 'deployment/ceph-ansible/ceph-nfs.yaml', 'deployment/database/mysql-base.yaml', 'deployment/ironic/ironic-pxe-container-puppet.yaml', 'deployment/manila/manila-backend-cephfs.yaml', 'deployment/cinder/cinder-backup-container-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/kernel/kernel-boot-params-baremetal-ansible.yaml', 'deployment/experimental/designate/designate-mdns-container-puppet.yaml', 'deployment/neutron/neutron-controller-plugin-nuage.yaml', 'deployment/neutron/neutron-l2gw-api-container-puppet.yaml', 'deployment/ceph-ansible/ceph-base.yaml', 'common/services/role.role.j2.yaml', 'deployment/cinder/cinder-backend-dellemc-powerflex-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-shared-puppet.yaml', 'deployment/cephadm/ceph-rgw.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/glance/glance-api-edge-container-puppet.yaml', 'deployment/neutron/neutron-l3-compute-dvr.yaml', 'deployment/tests/test-container-volume.yaml', 'deployment/barbican/barbican-backend-dogtag-puppet.yaml', 'deployment/deprecated/novajoin/novajoin-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/manila/manila-base.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/ceilometer/ceilometer-base-container-puppet.yaml', 'network/deployed_networks.yaml', 'deployment/cinder/cinder-backend-pure-puppet.yaml', 'deployment/logging/stdout/haproxy.yaml', 'deployment/octavia/providers/ovn-provider-config.yaml', 'deployment/ironic/ironic-base-puppet.yaml', 'deployment/ipsec/ipsec-baremetal-ansible.yaml', 'deployment/masquerade-networks/masquerade-networks-baremetal-puppet.yaml', 'deployment/neutron/neutron-sriov-agent-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml', 'deployment/cinder/cinder-backend-dellemc-vnx-puppet.yaml', 'deployment/experimental/designate/designate-api-container-puppet.yaml', 'extraconfig/post_deploy/undercloud_post.yaml', 'deployment/deprecated/cinder/cinder-backend-scaleio-puppet.yaml', 'deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/logging/files/nova-common.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'firstboot/os-net-config-mappings.yaml', 'deployment/pacemaker/pacemaker-remote-baremetal-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/nova/nova-apidb-client-puppet.yaml', 'network/ports/vip.yaml', 'deployment/aodh/aodh-evaluator-container-puppet.yaml', 'deployment/cinder/cinder-backend-nvmeof-puppet.yaml', 'network/ports/from_service_v6.yaml', 'deployment/iscsid/iscsid-container-puppet.yaml', 'deployment/cinder/cinder-backend-dellemc-powermax-puppet.yaml', 'deployment/pacemaker/pacemaker-baremetal-puppet.yaml', 'deployment/cephadm/ceph-external.yaml', 'deployment/neutron/neutron-plugin-ml2-container-puppet.yaml', 'deployment/sshd/sshd-baremetal-ansible.yaml', 'deployment/tuned/tuned-baremetal-ansible.yaml', 'deployment/logging/stdout/placement-api.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml', 'network/ports/vip_v6.yaml', 'network/ports/net_ip_list_map.j2.yaml', 'deployment/aodh/aodh-notifier-container-puppet.yaml', 'deployment/neutron/neutron-plugin-nsx-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'puppet/extraconfig/tls/ca-inject.yaml', 'deployment/validations/tripleo-validations-baremetal-ansible.yaml', 'tools/tests/nic_config_convert_samples/heat_templates/single-nic-linux-bridge-vlans-controller.yaml', 'deployment/cephadm/ceph-rbdmirror.yaml', 'deployment/login-defs/login-defs-baremetal-ansible.yaml', 'network/ports/port.j2', 'network/ovn_mac_addr_net.yaml', 'extraconfig/all_nodes/swap-partition.j2.yaml', 'deployment/logging/stdout/nova-common.yaml', 'deployment/cinder/cinder-base.yaml', 'deployment/logging/stdout/nova-metadata.yaml', 'deployment/ceilometer/ceilometer-agent-ipmi-container-puppet.yaml', 'deployment/manila/manila-backend-vmax.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/cinder/cinder-backend-dellemc-xtremio-iscsi-puppet.yaml', 'deployment/cephadm/ceph-osd.yaml', 'deployment/ceph-ansible/ceph-rbdmirror.yaml', 'deployment/logging/stdout/barbican-api.yaml', 'extraconfig/all_nodes/swap.j2.yaml', 'deployment/deprecated/mistral/mistral-api-container-puppet.yaml', 'deployment/logging/files/neutron-common.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/cinder/cinder-backend-dellsc-puppet.yaml', 'deployment/cinder/cinder-backend-netapp-puppet.yaml', 'extraconfig/post_deploy/default.yaml', 'deployment/pacemaker/clustercheck-container-puppet.yaml', 'network/ports/deployed_vip_port.j2', 'deployment/backup-and-restore/rear-baremetal-ansible.yaml', 'deployment/neutron/neutron-mlnx-agent-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/logging/rsyslog-baremetal-ansible.yaml', 'deployment/gnocchi/gnocchi-base.yaml', 'deployment/unbound/unbound-container-ansible.yaml', 'overcloud.j2.yaml', 'deployment/octavia/octavia-housekeeping-container-puppet.yaml', 'deployment/swift/swift-ringbuilder-container-puppet.yaml', 'deployment/aodh/aodh-listener-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml', 'network/ports/from_service.yaml', 'deployment/manila/manila-share-container-puppet.yaml', 'deployment/experimental/designate/designate-producer-container-puppet.yaml', 'deployment/ceph-ansible/ceph-client.yaml', 'deployment/logging/rsyslog-sidecar-container-puppet.yaml', 'deployment/deprecated/keepalived/keepalived-container-puppet.yaml', 'deployment/logging/files/barbican-api.yaml', 'deployment/apache/apache-baremetal-puppet.j2.yaml', 'deployment/octavia/octavia-base.yaml', 'puppet/extraconfig/pre_deploy/default.yaml', 'deployment/deprecated/cinder/cinder-backend-dellemc-vxflexos-puppet.yaml', 'deployment/neutron/neutron-sfc-api-container-puppet.yaml', 'deployment/manila/manila-backend-netapp.yaml', 'deployment/logging/files/glance-api.yaml', 'deployment/barbican/barbican-client-puppet.yaml', 'deployment/neutron/neutron-bigswitch-agent-baremetal-puppet.yaml', 'deployment/logging/stdout/glance-api.yaml', 'extraconfig/post_deploy/example_run_on_update.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'deployment/haproxy/haproxy-public-tls-inject.yaml', 'tools/tests/nic_config_convert_samples/heat_templates/bond-vlans-controller.yaml', 'network/service_net_map.j2.yaml', 'deployment/frr/frr-container-ansible.yaml', 'deployment/cinder/cinder-backend-dellemc-xtremio-puppet.yaml', 'deployment/logging/files/heat-api.yaml', 'network/ports/ovn_mac_addr_port.yaml', 'extraconfig/post_deploy/example.yaml', 'deployed-server/deployed-server.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'deployed-server/deployed-neutron-port.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml', 'deployment/deprecated/novajoin/ipaclient-baremetal-ansible.yaml', 'deployment/logging/files/nova-libvirt.yaml', 'deployment/cephadm/ceph-base.yaml', 'deployment/pacemaker/ovn-dbs-baremetal-puppet.yaml', 'deployment/logging/files/nova-api.yaml', 'firstboot/userdata_default.yaml', 'config-download-structured.yaml', 'deployment/deprecated/mistral/mistral-base.yaml', 'deployment/securetty/securetty-baremetal-ansible.yaml', 'deployment/deprecated/mistral/mistral-engine-container-puppet.yaml', 'deployment/cinder/cinder-backend-dellemc-unity-puppet.yaml', 'deployment/cinder/cinder-backend-veritas-hyperscale-puppet.yaml', 'firstboot/userdata_heat_admin.yaml', 'tools/tests/nic_config_convert_samples/heat_templates/complex.yaml', 'deployment/logging/files/keystone.yaml', 'deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/image-serve/image-serve-baremetal-ansible.yaml', 'deployment/sshd/sshd-baremetal-puppet.yaml', 'ci/common/vbmc_setup.yaml', 'deployment/haproxy/haproxy-edge-container-puppet.yaml', 'deployment/haproxy/haproxy-internal-tls-certmonger.j2.yaml', 'deployment/cinder/cinder-backend-dellemc-sc-puppet.yaml', 'deployment/ceph-ansible/ceph-mgr.yaml', 'ci/common/ironic_standalone_post.yaml', 'deployment/nova/nova-compute-common-container-puppet.yaml', 'network/networks.j2.yaml', 'deployment/swift/swift-storage-container-puppet.yaml', 'deployment/vpp/vpp-baremetal-puppet.yaml', 'deployment/neutron/neutron-ovn-dpdk-config-container-puppet.yaml', 'deployment/nova/nova-scheduler-container-puppet.yaml', 'deployment/experimental/designate/designate-worker-container-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/nova/nova-libvirt-guests-container-puppet.yaml', 'firstboot/conntectx3_streering.yaml', 'deployed-server/deployed-server-environment-output.yaml', 'tools/tests/nic_config_convert_samples/heat_templates/multiple-nics-vlans-controller.yaml', 'deployment/barbican/barbican-backend-simple-crypto-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'network/ports/deployed_vip_ctlplane.yaml', 'deployment/heat/heat-api-cloudwatch-disabled-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/undercloud/minion-rabbitmq-puppet.yaml', 'deployment/experimental/designate/designate-sink-container-puppet.yaml', 'deployment/swift/swift-dispersion-baremetal-puppet.yaml', 'puppet/extraconfig/pre_deploy/controller/multiple.yaml', 'deployment/certs/ca-certs-baremetal-puppet.yaml', 'deployment/neutron/neutron-plugin-ml2-ovn.yaml', 'deployment/tripleo-firewall/tripleo-firewall-baremetal-ansible.yaml', 'deployment/memcached/memcached-container-puppet.yaml', 'deployment/metrics/collectd-container-puppet.yaml', 'deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'network/ports/net_vip_map_external_v6.j2.yaml', 'deployment/barbican/barbican-backend-pkcs11-crypto-puppet.yaml', 'deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/manila/manila-share-common.yaml', 'deployment/openvswitch/openvswitch-dpdk-netcontrold-container-ansible.yaml', 'deployment/ceilometer/ceilometer-agent-compute-container-puppet.yaml', 'deployment/octavia/octavia-deployment-config.j2.yaml', 'puppet/role.role.j2.yaml', 'deployment/cinder/cinder-hpelefthand-iscsi-puppet.yaml', 'deployment/logging/files/haproxy.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'network/ports/ctlplane_vip.yaml', 'deployment/ceph-ansible/ceph-mds.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/nova/nova-manager-container-puppet.yaml', 'deployment/messaging/rpc-qdrouterd-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/deprecated/zaqar/zaqar-container-puppet.yaml', 'network/endpoints/endpoint_map.yaml', 'deployment/etcd/etcd-container-puppet.yaml', 'deployment/qdr/qdrouterd-container-puppet.yaml', 'deployment/logging/files/neutron-api.yaml', 'deployment/ipa/ipaservices-baremetal-ansible.yaml', 'firstboot/userdata_dev_rsync.yaml', 'deployment/cavium/liquidio-compute-config-container-puppet.yaml', 'deployment/time/ptp-baremetal-ansible.yaml', 'deployment/rhsm/rhsm-baremetal-ansible.yaml', 'tools/tests/nic_config_convert_samples/heat_templates/single-nic-vlans-controller.yaml', 'deployment/cephadm/ceph-mon.yaml', 'deployment/deprecated/multipathd-container.yaml', 'deployment/database/redis-container-puppet.yaml', 'deployment/pacemaker/compute-instanceha-baremetal-puppet.yaml', 'config-download-software.yaml', 'deployment/clients/openstack-clients-baremetal-ansible.yaml', 'deployment/database/mysql-container-puppet.yaml', 'deployment/logging/stdout/heat-api.yaml', 'deployment/cephadm/ceph-mgr.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/logging/stdout/nova-api.yaml', 'deployment/ceph-ansible/ceph-grafana.yaml', 'deployment/podman/podman-baremetal-ansible.yaml', 'tools/tests/nic_config_convert_samples/heat_templates/2-linux-bonds-vlans-controller.yaml', 'deployment/cephadm/ceph-client.yaml', 'deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'network/ports/net_vip_map_external.j2.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/containers-common.yaml', 'deployment/manila/manila-scheduler-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'network/ports/port_from_pool.j2', 'deployment/deprecated/mistral/mistral-event-engine-container-puppet.yaml', 'deployed-server/ctlplane-port.yaml', 'deployment/metrics/qdr-container-puppet.yaml', 'deployment/neutron/neutron-vpp-agent-baremetal-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml', 'deployment/auditd/auditd-baremetal-puppet.yaml', 'deployment/nova/nova-db-client-puppet.yaml', 'deployment/neutron/neutron-bgpvpn-api-container-puppet.yaml', 'deployment/logging/stdout/keystone.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'ci/environments/disable-unbound.yaml', 'deployment/logging/stdout/nova-libvirt.yaml', 'deployment/gnocchi/gnocchi-metricd-container-puppet.yaml', 'puppet/extraconfig/pre_deploy/controller/neutron-ml2-bigswitch.yaml', 'deployment/neutron/neutron-compute-plugin-nuage.yaml', 'deployment/aide/aide-baremetal-ansible.yaml', 'deployment/aodh/aodh-base.yaml', 'deployment/database/mysql-client.yaml', 'deployment/ceph-ansible/ceph-rgw.yaml', 'deployment/container-image-prepare/container-image-prepare-baremetal-ansible.j2.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/neutron/neutron-plugin-ml2-ansible-container-puppet.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml', 'firstboot/userdata_root_password.yaml', 'deployment/kernel/kernel-baremetal-ansible.yaml', 'deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/cinder/cinder-scheduler-container-puppet.yaml', 'extraconfig/nova_metadata/krb-service-principals/role.role.j2.yaml', 'deployment/cephadm/ceph-mds.yaml', 'deployment/heat/heat-base-puppet.yaml', 'deployment/nova/nova-base-puppet.yaml', 'deployment/logging/files/heat-api-cfn.yaml', 'deployment/barbican/barbican-backend-kmip-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/neutron/neutron-linuxbridge-agent-baremetal-puppet.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/cinder/cinder-backend-dellemc-powerstore-puppet.yaml', 'deployment/time/timezone-baremetal-ansible.yaml', 'deployment/experimental/designate/designate-base.yaml', 'deployment/experimental/designate/designate-central-container-puppet.yaml', 'deployment/haproxy/haproxy-public-tls-certmonger.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/openvswitch/openvswitch-dpdk-baremetal-ansible.yaml', 'ci/environments/multinode-core.yaml', 'deployment/manila/manila-backend-unity.yaml', 'deployment/nova/nova-az-config.yaml', 'deployment/logging/files/heat-engine.yaml', 'deployment/snmp/snmp-baremetal-puppet.yaml', 'deployment/cephadm/ceph-grafana.yaml', 'deployment/ovn/ovn-dbs-container-puppet.yaml', 'deployment/logrotate/logrotate-crond-container-puppet.yaml', 'deployment/logging/stdout/heat-api-cfn.yaml', 'puppet/extraconfig/pre_deploy/per_node.yaml', 'deployment/logging/rsyslog-container-puppet.yaml', 'deployment/multipathd/multipathd-container-ansible.yaml']",344,5b93198299e8991bb47446a846f82d834ab07e73,simplify_tht,heat_template_version: wallaby,heat_template_version: rocky,344,344
openstack%2Fpython-openstackclient~master~I2415ec61c3580fcd43ee7d8f2a90b698ac156593,openstack/python-openstackclient,master,I2415ec61c3580fcd43ee7d8f2a90b698ac156593,Add Python3 xena unit tests,MERGED,2021-03-20 09:16:57.000000000,2021-04-01 18:37:43.000000000,2021-04-01 18:31:35.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-20 09:16:57.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/449b30981a5151fb19174e61f51f5f6dee142af1', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I2415ec61c3580fcd43ee7d8f2a90b698ac156593\n'}]",0,781960,449b30981a5151fb19174e61f51f5f6dee142af1,8,2,1,22816,,,0,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I2415ec61c3580fcd43ee7d8f2a90b698ac156593
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/60/781960/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,449b30981a5151fb19174e61f51f5f6dee142af1,add-xena-python-jobtemplates, - openstack-python3-xena-jobs, - openstack-python3-wallaby-jobs,1,1
openstack%2Fswift~master~I874e9c65e6209d727fa089be9d31462faf0d0c0b,openstack/swift,master,I874e9c65e6209d727fa089be9d31462faf0d0c0b,s-m-s-r: read shard_ranges from stdin,MERGED,2021-03-30 18:28:33.000000000,2021-04-01 18:37:26.000000000,2021-04-01 18:31:12.000000000,"[{'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-30 18:28:33.000000000', 'files': ['swift/cli/manage_shard_ranges.py', 'test/unit/cli/test_manage_shard_ranges.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/d55bfa7fb1cc15cc5c6ece3e2cfd9302a37e0eec', 'message': 's-m-s-r: read shard_ranges from stdin\n\nChange-Id: I874e9c65e6209d727fa089be9d31462faf0d0c0b\n'}]",1,783947,d55bfa7fb1cc15cc5c6ece3e2cfd9302a37e0eec,11,4,1,1179,,,0,"s-m-s-r: read shard_ranges from stdin

Change-Id: I874e9c65e6209d727fa089be9d31462faf0d0c0b
",git fetch https://review.opendev.org/openstack/swift refs/changes/47/783947/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/cli/manage_shard_ranges.py', 'test/unit/cli/test_manage_shard_ranges.py']",2,d55bfa7fb1cc15cc5c6ece3e2cfd9302a37e0eec,p-shard-repair," def test_analyze_stdin(self): out = StringIO() err = StringIO() stdin = StringIO() stdin.write(json.dumps([])) # empty but valid json stdin.seek(0) with mock.patch('sys.stdout', out), mock.patch('sys.stderr', err), \ mock.patch('sys.stdin', stdin): main(['-', 'analyze']) expected = [ 'Found no complete sequence of shard ranges.', 'Repairs necessary to fill gaps.', 'Gap filling not supported by this tool. No repairs performed.', ] self.assertEqual(expected, out.getvalue().splitlines()) broker = self._make_broker() broker.update_metadata({'X-Container-Sysmeta-Sharding': (True, Timestamp.now().internal)}) shard_ranges = [ dict(sr, state=ShardRange.STATES[sr.state]) for sr in make_shard_ranges(broker, self.shard_data, '.shards_') ] out = StringIO() err = StringIO() stdin = StringIO() stdin.write(json.dumps(shard_ranges)) stdin.seek(0) with mock.patch('sys.stdout', out), mock.patch('sys.stderr', err), \ mock.patch('sys.stdin', stdin): main(['-', 'analyze']) expected = [ 'Found one complete sequence of 10 shard ranges ' 'and no overlapping shard ranges.', 'No repairs necessary.', ] self.assertEqual(expected, out.getvalue().splitlines()) def test_analyze_stdin_with_overlaps(self): broker = self._make_broker() broker.set_sharding_sysmeta('Quoted-Root', 'a/c') with mock_timestamp_now(next(self.ts_iter)): shard_ranges = make_shard_ranges( broker, self.shard_data, '.shards_') with mock_timestamp_now(next(self.ts_iter)): overlap_shard_ranges_1 = make_shard_ranges( broker, self.overlap_shard_data_1, '.shards_') broker.merge_shard_ranges(shard_ranges + overlap_shard_ranges_1) shard_ranges = [ dict(sr, state=ShardRange.STATES[sr.state]) for sr in broker.get_shard_ranges() ] out = StringIO() err = StringIO() stdin = StringIO() stdin.write(json.dumps(shard_ranges)) stdin.seek(0) with mock.patch('sys.stdout', out), mock.patch('sys.stderr', err), \ mock.patch('sys.stdin', stdin): main(['-', 'analyze']) expected = [ 'Repairs necessary to remove overlapping shard ranges.', 'Chosen a complete sequence of 10 shard ranges with ' 'current total of 100 object records to accept object records ' 'from 10 overlapping donor shard ranges.', 'Once applied to the broker these changes will result in:', ' 10 shard ranges being removed.', ' 10 object records being moved to the chosen shard ranges.', ] self.assertEqual(expected, out.getvalue().splitlines()) ",,83,1
openstack%2Fpython-openstackclient~master~I848e21bf2d2ea1a1a132525070e5f20d7ff8478d,openstack/python-openstackclient,master,I848e21bf2d2ea1a1a132525070e5f20d7ff8478d,Update master for stable/wallaby,MERGED,2021-03-20 09:16:53.000000000,2021-04-01 18:36:30.000000000,2021-04-01 18:31:30.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-20 09:16:53.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/32151b099c9b237adadbb8123a885eb46bcc2a30', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: I848e21bf2d2ea1a1a132525070e5f20d7ff8478d\n'}]",0,781959,32151b099c9b237adadbb8123a885eb46bcc2a30,8,2,1,22816,,,0,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: I848e21bf2d2ea1a1a132525070e5f20d7ff8478d
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/59/781959/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,32151b099c9b237adadbb8123a885eb46bcc2a30,reno-wallaby, wallaby,,7,0
openstack%2Fswift~master~I7be30c3247a53969a17fed63d0eba5ab4f4027e4,openstack/swift,master,I7be30c3247a53969a17fed63d0eba5ab4f4027e4,swift-manage-shard-ranges analyze: accept incomplete shard data,MERGED,2021-03-29 18:12:50.000000000,2021-04-01 18:36:18.000000000,2021-04-01 18:30:48.000000000,"[{'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-29 18:12:50.000000000', 'files': ['swift/cli/manage_shard_ranges.py', 'test/unit/cli/test_manage_shard_ranges.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/fc7c0afbe4c151348af32a65ae47df8a3088ed7a', 'message': ""swift-manage-shard-ranges analyze: accept incomplete shard data\n\nswift-container-info does not currently include 'epoch' among the\nshard range info that it outputs, which prevents shard data scraped\nfrom that tool being read by the swift-manage-shard-ranges 'analyze'\ncommand.  The 'epoch' key is not significant to the 'analyze' results\nso it is safe to add a default value when it is missing.\n\nChange-Id: I7be30c3247a53969a17fed63d0eba5ab4f4027e4\n""}]",0,783728,fc7c0afbe4c151348af32a65ae47df8a3088ed7a,24,3,1,7847,,,0,"swift-manage-shard-ranges analyze: accept incomplete shard data

swift-container-info does not currently include 'epoch' among the
shard range info that it outputs, which prevents shard data scraped
from that tool being read by the swift-manage-shard-ranges 'analyze'
command.  The 'epoch' key is not significant to the 'analyze' results
so it is safe to add a default value when it is missing.

Change-Id: I7be30c3247a53969a17fed63d0eba5ab4f4027e4
",git fetch https://review.opendev.org/openstack/swift refs/changes/28/783728/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/cli/manage_shard_ranges.py', 'test/unit/cli/test_manage_shard_ranges.py']",2,fc7c0afbe4c151348af32a65ae47df8a3088ed7a,p-shard-repair," filtered_shard_json = [{k: v for k, v in sr.items() if k != 'epoch'} for sr in shard_json] with open(shard_file, 'w') as fd: json.dump(filtered_shard_json, fd) out = StringIO() err = StringIO() with mock.patch('sys.stdout', out), mock.patch('sys.stderr', err): ret = main([shard_file, 'analyze']) self.assertEqual(0, ret) self.assertEqual('', err.getvalue()) new_out_lines = out.getvalue().split('\n') self.assertEqual(out_lines, new_out_lines)",,17,0
openstack%2Fdevstack~stable%2Fwallaby~Icf097d7fd6691b4b9fd5487e0e0cf72028b80fc7,openstack/devstack,stable/wallaby,Icf097d7fd6691b4b9fd5487e0e0cf72028b80fc7,Update .gitreview for stable/wallaby,MERGED,2021-04-01 10:37:52.000000000,2021-04-01 18:36:09.000000000,2021-04-01 18:30:43.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-01 10:37:52.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/devstack/commit/6a5be762d4ce617ef842ad5ee63af1c894351ee5', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: Icf097d7fd6691b4b9fd5487e0e0cf72028b80fc7\n'}]",0,784367,6a5be762d4ce617ef842ad5ee63af1c894351ee5,9,3,1,22816,,,0,"Update .gitreview for stable/wallaby

Change-Id: Icf097d7fd6691b4b9fd5487e0e0cf72028b80fc7
",git fetch https://review.opendev.org/openstack/devstack refs/changes/67/784367/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,6a5be762d4ce617ef842ad5ee63af1c894351ee5,create-wallaby,defaultbranch=stable/wallaby,,1,0
openstack%2Frequirements~stable%2Fvictoria~I7c7320507479facc65a4199ba6ca7c9cce28a0e8,openstack/requirements,stable/victoria,I7c7320507479facc65a4199ba6ca7c9cce28a0e8,update constraint for tripleo-common to new release 13.2.0,MERGED,2021-04-01 09:47:49.000000000,2021-04-01 18:31:50.000000000,2021-04-01 18:31:50.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-01 09:47:49.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/79d0fef146d5c12dbfab1124ce5b5e50a5741e9f', 'message': 'update constraint for tripleo-common to new release 13.2.0\n\nmeta: version: 13.2.0\nmeta: diff-start: -\nmeta: series: victoria\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Marios Andreou <marios@redhat.com>\nmeta: release:Commit: Marios Andreou <marios@redhat.com>\nmeta: release:Change-Id: Ibfee5879fb7a568009ea8b1b6216d5c0f72b210e\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I7c7320507479facc65a4199ba6ca7c9cce28a0e8\n'}]",0,784357,79d0fef146d5c12dbfab1124ce5b5e50a5741e9f,9,3,1,11131,,,0,"update constraint for tripleo-common to new release 13.2.0

meta: version: 13.2.0
meta: diff-start: -
meta: series: victoria
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Marios Andreou <marios@redhat.com>
meta: release:Commit: Marios Andreou <marios@redhat.com>
meta: release:Change-Id: Ibfee5879fb7a568009ea8b1b6216d5c0f72b210e
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I7c7320507479facc65a4199ba6ca7c9cce28a0e8
",git fetch https://review.opendev.org/openstack/requirements refs/changes/57/784357/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,79d0fef146d5c12dbfab1124ce5b5e50a5741e9f,new-release,tripleo-common===13.2.0,tripleo-common===13.1.0,1,1
openstack%2Frequirements~stable%2Fvictoria~I6430c387d6bb33541f01a75518726055f7c51670,openstack/requirements,stable/victoria,I6430c387d6bb33541f01a75518726055f7c51670,update constraint for os-net-config to new release 13.2.0,MERGED,2021-04-01 09:43:49.000000000,2021-04-01 18:31:45.000000000,2021-04-01 18:31:45.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-01 09:43:49.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b494ecbb39e4be7404c9051fe639f4af185275bb', 'message': 'update constraint for os-net-config to new release 13.2.0\n\nmeta: version: 13.2.0\nmeta: diff-start: -\nmeta: series: victoria\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Marios Andreou <marios@redhat.com>\nmeta: release:Commit: Marios Andreou <marios@redhat.com>\nmeta: release:Change-Id: Ibfee5879fb7a568009ea8b1b6216d5c0f72b210e\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I6430c387d6bb33541f01a75518726055f7c51670\n'}]",0,784355,b494ecbb39e4be7404c9051fe639f4af185275bb,9,3,1,11131,,,0,"update constraint for os-net-config to new release 13.2.0

meta: version: 13.2.0
meta: diff-start: -
meta: series: victoria
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Marios Andreou <marios@redhat.com>
meta: release:Commit: Marios Andreou <marios@redhat.com>
meta: release:Change-Id: Ibfee5879fb7a568009ea8b1b6216d5c0f72b210e
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I6430c387d6bb33541f01a75518726055f7c51670
",git fetch https://review.opendev.org/openstack/requirements refs/changes/55/784355/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,b494ecbb39e4be7404c9051fe639f4af185275bb,new-release,os-net-config===13.2.0,os-net-config===13.1.0,1,1
openstack%2Fbarbican~stable%2Fwallaby~I6879f566117db5ec0099ddad35ba649a3c674bd1,openstack/barbican,stable/wallaby,I6879f566117db5ec0099ddad35ba649a3c674bd1,Fix RBAC and ACL access for managing secret containers,MERGED,2021-04-01 15:02:27.000000000,2021-04-01 18:29:45.000000000,2021-04-01 18:28:17.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-01 15:02:27.000000000', 'files': ['barbican/api/controllers/containers.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/c8d3c580143282935de36e4a5a1708ee9242f7be', 'message': 'Fix RBAC and ACL access for managing secret containers\n\nThis patch adds the missing access control data to enforce access\ncontrol for adding/removing secrets in containers.\n\nChange-Id: I6879f566117db5ec0099ddad35ba649a3c674bd1\n(cherry picked from commit 922c68badaf5cc4b43862ab261119b68cdc68a37)\n'}]",0,784403,c8d3c580143282935de36e4a5a1708ee9242f7be,10,2,1,7973,,,0,"Fix RBAC and ACL access for managing secret containers

This patch adds the missing access control data to enforce access
control for adding/removing secrets in containers.

Change-Id: I6879f566117db5ec0099ddad35ba649a3c674bd1
(cherry picked from commit 922c68badaf5cc4b43862ab261119b68cdc68a37)
",git fetch https://review.opendev.org/openstack/barbican refs/changes/03/784403/1 && git format-patch -1 --stdout FETCH_HEAD,['barbican/api/controllers/containers.py'],1,c8d3c580143282935de36e4a5a1708ee9242f7be,secure-rbac," def get_acl_tuple(self, req, **kwargs): acl = self.get_acl_dict_for_user(req, self.container.container_acls) acl['project_id'] = self.container.project.external_id acl['creator_id'] = self.container.creator_id return ('container', acl) ",,6,0
openstack%2Fneutron~master~Ibd1caf34a5f707f5ae9ff5973860d4e8338ef224,openstack/neutron,master,Ibd1caf34a5f707f5ae9ff5973860d4e8338ef224,[OVN] External ports (SR-IOV) QoS is handled by SR-IOV agent,MERGED,2021-03-11 17:43:16.000000000,2021-04-01 18:29:35.000000000,2021-04-01 18:26:10.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32586}]","[{'number': 1, 'created': '2021-03-11 17:43:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f0f7945ae16222e36a295a4674549f7d856e4ad3', 'message': '[WIP][OVN] External ports (SR-IOV) QoS is handled by SR-IOV agent\n\nOVN QoS extension do not manage the external type ports (SR-IOV);\nthe port QoS policy of those ports is handled by the SR-IOV agent\nQoS extension.\n\nTODO: testing.\n\nChange-Id: Ibd1caf34a5f707f5ae9ff5973860d4e8338ef224\nCloses-Bug: #1918702\n'}, {'number': 2, 'created': '2021-03-12 08:01:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d4815fcdd18e7a4270d8eab760dabebfeed3bb5e', 'message': '[OVN] External ports (SR-IOV) QoS is handled by SR-IOV agent\n\nOVN QoS extension do not manage the external type ports (SR-IOV);\nthe port QoS policy of those ports is handled by the SR-IOV agent\nQoS extension.\n\nChange-Id: Ibd1caf34a5f707f5ae9ff5973860d4e8338ef224\nCloses-Bug: #1918702\n'}, {'number': 3, 'created': '2021-03-31 10:36:07.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/test_qos.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/qos.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f700660b6b11118fa80129a4ef20c3e091da988b', 'message': '[OVN] External ports (SR-IOV) QoS is handled by SR-IOV agent\n\nOVN QoS extension do not manage the external type ports (SR-IOV);\nthe port QoS policy of those ports is handled by the SR-IOV agent\nQoS extension.\n\nChange-Id: Ibd1caf34a5f707f5ae9ff5973860d4e8338ef224\nCloses-Bug: #1918702\n'}]",8,780054,f700660b6b11118fa80129a4ef20c3e091da988b,41,8,3,16688,,,0,"[OVN] External ports (SR-IOV) QoS is handled by SR-IOV agent

OVN QoS extension do not manage the external type ports (SR-IOV);
the port QoS policy of those ports is handled by the SR-IOV agent
QoS extension.

Change-Id: Ibd1caf34a5f707f5ae9ff5973860d4e8338ef224
Closes-Bug: #1918702
",git fetch https://review.opendev.org/openstack/neutron refs/changes/54/780054/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/qos.py']",2,f0f7945ae16222e36a295a4674549f7d856e4ad3,bug/1918702," def create_port(self, txn, port, port_type=None): self.update_port(txn, port, None, reset=True, port_type=port_type) def delete_port(self, txn, port, port_type=None): self.update_port(txn, port, None, delete=True, port_type=port_type) qos_rules=None, port_type=None): if port_type == ovn_const.LSP_TYPE_EXTERNAL: # External ports (SR-IOV) QoS is handled the SR-IOV agent QoS # extension. return "," def create_port(self, txn, port): self.update_port(txn, port, None, reset=True) def delete_port(self, txn, port): self.update_port(txn, port, None, delete=True) qos_rules=None):",19,8
openstack%2Fopenstack-ansible~master~I70db96557d24e55f7db93296413d75ac2b6713cd,openstack/openstack-ansible,master,I70db96557d24e55f7db93296413d75ac2b6713cd,Switch centos-8 distro jobs to centos-8-stream nodes,MERGED,2021-03-31 06:47:37.000000000,2021-04-01 18:25:51.000000000,2021-04-01 18:20:47.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-03-31 06:47:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5a5bf150caa4d5e7df3b2fefe7f1a135a2bb3e16', 'message': 'Switch centos-8 distro jobs to centos-8-stream nodes\n\nThe RDO packages now have dependancies on package versions only\navailable in centos-8 stream.\n\nChange-Id: I70db96557d24e55f7db93296413d75ac2b6713cd\n'}, {'number': 2, 'created': '2021-03-31 06:52:28.000000000', 'files': ['zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6ef1e89e398ef443af1eb4b924f6b5608747db1f', 'message': 'Switch centos-8 distro jobs to centos-8-stream nodes\n\nThe RDO packages now have dependancies on package versions only\navailable in centos-8 stream.\n\nChange-Id: I70db96557d24e55f7db93296413d75ac2b6713cd\n'}]",1,784009,6ef1e89e398ef443af1eb4b924f6b5608747db1f,19,3,2,25023,,,0,"Switch centos-8 distro jobs to centos-8-stream nodes

The RDO packages now have dependancies on package versions only
available in centos-8 stream.

Change-Id: I70db96557d24e55f7db93296413d75ac2b6713cd
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/09/784009/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml']",2,5a5bf150caa4d5e7df3b2fefe7f1a135a2bb3e16,,# centos 8 stream - job: name: openstack-ansible-deploy-aio_distro_lxc-centos-8-stream parent: openstack-ansible-deploy-aio-distro nodeset: centos-8-stream - job: name: openstack-ansible-deploy-aio_distro_ceph-centos-8-stream parent: openstack-ansible-deploy-aio-distro nodeset: centos-8-stream - job: name: openstack-ansible-deploy-aio_distro_metal-centos-8-stream parent: openstack-ansible-deploy-aio-distro nodeset: centos-8-stream , name: openstack-ansible-deploy-aio_distro_lxc-centos-8 parent: openstack-ansible-deploy-aio-distro nodeset: centos-8 - job: name: openstack-ansible-deploy-aio_distro_ceph-centos-8 parent: openstack-ansible-deploy-aio-distro nodeset: centos-8 - job: name: openstack-ansible-deploy-aio_distro_metal-centos-8 parent: openstack-ansible-deploy-aio-distro nodeset: centos-8 - job:,21,20
openstack%2Fironic-python-agent~stable%2Fvictoria~I4905c17d2e78ed02e9005ffbd93b036674e6ff51,openstack/ironic-python-agent,stable/victoria,I4905c17d2e78ed02e9005ffbd93b036674e6ff51,Make the virtual media job voting,ABANDONED,2021-04-01 18:08:34.000000000,2021-04-01 18:10:41.000000000,,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-01 18:08:34.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/3fcc4e2cffb4ecfa15dd7d76892b8235386ade7f', 'message': 'Make the virtual media job voting\n\nDepends-On: https://review.opendev.org/c/openstack/ironic/+/783722\nChange-Id: I4905c17d2e78ed02e9005ffbd93b036674e6ff51\n(cherry picked from commit 993f9a0ceb7a731677fccdce176f4faaea6ec116)\n'}]",0,784404,3fcc4e2cffb4ecfa15dd7d76892b8235386ade7f,4,2,1,11655,,,0,"Make the virtual media job voting

Depends-On: https://review.opendev.org/c/openstack/ironic/+/783722
Change-Id: I4905c17d2e78ed02e9005ffbd93b036674e6ff51
(cherry picked from commit 993f9a0ceb7a731677fccdce176f4faaea6ec116)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/04/784404/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,3fcc4e2cffb4ecfa15dd7d76892b8235386ade7f,vmedia-job-stable/victoria,"<<<<<<< HEAD (44694c Merge ""Add fstab pointer to EFI partition"" into stable/victo) ======= - ipa-tempest-uefi-redfish-vmedia-src >>>>>>> CHANGE (993f9a Make the virtual media job voting) - ipa-tempest-uefi-redfish-vmedia-src",,5,0
openstack%2Fcinder~master~I6824ba4fbcb6fd8f57f8ff86ad7132446ac6c504,openstack/cinder,master,I6824ba4fbcb6fd8f57f8ff86ad7132446ac6c504,LVM: Fix delete volume error due to lvs failure,MERGED,2021-03-29 14:44:04.000000000,2021-04-01 18:06:08.000000000,2021-04-01 17:58:41.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-29 14:44:04.000000000', 'files': ['cinder/brick/local_dev/lvm.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_api.py', 'releasenotes/notes/lvm-delete-error-f12da00c1b3859dc.yaml', 'cinder/tests/unit/brick/test_brick_lvm.py', 'cinder/volume/drivers/inspur/as13000/as13000_driver.py', 'cinder/tests/unit/test_utils.py', 'cinder/utils.py', 'cinder/volume/drivers/dell_emc/vnx/client.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0b2c0d9238b6f84a02fcd82f97bc5a2d9f681247', 'message': ""LVM: Fix delete volume error due to lvs failure\n\nSometimes we get an unexpected failure on the lvs command where it exits\nwith code 139, which is not one of the 5 predefined ones in the code\nECMD_PROCESSED, ENO_SUCH_CMD, EINVALID_CMD_LINE, EINIT_FAILED, or\nECMD_FAILED.\n\nWe've seen this happen mostly on CI jobs when deleting a volume, on the\ncheck to see if the volume is present (``_volume_not_present``) and\nmakes the whole operation unexpectedly fail.\n\nWhen looking at the logs we can find other instances of this same exit\ncode happening in other calls, but those are fortunately to be covered\nby retries for other unexpected errors such as bug #1335905 that seem to\nmake the call eventually succeed.\n\nThe stderr of the failure is polluted with debug and warning messages\nsuch as:\n\n  [1] /dev/sda1: stat failed: No such file or directory\n\n      This has been removed [2] from the LVM code indicating it's\n      somewhat troublesome, but doesn't explain how.\n\n  [3] Path /dev/sda1 no longer valid for device(8,1)\n\n  [4] WARNING: Scan ignoring device 8:0 with no paths.\n\nBut the real error is most likely:\n\n  [5]: Device open /dev/sda 8:0 failed errno 2\n\nOn failure we see that error twice, because the code retries it in LVM\ntrying to workaround some kind of unknown udev race [6].\n\nSince the LVM code indicates that a retry can help, we'll retry on error\n139 when calling ``get_lv_info``.\n\nTo narrow down the retry we'll only do it on error 139, so we modify the\nexisting ``retry`` decorator to accept the ``retry`` parameter (same as\nthe tenacity library) and create our own retry if the\nProcessExecutionError fails with a specific error.\n\nThis pattern seems better than blindly retrying all\nProcessExecutionError cases.\n\n[1]: https://github.com/lvmteam/lvm2/blob/17f5572bc972c932bcf62fc2bff3029268ae0109/lib/filters/filter-persistent.c#L132\n[2]: https://github.com/lvmteam/lvm2/commit/22c5467add88268554a7d163a26892166dbc3104\n[3]: https://github.com/lvmteam/lvm2/blob/b84a9927b78727efffbb257a61e9e95a648cdfab/lib/device/dev-cache.c#L1396-L1402\n[4]: https://github.com/lvmteam/lvm2/blob/b84a9927b78727efffbb257a61e9e95a648cdfab/lib/label/label.c#L798\n[5]: https://github.com/lvmteam/lvm2/blob/b84a9927b78727efffbb257a61e9e95a648cdfab/lib/label/label.c#L550\n[6]: https://github.com/lvmteam/lvm2/blob/b84a9927b78727efffbb257a61e9e95a648cdfab/lib/label/label.c#L562-L567\n\nCloses-Bug: #1901783\nChange-Id: I6824ba4fbcb6fd8f57f8ff86ad7132446ac6c504\n""}]",0,783660,0b2c0d9238b6f84a02fcd82f97bc5a2d9f681247,28,3,1,9535,,,0,"LVM: Fix delete volume error due to lvs failure

Sometimes we get an unexpected failure on the lvs command where it exits
with code 139, which is not one of the 5 predefined ones in the code
ECMD_PROCESSED, ENO_SUCH_CMD, EINVALID_CMD_LINE, EINIT_FAILED, or
ECMD_FAILED.

We've seen this happen mostly on CI jobs when deleting a volume, on the
check to see if the volume is present (``_volume_not_present``) and
makes the whole operation unexpectedly fail.

When looking at the logs we can find other instances of this same exit
code happening in other calls, but those are fortunately to be covered
by retries for other unexpected errors such as bug #1335905 that seem to
make the call eventually succeed.

The stderr of the failure is polluted with debug and warning messages
such as:

  [1] /dev/sda1: stat failed: No such file or directory

      This has been removed [2] from the LVM code indicating it's
      somewhat troublesome, but doesn't explain how.

  [3] Path /dev/sda1 no longer valid for device(8,1)

  [4] WARNING: Scan ignoring device 8:0 with no paths.

But the real error is most likely:

  [5]: Device open /dev/sda 8:0 failed errno 2

On failure we see that error twice, because the code retries it in LVM
trying to workaround some kind of unknown udev race [6].

Since the LVM code indicates that a retry can help, we'll retry on error
139 when calling ``get_lv_info``.

To narrow down the retry we'll only do it on error 139, so we modify the
existing ``retry`` decorator to accept the ``retry`` parameter (same as
the tenacity library) and create our own retry if the
ProcessExecutionError fails with a specific error.

This pattern seems better than blindly retrying all
ProcessExecutionError cases.

[1]: https://github.com/lvmteam/lvm2/blob/17f5572bc972c932bcf62fc2bff3029268ae0109/lib/filters/filter-persistent.c#L132
[2]: https://github.com/lvmteam/lvm2/commit/22c5467add88268554a7d163a26892166dbc3104
[3]: https://github.com/lvmteam/lvm2/blob/b84a9927b78727efffbb257a61e9e95a648cdfab/lib/device/dev-cache.c#L1396-L1402
[4]: https://github.com/lvmteam/lvm2/blob/b84a9927b78727efffbb257a61e9e95a648cdfab/lib/label/label.c#L798
[5]: https://github.com/lvmteam/lvm2/blob/b84a9927b78727efffbb257a61e9e95a648cdfab/lib/label/label.c#L550
[6]: https://github.com/lvmteam/lvm2/blob/b84a9927b78727efffbb257a61e9e95a648cdfab/lib/label/label.c#L562-L567

Closes-Bug: #1901783
Change-Id: I6824ba4fbcb6fd8f57f8ff86ad7132446ac6c504
",git fetch https://review.opendev.org/openstack/cinder refs/changes/60/783660/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/brick/local_dev/lvm.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_api.py', 'releasenotes/notes/lvm-delete-error-f12da00c1b3859dc.yaml', 'cinder/tests/unit/brick/test_brick_lvm.py', 'cinder/volume/drivers/inspur/as13000/as13000_driver.py', 'cinder/tests/unit/test_utils.py', 'cinder/utils.py', 'cinder/volume/drivers/dell_emc/vnx/client.py']",8,0b2c0d9238b6f84a02fcd82f97bc5a2d9f681247,lvm-not-found," @cinder_utils.retry(retry_param=const.VNXTargetNotReadyError,"," @cinder_utils.retry(exceptions=const.VNXTargetNotReadyError,",78,11
openstack%2Fneutron~master~Idba1cf4949f089deb9cc54a6648ec795c59a7377,openstack/neutron,master,Idba1cf4949f089deb9cc54a6648ec795c59a7377,Fix Floating IP policy rules,MERGED,2021-04-01 08:28:16.000000000,2021-04-01 18:05:47.000000000,2021-04-01 17:57:53.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-01 08:28:16.000000000', 'files': ['neutron/conf/policies/floatingip.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/dd6cd3fb8a0a1ed3b9d5bb2ecba8422433f657e8', 'message': 'Fix Floating IP policy rules\n\nDuring migration to the new secure API rules of the Floating IP API we\nmade some mistakes. This patch fixes it by:\n\n* allow SYSTEM_ADMIN to create floating IPs,\n* fix wrong name of the deprecated rule for update and delete floating\n  IP\n\nRelated-blueprint: bp/secure-rbac-roles\nChange-Id: Idba1cf4949f089deb9cc54a6648ec795c59a7377\n'}]",0,784206,dd6cd3fb8a0a1ed3b9d5bb2ecba8422433f657e8,16,5,1,11975,,,0,"Fix Floating IP policy rules

During migration to the new secure API rules of the Floating IP API we
made some mistakes. This patch fixes it by:

* allow SYSTEM_ADMIN to create floating IPs,
* fix wrong name of the deprecated rule for update and delete floating
  IP

Related-blueprint: bp/secure-rbac-roles
Change-Id: Idba1cf4949f089deb9cc54a6648ec795c59a7377
",git fetch https://review.opendev.org/openstack/neutron refs/changes/06/784206/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/conf/policies/floatingip.py'],1,dd6cd3fb8a0a1ed3b9d5bb2ecba8422433f657e8,secure-rbac," check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, name='update_floatingip', name='delete_floatingip',"," check_str=base.PROJECT_MEMBER, name='create_floatingip', name='create_floatingip',",3,3
openstack%2Fpython-openstackclient~master~Ie84f10c0f7aa2e7b7f78bfadc70132a10673866e,openstack/python-openstackclient,master,Ie84f10c0f7aa2e7b7f78bfadc70132a10673866e,Implements hide image,MERGED,2021-02-02 12:01:48.000000000,2021-04-01 18:05:26.000000000,2021-04-01 17:58:18.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-02-02 12:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f0b16c85078aafab8278e946af79882ca292a6fa', 'message': 'Implements hide image\n\nopenstack image set [--hidden|--unhidden] IMAGE\nopenstack image list --hidden\n\nTask: 41734\nStory: 2008581\nChange-Id: Ie84f10c0f7aa2e7b7f78bfadc70132a10673866e\n'}, {'number': 2, 'created': '2021-03-03 13:37:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e10bd2dca764a26a78d68212c621a72000847e98', 'message': 'Implements hide image\n\nopenstack image set [--hidden|--unhidden] IMAGE\nopenstack image list --hidden\n\nTask: 41734\nStory: 2008581\nChange-Id: Ie84f10c0f7aa2e7b7f78bfadc70132a10673866e\n'}, {'number': 3, 'created': '2021-03-22 16:30:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ade38504fbcd28ad391725278ee66e5291efdd9b', 'message': 'Implements hide image\n\nopenstack image set [--hidden|--unhidden] IMAGE\nopenstack image list --hidden\n\nTask: 41734\nStory: 2008581\nChange-Id: Ie84f10c0f7aa2e7b7f78bfadc70132a10673866e\n'}, {'number': 4, 'created': '2021-03-23 13:04:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/301cab4c5a30946c49a044f985fa47364d3357e5', 'message': 'Implements hide image\n\nopenstack image set [--hidden|--unhidden] IMAGE\nopenstack image list --hidden\n\nTask: 41734\nStory: 2008581\nChange-Id: Ie84f10c0f7aa2e7b7f78bfadc70132a10673866e\n'}, {'number': 5, 'created': '2021-03-23 14:45:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/67e62b3b135555c63f6dbd38680603fdd7aef206', 'message': 'Implements hide image\n\nopenstack image set [--hidden|--unhidden] IMAGE\nopenstack image list --hidden\n\nTask: 41734\nStory: 2008581\nChange-Id: Ie84f10c0f7aa2e7b7f78bfadc70132a10673866e\n'}, {'number': 6, 'created': '2021-03-23 16:24:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a4d1ea6a8afd1aa022254a7ab9459b709337922d', 'message': 'Implements hide image\n\nopenstack image set [--hidden|--unhidden] IMAGE\nopenstack image list --hidden\n\nTask: 41734\nStory: 2008581\nChange-Id: Ie84f10c0f7aa2e7b7f78bfadc70132a10673866e\n'}, {'number': 7, 'created': '2021-03-24 14:23:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/13e998b3aa44b59fe143437d44c91ab56f165477', 'message': 'Implements hide image\n\nopenstack image set [--hidden|--unhidden] IMAGE\nopenstack image list --hidden\n\nTask: 41734\nStory: 2008581\nChange-Id: Ie84f10c0f7aa2e7b7f78bfadc70132a10673866e\n'}, {'number': 8, 'created': '2021-03-24 14:35:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d085e4a80f7aba091838ab6db9f6c8b0750e7700', 'message': 'Implements hide image\n\nopenstack image set [--hidden|--unhidden] IMAGE\nopenstack image list --hidden\n\nTask: 41734\nStory: 2008581\nChange-Id: Ie84f10c0f7aa2e7b7f78bfadc70132a10673866e\n'}, {'number': 9, 'created': '2021-03-24 17:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/03e7b375960252ef3283ddbc0d68e0c308372178', 'message': 'Implements hide image\n\nopenstack image set [--hidden|--unhidden] IMAGE\nopenstack image list --hidden\n\nTask: 41734\nStory: 2008581\nChange-Id: Ie84f10c0f7aa2e7b7f78bfadc70132a10673866e\n'}, {'number': 10, 'created': '2021-03-25 07:57:42.000000000', 'files': ['openstackclient/tests/unit/image/v2/test_image.py', 'releasenotes/notes/implements-hide-image-4c726a61c336ebaa.yaml', 'openstackclient/image/v2/image.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/383289edd8ea222ce1a6e77ed0298ecdb21608a1', 'message': 'Implements hide image\n\nopenstack image set [--hidden|--unhidden] IMAGE\nopenstack image list --hidden\n\nTask: 41734\nStory: 2008581\nChange-Id: Ie84f10c0f7aa2e7b7f78bfadc70132a10673866e\n'}]",11,773649,383289edd8ea222ce1a6e77ed0298ecdb21608a1,45,3,10,7654,,,0,"Implements hide image

openstack image set [--hidden|--unhidden] IMAGE
openstack image list --hidden

Task: 41734
Story: 2008581
Change-Id: Ie84f10c0f7aa2e7b7f78bfadc70132a10673866e
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/49/773649/5 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/image/v2/image.py'],1,f0b16c85078aafab8278e946af79882ca292a6fa,task/41734," '--hidden', action='store_true', default=False, help=_('List hidden images'), ) parser.add_argument( if parsed_args.hidden: kwargs['os_hidden'] = True hidden_group = parser.add_mutually_exclusive_group() hidden_group.add_argument( ""--hidden"", action=""store_true"", help=_(""Hide the image""), ) hidden_group.add_argument( ""--unhidden"", action=""store_true"", help=_(""Unhide the image""), ) if parsed_args.hidden: kwargs['os_hidden'] = True if parsed_args.unhidden: kwargs['os_hidden'] = False ",,25,0
openstack%2Fpuppet-designate~stable%2Fussuri~Ief63f88ba323e3f20300b8ff6a5148a78413ac3d,openstack/puppet-designate,stable/ussuri,Ief63f88ba323e3f20300b8ff6a5148a78413ac3d,Add designate::db::postgresql class.,MERGED,2021-03-19 14:55:53.000000000,2021-04-01 17:57:04.000000000,2021-04-01 17:55:43.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-19 14:55:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/95799c3734bf0287ca809af12c221a4807451401', 'message': 'Add designate::db::postgresql class.\n\nThis allows Designate to be used with PostgreSQL.\n\nChange-Id: Ief63f88ba323e3f20300b8ff6a5148a78413ac3d\n(cherry picked from commit fd43d18c0f83c3401c7908fa60f160e4ae7ab4a2\nwith modifications to accomodate for password_hash function later\nremoved via https://review.opendev.org/c/openstack/puppet-openstacklib/+/728595)\n'}, {'number': 2, 'created': '2021-03-30 13:14:33.000000000', 'files': ['manifests/db/postgresql.pp', 'spec/classes/designate_db_postgresql_spec.rb', 'releasenotes/notes/postgresql-441cce8804597ce3.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/71b25d083e97caa32f0ab6c7adef4fb9344040c1', 'message': 'Add designate::db::postgresql class.\n\nThis allows Designate to be used with PostgreSQL.\n\nBackport note:\nThis backport includes modifications to accomodate for password_hash\nfunction removed during Victoria cycle[1].\n\n[1] https://review.opendev.org/728595\n\nChange-Id: Ief63f88ba323e3f20300b8ff6a5148a78413ac3d\n(cherry picked from commit fd43d18c0f83c3401c7908fa60f160e4ae7ab4a2)\n(cherry picked from commit 47e3e4132fbdf046c0d1f8dcfe1dd2b08b73778f)\n'}]",1,781756,71b25d083e97caa32f0ab6c7adef4fb9344040c1,17,4,2,32755,,,0,"Add designate::db::postgresql class.

This allows Designate to be used with PostgreSQL.

Backport note:
This backport includes modifications to accomodate for password_hash
function removed during Victoria cycle[1].

[1] https://review.opendev.org/728595

Change-Id: Ief63f88ba323e3f20300b8ff6a5148a78413ac3d
(cherry picked from commit fd43d18c0f83c3401c7908fa60f160e4ae7ab4a2)
(cherry picked from commit 47e3e4132fbdf046c0d1f8dcfe1dd2b08b73778f)
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/56/781756/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/db/postgresql.pp', 'spec/classes/designate_db_postgresql_spec.rb', 'releasenotes/notes/postgresql-441cce8804597ce3.yaml']",3,95799c3734bf0287ca809af12c221a4807451401,postgresql-ussuri,--- features: - | Add support for PostgreSQL database backend via designate::db::postgresql ,,97,0
openstack%2Fkayobe~master~Ieb2b7ff07cd43029399e9e19002b82940246f8c4,openstack/kayobe,master,Ieb2b7ff07cd43029399e9e19002b82940246f8c4,Detect multiple inventories automatically,MERGED,2021-02-02 16:04:09.000000000,2021-04-01 17:54:10.000000000,2021-04-01 17:51:26.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28048}]","[{'number': 1, 'created': '2021-02-02 16:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/772f85e376450004386d82d8106e12971148147d', 'message': 'Detect multiple inventories automatically\n\nWhen inventory arguments are not passed but an environment is specified,\ndetect if there are inventory directories present in the shared Kayobe\nconfiguration directory and in the environment directory. Using\nos.path.exists() is sufficient because we validate these paths later\nwith utils.is_readable_dir().\n\nChange-Id: Ieb2b7ff07cd43029399e9e19002b82940246f8c4\nStory: 2002009\nTask: 41739\n'}, {'number': 2, 'created': '2021-03-09 15:16:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a7a50d2ac37a779285315038cbcc1204944f6c44', 'message': 'Detect multiple inventories automatically\n\nWhen inventory arguments are not passed but an environment is specified,\ndetect if there are inventory directories present in the shared Kayobe\nconfiguration directory and in the environment directory. Using\nos.path.exists() is sufficient because we validate these paths later\nwith utils.is_readable_dir().\n\nChange-Id: Ieb2b7ff07cd43029399e9e19002b82940246f8c4\nStory: 2002009\nTask: 41739\n'}, {'number': 3, 'created': '2021-03-15 14:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3f475638c77aee08b75770fdab3aee65923f5c0d', 'message': 'Detect multiple inventories automatically\n\nWhen inventory arguments are not passed but an environment is specified,\ndetect if there are inventory directories present in the shared Kayobe\nconfiguration directory and in the environment directory. Using\nos.path.exists() is sufficient because we validate these paths later\nwith utils.is_readable_dir().\n\nChange-Id: Ieb2b7ff07cd43029399e9e19002b82940246f8c4\nStory: 2002009\nTask: 41739\n'}, {'number': 4, 'created': '2021-03-31 14:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/70e9a2cacfc9ea594b552a730417ff10e5e99b1f', 'message': 'Detect multiple inventories automatically\n\nWhen inventory arguments are not passed but an environment is specified,\ndetect if there are inventory directories present in the shared Kayobe\nconfiguration directory and in the environment directory. Using\nos.path.exists() is sufficient because we validate these paths later\nwith utils.is_readable_dir().\n\nChange-Id: Ieb2b7ff07cd43029399e9e19002b82940246f8c4\nStory: 2002009\nTask: 41739\n'}, {'number': 5, 'created': '2021-03-31 15:01:48.000000000', 'files': ['kayobe/ansible.py', 'kayobe/tests/unit/test_ansible.py'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ea54f822999e6bc43e195f38cfd66caf05fc10ef', 'message': 'Detect multiple inventories automatically\n\nWhen inventory arguments are not passed but an environment is specified,\ndetect if there are inventory directories present in the shared Kayobe\nconfiguration directory and in the environment directory. Using\nos.path.exists() is sufficient because we validate these paths later\nwith utils.is_readable_dir().\n\nChange-Id: Ieb2b7ff07cd43029399e9e19002b82940246f8c4\nStory: 2002009\nTask: 41739\n'}]",3,773719,ea54f822999e6bc43e195f38cfd66caf05fc10ef,24,4,5,15197,,,0,"Detect multiple inventories automatically

When inventory arguments are not passed but an environment is specified,
detect if there are inventory directories present in the shared Kayobe
configuration directory and in the environment directory. Using
os.path.exists() is sufficient because we validate these paths later
with utils.is_readable_dir().

Change-Id: Ieb2b7ff07cd43029399e9e19002b82940246f8c4
Story: 2002009
Task: 41739
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/19/773719/5 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/ansible.py', 'kayobe/tests/unit/test_ansible.py']",2,772f85e376450004386d82d8106e12971148147d,multiple-environments," @mock.patch.object(os.path, ""exists"") @mock.patch.object(utils, ""run_command"") @mock.patch.object(ansible, ""_get_vars_files"") @mock.patch.object(ansible, ""_validate_args"") def test_multiple_inventories(self, mock_validate, mock_vars, mock_run, mock_exists): mock_vars.return_value = [] # os.path.exists gets called three times: # 1) shared inventory # 2) environment inventory # 3) ansible.cfg mock_exists.side_effect = [True, True, False] parser = argparse.ArgumentParser() ansible.add_args(parser) vault.add_args(parser) args = [ ""--environment"", ""test-env"", ] parsed_args = parser.parse_args(args) ansible.run_playbooks(parsed_args, [""playbook1.yml"", ""playbook2.yml""]) expected_cmd = [ ""ansible-playbook"", ""--inventory"", ""/etc/kayobe/inventory"", ""--inventory"", ""/etc/kayobe/environments/test-env/inventory"", ""playbook1.yml"", ""playbook2.yml"", ] expected_env = {""KAYOBE_CONFIG_PATH"": ""/etc/kayobe"", ""KAYOBE_ENVIRONMENT"": ""test-env""} expected_calls = [ mock.call(""/etc/kayobe/inventory""), mock.call(""/etc/kayobe/environments/test-env/inventory""), mock.call(""/etc/kayobe/ansible.cfg""), ] self.assertEqual(expected_calls, mock_exists.mock_calls) mock_run.assert_called_once_with(expected_cmd, check_output=False, quiet=False, env=expected_env) mock_vars.assert_called_once_with( [""/etc/kayobe"", ""/etc/kayobe/environments/test-env""]) @mock.patch.object(os.path, ""exists"") @mock.patch.object(utils, ""run_command"") @mock.patch.object(ansible, ""_get_vars_files"") @mock.patch.object(ansible, ""_validate_args"") def test_shared_inventory_only(self, mock_validate, mock_vars, mock_run, mock_exists): mock_vars.return_value = [] # os.path.exists gets called three times: # 1) shared inventory # 2) environment inventory # 3) ansible.cfg mock_exists.side_effect = [True, False, False] parser = argparse.ArgumentParser() ansible.add_args(parser) vault.add_args(parser) args = [ ""--environment"", ""test-env"", ] parsed_args = parser.parse_args(args) ansible.run_playbooks(parsed_args, [""playbook1.yml"", ""playbook2.yml""]) expected_cmd = [ ""ansible-playbook"", ""--inventory"", ""/etc/kayobe/inventory"", ""playbook1.yml"", ""playbook2.yml"", ] expected_env = {""KAYOBE_CONFIG_PATH"": ""/etc/kayobe"", ""KAYOBE_ENVIRONMENT"": ""test-env""} expected_calls = [ mock.call(""/etc/kayobe/inventory""), mock.call(""/etc/kayobe/environments/test-env/inventory""), mock.call(""/etc/kayobe/ansible.cfg""), ] self.assertEqual(expected_calls, mock_exists.mock_calls) mock_run.assert_called_once_with(expected_cmd, check_output=False, quiet=False, env=expected_env) mock_vars.assert_called_once_with( [""/etc/kayobe"", ""/etc/kayobe/environments/test-env""]) @mock.patch.object(os.path, ""exists"") @mock.patch.object(utils, ""run_command"") @mock.patch.object(ansible, ""_get_vars_files"") @mock.patch.object(ansible, ""_validate_args"") def test_env_inventory_only(self, mock_validate, mock_vars, mock_run, mock_exists): mock_vars.return_value = [] # os.path.exists gets called three times: # 1) shared inventory # 2) environment inventory # 3) ansible.cfg mock_exists.side_effect = [False, True, False] parser = argparse.ArgumentParser() ansible.add_args(parser) vault.add_args(parser) args = [ ""--environment"", ""test-env"", ] parsed_args = parser.parse_args(args) ansible.run_playbooks(parsed_args, [""playbook1.yml"", ""playbook2.yml""]) expected_cmd = [ ""ansible-playbook"", ""--inventory"", ""/etc/kayobe/environments/test-env/inventory"", ""playbook1.yml"", ""playbook2.yml"", ] expected_env = {""KAYOBE_CONFIG_PATH"": ""/etc/kayobe"", ""KAYOBE_ENVIRONMENT"": ""test-env""} expected_calls = [ mock.call(""/etc/kayobe/inventory""), mock.call(""/etc/kayobe/environments/test-env/inventory""), mock.call(""/etc/kayobe/ansible.cfg""), ] self.assertEqual(expected_calls, mock_exists.mock_calls) mock_run.assert_called_once_with(expected_cmd, check_output=False, quiet=False, env=expected_env) mock_vars.assert_called_once_with( [""/etc/kayobe"", ""/etc/kayobe/environments/test-env""])",,131,2
openstack%2Fkayobe~master~I2f33bda5f2f84bbbb0f40240d2575a0b69ddceea,openstack/kayobe,master,I2f33bda5f2f84bbbb0f40240d2575a0b69ddceea,Add a command to create a new Kayobe environment,MERGED,2021-01-13 09:40:37.000000000,2021-04-01 17:52:51.000000000,2021-04-01 17:51:03.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2021-01-13 09:40:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/23400fcc849f1dbf4f39bb5e8deb4b1bfd1931f9', 'message': 'Add a command to create a new Kayobe environment\n\nChange-Id: I2f33bda5f2f84bbbb0f40240d2575a0b69ddceea\n'}, {'number': 2, 'created': '2021-01-13 09:41:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c16da89b64438c484d43da0f9e23ef2a3f1c004a', 'message': 'Add a command to create a new Kayobe environment\n\nChange-Id: I2f33bda5f2f84bbbb0f40240d2575a0b69ddceea\nStory: 2002009\nTask: 40037\n'}, {'number': 3, 'created': '2021-01-13 09:50:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7eb2e0b22a90b56a064f8e9b433a987165a4f804', 'message': 'Add a command to create a new Kayobe environment\n\nChange-Id: I2f33bda5f2f84bbbb0f40240d2575a0b69ddceea\nStory: 2002009\nTask: 40038\n'}, {'number': 4, 'created': '2021-01-13 12:27:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3c5257edcacdb0f891ddd930d80fdbcde19e0aff', 'message': 'Add a command to create a new Kayobe environment\n\nChange-Id: I2f33bda5f2f84bbbb0f40240d2575a0b69ddceea\nStory: 2002009\nTask: 40038\n'}, {'number': 5, 'created': '2021-03-09 15:16:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3899cbe625f5dca4e0dd42013f426e69b164bb50', 'message': 'Add a command to create a new Kayobe environment\n\nChange-Id: I2f33bda5f2f84bbbb0f40240d2575a0b69ddceea\nStory: 2002009\nTask: 40038\n'}, {'number': 6, 'created': '2021-03-15 14:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ea61d8aeb54cfd3b1cca57b6c18c11aa22e8bf8c', 'message': 'Add a command to create a new Kayobe environment\n\nChange-Id: I2f33bda5f2f84bbbb0f40240d2575a0b69ddceea\nStory: 2002009\nTask: 40038\n'}, {'number': 7, 'created': '2021-03-31 14:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ccdec3bea5452fe753aa6cf0881b71bbc6cbdcb4', 'message': 'Add a command to create a new Kayobe environment\n\nChange-Id: I2f33bda5f2f84bbbb0f40240d2575a0b69ddceea\nStory: 2002009\nTask: 40038\n'}, {'number': 8, 'created': '2021-03-31 15:01:48.000000000', 'files': ['kayobe/tests/unit/test_environment.py', 'kayobe/cli/commands.py', 'kayobe/utils.py', 'setup.cfg', 'kayobe/environment.py'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/2bc568debb2a6f7d3e0b28e1568b5f27eded27d3', 'message': 'Add a command to create a new Kayobe environment\n\nChange-Id: I2f33bda5f2f84bbbb0f40240d2575a0b69ddceea\nStory: 2002009\nTask: 40038\n'}]",6,770553,2bc568debb2a6f7d3e0b28e1568b5f27eded27d3,25,3,8,15197,,,0,"Add a command to create a new Kayobe environment

Change-Id: I2f33bda5f2f84bbbb0f40240d2575a0b69ddceea
Story: 2002009
Task: 40038
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/53/770553/7 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/ansible.py', 'kayobe/cli/commands.py', 'kayobe/utils.py', 'setup.cfg']",4,23400fcc849f1dbf4f39bb5e8deb4b1bfd1931f9,multiple-environments, environment_create = kayobe.cli.commands:EnvironmentCreate,,93,0
openstack%2Fpatrole~master~Ibbb1000d633372e2ca37b306fec3c284059905ba,openstack/patrole,master,Ibbb1000d633372e2ca37b306fec3c284059905ba,Add release notes page for version 0.12.0,MERGED,2021-04-01 14:45:18.000000000,2021-04-01 17:49:01.000000000,2021-04-01 17:46:06.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-01 14:45:18.000000000', 'files': ['releasenotes/source/v0.12.0.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/patrole/commit/43bf0d78b469e59e44592329b897392346a684d7', 'message': 'Add release notes page for version 0.12.0\n\nPatrole 0.12.0 has been released [1].\nThis commit adds a new page for 0.12.0 release notes.\n\n[1] https://review.opendev.org/c/openstack/releases/+/783115\n\nChange-Id: Ibbb1000d633372e2ca37b306fec3c284059905ba\n'}]",0,784430,43bf0d78b469e59e44592329b897392346a684d7,7,2,1,22873,,,0,"Add release notes page for version 0.12.0

Patrole 0.12.0 has been released [1].
This commit adds a new page for 0.12.0 release notes.

[1] https://review.opendev.org/c/openstack/releases/+/783115

Change-Id: Ibbb1000d633372e2ca37b306fec3c284059905ba
",git fetch https://review.opendev.org/openstack/patrole refs/changes/30/784430/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/v0.12.0.rst', 'releasenotes/source/index.rst']",2,43bf0d78b469e59e44592329b897392346a684d7,, v0.12.0,,7,0
openstack%2Fpatrole~master~I123cf4ad83abcbf883ac33bfb376470e71dc8ae6,openstack/patrole,master,I123cf4ad83abcbf883ac33bfb376470e71dc8ae6,Add release notes page for version 0.11.0,MERGED,2021-04-01 14:45:18.000000000,2021-04-01 17:44:35.000000000,2021-04-01 17:42:54.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-01 14:45:18.000000000', 'files': ['releasenotes/source/v0.11.0.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/patrole/commit/ff6c9e8815e8822b6dc4e1a928e01556dc3bcdc3', 'message': 'Add release notes page for version 0.11.0\n\nPatrole 0.11.0 has been released [1].\nThis commit adds a new page for 0.11.0 release notes.\n\n[1] https://review.opendev.org/c/openstack/releases/+/767164\n\nChange-Id: I123cf4ad83abcbf883ac33bfb376470e71dc8ae6\n'}]",0,784429,ff6c9e8815e8822b6dc4e1a928e01556dc3bcdc3,7,2,1,22873,,,0,"Add release notes page for version 0.11.0

Patrole 0.11.0 has been released [1].
This commit adds a new page for 0.11.0 release notes.

[1] https://review.opendev.org/c/openstack/releases/+/767164

Change-Id: I123cf4ad83abcbf883ac33bfb376470e71dc8ae6
",git fetch https://review.opendev.org/openstack/patrole refs/changes/29/784429/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/v0.11.0.rst', 'releasenotes/source/index.rst']",2,ff6c9e8815e8822b6dc4e1a928e01556dc3bcdc3,, v0.11.0,,7,0
openstack%2Fironic-python-agent~stable%2Ftrain~Ie5b6e0abc3f266409562f9ecb26538126b667056,openstack/ironic-python-agent,stable/train,Ie5b6e0abc3f266409562f9ecb26538126b667056,Mount all vfat partitions before calling grub2,MERGED,2021-03-25 00:41:49.000000000,2021-04-01 17:41:26.000000000,2021-04-01 17:34:19.000000000,"[{'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-03-25 00:41:49.000000000', 'files': ['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/8419c6d3f10942a076a3d287f01977dd6129ffff', 'message': 'Mount all vfat partitions before calling grub2\n\nIn order to ensure grub2 finds all files it needs, mount all\nvfat partitions specified in the deployed image.\n\nStory: #2007618\nTask: #39629\nChange-Id: Ie5b6e0abc3f266409562f9ecb26538126b667056\n(cherry picked from commit c5022790b3dca80c009e914aa07f3f879cd159b4)\n'}]",0,782883,8419c6d3f10942a076a3d287f01977dd6129ffff,9,4,1,4571,,,0,"Mount all vfat partitions before calling grub2

In order to ensure grub2 finds all files it needs, mount all
vfat partitions specified in the deployed image.

Story: #2007618
Task: #39629
Change-Id: Ie5b6e0abc3f266409562f9ecb26538126b667056
(cherry picked from commit c5022790b3dca80c009e914aa07f3f879cd159b4)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/83/782883/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py']",2,8419c6d3f10942a076a3d287f01977dd6129ffff,fstab-train," # Add /bin to PATH variable as grub requires it to find efibootmgr # when running in uefi boot mode. # Add /usr/sbin to PATH variable to ensure it is there as we do # not use full path to grub binary anymore. path_variable = os.environ.get('PATH', '') path_variable = '%s:/bin:/usr/sbin:/sbin' % path_variable # Mount all vfat partitions listed in the fstab of the root partition. # This is to make sure grub2 finds all files it needs, as some of them # may not be inside the root partition but in the ESP (like grub2env). LOG.debug(""Mounting all partitions inside the image ..."") utils.execute('chroot %(path)s /bin/sh -c ""mount -a -t vfat""' % {'path': path}, shell=True, env_variables={'PATH': path_variable}) # Umount the vfat partitions we may have mounted LOG.debug(""Unmounting all partitions inside the image ..."") try: utils.execute('chroot %(path)s /bin/sh -c ""umount -a -t vfat""' % {'path': path}, shell=True, env_variables={'PATH': path_variable}) except processutils.ProcessExecutionError as e: LOG.warning(""Unable to umount vfat partitions. Error: %(error)s"", {'error': e}) "," # Add /bin to PATH variable as grub requires it to find efibootmgr # when running in uefi boot mode. # Add /usr/sbin to PATH variable to ensure it is there as we do # not use full path to grub binary anymore. path_variable = os.environ.get('PATH', '') path_variable = '%s:/bin:/usr/sbin' % path_variable",78,16
openstack%2Fkuryr-kubernetes~master~I93bbe01c156bb3d77f9155d5db34be4bc2faa9fe,openstack/kuryr-kubernetes,master,I93bbe01c156bb3d77f9155d5db34be4bc2faa9fe,Update container images used on the docs,MERGED,2021-03-31 08:44:42.000000000,2021-04-01 17:39:37.000000000,2021-04-01 17:34:39.000000000,"[{'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 27032}, {'_account_id': 32533}]","[{'number': 1, 'created': '2021-03-31 08:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d6dad09c8fb1ce19e9e928d336a1cbdf73f409c9', 'message': ' #1920022 [DOCS] Update container images used on the docs\n\nChange-Id: I93bbe01c156bb3d77f9155d5db34be4bc2faa9fe\n'}, {'number': 2, 'created': '2021-03-31 11:46:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4feb4c4afec661f927baeeede7034ab293a3fd2d', 'message': ' #1920022 [DOCS] Update container images used on the docs\n\nChange-Id: I93bbe01c156bb3d77f9155d5db34be4bc2faa9fe\n'}, {'number': 3, 'created': '2021-03-31 14:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a575f0de06c0a51f7596d5eb98b409ecd1314ff5', 'message': ' #1920022 [DOCS] Update container images used on the docs\n\nChange-Id: I93bbe01c156bb3d77f9155d5db34be4bc2faa9fe\n'}, {'number': 4, 'created': '2021-04-01 05:02:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/435022952939251fd2dfed523696e1c690a50fbb', 'message': '  Update container images used on the docs\n\nWith the new docker download rate limitation, we should update Kuryr-kubernetes documentation to move from celebdor/kuryr-demo container image to quay.io/kuryr/demo.\ncloses-bug: 1920022\n\nChange-Id: I93bbe01c156bb3d77f9155d5db34be4bc2faa9fe\n'}, {'number': 5, 'created': '2021-04-01 05:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9fdd861288b45957f44dfc28ade1ffac59791e31', 'message': 'Update container images used on the docs\n\nWith the new docker download rate limitation, we should update Kuryr-kubernetes documentation to move from celebdor/kuryr-demo container image to quay.io/kuryr/demo.\n\ncloses-bug: 1920022\n\nChange-Id: I93bbe01c156bb3d77f9155d5db34be4bc2faa9fe\n'}, {'number': 6, 'created': '2021-04-01 06:43:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d16f5c26a1c32bb2a9b87ce53879db1706b6affc', 'message': 'Update container images used on the docs\n\nWith the new docker download rate limitation, we should update Kuryr-kubernetes documentation to move from celebdor/kuryr-demo container image to quay.io/kuryr/demo.\n\ncloses-bug: 1920022\n\nChange-Id: I93bbe01c156bb3d77f9155d5db34be4bc2faa9fe\n'}, {'number': 7, 'created': '2021-04-01 06:45:48.000000000', 'files': ['doc/source/installation/testing_connectivity.rst', 'doc/source/installation/testing_nested_connectivity.rst', 'contrib/pools-management/README.rst'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3918e87e40aea6b62925e20e97715a8d90749cc3', 'message': 'Update container images used on the docs\n\nWith the new docker download rate limitation, we should update Kuryr-kubernetes documentation to move from celebdor/kuryr-demo container image to quay.io/kuryr/demo.\n\ncloses-bug: 1920022\n\nChange-Id: I93bbe01c156bb3d77f9155d5db34be4bc2faa9fe\n'}]",2,784029,3918e87e40aea6b62925e20e97715a8d90749cc3,26,4,7,33240,,,0,"Update container images used on the docs

With the new docker download rate limitation, we should update Kuryr-kubernetes documentation to move from celebdor/kuryr-demo container image to quay.io/kuryr/demo.

closes-bug: 1920022

Change-Id: I93bbe01c156bb3d77f9155d5db34be4bc2faa9fe
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/29/784029/6 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/installation/testing_connectivity.rst', 'doc/source/installation/testing_nested_connectivity.rst']",2,d6dad09c8fb1ce19e9e928d336a1cbdf73f409c9,bug/1920022, $ kubectl create deployment demo --image=quay.io/kuryr/demo, $ kubectl create deployment demo --image=celebdor/kuryr-demo,2,2
openstack%2Fironic-python-agent~stable%2Ftrain~I9c10bf05186dcebb37f175d61bf4ac9ff86b6510,openstack/ironic-python-agent,stable/train,I9c10bf05186dcebb37f175d61bf4ac9ff86b6510,Refactor part of image module,MERGED,2021-03-25 00:41:49.000000000,2021-04-01 17:39:28.000000000,2021-04-01 17:34:16.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-03-25 00:41:49.000000000', 'files': ['ironic_python_agent/extensions/image.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/83932952c18dbe347c81e91d5525d13ca567a419', 'message': 'Refactor part of image module\n\nShuffle some functions around and reduce size of _is_bootloader_loaded\nmoving logic out to a new function.\n\nChange-Id: I9c10bf05186dcebb37f175d61bf4ac9ff86b6510\n(cherry picked from commit 9d9a6bce5c246d18d50dc405265e865fb77142eb)\n(cherry picked from commit d0f69e9948bf81d338bbc7c84711263fbd937598)\n'}]",0,782882,83932952c18dbe347c81e91d5525d13ca567a419,9,4,1,4571,,,0,"Refactor part of image module

Shuffle some functions around and reduce size of _is_bootloader_loaded
moving logic out to a new function.

Change-Id: I9c10bf05186dcebb37f175d61bf4ac9ff86b6510
(cherry picked from commit 9d9a6bce5c246d18d50dc405265e865fb77142eb)
(cherry picked from commit d0f69e9948bf81d338bbc7c84711263fbd937598)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/82/782882/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/extensions/image.py'],1,83932952c18dbe347c81e91d5525d13ca567a419,fstab-train,"def _has_boot_sector(device): """"""Checks the device for a boot sector indicator."""""" stdout, stderr = utils.execute('file', '-s', device) if 'boot sector' not in stdout: return False else: # Now lets check the signature ddout, dderr = utils.execute( 'dd', 'if=%s' % device, 'bs=218', 'count=1', binary=True) stdout, stderr = utils.execute('file', '-', process_input=ddout) # The bytes recovered by dd show as a ""dos executable"" when # examined with file. In other words, the bootloader is present. if 'executable' in stdout: return True return False def _find_bootable_device(partitions, dev): """"""Checks the base device and partition for bootloader contents."""""" LOG.debug('Looking for a bootable device in %s', dev) for line in partitions.splitlines(): partition = line.split(':') try: if 'boot' in partition[6]: if _has_boot_sector(dev) or _has_boot_sector(partition[0]): return True except IndexError: continue return False return _find_bootable_device(stdout, dev)"," def _has_boot_sector(device): """"""Check the device for a boot sector indiator."""""" stdout, stderr = utils.execute('file', '-s', device) if 'boot sector' in stdout: # Now lets check the signature ddout, dderr = utils.execute( 'dd', 'if=%s' % device, 'bs=218', 'count=1', binary=True) stdout, stderr = utils.execute('file', '-', process_input=ddout) # The bytes recovered by dd show as a ""dos executable"" when # examined with file. In other words, the bootloader is present. if 'executable' in stdout: return True return False lines = stdout.splitlines() for line in lines: partition = line.split(':') try: # Find the bootable device, and check the base # device and partition for bootloader contents. if 'boot' in partition[6]: if (_has_boot_sector(dev) or _has_boot_sector(partition[0])): return True except IndexError: continue return False",32,27
openstack%2Fpbr~master~I848e2c0972c3def9e67ff954eb17c560e474e8cf,openstack/pbr,master,I848e2c0972c3def9e67ff954eb17c560e474e8cf,Prevent test failure due to use of setpref,MERGED,2021-04-01 08:14:07.000000000,2021-04-01 17:29:11.000000000,2021-04-01 17:27:37.000000000,"[{'_account_id': 5263}, {'_account_id': 8556}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-04-01 08:14:07.000000000', 'files': ['pbr/tests/test_packaging.py'], 'web_link': 'https://opendev.org/openstack/pbr/commit/45e0cc2bbc2a7a1bdecb68f17a83726aa843f1f4', 'message': ""Prevent test failure due to use of setpref\n\nThis fixes a bug that prevented successful test gpg key creation on\nsome machines.\n\ngpg: invalid item '(setpref)' in preference string\n\nBug: #1627102\nChange-Id: I848e2c0972c3def9e67ff954eb17c560e474e8cf\n""}]",0,784204,45e0cc2bbc2a7a1bdecb68f17a83726aa843f1f4,12,5,1,24162,,,0,"Prevent test failure due to use of setpref

This fixes a bug that prevented successful test gpg key creation on
some machines.

gpg: invalid item '(setpref)' in preference string

Bug: #1627102
Change-Id: I848e2c0972c3def9e67ff954eb17c560e474e8cf
",git fetch https://review.opendev.org/openstack/pbr refs/changes/04/784204/1 && git format-patch -1 --stdout FETCH_HEAD,['pbr/tests/test_packaging.py'],1,45e0cc2bbc2a7a1bdecb68f17a83726aa843f1f4,,, Preferences: (setpref),0,1
openstack%2Foctavia~master~Ic63929d8864e5285baf70dd85e6362988bf2863f,openstack/octavia,master,Ic63929d8864e5285baf70dd85e6362988bf2863f,Fix weighted round-robin about UDP and SCTP listener,MERGED,2021-03-02 05:09:19.000000000,2021-04-01 17:21:49.000000000,2021-04-01 17:19:49.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-03-02 05:09:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5e5e3951b052b51aeb35ae1664ed695f02cda935', 'message': ""Fix weighted round-robin udp listener\n\n'lb_algo rr' in keepalived won't work with weight for udp listeners,\nit should be 'lb_algo wrr'.\n\nhttps://keepalived.readthedocs.io/en/latest/configuration_synopsis.html\n\nStory 2008462\nTask 41491\n\nChange-Id: Ic63929d8864e5285baf70dd85e6362988bf2863f\n""}, {'number': 2, 'created': '2021-03-02 08:11:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/062bd169570ce184c960141a67b1faf246ffd737', 'message': ""Fix weighted round-robin udp listener\n\n'lb_algo rr' in keepalived won't work with weight for udp listeners,\nit should be 'lb_algo wrr'.\n\nhttps://keepalived.readthedocs.io/en/latest/configuration_synopsis.html\n\nStory 2008462\nTask 41491\n\nChange-Id: Ic63929d8864e5285baf70dd85e6362988bf2863f\n""}, {'number': 3, 'created': '2021-03-03 02:48:40.000000000', 'files': ['releasenotes/notes/fix-udp-and-sctp-listener-wrr-50de9dc0774a8ea1.yaml', 'octavia/common/jinja/lvs/jinja_cfg.py', 'octavia/tests/unit/common/jinja/lvs/test_jinja_cfg.py', 'octavia/tests/unit/common/sample_configs/sample_configs_combined.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/5352a10f62f1a4763aeee81e2e638a9896b6ce79', 'message': ""Fix weighted round-robin about UDP and SCTP listener\n\n'lb_algo rr' in keepalived won't work correctly with weight\nfor UDP and SCTP listeners, it should be 'lb_algo wrr'.\n\n'wrr' is superset of 'rr' algorithm, as round-robin is\na specical instance of the weighted round-robin scheduling,\nin which all the weights are equal. [1]\n\nAlgorithm in HAProxy is set to 'roundrobin', which also support\nweights, but in keepalived must be set to 'wrr' to work with\nthe weighted round-robin scheduling, as it is different to 'rr'.\n\n[1] https://www.keepalived.org/doc/scheduling_algorithms.html\n\nStory 2008462\nTask 41491\n\nChange-Id: Ic63929d8864e5285baf70dd85e6362988bf2863f\n""}]",3,778132,5352a10f62f1a4763aeee81e2e638a9896b6ce79,17,5,3,21757,,,0,"Fix weighted round-robin about UDP and SCTP listener

'lb_algo rr' in keepalived won't work correctly with weight
for UDP and SCTP listeners, it should be 'lb_algo wrr'.

'wrr' is superset of 'rr' algorithm, as round-robin is
a specical instance of the weighted round-robin scheduling,
in which all the weights are equal. [1]

Algorithm in HAProxy is set to 'roundrobin', which also support
weights, but in keepalived must be set to 'wrr' to work with
the weighted round-robin scheduling, as it is different to 'rr'.

[1] https://www.keepalived.org/doc/scheduling_algorithms.html

Story 2008462
Task 41491

Change-Id: Ic63929d8864e5285baf70dd85e6362988bf2863f
",git fetch https://review.opendev.org/openstack/octavia refs/changes/32/778132/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-udp-listener-wrr-50de9dc0774a8ea1.yaml', 'octavia/common/jinja/lvs/jinja_cfg.py', 'octavia/tests/unit/common/jinja/lvs/test_jinja_cfg.py', 'octavia/tests/unit/common/sample_configs/sample_configs_combined.py']",4,5e5e3951b052b51aeb35ae1664ed695f02cda935,task/41491," 'lb_algorithm': 'wrr', 'lb_algorithm': 'wrr', 'lb_algorithm': 'wrr', 'lb_algorithm': 'wrr',"," 'lb_algorithm': 'rr', 'lb_algorithm': 'rr', 'lb_algorithm': 'rr', 'lb_algorithm': 'rr',",19,13
openstack%2Fpuppet-keystone~master~Ifdf0f0808789fc82a8f53307c3c7e7676cbdc4b1,openstack/puppet-keystone,master,Ifdf0f0808789fc82a8f53307c3c7e7676cbdc4b1,Allow to configure policy_dirs,MERGED,2021-03-22 15:11:19.000000000,2021-04-01 17:21:42.000000000,2021-04-01 17:20:07.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-22 15:11:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/9b7d30f9e5beff89f9d6fbfbb8cd06e786f1492d', 'message': 'configure policy_dirs by default\n\nCurrently, puppet-openstack calls oslo::policy without an argument for\npolicy_dirs, leading to that directive being removed from the config\nfile. This patch makes it possible to override the current default,\nwhich is important in Debian where all services have been migrated to\nuse a /etc/<service>/policy.d/00_default_policy.yaml by default.\n\nChange-Id: Ifdf0f0808789fc82a8f53307c3c7e7676cbdc4b1\n'}, {'number': 2, 'created': '2021-03-22 15:12:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/c5f302afc14adc055147496955b0637cdc4498e9', 'message': 'configure policy_dirs by default\n\nCurrently, puppet-openstack calls oslo::policy without an argument for\npolicy_dirs, leading to that directive being removed from the config\nfile. This patch makes it possible to override the current default,\nwhich is important in Debian where all services have been migrated to\nuse a /etc/<service>/policy.d/00_default_policy.yaml by default.\n\nI intend to commit the same kind of patch in each module, with only\nthe default path for policy_dirs as difference.\n\nChange-Id: Ifdf0f0808789fc82a8f53307c3c7e7676cbdc4b1\n'}, {'number': 3, 'created': '2021-03-23 22:12:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/724f2980b3b9c06cb2ab09088dfbd1db662ec376', 'message': 'configure policy_dirs by default\n\nCurrently, puppet-openstack calls oslo::policy without an argument for\npolicy_dirs, leading to that directive being removed from the config\nfile. This patch makes it possible to override the current default,\nwhich is important in Debian where all services have been migrated to\nuse a /etc/<service>/policy.d/00_default_policy.yaml by default.\n\nI intend to commit the same kind of patch in each module, with only\nthe default path for policy_dirs as difference.\n\nChange-Id: Ifdf0f0808789fc82a8f53307c3c7e7676cbdc4b1\n'}, {'number': 4, 'created': '2021-03-31 09:35:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/6ec114ea5fa25a20354dbb4e4d049e1952809d36', 'message': 'configure policy_dirs by default\n\nCurrently, puppet-openstack calls oslo::policy without an argument for\npolicy_dirs, leading to that directive being removed from the config\nfile. This patch makes it possible to override the current default,\nwhich is important in Debian where all services have been migrated to\nuse a /etc/<service>/policy.d/00_default_policy.yaml by default.\n\nI intend to commit the same kind of patch in each module, with only\nthe default path for policy_dirs as difference.\n\nChange-Id: Ifdf0f0808789fc82a8f53307c3c7e7676cbdc4b1\n'}, {'number': 5, 'created': '2021-03-31 09:45:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/333f238e985bee507024fe041a117aba133ada98', 'message': 'configure policy_dirs by default\n\nCurrently, puppet-openstack calls oslo::policy without an argument for\npolicy_dirs, leading to that directive being removed from the config\nfile. This patch makes it possible to override the current default,\nwhich is important in Debian where all services have been migrated to\nuse a /etc/<service>/policy.d/00_default_policy.yaml by default.\n\nI intend to commit the same kind of patch in each module, with only\nthe default path for policy_dirs as difference.\n\nChange-Id: Ifdf0f0808789fc82a8f53307c3c7e7676cbdc4b1\n'}, {'number': 6, 'created': '2021-03-31 09:54:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/10f51536cc08980cc3bf172bec3b8aa41a745613', 'message': 'configure policy_dirs by default\n\nCurrently, puppet-openstack calls oslo::policy without an argument for\npolicy_dirs, leading to that directive being removed from the config\nfile. This patch makes it possible to override the current default,\nwhich is important in Debian where all services have been migrated to\nuse a /etc/<service>/policy.d/00_default_policy.yaml by default.\n\nI intend to commit the same kind of patch in each module, with only\nthe default path for policy_dirs as difference.\n\nChange-Id: Ifdf0f0808789fc82a8f53307c3c7e7676cbdc4b1\n'}, {'number': 7, 'created': '2021-03-31 10:37:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/cd591b97202036128db83904169dc1968ad7bbb3', 'message': 'Allow to configure policy_dirs\n\nThis patch makes it possible to override the current service default,\nwhich is /etc/<service>/policy.d\n\nI intend to commit the same kind of patch in each module, with only\nthe default path for policy_dirs as difference.\n\nChange-Id: Ifdf0f0808789fc82a8f53307c3c7e7676cbdc4b1\n'}, {'number': 8, 'created': '2021-03-31 13:26:26.000000000', 'files': ['releasenotes/notes/policy-dirs-3cc292a2be2bd104.yaml', 'spec/classes/keystone_policy_spec.rb', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/1fe0e6b320d16e78b08e164495786921f38db4af', 'message': 'Allow to configure policy_dirs\n\nThis patch makes it possible to override the current service default,\nwhich is /etc/<service>/policy.d .\n\nChange-Id: Ifdf0f0808789fc82a8f53307c3c7e7676cbdc4b1\n'}]",15,782274,1fe0e6b320d16e78b08e164495786921f38db4af,25,4,8,6476,,,0,"Allow to configure policy_dirs

This patch makes it possible to override the current service default,
which is /etc/<service>/policy.d .

Change-Id: Ifdf0f0808789fc82a8f53307c3c7e7676cbdc4b1
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/74/782274/8 && git format-patch -1 --stdout FETCH_HEAD,['manifests/policy.pp'],1,9b7d30f9e5beff89f9d6fbfbb8cd06e786f1492d,policy-dir," $policy_dirs = '/etc/keystone/policy.d', policy_file => $policy_path, policy_dirs => $policy_dirs,", policy_file => $policy_path,3,1
openstack%2Fkayobe~master~I848d834aa36943027c126e26e93e4a4680521144,openstack/kayobe,master,I848d834aa36943027c126e26e93e4a4680521144,Support multiple environments from a single configuration,MERGED,2020-06-10 14:52:28.000000000,2021-04-01 17:14:44.000000000,2021-04-01 17:12:57.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2020-06-10 14:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ab54ba0440d93dc81a135192df57891c4326773a', 'message': 'Support multiple environments from a single configuration\n\nChange-Id: I848d834aa36943027c126e26e93e4a4680521144\nStory: 2002009\nTask: 40037\n'}, {'number': 2, 'created': '2021-01-13 09:40:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3dc812e8baa9e22956e9b2117c8b830819ee4215', 'message': 'Support multiple environments from a single configuration\n\nChange-Id: I848d834aa36943027c126e26e93e4a4680521144\nStory: 2002009\nTask: 40037\n'}, {'number': 3, 'created': '2021-01-13 12:27:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f6de0d52340bfa95fc2e79673309ff1bf4d616f2', 'message': 'Support multiple environments from a single configuration\n\nChange-Id: I848d834aa36943027c126e26e93e4a4680521144\nStory: 2002009\nTask: 40037\n'}, {'number': 4, 'created': '2021-01-13 16:51:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f9729e43bd6772dd16082ba0bd7e38f33ffed0ae', 'message': 'Support multiple environments from a single configuration\n\nChange-Id: I848d834aa36943027c126e26e93e4a4680521144\nStory: 2002009\nTask: 40037\n'}, {'number': 5, 'created': '2021-02-01 13:45:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/584547da8ca5e53046cb9b1dd034113753f663d0', 'message': 'Support multiple environments from a single configuration\n\nChange-Id: I848d834aa36943027c126e26e93e4a4680521144\nStory: 2002009\nTask: 40037\n'}, {'number': 6, 'created': '2021-02-02 16:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/781affaf2ceef6822c1f180274da74b4219bb1ed', 'message': 'Support multiple environments from a single configuration\n\nChange-Id: I848d834aa36943027c126e26e93e4a4680521144\nStory: 2002009\nTask: 40037\n'}, {'number': 7, 'created': '2021-03-09 15:16:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/63fb411124070785cbeab66675e2e4d19af03d3b', 'message': 'Support multiple environments from a single configuration\n\nChange-Id: I848d834aa36943027c126e26e93e4a4680521144\nStory: 2002009\nTask: 40037\n'}, {'number': 8, 'created': '2021-03-15 14:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/54cf2b41b18213149a9164119c7f1ca6b1dacb7a', 'message': 'Support multiple environments from a single configuration\n\nChange-Id: I848d834aa36943027c126e26e93e4a4680521144\nStory: 2002009\nTask: 40037\n'}, {'number': 9, 'created': '2021-03-31 14:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c0b7e5ff591558b22f749d85a623dc36c38484ec', 'message': 'Support multiple environments from a single configuration\n\nChange-Id: I848d834aa36943027c126e26e93e4a4680521144\nStory: 2002009\nTask: 40037\n'}, {'number': 10, 'created': '2021-03-31 15:01:48.000000000', 'files': ['etc/kayobe/seed.yml', 'ansible/group_vars/all/globals', 'ansible/group_vars/all/seed', 'ansible/kolla-ansible.yml', 'ansible/overcloud-inventory-discover.yml', 'ansible/baremetal-compute-serial-console.yml', 'ansible/kolla-openstack.yml', 'ansible/swift-rings.yml', 'ansible/kolla-bifrost.yml', 'doc/source/configuration/reference/seed-custom-containers.rst', 'ansible/kolla-build.yml', 'kayobe/ansible.py', 'kayobe/tests/unit/test_ansible.py', 'etc/kayobe/globals.yml', 'ansible/overcloud-grafana-configure.yml', 'ansible/ip-allocation.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/14196369301dd6aa41dc897f908610720a4291b0', 'message': 'Support multiple environments from a single configuration\n\nChange-Id: I848d834aa36943027c126e26e93e4a4680521144\nStory: 2002009\nTask: 40037\n'}]",1,734867,14196369301dd6aa41dc897f908610720a4291b0,47,5,10,15197,,,0,"Support multiple environments from a single configuration

Change-Id: I848d834aa36943027c126e26e93e4a4680521144
Story: 2002009
Task: 40037
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/67/734867/7 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/tests/unit/test_kolla_ansible.py', 'ansible/group_vars/all/kolla', 'kayobe/kolla_ansible.py', 'kayobe/ansible.py', 'ansible/group_vars/all/globals', 'kayobe/tests/unit/test_ansible.py', 'etc/kayobe/globals.yml']",7,ab54ba0440d93dc81a135192df57891c4326773a,multiple-environments,"# Path to Kayobe configuration directory on Ansible control host, with an # environment path appended if kayobe_environment is set.# Name of Kayobe environment to use. Default is $KAYOBE_ENVIRONMENT, or an # empty string if $KAYOBE_ENVIRONMENT is not set. Can also be set via the # --environment argument when invoking kayobe. #kayobe_environment: ",# Path to Kayobe configuration directory on Ansible control host.,126,33
openstack%2Freleases~master~I26a8d7d1521b7d1d5406d5e44d0a3d5ea3330489,openstack/releases,master,I26a8d7d1521b7d1d5406d5e44d0a3d5ea3330489,Cinder stable/victoria release for os-brick,MERGED,2021-04-01 13:00:39.000000000,2021-04-01 17:11:38.000000000,2021-04-01 17:11:38.000000000,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-01 13:00:39.000000000', 'files': ['deliverables/victoria/os-brick.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d6bd58ecd35eac3e47c5b70e2be466628955fba7', 'message': 'Cinder stable/victoria release for os-brick\n\nThe reason for this quick release after the previous victoria\nrelease (4.0.2 on 08 March, 2021) is the inclusion of a critical\nos-brick patch[1] that fixes a potential data loss situation.\n\n[1] https://review.opendev.org/c/openstack/os-brick/+/783553\n\nChange-Id: I26a8d7d1521b7d1d5406d5e44d0a3d5ea3330489\n'}]",0,784394,d6bd58ecd35eac3e47c5b70e2be466628955fba7,9,5,1,27615,,,0,"Cinder stable/victoria release for os-brick

The reason for this quick release after the previous victoria
release (4.0.2 on 08 March, 2021) is the inclusion of a critical
os-brick patch[1] that fixes a potential data loss situation.

[1] https://review.opendev.org/c/openstack/os-brick/+/783553

Change-Id: I26a8d7d1521b7d1d5406d5e44d0a3d5ea3330489
",git fetch https://review.opendev.org/openstack/releases refs/changes/94/784394/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/os-brick.yaml'],1,d6bd58ecd35eac3e47c5b70e2be466628955fba7,, - version: 4.0.3 projects: - repo: openstack/os-brick hash: 9528ceab4f32cebb700a0b69f2ea58ec101700a1,,4,0
openstack%2Ftripleo-heat-templates~master~I7d801d7533a045163e5530e91cb6aac41b10f587,openstack/tripleo-heat-templates,master,I7d801d7533a045163e5530e91cb6aac41b10f587,Start all FRR tasks during host_prep_tasks,ABANDONED,2021-03-16 15:14:02.000000000,2021-04-01 16:04:38.000000000,,"[{'_account_id': 6469}, {'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-16 15:14:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f000594405bfe45bd9be554d7d77f568cd746013', 'message': 'WIP Start all FRR tasks during host_prep_tasks\n\nNB: WIP because we want to run one non-tls-e test as well\n\nPreviously we managed to get away with starting FRR during deployment\ntasks at step1. This worked because puppet config tasks (which need\nall nodes to be reachable due to pacemaker) ran after deployment step\ntask 1. In our testing also TLS-E setups worked okay, but that was\nlikely mainly due to coincidence because the IPA registration tasks\nwere also run at step1 of the deployment tasks and came after FRR.\nFRR is needed to be up in order to reach nodes like freeipa in a BGP\nbased deployment.\n\nhttps://review.opendev.org/c/openstack/tripleo-heat-templates/+/771832\nmoved IPA role from deployment_step 1 to external_deployment_step 1 and\nthis broke TLS-E deployments with FRR, because FRR is not up already\nduring external deployment step 1.\n\nSo we simply make this more robust by moving the FRR container\nconfiguration during the host_prep_tasks. This requires that we\nduplicate a few tasks when using the FRR service (podman, kolla configs,\ncontainer-startup-configs).\n\nWe try to make this duplication less horrible by importing the\nhost_prep_tasks from the podman service and by importing the tasks from\nthe yaml file in charge of doing the kolla and container-startup-config\nbits.\n\nTested today by running a TLS-E deployment from master.\n\nChange-Id: I7d801d7533a045163e5530e91cb6aac41b10f587\nCo-Authored-By: Carlos Gonçalves <cgoncalves@redhat.com>\n'}, {'number': 2, 'created': '2021-03-16 18:40:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/292aefcd64e14b4736cc7317e038de621c91f1e8', 'message': 'WIP Start all FRR tasks during host_prep_tasks\n\nNB: WIP because we want to run one non-tls-e test as well\n\nPreviously we managed to get away with starting FRR during deployment\ntasks at step1. This worked because puppet config tasks (which need\nall nodes to be reachable due to pacemaker) ran after deployment step\ntask 1. In our testing also TLS-E setups worked okay, but that was\nlikely mainly due to coincidence because the IPA registration tasks\nwere also run at step1 of the deployment tasks and came after FRR.\nFRR is needed to be up in order to reach nodes like freeipa in a BGP\nbased deployment.\n\nhttps://review.opendev.org/c/openstack/tripleo-heat-templates/+/771832\nmoved IPA role from deployment_step 1 to external_deployment_step 1 and\nthis broke TLS-E deployments with FRR, because FRR is not up already\nduring external deployment step 1.\n\nSo we simply make this more robust by moving the FRR container\nconfiguration during the host_prep_tasks. This requires that we\nduplicate the deploy-steps-tasks-step-1 tasks (kolla configs,\ncontainer-startup-configs) and the podman host_prep_tasks when using\nthe FRR service.\n\nNote: We also duplicate the podman host_prep_tasks here because\nwe have no strict guarantee that they run before ours.\n\nTested today by running a TLS-E deployment from master.\n\nChange-Id: I7d801d7533a045163e5530e91cb6aac41b10f587\nCo-Authored-By: Carlos Gonçalves <cgoncalves@redhat.com>\n'}, {'number': 3, 'created': '2021-03-17 09:27:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4885a9eb998c17597143813285159c3722631449', 'message': 'Start all FRR tasks during host_prep_tasks\n\nPreviously we managed to get away with starting FRR during deployment\ntasks at step1. This worked because puppet config tasks (which need\nall nodes to be reachable due to pacemaker) ran after deployment step\ntask 1. In our testing also TLS-E setups worked okay, but that was\nlikely mainly due to coincidence because the IPA registration tasks\nwere also run at step1 of the deployment tasks and came after FRR.\nFRR is needed to be up in order to reach nodes like freeipa in a BGP\nbased deployment.\n\nhttps://review.opendev.org/c/openstack/tripleo-heat-templates/+/771832\nmoved IPA role from deployment_step 1 to external_deployment_step 1 and\nthis broke TLS-E deployments with FRR, because FRR is not up already\nduring external deployment step 1.\n\nSo we simply make this more robust by moving the FRR container\nconfiguration during the host_prep_tasks. This requires that we\nduplicate the deploy-steps-tasks-step-1 tasks (kolla configs,\ncontainer-startup-configs) and the podman host_prep_tasks when using\nthe FRR service.\n\nNote: We also duplicate the podman host_prep_tasks here because\nwe have no strict guarantee that they run before ours.\n\nTested as follows:\n- Deployed an FRR-enabled TLS-E environment from master (was previously\n  failing)\n- Deployed an FRR-enabled without TLS-E from master\n\nCo-Authored-By: Carlos Gonçalves <cgoncalves@redhat.com>\n\nChange-Id: I7d801d7533a045163e5530e91cb6aac41b10f587\n'}, {'number': 4, 'created': '2021-03-19 09:21:08.000000000', 'files': ['deployment/frr/frr-container-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/39cf64519fc96aa006614fdcd15e39732d91022f', 'message': 'Start all FRR tasks during host_prep_tasks\n\nPreviously we managed to get away with starting FRR during deployment\ntasks at step1. This worked because puppet config tasks (which need\nall nodes to be reachable due to pacemaker) ran after deployment step\ntask 1. In our testing also TLS-E setups worked okay, but that was\nlikely mainly due to coincidence because the IPA registration tasks\nwere also run at step1 of the deployment tasks and came after FRR.\nFRR is needed to be up in order to reach nodes like freeipa in a BGP\nbased deployment.\n\nhttps://review.opendev.org/c/openstack/tripleo-heat-templates/+/771832\nmoved IPA role from deployment_step 1 to external_deployment_step 1 and\nthis broke TLS-E deployments with FRR, because FRR is not up already\nduring external deployment step 1.\n\nSo we simply make this more robust by moving the FRR container\nconfiguration during the host_prep_tasks. This requires that we\nduplicate the deploy-steps-tasks-step-1 tasks (kolla configs,\ncontainer-startup-configs) and the podman host_prep_tasks when using\nthe FRR service.\n\nNote: We also duplicate the podman host_prep_tasks here because\nwe have no strict guarantee that they run before ours.\n\nTested as follows:\n- Deployed an FRR-enabled TLS-E environment from master (was previously\n  failing)\n- Deployed an FRR-enabled without TLS-E from master\n\nCo-Authored-By: Carlos Gonçalves <cgoncalves@redhat.com>\n\nChange-Id: I7d801d7533a045163e5530e91cb6aac41b10f587\n'}]",11,780897,39cf64519fc96aa006614fdcd15e39732d91022f,38,9,4,20172,,,0,"Start all FRR tasks during host_prep_tasks

Previously we managed to get away with starting FRR during deployment
tasks at step1. This worked because puppet config tasks (which need
all nodes to be reachable due to pacemaker) ran after deployment step
task 1. In our testing also TLS-E setups worked okay, but that was
likely mainly due to coincidence because the IPA registration tasks
were also run at step1 of the deployment tasks and came after FRR.
FRR is needed to be up in order to reach nodes like freeipa in a BGP
based deployment.

https://review.opendev.org/c/openstack/tripleo-heat-templates/+/771832
moved IPA role from deployment_step 1 to external_deployment_step 1 and
this broke TLS-E deployments with FRR, because FRR is not up already
during external deployment step 1.

So we simply make this more robust by moving the FRR container
configuration during the host_prep_tasks. This requires that we
duplicate the deploy-steps-tasks-step-1 tasks (kolla configs,
container-startup-configs) and the podman host_prep_tasks when using
the FRR service.

Note: We also duplicate the podman host_prep_tasks here because
we have no strict guarantee that they run before ours.

Tested as follows:
- Deployed an FRR-enabled TLS-E environment from master (was previously
  failing)
- Deployed an FRR-enabled without TLS-E from master

Co-Authored-By: Carlos Gonçalves <cgoncalves@redhat.com>

Change-Id: I7d801d7533a045163e5530e91cb6aac41b10f587
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/97/780897/1 && git format-patch -1 --stdout FETCH_HEAD,"['common/deploy-steps-tasks-step-1.yaml', 'deployment/frr/frr-container-ansible.yaml']",2,f000594405bfe45bd9be554d7d77f568cd746013,bgpsupport,"resources: PodmanBase: type: ../podman/podman-baremetal-ansible.yaml properties: EndpointMap: {get_param: EndpointMap} ServiceData: {get_param: ServiceData} ServiceNetMap: {get_param: ServiceNetMap} RoleName: {get_param: RoleName} RoleParameters: {get_param: RoleParameters} # Frr is special because it needs to be up before we try any tasks that need to reach nodes # via the network That is why we need to duplicate a few things here (podman setup, kolla config # and tripleo-startup-containers) list_concat: - {get_attr: [PodmanBase, role_data, host_prep_tasks]} - - include_tasks: common_deploy_steps_tasks_step_1.yaml args: apply: tags: - frr_needed - name: create persistent directories file: path: ""{{ item.path }}"" state: directory setype: ""{{ item.setype }}"" mode: ""{{ item.mode }}"" with_items: - { 'path': /var/log/containers/frr, 'setype': container_file_t, 'mode': '0750' } - { 'path': /var/lib/config-data/ansible-generated/frr, 'setype': container_file_t, 'mode': '0750' } - name: Configure and start FRR before an HA service block: - name: Configure FRR import_role: name: tripleo_frr vars: tripleo_frr_config_basedir: /var/lib/config-data/ansible-generated/frr tripleo_frr_bfd: {get_param: FrrBfdEnabled} tripleo_frr_bgp: {get_param: FrrBgpEnabled} tripleo_frr_bgp_asn: {get_param: FrrBgpAsn} tripleo_frr_bgp_ipv4: {get_param: FrrBgpIpv4Enabled} tripleo_frr_bgp_ipv4_allowas_in: {get_param: FrrBgpIpv4AllowASIn} tripleo_frr_bgp_ipv4_src_network: {get_param: FrrBgpIpv4SrcNetwork} tripleo_frr_bgp_ipv6: {get_param: FrrBgpIpv6Enabled} tripleo_frr_bgp_ipv6_allowas_in: {get_param: FrrBgpIpv6AllowASIn} tripleo_frr_bgp_ipv6_src_network: {get_param: FrrBgpIpv6SrcNetwork} tripleo_frr_bgp_neighbor_ttl_security_hops: {get_param: FrrBgpNeighborTtlSecurityHops} tripleo_frr_bgp_uplinks: {get_param: FrrBgpUplinks} tripleo_frr_bgp_uplinks_scope: {get_param: FrrBgpUplinksScope} tripleo_frr_log_level: {get_param: FrrLogLevel} tripleo_frr_zebra: {get_param: FrrZebraEnabled} - name: Start FRR include_role: name: tripleo_container_manage vars: tripleo_container_manage_config: ""/var/lib/tripleo-config/container-startup-config/step_0"" tripleo_container_manage_config_id: ""frr"" tripleo_container_manage_config_patterns: ""frr.json"" tripleo_container_manage_systemd_order: true"," - name: create persistent directories file: path: ""{{ item.path }}"" state: directory setype: ""{{ item.setype }}"" mode: ""{{ item.mode }}"" with_items: - { 'path': /var/log/containers/frr, 'setype': container_file_t, 'mode': '0750' } - { 'path': /var/lib/config-data/ansible-generated/frr, 'setype': container_file_t, 'mode': '0750' } deploy_steps_tasks: - name: Configure and start FRR before an HA service when: step|int == 1 block: - name: Configure FRR import_role: name: tripleo_frr vars: tripleo_frr_config_basedir: /var/lib/config-data/ansible-generated/frr tripleo_frr_bfd: {get_param: FrrBfdEnabled} tripleo_frr_bgp: {get_param: FrrBgpEnabled} tripleo_frr_bgp_asn: {get_param: FrrBgpAsn} tripleo_frr_bgp_ipv4: {get_param: FrrBgpIpv4Enabled} tripleo_frr_bgp_ipv4_allowas_in: {get_param: FrrBgpIpv4AllowASIn} tripleo_frr_bgp_ipv4_src_network: {get_param: FrrBgpIpv4SrcNetwork} tripleo_frr_bgp_ipv6: {get_param: FrrBgpIpv6Enabled} tripleo_frr_bgp_ipv6_allowas_in: {get_param: FrrBgpIpv6AllowASIn} tripleo_frr_bgp_ipv6_src_network: {get_param: FrrBgpIpv6SrcNetwork} tripleo_frr_bgp_neighbor_ttl_security_hops: {get_param: FrrBgpNeighborTtlSecurityHops} tripleo_frr_bgp_uplinks: {get_param: FrrBgpUplinks} tripleo_frr_bgp_uplinks_scope: {get_param: FrrBgpUplinksScope} tripleo_frr_log_level: {get_param: FrrLogLevel} tripleo_frr_zebra: {get_param: FrrZebraEnabled} - name: Start FRR include_role: name: tripleo_container_manage vars: tripleo_container_manage_config: ""/var/lib/tripleo-config/container-startup-config/step_0"" tripleo_container_manage_config_id: ""frr"" tripleo_container_manage_config_patterns: ""frr.json"" tripleo_container_manage_systemd_order: true",66,40
openstack%2Freleases~master~Idcfcad76f422ca9b85f17f67180579a249dd9952,openstack/releases,master,Idcfcad76f422ca9b85f17f67180579a249dd9952,add branch for openstack requirements,MERGED,2021-03-10 16:45:14.000000000,2021-04-01 15:56:40.000000000,2021-04-01 15:56:40.000000000,"[{'_account_id': 308}, {'_account_id': 13861}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31068}]","[{'number': 1, 'created': '2021-03-10 16:45:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/54241ff89b78d5e0c983b378f6d4660cc100547e', 'message': 'add release for openstack requirements\n\nChange-Id: Idcfcad76f422ca9b85f17f67180579a249dd9952\n'}, {'number': 2, 'created': '2021-03-19 15:23:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/e4b8f87068bb6f968e4544dcc83e6c58045af3c4', 'message': 'add branch for openstack requirements\n\nChange-Id: Idcfcad76f422ca9b85f17f67180579a249dd9952\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 3, 'created': '2021-03-30 01:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/b76de7f31b9114a61abd72d7465bf4b4a084b1b6', 'message': 'add branch for openstack requirements\n\nChange-Id: Idcfcad76f422ca9b85f17f67180579a249dd9952\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 4, 'created': '2021-03-31 17:10:46.000000000', 'files': ['deliverables/wallaby/requirements.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/07e6a6ca655a4d65e1742dcd5f3cedacaea26d4c', 'message': 'add branch for openstack requirements\n\nDepends-On: https://review.opendev.org/c/openstack/releases/+/784132\nDepends-On: https://review.opendev.org/c/openstack/releases/+/784134\n\nChange-Id: Idcfcad76f422ca9b85f17f67180579a249dd9952\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",4,779832,07e6a6ca655a4d65e1742dcd5f3cedacaea26d4c,35,6,4,14288,,,0,"add branch for openstack requirements

Depends-On: https://review.opendev.org/c/openstack/releases/+/784132
Depends-On: https://review.opendev.org/c/openstack/releases/+/784134

Change-Id: Idcfcad76f422ca9b85f17f67180579a249dd9952
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/releases refs/changes/32/779832/4 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/requirements.yaml'],1,54241ff89b78d5e0c983b378f6d4660cc100547e,reqs-wallaby,releases: - version: 1.3.0 projects: - repo: openstack/requirements hash: 202a7efe0bc4ba8a78a4196761a8fa2c2224f085 tarball-base: openstack_requirements,,6,0
openstack%2Fswift~master~I758e7cd59855d468401511010f36823eb34edf27,openstack/swift,master,I758e7cd59855d468401511010f36823eb34edf27,Give functests another chance to succeed,ABANDONED,2021-03-20 04:57:33.000000000,2021-04-01 14:56:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-20 04:57:33.000000000', 'files': ['.functests', 'test-requirements.txt', 'lower-constraints.txt', 'py2-constraints.txt'], 'web_link': 'https://opendev.org/openstack/swift/commit/cb40e4f9561c6730636222426654d97b60b3c2cd', 'message': 'Give functests another chance to succeed\n\nSide-effect: change the func test running to use pytest.\n\nos-testr is deprecated and while we could just back out\nhttps://github.com/openstack/swift/commit/9d7f71d5, nose is basically\ndead -- last commit was over 5 years ago. Our requirement that func\ntests run serially seems to pretty well negate any benefit of moving to\nstestr, so here we are.\n\nChange-Id: I758e7cd59855d468401511010f36823eb34edf27\n'}]",0,781931,cb40e4f9561c6730636222426654d97b60b3c2cd,3,1,1,15343,,,0,"Give functests another chance to succeed

Side-effect: change the func test running to use pytest.

os-testr is deprecated and while we could just back out
https://github.com/openstack/swift/commit/9d7f71d5, nose is basically
dead -- last commit was over 5 years ago. Our requirement that func
tests run serially seems to pretty well negate any benefit of moving to
stestr, so here we are.

Change-Id: I758e7cd59855d468401511010f36823eb34edf27
",git fetch https://review.opendev.org/openstack/swift refs/changes/31/781931/1 && git format-patch -1 --stdout FETCH_HEAD,"['.functests', 'test-requirements.txt', 'lower-constraints.txt', 'py2-constraints.txt']",4,cb40e4f9561c6730636222426654d97b60b3c2cd,,pytest==4.6.11 pytest-rerunfailures==9.0,stestr===2.6.0os-testr===1.1.0,10,8
openstack%2Ftripleo-common~stable%2Ftrain~If5ec5d4fa0d4d835561b5963d244e5172fe82cc8,openstack/tripleo-common,stable/train,If5ec5d4fa0d4d835561b5963d244e5172fe82cc8,Use quay.ceph.io to pull the Ceph Dashboard related images,MERGED,2021-03-25 08:20:39.000000000,2021-04-01 14:37:42.000000000,2021-04-01 14:35:15.000000000,"[{'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 15205}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-03-25 08:20:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/14a625a2c66163982f2462aec5d4f59465c73cb3', 'message': 'Use quay.ceph.io to pull the Ceph Dashboard related images\n\nThe purpose of this change is just to switch to quay.ceph.io\nand pull from that location the Ceph Dashboard related images.\nquay.ceph.io is maintained by the Ceph organization and can\nbe trusted to find the tags that we need.\n\nCloses-Bug: #1920873\nChange-Id: If5ec5d4fa0d4d835561b5963d244e5172fe82cc8\n(cherry picked from commit 72c7d4ac71d33c8803120767108c6bf2ffeb2edc)\n'}, {'number': 2, 'created': '2021-03-25 09:12:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/01e81257e182980f6136ad2e37461ed2b6b2b290', 'message': 'Use quay.ceph.io to pull the Ceph Dashboard related images\n\nThe purpose of this change is just to switch to quay.ceph.io\nand pull from that location the Ceph Dashboard related images.\nquay.ceph.io is maintained by the Ceph organization and can\nbe trusted to find the tags that we need.\n\nCloses-Bug: #1920873\nChange-Id: If5ec5d4fa0d4d835561b5963d244e5172fe82cc8\n(cherry picked from commit 72c7d4ac71d33c8803120767108c6bf2ffeb2edc)\n'}, {'number': 3, 'created': '2021-03-25 13:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e20c33e0768bab1e4f66454863e32fe99728ed08', 'message': 'Use quay.ceph.io to pull the Ceph Dashboard related images\n\nThe purpose of this change is just to switch to quay.ceph.io\nand pull from that location the Ceph Dashboard related images.\nquay.ceph.io is maintained by the Ceph organization and can\nbe trusted to find the tags that we need.\n\nThis is not a clean cherry-pick since grafana is bumped to\n5.4.3, which is the same version (for nautilus) used on ussuri\nand victoria.\n\nCloses-Bug: #1920873\nChange-Id: If5ec5d4fa0d4d835561b5963d244e5172fe82cc8\n(cherry picked from commit 72c7d4ac71d33c8803120767108c6bf2ffeb2edc)\n'}, {'number': 4, 'created': '2021-03-25 15:47:50.000000000', 'files': ['container-images/container_image_prepare_defaults.yaml', 'container-images/overcloud_containers.yaml', 'tripleo_common/tests/image/test_kolla_builder.py', 'container-images/tripleo_containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e5388f3ab16c53a22d5d757f2d91cd38444814dd', 'message': 'Use quay.ceph.io to pull the Ceph Dashboard related images\n\nThe purpose of this change is just to switch to quay.ceph.io\nand pull from that location the Ceph Dashboard related images.\nquay.ceph.io is maintained by the Ceph organization and can\nbe trusted to find the tags that we need.\n\nThis is not a clean cherry-pick since grafana is bumped to\n5.4.3, which is the same version (for nautilus) used on ussuri\nand victoria.\n\nCloses-Bug: #1920873\nChange-Id: If5ec5d4fa0d4d835561b5963d244e5172fe82cc8\n(cherry picked from commit 72c7d4ac71d33c8803120767108c6bf2ffeb2edc)\n'}]",1,782915,e5388f3ab16c53a22d5d757f2d91cd38444814dd,25,10,4,25402,,,0,"Use quay.ceph.io to pull the Ceph Dashboard related images

The purpose of this change is just to switch to quay.ceph.io
and pull from that location the Ceph Dashboard related images.
quay.ceph.io is maintained by the Ceph organization and can
be trusted to find the tags that we need.

This is not a clean cherry-pick since grafana is bumped to
5.4.3, which is the same version (for nautilus) used on ussuri
and victoria.

Closes-Bug: #1920873
Change-Id: If5ec5d4fa0d4d835561b5963d244e5172fe82cc8
(cherry picked from commit 72c7d4ac71d33c8803120767108c6bf2ffeb2edc)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/15/782915/3 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/container_image_prepare_defaults.yaml', 'container-images/overcloud_containers.yaml', 'tripleo_common/tests/image/test_kolla_builder.py', 'container-images/tripleo_containers.yaml']",4,14a625a2c66163982f2462aec5d4f59465c73cb3,782915,- imagename: quay.ceph.io/prometheus/prometheus:v2.7.2- imagename: quay.ceph.io/prometheus/alertmanager:v0.16.2- imagename: quay.ceph.io/prometheus/node-exporter:v0.17.0- imagename: quay.ceph.io/app-sre/grafana:6.7.4,- imagename: quay.io/prometheus/prometheus:v2.7.2- imagename: quay.io/prometheus/alertmanager:v0.16.2- imagename: quay.io/prometheus/node-exporter:v0.17.0- imagename: quay.io/tripleo/grafana:5.2.4,27,27
openstack%2Ftripleo-heat-templates~master~I0d257e5868a6d4203840f8cca966d86205ecff2f,openstack/tripleo-heat-templates,master,I0d257e5868a6d4203840f8cca966d86205ecff2f,Remove container state override from FRR service,ABANDONED,2021-04-01 10:28:46.000000000,2021-04-01 14:19:30.000000000,,[{'_account_id': 23181}],"[{'number': 1, 'created': '2021-04-01 10:28:46.000000000', 'files': ['deployment/frr/frr-container-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/60535506bd2a1d8f3d475102d3fca0ae803ebee8', 'message': 'Remove container state override from FRR service\n\nAt some point in Change-Id I7cef73c57e7b69f4d031e220c954803afd5e0b8c we\nadded ""state: stopped"" in docker_config to override the default\n\'present\' state. This was an attempted to create but not start the FRR\ncontainer which was later proved not to be required. This line is now\ncausing podman_container_lib to compute a config difference which leads\nto the container being unnecessarily recreated and to temporary routing\nissues.\n\nChange-Id: I0d257e5868a6d4203840f8cca966d86205ecff2f\n'}]",1,784364,60535506bd2a1d8f3d475102d3fca0ae803ebee8,4,1,1,6469,,,0,"Remove container state override from FRR service

At some point in Change-Id I7cef73c57e7b69f4d031e220c954803afd5e0b8c we
added ""state: stopped"" in docker_config to override the default
'present' state. This was an attempted to create but not start the FRR
container which was later proved not to be required. This line is now
causing podman_container_lib to compute a config difference which leads
to the container being unnecessarily recreated and to temporary routing
issues.

Change-Id: I0d257e5868a6d4203840f8cca966d86205ecff2f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/64/784364/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/frr/frr-container-ansible.yaml'],1,60535506bd2a1d8f3d475102d3fca0ae803ebee8,bgpsupport,, state: stopped,0,1
openstack%2Fbarbican~master~I6879f566117db5ec0099ddad35ba649a3c674bd1,openstack/barbican,master,I6879f566117db5ec0099ddad35ba649a3c674bd1,Fix RBAC and ACL access for managing secret containers,MERGED,2021-03-31 18:04:48.000000000,2021-04-01 14:16:18.000000000,2021-04-01 14:14:48.000000000,"[{'_account_id': 9914}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2021-03-31 18:04:48.000000000', 'files': ['barbican/api/controllers/containers.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/922c68badaf5cc4b43862ab261119b68cdc68a37', 'message': 'Fix RBAC and ACL access for managing secret containers\n\nThis patch adds the missing access control data to enforce access\ncontrol for adding/removing secrets in containers.\n\nChange-Id: I6879f566117db5ec0099ddad35ba649a3c674bd1\n'}]",0,784150,922c68badaf5cc4b43862ab261119b68cdc68a37,8,3,1,7973,,,0,"Fix RBAC and ACL access for managing secret containers

This patch adds the missing access control data to enforce access
control for adding/removing secrets in containers.

Change-Id: I6879f566117db5ec0099ddad35ba649a3c674bd1
",git fetch https://review.opendev.org/openstack/barbican refs/changes/50/784150/1 && git format-patch -1 --stdout FETCH_HEAD,['barbican/api/controllers/containers.py'],1,922c68badaf5cc4b43862ab261119b68cdc68a37,secure-rbac," def get_acl_tuple(self, req, **kwargs): acl = self.get_acl_dict_for_user(req, self.container.container_acls) acl['project_id'] = self.container.project.external_id acl['creator_id'] = self.container.creator_id return ('container', acl) ",,6,0
openstack%2Fopenstack-ansible-os_octavia~master~Ifb19ac66b5a44f7f390d680d07dbf06629615e39,openstack/openstack-ansible-os_octavia,master,Ifb19ac66b5a44f7f390d680d07dbf06629615e39,Break out config files for each octavia service,ABANDONED,2018-09-17 20:51:27.000000000,2021-04-01 14:08:57.000000000,,"[{'_account_id': 7353}, {'_account_id': 10850}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2018-09-17 20:51:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/2200c6e54ee0427746cc401dbd033747120541ca', 'message': 'Break out config files for each octavia service\n\nThis patch brekas out a separate co fig file with separate overrides\nfor each octavis service. Additionally, the worker will have a\ndb_max_retry_interval of -1 thus allowing the system to retry\nindefinitely if the database is down.\n\nChange-Id: Ifb19ac66b5a44f7f390d680d07dbf06629615e39\n'}, {'number': 2, 'created': '2018-09-18 16:02:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/dbbc4834954e80b5637c79736f6030408a059481', 'message': 'Break out config files for each octavia service\n\nThis patch brekas out a separate co fig file with separate overrides\nfor each octavis service. Additionally, the worker will have a\ndb_max_retry_interval of -1 thus allowing the system to retry\nindefinitely if the database is down.\n\nChange-Id: Ifb19ac66b5a44f7f390d680d07dbf06629615e39\n'}, {'number': 3, 'created': '2018-09-18 20:20:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/f03715be706a48cda71d0bb830209d64db1efffe', 'message': 'Break out config files for each octavia service\n\nThis patch brekas out a separate co fig file with separate overrides\nfor each octavis service. Additionally, the worker will have a\ndb_max_retry_interval of -1 thus allowing the system to retry\nindefinitely if the database is down.\n\nChange-Id: Ifb19ac66b5a44f7f390d680d07dbf06629615e39\n'}, {'number': 4, 'created': '2018-09-19 22:33:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/f08abf9b4428a71c8146c047e61f89894e8b367b', 'message': 'Break out config files for each octavia service\n\nThis patch brekas out a separate co fig file with separate overrides\nfor each octavis service. Additionally, the worker will have a\ndb_max_retry_interval of -1 thus allowing the system to retry\nindefinitely if the database is down.\n\nChange-Id: Ifb19ac66b5a44f7f390d680d07dbf06629615e39\n'}, {'number': 5, 'created': '2018-09-27 20:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/da6a197e4ca264926ab25258e48f56e3ae3d0759', 'message': 'Break out config files for each octavia service\n\nThis patch brekas out a separate co fig file with separate overrides\nfor each octavis service. Additionally, the worker will have a\ndb_max_retry_interval of -1 thus allowing the system to retry\nindefinitely if the database is down.\n\nChange-Id: Ifb19ac66b5a44f7f390d680d07dbf06629615e39\n'}, {'number': 6, 'created': '2018-09-28 20:50:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/d1d49cebcb017b696d71a1330441dfb2489bcf72', 'message': 'Break out config files for each octavia service\n\nThis patch brekas out a separate co fig file with separate overrides\nfor each octavis service. Additionally, the worker will have a\ndb_max_retry_interval of -1 thus allowing the system to retry\nindefinitely if the database is down.\n\nChange-Id: Ifb19ac66b5a44f7f390d680d07dbf06629615e39\n'}, {'number': 7, 'created': '2018-10-01 15:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/395a11855863fdcd4935a0977e3acf010e17aefd', 'message': 'Break out config files for each octavia service\n\nThis patch brekas out a separate co fig file with separate overrides\nfor each octavis service. Additionally, the worker will have a\ndb_max_retry_interval of -1 thus allowing the system to retry\nindefinitely if the database is down.\n\nChange-Id: Ifb19ac66b5a44f7f390d680d07dbf06629615e39\n'}, {'number': 8, 'created': '2018-10-01 20:29:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/e1fdc8b22f24d43d60d2fa43c3e9456ef33dcc1c', 'message': 'Break out config files for each octavia service\n\nThis patch brekas out a separate co fig file with separate overrides\nfor each octavis service. Additionally, the worker will have a\ndb_max_retry_interval of -1 thus allowing the system to retry\nindefinitely if the database is down.\n\nChange-Id: Ifb19ac66b5a44f7f390d680d07dbf06629615e39\n'}, {'number': 9, 'created': '2018-10-02 16:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/bf9be6d325bdcd310f026d653f35f3aa1202f5db', 'message': 'Break out config files for each octavia service\n\nThis patch brekas out a separate co fig file with separate overrides\nfor each octavis service. Additionally, the worker will have a\ndb_max_retry_interval of -1 thus allowing the system to retry\nindefinitely if the database is down.\n\nChange-Id: Ifb19ac66b5a44f7f390d680d07dbf06629615e39\n'}, {'number': 10, 'created': '2018-10-02 21:43:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/5c20278f377fa59d162c630ccf0387a1556c3897', 'message': 'Break out config files for each octavia service\n\nThis patch brekas out a separate co fig file with separate overrides\nfor each octavis service. Additionally, the worker will have a\ndb_max_retry_interval of -1 thus allowing the system to retry\nindefinitely if the database is down.\n\nChange-Id: Ifb19ac66b5a44f7f390d680d07dbf06629615e39\n'}, {'number': 11, 'created': '2018-10-02 21:54:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/6bbf782ca14886a82cf6d34d4fb19432af5067c0', 'message': 'Break out config files for each octavia service\n\nThis patch brekas out a separate co fig file with separate overrides\nfor each octavis service. Additionally, the worker will have a\ndb_max_retry_interval of -1 thus allowing the system to retry\nindefinitely if the database is down.\n\nChange-Id: Ifb19ac66b5a44f7f390d680d07dbf06629615e39\n'}, {'number': 12, 'created': '2018-10-03 15:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/6998235bffa3bbdd674682891f0ff179f8573d1e', 'message': 'Break out config files for each octavia service\n\nThis patch brekas out a separate co fig file with separate overrides\nfor each octavis service. Additionally, the worker will have a\ndb_max_retry_interval of -1 thus allowing the system to retry\nindefinitely if the database is down.\n\nChange-Id: Ifb19ac66b5a44f7f390d680d07dbf06629615e39\n'}, {'number': 13, 'created': '2018-10-24 18:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/dfce9c7113bb6ca5e6f2c30436df0fb38bb09148', 'message': 'Break out config files for each octavia service\n\nThis patch brekas out a separate co fig file with separate overrides\nfor each octavis service. Additionally, the worker will have a\ndb_max_retry_interval of -1 thus allowing the system to retry\nindefinitely if the database is down.\n\nChange-Id: Ifb19ac66b5a44f7f390d680d07dbf06629615e39\n'}, {'number': 14, 'created': '2018-10-26 16:24:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/95595687173c920102bbc3d6b50c843aa22eeebd', 'message': 'Break out config files for each octavia service\n\nThis patch brekas out a separate co fig file with separate overrides\nfor each octavis service. Additionally, the worker will have a\ndb_max_retry_interval of -1 thus allowing the system to retry\nindefinitely if the database is down.\n\nChange-Id: Ifb19ac66b5a44f7f390d680d07dbf06629615e39\n'}, {'number': 15, 'created': '2018-11-26 20:12:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/8c456adeae42109b4294867de4ce01dd6158846e', 'message': 'Break out config files for each octavia service\n\nThis patch brekas out a separate co fig file with separate overrides\nfor each octavis service. Additionally, the worker will have a\ndb_max_retry_interval of -1 thus allowing the system to retry\nindefinitely if the database is down.\n\nChange-Id: Ifb19ac66b5a44f7f390d680d07dbf06629615e39\n'}, {'number': 16, 'created': '2018-12-03 21:35:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/a5ed8659467a85c2a78b4acf333448a22070a95c', 'message': 'Break out config files for each octavia service\n\nThis patch brekas out a separate co fig file with separate overrides\nfor each octavis service. Additionally, the worker will have a\ndb_max_retry_interval of -1 thus allowing the system to retry\nindefinitely if the database is down.\n\nChange-Id: Ifb19ac66b5a44f7f390d680d07dbf06629615e39\n'}, {'number': 17, 'created': '2019-03-28 19:12:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/d80b6d0e6707bf11d3b0dd462370fd9ae3aa7d68', 'message': 'Break out config files for each octavia service\n\nThis patch brekas out a separate co fig file with separate overrides\nfor each octavis service. Additionally, the worker will have a\ndb_max_retry_interval of -1 thus allowing the system to retry\nindefinitely if the database is down.\n\nChange-Id: Ifb19ac66b5a44f7f390d680d07dbf06629615e39\n'}, {'number': 18, 'created': '2019-03-29 03:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/20a05274794350d983e4b93b1a99a1dc76e6f340', 'message': 'Break out config files for each octavia service\n\nThis patch brekas out a separate co fig file with separate overrides\nfor each octavis service. Additionally, the worker will have a\ndb_max_retry_interval of -1 thus allowing the system to retry\nindefinitely if the database is down.\n\nChange-Id: Ifb19ac66b5a44f7f390d680d07dbf06629615e39\n'}, {'number': 19, 'created': '2019-03-29 04:16:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/f48f9db61d1e14f4a312112ea07b25ee6af28ec7', 'message': 'Break out config files for each octavia service\n\nThis patch brekas out a separate co fig file with separate overrides\nfor each octavis service. Additionally, the worker will have a\ndb_max_retry_interval of -1 thus allowing the system to retry\nindefinitely if the database is down.\n\nChange-Id: Ifb19ac66b5a44f7f390d680d07dbf06629615e39\n'}, {'number': 20, 'created': '2019-03-30 02:47:24.000000000', 'files': ['templates/octavia-systemd-init.j2', 'tasks/octavia_post_install.yml', 'templates/octavia.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/09bb39804ddb6e6cd9d75d582d1428c1888c3f21', 'message': 'Break out config files for each octavia service\n\nThis patch brekas out a separate co fig file with separate overrides\nfor each octavis service. Additionally, the worker will have a\ndb_max_retry_interval of -1 thus allowing the system to retry\nindefinitely if the database is down.\n\nChange-Id: Ifb19ac66b5a44f7f390d680d07dbf06629615e39\n'}]",1,603228,09bb39804ddb6e6cd9d75d582d1428c1888c3f21,49,5,20,10850,,,0,"Break out config files for each octavia service

This patch brekas out a separate co fig file with separate overrides
for each octavis service. Additionally, the worker will have a
db_max_retry_interval of -1 thus allowing the system to retry
indefinitely if the database is down.

Change-Id: Ifb19ac66b5a44f7f390d680d07dbf06629615e39
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/28/603228/16 && git format-patch -1 --stdout FETCH_HEAD,"['templates/octavia-systemd-init.j2', 'tasks/octavia_post_install.yml', 'templates/octavia.conf.j2', 'defaults/main.yml']",4,2200c6e54ee0427746cc401dbd033747120541ca,worker_db,"# worker should keep retrying if DB is down octavia_worker_db_max_retry_interval: -1## Tunable overrides octavia_octavia_conf_overrides: {} octavia_worker_conf_overrides: ""{{ octavia_octavia_conf_overrides }}"" octavia_api_conf_overrides: ""{{ octavia_octavia_conf_overrides }}"" octavia_health_manager_conf_overrides: ""{{ octavia_octavia_conf_overrides }}"" octavia_housekeeping_conf_overrides: ""{{ octavia_octavia_conf_overrides }}"" octavia_api_paste_ini_overrides: {} octavia_policy_overrides: {} config_overrides: ""octavia_api_conf_overrides"" config_overrides: ""{{ octavia_worker_conf_overrides }}"" config_overrides: ""{{ octavia_housekeeping_conf_overrides }}"" config_overrides: ""{{ octavia_health_manager_conf_overrides }}""",## Tunable overrides octavia_octavia_conf_overrides: {} octavia_api_paste_ini_overrides: {} octavia_policy_overrides: {},24,9
openstack%2Fpython-manilaclient~master~Ied983d85ca08a123b78bf8b05085fad8fe5bc2c5,openstack/python-manilaclient,master,Ied983d85ca08a123b78bf8b05085fad8fe5bc2c5,Fix error in CLI 'manila list' with sorting key 'availability_zone'.,MERGED,2021-03-24 06:11:21.000000000,2021-04-01 14:02:09.000000000,2021-04-01 14:00:35.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}, {'_account_id': 30998}]","[{'number': 1, 'created': '2021-03-24 06:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/9b3c94659ecea34cab9ac3f6b291d4fe2097408b', 'message': ""Fix error in CLI 'manila list' with sorting key 'availability_zone'.\n\nCLI 'manila list --sort-key availability_zone' return http 400 code,\nand error message 'Wrong sorting key provided'.\n\nThe cause is that sortble key name in sqlAlchemy model field is\n'availability_zone_id' , not 'availability_zone'.  So we need a\ntranslation in CLI implement.\n\nCloses-Bug: #1920888\nChange-Id: Ied983d85ca08a123b78bf8b05085fad8fe5bc2c5\n""}, {'number': 2, 'created': '2021-03-27 08:18:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/942dfea4fb08c58d49b29d5c0f730032422189e6', 'message': ""Fix error in CLI 'manila list' with sorting key 'availability_zone'.\n\nCLI 'manila list --sort-key availability_zone' return http 400 code,\nand error message 'Wrong sorting key provided'.\n\nThe cause is that sortble key name in sqlAlchemy model field is\n'availability_zone_id' , not 'availability_zone'.  So we need a\ntranslation in CLI implement.\n\nCloses-Bug: #1920888\nChange-Id: Ied983d85ca08a123b78bf8b05085fad8fe5bc2c5\n""}, {'number': 3, 'created': '2021-03-27 08:23:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/eda720969aad701468f820c476c6add46a5d2daf', 'message': ""Fix error in CLI 'manila list' with sorting key 'availability_zone'.\n\nCLI 'manila list --sort-key availability_zone' return http 400 code,\nand error message 'Wrong sorting key provided'.\n\nThe cause is that sortble key name in sqlAlchemy model field is\n'availability_zone_id' , not 'availability_zone'.  So we need a\ntranslation in CLI implement.\n\nCloses-Bug: #1920888\nChange-Id: Ied983d85ca08a123b78bf8b05085fad8fe5bc2c5\n""}, {'number': 4, 'created': '2021-03-27 08:32:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/92a3ba8b4997c1a0a49d12d19797c5c8943d06c4', 'message': ""Fix error in CLI 'manila list' with sorting key 'availability_zone'.\n\nCLI 'manila list --sort-key availability_zone' return http 400 code,\nand error message 'Wrong sorting key provided'.\n\nThe cause is that sortble key name in sqlAlchemy model field is\n'availability_zone_id' , not 'availability_zone'.  So we need a\ntranslation in CLI implement.\n\nCloses-Bug: #1920888\nChange-Id: Ied983d85ca08a123b78bf8b05085fad8fe5bc2c5\n""}, {'number': 5, 'created': '2021-03-27 10:15:42.000000000', 'files': ['manilaclient/tests/unit/v2/test_shell.py', 'manilaclient/v2/shares.py', 'manilaclient/common/constants.py', 'releasenotes/notes/bug-1920888-fix-error-in-cli-manila-list-with-sorting-key-availabilityzone-cea5a1f5d8a38fc3.yaml'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/69031b558d600e507b86dc1ee0a7087ac9436219', 'message': ""Fix error in CLI 'manila list' with sorting key 'availability_zone'.\n\nCLI 'manila list --sort-key availability_zone' return http 400 code,\nand error message 'Wrong sorting key provided'.\n\nThe cause is that sortble key name in sqlAlchemy model field is\n'availability_zone_id' , not 'availability_zone'.  So we need a\ntranslation in CLI implement.\n\nCloses-Bug: #1920888\nChange-Id: Ied983d85ca08a123b78bf8b05085fad8fe5bc2c5\n""}]",2,782635,69031b558d600e507b86dc1ee0a7087ac9436219,17,6,5,29156,,,0,"Fix error in CLI 'manila list' with sorting key 'availability_zone'.

CLI 'manila list --sort-key availability_zone' return http 400 code,
and error message 'Wrong sorting key provided'.

The cause is that sortble key name in sqlAlchemy model field is
'availability_zone_id' , not 'availability_zone'.  So we need a
translation in CLI implement.

Closes-Bug: #1920888
Change-Id: Ied983d85ca08a123b78bf8b05085fad8fe5bc2c5
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/35/782635/3 && git format-patch -1 --stdout FETCH_HEAD,['manilaclient/v2/shares.py'],1,9b3c94659ecea34cab9ac3f6b291d4fe2097408b,bug/1920888, elif sort_key == 'availability_zone': search_opts['sort_key'] = 'availability_zone_id',,2,0
openstack%2Ftripleo-heat-templates~master~Idf004f7a13544dfc1a8a6da033debd1a4f8b96e7,openstack/tripleo-heat-templates,master,Idf004f7a13544dfc1a8a6da033debd1a4f8b96e7,Move overcloud common bootstrap tasks out of step1 deploy tasks,MERGED,2021-03-20 10:23:23.000000000,2021-04-01 13:59:32.000000000,2021-04-01 13:59:32.000000000,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-20 10:23:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a18d1870581c5e8ec9f2747b923a140e9781b0ff', 'message': 'WIP DNM/DNR Move Overcloud common bootstrap tasks out of step1 deploy tasks\n\nAnd move it into its own play\n\nChange-Id: Idf004f7a13544dfc1a8a6da033debd1a4f8b96e7\n'}, {'number': 2, 'created': '2021-03-20 14:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d87106cc0ba438e01b19873075a3683918f33391', 'message': 'WIP DNM/DNR Move Overcloud common bootstrap tasks out of step1 deploy tasks\n\nAnd move it into its own play\n\nChange-Id: Idf004f7a13544dfc1a8a6da033debd1a4f8b96e7\n'}, {'number': 3, 'created': '2021-03-24 08:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/11bb46ad9f0e8eb56d75742d8df47704445b8932', 'message': 'WIP DNM/DNR Move Overcloud common bootstrap tasks out of step1 deploy tasks\n\nAnd move it into its own play. Common bootstrap tasks cover creating\nkolla files and container-startup-config files.\n\nIt makes more sense to split them out of the deployment steps as they\nneed to be run before any deployment step task and this makes it more\nexplicit.\n\nChange-Id: Idf004f7a13544dfc1a8a6da033debd1a4f8b96e7\n'}, {'number': 4, 'created': '2021-03-25 20:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ecd9e3ba964616a21befe10fc3bf9e567d234504', 'message': 'WIP DNM/DNR Move Overcloud common bootstrap tasks out of step1 deploy tasks\n\nAnd move it into its own play. Common bootstrap tasks cover creating\nkolla files and container-startup-config files.\n\nIt makes more sense to split them out of the deployment steps as they\nneed to be run before any deployment step task and this makes it more\nexplicit.\n\nAlso split out the non-puppet tasks into their own file and only use\nthat for this new play\n\nChange-Id: Idf004f7a13544dfc1a8a6da033debd1a4f8b96e7\n'}, {'number': 5, 'created': '2021-03-30 06:08:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3f6beb03dfaa775d560ade4e191656ddf497332f', 'message': 'WIP DNM/DNR Move Overcloud common bootstrap tasks out of step1 deploy tasks\n\nAnd move it into its own play. Common bootstrap tasks cover creating\nkolla files and container-startup-config files. We also rename it\n\nIt makes more sense to split them out of the deployment steps as they\nneed to be run before any deployment step task and this makes it more\nexplicit.\n\nAlso split out the non-puppet tasks into their own file and only use\nthat for this new play\n\nChange-Id: Idf004f7a13544dfc1a8a6da033debd1a4f8b96e7\n'}, {'number': 6, 'created': '2021-03-30 13:47:35.000000000', 'files': ['common/deploy-steps.j2', 'common/common-container-setup-tasks.yaml', 'common/deploy-steps-tasks-step-1.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3e9df9576b2e592d062bb07ce6a6091c07527185', 'message': ""Move overcloud common bootstrap tasks out of step1 deploy tasks\n\nAnd move it into its own play called 'Overcloud container setup tasks'\nThis set of tasks covers creating kolla files and\ncontainer-startup-config files.\n\nIt makes more sense to split them out of the deployment steps as they\nneed to be run before any deployment step task and this makes it more\nexplicit.\n\nThis change is needed in order to support a new upcoming set of tasks\npre_deployment_setup_tasks that can spawn containers even before\nany deployment tasks or external deployment task.\n\nChange-Id: Idf004f7a13544dfc1a8a6da033debd1a4f8b96e7\n""}]",9,781963,3e9df9576b2e592d062bb07ce6a6091c07527185,40,7,6,20172,,,0,"Move overcloud common bootstrap tasks out of step1 deploy tasks

And move it into its own play called 'Overcloud container setup tasks'
This set of tasks covers creating kolla files and
container-startup-config files.

It makes more sense to split them out of the deployment steps as they
need to be run before any deployment step task and this makes it more
explicit.

This change is needed in order to support a new upcoming set of tasks
pre_deployment_setup_tasks that can spawn containers even before
any deployment tasks or external deployment task.

Change-Id: Idf004f7a13544dfc1a8a6da033debd1a4f8b96e7
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/63/781963/5 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,a18d1870581c5e8ec9f2747b923a140e9781b0ff,test1," - hosts: {{primary_role_name}}:DEPLOY_TARGET_HOST strategy: tripleo_free name: Overcloud common bootstrap tasks become: true gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}"" any_errors_fatal: yes vars: bootstrap_server_id: BOOTSTRAP_SERVER_ID step: '{{step}}' deploy_identifier: DEPLOY_IDENTIFIER enable_debug: ENABLE_DEBUG enable_puppet: ENABLE_PUPPET container_cli: CONTAINER_CLI container_log_stdout_path: CONTAINER_LOG_STDOUT_PATH container_healthcheck_disabled: CONTAINER_HEALTHCHECK_DISABLED docker_puppet_debug: DOCKER_PUPPET_DEBUG docker_puppet_process_count: DOCKER_PUPPET_PROCESS_COUNT docker_puppet_mount_host_puppet: DOCKER_PUPPET_MOUNT_HOST_PUPPET tasks: - name: Overcloud common bootstrap tasks block: - name: Overcloud common bootstrap tasks delegate_to: localhost run_once: true debug: msg: Use --start-at-task 'Overcloud common bootstrap tasks' to resume from this task - name: Write config data include_tasks: common_deploy_steps_tasks_step_1.yaml when: - (deploy_identifier is defined and deploy_identifier != """" and deploy_identifier is not none) or ","{% if step == 1 %} - name: Overcloud common bootstrap tasks for step 1 block: - name: Overcloud common bootstrap tasks for step 1 delegate_to: localhost run_once: true debug: msg: Use --start-at-task 'Overcloud common bootstrap tasks for step 1' to resume from this task - name: ""Check if /var/lib/tripleo-config/container-startup-config/step_{{step}} already exists"" stat: path: ""/var/lib/tripleo-config/container-startup-config/step_{{step}}"" register: container_startup_configs_json_stat - name: Write config data at the start of step 1 include_tasks: common_deploy_steps_tasks_step_1.yaml when: - ((deploy_identifier is defined and deploy_identifier != """" and deploy_identifier is not none) or not container_startup_configs_json_stat.stat.exists) {% endif %}",31,18
openstack%2Fglance~stable%2Fvictoria~Ib80e9cfb58680f9e8ead5993dc206f4da882dd09,openstack/glance,stable/victoria,Ib80e9cfb58680f9e8ead5993dc206f4da882dd09,Add housekeeping module and staging cleaner,MERGED,2021-03-10 01:22:42.000000000,2021-04-01 13:42:57.000000000,2021-04-01 13:39:22.000000000,"[{'_account_id': 4393}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-10 01:22:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/057d32c3839eff8df6b26dc91252d38d2cb2d6cf', 'message': 'Add housekeeping module and staging cleaner\n\nAs noted in previous discussions, glance should clean its staging\ndirectory on startup. This is important for scenarios where we\nstarted an import operation, but failed in the middle. If, when we\nrecover, the image has already been deleted from the database, then\nwe will never remove the (potentially very large) residue from disk\nin our staging directory.\n\nThis is currently a problem with web-download, but will also occur\nwith glance-direct once we have the non-shared distributed import\nfunctionality merged.\n\nConflicts:\n\tglance/tests/unit/common/test_wsgi_app.py: Minor differences\n\nCloses-Bug: #1913625\nChange-Id: Ib80e9cfb58680f9e8ead5993dc206f4da882dd09\n(cherry picked from commit 232177e68c547a815c31a2f30b6d1f95cdb3098d)\n'}, {'number': 2, 'created': '2021-03-24 14:16:35.000000000', 'files': ['glance/common/wsgi.py', 'glance/housekeeping.py', 'glance/tests/functional/test_wsgi.py', 'glance/common/wsgi_app.py', 'glance/tests/unit/test_housekeeping.py', 'glance/tests/unit/common/test_wsgi_app.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/94679941368d37520975e0a1dc81d27424167191', 'message': 'Add housekeeping module and staging cleaner\n\nAs noted in previous discussions, glance should clean its staging\ndirectory on startup. This is important for scenarios where we\nstarted an import operation, but failed in the middle. If, when we\nrecover, the image has already been deleted from the database, then\nwe will never remove the (potentially very large) residue from disk\nin our staging directory.\n\nThis is currently a problem with web-download, but will also occur\nwith glance-direct once we have the non-shared distributed import\nfunctionality merged.\n\nConflicts:\n\tglance/tests/unit/common/test_wsgi_app.py: Minor differences\n\nCloses-Bug: #1913625\nChange-Id: Ib80e9cfb58680f9e8ead5993dc206f4da882dd09\n(cherry picked from commit 232177e68c547a815c31a2f30b6d1f95cdb3098d)\n'}]",1,779636,94679941368d37520975e0a1dc81d27424167191,25,3,2,8122,,,0,"Add housekeeping module and staging cleaner

As noted in previous discussions, glance should clean its staging
directory on startup. This is important for scenarios where we
started an import operation, but failed in the middle. If, when we
recover, the image has already been deleted from the database, then
we will never remove the (potentially very large) residue from disk
in our staging directory.

This is currently a problem with web-download, but will also occur
with glance-direct once we have the non-shared distributed import
functionality merged.

Conflicts:
	glance/tests/unit/common/test_wsgi_app.py: Minor differences

Closes-Bug: #1913625
Change-Id: Ib80e9cfb58680f9e8ead5993dc206f4da882dd09
(cherry picked from commit 232177e68c547a815c31a2f30b6d1f95cdb3098d)
",git fetch https://review.opendev.org/openstack/glance refs/changes/36/779636/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/common/wsgi.py', 'glance/housekeeping.py', 'glance/tests/functional/test_wsgi.py', 'glance/common/wsgi_app.py', 'glance/tests/unit/test_housekeeping.py', 'glance/tests/unit/common/test_wsgi_app.py']",6,057d32c3839eff8df6b26dc91252d38d2cb2d6cf,victoria/bug/1913625," @mock.patch('glance.async_._THREADPOOL_MODEL', new=None) @mock.patch('glance.common.config.load_paste_app') @mock.patch('glance.common.wsgi_app._get_config_files') @mock.patch('threading.Thread') @mock.patch('glance.housekeeping.StagingStoreCleaner') def test_runs_staging_cleanup(self, mock_cleaner, mock_Thread, mock_conf, mock_load): mock_conf.return_value = [] wsgi_app.init_app() mock_Thread.assert_called_once_with( target=mock_cleaner().clean_orphaned_staging_residue, daemon=True) mock_Thread.return_value.start.assert_called_once_with()",,515,1
openstack%2Ftacker~master~Ic1d5aa99e849c8cd3415c17b0a1ec539ed8dee02,openstack/tacker,master,Ic1d5aa99e849c8cd3415c17b0a1ec539ed8dee02,Add Python3 xena unit tests,MERGED,2021-03-27 10:20:45.000000000,2021-04-01 13:41:14.000000000,2021-04-01 13:32:59.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}]","[{'number': 1, 'created': '2021-03-27 10:20:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/0851c98e906183fbb88d522ff63c5127141df8c1', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Ic1d5aa99e849c8cd3415c17b0a1ec539ed8dee02\n'}, {'number': 2, 'created': '2021-04-01 08:44:55.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tacker/commit/19594e091fa927b6fd17cca03b1936baf94dcf74', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Ic1d5aa99e849c8cd3415c17b0a1ec539ed8dee02\n'}]",0,783532,19594e091fa927b6fd17cca03b1936baf94dcf74,13,5,2,22816,,,0,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Ic1d5aa99e849c8cd3415c17b0a1ec539ed8dee02
",git fetch https://review.opendev.org/openstack/tacker refs/changes/32/783532/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,0851c98e906183fbb88d522ff63c5127141df8c1,add-xena-python-jobtemplates, - openstack-python3-xena-jobs, - openstack-python3-wallaby-jobs,1,1
openstack%2Fkolla~master~I2dd4d1183d567ceec70a024f985a35bc991c318f,openstack/kolla,master,I2dd4d1183d567ceec70a024f985a35bc991c318f,Debian: use Wallaby specific repo for libvirt,MERGED,2021-03-29 16:43:07.000000000,2021-04-01 13:40:23.000000000,2021-04-01 13:31:50.000000000,"[{'_account_id': 14826}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 26285}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2021-03-29 16:43:07.000000000', 'files': ['kolla/template/repos.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/e34b9e469074e52b26f485c171d0b4c05f5b19ed', 'message': 'Debian: use Wallaby specific repo for libvirt\n\nI need to keep libvirt 5.0.0 for <Wallaby branches.\n\nChange-Id: I2dd4d1183d567ceec70a024f985a35bc991c318f\n'}]",7,783713,e34b9e469074e52b26f485c171d0b4c05f5b19ed,20,8,1,24072,,,0,"Debian: use Wallaby specific repo for libvirt

I need to keep libvirt 5.0.0 for <Wallaby branches.

Change-Id: I2dd4d1183d567ceec70a024f985a35bc991c318f
",git fetch https://review.opendev.org/openstack/kolla refs/changes/13/783713/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/template/repos.yaml'],1,e34b9e469074e52b26f485c171d0b4c05f5b19ed,," libvirt: ""deb https://obs.linaro.org/repos/home:/marcin.juszkiewicz:/kolla-wallaby/debian-buster ./"" libvirt: ""deb https://obs.linaro.org/repos/home:/marcin.juszkiewicz:/kolla-wallaby/debian-buster ./"""," libvirt: ""deb https://obs.linaro.org/repos/home:/marcin.juszkiewicz/debian-buster ./"" libvirt: ""deb https://obs.linaro.org/repos/home:/marcin.juszkiewicz/debian-buster ./""",2,2
openstack%2Fkolla~stable%2Fvictoria~Iea2c02d59d2906141ca37ce9b48a0f7f4fc14421,openstack/kolla,stable/victoria,Iea2c02d59d2906141ca37ce9b48a0f7f4fc14421,Add octavia-driver-agent,MERGED,2021-03-25 11:15:17.000000000,2021-04-01 13:38:28.000000000,2021-04-01 13:28:18.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-03-25 11:15:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/50c0b7c1f4e7dbf930983817827eb1163d93c7e5', 'message': 'Add octavia-driver-agent\n\nChange-Id: Iea2c02d59d2906141ca37ce9b48a0f7f4fc14421\n(cherry picked from commit 785fe5641de3e46b17e52d16e0c8a9e02b8a5633)\n'}, {'number': 2, 'created': '2021-03-25 11:16:21.000000000', 'files': ['docker/octavia/octavia-driver-agent/Dockerfile.j2', 'kolla/common/config.py', 'releasenotes/notes/octavia-driver-agent-83ee17b82c577e95.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/619d017dc4ffde1448fab659fd5691650b2324ab', 'message': 'Add octavia-driver-agent\n\nChange-Id: Iea2c02d59d2906141ca37ce9b48a0f7f4fc14421\n(cherry picked from commit 785fe5641de3e46b17e52d16e0c8a9e02b8a5633)\n'}]",0,782957,619d017dc4ffde1448fab659fd5691650b2324ab,14,3,2,22629,,,0,"Add octavia-driver-agent

Change-Id: Iea2c02d59d2906141ca37ce9b48a0f7f4fc14421
(cherry picked from commit 785fe5641de3e46b17e52d16e0c8a9e02b8a5633)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/57/782957/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/octavia/octavia-driver-agent/Dockerfile.j2', 'kolla/common/config.py', 'releasenotes/notes/octavia-driver-agent-83ee17b82c577e95.yaml']",3,50c0b7c1f4e7dbf930983817827eb1163d93c7e5,,--- features: - | ``octavia-driver-agent`` image was added to support other Octavia providers than ``amphora``. ,,54,0
openstack%2Fkolla~stable%2Fvictoria~I21c3a0e423235301269d0a5b212d0ce6970ab88f,openstack/kolla,stable/victoria,I21c3a0e423235301269d0a5b212d0ce6970ab88f,rabbitmq: bump Erlang requirements to v23 in Debian,MERGED,2021-03-29 16:03:01.000000000,2021-04-01 13:32:01.000000000,2021-04-01 13:25:02.000000000,"[{'_account_id': 14826}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 26285}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2021-03-29 16:03:01.000000000', 'files': ['docker/base/apt_preferences.debian'], 'web_link': 'https://opendev.org/openstack/kolla/commit/3da9ded5f223bd72908eab9f8c9426f01561a2f4', 'message': 'rabbitmq: bump Erlang requirements to v23 in Debian\n\nCurrent rabbitmq requires erlang v22.3+ while we had v22.1 on aarch64.\n\nOn x86-64 we use upstream repo so have both v22 and v23.\n\nOn AArch64 we use Linaro backports repo so have v23.2\n\nChange-Id: I21c3a0e423235301269d0a5b212d0ce6970ab88f\n(cherry picked from commit 8c49148864b0769f8537ae909421b4923277d944)\n'}]",0,783678,3da9ded5f223bd72908eab9f8c9426f01561a2f4,11,8,1,24072,,,0,"rabbitmq: bump Erlang requirements to v23 in Debian

Current rabbitmq requires erlang v22.3+ while we had v22.1 on aarch64.

On x86-64 we use upstream repo so have both v22 and v23.

On AArch64 we use Linaro backports repo so have v23.2

Change-Id: I21c3a0e423235301269d0a5b212d0ce6970ab88f
(cherry picked from commit 8c49148864b0769f8537ae909421b4923277d944)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/78/783678/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/apt_preferences.debian'],1,3da9ded5f223bd72908eab9f8c9426f01561a2f4,,"# We need erlang 22+ for rabbitmq (aarch64 has v23, x86-64 has v22 and v23 so we use v23)Pin: version 1:23.*",# We need erlang 22 for rabbitmqPin: version 1:22.*,2,2
openstack%2Fkolla~stable%2Fstein~I1d175b603bbc3adbd371a2d66401ed380378ea9e,openstack/kolla,stable/stein,I1d175b603bbc3adbd371a2d66401ed380378ea9e,Fix url for get_pip macro,MERGED,2021-03-19 09:37:03.000000000,2021-04-01 13:30:58.000000000,2021-04-01 13:27:00.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-03-19 09:37:03.000000000', 'files': ['docker/macros.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/1bc50ebba67b52ad545123627b25a0f893f350f7', 'message': 'Fix url for get_pip macro\n\nStein only.\n\nChange-Id: I1d175b603bbc3adbd371a2d66401ed380378ea9e\n'}]",0,781606,1bc50ebba67b52ad545123627b25a0f893f350f7,11,3,1,30523,,,0,"Fix url for get_pip macro

Stein only.

Change-Id: I1d175b603bbc3adbd371a2d66401ed380378ea9e
",git fetch https://review.opendev.org/openstack/kolla refs/changes/06/781606/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/macros.j2'],1,1bc50ebba67b52ad545123627b25a0f893f350f7,fix_pip2,RUN curl https://bootstrap.pypa.io/pip/{% if distro_python_version == '2.7' %}2.7/{% endif %}get-pip.py -o get-pip.py \,RUN curl https://bootstrap.pypa.io/{% if distro_python_version == '2.7' %}2.7/{% endif %}get-pip.py -o get-pip.py \,1,1
openstack%2Fkolla~stable%2Fussuri~I21c3a0e423235301269d0a5b212d0ce6970ab88f,openstack/kolla,stable/ussuri,I21c3a0e423235301269d0a5b212d0ce6970ab88f,rabbitmq: bump Erlang requirements to v23 in Debian,MERGED,2021-03-29 16:33:11.000000000,2021-04-01 13:30:35.000000000,2021-04-01 13:25:56.000000000,"[{'_account_id': 14826}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 26285}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2021-03-29 16:33:11.000000000', 'files': ['docker/base/apt_preferences.debian'], 'web_link': 'https://opendev.org/openstack/kolla/commit/075d38162093cfda0372f352c8f8416bba52f6a4', 'message': 'rabbitmq: bump Erlang requirements to v23 in Debian\n\nCurrent rabbitmq requires erlang v22.3+ while we had v22.1 on aarch64.\n\nOn x86-64 we use upstream repo so have both v22 and v23.\n\nOn AArch64 we use Linaro backports repo so have v23.2\n\nChange-Id: I21c3a0e423235301269d0a5b212d0ce6970ab88f\n(cherry picked from commit 8c49148864b0769f8537ae909421b4923277d944)\n'}]",0,783681,075d38162093cfda0372f352c8f8416bba52f6a4,11,8,1,24072,,,0,"rabbitmq: bump Erlang requirements to v23 in Debian

Current rabbitmq requires erlang v22.3+ while we had v22.1 on aarch64.

On x86-64 we use upstream repo so have both v22 and v23.

On AArch64 we use Linaro backports repo so have v23.2

Change-Id: I21c3a0e423235301269d0a5b212d0ce6970ab88f
(cherry picked from commit 8c49148864b0769f8537ae909421b4923277d944)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/81/783681/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/apt_preferences.debian'],1,075d38162093cfda0372f352c8f8416bba52f6a4,,"# We need erlang 22+ for rabbitmq (aarch64 has v23, x86-64 has v22 and v23 so we use v23)Pin: version 1:23.*",# We need erlang 22 for rabbitmqPin: version 1:22.*,2,2
openstack%2Fkolla~stable%2Fvictoria~I4371daf7b28c8a057364d17e2e47f6e22665447c,openstack/kolla,stable/victoria,I4371daf7b28c8a057364d17e2e47f6e22665447c,base: Debian has QEMU 5.2 now so update pinning,MERGED,2021-03-29 16:05:58.000000000,2021-04-01 13:28:43.000000000,2021-04-01 13:23:47.000000000,"[{'_account_id': 14826}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 26285}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2021-03-29 16:05:58.000000000', 'files': ['docker/base/apt_preferences.debian'], 'web_link': 'https://opendev.org/openstack/kolla/commit/73d4a7f4a76ea7f76b2062f1b54d841bd78875c3', 'message': 'base: Debian has QEMU 5.2 now so update pinning\n\nChange-Id: I4371daf7b28c8a057364d17e2e47f6e22665447c\n(cherry picked from commit 94271224234932e5572908afc3d07c4f24784d63)\n'}]",0,783679,73d4a7f4a76ea7f76b2062f1b54d841bd78875c3,11,8,1,24072,,,0,"base: Debian has QEMU 5.2 now so update pinning

Change-Id: I4371daf7b28c8a057364d17e2e47f6e22665447c
(cherry picked from commit 94271224234932e5572908afc3d07c4f24784d63)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/79/783679/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/apt_preferences.debian'],1,73d4a7f4a76ea7f76b2062f1b54d841bd78875c3,,Pin: version 1:5.*Package: libpmem1 libndctl6 libdaxctl1 pmdk-tools libpmemblk1 libpmemlog1 libpmemobj1 libpmempool1 liburing1 libfdt1,Pin: version 1:5.0*Package: libpmem1 libndctl6 libdaxctl1 pmdk-tools libpmemblk1 libpmemlog1 libpmemobj1 libpmempool1,2,2
openstack%2Fos-brick~stable%2Fussuri~I066d456fb1fe9159d4be50ffd8abf9a6d8d07901,openstack/os-brick,stable/ussuri,I066d456fb1fe9159d4be50ffd8abf9a6d8d07901,iSCSI: Fix flushing after multipath cfg change,MERGED,2021-03-31 12:39:55.000000000,2021-04-01 13:28:25.000000000,2021-04-01 13:22:53.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-31 12:39:55.000000000', 'files': ['releasenotes/notes/wallaby-extra-prelude-d8de88e3e11a7b9f.yaml', 'os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/connectors/iscsi.py', 'os_brick/initiator/linuxscsi.py', 'os_brick/initiator/connectors/base_iscsi.py', 'releasenotes/notes/disconnect-multipath-cfg-changed-637abc5ecf44fb10.yaml', 'os_brick/tests/initiator/connectors/test_base_iscsi.py', 'os_brick/exception.py', 'os_brick/tests/initiator/connectors/test_iser.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/4894b242cf97f6630ee21392443ddb3ce1be09ef', 'message': ""iSCSI: Fix flushing after multipath cfg change\n\nOS-Brick disconnect_volume code assumes that the use_multipath parameter\nthat is used to instantiate the connector has the same value than the\nconnector that was used on the original connect_volume call.\n\nUnfortunately this is not necessarily true, because Nova can attach a\nvolume, then its multipath configuration can be enabled or disabled, and\nthen a detach can be issued.\n\nThis leads to a series of serious issues such as:\n\n- Not flushing the single path on disconnect_volume (possible data loss)\n  and leaving it as a leftover device on the host when Nova calls\n  terminate-connection on Cinder.\n\n- Not flushing the multipath device (possible data loss) and leaving it\n  as a leftover device similarly to the other case.\n\nThis patch changes how we do disconnects, now we assume we are always\ndisconnecting multipaths, and fallback to doing the single path\ndisconnect we used to do if we can't go that route.\n\nThe case when we cannot do a multipathed detach is mostly when we did\nthe connect as a single path and the Cinder driver doesn't provide\nportal_targets and portal_iqns in the connection info for non\nmultipathed initialize-connection calls.\n\nThis changes introduces an additional call when working with single\npaths (checking the discoverydb), but it should be an acceptable\ntrade-off to not lose data.\n\nAlso includes squash to add release note from:\nAdd release note prelude for os-brick 4.4.0\nChange-Id: I0f9e088fbb14ee9a73175aa31bca8c619db5a96f\n\nCloses-Bug: #1921381\nChange-Id: I066d456fb1fe9159d4be50ffd8abf9a6d8d07901\n(cherry picked from commit d4205bd0be60758d40e342d98424488d56e029ef)\n(cherry picked from commit c70d70b24056b81a482de36a8e47757210e2e898)\n(cherry picked from commit 9528ceab4f32cebb700a0b69f2ea58ec101700a1)\n""}]",0,784095,4894b242cf97f6630ee21392443ddb3ce1be09ef,17,4,1,10459,,,0,"iSCSI: Fix flushing after multipath cfg change

OS-Brick disconnect_volume code assumes that the use_multipath parameter
that is used to instantiate the connector has the same value than the
connector that was used on the original connect_volume call.

Unfortunately this is not necessarily true, because Nova can attach a
volume, then its multipath configuration can be enabled or disabled, and
then a detach can be issued.

This leads to a series of serious issues such as:

- Not flushing the single path on disconnect_volume (possible data loss)
  and leaving it as a leftover device on the host when Nova calls
  terminate-connection on Cinder.

- Not flushing the multipath device (possible data loss) and leaving it
  as a leftover device similarly to the other case.

This patch changes how we do disconnects, now we assume we are always
disconnecting multipaths, and fallback to doing the single path
disconnect we used to do if we can't go that route.

The case when we cannot do a multipathed detach is mostly when we did
the connect as a single path and the Cinder driver doesn't provide
portal_targets and portal_iqns in the connection info for non
multipathed initialize-connection calls.

This changes introduces an additional call when working with single
paths (checking the discoverydb), but it should be an acceptable
trade-off to not lose data.

Also includes squash to add release note from:
Add release note prelude for os-brick 4.4.0
Change-Id: I0f9e088fbb14ee9a73175aa31bca8c619db5a96f

Closes-Bug: #1921381
Change-Id: I066d456fb1fe9159d4be50ffd8abf9a6d8d07901
(cherry picked from commit d4205bd0be60758d40e342d98424488d56e029ef)
(cherry picked from commit c70d70b24056b81a482de36a8e47757210e2e898)
(cherry picked from commit 9528ceab4f32cebb700a0b69f2ea58ec101700a1)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/95/784095/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/wallaby-extra-prelude-d8de88e3e11a7b9f.yaml', 'os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/connectors/iscsi.py', 'os_brick/initiator/linuxscsi.py', 'os_brick/initiator/connectors/base_iscsi.py', 'releasenotes/notes/disconnect-multipath-cfg-changed-637abc5ecf44fb10.yaml', 'os_brick/exception.py', 'os_brick/tests/initiator/connectors/test_base_iscsi.py', 'os_brick/tests/initiator/connectors/test_iser.py']",10,4894b242cf97f6630ee21392443ddb3ce1be09ef,cleanup_connection," iql_mock.assert_called_once_with(self.connection_data, discover=False, is_disconnect_call=False)"," iql_mock.assert_called_once_with(self.connection_data, discover=False)",148,85
openstack%2Fpbr~master~Id43ba91585160448ad9737ba958ace5163d26f3d,openstack/pbr,master,Id43ba91585160448ad9737ba958ace5163d26f3d,util: Convert 'D1_D2_SETUP_ARGS' to a list of tuples,MERGED,2021-03-15 17:29:42.000000000,2021-04-01 12:31:54.000000000,2021-04-01 12:30:42.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2021-03-15 17:29:42.000000000', 'files': ['pbr/util.py'], 'web_link': 'https://opendev.org/openstack/pbr/commit/1d6ae9c59a890a761c7d7b68d6d6cb5f33e1c867', 'message': ""util: Convert 'D1_D2_SETUP_ARGS' to a list of tuples\n\nDicts can't have duplicate keys. Lists of tuples can. We're going to\nneed duplicates.\n\nChange-Id: Id43ba91585160448ad9737ba958ace5163d26f3d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,780632,1d6ae9c59a890a761c7d7b68d6d6cb5f33e1c867,14,4,1,15334,,,0,"util: Convert 'D1_D2_SETUP_ARGS' to a list of tuples

Dicts can't have duplicate keys. Lists of tuples can. We're going to
need duplicates.

Change-Id: Id43ba91585160448ad9737ba958ace5163d26f3d
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/pbr refs/changes/32/780632/1 && git format-patch -1 --stdout FETCH_HEAD,['pbr/util.py'],1,1d6ae9c59a890a761c7d7b68d6d6cb5f33e1c867,fix-python_requires-support,"D1_D2_SETUP_ARGS = ( ('name', ('metadata',)), ('version', ('metadata',)), ('author', ('metadata',)), ('author_email', ('metadata',)), ('maintainer', ('metadata',)), ('maintainer_email', ('metadata',)), ('url', ('metadata', 'home_page')), ('project_urls', ('metadata',)), ('description', ('metadata', 'summary')), ('keywords', ('metadata',)), ('long_description', ('metadata', 'description')), ( 'long_description_content_type', ('metadata', 'description_content_type'), ), ('download_url', ('metadata',)), ('classifiers', ('metadata', 'classifier')), ('platforms', ('metadata', 'platform')), # ** ('license', ('metadata',)), ('install_requires', ('metadata', 'requires_dist')), ('setup_requires', ('metadata', 'setup_requires_dist')), ('python_requires', ('metadata',)), ('provides', ('metadata', 'provides_dist')), # ** ('provides_extras', ('metadata',)), ('obsoletes', ('metadata', 'obsoletes_dist')), # ** ('package_dir', ('files', 'packages_root')), ('packages', ('files',)), ('package_data', ('files',)), ('namespace_packages', ('files',)), ('data_files', ('files',)), ('scripts', ('files',)), ('py_modules', ('files', 'modules')), # ** ('cmdclass', ('global', 'commands')), ('zip_safe', ('backwards_compat', 'zip_safe')), ('tests_require', ('backwards_compat', 'tests_require')), ('dependency_links', ('backwards_compat',)), ('include_package_data', ('backwards_compat',)), ) for arg, alias in D1_D2_SETUP_ARGS: if len(alias) == 2: section, option = alias elif len(alias) == 1: section = alias[0]","D1_D2_SETUP_ARGS = { ""name"": (""metadata"",), ""version"": (""metadata"",), ""author"": (""metadata"",), ""author_email"": (""metadata"",), ""maintainer"": (""metadata"",), ""maintainer_email"": (""metadata"",), ""url"": (""metadata"", ""home_page""), ""project_urls"": (""metadata"",), ""description"": (""metadata"", ""summary""), ""keywords"": (""metadata"",), ""long_description"": (""metadata"", ""description""), ""long_description_content_type"": (""metadata"", ""description_content_type""), ""download_url"": (""metadata"",), ""classifiers"": (""metadata"", ""classifier""), ""platforms"": (""metadata"", ""platform""), # ** ""license"": (""metadata"",), ""install_requires"": (""metadata"", ""requires_dist""), ""setup_requires"": (""metadata"", ""setup_requires_dist""), ""python_requires"": (""metadata"",), ""provides"": (""metadata"", ""provides_dist""), # ** ""provides_extras"": (""metadata"",), ""obsoletes"": (""metadata"", ""obsoletes_dist""), # ** ""package_dir"": (""files"", 'packages_root'), ""packages"": (""files"",), ""package_data"": (""files"",), ""namespace_packages"": (""files"",), ""data_files"": (""files"",), ""scripts"": (""files"",), ""py_modules"": (""files"", ""modules""), # ** ""cmdclass"": (""global"", ""commands""), ""zip_safe"": (""backwards_compat"", ""zip_safe""), ""tests_require"": (""backwards_compat"", ""tests_require""), ""dependency_links"": (""backwards_compat"",), ""include_package_data"": (""backwards_compat"",), } for arg in D1_D2_SETUP_ARGS: if len(D1_D2_SETUP_ARGS[arg]) == 2: section, option = D1_D2_SETUP_ARGS[arg] elif len(D1_D2_SETUP_ARGS[arg]) == 1: section = D1_D2_SETUP_ARGS[arg][0]",44,41
openstack%2Fmagnum~master~I22b698cd925dcf4f10805ae9493b77ddc9709f3f,openstack/magnum,master,I22b698cd925dcf4f10805ae9493b77ddc9709f3f,Download correct cri-containerd-cni tarball,MERGED,2021-03-23 16:42:01.000000000,2021-04-01 12:09:19.000000000,2021-04-01 12:07:40.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2021-03-23 16:42:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/0433040983901e9ab456b4661ca832fb08949822', 'message': 'Bump containerd version to 1.4.4\n\nIn I05cbd1ec62e9a68c68a1666ff62f20138bf8c731, fedora_coreos_v1 driver was\nmissed in version bump. This PS bumps it to 1.4.4 for both fedora_coreos_v1 and\nfedora_atomic_v1 drivers.\n\nStory: 2008451\nTask: 42098\n\nChange-Id: I22b698cd925dcf4f10805ae9493b77ddc9709f3f\n'}, {'number': 2, 'created': '2021-03-25 09:50:37.000000000', 'files': ['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'doc/source/user/index.rst', 'magnum/drivers/common/templates/kubernetes/fragments/install-cri.sh', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/1de9b140f499ebed03c6079642dbc3b3521e1b7f', 'message': 'Download correct cri-containerd-cni tarball\n\nIn I05cbd1ec62e9a68c68a1666ff62f20138bf8c731, fedora_coreos_v1 driver was\nmissed in version bump. This PS bumps it to 1.4.4 for both fedora_coreos_v1 and\nfedora_atomic_v1 drivers.\n\nStory: 2008451\nTask: 42098\n\nChange-Id: I22b698cd925dcf4f10805ae9493b77ddc9709f3f\n'}]",1,782556,1de9b140f499ebed03c6079642dbc3b3521e1b7f,19,4,2,28022,,,0,"Download correct cri-containerd-cni tarball

In I05cbd1ec62e9a68c68a1666ff62f20138bf8c731, fedora_coreos_v1 driver was
missed in version bump. This PS bumps it to 1.4.4 for both fedora_coreos_v1 and
fedora_atomic_v1 drivers.

Story: 2008451
Task: 42098

Change-Id: I22b698cd925dcf4f10805ae9493b77ddc9709f3f
",git fetch https://review.opendev.org/openstack/magnum refs/changes/56/782556/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'doc/source/user/index.rst', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml']",3,0433040983901e9ab456b4661ca832fb08949822,containerd, default: '1.4.4' default: '2d93227ae882ce29671a863de124fe464a8b75387d69d8d618805572c8013ee8', default: '1.2.8' default: '1f2f0fb928179df90492a83c326a194b8e9d992538498efb44cbb6ef15465627',7,5
openstack%2Fmagnum~master~I7fd016a3ce421843ec08258b660ebb206f39927f,openstack/magnum,master,I7fd016a3ce421843ec08258b660ebb206f39927f,calico: Add IP_AUTODETECTION_METHOD,ABANDONED,2021-02-16 10:05:48.000000000,2021-04-01 12:07:31.000000000,,"[{'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2021-02-16 10:05:48.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/calico-service-v3-3-x.sh', 'magnum/drivers/heat/k8s_coreos_template_def.py', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'doc/source/user/index.rst', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/drivers/heat/k8s_fedora_template_def.py', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/calico-service.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/c5c4c6dc79e48fb7bd43fa40936eaa8c6228f80e', 'message': 'calico: Add IP_AUTODETECTION_METHOD\n\nFor nodes with multiple interfaces - first_found does not usually work\ncorrectly - this change allows the user to set IP_AUTODETECTION_METHOD [1].\n\n[1]: https://docs.projectcalico.org/reference/node/configuration#ip-autodetection-methods\n\nChange-Id: I7fd016a3ce421843ec08258b660ebb206f39927f\n'}]",2,775788,c5c4c6dc79e48fb7bd43fa40936eaa8c6228f80e,9,2,1,22629,,,0,"calico: Add IP_AUTODETECTION_METHOD

For nodes with multiple interfaces - first_found does not usually work
correctly - this change allows the user to set IP_AUTODETECTION_METHOD [1].

[1]: https://docs.projectcalico.org/reference/node/configuration#ip-autodetection-methods

Change-Id: I7fd016a3ce421843ec08258b660ebb206f39927f
",git fetch https://review.opendev.org/openstack/magnum refs/changes/88/775788/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/calico-service-v3-3-x.sh', 'magnum/drivers/heat/k8s_coreos_template_def.py', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'doc/source/user/index.rst', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/drivers/heat/k8s_fedora_template_def.py', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/calico-service.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.sh']",11,c5c4c6dc79e48fb7bd43fa40936eaa8c6228f80e,,"CALICO_IP_AUTODETECTION_METHOD=""$CALICO_IP_AUTODETECTION_METHOD""",,41,0
openstack%2Fnova~master~Ice641a8ce2658e0df4eea08f527fe7813617218f,openstack/nova,master,Ice641a8ce2658e0df4eea08f527fe7813617218f,docs: Rewrite 'nova-manage libvirt' docs,MERGED,2021-03-18 15:43:07.000000000,2021-04-01 12:03:26.000000000,2021-04-01 11:57:40.000000000,"[{'_account_id': 4690}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-18 15:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dd8c3ff68da52d5676ad3a8a5f9b9809742c74fb', 'message': ""docs: Rewrite 'nova-manage libvirt' docs\n\nChange-Id: Ice641a8ce2658e0df4eea08f527fe7813617218f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-03-18 18:00:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/24d49da02ad4da89406a08b9800514661a8d479b', 'message': ""docs: Rewrite 'nova-manage libvirt' docs\n\nChange-Id: Ice641a8ce2658e0df4eea08f527fe7813617218f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-03-30 11:19:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/23baf48385093e3af520ff43c6d6d8beef4f6bd3', 'message': ""docs: Rewrite 'nova-manage libvirt' docs\n\nChange-Id: Ice641a8ce2658e0df4eea08f527fe7813617218f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-03-30 11:22:30.000000000', 'files': ['doc/source/cli/nova-manage.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/fe3a04be802bc3e5aa8e102f67709816fe5c17fb', 'message': ""docs: Rewrite 'nova-manage libvirt' docs\n\nChange-Id: Ice641a8ce2658e0df4eea08f527fe7813617218f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,781504,fe3a04be802bc3e5aa8e102f67709816fe5c17fb,14,3,4,15334,,,0,"docs: Rewrite 'nova-manage libvirt' docs

Change-Id: Ice641a8ce2658e0df4eea08f527fe7813617218f
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/04/781504/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/cli/nova-manage.rst'],1,dd8c3ff68da52d5676ad3a8a5f9b9809742c74fb,docs,"Fetch and display the recorded machine type of a libvirt instance identified by ``INSTANCE_UUID``. .. rubric:: Return codesSet or update the recorded machine type of instance ``INSTANCE_UUID`` to machine type ``MACHINE_TYPE``. The following criteria must be met when using this command:* The machine type must be supported. The supported list includes alias and.. rubric:: Options .. option:: --force Skip machine type compatability checks and force machine type update. .. rubric:: Return codes - The instance has an invalid ``vm_state``.. rubric:: Options .. option:: --cell_uuid <cell_uuid> The UUID of the cell to list instances from. .. rubric:: Return codes - Completed successfully, no instances found without ``hw_machine_type`` set - Instances found without ``hw_machine_type`` set","Fetch and display the recorded machine type of a libvirt instance. **Return Codes**Set or update the recorded machine type of an instance. The following criteria must also be met when using this command:* The machine type is supported. The supported list includes alias and**Return Codes** - The instance has an invalid vm_state**Return Codes** - Completed successfully, no instances found without hw_machine_type - Instances found without hw_machine_type set",25,10
openstack%2Fswift~master~I5291aea2b4f1b3dbb6906f943ccf63ad8e716ef7,openstack/swift,master,I5291aea2b4f1b3dbb6906f943ccf63ad8e716ef7,py2: diskfile.valid_suffix should allow unicode,MERGED,2021-03-31 14:33:52.000000000,2021-04-01 12:01:47.000000000,2021-04-01 11:59:04.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-31 14:33:52.000000000', 'files': ['test/unit/obj/test_diskfile.py', 'swift/obj/diskfile.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/2a672b678838dfa9ff130b431245209cfe011992', 'message': ""py2: diskfile.valid_suffix should allow unicode\n\nWhen the replicator update method calls diskfile._get_hashes on a\nlocal partition the partition path can be unicode [1]. If _get_hashes\ndoes a listdir then os.listdir will return unicode values, and any new\nsuffixes will be written to the hashes.pkl as unicode. When the\nhashes.pkl is next read, these unicode suffixes would previously fail\nthe valid_suffix check and read_hashes would return {'valid': False},\ncausing a rehash.\n\nWhen _get_hashes is called from an object server REPLICATE handler,\nthe device path is bytes and any listdir would return suffixes as\nbytes, so the suffix would then be written to hashes.pkl as bytes, and\nnot cause an error when read_hashes was next called.\n\nThis patch modifies diskfile.valid_suffix to allow suffixes to be\nunicode or byte strings.\n\n[1] the replication job device is set from the ring devs, and rings\ncan have unicode device values.\n\nChange-Id: I5291aea2b4f1b3dbb6906f943ccf63ad8e716ef7\n""}]",2,784108,2a672b678838dfa9ff130b431245209cfe011992,18,3,1,7847,,,0,"py2: diskfile.valid_suffix should allow unicode

When the replicator update method calls diskfile._get_hashes on a
local partition the partition path can be unicode [1]. If _get_hashes
does a listdir then os.listdir will return unicode values, and any new
suffixes will be written to the hashes.pkl as unicode. When the
hashes.pkl is next read, these unicode suffixes would previously fail
the valid_suffix check and read_hashes would return {'valid': False},
causing a rehash.

When _get_hashes is called from an object server REPLICATE handler,
the device path is bytes and any listdir would return suffixes as
bytes, so the suffix would then be written to hashes.pkl as bytes, and
not cause an error when read_hashes was next called.

This patch modifies diskfile.valid_suffix to allow suffixes to be
unicode or byte strings.

[1] the replication job device is set from the ring devs, and rings
can have unicode device values.

Change-Id: I5291aea2b4f1b3dbb6906f943ccf63ad8e716ef7
",git fetch https://review.opendev.org/openstack/swift refs/changes/08/784108/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/obj/test_diskfile.py', 'swift/obj/diskfile.py']",2,2a672b678838dfa9ff130b431245209cfe011992,p-fix-valid-suffix," if not isinstance(value, six.string_types) or len(value) != 3:"," if not isinstance(value, str) or len(value) != 3:",20,4
openstack%2Fneutron~master~I403e439e3a48d35f8e076e104f2bbba547cf9657,openstack/neutron,master,I403e439e3a48d35f8e076e104f2bbba547cf9657,"Mark ""test_keepalived_spawns_conflicting_pid_*"" tests as unstable",MERGED,2021-03-25 12:02:47.000000000,2021-04-01 12:01:40.000000000,2021-04-01 11:54:16.000000000,"[{'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-25 12:02:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c5515ca70daea175659e3f91c5c09918b41a50ae', 'message': 'Mark ""test_keepalived_spawns_conflicting_pid_vrrp_subprocess"" as unstable\n\nChange-Id: I403e439e3a48d35f8e076e104f2bbba547cf9657\nRelated-Bug: #1921154\n'}, {'number': 2, 'created': '2021-03-30 08:31:57.000000000', 'files': ['neutron/tests/functional/agent/linux/test_keepalived.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5c744b23f02e50e539f160cd700e6c05d9fd9c36', 'message': 'Mark ""test_keepalived_spawns_conflicting_pid_*"" tests as unstable\n\nChange-Id: I403e439e3a48d35f8e076e104f2bbba547cf9657\nRelated-Bug: #1921154\n'}]",1,782986,5c744b23f02e50e539f160cd700e6c05d9fd9c36,61,5,2,16688,,,0,"Mark ""test_keepalived_spawns_conflicting_pid_*"" tests as unstable

Change-Id: I403e439e3a48d35f8e076e104f2bbba547cf9657
Related-Bug: #1921154
",git fetch https://review.opendev.org/openstack/neutron refs/changes/86/782986/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/agent/linux/test_keepalived.py'],1,c5515ca70daea175659e3f91c5c09918b41a50ae,bug/1921154,"from neutron.tests import base as tests_base @tests_base.unstable_test(""bug 1921154"")",,2,0
openstack%2Fnova~master~I84d54a246fecbd2f7d2950d6c6044f7cd1b8e9df,openstack/nova,master,I84d54a246fecbd2f7d2950d6c6044f7cd1b8e9df,docs: Rewrite 'nova-manage db' docs to use proper directives,MERGED,2019-08-20 16:26:48.000000000,2021-04-01 12:01:01.000000000,2021-04-01 11:54:48.000000000,"[{'_account_id': 4690}, {'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 32291}]","[{'number': 1, 'created': '2019-08-20 16:26:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c59af123911275561459fd96f5ae2046816fc9ed', 'message': ""WIP: docs: Rewrite nova-manage docs to use proper directives\n\nWe have them. Let's use them.\n\nChange-Id: I84d54a246fecbd2f7d2950d6c6044f7cd1b8e9df\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-08-20 16:30:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a0adc3f4968c888b28e91eb41854532ac6ef6742', 'message': ""WIP: docs: Rewrite nova-manage docs to use proper directives\n\nWe have them. Let's use them.\n\nChange-Id: I84d54a246fecbd2f7d2950d6c6044f7cd1b8e9df\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2019-09-23 09:36:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/91c29924539c30dff7a584e7ecbbf98d6726d728', 'message': ""WIP: docs: Rewrite nova-manage docs to use proper directives\n\nWe have them. Let's use them.\n\nChange-Id: I84d54a246fecbd2f7d2950d6c6044f7cd1b8e9df\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2019-09-24 16:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a83b1b60b6bc49f01dc6f3a3cd9516eddb77a09', 'message': ""WIP: docs: Rewrite nova-manage docs to use proper directives\n\nWe have them. Let's use them.\n\nChange-Id: I84d54a246fecbd2f7d2950d6c6044f7cd1b8e9df\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2019-09-24 16:18:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/540c56d0f0293bb99c49d409e89488faadfc8d67', 'message': ""WIP: docs: Rewrite nova-manage docs to use proper directives\n\nWe have them. Let's use them.\n\nChange-Id: I84d54a246fecbd2f7d2950d6c6044f7cd1b8e9df\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 6, 'created': '2020-04-24 13:18:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/68b98e2fab6b6c16ecc176c444048e74aa4d3884', 'message': ""WIP: docs: Rewrite nova-manage docs to use proper directives\n\nWe have them. Let's use them.\n\nChange-Id: I84d54a246fecbd2f7d2950d6c6044f7cd1b8e9df\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 7, 'created': '2020-05-07 16:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c28c795f6d6e62e4516dcdbb5191c46360e92adb', 'message': ""docs: Rewrite 'nova-manage db' docs to use proper directives\n\nWe have them. Let's use them. The resulting man pages aren't perfect,\nbut they're *much* better.\n\nChange-Id: I84d54a246fecbd2f7d2950d6c6044f7cd1b8e9df\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 8, 'created': '2020-05-19 09:17:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/593399c6a3ad33049fbb790d5300934999460597', 'message': ""docs: Rewrite 'nova-manage db' docs to use proper directives\n\nWe have them. Let's use them. The resulting man pages aren't perfect,\nbut they're *much* better.\n\nChange-Id: I84d54a246fecbd2f7d2950d6c6044f7cd1b8e9df\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 9, 'created': '2020-05-21 11:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/63e8c59d3f2928d825da74a3f887ac1d3f44b92d', 'message': ""docs: Rewrite 'nova-manage db' docs to use proper directives\n\nWe have them. Let's use them. The resulting man pages aren't perfect,\nbut they're *much* better.\n\nChange-Id: I84d54a246fecbd2f7d2950d6c6044f7cd1b8e9df\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 10, 'created': '2021-03-18 15:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ee221be278ec5a76970581e2a282df0a2e7df354', 'message': ""docs: Rewrite 'nova-manage db' docs to use proper directives\n\nWe have them. Let's use them. The resulting man pages aren't perfect,\nbut they're *much* better.\n\nChange-Id: I84d54a246fecbd2f7d2950d6c6044f7cd1b8e9df\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 11, 'created': '2021-03-18 18:00:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2f34b4f80e11b2df8f0e7b510fb233acd6f6e4ce', 'message': ""docs: Rewrite 'nova-manage db' docs to use proper directives\n\nWe have them. Let's use them. The resulting man pages aren't perfect,\nbut they're *much* better.\n\nChange-Id: I84d54a246fecbd2f7d2950d6c6044f7cd1b8e9df\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 12, 'created': '2021-03-30 11:19:59.000000000', 'files': ['doc/source/cli/nova-manage.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/cefa8e0938b9fed897db8393022d2d7f2d5a0d5d', 'message': ""docs: Rewrite 'nova-manage db' docs to use proper directives\n\nWe have them. Let's use them. The resulting man pages aren't perfect,\nbut they're *much* better.\n\nChange-Id: I84d54a246fecbd2f7d2950d6c6044f7cd1b8e9df\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",4,677509,cefa8e0938b9fed897db8393022d2d7f2d5a0d5d,69,11,12,15334,,,0,"docs: Rewrite 'nova-manage db' docs to use proper directives

We have them. Let's use them. The resulting man pages aren't perfect,
but they're *much* better.

Change-Id: I84d54a246fecbd2f7d2950d6c6044f7cd1b8e9df
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/09/677509/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/cli/nova-manage.rst'],1,c59af123911275561459fd96f5ae2046816fc9ed,docs,"Nova Database Commands ---------------------- db version ~~~~~~~~~~ .. program:: nova-manage db version .. code-block:: shell nova-manage db version Print the current main database version. db sync ~~~~~~~ .. program:: nova-manage db sync .. code-block:: shell nova-manage db sync [--local_cell] [VERSION] Upgrade the main database schema up to the most recent version or ``VERSION`` if specified. By default, this command will also attempt to upgrade the schema for the cell0 database if it is mapped (see the ``map_cell0`` or ``simple_cell_setup`` commands for more details on mapping the cell0 database). If ``--local_cell`` is specified, then only the main database in the current cell is upgraded. The local database connection is determined by :oslo.config:option:`database.connection` in the configuration file, passed to nova-manage using the ``--config-file`` option(s). This command should be run after ``nova-manage api_db sync``. Returns exit code 0 if the database schema was synced successfully, or 1 if cell0 cannot be accessed. .. rubric:: Options .. option:: --local_cell Only upgrade the main database in the current cell. db archive_deleted_rows ~~~~~~~~~~~~~~~~~~~~~~~ .. program:: nova-manage db archive_deleted_rows .. code-block:: shell nova-manage db archive_deleted_rows [--max_rows <number>] [--verbose] [--until-complete] [--before <date>] [--purge] Move deleted rows from production tables to shadow tables. Note that the corresponding rows in the ``instance_mappings``, ``request_specs`` and ``instance_group_member`` tables of the API database are purged when instance records are archived and thus, :oslo.config:option:`api_database.connection` is required in the config file. Specifying ``--verbose`` will print the results of the archive operation for any tables that were changed. Specifying ``--until-complete`` will make the command run continuously until all deleted rows are archived. Use the ``--max_rows`` option, which defaults to 1000, as a batch size for each iteration (note that the purged API database table records are not included in this batch size). Specifying ``--before`` will archive only instances that were deleted before the date_ provided, and records in other tables related to those instances. Specifying ``--purge`` will cause a *full* DB purge to be completed after archival. If a date range is desired for the purge, then run ``nova-manage db purge --before <date>`` manually after archiving is complete. .. rubric:: Options .. option:: --max_rows NUMBER .. option:: --verbose .. option:: --until-complete .. option:: --before DATE Only archive instances older that ``DATE``. The date argument accepted by the ``--before`` option can be in any of several formats, including ``YYYY-MM-DD [HH:mm[:ss]]`` and the default format produced by the ``date`` command, e.g. ``Fri May 24 09:20:11 CDT 2019``. Date strings containing spaces must be quoted appropriately. Some examples:: # Purge shadow table rows older than a specific date nova-manage db archive_deleted_rows --before 2015-10-21 # or nova-manage db archive_deleted_rows --before ""Oct 21 2015"" # Times are also accepted nova-manage db archive_deleted_rows --before ""2015-10-21 12:00"" Note that relative dates (such as ``yesterday``) are not supported natively. The ``date`` command can be helpful here:: # Archive deleted rows more than one month old nova-manage db archive_deleted_rows --before ""$(date -d 'now - 1 month')"" .. option:: --purge db purge ~~~~~~~~ .. program:: nova-manage db purge .. code-block:: shell nova-manage db purge [--all] [--before <date>] [--verbose] [--all-cells] Delete rows from shadow tables. Specifying ``--all`` will delete all data from all shadow tables. Specifying ``--before`` will delete data from all shadow tables that is older than the date_ provided. Specifying ``--verbose`` will cause information to be printed about purged records. Specifying ``--all-cells`` will cause the purge to be applied against all cell databases. For ``--all-cells`` to work, the api database connection information must be configured. Returns exit code 0 if rows were deleted, 1 if required arguments are not provided, 2 if an invalid date is provided, 3 if no data was deleted, 4 if the list of cells cannot be obtained. .. rubric:: Options .. option:: --all .. option:: --before DATE Delete data from all shadow tables that is older that ``DATE``. The date argument accepted by the ``--before`` option can be in any of several formats, including ``YYYY-MM-DD [HH:mm[:ss]]`` and the default format produced by the ``date`` command, e.g. ``Fri May 24 09:20:11 CDT 2019``. Date strings containing spaces must be quoted appropriately. Some examples:: # Purge shadow table rows older than a specific date nova-manage db purge --before 2015-10-21 # or nova-manage db purge --before ""Oct 21 2015"" # Times are also accepted nova-manage db purge --before ""2015-10-21 12:00"" Note that relative dates (such as ``yesterday``) are not supported natively. The ``date`` command can be helpful here:: # Archive deleted rows more than one month old nova-manage db purge --before ""$(date -d 'now - 1 month')"" .. option:: --verbose .. option:: --all-cells db null_instance_uuid_scan ~~~~~~~~~~~~~~~~~~~~~~~~~~ .. program:: nova-manage db null_instance_uuid_scan .. code-block:: shell nova-manage db null_instance_uuid_scan [--delete] Lists and optionally deletes database records where instance_uuid is NULL. .. rubric:: Options .. option:: --delete db online_data_migrations ~~~~~~~~~~~~~~~~~~~~~~~~~ .. program:: nova-manage db online_data_migrations .. code-block:: shell nova-manage db online_data_migrations [--max-count] Perform data migration to update all live data. Returns exit code 0 if no (further) updates are possible, 1 if the ``--max-count`` option was used and some updates were completed successfully (even if others generated errors), 2 if some updates generated errors and no other migrations were able to take effect in the last batch attempted, or 127 if invalid input is provided (e.g. non-numeric max-count). This command should be called after upgrading database schema and nova services on all controller nodes. If it exits with partial updates (exit status 1) it should be called again, even if some updates initially generated errors, because some updates may depend on others having completed. If it exits with status 2, intervention is required to resolve the issue causing remaining updates to fail. It should be considered successfully completed only when the exit status is 0. For example:: $ nova-manage db online_data_migrations Running batches of 50 until complete 2 rows matched query migrate_instances_add_request_spec, 0 migrated 2 rows matched query populate_queued_for_delete, 2 migrated +---------------------------------------------+--------------+-----------+ | Migration | Total Needed | Completed | +---------------------------------------------+--------------+-----------+ | create_incomplete_consumers | 0 | 0 | | migrate_instances_add_request_spec | 2 | 0 | | migrate_quota_classes_to_api_db | 0 | 0 | | migrate_quota_limits_to_api_db | 0 | 0 | | migration_migrate_to_uuid | 0 | 0 | | populate_missing_availability_zones | 0 | 0 | | populate_queued_for_delete | 2 | 2 | | populate_uuids | 0 | 0 | | service_uuids_online_data_migration | 0 | 0 | +---------------------------------------------+--------------+-----------+ In the above example, the ``migrate_instances_add_request_spec`` migration found two candidate records but did not need to perform any kind of data migration for either of them. In the case of the ``populate_queued_for_delete`` migration, two candidate records were found which did require a data migration. Since ``--max-count`` defaults to 50 and only two records were migrated with no more candidates remaining, the command completed successfully with exit code 0. .. rubric:: Options .. option:: --max-count Controls the maximum number of objects to migrate in a given call. If not specified, migration will occur in batches of 50 until fully complete. db ironic_flavor_migration ~~~~~~~~~~~~~~~~~~~~~~~~~~ .. program:: nova-manage db ironic_flavor_migration .. code-block:: shell nova-manage db ironic_flavor_migration [--all] [--host] [--node] [--resource_class] Perform the ironic flavor migration process against the database while services are offline. This is *not recommended* for most people. The ironic compute driver will do this online and as necessary if run normally. This routine is provided only for advanced users that may be skipping the 16.0.0 Pike release, never able to run services normally at the Pike level. Since this utility is for use when all services (including ironic) are down, you must pass the resource class set on your node(s) with the ``--resource_class`` parameter. To migrate a specific host and node, provide the hostname and node UUID with ``--host $hostname --node $uuid``. To migrate all instances on nodes managed by a single host, provide only ``--host``. To iterate over all nodes in the system in a single pass, use ``--all``. Note that this process is not lightweight, so it should not be run frequently without cause, although it is not harmful to do so. If you have multiple cellsv2 cells, you should run this once per cell with the corresponding cell config for each (i.e. this does not iterate cells automatically). Note that this is not recommended unless you need to run this specific data migration offline, and it should be used with care as the work done is non-trivial. Running smaller and more targeted batches (such as specific nodes) is recommended... rubric:: Options .. option:: --all .. option:: --host .. option:: --node .. option:: --resource_class---------------------------------------","Nova Database ~~~~~~~~~~~~~ ``nova-manage db version`` Print the current main database version. ``nova-manage db sync [--local_cell] [VERSION]`` Upgrade the main database schema up to the most recent version or ``VERSION`` if specified. By default, this command will also attempt to upgrade the schema for the cell0 database if it is mapped (see the ``map_cell0`` or ``simple_cell_setup`` commands for more details on mapping the cell0 database). If ``--local_cell`` is specified, then only the main database in the current cell is upgraded. The local database connection is determined by :oslo.config:option:`database.connection` in the configuration file, passed to nova-manage using the ``--config-file`` option(s). This command should be run after ``nova-manage api_db sync``. Returns exit code 0 if the database schema was synced successfully, or 1 if cell0 cannot be accessed. ``nova-manage db archive_deleted_rows [--max_rows <number>] [--verbose] [--until-complete] [--before <date>] [--purge]`` Move deleted rows from production tables to shadow tables. Note that the corresponding rows in the ``instance_mappings``, ``request_specs`` and ``instance_group_member`` tables of the API database are purged when instance records are archived and thus, :oslo.config:option:`api_database.connection` is required in the config file. Specifying ``--verbose`` will print the results of the archive operation for any tables that were changed. Specifying ``--until-complete`` will make the command run continuously until all deleted rows are archived. Use the ``--max_rows`` option, which defaults to 1000, as a batch size for each iteration (note that the purged API database table records are not included in this batch size). Specifying ``--before`` will archive only instances that were deleted before the date_ provided, and records in other tables related to those instances. Specifying ``--purge`` will cause a *full* DB purge to be completed after archival. If a date range is desired for the purge, then run ``nova-manage db purge --before <date>`` manually after archiving is complete. ``nova-manage db purge [--all] [--before <date>] [--verbose] [--all-cells]`` Delete rows from shadow tables. Specifying ``--all`` will delete all data from all shadow tables. Specifying ``--before`` will delete data from all shadow tables that is older than the date_ provided. Specifying ``--verbose`` will cause information to be printed about purged records. Specifying ``--all-cells`` will cause the purge to be applied against all cell databases. For ``--all-cells`` to work, the api database connection information must be configured. Returns exit code 0 if rows were deleted, 1 if required arguments are not provided, 2 if an invalid date is provided, 3 if no data was deleted, 4 if the list of cells cannot be obtained. ``nova-manage db null_instance_uuid_scan [--delete]`` Lists and optionally deletes database records where instance_uuid is NULL. ``nova-manage db online_data_migrations [--max-count]`` Perform data migration to update all live data. ``--max-count`` controls the maximum number of objects to migrate in a given call. If not specified, migration will occur in batches of 50 until fully complete. Returns exit code 0 if no (further) updates are possible, 1 if the ``--max-count`` option was used and some updates were completed successfully (even if others generated errors), 2 if some updates generated errors and no other migrations were able to take effect in the last batch attempted, or 127 if invalid input is provided (e.g. non-numeric max-count). This command should be called after upgrading database schema and nova services on all controller nodes. If it exits with partial updates (exit status 1) it should be called again, even if some updates initially generated errors, because some updates may depend on others having completed. If it exits with status 2, intervention is required to resolve the issue causing remaining updates to fail. It should be considered successfully completed only when the exit status is 0. For example:: $ nova-manage db online_data_migrations Running batches of 50 until complete 2 rows matched query migrate_instances_add_request_spec, 0 migrated 2 rows matched query populate_queued_for_delete, 2 migrated +---------------------------------------------+--------------+-----------+ | Migration | Total Needed | Completed | +---------------------------------------------+--------------+-----------+ | create_incomplete_consumers | 0 | 0 | | migrate_instances_add_request_spec | 2 | 0 | | migrate_quota_classes_to_api_db | 0 | 0 | | migrate_quota_limits_to_api_db | 0 | 0 | | migration_migrate_to_uuid | 0 | 0 | | populate_missing_availability_zones | 0 | 0 | | populate_queued_for_delete | 2 | 2 | | populate_uuids | 0 | 0 | | service_uuids_online_data_migration | 0 | 0 | +---------------------------------------------+--------------+-----------+ In the above example, the ``migrate_instances_add_request_spec`` migration found two candidate records but did not need to perform any kind of data migration for either of them. In the case of the ``populate_queued_for_delete`` migration, two candidate records were found which did require a data migration. Since ``--max-count`` defaults to 50 and only two records were migrated with no more candidates remaining, the command completed successfully with exit code 0. ``nova-manage db ironic_flavor_migration [--all] [--host] [--node] [--resource_class]`` Perform the ironic flavor migration process against the database while services are offline. This is *not recommended* for most people. The ironic compute driver will do this online and as necessary if run normally. This routine is provided only for advanced users that may be skipping the 16.0.0 Pike release, never able to run services normally at the Pike level. Since this utility is for use when all services (including ironic) are down, you must pass the resource class set on your node(s) with the ``--resource_class`` parameter. To migrate a specific host and node, provide the hostname and node uuid with ``--host $hostname --node $uuid``. To migrate all instances on nodes managed by a single host, provide only ``--host``. To iterate over all nodes in the system in a single pass, use ``--all``. Note that this process is not lightweight, so it should not be run frequently without cause, although it is not harmful to do so. If you have multiple cellsv2 cells, you should run this once per cell with the corresponding cell config for each (i.e. this does not iterate cells automatically). Note that this is not recommended unless you need to run this specific data migration offline, and it should be used with care as the work done is non-trivial. Running smaller and more targeted batches (such as specific nodes) is recommended.``--before <date>`` The date argument accepted by the ``--before`` option can be in any of several formats, including ``YYYY-MM-DD [HH:mm[:ss]]`` and the default format produced by the ``date`` command, e.g. ``Fri May 24 09:20:11 CDT 2019``. Date strings containing spaces must be quoted appropriately. Some examples:: # Purge shadow table rows older than a specific date nova-manage db purge --before 2015-10-21 # or nova-manage db purge --before ""Oct 21 2015"" # Times are also accepted nova-manage db purge --before ""2015-10-21 12:00"" Note that relative dates (such as ``yesterday``) are not supported natively. The ``date`` command can be helpful here:: # Archive deleted rows more than one month old nova-manage db archive_deleted_rows --before ""$(date -d 'now - 1 month')""~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~",247,126
openstack%2Fnova~master~Ie973de1eb411db6379b544987b55199913eb62b6,openstack/nova,master,Ie973de1eb411db6379b544987b55199913eb62b6,docs: Rewrite 'nova-manage placement' docs,MERGED,2020-05-07 16:15:00.000000000,2021-04-01 11:56:47.000000000,2021-04-01 11:56:47.000000000,"[{'_account_id': 4690}, {'_account_id': 9708}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2020-05-07 16:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5785fc48c78be1987fc3586b298d322c42a3c1d5', 'message': ""docs: Rewrite 'nova-manage placement' docs\n\nChange-Id: Ie973de1eb411db6379b544987b55199913eb62b6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2020-05-19 09:17:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/741a943b8c9c506a55db08b37ad2513edec90206', 'message': ""docs: Rewrite 'nova-manage placement' docs\n\nChange-Id: Ie973de1eb411db6379b544987b55199913eb62b6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2020-05-21 11:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/715d20830a6e1a8d4d838fb9620cbc5b236eba55', 'message': ""docs: Rewrite 'nova-manage placement' docs\n\nChange-Id: Ie973de1eb411db6379b544987b55199913eb62b6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-03-18 15:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/efc9e69d043fc58407091394326d5bf46f389a12', 'message': ""docs: Rewrite 'nova-manage placement' docs\n\nChange-Id: Ie973de1eb411db6379b544987b55199913eb62b6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2021-03-18 18:00:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/831d24694542327c1d2d3cecde7bdd70e7ce187c', 'message': ""docs: Rewrite 'nova-manage placement' docs\n\nChange-Id: Ie973de1eb411db6379b544987b55199913eb62b6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 6, 'created': '2021-03-30 11:19:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3cbdaa7520928edca3a966952b0235d9e4002709', 'message': ""docs: Rewrite 'nova-manage placement' docs\n\nChange-Id: Ie973de1eb411db6379b544987b55199913eb62b6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 7, 'created': '2021-03-30 11:22:30.000000000', 'files': ['doc/source/cli/nova-manage.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/5f6aae3753e48b94a55421dae1b1fe766fc17da7', 'message': ""docs: Rewrite 'nova-manage placement' docs\n\nChange-Id: Ie973de1eb411db6379b544987b55199913eb62b6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",6,726193,5f6aae3753e48b94a55421dae1b1fe766fc17da7,37,8,7,15334,,,0,"docs: Rewrite 'nova-manage placement' docs

Change-Id: Ie973de1eb411db6379b544987b55199913eb62b6
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/93/726193/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/cli/nova-manage.rst'],1,5785fc48c78be1987fc3586b298d322c42a3c1d5,docs,"port needs to be detached. When nova `supports migrating instances with guaranteed bandwidth ports`__, migration will heal missing allocations.. __: https://specs.openstack.org/openstack/nova-specs/specs/train/approved/support-move-ops-with-qos-ports.html .. rubric:: Options .. option:: --max-count <max_count> Maximum number of instances to process. If not specified, all instances in each cell will be mapped in batches of 50. If you have a large number of instances, consider specifying a custom value and run the command until it exits with 0 or 4. .. option:: --verbose Provide verbose output during execution. .. option:: --dry-run Runs the command and prints output but does not commit any changes. The return code should be 4. .. option:: --instance <instance_uuid> UUID of a specific instance to process. If specified --max-count has no effect. The --cell and --instance options are mutually exclusive. .. option:: --skip-port-allocations Skip the healing of the resource allocations of bound ports. E.g. healing bandwidth resource allocation for ports having minimum QoS policy rules attached. If your deployment does not use such a feature then the performance impact of querying neutron ports for each instance can be avoided with this flag. .. option:: --cell <cell_uuid> Heal allocations within a specific cell. The --cell and --instance options are mutually exclusive. .. rubric:: Return codes.. versionadded:: 18.0.0 (Rocky) .. rubric:: Options .. option:: --verbose Provide verbose output during execution. .. rubric:: Return codesan existing instance or a migration UUID. If not, it will tell which allocations are orphaned... rubric:: Options .. option:: --verbose Provide verbose output during execution. .. option:: --resource_provider <provider_uuid> UUID of a specific resource provider to verify. .. option:: --delete Deletes orphaned allocations that were found. .. rubric:: Return codes","port needs to be detached. When nova `supports migrating instances with guaranteed bandwidth ports`_, migration will heal missing allocations.. _supports migrating instances with guaranteed bandwidth ports: https://specs.openstack.org/openstack/nova-specs/specs/train/approved/support-move-ops-with-qos-ports.html Specify ``--max-count`` to control the maximum number of instances to process. If not specified, all instances in each cell will be mapped in batches of 50. If you have a large number of instances, consider specifying a custom value and run the command until it exits with 0 or 4. Specify ``--verbose`` to get detailed progress output during execution. Specify ``--dry-run`` to print output but not commit any changes. The return code should be 4. *(Since 20.0.0 Train)* Specify ``--instance`` to process a specific instance given its UUID. If specified the ``--max-count`` option has no effect. *(Since 20.0.0 Train)* Specify ``--skip-port-allocations`` to skip the healing of the resource allocations of bound ports, e.g. healing bandwidth resource allocation for ports having minimum QoS policy rules attached. If your deployment does not use such a feature then the performance impact of querying neutron ports for each instance can be avoided with this flag. *(Since 20.0.0 Train)* Specify ``--cell`` to process heal allocations within a specific cell. This is mutually exclusive with the ``--instance`` option. **Return Codes**.. versionadded:: Rocky **Return Codes**an existing instance or a migration UUID. If not, it will tell which allocations are orphaned. You can also ask to delete all the orphaned allocations by specifying ``-delete``. Specify ``--verbose`` to get detailed progress output during execution.**Return Codes**",66,39
openstack%2Fnova~master~I82c718cdf2134005d0a1639072cefe037da78f15,openstack/nova,master,I82c718cdf2134005d0a1639072cefe037da78f15,"docs: Rewrite 'nova-manage api_db', 'cell_v2' docs",MERGED,2020-05-07 16:15:00.000000000,2021-04-01 11:55:56.000000000,2021-04-01 11:55:56.000000000,"[{'_account_id': 4690}, {'_account_id': 9708}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2020-05-07 16:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aca2cbb199eaa75d6a4cf0aeca6d3826975a2a27', 'message': ""docs: Rewrite 'nova-manage api_db', 'cell_v2' docs\n\nChange-Id: I82c718cdf2134005d0a1639072cefe037da78f15\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2020-05-19 09:17:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cb42020a3391c8eb7c1784df0cde82aefe372adf', 'message': ""docs: Rewrite 'nova-manage api_db', 'cell_v2' docs\n\nChange-Id: I82c718cdf2134005d0a1639072cefe037da78f15\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2020-05-21 11:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dfb399fa1a73aab8a2ea3b00ba68784cb2184cd7', 'message': ""docs: Rewrite 'nova-manage api_db', 'cell_v2' docs\n\nChange-Id: I82c718cdf2134005d0a1639072cefe037da78f15\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-03-18 15:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cfed33bc556fdd6f2b1fcf059d220089bca77f90', 'message': ""docs: Rewrite 'nova-manage api_db', 'cell_v2' docs\n\nChange-Id: I82c718cdf2134005d0a1639072cefe037da78f15\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2021-03-18 18:00:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c892d53aa268a1b7373c268d3d848d319aee746b', 'message': ""docs: Rewrite 'nova-manage api_db', 'cell_v2' docs\n\nChange-Id: I82c718cdf2134005d0a1639072cefe037da78f15\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 6, 'created': '2021-03-30 11:19:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/52208474625dc1527802ba54b2ba35c5fe7cea35', 'message': ""docs: Rewrite 'nova-manage api_db', 'cell_v2' docs\n\nChange-Id: I82c718cdf2134005d0a1639072cefe037da78f15\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 7, 'created': '2021-03-30 11:22:30.000000000', 'files': ['doc/source/cli/nova-manage.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/2f8ab439a7f984e8120da41dadd3ce18e32f40c8', 'message': ""docs: Rewrite 'nova-manage api_db', 'cell_v2' docs\n\nChange-Id: I82c718cdf2134005d0a1639072cefe037da78f15\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",10,726192,2f8ab439a7f984e8120da41dadd3ce18e32f40c8,35,8,7,15334,,,0,"docs: Rewrite 'nova-manage api_db', 'cell_v2' docs

Change-Id: I82c718cdf2134005d0a1639072cefe037da78f15
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/92/726192/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/cli/nova-manage.rst'],1,aca2cbb199eaa75d6a4cf0aeca6d3826975a2a27,docs,"in the configuration file. .. rubric:: Options .. option:: --transport-url <transport_url> The transport url for the cell message queue. .. rubric:: Return codes .. list-table:: :widths: 20 80 :header-rows: 1 * - Return code - Description * - 0 - Setup is completed. * - 1 - No hosts are reporting, meaning none can be mapped, or if the transport URL is missing or invalid.encountered an error before they have been scheduled. .. rubric:: Options .. option:: --database_connection <database_connection> The database connection URL for ``cell0``. This is optional. If not provided, a standard database connection will be used based on the main database connection from nova configuration. .. rubric:: Return codes .. list-table:: :widths: 20 80 :header-rows: 1 * - Return code - Description * - 0 - ``cell0`` is created successfully or has already been set up... rubric:: Options .. option:: --cell_uuid <cell_uuid> Unmigrated instances will be mapped to the cell with the UUID provided. .. option:: --max-count <max_count> Maximum number of instances to map. If not set, all instances in the cell will be mapped in batches of 50. If you have a large number of instances, consider specifying a custom value and run the command until it exits with 0. .. option:: --reset The command will start from the beginning as opposed to the default behavior of starting from where the last run finished. .. rubric:: Return codestransport URL, and map hosts to that cell. The database connectionconfiguration file passed to nova-manage. If ``--transport_url`` is notprint out the resulting cell mapping uuid. .. rubric:: Options .. option:: --transport-url <transport_url> The transport url for the cell message queue. .. option:: --name <cell_name> The name of the cell. .. option:: --verbose Output the cell mapping uuid for any newly mapped hosts. .. rubric:: Return codes .. list-table:: :widths: 20 80 :header-rows: 1 * - Return code - Description * - 0 - Successful completion. * - 1 - The transport url is missing or invalidcell, host, and instance mapping records required. .. rubric:: Options .. option:: --uuid <instance_uuid> The instance UUID to verify. .. option:: --quiet Do not print anything. .. rubric:: Return codes .. list-table:: :widths: 20 80 :header-rows: 1 * - Return code - Description * - 0 - The instance was successfully mapped to a cell. * - 1 - The instance is not mapped to a cell. See the ``map_instances`` command. * - 2 - The cell mapping is missing. See the ``map_cell_and_hots`` command if you are upgrading from a cells v1 environment, and the ``simple_cell_setup`` command if you are upgrading from a non-cells v1 environment. * - 3 - The instance is a deleted instance that still has an instance mapping. * - 4 - The instance is an archived instance that still has an instance mapping.transport URL. If a database_connection is not specified, it will use theconfiguration file passed to nova-manage. If ``--transport_url`` is notoption will print out the resulting cell mapping UUID. All the cellscell. .. rubric:: Options .. option:: --name <cell_name> The name of the cell. .. option:: --database_connection <database_connection> The database URL for the cell database. .. option:: --transport-url <transport_url> The transport url for the cell message queue. .. option:: --verbose Output the UUID of the created cell. .. option:: --disabled Create a pre-disabled cell. .. rubric:: Return codes .. list-table:: :widths: 20 80 :header-rows: 1 * - Return code - Description * - 0 - The cell mapping was successfully created. * - 1 - The transport URL or database connection was missing or invalid. * - 2 - Another cell is already using the provided transport URL and/or database connection combination... rubric:: Options .. option:: --cell_uuid <cell_uuid> If provided only this cell will be searched for new hosts to map. .. option:: --verbose Provide detailed output when discovering hosts. .. option:: --strict Considered successful (exit code 0) only when an unmapped host is discovered. Any other outcome will be considered a failure (non-zero exit code). .. option:: --by-service Discover hosts by service instead of compute node. .. rubric:: Return codes .. list-table:: :widths: 20 80 :header-rows: 1 * - Return code - Description * - 0 - Hosts were successfully mapped or no hosts needed to be mapped. If ``--strict`` is specified, returns 0 only if an unmapped host was discovered and mapped. * - 1 - If ``--strict`` is specified and no unmapped hosts were found. Also returns 1 if an exception was raised while running. * - 2 - The command was aborted because of a duplicate host mapping found. This means the command collided with another running ``discover_hosts`` command or scheduler periodic task and is safe to retry... rubric:: Options .. option:: --verbose Show sensitive details, such as passwords. .. rubric:: Return codes .. list-table:: :widths: 20 80 :header-rows: 1 * - Return code - Description * - 0 - Success. Delete a cell by the given UUID. .. rubric:: Options .. option:: --force Delete hosts and instance_mappings that belong to the cell as well. .. option:: --cell_uuid <cell_uuid> The UUID of the cell to delete. .. rubric:: Return codes .. list-table:: :widths: 20 80 :header-rows: 1 * - Return code - Description * - 0 - An empty cell was found and deleted successfully or a cell that has hosts was found and the cell, hosts and the instance_mappings were deleted successfully with ``--force`` option (this happens if there are no living instances). * - 1 - A cell with the provided UUID could not be found. * - 2 - Host mappings were found for the cell, meaning the cell is not empty, and the ``--force`` option was not provided. * - 3 - There are active instances mapped to the cell (cell not empty). * - 4 - There are (inactive) instances mapped to the cell and the ``--force`` option was not povided. .. rubric:: Options .. option:: --cell_uuid <cell_uuid> The UUID of the cell. .. rubric:: Return codes .. list-table:: :widths: 20 80 :header-rows: 1 * - Return code - Description * - 0 - Success. * - 1 - The cell indidicatd by ``--cell_uuid`` was not found... rubric:: Options .. option:: --cell_uuid <cell_uuid> The UUID of the cell to update. .. option:: --name <cell_name> Set the cell name. .. option:: --transport-url <transport_url> Set the cell transport_url. NOTE that running nodes will not see the change until restart! .. option:: --database_connection <database_connection> Set the cell database_connection. NOTE that running nodes will not see the change until restart! .. option:: --disable Disables the cell. Note that the scheduling will be blocked to this cell until it is enabled and followed by a SIGHUP of nova-scheduler service. .. option:: --enable Enables the cell. Note that this makes a disabled cell available for scheduling after a SIGHUP of the nova-scheduler service. .. rubric:: Return codes .. list-table:: :widths: 20 80 :header-rows: 1 * - Return code - Description * - 0 - Success. * - 1 - The cell was not found by the provided UUID. * - 2 - The specified properties could not be set. * - 3 - The provided ``--transport_url`` or/and ``--database_connection`` parameters were same as another cell. * - 4 - An attempt was made to disable and enable a cell at the same time. * - 5 - An attempt was made to disable or enable cell0. Delete a host by the given host name and the given cell UUID... rubric:: Options .. option:: --cell_uuid <cell_uuid> The UUID of the cell. .. option:: --host <host> The host to delete. .. rubric:: Return codes .. list-table:: :widths: 20 80 :header-rows: 1 * - Return code - Description * - 0 - The empty host was found and deleted successfully * - 1 - A cell with the specified UUID could not be found. * - 2 - A host with the specified name could not be found * - 3 - The host with the specified name is not in a cell with the specified UUID. * - 4 - The host with the specified name has instances (host not empty). ","in the configuration file. Returns 0 if setup is completed (or has already been done), 1 if no hosts are reporting (and cannot be mapped) and 1 if the transport url is missing or invalid.encountered an error before they have been scheduled. Returns 0 if cell0 is created successfully or already setup.**Return Codes**transport url, and map hosts to that cell. The database connectionconfiguration file passed to nova-manage. If a transport_url is notprint out the resulting cell mapping uuid. Returns 0 on successful completion, and 1 if the transport url is missing or invalid.cell, host, and instance mapping records required. Returns 0 when the instance is successfully mapped to a cell, 1 if the instance is not mapped to a cell (see the ``map_instances`` command), 2 if the cell mapping is missing (see the ``map_cell_and_hosts`` command if you are upgrading from a cells v1 environment, and the ``simple_cell_setup`` if you are upgrading from a non-cells v1 environment), 3 if it is a deleted instance which has instance mapping, and 4 if it is an archived instance which still has an instance mapping.transport url. If a database_connection is not specified, it will use theconfiguration file passed to nova-manage. If a transport_url is notoption will print out the resulting cell mapping uuid. All the cellscell. The meaning of the various exit codes returned by this command are explained below: * Returns 0 if the cell mapping was successfully created. * Returns 1 if the transport url or database connection was missing or invalid. * Returns 2 if another cell is already using that transport url and/or database connection combination.The meaning of the various exit codes returned by this command are explained below: * Returns 0 if hosts were successfully mapped or no hosts needed to be mapped. If ``--strict`` is specified, returns 0 only if an unmapped host was discovered and mapped. * Returns 1 if ``--strict`` is specified and no unmapped hosts were found. Also returns 1 if an exception was raised while running. * Returns 2 if the command aborted because of a duplicate host mapping found. This means the command collided with another running discover_hosts command or scheduler periodic task and is safe to retry.Delete a cell by the given uuid. Returns 0 if the empty cell is found and deleted successfully or the cell that has hosts is found and the cell, hosts and the instance_mappings are deleted successfully with ``--force`` option (this happens if there are no living instances), 1 if a cell with that uuid could not be found, 2 if host mappings were found for the cell (cell not empty) without ``--force`` option, 3 if there are instances mapped to the cell (cell not empty) irrespective of the ``--force`` option, and 4 if there are instance mappings to the cell but all instances have been deleted in the cell, again without the ``--force`` option.If the cell is not found by uuid, this command will return an exit code of 1. Otherwise, the exit code will be 0.The meaning of the various exit codes returned by this command are explained below: * If successful, it will return 0. * If the cell is not found by the provided uuid, it will return 1. * If the properties cannot be set, it will return 2. * If the provided transport_url or/and database_connection is/are same as another cell, it will return 3. * If an attempt is made to disable and enable a cell at the same time, it will return 4. * If an attempt is made to disable or enable cell0 it will return 5.Delete a host by the given host name and the given cell uuid. Returns 0 if the empty host is found and deleted successfully, 1 if a cell with that uuid could not be found, 2 if a host with that name could not be found, 3 if a host with that name is not in a cell with that uuid, 4 if a host with that name has instances (host not empty).",356,65
openstack%2Fkolla~stable%2Ftrain~Ic638516eb92d24ad247a7866fd1b5e2ac0400388,openstack/kolla,stable/train,Ic638516eb92d24ad247a7866fd1b5e2ac0400388,Make kolla_set_configs open files in binary mode,ABANDONED,2021-02-15 13:54:36.000000000,2021-04-01 11:44:11.000000000,,"[{'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2021-02-15 13:54:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a3c88301c0e5a8f67100d1e2c798e389ca8c3daf', 'message': 'Make kolla_set_configs open files in binary mode\n\nThis fixes comparisons when files are not Unicode-encoded.\n\nA relevant unit test is included.\nIt can be used as a base for other _cmp_file method unit tests\nif the need arises.\n\nChange-Id: Ic638516eb92d24ad247a7866fd1b5e2ac0400388\nCloses-Bug: #1913952\n(cherry picked from commit 8e3027c5427ecfb89fe48ad38eb8189b1608d0fc)\n'}, {'number': 2, 'created': '2021-02-15 16:38:02.000000000', 'files': ['docker/base/set_configs.py', 'releasenotes/notes/bug-1913952-a23431cef137f9c7.yaml', 'tests/test_set_config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/ab7727cadbb3741cc1407502b722a578278297d9', 'message': 'Make kolla_set_configs open files in binary mode\n\nThis fixes comparisons when files are not Unicode-encoded.\n\nA relevant unit test is included.\nIt can be used as a base for other _cmp_file method unit tests\nif the need arises.\n\nChange-Id: Ic638516eb92d24ad247a7866fd1b5e2ac0400388\nCloses-Bug: #1913952\n(cherry picked from commit 8e3027c5427ecfb89fe48ad38eb8189b1608d0fc)\n'}]",0,775595,ab7727cadbb3741cc1407502b722a578278297d9,8,2,2,30491,,,0,"Make kolla_set_configs open files in binary mode

This fixes comparisons when files are not Unicode-encoded.

A relevant unit test is included.
It can be used as a base for other _cmp_file method unit tests
if the need arises.

Change-Id: Ic638516eb92d24ad247a7866fd1b5e2ac0400388
Closes-Bug: #1913952
(cherry picked from commit 8e3027c5427ecfb89fe48ad38eb8189b1608d0fc)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/95/775595/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/set_configs.py', 'releasenotes/notes/bug-1913952-a23431cef137f9c7.yaml', 'tests/test_set_config.py']",3,a3c88301c0e5a8f67100d1e2c798e389ca8c3daf,bug/1913952-stable/victoria-stable/ussuri-stable/train," @mock.patch('grp.getgrgid', autospec=True) @mock.patch('pwd.getpwuid', autospec=True) @mock.patch('os.stat', autospec=True) @mock.patch('builtins.open', new_callable=mock.mock_open) @mock.patch('os.path.exists', autospec=True) def test_cmp_file_opens_both_files_rb(self, mock_os_exists, mock_open, mock_os_stat, mock_pwd_getpwuid, mock_grp_getgrgid): config_file = set_configs.ConfigFile( '/var/lib/kolla/config_files/bar', '/foo', 'user1', '0644') mock_os_exists.return_value = True mock_os_stat.return_value.st_mode = int('0o100644', 8) mock_pwd_getpwuid.return_value.pw_name = 'user1' mock_grp_getgrgid.return_value.gr_name = 'user1' self.assertIs(True, config_file._cmp_file('/fake/file1', '/fake/file2')) self.assertEqual([mock.call('/fake/file1', 'rb'), mock.call('/fake/file2', 'rb')], mock_open.call_args_list)",,30,1
openstack%2Fnova-specs~master~I7cfde5198df4ec541c9e1bd6bd1b1cd664cb7305,openstack/nova-specs,master,I7cfde5198df4ec541c9e1bd6bd1b1cd664cb7305,Move the implemented specs for the wallaby release,MERGED,2021-04-01 10:39:34.000000000,2021-04-01 11:36:45.000000000,2021-04-01 11:35:18.000000000,"[{'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-01 10:39:34.000000000', 'files': ['specs/wallaby/implemented/allow-secure-boot-for-qemu-kvm-guests.rst', 'specs/wallaby/implemented/pci-socket-affinity.rst', 'specs/wallaby/implemented/port-scoped-sriov-numa-affinity.rst', 'specs/wallaby/approved/sriov-smartnic-support.rst', 'specs/wallaby/approved/wallaby-template.rst', 'specs/wallaby/implemented/libvirt-driver-ip-metadata.rst', 'specs/wallaby/implemented/support-interface-attach-with-qos-ports.rst', 'specs/wallaby/approved/cyborg-vgpu-support.rst', 'specs/wallaby/implemented/routed-networks-scheduling.rst', 'specs/wallaby/implemented/wallaby-template.rst', 'specs/wallaby/implemented/modernize-os-hypervisors-api.rst', 'specs/wallaby/redirects', 'specs/wallaby/approved/ephemeral-storage-encryption.rst', 'specs/wallaby/implemented/libvirt-default-machine-type.rst', 'specs/wallaby/implemented/libvirt-vdpa-support.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/f7394b308818e6b921cf28beff976eac635a301e', 'message': 'Move the implemented specs for the wallaby release\n\nThis change moves the implemented specs for the wallaby release\nand also fixes some incorect file names to match the blueprint names.\n\nChange-Id: I7cfde5198df4ec541c9e1bd6bd1b1cd664cb7305\n'}]",0,784369,f7394b308818e6b921cf28beff976eac635a301e,8,3,1,11604,,,0,"Move the implemented specs for the wallaby release

This change moves the implemented specs for the wallaby release
and also fixes some incorect file names to match the blueprint names.

Change-Id: I7cfde5198df4ec541c9e1bd6bd1b1cd664cb7305
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/69/784369/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/wallaby/implemented/allow-secure-boot-for-qemu-kvm-guests.rst', 'specs/wallaby/implemented/pci-socket-affinity.rst', 'specs/wallaby/implemented/port-scoped-sriov-numa-affinity.rst', 'specs/wallaby/approved/sriov-smartnic-support.rst', 'specs/wallaby/approved/wallaby-template.rst', 'specs/wallaby/implemented/libvirt-driver-ip-metadata.rst', 'specs/wallaby/implemented/support-interface-attach-with-qos-ports.rst', 'specs/wallaby/approved/cyborg-vgpu-support.rst', 'specs/wallaby/implemented/routed-networks-scheduling.rst', 'specs/wallaby/implemented/wallaby-template.rst', 'specs/wallaby/implemented/modernize-os-hypervisors-api.rst', 'specs/wallaby/redirects', 'specs/wallaby/approved/ephemeral-storage-encryption.rst', 'specs/wallaby/implemented/libvirt-default-machine-type.rst', 'specs/wallaby/implemented/libvirt-vdpa-support.rst']",15,f7394b308818e6b921cf28beff976eac635a301e,move-implemented-specs,,,9,2
openstack%2Fkuryr-kubernetes~master~Ibadcd07824702ff1160a4a1d6d10313c15910dea,openstack/kuryr-kubernetes,master,Ibadcd07824702ff1160a4a1d6d10313c15910dea,Allow Pods Network to have smaller MTU than Nodes,MERGED,2021-03-30 17:13:48.000000000,2021-04-01 11:35:56.000000000,2021-04-01 11:34:31.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-30 17:13:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6d56bcd6bfda1adb82116c6d68a25378cd5ee166', 'message': 'Allow Pods Network to have smaller MTU than Nodes\n\nWe should allow Pods Network to be smaller than the\nHost VM, e.g. Nodes Network being a provider network,\nwhile Pods Network is a Tenant Network. This commit\nfixes the issue by allowing binding of VIFs with MTU\nsmaller than the Nodes.\n\nChange-Id: Ibadcd07824702ff1160a4a1d6d10313c15910dea\n'}, {'number': 2, 'created': '2021-03-31 13:14:44.000000000', 'files': ['kuryr_kubernetes/cni/binding/nested.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/07a3723f20ce90c1d4f4fe81770c49fef231d174', 'message': 'Allow Pods Network to have smaller MTU than Nodes\n\nWe should allow Pods Network MTU to be smaller than the\nMTU of the Host VM to address scenarios like Nodes Network\nbeing a provider network, while Pods Network is a Tenant\nNetwork. This commit fixes the issue by allowing binding\nof VIFs with MTU smaller than the Nodes.\n\nChange-Id: Ibadcd07824702ff1160a4a1d6d10313c15910dea\n'}]",4,783914,07a3723f20ce90c1d4f4fe81770c49fef231d174,13,3,2,27032,,,0,"Allow Pods Network to have smaller MTU than Nodes

We should allow Pods Network MTU to be smaller than the
MTU of the Host VM to address scenarios like Nodes Network
being a provider network, while Pods Network is a Tenant
Network. This commit fixes the issue by allowing binding
of VIFs with MTU smaller than the Nodes.

Change-Id: Ibadcd07824702ff1160a4a1d6d10313c15910dea
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/14/783914/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/cni/binding/nested.py'],1,6d56bcd6bfda1adb82116c6d68a25378cd5ee166,fix-mtu, if mtu < vif.network.mtu: f'MTU of interface {vm_iface_name} ({mtu}) is smaller ' f'than MTU of pod network {vif.network.id} ' f'has the same or smaller MTU as node (VM) network.'), if mtu != vif.network.mtu: f'MTU of interface {vm_iface_name} ({mtu}) does not ' f'match MTU of pod network {vif.network.id} ' f'has the same MTU as node (VM) network.'),4,4
openstack%2Fdesignate~master~I4bd4ce70336e35b8eddf068fd36755f3949c3121,openstack/designate,master,I4bd4ce70336e35b8eddf068fd36755f3949c3121,Use openstack client for PTR doc,ABANDONED,2021-03-31 01:58:38.000000000,2021-04-01 11:25:16.000000000,,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-31 01:58:38.000000000', 'files': ['doc/source/user/manage-ptr-records.rst'], 'web_link': 'https://opendev.org/openstack/designate/commit/23f513bcef11442ca2cb1196a29a2c4179bb0570', 'message': 'Use openstack client for PTR doc\n\nUser and operator documentation should use openstack client where\npossible.\n\nChange-Id: I4bd4ce70336e35b8eddf068fd36755f3949c3121\n'}]",0,783992,23f513bcef11442ca2cb1196a29a2c4179bb0570,4,2,1,6994,,,0,"Use openstack client for PTR doc

User and operator documentation should use openstack client where
possible.

Change-Id: I4bd4ce70336e35b8eddf068fd36755f3949c3121
",git fetch https://review.opendev.org/openstack/designate refs/changes/92/783992/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/manage-ptr-records.rst'],1,23f513bcef11442ca2cb1196a29a2c4179bb0570,ptr_doc,".. code-block:: bash openstack zone create --email admin@example.org example.org. +----------------+--------------------------------------+ | Field | Value | +----------------+--------------------------------------+ | action | CREATE | | attributes | {} | | created_at | 2016-07-13T14:54:16.000000 | | description | None | | email | admin@example.org | | id | 14093115-0f0f-497a-ac69-42235e46c26f | | masters | | | name | example.org. | | pool_id | 794ccc2c-d751-44fe-b57f-8894c9f5c842 | | project_id | 656bc359067844fba6005d400f19df76 | | serial | 1468421656 | | status | PENDING | | transferred_at | None | | ttl | 3600 | | type | PRIMARY | | updated_at | None | | version | 1 | +----------------+--------------------------------------+.. code-block:: bash openstack zone create --email admin@example.org 11.2.0.192.in-addr.arpa. +----------------+--------------------------------------+ | Field | Value | +----------------+--------------------------------------+ | action | CREATE | | attributes | {} | | created_at | 2016-07-13T14:54:16.000000 | | description | None | | email | admin@example.org | | id | 1bed5d24-d487-4410-b813-f1c637db0ba3 | | masters | | | name | 11.2.0.192.in-addr.arpa. | | pool_id | 794ccc2c-d751-44fe-b57f-8894c9f5c842 | | project_id | 656bc359067844fba6005d400f19df76 | | serial | 1424468141 | | status | PENDING | | transferred_at | None | | ttl | 3600 | | type | PRIMARY | | updated_at | None | | version | 1 | +----------------+--------------------------------------+ As you can see, for the `name` we've reversed our IP address andNow that we have our `11.2.0.192.in-addr.arpa.` zone, we add a new `PTR` record to the zone as an apex record. Take care to include the trailing `.` on the name. .. code-block:: bash openstack recordset create --record 'example.org.' --type PTR 1bed5d24-d487-4410-b813-f1c637db0ba3 11.2.0.192.in-addr.arpa. +-------------+--------------------------------------+ | Field | Value | +-------------+--------------------------------------+ | action | CREATE | | created_at | 2016-07-13T14:59:32.000000 | | description | None | | id | 07e6f5af-783e-481f-b8df-5972a6174c94 | | name | 11.2.0.192.in-addr.arpa. | | project_id | 656bc359067844fba6005d400f19df76 | | records | example.org. | | status | PENDING | | ttl | None | | type | A | | updated_at | None | | version | 1 | | zone_id | 1bed5d24-d487-4410-b813-f1c637db0ba3 | | zone_name | 11.2.0.192.in-addr.arpa. | +-------------+--------------------------------------+.. code-block:: bash openstack zone create --email admin@example.org 2.0.192.in-addr.arpa... code-block:: bash openstack recordset create --record 'cats.example.org.' --type PTR 2.0.192.in-addr.arpa 11.2.0.192.in-addr.arpa. the record name ends up as `12.2.0.192.in-addr.arpa.`. In"," Using the V2 API ---------------- .. code-block:: http POST /v2/zones HTTP/1.1 Accept: application/json Content-Type: application/json { ""name"": ""example.org."", ""email"": ""admin@example.org"", ""ttl"": 3600, ""description"": ""A great example zone"" } Here is the JSON response describing the new zone. .. code-block:: http HTTP/1.1 202 Accepted Location: http://127.0.0.1:9001/v2/zones/fe078042-0aa3-4500-a81e-8f328f79bf75 Content-Length: 476 Content-Type: application/json; charset=UTF-8 X-Openstack-Request-Id: req-bfcd0723-624c-4ec2-bbd5-99e985efe8db Date: Fri, 20 Feb 2015 21:20:28 GMT Connection: keep-alive { ""email"": ""admin@example.org"", ""project_id"": ""noauth-project"", ""action"": ""CREATE"", ""version"": 1, ""pool_id"": ""794ccc2c-d751-44fe-b57f-8894c9f5c842"", ""created_at"": ""2015-02-20T21:20:28.000000"", ""name"": ""example.org."", ""id"": ""fe078042-0aa3-4500-a81e-8f328f79bf75"", ""serial"": 1424467228, ""ttl"": 3600, ""updated_at"": null, ""links"": { ""self"": ""http://127.0.0.1:9001/v2/zones/fe078042-0aa3-4500-a81e-8f328f79bf75"" }, ""description"": ""A great example zone"", ""status"": ""PENDING"" } .. note:: The `status` is `PENDING`. If we make a `GET` request to the `self` field in the zone, it will most likely have been processed and updated to `ACTIVE`... code-block:: http POST /v2/zones HTTP/1.1 Accept: application/json Content-Type: application/json { ""name"": ""11.2.0.192.in-addr.arpa."", ""email"": ""admin@example.org"", ""ttl"": 3600, ""description"": ""A in-addr.arpa. zone for reverse lookups."" } As you can see, in the `name` field we've reversed our IP address andHere is the response. .. code-block:: http HTTP/1.1 202 Accepted Location: http://127.0.0.1:9001/v2/zones/1bed5d24-d487-4410-b813-f1c637db0ba3 Content-Length: 512 Content-Type: application/json; charset=UTF-8 X-Openstack-Request-Id: req-4e691123-045e-4f8e-ae50-b5eabb5af3fa Date: Fri, 20 Feb 2015 21:35:41 GMT Connection: keep-alive { ""email"": ""admin@example.org"", ""project_id"": ""noauth-project"", ""action"": ""CREATE"", ""version"": 1, ""pool_id"": ""794ccc2c-d751-44fe-b57f-8894c9f5c842"", ""created_at"": ""2015-02-20T21:35:41.000000"", ""name"": ""11.2.0.192.in-addr.arpa."", ""id"": ""1bed5d24-d487-4410-b813-f1c637db0ba3"", ""serial"": 1424468141, ""ttl"": 3600, ""updated_at"": null, ""links"": { ""self"": ""http://127.0.0.1:9001/v2/zones/1bed5d24-d487-4410-b813-f1c637db0ba3"" }, ""description"": ""A in-addr.arpa. zone for reverse lookups."", ""status"": ""PENDING"" } Now that we have our `in-addr.arpa.` zone, we add a new `PTR` record to the zone. .. code-block:: http POST /v2/zones/1bed5d24-d487-4410-b813-f1c637db0ba3/recordsets HTTP/1.1 Content-Type: application/json Accept: application/json { ""name"": ""11.2.0.192.in-addr.arpa."", ""description"": ""A PTR recordset"", ""type"": ""PTR"", ""ttl"": 3600, ""records"": [ ""example.org."" ] } Here is the response. .. code-block:: http HTTP/1.1 202 Accepted Location: http://127.0.0.1:9001/v2/zones/1bed5d24-d487-4410-b813-f1c637db0ba3/recordsets/a3dca24e-3eba-4523-8607-c0ad4b9a9272 Content-Length: 499 Content-Type: application/json; charset=UTF-8 X-Openstack-Request-Id: req-5b7044d0-591a-445a-839f-1403b1455824 Date: Fri, 20 Feb 2015 21:42:45 GMT Connection: keep-alive { ""type"": ""PTR"", ""action"": ""CREATE"", ""version"": 1, ""created_at"": ""2015-02-20T21:42:45.000000"", ""zone_id"": ""1bed5d24-d487-4410-b813-f1c637db0ba3"", ""name"": ""11.2.0.192.in-addr.arpa."", ""id"": ""a3dca24e-3eba-4523-8607-c0ad4b9a9272"", ""ttl"": 3600, ""records"": [ ""example.org."" ], ""updated_at"": null, ""links"": { ""self"": ""http://127.0.0.1:9001/v2/zones/1bed5d24-d487-4410-b813-f1c637db0ba3/recordsets/a3dca24e-3eba-4523-8607-c0ad4b9a9272"" }, ""description"": ""A PTR recordset"", ""status"": ""PENDING"" }.. code-block:: http POST /v2/zones HTTP/1.1 Accept: application/json Content-Type: application/json { ""name"": ""2.0.192.in-addr.arpa."", ""ttl"": 3600, ""email"": ""admin@example.com"" }.. code-block:: http POST /v2/zones/$domain_uuid/recordsets HTTP/1.1 Accept: application/json Content-Type: application/json { ""name"": ""3.2.0.192.in-addr.arpa."", ""type"": ""PTR"" ""ttl"": 3600, ""records"": [ ""cats.example.com."" ] } When we do our reverse look, we should see `cats.example.com.` the record name is ends up as `12.2.0.192.in-addr.arpa.`. In",74,166
openstack%2Fcharm-neutron-openvswitch~master~I5618b8a725936520e043540c880d327d35f8de35,openstack/charm-neutron-openvswitch,master,I5618b8a725936520e043540c880d327d35f8de35,Remove bindep.txt and test with pinned lxml-4.6.2 in zot,MERGED,2021-03-25 11:55:33.000000000,2021-04-01 11:14:24.000000000,2021-04-01 11:14:24.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2021-03-25 11:55:33.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/dd9eb0a00a754329420fe8dcf0603991332029b5', 'message': 'Remove bindep.txt and test with pinned lxml-4.6.2 in zot\n\nChange-Id: I5618b8a725936520e043540c880d327d35f8de35\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/531\n'}]",0,782980,dd9eb0a00a754329420fe8dcf0603991332029b5,8,3,1,20870,,,0,"Remove bindep.txt and test with pinned lxml-4.6.2 in zot

Change-Id: I5618b8a725936520e043540c880d327d35f8de35
func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/531
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/80/782980/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,dd9eb0a00a754329420fe8dcf0603991332029b5,test-with-zaza-lxml-4-6.2,,libxml2-dev [platform:dpkg test] libxslt1-dev [platform:dpkg test] build-essential [platform:dpkg test] zlib1g-dev [platform:dpkg test] ,0,4
openstack%2Fos-ken~master~Ic8ab137b724c518f9ea79c33045e6d6c19fad984,openstack/os-ken,master,Ic8ab137b724c518f9ea79c33045e6d6c19fad984,Add remove_kill_bfd_session method to BFDLib,ABANDONED,2021-02-26 09:43:34.000000000,2021-04-01 11:02:02.000000000,,"[{'_account_id': 841}, {'_account_id': 9708}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 30506}]","[{'number': 1, 'created': '2021-02-26 09:43:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/e1ee297d9a55a8e21b34ad229944e0766f2b783c', 'message': ""Add remove_kill_bfd_session method to BFDLib\n\nadd_bfd_session starts a GreenThread but there's no option to stop\nthe created bfd_session and remove it from session dict which keeps\ntrack of the created sessions.\nThis patch adds a remove_kill_bfd_session method to kill the created\nthread and remove it from session dict.\n\nRelated-Bug: #1907089\nChange-Id: Ic8ab137b724c518f9ea79c33045e6d6c19fad984\n""}, {'number': 2, 'created': '2021-03-16 10:38:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/d668f4ad8b07b9e2280eaf9a53ebf23617c89bb7', 'message': ""Add remove_kill_bfd_session method to BFDLib\n\nadd_bfd_session starts a GreenThread but there's no option to stop\nthe created bfd_session and remove it from session dict which keeps\ntrack of the created sessions.\nThis patch adds a remove_kill_bfd_session method to kill the created\nthread and remove it from session dict.\n\nRelated-Bug: #1907089\nChange-Id: Ic8ab137b724c518f9ea79c33045e6d6c19fad984\n""}, {'number': 3, 'created': '2021-03-18 08:20:54.000000000', 'files': ['os_ken/lib/bfdlib.py'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/40086807c10216f704c8205e2df76c4ea35b08be', 'message': ""Add remove_kill_bfd_session method to BFDLib\n\nadd_bfd_session starts a GreenThread but there's no option to stop\nthe created bfd_session and remove it from session dict which keeps\ntrack of the created sessions.\nThis patch adds a remove_kill_bfd_session method to kill the created\nthread and remove it from session dict.\n\nRelated-Bug: #1907089\nChange-Id: Ic8ab137b724c518f9ea79c33045e6d6c19fad984\n""}]",7,777732,40086807c10216f704c8205e2df76c4ea35b08be,19,6,3,8313,,,0,"Add remove_kill_bfd_session method to BFDLib

add_bfd_session starts a GreenThread but there's no option to stop
the created bfd_session and remove it from session dict which keeps
track of the created sessions.
This patch adds a remove_kill_bfd_session method to kill the created
thread and remove it from session dict.

Related-Bug: #1907089
Change-Id: Ic8ab137b724c518f9ea79c33045e6d6c19fad984
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/32/777732/1 && git format-patch -1 --stdout FETCH_HEAD,['os_ken/lib/bfdlib.py'],1,e1ee297d9a55a8e21b34ad229944e0766f2b783c,bug/1907089," self.thread = hub.spawn(self._send_loop) def remove_kill_bfd_session(self, discr): if discr in self.session: hub.kill(self.session[discr].thread) self.session.pop(discr, None) LOG.info(""[BFD][%s][STOP] Session %s is stopped now!"", hex(discr), discr) ", hub.spawn(self._send_loop),8,1
openstack%2Fpbr~master~I7158e75934535b80eb60d6b4b7dcef08866b5bab,openstack/pbr,master,I7158e75934535b80eb60d6b4b7dcef08866b5bab,"Revert ""Map requires-python to python-requires""",MERGED,2021-03-15 17:29:42.000000000,2021-04-01 11:00:59.000000000,2021-04-01 10:59:40.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-15 17:29:42.000000000', 'files': ['pbr/util.py'], 'web_link': 'https://opendev.org/openstack/pbr/commit/5195593256f167d7843c14fa9b8b932bcd2afa34', 'message': 'Revert ""Map requires-python to python-requires""\n\nThis reverts commit d5da2121f875109a94809eeb8aa271fd5a0b3edd. This was\ndone incorrectly. The \'D1_D2_SETUP_ARGS\' dictionary modified here is a\nmapping of distutils (and by extension, setuptools) supported options to\ntheir legacy distutils2 equivalents, and is used to transform the latter\nto the former. For example, consider the following entry:\n\n  ""long_description"": (""metadata"", ""description""),\n\nThis will transform an entry like so in a \'setup.cfg\' file:\n\n  [metadata]\n  description = ...\n\nInto the following equivalent call to setuptools\' \'setup\' function:\n\n  setup(\n      ...,\n      long_description=\'...\',\n      ...\n  )\n\nBy that measure, the entry added in this change, namely:\n\n  ""requires_python"": (""metadata"", ""python_requires""),\n\nWill result in a \'requires_python\' argument being added to the \'setup\'\ncall. That\'s not what we want. Rather, we likely want to transform a\n\'[metadata] requires_python\' entry to a \'python_requires\' argument to\n\'setup\'.\n\nThe change is reverted here in expectation of a forthcoming proper fix.\n\nChange-Id: I7158e75934535b80eb60d6b4b7dcef08866b5bab\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,780631,5195593256f167d7843c14fa9b8b932bcd2afa34,18,3,1,15334,,,0,"Revert ""Map requires-python to python-requires""

This reverts commit d5da2121f875109a94809eeb8aa271fd5a0b3edd. This was
done incorrectly. The 'D1_D2_SETUP_ARGS' dictionary modified here is a
mapping of distutils (and by extension, setuptools) supported options to
their legacy distutils2 equivalents, and is used to transform the latter
to the former. For example, consider the following entry:

  ""long_description"": (""metadata"", ""description""),

This will transform an entry like so in a 'setup.cfg' file:

  [metadata]
  description = ...

Into the following equivalent call to setuptools' 'setup' function:

  setup(
      ...,
      long_description='...',
      ...
  )

By that measure, the entry added in this change, namely:

  ""requires_python"": (""metadata"", ""python_requires""),

Will result in a 'requires_python' argument being added to the 'setup'
call. That's not what we want. Rather, we likely want to transform a
'[metadata] requires_python' entry to a 'python_requires' argument to
'setup'.

The change is reverted here in expectation of a forthcoming proper fix.

Change-Id: I7158e75934535b80eb60d6b4b7dcef08866b5bab
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/pbr refs/changes/31/780631/1 && git format-patch -1 --stdout FETCH_HEAD,['pbr/util.py'],1,5195593256f167d7843c14fa9b8b932bcd2afa34,fix-python_requires-support,," ""requires_python"": (""metadata"", ""python_requires""),",0,1
openstack%2Fmonasca-api~stable%2Fwallaby~I5dd71b6c69b975f8dd922aa3cab9d027f535f422,openstack/monasca-api,stable/wallaby,I5dd71b6c69b975f8dd922aa3cab9d027f535f422,Fix warnings in documentation,MERGED,2021-04-01 10:12:52.000000000,2021-04-01 10:56:43.000000000,2021-04-01 10:55:14.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-04-01 10:12:52.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/10ef639ca8bd6aeffc37d57b0b07f46542cb2cc5', 'message': 'Fix warnings in documentation\n\nThis change defaults the warning-as-error to True:\n\n  https://review.openstack.org/#/c/559348/\n\nWhich is causing our documentation jobs to fail locally and in the\ngate/check queues.\n\nThis commit fixes both issues that are causing failures so that\nwe can get the doc jobs passing again.\n\nChange-Id: I5dd71b6c69b975f8dd922aa3cab9d027f535f422\n(cherry picked from commit 64d62a54f6e3734b98bca725e5b8ad0526f2a7e6)\n'}]",0,784050,10ef639ca8bd6aeffc37d57b0b07f46542cb2cc5,7,2,1,28062,,,0,"Fix warnings in documentation

This change defaults the warning-as-error to True:

  https://review.openstack.org/#/c/559348/

Which is causing our documentation jobs to fail locally and in the
gate/check queues.

This commit fixes both issues that are causing failures so that
we can get the doc jobs passing again.

Change-Id: I5dd71b6c69b975f8dd922aa3cab9d027f535f422
(cherry picked from commit 64d62a54f6e3734b98bca725e5b8ad0526f2a7e6)
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/50/784050/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,10ef639ca8bd6aeffc37d57b0b07f46542cb2cc5,,SQLAlchemy>=1.3.0 # MIT,,1,0
openstack%2Fmonasca-api~master~Ifc65673a2645187ee0a8b61021716035aa769516,openstack/monasca-api,master,Ifc65673a2645187ee0a8b61021716035aa769516,Update master for stable/wallaby,MERGED,2021-03-26 11:17:49.000000000,2021-04-01 10:55:08.000000000,2021-04-01 10:52:36.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-03-26 11:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/fd9546bba423c5555d7973281f78dba3dce00c6c', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: Ifc65673a2645187ee0a8b61021716035aa769516\n'}, {'number': 2, 'created': '2021-03-31 22:50:22.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/4f12b21454875773b90ac76a0ae1558f028439b2', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: Ifc65673a2645187ee0a8b61021716035aa769516\n'}]",0,783273,4f12b21454875773b90ac76a0ae1558f028439b2,9,2,2,22816,,,0,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: Ifc65673a2645187ee0a8b61021716035aa769516
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/73/783273/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,fd9546bba423c5555d7973281f78dba3dce00c6c,reno-wallaby, wallaby,,7,0
openstack%2Ftripleo-ansible~master~I455bda451fcb1a99aec84fed707311219294a361,openstack/tripleo-ansible,master,I455bda451fcb1a99aec84fed707311219294a361,Temporary disable modules molecule job,MERGED,2021-03-31 17:01:56.000000000,2021-04-01 10:47:54.000000000,2021-04-01 10:21:04.000000000,"[{'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2021-03-31 17:01:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a6b4ac6667fa35d7cc0ef5fa0c50e1de91803982', 'message': 'Make modules molecule job non voting\n\nMake one job that recently got an 80% failure rate as non-voting,\nin order to gives us time to investigate and unblock our gates.\n\nChange-Id: I455bda451fcb1a99aec84fed707311219294a361\nRelated: https://bugs.launchpad.net/tripleo/+bug/1922091\n'}, {'number': 2, 'created': '2021-03-31 17:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5f3aa712d216c0559bda4573e43418cd1376c1d8', 'message': 'Make modules molecule job non voting\n\nMake one job that recently got an 80% failure rate as non-voting,\nin order to gives us time to investigate and unblock our gates.\n\nChange-Id: I455bda451fcb1a99aec84fed707311219294a361\nRelated: https://bugs.launchpad.net/tripleo/+bug/1922091\n'}, {'number': 3, 'created': '2021-03-31 17:38:42.000000000', 'files': ['zuul.d/molecule.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dbc04aad8805b8c7129cbfbeede46ac778014dcb', 'message': 'Temporary disable modules molecule job\n\nThis will give us time to test the root cause of the failure.\nRevert once linked bug is fixed.\n\nChange-Id: I455bda451fcb1a99aec84fed707311219294a361\nRelated: https://bugs.launchpad.net/tripleo/+bug/1922091\nPotential-Fix: https://review.opendev.org/c/openstack/tripleo-ansible/+/778095\n'}]",1,784133,dbc04aad8805b8c7129cbfbeede46ac778014dcb,20,5,3,24162,,,0,"Temporary disable modules molecule job

This will give us time to test the root cause of the failure.
Revert once linked bug is fixed.

Change-Id: I455bda451fcb1a99aec84fed707311219294a361
Related: https://bugs.launchpad.net/tripleo/+bug/1922091
Potential-Fix: https://review.opendev.org/c/openstack/tripleo-ansible/+/778095
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/33/784133/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/molecule.yaml'],1,a6b4ac6667fa35d7cc0ef5fa0c50e1de91803982,nv, # remove nv once https://bugs.launchpad.net/tripleo/+bug/1922091 is fixed voting: false,,2,0
openstack%2Fmagnum-tempest-plugin~master~I5d66e18757d516f8c761875bd2f824d0e839f1ac,openstack/magnum-tempest-plugin,master,I5d66e18757d516f8c761875bd2f824d0e839f1ac,Switch to new rolevar for run-temepst role,MERGED,2021-02-11 19:35:30.000000000,2021-04-01 10:41:33.000000000,2021-04-01 10:41:33.000000000,"[{'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2021-02-11 19:35:30.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/05db7c7e03e0fe477052a38c040aa4340711b3ed', 'message': 'Switch to new rolevar for run-temepst role\n\nTempest replaced the below rolevar for run-tempest role\n- tempest_test_blacklist is replaced by tempest_test_exclude_list\n- tempest_black_regex is replaced by tempest_exclude_regex\n\nold name are still supported for compatiblity but we recommend\nto switch to new one.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/774835\nChange-Id: I5d66e18757d516f8c761875bd2f824d0e839f1ac\n'}]",0,775262,05db7c7e03e0fe477052a38c040aa4340711b3ed,10,3,1,8556,,,0,"Switch to new rolevar for run-temepst role

Tempest replaced the below rolevar for run-tempest role
- tempest_test_blacklist is replaced by tempest_test_exclude_list
- tempest_black_regex is replaced by tempest_exclude_regex

old name are still supported for compatiblity but we recommend
to switch to new one.

Depends-On: https://review.opendev.org/c/openstack/tempest/+/774835
Change-Id: I5d66e18757d516f8c761875bd2f824d0e839f1ac
",git fetch https://review.opendev.org/openstack/magnum-tempest-plugin refs/changes/62/775262/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,05db7c7e03e0fe477052a38c040aa4340711b3ed,inclusive_jargon, tempest_exclude_regex: (test_create_list_sign_delete_clusters|test_create_cluster_with_zero_nodes), tempest_black_regex: (test_create_list_sign_delete_clusters|test_create_cluster_with_zero_nodes),1,1
openstack%2Fironic~stable%2Fwallaby~Iaf75ac59da2e3c62a57cd9b56a26265fdd1f1556,openstack/ironic,stable/wallaby,Iaf75ac59da2e3c62a57cd9b56a26265fdd1f1556,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-04-01 09:11:56.000000000,2021-04-01 10:31:31.000000000,2021-04-01 10:24:44.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-01 09:11:56.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/30bcf8b1b213b355e274c51baa21eceaa9afc0b8', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Iaf75ac59da2e3c62a57cd9b56a26265fdd1f1556\n'}]",0,784220,30bcf8b1b213b355e274c51baa21eceaa9afc0b8,8,2,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Iaf75ac59da2e3c62a57cd9b56a26265fdd1f1556
",git fetch https://review.opendev.org/openstack/ironic refs/changes/20/784220/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,30bcf8b1b213b355e274c51baa21eceaa9afc0b8,create-wallaby, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},5,5
openstack%2Fironic-python-agent~master~Ib3d406de284d5b2211eebb03e71ca92ce93bc01f,openstack/ironic-python-agent,master,Ib3d406de284d5b2211eebb03e71ca92ce93bc01f,Add Python3 xena unit tests,MERGED,2021-03-31 16:54:03.000000000,2021-04-01 10:29:56.000000000,2021-04-01 10:24:03.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-31 16:54:03.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/fcb65cae18f4a6b4b05fb70677e2fa114e0558a9', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Ib3d406de284d5b2211eebb03e71ca92ce93bc01f\n'}]",0,784128,fcb65cae18f4a6b4b05fb70677e2fa114e0558a9,7,2,1,22816,,,0,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Ib3d406de284d5b2211eebb03e71ca92ce93bc01f
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/28/784128/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,fcb65cae18f4a6b4b05fb70677e2fa114e0558a9,add-xena-python-jobtemplates, - openstack-python3-xena-jobs, - openstack-python3-wallaby-jobs,1,1
openstack%2Freleases~master~I5ac0f487b55af5b02dc4d49608a988e47bdcc538,openstack/releases,master,I5ac0f487b55af5b02dc4d49608a988e47bdcc538,Create stable/wallaby for grenade,MERGED,2021-03-31 17:03:32.000000000,2021-04-01 10:28:03.000000000,2021-04-01 10:28:03.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-31 17:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/b23be41984103a2f23b5d9ad2647036690af27c9', 'message': 'Create stable/wallaby for grenade\n\nThis commit cut the wallaby branch for grenade\n\nChange-Id: I5ac0f487b55af5b02dc4d49608a988e47bdcc538\n'}, {'number': 2, 'created': '2021-03-31 17:33:58.000000000', 'files': ['deliverables/wallaby/grenade.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7fe2ca40f54dc5f4cbae07cef8a4e8cb5830db97', 'message': 'Create stable/wallaby for grenade\n\nThis commit cut the wallaby branch for grenade\n\nChange-Id: I5ac0f487b55af5b02dc4d49608a988e47bdcc538\n'}]",0,784134,7fe2ca40f54dc5f4cbae07cef8a4e8cb5830db97,10,4,2,8556,,,0,"Create stable/wallaby for grenade

This commit cut the wallaby branch for grenade

Change-Id: I5ac0f487b55af5b02dc4d49608a988e47bdcc538
",git fetch https://review.opendev.org/openstack/releases refs/changes/34/784134/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/grenade.yaml'],1,b23be41984103a2f23b5d9ad2647036690af27c9,qa-wallaby-release,branches: - location: openstack/grenade: 08199218df99ead17d7c34256ed0969b8ae3b3af name: stable/wallaby,,4,0
openstack%2Freleases~master~Ib89510004b8642284a28183a5d63b3935735ce1f,openstack/releases,master,Ib89510004b8642284a28183a5d63b3935735ce1f,Create stable/wallaby for devstack,MERGED,2021-03-31 17:00:13.000000000,2021-04-01 10:27:41.000000000,2021-04-01 10:27:41.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-31 17:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/a9168dc772cb5590e09f7995bb8ffc84fbab5a53', 'message': 'Create stable/wallaby for devstack\n\nThis commit cut the wallaby branch for devstack.\n\nDepends-On: https://review.opendev.org/c/openstack/releases/+/783696\nChange-Id: Ib89510004b8642284a28183a5d63b3935735ce1f\n'}, {'number': 2, 'created': '2021-03-31 17:33:16.000000000', 'files': ['deliverables/wallaby/devstack.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f71147ad71178e2a0065b7abfd5960beb051ac56', 'message': 'Create stable/wallaby for devstack\n\nThis commit cut the wallaby branch for devstack.\n\nDepends-On: https://review.opendev.org/c/openstack/releases/+/783696\nChange-Id: Ib89510004b8642284a28183a5d63b3935735ce1f\n'}]",1,784132,f71147ad71178e2a0065b7abfd5960beb051ac56,12,4,2,8556,,,0,"Create stable/wallaby for devstack

This commit cut the wallaby branch for devstack.

Depends-On: https://review.opendev.org/c/openstack/releases/+/783696
Change-Id: Ib89510004b8642284a28183a5d63b3935735ce1f
",git fetch https://review.opendev.org/openstack/releases refs/changes/32/784132/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/devstack.yaml'],1,a9168dc772cb5590e09f7995bb8ffc84fbab5a53,qa-wallaby-release,branches: - location: openstack/devstack: a64c843052529cf5c8ac8cf8eb46c59b103b4b47 name: stable/wallaby,,4,0
openstack%2Fstorlets~stable%2Fwallaby~I089ae16b46c96540775a7aa86dca19208d818b23,openstack/storlets,stable/wallaby,I089ae16b46c96540775a7aa86dca19208d818b23,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-03-25 17:27:46.000000000,2021-04-01 10:12:17.000000000,2021-04-01 10:10:36.000000000,"[{'_account_id': 4608}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-25 17:27:46.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/storlets/commit/bd25c6cef9e59ea549e4b6a12e903557417e6c41', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I089ae16b46c96540775a7aa86dca19208d818b23\n'}]",0,783062,bd25c6cef9e59ea549e4b6a12e903557417e6c41,8,3,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I089ae16b46c96540775a7aa86dca19208d818b23
",git fetch https://review.opendev.org/openstack/storlets refs/changes/62/783062/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,bd25c6cef9e59ea549e4b6a12e903557417e6c41,create-wallaby, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Fbifrost~master~Ie995d851e7e58541f0729a00c199b57493f1f970,openstack/bifrost,master,Ie995d851e7e58541f0729a00c199b57493f1f970,Add network mask to the dnsmasq config,ABANDONED,2021-03-23 06:36:54.000000000,2021-04-01 10:11:28.000000000,,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-23 06:36:54.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/templates/dnsmasq.conf.j2'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/fc46386115abbccf66328a3f62be4becf1ed36b4', 'message': 'Add network mask to the dnsmasq config\n\nWhen network mask is not specified, dnsmasq tries to guess it from given\nnetwork pool. For example dnsmasq set netmask 255.0.0.0 for subnet\nfrom 10/8 network, and usually it is not what one want.\n\nChange-Id: Ie995d851e7e58541f0729a00c199b57493f1f970\n'}]",2,782365,fc46386115abbccf66328a3f62be4becf1ed36b4,6,2,1,30211,,,0,"Add network mask to the dnsmasq config

When network mask is not specified, dnsmasq tries to guess it from given
network pool. For example dnsmasq set netmask 255.0.0.0 for subnet
from 10/8 network, and usually it is not what one want.

Change-Id: Ie995d851e7e58541f0729a00c199b57493f1f970
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/65/782365/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-ironic-install/templates/dnsmasq.conf.j2'],1,fc46386115abbccf66328a3f62be4becf1ed36b4,dnsmasq_netmask,"dhcp-option=1,{{dnsmasq_netmask | default('255.255.255.0')}}",,1,0
openstack%2Fironic-python-agent~master~Ibbcd82ef613d07f57623d5d22335f017ecd23edb,openstack/ironic-python-agent,master,Ibbcd82ef613d07f57623d5d22335f017ecd23edb,Update master for stable/wallaby,MERGED,2021-03-31 16:53:51.000000000,2021-04-01 10:11:19.000000000,2021-04-01 10:09:04.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-31 16:53:51.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/f6ab33066b9e80e6836752f0c7cbb530708c3ff7', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: Ibbcd82ef613d07f57623d5d22335f017ecd23edb\n'}]",0,784127,f6ab33066b9e80e6836752f0c7cbb530708c3ff7,8,3,1,22816,,,0,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: Ibbcd82ef613d07f57623d5d22335f017ecd23edb
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/27/784127/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,f6ab33066b9e80e6836752f0c7cbb530708c3ff7,reno-wallaby, wallaby,,7,0
openstack%2Fswift~master~I160ba0172756ee79aa2551c16ac1a0b08b848515,openstack/swift,master,I160ba0172756ee79aa2551c16ac1a0b08b848515,diskfile: rewrite get_hashes and supplement docstring,ABANDONED,2021-03-26 12:20:23.000000000,2021-04-01 10:08:58.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-26 12:20:23.000000000', 'files': ['test/unit/cli/test_relinker.py', 'test/unit/obj/test_diskfile.py', 'swift/obj/diskfile.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/a057f532de0d73ff70fe1e3415dd835342c30b2e', 'message': 'diskfile: rewrite get_hashes and supplement docstring\n\nAdd create_partition optional arg to support the previously\n(often assumed) behaviour.\n\nFix unit tests that assumed get_hashes() did create the partition.\n\nAlso, add test assertion that relinker does not create otherwise empty\npartitions.\n\nChange-Id: I160ba0172756ee79aa2551c16ac1a0b08b848515\n'}]",5,783292,a057f532de0d73ff70fe1e3415dd835342c30b2e,5,1,1,7847,,,0,"diskfile: rewrite get_hashes and supplement docstring

Add create_partition optional arg to support the previously
(often assumed) behaviour.

Fix unit tests that assumed get_hashes() did create the partition.

Also, add test assertion that relinker does not create otherwise empty
partitions.

Change-Id: I160ba0172756ee79aa2551c16ac1a0b08b848515
",git fetch https://review.opendev.org/openstack/swift refs/changes/92/783292/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/cli/test_relinker.py', 'test/unit/obj/test_diskfile.py', 'swift/obj/diskfile.py']",3,a057f532de0d73ff70fe1e3415dd835342c30b2e,," skip_rehash=False, create_partition=False): Returns a dict describing the suffix hashes of the given ``partition``. If the partition directory does not exist then it is not created and an empty dict is returned, unless either ``suffixes`` is a non-empty list or ``create_partition`` is ``True``, in which case the partition directory will be created and populated with a hashes.pkl file. :param create_partition: if True then a partition directory will be created if it does not exist, and populated with a hashes.pkl file partition_exists = os.path.exists(partition_path) if (create_partition or suffixes) and not partition_exists: partition_exists = True hashes = None elif partition_exists: else: hashes = {} ", skip_rehash=False): if not os.path.exists(partition_path): if not suffixes: return None if skip_rehash else {} return None else:,73,25
openstack%2Fpython-magnumclient~master~I7306d167a17284c7f478ec1c1599a8d4b32040c2,openstack/python-magnumclient,master,I7306d167a17284c7f478ec1c1599a8d4b32040c2,Fix failing to parse json error msg,MERGED,2020-11-18 10:47:27.000000000,2021-04-01 10:06:34.000000000,2021-04-01 10:03:54.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}, {'_account_id': 29425}]","[{'number': 1, 'created': '2020-11-18 10:47:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/0238250758d4bb7a45098be93abdd85c25eec7f6', 'message': ""Fix failing to parse json error msg\n\nIt assumes its a requests response but could\nbe a HTTPResponse from urllib.\n\nChange-Id: I7306d167a17284c7f478ec1c1599a8d4b32040c2\nAttributeError: 'HTTPResponse' object has no attribute 'json'\n""}, {'number': 2, 'created': '2021-02-11 09:13:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/5808186b11102388c199c33f13ab06000b5b21d1', 'message': 'Fix failing to parse json error msg\n\nIt assumes its a requests response but could\nbe a HTTPResponse from urllib.\n\nChange-Id: I7306d167a17284c7f478ec1c1599a8d4b32040c2\n'}, {'number': 3, 'created': '2021-03-30 13:42:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/e266d3165d017868114a896f70ad2822df834316', 'message': 'Fix failing to parse json error msg\n\nIt assumes its a requests response but could\nbe a HTTPResponse from urllib.\n\nStory: 42183\nChange-Id: I7306d167a17284c7f478ec1c1599a8d4b32040c2\n'}, {'number': 4, 'created': '2021-03-30 13:58:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/70cffe8a5329e5aa94d00f6292a1b53f13a1e4cd', 'message': 'Fix failing to parse json error msg\n\nIt assumes its a requests response but could\nbe a HTTPResponse from urllib.\n\nTask: 42183\nChange-Id: I7306d167a17284c7f478ec1c1599a8d4b32040c2\n'}, {'number': 5, 'created': '2021-03-30 13:59:07.000000000', 'files': ['magnumclient/common/httpclient.py'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/f7551a6bac103070ff456098fe2631409620d492', 'message': 'Fix failing to parse json error msg\n\nIt assumes its a requests response but could\nbe a HTTPResponse from urllib.\n\nStory: 2008789\nTask: 42183\n\nChange-Id: I7306d167a17284c7f478ec1c1599a8d4b32040c2\n'}]",1,763156,f7551a6bac103070ff456098fe2631409620d492,20,5,5,16137,,,0,"Fix failing to parse json error msg

It assumes its a requests response but could
be a HTTPResponse from urllib.

Story: 2008789
Task: 42183

Change-Id: I7306d167a17284c7f478ec1c1599a8d4b32040c2
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/56/763156/3 && git format-patch -1 --stdout FETCH_HEAD,['magnumclient/common/httpclient.py'],1,0238250758d4bb7a45098be93abdd85c25eec7f6,, except AttributeError: body_json = jsonutils.loads(body) return _extract_error_json_text(body_json),,3,0
openstack%2Fmonasca-api~master~I5dd71b6c69b975f8dd922aa3cab9d027f535f422,openstack/monasca-api,master,I5dd71b6c69b975f8dd922aa3cab9d027f535f422,Fix warnings in documentation,MERGED,2021-03-31 16:17:59.000000000,2021-04-01 10:02:47.000000000,2021-04-01 10:01:07.000000000,"[{'_account_id': 22348}, {'_account_id': 26141}]","[{'number': 1, 'created': '2021-03-31 16:17:59.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/64d62a54f6e3734b98bca725e5b8ad0526f2a7e6', 'message': 'Fix warnings in documentation\n\nThis change defaults the warning-as-error to True:\n\n  https://review.openstack.org/#/c/559348/\n\nWhich is causing our documentation jobs to fail locally and in the\ngate/check queues.\n\nThis commit fixes both issues that are causing failures so that\nwe can get the doc jobs passing again.\n\nChange-Id: I5dd71b6c69b975f8dd922aa3cab9d027f535f422\n'}]",0,784120,64d62a54f6e3734b98bca725e5b8ad0526f2a7e6,8,2,1,28062,,,0,"Fix warnings in documentation

This change defaults the warning-as-error to True:

  https://review.openstack.org/#/c/559348/

Which is causing our documentation jobs to fail locally and in the
gate/check queues.

This commit fixes both issues that are causing failures so that
we can get the doc jobs passing again.

Change-Id: I5dd71b6c69b975f8dd922aa3cab9d027f535f422
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/20/784120/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,64d62a54f6e3734b98bca725e5b8ad0526f2a7e6,,SQLAlchemy>=1.3.0 # MIT,,1,0
openstack%2Fneutron~stable%2Fwallaby~I6c68d15d0af644ab00467bea8e0cd3ca816f5cc5,openstack/neutron,stable/wallaby,I6c68d15d0af644ab00467bea8e0cd3ca816f5cc5,[OVN][FT] Mech driver stop accessing DB at exit,MERGED,2021-03-26 15:41:42.000000000,2021-04-01 10:00:23.000000000,2021-04-01 09:57:34.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-03-26 15:41:42.000000000', 'files': ['neutron/tests/functional/base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0fb614046f7bede7f524f4ee85d26e3b0f087df2', 'message': '[OVN][FT] Mech driver stop accessing DB at exit\n\n""OVNMechanismDriver._clean_hash_ring"" is called at exit. Because the\nSQL connection is already closed, an exception is logged. This patch\nmocks this method and avoids the OVN FTs to log this message.\n\nCloses-Bug: #1919352\n\nChange-Id: I6c68d15d0af644ab00467bea8e0cd3ca816f5cc5\n(cherry picked from commit 92a4db01fefb3fe224be920abf372436b8e02c8e)\n'}]",0,783339,0fb614046f7bede7f524f4ee85d26e3b0f087df2,14,5,1,16688,,,0,"[OVN][FT] Mech driver stop accessing DB at exit

""OVNMechanismDriver._clean_hash_ring"" is called at exit. Because the
SQL connection is already closed, an exception is logged. This patch
mocks this method and avoids the OVN FTs to log this message.

Closes-Bug: #1919352

Change-Id: I6c68d15d0af644ab00467bea8e0cd3ca816f5cc5
(cherry picked from commit 92a4db01fefb3fe224be920abf372436b8e02c8e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/39/783339/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/base.py'],1,0fb614046f7bede7f524f4ee85d26e3b0f087df2,bug/1919352," # NOTE(ralonsoh): do not access to the DB at exit when the SQL # connection is already closed, to avoid useless exception messages. mock.patch.object(self.mech_driver, '_clean_hash_ring').start()",,3,0
openstack%2Fstorlets~stable%2Fwallaby~Ibf4d4669a5d3be0caa665d3537fd03f6eb4f7c9e,openstack/storlets,stable/wallaby,Ibf4d4669a5d3be0caa665d3537fd03f6eb4f7c9e,Update .gitreview for stable/wallaby,MERGED,2021-03-25 17:27:43.000000000,2021-04-01 09:59:56.000000000,2021-04-01 09:57:43.000000000,"[{'_account_id': 4608}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-03-25 17:27:43.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/storlets/commit/5bc2723f085d3164dc605737b6a0f3c8c3a1aae6', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: Ibf4d4669a5d3be0caa665d3537fd03f6eb4f7c9e\n'}]",0,783061,5bc2723f085d3164dc605737b6a0f3c8c3a1aae6,9,4,1,22816,,,0,"Update .gitreview for stable/wallaby

Change-Id: Ibf4d4669a5d3be0caa665d3537fd03f6eb4f7c9e
",git fetch https://review.opendev.org/openstack/storlets refs/changes/61/783061/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,5bc2723f085d3164dc605737b6a0f3c8c3a1aae6,create-wallaby,defaultbranch=stable/wallaby,,1,0
openstack%2Freleases~master~I9490e34618e35149ed07f6b5ac75f480d9c44271,openstack/releases,master,I9490e34618e35149ed07f6b5ac75f480d9c44271,Release Octavia Wallaby RC2,MERGED,2021-03-31 17:21:07.000000000,2021-04-01 09:03:36.000000000,2021-04-01 09:03:36.000000000,"[{'_account_id': 308}, {'_account_id': 6469}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-03-31 17:21:07.000000000', 'files': ['deliverables/wallaby/octavia.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/fed2466c6d2b33689357e04bf45bbd9c8ac9097d', 'message': 'Release Octavia Wallaby RC2\n\nThis release includes two bug fixes important to include in the\nwallaby release that did not make RC1.\n\nChange-Id: I9490e34618e35149ed07f6b5ac75f480d9c44271\n'}]",0,784139,fed2466c6d2b33689357e04bf45bbd9c8ac9097d,10,5,1,11628,,,0,"Release Octavia Wallaby RC2

This release includes two bug fixes important to include in the
wallaby release that did not make RC1.

Change-Id: I9490e34618e35149ed07f6b5ac75f480d9c44271
",git fetch https://review.opendev.org/openstack/releases refs/changes/39/784139/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/octavia.yaml'],1,fed2466c6d2b33689357e04bf45bbd9c8ac9097d,, - version: 8.0.0.0rc2 projects: - repo: openstack/octavia hash: d463897551017f6c4329e7109649af87e1ec88a9,,4,0
openstack%2Freleases~master~Icb2f6e89badaba401963bb1e46894a00dc791754,openstack/releases,master,Icb2f6e89badaba401963bb1e46894a00dc791754,Creating stable wallaby for ironic,MERGED,2021-03-29 15:38:33.000000000,2021-04-01 09:03:22.000000000,2021-04-01 09:03:22.000000000,"[{'_account_id': 308}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-29 15:38:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/e54ccc48237a3fd09d333024b4739a7310995803', 'message': 'Creating stable wallaby for ironic\n\nIf you want to wait and make another release before the branch is cut,\nsomeone from the team can -1 the patch to have it held, or update that\npatch to include another release and stable branch point.\n\nPatches with no response will be merged by Friday April 02.\n\nChange-Id: Icb2f6e89badaba401963bb1e46894a00dc791754\n'}, {'number': 2, 'created': '2021-04-01 07:16:00.000000000', 'files': ['deliverables/wallaby/ironic.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4d57e9e718f0c22edd323a25aeaac4a5538eb168', 'message': 'Creating stable wallaby for ironic\n\nIf you want to wait and make another release before the branch is cut,\nsomeone from the team can -1 the patch to have it held, or update that\npatch to include another release and stable branch point.\n\nPatches with no response will be merged by Friday April 02.\n\nChange-Id: Icb2f6e89badaba401963bb1e46894a00dc791754\n'}]",0,783696,4d57e9e718f0c22edd323a25aeaac4a5538eb168,13,7,2,28522,,,0,"Creating stable wallaby for ironic

If you want to wait and make another release before the branch is cut,
someone from the team can -1 the patch to have it held, or update that
patch to include another release and stable branch point.

Patches with no response will be merged by Friday April 02.

Change-Id: Icb2f6e89badaba401963bb1e46894a00dc791754
",git fetch https://review.opendev.org/openstack/releases refs/changes/96/783696/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/ironic.yaml'],1,e54ccc48237a3fd09d333024b4739a7310995803,wallaby-missing-stable-branches, - name: stable/wallaby location: 16.2.0,,2,0
openstack%2Freleases~master~Ifa7abec261bfc61b36d585e5204200b5ccb17d44,openstack/releases,master,Ifa7abec261bfc61b36d585e5204200b5ccb17d44,Puppet OpenStack Wallaby RC1,MERGED,2021-03-31 07:20:34.000000000,2021-04-01 09:03:17.000000000,2021-04-01 09:03:17.000000000,"[{'_account_id': 308}, {'_account_id': 9414}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-31 07:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/4a55265a7d17a95de154003abddb265413d8afae', 'message': 'Puppet OpenStack Wallaby RC1\n\nChange-Id: Ifa7abec261bfc61b36d585e5204200b5ccb17d44\n'}, {'number': 2, 'created': '2021-03-31 07:34:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/159e02f87facf3a3903ad5bf2df2d5cf084470a3', 'message': 'Puppet OpenStack Wallaby RC1\n\nChange-Id: Ifa7abec261bfc61b36d585e5204200b5ccb17d44\n'}, {'number': 3, 'created': '2021-03-31 07:39:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/4439b1c93e70215117e98798b2dc68245cee395e', 'message': 'Puppet OpenStack Wallaby RC1\n\nChange-Id: Ifa7abec261bfc61b36d585e5204200b5ccb17d44\n'}, {'number': 4, 'created': '2021-03-31 08:57:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/d7941422b53c26063b4c69e2573bdd7526593e70', 'message': 'Puppet OpenStack Wallaby RC1\n\nChange-Id: Ifa7abec261bfc61b36d585e5204200b5ccb17d44\n'}, {'number': 5, 'created': '2021-03-31 08:58:43.000000000', 'files': ['deliverables/wallaby/puppet-senlin.yaml', 'deliverables/wallaby/puppet-watcher.yaml', 'deliverables/wallaby/puppet-neutron.yaml', 'deliverables/wallaby/puppet-qdr.yaml', 'deliverables/wallaby/puppet-tempest.yaml', 'deliverables/wallaby/puppet-zaqar.yaml', 'deliverables/wallaby/puppet-barbican.yaml', 'deliverables/wallaby/puppet-cloudkitty.yaml', 'deliverables/wallaby/puppet-keystone.yaml', 'deliverables/wallaby/puppet-oslo.yaml', 'deliverables/wallaby/puppet-swift.yaml', 'deliverables/wallaby/puppet-placement.yaml', 'deliverables/wallaby/puppet-magnum.yaml', 'deliverables/wallaby/puppet-ovn.yaml', 'deliverables/wallaby/puppet-vitrage.yaml', 'deliverables/wallaby/puppet-murano.yaml', 'deliverables/wallaby/puppet-nova.yaml', 'deliverables/wallaby/puppet-panko.yaml', 'deliverables/wallaby/puppet-rally.yaml', 'deliverables/wallaby/puppet-aodh.yaml', 'deliverables/wallaby/puppet-openstack_spec_helper.yaml', 'deliverables/wallaby/puppet-openstack-integration.yaml', 'deliverables/wallaby/puppet-sahara.yaml', 'deliverables/wallaby/puppet-designate.yaml', 'deliverables/wallaby/puppet-ironic.yaml', 'deliverables/wallaby/puppet-horizon.yaml', 'deliverables/wallaby/puppet-ceilometer.yaml', 'deliverables/wallaby/puppet-trove.yaml', 'deliverables/wallaby/puppet-octavia.yaml', 'deliverables/wallaby/puppet-openstacklib.yaml', 'deliverables/wallaby/puppet-ec2api.yaml', 'deliverables/wallaby/puppet-mistral.yaml', 'deliverables/wallaby/puppet-openstack_extras.yaml', 'deliverables/wallaby/puppet-freezer.yaml', 'deliverables/wallaby/puppet-manila.yaml', 'deliverables/wallaby/puppet-glare.yaml', 'deliverables/wallaby/puppet-vswitch.yaml', 'deliverables/wallaby/puppet-monasca.yaml', 'deliverables/wallaby/puppet-tacker.yaml', 'deliverables/wallaby/puppet-heat.yaml', 'deliverables/wallaby/puppet-cinder.yaml', 'deliverables/wallaby/puppet-glance.yaml', 'deliverables/wallaby/puppet-gnocchi.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/adaeff4a793115f182bde65c1e8a38efc0b8845f', 'message': 'Puppet OpenStack Wallaby RC1\n\nChange-Id: Ifa7abec261bfc61b36d585e5204200b5ccb17d44\n'}]",1,784014,adaeff4a793115f182bde65c1e8a38efc0b8845f,17,5,5,9816,,,0,"Puppet OpenStack Wallaby RC1

Change-Id: Ifa7abec261bfc61b36d585e5204200b5ccb17d44
",git fetch https://review.opendev.org/openstack/releases refs/changes/14/784014/4 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/wallaby/puppet-senlin.yaml', 'deliverables/wallaby/puppet-watcher.yaml', 'deliverables/wallaby/puppet-neutron.yaml', 'deliverables/wallaby/puppet-qdr.yaml', 'deliverables/wallaby/puppet-tempest.yaml', 'deliverables/wallaby/puppet-zaqar.yaml', 'deliverables/wallaby/puppet-barbican.yaml', 'deliverables/wallaby/puppet-cloudkitty.yaml', 'deliverables/wallaby/puppet-keystone.yaml', 'deliverables/wallaby/puppet-oslo.yaml', 'deliverables/wallaby/puppet-swift.yaml', 'deliverables/wallaby/puppet-placement.yaml', 'deliverables/wallaby/puppet-magnum.yaml', 'deliverables/wallaby/puppet-ovn.yaml', 'deliverables/wallaby/puppet-vitrage.yaml', 'deliverables/wallaby/puppet-murano.yaml', 'deliverables/wallaby/puppet-nova.yaml', 'deliverables/wallaby/puppet-panko.yaml', 'deliverables/wallaby/puppet-rally.yaml', 'deliverables/wallaby/puppet-aodh.yaml', 'deliverables/wallaby/puppet-openstack_spec_helper.yaml', 'deliverables/wallaby/puppet-openstack-integration.yaml', 'deliverables/wallaby/puppet-sahara.yaml', 'deliverables/wallaby/puppet-designate.yaml', 'deliverables/wallaby/puppet-ironic.yaml', 'deliverables/wallaby/puppet-horizon.yaml', 'deliverables/wallaby/puppet-ceilometer.yaml', 'deliverables/wallaby/puppet-trove.yaml', 'deliverables/wallaby/puppet-octavia.yaml', 'deliverables/wallaby/puppet-openstacklib.yaml', 'deliverables/wallaby/puppet-ec2api.yaml', 'deliverables/wallaby/puppet-mistral.yaml', 'deliverables/wallaby/puppet-openstack_extras.yaml', 'deliverables/wallaby/puppet-freezer.yaml', 'deliverables/wallaby/puppet-manila.yaml', 'deliverables/wallaby/puppet-glare.yaml', 'deliverables/wallaby/puppet-vswitch.yaml', 'deliverables/wallaby/puppet-monasca.yaml', 'deliverables/wallaby/puppet-tacker.yaml', 'deliverables/wallaby/puppet-heat.yaml', 'deliverables/wallaby/puppet-cinder.yaml', 'deliverables/wallaby/puppet-glance.yaml', 'deliverables/wallaby/puppet-gnocchi.yaml']",43,4a55265a7d17a95de154003abddb265413d8afae,puppet-release-wallaby-rc1, - projects: - hash: 8e623875b6b8756f2de27015297f0b0c55136f33 repo: openstack/puppet-gnocchi version: 18.4.0 branches: - name: stable/wallaby location: 18.4.0,,295,0
openstack%2Fneutron~master~Id32c5a706aabb2c12078ab3469c80eb3def753d6,openstack/neutron,master,Id32c5a706aabb2c12078ab3469c80eb3def753d6,Unit tests for auto_allocated_topology API policies,MERGED,2021-03-19 11:51:44.000000000,2021-04-01 09:00:35.000000000,2021-04-01 08:59:07.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-19 11:51:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/05dc0a8a4407190727d8ba35ed108faa623a0f13', 'message': 'Unit tests for auto_allocated_topology API policies\n\nThis patch adds unit tests for new API policies for\nauto_allocated_topology.\n\nRelated-blueprint: #secure-rbac-roles\nChange-Id: Id32c5a706aabb2c12078ab3469c80eb3def753d6\n'}, {'number': 2, 'created': '2021-03-22 10:29:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3eb9e6867d484d900568d549fd26c5af658ae4b7', 'message': 'Unit tests for auto_allocated_topology API policies\n\nThis patch adds unit tests for new API policies for\nauto_allocated_topology.\n\nRelated-blueprint: #secure-rbac-roles\nChange-Id: Id32c5a706aabb2c12078ab3469c80eb3def753d6\n'}, {'number': 3, 'created': '2021-03-22 10:30:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2409638eb97419195461c09757edef466231c292', 'message': 'Unit tests for auto_allocated_topology API policies\n\nThis patch adds unit tests for new API policies for\nauto_allocated_topology.\n\nRelated-blueprint: #secure-rbac-roles\nChange-Id: Id32c5a706aabb2c12078ab3469c80eb3def753d6\n'}, {'number': 4, 'created': '2021-03-31 12:30:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b1ed4f7b115537eb0a6d1c2b71b2fc01d57e3d86', 'message': 'Unit tests for auto_allocated_topology API policies\n\nThis patch adds unit tests for new API policies for\nauto_allocated_topology.\n\nCo-Authored-By: Lance Bragstad <lbragstad@gmail.com>\n\nRelated-blueprint: #secure-rbac-roles\nChange-Id: Id32c5a706aabb2c12078ab3469c80eb3def753d6\n'}, {'number': 5, 'created': '2021-03-31 13:25:59.000000000', 'files': ['neutron/tests/unit/conf/policies/test_auto_allocated_topology.py', 'neutron/tests/unit/conf/policies/base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f6682b6b55bc8aa8e12605d849a0ce374b736067', 'message': 'Unit tests for auto_allocated_topology API policies\n\nThis patch adds unit tests for new API policies for\nauto_allocated_topology.\n\nCo-Authored-By: Lance Bragstad <lbragstad@gmail.com>\n\nRelated-blueprint: #secure-rbac-roles\nChange-Id: Id32c5a706aabb2c12078ab3469c80eb3def753d6\n'}]",1,781632,f6682b6b55bc8aa8e12605d849a0ce374b736067,25,5,5,11975,,,0,"Unit tests for auto_allocated_topology API policies

This patch adds unit tests for new API policies for
auto_allocated_topology.

Co-Authored-By: Lance Bragstad <lbragstad@gmail.com>

Related-blueprint: #secure-rbac-roles
Change-Id: Id32c5a706aabb2c12078ab3469c80eb3def753d6
",git fetch https://review.opendev.org/openstack/neutron refs/changes/32/781632/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/conf/policies/test_auto_allocated_topology.py'],1,05dc0a8a4407190727d8ba35ed108faa623a0f13,secure-rbac,"# Copyright (c) 2021 Red Hat Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. from oslo_policy import policy as base_policy from neutron import policy from neutron.tests.unit.conf.policies import base class AutoAllocatedTopologyAPITestCase(base.PolicyBase): def setUp(self): super(AutoAllocatedTopologyAPITestCase, self).setUp() self.target = { 'project_id': self.project_id} def test_system_reader_can_get_allocated_topology(self): self.assertTrue( policy.enforce(self.system_reader_ctx, 'get_auto_allocated_topology', self.target)) def test_project_reader_can_get_allocated_topology(self): self.assertTrue( policy.enforce(self.project_reader_ctx, 'get_auto_allocated_topology', self.target)) def test_project_reader_can_not_get_allocated_topology_other_project( self): target = {'project_id': 'other-tenant'} self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.project_reader_ctx, 'get_auto_allocated_topology', target) def test_system_admin_can_delete_allocated_topology(self): self.assertTrue( policy.enforce(self.system_admin_ctx, 'delete_auto_allocated_topology', self.target)) def test_system_member_can_not_delete_allocated_topology(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.system_member_ctx, 'delete_auto_allocated_topology', self.target) def test_project_member_can_delete_allocated_topology(self): self.assertTrue( policy.enforce(self.project_member_ctx, 'delete_auto_allocated_topology', self.target)) def test_project_member_can_not_get_allocated_topology_other_project( self): target = {'project_id': 'other-tenant'} self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.project_member_ctx, 'delete_auto_allocated_topology', target) def test_project_reader_can_not_get_allocated_topology(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.project_reader_ctx, 'delete_auto_allocated_topology', self.target) def test_project_reader_can_not_delete_allocated_topology_other_project( self): target = {'project_id': 'other-tenant'} self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.project_reader_ctx, 'delete_auto_allocated_topology', target) ",,89,0
openstack%2Freleases~master~I6b3619a44d0aea1fa4852e650cbafcb08c853353,openstack/releases,master,I6b3619a44d0aea1fa4852e650cbafcb08c853353,Clarifying how to deal with tempest-plugin during series,MERGED,2021-03-26 17:55:49.000000000,2021-04-01 08:58:51.000000000,2021-04-01 08:58:51.000000000,"[{'_account_id': 308}, {'_account_id': 8556}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-26 17:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/af071a991ff619a6cd3339a52f9c0c36e10b2280', 'message': ""Clarifying how deal with tempest-plugin during series\n\nPreviously the tempest plugins were driven by the legacy cycle-automatic model.\nHowever this model have been abandoned.\n\nThe cycle-automatic release model is now better described by the\ncycle-with-intermediary model combined with stable-branch-type: none\n\nThe “cycle-automatic” model was used by specific technical deliverables\nthat needed to be automatically released once at the end of a cycle.\n\nthe tempest-plugin are branchless and cycle-withè-intermediary however\nour process doesn't handle them at the end of the cycle as did cycle-automatic.\n\nThese changes clarifying that point.\n\nChange-Id: I6b3619a44d0aea1fa4852e650cbafcb08c853353\n""}, {'number': 2, 'created': '2021-03-26 17:56:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/a90b46c6571a09f0b8547ef5e19f446167c7a5d6', 'message': ""Clarifying how to deal with tempest-plugin during series\n\nPreviously the tempest plugins were driven by the legacy cycle-automatic model.\nHowever this model have been abandoned.\n\nThe cycle-automatic release model is now better described by the\ncycle-with-intermediary model combined with stable-branch-type: none\n\nThe “cycle-automatic” model was used by specific technical deliverables\nthat needed to be automatically released once at the end of a cycle.\n\nthe tempest-plugin are branchless and cycle-withè-intermediary however\nour process doesn't handle them at the end of the cycle as did cycle-automatic.\n\nThese changes clarifying that point.\n\nChange-Id: I6b3619a44d0aea1fa4852e650cbafcb08c853353\n""}, {'number': 3, 'created': '2021-03-29 07:14:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/9cce09477fdb7b6a679e6e1e96ef127b1aee5b87', 'message': ""Clarifying how to deal with tempest-plugin during series\n\nPreviously the tempest plugins were driven by the legacy\n`cycle-automatic` model. However this model have been abandoned.\n\nThe cycle-automatic release model is now better described by the\n`cycle-with-intermediary` model combined with `stable-branch-type: none`\n\nThe `cycle-automatic` model was used by specific technical deliverables\nthat needed to be automatically released once at the end of a cycle.\n\nthe tempest-plugin are branchless and `cycle-with-intermediary`\nhowever our process doesn't handle them at the end of the cycle\nlike did the `cycle-automatic`.\n\nThese changes clarifying that point.\n\nChange-Id: I6b3619a44d0aea1fa4852e650cbafcb08c853353\n""}, {'number': 4, 'created': '2021-03-30 16:11:47.000000000', 'files': ['doc/source/reference/deliverable_types.rst', 'doc/source/reference/release_models.rst', 'doc/source/reference/process.rst'], 'web_link': 'https://opendev.org/openstack/releases/commit/b872f50b96a980389c0f75e27d387ea6718586c1', 'message': ""Clarifying how to deal with tempest-plugin during series\n\nPreviously the tempest plugins were driven by the legacy\n`cycle-automatic` model. However this model have been abandoned.\n\nThe cycle-automatic release model is now better described by the\n`cycle-with-intermediary` model combined with `stable-branch-type: none`\n\nThe `cycle-automatic` model was used by specific technical deliverables\nthat needed to be automatically released once at the end of a cycle.\n\nthe tempest-plugin are branchless and `cycle-with-intermediary`\nhowever our process doesn't handle them at the end of the cycle\nlike did the `cycle-automatic`.\n\nThese changes clarifying that point.\n\nChange-Id: I6b3619a44d0aea1fa4852e650cbafcb08c853353\n""}]",4,783410,b872f50b96a980389c0f75e27d387ea6718586c1,18,4,4,28522,,,0,"Clarifying how to deal with tempest-plugin during series

Previously the tempest plugins were driven by the legacy
`cycle-automatic` model. However this model have been abandoned.

The cycle-automatic release model is now better described by the
`cycle-with-intermediary` model combined with `stable-branch-type: none`

The `cycle-automatic` model was used by specific technical deliverables
that needed to be automatically released once at the end of a cycle.

the tempest-plugin are branchless and `cycle-with-intermediary`
however our process doesn't handle them at the end of the cycle
like did the `cycle-automatic`.

These changes clarifying that point.

Change-Id: I6b3619a44d0aea1fa4852e650cbafcb08c853353
",git fetch https://review.opendev.org/openstack/releases refs/changes/10/783410/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/deliverable_types.rst', 'doc/source/reference/release_models.rst', 'doc/source/reference/process.rst']",3,af071a991ff619a6cd3339a52f9c0c36e10b2280,tempest-plugin,#. Gracefully release tempest plugins with latest changes available. Tempest plugins are branchless however they should be released at the end of each cycle at least (c.f `the legacy cycle automatic model <https://releases.openstack.org/reference/release_models.html#cycle-automatic>`_ and `the tempest-plugin type <https://releases.openstack.org/reference/deliverable_types.html#tempest-plugin>`_). - You can preview unreleased changes by using:: $ tox -e venv -- list-deliverables --type tempest-plugin $ tools/list_unreleased_changes.sh wallaby <tempest-plugin-projects> - Process auto release for those who need to be released:: $ tools/process_auto_releases.sh $series <tempest-plugin-projects-list> .. warning:: Please use ``$series-tp-latest`` as gerrit topic. ,,33,1
openstack%2Fhacking~master~I47ce403f35460bcf27d044450c7e6ed00cda7c4f,openstack/hacking,master,I47ce403f35460bcf27d044450c7e6ed00cda7c4f,Enable py39 testing with hacking,MERGED,2021-03-30 10:25:32.000000000,2021-04-01 08:44:51.000000000,2021-04-01 08:40:51.000000000,"[{'_account_id': 1}, {'_account_id': 5263}, {'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-03-30 10:25:32.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/hacking/commit/f56b276b972d85aa083ee1107c62bb85f09ba069', 'message': 'Enable py39 testing with hacking\n\n- bump template to wallaby to make use of py39 job\n- advertise py39 support in metadata\n- clean default tox envlist to be python version agnostic\n\nChange-Id: I47ce403f35460bcf27d044450c7e6ed00cda7c4f\n'}]",0,783833,f56b276b972d85aa083ee1107c62bb85f09ba069,11,6,1,24162,,,0,"Enable py39 testing with hacking

- bump template to wallaby to make use of py39 job
- advertise py39 support in metadata
- clean default tox envlist to be python version agnostic

Change-Id: I47ce403f35460bcf27d044450c7e6ed00cda7c4f
",git fetch https://review.opendev.org/openstack/hacking refs/changes/33/783833/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,f56b276b972d85aa083ee1107c62bb85f09ba069,,"envlist = py,pep8","envlist = py36,py38,pep8,pypy",3,2
openstack%2Fhacking~master~I534ca4509bdb5f6846a41bf7cd25dd1773abaca7,openstack/hacking,master,I534ca4509bdb5f6846a41bf7cd25dd1773abaca7,Add useful project links to metadata,MERGED,2021-03-30 09:11:42.000000000,2021-04-01 08:43:16.000000000,2021-04-01 08:40:47.000000000,"[{'_account_id': 1}, {'_account_id': 5263}, {'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-03-30 09:11:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/4343e4b317c900bda2cbf29a29eda8138f0827ca', 'message': 'Add useful project links to metadata\n\nHacking PyPI presence does miss to expose few essential links related\nto the project, so we add them to avoid forcing users to dig into\nthe documentation to find them.\n\nChange-Id: I534ca4509bdb5f6846a41bf7cd25dd1773abaca7\n'}, {'number': 2, 'created': '2021-03-30 10:18:56.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/hacking/commit/bb71c7271d6b6490bf1c214a74c689d2e98cb1d7', 'message': 'Add useful project links to metadata\n\nHacking PyPI presence does miss to expose few essential links related\nto the project, so we add them to avoid forcing users to dig into\nthe documentation to find them.\n\nChange-Id: I534ca4509bdb5f6846a41bf7cd25dd1773abaca7\n'}]",3,783810,bb71c7271d6b6490bf1c214a74c689d2e98cb1d7,13,6,2,24162,,,0,"Add useful project links to metadata

Hacking PyPI presence does miss to expose few essential links related
to the project, so we add them to avoid forcing users to dig into
the documentation to find them.

Change-Id: I534ca4509bdb5f6846a41bf7cd25dd1773abaca7
",git fetch https://review.opendev.org/openstack/hacking refs/changes/10/783810/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,4343e4b317c900bda2cbf29a29eda8138f0827ca,,project_urls = Bug Tracker = https://bugs.launchpad.net/hacking Reviews = https://review.opendev.org/q/p:openstack/hacking+status:open CI = https://zuul.opendev.org/t/openstack/builds?project=openstack%2Fhacking Source Code = https://opendev.org/openstack/hacking,,5,0
openstack%2Ftacker~master~Iae2b25abe53eda483e811171306d3d375a7e1687,openstack/tacker,master,Iae2b25abe53eda483e811171306d3d375a7e1687,Fix UT and FT VNFD yaml because lack of properties,MERGED,2021-03-31 05:53:19.000000000,2021-04-01 08:35:54.000000000,2021-04-01 08:34:25.000000000,"[{'_account_id': 4149}, {'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}]","[{'number': 1, 'created': '2021-03-31 05:53:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/ead9cae7cf320da53b6435c0c886f5a7d3b68889', 'message': 'Fix unittest VNFD yaml because lack of properties\n\nAn error occurs in tox due to an incorrect setting of\nproperties related to tosca.policies.tacker.Scaling.\nTherefore, this patch fixes the related unittest VNFDs.\n\nChange-Id: Iae2b25abe53eda483e811171306d3d375a7e1687\nCloses-Bug: #1921996\n'}, {'number': 2, 'created': '2021-03-31 14:29:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/83073ff32f07d9264e562210cb05f62991b8c303', 'message': 'Fix unittest VNFD yaml because lack of properties\n\nAn error occurs in tox due to an incorrect setting of\nproperties related to tosca.policies.tacker.Scaling.\nTherefore, this patch fixes the related unittest VNFDs.\n\nCo-Authored-By: Yasufumi Ogawa <yasufum.o@gmail.com>\nChange-Id: Iae2b25abe53eda483e811171306d3d375a7e1687\nCloses-Bug: #1921996\n'}, {'number': 3, 'created': '2021-03-31 23:01:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/4a92a690344a82d08e001ca2bc51302030eb7cdf', 'message': 'Fix unittest VNFD yaml because lack of properties\n\nAn error occurs in tox due to an incorrect setting of\nproperties related to tosca.policies.tacker.Scaling.\nTherefore, this patch fixes the related unittest VNFDs.\n\nCo-Authored-By: Yasufumi Ogawa <yasufum.o@gmail.com>\nChange-Id: Iae2b25abe53eda483e811171306d3d375a7e1687\nCloses-Bug: #1921996\n'}, {'number': 4, 'created': '2021-04-01 04:35:18.000000000', 'files': ['samples/tosca-templates/vnfd/tosca-vnfd-scale.yaml', 'tacker/tests/etc/samples/sample-tosca-scale-all.yaml', 'tacker/tests/etc/samples/sample-tosca-vnfd-maintenance.yaml', 'tacker/tests/unit/vnfm/infra_drivers/openstack/data/tosca_alarm_scale.yaml', 'tacker/tests/etc/samples/sample-tosca-vnfd-instance-reservation.yaml', 'lower-constraints.txt', 'tacker/tests/unit/vnfm/infra_drivers/openstack/data/tosca_scale.yaml', 'tacker/tosca/lib/tacker_defs.yaml', 'requirements.txt', 'tacker/tests/unit/vnfm/infra_drivers/openstack/data/test_tosca_vnfd_alarm_scale.yaml', 'samples/tosca-templates/vnfd/tosca-vnfd-alarm-scale.yaml', 'tacker/tests/etc/samples/sample-tosca-alarm-scale.yaml'], 'web_link': 'https://opendev.org/openstack/tacker/commit/e6a7ff593f6a2455c65190e8c7f4683cff3e40a2', 'message': 'Fix UT and FT VNFD yaml because lack of properties\n\nAn error occurs in tox due to an incorrect setting of\nproperties related to tosca.policies.tacker.Scaling.\nTherefore, this patch fixes the related VNFDs.\nThe error is occurring in unittest and FT, so fix both.\n\nAt the same time, there was a problem with the version of\nheat-translator, so modify the following files as well.\n- lower-constraints.txt\n- requirements.txt\n\nCo-Authored-By: Yasufumi Ogawa <yasufum.o@gmail.com>\nChange-Id: Iae2b25abe53eda483e811171306d3d375a7e1687\nCloses-Bug: #1921996\n'}]",0,784000,e6a7ff593f6a2455c65190e8c7f4683cff3e40a2,14,5,4,31072,,,0,"Fix UT and FT VNFD yaml because lack of properties

An error occurs in tox due to an incorrect setting of
properties related to tosca.policies.tacker.Scaling.
Therefore, this patch fixes the related VNFDs.
The error is occurring in unittest and FT, so fix both.

At the same time, there was a problem with the version of
heat-translator, so modify the following files as well.
- lower-constraints.txt
- requirements.txt

Co-Authored-By: Yasufumi Ogawa <yasufum.o@gmail.com>
Change-Id: Iae2b25abe53eda483e811171306d3d375a7e1687
Closes-Bug: #1921996
",git fetch https://review.opendev.org/openstack/tacker refs/changes/00/784000/4 && git format-patch -1 --stdout FETCH_HEAD,"['samples/tosca-templates/vnfd/tosca-vnfd-scale.yaml', 'tacker/tests/unit/vnfm/infra_drivers/openstack/data/tosca_alarm_scale.yaml', 'tacker/tests/unit/vnfm/infra_drivers/openstack/data/test_tosca_vnfd_alarm_scale.yaml', 'samples/tosca-templates/vnfd/tosca-vnfd-alarm-scale.yaml', 'tacker/tests/unit/vnfm/infra_drivers/openstack/data/tosca_scale.yaml', 'tacker/tosca/lib/tacker_defs.yaml']",6,ead9cae7cf320da53b6435c0c886f5a7d3b68889,bug/1921996, targets: type: list entry_schema: type: string required: true description: List of Scaling nodes.,,11,5
openstack%2Fcinder~master~If1fdbf8b28c4e89cc35eba9d16ee8540c69e5619,openstack/cinder,master,If1fdbf8b28c4e89cc35eba9d16ee8540c69e5619,Fix volume service_uuid return None,NEW,2020-12-15 11:18:40.000000000,2021-04-01 08:31:11.000000000,,"[{'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2020-12-15 11:18:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e71e3c6d82bb324047317bc1d8344385cc7f47fe', 'message': ""Fix volume service_uuid return None\n\nVolume service_uuid and shared_targets attributes\nare updated when volume status is updated\nto available.\n\nThe originial implementation is that the service_uuid\nand shared_targets were updated after the volume status\nhave been changed to 'available', so that nova service\nget the available volume info without service_uuid and\nincorrect shared_targets and nova cannot use correct\nlock when volume is attached to instance[1][2].\n\n[1]:https://github.com/openstack/nova/blob/5b304bbdaf012159211cb9f66c0db1f698323324/nova/virt/block_device.py#L671\n[2]:https://github.com/openstack/os-brick/blob/edbbe7d207fe6398320c4b41ed4f88f951a97252/os_brick/initiator/utils.py#L45\n\nChange-Id: If1fdbf8b28c4e89cc35eba9d16ee8540c69e5619\n""}, {'number': 2, 'created': '2021-01-07 01:35:28.000000000', 'files': ['cinder/volume/manager.py', 'cinder/volume/flows/manager/create_volume.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/982a66c7c88a2383dc3b9d3823a73f8b13abdbfb', 'message': ""Fix volume service_uuid return None\n\nVolume service_uuid and shared_targets attributes\nare updated when volume status is updated\nto available.\n\nThe originial implementation is that the service_uuid\nand shared_targets were updated after the volume status\nhave been changed to 'available', so that nova service\nget the available volume info without service_uuid and\nincorrect shared_targets and nova cannot use correct\nlock when volume is attached to instance[1][2].\n\n[1]:https://github.com/openstack/nova/blob/5b304bbdaf012159211cb9f66c0db1f698323324/nova/virt/block_device.py#L671\n[2]:https://github.com/openstack/os-brick/blob/edbbe7d207fe6398320c4b41ed4f88f951a97252/os_brick/initiator/utils.py#L45\n\nChange-Id: If1fdbf8b28c4e89cc35eba9d16ee8540c69e5619\n""}]",0,767115,982a66c7c88a2383dc3b9d3823a73f8b13abdbfb,47,2,2,8037,,,0,"Fix volume service_uuid return None

Volume service_uuid and shared_targets attributes
are updated when volume status is updated
to available.

The originial implementation is that the service_uuid
and shared_targets were updated after the volume status
have been changed to 'available', so that nova service
get the available volume info without service_uuid and
incorrect shared_targets and nova cannot use correct
lock when volume is attached to instance[1][2].

[1]:https://github.com/openstack/nova/blob/5b304bbdaf012159211cb9f66c0db1f698323324/nova/virt/block_device.py#L671
[2]:https://github.com/openstack/os-brick/blob/edbbe7d207fe6398320c4b41ed4f88f951a97252/os_brick/initiator/utils.py#L45

Change-Id: If1fdbf8b28c4e89cc35eba9d16ee8540c69e5619
",git fetch https://review.opendev.org/openstack/cinder refs/changes/15/767115/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/flows/manager/create_volume.py', 'cinder/volume/manager.py']",2,e71e3c6d82bb324047317bc1d8344385cc7f47fe,,," # Shared targets is only relevant for iSCSI connections. # We default to True to be on the safe side. volume.shared_targets = ( self.driver.capabilities.get('storage_protocol') == 'iSCSI' and self.driver.capabilities.get('shared_targets', True)) # TODO(geguileo): service_uuid won't be enough on Active/Active # deployments. There can be 2 services handling volumes from the same # backend. volume.service_uuid = self.service_uuid volume.save() ",16,11
openstack%2Fcyborg-tempest-plugin~master~I59000ab932fdc1b368efe44d1fc74134d07037d2,openstack/cyborg-tempest-plugin,master,I59000ab932fdc1b368efe44d1fc74134d07037d2,Fix tempest for get device profile,MERGED,2021-03-24 02:53:31.000000000,2021-04-01 08:26:14.000000000,2021-04-01 08:26:14.000000000,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}]","[{'number': 1, 'created': '2021-03-24 02:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/6a70e7b9f958a557c8355e16d4c3f11ec59a413b', 'message': 'DNM test\n\nChange-Id: I59000ab932fdc1b368efe44d1fc74134d07037d2\n'}, {'number': 2, 'created': '2021-03-24 05:48:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/16e5cd534fa4008f05796bc3fda25f8f61a3ea49', 'message': 'DNM test\n\nChange-Id: I59000ab932fdc1b368efe44d1fc74134d07037d2\n'}, {'number': 3, 'created': '2021-03-24 06:35:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/bee33c5ddd4d8232c82d7f9db31a243b826384b6', 'message': 'Fix tempest for get device profile\n\nAs we modify the get device profile API[1], so update the tempest accordingly.\n\n[1] https://review.opendev.org/c/openstack/cyborg/+/751988\n\nChange-Id: I59000ab932fdc1b368efe44d1fc74134d07037d2\n'}, {'number': 4, 'created': '2021-03-24 09:34:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/8bc98e87b134f3bf5ec37b6519106e23349e4d3d', 'message': 'Fix tempest for get device profile\n\nAs we modify the get device profile API[1], so update the tempest accordingly.\n\n[1] https://review.opendev.org/c/openstack/cyborg/+/751988\n\nChange-Id: I59000ab932fdc1b368efe44d1fc74134d07037d2\n'}, {'number': 5, 'created': '2021-03-31 12:02:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/58bf97fede8abc69b81b9f5c59f648ead7a2fdb3', 'message': 'Fix tempest for get device profile\n\nAs we modify the get device profile API[1], so update the tempest accordingly.\n\n[1] https://review.opendev.org/c/openstack/cyborg/+/751988\n\nChange-Id: I59000ab932fdc1b368efe44d1fc74134d07037d2\n'}, {'number': 6, 'created': '2021-03-31 12:56:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/9aaa5c7edcec9d1b77f645f9c0565d873850522c', 'message': 'Fix tempest for get device profile\n\nAs we modify the get device profile API[1], so update the tempest accordingly.\n\n[1] https://review.opendev.org/c/openstack/cyborg/+/751988\n\nChange-Id: I59000ab932fdc1b368efe44d1fc74134d07037d2\n'}, {'number': 7, 'created': '2021-03-31 13:17:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/62532a18a2b62a9dda57e0aec72a0a6941af54f0', 'message': 'Fix tempest for get device profile\n\nAs we modify the get device profile API[1], so update the tempest accordingly.\n\n[1] https://review.opendev.org/c/openstack/cyborg/+/751988\n\nChange-Id: I59000ab932fdc1b368efe44d1fc74134d07037d2\n'}, {'number': 8, 'created': '2021-03-31 13:18:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/86a416226a3ba7251419c0cc5c2bef02c19b3c50', 'message': 'Fix tempest for get device profile\n\nAs we modify the get device profile API[1], so update the tempest accordingly.\n\n[1] https://review.opendev.org/c/openstack/cyborg/+/751988\n\nChange-Id: I59000ab932fdc1b368efe44d1fc74134d07037d2\n'}, {'number': 9, 'created': '2021-04-01 05:47:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/c2be7260d611832f500d3107595fae91c8e0d001', 'message': 'Fix tempest for get device profile\n\nAs we modify the get device profile API[1], so update the tempest accordingly.\n\n[1] https://review.opendev.org/c/openstack/cyborg/+/751988\n\nChange-Id: I59000ab932fdc1b368efe44d1fc74134d07037d2\n'}, {'number': 10, 'created': '2021-04-01 06:54:32.000000000', 'files': ['cyborg_tempest_plugin/tests/api/test_device_profile.py'], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/273a2e998d283bfa2de79a078fac176b3bb30b94', 'message': 'Fix tempest for get device profile\n\nAs we modify the get device profile API[1], so update the tempest accordingly.\n\n[1] https://review.opendev.org/c/openstack/cyborg/+/751988\n\nChange-Id: I59000ab932fdc1b368efe44d1fc74134d07037d2\n'}]",2,782630,273a2e998d283bfa2de79a078fac176b3bb30b94,24,3,10,31412,,,0,"Fix tempest for get device profile

As we modify the get device profile API[1], so update the tempest accordingly.

[1] https://review.opendev.org/c/openstack/cyborg/+/751988

Change-Id: I59000ab932fdc1b368efe44d1fc74134d07037d2
",git fetch https://review.opendev.org/openstack/cyborg-tempest-plugin refs/changes/30/782630/7 && git format-patch -1 --stdout FETCH_HEAD,['cyborg_tempest_plugin/tests/api/test_device_profile.py'],1,6a70e7b9f958a557c8355e16d4c3f11ec59a413b,," self.assertEqual(dp[0].get('name'), response.get('name'))"," self.assertEqual(dp[0]['name'], response['name'])",1,1
openstack%2Foctavia~master~I987535e90cbf13917c50c5905c64b614188928ec,openstack/octavia,master,I987535e90cbf13917c50c5905c64b614188928ec,Fix devstack cleanup when using amphorav2,MERGED,2021-03-25 10:12:29.000000000,2021-04-01 08:19:29.000000000,2021-04-01 08:18:06.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-25 10:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6e268e80f111c52d8cadef5e7394fd6910c19178', 'message': ""Fix devstack cleanup when using amphorav2\n\nWhen cleaning up a devstack environment with amphorav2 enabled,\n./clean.sh might fail because redis has already been stopped and\nuninstalled. This commit ensures that stopping redis doesn't fail.\n\nChange-Id: I987535e90cbf13917c50c5905c64b614188928ec\n""}, {'number': 2, 'created': '2021-03-31 12:34:38.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/5d470357ec6acd7f31a626283be14154968c0798', 'message': ""Fix devstack cleanup when using amphorav2\n\nWhen cleaning up a devstack environment with amphorav2 enabled,\n./clean.sh might fail because redis has already been stopped and\nuninstalled.\nThis commit move the stop_redis step to the octavia_stop step and\nensures that stopping redis doesn't fail.\n\nChange-Id: I987535e90cbf13917c50c5905c64b614188928ec\n""}]",3,782938,5d470357ec6acd7f31a626283be14154968c0798,16,4,2,29244,,,0,"Fix devstack cleanup when using amphorav2

When cleaning up a devstack environment with amphorav2 enabled,
./clean.sh might fail because redis has already been stopped and
uninstalled.
This commit move the stop_redis step to the octavia_stop step and
ensures that stopping redis doesn't fail.

Change-Id: I987535e90cbf13917c50c5905c64b614188928ec
",git fetch https://review.opendev.org/openstack/octavia refs/changes/38/782938/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,6e268e80f111c52d8cadef5e7394fd6910c19178,, stop_service redis || true, stop_service redis,1,1
openstack%2Fcharm-swift-storage~master~I7e9d216684d467499059480b3190d70e03c27215,openstack/charm-swift-storage,master,I7e9d216684d467499059480b3190d70e03c27215,Do not duplicate names for CMR jobs,MERGED,2021-03-17 16:13:59.000000000,2021-04-01 08:13:47.000000000,2021-04-01 08:13:47.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-17 16:13:59.000000000', 'files': ['osci.yaml'], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/6beb4e5cc62b9ac33cb8449ea5cdf0303424e7e7', 'message': 'Do not duplicate names for CMR jobs\n\nChange-Id: I7e9d216684d467499059480b3190d70e03c27215\n'}]",0,781117,6beb4e5cc62b9ac33cb8449ea5cdf0303424e7e7,18,3,1,20634,,,0,"Do not duplicate names for CMR jobs

Change-Id: I7e9d216684d467499059480b3190d70e03c27215
",git fetch https://review.opendev.org/openstack/charm-swift-storage refs/changes/17/781117/1 && git format-patch -1 --stdout FETCH_HEAD,['osci.yaml'],1,6beb4e5cc62b9ac33cb8449ea5cdf0303424e7e7,, - bionic-train-gr-swift name: bionic-train-gr-swift, - bionic-train-gr name: bionic-train-gr,2,2
openstack%2Ftripleo-heat-templates~master~I6d628309beb57ecb7c545c16045a4f9f73e0c1f8,openstack/tripleo-heat-templates,master,I6d628309beb57ecb7c545c16045a4f9f73e0c1f8,Isolate cinder volume puppet config volume,ABANDONED,2021-03-31 08:41:34.000000000,2021-04-01 07:35:12.000000000,,"[{'_account_id': 6926}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-31 08:41:34.000000000', 'files': ['deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f66c76737d5eae3312560b4d0bceaabd6234a2b9', 'message': 'Isolate cinder volume puppet config volume\n\nWhen Cinder API, Scheduler and Volume puppet manifests are included in\nthe same config container, apache mime.config fails. This All-in-One\nCinder case is rare and mostly matches standalone Edge deployments.\n\nWe have examples of such separation for Nova API, Scheduler vs\nMetadata and Nova-Libvirt config containers.\n\nChange-Id: I6d628309beb57ecb7c545c16045a4f9f73e0c1f8\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,784028,f66c76737d5eae3312560b4d0bceaabd6234a2b9,5,4,1,6926,,,0,"Isolate cinder volume puppet config volume

When Cinder API, Scheduler and Volume puppet manifests are included in
the same config container, apache mime.config fails. This All-in-One
Cinder case is rare and mostly matches standalone Edge deployments.

We have examples of such separation for Nova API, Scheduler vs
Metadata and Nova-Libvirt config containers.

Change-Id: I6d628309beb57ecb7c545c16045a4f9f73e0c1f8
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/28/784028/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml']",2,f66c76737d5eae3312560b4d0bceaabd6234a2b9,, config_volume: cinder_volume, config_volume: cinder,2,2
openstack%2Fopenstack-helm-images~master~I0c4bcb17aa420e31591405b6000a2db2821e2428,openstack/openstack-helm-images,master,I0c4bcb17aa420e31591405b6000a2db2821e2428,[fix] Openstack exporter update,MERGED,2021-03-15 21:50:27.000000000,2021-04-01 07:19:33.000000000,2021-04-01 07:17:59.000000000,"[{'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-03-15 21:50:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/a23ee62f7d8a87e81fb2c02e0e0344612f669add', 'message': '[WIP]Openstack exporter update\n\nThis ps updates the logic to clear the token when it\nreceives error from the keystone.\n\nChange-Id: I0c4bcb17aa420e31591405b6000a2db2821e2428\n'}, {'number': 2, 'created': '2021-03-16 15:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/19f790bb9ec3c1c64c963dd92ea5286384162cad', 'message': '[fix] Openstack exporter update\n\nThis ps updates the logic to clear the token when it\nreceives error from the keystone.\n\nChange-Id: I0c4bcb17aa420e31591405b6000a2db2821e2428\n'}, {'number': 3, 'created': '2021-03-17 13:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/6c9c64c9d2e2b19bcde9426177cb6ea629c7e323', 'message': '[fix] Openstack exporter update\n\nThis ps updates the logic to clear the token when it\nreceives error from the keystone.\n\nChange-Id: I0c4bcb17aa420e31591405b6000a2db2821e2428\n'}, {'number': 4, 'created': '2021-03-17 17:31:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/307a1794e57182597241bb7668b993e9e47ef2d0', 'message': '[fix] Openstack exporter update\n\nThis ps updates the logic to clear the token when it\nreceives authentication error from keystone.\n\nChange-Id: I0c4bcb17aa420e31591405b6000a2db2821e2428\n'}, {'number': 5, 'created': '2021-03-18 17:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/e36b52f24fe20c59340107ab5ad77a6bb25af8b6', 'message': '[fix] Openstack exporter update\n\nThis ps updates the logic to clear the token when it\nreceives authorization error from keystone.\n\nChange-Id: I0c4bcb17aa420e31591405b6000a2db2821e2428\n'}, {'number': 6, 'created': '2021-03-18 18:21:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/ec2e225e985ae57f4a66f2f76d9438889d9903e9', 'message': '[fix] Openstack exporter update\n\nThis ps updates the logic to clear the token when it\nreceives authorization error from keystone.\n\nChange-Id: I0c4bcb17aa420e31591405b6000a2db2821e2428\n'}, {'number': 7, 'created': '2021-03-29 22:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/586cd274cd774d00a09ad3ec4f4aeec730925593', 'message': '[fix] Openstack exporter update\n\nThis ps updates the logic to clear the token when it\nreceives authorization error from keystone.\nThis is a special case of 401.\nWhen the exporter receives a 401 error from the keystone and the\napplication is not placement, we reset the token value such that on the\nnext retry it reinitialize the parameters.\n\nChange-Id: I0c4bcb17aa420e31591405b6000a2db2821e2428\n'}, {'number': 8, 'created': '2021-03-29 22:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/eed01d98e60daa4c151bb5d0c3f8a94c83c877b5', 'message': '[fix] Openstack exporter update\n\nThis ps updates the logic to clear the token when it\nreceives authorization error from keystone.\nThis is a special case of 401.\nWhen the exporter receives a 401 error from the keystone and the\napplication is not placement, we reset the token value such that on the\nnext retry it reinitialize the parameters.\n\nChange-Id: I0c4bcb17aa420e31591405b6000a2db2821e2428\n'}, {'number': 9, 'created': '2021-03-31 13:34:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/1893953367367f785d4503c12a40a08d16fdabd6', 'message': '[fix] Openstack exporter update\n\nThis ps updates the logic to clear the token when it\nreceives authorization error from keystone.\nThis is a special case of 401.\nWhen the exporter receives a 401 error from the keystone and the\napplication is not placement, we reset the token value such that on the\nnext retry it reinitialize the parameters.\n\nChange-Id: I0c4bcb17aa420e31591405b6000a2db2821e2428\n'}, {'number': 10, 'created': '2021-03-31 13:41:40.000000000', 'files': ['prometheus-openstack-exporter/exporter/check_os_api.py'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/1a6082fda17448db60e17d8d8d71466fef5c7dbb', 'message': '[fix] Openstack exporter update\n\nThis ps updates the logic to clear the token when it\nreceives authorization error from keystone.\nThis is a special case of 401.\nWhen the exporter receives a 401 error from the keystone and the\napplication is not placement, we reset the token value such that on the\nnext retry it reinitialize the parameters.\n\nChange-Id: I0c4bcb17aa420e31591405b6000a2db2821e2428\n'}]",5,780676,1a6082fda17448db60e17d8d8d71466fef5c7dbb,34,7,10,30582,,,0,"[fix] Openstack exporter update

This ps updates the logic to clear the token when it
receives authorization error from keystone.
This is a special case of 401.
When the exporter receives a 401 error from the keystone and the
application is not placement, we reset the token value such that on the
next retry it reinitialize the parameters.

Change-Id: I0c4bcb17aa420e31591405b6000a2db2821e2428
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/76/780676/2 && git format-patch -1 --stdout FETCH_HEAD,['prometheus-openstack-exporter/exporter/check_os_api.py'],1,a23ee62f7d8a87e81fb2c02e0e0344612f669add,, flag = 1 if flag==1 self.osclient.clear_token() flag = 0 ,,5,0
openstack%2Fhorizon~master~I03701fef6bcc985b59844817c588db5bbf6f881d,openstack/horizon,master,I03701fef6bcc985b59844817c588db5bbf6f881d,Add Python3 xena unit tests,MERGED,2021-03-30 19:02:52.000000000,2021-04-01 07:01:55.000000000,2021-04-01 06:57:51.000000000,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-03-30 19:02:52.000000000', 'files': ['.zuul.d/django-jobs.yaml', '.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/4310a9541ff4e901bff5b33b534fbe778f85709b', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I03701fef6bcc985b59844817c588db5bbf6f881d\n'}]",0,783959,4310a9541ff4e901bff5b33b534fbe778f85709b,8,3,1,22816,,,0,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I03701fef6bcc985b59844817c588db5bbf6f881d
",git fetch https://review.opendev.org/openstack/horizon refs/changes/59/783959/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/django-jobs.yaml', '.zuul.d/project.yaml']",2,4310a9541ff4e901bff5b33b534fbe778f85709b,add-xena-python-jobtemplates, - openstack-python3-xena-jobs, - openstack-python3-wallaby-jobs,2,2
openstack%2Fcinder~master~Icc52f97f0c25218ce2497d05d78f9b4b501411d8,openstack/cinder,master,Icc52f97f0c25218ce2497d05d78f9b4b501411d8,Tests: Add unit test for backup manager detach,NEW,2021-03-25 12:53:44.000000000,2021-04-01 06:48:53.000000000,,"[{'_account_id': 9535}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-03-25 12:53:44.000000000', 'files': ['cinder/tests/unit/backup/test_backup.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/748ea6e8e735270475bd583eed4fa2c273e611e5', 'message': 'Tests: Add unit test for backup manager detach\n\nThe backup manager _detach_device() method was previously\nonly covered for the snapshot backup case, but not volumes.\n\nAdd a test based on the snapshot backup test case that\ncovers volumes.  This also covers code added in I482c3d5520.\n\nRelated-Bug: #1920237\nChange-Id: Icc52f97f0c25218ce2497d05d78f9b4b501411d8\n'}]",7,782994,748ea6e8e735270475bd583eed4fa2c273e611e5,19,3,1,4523,,,0,"Tests: Add unit test for backup manager detach

The backup manager _detach_device() method was previously
only covered for the snapshot backup case, but not volumes.

Add a test based on the snapshot backup test case that
covers volumes.  This also covers code added in I482c3d5520.

Related-Bug: #1920237
Change-Id: Icc52f97f0c25218ce2497d05d78f9b4b501411d8
",git fetch https://review.opendev.org/openstack/cinder refs/changes/94/782994/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/backup/test_backup.py'],1,748ea6e8e735270475bd583eed4fa2c273e611e5,bug/1920237," @mock.patch('cinder.volume.rpcapi.VolumeAPI.remove_export') @mock.patch('cinder.volume.volume_utils.brick_get_connector_properties') @mock.patch('cinder.volume.rpcapi.VolumeAPI.get_backup_device') @mock.patch('cinder.utils.temporary_chown') @mock.patch('builtins.open') @mock.patch.object(os.path, 'isdir', return_value=False) def test_create_backup_detach_device(self, mock_isdir, mock_open, mock_temporary_chown, mock_get_backup_device, mock_get_conn, mock_remove_export): self.override_config('backup_use_same_host', True) vol_size = 1 vol_id = self._create_volume_db_entry(size=vol_size, previous_status='in-use') backup = self._create_backup_db_entry(volume_id=vol_id) vol = objects.Volume.get_by_id(self.ctxt, vol_id) mock_get_backup_device.return_value = ( objects.BackupDeviceInfo.from_primitive({ 'backup_device': vol, 'secure_enabled': False, 'is_snapshot': False, }, self.ctxt, expected_attrs=['metadata'])) attach_info = { 'device': {'path': '/dev/null'}, 'conn': {'data': {}}, 'connector': fake_connectors.FakeConnector(None)} mock_terminate_connection = self.mock_object( volume_rpcapi.VolumeAPI, 'terminate_connection') mock_initialize_connection = self.mock_object( volume_rpcapi.VolumeAPI, 'initialize_connection') mock_connect_device = self.mock_object( manager.BackupManager, '_connect_device') mock_connect_device.return_value = attach_info properties = {} mock_get_conn.return_value = properties mock_open.return_value = open('/dev/null', 'rb') self.backup_mgr.create_backup(self.ctxt, backup) mock_temporary_chown.assert_called_once_with('/dev/null') mock_initialize_connection.assert_called_once_with( self.ctxt, vol, properties) mock_get_backup_device.assert_called_once_with(self.ctxt, backup, vol) mock_get_conn.assert_called_once_with() mock_terminate_connection.assert_called_once_with( self.ctxt, vol, properties, force=True) mock_remove_export.assert_called_once_with( self.ctxt, mock.ANY, sync=True) vol = objects.Volume.get_by_id(self.ctxt, vol_id) self.assertEqual('in-use', vol['status']) self.assertEqual('backing-up', vol['previous_status']) backup = objects.Backup.get_by_id(self.ctxt, backup.id) self.assertEqual(fields.BackupStatus.AVAILABLE, backup.status) self.assertEqual(vol_size, backup.size) ",,61,0
openstack%2Fhorizon~master~I1603bdc53deaa9bc57c1d8f56548226d8b391fc4,openstack/horizon,master,I1603bdc53deaa9bc57c1d8f56548226d8b391fc4,Update master for stable/wallaby,MERGED,2021-03-30 19:02:43.000000000,2021-04-01 06:38:56.000000000,2021-04-01 06:35:08.000000000,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-03-30 19:02:43.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/horizon/commit/a89c27b449d756e2162baf1a78a2d404bd24188c', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: I1603bdc53deaa9bc57c1d8f56548226d8b391fc4\n'}]",0,783958,a89c27b449d756e2162baf1a78a2d404bd24188c,8,3,1,22816,,,0,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: I1603bdc53deaa9bc57c1d8f56548226d8b391fc4
",git fetch https://review.opendev.org/openstack/horizon refs/changes/58/783958/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,a89c27b449d756e2162baf1a78a2d404bd24188c,reno-wallaby, wallaby,,7,0
openstack%2Fhorizon~stable%2Fvictoria~I4ac734e0fb4ac3151ff56fa2c53d3071cdb9131d,openstack/horizon,stable/victoria,I4ac734e0fb4ac3151ff56fa2c53d3071cdb9131d,"On the create instance from, when the image name is empty, show id",MERGED,2021-03-08 08:08:13.000000000,2021-04-01 06:38:25.000000000,2021-04-01 06:35:02.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2021-03-08 08:08:13.000000000', 'files': ['openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/launch-instance-model.service.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/source/source.controller.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/launch-instance-model.service.spec.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/862c37cf19d25c4c4a7345b43ed7a1224be9342c', 'message': 'On the create instance from, when the image name is empty, show id\n\nChange-Id: I4ac734e0fb4ac3151ff56fa2c53d3071cdb9131d\nCloses-Bug: #1853551\n(cherry picked from commit a8158f6c31675297c3d35ecfee2ef0e22243e529)\n'}]",0,779139,862c37cf19d25c4c4a7345b43ed7a1224be9342c,9,6,1,29313,,,0,"On the create instance from, when the image name is empty, show id

Change-Id: I4ac734e0fb4ac3151ff56fa2c53d3071cdb9131d
Closes-Bug: #1853551
(cherry picked from commit a8158f6c31675297c3d35ecfee2ef0e22243e529)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/39/779139/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/launch-instance-model.service.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/source/source.controller.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/launch-instance-model.service.spec.js']",3,862c37cf19d25c4c4a7345b43ed7a1224be9342c,bug/1853551-stable/victoria," {container_format: 'ami', properties: {}, name: 'ami_image'}, {container_format: 'raw', properties: {}, name: 'raw_image'}, {container_format: 'ami', properties: {image_type: 'image'}, id: '1'}, {container_format: 'raw', properties: {image_type: 'image'}, id: '2'}, {container_format: 'ami', properties: {}, name: 'ami_image', name_or_id: 'ami_image'}, {container_format: 'raw', properties: {}, name: 'raw_image', name_or_id: 'raw_image'}, {container_format: 'ami', properties: {image_type: 'image'}, id: '1', name_or_id: '1'}, {container_format: 'raw', properties: {image_type: 'image'}, id: '2', name_or_id: '2'}"," {container_format: 'ami', properties: {}}, {container_format: 'raw', properties: {}}, {container_format: 'ami', properties: {image_type: 'image'}}, {container_format: 'raw', properties: {image_type: 'image'}}, {container_format: 'ami', properties: {}}, {container_format: 'raw', properties: {}}, {container_format: 'ami', properties: {image_type: 'image'}}, {container_format: 'raw', properties: {image_type: 'image'}}",10,9
openstack%2Fironic~master~I92751a3f4305fe0ded9ff379643b45132fe66157,openstack/ironic,master,I92751a3f4305fe0ded9ff379643b45132fe66157,Always add 'boot_method' vmedia in redfish/ilo vmedia boot,MERGED,2021-03-29 17:43:27.000000000,2021-04-01 06:35:51.000000000,2021-03-31 05:19:48.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-29 17:43:27.000000000', 'files': ['ironic/tests/unit/drivers/modules/redfish/test_boot.py', 'ironic/drivers/modules/ilo/boot.py', 'releasenotes/notes/fix-vmedia-boot-method-label-8008f49ace96f1cc.yaml', 'ironic/tests/unit/drivers/modules/ilo/test_boot.py', 'ironic/drivers/modules/redfish/boot.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/4bd1c40bdcf4ef890930c82a5c4adcd4b18e5d99', 'message': ""Always add 'boot_method' vmedia in redfish/ilo vmedia boot\n\nThe inclusion of a boot_method=vmedia kernel command line\nargument is mandatory singnaling so IPA understands it has\nbeen booted via virtual media, and to act accordingly.\n\nChange-Id: I92751a3f4305fe0ded9ff379643b45132fe66157\nStory: 2008749\nTask: 42181\n""}]",3,783722,4bd1c40bdcf4ef890930c82a5c4adcd4b18e5d99,35,4,1,11655,,,0,"Always add 'boot_method' vmedia in redfish/ilo vmedia boot

The inclusion of a boot_method=vmedia kernel command line
argument is mandatory singnaling so IPA understands it has
been booted via virtual media, and to act accordingly.

Change-Id: I92751a3f4305fe0ded9ff379643b45132fe66157
Story: 2008749
Task: 42181
",git fetch https://review.opendev.org/openstack/ironic refs/changes/22/783722/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/redfish/test_boot.py', 'ironic/drivers/modules/ilo/boot.py', 'releasenotes/notes/fix-vmedia-boot-method-label-8008f49ace96f1cc.yaml', 'ironic/tests/unit/drivers/modules/ilo/test_boot.py', 'ironic/drivers/modules/redfish/boot.py']",5,4bd1c40bdcf4ef890930c82a5c4adcd4b18e5d99,, # NOTE(TheJulia): This is a mandatory setting for virtual media # based deployment operations. ramdisk_params['boot_method'] = 'vmedia' , # NOTE (etingof): IPA will read the device only if # we tell it to ramdisk_params['boot_method'] = 'vmedia' ,28,5
openstack%2Fcyborg-specs~master~I4a5a2f0f57bad067ff7d9091ee2dcb275cfd7cc3,openstack/cyborg-specs,master,I4a5a2f0f57bad067ff7d9091ee2dcb275cfd7cc3,Create specs directory for Xena,MERGED,2021-03-05 01:53:51.000000000,2021-04-01 05:59:16.000000000,2021-04-01 05:58:03.000000000,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 28748}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-03-05 01:53:51.000000000', 'files': ['specs/xena/approved/template.rst', 'doc/source/index.rst', 'specs/xena-template.rst', 'specs/xena/implemented/template.rst'], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/d72296fa436b44554015dd38f2fc977b2c105ec2', 'message': 'Create specs directory for Xena\n\nChange-Id: I4a5a2f0f57bad067ff7d9091ee2dcb275cfd7cc3\n'}]",0,778806,d72296fa436b44554015dd38f2fc977b2c105ec2,10,4,1,26458,,,0,"Create specs directory for Xena

Change-Id: I4a5a2f0f57bad067ff7d9091ee2dcb275cfd7cc3
",git fetch https://review.opendev.org/openstack/cyborg-specs refs/changes/06/778806/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/xena/approved/template.rst', 'doc/source/index.rst', 'specs/xena-template.rst', 'specs/xena/implemented/template.rst']",4,d72296fa436b44554015dd38f2fc977b2c105ec2,create_xena_directory,../../xena-template.rst,,422,0
openstack%2Fhorizon~stable%2Fwallaby~Ib6944bf7f8239e89b11074444579b358a68632c8,openstack/horizon,stable/wallaby,Ib6944bf7f8239e89b11074444579b358a68632c8,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-03-30 19:02:38.000000000,2021-04-01 04:38:06.000000000,2021-04-01 04:35:36.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-03-30 19:02:38.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/horizon/commit/35103d9c65a3b00150f13cbe129c1fc13cd120fb', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ib6944bf7f8239e89b11074444579b358a68632c8\n'}]",0,783957,35103d9c65a3b00150f13cbe129c1fc13cd120fb,9,4,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ib6944bf7f8239e89b11074444579b358a68632c8
",git fetch https://review.opendev.org/openstack/horizon refs/changes/57/783957/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,35103d9c65a3b00150f13cbe129c1fc13cd120fb,create-wallaby, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Fhorizon~stable%2Fwallaby~I67a3248eb3b32183c1ae957d4b04cf311bf51dfd,openstack/horizon,stable/wallaby,I67a3248eb3b32183c1ae957d4b04cf311bf51dfd,Update .gitreview for stable/wallaby,MERGED,2021-03-30 19:02:32.000000000,2021-04-01 04:36:41.000000000,2021-04-01 04:35:29.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-03-30 19:02:32.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/horizon/commit/afed022fcc09ce8a4a44377a4794787559b6fd16', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: I67a3248eb3b32183c1ae957d4b04cf311bf51dfd\n'}]",0,783956,afed022fcc09ce8a4a44377a4794787559b6fd16,9,4,1,22816,,,0,"Update .gitreview for stable/wallaby

Change-Id: I67a3248eb3b32183c1ae957d4b04cf311bf51dfd
",git fetch https://review.opendev.org/openstack/horizon refs/changes/56/783956/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,afed022fcc09ce8a4a44377a4794787559b6fd16,create-wallaby,defaultbranch=stable/wallaby,,1,0
openstack%2Fkeystone~stable%2Fwallaby~I75590c20e90170ed862f46f0de7d61c7810b5c90,openstack/keystone,stable/wallaby,I75590c20e90170ed862f46f0de7d61c7810b5c90,Retry update_user when sqlalchemy raises StaleDataErrors,MERGED,2021-03-29 19:20:54.000000000,2021-04-01 04:31:22.000000000,2021-04-01 04:29:55.000000000,"[{'_account_id': 5046}, {'_account_id': 11904}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-29 19:20:54.000000000', 'files': ['keystone/identity/backends/sql.py', 'keystone/tests/unit/test_backend_sql.py', 'releasenotes/notes/bug-1885753-51df25f3ff1d9ae8.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/f47e635b8041542faa05e64606e66d2fbbc5f284', 'message': ""Retry update_user when sqlalchemy raises StaleDataErrors\n\nKeystone's update_user() method in the SQL driver processes a lot of\ninformation about how to update users. This includes evaluating password\nlogic and authentication attempts for PSI-DSS. This logic is evaluated\nafter keystone pulls the user record from SQL and before it exits the\ncontext manager, which performs the write.\n\nWhen multiple clients are all updating the same user reference, it's\nmore likely they will see an HTTP 500 because of race conditions exiting\nthe context manager. The HTTP 500 is due to stale data when updating\npassword expiration for old passwords, which happens when setting a new\npassword for a user.\n\nThis commit attempts to handle that case more gracefully than throwing a\n500 by detecting StaleDataErrors from sqlalchemy and retrying.  The\nidentity sql backend will retry the request for clients that have\nstale data change from underneath them.\n\nChange-Id: I75590c20e90170ed862f46f0de7d61c7810b5c90\nCloses-Bug: 1885753\n(cherry picked from commit ceae3566e83b26fd6a1679154eae9b0cef29da64)\n""}]",0,783735,f47e635b8041542faa05e64606e66d2fbbc5f284,11,5,1,5046,,,0,"Retry update_user when sqlalchemy raises StaleDataErrors

Keystone's update_user() method in the SQL driver processes a lot of
information about how to update users. This includes evaluating password
logic and authentication attempts for PSI-DSS. This logic is evaluated
after keystone pulls the user record from SQL and before it exits the
context manager, which performs the write.

When multiple clients are all updating the same user reference, it's
more likely they will see an HTTP 500 because of race conditions exiting
the context manager. The HTTP 500 is due to stale data when updating
password expiration for old passwords, which happens when setting a new
password for a user.

This commit attempts to handle that case more gracefully than throwing a
500 by detecting StaleDataErrors from sqlalchemy and retrying.  The
identity sql backend will retry the request for clients that have
stale data change from underneath them.

Change-Id: I75590c20e90170ed862f46f0de7d61c7810b5c90
Closes-Bug: 1885753
(cherry picked from commit ceae3566e83b26fd6a1679154eae9b0cef29da64)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/35/783735/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/identity/backends/sql.py', 'keystone/tests/unit/test_backend_sql.py', 'releasenotes/notes/bug-1885753-51df25f3ff1d9ae8.yaml']",3,f47e635b8041542faa05e64606e66d2fbbc5f284,bug/1885753,--- fixes: - | [`bug 1885753 <https://bugs.launchpad.net/keystone/+bug/1885753>`_] Keystone's SQL identity backend now retries update user requests to safely handle stale data when two clients update a user at the same time. ,,52,0
openstack%2Fcharm-nova-compute~master~Id9a7c3a675072ed4da3b9cb9fc997e70895205cb,openstack/charm-nova-compute,master,Id9a7c3a675072ed4da3b9cb9fc997e70895205cb,Added action that returns nova-compute node name.,MERGED,2021-03-26 15:35:17.000000000,2021-04-01 03:55:21.000000000,2021-03-31 20:55:39.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 32363}]","[{'number': 1, 'created': '2021-03-26 15:35:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/0196c31e4530108c3cc654cfdc74edf2d1721319', 'message': 'Added action that returns nova-compute node name.\n\nCloses-Bug: #1911012\nChange-Id: Id9a7c3a675072ed4da3b9cb9fc997e70895205cb\n'}, {'number': 2, 'created': '2021-03-30 09:49:30.000000000', 'files': ['actions/cloud.py', 'actions/node-name', 'unit_tests/test_actions_cloud.py', 'README.md', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/38efefccdf1e13b311af37bedb0c4e88450e2e44', 'message': 'Added action that returns nova-compute node name.\n\nCloses-Bug: #1911012\nChange-Id: Id9a7c3a675072ed4da3b9cb9fc997e70895205cb\n'}]",2,783332,38efefccdf1e13b311af37bedb0c4e88450e2e44,28,5,2,32288,,,0,"Added action that returns nova-compute node name.

Closes-Bug: #1911012
Change-Id: Id9a7c3a675072ed4da3b9cb9fc997e70895205cb
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/32/783332/1 && git format-patch -1 --stdout FETCH_HEAD,"['actions/cloud.py', 'actions/node-name', 'unit_tests/test_actions_cloud.py', 'actions.yaml']",4,0196c31e4530108c3cc654cfdc74edf2d1721319,bug/1911012,node-name: description: Return nova-compute node name. This can be used to identify this unit in the list of nova-compute services.,,24,0
openstack%2Ftacker-specs~master~Ica84b5c97eb84546df669c087ec34027d11efbba,openstack/tacker-specs,master,Ica84b5c97eb84546df669c087ec34027d11efbba,Update naming rule of aspect_id and VDU,NEW,2021-03-05 02:08:05.000000000,2021-04-01 02:33:42.000000000,,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 31730}, {'_account_id': 31857}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-03-05 02:08:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/fdebc16e5edb317912b5e2d036383cf0768fe653', 'message': 'Update naming rule of aspect_id and VDU\n\nThe logic for ScalingAspects is updated to remove unnecessary\nnaming rule that aspect_id and VDU description name should be\nthe same.\n\nA new naming rule that the VDU description names should be\nlowercase to uses them as resource name in Kubernetes, which only\nsupports lowercase for their resource name.\n\nChange-Id: Ica84b5c97eb84546df669c087ec34027d11efbba\n'}, {'number': 2, 'created': '2021-03-12 13:01:26.000000000', 'files': ['specs/wallaby/support-cnf-scale.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/55595681b873df4293bae3d1985af3d2c8a385bb', 'message': 'Update naming rule of aspect_id and VDU\n\nThe logic for ScalingAspects is updated to remove unnecessary\nnaming rule that aspect_id and VDU description name should be\nthe same.\n\nA new naming rule that the VDU description names should be\nlowercase to uses them as resource name in Kubernetes, which only\nsupports lowercase for their resource name.\n\nChange-Id: Ica84b5c97eb84546df669c087ec34027d11efbba\n'}]",2,778808,55595681b873df4293bae3d1985af3d2c8a385bb,12,8,2,27880,,,0,"Update naming rule of aspect_id and VDU

The logic for ScalingAspects is updated to remove unnecessary
naming rule that aspect_id and VDU description name should be
the same.

A new naming rule that the VDU description names should be
lowercase to uses them as resource name in Kubernetes, which only
supports lowercase for their resource name.

Change-Id: Ica84b5c97eb84546df669c087ec34027d11efbba
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/08/778808/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/wallaby/support-cnf-scale.rst'],1,fdebc16e5edb317912b5e2d036383cf0768fe653,bp/support-cnf-scale, vdu_deployment_name: targets: [ vdu_deployment_name ] .. note:: The description names for VDUs should be lowercase for Kubernetes resources because Kubernetes only supports lowercase for their resource name. , deployment_name: targets: [ deployment_name ] .. note:: The ``VDU`` and ``aspects`` names should be the same with the name of Kubernetes resource defined in Kubernetes manifest files.,6,4
openstack%2Fcharm-glance~master~I23f286fd1175c01883a8eb19d3e52c2a30a38dda,openstack/charm-glance,master,I23f286fd1175c01883a8eb19d3e52c2a30a38dda,Charm-helpers sync for wallaby bundles,MERGED,2021-03-31 10:29:27.000000000,2021-04-01 01:58:56.000000000,2021-03-31 15:54:46.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-31 10:29:27.000000000', 'files': ['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/__init__.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/contrib/openstack/files/policy_rc_d_script.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/core/host_factory/ubuntu.py', 'charmhelpers/contrib/openstack/cert_utils.py', 'charmhelpers/core/host.py', 'charmhelpers/contrib/openstack/policy_rcd.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/charmsupport/nrpe.py', 'charmhelpers/contrib/openstack/exceptions.py'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/6db4303124db2ac57a2928c4977e5c2c0d4c4f3b', 'message': ""Charm-helpers sync for wallaby bundles\n\nIn order to get the ball rolling with keystone, glance needs to\nknow about wallaby so that it can install in keystone's functional\ntests.   This sync just teaches glance about wallaby.\n\nChange-Id: I23f286fd1175c01883a8eb19d3e52c2a30a38dda\n""}]",0,784065,6db4303124db2ac57a2928c4977e5c2c0d4c4f3b,10,3,1,20870,,,0,"Charm-helpers sync for wallaby bundles

In order to get the ball rolling with keystone, glance needs to
know about wallaby so that it can install in keystone's functional
tests.   This sync just teaches glance about wallaby.

Change-Id: I23f286fd1175c01883a8eb19d3e52c2a30a38dda
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/65/784065/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/__init__.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/contrib/openstack/files/policy_rc_d_script.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/core/host_factory/ubuntu.py', 'charmhelpers/contrib/openstack/cert_utils.py', 'charmhelpers/core/host.py', 'charmhelpers/contrib/openstack/policy_rcd.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/charmsupport/nrpe.py', 'charmhelpers/contrib/openstack/exceptions.py']",14,6db4303124db2ac57a2928c4977e5c2c0d4c4f3b,wallaby-bundles," class ServiceActionError(Exception): """"""Raised when a service action (stop/start/ etc) failed."""""" pass",,1392,88
openstack%2Fnova~master~I2bd360dcc6501feea7baf02d4510b282205fc061,openstack/nova,master,I2bd360dcc6501feea7baf02d4510b282205fc061,Initialize global data separately and run_once in WSGI app init,MERGED,2020-06-04 14:27:33.000000000,2021-04-01 00:33:37.000000000,2021-03-23 16:55:48.000000000,"[{'_account_id': 4690}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 28522}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-06-04 14:27:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/58c09b8e8d2792a5b1393f4dc00c0ce7b6913c02', 'message': 'Always reset CONF when starting the wsgi app\n\nThis ensures that options loaded during any prior run of the application\nare dropped before being added again during init_application.\n\nCo-Authored-By: Michele Baldessari <michele@redhat.com>\nCloses-Bug: #1882094\n\nChange-Id: I2bd360dcc6501feea7baf02d4510b282205fc061\n'}, {'number': 2, 'created': '2020-10-03 02:41:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/82b7592a47b48283b6539252e33e16d067978863', 'message': 'Initialize global data separately and run_once in WSGI app init\n\nWe have discovered that if an exception is raised at any point during\nthe running of the init_application WSGI script in an apache/mod_wsgi\nDaemon Mode environment, it will prompt apache/mod_wsgi to re-run the\nscript without starting a fresh python process. Because we initialize\nglobal data structures during app init, subsequent runs of the script\nblow up as some global data do *not* support re-initialization. It is\nanyway not safe to assume that init of global data is safe to run\nmultiple times.\n\nThis mod_wsgi behavior appears to be a special situation that does not\nbehave the same as a normal reload in Daemon Mode as the script file is\nbeing reloaded upon failure instead of the daemon process being\nshutdown and restarted as described in the documentation [1].\n\nIn order to handle this situation, we can move the initialization of\nglobal data structures to a helper method that is decorated to run only\nonce per python interpreter instance. This way, we will not attempt to\nre-initialize global data that are not safe to init more than once.\n\nTODO: Add test coverage for this\n\nCo-Authored-By: Michele Baldessari <michele@redhat.com>\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nCloses-Bug: #1882094\n\n[1] https://modwsgi.readthedocs.io/en/develop/user-guides/reloading-source-code.html#reloading-in-daemon-mode\n\nChange-Id: I2bd360dcc6501feea7baf02d4510b282205fc061\n'}, {'number': 3, 'created': '2020-10-03 04:53:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fb1ec9279c2ce9e4b99df9b36f5c4b5fb2bd5ee8', 'message': 'Initialize global data separately and run_once in WSGI app init\n\nWe have discovered that if an exception is raised at any point during\nthe running of the init_application WSGI script in an apache/mod_wsgi\nDaemon Mode environment, it will prompt apache/mod_wsgi to re-run the\nscript without starting a fresh python process. Because we initialize\nglobal data structures during app init, subsequent runs of the script\nblow up as some global data do *not* support re-initialization. It is\nanyway not safe to assume that init of global data is safe to run\nmultiple times.\n\nThis mod_wsgi behavior appears to be a special situation that does not\nbehave the same as a normal reload in Daemon Mode as the script file is\nbeing reloaded upon failure instead of the daemon process being\nshutdown and restarted as described in the documentation [1].\n\nIn order to handle this situation, we can move the initialization of\nglobal data structures to a helper method that is decorated to run only\nonce per python interpreter instance. This way, we will not attempt to\nre-initialize global data that are not safe to init more than once.\n\nTODO: Add test coverage for this\n\nCo-Authored-By: Michele Baldessari <michele@redhat.com>\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nCloses-Bug: #1882094\n\n[1] https://modwsgi.readthedocs.io/en/develop/user-guides/reloading-source-code.html#reloading-in-daemon-mode\n\nChange-Id: I2bd360dcc6501feea7baf02d4510b282205fc061\n'}, {'number': 4, 'created': '2020-10-05 20:43:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d46e2b4d9fe7a168a8cdaac563dc64df0ac016a2', 'message': 'Initialize global data separately and run_once in WSGI app init\n\nWe have discovered that if an exception is raised at any point during\nthe running of the init_application WSGI script in an apache/mod_wsgi\nDaemon Mode environment, it will prompt apache/mod_wsgi to re-run the\nscript without starting a fresh python process. Because we initialize\nglobal data structures during app init, subsequent runs of the script\nblow up as some global data do *not* support re-initialization. It is\nanyway not safe to assume that init of global data is safe to run\nmultiple times.\n\nThis mod_wsgi behavior appears to be a special situation that does not\nbehave the same as a normal reload in Daemon Mode as the script file is\nbeing reloaded upon failure instead of the daemon process being\nshutdown and restarted as described in the documentation [1].\n\nIn order to handle this situation, we can move the initialization of\nglobal data structures to a helper method that is decorated to run only\nonce per python interpreter instance. This way, we will not attempt to\nre-initialize global data that are not safe to init more than once.\n\nCo-Authored-By: Michele Baldessari <michele@redhat.com>\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nCloses-Bug: #1882094\n\n[1] https://modwsgi.readthedocs.io/en/develop/user-guides/reloading-source-code.html#reloading-in-daemon-mode\n\nChange-Id: I2bd360dcc6501feea7baf02d4510b282205fc061\n'}, {'number': 5, 'created': '2020-10-06 23:10:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7aa710dd515cbd5b65fa48672891451a9e595911', 'message': 'Initialize global data separately and run_once in WSGI app init\n\nWe have discovered that if an exception is raised at any point during\nthe running of the init_application WSGI script in an apache/mod_wsgi\nDaemon Mode environment, it will prompt apache/mod_wsgi to re-run the\nscript without starting a fresh python process. Because we initialize\nglobal data structures during app init, subsequent runs of the script\nblow up as some global data do *not* support re-initialization. It is\nanyway not safe to assume that init of global data is safe to run\nmultiple times.\n\nThis mod_wsgi behavior appears to be a special situation that does not\nbehave the same as a normal reload in Daemon Mode as the script file is\nbeing reloaded upon failure instead of the daemon process being\nshutdown and restarted as described in the documentation [1].\n\nIn order to handle this situation, we can move the initialization of\nglobal data structures to a helper method that is decorated to run only\nonce per python interpreter instance. This way, we will not attempt to\nre-initialize global data that are not safe to init more than once.\n\nCo-Authored-By: Michele Baldessari <michele@redhat.com>\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nCloses-Bug: #1882094\n\n[1] https://modwsgi.readthedocs.io/en/develop/user-guides/reloading-source-code.html#reloading-in-daemon-mode\n\nChange-Id: I2bd360dcc6501feea7baf02d4510b282205fc061\n'}, {'number': 6, 'created': '2020-12-14 20:39:02.000000000', 'files': ['nova/api/openstack/wsgi_app.py', 'nova/tests/unit/test_utils.py', 'nova/tests/unit/api/openstack/test_wsgi_app.py', 'nova/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7c9edc02eda45aafbbb539b759e6b92f7aeb5ea8', 'message': 'Initialize global data separately and run_once in WSGI app init\n\nWe have discovered that if an exception is raised at any point during\nthe running of the init_application WSGI script in an apache/mod_wsgi\nDaemon Mode environment, it will prompt apache/mod_wsgi to re-run the\nscript without starting a fresh python process. Because we initialize\nglobal data structures during app init, subsequent runs of the script\nblow up as some global data do *not* support re-initialization. It is\nanyway not safe to assume that init of global data is safe to run\nmultiple times.\n\nThis mod_wsgi behavior appears to be a special situation that does not\nbehave the same as a normal reload in Daemon Mode as the script file is\nbeing reloaded upon failure instead of the daemon process being\nshutdown and restarted as described in the documentation [1].\n\nIn order to handle this situation, we can move the initialization of\nglobal data structures to a helper method that is decorated to run only\nonce per python interpreter instance. This way, we will not attempt to\nre-initialize global data that are not safe to init more than once.\n\nCo-Authored-By: Michele Baldessari <michele@redhat.com>\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nCloses-Bug: #1882094\n\n[1] https://modwsgi.readthedocs.io/en/develop/user-guides/reloading-source-code.html#reloading-in-daemon-mode\n\nChange-Id: I2bd360dcc6501feea7baf02d4510b282205fc061\n'}]",30,733627,7c9edc02eda45aafbbb539b759e6b92f7aeb5ea8,77,19,6,28522,,,0,"Initialize global data separately and run_once in WSGI app init

We have discovered that if an exception is raised at any point during
the running of the init_application WSGI script in an apache/mod_wsgi
Daemon Mode environment, it will prompt apache/mod_wsgi to re-run the
script without starting a fresh python process. Because we initialize
global data structures during app init, subsequent runs of the script
blow up as some global data do *not* support re-initialization. It is
anyway not safe to assume that init of global data is safe to run
multiple times.

This mod_wsgi behavior appears to be a special situation that does not
behave the same as a normal reload in Daemon Mode as the script file is
being reloaded upon failure instead of the daemon process being
shutdown and restarted as described in the documentation [1].

In order to handle this situation, we can move the initialization of
global data structures to a helper method that is decorated to run only
once per python interpreter instance. This way, we will not attempt to
re-initialize global data that are not safe to init more than once.

Co-Authored-By: Michele Baldessari <michele@redhat.com>
Co-Authored-By: melanie witt <melwittt@gmail.com>

Closes-Bug: #1882094

[1] https://modwsgi.readthedocs.io/en/develop/user-guides/reloading-source-code.html#reloading-in-daemon-mode

Change-Id: I2bd360dcc6501feea7baf02d4510b282205fc061
",git fetch https://review.opendev.org/openstack/nova refs/changes/27/733627/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/wsgi_app.py'],1,58c09b8e8d2792a5b1393f4dc00c0ce7b6913c02,reset_conf, # NOTE(hberaud): Call reset to ensure the ConfigOpts object doesn't # already contain registered options if the app is reloaded. CONF.reset(),,3,0
openstack%2Ftacker~master~I85bae12b90cc08a1edaf21ae6c6026a8dfc09a3c,openstack/tacker,master,I85bae12b90cc08a1edaf21ae6c6026a8dfc09a3c,Separate tosca logic from heat infra driver,ABANDONED,2016-05-16 04:23:33.000000000,2021-03-31 23:49:10.000000000,,"[{'_account_id': 13485}, {'_account_id': 18186}, {'_account_id': 18955}]","[{'number': 1, 'created': '2016-05-16 04:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/f64dac4148741d6849710b988b46699ea15e13f0', 'message': 'WIP: Separate tosca logic from heat infra driver\n\nTosca code including parser and translator functionalities have\nbeen moved to a separate dir. of their own.\n\nChange-Id: I85bae12b90cc08a1edaf21ae6c6026a8dfc09a3c\nCloses-Bug: #1580804\n'}, {'number': 2, 'created': '2016-05-16 04:32:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/539349717f0d7f5e094e04f72582826cd625184b', 'message': 'WIP: Separate tosca logic from heat infra driver\n\nTosca code including parser and translator functionalities have\nbeen moved to a separate dir. of their own.\n\nChange-Id: I85bae12b90cc08a1edaf21ae6c6026a8dfc09a3c\nCloses-Bug: #1580804\nPartially-Implements: blueprint infra-driver-refactor\n'}, {'number': 3, 'created': '2016-06-04 01:06:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/e8482a3719fd4892108a0593dfbdb9e0abd5c460', 'message': 'WIP: Separate tosca logic from heat infra driver\n\nTosca code including parser and translator functionalities have\nbeen moved to a separate dir. of their own.\n\nChange-Id: I85bae12b90cc08a1edaf21ae6c6026a8dfc09a3c\nCloses-Bug: #1580804\nPartially-Implements: blueprint infra-driver-refactor\n'}, {'number': 4, 'created': '2016-06-04 01:06:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/5596dd5334b522935cf105d4434df065e0a92eb4', 'message': 'Separate tosca logic from heat infra driver\n\nTosca code including parser and translator functionalities have\nbeen moved to a separate dir. of their own.\n\nChange-Id: I85bae12b90cc08a1edaf21ae6c6026a8dfc09a3c\nCloses-Bug: #1580804\nPartially-Implements: blueprint infra-driver-refactor\n'}, {'number': 5, 'created': '2016-06-09 00:50:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/ec4da5606b3f1989f42de22c8151a8656e4bd05f', 'message': 'Separate tosca logic from heat infra driver\n\nTosca code including parser and translator functionalities have\nbeen moved to a separate dir. of their own.\n\nChange-Id: I85bae12b90cc08a1edaf21ae6c6026a8dfc09a3c\nCloses-Bug: #1580804\nPartially-Implements: blueprint infra-driver-refactor\n'}, {'number': 6, 'created': '2016-06-09 21:35:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/2d3d439d6d35b098d27dd4f9d146daf7da3ebfbc', 'message': 'Separate tosca logic from heat infra driver\n\nTosca code including parser and translator functionalities have\nbeen moved to a separate dir. of their own.\n\nChange-Id: I85bae12b90cc08a1edaf21ae6c6026a8dfc09a3c\nCloses-Bug: #1580804\nPartially-Implements: blueprint infra-driver-refactor\n'}, {'number': 7, 'created': '2016-06-13 05:20:38.000000000', 'files': ['tacker/tosca/lib/tacker_nfv_defs.yaml', 'tacker/tests/unit/data/test_tosca_flavor_and_capabilities.yaml', 'tacker/tests/unit/data/hot_tosca_sriov.yaml', 'tacker/tests/unit/tosca/test_utils.py', 'tacker/tests/unit/data/test_tosca_flavor_defaults.yaml', 'tacker/extensions/vnfm.py', 'tacker/tests/unit/data/tosca_flavor_huge_pages.yaml', 'tacker/tests/unit/utils.py', 'tacker/tests/unit/data/hot_openwrt_ipparams.yaml', 'tacker/vm/infra_drivers/heat/heat.py', 'tacker/tosca/lib/tacker_defs.yaml', 'tacker/tosca/utils.py', 'tacker/tosca/actions.py', 'tacker/tests/unit/data/test_tosca_openwrt_userdata.yaml', 'tacker/tests/unit/data/hot_flavor_no_units.yaml', 'tacker/tests/unit/tosca/test_actions.py', 'tacker/tests/unit/data/config_data.yaml', 'tacker/tests/unit/data/hot_tosca_flavor_numa_nodes.yaml', 'tacker/tests/unit/data/hot_tosca_flavor_cpu_allocations.yaml', 'tacker/tests/unit/data/tosca_flavor_all_numa_nodes.yaml', 'tacker/tests/unit/data/vnf_cirros_param_values_ipaddr.yaml', 'tacker/tests/unit/data/openwrt.yaml', 'tacker/tests/unit/data/test_tosca_flavor.yaml', 'tacker/tests/unit/data/tosca_flavor_all_numa_count.yaml', 'tacker/tests/unit/data/hot_flavor.yaml', 'tacker/tests/unit/vm/test_plugin.py', 'tacker/tests/unit/tosca/test_heat_actions.py', 'tacker/tests/unit/data/hot_openwrt_params.yaml', 'tacker/tests/unit/tosca/base.py', 'tacker/tosca/heat_actions.py', 'tacker/tests/functional/vnfm/test_tosca_vnf_multiple_vdu.py', 'tacker/tests/unit/data/tosca_flavor_numa_nodes.yaml', 'tacker/tests/unit/data/hot_tosca_flavor_all_numa_nodes.yaml', 'tacker/tests/unit/vm/test_toscautils.py', 'tacker/tosca/exceptions.py', 'tacker/tests/unit/data/hot_tosca_flavor_numa_nodes_count.yaml', 'tacker/tests/unit/data/hot_tosca_flavor_all_numa_count.yaml', 'tacker/tosca/heat_utils.py', 'tacker/tests/unit/data/tosca_mgmt_sriov.yaml', 'tacker/tests/unit/data/test_tosca_flavor_no_units.yaml', 'tacker/tests/unit/data/vnf_cirros_template_user_data.yaml', 'tacker/tests/unit/data/hot_image_after_processed_image.yaml', 'tacker/tests/unit/vm/nfvo/drivers/vim/test_openstack_driver.py', 'tacker/tests/unit/data/hot_flavor_and_capabilities.yaml', 'tacker/tests/unit/data/tosca_vnic_port.yaml', 'tacker/tests/unit/data/hot_tosca_image.yaml', 'tacker/tests/unit/data/tosca_flavor_cpu_allocations.yaml', 'tacker/tests/unit/data/vnf_cirros_template_ipaddr.yaml', 'tacker/tosca/constants.py', 'tacker/tests/unit/data/hot_tosca_openwrt_kilo.yaml', 'tacker/tests/unit/tosca/__init__.py', 'tacker/tests/unit/tosca/test_heat_utils.py', 'tacker/tests/unit/vm/infra_drivers/heat/test_heat.py', 'tacker/tests/unit/data/test_tosca_image.yaml', 'tacker/tests/unit/data/hot_tosca_vnic_normal.yaml', 'tacker/tests/unit/data/test_tosca_openwrt.yaml', 'tacker/tests/unit/data/tosca_sriov.yaml', 'tacker/tests/unit/data/hot_flavor_defaults.yaml', 'tacker/tests/unit/data/hot_image_before_processed_image.yaml', 'tacker/tests/unit/data/hot_tosca_flavor_huge_pages.yaml', 'tacker/tosca/__init__.py', 'tacker/vm/tosca/utils.py', 'tacker/tests/unit/data/hot_tosca_mgmt_sriov.yaml', 'tacker/tests/unit/data/hot_tosca_openwrt_userdata.yaml', 'tacker/tests/unit/data/vnf_cirros_param_values_user_data.yaml', 'tacker/tests/unit/data/tosca_flavor_numa_nodes_count.yaml', 'tacker/tests/unit/data/hot_openwrt.yaml', 'tacker/tests/unit/data/hot_tosca_openwrt.yaml'], 'web_link': 'https://opendev.org/openstack/tacker/commit/111ee91ac78227e825103e55f2276fe569c350b3', 'message': 'Separate tosca logic from heat infra driver\n\nTosca code including parser and translator functionalities have\nbeen moved to a separate dir. of their own.\n\nChange-Id: I85bae12b90cc08a1edaf21ae6c6026a8dfc09a3c\nCloses-Bug: #1580804\nPartially-Implements: blueprint infra-driver-refactor\n'}]",33,316567,111ee91ac78227e825103e55f2276fe569c350b3,21,3,7,13485,,,0,"Separate tosca logic from heat infra driver

Tosca code including parser and translator functionalities have
been moved to a separate dir. of their own.

Change-Id: I85bae12b90cc08a1edaf21ae6c6026a8dfc09a3c
Closes-Bug: #1580804
Partially-Implements: blueprint infra-driver-refactor
",git fetch https://review.opendev.org/openstack/tacker refs/changes/67/316567/6 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/tosca/heat_utils.py', 'tacker/tosca/lib/tacker_nfv_defs.yaml', 'tacker/extensions/vnfm.py', 'tacker/vm/infra_drivers/heat/heat.py', 'tacker/tosca/lib/tacker_defs.yaml', 'tacker/tosca/utils.py', 'tacker/tosca/__init__.py', 'tacker/tosca/actions.py', 'tacker/vm/tosca/utils.py', 'tacker/tosca/heat_actions.py', 'tacker/tosca/constants.py', 'tacker/tosca/exceptions.py']",12,f64dac4148741d6849710b988b46699ea15e13f0,bug/1580804,"# Copyright 2016 Nokia # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tacker.common import exceptions class ToscaParserFailed(exceptions.InvalidInput): message = _(""tosca-parser failed: - %(error_msg_details)s"") class HeatTranslatorFailed(exceptions.InvalidInput): message = _(""heat-translator failed: - %(error_msg_details)s"") class HugePageSizeInvalidInput(exceptions.InvalidInput): message = _(""Value specified for mem_page_size is invalid:"" ""%(error_msg_details)s. The valid values are 'small', 'large',"" ""'any' or an integer value in MB"") class CpuAllocationInvalidKeys(exceptions.InvalidInput): message = _(""Invalid keys specified in VNFD - %(error_msg_details)s."" ""Supported keys are: %(valid_keys)s"") class NumaNodesInvalidKeys(exceptions.InvalidInput): message = _(""Invalid keys specified in VNFD - %(error_msg_details)s."" ""Supported keys are: %(valid_keys)s"") class FilePathMissing(exceptions.InvalidInput): message = _(""'file' attribute is missing for "" ""tosca.artifacts.Deployment.Image.VM artifact type"") ",,532,418
openstack%2Fproject-config~master~I935d61b7101e221243a2d815b174b9b5a0eadb8c,openstack/project-config,master,I935d61b7101e221243a2d815b174b9b5a0eadb8c,Clean up OpenEdge configuration,MERGED,2021-03-31 01:44:29.000000000,2021-03-31 23:30:19.000000000,2021-03-31 23:22:09.000000000,"[{'_account_id': 4146}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-31 01:44:29.000000000', 'files': ['grafana/nodepool-openedge.yaml', 'grafana/create-nodepool.sh'], 'web_link': 'https://opendev.org/openstack/project-config/commit/5491ddc4cb7a16f9280f69ec035bfce89c97fce1', 'message': 'Clean up OpenEdge configuration\n\nThe OpenEdge cloud has been offline for five months, initially\ndisabled in I4e46c782a63279d9c18ff4ba2944c15b3027114b, so go ahead\nand clean up lingering references. If it is restored later, this can\nbe reverted fairly easily.\n\nChange-Id: I935d61b7101e221243a2d815b174b9b5a0eadb8c\n'}]",0,783990,5491ddc4cb7a16f9280f69ec035bfce89c97fce1,9,3,1,5263,,,0,"Clean up OpenEdge configuration

The OpenEdge cloud has been offline for five months, initially
disabled in I4e46c782a63279d9c18ff4ba2944c15b3027114b, so go ahead
and clean up lingering references. If it is restored later, this can
be reverted fairly easily.

Change-Id: I935d61b7101e221243a2d815b174b9b5a0eadb8c
",git fetch https://review.opendev.org/openstack/project-config refs/changes/90/783990/1 && git format-patch -1 --stdout FETCH_HEAD,"['grafana/nodepool-openedge.yaml', 'grafana/create-nodepool.sh']",2,5491ddc4cb7a16f9280f69ec035bfce89c97fce1,openedge,,create OpenEdge 'openedge-*' nodepool-openedge.yaml,0,198
openstack%2Fironic~master~I1bda1fcce91e9e9b568b38182a0ada87875095b7,openstack/ironic,master,I1bda1fcce91e9e9b568b38182a0ada87875095b7,"when we use smart card, we set boot_device to bios to wait agent to do something.But after agent finishes,we need to set boot_device to disk. If we do not do so，when ironic finishes deploy, node will boot to bois.",NEW,2021-03-26 01:44:32.000000000,2021-03-31 23:24:03.000000000,,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23360}]","[{'number': 1, 'created': '2021-03-26 01:44:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d57a49f611d247b12b9a23166320fb2bcb56ac46', 'message': 'when we use smart card, we set boot_device to bios to wait agent to do something.But after agent finishes,we need to set boot_device to disk. If we do not do so，when ironic finishes deploy, node will boot to bois.\n\nChange-Id: I1bda1fcce91e9e9b568b38182a0ada87875095b7\n'}, {'number': 2, 'created': '2021-03-29 01:11:29.000000000', 'files': ['ironic/conductor/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ae02eda7b5072f8ecd3e1acfc5baf633bbd4abe2', 'message': 'when we use smart card, we set boot_device to bios to wait agent to do something.But after agent finishes,we need to set boot_device to disk. If we do not do so，when ironic finishes deploy, node will boot to bois.\n\nChange-Id: I1bda1fcce91e9e9b568b38182a0ada87875095b7\n'}]",3,783134,ae02eda7b5072f8ecd3e1acfc5baf633bbd4abe2,13,3,2,32148,,,0,"when we use smart card, we set boot_device to bios to wait agent to do something.But after agent finishes,we need to set boot_device to disk. If we do not do so，when ironic finishes deploy, node will boot to bois.

Change-Id: I1bda1fcce91e9e9b568b38182a0ada87875095b7
",git fetch https://review.opendev.org/openstack/ironic refs/changes/34/783134/2 && git format-patch -1 --stdout FETCH_HEAD,['ironic/conductor/utils.py'],1,d57a49f611d247b12b9a23166320fb2bcb56ac46,bluefield," node_set_boot_device(task, boot_devices.DISK, persistent=False)",,1,0
openstack%2Fswift~master~Ifb3ad7c4794cab047aaf8cb95d915763755435ab,openstack/swift,master,Ifb3ad7c4794cab047aaf8cb95d915763755435ab,probe: Use whole cycles in test_replication_servers_working,ABANDONED,2021-03-31 04:54:42.000000000,2021-03-31 22:53:56.000000000,,"[{'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-31 04:54:42.000000000', 'files': ['test/probe/test_replication_servers_working.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/4738b4600555ae4e0fe4c7505e892cf191e23d7a', 'message': ""probe: Use whole cycles in test_replication_servers_working\n\nOtherwise, there's a chance we kill the replicator between when rsync\nhas run and when the REPLICATE request has updated hashes.invalid.\n\nChange-Id: Ifb3ad7c4794cab047aaf8cb95d915763755435ab\n""}]",0,783998,4738b4600555ae4e0fe4c7505e892cf191e23d7a,6,2,1,15343,,,0,"probe: Use whole cycles in test_replication_servers_working

Otherwise, there's a chance we kill the replicator between when rsync
has run and when the REPLICATE request has updated hashes.invalid.

Change-Id: Ifb3ad7c4794cab047aaf8cb95d915763755435ab
",git fetch https://review.opendev.org/openstack/swift refs/changes/98/783998/1 && git format-patch -1 --stdout FETCH_HEAD,['test/probe/test_replication_servers_working.py'],1,4738b4600555ae4e0fe4c7505e892cf191e23d7a,, self.replicators.once(), self.replicators.start() self.replicators.stop() ,1,4
openstack%2Fswift~master~I3f9d762e2d7549115cede4b9c9d9fd0ea76f5570,openstack/swift,master,I3f9d762e2d7549115cede4b9c9d9fd0ea76f5570,tests for relinker fork,ABANDONED,2021-03-31 19:09:29.000000000,2021-03-31 22:43:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-31 19:09:29.000000000', 'files': ['test/unit/cli/test_relinker.py', 'swift/cli/relinker.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/4a5d4761356f17f33ddd0d5967a35092c5088ad4', 'message': 'tests for relinker fork\n\nChange-Id: I3f9d762e2d7549115cede4b9c9d9fd0ea76f5570\n'}]",1,784157,4a5d4761356f17f33ddd0d5967a35092c5088ad4,4,1,1,1179,,,0,"tests for relinker fork

Change-Id: I3f9d762e2d7549115cede4b9c9d9fd0ea76f5570
",git fetch https://review.opendev.org/openstack/swift refs/changes/57/784157/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/cli/test_relinker.py', 'swift/cli/relinker.py']",2,4a5d4761356f17f33ddd0d5967a35092c5088ad4,relinker,, del children,49,1
openstack%2Fcharm-neutron-api-genericswitch~master~Ide530d9190c3dc17598ac2411f25855e84f9472c,openstack/charm-neutron-api-genericswitch,master,Ide530d9190c3dc17598ac2411f25855e84f9472c,Remove deprecated pip option,ABANDONED,2018-11-02 14:42:55.000000000,2021-03-31 19:47:00.000000000,,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 25903}]","[{'number': 1, 'created': '2018-11-02 14:42:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-genericswitch/commit/008fba8c4fc98b100110f3e70fe47082795bb77d', 'message': 'Remove deprecated pip option\n\nChange-Id: Ide530d9190c3dc17598ac2411f25855e84f9472c\n'}, {'number': 2, 'created': '2019-02-28 14:42:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-genericswitch/commit/c32a387635cb3b9126d536aebfd9df71e33a9268', 'message': 'Remove deprecated pip option\n\nChange-Id: Ide530d9190c3dc17598ac2411f25855e84f9472c\n'}, {'number': 3, 'created': '2019-02-28 15:47:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-genericswitch/commit/41ee820689e9fdaa412361ca9286cc6321150377', 'message': 'Remove deprecated pip option\n\nAlso resolve dependency and tox declaration issues.\n\nChange-Id: Ide530d9190c3dc17598ac2411f25855e84f9472c\n'}, {'number': 4, 'created': '2019-08-16 21:35:27.000000000', 'files': ['src/config.yaml', 'requirements.txt', 'test-requirements.txt', 'src/tox.ini', '.testr.conf', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-genericswitch/commit/18a4c623c3f62c552fc5730d495cf6b13cf35a55', 'message': 'Remove deprecated pip option\n\nAlso resolve dependency and tox declaration issues.\n\nChange-Id: Ide530d9190c3dc17598ac2411f25855e84f9472c\n'}]",0,615201,18a4c623c3f62c552fc5730d495cf6b13cf35a55,18,4,4,20635,,,0,"Remove deprecated pip option

Also resolve dependency and tox declaration issues.

Change-Id: Ide530d9190c3dc17598ac2411f25855e84f9472c
",git fetch https://review.opendev.org/openstack/charm-neutron-api-genericswitch refs/changes/01/615201/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tox.ini'],1,008fba8c4fc98b100110f3e70fe47082795bb77d,update-tox, pip install {opts} {packages}, pip install --allow-unverified python-apt {opts} {packages},1,1
openstack%2Fcharm-percona-cluster~master~I4010211ae4c579b0fe095a443ace27070defa129,openstack/charm-percona-cluster,master,I4010211ae4c579b0fe095a443ace27070defa129,Update func test to use TEST_VIP,ABANDONED,2019-10-24 18:00:55.000000000,2021-03-31 19:46:30.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-24 18:00:55.000000000', 'files': ['tests/basic_deployment.py'], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/761e97d261c06545915eca0cd1b02c1b22db26f6', 'message': 'Update func test to use TEST_VIP\n\nChange-Id: I4010211ae4c579b0fe095a443ace27070defa129\n'}]",0,691037,761e97d261c06545915eca0cd1b02c1b22db26f6,4,2,1,20635,,,0,"Update func test to use TEST_VIP

Change-Id: I4010211ae4c579b0fe095a443ace27070defa129
",git fetch https://review.opendev.org/openstack/charm-percona-cluster refs/changes/37/691037/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/basic_deployment.py'],1,761e97d261c06545915eca0cd1b02c1b22db26f6,functest-envvar, elif 'TEST_VIP' in os.environ: self.vip = os.environ.get('TEST_VIP'), elif 'AMULET_OS_VIP' in os.environ: self.vip = os.environ.get('AMULET_OS_VIP'),2,2
openstack%2Fopenstack-ansible~stable%2Ftrain~Ic08856100370d6b3fdb94990469fa9dbde74ebfc,openstack/openstack-ansible,stable/train,Ic08856100370d6b3fdb94990469fa9dbde74ebfc,Bump SHAs for stable/train,MERGED,2021-03-28 17:53:05.000000000,2021-03-31 19:35:59.000000000,2021-03-31 19:33:47.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2021-03-28 17:53:05.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c668e6615c78df43409024067d6d3a2717835276', 'message': 'Bump SHAs for stable/train\n\nChange-Id: Ic08856100370d6b3fdb94990469fa9dbde74ebfc\n'}]",0,783579,c668e6615c78df43409024067d6d3a2717835276,8,3,1,28619,,,0,"Bump SHAs for stable/train

Change-Id: Ic08856100370d6b3fdb94990469fa9dbde74ebfc
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/79/783579/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml']",4,c668e6615c78df43409024067d6d3a2717835276,bump_osa, version: b5fe49d98601f62055365645df47ef1bae30ee74 version: 569fe91752a14fec65900e120a97347a6bc8f295 version: eeb3c4285768f2d575d6da5ba692afd685bf3075 version: 7a31aefd6690f923400a2e5422daf3b6f1fd21a3 version: fe47a02134d1d3287f2396ee8a4fbb1487956a1c, version: 0a56edfea4654151e84e302f19cb2b3cf6441a40 version: 4225342ab7454e70bb82113eaf2fa8f3e5506fdb version: ff256cc172056f7c58ad438c0a03e86c9d7c6f8d version: e09f82ace29ab06a3b0a26b7a5fa9e6a4bae5fd9 version: 8b86b2ede39645fbf9a22faca33b6be7a2980966,51,51
openstack%2Fopenstack-ansible~stable%2Fvictoria~I30b84d2f7750a0e0be4d29304f04c9bf93bbe975,openstack/openstack-ansible,stable/victoria,I30b84d2f7750a0e0be4d29304f04c9bf93bbe975,Bump SHAs for stable/victoria,MERGED,2021-03-28 17:53:07.000000000,2021-03-31 19:29:36.000000000,2021-03-31 19:27:27.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2021-03-28 17:53:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/80e17da966c37d302bfd2a8cf7bef605acbc2e83', 'message': 'Bump SHAs for stable/victoria\n\nChange-Id: I30b84d2f7750a0e0be4d29304f04c9bf93bbe975\n'}, {'number': 2, 'created': '2021-03-31 13:33:06.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml', 'releasenotes/notes/remove-unsupported-tests-09241c373062518c.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/844a0d1c2d5298f3e80d7cea7927ce0a8617fb4b', 'message': 'Bump SHAs for stable/victoria\n\nChange-Id: I30b84d2f7750a0e0be4d29304f04c9bf93bbe975\n'}]",0,783580,844a0d1c2d5298f3e80d7cea7927ce0a8617fb4b,16,4,2,28619,,,0,"Bump SHAs for stable/victoria

Change-Id: I30b84d2f7750a0e0be4d29304f04c9bf93bbe975
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/80/783580/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml', 'releasenotes/notes/remove-unsupported-tests-09241c373062518c.yaml']",5,80e17da966c37d302bfd2a8cf7bef605acbc2e83,bump_osa,"--- other: - | Gate jobs for OpenDaylight, SFC, and OVS w/ NSH have been removed in preparation for deprecation of those deployment scenarios and related code. ",,66,60
openstack%2Fopenstack-ansible~stable%2Fussuri~If5c80d1866ef77e24a82b203aa4c19e8b6600f8c,openstack/openstack-ansible,stable/ussuri,If5c80d1866ef77e24a82b203aa4c19e8b6600f8c,Bump SHAs for stable/ussuri,MERGED,2021-03-28 17:53:04.000000000,2021-03-31 19:29:31.000000000,2021-03-31 19:27:32.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2021-03-28 17:53:04.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8e7d47bd2a1af4aec2386815284571922e2e7be2', 'message': 'Bump SHAs for stable/ussuri\n\nChange-Id: If5c80d1866ef77e24a82b203aa4c19e8b6600f8c\n'}]",0,783578,8e7d47bd2a1af4aec2386815284571922e2e7be2,8,3,1,28619,,,0,"Bump SHAs for stable/ussuri

Change-Id: If5c80d1866ef77e24a82b203aa4c19e8b6600f8c
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/78/783578/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml']",4,8e7d47bd2a1af4aec2386815284571922e2e7be2,bump_osa, version: b5fe49d98601f62055365645df47ef1bae30ee74, version: 0a56edfea4654151e84e302f19cb2b3cf6441a40,52,52
openstack%2Fironic-python-agent~stable%2Fwallaby~I3f873bf0c7dc18bee32c591cfbbc50547cc8ccbc,openstack/ironic-python-agent,stable/wallaby,I3f873bf0c7dc18bee32c591cfbbc50547cc8ccbc,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-03-31 16:53:41.000000000,2021-03-31 19:03:00.000000000,2021-03-31 19:00:20.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-31 16:53:41.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/312340612791ad78c2368fb246e30c762ec8247e', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I3f873bf0c7dc18bee32c591cfbbc50547cc8ccbc\n'}]",0,784126,312340612791ad78c2368fb246e30c762ec8247e,8,2,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I3f873bf0c7dc18bee32c591cfbbc50547cc8ccbc
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/26/784126/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,312340612791ad78c2368fb246e30c762ec8247e,create-wallaby, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},4,4
openstack%2Fironic-python-agent~stable%2Fwallaby~Ibacd6fe294f96482c6f0fe59596001b4b62fb53a,openstack/ironic-python-agent,stable/wallaby,Ibacd6fe294f96482c6f0fe59596001b4b62fb53a,Update .gitreview for stable/wallaby,MERGED,2021-03-31 16:53:37.000000000,2021-03-31 18:57:43.000000000,2021-03-31 18:55:54.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-31 16:53:37.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/58ffbd959c0fe1199463e9f7606b1ecd8a3d46db', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: Ibacd6fe294f96482c6f0fe59596001b4b62fb53a\n'}]",0,784125,58ffbd959c0fe1199463e9f7606b1ecd8a3d46db,8,2,1,22816,,,0,"Update .gitreview for stable/wallaby

Change-Id: Ibacd6fe294f96482c6f0fe59596001b4b62fb53a
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/25/784125/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,58ffbd959c0fe1199463e9f7606b1ecd8a3d46db,create-wallaby,defaultbranch=stable/wallaby,,1,0
openstack%2Fneutron~stable%2Fussuri~I63221507713b941c261cdf88781133149da8ab8d,openstack/neutron,stable/ussuri,I63221507713b941c261cdf88781133149da8ab8d,"Don't configure dnsmasq entries for ""network"" ports",MERGED,2021-02-23 20:10:05.000000000,2021-03-31 18:52:01.000000000,2021-03-31 18:40:05.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 20:10:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a534d3d23e5aa39d27509624e7b028d319fc5b81', 'message': 'Don\'t configure dnsmasq entries for ""network"" ports\n\nPorts with device_owner like:\n* floating_ip,\n* DHCP,\n* some types of router ports, like: HA interface interface,\n* distributed ports,\ndon\'t need to be configured in the dnsmasq file.\nSo there is no need to reload dnsmasq every time when such port is\nadded/updated to the network.\n\nThis patch adds skip in such case which should improve load on the\nNeutron DHCP agent.\n\nCloses-Bug: #1913269\nChange-Id: I63221507713b941c261cdf88781133149da8ab8d\n(cherry picked from commit e4bbeee2060058d079885339e99ef7e6e366de16)\n'}, {'number': 2, 'created': '2021-02-25 09:08:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/756f9d79ebe5362da413aad9aebda959a5ec1c59', 'message': 'Don\'t configure dnsmasq entries for ""network"" ports\n\nPorts with device_owner like:\n* floating_ip,\n* DHCP,\n* some types of router ports, like: HA interface interface,\n* distributed ports,\ndon\'t need to be configured in the dnsmasq file.\nSo there is no need to reload dnsmasq every time when such port is\nadded/updated to the network.\n\nThis patch adds skip in such case which should improve load on the\nNeutron DHCP agent.\n\nCloses-Bug: #1913269\nChange-Id: I63221507713b941c261cdf88781133149da8ab8d\n(cherry picked from commit e4bbeee2060058d079885339e99ef7e6e366de16)\n'}, {'number': 3, 'created': '2021-03-05 12:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cfc5c8a6c53377b1da94e744577769e6030a8f69', 'message': 'Don\'t configure dnsmasq entries for ""network"" ports\n\nPorts with device_owner like:\n* floating_ip,\n* DHCP,\n* some types of router ports, like: HA interface interface,\ndon\'t need to be configured in the dnsmasq file.\nSo there is no need to reload dnsmasq every time when such port is\nadded/updated to the network.\n\nThis patch adds skip in such case which should improve load on the\nNeutron DHCP agent.\n\nCloses-Bug: #1913269\nChange-Id: I63221507713b941c261cdf88781133149da8ab8d\n(cherry picked from commit e4bbeee2060058d079885339e99ef7e6e366de16)\n'}, {'number': 4, 'created': '2021-03-09 15:30:22.000000000', 'files': ['neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py', 'releasenotes/notes/do-not-create-dhcp-entries-for-all-types-of-ports-39c03b3782d2753e.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a0509f512e4e0bbfa9052617da230e1f255ef5d3', 'message': 'Don\'t configure dnsmasq entries for ""network"" ports\n\nPorts with device_owner like:\n* floating_ip,\n* DHCP,\n* some types of router ports, like: HA interface interface,\ndon\'t need to be configured in the dnsmasq file.\nSo there is no need to reload dnsmasq every time when such port is\nadded/updated to the network.\n\nThis patch adds skip in such case which should improve load on the\nNeutron DHCP agent.\n\nConflicts:\n    neutron/agent/linux/dhcp.py\n\nCloses-Bug: #1913269\nChange-Id: I63221507713b941c261cdf88781133149da8ab8d\n(cherry picked from commit e4bbeee2060058d079885339e99ef7e6e366de16)\n'}]",1,777122,a0509f512e4e0bbfa9052617da230e1f255ef5d3,29,5,4,11975,,,0,"Don't configure dnsmasq entries for ""network"" ports

Ports with device_owner like:
* floating_ip,
* DHCP,
* some types of router ports, like: HA interface interface,
don't need to be configured in the dnsmasq file.
So there is no need to reload dnsmasq every time when such port is
added/updated to the network.

This patch adds skip in such case which should improve load on the
Neutron DHCP agent.

Conflicts:
    neutron/agent/linux/dhcp.py

Closes-Bug: #1913269
Change-Id: I63221507713b941c261cdf88781133149da8ab8d
(cherry picked from commit e4bbeee2060058d079885339e99ef7e6e366de16)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/22/777122/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py', 'releasenotes/notes/do-not-create-dhcp-entries-for-all-types-of-ports-39c03b3782d2753e.yaml']",4,a534d3d23e5aa39d27509624e7b028d319fc5b81,bug/1913269-stable/victoria-stable/ussuri,"--- other: - | To improve performance of the DHCP agent, it will no longer configure the DHCP server for every port type created in Neutron. For example, for floating IP or router HA interfaces there is no need since a client will not make a DHCP request for them ",,46,0
openstack%2Fpython-openstackclient~master~I635c5269f4e8fc55f234c98e85fced87b39fce81,openstack/python-openstackclient,master,I635c5269f4e8fc55f234c98e85fced87b39fce81,network: Add support for vnic-type vdpa,MERGED,2021-03-03 20:22:32.000000000,2021-03-31 18:49:53.000000000,2021-03-31 18:40:32.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2021-03-03 20:22:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e963446555309fea406be3ca84675f07827e328a', 'message': 'add support for vnic-type vdpa\n\nThis change extends port create to support vinc-type vdpa.\n\nChange-Id: I635c5269f4e8fc55f234c98e85fced87b39fce81\n'}, {'number': 2, 'created': '2021-03-19 15:20:14.000000000', 'files': ['releasenotes/notes/network-port-create-vnic-type-vdpa-fc02516cfb919941.yaml', 'openstackclient/network/v2/port.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/6f821659795fdc82c694bb9fdddd5d3c61702e21', 'message': ""network: Add support for vnic-type vdpa\n\nExtend 'port create' to support vinc-type vdpa as introduced by neutron\nin [1].\n\n[1] https://review.opendev.org/c/openstack/neutron/+/760047\n\nChange-Id: I635c5269f4e8fc55f234c98e85fced87b39fce81\n""}]",3,778571,6f821659795fdc82c694bb9fdddd5d3c61702e21,15,3,2,11604,,,0,"network: Add support for vnic-type vdpa

Extend 'port create' to support vinc-type vdpa as introduced by neutron
in [1].

[1] https://review.opendev.org/c/openstack/neutron/+/760047

Change-Id: I635c5269f4e8fc55f234c98e85fced87b39fce81
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/71/778571/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/network/v2/test_port.py', 'openstackclient/network/v2/port.py']",2,e963446555309fea406be3ca84675f07827e328a,vhost-vdpa," choices=[ 'direct', 'direct-physical', 'macvtap', 'normal', 'baremetal', 'virtio-forwarder', 'vdpa'], ""macvtap | normal | baremetal | virtio-forwarder | vdpa, """," choices=['direct', 'direct-physical', 'macvtap', 'normal', 'baremetal', 'virtio-forwarder'], ""macvtap | normal | baremetal | virtio-forwarder, """,30,3
openstack%2Fkayobe~stable%2Fvictoria~I18f67eda4e48058f3f402b9d0e692d6eeb02855f,openstack/kayobe,stable/victoria,I18f67eda4e48058f3f402b9d0e692d6eeb02855f,Avoid fact gathering for group_by,MERGED,2021-03-30 08:33:22.000000000,2021-03-31 18:49:12.000000000,2021-03-31 18:40:55.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-03-30 08:33:22.000000000', 'files': ['ansible/physical-network.yml', 'ansible/overcloud-bios-raid.yml', 'ansible/overcloud-grafana-configure.yml', 'ansible/provision-net.yml', 'ansible/overcloud-ipa-build.yml', 'ansible/overcloud-ipa-images.yml', 'ansible/overcloud-introspection-rules-dell-lldp-workaround.yml', 'ansible/kayobe-ansible-user.yml', 'ansible/overcloud-introspection-rules.yml', 'ansible/kolla-openstack.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/71ee0ef6ce3ee39a8322a521fcccc4a49f11fb2f', 'message': ""Avoid fact gathering for group_by\n\nThere are a few places where we have a play with one task that uses the\ngroup_by module to generate groups that are used in a subsequent play.\nThese plays do not need to gather facts for their target hosts.\n\nIn particular, the kolla-openstack.yml playbook should really be able to\noperate without access to remote hosts.\n\nThis change also adds changed_when: false to all group_by tasks, since\nthey show as changed but haven't really made any changes outside of\nAnsible.\n\nTrivialFix\n\nChange-Id: I18f67eda4e48058f3f402b9d0e692d6eeb02855f\n(cherry picked from commit 388dfa369c9608f252dc946123c1801999931f6f)\n""}]",0,783692,71ee0ef6ce3ee39a8322a521fcccc4a49f11fb2f,17,3,1,14826,,,0,"Avoid fact gathering for group_by

There are a few places where we have a play with one task that uses the
group_by module to generate groups that are used in a subsequent play.
These plays do not need to gather facts for their target hosts.

In particular, the kolla-openstack.yml playbook should really be able to
operate without access to remote hosts.

This change also adds changed_when: false to all group_by tasks, since
they show as changed but haven't really made any changes outside of
Ansible.

TrivialFix

Change-Id: I18f67eda4e48058f3f402b9d0e692d6eeb02855f
(cherry picked from commit 388dfa369c9608f252dc946123c1801999931f6f)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/92/783692/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/physical-network.yml', 'ansible/overcloud-bios-raid.yml', 'ansible/overcloud-grafana-configure.yml', 'ansible/provision-net.yml', 'ansible/overcloud-ipa-build.yml', 'ansible/overcloud-ipa-images.yml', 'ansible/overcloud-introspection-rules-dell-lldp-workaround.yml', 'ansible/kayobe-ansible-user.yml', 'ansible/overcloud-introspection-rules.yml', 'ansible/kolla-openstack.yml']",10,71ee0ef6ce3ee39a8322a521fcccc4a49f11fb2f,, gather_facts: False changed_when: false gather_facts: False,,20,6
openstack%2Foctavia~stable%2Fussuri~I2fe94cd4c000f143c59c69e82d03c690acf5e0c3,openstack/octavia,stable/ussuri,I2fe94cd4c000f143c59c69e82d03c690acf5e0c3,Fix incorrect ERROR status with IPv6 UDP members,MERGED,2021-03-18 13:57:09.000000000,2021-03-31 18:49:01.000000000,2021-03-31 18:42:17.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-18 13:57:09.000000000', 'files': ['releasenotes/notes/fix-ipv6-udp-health-message-ed94b35bbea396ec.yaml', 'octavia/amphorae/backends/utils/keepalivedlvs_query.py', 'octavia/tests/unit/amphorae/backends/utils/test_keepalivedlvs_query.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/4b8de86cf3b2347e38d3a39435c8b609fb055404', 'message': ""Fix incorrect ERROR status with IPv6 UDP members\n\nSome IPv6 UDP members were incorrectly marked in ERROR status because of\na formatting issue between the keepalived configuration file and the\nipvsadm output. Both are used to compute the state of the members and\nwhen a member's address contained '*:0:*', parsing was incorrect. Now\nthe health message generation function uses only the compressed IPv6\nnotation instead of mixing notations.\n\nStory: 2008604\nTask: 41783\n\nChange-Id: I2fe94cd4c000f143c59c69e82d03c690acf5e0c3\n(cherry picked from commit e5f9f6708c70313bd7e0c570f3541c0afb7fc09c)\n(cherry picked from commit 8b210bb52a6c44b3bd69acdf2202d1625e763fb6)\n""}]",0,781485,4b8de86cf3b2347e38d3a39435c8b609fb055404,14,4,1,29244,,,0,"Fix incorrect ERROR status with IPv6 UDP members

Some IPv6 UDP members were incorrectly marked in ERROR status because of
a formatting issue between the keepalived configuration file and the
ipvsadm output. Both are used to compute the state of the members and
when a member's address contained '*:0:*', parsing was incorrect. Now
the health message generation function uses only the compressed IPv6
notation instead of mixing notations.

Story: 2008604
Task: 41783

Change-Id: I2fe94cd4c000f143c59c69e82d03c690acf5e0c3
(cherry picked from commit e5f9f6708c70313bd7e0c570f3541c0afb7fc09c)
(cherry picked from commit 8b210bb52a6c44b3bd69acdf2202d1625e763fb6)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/85/781485/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-ipv6-udp-health-message-ed94b35bbea396ec.yaml', 'octavia/amphorae/backends/utils/keepalivedlvs_query.py', 'octavia/tests/unit/amphorae/backends/utils/test_keepalivedlvs_query.py']",3,4b8de86cf3b2347e38d3a39435c8b609fb055404,," ""Masq 2 0 0\n"" "" -> [fd79:35e2::8f3f]:115C "" "" # Configuration for Member %(member_id5)s\n"" "" real_server fd79:35e2:0:0:0:0:0:8f3f 4444 {\n"" "" weight 2\n"" "" MISC_CHECK {\n\n"" "" misc_path \""/usr/bin/check_script.sh\""\n\n"" "" misc_timeout 5\n\n"" "" }\n\n"" "" }\n\n"" self.member_id5_v6 = uuidutils.generate_uuid() 'member_id4': self.member_id4_v6, 'member_id5': self.member_id5_v6 'InActConn': '0'}, '[fd79:35e2::8f3f]:4444': {'status': constants.UP, 'Forward': 'Masq', 'Weight': '2', 'ActiveConn': '0', {'id': self.member_id5_v6, 'ipport': '[fd79:35e2::8f3f]:4444'}, self.member_id4_v6: constants.MAINT, self.member_id5_v6: constants.UP}}}", 'member_id4': self.member_id4_v6 self.member_id4_v6: constants.MAINT}}},35,8
openstack%2Foctavia~stable%2Fvictoria~I2fe94cd4c000f143c59c69e82d03c690acf5e0c3,openstack/octavia,stable/victoria,I2fe94cd4c000f143c59c69e82d03c690acf5e0c3,Fix incorrect ERROR status with IPv6 UDP members,MERGED,2021-03-18 13:55:22.000000000,2021-03-31 18:49:00.000000000,2021-03-31 18:31:41.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-18 13:55:22.000000000', 'files': ['releasenotes/notes/fix-ipv6-udp-health-message-ed94b35bbea396ec.yaml', 'octavia/amphorae/backends/utils/keepalivedlvs_query.py', 'octavia/tests/unit/amphorae/backends/utils/test_keepalivedlvs_query.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/8b210bb52a6c44b3bd69acdf2202d1625e763fb6', 'message': ""Fix incorrect ERROR status with IPv6 UDP members\n\nSome IPv6 UDP members were incorrectly marked in ERROR status because of\na formatting issue between the keepalived configuration file and the\nipvsadm output. Both are used to compute the state of the members and\nwhen a member's address contained '*:0:*', parsing was incorrect. Now\nthe health message generation function uses only the compressed IPv6\nnotation instead of mixing notations.\n\nStory: 2008604\nTask: 41783\n\nChange-Id: I2fe94cd4c000f143c59c69e82d03c690acf5e0c3\n(cherry picked from commit e5f9f6708c70313bd7e0c570f3541c0afb7fc09c)\n""}]",0,781483,8b210bb52a6c44b3bd69acdf2202d1625e763fb6,14,4,1,29244,,,0,"Fix incorrect ERROR status with IPv6 UDP members

Some IPv6 UDP members were incorrectly marked in ERROR status because of
a formatting issue between the keepalived configuration file and the
ipvsadm output. Both are used to compute the state of the members and
when a member's address contained '*:0:*', parsing was incorrect. Now
the health message generation function uses only the compressed IPv6
notation instead of mixing notations.

Story: 2008604
Task: 41783

Change-Id: I2fe94cd4c000f143c59c69e82d03c690acf5e0c3
(cherry picked from commit e5f9f6708c70313bd7e0c570f3541c0afb7fc09c)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/83/781483/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-ipv6-udp-health-message-ed94b35bbea396ec.yaml', 'octavia/amphorae/backends/utils/keepalivedlvs_query.py', 'octavia/tests/unit/amphorae/backends/utils/test_keepalivedlvs_query.py']",3,8b210bb52a6c44b3bd69acdf2202d1625e763fb6,," ""Masq 2 0 0\n"" "" -> [fd79:35e2::8f3f]:115C "" "" # Configuration for Member %(member_id5)s\n"" "" real_server fd79:35e2:0:0:0:0:0:8f3f 4444 {\n"" "" weight 2\n"" "" MISC_CHECK {\n\n"" "" misc_path \""/usr/bin/check_script.sh\""\n\n"" "" misc_timeout 5\n\n"" "" }\n\n"" "" }\n\n"" self.member_id5_v6 = uuidutils.generate_uuid() 'member_id4': self.member_id4_v6, 'member_id5': self.member_id5_v6 'InActConn': '0'}, '[fd79:35e2::8f3f]:4444': {'status': constants.UP, 'Forward': 'Masq', 'Weight': '2', 'ActiveConn': '0', {'id': self.member_id5_v6, 'ipport': '[fd79:35e2::8f3f]:4444'}, self.member_id4_v6: constants.MAINT, self.member_id5_v6: constants.UP}}}", 'member_id4': self.member_id4_v6 self.member_id4_v6: constants.MAINT}}},35,8
openstack%2Fneutron~stable%2Fvictoria~I73dd37b3104fac8d3172f520f71cffd85d040c4b,openstack/neutron,stable/victoria,I73dd37b3104fac8d3172f520f71cffd85d040c4b,Delete HA metadata proxy PID and config with elevated privileges,MERGED,2021-02-25 08:46:14.000000000,2021-03-31 18:48:50.000000000,2021-03-31 18:30:46.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-25 08:46:14.000000000', 'files': ['neutron/privileged/agent/linux/utils.py', 'neutron/agent/metadata/driver.py', 'neutron/tests/unit/agent/dhcp/test_agent.py', 'neutron/agent/linux/external_process.py', 'neutron/tests/functional/agent/l3/framework.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/agent/linux/utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/31f9ce541c11464a330d6e850e2848ae47a85363', 'message': 'Delete HA metadata proxy PID and config with elevated privileges\n\nBoth files cannot be deleted with the default permissions because\nthose files are created by the ""root"" user.\n\nChange-Id: I73dd37b3104fac8d3172f520f71cffd85d040c4b\nCloses-Bug: #1907695\n(cherry picked from commit 0a0f647ea05d3de3820e9dab26ded8c528eee835)\n'}]",0,777332,31f9ce541c11464a330d6e850e2848ae47a85363,15,3,1,11975,,,0,"Delete HA metadata proxy PID and config with elevated privileges

Both files cannot be deleted with the default permissions because
those files are created by the ""root"" user.

Change-Id: I73dd37b3104fac8d3172f520f71cffd85d040c4b
Closes-Bug: #1907695
(cherry picked from commit 0a0f647ea05d3de3820e9dab26ded8c528eee835)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/32/777332/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/privileged/agent/linux/utils.py', 'neutron/agent/linux/external_process.py', 'neutron/agent/metadata/driver.py', 'neutron/tests/unit/agent/dhcp/test_agent.py', 'neutron/tests/functional/agent/l3/framework.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/agent/linux/utils.py']",7,31f9ce541c11464a330d6e850e2848ae47a85363,bug/1907695-stable/victoria,"from neutron.privileged.agent.linux import utils as priv_utilsdef delete_if_exists(path, run_as_root=False): """"""Delete a path, executed as normal user or with elevated privileges"""""" if run_as_root: priv_utils.delete_if_exists(path) else: fileutils.delete_if_exists(path) ",,50,20
openstack%2Fnova~master~I550f7fd89a13e58031b0ddfbcb4f6a5239dbf335,openstack/nova,master,I550f7fd89a13e58031b0ddfbcb4f6a5239dbf335,doc: Use a non-numerical anchor when referencing microversions,MERGED,2021-03-24 11:33:44.000000000,2021-03-31 18:48:07.000000000,2021-03-31 17:50:35.000000000,"[{'_account_id': 4690}, {'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-24 11:33:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/43d76f5718ba1d282c3d5adf1df914b9ab860c7c', 'message': 'doc: Use a non-numerical anchor when referencing microversions\n\nAs called out in the review for\nIb7b9f4fd7673525129c03dc2943deedd0c7ad81f the use of a numerical anchor\ncauses a sequence id to be used that can change over time in the\ndocument and thus is not stable to reference externally.\n\nThis change simply switches to a non-numerical anchor ensuring that\nsphinx generates a stable anchor we can always reference.\n\nChange-Id: I550f7fd89a13e58031b0ddfbcb4f6a5239dbf335\n'}, {'number': 2, 'created': '2021-03-24 12:26:49.000000000', 'files': ['nova/api/openstack/compute/rest_api_version_history.rst', 'doc/source/user/rescue.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/387a5753de741ddde1297c6a0ec3f4d90514a77b', 'message': 'doc: Use a non-numerical anchor when referencing microversions\n\nAs called out in the review for\nIb7b9f4fd7673525129c03dc2943deedd0c7ad81f the use of a numerical anchor\ncauses a sequence id to be used that can change over time in the\ndocument and thus is not stable to reference externally.\n\nThis change simply switches to a non-numerical anchor ensuring that\nsphinx generates a stable anchor we can always reference.\n\nChange-Id: I550f7fd89a13e58031b0ddfbcb4f6a5239dbf335\n'}]",3,782696,387a5753de741ddde1297c6a0ec3f4d90514a77b,16,4,2,10135,,,0,"doc: Use a non-numerical anchor when referencing microversions

As called out in the review for
Ib7b9f4fd7673525129c03dc2943deedd0c7ad81f the use of a numerical anchor
causes a sequence id to be used that can change over time in the
document and thus is not stable to reference externally.

This change simply switches to a non-numerical anchor ensuring that
sphinx generates a stable anchor we can always reference.

Change-Id: I550f7fd89a13e58031b0ddfbcb4f6a5239dbf335
",git fetch https://review.opendev.org/openstack/nova refs/changes/96/782696/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/rest_api_version_history.rst', 'doc/source/user/rescue.rst']",2,43d76f5718ba1d282c3d5adf1df914b9ab860c7c,,:ref:`2.87 microversion or later <COMPUTE_BFV_RESCUE_2.87-microversion>`.,:ref:`2.87 microversion or later <2.87-microversion>`.,2,2
openstack%2Fneutron~stable%2Fussuri~Ic9e64aa4ecdc3d56f00c26204ad931b810db7599,openstack/neutron,stable/ussuri,Ic9e64aa4ecdc3d56f00c26204ad931b810db7599,Schedule networks to new segments if needed,MERGED,2021-03-16 14:59:38.000000000,2021-03-31 18:48:01.000000000,2021-03-31 17:48:16.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-16 14:59:38.000000000', 'files': ['neutron/db/agentschedulers_db.py', 'neutron/tests/unit/db/test_agentschedulers_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a3637491791d70dfb92ee7ce8855890214ef3582', 'message': ""Schedule networks to new segments if needed\n\nIn case when subnet in segment X was created before hosts from\nthat segment was mapped in the Neutron DB, network wasn't scheduled\nto the DHCP agents in that new segment.\nNow DHCP scheduler is triggered in such case.\n\nCloses-bug: #1917811\nChange-Id: Ic9e64aa4ecdc3d56f00c26204ad931b810db7599\n(cherry picked from commit 5c931f29132c3c5c01127f089f7d5909d2a19e4d)\n""}]",0,780834,a3637491791d70dfb92ee7ce8855890214ef3582,26,3,1,11975,,,0,"Schedule networks to new segments if needed

In case when subnet in segment X was created before hosts from
that segment was mapped in the Neutron DB, network wasn't scheduled
to the DHCP agents in that new segment.
Now DHCP scheduler is triggered in such case.

Closes-bug: #1917811
Change-Id: Ic9e64aa4ecdc3d56f00c26204ad931b810db7599
(cherry picked from commit 5c931f29132c3c5c01127f089f7d5909d2a19e4d)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/34/780834/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/agentschedulers_db.py', 'neutron/tests/unit/db/test_agentschedulers_db.py']",2,a3637491791d70dfb92ee7ce8855890214ef3582,bug/1917811-stable/victoria-stable/ussuri,"from neutron_lib.callbacks import events from neutron_lib.callbacks import resources def _test_auto_schedule_new_network_segments(self, subnet_on_segment): ctx = mock.Mock() payload = events.DBEventPayload( ctx, metadata={'host': 'HOST A', 'current_segment_ids': set(['segment-1'])}) segments_plugin = mock.Mock() segments_plugin.get_segments.return_value = [ {'id': 'segment-1', 'hosts': ['HOST A']}] dhcp_notifier = mock.Mock() dhcp_mixin = agentschedulers_db.DhcpAgentSchedulerDbMixin() with mock.patch( 'neutron_lib.plugins.directory.get_plugin', return_value=segments_plugin), \ mock.patch( 'neutron.objects.subnet.Subnet.get_objects') as get_subnets, \ mock.patch.object( dhcp_mixin, '_schedule_network') as schedule_network: get_subnets.return_value = ( [subnet_on_segment] if subnet_on_segment else []) dhcp_mixin.agent_notifiers[constants.AGENT_TYPE_DHCP] = ( dhcp_notifier) dhcp_mixin.auto_schedule_new_network_segments( resources.SEGMENT_HOST_MAPPING, events.AFTER_CREATE, ctx, payload) if subnet_on_segment: schedule_network.assert_called_once_with( ctx, subnet_on_segment.network_id, dhcp_notifier, candidate_hosts=['HOST A']) else: schedule_network.assert_not_called() def test_auto_schedule_new_network_segments(self): self._test_auto_schedule_new_network_segments( subnet_on_segment=mock.Mock(network_id='net-1')) def test_auto_schedule_new_network_segments_no_networks_on_segment(self): self._test_auto_schedule_new_network_segments(subnet_on_segment=None) ",,71,1
openstack%2Fnova~stable%2Ftrain~I6c585a34d6e774f890f992be647214e7e1073edb,openstack/nova,stable/train,I6c585a34d6e774f890f992be647214e7e1073edb,WIP: live migration: Pass limits onto scheduler-chosen destination,NEW,2021-03-31 10:55:31.000000000,2021-03-31 17:18:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-31 10:55:31.000000000', 'files': ['nova/conductor/tasks/live_migrate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ac00833545669b2efb80f6b18fb1e751e845375b', 'message': ""WIP: live migration: Pass limits onto scheduler-chosen destination\n\nIf a live migration without a specific destination has been requested,\nthe conductor will get a list of potential destinations from the\nscheduler. The conductor will then proceed to check if the destination\ncan accommodate the instance by calling check_can_live_migrate_destination.\n\nHowever, this call is made in _find_destination by calling\n_call_livem_checks_on_host, which will then remotely call the method\nmentioned above, and passing it self.limits, which at that point is still None.\n\nOn the nova-compute side, check_can_live_migrate_destination will also create\nthe resource claim, which also includes the soon-to-used NUMA topology that\nwill be used by the live-migrated instance. For this, the function\nnuma_fit_instance_to_host is called, which will return the first match that\nwill fit the instance NUMA topology. This function will also receive those\nlimits from the conductor, and because it's always None, CPU and memory\nallocation ratios are never respected for the NUMA node 0, so NUMA node 0\nis always a valid candidate for Live Migrations, which means that with\nevery Live Migration the NUMA node 0 will get more and more overcommited,\neventually causing VMs to get into OOM as well.\n\nThis commit simply passes those limits received from the scheduler onto\nnova-compute, so they can be used to make sure we don't overcommit NUMA nodes.\nThose limits are created by the NUMATopologyFilter.\n\nChange-Id: I6c585a34d6e774f890f992be647214e7e1073edb\n""}]",0,784071,ac00833545669b2efb80f6b18fb1e751e845375b,5,1,1,8213,,,0,"WIP: live migration: Pass limits onto scheduler-chosen destination

If a live migration without a specific destination has been requested,
the conductor will get a list of potential destinations from the
scheduler. The conductor will then proceed to check if the destination
can accommodate the instance by calling check_can_live_migrate_destination.

However, this call is made in _find_destination by calling
_call_livem_checks_on_host, which will then remotely call the method
mentioned above, and passing it self.limits, which at that point is still None.

On the nova-compute side, check_can_live_migrate_destination will also create
the resource claim, which also includes the soon-to-used NUMA topology that
will be used by the live-migrated instance. For this, the function
numa_fit_instance_to_host is called, which will return the first match that
will fit the instance NUMA topology. This function will also receive those
limits from the conductor, and because it's always None, CPU and memory
allocation ratios are never respected for the NUMA node 0, so NUMA node 0
is always a valid candidate for Live Migrations, which means that with
every Live Migration the NUMA node 0 will get more and more overcommited,
eventually causing VMs to get into OOM as well.

This commit simply passes those limits received from the scheduler onto
nova-compute, so they can be used to make sure we don't overcommit NUMA nodes.
Those limits are created by the NUMATopologyFilter.

Change-Id: I6c585a34d6e774f890f992be647214e7e1073edb
",git fetch https://review.opendev.org/openstack/nova refs/changes/71/784071/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/conductor/tasks/live_migrate.py'],1,ac00833545669b2efb80f6b18fb1e751e845375b,," self._call_livem_checks_on_host(self.destination, self.limits) def _call_livem_checks_on_host(self, destination, limits): self.migration, limits) self._call_livem_checks_on_host(host, selection.limits)"," self._call_livem_checks_on_host(self.destination) def _call_livem_checks_on_host(self, destination): self.migration, self.limits) self._call_livem_checks_on_host(host)",4,4
openstack%2Fpuppet-vswitch~stable%2Fvictoria~Id9aaab2a1e3ad2d2d43cd5cddf389d20abaf4461,openstack/puppet-vswitch,stable/victoria,Id9aaab2a1e3ad2d2d43cd5cddf389d20abaf4461,Add support for vlan_limit option,MERGED,2021-03-27 06:26:45.000000000,2021-03-31 17:08:40.000000000,2021-03-31 17:06:57.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-27 06:26:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/d16019b5a4c8d3bd627ff12566ac8d5b039e9578', 'message': 'Add support for vlan_limit option\n\nThis change introduces support for the vlan_limit option.\nThis parameter is currently set to 1 by default, but we should set\nit to 2 to enable vlan_transparent, which requires nested vlans.\n\nRelated-Bug: #1918418\nChange-Id: Id9aaab2a1e3ad2d2d43cd5cddf389d20abaf4461\n(cherry picked from commit 4887f4ccd6e1031c3f4cc8fdbc17b77b4eecda0b)\n'}, {'number': 2, 'created': '2021-03-30 13:15:20.000000000', 'files': ['releasenotes/notes/vlan-limit-b40bd9ca223b76ca.yaml', 'spec/classes/vswitch_dpdk_spec.rb', 'manifests/ovs.pp', 'spec/classes/vswitch_ovs_spec.rb', 'manifests/dpdk.pp'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/14011d69c18e628a3466fa71db25cefb7adff425', 'message': 'Add support for vlan_limit option\n\nThis change introduces support for the vlan_limit option.\nThis parameter is currently set to 1 by default, but we should set\nit to 2 to enable vlan_transparent, which requires nested vlans.\n\nRelated-Bug: #1918418\nChange-Id: Id9aaab2a1e3ad2d2d43cd5cddf389d20abaf4461\n(cherry picked from commit 4887f4ccd6e1031c3f4cc8fdbc17b77b4eecda0b)\n'}]",0,783215,14011d69c18e628a3466fa71db25cefb7adff425,24,3,2,9816,,,0,"Add support for vlan_limit option

This change introduces support for the vlan_limit option.
This parameter is currently set to 1 by default, but we should set
it to 2 to enable vlan_transparent, which requires nested vlans.

Related-Bug: #1918418
Change-Id: Id9aaab2a1e3ad2d2d43cd5cddf389d20abaf4461
(cherry picked from commit 4887f4ccd6e1031c3f4cc8fdbc17b77b4eecda0b)
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/15/783215/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/vlan-limit-b40bd9ca223b76ca.yaml', 'spec/classes/vswitch_dpdk_spec.rb', 'manifests/ovs.pp', 'spec/classes/vswitch_ovs_spec.rb', 'manifests/dpdk.pp']",5,d16019b5a4c8d3bd627ff12566ac8d5b039e9578,bug/1918418-stable/victoria,"# Defaults to false # # [*vlan_limit*] # (optional) Number of vlan layers allowed. # Default to $::os_service_default $vlan_limit = $::os_service_default, if ! is_service_default($vlan_limit) { vs_config { 'other_config:vlan-limit': value => ""${vlan_limit}"", wait => true, } } ",,57,8
openstack%2Fkolla~master~I61734318f2ddd81c3a20571f2be844c08a8b2a26,openstack/kolla,master,I61734318f2ddd81c3a20571f2be844c08a8b2a26,masakari-monitors: enable libvirt repo,MERGED,2021-03-29 15:58:52.000000000,2021-03-31 16:52:43.000000000,2021-03-31 16:47:55.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 26285}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2021-03-29 15:58:52.000000000', 'files': ['docker/masakari/masakari-monitors/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/af72472da73cce204f4bdf9a57644e03c50fc7ab', 'message': 'masakari-monitors: enable libvirt repo\n\nChange-Id: I61734318f2ddd81c3a20571f2be844c08a8b2a26\n'}]",0,783698,af72472da73cce204f4bdf9a57644e03c50fc7ab,8,6,1,24072,,,0,"masakari-monitors: enable libvirt repo

Change-Id: I61734318f2ddd81c3a20571f2be844c08a8b2a26
",git fetch https://review.opendev.org/openstack/kolla refs/changes/98/783698/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/masakari/masakari-monitors/Dockerfile.j2'],1,af72472da73cce204f4bdf9a57644e03c50fc7ab,,"{{ macros.enable_extra_repos(['hacluster', 'libvirt']) }}",{{ macros.enable_extra_repos(['hacluster']) }},1,1
openstack%2Fkayobe~stable%2Ftrain~I2ed9da2580a83f167d4b10b747e0f8225c235afe,openstack/kayobe,stable/train,I2ed9da2580a83f167d4b10b747e0f8225c235afe,Update seed VM image to CentOS 8.3,MERGED,2021-03-26 17:04:48.000000000,2021-03-31 16:46:12.000000000,2021-03-31 16:44:27.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-26 17:04:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5f9051aa9e235d30f665205af7dcb48a0aac68d5', 'message': 'Update seed VM image to CentOS 8.3\n\nChange-Id: I2ed9da2580a83f167d4b10b747e0f8225c235afe\n(cherry picked from commit f4eaa980843c242bbeac6aff9192ea84e378e56e)\n'}, {'number': 2, 'created': '2021-03-26 17:09:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/be7f1d3d53eb3be8cc6795bcfbfb599ea78845cd', 'message': 'Update seed VM image to CentOS 8.3\n\nChange-Id: I2ed9da2580a83f167d4b10b747e0f8225c235afe\n(cherry picked from commit f4eaa980843c242bbeac6aff9192ea84e378e56e)\n'}, {'number': 3, 'created': '2021-03-26 17:11:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d6f39cc2dd69325c50e242c4521b16b8c60ed3f9', 'message': 'Update seed VM image to CentOS 8.3\n\nThis Train backport does not actually update the default, which still\nuses CentOS 7. It does keep the workarounds, and updates the CentOS 8\ndocumentation.\n\nChange-Id: I2ed9da2580a83f167d4b10b747e0f8225c235afe\n(cherry picked from commit f4eaa980843c242bbeac6aff9192ea84e378e56e)\n'}, {'number': 4, 'created': '2021-03-30 12:05:44.000000000', 'files': ['releasenotes/notes/seed-vm-centos-8.3-7726c9d0603508eb.yaml', 'ansible/overcloud-ipa-build.yml', 'doc/source/centos8.rst', 'ansible/seed-ipa-build.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7ecc15fad71583eeafc0771448b1cd899b8dfc08', 'message': 'Update seed VM image to CentOS 8.3\n\nThis Train backport does not actually update the default, which still\nuses CentOS 7. It does keep the workarounds, and updates the CentOS 8\ndocumentation.\n\nChange-Id: I2ed9da2580a83f167d4b10b747e0f8225c235afe\n(cherry picked from commit f4eaa980843c242bbeac6aff9192ea84e378e56e)\n'}]",0,783212,7ecc15fad71583eeafc0771448b1cd899b8dfc08,26,3,4,14826,,,0,"Update seed VM image to CentOS 8.3

This Train backport does not actually update the default, which still
uses CentOS 7. It does keep the workarounds, and updates the CentOS 8
documentation.

Change-Id: I2ed9da2580a83f167d4b10b747e0f8225c235afe
(cherry picked from commit f4eaa980843c242bbeac6aff9192ea84e378e56e)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/12/783212/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all/seed-vm', 'releasenotes/notes/seed-vm-centos-8.3-7726c9d0603508eb.yaml', 'ansible/overcloud-ipa-build.yml', 'ansible/seed-ipa-build.yml', 'etc/kayobe/seed-vm.yml']",5,5f9051aa9e235d30f665205af7dcb48a0aac68d5,seed-vm-centos-8.3-stable/train,"<<<<<<< HEAD (5886f7 Merge ""Update IPA docs and test build with extra-hardware"" i)======= # ""https://cloud.centos.org/centos/8/x86_64/images/CentOS-8-GenericCloud-8.3.2011-20201204.2.x86_64.qcow2"". >>>>>>> CHANGE (f4eaa9 Update seed VM image to CentOS 8.3)",,28,0
openstack%2Freleases~master~I0835b299f3fe9d5ec383d482df76485c60f2aceb,openstack/releases,master,I0835b299f3fe9d5ec383d482df76485c60f2aceb,Creating stable wallaby for ironic-python-agent,MERGED,2021-03-29 15:36:56.000000000,2021-03-31 16:42:11.000000000,2021-03-31 16:42:11.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 15519}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-29 15:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/c403381d6037bc517889d8da3a2967ce77df7d50', 'message': 'Creating stable wallaby for ironic-python-agent\n\nIf you want to wait and make another release before the branch is cut,\nsomeone from the team can -1 the patch to have it held, or update that\npatch to include another release and stable branch point.\n\nPatches with no response will be merged by Friday April 02.\n\nChange-Id: I0835b299f3fe9d5ec383d482df76485c60f2aceb\n'}, {'number': 2, 'created': '2021-03-31 14:47:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/206644637b28abc164a98df99f2b7e3c2687a409', 'message': 'Creating stable wallaby for ironic-python-agent\n\nIf you want to wait and make another release before the branch is cut,\nsomeone from the team can -1 the patch to have it held, or update that\npatch to include another release and stable branch point.\n\nPatches with no response will be merged by Friday April 02.\n\nChange-Id: I0835b299f3fe9d5ec383d482df76485c60f2aceb\n'}, {'number': 3, 'created': '2021-03-31 14:57:19.000000000', 'files': ['deliverables/wallaby/ironic-python-agent.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7fbff7cc8e99ce9e1e02bc999275026f14ddf21c', 'message': 'Creating stable wallaby for ironic-python-agent\n\nIf you want to wait and make another release before the branch is cut,\nsomeone from the team can -1 the patch to have it held, or update that\npatch to include another release and stable branch point.\n\nPatches with no response will be merged by Friday April 02.\n\nChange-Id: I0835b299f3fe9d5ec383d482df76485c60f2aceb\n'}]",0,783675,7fbff7cc8e99ce9e1e02bc999275026f14ddf21c,15,7,3,28522,,,0,"Creating stable wallaby for ironic-python-agent

If you want to wait and make another release before the branch is cut,
someone from the team can -1 the patch to have it held, or update that
patch to include another release and stable branch point.

Patches with no response will be merged by Friday April 02.

Change-Id: I0835b299f3fe9d5ec383d482df76485c60f2aceb
",git fetch https://review.opendev.org/openstack/releases refs/changes/75/783675/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/ironic-python-agent.yaml'],1,c403381d6037bc517889d8da3a2967ce77df7d50,wallaby-missing-stable-branches, - name: stable/wallaby location: 6.6.0,,2,0
openstack%2Fopenstack-helm-infra~master~I6594ce8551bd6927c1f0cd316d4d52b08b247c43,openstack/openstack-helm-infra,master,I6594ce8551bd6927c1f0cd316d4d52b08b247c43,[WIP] Enable TLS for Prometheus Node-exporter,ABANDONED,2021-03-16 21:10:14.000000000,2021-03-31 16:40:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-16 21:10:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d89d97e40ff3cd7d1c8495dcda6c4f3a30db60a7', 'message': '[WIP] Enable TLS for Prometheus Node-exporter\n\nChange-Id: I6594ce8551bd6927c1f0cd316d4d52b08b247c43\n'}, {'number': 2, 'created': '2021-03-16 21:40:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/57185a0d2c98b875176a47a1b878f4f11fba8a7a', 'message': '[WIP] Enable TLS for Prometheus Node-exporter\n\nChange-Id: I6594ce8551bd6927c1f0cd316d4d52b08b247c43\n'}, {'number': 3, 'created': '2021-03-17 15:17:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4543762a0338728996346d3f9b53f88aa8234a45', 'message': '[WIP] Enable TLS for Prometheus Node-exporter\n\nChange-Id: I6594ce8551bd6927c1f0cd316d4d52b08b247c43\n'}, {'number': 4, 'created': '2021-03-18 18:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/83c93838c472892f3b81aad33dc1813d5c543830', 'message': '[WIP] Enable TLS for Prometheus Node-exporter\n\nChange-Id: I6594ce8551bd6927c1f0cd316d4d52b08b247c43\n'}, {'number': 5, 'created': '2021-03-19 19:28:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7fa7335a4e5d0d623469afd45cc9ed479fc96e18', 'message': '[WIP] Enable TLS for Prometheus Node-exporter\n\nChange-Id: I6594ce8551bd6927c1f0cd316d4d52b08b247c43\n'}, {'number': 6, 'created': '2021-03-22 14:56:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ea80a5355cd46ddcd1f434a68a98f4e32b7f583a', 'message': '[WIP] Enable TLS for Prometheus Node-exporter\n\nChange-Id: I6594ce8551bd6927c1f0cd316d4d52b08b247c43\n'}, {'number': 7, 'created': '2021-03-22 23:08:21.000000000', 'files': ['prometheus/Chart.yaml', 'prometheus-node-exporter/templates/bin/_node-exporter.sh.tpl', 'releasenotes/notes/prometheus-node-exporter.yaml', 'prometheus-node-exporter/values_overrides/tls.yaml', 'prometheus-node-exporter/templates/configmap-web-config.yaml', 'prometheus-node-exporter/templates/certificates.yaml', 'prometheus/values_overrides/tls.yaml', 'prometheus-node-exporter/values.yaml', 'prometheus-node-exporter/Chart.yaml', 'releasenotes/notes/prometheus.yaml', 'prometheus/templates/statefulset.yaml', 'prometheus-node-exporter/templates/daemonset.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5cbd86abe23d4107c4b5f28aa074efbfcdc788fe', 'message': '[WIP] Enable TLS for Prometheus Node-exporter\n\nChange-Id: I6594ce8551bd6927c1f0cd316d4d52b08b247c43\n'}]",0,780977,5cbd86abe23d4107c4b5f28aa074efbfcdc788fe,30,1,7,19391,,,0,"[WIP] Enable TLS for Prometheus Node-exporter

Change-Id: I6594ce8551bd6927c1f0cd316d4d52b08b247c43
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/77/780977/4 && git format-patch -1 --stdout FETCH_HEAD,"['prometheus/Chart.yaml', 'prometheus-node-exporter/templates/bin/_node-exporter.sh.tpl', 'releasenotes/notes/prometheus-node-exporter.yaml', 'prometheus-node-exporter/values_overrides/tls.yaml', 'prometheus-node-exporter/templates/configmap-web-config.yaml', 'prometheus/values.yaml', 'prometheus-node-exporter/templates/certificates.yaml', 'prometheus/values_overrides/tls.yaml', 'prometheus-node-exporter/values.yaml', 'prometheus-node-exporter/Chart.yaml', 'releasenotes/notes/prometheus.yaml', 'prometheus/templates/statefulset.yaml', 'prometheus-node-exporter/templates/daemonset.yaml']",13,d89d97e40ff3cd7d1c8495dcda6c4f3a30db60a7,change-780977-4,"{{- if and .Values.manifests.certificates .Values.manifests.configmap_web_config }} - name: node-exporter-web mountPath: /etc/node-exporter/web.yml subPath: web.yml readOnly: true {{- end }} {{- dict ""enabled"" .Values.manifests.certificates ""name"" .Values.secrets.tls.exporter.node_exporter.internal ""path"" ""/etc/node-exporter/certs"" | include ""helm-toolkit.snippets.tls_volume_mount"" | indent 12 }}{{- if and .Values.manifests.certificates .Values.manifests.configmap_web_config }} - name: node-exporter-web configMap: name: node-exporter-web-config items: - key: tls_server_config path: web.yml {{- end }} {{- dict ""enabled"" .Values.manifests.certificates ""name"" .Values.secrets.tls.exporter.node_exporter.internal | include ""helm-toolkit.snippets.tls_volume"" | indent 8 }}",,908,2
openstack%2Felection~master~I9feafe4ecb1a8eadd4a95beb93f8c24a2a167610,openstack/election,master,I9feafe4ecb1a8eadd4a95beb93f8c24a2a167610,Correct the contribution tallying for SIGs,ABANDONED,2020-10-12 18:34:18.000000000,2021-03-31 16:20:29.000000000,,"[{'_account_id': 308}, {'_account_id': 5263}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-12 18:34:18.000000000', 'files': ['openstack_election/owners.py'], 'web_link': 'https://opendev.org/openstack/election/commit/a385e018fbb516ca54fcca3a57ece9d86608d48b', 'message': 'Correct the contribution tallying for SIGs\n\nThere was a stray extra level of iteration over entries in the SIGs\nrepos file, causing them to get counted far, far more than once.\nThis had no impact on electoral roll generation as it only caused\ncontributions for some contributors to be over-counted, so did not\nalter the list of contributors.\n\nChange-Id: I9feafe4ecb1a8eadd4a95beb93f8c24a2a167610\n'}]",0,757635,a385e018fbb516ca54fcca3a57ece9d86608d48b,7,4,1,5263,,,0,"Correct the contribution tallying for SIGs

There was a stray extra level of iteration over entries in the SIGs
repos file, causing them to get counted far, far more than once.
This had no impact on electoral roll generation as it only caused
contributions for some contributors to be over-counted, so did not
alter the list of contributors.

Change-Id: I9feafe4ecb1a8eadd4a95beb93f8c24a2a167610
",git fetch https://review.opendev.org/openstack/election refs/changes/35/757635/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_election/owners.py'],1,a385e018fbb516ca54fcca3a57ece9d86608d48b,sigs-contribs, gov_projects['sigs']['deliverables'][sig]['repos'].append( repo['repo']), for repo in sigs_repos[sig]: gov_projects['sigs']['deliverables'][sig]['repos'].append( repo['repo']),2,3
openstack%2Felection~master~Ie0dd5421823212345f5ac2964ca016afe9871ad8,openstack/election,master,Ie0dd5421823212345f5ac2964ca016afe9871ad8,TC Candidacy - Amy Marrich,MERGED,2021-03-10 00:46:50.000000000,2021-03-31 16:17:20.000000000,2021-03-31 16:14:26.000000000,"[{'_account_id': 5263}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-10 00:46:50.000000000', 'files': ['candidates/xena/TC/amy@demarco.com'], 'web_link': 'https://opendev.org/openstack/election/commit/ebb32f54f2391129c896486e3835443c18d58799', 'message': 'TC Candidacy - Amy Marrich\n\nChange-Id: Ie0dd5421823212345f5ac2964ca016afe9871ad8\n'}]",0,779633,ebb32f54f2391129c896486e3835443c18d58799,12,3,1,15993,,,0,"TC Candidacy - Amy Marrich

Change-Id: Ie0dd5421823212345f5ac2964ca016afe9871ad8
",git fetch https://review.opendev.org/openstack/election refs/changes/33/779633/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/xena/TC/amy@demarco.com'],1,ebb32f54f2391129c896486e3835443c18d58799,,"Hey all, I am declaring my candidacy for the Technical Committee. I have contributed to mulitple projects over the years as well as being an operator which I feel gives me a well rounded view of what makes OpenStack and how the pieces should work together. I feel I can represent all members of the community from the small private clouds to the teams running large public clouds. I also feel my experiences helping with OpenStack Upstream Institute,OpenSttack OPS Meetup team, the OpenStack mentoring program, and the Git and Gerrit workshops help me to connect with contributers from those just starting out to those who have been here from the beginning. My main goal for joining the TC is to take my experiences with Operators and making sure they have a voice within the our decisions so that we can better meet the needs of our users. Thanks, Amy Marrich (spotz) ",,22,0
openstack%2Ftripleo-heat-templates~master~Ib7e1d47fe7cffa2bd2ed1d72d94e4f380162f10a,openstack/tripleo-heat-templates,master,Ib7e1d47fe7cffa2bd2ed1d72d94e4f380162f10a,Move tmpwatch from cron.daily to actual root crontab,MERGED,2021-03-31 06:45:15.000000000,2021-03-31 16:09:27.000000000,2021-03-31 16:09:27.000000000,"[{'_account_id': 4978}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-31 06:45:15.000000000', 'files': ['deployment/logrotate/logrotate-crond-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1c7657b00b3a71e3c38b354cb40b00fa72796d4f', 'message': ""Move tmpwatch from cron.daily to actual root crontab\n\nIt appeary running the tmpwatch from the cron.daily location isn't\npossible: the way cron/anacron is running things appears to break\nSELinux context at some point, leading to SELinux denials caused by a\nweird need for dac_override.\n\nIn order to NOT allow this dac_override (security hazard), and after\nextensive testing, it seems it's better to push the job directly in\nroot's crontab.\n\nChange-Id: Ib7e1d47fe7cffa2bd2ed1d72d94e4f380162f10a\nCloses-Bug: #1922002\nResolves: rhbz#1944466\n""}]",0,784008,1c7657b00b3a71e3c38b354cb40b00fa72796d4f,9,8,1,28223,,,0,"Move tmpwatch from cron.daily to actual root crontab

It appeary running the tmpwatch from the cron.daily location isn't
possible: the way cron/anacron is running things appears to break
SELinux context at some point, leading to SELinux denials caused by a
weird need for dac_override.

In order to NOT allow this dac_override (security hazard), and after
extensive testing, it seems it's better to push the job directly in
root's crontab.

Change-Id: Ib7e1d47fe7cffa2bd2ed1d72d94e4f380162f10a
Closes-Bug: #1922002
Resolves: rhbz#1944466
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/08/784008/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/logrotate/logrotate-crond-container-puppet.yaml'],1,1c7657b00b3a71e3c38b354cb40b00fa72796d4f,selinux/tmpwatch," block: - name: Push script copy: dest: /usr/local/sbin/containers-tmpwatch owner: root group: root mode: 0755 content: | #!/bin/sh tmpwatch --nodirs \ -X ""/var/log/containers/*/*log"" \ -X ""/var/log/containers/*/*/*log"" \ -X ""/var/log/containers/*/*err"" \ {{ LogrotatePurgeAfterDays|int +1 }}d \ /var/log/containers/ 2>&1 | logger -t container-tmpwatch vars: LogrotatePurgeAfterDays: {get_param: LogrotatePurgeAfterDays} - name: Insert cronjob in root crontab cron: name: ""Remove old logs"" special_time: ""daily"" user: ""root"" job: ""/usr/local/sbin/containers-tmpwatch"" update_tasks: &tmpwatch_script_clean - name: Ensure old cron.daily is absent when: step|int == 1 file: path: /etc/cron.daily/containers-tmpwatch state: absent upgrade_tasks: *tmpwatch_script_clean"," copy: dest: /etc/cron.daily/containers-tmpwatch owner: root group: root mode: 0755 content: | #!/bin/sh tmpwatch --nodirs \ -X ""/var/log/containers/*/*log"" \ -X ""/var/log/containers/*/*/*log"" \ -X ""/var/log/containers/*/*err"" \ {{ LogrotatePurgeAfterDays|int +1 }}d \ /var/log/containers/ 2>&1 | logger -t container-tmpwatch vars: LogrotatePurgeAfterDays: {get_param: LogrotatePurgeAfterDays}",30,15
openstack%2Fpuppet-tripleo~stable%2Ftrain~Ib2e97060523a4198a14949a15c9171b56928699c,openstack/puppet-tripleo,stable/train,Ib2e97060523a4198a14949a15c9171b56928699c,Add check for bootstrap_node for downcase,MERGED,2020-11-27 10:40:12.000000000,2021-03-31 16:09:23.000000000,2021-03-31 16:09:23.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 10135}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2020-11-27 10:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/54d53a448965731f503a1f210e97f4e8dbee8793', 'message': 'Add check for bootstrap_node for downcase\n\nDowncase in puppet 6.14 throws an error if the input to it is Undef. We\ncan avoid this by checking for a value before trying to downcase.\n\nSee context https://review.rdoproject.org/r/#/c/26297/\nCloses-bug: #1905942\n\nChange-Id: Ib2e97060523a4198a14949a15c9171b56928699c\n'}, {'number': 2, 'created': '2021-02-23 09:43:38.000000000', 'files': ['manifests/profile/base/sahara.pp', 'manifests/profile/pacemaker/rabbitmq.pp', 'manifests/profile/base/mistral/executor.pp', 'manifests/profile/pacemaker/cinder/volume.pp', 'manifests/profile/base/ironic.pp', 'manifests/profile/base/rabbitmq.pp', 'manifests/profile/pacemaker/database/mysql.pp', 'manifests/profile/pacemaker/database/mysql_bundle.pp', 'manifests/profile/base/neutron/plugins/plumgrid.pp', 'manifests/profile/base/nova/metadata.pp', 'manifests/profile/base/mistral.pp', 'manifests/profile/base/nova.pp', 'manifests/profile/base/aodh.pp', 'manifests/profile/base/ceilometer/upgrade.pp', 'manifests/profile/pacemaker/haproxy.pp', 'manifests/profile/base/heat/engine.pp', 'manifests/profile/base/gnocchi/api.pp', 'manifests/profile/pacemaker/database/redis.pp', 'manifests/profile/base/neutron/plugins/ml2.pp', 'manifests/profile/base/aodh/api.pp', 'manifests/profile/pacemaker/rabbitmq_bundle.pp', 'manifests/profile/base/nova/api.pp', 'manifests/profile/base/neutron/ovn_northd.pp', 'manifests/profile/base/swift/proxy.pp', 'manifests/profile/base/neutron/plugins/nsx.pp', 'manifests/profile/base/neutron/plugins/opencontrail.pp', 'manifests/profile/base/ironic/conductor.pp', 'manifests/profile/base/sahara/engine.pp', 'manifests/profile/base/barbican/api.pp', 'manifests/profile/base/designate/central.pp', 'manifests/profile/base/panko/api.pp', 'manifests/profile/base/placement.pp', 'manifests/profile/pacemaker/manila/share_bundle.pp', 'manifests/profile/base/mistral/event_engine.pp', 'manifests/profile/base/neutron/plugins/nuage.pp', 'manifests/profile/base/mistral/api.pp', 'manifests/profile/pacemaker/cinder/backup_bundle.pp', 'manifests/profile/base/heat/api.pp', 'manifests/profile/base/heat/api_cfn.pp', 'manifests/profile/pacemaker/haproxy_bundle.pp', 'manifests/profile/base/nova/ec2api.pp', 'manifests/profile/base/neutron/server.pp', 'manifests/profile/base/mistral/engine.pp', 'manifests/profile/base/trove/api.pp', 'manifests/profile/base/cinder/api.pp', 'manifests/profile/pacemaker/cinder/backup.pp', 'manifests/profile/base/nova/conductor.pp', 'manifests/profile/base/manila.pp', 'manifests/profile/pacemaker/ceph_nfs.pp', 'manifests/profile/base/manila/api.pp', 'manifests/profile/pacemaker/ovn_dbs_bundle.pp', 'manifests/profile/pacemaker/database/redis_bundle.pp', 'manifests/profile/base/ironic/api.pp', 'manifests/profile/base/zaqar.pp', 'manifests/profile/base/keystone.pp', 'manifests/profile/base/octavia/api.pp', 'manifests/profile/base/glance/api.pp', 'manifests/profile/base/ironic_inspector.pp', 'manifests/profile/pacemaker/cinder/volume_bundle.pp', 'manifests/profile/base/database/mysql.pp', 'manifests/profile/base/horizon.pp', 'manifests/profile/base/cinder.pp', 'manifests/profile/pacemaker/manila.pp', 'manifests/profile/base/placement/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e54d6040a655215996ea9488f1c11517c316f0be', 'message': 'Add check for bootstrap_node for downcase\n\nDowncase in puppet 6.14 throws an error if the input to it is Undef. We\ncan avoid this by checking for a value before trying to downcase.\n\nSee context https://review.rdoproject.org/r/#/c/26297/\nCloses-bug: #1905942\n\nChange-Id: Ib2e97060523a4198a14949a15c9171b56928699c\n'}]",0,764442,e54d6040a655215996ea9488f1c11517c316f0be,28,7,2,6926,,,0,"Add check for bootstrap_node for downcase

Downcase in puppet 6.14 throws an error if the input to it is Undef. We
can avoid this by checking for a value before trying to downcase.

See context https://review.rdoproject.org/r/#/c/26297/
Closes-bug: #1905942

Change-Id: Ib2e97060523a4198a14949a15c9171b56928699c
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/42/764442/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/sahara.pp', 'manifests/profile/pacemaker/rabbitmq.pp', 'manifests/profile/base/mistral/executor.pp', 'manifests/profile/pacemaker/cinder/volume.pp', 'manifests/profile/base/ironic.pp', 'manifests/profile/base/rabbitmq.pp', 'manifests/profile/pacemaker/database/mysql.pp', 'manifests/profile/pacemaker/database/mysql_bundle.pp', 'manifests/profile/base/neutron/plugins/plumgrid.pp', 'manifests/profile/base/nova/metadata.pp', 'manifests/profile/base/mistral.pp', 'manifests/profile/base/nova.pp', 'manifests/profile/base/aodh.pp', 'manifests/profile/base/ceilometer/upgrade.pp', 'manifests/profile/pacemaker/haproxy.pp', 'manifests/profile/base/heat/engine.pp', 'manifests/profile/base/gnocchi/api.pp', 'manifests/profile/pacemaker/database/redis.pp', 'manifests/profile/base/neutron/plugins/ml2.pp', 'manifests/profile/base/aodh/api.pp', 'manifests/profile/pacemaker/rabbitmq_bundle.pp', 'manifests/profile/base/nova/api.pp', 'manifests/profile/base/neutron/ovn_northd.pp', 'manifests/profile/base/swift/proxy.pp', 'manifests/profile/base/neutron/plugins/nsx.pp', 'manifests/profile/base/neutron/plugins/opencontrail.pp', 'manifests/profile/base/ironic/conductor.pp', 'manifests/profile/base/sahara/engine.pp', 'manifests/profile/base/barbican/api.pp', 'manifests/profile/base/designate/central.pp', 'manifests/profile/base/panko/api.pp', 'manifests/profile/base/placement.pp', 'manifests/profile/pacemaker/manila/share_bundle.pp', 'manifests/profile/base/mistral/event_engine.pp', 'manifests/profile/base/neutron/plugins/nuage.pp', 'manifests/profile/base/mistral/api.pp', 'manifests/profile/pacemaker/cinder/backup_bundle.pp', 'manifests/profile/base/heat/api.pp', 'manifests/profile/base/heat/api_cfn.pp', 'manifests/profile/pacemaker/haproxy_bundle.pp', 'manifests/profile/base/nova/ec2api.pp', 'manifests/profile/base/neutron/server.pp', 'manifests/profile/base/mistral/engine.pp', 'manifests/profile/base/trove/api.pp', 'manifests/profile/base/cinder/api.pp', 'manifests/profile/pacemaker/cinder/backup.pp', 'manifests/profile/base/nova/conductor.pp', 'manifests/profile/base/manila.pp', 'manifests/profile/pacemaker/ceph_nfs.pp', 'manifests/profile/base/manila/api.pp', 'manifests/profile/pacemaker/ovn_dbs_bundle.pp', 'manifests/profile/pacemaker/database/redis_bundle.pp', 'manifests/profile/base/ironic/api.pp', 'manifests/profile/base/zaqar.pp', 'manifests/profile/base/keystone.pp', 'manifests/profile/base/octavia/api.pp', 'manifests/profile/base/glance/api.pp', 'manifests/profile/base/ironic_inspector.pp', 'manifests/profile/pacemaker/cinder/volume_bundle.pp', 'manifests/profile/base/database/mysql.pp', 'manifests/profile/base/horizon.pp', 'manifests/profile/base/cinder.pp', 'manifests/profile/pacemaker/manila.pp', 'manifests/profile/base/placement/api.pp']",64,54d53a448965731f503a1f210e97f4e8dbee8793,, if $bootstrap_node and $::hostname == downcase($bootstrap_node) {, if $::hostname == downcase($bootstrap_node) {,64,64
openstack%2Fcharm-neutron-openvswitch~master~Ica2e23d600ec45de0c2663922b54a3b725c37270,openstack/charm-neutron-openvswitch,master,Ica2e23d600ec45de0c2663922b54a3b725c37270,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 21:01:22.000000000,2021-03-31 16:00:36.000000000,2021-03-31 10:15:32.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-02 21:01:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/61ba5decd19ca5ec539adfb96a782046ce02b47c', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: Ica2e23d600ec45de0c2663922b54a3b725c37270\n'}, {'number': 2, 'created': '2021-03-05 14:08:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/3722e34245594a3db6fecbddeb3737ff6598ae23', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: Ica2e23d600ec45de0c2663922b54a3b725c37270\n'}, {'number': 3, 'created': '2021-03-15 12:45:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/2699a79b95a96699c16b130fc049e42dec873238', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: Ica2e23d600ec45de0c2663922b54a3b725c37270\n'}, {'number': 4, 'created': '2021-03-18 14:00:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/621c5f94077feb6de7d460bca82d60399ad5cb88', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: Ica2e23d600ec45de0c2663922b54a3b725c37270\n'}, {'number': 5, 'created': '2021-03-23 13:04:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/7f4fdd84ab22850b8c40e10484c6189d1becbd55', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: Ica2e23d600ec45de0c2663922b54a3b725c37270\n'}, {'number': 6, 'created': '2021-03-23 13:15:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/a2a3c6957e0ed522040dd74632566b84ef9b2dde', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: Ica2e23d600ec45de0c2663922b54a3b725c37270\n'}, {'number': 7, 'created': '2021-03-30 17:29:49.000000000', 'files': ['osci.yaml', 'metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/dfbe69a62a7cd7f2b464c9c50a39f46b349b1a82', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: Ica2e23d600ec45de0c2663922b54a3b725c37270\n'}]",0,778312,dfbe69a62a7cd7f2b464c9c50a39f46b349b1a82,46,3,7,20870,,,0,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: Ica2e23d600ec45de0c2663922b54a3b725c37270
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/12/778312/6 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,61ba5decd19ca5ec539adfb96a782046ce02b47c,hirsute-metadata,- hirsute,- trusty,1,1
openstack%2Ftripleo-upgrade~master~Ib783b4a86b53d7967db3df424495b9810f4757a1,openstack/tripleo-upgrade,master,Ib783b4a86b53d7967db3df424495b9810f4757a1,[update] Fix validation command line option for infrared.,MERGED,2021-03-30 15:37:05.000000000,2021-03-31 15:57:21.000000000,2021-03-31 15:57:21.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2021-03-30 15:37:05.000000000', 'files': ['infrared_plugin/plugin.spec', 'infrared_plugin/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/6f451e66dd873723ddf8e307838e839ac8a5c599', 'message': '[update] Fix validation command line option for infrared.\n\nThe spec file did not setup the right option ""path"".\n\nChange-Id: Ib783b4a86b53d7967db3df424495b9810f4757a1\nCloses-Bug: 1921924\n'}]",0,783898,6f451e66dd873723ddf8e307838e839ac8a5c599,8,5,1,8297,,,0,"[update] Fix validation command line option for infrared.

The spec file did not setup the right option ""path"".

Change-Id: Ib783b4a86b53d7967db3df424495b9810f4757a1
Closes-Bug: 1921924
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/98/783898/1 && git format-patch -1 --stdout FETCH_HEAD,"['infrared_plugin/plugin.spec', 'infrared_plugin/main.yml']",2,6f451e66dd873723ddf8e307838e839ac8a5c599,, - name: Enable validations, - name: Eanble validations,7,7
openstack%2Fnova~stable%2Fwallaby~I0d5df271dec1c6035229b02ec45e03abad6f27e7,openstack/nova,stable/wallaby,I0d5df271dec1c6035229b02ec45e03abad6f27e7,Bumping min os-brick ver to 4.3.1,MERGED,2021-03-30 09:27:35.000000000,2021-03-31 15:37:24.000000000,2021-03-30 13:06:06.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-30 09:27:35.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/68af588d5c7b5c9472cbc2731fee2956c86206ea', 'message': 'Bumping min os-brick ver to 4.3.1\n\nThe os-brick 4.3.1 release fixes a critical data loss bug that can be\ntriggered by reconfiguring [libvirt]/volume_use_multipath while volumes\nare attached.\n\nThe following requirements and lower-requirements are also bumped as\nintroduced into os-brick by Ie7dcc859e1291bd1d50b1ae516be38d8732de836:\n\n    os-brick 4.3.1 depends on eventlet>=0.30.1\n    os-brick 4.3.1 depends on oslo.concurrency>=4.4.0\n    os-brick 4.3.1 depends on oslo.service>=2.5.0\n    os-brick 4.3.1 depends on oslo.serialization>=4.1.0\n    os-brick 4.3.1 depends on oslo.utils>=4.8.0\n    os-brick 4.3.1 depends on pbr>=5.5.1\n    os-brick 4.3.1 depends on requests>=2.25.1\n    os-brick 4.3.1 depends on tenacity>=6.3.1\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nRelated-Bug: #1921381\nChange-Id: I0d5df271dec1c6035229b02ec45e03abad6f27e7\n(cherry picked from commit e5b264bf7b28d3987b4ea30c61da4262aee7e4cd)\n'}]",0,783822,68af588d5c7b5c9472cbc2731fee2956c86206ea,12,5,1,10135,,,0,"Bumping min os-brick ver to 4.3.1

The os-brick 4.3.1 release fixes a critical data loss bug that can be
triggered by reconfiguring [libvirt]/volume_use_multipath while volumes
are attached.

The following requirements and lower-requirements are also bumped as
introduced into os-brick by Ie7dcc859e1291bd1d50b1ae516be38d8732de836:

    os-brick 4.3.1 depends on eventlet>=0.30.1
    os-brick 4.3.1 depends on oslo.concurrency>=4.4.0
    os-brick 4.3.1 depends on oslo.service>=2.5.0
    os-brick 4.3.1 depends on oslo.serialization>=4.1.0
    os-brick 4.3.1 depends on oslo.utils>=4.8.0
    os-brick 4.3.1 depends on pbr>=5.5.1
    os-brick 4.3.1 depends on requests>=2.25.1
    os-brick 4.3.1 depends on tenacity>=6.3.1

Co-Authored-By: Lee Yarwood <lyarwood@redhat.com>
Related-Bug: #1921381
Change-Id: I0d5df271dec1c6035229b02ec45e03abad6f27e7
(cherry picked from commit e5b264bf7b28d3987b4ea30c61da4262aee7e4cd)
",git fetch https://review.opendev.org/openstack/nova refs/changes/22/783822/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,68af588d5c7b5c9472cbc2731fee2956c86206ea,,eventlet==0.30.1os-brick==4.3.1oslo.concurrency==4.4.0oslo.serialization==4.1.0 oslo.service==2.5.0oslo.utils==4.8.0pbr==5.5.1requests==2.25.1tenacity==6.3.1,eventlet==0.26.1os-brick==4.2.0oslo.concurrency==4.3.0oslo.serialization==4.0.1 oslo.service==2.4.0oslo.utils==4.7.0pbr==5.5.0requests==2.23.0tenacity==6.2.0,17,17
openstack%2Fpython-tripleoclient~master~I973ea8c210db477b735a99755332346a646bea19,openstack/python-tripleoclient,master,I973ea8c210db477b735a99755332346a646bea19,Move static-inventory option into parser group,MERGED,2021-03-30 13:21:50.000000000,2021-03-31 15:35:39.000000000,2021-03-31 15:34:12.000000000,"[{'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-03-30 13:21:50.000000000', 'files': ['tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/986f9261119f64fcbfe1c3957ee1c721eed370df', 'message': ""Move static-inventory option into parser group\n\nStatic-inventory should not be in extra_vars_group, this\npatch move this option into parser.\nIt's faling when we want to provide both:\n--static-inventory and --extra-vars option since the\nextra_vars_group is mutually exclusive.\n\nChange-Id: I973ea8c210db477b735a99755332346a646bea19\n""}]",0,783853,986f9261119f64fcbfe1c3957ee1c721eed370df,11,4,1,16515,,,0,"Move static-inventory option into parser group

Static-inventory should not be in extra_vars_group, this
patch move this option into parser.
It's faling when we want to provide both:
--static-inventory and --extra-vars option since the
extra_vars_group is mutually exclusive.

Change-Id: I973ea8c210db477b735a99755332346a646bea19
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/53/783853/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_validator.py'],1,986f9261119f64fcbfe1c3957ee1c721eed370df,vf/static/inv," parser.add_argument( '--static-inventory', action='store', default='', help=_( ""Provide your own static inventory file. You can generate "" ""such an inventory calling tripleo-ansible-inventory command. "" ""Especially useful when heat service isn't available."" ) ) "," extra_vars_group.add_argument( '--static-inventory', action='store', default='', help=_( ""Provide your own static inventory file. You can generate "" ""such an inventory calling tripleo-ansible-inventory command. "" ""Especially useful when heat service isn't available."" ) ) ",12,11
openstack%2Fcinder~master~If28cf471aaeef8207d530dd914d0f63a19bb5941,openstack/cinder,master,If28cf471aaeef8207d530dd914d0f63a19bb5941,Use os-brick 4.3.1,MERGED,2021-03-29 16:08:50.000000000,2021-03-31 15:09:32.000000000,2021-03-31 07:25:12.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 22348}, {'_account_id': 32171}]","[{'number': 1, 'created': '2021-03-29 16:08:50.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9c94ed3c62c23ede8f9b5a5d7779ece374d95430', 'message': 'Use os-brick 4.3.1\n\nUpdate the minimum os-brick version to include a fix addressing\na potential data loss issue.\n\nChange-Id: If28cf471aaeef8207d530dd914d0f63a19bb5941\nRelated-Bug: #1921381\n'}]",0,783701,9c94ed3c62c23ede8f9b5a5d7779ece374d95430,39,5,1,5314,,,0,"Use os-brick 4.3.1

Update the minimum os-brick version to include a fix addressing
a potential data loss issue.

Change-Id: If28cf471aaeef8207d530dd914d0f63a19bb5941
Related-Bug: #1921381
",git fetch https://review.opendev.org/openstack/cinder refs/changes/01/783701/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,9c94ed3c62c23ede8f9b5a5d7779ece374d95430,use-brick-4.3.1,os-brick==4.3.1,os-brick==4.3.0,2,2
openstack%2Freleases~master~Ifd20200159a2f136827a1987606b650a6db5588f,openstack/releases,master,Ifd20200159a2f136827a1987606b650a6db5588f,Avoid PyPI ratelimit on roles retrieval retry,MERGED,2021-03-31 10:39:52.000000000,2021-03-31 15:08:16.000000000,2021-03-31 11:15:04.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-31 10:39:52.000000000', 'files': ['openstack_releases/pythonutils.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/efc876585e56090685914893e092b81ba4bbd86e', 'message': 'Avoid PyPI ratelimit on roles retrieval retry\n\nWhen validating PyPI settings, we retrieve package roles. If that\nretrieval is not successful on the first try, we immediately retry\nwith a canonicalized version of the package. This sometimes hits\nPyPI ratelimits. This patch introduces a one second sleep to avoid\nthat error.\n\nChange-Id: Ifd20200159a2f136827a1987606b650a6db5588f\n'}]",0,784068,efc876585e56090685914893e092b81ba4bbd86e,9,3,1,308,,,0,"Avoid PyPI ratelimit on roles retrieval retry

When validating PyPI settings, we retrieve package roles. If that
retrieval is not successful on the first try, we immediately retry
with a canonicalized version of the package. This sometimes hits
PyPI ratelimits. This patch introduces a one second sleep to avoid
that error.

Change-Id: Ifd20200159a2f136827a1987606b650a6db5588f
",git fetch https://review.opendev.org/openstack/releases refs/changes/68/784068/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_releases/pythonutils.py'],1,efc876585e56090685914893e092b81ba4bbd86e,pypi-ratelimit,"import time # Sleep one second before retrying, to avoid PyPI returning # TooManyRequests and hiding the real issue time.sleep(1)",,4,0
openstack%2Freleases~master~I902d4a57f892c03021c0858b5a3dd3954bbf50c1,openstack/releases,master,I902d4a57f892c03021c0858b5a3dd3954bbf50c1,Release keystone-tempest-plugin for wallaby,MERGED,2021-03-26 16:00:44.000000000,2021-03-31 15:00:24.000000000,2021-03-31 15:00:24.000000000,"[{'_account_id': 308}, {'_account_id': 8556}, {'_account_id': 13861}, {'_account_id': 16465}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-26 16:00:44.000000000', 'files': ['deliverables/wallaby/keystone-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/bc0bb79dcad570de8c9c8ceeddbcaab51b249585', 'message': 'Release keystone-tempest-plugin for wallaby\n\nThis is the automatic release for keystone-tempest-plugin.\nPlease +1 if this is ready to go, or -1 if the team needs a little more\ntime. If so, please update with the new commit hash to use when ready.\n\n$ git log --oneline --no-merges 0.6.0..a6d4cea\na6d4cea Add RBAC tests\n2473e5b Update federation jobs to use ubuntu focal\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I902d4a57f892c03021c0858b5a3dd3954bbf50c1\n'}]",0,783365,bc0bb79dcad570de8c9c8ceeddbcaab51b249585,12,7,1,28522,,,0,"Release keystone-tempest-plugin for wallaby

This is the automatic release for keystone-tempest-plugin.
Please +1 if this is ready to go, or -1 if the team needs a little more
time. If so, please update with the new commit hash to use when ready.

$ git log --oneline --no-merges 0.6.0..a6d4cea
a6d4cea Add RBAC tests
2473e5b Update federation jobs to use ubuntu focal

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I902d4a57f892c03021c0858b5a3dd3954bbf50c1
",git fetch https://review.opendev.org/openstack/releases refs/changes/65/783365/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/keystone-tempest-plugin.yaml'],1,bc0bb79dcad570de8c9c8ceeddbcaab51b249585,wallaby-c-a, - version: 0.7.0 projects: - repo: openstack/keystone-tempest-plugin hash: a6d4ceaf57f3a86be8318b4e84111d71104c28f5,,4,0
openstack%2Fcinder~master~Id0fb2133e767334cd769c852090befa92b605a8b,openstack/cinder,master,Id0fb2133e767334cd769c852090befa92b605a8b,Hitachi: Trace REST API input/output logs,MERGED,2021-02-25 11:52:58.000000000,2021-03-31 15:00:05.000000000,2021-03-10 05:42:27.000000000,"[{'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 28403}, {'_account_id': 30615}, {'_account_id': 32231}, {'_account_id': 32266}]","[{'number': 1, 'created': '2021-02-25 11:52:58.000000000', 'files': ['cinder/volume/drivers/hitachi/hbsd_rest_api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5e5ae07643cd80d97e189a7ac307a0cb59027225', 'message': 'Hitachi: Trace REST API input/output logs\n\nTrace REST API input/output to determine the cause when a problem\noccurs.\n\nChange-Id: Id0fb2133e767334cd769c852090befa92b605a8b\n'}]",0,777578,5e5ae07643cd80d97e189a7ac307a0cb59027225,83,7,1,16373,,,0,"Hitachi: Trace REST API input/output logs

Trace REST API input/output to determine the cause when a problem
occurs.

Change-Id: Id0fb2133e767334cd769c852090befa92b605a8b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/78/777578/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/hitachi/hbsd_rest_api.py'],1,5e5ae07643cd80d97e189a7ac307a0cb59027225,trace_api_log,from cinder.volume import volume_utils @volume_utils.trace,,2,0
openstack%2Fpuppet-ovn~stable%2Ftrain~Iddca7d8942bc52127525847f129eac8ea03934a1,openstack/puppet-ovn,stable/train,Iddca7d8942bc52127525847f129eac8ea03934a1,Set external_ids:ovn-chassis-mac-mappings,MERGED,2021-03-24 14:41:28.000000000,2021-03-31 14:58:22.000000000,2021-03-31 14:56:11.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-24 14:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/05777fc8cbba933031de198446f4873e08dba54b', 'message': 'Set external_ids:ovn-chassis-mac-mappings\n\nFor distributed vlan in ovn we need to add support of\ncreating mac addresses per compute and seting them in\nexternal_ids:ovn-chassis-mac-mappings.\n\nRelated-Bug: #1881593\nCo-Authored-By: Takashi Kajinami <tkajinam@redhat.com>\nChange-Id: Iddca7d8942bc52127525847f129eac8ea03934a1\n(cherry picked from commit 73a1d569220d2601d9446838caaacea4168d5ac4)\n(cherry picked from commit 11f86c7c1671d58ece8268117c3fb3fb4d488e5c)\n(cherry picked from commit f045839031beba6d89754b790ee9098ca7db0ba3)\n'}, {'number': 2, 'created': '2021-03-26 11:35:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/5a8b26f257f7ea1a60228b1e27f83cb2988b9aa9', 'message': 'Set external_ids:ovn-chassis-mac-mappings\n\nFor distributed vlan in ovn we need to add support of\ncreating mac addresses per compute and seting them in\nexternal_ids:ovn-chassis-mac-mappings.\n\nRelated-Bug: #1881593\nCo-Authored-By: Takashi Kajinami <tkajinam@redhat.com>\nChange-Id: Iddca7d8942bc52127525847f129eac8ea03934a1\n(cherry picked from commit 73a1d569220d2601d9446838caaacea4168d5ac4)\n(cherry picked from commit 11f86c7c1671d58ece8268117c3fb3fb4d488e5c)\n(cherry picked from commit f045839031beba6d89754b790ee9098ca7db0ba3)\n'}, {'number': 3, 'created': '2021-03-30 14:52:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/44a1fbbf565df432dd7b1bfc44da1959ede3da7e', 'message': 'Set external_ids:ovn-chassis-mac-mappings\n\nFor distributed vlan in ovn we need to add support of\ncreating mac addresses per compute and seting them in\nexternal_ids:ovn-chassis-mac-mappings.\n\nRelated-Bug: #1881593\nCo-Authored-By: Takashi Kajinami <tkajinam@redhat.com>\nChange-Id: Iddca7d8942bc52127525847f129eac8ea03934a1\nConflicts: manifests/controller.pp\n        spec/classes/ovn_controller_spec.rb\n(cherry picked from commit 73a1d569220d2601d9446838caaacea4168d5ac4)\n(cherry picked from commit 11f86c7c1671d58ece8268117c3fb3fb4d488e5c)\n(cherry picked from commit f045839031beba6d89754b790ee9098ca7db0ba3)\n'}, {'number': 4, 'created': '2021-03-31 02:38:18.000000000', 'files': ['spec/classes/ovn_controller_spec.rb', 'releasenotes/notes/ovn_chassis_mac_map-8ea1fa442ca20522.yaml', 'manifests/controller.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/9bbc14b4f204631c0214f64f1e5eaf12591d398c', 'message': 'Set external_ids:ovn-chassis-mac-mappings\n\nFor distributed vlan in ovn we need to add support of\ncreating mac addresses per compute and seting them in\nexternal_ids:ovn-chassis-mac-mappings.\n\nConflicts:\n\tmanifests/controller.pp\n\tspec/classes/ovn_controller_spec.rb\n\nBackport note to Victoria:\nResolved conflicts caused by the enable_ovn_match_northd parameter[1]\nwhich is not backported to Victoria.\n [1] 392ad7946ef5c7659f9320a3f832245e21f8365f\n\nBackport note to Ussuri:\nResolved conflicts caused by the ovn_transport_zones parameter[2] which\nis not backported to Ussuri.\n [2] dba349dad01edafab4a3fda3b9ad813cce814597\n\nRelated-Bug: #1881593\nCo-Authored-By: Takashi Kajinami <tkajinam@redhat.com>\nChange-Id: Iddca7d8942bc52127525847f129eac8ea03934a1\n(cherry picked from commit 73a1d569220d2601d9446838caaacea4168d5ac4)\n(cherry picked from commit 490f7e56d25f1d3fc6997c313fe18d252252bc4d)\n(cherry picked from commit 74d2389c2a14fa42416a87f88784c58d81144fd1)\n'}]",0,782765,9bbc14b4f204631c0214f64f1e5eaf12591d398c,16,3,4,11082,,,0,"Set external_ids:ovn-chassis-mac-mappings

For distributed vlan in ovn we need to add support of
creating mac addresses per compute and seting them in
external_ids:ovn-chassis-mac-mappings.

Conflicts:
	manifests/controller.pp
	spec/classes/ovn_controller_spec.rb

Backport note to Victoria:
Resolved conflicts caused by the enable_ovn_match_northd parameter[1]
which is not backported to Victoria.
 [1] 392ad7946ef5c7659f9320a3f832245e21f8365f

Backport note to Ussuri:
Resolved conflicts caused by the ovn_transport_zones parameter[2] which
is not backported to Ussuri.
 [2] dba349dad01edafab4a3fda3b9ad813cce814597

Related-Bug: #1881593
Co-Authored-By: Takashi Kajinami <tkajinam@redhat.com>
Change-Id: Iddca7d8942bc52127525847f129eac8ea03934a1
(cherry picked from commit 73a1d569220d2601d9446838caaacea4168d5ac4)
(cherry picked from commit 490f7e56d25f1d3fc6997c313fe18d252252bc4d)
(cherry picked from commit 74d2389c2a14fa42416a87f88784c58d81144fd1)
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/65/782765/4 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ovn_controller_spec.rb', 'releasenotes/notes/ovn_chassis_mac_map-8ea1fa442ca20522.yaml', 'manifests/controller.pp']",3,05777fc8cbba933031de198446f4873e08dba54b,ovn-distributed-vlan-traffic,"# [*ovn_chassis_mac_map*] # (optional) A list or a hash of key-value pairs that map a chassis specific mac to # a physical network name. An example value mapping two chassis macs to # two physical network names would be: # physnet1:aa:bb:cc:dd:ee:ff,physnet2:a1:b2:c3:d4:e5:f6 or # { # physnet1 => aa:bb:cc:dd:ee:ff, # physnet2 => a1:b2:c3:d4:e5:f6 # } # These are the macs that ovn-controller will replace a router port # mac with, if packet is going from a distributed router port on # vlan type logical switch. # Defaults to empty list # >>>>>>> 11f86c7 (Set external_ids:ovn-chassis-mac-mappings) $ovn_chassis_mac_map = [], if !empty($ovn_chassis_mac_map) { if $ovn_chassis_mac_map =~ Hash { $chassis_mac_map = { 'external_ids:ovn-chassis-mac-mappings' => { 'value' => join(join_keys_to_values($ovn_chassis_mac_map, ':'), ',') } } } else { $chassis_mac_map = { 'external_ids:ovn-chassis-mac-mappings' => { 'value' => join(any2array($ovn_chassis_mac_map), ',') } } } } else { $chassis_mac_map = {} } create_resources('vs_config', merge($config_items, $chassis_mac_map, $bridge_items, $hw_offload, $datapath_config)) "," create_resources('vs_config', merge($config_items, $bridge_items, $hw_offload, $datapath_config))",61,1
openstack%2Fpuppet-barbican~stable%2Fvictoria~Idf9dc70cd68d4e594119efcd2a3c3a0e56621c96,openstack/puppet-barbican,stable/victoria,Idf9dc70cd68d4e594119efcd2a3c3a0e56621c96,Add support for always_set_cka_sensitive parameter,MERGED,2021-03-23 14:23:05.000000000,2021-03-31 14:56:24.000000000,2021-03-31 14:54:58.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 19234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-23 14:23:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/91c42c55f28b83c916ebc1eedae25c27df5b1eda', 'message': 'Add support for always_set_cka_sensitive parameter\n\nSome time ago BarbicanPkcs11AlwaysSetCkaSensitive option was\nadded to tripleo-heat-templates. change:\nIf3fa975e8243dfe30ef67ec81db891943a94a9d5\n\nAt the same time, it looks like relevant change was not added\nto puppet-barbican project. This patch adds missing parameter\nto barbican::plugins::p11_crypto class.\n\nPartial-bug: #1916386\nChange-Id: Idf9dc70cd68d4e594119efcd2a3c3a0e56621c96\n(cherry picked from commit 27b1cc2735264556c372c7ea5d02f7164fdfcb68)\n'}, {'number': 2, 'created': '2021-03-23 14:25:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/c8ecc1f0f9a0009fb6dd578eee552389cfb75d4f', 'message': 'Add support for always_set_cka_sensitive parameter\n\nSome time ago BarbicanPkcs11AlwaysSetCkaSensitive option was\nadded to tripleo-heat-templates. change:\nIf3fa975e8243dfe30ef67ec81db891943a94a9d5\n\nAt the same time, it looks like relevant change was not added\nto puppet-barbican project. This patch adds missing parameter\nto barbican::plugins::p11_crypto class.\n\nPartial-bug: #1916386\nChange-Id: Idf9dc70cd68d4e594119efcd2a3c3a0e56621c96\n(cherry picked from commit 27b1cc2735264556c372c7ea5d02f7164fdfcb68)\n'}, {'number': 3, 'created': '2021-03-27 19:02:02.000000000', 'files': ['manifests/plugins/p11_crypto.pp', 'releasenotes/notes/p11_crypto_plugin_always_set_cka_sensitive-1c9a9b9726c3cf93.yaml', 'spec/classes/barbican_plugins_p11_crypto_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/b44996d6c2d1d78543b5e00ba5f9968fba44639e', 'message': 'Add support for always_set_cka_sensitive parameter\n\nSome time ago BarbicanPkcs11AlwaysSetCkaSensitive option was\nadded to tripleo-heat-templates. change:\nIf3fa975e8243dfe30ef67ec81db891943a94a9d5\n\nAt the same time, it looks like relevant change was not added\nto puppet-barbican project. This patch adds missing parameter\nto barbican::plugins::p11_crypto class.\n\nBackport note:\nThis backport includes the subsequent commit[1] which added\na unit test case for the new parameter.\n\n [1] d7e27eb854185ed3b28b07127cca7dbbb87f57b4\n\nPartial-bug: #1916386\nChange-Id: Idf9dc70cd68d4e594119efcd2a3c3a0e56621c96\n(cherry picked from commit 27b1cc2735264556c372c7ea5d02f7164fdfcb68)\n'}]",0,782530,b44996d6c2d1d78543b5e00ba5f9968fba44639e,21,4,3,19234,,,0,"Add support for always_set_cka_sensitive parameter

Some time ago BarbicanPkcs11AlwaysSetCkaSensitive option was
added to tripleo-heat-templates. change:
If3fa975e8243dfe30ef67ec81db891943a94a9d5

At the same time, it looks like relevant change was not added
to puppet-barbican project. This patch adds missing parameter
to barbican::plugins::p11_crypto class.

Backport note:
This backport includes the subsequent commit[1] which added
a unit test case for the new parameter.

 [1] d7e27eb854185ed3b28b07127cca7dbbb87f57b4

Partial-bug: #1916386
Change-Id: Idf9dc70cd68d4e594119efcd2a3c3a0e56621c96
(cherry picked from commit 27b1cc2735264556c372c7ea5d02f7164fdfcb68)
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/30/782530/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/plugins/p11_crypto.pp'],1,91c42c55f28b83c916ebc1eedae25c27df5b1eda,bug/1916386,"# [*p11_crypto_plugin_always_set_cka_sensitive*] # (optional) Always set CKA_SENSITIVE when generating keys. # In some HSMs extractable keys cannot be marked sensitive. # Defaults to $::os_service_default # $p11_crypto_plugin_always_set_cka_sensitive = $::os_service_default, 'p11_crypto_plugin/always_set_cka_sensitive': value => $p11_crypto_plugin_always_set_cka_sensitive;",,7,0
openstack%2Freleases~master~I86947be6f5d97aadd78332e8e3eb8b9c53bc0f19,openstack/releases,master,I86947be6f5d97aadd78332e8e3eb8b9c53bc0f19,Release cinder-tempest-plugin for wallaby,ABANDONED,2021-03-26 15:54:21.000000000,2021-03-31 14:37:10.000000000,,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-26 15:54:21.000000000', 'files': ['deliverables/wallaby/cinder-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/11e13daacb8cba03c32aa47781d2cdef7f46e0e1', 'message': 'Release cinder-tempest-plugin for wallaby\n\nThis is the automatic release for cinder-tempest-plugin.\nPlease +1 if this is ready to go, or -1 if the team needs a little more\ntime. If so, please update with the new commit hash to use when ready.\n\n$ git log --oneline --no-merges 1.4.0..cc7e74b\n1ee1efc Set CINDER_ISCSI_HELPER explicitly for tgtadm job\n103c2f7 zuul: Add nova-ceph-multistore as a non-voting job\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I86947be6f5d97aadd78332e8e3eb8b9c53bc0f19\n'}]",0,783351,11e13daacb8cba03c32aa47781d2cdef7f46e0e1,6,4,1,28522,,,0,"Release cinder-tempest-plugin for wallaby

This is the automatic release for cinder-tempest-plugin.
Please +1 if this is ready to go, or -1 if the team needs a little more
time. If so, please update with the new commit hash to use when ready.

$ git log --oneline --no-merges 1.4.0..cc7e74b
1ee1efc Set CINDER_ISCSI_HELPER explicitly for tgtadm job
103c2f7 zuul: Add nova-ceph-multistore as a non-voting job

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I86947be6f5d97aadd78332e8e3eb8b9c53bc0f19
",git fetch https://review.opendev.org/openstack/releases refs/changes/51/783351/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/cinder-tempest-plugin.yaml'],1,11e13daacb8cba03c32aa47781d2cdef7f46e0e1,wallaby-c-a, - version: 1.5.0 projects: - repo: openstack/cinder-tempest-plugin hash: cc7e74b163b0356461fcc38af53df87834c637f2,,4,0
openstack%2Fkayobe~stable%2Ftrain~I18f67eda4e48058f3f402b9d0e692d6eeb02855f,openstack/kayobe,stable/train,I18f67eda4e48058f3f402b9d0e692d6eeb02855f,Avoid fact gathering for group_by,MERGED,2021-03-30 09:21:50.000000000,2021-03-31 14:33:52.000000000,2021-03-31 14:31:52.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-03-30 09:21:50.000000000', 'files': ['ansible/physical-network.yml', 'ansible/overcloud-bios-raid.yml', 'ansible/overcloud-grafana-configure.yml', 'ansible/provision-net.yml', 'ansible/overcloud-ipa-build.yml', 'ansible/overcloud-ipa-images.yml', 'ansible/overcloud-introspection-rules-dell-lldp-workaround.yml', 'ansible/kayobe-ansible-user.yml', 'ansible/overcloud-introspection-rules.yml', 'ansible/kolla-openstack.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/754f5684286511ba0b883b05d0f4e8bb2cf85dd4', 'message': ""Avoid fact gathering for group_by\n\nThere are a few places where we have a play with one task that uses the\ngroup_by module to generate groups that are used in a subsequent play.\nThese plays do not need to gather facts for their target hosts.\n\nIn particular, the kolla-openstack.yml playbook should really be able to\noperate without access to remote hosts.\n\nThis change also adds changed_when: false to all group_by tasks, since\nthey show as changed but haven't really made any changes outside of\nAnsible.\n\nTrivialFix\n\nChange-Id: I18f67eda4e48058f3f402b9d0e692d6eeb02855f\n(cherry picked from commit 388dfa369c9608f252dc946123c1801999931f6f)\n""}]",0,783694,754f5684286511ba0b883b05d0f4e8bb2cf85dd4,12,3,1,14826,,,0,"Avoid fact gathering for group_by

There are a few places where we have a play with one task that uses the
group_by module to generate groups that are used in a subsequent play.
These plays do not need to gather facts for their target hosts.

In particular, the kolla-openstack.yml playbook should really be able to
operate without access to remote hosts.

This change also adds changed_when: false to all group_by tasks, since
they show as changed but haven't really made any changes outside of
Ansible.

TrivialFix

Change-Id: I18f67eda4e48058f3f402b9d0e692d6eeb02855f
(cherry picked from commit 388dfa369c9608f252dc946123c1801999931f6f)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/94/783694/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/physical-network.yml', 'ansible/overcloud-bios-raid.yml', 'ansible/overcloud-grafana-configure.yml', 'ansible/provision-net.yml', 'ansible/overcloud-ipa-build.yml', 'ansible/overcloud-ipa-images.yml', 'ansible/overcloud-introspection-rules-dell-lldp-workaround.yml', 'ansible/kayobe-ansible-user.yml', 'ansible/overcloud-introspection-rules.yml', 'ansible/kolla-openstack.yml']",10,754f5684286511ba0b883b05d0f4e8bb2cf85dd4,, gather_facts: False changed_when: false gather_facts: False,,20,6
openstack%2Fpuppet-ovn~stable%2Fussuri~Iddca7d8942bc52127525847f129eac8ea03934a1,openstack/puppet-ovn,stable/ussuri,Iddca7d8942bc52127525847f129eac8ea03934a1,Set external_ids:ovn-chassis-mac-mappings,MERGED,2021-03-24 14:39:34.000000000,2021-03-31 14:25:06.000000000,2021-03-31 14:22:39.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-24 14:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/f045839031beba6d89754b790ee9098ca7db0ba3', 'message': 'Set external_ids:ovn-chassis-mac-mappings\n\nFor distributed vlan in ovn we need to add support of\ncreating mac addresses per compute and seting them in\nexternal_ids:ovn-chassis-mac-mappings.\n\nRelated-Bug: #1881593\nCo-Authored-By: Takashi Kajinami <tkajinam@redhat.com>\nChange-Id: Iddca7d8942bc52127525847f129eac8ea03934a1\n(cherry picked from commit 73a1d569220d2601d9446838caaacea4168d5ac4)\n(cherry picked from commit 11f86c7c1671d58ece8268117c3fb3fb4d488e5c)\n'}, {'number': 2, 'created': '2021-03-26 11:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/237cf4a40b8c0df642226a51bbf12c0f5010c96a', 'message': 'Set external_ids:ovn-chassis-mac-mappings\n\nFor distributed vlan in ovn we need to add support of\ncreating mac addresses per compute and seting them in\nexternal_ids:ovn-chassis-mac-mappings.\n\nRelated-Bug: #1881593\nCo-Authored-By: Takashi Kajinami <tkajinam@redhat.com>\nChange-Id: Iddca7d8942bc52127525847f129eac8ea03934a1\n(cherry picked from commit 73a1d569220d2601d9446838caaacea4168d5ac4)\n(cherry picked from commit 11f86c7c1671d58ece8268117c3fb3fb4d488e5c)\n'}, {'number': 3, 'created': '2021-03-30 14:50:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/cdbe62388edf1714193f936e5b759445a95ffadf', 'message': 'Set external_ids:ovn-chassis-mac-mappings\n\nFor distributed vlan in ovn we need to add support of\ncreating mac addresses per compute and seting them in\nexternal_ids:ovn-chassis-mac-mappings.\n\nRelated-Bug: #1881593\nCo-Authored-By: Takashi Kajinami <tkajinam@redhat.com>\nChange-Id: Iddca7d8942bc52127525847f129eac8ea03934a1\nConflicts: manifests/controller.pp\n        spec/classes/ovn_controller_spec.rb\n(cherry picked from commit 73a1d569220d2601d9446838caaacea4168d5ac4)\n(cherry picked from commit 11f86c7c1671d58ece8268117c3fb3fb4d488e5c)\n'}, {'number': 4, 'created': '2021-03-31 02:35:14.000000000', 'files': ['spec/classes/ovn_controller_spec.rb', 'releasenotes/notes/ovn_chassis_mac_map-8ea1fa442ca20522.yaml', 'manifests/controller.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/74d2389c2a14fa42416a87f88784c58d81144fd1', 'message': 'Set external_ids:ovn-chassis-mac-mappings\n\nFor distributed vlan in ovn we need to add support of\ncreating mac addresses per compute and seting them in\nexternal_ids:ovn-chassis-mac-mappings.\n\nConflicts:\n\tmanifests/controller.pp\n\tspec/classes/ovn_controller_spec.rb\n\nBackport note to Victoria:\nResolved conflicts caused by the enable_ovn_match_northd parameter[1]\nwhich is not backported to Victoria.\n [1] 392ad7946ef5c7659f9320a3f832245e21f8365f\n\nBackport note to Ussuri:\nResolved conflicts caused by the ovn_transport_zones parameter[2] which\nis not backported to Ussuri.\n [2] dba349dad01edafab4a3fda3b9ad813cce814597\n\nRelated-Bug: #1881593\nCo-Authored-By: Takashi Kajinami <tkajinam@redhat.com>\nChange-Id: Iddca7d8942bc52127525847f129eac8ea03934a1\n(cherry picked from commit 73a1d569220d2601d9446838caaacea4168d5ac4)\n(cherry picked from commit 490f7e56d25f1d3fc6997c313fe18d252252bc4d)\n'}]",1,782763,74d2389c2a14fa42416a87f88784c58d81144fd1,17,3,4,11082,,,0,"Set external_ids:ovn-chassis-mac-mappings

For distributed vlan in ovn we need to add support of
creating mac addresses per compute and seting them in
external_ids:ovn-chassis-mac-mappings.

Conflicts:
	manifests/controller.pp
	spec/classes/ovn_controller_spec.rb

Backport note to Victoria:
Resolved conflicts caused by the enable_ovn_match_northd parameter[1]
which is not backported to Victoria.
 [1] 392ad7946ef5c7659f9320a3f832245e21f8365f

Backport note to Ussuri:
Resolved conflicts caused by the ovn_transport_zones parameter[2] which
is not backported to Ussuri.
 [2] dba349dad01edafab4a3fda3b9ad813cce814597

Related-Bug: #1881593
Co-Authored-By: Takashi Kajinami <tkajinam@redhat.com>
Change-Id: Iddca7d8942bc52127525847f129eac8ea03934a1
(cherry picked from commit 73a1d569220d2601d9446838caaacea4168d5ac4)
(cherry picked from commit 490f7e56d25f1d3fc6997c313fe18d252252bc4d)
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/63/782763/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ovn_controller_spec.rb', 'releasenotes/notes/ovn_chassis_mac_map-8ea1fa442ca20522.yaml', 'manifests/controller.pp']",3,f045839031beba6d89754b790ee9098ca7db0ba3,ovn-distributed-vlan-traffic,"# [*ovn_chassis_mac_map*] # (optional) A list or a hash of key-value pairs that map a chassis specific mac to # a physical network name. An example value mapping two chassis macs to # two physical network names would be: # physnet1:aa:bb:cc:dd:ee:ff,physnet2:a1:b2:c3:d4:e5:f6 or # { # physnet1 => aa:bb:cc:dd:ee:ff, # physnet2 => a1:b2:c3:d4:e5:f6 # } # These are the macs that ovn-controller will replace a router port # mac with, if packet is going from a distributed router port on # vlan type logical switch. # Defaults to empty list # >>>>>>> 11f86c7 (Set external_ids:ovn-chassis-mac-mappings) $ovn_chassis_mac_map = [], if !empty($ovn_chassis_mac_map) { if $ovn_chassis_mac_map =~ Hash { $chassis_mac_map = { 'external_ids:ovn-chassis-mac-mappings' => { 'value' => join(join_keys_to_values($ovn_chassis_mac_map, ':'), ',') } } } else { $chassis_mac_map = { 'external_ids:ovn-chassis-mac-mappings' => { 'value' => join(any2array($ovn_chassis_mac_map), ',') } } } } else { $chassis_mac_map = {} } create_resources('vs_config', merge($config_items, $chassis_mac_map, $bridge_items, $hw_offload, $datapath_config)) "," create_resources('vs_config', merge($config_items, $bridge_items, $hw_offload, $datapath_config))",61,1
openstack%2Fcharm-guide~master~Ia697e40cd230084269c061e3895932a2ee19615b,openstack/charm-guide,master,Ia697e40cd230084269c061e3895932a2ee19615b,Release note openstack-dashboard/use-internal-endpoints,MERGED,2021-03-30 13:56:33.000000000,2021-03-31 14:20:48.000000000,2021-03-31 14:18:30.000000000,"[{'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 30561}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-30 13:56:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/b4c40028953f8744c7c62f05cb2156bd42853424', 'message': 'Release note openstack-dashboard/use-internal-endpoints\n\nChange-Id: Ia697e40cd230084269c061e3895932a2ee19615b\nCloses-Bug: #1812361\n'}, {'number': 2, 'created': '2021-03-30 16:44:15.000000000', 'files': ['doc/source/2104.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/2d00b83ff65322137e7b66766950eab138ef9349', 'message': ""Release note openstack-dashboard/use-internal-endpoints\n\nAdd an item for the openstack-dashboard charm. It gains\na new option (``use-internal-endpoints``) that affects\nHorizon's connectivity with Keystone.\n\nChange-Id: Ia697e40cd230084269c061e3895932a2ee19615b\nCloses-Bug: #1812361\n""}]",4,783879,2d00b83ff65322137e7b66766950eab138ef9349,12,4,2,31289,,,0,"Release note openstack-dashboard/use-internal-endpoints

Add an item for the openstack-dashboard charm. It gains
a new option (``use-internal-endpoints``) that affects
Horizon's connectivity with Keystone.

Change-Id: Ia697e40cd230084269c061e3895932a2ee19615b
Closes-Bug: #1812361
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/79/783879/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/2104.rst'],1,b4c40028953f8744c7c62f05cb2156bd42853424,bug/1812361,openstack-dashboard charm: use-internal-endpoints ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The openstack-dashboard charm has a new configuration option: ``use-internal-endpoints``. When set to true the charm will reach other services (e.g. Keystone) over their internal endpoints instead of their public endpoints. This option is already available in other charms like nova-cloud-controller and heat. ,,11,0
openstack%2Fneutron-vpnaas~master~Ia5458bbbb38b1d645547baf56ce3bb5ee2a97781,openstack/neutron-vpnaas,master,Ia5458bbbb38b1d645547baf56ce3bb5ee2a97781,Add ipsec.secrets reload function to strongSwan driver,MERGED,2021-03-26 15:32:21.000000000,2021-03-31 14:09:40.000000000,2021-03-31 14:07:49.000000000,"[{'_account_id': 841}, {'_account_id': 11975}, {'_account_id': 12860}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-26 15:32:21.000000000', 'files': ['neutron_vpnaas/services/vpn/device_drivers/strongswan_ipsec.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/2297098875f24289259f12012ab5f077d6051383', 'message': 'Add ipsec.secrets reload function to strongSwan driver\n\nCurrently, strongSwan driver only triggers ""ipsec reload"" command\nwhen a new IPsec Site Connection configuration is received. If that\nconfiguration uses a different PSK, it will not be picked up upon\nreload called by restart() function. This change introduces a separate\nreload_secrets() function which will call ""ipsec rereadsecrets"" before\n""ipsec reload"".\n\nCloses-Bug: #1921514\nChange-Id: Ia5458bbbb38b1d645547baf56ce3bb5ee2a97781\n'}]",0,783331,2297098875f24289259f12012ab5f077d6051383,18,5,1,33280,,,0,"Add ipsec.secrets reload function to strongSwan driver

Currently, strongSwan driver only triggers ""ipsec reload"" command
when a new IPsec Site Connection configuration is received. If that
configuration uses a different PSK, it will not be picked up upon
reload called by restart() function. This change introduces a separate
reload_secrets() function which will call ""ipsec rereadsecrets"" before
""ipsec reload"".

Closes-Bug: #1921514
Change-Id: Ia5458bbbb38b1d645547baf56ce3bb5ee2a97781
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/31/783331/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_vpnaas/services/vpn/device_drivers/strongswan_ipsec.py'],1,2297098875f24289259f12012ab5f077d6051383,bug/1921514," self.reload_secrets() def reload_secrets(self): """"""Reload the ipsec.secrets file. Flushes and rereads all secrets defined in ipsec.secrets. This needs to be done each time when a new site connection is associated with a VPN service which already hosts a site connection - 'ipsec reload' does not reload the secrets and new connections will not authenticate properly. """""" self._execute([self.binary, 'rereadsecrets']) ",,12,0
openstack%2Fpython-openstackclient~master~Iab866badaf0046ea1cdbc485bc9031be95969427,openstack/python-openstackclient,master,Iab866badaf0046ea1cdbc485bc9031be95969427,Add rule parameter in openstackclient,ABANDONED,2021-03-31 13:18:54.000000000,2021-03-31 14:03:59.000000000,,[],"[{'number': 1, 'created': '2021-03-31 13:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/8ce82afcef021f6e75f2aece54d275cc627dc736', 'message': 'Add rule parameter in openstackclient\n\nAdd rule parameter in openstackclient as it was implemented in nova\nmicroversion 2.64.  novaclient have it but not openstackclient.\n\nChange-Id: Iab866badaf0046ea1cdbc485bc9031be95969427\n'}, {'number': 2, 'created': '2021-03-31 14:03:11.000000000', 'files': ['openstackclient/compute/v2/server_group.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/9a59bf2e13af3710bf43900b25c93fec1564cca2', 'message': 'Add rule parameter in openstackclient\n\nAdd rule parameter in openstackclient as it was implemented in nova\nmicroversion 2.64.  novaclient have it but not openstackclient.\n\nChange-Id: Iab866badaf0046ea1cdbc485bc9031be95969427\n'}]",0,784100,9a59bf2e13af3710bf43900b25c93fec1564cca2,3,0,2,7130,,,0,"Add rule parameter in openstackclient

Add rule parameter in openstackclient as it was implemented in nova
microversion 2.64.  novaclient have it but not openstackclient.

Change-Id: Iab866badaf0046ea1cdbc485bc9031be95969427
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/00/784100/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/compute/v2/server_group.py'],1,8ce82afcef021f6e75f2aece54d275cc627dc736,rule," parser.add_argument( '--rule', metavar='<rule>', choices=[ 'max_server_per_host', ], default='max_server_per_host', help=_( ""Add a rule to policy <name> "" ""Specify --os-compute-api-version 2.64 or higher for the "" ""'soft-affinity' rule."" ) )",,13,0
openstack%2Ftripleo-validations~master~Icb1931d77ba5105d26ab38650f87d88f9397380f,openstack/tripleo-validations,master,Icb1931d77ba5105d26ab38650f87d88f9397380f,Use MultiKeyActionValue action for extra-[env-]vars arguments,ABANDONED,2021-03-19 17:37:50.000000000,2021-03-31 13:55:31.000000000,,"[{'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-03-19 17:37:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b3b5566210e6d9a08fd7dad2c7fa9b42decf874a', 'message': 'correct inconsistency in the CLI UI\n\n--extra-vars is incorrect; our docs point to --extra-env-vars, which is\nthe new convention.\n\nThis patch fixes what looks like an oversight in the tripleo validations\nCLI\n\nChange-Id: Icb1931d77ba5105d26ab38650f87d88f9397380f\n'}, {'number': 2, 'created': '2021-03-19 17:46:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/fa4b34739de498141f30b2af291b180a60dcc905', 'message': 'correct inconsistency in the CLI UI\n\n--extra-vars is incorrect; our docs point to --extra-env-vars, which is\nthe new convention.\n\nThis patch fixes what looks like an oversight in the tripleo validations\nCLI\n\nChange-Id: Icb1931d77ba5105d26ab38650f87d88f9397380f\n'}, {'number': 3, 'created': '2021-03-20 21:20:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/3002b284279ce972cd288a8a2c34c958dbf13012', 'message': ""Use MultiKeyActionValue action for extra-[env-]vars arguments\n\nThis patch adds the ability to pass extra variables and extra\nenvironment variables to the Ansible execution as\nkey1=value1,key2=value2 instead of using a dict.\n\nThis action ensure that ``dest`` is a list. The list will finally\ncontain multiple dicts, with key=value pairs in them.\n\nNOTE: The arguments string should be a comma separated key-value pairs.\nAnd comma(',') and equal('=') may not be used in the key or value.\n\nFinally, this change will make the CLI easier to use and faster to type.\n\nCo-Authored-By: Gaël Chamoulaud <gchamoul@redhat.com>\nCo-Authored-By: David J. Peacock <dpeacock@redhat.com>\n\nChange-Id: Icb1931d77ba5105d26ab38650f87d88f9397380f\n""}, {'number': 4, 'created': '2021-03-21 07:17:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/3880b9addb1dc022b217c253d102459b721f6269', 'message': 'Use MultiKeyActionValue action for extra-[env-]vars arguments\n\nThis patch adds the ability to pass extra variables and extra\nenvironment variables to the Ansible execution as\nkey1=value1,key2=value2 instead of using a dict.\n\nThis action ensure that ``dest`` is a list. The list will finally\ncontain multiple dicts, with key=value pairs in them.\n\nFinally, this change will make the CLI easier to use and faster to type.\n\nCo-Authored-By: Gaël Chamoulaud <gchamoul@redhat.com>\nCo-Authored-By: David J. Peacock <dpeacock@redhat.com>\n\nChange-Id: Icb1931d77ba5105d26ab38650f87d88f9397380f\n'}, {'number': 5, 'created': '2021-03-24 14:06:42.000000000', 'files': ['tripleo_validations/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7804a1fe1167c433cc896b4bdd71abdadaab6034', 'message': 'Use MultiKeyActionValue action for extra-[env-]vars arguments\n\nThis patch adds the ability to pass extra variables and extra\nenvironment variables to the Ansible execution as\nkey1=value1,key2=value2 instead of using a dict.\n\nThis action ensure that ``dest`` is a list. The list will finally\ncontain multiple dicts, with key=value pairs in them.\n\nThis patch also enables the Ansible execution verbosity when using a\ndifferent callback by passing --extra-env-vars\nANSIBLE_STDOUT_CALLBACK=default in the command line.\n\nFinally, this change will make the CLI easier to use and faster to type.\n\nCo-Authored-By: Gaël Chamoulaud <gchamoul@redhat.com>\nCo-Authored-By: David J. Peacock <dpeacock@redhat.com>\n\nChange-Id: Icb1931d77ba5105d26ab38650f87d88f9397380f\n'}]",12,781831,7804a1fe1167c433cc896b4bdd71abdadaab6034,24,5,5,27427,,,0,"Use MultiKeyActionValue action for extra-[env-]vars arguments

This patch adds the ability to pass extra variables and extra
environment variables to the Ansible execution as
key1=value1,key2=value2 instead of using a dict.

This action ensure that ``dest`` is a list. The list will finally
contain multiple dicts, with key=value pairs in them.

This patch also enables the Ansible execution verbosity when using a
different callback by passing --extra-env-vars
ANSIBLE_STDOUT_CALLBACK=default in the command line.

Finally, this change will make the CLI easier to use and faster to type.

Co-Authored-By: Gaël Chamoulaud <gchamoul@redhat.com>
Co-Authored-By: David J. Peacock <dpeacock@redhat.com>

Change-Id: Icb1931d77ba5105d26ab38650f87d88f9397380f
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/31/781831/3 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_validations/tripleo_validator.py'],1,b3b5566210e6d9a08fd7dad2c7fa9b42decf874a,extra-env-vars," '--extra-env-vars', ""--extra-envs-vars '{\""min_undercloud_ram_gb\"": 24}'"")"," '--extra-vars', ""--extra-vars '{\""min_undercloud_ram_gb\"": 24}'"")",2,2
openstack%2Fpuppet-ovn~stable%2Fvictoria~Iddca7d8942bc52127525847f129eac8ea03934a1,openstack/puppet-ovn,stable/victoria,Iddca7d8942bc52127525847f129eac8ea03934a1,Set external_ids:ovn-chassis-mac-mappings,MERGED,2021-03-24 14:22:50.000000000,2021-03-31 13:47:43.000000000,2021-03-31 13:45:44.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-24 14:22:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/b53bd05f076bd39e42d8d558917c03ea784d99b8', 'message': 'Set external_ids:ovn-chassis-mac-mappings\n\nFor distributed vlan in ovn we need to add support of\ncreating mac addresses per compute and seting them in\nexternal_ids:ovn-chassis-mac-mappings.\n\nRelated-Bug: #1881593\nCo-Authored-By: Takashi Kajinami <tkajinam@redhat.com>\nChange-Id: Iddca7d8942bc52127525847f129eac8ea03934a1\n(cherry picked from commit 73a1d569220d2601d9446838caaacea4168d5ac4)\n'}, {'number': 2, 'created': '2021-03-24 14:32:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/11f86c7c1671d58ece8268117c3fb3fb4d488e5c', 'message': 'Set external_ids:ovn-chassis-mac-mappings\n\nFor distributed vlan in ovn we need to add support of\ncreating mac addresses per compute and seting them in\nexternal_ids:ovn-chassis-mac-mappings.\n\nRelated-Bug: #1881593\nCo-Authored-By: Takashi Kajinami <tkajinam@redhat.com>\nChange-Id: Iddca7d8942bc52127525847f129eac8ea03934a1\n(cherry picked from commit 73a1d569220d2601d9446838caaacea4168d5ac4)\n'}, {'number': 3, 'created': '2021-03-30 14:44:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/a1e35cd07929409a2738aaf02d0b71e4726d0203', 'message': 'Set external_ids:ovn-chassis-mac-mappings\n\nFor distributed vlan in ovn we need to add support of\ncreating mac addresses per compute and seting them in\nexternal_ids:ovn-chassis-mac-mappings.\n\nRelated-Bug: #1881593\nCo-Authored-By: Takashi Kajinami <tkajinam@redhat.com>\nChange-Id: Iddca7d8942bc52127525847f129eac8ea03934a1\nConflicts: manifests/controller.pp\n        spec/classes/ovn_controller_spec.rb\n(cherry picked from commit 73a1d569220d2601d9446838caaacea4168d5ac4)\n'}, {'number': 4, 'created': '2021-03-30 14:45:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/60535083c0377a633ff5f0130f0d7b4971f9a43c', 'message': 'Set external_ids:ovn-chassis-mac-mappings\n\nFor distributed vlan in ovn we need to add support of\ncreating mac addresses per compute and seting them in\nexternal_ids:ovn-chassis-mac-mappings.\n\nRelated-Bug: #1881593\nCo-Authored-By: Takashi Kajinami <tkajinam@redhat.com>\nChange-Id: Iddca7d8942bc52127525847f129eac8ea03934a1\nConflicts: manifests/controller.pp\n        spec/classes/ovn_controller_spec.rb\n(cherry picked from commit 73a1d569220d2601d9446838caaacea4168d5ac4)\n'}, {'number': 5, 'created': '2021-03-31 02:29:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/85b342a566970a04146ba14202f58706f8ba3fc4', 'message': 'Set external_ids:ovn-chassis-mac-mappings\n\nFor distributed vlan in ovn we need to add support of\ncreating mac addresses per compute and seting them in\nexternal_ids:ovn-chassis-mac-mappings.\n\nConflicts:\n\tmanifests/controller.pp\n\tspec/classes/ovn_controller_spec.rb\n\nBackport note to Victoria:\nResolved conflict caused by the enable_ovn_match_northd parameter[1]\nwhich is not backported to Victoria.\n [1] 392ad7946ef5c7659f9320a3f832245e21f8365f\n\nRelated-Bug: #1881593\nCo-Authored-By: Takashi Kajinami <tkajinam@redhat.com>\nChange-Id: Iddca7d8942bc52127525847f129eac8ea03934a1\n(cherry picked from commit 73a1d569220d2601d9446838caaacea4168d5ac4)\n'}, {'number': 6, 'created': '2021-03-31 02:30:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/2124a35342b02e6d8a66122c1c94eafe579add92', 'message': 'Set external_ids:ovn-chassis-mac-mappings\n\nFor distributed vlan in ovn we need to add support of\ncreating mac addresses per compute and seting them in\nexternal_ids:ovn-chassis-mac-mappings.\n\nConflicts:\n\tmanifests/controller.pp\n\tspec/classes/ovn_controller_spec.rb\n\nBackport note to Victoria:\nResolved conflict caused by the enable_ovn_match_northd parameter[1]\nwhich is not backported to Victoria.\n [1] 392ad7946ef5c7659f9320a3f832245e21f8365f\n\nRelated-Bug: #1881593\nCo-Authored-By: Takashi Kajinami <tkajinam@redhat.com>\nChange-Id: Iddca7d8942bc52127525847f129eac8ea03934a1\n(cherry picked from commit 73a1d569220d2601d9446838caaacea4168d5ac4)\n'}, {'number': 7, 'created': '2021-03-31 02:32:04.000000000', 'files': ['spec/classes/ovn_controller_spec.rb', 'releasenotes/notes/ovn_chassis_mac_map-8ea1fa442ca20522.yaml', 'manifests/controller.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/490f7e56d25f1d3fc6997c313fe18d252252bc4d', 'message': 'Set external_ids:ovn-chassis-mac-mappings\n\nFor distributed vlan in ovn we need to add support of\ncreating mac addresses per compute and seting them in\nexternal_ids:ovn-chassis-mac-mappings.\n\nConflicts:\n\tmanifests/controller.pp\n\tspec/classes/ovn_controller_spec.rb\n\nBackport note to Victoria:\nResolved conflicts caused by the enable_ovn_match_northd parameter[1]\nwhich is not backported to Victoria.\n [1] 392ad7946ef5c7659f9320a3f832245e21f8365f\n\nRelated-Bug: #1881593\nCo-Authored-By: Takashi Kajinami <tkajinam@redhat.com>\nChange-Id: Iddca7d8942bc52127525847f129eac8ea03934a1\n(cherry picked from commit 73a1d569220d2601d9446838caaacea4168d5ac4)\n'}]",2,782759,490f7e56d25f1d3fc6997c313fe18d252252bc4d,20,3,7,11082,,,0,"Set external_ids:ovn-chassis-mac-mappings

For distributed vlan in ovn we need to add support of
creating mac addresses per compute and seting them in
external_ids:ovn-chassis-mac-mappings.

Conflicts:
	manifests/controller.pp
	spec/classes/ovn_controller_spec.rb

Backport note to Victoria:
Resolved conflicts caused by the enable_ovn_match_northd parameter[1]
which is not backported to Victoria.
 [1] 392ad7946ef5c7659f9320a3f832245e21f8365f

Related-Bug: #1881593
Co-Authored-By: Takashi Kajinami <tkajinam@redhat.com>
Change-Id: Iddca7d8942bc52127525847f129eac8ea03934a1
(cherry picked from commit 73a1d569220d2601d9446838caaacea4168d5ac4)
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/59/782759/3 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ovn_controller_spec.rb', 'releasenotes/notes/ovn_chassis_mac_map-8ea1fa442ca20522.yaml', 'manifests/controller.pp']",3,b53bd05f076bd39e42d8d558917c03ea784d99b8,ovn-distributed-vlan-traffic,"# [*ovn_chassis_mac_map*] # (optional) A list or a hash of key-value pairs that map a chassis specific mac to # a physical network name. An example value mapping two chassis macs to # two physical network names would be: # physnet1:aa:bb:cc:dd:ee:ff,physnet2:a1:b2:c3:d4:e5:f6 or # { # physnet1 => aa:bb:cc:dd:ee:ff, # physnet2 => a1:b2:c3:d4:e5:f6 # } # These are the macs that ovn-controller will replace a router port # mac with, if packet is going from a distributed router port on # vlan type logical switch. # Defaults to empty list # $ovn_chassis_mac_map = [], if !empty($ovn_chassis_mac_map) { if $ovn_chassis_mac_map =~ Hash { $chassis_mac_map = { 'external_ids:ovn-chassis-mac-mappings' => { 'value' => join(join_keys_to_values($ovn_chassis_mac_map, ':'), ',') } } } else { $chassis_mac_map = { 'external_ids:ovn-chassis-mac-mappings' => { 'value' => join(any2array($ovn_chassis_mac_map), ',') } } } } else { $chassis_mac_map = {} } create_resources('vs_config', merge($config_items, $chassis_mac_map, $bridge_items, $tz_items, $hw_offload, $datapath_config, $ovn_match_northd)) "," create_resources('vs_config', merge($config_items, $bridge_items, $tz_items, $hw_offload, $datapath_config))",66,1
openstack%2Fpuppet-oslo~stable%2Fussuri~I96fb263914651a4da91d59c33b051fecb42f023d,openstack/puppet-oslo,stable/ussuri,I96fb263914651a4da91d59c33b051fecb42f023d,DNM: Testing gate,ABANDONED,2021-03-31 04:46:01.000000000,2021-03-31 13:36:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-31 04:46:01.000000000', 'files': ['.dnm'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/b21366e7c1e481279037da951d78f89900969cd9', 'message': 'DNM: Testing gate\n\nChange-Id: I96fb263914651a4da91d59c33b051fecb42f023d\n'}]",0,783996,b21366e7c1e481279037da951d78f89900969cd9,3,1,1,9816,,,0,"DNM: Testing gate

Change-Id: I96fb263914651a4da91d59c33b051fecb42f023d
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/96/783996/1 && git format-patch -1 --stdout FETCH_HEAD,['.dnm'],1,b21366e7c1e481279037da951d78f89900969cd9,,,,0,0
openstack%2Fpuppet-swift~stable%2Ftrain~Id5dea2da007899c20de29b98075b430cf2c2c760,openstack/puppet-swift,stable/train,Id5dea2da007899c20de29b98075b430cf2c2c760,DNM: Test unit tests,ABANDONED,2021-03-31 13:15:05.000000000,2021-03-31 13:35:23.000000000,,[],"[{'number': 1, 'created': '2021-03-31 13:15:05.000000000', 'files': ['spec/classes/swift_proxy_cache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/dfe64f4ceb6b2fcf0180c9f7b853ef29ab14bf95', 'message': 'DNM: Test unit tests\n\nChange-Id: Id5dea2da007899c20de29b98075b430cf2c2c760\n'}]",0,784099,dfe64f4ceb6b2fcf0180c9f7b853ef29ab14bf95,2,0,1,9816,,,0,"DNM: Test unit tests

Change-Id: Id5dea2da007899c20de29b98075b430cf2c2c760
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/99/784099/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/swift_proxy_cache_spec.rb'],1,dfe64f4ceb6b2fcf0180c9f7b853ef29ab14bf95,dnm,,,1,0
openstack%2Fpuppet-swift~stable%2Ftrain~Idd5570011816783dfe4a7eef1b5f0254876e2b77,openstack/puppet-swift,stable/train,Idd5570011816783dfe4a7eef1b5f0254876e2b77,DNM: fix the broken unit tests with tls patch,ABANDONED,2021-03-31 13:19:44.000000000,2021-03-31 13:34:49.000000000,,[],"[{'number': 1, 'created': '2021-03-31 13:19:44.000000000', 'files': ['spec/classes/swift_proxy_cache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/4a6ec02e90772b1854034418abb39ad025fa81fd', 'message': 'DNM: fix the broken unit tests with tls patch\n\nChange-Id: Idd5570011816783dfe4a7eef1b5f0254876e2b77\n'}]",0,784101,4a6ec02e90772b1854034418abb39ad025fa81fd,2,0,1,9816,,,0,"DNM: fix the broken unit tests with tls patch

Change-Id: Idd5570011816783dfe4a7eef1b5f0254876e2b77
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/01/784101/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/swift_proxy_cache_spec.rb'],1,4a6ec02e90772b1854034418abb39ad025fa81fd,memcached-cert-stable/train," describe 'with memcached dependency' do let :pre_condition do 'class { ""memcached"": max_memory => 1 }' describe 'with defaults' do it 'should have the required classes' do is_expected.to contain_class('swift::deps') is_expected.to contain_class('swift::proxy::cache') end it { is_expected.to contain_swift_proxy_config('filter:cache/use').with_value('egg:swift#memcache') } it { is_expected.to contain_swift_proxy_config('filter:cache/memcache_servers').with_value('127.0.0.1:11211') } it { is_expected.to contain_swift_proxy_config('filter:cache/tls_enabled').with_value(false) } describe 'with overridden memcache server' do let :params do {:memcache_servers => '10.0.0.1:1'} end it { is_expected.to contain_swift_proxy_config('filter:cache/use').with_value('egg:swift#memcache') } it { is_expected.to contain_swift_proxy_config('filter:cache/memcache_servers').with_value('10.0.0.1:1') } describe 'with overridden memcache server array' do let :params do {:memcache_servers => ['10.0.0.1:1', '10.0.0.2:2']} end it { is_expected.to contain_swift_proxy_config('filter:cache/use').with_value('egg:swift#memcache') } it { is_expected.to contain_swift_proxy_config('filter:cache/memcache_servers').with_value('10.0.0.1:1,10.0.0.2:2') } end describe 'with overridden cache TLS enabled' do let :params do {:tls_enabled => true} end it { is_expected.to contain_swift_proxy_config('filter:cache/use').with_value('egg:swift#memcache') } it { is_expected.to contain_swift_proxy_config('filter:cache/tls_enabled').with_value(true) } end"," describe 'with defaults' do let :pre_condition do 'class { ""memcached"": max_memory => 1 }' end it 'should have the required classes' do is_expected.to contain_class('swift::deps') is_expected.to contain_class('swift::proxy::cache') end it { is_expected.to contain_swift_proxy_config('filter:cache/use').with_value('egg:swift#memcache') } it { is_expected.to contain_swift_proxy_config('filter:cache/memcache_servers').with_value('127.0.0.1:11211') } it { is_expected.to contain_swift_proxy_config('filter:cache/tls_enabled').with_value(false) } end describe 'with overridden memcache server' do let :params do {:memcache_servers => '10.0.0.1:1'} it { is_expected.to contain_swift_proxy_config('filter:cache/use').with_value('egg:swift#memcache') } it { is_expected.to contain_swift_proxy_config('filter:cache/memcache_servers').with_value('10.0.0.1:1') } end describe 'with overridden cache TLS enabled' do let :params do {:tls_enabled => true} it { is_expected.to contain_swift_proxy_config('filter:cache/use').with_value('egg:swift#memcache') } it { is_expected.to contain_swift_proxy_config('filter:cache/tls_enabled').with_value(true) } end describe 'with overridden memcache server array' do let :params do {:memcache_servers => ['10.0.0.1:1', '10.0.0.2:2']} it { is_expected.to contain_swift_proxy_config('filter:cache/use').with_value('egg:swift#memcache') } it { is_expected.to contain_swift_proxy_config('filter:cache/memcache_servers').with_value('10.0.0.1:1,10.0.0.2:2') }",34,31
openstack%2Fovn-octavia-provider~master~Ia6bc6d42aac4aaa35717b9b01a063362bab4c355,openstack/ovn-octavia-provider,master,Ia6bc6d42aac4aaa35717b9b01a063362bab4c355,Add Python3 xena unit tests,MERGED,2021-03-30 18:28:27.000000000,2021-03-31 13:33:47.000000000,2021-03-31 13:28:41.000000000,"[{'_account_id': 1131}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-30 18:28:27.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/49dbf521d6573a7a71060303512afd3397fdfda7', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Ia6bc6d42aac4aaa35717b9b01a063362bab4c355\n'}]",0,783946,49dbf521d6573a7a71060303512afd3397fdfda7,7,2,1,22816,,,0,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Ia6bc6d42aac4aaa35717b9b01a063362bab4c355
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/46/783946/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,49dbf521d6573a7a71060303512afd3397fdfda7,add-xena-python-jobtemplates, - openstack-python3-xena-jobs-neutron, - openstack-python3-wallaby-jobs-neutron,1,1
openstack%2Fopenstack-tempest-skiplist~master~Ia7bff68f9fc9109eea7a988d86a0482da44797bd,openstack/openstack-tempest-skiplist,master,Ia7bff68f9fc9109eea7a988d86a0482da44797bd,Remove all skipped sc10 jobs in favor of smoke tests,MERGED,2021-03-30 10:21:29.000000000,2021-03-31 13:03:38.000000000,2021-03-30 14:50:17.000000000,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-03-30 10:21:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/81e3d69f4f7ee6acf4d3a4b7fafc1b0fbb49aee4', 'message': 'Remove all skipped sc10 jobs in favor of smoke tests\n\nhttps://review.rdoproject.org/r/c/rdo-jobs/+/32279 moves the\ntempest_test_whitelist regex to smoke tests in periodic. In\norder to run this test, skipped jobs needs to be removed\notherwise tempest tests will fail with non regex found.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ia7bff68f9fc9109eea7a988d86a0482da44797bd\n'}, {'number': 2, 'created': '2021-03-30 13:55:30.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/ef45e2c0118383db4fee6e48f30743183d20878a', 'message': 'Remove all skipped sc10 jobs in favor of smoke tests\n\nhttps://review.rdoproject.org/r/c/rdo-jobs/+/32279 moves the\ntempest_test_whitelist regex to smoke tests in periodic. In\norder to run this test, skipped jobs needs to be removed\notherwise tempest tests will fail with non regex found.\n\nIt needs to be skipped only on upstream not in periodic\nand integration line.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ia7bff68f9fc9109eea7a988d86a0482da44797bd\n'}]",2,783831,ef45e2c0118383db4fee6e48f30743183d20878a,14,6,2,12393,,,0,"Remove all skipped sc10 jobs in favor of smoke tests

https://review.rdoproject.org/r/c/rdo-jobs/+/32279 moves the
tempest_test_whitelist regex to smoke tests in periodic. In
order to run this test, skipped jobs needs to be removed
otherwise tempest tests will fail with non regex found.

It needs to be skipped only on upstream not in periodic
and integration line.

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: Ia7bff68f9fc9109eea7a988d86a0482da44797bd
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/31/783831/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,81e3d69f4f7ee6acf4d3a4b7fafc1b0fbb49aee4,octavia_unskip, jobs: [], jobs: - periodic-tripleo-ci-centos-8-scenario010-ovn-provider-standalone-train - periodic-tripleo-ci-centos-8-scenario010-standalone-train - periodic-tripleo-ci-centos-8-scenario010-ovn-provider-standalone-ussuri - periodic-tripleo-ci-centos-8-scenario010-standalone-victoria - periodic-tripleo-ci-centos-8-scenario010-ovn-provider-standalone-victoria - periodic-tripleo-ci-centos-8-scenario010-standalone-network-master - periodic-tripleo-ci-centos-8-scenario010-standalone-octavia-master - periodic-tripleo-ci-centos-8-scenario010-standalone-network-victoria - periodic-tripleo-ci-centos-8-scenario010-standalone-octavia-victoria - periodic-tripleo-ci-centos-8-scenario010-standalone-network-train - periodic-tripleo-ci-centos-8-scenario010-standalone-octavia-train - periodic-tripleo-ci-rhel-8-scenario010-standalone-rhos-16.2 - periodic-tripleo-ci-rhel-8-scenario010-standalone-network-rhos-16.2 - periodic-tripleo-ci-rhel-8-scenario010-standalone-octavia-rhos-16.2 - periodic-tripleo-ci-rhel-8-scenario010-standalone-rhos-17 - periodic-tripleo-ci-rhel-8-scenario010-standalone-network-rhos-17 - periodic-tripleo-ci-rhel-8-scenario010-standalone-octavia-rhos-17 - periodic-tripleo-ci-centos-7-scenario010-standalone-train,1,19
openstack%2Ftripleo-ci~master~Ia870d7915655d4eb0cceb9156737ea850ebdd520,openstack/tripleo-ci,master,Ia870d7915655d4eb0cceb9156737ea850ebdd520,Use octavia smoke tests for octavia scenario 10,MERGED,2020-12-09 19:01:37.000000000,2021-03-31 13:02:24.000000000,2021-02-02 11:21:54.000000000,"[{'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-12-09 19:01:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f96f2d656712c1472d2f0575092c88c240f25fd1', 'message': 'WIP: enabling smoke tests for octavia scenario\n\nChange-Id: Ia870d7915655d4eb0cceb9156737ea850ebdd520\n'}, {'number': 2, 'created': '2020-12-15 14:26:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/98cb39a9a163110878385bf6eeb272aaea22da13', 'message': 'WIP: enabling smoke tests for octavia scenario\n\nChange-Id: Ia870d7915655d4eb0cceb9156737ea850ebdd520\n'}, {'number': 3, 'created': '2020-12-16 14:06:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5c117e3204a89c84a4b74d1a504dd7662570fd8a', 'message': 'WIP: enabling smoke tests for octavia scenario\n\nDepends-On: I0436ab3b49ff1738832cee1579ce120c8cc4f00a\nChange-Id: Ia870d7915655d4eb0cceb9156737ea850ebdd520\n'}, {'number': 4, 'created': '2020-12-17 14:11:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d124bed9b056123fa5564393f0f152074783c9c7', 'message': 'WIP: enabling smoke tests for octavia scenario\n\nDepends-On: I0436ab3b49ff1738832cee1579ce120c8cc4f00a\nChange-Id: Ia870d7915655d4eb0cceb9156737ea850ebdd520\n'}, {'number': 5, 'created': '2021-01-04 19:36:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d58825f581319bdc240ad36109d2749c74cca6d8', 'message': 'WIP: enabling smoke tests for octavia scenario\n\nDepends-On: I0436ab3b49ff1738832cee1579ce120c8cc4f00a\nChange-Id: Ia870d7915655d4eb0cceb9156737ea850ebdd520\n'}, {'number': 6, 'created': '2021-01-05 15:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/403aca7d77453d921ba3a74911f39cb572c284e6', 'message': 'WIP: enabling smoke tests for octavia scenario\n\nDepends-On: I0436ab3b49ff1738832cee1579ce120c8cc4f00a\nChange-Id: Ia870d7915655d4eb0cceb9156737ea850ebdd520\n'}, {'number': 7, 'created': '2021-01-06 07:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/97213a119499e98429c78aa24380fbda3c83ef2d', 'message': 'WIP: enabling smoke tests for octavia scenario\n\nDepends-On: I0436ab3b49ff1738832cee1579ce120c8cc4f00a\nChange-Id: Ia870d7915655d4eb0cceb9156737ea850ebdd520\n'}, {'number': 8, 'created': '2021-01-06 10:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7a1b7973fd34454fbbbd6d81f114cdf4163ba13f', 'message': 'WIP: enabling smoke tests for octavia scenario\n\nDepends-On: I0436ab3b49ff1738832cee1579ce120c8cc4f00a\nChange-Id: Ia870d7915655d4eb0cceb9156737ea850ebdd520\n'}, {'number': 9, 'created': '2021-01-07 16:46:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/43cbe8481c8c2d426dce4973faaca66e05ce54f9', 'message': 'WIP: enabling smoke tests for octavia scenario\n\nDepends-On: I0436ab3b49ff1738832cee1579ce120c8cc4f00a\nChange-Id: Ia870d7915655d4eb0cceb9156737ea850ebdd520\n'}, {'number': 10, 'created': '2021-01-14 17:22:55.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8319543d4daf9af4465d68ee323d05bceb3b9e9d', 'message': 'Use octavia smoke tests for octavia scenario 10\n\nDepends-On: I19c74984bacbcf4ee057a88381904dd711f79940\nDepends-On: I0436ab3b49ff1738832cee1579ce120c8cc4f00a\nChange-Id: Ia870d7915655d4eb0cceb9156737ea850ebdd520\n'}]",2,766278,8319543d4daf9af4465d68ee323d05bceb3b9e9d,61,6,10,6681,,,0,"Use octavia smoke tests for octavia scenario 10

Depends-On: I19c74984bacbcf4ee057a88381904dd711f79940
Depends-On: I0436ab3b49ff1738832cee1579ce120c8cc4f00a
Change-Id: Ia870d7915655d4eb0cceb9156737ea850ebdd520
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/78/766278/10 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,f96f2d656712c1472d2f0575092c88c240f25fd1,, tempest_test_whitelist: - '^octavia_tempest_plugin.*\[.*\bsmoke\b.*\]',,2,0
openstack%2Fbifrost~stable%2Fwallaby~I78450b3d1a3fd4b31daf63bb53bdced0b29af28c,openstack/bifrost,stable/wallaby,I78450b3d1a3fd4b31daf63bb53bdced0b29af28c,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-03-31 09:23:35.000000000,2021-03-31 12:53:25.000000000,2021-03-31 12:47:38.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-31 09:23:35.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/9346bfb37490cb065339df44fe75ee0f8597190e', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I78450b3d1a3fd4b31daf63bb53bdced0b29af28c\n'}]",0,784033,9346bfb37490cb065339df44fe75ee0f8597190e,7,2,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I78450b3d1a3fd4b31daf63bb53bdced0b29af28c
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/33/784033/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9346bfb37490cb065339df44fe75ee0f8597190e,create-wallaby, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},3,3
openstack%2Fbifrost~master~I16ef205415a8936c2b2d3c686699db2bd0047be7,openstack/bifrost,master,I16ef205415a8936c2b2d3c686699db2bd0047be7,Add Python3 xena unit tests,MERGED,2021-03-31 09:23:48.000000000,2021-03-31 12:53:19.000000000,2021-03-31 12:47:33.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-31 09:23:48.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/7271695714739af10d741a39dc4acd5e68465cb5', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I16ef205415a8936c2b2d3c686699db2bd0047be7\n'}]",0,784035,7271695714739af10d741a39dc4acd5e68465cb5,8,3,1,22816,,,0,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I16ef205415a8936c2b2d3c686699db2bd0047be7
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/35/784035/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,7271695714739af10d741a39dc4acd5e68465cb5,add-xena-python-jobtemplates, - openstack-python3-xena-jobs, - openstack-python3-wallaby-jobs,1,1
openstack%2Fnova~stable%2Ftrain~I5b6c45b7b9a9eca3c13ecfaa5f50942922b69270,openstack/nova,stable/train,I5b6c45b7b9a9eca3c13ecfaa5f50942922b69270,Test for disabling greendns,MERGED,2020-11-06 15:49:54.000000000,2021-03-31 12:47:09.000000000,2021-03-31 12:45:08.000000000,"[{'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-11-06 15:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/57d221355d9c0867a683b365d15531e88df8b189', 'message': ""Test for disabling greendns\n\nIn commit 7c1d964faa we fixed how we disable greendns. This patch adds\na test for this. It also lays down the groundwork for future tests\nof how we manage eventlet's monkeypatching.\n\nHow and what eventlet monkeypatches can be controlled by environment\nvariables that are processed by eventlet at import-time (for exmaple,\nEVENTLET_NO_GREENDNS). Nova manages all of this in nova.monkey_patch.\nTherefore, nova.monkey_patch must be the first thing to import\neventlet. As nova.tests.functional.__init__ imports nova.monkey_patch,\nour new test can go in the functional tree.\n\nRelated-bug: 1895322\nChange-Id: I5b6c45b7b9a9eca3c13ecfaa5f50942922b69270\n(cherry picked from commit 6f35e4fd2afdb8e26682fc5bd73dbe23236d25c7)\n""}, {'number': 2, 'created': '2020-11-19 14:59:27.000000000', 'files': ['nova/tests/functional/test_monkey_patch.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5c3b4b6c238050926cc79acb83f8d225a79c5657', 'message': ""Test for disabling greendns\n\nIn commit 7c1d964faa we fixed how we disable greendns. This patch adds\na test for this. It also lays down the groundwork for future tests\nof how we manage eventlet's monkeypatching.\n\nHow and what eventlet monkeypatches can be controlled by environment\nvariables that are processed by eventlet at import-time (for exmaple,\nEVENTLET_NO_GREENDNS). Nova manages all of this in nova.monkey_patch.\nTherefore, nova.monkey_patch must be the first thing to import\neventlet. As nova.tests.functional.__init__ imports nova.monkey_patch,\nour new test can go in the functional tree.\n\nRelated-bug: 1895322\nChange-Id: I5b6c45b7b9a9eca3c13ecfaa5f50942922b69270\n(cherry picked from commit 6f35e4fd2afdb8e26682fc5bd73dbe23236d25c7)\n(cherry picked from commit 9ac794b93b827dde1d9545b88fd7913b7c00dacb)\n""}]",0,761763,5c3b4b6c238050926cc79acb83f8d225a79c5657,18,5,2,8864,,,0,"Test for disabling greendns

In commit 7c1d964faa we fixed how we disable greendns. This patch adds
a test for this. It also lays down the groundwork for future tests
of how we manage eventlet's monkeypatching.

How and what eventlet monkeypatches can be controlled by environment
variables that are processed by eventlet at import-time (for exmaple,
EVENTLET_NO_GREENDNS). Nova manages all of this in nova.monkey_patch.
Therefore, nova.monkey_patch must be the first thing to import
eventlet. As nova.tests.functional.__init__ imports nova.monkey_patch,
our new test can go in the functional tree.

Related-bug: 1895322
Change-Id: I5b6c45b7b9a9eca3c13ecfaa5f50942922b69270
(cherry picked from commit 6f35e4fd2afdb8e26682fc5bd73dbe23236d25c7)
(cherry picked from commit 9ac794b93b827dde1d9545b88fd7913b7c00dacb)
",git fetch https://review.opendev.org/openstack/nova refs/changes/63/761763/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_monkey_patch.py'],1,57d221355d9c0867a683b365d15531e88df8b189,bug/1895322,"# Copyright 2020 Red Hat, Inc. All rights reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # NOTE(artom) This file exists to test eventlet monkeypatching. How and what # eventlet monkeypatches can be controlled by environment variables that # are processed by eventlet at import-time (for exmaple, EVENTLET_NO_GREENDNS). # Nova manages all of this in nova.monkey_patch. Therefore, nova.monkey_patch # must be the first thing to import eventlet. As nova.tests.functional.__init__ # imports nova.monkey_patch, we're OK here. import socket import traceback from nova import test class TestMonkeyPatch(test.TestCase): def test_greendns_is_disabled(self): """"""Try to resolve a fake fqdn. If we see greendns mentioned in the traceback of the raised exception, it means we've not actually disabled greendns. See the TODO and NOTE in nova.monkey_patch to understand why greendns needs to be disabled. """""" raised = False try: socket.gethostbyname('goat.fake') except Exception: tb = traceback.format_exc() # NOTE(artom) If we've correctly disabled greendns, we expect the # traceback to not contain any reference to it. self.assertNotIn('greendns.py', tb) raised = True self.assertTrue(raised) ",,45,0
openstack%2Fos-brick~stable%2Fvictoria~I066d456fb1fe9159d4be50ffd8abf9a6d8d07901,openstack/os-brick,stable/victoria,I066d456fb1fe9159d4be50ffd8abf9a6d8d07901,iSCSI: Fix flushing after multipath cfg change,MERGED,2021-03-29 13:37:21.000000000,2021-03-31 12:40:04.000000000,2021-03-30 22:39:08.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-29 13:37:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/d21f9b3b442ae2a74d3b57a61e1db8933d88f87e', 'message': ""iSCSI: Fix flushing after multipath cfg change\n\nOS-Brick disconnect_volume code assumes that the use_multipath parameter\nthat is used to instantiate the connector has the same value than the\nconnector that was used on the original connect_volume call.\n\nUnfortunately this is not necessarily true, because Nova can attach a\nvolume, then its multipath configuration can be enabled or disabled, and\nthen a detach can be issued.\n\nThis leads to a series of serious issues such as:\n\n- Not flushing the single path on disconnect_volume (possible data loss)\n  and leaving it as a leftover device on the host when Nova calls\n  terminate-connection on Cinder.\n\n- Not flushing the multipath device (possible data loss) and leaving it\n  as a leftover device similarly to the other case.\n\nThis patch changes how we do disconnects, now we assume we are always\ndisconnecting multipaths, and fallback to doing the single path\ndisconnect we used to do if we can't go that route.\n\nThe case when we cannot do a multipathed detach is mostly when we did\nthe connect as a single path and the Cinder driver doesn't provide\nportal_targets and portal_iqns in the connection info for non\nmultipathed initialize-connection calls.\n\nThis changes introduces an additional call when working with single\npaths (checking the discoverydb), but it should be an acceptable\ntrade-off to not lose data.\n\nCloses-Bug: #1921381\nChange-Id: I066d456fb1fe9159d4be50ffd8abf9a6d8d07901\n(cherry picked from commit d4205bd0be60758d40e342d98424488d56e029ef)\n(cherry picked from commit c70d70b24056b81a482de36a8e47757210e2e898)\n""}, {'number': 2, 'created': '2021-03-29 21:28:14.000000000', 'files': ['releasenotes/notes/wallaby-extra-prelude-d8de88e3e11a7b9f.yaml', 'os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/connectors/iscsi.py', 'os_brick/initiator/linuxscsi.py', 'os_brick/initiator/connectors/base_iscsi.py', 'releasenotes/notes/disconnect-multipath-cfg-changed-637abc5ecf44fb10.yaml', 'os_brick/tests/initiator/connectors/test_base_iscsi.py', 'os_brick/exception.py', 'os_brick/tests/initiator/connectors/test_iser.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/9528ceab4f32cebb700a0b69f2ea58ec101700a1', 'message': ""iSCSI: Fix flushing after multipath cfg change\n\nOS-Brick disconnect_volume code assumes that the use_multipath parameter\nthat is used to instantiate the connector has the same value than the\nconnector that was used on the original connect_volume call.\n\nUnfortunately this is not necessarily true, because Nova can attach a\nvolume, then its multipath configuration can be enabled or disabled, and\nthen a detach can be issued.\n\nThis leads to a series of serious issues such as:\n\n- Not flushing the single path on disconnect_volume (possible data loss)\n  and leaving it as a leftover device on the host when Nova calls\n  terminate-connection on Cinder.\n\n- Not flushing the multipath device (possible data loss) and leaving it\n  as a leftover device similarly to the other case.\n\nThis patch changes how we do disconnects, now we assume we are always\ndisconnecting multipaths, and fallback to doing the single path\ndisconnect we used to do if we can't go that route.\n\nThe case when we cannot do a multipathed detach is mostly when we did\nthe connect as a single path and the Cinder driver doesn't provide\nportal_targets and portal_iqns in the connection info for non\nmultipathed initialize-connection calls.\n\nThis changes introduces an additional call when working with single\npaths (checking the discoverydb), but it should be an acceptable\ntrade-off to not lose data.\n\nAlso includes squash to add release note from:\nAdd release note prelude for os-brick 4.4.0\nChange-Id: I0f9e088fbb14ee9a73175aa31bca8c619db5a96f\n\nCloses-Bug: #1921381\nChange-Id: I066d456fb1fe9159d4be50ffd8abf9a6d8d07901\n(cherry picked from commit d4205bd0be60758d40e342d98424488d56e029ef)\n(cherry picked from commit c70d70b24056b81a482de36a8e47757210e2e898)\n""}]",0,783553,9528ceab4f32cebb700a0b69f2ea58ec101700a1,24,5,2,20813,,,0,"iSCSI: Fix flushing after multipath cfg change

OS-Brick disconnect_volume code assumes that the use_multipath parameter
that is used to instantiate the connector has the same value than the
connector that was used on the original connect_volume call.

Unfortunately this is not necessarily true, because Nova can attach a
volume, then its multipath configuration can be enabled or disabled, and
then a detach can be issued.

This leads to a series of serious issues such as:

- Not flushing the single path on disconnect_volume (possible data loss)
  and leaving it as a leftover device on the host when Nova calls
  terminate-connection on Cinder.

- Not flushing the multipath device (possible data loss) and leaving it
  as a leftover device similarly to the other case.

This patch changes how we do disconnects, now we assume we are always
disconnecting multipaths, and fallback to doing the single path
disconnect we used to do if we can't go that route.

The case when we cannot do a multipathed detach is mostly when we did
the connect as a single path and the Cinder driver doesn't provide
portal_targets and portal_iqns in the connection info for non
multipathed initialize-connection calls.

This changes introduces an additional call when working with single
paths (checking the discoverydb), but it should be an acceptable
trade-off to not lose data.

Also includes squash to add release note from:
Add release note prelude for os-brick 4.4.0
Change-Id: I0f9e088fbb14ee9a73175aa31bca8c619db5a96f

Closes-Bug: #1921381
Change-Id: I066d456fb1fe9159d4be50ffd8abf9a6d8d07901
(cherry picked from commit d4205bd0be60758d40e342d98424488d56e029ef)
(cherry picked from commit c70d70b24056b81a482de36a8e47757210e2e898)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/53/783553/2 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/connectors/iscsi.py', 'os_brick/initiator/linuxscsi.py', 'os_brick/initiator/connectors/base_iscsi.py', 'releasenotes/notes/disconnect-multipath-cfg-changed-637abc5ecf44fb10.yaml', 'os_brick/exception.py', 'os_brick/tests/initiator/connectors/test_base_iscsi.py', 'os_brick/tests/initiator/connectors/test_iser.py']",9,d21f9b3b442ae2a74d3b57a61e1db8933d88f87e,cleanup_connection-stable/wallaby-stable/victoria," iql_mock.assert_called_once_with(self.connection_data, discover=False, is_disconnect_call=False)"," iql_mock.assert_called_once_with(self.connection_data, discover=False)",143,85
openstack%2Fbifrost~master~I9f232946c2c5dfa2ccb2363f8c29c7659a9c3a1e,openstack/bifrost,master,I9f232946c2c5dfa2ccb2363f8c29c7659a9c3a1e,Update master for stable/wallaby,MERGED,2021-03-31 09:23:42.000000000,2021-03-31 12:34:38.000000000,2021-03-31 12:32:46.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-31 09:23:42.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/c48ce49712b15bb7f5da3ebf3c4d28c50ed7023d', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: I9f232946c2c5dfa2ccb2363f8c29c7659a9c3a1e\n'}]",0,784034,c48ce49712b15bb7f5da3ebf3c4d28c50ed7023d,8,3,1,22816,,,0,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: I9f232946c2c5dfa2ccb2363f8c29c7659a9c3a1e
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/34/784034/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,c48ce49712b15bb7f5da3ebf3c4d28c50ed7023d,reno-wallaby, wallaby,,7,0
openstack%2Fbifrost~stable%2Fwallaby~I8ad892032b8f3b8e1136d4b043efb3a07dbce33b,openstack/bifrost,stable/wallaby,I8ad892032b8f3b8e1136d4b043efb3a07dbce33b,Update .gitreview for stable/wallaby,MERGED,2021-03-31 09:23:31.000000000,2021-03-31 12:34:28.000000000,2021-03-31 12:32:32.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-31 09:23:31.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/c9b793fc83e2ab9f556418eb928af58a6d19c431', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: I8ad892032b8f3b8e1136d4b043efb3a07dbce33b\n'}]",0,784032,c9b793fc83e2ab9f556418eb928af58a6d19c431,7,2,1,22816,,,0,"Update .gitreview for stable/wallaby

Change-Id: I8ad892032b8f3b8e1136d4b043efb3a07dbce33b
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/32/784032/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,c9b793fc83e2ab9f556418eb928af58a6d19c431,create-wallaby,defaultbranch=stable/wallaby,,1,0
openstack%2Freleases~master~I85ce8c8b688926c39dda82b3eb36337fb8e1e524,openstack/releases,master,I85ce8c8b688926c39dda82b3eb36337fb8e1e524,Release barbican-tempest-plugin for wallaby,MERGED,2021-03-26 15:49:26.000000000,2021-03-31 12:30:51.000000000,2021-03-31 12:30:51.000000000,"[{'_account_id': 7973}, {'_account_id': 8556}, {'_account_id': 11561}, {'_account_id': 13861}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-26 15:49:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/fa6a6785ed0106901ad105df653ee55d077f611b', 'message': 'Release barbican-tempest-plugin for wallaby\n\nThis is the automatic release for barbican-tempest-plugin.\nPlease +1 if this is ready to go, or -1 if the team needs a little more\ntime. If so, please update with the new commit hash to use when ready.\n\n$ git log --oneline --no-merges 1.2.1..c80b00a\nc80b00a Initial patch to add barbican rbac tests\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I85ce8c8b688926c39dda82b3eb36337fb8e1e524\n'}, {'number': 2, 'created': '2021-03-30 20:33:26.000000000', 'files': ['deliverables/wallaby/barbican-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7085e7a6ab5d4c81f50f747cbe930d1fd2f8db7d', 'message': 'Release barbican-tempest-plugin for wallaby\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I85ce8c8b688926c39dda82b3eb36337fb8e1e524\n'}]",0,783341,7085e7a6ab5d4c81f50f747cbe930d1fd2f8db7d,13,7,2,28522,,,0,"Release barbican-tempest-plugin for wallaby

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I85ce8c8b688926c39dda82b3eb36337fb8e1e524
",git fetch https://review.opendev.org/openstack/releases refs/changes/41/783341/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/barbican-tempest-plugin.yaml'],1,fa6a6785ed0106901ad105df653ee55d077f611b,wallaby-c-a, - version: 1.3.0 projects: - repo: openstack/barbican-tempest-plugin hash: c80b00af9334df2f57d9e56804a9c807a44749bc,,4,0
openstack%2Fnetworking-ovn~stable%2Fstein~I1bd359a78cf6fc8e61b5f6cebb4a1ab3aba0cd7c,openstack/networking-ovn,stable/stein,I1bd359a78cf6fc8e61b5f6cebb4a1ab3aba0cd7c,remove tripleo scenario007 ci job from stein,MERGED,2021-02-09 03:53:20.000000000,2021-03-31 12:25:32.000000000,2021-03-31 12:13:50.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-09 03:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7b93c1a9261f433c6da43756c60efb2f27993b35', 'message': 'remove tripleo scenario007 ci job from stein\n\nChange-Id: I1bd359a78cf6fc8e61b5f6cebb4a1ab3aba0cd7c\n'}, {'number': 2, 'created': '2021-02-09 03:56:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b86a6430d0f92c91e322e065f962b45754723696', 'message': 'remove tripleo scenario007 ci job from stein\n\nChange-Id: I1bd359a78cf6fc8e61b5f6cebb4a1ab3aba0cd7c\n'}, {'number': 3, 'created': '2021-02-11 09:33:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/586bc3786ea23fb5762de323afc7949421e42b73', 'message': 'remove tripleo scenario007 ci job from stein\n\nChange-Id: I1bd359a78cf6fc8e61b5f6cebb4a1ab3aba0cd7c\n'}, {'number': 4, 'created': '2021-03-01 14:55:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5ffb0383e21d91dd5ccea655eb20353177208c39', 'message': 'remove tripleo scenario007 ci job from stein\n\nChange-Id: I1bd359a78cf6fc8e61b5f6cebb4a1ab3aba0cd7c\n'}, {'number': 5, 'created': '2021-03-10 16:03:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c74c9b3b3037cdf08becbd3bf1cd7152b05a1639', 'message': 'remove tripleo scenario007 ci job from stein\n\nChange-Id: I1bd359a78cf6fc8e61b5f6cebb4a1ab3aba0cd7c\n'}, {'number': 6, 'created': '2021-03-11 20:33:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a118271b699f1cfb1085c2f9991916d263a78c83', 'message': 'remove tripleo scenario007 ci job from stein\n\nChange-Id: I1bd359a78cf6fc8e61b5f6cebb4a1ab3aba0cd7c\n'}, {'number': 7, 'created': '2021-03-30 10:04:05.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/networking-ovn-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6bfacde1b201e8782ff32a148afbbe248ae455ca', 'message': 'remove tripleo scenario007 ci job from stein\n\nSee topic branch at [1] for related patches\n\n[1] https://review.opendev.org/q/topic:tripleo-ci-reduce\n\nChange-Id: I1bd359a78cf6fc8e61b5f6cebb4a1ab3aba0cd7c\n'}]",1,774582,6bfacde1b201e8782ff32a148afbbe248ae455ca,30,6,7,9592,,,0,"remove tripleo scenario007 ci job from stein

See topic branch at [1] for related patches

[1] https://review.opendev.org/q/topic:tripleo-ci-reduce

Change-Id: I1bd359a78cf6fc8e61b5f6cebb4a1ab3aba0cd7c
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/82/774582/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/networking-ovn-jobs.yaml'],1,7b93c1a9261f433c6da43756c60efb2f27993b35,tripleo-ci-reduce,, name: networking-ovn-tripleo-c7-s007-oooq-containers parent: tripleo-ci-centos-7-scenario007-multinode-oooq-container irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^tox.ini$ - ^vagrant/.*$ - ^migration/.*$ - job:,0,14
openstack%2Fopenstack-ansible-galera_server~master~I377cad08f83c1b01b357d95165bb50f4047e28a4,openstack/openstack-ansible-galera_server,master,I377cad08f83c1b01b357d95165bb50f4047e28a4,add support for encryption,ABANDONED,2021-03-31 12:05:59.000000000,2021-03-31 12:17:03.000000000,,[],"[{'number': 1, 'created': '2021-03-31 12:05:59.000000000', 'files': ['tasks/galera_server_install.yml', 'tasks/galera_server_encryption.yml', 'handlers/main.yml', 'templates/encryption.cnf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/cddcb70246f6f1220a9e2d7124c010ef84f971b2', 'message': 'add support for encryption\n\nChange-Id: I73e548ac208a96ddaa687a1b5fbb22cac20037d0\n\nCloses-Bug: #1921861\nChange-Id: I377cad08f83c1b01b357d95165bb50f4047e28a4\n'}]",0,784085,cddcb70246f6f1220a9e2d7124c010ef84f971b2,2,0,1,33299,,,0,"add support for encryption

Change-Id: I73e548ac208a96ddaa687a1b5fbb22cac20037d0

Closes-Bug: #1921861
Change-Id: I377cad08f83c1b01b357d95165bb50f4047e28a4
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/85/784085/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/galera_server_install.yml', 'tasks/galera_server_encryption.yml', 'handlers/main.yml', 'templates/encryption.cnf.j2', 'defaults/main.yml']",5,cddcb70246f6f1220a9e2d7124c010ef84f971b2,bug/1921861,"galera_encryption_overrides: {} galera_mariadb_encryption_enabled: false galera_mariadb_encryption_plugin: ""file_key_management""",,111,0
openstack%2Fopenstack-ansible-galera_server~master~Ic000c9bd4b8e5a4ddfb4609968a3fdd218788dcd,openstack/openstack-ansible-galera_server,master,Ic000c9bd4b8e5a4ddfb4609968a3fdd218788dcd,add support for encryption,ABANDONED,2021-03-31 12:04:12.000000000,2021-03-31 12:16:59.000000000,,[],"[{'number': 1, 'created': '2021-03-31 12:04:12.000000000', 'files': ['tasks/galera_server_install.yml', 'tasks/galera_server_encryption.yml', 'handlers/main.yml', 'templates/encryption.cnf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/bd3f13d339ee1468410dc1a0b2dd68ac3f89a5ac', 'message': 'add support for encryption\n\nChange-Id: I7aa50e8ea644e0aa0a4dd2e0a84a9045157594e1\n\nCloses-Bug: #1921861\nChange-Id: Ic000c9bd4b8e5a4ddfb4609968a3fdd218788dcd\n'}]",0,784084,bd3f13d339ee1468410dc1a0b2dd68ac3f89a5ac,2,0,1,33299,,,0,"add support for encryption

Change-Id: I7aa50e8ea644e0aa0a4dd2e0a84a9045157594e1

Closes-Bug: #1921861
Change-Id: Ic000c9bd4b8e5a4ddfb4609968a3fdd218788dcd
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/84/784084/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/galera_server_install.yml', 'tasks/galera_server_encryption.yml', 'handlers/main.yml', 'templates/encryption.cnf.j2', 'defaults/main.yml']",5,bd3f13d339ee1468410dc1a0b2dd68ac3f89a5ac,bug/1921861,"galera_encryption_overrides: {} galera_mariadb_encryption_enabled: false galera_mariadb_encryption_plugin: ""file_key_management""",,111,0
openstack%2Fopenstack-ansible-galera_server~master~I17c1465e1437c525c46689c08463f535668be34d,openstack/openstack-ansible-galera_server,master,I17c1465e1437c525c46689c08463f535668be34d,add support for encryption,ABANDONED,2021-03-31 11:08:51.000000000,2021-03-31 12:16:54.000000000,,[],"[{'number': 1, 'created': '2021-03-31 11:08:51.000000000', 'files': ['tasks/galera_server_install.yml', 'tasks/galera_server_encryption.yml', 'handlers/main.yml', 'templates/encryption.cnf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/b8db17e3cfb27df8d9cbdfa9358cc738448a6390', 'message': 'add support for encryption\n\nSigned-off-by: Sebastian Gumprich <sebastian.gumprich@t-systems.com>\nChange-Id: I73e548ac208a96ddaa687a1b5fbb22cac20037d0\n\nremove redundant permissions task\n\nSigned-off-by: Sebastian Gumprich <sebastian.gumprich@t-systems.com>\nChange-Id: I17c1465e1437c525c46689c08463f535668be34d\n'}]",0,784074,b8db17e3cfb27df8d9cbdfa9358cc738448a6390,2,0,1,33299,,,0,"add support for encryption

Signed-off-by: Sebastian Gumprich <sebastian.gumprich@t-systems.com>
Change-Id: I73e548ac208a96ddaa687a1b5fbb22cac20037d0

remove redundant permissions task

Signed-off-by: Sebastian Gumprich <sebastian.gumprich@t-systems.com>
Change-Id: I17c1465e1437c525c46689c08463f535668be34d
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/74/784074/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/galera_server_install.yml', 'tasks/galera_server_encryption.yml', 'handlers/main.yml', 'templates/encryption.cnf.j2', 'defaults/main.yml']",5,b8db17e3cfb27df8d9cbdfa9358cc738448a6390,galera_encryption,"galera_encryption_overrides: {} galera_mariadb_encryption_enabled: false galera_mariadb_encryption_plugin: ""file_key_management""",,132,0
openstack%2Ftripleo-common~master~I1e339acb21d2acb1c336420af9f04d01f861aa91,openstack/tripleo-common,master,I1e339acb21d2acb1c336420af9f04d01f861aa91,Extend ansible inventory from network config file,MERGED,2021-01-27 23:18:12.000000000,2021-03-31 12:13:58.000000000,2021-03-31 12:03:43.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-01-27 23:18:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/66415507df709724e3d2361c84c7048f853bb439', 'message': ""Extend ansible inventory from network config file\n\nSome node network_config options defined in the baremetal\ndeployment yaml definition can't be stored on neutron resources\nas tags, because tag strings has a limited max lenght.\n\nIn the triple-ansible change https://review.opendev.org/772766\nthe baremetal deployment workflow put's this data into a config\nfile. With this change the config in the file source is merged\ninto the generated ansible inventory.\n\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: I1e339acb21d2acb1c336420af9f04d01f861aa91\n""}, {'number': 2, 'created': '2021-01-28 14:50:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f2797f0553cec7965e9fb19de8a67f86e9dc7f89', 'message': ""Extend ansible inventory from network config file\n\nSome node network_config options defined in the baremetal\ndeployment yaml definition can't be stored on neutron resources\nas tags, because tag strings has a limited max lenght.\n\nIn the triple-ansible change https://review.opendev.org/772766\nthe baremetal deployment workflow put's this data into a config\nfile. With this change the config in the file source is merged\ninto the generated ansible inventory.\n\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: I1e339acb21d2acb1c336420af9f04d01f861aa91\n""}, {'number': 3, 'created': '2021-02-03 11:12:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8136e47fe6a8b741a9431cfe06ca4e5e7e33ff62', 'message': ""Extend ansible inventory from network config file\n\nSome node network_config options defined in the baremetal\ndeployment yaml definition can't be stored on neutron resources\nas tags, because tag strings has a limited max lenght.\n\nIn the triple-ansible change https://review.opendev.org/772766\nthe baremetal deployment workflow put's this data into a config\nfile. With this change the config in the file source is merged\ninto the generated ansible inventory.\n\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: I1e339acb21d2acb1c336420af9f04d01f861aa91\n""}, {'number': 4, 'created': '2021-02-03 18:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/dd0d6cc45b1afb9465321d4bcee2bf05d534894f', 'message': ""Extend ansible inventory from network config file\n\nSome node network_config options defined in the baremetal\ndeployment yaml definition can't be stored on neutron resources\nas tags, because tag strings has a limited max lenght.\n\nIn the triple-ansible change https://review.opendev.org/772766\nthe baremetal deployment workflow put's this data into a config\nfile. With this change the config in the file source is merged\ninto the generated ansible inventory.\n\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: I1e339acb21d2acb1c336420af9f04d01f861aa91\n""}, {'number': 5, 'created': '2021-03-09 15:25:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/87c7dea7292368d62946d20e04614ae9c54b046c', 'message': ""Extend ansible inventory from network config file\n\nSome node network_config options defined in the baremetal\ndeployment yaml definition can't be stored on neutron resources\nas tags, because tag strings has a limited max lenght.\n\nIn the triple-ansible change https://review.opendev.org/772766\nthe baremetal deployment workflow put's this data into a config\nfile. With this change the config in the file source is merged\ninto the generated ansible inventory.\n\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: I1e339acb21d2acb1c336420af9f04d01f861aa91\n""}, {'number': 6, 'created': '2021-03-17 05:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0f833ecb040c154b7b733389ac51df65ebb86e20', 'message': ""Extend ansible inventory from network config file\n\nSome node network_config options defined in the baremetal\ndeployment yaml definition can't be stored on neutron resources\nas tags, because tag strings has a limited max lenght.\n\nIn the triple-ansible change https://review.opendev.org/772766\nthe baremetal deployment workflow put's this data into a config\nfile. With this change the config in the file source is merged\ninto the generated ansible inventory.\n\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: I1e339acb21d2acb1c336420af9f04d01f861aa91\n""}, {'number': 7, 'created': '2021-03-17 08:02:50.000000000', 'files': ['tripleo_common/constants.py', 'tripleo_common/inventory.py', 'tripleo_common/tests/test_inventory.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/34aa73b075fbc2d8cdcbd16210083f56ce80ba1e', 'message': ""Extend ansible inventory from network config file\n\nSome node network_config options defined in the baremetal\ndeployment yaml definition can't be stored on neutron resources\nas tags, because tag strings has a limited max lenght.\n\nIn the triple-ansible change https://review.opendev.org/772766\nthe baremetal deployment workflow put's this data into a config\nfile. With this change the config in the file source is merged\ninto the generated ansible inventory.\n\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: I1e339acb21d2acb1c336420af9f04d01f861aa91\n""}]",17,772787,34aa73b075fbc2d8cdcbd16210083f56ce80ba1e,33,6,7,24245,,,0,"Extend ansible inventory from network config file

Some node network_config options defined in the baremetal
deployment yaml definition can't be stored on neutron resources
as tags, because tag strings has a limited max lenght.

In the triple-ansible change https://review.opendev.org/772766
the baremetal deployment workflow put's this data into a config
file. With this change the config in the file source is merged
into the generated ansible inventory.

Partial-Implements: blueprint network-data-v2-ports
Change-Id: I1e339acb21d2acb1c336420af9f04d01f861aa91
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/87/772787/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/inventory.py', 'tripleo_common/tests/test_inventory.py']",2,66415507df709724e3d2361c84c7048f853bb439,network-data-v2," def test__extend_inventory(self): dynamic = False existing_inventory = OrderedDict() existing_inventory.update({ 'RoleA': { 'hosts': { 'host0': { 'existing': 'existing_value' } }, 'vars': { 'existing': 'existing_value' }, } }) extend_data = { 'RoleA': { 'hosts': { 'host0': { 'new': 'new_value', 'existing': 'not_overwritten', } }, 'vars': { 'new': 'new_var_is_added', 'existing': 'not_overwritten', }, } } expected_inventory = OrderedDict([( 'RoleA', { 'hosts': { 'host0': { 'existing': 'existing_value', 'new': 'new_value' } }, 'vars': { 'existing': 'existing_value', 'new': 'new_var_is_added' } } )]) self.inventory._extend_inventory(existing_inventory, dynamic, data=extend_data) self.assertEqual(expected_inventory, existing_inventory) def test__extend_inventory_dynamic(self): dynamic = True existing_inventory = OrderedDict() existing_inventory.update({ 'RoleA': { 'hosts': { 'host0': { 'existing': 'existing_value' } }, 'vars': { 'existing': 'existing_value' }, } }) extend_data = { 'RoleA': { 'hosts': { 'host0': { 'new': 'new_value', 'existing': 'not_overwritten', } }, 'vars': { 'new': 'new_var_is_added', 'existing': 'not_overwritten', }, } } expected_inventory = OrderedDict([( 'RoleA', { 'hosts': ['host0'], 'vars': {'existing': 'existing_value', 'new': 'new_var_is_added'}})]) self.inventory._extend_inventory(existing_inventory, dynamic, data=extend_data) self.assertEqual(expected_inventory, existing_inventory) self.assertEqual( {'host0': { 'existing': 'existing_value', 'new': 'new_value'} }, self.inventory.hostvars) ",,140,0
openstack%2Ftripleo-common~master~I3072895b44845736050255fb0b6d5f0bdd5c5f48,openstack/tripleo-common,master,I3072895b44845736050255fb0b6d5f0bdd5c5f48,Extend network info in generated inventory,MERGED,2021-01-25 15:33:18.000000000,2021-03-31 12:12:04.000000000,2021-03-31 12:03:37.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-01-25 15:33:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/42c6350bad8e9ad378690bbd2f834e29d7a1830b', 'message': 'Extend network info in generated inventory\n\nWhen building the inventory from neutron resources,\nset network related role_vars in the generated\nansible inventory. The following vars are set:\n\n  {{ network_name }}_cidr\n  {{ network_name }}_dns_nameservers\n  {{ network_name }}_gateway_ip\n  {{ network_name }}_host_routes\n  {{ network_name }}_mtu\n  {{ network_name }}_vlan_id\n\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: I3072895b44845736050255fb0b6d5f0bdd5c5f48\n'}, {'number': 2, 'created': '2021-01-25 23:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e346f26fcda90ba28da0e644ffe139158f59ec14', 'message': 'Extend network info in generated inventory\n\nWhen building the inventory from neutron resources,\nset network related role_vars in the generated\nansible inventory. The following vars are set:\n\n  {{ network_name }}_cidr\n  {{ network_name }}_dns_nameservers\n  {{ network_name }}_gateway_ip\n  {{ network_name }}_host_routes\n  {{ network_name }}_mtu\n  {{ network_name }}_vlan_id\n\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: I3072895b44845736050255fb0b6d5f0bdd5c5f48\n'}, {'number': 3, 'created': '2021-01-25 23:18:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e3010211da0caf649c51e9d7e3c7ab154799bf68', 'message': 'Extend network info in generated inventory\n\nWhen building the inventory from neutron resources,\nset network related role_vars in the generated\nansible inventory. The following vars are set:\n\n  {{ network_name }}_cidr\n  {{ network_name }}_dns_nameservers\n  {{ network_name }}_gateway_ip\n  {{ network_name }}_host_routes\n  {{ network_name }}_mtu\n  {{ network_name }}_vlan_id\n\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: I3072895b44845736050255fb0b6d5f0bdd5c5f48\n'}, {'number': 4, 'created': '2021-01-27 23:18:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/98203aa73aff9becdb8c7c3a6099c0d77db26ca3', 'message': 'Extend network info in generated inventory\n\nWhen building the inventory from neutron resources,\nset network related role_vars in the generated\nansible inventory. The following vars are set:\n\n  {{ network_name }}_cidr\n  {{ network_name }}_dns_nameservers\n  {{ network_name }}_gateway_ip\n  {{ network_name }}_host_routes\n  {{ network_name }}_mtu\n  {{ network_name }}_vlan_id\n\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: I3072895b44845736050255fb0b6d5f0bdd5c5f48\n'}, {'number': 5, 'created': '2021-01-28 14:50:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2bddc2de387f89a03f7d43e9189576cea1154f63', 'message': 'Extend network info in generated inventory\n\nWhen building the inventory from neutron resources,\nset network related role_vars in the generated\nansible inventory. The following vars are set:\n\n  {{ network_name }}_cidr\n  {{ network_name }}_dns_nameservers\n  {{ network_name }}_gateway_ip\n  {{ network_name }}_host_routes\n  {{ network_name }}_mtu\n  {{ network_name }}_vlan_id\n  ctlplane_subnet_cidr\n  networks_all\n  networks_lower\n  role_networks\n\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: I3072895b44845736050255fb0b6d5f0bdd5c5f48\n'}, {'number': 6, 'created': '2021-02-03 10:48:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/162d1a65466289e35a75c7df1d9c4120df5e9625', 'message': 'Extend network info in generated inventory\n\nWhen building the inventory from neutron resources,\nset network related role_vars in the generated\nansible inventory. The following vars are set:\n\n  {{ network_name }}_cidr\n  {{ network_name }}_dns_nameservers\n  {{ network_name }}_gateway_ip\n  {{ network_name }}_host_routes\n  {{ network_name }}_mtu\n  {{ network_name }}_vlan_id\n  ctlplane_subnet_cidr\n  networks_all\n  networks_lower\n  role_networks\n\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: I3072895b44845736050255fb0b6d5f0bdd5c5f48\n'}, {'number': 7, 'created': '2021-02-03 18:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7f0c4afb5c52106c6afea18ea59860bd368b7eef', 'message': 'Extend network info in generated inventory\n\nWhen building the inventory from neutron resources,\nset network related role_vars in the generated\nansible inventory. The following vars are set:\n\n  {{ network_name }}_cidr\n  {{ network_name }}_dns_nameservers\n  {{ network_name }}_gateway_ip\n  {{ network_name }}_host_routes\n  {{ network_name }}_mtu\n  {{ network_name }}_vlan_id\n  ctlplane_subnet_cidr\n  networks_all\n  networks_lower\n  role_networks\n\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: I3072895b44845736050255fb0b6d5f0bdd5c5f48\n'}, {'number': 8, 'created': '2021-03-09 15:25:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/edb15113bbcea7c7e2254bb4f36b6835a7adcbfc', 'message': 'Extend network info in generated inventory\n\nWhen building the inventory from neutron resources,\nset network related role_vars in the generated\nansible inventory. The following vars are set:\n\n  {{ network_name }}_cidr\n  {{ network_name }}_dns_nameservers\n  {{ network_name }}_gateway_ip\n  {{ network_name }}_host_routes\n  {{ network_name }}_mtu\n  {{ network_name }}_vlan_id\n  ctlplane_subnet_cidr\n  networks_all\n  networks_lower\n  role_networks\n\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: I3072895b44845736050255fb0b6d5f0bdd5c5f48\n'}, {'number': 9, 'created': '2021-03-17 05:19:43.000000000', 'files': ['tripleo_common/tests/fake_neutron/fakes.py', 'tripleo_common/constants.py', 'tripleo_common/inventory.py', 'tripleo_common/tests/test_inventory.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/26f33ce89767b4c7ad518e5d4f82e46b0b9a4ecf', 'message': 'Extend network info in generated inventory\n\nWhen building the inventory from neutron resources,\nset network related role_vars in the generated\nansible inventory. The following vars are set:\n\n  {{ network_name }}_cidr\n  {{ network_name }}_dns_nameservers\n  {{ network_name }}_gateway_ip\n  {{ network_name }}_host_routes\n  {{ network_name }}_mtu\n  {{ network_name }}_vlan_id\n  ctlplane_subnet_cidr\n  networks_all\n  networks_lower\n  role_networks\n\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: I3072895b44845736050255fb0b6d5f0bdd5c5f48\n'}]",6,772358,26f33ce89767b4c7ad518e5d4f82e46b0b9a4ecf,61,7,9,24245,,,0,"Extend network info in generated inventory

When building the inventory from neutron resources,
set network related role_vars in the generated
ansible inventory. The following vars are set:

  {{ network_name }}_cidr
  {{ network_name }}_dns_nameservers
  {{ network_name }}_gateway_ip
  {{ network_name }}_host_routes
  {{ network_name }}_mtu
  {{ network_name }}_vlan_id
  ctlplane_subnet_cidr
  networks_all
  networks_lower
  role_networks

Partial-Implements: blueprint network-data-v2-ports
Change-Id: I3072895b44845736050255fb0b6d5f0bdd5c5f48
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/58/772358/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/fake_neutron/fakes.py', 'tripleo_common/constants.py', 'tripleo_common/inventory.py', 'tripleo_common/tests/test_inventory.py']",4,42c6350bad8e9ad378690bbd2f834e29d7a1830b,network-data-v2," self.inventory._add_host_from_neutron_data(hosts, ports, role_networks, role_vars) 'ctlplane_cidr': '24', 'ctlplane_dns_nameservers': ['192.0.2.253', '192.0.2.254'], 'ctlplane_gateway_ip': '192.0.2.1', 'ctlplane_host_routes': [{'default': True, 'nexthop': '192.0.2.1'}], 'ctlplane_mtu': 1500, 'ctlplane_vlan_id': '1', 'internal_api_cidr': '25', 'internal_api_dns_nameservers': [], 'internal_api_gateway_ip': '198.51.100.129', 'internal_api_host_routes': [], 'internal_api_mtu': 1500, 'internal_api_vlan_id': '20', 'ctlplane_cidr': '24', 'ctlplane_dns_nameservers': ['192.0.2.253', '192.0.2.254'], 'ctlplane_gateway_ip': '192.0.2.1', 'ctlplane_host_routes': [{'default': True, 'nexthop': '192.0.2.1'}], 'ctlplane_mtu': 1500, 'ctlplane_vlan_id': '1', 'internal_api_cidr': '25', 'internal_api_dns_nameservers': [], 'internal_api_gateway_ip': '198.51.100.129', 'internal_api_host_routes': [], 'internal_api_mtu': 1500, 'internal_api_vlan_id': '20', 'ctlplane_cidr': '24', 'ctlplane_dns_nameservers': ['192.0.2.253', '192.0.2.254'], 'ctlplane_gateway_ip': '192.0.2.1', 'ctlplane_host_routes': [{'default': True, 'nexthop': '192.0.2.1'}], 'ctlplane_mtu': 1500, 'ctlplane_vlan_id': '1', 'internal_api_cidr': '25', 'internal_api_dns_nameservers': [], 'internal_api_gateway_ip': '198.51.100.129', 'internal_api_host_routes': [], 'internal_api_mtu': 1500, 'internal_api_vlan_id': '20', 'ctlplane_cidr': '24', 'ctlplane_dns_nameservers': ['192.0.2.253', '192.0.2.254'], 'ctlplane_gateway_ip': '192.0.2.1', 'ctlplane_host_routes': [{'default': True, 'nexthop': '192.0.2.1'}], 'ctlplane_mtu': 1500, 'ctlplane_vlan_id': '1', 'internal_api_cidr': '25', 'internal_api_dns_nameservers': [], 'internal_api_gateway_ip': '198.51.100.129', 'internal_api_host_routes': [], 'internal_api_mtu': 1500, 'internal_api_vlan_id': '20', 'ctlplane_cidr': '24', 'ctlplane_dns_nameservers': ['192.0.2.253', '192.0.2.254'], 'ctlplane_gateway_ip': '192.0.2.1', 'ctlplane_host_routes': [{'default': True, 'nexthop': '192.0.2.1'}], 'ctlplane_mtu': 1500, 'ctlplane_vlan_id': '1', 'internal_api_cidr': '25', 'internal_api_dns_nameservers': [], 'internal_api_gateway_ip': '198.51.100.129', 'internal_api_host_routes': [], 'internal_api_mtu': 1500, 'internal_api_vlan_id': '20', 'ctlplane_cidr': '24', 'ctlplane_dns_nameservers': ['192.0.2.253', '192.0.2.254'], 'ctlplane_gateway_ip': '192.0.2.1', 'ctlplane_host_routes': [{'default': True, 'nexthop': '192.0.2.1'}], 'ctlplane_mtu': 1500, 'ctlplane_vlan_id': '1', 'internal_api_cidr': '25', 'internal_api_dns_nameservers': [], 'internal_api_gateway_ip': '198.51.100.129', 'internal_api_host_routes': [], 'internal_api_mtu': 1500, 'internal_api_vlan_id': '20', 'ctlplane_cidr': '24', 'ctlplane_dns_nameservers': ['192.0.2.253', '192.0.2.254'], 'ctlplane_gateway_ip': '192.0.2.1', 'ctlplane_host_routes': [{'default': True, 'nexthop': '192.0.2.1'}], 'ctlplane_mtu': 1500, 'ctlplane_vlan_id': '1', 'internal_api_cidr': '25', 'internal_api_dns_nameservers': [], 'internal_api_gateway_ip': '198.51.100.129', 'internal_api_host_routes': [], 'internal_api_mtu': 1500, 'internal_api_vlan_id': '20', 'ctlplane_cidr': '24', 'ctlplane_dns_nameservers': ['192.0.2.253', '192.0.2.254'], 'ctlplane_gateway_ip': '192.0.2.1', 'ctlplane_host_routes': [{'default': True, 'nexthop': '192.0.2.1'}], 'ctlplane_mtu': 1500, 'ctlplane_vlan_id': '1', 'tripleo_vip': True} self.assertTrue( 'Controller' in self.neutron_data.ports_by_role_and_host) self.assertTrue( 'Compute' in self.neutron_data.ports_by_role_and_host) ctr_role = self.neutron_data.ports_by_role_and_host['Controller'] cmp_role = self.neutron_data.ports_by_role_and_host['Compute'] self.assertTrue('c-0' in ctr_role) self.assertTrue('c-1' in ctr_role) ctr_0 = ctr_role['c-0'] ctr_1 = ctr_role['c-1'] self.assertTrue('cp-0' in cmp_role) cmp_0 = cmp_role['cp-0'] self.assertEqual( [{'cidr': '24', 'dns_domain': 'ctlplane.example.com.', 'dns_nameservers': ['192.0.2.253', '192.0.2.254'], 'fixed_ips': [{'ip_address': '192.0.2.10', 'subnet_id': 'ctlplane_subnet_id'}], 'gateway_ip': '192.0.2.1', 'host_routes': [{'default': True, 'nexthop': '192.0.2.1'}], 'hostname': 'c-0', 'ip_address': '192.0.2.10', 'mtu': 1500, 'name': 'c-0-ctlplane', 'network_id': 'ctlplane_network_id', 'network_name': 'ctlplane', 'subnet_id': 'ctlplane_subnet_id', 'tags': {'tripleo_default_route': True, 'tripleo_hostname': 'c-0', 'tripleo_network_name': 'ctlplane', 'tripleo_role': 'Controller', 'tripleo_stack': 'overcloud'}, 'vlan_id': '1'}, {'cidr': '25', 'dns_domain': 'inernalapi.example.com', 'dns_nameservers': [], 'fixed_ips': [{'ip_address': '198.51.100.140', 'subnet_id': 'internal_api_subnet_id'}], 'gateway_ip': '198.51.100.129', 'host_routes': [], 'hostname': 'c-0', 'ip_address': '198.51.100.140', 'mtu': 1500, 'name': 'c-0-internal_api', 'network_id': 'internal_api_network_id', 'network_name': 'internal_api', 'subnet_id': 'internal_api_subnet_id', 'tags': {'tripleo_default_route': False, 'tripleo_hostname': 'c-0', 'tripleo_network_name': 'InternalApi', 'tripleo_role': 'Controller', 'tripleo_stack': 'overcloud'}, 'vlan_id': '20'}], ctr_0 ) self.assertEqual( [{'cidr': '24', 'dns_domain': 'ctlplane.example.com.', 'dns_nameservers': ['192.0.2.253', '192.0.2.254'], 'fixed_ips': [{'ip_address': '192.0.2.11', 'subnet_id': 'ctlplane_subnet_id'}], 'gateway_ip': '192.0.2.1', 'host_routes': [{'default': True, 'nexthop': '192.0.2.1'}], 'hostname': 'c-1', 'ip_address': '192.0.2.11', 'mtu': 1500, 'name': 'c-1-ctlplane', 'network_id': 'ctlplane_network_id', 'network_name': 'ctlplane', 'subnet_id': 'ctlplane_subnet_id', 'tags': {'tripleo_default_route': True, 'tripleo_hostname': 'c-1', 'tripleo_network_name': 'ctlplane', 'tripleo_role': 'Controller', 'tripleo_stack': 'overcloud'}, 'vlan_id': '1'}, {'cidr': '25', 'dns_domain': 'inernalapi.example.com', 'dns_nameservers': [], 'fixed_ips': [{'ip_address': '198.51.100.141', 'subnet_id': 'internal_api_subnet_id'}], 'gateway_ip': '198.51.100.129', 'host_routes': [], 'hostname': 'c-1', 'ip_address': '198.51.100.141', 'mtu': 1500, 'name': 'c-1-internal_api', 'network_id': 'internal_api_network_id', 'network_name': 'internal_api', 'subnet_id': 'internal_api_subnet_id', 'tags': {'tripleo_default_route': False, 'tripleo_hostname': 'c-1', 'tripleo_network_name': 'InternalApi', 'tripleo_role': 'Controller', 'tripleo_stack': 'overcloud'}, 'vlan_id': '20'}], ctr_1 ) self.assertEqual( [{'cidr': '24', 'dns_domain': 'ctlplane.example.com.', 'dns_nameservers': ['192.0.2.253', '192.0.2.254'], 'fixed_ips': [{'ip_address': '192.0.2.20', 'subnet_id': 'ctlplane_subnet_id'}], 'gateway_ip': '192.0.2.1', 'host_routes': [{'default': True, 'nexthop': '192.0.2.1'}], 'hostname': 'cp-0', 'ip_address': '192.0.2.20', 'mtu': 1500, 'name': 'cp-0-ctlplane', 'network_id': 'ctlplane_network_id', 'network_name': 'ctlplane', 'subnet_id': 'ctlplane_subnet_id', 'tags': {'tripleo_default_route': True, 'tripleo_hostname': 'cp-0', 'tripleo_network_name': 'ctlplane', 'tripleo_role': 'Compute', 'tripleo_stack': 'overcloud'}, 'vlan_id': '1'}, {'cidr': '25', 'dns_domain': 'inernalapi.example.com', 'dns_nameservers': [], 'fixed_ips': [{'ip_address': '198.51.100.150', 'subnet_id': 'internal_api_subnet_id'}], 'gateway_ip': '198.51.100.129', 'host_routes': [], 'hostname': 'cp-0', 'ip_address': '198.51.100.150', 'mtu': 1500, 'name': 'cp-0-internal_api', 'network_id': 'internal_api_network_id', 'network_name': 'internal_api', 'subnet_id': 'internal_api_subnet_id', 'tags': {'tripleo_default_route': False, 'tripleo_hostname': 'cp-0', 'tripleo_network_name': 'InternalApi', 'tripleo_role': 'Compute', 'tripleo_stack': 'overcloud'}, 'vlan_id': '20'}], cmp_0 ) self.assertEqual({'Controller': ctr_role, 'Compute': cmp_role}, self.neutron_data.ports_by_role_and_host)"," self.inventory._add_host_from_neutron_data(hosts, ports, role_networks) 'tripleo_vip': 'true'} self.assertEqual({ 'Controller': { 'c-0': [ {'dns_domain': 'ctlplane.example.com.', 'fixed_ips': [{'ip_address': '192.0.2.10', 'subnet_id': 'ctlplane_subnet_id'}], 'hostname': 'c-0', 'ip_address': '192.0.2.10', 'name': 'c-0-ctlplane', 'network_id': 'ctlplane_network_id', 'network_name': 'ctlplane', 'tags': {'tripleo_hostname': 'c-0', 'tripleo_network_name': 'ctlplane', 'tripleo_role': 'Controller', 'tripleo_stack': 'overcloud'}}, {'dns_domain': 'inernalapi.example.com', 'fixed_ips': [{'ip_address': '198.51.100.140', 'subnet_id': 'internal_api_subnet_id'}], 'hostname': 'c-0', 'ip_address': '198.51.100.140', 'name': 'c-0-internal_api', 'network_id': 'internal_api_network_id', 'network_name': 'internal_api', 'tags': {'tripleo_hostname': 'c-0', 'tripleo_network_name': 'InternalApi', 'tripleo_role': 'Controller', 'tripleo_stack': 'overcloud'}}, ], 'c-1': [ {'dns_domain': 'ctlplane.example.com.', 'fixed_ips': [{'ip_address': '192.0.2.11', 'subnet_id': 'ctlplane_subnet_id'}], 'hostname': 'c-1', 'ip_address': '192.0.2.11', 'name': 'c-1-ctlplane', 'network_id': 'ctlplane_network_id', 'network_name': 'ctlplane', 'tags': {'tripleo_hostname': 'c-1', 'tripleo_network_name': 'ctlplane', 'tripleo_role': 'Controller', 'tripleo_stack': 'overcloud'}}, {'dns_domain': 'inernalapi.example.com', 'fixed_ips': [{'ip_address': '198.51.100.141', 'subnet_id': 'internal_api_subnet_id'}], 'hostname': 'c-1', 'ip_address': '198.51.100.141', 'name': 'c-1-internal_api', 'network_id': 'internal_api_network_id', 'network_name': 'internal_api', 'tags': {'tripleo_hostname': 'c-1', 'tripleo_network_name': 'InternalApi', 'tripleo_role': 'Controller', 'tripleo_stack': 'overcloud'}}, ] }, 'Compute': { 'cp-0': [ {'dns_domain': 'ctlplane.example.com.', 'fixed_ips': [{'ip_address': '192.0.2.20', 'subnet_id': 'ctlplane_subnet_id'}], 'hostname': 'cp-0', 'ip_address': '192.0.2.20', 'name': 'cp-0-ctlplane', 'network_id': 'ctlplane_network_id', 'network_name': 'ctlplane', 'tags': {'tripleo_hostname': 'cp-0', 'tripleo_network_name': 'ctlplane', 'tripleo_role': 'Compute', 'tripleo_stack': 'overcloud'}}, {'dns_domain': 'inernalapi.example.com', 'fixed_ips': [{'ip_address': '198.51.100.150', 'subnet_id': 'internal_api_subnet_id'}], 'hostname': 'cp-0', 'ip_address': '198.51.100.150', 'name': 'cp-0-internal_api', 'network_id': 'internal_api_network_id', 'network_name': 'internal_api', 'tags': {'tripleo_hostname': 'cp-0', 'tripleo_network_name': 'InternalApi', 'tripleo_role': 'Compute', 'tripleo_stack': 'overcloud'}}, ] }, }, self.neutron_data.ports_by_role_and_host)",317,101
openstack%2Fansible-role-collect-logs~master~Ib9d89c9ce0e889a7ee6250f66b55c99a245d6d00,openstack/ansible-role-collect-logs,master,Ib9d89c9ce0e889a7ee6250f66b55c99a245d6d00,Collect nested virtualization info,MERGED,2021-03-19 09:50:22.000000000,2021-03-31 12:10:18.000000000,2021-03-31 12:10:18.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2021-03-19 09:50:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/aecfd1d8564004fa766ad6414e574b36e1cd3300', 'message': 'Collect nested virtualization info\n\nWe run our deployment on multiple cloud, it is good to\ncollect nested virt info in order to investigate\nserver creation related issue.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ib9d89c9ce0e889a7ee6250f66b55c99a245d6d00\n'}, {'number': 2, 'created': '2021-03-19 12:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/c5caa76f461d8b21a2f05e904ec68ebd71d19439', 'message': 'Collect nested virtualization info\n\nWe run our deployment on multiple cloud, it is good to\ncollect nested virt info in order to investigate\nserver creation related issue.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ib9d89c9ce0e889a7ee6250f66b55c99a245d6d00\n'}, {'number': 3, 'created': '2021-03-22 12:42:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/097737e4eec4a8fca708ac49d12b4cbc4d7c5c4b', 'message': 'Collect nested virtualization info\n\nWe run our deployment on multiple cloud, it is good to\ncollect nested virt info in order to investigate\nserver creation related issue.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ib9d89c9ce0e889a7ee6250f66b55c99a245d6d00\n'}, {'number': 4, 'created': '2021-03-26 10:41:05.000000000', 'files': ['roles/collect_logs/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/a89834e557b9414f23345f83a34bae3ad64d2962', 'message': 'Collect nested virtualization info\n\nWe run our deployment on multiple cloud, it is good to\ncollect nested virt info in order to investigate\nserver creation related issue.\n\nIt is needed for sc10 kvm jobs which is still in\ndevelopment here:\nhttps://review.rdoproject.org/r/q/topic:%22fix_octavia_kvm%22+(status:open%20OR%20status:merged)\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ib9d89c9ce0e889a7ee6250f66b55c99a245d6d00\n'}]",6,781608,a89834e557b9414f23345f83a34bae3ad64d2962,40,6,4,12393,,,0,"Collect nested virtualization info

We run our deployment on multiple cloud, it is good to
collect nested virt info in order to investigate
server creation related issue.

It is needed for sc10 kvm jobs which is still in
development here:
https://review.rdoproject.org/r/q/topic:%22fix_octavia_kvm%22+(status:open%20OR%20status:merged)

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: Ib9d89c9ce0e889a7ee6250f66b55c99a245d6d00
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/08/781608/3 && git format-patch -1 --stdout FETCH_HEAD,['roles/collect_logs/defaults/main.yml'],1,aecfd1d8564004fa766ad6414e574b36e1cd3300,fix_octavia_kvm, nested_virt: cmd: cat /sys/module/kvm_intel/parameters/nested &> /var/log/extra/nested_virt.txt,,2,0
openstack%2Ftripleo-ansible~master~Ib7a5d61c2757f2beb238332a4b1ca47a9fa8a565,openstack/tripleo-ansible,master,Ib7a5d61c2757f2beb238332a4b1ca47a9fa8a565,Add cli-overcloud-node-network-config,MERGED,2021-01-29 06:26:28.000000000,2021-03-31 12:09:19.000000000,2021-03-31 12:09:19.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-01-29 06:26:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c3d0872d0aa67e6435e27adafa7de1d556141cec', 'message': 'Add cli-overcloud-node-network-config\n\nAdd cli playbook to apply network configuration\nusing the tripleo_network_config\n\nPartial-Implements: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/772787\nChange-Id: Ib7a5d61c2757f2beb238332a4b1ca47a9fa8a565\n'}, {'number': 2, 'created': '2021-02-03 14:30:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/563d9079bcd742dfa155b0b835013821ad718284', 'message': 'Add cli-overcloud-node-network-config\n\nAdd cli playbook to apply network configuration\nusing the tripleo_network_config\n\nPartial-Implements: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/772787\nChange-Id: Ib7a5d61c2757f2beb238332a4b1ca47a9fa8a565\n'}, {'number': 3, 'created': '2021-02-10 13:22:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a565148ba74870b8ba15323f314a194d045aeb6a', 'message': 'Add cli-overcloud-node-network-config\n\nAdd cli playbook to apply network configuration\nusing the tripleo_network_config\n\nPartial-Implements: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/772787\nChange-Id: Ib7a5d61c2757f2beb238332a4b1ca47a9fa8a565\n'}, {'number': 4, 'created': '2021-03-07 11:40:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b9a0f68a4b5c7f335ec70d7edb653bf516688b88', 'message': 'Add cli-overcloud-node-network-config\n\nAdd cli playbook to apply network configuration\nusing the tripleo_network_config\n\nPartial-Implements: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/772787\nChange-Id: Ib7a5d61c2757f2beb238332a4b1ca47a9fa8a565\n'}, {'number': 5, 'created': '2021-03-08 03:03:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/24a2159dd4e1c2a9812d9e183434131a8a7b237f', 'message': 'Add cli-overcloud-node-network-config\n\nAdd cli playbook to apply network configuration\nusing the tripleo_network_config\n\nPartial-Implements: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/772787\nChange-Id: Ib7a5d61c2757f2beb238332a4b1ca47a9fa8a565\n'}, {'number': 6, 'created': '2021-03-10 00:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0d0e4b22cca95b36896cbf59444737ede0d7dcd0', 'message': 'Add cli-overcloud-node-network-config\n\nAdd cli playbook to apply network configuration\nusing the tripleo_network_config\n\nPartial-Implements: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/772787\nChange-Id: Ib7a5d61c2757f2beb238332a4b1ca47a9fa8a565\n'}, {'number': 7, 'created': '2021-03-10 03:01:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0f3d87e2c5467d9f42efc2765e3a3c852ae342e6', 'message': 'Add cli-overcloud-node-network-config\n\nAdd cli playbook to apply network configuration\nusing the tripleo_network_config\n\nPartial-Implements: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/772787\nChange-Id: Ib7a5d61c2757f2beb238332a4b1ca47a9fa8a565\n'}, {'number': 8, 'created': '2021-03-10 03:06:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dc801679952958a971d09ea852d9fa3c1951dace', 'message': 'Add cli-overcloud-node-network-config\n\nAdd cli playbook to apply network configuration\nusing the tripleo_network_config\n\nPartial-Implements: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/772787\nChange-Id: Ib7a5d61c2757f2beb238332a4b1ca47a9fa8a565\n'}, {'number': 9, 'created': '2021-03-17 05:20:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d66d122bd9e152de6254aa5452eb1008982af584', 'message': 'Add cli-overcloud-node-network-config\n\nAdd cli playbook to apply network configuration\nusing the tripleo_network_config\n\nPartial-Implements: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/772787\nChange-Id: Ib7a5d61c2757f2beb238332a4b1ca47a9fa8a565\n'}, {'number': 10, 'created': '2021-03-17 05:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/859be71cf7d56e2b9e864c702c3eb4232ae8cd5e', 'message': 'Add cli-overcloud-node-network-config\n\nAdd cli playbook to apply network configuration\nusing the tripleo_network_config\n\nPartial-Implements: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/772787\nChange-Id: Ib7a5d61c2757f2beb238332a4b1ca47a9fa8a565\n'}, {'number': 11, 'created': '2021-03-17 23:04:27.000000000', 'files': ['tripleo_ansible/playbooks/cli-overcloud-node-network-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/95d2ebc15ba357fa322f319f595f92392f5b9def', 'message': 'Add cli-overcloud-node-network-config\n\nAdd cli playbook to apply network configuration\nusing the tripleo_network_config\n\nPartial-Implements: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/772787\nChange-Id: Ib7a5d61c2757f2beb238332a4b1ca47a9fa8a565\n'}]",6,772976,95d2ebc15ba357fa322f319f595f92392f5b9def,56,8,11,24245,,,0,"Add cli-overcloud-node-network-config

Add cli playbook to apply network configuration
using the tripleo_network_config

Partial-Implements: blueprint network-data-v2-ports
Depends-On: https://review.opendev.org/772787
Change-Id: Ib7a5d61c2757f2beb238332a4b1ca47a9fa8a565
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/76/772976/9 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-overcloud-node-network-config.yaml'],1,c3d0872d0aa67e6435e27adafa7de1d556141cec,network-data-v2,"--- # Copyright 2021 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # - name: Overcloud Node Network Config hosts: allovercloud any_errors_fatal: true roles: - tripleo_network_config ",,21,0
openstack%2Freleases~master~I4e91c345459584e6e5910ddbd56c7fe6471d5923,openstack/releases,master,I4e91c345459584e6e5910ddbd56c7fe6471d5923,Release manila-tempest-plugin for wallaby,MERGED,2021-03-26 16:05:05.000000000,2021-03-31 12:08:20.000000000,2021-03-31 12:08:20.000000000,"[{'_account_id': 8556}, {'_account_id': 9003}, {'_account_id': 13861}, {'_account_id': 16643}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-26 16:05:05.000000000', 'files': ['deliverables/wallaby/manila-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/140d23f49a66e1ffd068a9ff6a3eba1f81c4bb7d', 'message': 'Release manila-tempest-plugin for wallaby\n\nThis is the automatic release for manila-tempest-plugin.\nPlease +1 if this is ready to go, or -1 if the team needs a little more\ntime. If so, please update with the new commit hash to use when ready.\n\n$ git log --oneline --no-merges 1.3.0..f083c71\nf083c71 Add create share from snapshot in CephFS\n170e800 Added test_create_access_rule_cephx_admin_user testcase\nd00bed4 Harden manage negative tests\n9f55227 Add tests for share size limited by share type.\nab41ebd Move share server creation check under admin test suite\n10d4949 Add ""member"" role to admin project member users\na3ed445 Refactor public share test cases\n9dca2c4 Remove a duplicated skipped functions\nf7fc5b6 Consolidate waiters methods\n3024bb2 Fix extra specs for share type\n02bd40a tox miniversion update to 3.1.1\nf4b0d1c Removing an unnecessary \'BaseSharesAltTest\' class\ncb3123c [Negative] Get share from other project\na7dc759 Fixed a sporadic failure in test_delete_share_in_manage_error\nd213876 Fix \'ss-type\' conflicts in security service tests\n9ddff80 Enable running multi-backends tests with different share protocols\nfe6e603 Remove further randomness when calling ddt.data()\n540e74a Moving resource waiters to a new module\n7f8e0ac Moving skip conditions under skip_check classmethod\n7cba5e9 Fix test tag\nb3a3c42 [CI] Switch cephfs-nfs job to focal fossa\ncee8ed1 Tests: reduce concurrency for cephfs-nfs job\n8cce66b Add doc/requirements\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I4e91c345459584e6e5910ddbd56c7fe6471d5923\n'}]",0,783368,140d23f49a66e1ffd068a9ff6a3eba1f81c4bb7d,11,7,1,28522,,,0,"Release manila-tempest-plugin for wallaby

This is the automatic release for manila-tempest-plugin.
Please +1 if this is ready to go, or -1 if the team needs a little more
time. If so, please update with the new commit hash to use when ready.

$ git log --oneline --no-merges 1.3.0..f083c71
f083c71 Add create share from snapshot in CephFS
170e800 Added test_create_access_rule_cephx_admin_user testcase
d00bed4 Harden manage negative tests
9f55227 Add tests for share size limited by share type.
ab41ebd Move share server creation check under admin test suite
10d4949 Add ""member"" role to admin project member users
a3ed445 Refactor public share test cases
9dca2c4 Remove a duplicated skipped functions
f7fc5b6 Consolidate waiters methods
3024bb2 Fix extra specs for share type
02bd40a tox miniversion update to 3.1.1
f4b0d1c Removing an unnecessary 'BaseSharesAltTest' class
cb3123c [Negative] Get share from other project
a7dc759 Fixed a sporadic failure in test_delete_share_in_manage_error
d213876 Fix 'ss-type' conflicts in security service tests
9ddff80 Enable running multi-backends tests with different share protocols
fe6e603 Remove further randomness when calling ddt.data()
540e74a Moving resource waiters to a new module
7f8e0ac Moving skip conditions under skip_check classmethod
7cba5e9 Fix test tag
b3a3c42 [CI] Switch cephfs-nfs job to focal fossa
cee8ed1 Tests: reduce concurrency for cephfs-nfs job
8cce66b Add doc/requirements

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I4e91c345459584e6e5910ddbd56c7fe6471d5923
",git fetch https://review.opendev.org/openstack/releases refs/changes/68/783368/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/manila-tempest-plugin.yaml'],1,140d23f49a66e1ffd068a9ff6a3eba1f81c4bb7d,wallaby-c-a, - version: 1.4.0 projects: - repo: openstack/manila-tempest-plugin hash: f083c71a9396a5a6f3300d3150b7fc1bee2c57c5,,4,0
openstack%2Freleases~master~Ie30316c000041470977a7f1485f7dff6e8d5ba85,openstack/releases,master,Ie30316c000041470977a7f1485f7dff6e8d5ba85,Release ansible-role-thales-hsm for Wallaby,MERGED,2021-03-30 16:26:56.000000000,2021-03-31 12:07:47.000000000,2021-03-31 12:07:47.000000000,"[{'_account_id': 308}, {'_account_id': 7973}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-30 16:26:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/93384fc6b76dd72d96e512e52a015c94327ed644', 'message': 'Release ansible-role-thales-hsm for Wallaby\n\nChange-Id: Ie30316c000041470977a7f1485f7dff6e8d5ba85\n'}, {'number': 2, 'created': '2021-03-30 17:21:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/0ba75abf1a4fd50de6b73bd1aa9e9c8d07cf874f', 'message': 'Release ansible-role-thales-hsm for Wallaby\n\nChange-Id: Ie30316c000041470977a7f1485f7dff6e8d5ba85\n'}, {'number': 3, 'created': '2021-03-31 06:55:21.000000000', 'files': ['deliverables/wallaby/ansible-role-thales-hsm.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/63d476f70a524c0f30e77de1a0d7cc21ec606810', 'message': 'Release ansible-role-thales-hsm for Wallaby\n\nDepends-On: https://review.opendev.org/c/openstack/project-config/+/784011\nChange-Id: Ie30316c000041470977a7f1485f7dff6e8d5ba85\n'}]",1,783905,63d476f70a524c0f30e77de1a0d7cc21ec606810,31,4,3,7973,,,0,"Release ansible-role-thales-hsm for Wallaby

Depends-On: https://review.opendev.org/c/openstack/project-config/+/784011
Change-Id: Ie30316c000041470977a7f1485f7dff6e8d5ba85
",git fetch https://review.opendev.org/openstack/releases refs/changes/05/783905/3 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/ansible-role-thales-hsm.yaml'],1,93384fc6b76dd72d96e512e52a015c94327ed644,,--- team: barbican type: other release-model: cycle-with-intermediary storyboard: 1184 repository-settings: openstack/ansible-role-thales-hsm: {} releases: - version: 1.0.0 projects: - repo: openstack/ansible-role-thales-hsm hash: e82db3b3fc5088c393eb810bf52329444a91b4eb ,,12,0
openstack%2Freleases~master~I2992bfe6ccfcc096f7024eddd904f2235da18aac,openstack/releases,master,I2992bfe6ccfcc096f7024eddd904f2235da18aac,Release ansible-role-atos-hsm for Wallaby,MERGED,2021-03-30 16:43:50.000000000,2021-03-31 12:07:31.000000000,2021-03-31 12:07:31.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-30 16:43:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/a0befc2e5cf583d35b7e3b70e0d96cc2e3b6132c', 'message': 'Release ansible-role-atos-hsm for Wallaby\n\nChange-Id: I2992bfe6ccfcc096f7024eddd904f2235da18aac\n'}, {'number': 2, 'created': '2021-03-30 17:07:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/d4703fc8fa387c30d64595fdc9f24671af090fc0', 'message': 'Release ansible-role-atos-hsm for Wallaby\n\nChange-Id: I2992bfe6ccfcc096f7024eddd904f2235da18aac\n'}, {'number': 3, 'created': '2021-03-31 06:54:09.000000000', 'files': ['deliverables/wallaby/ansible-role-atos-hsm.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ce7d9500ede22d873cb57c031f94fd3ae818f17d', 'message': 'Release ansible-role-atos-hsm for Wallaby\n\nDepends-On: https://review.opendev.org/c/openstack/project-config/+/784011\nChange-Id: I2992bfe6ccfcc096f7024eddd904f2235da18aac\n'}]",3,783908,ce7d9500ede22d873cb57c031f94fd3ae818f17d,26,4,3,7973,,,0,"Release ansible-role-atos-hsm for Wallaby

Depends-On: https://review.opendev.org/c/openstack/project-config/+/784011
Change-Id: I2992bfe6ccfcc096f7024eddd904f2235da18aac
",git fetch https://review.opendev.org/openstack/releases refs/changes/08/783908/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/ansible-role-atos-hsm.yaml'],1,a0befc2e5cf583d35b7e3b70e0d96cc2e3b6132c,,--- team: barbican type: other release-model: cycle-with-intermediary storyboard: 1183 repository-settings: openstack/ansible-role-atos-hsm: {} releases: - version: 1.0.0 projects: - repo: openstack/ansible-role-atos-hsm hash: c5e5b2427bdbf59bb4bfd875f4c26d6e12224747 ,,12,0
openstack%2Fironic-inspector~stable%2Fwallaby~I5c07815eb408e836552d8befabb9601682a7d3c5,openstack/ironic-inspector,stable/wallaby,I5c07815eb408e836552d8befabb9601682a7d3c5,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-03-30 18:43:42.000000000,2021-03-31 11:56:44.000000000,2021-03-31 11:53:40.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-30 18:43:42.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/579f59ca63eee744c90ca13d83ef8f36fb29c841', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I5c07815eb408e836552d8befabb9601682a7d3c5\n'}]",0,783952,579f59ca63eee744c90ca13d83ef8f36fb29c841,7,2,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I5c07815eb408e836552d8befabb9601682a7d3c5
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/52/783952/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,579f59ca63eee744c90ca13d83ef8f36fb29c841,create-wallaby, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},5,5
openstack%2Fironic-inspector~master~I68e4788d193e3a0840e708b93a01b70d6709fa09,openstack/ironic-inspector,master,I68e4788d193e3a0840e708b93a01b70d6709fa09,Update master for stable/wallaby,MERGED,2021-03-30 18:43:47.000000000,2021-03-31 11:55:11.000000000,2021-03-31 11:53:33.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-30 18:43:47.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/402f6290e512397d11a17f3a8de4b1b3f89d04be', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: I68e4788d193e3a0840e708b93a01b70d6709fa09\n'}]",0,783953,402f6290e512397d11a17f3a8de4b1b3f89d04be,8,3,1,22816,,,0,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: I68e4788d193e3a0840e708b93a01b70d6709fa09
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/53/783953/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,402f6290e512397d11a17f3a8de4b1b3f89d04be,reno-wallaby, wallaby,,7,0
openstack%2Fironic-inspector~stable%2Fwallaby~Ic57e1537132e469eefd64a045706ea3c0f300d98,openstack/ironic-inspector,stable/wallaby,Ic57e1537132e469eefd64a045706ea3c0f300d98,Update .gitreview for stable/wallaby,MERGED,2021-03-30 18:43:38.000000000,2021-03-31 11:55:02.000000000,2021-03-31 11:53:37.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-30 18:43:38.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/65b86cb8b1bf4d8093215094f460ba27e1460fe7', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: Ic57e1537132e469eefd64a045706ea3c0f300d98\n'}]",0,783951,65b86cb8b1bf4d8093215094f460ba27e1460fe7,7,2,1,22816,,,0,"Update .gitreview for stable/wallaby

Change-Id: Ic57e1537132e469eefd64a045706ea3c0f300d98
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/51/783951/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,65b86cb8b1bf4d8093215094f460ba27e1460fe7,create-wallaby,defaultbranch=stable/wallaby,,1,0
openstack%2Fopenstack-ansible-os_cinder~stable%2Fvictoria~I3d5811e059d1b5cb3e87fe7657872e41105c832e,openstack/openstack-ansible-os_cinder,stable/victoria,I3d5811e059d1b5cb3e87fe7657872e41105c832e,Fix condition when to create backends,MERGED,2021-03-25 12:19:05.000000000,2021-03-31 11:43:45.000000000,2021-03-31 11:41:55.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-03-25 12:19:05.000000000', 'files': ['tasks/main.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/374708f98bc5347494b900fa6248e15e2e4dafbc', 'message': 'Fix condition when to create backends\n\nBackend creation should happen on the last host in the group, instead\nof the first one, since we put LB in MAINT state during deployment, while\nother containers are not ready yet. Thus we should be creating backends\nat the very end of the deployment, when all containers are set.\n\nChange-Id: I3d5811e059d1b5cb3e87fe7657872e41105c832e\nCloses-Bug: #1920964\n(cherry picked from commit 91fef6b5cc08d65e0c21b998595f4e74b74c3248)\n'}]",0,782963,374708f98bc5347494b900fa6248e15e2e4dafbc,13,3,1,28619,,,0,"Fix condition when to create backends

Backend creation should happen on the last host in the group, instead
of the first one, since we put LB in MAINT state during deployment, while
other containers are not ready yet. Thus we should be creating backends
at the very end of the deployment, when all containers are set.

Change-Id: I3d5811e059d1b5cb3e87fe7657872e41105c832e
Closes-Bug: #1920964
(cherry picked from commit 91fef6b5cc08d65e0c21b998595f4e74b74c3248)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/63/782963/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'vars/main.yml']",2,374708f98bc5347494b900fa6248e15e2e4dafbc,bug/1920964-stable/victoria,"_cinder_is_last_play_host: ""{{ (cinder_services['cinder-api']['group'] in group_names and inventory_hostname == (groups[cinder_services['cinder-api']['group']] | intersect(ansible_play_hosts)) | last) | bool }}""",,2,1
openstack%2Ftripleo-validations~stable%2Fvictoria~Ia1606db814f37a11e48508139b90cdd43c083f6b,openstack/tripleo-validations,stable/victoria,Ia1606db814f37a11e48508139b90cdd43c083f6b,Introduce tox-ansible to tripleo-validations,MERGED,2021-03-22 11:12:29.000000000,2021-03-31 11:24:40.000000000,2021-03-31 11:23:07.000000000,"[{'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-03-22 11:12:29.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/07c1e0f9b892be3494c99ba21a614e92c8c366bc', 'message': ""Introduce tox-ansible to tripleo-validations\n\nThis patch adds basic configuration for tox-ansible[1].\n\nTox-ansible is a plugin for tox which auto-generates tox environments\nfor running quality assurance tools like ansible-test or molecule. This\ntool is rather tightly integrated for the official Molecule testing tool\nthat integrates with Ansible.\n\nAt first, it will allow us to list very quickly all the Ansible Molecule\ntests for each roles with their scenario(s):\n\nExample:\n\n    $ tox -l\n    ...\n    roles-ceph-ceph-ansible-installed\n    roles-ceph-default\n    roles-check_kernel_version-default\n    roles-check_network_gateway-default\n    roles-check_rhsm_version-default\n    roles-check_rhsm_version-rhsm_mismatch\n    roles-check_undercloud_conf-config_OK\n    roles-check_undercloud_conf-default\n    roles-check_undercloud_conf-deprecated_drivers\n    roles-check_undercloud_conf-deprecated_params\n    roles-check_undercloud_conf-required_missing\n    ...\n\nHowever, we won't be able to execute them as it for now without to make\nsome small manual modifications in the molecule.yml file first before to\nexecute them. This will be covered as soon as possible in a following-patch.\n\n[1] - https://github.com/ansible-community/tox-ansible\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Ia1606db814f37a11e48508139b90cdd43c083f6b\n(cherry picked from commit edb1ad92101d11a0d485eb3bbb05052e3daaeb21)\n""}]",0,782191,07c1e0f9b892be3494c99ba21a614e92c8c366bc,9,6,1,11491,,,0,"Introduce tox-ansible to tripleo-validations

This patch adds basic configuration for tox-ansible[1].

Tox-ansible is a plugin for tox which auto-generates tox environments
for running quality assurance tools like ansible-test or molecule. This
tool is rather tightly integrated for the official Molecule testing tool
that integrates with Ansible.

At first, it will allow us to list very quickly all the Ansible Molecule
tests for each roles with their scenario(s):

Example:

    $ tox -l
    ...
    roles-ceph-ceph-ansible-installed
    roles-ceph-default
    roles-check_kernel_version-default
    roles-check_network_gateway-default
    roles-check_rhsm_version-default
    roles-check_rhsm_version-rhsm_mismatch
    roles-check_undercloud_conf-config_OK
    roles-check_undercloud_conf-default
    roles-check_undercloud_conf-deprecated_drivers
    roles-check_undercloud_conf-deprecated_params
    roles-check_undercloud_conf-required_missing
    ...

However, we won't be able to execute them as it for now without to make
some small manual modifications in the molecule.yml file first before to
execute them. This will be covered as soon as possible in a following-patch.

[1] - https://github.com/ansible-community/tox-ansible

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: Ia1606db814f37a11e48508139b90cdd43c083f6b
(cherry picked from commit edb1ad92101d11a0d485eb3bbb05052e3daaeb21)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/91/782191/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,07c1e0f9b892be3494c99ba21a614e92c8c366bc,,requires = tox-ansible >= 1.0.5 [ansible] description = Used as base for all tox-ansible environments molecule_opts = --debug,,7,0
openstack%2Ftripleo-heat-templates~master~Idc40c2320ba3d9643d2430150238a72d3775a1b0,openstack/tripleo-heat-templates,master,Idc40c2320ba3d9643d2430150238a72d3775a1b0,Remove neutron-l3-compute-dvr referenced nowhere,MERGED,2021-03-25 14:18:53.000000000,2021-03-31 11:22:54.000000000,2021-03-31 11:22:54.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-25 14:18:53.000000000', 'files': ['deployment/neutron/neutron-l3-compute-dvr.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/97fc5bcfe6240719bca6a10f835503453ff90120', 'message': 'Remove neutron-l3-compute-dvr referenced nowhere\n\ndeployment/neutron/neutron-l3-compute-dvr.yaml has no references\nin tht, and also it points the baremetal puppet configuration.\nWe only support it containerized.\n\nChange-Id: Idc40c2320ba3d9643d2430150238a72d3775a1b0\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,783012,97fc5bcfe6240719bca6a10f835503453ff90120,12,6,1,6926,,,0,"Remove neutron-l3-compute-dvr referenced nowhere

deployment/neutron/neutron-l3-compute-dvr.yaml has no references
in tht, and also it points the baremetal puppet configuration.
We only support it containerized.

Change-Id: Idc40c2320ba3d9643d2430150238a72d3775a1b0
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/12/783012/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-l3-compute-dvr.yaml'],1,97fc5bcfe6240719bca6a10f835503453ff90120,,,"heat_template_version: rocky description: > OpenStack Neutron L3 agent for DVR enabled compute nodes configured with Puppet parameters: ServiceData: default: {} description: Dictionary packing service data type: json ServiceNetMap: default: {} description: Mapping of service_name -> network name. Typically set via parameter_defaults in the resource registry. This mapping overrides those in ServiceNetMapDefaults. type: json RoleName: default: '' description: Role name on which the service is applied type: string RoleParameters: default: {} description: Parameters specific to the role type: json EndpointMap: default: {} description: Mapping of service endpoint -> protocol. Typically set via parameter_defaults in the resource registry. type: json MonitoringSubscriptionNeutronL3Dvr: default: 'overcloud-neutron-l3-dvr' type: string NeutronL3ComputeAgentLoggingSource: type: json default: tag: openstack.neutron.agent.l3-compute file: /var/log/neutron/l3-agent.log resources: NeutronBase: type: ./neutron-base.yaml properties: ServiceData: {get_param: ServiceData} ServiceNetMap: {get_param: ServiceNetMap} EndpointMap: {get_param: EndpointMap} RoleName: {get_param: RoleName} RoleParameters: {get_param: RoleParameters} outputs: role_data: description: Role data for DVR L3 Agent on Compute Nodes value: service_name: neutron_l3_compute_dvr monitoring_subscription: {get_param: MonitoringSubscriptionNeutronL3Dvr} config_settings: map_merge: - get_attr: [NeutronBase, role_data, config_settings] - neutron::agents::l3::agent_mode : 'dvr' service_config_settings: rsyslog: tripleo_logging_sources_neutron_l3_compute_dvr: - {get_param: NeutronL3ComputeAgentLoggingSource} step_config: | include tripleo::profile::base::neutron::l3 metadata_settings: get_attr: [NeutronBase, role_data, metadata_settings] ",0,69
openstack%2Ftripleo-quickstart~master~I8b23490be77cc177e2b964578b0e8f44f11a1e2e,openstack/tripleo-quickstart,master,I8b23490be77cc177e2b964578b0e8f44f11a1e2e,Fix quotes issue in stein release file,MERGED,2021-03-30 13:17:25.000000000,2021-03-31 11:16:32.000000000,2021-03-31 11:14:44.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-30 13:17:25.000000000', 'files': ['config/release/tripleo-ci/CentOS-7/stein.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/976c1ff76f448bd391e02999d5d5b26b45c7b3e3', 'message': 'Fix quotes issue in stein release file\n\nChange-Id: I8b23490be77cc177e2b964578b0e8f44f11a1e2e\n'}]",0,783851,976c1ff76f448bd391e02999d5d5b26b45c7b3e3,10,5,1,10969,,,0,"Fix quotes issue in stein release file

Change-Id: I8b23490be77cc177e2b964578b0e8f44f11a1e2e
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/51/783851/1 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-7/stein.yml'],1,976c1ff76f448bd391e02999d5d5b26b45c7b3e3,," {{ job.build_container_images|default(false)|bool | ternary('127.0.0.1:5001', job.alt_container_registry|default('trunk.registry.rdoproject.org')) }}"," ""{{ job.build_container_images|default(false)|bool | ternary('127.0.0.1:5001', job.alt_container_registry|default('trunk.registry.rdoproject.org')) }}""",1,1
openstack%2Fneutron~master~Ied2a0d9adbc33b9a41820667d961c1ce9fe72656,openstack/neutron,master,Ied2a0d9adbc33b9a41820667d961c1ce9fe72656,Add grafana dashboards step to major release checklist,MERGED,2021-03-30 15:20:17.000000000,2021-03-31 11:06:05.000000000,2021-03-31 11:04:03.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-30 15:20:17.000000000', 'files': ['doc/source/contributor/policies/release-checklist.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0be52e91e40eee16fe121fa792fddd8f4c60425b', 'message': 'Add grafana dashboards step to major release checklist\n\nThese dashboards are checked in CI meeting and should always point to\nlatest and previous stable releases.\n\nChange-Id: Ied2a0d9adbc33b9a41820667d961c1ce9fe72656\n'}]",0,783895,0be52e91e40eee16fe121fa792fddd8f4c60425b,8,3,1,21798,,,0,"Add grafana dashboards step to major release checklist

These dashboards are checked in CI meeting and should always point to
latest and previous stable releases.

Change-Id: Ied2a0d9adbc33b9a41820667d961c1ce9fe72656
",git fetch https://review.opendev.org/openstack/neutron refs/changes/95/783895/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/policies/release-checklist.rst'],1,0be52e91e40eee16fe121fa792fddd8f4c60425b,,#. Grafana dashboards for stable branches should be updated to point to the latest releases; https://review.opendev.org/c/openstack/project-config/+/757102,,3,0
openstack%2Fnova~stable%2Fussuri~Ia6d6dcdd7042f2aef6b3abeb5cd0f7525678a3b7,openstack/nova,stable/ussuri,Ia6d6dcdd7042f2aef6b3abeb5cd0f7525678a3b7,libvirt: Use specific user when probing encrypted rbd disks during extend,MERGED,2021-02-01 16:01:02.000000000,2021-03-31 10:43:53.000000000,2021-03-31 10:40:22.000000000,"[{'_account_id': 4690}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-01 16:01:02.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/687250f60ef59d327ca7b1142ca3b5f17f82b9e4', 'message': ""libvirt: Use specific user when probing encrypted rbd disks during extend\n\nI0c3f14100a18107f7e416293f3d4fcc641ce5e55 introduced new logic when\nextending LUKSv1 encrypted rbd volumes. As part of this qemu-img is used\nto probe the rbd volume to determine the size of the LUKSv1 header.\n\nThe URI used to point to the rbd volume did not provide a user and\nassumed that n-cpu/privsep would have access to the admin keyring. This\nisn't always the case in most environments and would result in a failure\nto probe the disk when the admin keyring wasn't available.\n\nThis change resolves this by appending the `id:$username` option to the\nend of the URI provided to qemu-img using the `auth_username` found in\nthe connection_info from Cinder.\n\nCloses-Bug: #1913575\nChange-Id: Ia6d6dcdd7042f2aef6b3abeb5cd0f7525678a3b7\n(cherry picked from commit b62a1abd616cea7fdfcad18e1cf548767d67b6dd)\n(cherry picked from commit 5d1adb2604de37ad6717a604b87d9fbaf35f0999)\n""}]",0,773444,687250f60ef59d327ca7b1142ca3b5f17f82b9e4,14,3,1,10135,,,0,"libvirt: Use specific user when probing encrypted rbd disks during extend

I0c3f14100a18107f7e416293f3d4fcc641ce5e55 introduced new logic when
extending LUKSv1 encrypted rbd volumes. As part of this qemu-img is used
to probe the rbd volume to determine the size of the LUKSv1 header.

The URI used to point to the rbd volume did not provide a user and
assumed that n-cpu/privsep would have access to the admin keyring. This
isn't always the case in most environments and would result in a failure
to probe the disk when the admin keyring wasn't available.

This change resolves this by appending the `id:$username` option to the
end of the URI provided to qemu-img using the `auth_username` found in
the connection_info from Cinder.

Closes-Bug: #1913575
Change-Id: Ia6d6dcdd7042f2aef6b3abeb5cd0f7525678a3b7
(cherry picked from commit b62a1abd616cea7fdfcad18e1cf548767d67b6dd)
(cherry picked from commit 5d1adb2604de37ad6717a604b87d9fbaf35f0999)
",git fetch https://review.opendev.org/openstack/nova refs/changes/44/773444/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,687250f60ef59d327ca7b1142ca3b5f17f82b9e4,bug/1913575," 'auth_enabled': 'true', 'auth_username': 'username', mock_qemu_img_info.assert_called_once_with( 'rbd:pool/volume:id=username')", mock_qemu_img_info.assert_called_once_with('rbd:pool/volume'),9,2
openstack%2Fnova~stable%2Fussuri~I17357d85f845d4160cb7c7784772530a1e92af76,openstack/nova,stable/ussuri,I17357d85f845d4160cb7c7784772530a1e92af76,Make _rebase_with_qemu_img() generic,MERGED,2021-03-16 10:54:38.000000000,2021-03-31 10:42:23.000000000,2021-03-31 10:39:25.000000000,"[{'_account_id': 4690}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28332}]","[{'number': 1, 'created': '2021-03-16 10:54:38.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2e89699c3301bf801784c637b6919752fcd3503f', 'message': 'Make _rebase_with_qemu_img() generic\n\nMove volume_delete related logic away from this method, in order to make\nit generic and usable elsewhere.\n\nChange-Id: I17357d85f845d4160cb7c7784772530a1e92af76\nRelated-Bug: #1732428\n(cherry picked from commit ce2203456660083119cdbb7e73c1ad15e6e0a074)\n'}]",0,780780,2e89699c3301bf801784c637b6919752fcd3503f,10,4,1,10135,,,0,"Make _rebase_with_qemu_img() generic

Move volume_delete related logic away from this method, in order to make
it generic and usable elsewhere.

Change-Id: I17357d85f845d4160cb7c7784772530a1e92af76
Related-Bug: #1732428
(cherry picked from commit ce2203456660083119cdbb7e73c1ad15e6e0a074)
",git fetch https://review.opendev.org/openstack/nova refs/changes/80/780780/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,2e89699c3301bf801784c637b6919752fcd3503f,bug/1885528," @mock.patch('nova.virt.images.qemu_img_info', return_value=mock.Mock(file_format=""fake_fmt"")) @mock.patch('oslo_concurrency.processutils.execute') def test_rebase_with_qemu_img(self, mock_execute, mock_qemu_img_info): """"""rebasing disk image to another backing file"""""" self.drvr._rebase_with_qemu_img(""disk"", ""backing_file"") mock_qemu_img_info.assert_called_once_with(""backing_file"") mock_execute.assert_called_once_with('qemu-img', 'rebase', '-b', 'backing_file', '-F', 'fake_fmt', 'disk') # Flatten disk image when no backing file is given. mock_qemu_img_info.reset_mock() mock_execute.reset_mock() self.drvr._rebase_with_qemu_img(""disk"", None) self.assertEqual(0, mock_qemu_img_info.call_count) mock_execute.assert_called_once_with('qemu-img', 'rebase', '-b', '', 'disk') ",,36,23
openstack%2Fnova~stable%2Fussuri~I58dca95251b607eaff602783fee2fc38e2421944,openstack/nova,stable/ussuri,I58dca95251b607eaff602783fee2fc38e2421944,Use absolute path during qemu img rebase,MERGED,2020-10-09 11:58:42.000000000,2021-03-31 10:39:51.000000000,2021-03-31 10:39:51.000000000,"[{'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-09 11:58:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8ffa309d7ab15aaea16a446f89dafee5fea950e7', 'message': 'Use absolute path during qemu img rebase\n\nDuring an assisted volume snapshot delete request from Cinder nova\nremoves the snapshot from the backing file chain. During that nova\nchecks the existence of such file. However in some cases (see the bug\nreport) the path is relative and therefore os.path.exists fails.\n\nThis patch makes sure that nova uses the volume absolute path to make\nthe backing file path absolute as well.\n\nCloses-Bug #1885528\n\nChange-Id: I58dca95251b607eaff602783fee2fc38e2421944\n(cherry picked from commit b9333125790682f9d60bc74fdbb12a098565e7c2)\n'}, {'number': 2, 'created': '2020-10-09 13:10:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fef16847f451be9754b01c257140e48cb6ad2f52', 'message': 'Use absolute path during qemu img rebase\n\nDuring an assisted volume snapshot delete request from Cinder nova\nremoves the snapshot from the backing file chain. During that nova\nchecks the existence of such file. However in some cases (see the bug\nreport) the path is relative and therefore os.path.exists fails.\n\nThis patch makes sure that nova uses the volume absolute path to make\nthe backing file path absolute as well.\n\nCloses-Bug #1885528\n\nChange-Id: I58dca95251b607eaff602783fee2fc38e2421944\n(cherry picked from commit b9333125790682f9d60bc74fdbb12a098565e7c2)\n(cherry picked from commit ef69c9b354814b9edfdae471a63001d91a1df348)\n'}, {'number': 3, 'created': '2021-03-16 10:54:38.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c2044d4bd0919860aa2d49687ba9c6ef6f7d37e8', 'message': 'Use absolute path during qemu img rebase\n\nDuring an assisted volume snapshot delete request from Cinder nova\nremoves the snapshot from the backing file chain. During that nova\nchecks the existence of such file. However in some cases (see the bug\nreport) the path is relative and therefore os.path.exists fails.\n\nThis patch makes sure that nova uses the volume absolute path to make\nthe backing file path absolute as well.\n\nCloses-Bug #1885528\n\nChange-Id: I58dca95251b607eaff602783fee2fc38e2421944\n(cherry picked from commit b9333125790682f9d60bc74fdbb12a098565e7c2)\n(cherry picked from commit 831abc9f83a2d3f517030f881e7da724417fea93)\n'}]",1,757083,c2044d4bd0919860aa2d49687ba9c6ef6f7d37e8,24,6,3,10135,,,0,"Use absolute path during qemu img rebase

During an assisted volume snapshot delete request from Cinder nova
removes the snapshot from the backing file chain. During that nova
checks the existence of such file. However in some cases (see the bug
report) the path is relative and therefore os.path.exists fails.

This patch makes sure that nova uses the volume absolute path to make
the backing file path absolute as well.

Closes-Bug #1885528

Change-Id: I58dca95251b607eaff602783fee2fc38e2421944
(cherry picked from commit b9333125790682f9d60bc74fdbb12a098565e7c2)
(cherry picked from commit 831abc9f83a2d3f517030f881e7da724417fea93)
",git fetch https://review.opendev.org/openstack/nova refs/changes/83/757083/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,8ffa309d7ab15aaea16a446f89dafee5fea950e7,bug/1885528," dom_xml = """""" <domain type='kvm'> <devices> <disk type='file'> <source file='/var/lib/nova/instances/%s/disk1_file'/> <target dev='vda' bus='virtio'/> <serial>0e38683e-f0af-418f-a3f1-6b67ea0f919d</serial> </disk> <disk type='block'> <source dev='/path/to/dev/1'/> <target dev='vdb' bus='virtio' serial='1234'/> </disk> </devices> </domain>"""""" % self.inst['uuid'] dom_xml) mock_qemu_img_info.assert_called_once_with( ""/var/lib/nova/instances/%s/snap.img"" % instance.uuid) mock_execute.assert_called_once_with( 'qemu-img', 'rebase', '-b', '/var/lib/nova/instances/%s/snap.img' % instance.uuid, '-F', 'fake_fmt', '/var/lib/nova/instances/%s/disk1_file' % instance.uuid)"," self.dom_xml) mock_qemu_img_info.assert_called_once_with(""snap.img"") mock_execute.assert_called_once_with('qemu-img', 'rebase', '-b', 'snap.img', '-F', 'fake_fmt', 'disk1_file')",33,6
openstack%2Ftacker~master~I07255d22a0bcfcf9cd577e81bccf4b1bc9586b93,openstack/tacker,master,I07255d22a0bcfcf9cd577e81bccf4b1bc9586b93,Update master for stable/wallaby,MERGED,2021-03-27 10:20:41.000000000,2021-03-31 10:36:33.000000000,2021-03-31 10:34:57.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}]","[{'number': 1, 'created': '2021-03-27 10:20:41.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/tacker/commit/ae3ad13f27277afd531e9daf00f7495b6538276a', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: I07255d22a0bcfcf9cd577e81bccf4b1bc9586b93\n'}]",0,783531,ae3ad13f27277afd531e9daf00f7495b6538276a,8,5,1,22816,,,0,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: I07255d22a0bcfcf9cd577e81bccf4b1bc9586b93
",git fetch https://review.opendev.org/openstack/tacker refs/changes/31/783531/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,ae3ad13f27277afd531e9daf00f7495b6538276a,reno-wallaby, wallaby,,7,0
openstack%2Fkolla~stable%2Fussuri~I1b3e879ec8752c63dc3f1ec3d8f62c3b43df55f3,openstack/kolla,stable/ussuri,I1b3e879ec8752c63dc3f1ec3d8f62c3b43df55f3,Debian: use QEMU 5 from buster-backports,MERGED,2021-03-23 09:45:26.000000000,2021-03-31 10:35:50.000000000,2021-03-31 10:33:59.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2021-03-23 09:45:26.000000000', 'files': ['docker/nova/nova-libvirt/Dockerfile.j2', 'docker/base/apt_preferences.debian'], 'web_link': 'https://opendev.org/openstack/kolla/commit/3de3fea92f63ca45145297b034025f543383bf66', 'message': ""Debian: use QEMU 5 from buster-backports\n\nThis will allow us to make sure of all updates.\n\n'qemu-kvm' got dropped in Debian\n\nThree changes from master are merged into one:\nChange Id: If09a8188030baa284dd353b1c3f830d78c5091b7\nChange Id: I4371daf7b28c8a057364d17e2e47f6e22665447c\nChange Id: I2c82c6269b2c357b0815ea29bc6a7c322f84dac9\n\nChange-Id: I1b3e879ec8752c63dc3f1ec3d8f62c3b43df55f3\n""}]",0,782386,3de3fea92f63ca45145297b034025f543383bf66,24,4,1,24072,,,0,"Debian: use QEMU 5 from buster-backports

This will allow us to make sure of all updates.

'qemu-kvm' got dropped in Debian

Three changes from master are merged into one:
Change Id: If09a8188030baa284dd353b1c3f830d78c5091b7
Change Id: I4371daf7b28c8a057364d17e2e47f6e22665447c
Change Id: I2c82c6269b2c357b0815ea29bc6a7c322f84dac9

Change-Id: I1b3e879ec8752c63dc3f1ec3d8f62c3b43df55f3
",git fetch https://review.opendev.org/openstack/kolla refs/changes/86/782386/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/nova/nova-libvirt/Dockerfile.j2', 'docker/base/apt_preferences.debian']",2,3de3fea92f63ca45145297b034025f543383bf66,,# we want newer QEMU Package: qemu* Pin: version 1:5.* Pin-Priority: 700 # daxio and QEMU depends on those Package: libpmem1 libndctl6 libdaxctl1 pmdk-tools libpmemblk1 libpmemlog1 libpmemobj1 libpmempool1 liburing1 libfdt1,# daxio in nova-compute depends on those # in Victoria+ we have them as QEMU 5 dependencies Package: libpmem1 libndctl6 libdaxctl1 pmdk-tools libpmemblk1 libpmemlog1 libpmemobj1 libpmempool1,13,4
openstack%2Fnova~stable%2Fvictoria~Ifd9657f3357bc39cb904caa65168d38def8c9184,openstack/nova,stable/victoria,Ifd9657f3357bc39cb904caa65168d38def8c9184,api: Log os-resetState as an instance action,MERGED,2021-01-26 09:18:25.000000000,2021-03-31 10:13:29.000000000,2021-03-31 10:11:46.000000000,"[{'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 17685}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-26 09:18:25.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_server_reset_state.py', 'nova/api/openstack/compute/admin_actions.py', 'releasenotes/notes/bug-1911924-6e93d8a5038d18c1.yaml', 'nova/compute/instance_actions.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3d84097eab617d8e29754160c2f6eb6e1a024f76', 'message': 'api: Log os-resetState as an instance action\n\nIt appears this was missed as this action never hits the compute API and\nis fully handled within the API itself. This change simply records an\ninstance action directly in the API for this admin action providing a\nbreadcrumb to operators and users.\n\nCloses-Bug: #1911924\nChange-Id: Ifd9657f3357bc39cb904caa65168d38def8c9184\n(cherry picked from commit 534b4f38958af2fbf4392e445ddb1b2bad4179ed)\n'}]",0,772480,3d84097eab617d8e29754160c2f6eb6e1a024f76,12,5,1,10135,,,0,"api: Log os-resetState as an instance action

It appears this was missed as this action never hits the compute API and
is fully handled within the API itself. This change simply records an
instance action directly in the API for this admin action providing a
breadcrumb to operators and users.

Closes-Bug: #1911924
Change-Id: Ifd9657f3357bc39cb904caa65168d38def8c9184
(cherry picked from commit 534b4f38958af2fbf4392e445ddb1b2bad4179ed)
",git fetch https://review.opendev.org/openstack/nova refs/changes/80/772480/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_server_reset_state.py', 'nova/api/openstack/compute/admin_actions.py', 'releasenotes/notes/bug-1911924-6e93d8a5038d18c1.yaml', 'nova/compute/instance_actions.py']",4,3d84097eab617d8e29754160c2f6eb6e1a024f76,,RESET_STATE = 'resetState',,44,2
openstack%2Fceilometer~stable%2Fwallaby~I8ac6684d9f03a48cc5dd3d712cbd2868b34e1013,openstack/ceilometer,stable/wallaby,I8ac6684d9f03a48cc5dd3d712cbd2868b34e1013,Cap tenacity < 7.0.0,MERGED,2021-03-29 06:14:16.000000000,2021-03-31 09:58:00.000000000,2021-03-31 09:56:04.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-29 06:14:16.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/eeffd902d1e2366b7e796dfe418961aa46aaae6d', 'message': 'Cap tenacity < 7.0.0\n\nhttps://github.com/jd/tenacity/pull/274/files removed code\nwhich was still in use.\n\nChange-Id: I8ac6684d9f03a48cc5dd3d712cbd2868b34e1013\n(cherry picked from commit e7abc7070e9de182b7f4c5ae16e1d615f8d35c96)\n'}]",0,783600,eeffd902d1e2366b7e796dfe418961aa46aaae6d,7,2,1,4264,,,0,"Cap tenacity < 7.0.0

https://github.com/jd/tenacity/pull/274/files removed code
which was still in use.

Change-Id: I8ac6684d9f03a48cc5dd3d712cbd2868b34e1013
(cherry picked from commit e7abc7070e9de182b7f4c5ae16e1d615f8d35c96)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/00/783600/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,eeffd902d1e2366b7e796dfe418961aa46aaae6d,wallaby_tenacity,"tenacity>=4.12.0,<7.0.0 # Apache-2.0",tenacity>=4.12.0 # Apache-2.0,1,1
openstack%2Ftripleo-heat-templates~master~I75154fe9b61b4ac655ce06b3b5bbcbe31e1381fb,openstack/tripleo-heat-templates,master,I75154fe9b61b4ac655ce06b3b5bbcbe31e1381fb,Provide ability to deploy metrics_qdr using ansible,MERGED,2021-01-28 15:32:06.000000000,2021-03-31 09:54:02.000000000,2021-03-31 09:54:02.000000000,"[{'_account_id': 7144}, {'_account_id': 7294}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-01-28 15:32:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/be1aa8326f16fea5ede5615d8fbf79d4fbeb15b7', 'message': 'Provide ability to deploy metrics_qdr using ansible\n\nChange-Id: I75154fe9b61b4ac655ce06b3b5bbcbe31e1381fb\n'}, {'number': 2, 'created': '2021-01-28 16:34:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1f51e1ab177a394314753bfcac859ed5cbb90094', 'message': 'Provide ability to deploy metrics_qdr using ansible\n\nChange-Id: I75154fe9b61b4ac655ce06b3b5bbcbe31e1381fb\n'}, {'number': 3, 'created': '2021-02-10 18:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bc71d3315a04cf49c737d79c159759c230993a11', 'message': 'Provide ability to deploy metrics_qdr using ansible\n\nChange-Id: I75154fe9b61b4ac655ce06b3b5bbcbe31e1381fb\n'}, {'number': 4, 'created': '2021-02-17 18:52:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/365f019f6fad28aca130684f7a0028ef959f07b9', 'message': 'Provide ability to deploy metrics_qdr using ansible\n\nChange-Id: I75154fe9b61b4ac655ce06b3b5bbcbe31e1381fb\n'}, {'number': 5, 'created': '2021-02-23 15:36:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e49cb495bafc63f7787ff4f9ecb6775c27b4a62b', 'message': 'Provide ability to deploy metrics_qdr using ansible\n\nChange-Id: I75154fe9b61b4ac655ce06b3b5bbcbe31e1381fb\n'}, {'number': 6, 'created': '2021-02-24 19:12:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/92c04861609bdf6566ddb538b7dcbfeccc970cd3', 'message': 'Provide ability to deploy metrics_qdr using ansible\n\nChange-Id: I75154fe9b61b4ac655ce06b3b5bbcbe31e1381fb\nDepends-On: I28b76ae92c5a9ca773d0297483bd1f550b094e41\n'}, {'number': 7, 'created': '2021-03-03 20:48:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/66a7242c4ed4e8e74d104ec18ae2062bb7110b42', 'message': 'Provide ability to deploy metrics_qdr using ansible\n\nChange-Id: I75154fe9b61b4ac655ce06b3b5bbcbe31e1381fb\nDepends-On: I28b76ae92c5a9ca773d0297483bd1f550b094e41\n'}, {'number': 8, 'created': '2021-03-24 12:37:28.000000000', 'files': ['environments/metrics/qdr-form-controller-mesh-ansible.yaml', 'environments/metrics/qdr-edge-only-ansible.yaml', 'deployment/metrics/qdr-container-puppet.yaml', 'deployment/metrics/qdr-container-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5c21f8df6dd65aba12e73e338da563c8f4397b43', 'message': 'Provide ability to deploy metrics_qdr using ansible\n\nChange-Id: I75154fe9b61b4ac655ce06b3b5bbcbe31e1381fb\n'}]",4,772893,5c21f8df6dd65aba12e73e338da563c8f4397b43,83,8,8,30893,,,0,"Provide ability to deploy metrics_qdr using ansible

Change-Id: I75154fe9b61b4ac655ce06b3b5bbcbe31e1381fb
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/93/772893/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/metrics/qdr-form-controller-mesh-ansible.yaml', 'environments/metrics/qdr-edge-only-ansible.yaml', 'deployment/metrics/qdr-container-ansible.yaml']",3,be1aa8326f16fea5ede5615d8fbf79d4fbeb15b7,qdr-ansible,"--- heat_template_version: rocky description: > Qpid dispatch router service for metrics and monitoring purposes parameters: ContainerMetricsQdrImage: description: image type: string DefaultPasswords: default: {} type: json EnableInternalTLS: default: false type: boolean EndpointMap: default: {} description: Mapping of service endpoint -> protocol. Typically set via parameter_defaults in the resource registry. type: json InternalTLSCAFile: default: /etc/ipa/ca.crt description: Specifies the default CA cert to use if TLS is used for services in the internal network. type: string MetricsQdrAddresses: default: - distribution: multicast prefix: collectd - distribution: multicast prefix: ceilometer/metering.sample - distribution: multicast prefix: ceilometer/event.sample description: Addresses configuration (array of hashes). type: json MetricsQdrAuthenticateClient: default: 'no' description: Authenticate the client using SSL/TLS type: string MetricsQdrAutoLinks: default: [] description: AutoLinks for the Configured Addresses type: json MetricsQdrConnectors: default: [] description: Connectors configuration (array of hashes). type: json MetricsQdrExternalEndpoint: default: false description: 'Whether QDR should listen on external network interface. To enable listening on external network one must deploy QDRs in mesh mode.' type: boolean MetricsQdrLoggingSource: default: file: /var/log/containers/qdrouterd/metrics_qdr.log startmsg.regex: '^[0-9]{4}-[0-9]{2}-[0-9]{2} [0-9]{2}:[0-9]{2}:[0-9]{2}(.[0-9]+ \+[0-9]+)? [A-Z]+ \([a-z]+\) ' tag: openstack.nova.consoleauth type: json MetricsQdrPassword: default: guest description: Password which should be used to authenticate to the deployed qdrouterd. hidden: true type: string MetricsQdrPort: default: 5666 description: Service name or port number on which the qdrouterd will accept connections. type: number MetricsQdrSSLProfiles: default: [] description: SSL Profiles for the connectors (array of hashes). type: json MetricsQdrSaslMechanisms: default: ANONYMOUS description: List of accepted SASL auth mechanisms for listener in format of comma separated list. type: string MetricsQdrSslCertDb: default: '/etc/ipa/ca.crt' description: Path to SSL certificate db for listener. type: string MetricsQdrSslCertFile: default: '/etc/pki/tls/certs/metrics_qdr.crt' description: Path to SSL certificate file for listener. type: string MetricsQdrSslKeyFile: default: '/etc/pki/tls/private/metrics_qdr.key' description: Path to SSL private key file for listener. type: string MetricsQdrSslPassword: default: '' description: SSL password to be supplied for listener. type: string MetricsQdrSslPwFile: default: '' description: Path to SSL password file for certificate key for listener. type: string MetricsQdrTrustedCerts: default: '' description: Path to file containing trusted certificates for listener. type: string MetricsQdrUseEncryption: default: false description: Set to true if it is required to encrypt connection to the peer for listener. Not currently implemented, use EnableInternalTLS instead. This option can be ignored. type: boolean MetricsQdrUseSSL: default: false description: Set to true if it is required to use SSL or TLS on the connection for the local listener. !WARNING! Currently breaks connections from collectd and ceilometer. type: boolean MetricsQdrUsername: default: guest description: Username which should be used to authenticate to the deployed qdrouterd. type: string MonitoringSubscriptionQdr: default: overcloud-qdr type: string RoleName: default: '' description: Role name on which the service is applied type: string RoleParameters: default: {} description: Parameters specific to the role type: json ServiceData: default: {} description: Dictionary packing service data type: json ServiceNetMap: default: {} description: Mapping of service_name -> network name. Typically set via parameter_defaults in the resource registry. This mapping overrides those in ServiceNetMapDefaults. type: json ############################################################################## # The existing MetricsQdr parameters will be combined with # MetricsQdrVars in the MetricsQdrParametersValue below. Eventually, # these legacy parameters will be deprecated in favour of passing the # parameters into the MetricsQdrVars param below. # For backwards compatibility these legacy params will be accepted, but will # be overwritten by any element passed to MetricsQdrVars. # New configs should add the vars directly into the # MetricsQdrVars parameter, which will not require anymore # changes in THT to add new params. ############################################################################## MetricsQdrVars: default: {} description: Hash of qdr variables used to configure the qdr role. tags: - role_specific type: json conditions: internal_tls_enabled: {equals: [{get_param: EnableInternalTLS}, true]} resources: ContainersCommon: type: ../containers-common.yaml MetricsQdrParametersValue: type: OS::Heat::Value properties: type: json value: map_merge: - qdr_connectors: { get_param: MetricsQdrConnectors } qdr_autolink_addresses: { get_param: MetricsQdrAutoLinks } qdr_addresses: { get_param: MetricsQdrAddresses } qdr_listener_port: { get_param: MetricsQdrPort } qdr_ssl_profiles: { get_param: MetricsQdrSSLProfiles } qdr_listener_auth_peer: { get_param: MetricsQdrAuthenticateClient } qdr_listener_require_ssl: { get_param: MetricsQdrUseSSL } qdr_listener_sasl_mech: { get_param: MetricsQdrSaslMechanisms } qdr_listener_ssl_cert_db: { get_param: MetricsQdrSslCertDb } qdr_listener_ssl_cert_file: { get_param: MetricsQdrSslCertFile } qdr_listener_ssl_key_file: { get_param: MetricsQdrSslKeyFile } qdr_listener_use_encryption: { get_param: MetricsQdrUseEncryption } tripleo_enable_internal_tls: { get_param: EnableInternalTLS } ###### *CS These vars might need more work, still need to double-check # TODO: May need to re-implement logic for this one (currently a hardcoded path in the ansible I think?) tripleo_internal_tlscafile: { get_param: InternalTLSCAFile } # TODO: In puppet these two are used to create a sasldb user[1][2]. The qdr-config-ansible-role needs to be updated to handle this. # [1] https://review.opendev.org/plugins/gitiles/openstack/puppet-tripleo/+/refs/heads/master/manifests/profile/base/metrics/qdr.pp#224 # [2] https://review.opendev.org/plugins/gitiles/openstack/puppet-qdr/+/refs/heads/master/lib/puppet/provider/qdr_user/sasl.rb qdr_username: { get_param: MetricsQdrUsername } qdr_password: { get_param: MetricsQdrPassword } # RFE to add support for these SSL related options? Each of them exists in puppet-qdr[1s] but are unused[2s] # [1] https://review.opendev.org/plugins/gitiles/openstack/puppet-qdr/+/refs/heads/master/manifests/init.pp#170 # [2] https://github.com/openstack/puppet-qdr/search?q=listener_ssl_pw_file qdr_listener_ssl_pw_file: { get_param: MetricsQdrSslPwFile } # [1] https://review.opendev.org/plugins/gitiles/openstack/puppet-qdr/+/refs/heads/master/manifests/init.pp#171 # [2] https://github.com/openstack/puppet-qdr/search?q=listener_ssl_password qdr_listener_ssl_password: { get_param: MetricsQdrSslPassword } # [1] https://review.opendev.org/plugins/gitiles/openstack/puppet-qdr/+/refs/heads/master/manifests/init.pp#172 # [2] https://github.com/openstack/puppet-qdr/search?q=listener_trusted_certs qdr_listener_trusted_certs: { get_param: MetricsQdrTrustedCerts } ###### - { get_param: MetricsQdrVars } - { get_param: [RoleParameters, MetricsQdrVars] } outputs: role_data: description: Role data for the metrics Qdr role. value: service_name: qdr # For sensu monitoring_subscription: {get_param: MonitoringSubscriptionQdr} # See https://docs.openstack.org/tripleo-docs/latest/developer/tht_walkthrough/tls_for_services.html metadata_settings: if: - internal_tls_enabled - - service: metrics_qdr network: get_param: - ServiceNetMap - str_replace: template: ""ROLENAMEMetricsQdrNetwork"" params: ROLENAME: {get_param: RoleName} type: node - null kolla_config: /var/lib/kolla/config_files/metrics_qdr.json: command: /usr/sbin/qdrouterd -c /etc/qpid-dispatch/qdrouterd.conf config_files: - dest: /etc/qpid-dispatch/ merge: true preserve_properties: true source: /var/lib/kolla/config_files/src/* - dest: / merge: true optional: true preserve_properties: true source: /var/lib/kolla/config_files/src-tls/* permissions: - owner: qdrouterd:qdrouterd path: /var/lib/qdrouterd recurse: true - owner: qdrouterd:qdrouterd path: /var/log/qdrouterd recurse: true - optional: true owner: qdrouterd:qdrouterd path: /etc/pki/tls/certs/metrics_qdr.crt - optional: true owner: qdrouterd:qdrouterd path: /etc/pki/tls/private/metrics_qdr.key service_config_settings: rsyslog: tripleo_logging_sources_metrics_qdr: - {get_param: MetricsQdrLoggingSource} config_settings: map_merge: - tripleo::haproxy::metrics_qdr: {get_param: MetricsQdrExternalEndpoint} tripleo::metrics_qdr::firewall_rules: map_merge: - '109 metrics qdr': dport: - {get_param: MetricsQdrPort} - map_merge: repeat: for_each: <%net_cidr%>: {get_param: [ServiceData, net_cidr_map, ctlplane]} template: '109 accept internal metrics qdr ctlplane subnet <%net_cidr%>': dport: - 5667 - 5668 - if: - internal_tls_enabled - generate_service_certificates: true # These two are used here: https://review.opendev.org/plugins/gitiles/openstack/puppet-tripleo/+/refs/heads/master/files/certmonger-metrics-qdr-refresh.sh#8 tripleo::metrics::qdr::service_certificate: { get_param: MetricsQdrSslCertFile } tripleo::metrics::qdr::service_key: { get_param: MetricsQdrSslKeyFile } # This one is used here: https://review.opendev.org/plugins/gitiles/openstack/puppet-tripleo/+/refs/heads/master/manifests/profile/base/certmonger_user.pp#193 tripleo::profile::base::metrics::qdr::certificate_specs: service_certificate: { get_param: MetricsQdrSslCertFile } service_key: { get_param: MetricsQdrSslKeyFile } postsave_cmd: ""/usr/bin/certmonger-metrics-qdr-refresh.sh"" hostname: str_replace: template: ""%{hiera('fqdn_NETWORK')}"" params: NETWORK: get_param: - ServiceNetMap - str_replace: template: ""ROLENAMEMetricsQdrNetwork"" params: ROLENAME: {get_param: RoleName} principal: str_replace: template: ""metrics_qdr/%{hiera('fqdn_NETWORK')}"" params: NETWORK: get_param: - ServiceNetMap - str_replace: template: ""ROLENAMEMetricsQdrNetwork"" params: ROLENAME: {get_param: RoleName} - # Empty then docker_config: step_1: metrics_qdr: environment: KOLLA_CONFIG_STRATEGY: COPY_ALWAYS healthcheck: test: /openstack/healthcheck image: get_param: ContainerMetricsQdrImage net: host privileged: false restart: always start_order: 1 user: qdrouterd volumes: list_concat: - get_attr: - ContainersCommon - volumes - - /var/lib/kolla/config_files/metrics_qdr.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/ansible-generated/metrics_qdr:/var/lib/kolla/config_files/src:ro - /var/lib/metrics_qdr:/var/lib/qdrouterd:z - /var/log/containers/metrics_qdr:/var/log/qdrouterd:z - if: - internal_tls_enabled - - /etc/pki/tls/certs/metrics_qdr.crt:/var/lib/kolla/config_files/src-tls/etc/pki/tls/certs/metrics_qdr.crt:ro - /etc/pki/tls/private/metrics_qdr.key:/var/lib/kolla/config_files/src-tls/etc/pki/tls/private/metrics_qdr.key:ro - null host_prep_tasks: - name: Create required host directories for QDR file: mode: '{{ item.mode|default(omit) }}' path: '{{ item.path }}' setype: '{{ item.setype }}' state: directory with_items: - path: /var/log/containers/metrics_qdr setype: container_file_t mode: '0750' - path: /var/lib/metrics_qdr setype: container_file_t mode: '0750' - path: /var/lib/config-data/ansible-generated/metrics_qdr setype: container_file_t mode: '0750' deploy_steps_tasks: - name: QDR Config on step 1 when: step == '1' include_role: name: tripleo_qdr tasks_from: create_config vars: - {get_attr: [MetricsQdrParametersValue, value]} ",,417,0
openstack%2Fswift~master~I9ec411462e4aaf9f21aba6c5fd7698ff75a07de3,openstack/swift,master,I9ec411462e4aaf9f21aba6c5fd7698ff75a07de3,swift-manage-shard-ranges: add repair and analyze commands,MERGED,2020-12-04 20:51:54.000000000,2021-03-31 09:46:35.000000000,2021-03-31 09:42:08.000000000,"[{'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-04 20:51:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/13f265cf8a459274faf75cebd3688a6530d0fdfc', 'message': 'WIP: simple shard path ranking\n\nChange-Id: I9ec411462e4aaf9f21aba6c5fd7698ff75a07de3\n'}, {'number': 2, 'created': '2020-12-09 21:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/939a6eedb6293da1b8870268ce72330e45612326', 'message': 'WIP: simple shard path ranking\n\nChange-Id: I9ec411462e4aaf9f21aba6c5fd7698ff75a07de3\n'}, {'number': 3, 'created': '2020-12-10 14:24:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/68f5d9b489ccf5752df9e471ba94e1d18542fecb', 'message': ""swift-manage-shard-ranges: add repair and analyze commands\n\nAdds a repair command that reads shard ranges from the container DB,\nidentifies overlapping shard ranges and recommends how overlaps can be\nrepaired by shrinking into a single chosen path.  Prompted user input\nor a '-y' option will then cause the appropriately modified shard\nranges to be merged into the container DB.\n\nThe repair command does not fix gaps in shard range paths and can\ntherefore only succeed if there is at least one unbroken path of\nshards through the entire namespace.\n\nAlso adds an analyze command that loads shard data from a file and\nreports overlapping shard ranges, but takes no action.  The analyze\ncommand is similar to the repair command but reads shard data from\nfile rather than a container db and makes no changes to the db.\n\ne.g.:\n  swift-manage-shard-ranges db-file-name repair\n  swift-manage-shard-ranges dummy-db-file-name analyze shard-data.json\n\nfor more detail:\n  swift-manage-shard-ranges -v dummy-db-file-name analyze shard-data.json\n\nThe dummy-db-file-name is needed to keep argparse happy.\n\nChange-Id: I9ec411462e4aaf9f21aba6c5fd7698ff75a07de3\n""}, {'number': 4, 'created': '2020-12-11 15:01:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/58c5d0b954517685a7cdcb710986d4f63fe91679', 'message': ""swift-manage-shard-ranges: add repair and analyze commands\n\nAdds a repair command that reads shard ranges from the container DB,\nidentifies overlapping shard ranges and recommends how overlaps can be\nrepaired by shrinking into a single chosen path.  Prompted user input\nor a '-y' option will then cause the appropriately modified shard\nranges to be merged into the container DB.\n\nThe repair command does not fix gaps in shard range paths and can\ntherefore only succeed if there is at least one unbroken path of\nshards through the entire namespace.\n\nAlso adds an analyze command that loads shard data from a file and\nreports overlapping shard ranges, but takes no action.  The analyze\ncommand is similar to the repair command but reads shard data from\nfile rather than a container db and makes no changes to the db.\n\ne.g.:\n  swift-manage-shard-ranges db-file-name repair\n  swift-manage-shard-ranges dummy-db-file-name analyze shard-data.json\n\nfor more detail:\n  swift-manage-shard-ranges -v dummy-db-file-name analyze shard-data.json\n\nThe dummy-db-file-name is needed to keep argparse happy.\n\nChange-Id: I9ec411462e4aaf9f21aba6c5fd7698ff75a07de3\n""}, {'number': 5, 'created': '2020-12-11 15:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/51418bdd6644a11e56027e0728baa28b0c66bfe4', 'message': ""swift-manage-shard-ranges: add repair and analyze commands\n\nAdds a repair command that reads shard ranges from the container DB,\nidentifies overlapping shard ranges and recommends how overlaps can be\nrepaired by shrinking into a single chosen path.  Prompted user input\nor a '-y' option will then cause the appropriately modified shard\nranges to be merged into the container DB.\n\nThe repair command does not fix gaps in shard range paths and can\ntherefore only succeed if there is at least one unbroken path of\nshards through the entire namespace.\n\nAlso adds an analyze command that loads shard data from a file and\nreports overlapping shard ranges, but takes no action.  The analyze\ncommand is similar to the repair command but reads shard data from\nfile rather than a container db and makes no changes to the db.\n\ne.g.:\n  swift-manage-shard-ranges <db-file-name> repair\n  swift-manage-shard-ranges <shard-data.json> analyze\n\nfor more detail:\n  swift-manage-shard-ranges -v <shard-data.json> analyze\n\nChange-Id: I9ec411462e4aaf9f21aba6c5fd7698ff75a07de3\n""}, {'number': 6, 'created': '2020-12-14 18:43:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/685dcfce2d04ad2ac302070279a379165e5c63f0', 'message': ""swift-manage-shard-ranges: add repair and analyze commands\n\nAdds a repair command that reads shard ranges from the container DB,\nidentifies overlapping shard ranges and recommends how overlaps can be\nrepaired by shrinking into a single chosen path.  Prompted user input\nor a '-y' option will then cause the appropriately modified shard\nranges to be merged into the container DB.\n\nThe repair command does not fix gaps in shard range paths and can\ntherefore only succeed if there is at least one unbroken path of\nshards through the entire namespace.\n\nAlso adds an analyze command that loads shard data from a file and\nreports overlapping shard ranges, but takes no action.  The analyze\ncommand is similar to the repair command but reads shard data from\nfile rather than a container db and makes no changes to the db.\n\ne.g.:\n  swift-manage-shard-ranges <db-file-name> repair\n  swift-manage-shard-ranges <shard-data.json> analyze\n\nfor more detail:\n  swift-manage-shard-ranges -v <shard-data.json> analyze\n\nChange-Id: I9ec411462e4aaf9f21aba6c5fd7698ff75a07de3\n""}, {'number': 7, 'created': '2021-01-09 01:00:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b64dcf75b927111eaf17d9c7f4b939eeec485f45', 'message': ""swift-manage-shard-ranges: add repair and analyze commands\n\nAdds a repair command that reads shard ranges from the container DB,\nidentifies overlapping shard ranges and recommends how overlaps can be\nrepaired by shrinking into a single chosen path.  Prompted user input\nor a '-y' option will then cause the appropriately modified shard\nranges to be merged into the container DB.\n\nThe repair command does not fix gaps in shard range paths and can\ntherefore only succeed if there is at least one unbroken path of\nshards through the entire namespace.\n\nAlso adds an analyze command that loads shard data from a file and\nreports overlapping shard ranges, but takes no action.  The analyze\ncommand is similar to the repair command but reads shard data from\nfile rather than a container db and makes no changes to the db.\n\ne.g.:\n  swift-manage-shard-ranges <db-file-name> repair\n  swift-manage-shard-ranges <shard-data.json> analyze\n\nfor more detail:\n  swift-manage-shard-ranges -v <shard-data.json> analyze\n\nChange-Id: I9ec411462e4aaf9f21aba6c5fd7698ff75a07de3\n""}, {'number': 8, 'created': '2021-01-25 12:54:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1ee6eaf16e6740a77411de9af78f3176025dde67', 'message': ""swift-manage-shard-ranges: add repair and analyze commands\n\nAdds a repair command that reads shard ranges from the container DB,\nidentifies overlapping shard ranges and recommends how overlaps can be\nrepaired by shrinking into a single chosen path.  Prompted user input\nor a '-y' option will then cause the appropriately modified shard\nranges to be merged into the container DB.\n\nThe repair command does not fix gaps in shard range paths and can\ntherefore only succeed if there is at least one unbroken path of\nshards through the entire namespace.\n\nAlso adds an analyze command that loads shard data from a file and\nreports overlapping shard ranges, but takes no action.  The analyze\ncommand is similar to the repair command but reads shard data from\nfile rather than a container db and makes no changes to the db.\n\ne.g.:\n  swift-manage-shard-ranges <db-file-name> repair\n  swift-manage-shard-ranges <shard-data.json> analyze\n\nfor more detail:\n  swift-manage-shard-ranges -v <shard-data.json> analyze\n\nChange-Id: I9ec411462e4aaf9f21aba6c5fd7698ff75a07de3\n""}, {'number': 9, 'created': '2021-01-25 21:23:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/77678790f23d66ed39c6c56bd2f387543588decd', 'message': ""swift-manage-shard-ranges: add repair and analyze commands\n\nTODO:\n- test analyze command & donor/acceptor timestamp exclusivity\n- test ShardRangeList.name_timestamps\n\nAdds a repair command that reads shard ranges from the container DB,\nidentifies overlapping shard ranges and recommends how overlaps can be\nrepaired by shrinking into a single chosen path.  Prompted user input\nor a '-y' option will then cause the appropriately modified shard\nranges to be merged into the container DB.\n\nThe repair command does not fix gaps in shard range paths and can\ntherefore only succeed if there is at least one unbroken path of\nshards through the entire namespace.\n\nAlso adds an analyze command that loads shard data from a file and\nreports overlapping shard ranges, but takes no action.  The analyze\ncommand is similar to the repair command but reads shard data from\nfile rather than a container db and makes no changes to the db.\n\ne.g.:\n  swift-manage-shard-ranges <db-file-name> repair\n  swift-manage-shard-ranges <shard-data.json> analyze\n\nfor more detail:\n  swift-manage-shard-ranges -v <shard-data.json> analyze\n\nChange-Id: I9ec411462e4aaf9f21aba6c5fd7698ff75a07de3\n""}, {'number': 10, 'created': '2021-01-26 13:05:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/930fa4ec93d58cd4a918b1c332f9a3f4739d136e', 'message': ""swift-manage-shard-ranges: add repair and analyze commands\n\nAdds a repair command that reads shard ranges from the container DB,\nidentifies overlapping shard ranges and recommends how overlaps can be\nrepaired by shrinking into a single chosen path.  Prompted user input\nor a '-y' option will then cause the appropriately modified shard\nranges to be merged into the container DB.\n\nThe repair command does not fix gaps in shard range paths and can\ntherefore only succeed if there is at least one unbroken path of\nshards through the entire namespace.\n\nAlso adds an analyze command that loads shard data from a file and\nreports overlapping shard ranges, but takes no action.  The analyze\ncommand is similar to the repair command but reads shard data from\nfile rather than a container db and makes no changes to the db.\n\ne.g.:\n  swift-manage-shard-ranges <db-file-name> repair\n  swift-manage-shard-ranges <shard-data.json> analyze\n\nfor more detail:\n  swift-manage-shard-ranges -v <shard-data.json> analyze\n\nChange-Id: I9ec411462e4aaf9f21aba6c5fd7698ff75a07de3\n""}, {'number': 11, 'created': '2021-02-02 18:03:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/641ab695fdf81cb1fdfb600fa1580785b7890f08', 'message': ""swift-manage-shard-ranges: add repair and analyze commands\n\nAdds a repair command that reads shard ranges from the container DB,\nidentifies overlapping shard ranges and recommends how overlaps can be\nrepaired by shrinking into a single chosen path.  Prompted user input\nor a '-y' option will then cause the appropriately modified shard\nranges to be merged into the container DB.\n\nThe repair command does not fix gaps in shard range paths and can\ntherefore only succeed if there is at least one unbroken path of\nshards through the entire namespace.\n\nAlso adds an analyze command that loads shard data from a file and\nreports overlapping shard ranges, but takes no action.  The analyze\ncommand is similar to the repair command but reads shard data from\nfile rather than a container db and makes no changes to the db.\n\ne.g.:\n  swift-manage-shard-ranges <db-file-name> repair\n  swift-manage-shard-ranges <shard-data.json> analyze\n\nfor more detail:\n  swift-manage-shard-ranges -v <shard-data.json> analyze\n\nChange-Id: I9ec411462e4aaf9f21aba6c5fd7698ff75a07de3\n""}, {'number': 12, 'created': '2021-02-03 10:29:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/84dfe09d84092de07bbd82798bb127cf0f2311a5', 'message': ""swift-manage-shard-ranges: add repair and analyze commands\n\nAdds a repair command that reads shard ranges from the container DB,\nidentifies overlapping shard ranges and recommends how overlaps can be\nrepaired by shrinking into a single chosen path.  Prompted user input\nor a '-y' option will then cause the appropriately modified shard\nranges to be merged into the container DB.\n\nThe repair command does not fix gaps in shard range paths and can\ntherefore only succeed if there is at least one unbroken path of\nshards through the entire namespace.\n\nAlso adds an analyze command that loads shard data from a file and\nreports overlapping shard ranges, but takes no action.  The analyze\ncommand is similar to the repair command but reads shard data from\nfile rather than a container db and makes no changes to the db.\n\ne.g.:\n  swift-manage-shard-ranges <db-file-name> repair\n  swift-manage-shard-ranges <shard-data.json> analyze\n\nfor more detail:\n  swift-manage-shard-ranges -v <shard-data.json> analyze\n\nChange-Id: I9ec411462e4aaf9f21aba6c5fd7698ff75a07de3\n""}, {'number': 13, 'created': '2021-02-04 19:13:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b9442c744d53fdc636b7028ed0627fa078358f0c', 'message': ""swift-manage-shard-ranges: add repair and analyze commands\n\nAdds a repair command that reads shard ranges from the container DB,\nidentifies overlapping shard ranges and recommends how overlaps can be\nrepaired by shrinking into a single chosen path.  Prompted user input\nor a '-y' option will then cause the appropriately modified shard\nranges to be merged into the container DB.\n\nThe repair command does not fix gaps in shard range paths and can\ntherefore only succeed if there is at least one unbroken path of\nshards through the entire namespace.\n\nAlso adds an analyze command that loads shard data from a file and\nreports overlapping shard ranges, but takes no action.  The analyze\ncommand is similar to the repair command but reads shard data from\nfile rather than a container db and makes no changes to the db.\n\ne.g.:\n  swift-manage-shard-ranges <db-file-name> repair\n  swift-manage-shard-ranges <shard-data.json> analyze\n\nfor more detail:\n  swift-manage-shard-ranges -v <shard-data.json> analyze\n\nChange-Id: I9ec411462e4aaf9f21aba6c5fd7698ff75a07de3\n""}, {'number': 14, 'created': '2021-02-05 20:14:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c17ef610a215200517bff768053b975212ebf8dd', 'message': ""swift-manage-shard-ranges: add repair and analyze commands\n\nAdds a repair command that reads shard ranges from the container DB,\nidentifies overlapping shard ranges and recommends how overlaps can be\nrepaired by shrinking into a single chosen path.  Prompted user input\nor a '-y' option will then cause the appropriately modified shard\nranges to be merged into the container DB.\n\nThe repair command does not fix gaps in shard range paths and can\ntherefore only succeed if there is at least one unbroken path of\nshards through the entire namespace.\n\nAlso adds an analyze command that loads shard data from a file and\nreports overlapping shard ranges, but takes no action.  The analyze\ncommand is similar to the repair command but reads shard data from\nfile rather than a container db and makes no changes to the db.\n\ne.g.:\n  swift-manage-shard-ranges <db-file-name> repair\n  swift-manage-shard-ranges <shard-data.json> analyze\n\nfor more detail:\n  swift-manage-shard-ranges -v <shard-data.json> analyze\n\nChange-Id: I9ec411462e4aaf9f21aba6c5fd7698ff75a07de3\n""}, {'number': 15, 'created': '2021-02-08 09:19:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2e016058d49972ed5ecf96272d297828d54a9019', 'message': ""swift-manage-shard-ranges: add repair and analyze commands\n\nAdds a repair command that reads shard ranges from the container DB,\nidentifies overlapping shard ranges and recommends how overlaps can be\nrepaired by shrinking into a single chosen path.  Prompted user input\nor a '-y' option will then cause the appropriately modified shard\nranges to be merged into the container DB.\n\nThe repair command does not fix gaps in shard range paths and can\ntherefore only succeed if there is at least one unbroken path of\nshards through the entire namespace.\n\nAlso adds an analyze command that loads shard data from a file and\nreports overlapping shard ranges, but takes no action.  The analyze\ncommand is similar to the repair command but reads shard data from\nfile rather than a container db and makes no changes to the db.\n\ne.g.:\n  swift-manage-shard-ranges <db-file-name> repair\n  swift-manage-shard-ranges <shard-data.json> analyze\n\nto see more detail:\n  swift-manage-shard-ranges -v <shard-data.json> analyze\n\nChange-Id: I9ec411462e4aaf9f21aba6c5fd7698ff75a07de3\n""}, {'number': 16, 'created': '2021-02-15 09:49:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f4dcd6e52c613943e1851ac9561fedc5603e42fa', 'message': ""swift-manage-shard-ranges: add repair and analyze commands\n\nAdds a repair command that reads shard ranges from the container DB,\nidentifies overlapping shard ranges and recommends how overlaps can be\nrepaired by shrinking into a single chosen path.  Prompted user input\nor a '-y' option will then cause the appropriately modified shard\nranges to be merged into the container DB.\n\nThe repair command does not fix gaps in shard range paths and can\ntherefore only succeed if there is at least one unbroken path of\nshards through the entire namespace.\n\nAlso adds an analyze command that loads shard data from a file and\nreports overlapping shard ranges, but takes no action.  The analyze\ncommand is similar to the repair command but reads shard data from\nfile rather than a container db and makes no changes to the db.\n\ne.g.:\n  swift-manage-shard-ranges <db-file-name> repair\n  swift-manage-shard-ranges <shard-data.json> analyze\n\nto see more detail:\n  swift-manage-shard-ranges -v <shard-data.json> analyze\n\nChange-Id: I9ec411462e4aaf9f21aba6c5fd7698ff75a07de3\n""}, {'number': 17, 'created': '2021-02-15 11:57:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f9a245d0cbd8f0a5d2611d35778d1254e1c46233', 'message': ""swift-manage-shard-ranges: add repair and analyze commands\n\nAdds a repair command that reads shard ranges from the container DB,\nidentifies overlapping shard ranges and recommends how overlaps can be\nrepaired by shrinking into a single chosen path.  Prompted user input\nor a '-y' option will then cause the appropriately modified shard\nranges to be merged into the container DB.\n\nThe repair command does not fix gaps in shard range paths and can\ntherefore only succeed if there is at least one unbroken path of\nshards through the entire namespace.\n\nAlso adds an analyze command that loads shard data from a file and\nreports overlapping shard ranges, but takes no action.  The analyze\ncommand is similar to the repair command but reads shard data from\nfile rather than a container db and makes no changes to the db.\n\ne.g.:\n  swift-manage-shard-ranges <db-file-name> repair\n  swift-manage-shard-ranges <shard-data.json> analyze\n\nto see more detail:\n  swift-manage-shard-ranges -v <shard-data.json> analyze\n\nChange-Id: I9ec411462e4aaf9f21aba6c5fd7698ff75a07de3\n""}, {'number': 18, 'created': '2021-02-23 10:44:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e5c00e11330dadfc03216424cebb5ff156e3c5be', 'message': ""swift-manage-shard-ranges: add repair and analyze commands\n\nAdds a repair command that reads shard ranges from the container DB,\nidentifies overlapping shard ranges and recommends how overlaps can be\nrepaired by shrinking into a single chosen path.  Prompted user input\nor a '-y' option will then cause the appropriately modified shard\nranges to be merged into the container DB.\n\nThe repair command does not fix gaps in shard range paths and can\ntherefore only succeed if there is at least one unbroken path of\nshards through the entire namespace.\n\nAlso adds an analyze command that loads shard data from a file and\nreports overlapping shard ranges, but takes no action.  The analyze\ncommand is similar to the repair command but reads shard data from\nfile rather than a container db and makes no changes to the db.\n\ne.g.:\n  swift-manage-shard-ranges <db-file-name> repair\n  swift-manage-shard-ranges <shard-data.json> analyze\n\nto see more detail:\n  swift-manage-shard-ranges -v <shard-data.json> analyze\n\nChange-Id: I9ec411462e4aaf9f21aba6c5fd7698ff75a07de3\n""}, {'number': 19, 'created': '2021-02-23 11:09:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b35b1c5310d7ed60db9d5a3fd582f9db089c5861', 'message': ""swift-manage-shard-ranges: add repair and analyze commands\n\nAdds a repair command that reads shard ranges from the container DB,\nidentifies overlapping shard ranges and recommends how overlaps can be\nrepaired by shrinking into a single chosen path.  Prompted user input\nor a '-y' option will then cause the appropriately modified shard\nranges to be merged into the container DB.\n\nThe repair command does not fix gaps in shard range paths and can\ntherefore only succeed if there is at least one unbroken path of\nshards through the entire namespace.\n\nAlso adds an analyze command that loads shard data from a file and\nreports overlapping shard ranges, but takes no action.  The analyze\ncommand is similar to the repair command but reads shard data from\nfile rather than a container db and makes no changes to the db.\n\ne.g.:\n  swift-manage-shard-ranges <db-file-name> repair\n  swift-manage-shard-ranges <shard-data.json> analyze\n\nto see more detail:\n  swift-manage-shard-ranges -v <shard-data.json> analyze\n\nChange-Id: I9ec411462e4aaf9f21aba6c5fd7698ff75a07de3\n""}, {'number': 20, 'created': '2021-03-15 17:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6b177ef047877ad88fb6c51b4eb8404e4517c335', 'message': ""swift-manage-shard-ranges: add repair and analyze commands\n\nAdds a repair command that reads shard ranges from the container DB,\nidentifies overlapping shard ranges and recommends how overlaps can be\nrepaired by shrinking into a single chosen path.  Prompted user input\nor a '-y' option will then cause the appropriately modified shard\nranges to be merged into the container DB.\n\nThe repair command does not fix gaps in shard range paths and can\ntherefore only succeed if there is at least one unbroken path of\nshards through the entire namespace.\n\nAlso adds an analyze command that loads shard data from a file and\nreports overlapping shard ranges, but takes no action.  The analyze\ncommand is similar to the repair command but reads shard data from\nfile rather than a container db and makes no changes to the db.\n\ne.g.:\n  swift-manage-shard-ranges <db-file-name> repair\n  swift-manage-shard-ranges <shard-data.json> analyze\n\nto see more detail:\n  swift-manage-shard-ranges -v <shard-data.json> analyze\n\nChange-Id: I9ec411462e4aaf9f21aba6c5fd7698ff75a07de3\n""}, {'number': 21, 'created': '2021-03-17 18:30:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/dd776b23c75bb3f6f1865ac263e479d2c44d3830', 'message': ""swift-manage-shard-ranges: add repair and analyze commands\n\nAdds a repair command that reads shard ranges from the container DB,\nidentifies overlapping shard ranges and recommends how overlaps can be\nrepaired by shrinking into a single chosen path.  Prompted user input\nor a '-y' option will then cause the appropriately modified shard\nranges to be merged into the container DB.\n\nThe repair command does not fix gaps in shard range paths and can\ntherefore only succeed if there is at least one unbroken path of\nshards through the entire namespace.\n\nAlso adds an analyze command that loads shard data from a file and\nreports overlapping shard ranges, but takes no action.  The analyze\ncommand is similar to the repair command but reads shard data from\nfile rather than a container db and makes no changes to the db.\n\ne.g.:\n  swift-manage-shard-ranges <db-file-name> repair\n  swift-manage-shard-ranges <shard-data.json> analyze\n\nto see more detail:\n  swift-manage-shard-ranges -v <shard-data.json> analyze\n\nChange-Id: I9ec411462e4aaf9f21aba6c5fd7698ff75a07de3\n""}, {'number': 22, 'created': '2021-03-18 20:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f3c747373c0d28b18d2d196b362d89b1eb2e2a25', 'message': ""swift-manage-shard-ranges: add repair and analyze commands\n\nAdds a repair command that reads shard ranges from the container DB,\nidentifies overlapping shard ranges and recommends how overlaps can be\nrepaired by shrinking into a single chosen path.  Prompted user input\nor a '-y' option will then cause the appropriately modified shard\nranges to be merged into the container DB.\n\nThe repair command does not fix gaps in shard range paths and can\ntherefore only succeed if there is at least one unbroken path of\nshards through the entire namespace.\n\nAlso adds an analyze command that loads shard data from a file and\nreports overlapping shard ranges, but takes no action.  The analyze\ncommand is similar to the repair command but reads shard data from\nfile rather than a container db and makes no changes to the db.\n\ne.g.:\n  swift-manage-shard-ranges <db-file-name> repair\n  swift-manage-shard-ranges <shard-data.json> analyze\n\nto see more detail:\n  swift-manage-shard-ranges -v <shard-data.json> analyze\n\nChange-Id: I9ec411462e4aaf9f21aba6c5fd7698ff75a07de3\n""}, {'number': 23, 'created': '2021-03-18 20:20:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a9757c879d4f7868a9e3e57ce720087af875f186', 'message': ""swift-manage-shard-ranges: add repair and analyze commands\n\nAdds a repair command that reads shard ranges from the container DB,\nidentifies overlapping shard ranges and recommends how overlaps can be\nrepaired by shrinking into a single chosen path.  Prompted user input\nor a '-y' option will then cause the appropriately modified shard\nranges to be merged into the container DB.\n\nThe repair command does not fix gaps in shard range paths and can\ntherefore only succeed if there is at least one unbroken path of\nshards through the entire namespace.\n\nAlso adds an analyze command that loads shard data from a file and\nreports overlapping shard ranges, but takes no action.  The analyze\ncommand is similar to the repair command but reads shard data from\nfile rather than a container db and makes no changes to the db.\n\ne.g.:\n  swift-manage-shard-ranges <db-file-name> repair\n  swift-manage-shard-ranges <shard-data.json> analyze\n\nto see more detail:\n  swift-manage-shard-ranges -v <shard-data.json> analyze\n\nFor consistency with the new repair command, and to be more cautious,\nthis patch changes the user input required to apply the compact\ncommand changes to the DB from 'y' to 'yes'.\n\nChange-Id: I9ec411462e4aaf9f21aba6c5fd7698ff75a07de3\n""}, {'number': 24, 'created': '2021-03-24 14:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/257fa92691958f7811b8d4ed9978649fe9b7b9a2', 'message': ""swift-manage-shard-ranges: add repair and analyze commands\n\nAdds a repair command that reads shard ranges from the container DB,\nidentifies overlapping shard ranges and recommends how overlaps can be\nrepaired by shrinking into a single chosen path.  Prompted user input\nor a '-y' option will then cause the appropriately modified shard\nranges to be merged into the container DB.\n\nThe repair command does not fix gaps in shard range paths and can\ntherefore only succeed if there is at least one unbroken path of\nshards through the entire namespace.\n\nAlso adds an analyze command that loads shard data from a file and\nreports overlapping shard ranges, but takes no action.  The analyze\ncommand is similar to the repair command but reads shard data from\nfile rather than a container db and makes no changes to the db.\n\ne.g.:\n  swift-manage-shard-ranges <db-file-name> repair\n  swift-manage-shard-ranges <shard-data.json> analyze\n\nto see more detail:\n  swift-manage-shard-ranges -v <shard-data.json> analyze\n\nFor consistency with the new repair command, and to be more cautious,\nthis patch changes the user input required to apply the compact\ncommand changes to the DB from 'y' to 'yes'.\n\nChange-Id: I9ec411462e4aaf9f21aba6c5fd7698ff75a07de3\n""}, {'number': 25, 'created': '2021-03-25 11:23:05.000000000', 'files': ['swift/common/utils.py', 'test/unit/container/test_sharder.py', 'swift/cli/manage_shard_ranges.py', 'test/unit/cli/test_manage_shard_ranges.py', 'test/probe/test_sharder.py', 'test/unit/container/test_backend.py', 'swift/container/sharder.py', 'swift/container/backend.py', 'test/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/c9c42c07c9c6d354bd60b2e2d64b3db628b8e8f3', 'message': ""swift-manage-shard-ranges: add repair and analyze commands\n\nAdds a repair command that reads shard ranges from the container DB,\nidentifies overlapping shard ranges and recommends how overlaps can be\nrepaired by shrinking into a single chosen path.  Prompted user input\nor a '-y' option will then cause the appropriately modified shard\nranges to be merged into the container DB.\n\nThe repair command does not fix gaps in shard range paths and can\ntherefore only succeed if there is at least one unbroken path of\nshards through the entire namespace.\n\nAlso adds an analyze command that loads shard data from a file and\nreports overlapping shard ranges, but takes no action.  The analyze\ncommand is similar to the repair command but reads shard data from\nfile rather than a container db and makes no changes to the db.\n\ne.g.:\n  swift-manage-shard-ranges <db-file-name> repair\n  swift-manage-shard-ranges <shard-data.json> analyze\n\nto see more detail:\n  swift-manage-shard-ranges -v <shard-data.json> analyze\n\nFor consistency with the new repair command, and to be more cautious,\nthis patch changes the user input required to apply the compact\ncommand changes to the DB from 'y' to 'yes'.\n\nChange-Id: I9ec411462e4aaf9f21aba6c5fd7698ff75a07de3\n""}]",57,765624,c9c42c07c9c6d354bd60b2e2d64b3db628b8e8f3,71,4,25,7847,,,0,"swift-manage-shard-ranges: add repair and analyze commands

Adds a repair command that reads shard ranges from the container DB,
identifies overlapping shard ranges and recommends how overlaps can be
repaired by shrinking into a single chosen path.  Prompted user input
or a '-y' option will then cause the appropriately modified shard
ranges to be merged into the container DB.

The repair command does not fix gaps in shard range paths and can
therefore only succeed if there is at least one unbroken path of
shards through the entire namespace.

Also adds an analyze command that loads shard data from a file and
reports overlapping shard ranges, but takes no action.  The analyze
command is similar to the repair command but reads shard data from
file rather than a container db and makes no changes to the db.

e.g.:
  swift-manage-shard-ranges <db-file-name> repair
  swift-manage-shard-ranges <shard-data.json> analyze

to see more detail:
  swift-manage-shard-ranges -v <shard-data.json> analyze

For consistency with the new repair command, and to be more cautious,
this patch changes the user input required to apply the compact
command changes to the DB from 'y' to 'yes'.

Change-Id: I9ec411462e4aaf9f21aba6c5fd7698ff75a07de3
",git fetch https://review.opendev.org/openstack/swift refs/changes/24/765624/10 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/utils.py', 'test/unit/container/test_sharder.py', 'swift/container/sharder.py']",3,13f265cf8a459274faf75cebd3688a6530d0fdfc,p-shard-repair,"import collectionsclass Path(list): def __init__(self, existing=None): super(Path, self).__init__(existing) self.epochs = set() self.object_count = 0 @property def lower(self): return self[0].lower @property def upper(self): return self[-1].upper def update_stats(self): self.epochs = set() self.object_count = 0 for shard in self: self.epochs.add(shard.epoch) self.object_count += shard.object_count def get_nodes(self): return [sr.lower for sr in self] + [self.upper] def includes(self, other): return self.lower <= other.lower and self.upper >= other.upper # TODO: plumb into manage-shard-ranges def find_paths(shard_ranges): # A node is a point in the namespace that is used as a bound of any shard # range. Shard ranges form the edges between nodes. # First build a dict mapping nodes to a list of edges that leave that node # (in other words, shard ranges whose lower bound equals the node) node_successors = collections.defaultdict(list) for shard_range in shard_ranges: node_successors[shard_range.lower].append(shard_range) # We're going to accumulate a list of all Paths through the shard ranges paths = [] def clone_path(existing=None): # create a new Path, possibly cloning an existing path, and add it to # the list of all paths through the shards path = Path() if existing is None else Path(existing) paths.append(path) return path # we need to keep track of every path that ends at each node so that when # we visit the node we can extend those paths, or clones of them, with the # edges that leave the node paths_to_node = collections.defaultdict(list) # visit the nodes in ascending order by name... for node, edges in sorted(node_successors.items()): if not edges: # this node is a dead-end, so there's no path updates to make continue if not paths_to_node[node]: # this is either the first node to be visited, or it has no paths # leading to it, so we need to start a new path here paths_to_node[node].append(clone_path([])) for path_to_node in paths_to_node[node]: # extend each path that arrives at this node with all of the # possible edges that leave the node; if more than edge leaves the # node then we will make clones of the path to the node and extend # those clones, adding to the collection of all paths though the # shards for i, edge in enumerate(edges): if i == len(edges) - 1: # the last edge is used to extend the original path to the # node; there is nothing special about the last edge, but # doing this last means the original path to the node can # be cloned for all other edges before being modified here path = path_to_node else: # for all but one of the edges leaving the node we need to # make a clone the original path path = clone_path(path_to_node) # extend the path with the edge path.append(edge) # keep track of which node this path now arrives at paths_to_node[edge.upper].append(path) return paths def rank_paths(paths, shard_range): def sort_key(path): # defines the order of preference for paths through shards return ( path.includes(shard_range), # complete path -1 * len(path.epochs), # fewer epochs path.object_count, # larger object count shard_range.epoch in path.epochs, # overlaps with epoch sorted(path.epochs)[-1] # newest epoch ) for path in paths: # get epochs and object counts for each path updated path.update_stats() paths.sort(key=sort_key) return paths ",,238,5
openstack%2Fnova~master~Icd25006f31c8e34fe33d79779e0577dc78f96a24,openstack/nova,master,Icd25006f31c8e34fe33d79779e0577dc78f96a24,docs: Use proper headers in nova-manage man page,MERGED,2020-05-07 16:15:00.000000000,2021-03-31 09:45:10.000000000,2021-03-31 09:42:53.000000000,"[{'_account_id': 4690}, {'_account_id': 9708}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2020-05-07 16:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e46026dd2e8c4c8b4126f594cfb3da85c2ef76e6', 'message': 'docs: Use proper headers in nova-manage man page\n\nThis is step one in improving the usability of these docs. The current\nstyle makes it impossible to link to individual commands. There is a\nbetter way. Use headers along with code blocks to show the actual\ncommand. This was mostly generated from a find-replace along with some\nfollow-up manual fixes.\n\nChange-Id: Icd25006f31c8e34fe33d79779e0577dc78f96a24\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2020-05-19 09:17:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/80567ed0b8e1f8acf8f7f358f0a60229f49f131b', 'message': 'docs: Use proper headers in nova-manage man page\n\nThis is step one in improving the usability of these docs. The current\nstyle makes it impossible to link to individual commands. There is a\nbetter way. Use headers along with code blocks to show the actual\ncommand. This was mostly generated from a find-replace along with some\nfollow-up manual fixes.\n\nChange-Id: Icd25006f31c8e34fe33d79779e0577dc78f96a24\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2020-05-21 11:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/03eccca5e8d35430d6f778a0921001c89b6f9807', 'message': 'docs: Use proper headers in nova-manage man page\n\nThis is step one in improving the usability of these docs. The current\nstyle makes it impossible to link to individual commands from the built\ndocs. There is a better way. Use headers along with code blocks to show\nthe actual command. This was mostly generated from a find-replace along\nwith some follow-up manual fixes.\n\nChange-Id: Icd25006f31c8e34fe33d79779e0577dc78f96a24\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2021-03-18 15:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bf239728f2f10b54ea28acdb25933259f28527b4', 'message': 'docs: Use proper headers in nova-manage man page\n\nThis is step one in improving the usability of these docs. The current\nstyle makes it impossible to link to individual commands from the built\ndocs. There is a better way. Use headers along with code blocks to show\nthe actual command. This was mostly generated from a find-replace along\nwith some follow-up manual fixes.\n\nChange-Id: Icd25006f31c8e34fe33d79779e0577dc78f96a24\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 5, 'created': '2021-03-18 18:00:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1072df1a664d4ff9890e09cb5b9a4da5f8946a0a', 'message': 'docs: Use proper headers in nova-manage man page\n\nThis is step one in improving the usability of these docs. The current\nstyle makes it impossible to link to individual commands from the built\ndocs. There is a better way. Use headers along with code blocks to show\nthe actual command. This was mostly generated from a find-replace along\nwith some follow-up manual fixes.\n\nChange-Id: Icd25006f31c8e34fe33d79779e0577dc78f96a24\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 6, 'created': '2021-03-30 11:19:59.000000000', 'files': ['doc/source/cli/nova-manage.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/59e2b38c80ff223ffe14f8053505af15c8393b37', 'message': 'docs: Use proper headers in nova-manage man page\n\nThis is step one in improving the usability of these docs. The current\nstyle makes it impossible to link to individual commands from the built\ndocs. There is a better way. Use headers along with code blocks to show\nthe actual command. This was mostly generated from a find-replace along\nwith some follow-up manual fixes.\n\nChange-Id: Icd25006f31c8e34fe33d79779e0577dc78f96a24\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",15,726191,59e2b38c80ff223ffe14f8053505af15c8393b37,41,9,6,15334,,,0,"docs: Use proper headers in nova-manage man page

This is step one in improving the usability of these docs. The current
style makes it impossible to link to individual commands from the built
docs. There is a better way. Use headers along with code blocks to show
the actual command. This was mostly generated from a find-replace along
with some follow-up manual fixes.

Change-Id: Icd25006f31c8e34fe33d79779e0577dc78f96a24
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/91/726191/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/cli/nova-manage.rst'],1,e46026dd2e8c4c8b4126f594cfb3da85c2ef76e6,docs,"Nova Database Commands ---------------------- db version ~~~~~~~~~~ .. program:: nova-manage db version .. code-block:: shell nova-manage db version Print the current main database version. db sync ~~~~~~~ .. program:: nova-manage db sync .. code-block:: shell nova-manage db sync [--local_cell] [VERSION] Upgrade the main database schema up to the most recent version or ``VERSION`` if specified. By default, this command will also attempt to upgrade the schema for the cell0 database if it is mapped (see the ``map_cell0`` or ``simple_cell_setup`` commands for more details on mapping the cell0 database). If ``--local_cell`` is specified, then only the main database in the current cell is upgraded. The local database connection is determined by :oslo.config:option:`database.connection` in the configuration file, passed to nova-manage using the ``--config-file`` option(s). This command should be run after ``nova-manage api_db sync``. Returns exit code 0 if the database schema was synced successfully, or 1 if cell0 cannot be accessed. db archive_deleted_rows ~~~~~~~~~~~~~~~~~~~~~~~ .. program:: nova-manage db archive_deleted_rows .. code-block:: shell nova-manage db archive_deleted_rows [--max_rows <number>] [--verbose] [--until-complete] [--before <date>] [--purge] [--all-cells] Move deleted rows from production tables to shadow tables. Note that the corresponding rows in the ``instance_mappings``, ``request_specs`` and ``instance_group_member`` tables of the API database are purged when instance records are archived and thus, :oslo.config:option:`api_database.connection` is required in the config file. Specifying ``--verbose`` will print the results of the archive operation for any tables that were changed. Specifying ``--until-complete`` will make the command run continuously until all deleted rows are archived. Use the ``--max_rows`` option, which defaults to 1000, as a batch size for each iteration (note that the purged API database table records are not included in this batch size). Specifying ``--before`` will archive only instances that were deleted before the date_ provided, and records in other tables related to those instances. Specifying ``--purge`` will cause a *full* DB purge to be completed after archival. If a date range is desired for the purge, then run ``nova-manage db purge --before <date>`` manually after archiving is complete. Specifying ``--all-cells`` will cause the process to run against all cell databases. **Return Codes** .. list-table:: :widths: 20 80 :header-rows: 1 * - Return code - Description * - 0 - Nothing was archived. * - 1 - Some number of rows were archived. * - 2 - Invalid value for ``--max_rows``. * - 3 - No connection to the API database could be established using :oslo.config:option:`api_database.connection`. * - 4 - Invalid value for ``--before``. * - 255 - An unexpected error occurred. If automating, this should be run continuously while the result is 1, stopping at 0, or use the ``--until-complete`` option. db purge ~~~~~~~~ .. program:: nova-manage db purge .. code-block:: shell nova-manage db purge [--all] [--before <date>] [--verbose] [--all-cells] Delete rows from shadow tables. Specifying ``--all`` will delete all data from all shadow tables. Specifying ``--before`` will delete data from all shadow tables that is older than the date_ provided. Specifying ``--verbose`` will cause information to be printed about purged records. Specifying ``--all-cells`` will cause the purge to be applied against all cell databases. For ``--all-cells`` to work, the api database connection information must be configured. Returns exit code 0 if rows were deleted, 1 if required arguments are not provided, 2 if an invalid date is provided, 3 if no data was deleted, 4 if the list of cells cannot be obtained. db null_instance_uuid_scan ~~~~~~~~~~~~~~~~~~~~~~~~~~ .. program:: nova-manage db null_instance_uuid_scan .. code-block:: shell nova-manage db null_instance_uuid_scan [--delete] Lists and optionally deletes database records where instance_uuid is NULL. db online_data_migrations ~~~~~~~~~~~~~~~~~~~~~~~~~ .. program:: nova-manage db online_data_migrations .. code-block:: shell nova-manage db online_data_migrations [--max-count] Perform data migration to update all live data. ``--max-count`` controls the maximum number of objects to migrate in a given call. If not specified, migration will occur in batches of 50 until fully complete. Returns exit code 0 if no (further) updates are possible, 1 if the ``--max-count`` option was used and some updates were completed successfully (even if others generated errors), 2 if some updates generated errors and no other migrations were able to take effect in the last batch attempted, or 127 if invalid input is provided (e.g. non-numeric max-count). This command should be called after upgrading database schema and nova services on all controller nodes. If it exits with partial updates (exit status 1) it should be called again, even if some updates initially generated errors, because some updates may depend on others having completed. If it exits with status 2, intervention is required to resolve the issue causing remaining updates to fail. It should be considered successfully completed only when the exit status is 0. For example:: $ nova-manage db online_data_migrations Running batches of 50 until complete 2 rows matched query migrate_instances_add_request_spec, 0 migrated 2 rows matched query populate_queued_for_delete, 2 migrated +---------------------------------------------+--------------+-----------+ | Migration | Total Needed | Completed | +---------------------------------------------+--------------+-----------+ | create_incomplete_consumers | 0 | 0 | | migrate_instances_add_request_spec | 2 | 0 | | migrate_quota_classes_to_api_db | 0 | 0 | | migrate_quota_limits_to_api_db | 0 | 0 | | migration_migrate_to_uuid | 0 | 0 | | populate_missing_availability_zones | 0 | 0 | | populate_queued_for_delete | 2 | 2 | | populate_uuids | 0 | 0 | +---------------------------------------------+--------------+-----------+ In the above example, the ``migrate_instances_add_request_spec`` migration found two candidate records but did not need to perform any kind of data migration for either of them. In the case of the ``populate_queued_for_delete`` migration, two candidate records were found which did require a data migration. Since ``--max-count`` defaults to 50 and only two records were migrated with no more candidates remaining, the command completed successfully with exit code 0. db ironic_flavor_migration ~~~~~~~~~~~~~~~~~~~~~~~~~~ .. program:: nova-manage db ironic_flavor_migration .. code-block:: shell nova-manage db ironic_flavor_migration [--all] [--host] [--node] [--resource_class] Perform the ironic flavor migration process against the database while services are offline. This is *not recommended* for most people. The ironic compute driver will do this online and as necessary if run normally. This routine is provided only for advanced users that may be skipping the 16.0.0 Pike release, never able to run services normally at the Pike level. Since this utility is for use when all services (including ironic) are down, you must pass the resource class set on your node(s) with the ``--resource_class`` parameter. To migrate a specific host and node, provide the hostname and node uuid with ``--host $hostname --node $uuid``. To migrate all instances on nodes managed by a single host, provide only ``--host``. To iterate over all nodes in the system in a single pass, use ``--all``. Note that this process is not lightweight, so it should not be run frequently without cause, although it is not harmful to do so. If you have multiple cellsv2 cells, you should run this once per cell with the corresponding cell config for each (i.e. this does not iterate cells automatically). Note that this is not recommended unless you need to run this specific data migration offline, and it should be used with care as the work done is non-trivial. Running smaller and more targeted batches (such as specific nodes) is recommended.Nova API Database Commands -------------------------- api_db version ~~~~~~~~~~~~~~ .. program:: nova-manage api_db version .. code-block:: shell nova-manage api_db version Print the current API database version. api_db sync ~~~~~~~~~~~ .. program:: nova-manage api_db sync .. code-block:: shell nova-manage api_db sync [VERSION] Upgrade the API database schema up to the most recent version or ``VERSION`` if specified. This command does not create the API database, it runs schema migration scripts. The API database connection is determined by :oslo.config:option:`api_database.connection` in the configuration file passed to nova-manage. In the 18.0.0 Rocky or 19.0.0 Stein release, this command will also upgrade the optional placement database if ``[placement_database]/connection`` is configured. Returns exit code 0 if the database schema was synced successfully. This command should be run before ``nova-manage db sync``.Nova Cells v2 Commands ---------------------- cell_v2 simple_cell_setup ~~~~~~~~~~~~~~~~~~~~~~~~~ .. program:: nova-manage cell_v2 simple_cell_setup .. code-block:: shell nova-manage cell_v2 simple_cell_setup [--transport-url <transport_url>] Setup a fresh cells v2 environment. If a ``transport_url`` is not specified, it will use the one defined by :oslo.config:option:`transport_url` in the configuration file. Returns 0 if setup is completed (or has already been done), 1 if no hosts are reporting (and cannot be mapped) and 1 if the transport url is missing or invalid. cell_v2 map_cell0 ~~~~~~~~~~~~~~~~~ .. program:: nova-manage cell_v2 map_cell0 .. code-block:: shell nova-manage cell_v2 map_cell0 [--database_connection <database_connection>] Create a cell mapping to the database connection for the cell0 database. If a database_connection is not specified, it will use the one defined by :oslo.config:option:`database.connection` in the configuration file passed to nova-manage. The cell0 database is used for instances that have not been scheduled to any cell. This generally applies to instances that have encountered an error before they have been scheduled. Returns 0 if cell0 is created successfully or already setup. cell_v2 map_instances ~~~~~~~~~~~~~~~~~~~~~ .. program:: nova-manage cell_v2 map_instances .. code-block:: shell nova-manage cell_v2 map_instances --cell_uuid <cell_uuid> [--max-count <max_count>] [--reset] Map instances to the provided cell. Instances in the nova database will be queried from oldest to newest and mapped to the provided cell. A ``--max-count`` can be set on the number of instance to map in a single run. Repeated runs of the command will start from where the last run finished so it is not necessary to increase ``--max-count`` to finish. A ``--reset`` option can be passed which will reset the marker, thus making the command start from the beginning as opposed to the default behavior of starting from where the last run finished. If ``--max-count`` is not specified, all instances in the cell will be mapped in batches of 50. If you have a large number of instances, consider specifying a custom value and run the command until it exits with 0. **Return Codes** .. list-table:: :widths: 20 80 :header-rows: 1 * - Return code - Description * - 0 - All instances have been mapped. * - 1 - There are still instances to be mapped. * - 127 - Invalid value for ``--max-count``. * - 255 - An unexpected error occurred. cell_v2 map_cell_and_hosts ~~~~~~~~~~~~~~~~~~~~~~~~~~ .. program:: nova-manage cell_v2 map_cell_and_hosts .. code-block:: shell nova-manage cell_v2 map_cell_and_hosts [--name <cell_name>] [--transport-url <transport_url>] [--verbose] Create a cell mapping to the database connection and message queue transport url, and map hosts to that cell. The database connection comes from the :oslo.config:option:`database.connection` defined in the configuration file passed to nova-manage. If a transport_url is not specified, it will use the one defined by :oslo.config:option:`transport_url` in the configuration file. This command is idempotent (can be run multiple times), and the verbose option will print out the resulting cell mapping uuid. Returns 0 on successful completion, and 1 if the transport url is missing or invalid. cell_v2 verify_instance ~~~~~~~~~~~~~~~~~~~~~~~ .. program:: nova-manage cell_v2 verify_instance .. code-block:: shell nova-manage cell_v2 verify_instance --uuid <instance_uuid> [--quiet] Verify instance mapping to a cell. This command is useful to determine if the cells v2 environment is properly setup, specifically in terms of the cell, host, and instance mapping records required. Returns 0 when the instance is successfully mapped to a cell, 1 if the instance is not mapped to a cell (see the ``map_instances`` command), 2 if the cell mapping is missing (see the ``map_cell_and_hosts`` command if you are upgrading from a cells v1 environment, and the ``simple_cell_setup`` if you are upgrading from a non-cells v1 environment), 3 if it is a deleted instance which has instance mapping, and 4 if it is an archived instance which still has an instance mapping. cell_v2 create_cell ~~~~~~~~~~~~~~~~~~~ .. program:: nova-manage cell_v2 create_cell .. code-block:: shell nova-manage cell_v2 create_cell [--name <cell_name>] [--transport-url <transport_url>] [--database_connection <database_connection>] [--verbose] [--disabled] Create a cell mapping to the database connection and message queue transport url. If a database_connection is not specified, it will use the one defined by :oslo.config:option:`database.connection` in the configuration file passed to nova-manage. If a transport_url is not specified, it will use the one defined by :oslo.config:option:`transport_url` in the configuration file. The verbose option will print out the resulting cell mapping uuid. All the cells created are by default enabled. However passing the ``--disabled`` option can create a pre-disabled cell, meaning no scheduling will happen to this cell. The meaning of the various exit codes returned by this command are explained below: * Returns 0 if the cell mapping was successfully created. * Returns 1 if the transport url or database connection was missing or invalid. * Returns 2 if another cell is already using that transport url and/or database connection combination. cell_v2 discover_hosts ~~~~~~~~~~~~~~~~~~~~~~~ .. program:: nova-manage cell_v2 discover_hosts .. code-block:: shell nova-manage cell_v2 discover_hosts [--cell_uuid <cell_uuid>] [--verbose] [--strict] [--by-service] Searches cells, or a single cell, and maps found hosts. This command will check the database for each cell (or a single one if passed in) and map any hosts which are not currently mapped. If a host is already mapped, nothing will be done. You need to re-run this command each time you add a batch of compute hosts to a cell (otherwise the scheduler will never place instances there and the API will not list the new hosts). If ``--strict`` is specified, the command will only return 0 if an unmapped host was discovered and mapped successfully. If ``--by-service`` is specified, this command will look in the appropriate cell(s) for any nova-compute services and ensure there are host mappings for them. This is less efficient and is only necessary when using compute drivers that may manage zero or more actual compute nodes at any given time (currently only ironic). This command should be run once after all compute hosts have been deployed and should not be run in parallel. When run in parallel, the commands will collide with each other trying to map the same hosts in the database at the same time. The meaning of the various exit codes returned by this command are explained below: * Returns 0 if hosts were successfully mapped or no hosts needed to be mapped. If ``--strict`` is specified, returns 0 only if an unmapped host was discovered and mapped. * Returns 1 if ``--strict`` is specified and no unmapped hosts were found. Also returns 1 if an exception was raised while running. * Returns 2 if the command aborted because of a duplicate host mapping found. This means the command collided with another running discover_hosts command or scheduler periodic task and is safe to retry. cell_v2 list_cells ~~~~~~~~~~~~~~~~~~ .. program:: nova-manage cell_v2 list_cells .. code-block:: shell nova-manage cell_v2 list_cells [--verbose] By default the cell name, uuid, disabled state, masked transport URL and database connection details are shown. Use the ``--verbose`` option to see transport URL and database connection with their sensitive details. cell_v2 delete_cell ~~~~~~~~~~~~~~~~~~~ .. program:: nova-manage cell_v2 delete_cell .. code-block:: shell nova-manage cell_v2 delete_cell [--force] --cell_uuid <cell_uuid> Delete a cell by the given uuid. Returns 0 if the empty cell is found and deleted successfully or the cell that has hosts is found and the cell, hosts and the instance_mappings are deleted successfully with ``--force`` option (this happens if there are no living instances), 1 if a cell with that uuid could not be found, 2 if host mappings were found for the cell (cell not empty) without ``--force`` option, 3 if there are instances mapped to the cell (cell not empty) irrespective of the ``--force`` option, and 4 if there are instance mappings to the cell but all instances have been deleted in the cell, again without the ``--force`` option. cell_v2 list_hosts ~~~~~~~~~~~~~~~~~~ .. program:: nova-manage cell_v2 list_hosts .. code-block:: shell nova-manage cell_v2 list_hosts [--cell_uuid <cell_uuid>] Lists the hosts in one or all v2 cells. By default hosts in all v2 cells are listed. Use the ``--cell_uuid`` option to list hosts in a specific cell. If the cell is not found by uuid, this command will return an exit code of 1. Otherwise, the exit code will be 0. cell_v2 update_cell ~~~~~~~~~~~~~~~~~~~ .. program:: nova-manage cell_v2 update_cell .. code-block:: shell nova-manage cell_v2 update_cell --cell_uuid <cell_uuid> [--name <cell_name>] [--transport-url <transport_url>] [--database_connection <database_connection>] [--disable] [--enable] Updates the properties of a cell by the given uuid. If a database_connection is not specified, it will attempt to use the one defined by :oslo.config:option:`database.connection` in the configuration file. If a transport_url is not specified, it will attempt to use the one defined by :oslo.config:option:`transport_url` in the configuration file. The meaning of the various exit codes returned by this command are explained below: * If successful, it will return 0. * If the cell is not found by the provided uuid, it will return 1. * If the properties cannot be set, it will return 2. * If the provided transport_url or/and database_connection is/are same as another cell, it will return 3. * If an attempt is made to disable and enable a cell at the same time, it will return 4. * If an attempt is made to disable or enable cell0 it will return 5. .. note:: Updating the ``transport_url`` or ``database_connection`` fields on a running system will NOT result in all nodes immediately using the new values. Use caution when changing these values. The scheduler will not notice that a cell has been enabled/disabled until it is restarted or sent the SIGHUP signal. cell_v2 delete_host ~~~~~~~~~~~~~~~~~~~ .. program:: nova-manage cell_v2 delete_host .. code-block:: shell nova-manage cell_v2 delete_host --cell_uuid <cell_uuid> --host <host> Delete a host by the given host name and the given cell uuid. Returns 0 if the empty host is found and deleted successfully, 1 if a cell with that uuid could not be found, 2 if a host with that name could not be found, 3 if a host with that name is not in a cell with that uuid, 4 if a host with that name has instances (host not empty). .. note:: The scheduler caches host-to-cell mapping information so when deleting a host the scheduler may need to be restarted or sent the SIGHUP signal. Placement Commands ------------------placement heal_allocations ~~~~~~~~~~~~~~~~~~~~~~~~~~ .. program:: nova-manage placement heal_allocations .. code-block:: shell nova-manage placement heal_allocations [--max-count <max_count>] [--verbose] [--skip-port-allocations] [--dry-run] [--instance <instance_uuid>] [--cell <cell_uuid] Iterates over non-cell0 cells looking for instances which do not have allocations in the Placement service and which are not undergoing a task state transition. For each instance found, allocations are created against the compute node resource provider for that instance based on the flavor associated with the instance. Also if the instance has any port attached that has resource request (e.g. :neutron-doc:`Quality of Service (QoS): Guaranteed Bandwidth <admin/config-qos-min-bw.html>`) but the corresponding allocation is not found then the allocation is created against the network device resource providers according to the resource request of that port. It is possible that the missing allocation cannot be created either due to not having enough resource inventory on the host the instance resides on or because more than one resource provider could fulfill the request. In this case the instance needs to be manually deleted or the port needs to be detached. When nova `supports migrating instances with guaranteed bandwidth ports`_, migration will heal missing allocations for these instances. Before the allocations for the ports are persisted in placement nova-manage tries to update each port in neutron to refer to the resource provider UUID which provides the requested resources. If any of the port updates fail in neutron or the allocation update fails in placement the command tries to roll back the partial updates to the ports. If the roll back fails then the process stops with exit code ``7`` and the admin needs to do the rollback in neutron manually according to the description in the exit code section. .. _supports migrating instances with guaranteed bandwidth ports: https://specs.openstack.org/openstack/nova-specs/specs/train/approved/support-move-ops-with-qos-ports.html There is also a special case handled for instances that *do* have allocations created before Placement API microversion 1.8 where project_id and user_id values were required. For those types of allocations, the project_id and user_id are updated using the values from the instance. Specify ``--max-count`` to control the maximum number of instances to process. If not specified, all instances in each cell will be mapped in batches of 50. If you have a large number of instances, consider specifying a custom value and run the command until it exits with 0 or 4. Specify ``--verbose`` to get detailed progress output during execution. Specify ``--dry-run`` to print output but not commit any changes. The return code should be 4. *(Since 20.0.0 Train)* Specify ``--instance`` to process a specific instance given its UUID. If specified the ``--max-count`` option has no effect. *(Since 20.0.0 Train)* Specify ``--skip-port-allocations`` to skip the healing of the resource allocations of bound ports, e.g. healing bandwidth resource allocation for ports having minimum QoS policy rules attached. If your deployment does not use such a feature then the performance impact of querying neutron ports for each instance can be avoided with this flag. *(Since 20.0.0 Train)* Specify ``--cell`` to process heal allocations within a specific cell. This is mutually exclusive with the ``--instance`` option. This command requires that the :oslo.config:option:`api_database.connection` and :oslo.config:group:`placement` configuration options are set. Placement API >= 1.28 is required. **Return Codes** .. list-table:: :widths: 20 80 :header-rows: 1 * - Return code - Description * - 0 - Command completed successfully and allocations were created. * - 1 - ``--max-count`` was reached and there are more instances to process. * - 2 - Unable to find a compute node record for a given instance. * - 3 - Unable to create (or update) allocations for an instance against its compute node resource provider. * - 4 - Command completed successfully but no allocations were created. * - 5 - Unable to query ports from neutron * - 6 - Unable to update ports in neutron * - 7 - Cannot roll back neutron port updates. Manual steps needed. The error message will indicate which neutron ports need to be changed to clean up ``binding:profile`` of the port:: $ openstack port unset <port_uuid> --binding-profile allocation * - 127 - Invalid input. * - 255 - An unexpected error occurred.placement sync_aggregates ~~~~~~~~~~~~~~~~~~~~~~~~~ .. program:: nova-manage placement sync_aggregates .. code-block:: shell nova-manage placement sync_aggregates [--verbose] Mirrors compute host aggregates to resource provider aggregates in the Placement service. Requires the :oslo.config:group:`api_database` and :oslo.config:group:`placement` sections of the nova configuration file to be populated. Specify ``--verbose`` to get detailed progress output during execution. .. note:: Depending on the size of your deployment and the number of compute hosts in aggregates, this command could cause a non-negligible amount of traffic to the placement service and therefore is recommended to be run during maintenance windows. .. versionadded:: Rocky **Return Codes** .. list-table:: :widths: 20 80 :header-rows: 1 * - Return code - Description * - 0 - Successful run * - 1 - A host was found with more than one matching compute node record * - 2 - An unexpected error occurred while working with the placement API * - 3 - Failed updating provider aggregates in placement * - 4 - Host mappings not found for one or more host aggregate members * - 5 - Compute node records not found for one or more hosts * - 6 - Resource provider not found by uuid for a given host * - 255 - An unexpected error occurred. placement audit ~~~~~~~~~~~~~~~ .. program:: nova-manage placement audit .. code-block:: shell nova-manage placement audit [--verbose] [--delete] [--resource_provider <uuid>] Iterates over all the Resource Providers (or just one if you provide the UUID) and then verifies if the compute allocations are either related to an existing instance or a migration UUID. If not, it will tell which allocations are orphaned. You can also ask to delete all the orphaned allocations by specifying ``-delete``. Specify ``--verbose`` to get detailed progress output during execution. This command requires that the :oslo.config:option:`api_database.connection` and :oslo.config:group:`placement` configuration options are set. Placement API >= 1.14 is required. **Return Codes** .. list-table:: :widths: 20 80 :header-rows: 1 * - Return code - Description * - 0 - No orphaned allocations were found * - 1 - An unexpected error occurred * - 3 - Orphaned allocations were found * - 4 - All found orphaned allocations were deleted * - 127 - Invalid input","Nova Database ~~~~~~~~~~~~~ ``nova-manage db version`` Print the current main database version. ``nova-manage db sync [--local_cell] [VERSION]`` Upgrade the main database schema up to the most recent version or ``VERSION`` if specified. By default, this command will also attempt to upgrade the schema for the cell0 database if it is mapped (see the ``map_cell0`` or ``simple_cell_setup`` commands for more details on mapping the cell0 database). If ``--local_cell`` is specified, then only the main database in the current cell is upgraded. The local database connection is determined by :oslo.config:option:`database.connection` in the configuration file, passed to nova-manage using the ``--config-file`` option(s). This command should be run after ``nova-manage api_db sync``. Returns exit code 0 if the database schema was synced successfully, or 1 if cell0 cannot be accessed. ``nova-manage db archive_deleted_rows [--max_rows <number>] [--verbose] [--until-complete] [--before <date>] [--purge] [--all-cells]`` Move deleted rows from production tables to shadow tables. Note that the corresponding rows in the ``instance_mappings``, ``request_specs`` and ``instance_group_member`` tables of the API database are purged when instance records are archived and thus, :oslo.config:option:`api_database.connection` is required in the config file. Specifying ``--verbose`` will print the results of the archive operation for any tables that were changed. Specifying ``--until-complete`` will make the command run continuously until all deleted rows are archived. Use the ``--max_rows`` option, which defaults to 1000, as a batch size for each iteration (note that the purged API database table records are not included in this batch size). Specifying ``--before`` will archive only instances that were deleted before the date_ provided, and records in other tables related to those instances. Specifying ``--purge`` will cause a *full* DB purge to be completed after archival. If a date range is desired for the purge, then run ``nova-manage db purge --before <date>`` manually after archiving is complete. Specifying ``--all-cells`` will cause the process to run against all cell databases. **Return Codes** .. list-table:: :widths: 20 80 :header-rows: 1 * - Return code - Description * - 0 - Nothing was archived. * - 1 - Some number of rows were archived. * - 2 - Invalid value for ``--max_rows``. * - 3 - No connection to the API database could be established using :oslo.config:option:`api_database.connection`. * - 4 - Invalid value for ``--before``. * - 255 - An unexpected error occurred. If automating, this should be run continuously while the result is 1, stopping at 0, or use the ``--until-complete`` option. ``nova-manage db purge [--all] [--before <date>] [--verbose] [--all-cells]`` Delete rows from shadow tables. Specifying ``--all`` will delete all data from all shadow tables. Specifying ``--before`` will delete data from all shadow tables that is older than the date_ provided. Specifying ``--verbose`` will cause information to be printed about purged records. Specifying ``--all-cells`` will cause the purge to be applied against all cell databases. For ``--all-cells`` to work, the api database connection information must be configured. Returns exit code 0 if rows were deleted, 1 if required arguments are not provided, 2 if an invalid date is provided, 3 if no data was deleted, 4 if the list of cells cannot be obtained. ``nova-manage db null_instance_uuid_scan [--delete]`` Lists and optionally deletes database records where instance_uuid is NULL. ``nova-manage db online_data_migrations [--max-count]`` Perform data migration to update all live data. ``--max-count`` controls the maximum number of objects to migrate in a given call. If not specified, migration will occur in batches of 50 until fully complete. Returns exit code 0 if no (further) updates are possible, 1 if the ``--max-count`` option was used and some updates were completed successfully (even if others generated errors), 2 if some updates generated errors and no other migrations were able to take effect in the last batch attempted, or 127 if invalid input is provided (e.g. non-numeric max-count). This command should be called after upgrading database schema and nova services on all controller nodes. If it exits with partial updates (exit status 1) it should be called again, even if some updates initially generated errors, because some updates may depend on others having completed. If it exits with status 2, intervention is required to resolve the issue causing remaining updates to fail. It should be considered successfully completed only when the exit status is 0. For example:: $ nova-manage db online_data_migrations Running batches of 50 until complete 2 rows matched query migrate_instances_add_request_spec, 0 migrated 2 rows matched query populate_queued_for_delete, 2 migrated +---------------------------------------------+--------------+-----------+ | Migration | Total Needed | Completed | +---------------------------------------------+--------------+-----------+ | create_incomplete_consumers | 0 | 0 | | migrate_instances_add_request_spec | 2 | 0 | | migrate_quota_classes_to_api_db | 0 | 0 | | migrate_quota_limits_to_api_db | 0 | 0 | | migration_migrate_to_uuid | 0 | 0 | | populate_missing_availability_zones | 0 | 0 | | populate_queued_for_delete | 2 | 2 | | populate_uuids | 0 | 0 | +---------------------------------------------+--------------+-----------+ In the above example, the ``migrate_instances_add_request_spec`` migration found two candidate records but did not need to perform any kind of data migration for either of them. In the case of the ``populate_queued_for_delete`` migration, two candidate records were found which did require a data migration. Since ``--max-count`` defaults to 50 and only two records were migrated with no more candidates remaining, the command completed successfully with exit code 0. ``nova-manage db ironic_flavor_migration [--all] [--host] [--node] [--resource_class]`` Perform the ironic flavor migration process against the database while services are offline. This is *not recommended* for most people. The ironic compute driver will do this online and as necessary if run normally. This routine is provided only for advanced users that may be skipping the 16.0.0 Pike release, never able to run services normally at the Pike level. Since this utility is for use when all services (including ironic) are down, you must pass the resource class set on your node(s) with the ``--resource_class`` parameter. To migrate a specific host and node, provide the hostname and node uuid with ``--host $hostname --node $uuid``. To migrate all instances on nodes managed by a single host, provide only ``--host``. To iterate over all nodes in the system in a single pass, use ``--all``. Note that this process is not lightweight, so it should not be run frequently without cause, although it is not harmful to do so. If you have multiple cellsv2 cells, you should run this once per cell with the corresponding cell config for each (i.e. this does not iterate cells automatically). Note that this is not recommended unless you need to run this specific data migration offline, and it should be used with care as the work done is non-trivial. Running smaller and more targeted batches (such as specific nodes) is recommended.Nova API Database ~~~~~~~~~~~~~~~~~ ``nova-manage api_db version`` Print the current API database version. ``nova-manage api_db sync [VERSION]`` Upgrade the API database schema up to the most recent version or ``VERSION`` if specified. This command does not create the API database, it runs schema migration scripts. The API database connection is determined by :oslo.config:option:`api_database.connection` in the configuration file passed to nova-manage. In the 18.0.0 Rocky or 19.0.0 Stein release, this command will also upgrade the optional placement database if ``[placement_database]/connection`` is configured. Returns exit code 0 if the database schema was synced successfully. This command should be run before ``nova-manage db sync``.Nova Cells v2 ~~~~~~~~~~~~~ ``nova-manage cell_v2 simple_cell_setup [--transport-url <transport_url>]`` Setup a fresh cells v2 environment. If a ``transport_url`` is not specified, it will use the one defined by :oslo.config:option:`transport_url` in the configuration file. Returns 0 if setup is completed (or has already been done), 1 if no hosts are reporting (and cannot be mapped) and 1 if the transport url is missing or invalid. ``nova-manage cell_v2 map_cell0 [--database_connection <database_connection>]`` Create a cell mapping to the database connection for the cell0 database. If a database_connection is not specified, it will use the one defined by :oslo.config:option:`database.connection` in the configuration file passed to nova-manage. The cell0 database is used for instances that have not been scheduled to any cell. This generally applies to instances that have encountered an error before they have been scheduled. Returns 0 if cell0 is created successfully or already setup. ``nova-manage cell_v2 map_instances --cell_uuid <cell_uuid> [--max-count <max_count>] [--reset]`` Map instances to the provided cell. Instances in the nova database will be queried from oldest to newest and mapped to the provided cell. A ``--max-count`` can be set on the number of instance to map in a single run. Repeated runs of the command will start from where the last run finished so it is not necessary to increase ``--max-count`` to finish. A ``--reset`` option can be passed which will reset the marker, thus making the command start from the beginning as opposed to the default behavior of starting from where the last run finished. If ``--max-count`` is not specified, all instances in the cell will be mapped in batches of 50. If you have a large number of instances, consider specifying a custom value and run the command until it exits with 0. **Return Codes** .. list-table:: :widths: 20 80 :header-rows: 1 * - Return code - Description * - 0 - All instances have been mapped. * - 1 - There are still instances to be mapped. * - 127 - Invalid value for ``--max-count``. * - 255 - An unexpected error occurred. ``nova-manage cell_v2 map_cell_and_hosts [--name <cell_name>] [--transport-url <transport_url>] [--verbose]`` Create a cell mapping to the database connection and message queue transport url, and map hosts to that cell. The database connection comes from the :oslo.config:option:`database.connection` defined in the configuration file passed to nova-manage. If a transport_url is not specified, it will use the one defined by :oslo.config:option:`transport_url` in the configuration file. This command is idempotent (can be run multiple times), and the verbose option will print out the resulting cell mapping uuid. Returns 0 on successful completion, and 1 if the transport url is missing or invalid. ``nova-manage cell_v2 verify_instance --uuid <instance_uuid> [--quiet]`` Verify instance mapping to a cell. This command is useful to determine if the cells v2 environment is properly setup, specifically in terms of the cell, host, and instance mapping records required. Returns 0 when the instance is successfully mapped to a cell, 1 if the instance is not mapped to a cell (see the ``map_instances`` command), 2 if the cell mapping is missing (see the ``map_cell_and_hosts`` command if you are upgrading from a cells v1 environment, and the ``simple_cell_setup`` if you are upgrading from a non-cells v1 environment), 3 if it is a deleted instance which has instance mapping, and 4 if it is an archived instance which still has an instance mapping. ``nova-manage cell_v2 create_cell [--name <cell_name>] [--transport-url <transport_url>] [--database_connection <database_connection>] [--verbose] [--disabled]`` Create a cell mapping to the database connection and message queue transport url. If a database_connection is not specified, it will use the one defined by :oslo.config:option:`database.connection` in the configuration file passed to nova-manage. If a transport_url is not specified, it will use the one defined by :oslo.config:option:`transport_url` in the configuration file. The verbose option will print out the resulting cell mapping uuid. All the cells created are by default enabled. However passing the ``--disabled`` option can create a pre-disabled cell, meaning no scheduling will happen to this cell. The meaning of the various exit codes returned by this command are explained below: * Returns 0 if the cell mapping was successfully created. * Returns 1 if the transport url or database connection was missing or invalid. * Returns 2 if another cell is already using that transport url and/or database connection combination. ``nova-manage cell_v2 discover_hosts [--cell_uuid <cell_uuid>] [--verbose] [--strict] [--by-service]`` Searches cells, or a single cell, and maps found hosts. This command will check the database for each cell (or a single one if passed in) and map any hosts which are not currently mapped. If a host is already mapped, nothing will be done. You need to re-run this command each time you add a batch of compute hosts to a cell (otherwise the scheduler will never place instances there and the API will not list the new hosts). If ``--strict`` is specified, the command will only return 0 if an unmapped host was discovered and mapped successfully. If ``--by-service`` is specified, this command will look in the appropriate cell(s) for any nova-compute services and ensure there are host mappings for them. This is less efficient and is only necessary when using compute drivers that may manage zero or more actual compute nodes at any given time (currently only ironic). This command should be run once after all compute hosts have been deployed and should not be run in parallel. When run in parallel, the commands will collide with each other trying to map the same hosts in the database at the same time. The meaning of the various exit codes returned by this command are explained below: * Returns 0 if hosts were successfully mapped or no hosts needed to be mapped. If ``--strict`` is specified, returns 0 only if an unmapped host was discovered and mapped. * Returns 1 if ``--strict`` is specified and no unmapped hosts were found. Also returns 1 if an exception was raised while running. * Returns 2 if the command aborted because of a duplicate host mapping found. This means the command collided with another running discover_hosts command or scheduler periodic task and is safe to retry. ``nova-manage cell_v2 list_cells [--verbose]`` By default the cell name, uuid, disabled state, masked transport URL and database connection details are shown. Use the ``--verbose`` option to see transport URL and database connection with their sensitive details. ``nova-manage cell_v2 delete_cell [--force] --cell_uuid <cell_uuid>`` Delete a cell by the given uuid. Returns 0 if the empty cell is found and deleted successfully or the cell that has hosts is found and the cell, hosts and the instance_mappings are deleted successfully with ``--force`` option (this happens if there are no living instances), 1 if a cell with that uuid could not be found, 2 if host mappings were found for the cell (cell not empty) without ``--force`` option, 3 if there are instances mapped to the cell (cell not empty) irrespective of the ``--force`` option, and 4 if there are instance mappings to the cell but all instances have been deleted in the cell, again without the ``--force`` option. ``nova-manage cell_v2 list_hosts [--cell_uuid <cell_uuid>]`` Lists the hosts in one or all v2 cells. By default hosts in all v2 cells are listed. Use the ``--cell_uuid`` option to list hosts in a specific cell. If the cell is not found by uuid, this command will return an exit code of 1. Otherwise, the exit code will be 0. ``nova-manage cell_v2 update_cell --cell_uuid <cell_uuid> [--name <cell_name>] [--transport-url <transport_url>] [--database_connection <database_connection>] [--disable] [--enable]`` Updates the properties of a cell by the given uuid. If a database_connection is not specified, it will attempt to use the one defined by :oslo.config:option:`database.connection` in the configuration file. If a transport_url is not specified, it will attempt to use the one defined by :oslo.config:option:`transport_url` in the configuration file. The meaning of the various exit codes returned by this command are explained below: * If successful, it will return 0. * If the cell is not found by the provided uuid, it will return 1. * If the properties cannot be set, it will return 2. * If the provided transport_url or/and database_connection is/are same as another cell, it will return 3. * If an attempt is made to disable and enable a cell at the same time, it will return 4. * If an attempt is made to disable or enable cell0 it will return 5. .. note:: Updating the ``transport_url`` or ``database_connection`` fields on a running system will NOT result in all nodes immediately using the new values. Use caution when changing these values. The scheduler will not notice that a cell has been enabled/disabled until it is restarted or sent the SIGHUP signal. ``nova-manage cell_v2 delete_host --cell_uuid <cell_uuid> --host <host>`` Delete a host by the given host name and the given cell uuid. Returns 0 if the empty host is found and deleted successfully, 1 if a cell with that uuid could not be found, 2 if a host with that name could not be found, 3 if a host with that name is not in a cell with that uuid, 4 if a host with that name has instances (host not empty). .. note:: The scheduler caches host-to-cell mapping information so when deleting a host the scheduler may need to be restarted or sent the SIGHUP signal. Placement ~~~~~~~~~``nova-manage placement heal_allocations [--max-count <max_count>] [--verbose] [--skip-port-allocations] [--dry-run] [--instance <instance_uuid>] [--cell <cell_uuid]`` Iterates over non-cell0 cells looking for instances which do not have allocations in the Placement service and which are not undergoing a task state transition. For each instance found, allocations are created against the compute node resource provider for that instance based on the flavor associated with the instance. Also if the instance has any port attached that has resource request (e.g. :neutron-doc:`Quality of Service (QoS): Guaranteed Bandwidth <admin/config-qos-min-bw.html>`) but the corresponding allocation is not found then the allocation is created against the network device resource providers according to the resource request of that port. It is possible that the missing allocation cannot be created either due to not having enough resource inventory on the host the instance resides on or because more than one resource provider could fulfill the request. In this case the instance needs to be manually deleted or the port needs to be detached. When nova `supports migrating instances with guaranteed bandwidth ports`_, migration will heal missing allocations for these instances. Before the allocations for the ports are persisted in placement nova-manage tries to update each port in neutron to refer to the resource provider UUID which provides the requested resources. If any of the port updates fail in neutron or the allocation update fails in placement the command tries to roll back the partial updates to the ports. If the roll back fails then the process stops with exit code ``7`` and the admin needs to do the rollback in neutron manually according to the description in the exit code section. .. _supports migrating instances with guaranteed bandwidth ports: https://specs.openstack.org/openstack/nova-specs/specs/train/approved/support-move-ops-with-qos-ports.html There is also a special case handled for instances that *do* have allocations created before Placement API microversion 1.8 where project_id and user_id values were required. For those types of allocations, the project_id and user_id are updated using the values from the instance. Specify ``--max-count`` to control the maximum number of instances to process. If not specified, all instances in each cell will be mapped in batches of 50. If you have a large number of instances, consider specifying a custom value and run the command until it exits with 0 or 4. Specify ``--verbose`` to get detailed progress output during execution. Specify ``--dry-run`` to print output but not commit any changes. The return code should be 4. *(Since 20.0.0 Train)* Specify ``--instance`` to process a specific instance given its UUID. If specified the ``--max-count`` option has no effect. *(Since 20.0.0 Train)* Specify ``--skip-port-allocations`` to skip the healing of the resource allocations of bound ports, e.g. healing bandwidth resource allocation for ports having minimum QoS policy rules attached. If your deployment does not use such a feature then the performance impact of querying neutron ports for each instance can be avoided with this flag. *(Since 20.0.0 Train)* Specify ``--cell`` to process heal allocations within a specific cell. This is mutually exclusive with the ``--instance`` option. This command requires that the :oslo.config:option:`api_database.connection` and :oslo.config:group:`placement` configuration options are set. Placement API >= 1.28 is required. **Return Codes** .. list-table:: :widths: 20 80 :header-rows: 1 * - Return code - Description * - 0 - Command completed successfully and allocations were created. * - 1 - ``--max-count`` was reached and there are more instances to process. * - 2 - Unable to find a compute node record for a given instance. * - 3 - Unable to create (or update) allocations for an instance against its compute node resource provider. * - 4 - Command completed successfully but no allocations were created. * - 5 - Unable to query ports from neutron * - 6 - Unable to update ports in neutron * - 7 - Cannot roll back neutron port updates. Manual steps needed. The error message will indicate which neutron ports need to be changed to clean up ``binding:profile`` of the port:: $ openstack port unset <port_uuid> --binding-profile allocation * - 127 - Invalid input. * - 255 - An unexpected error occurred.``nova-manage placement sync_aggregates [--verbose]`` Mirrors compute host aggregates to resource provider aggregates in the Placement service. Requires the :oslo.config:group:`api_database` and :oslo.config:group:`placement` sections of the nova configuration file to be populated. Specify ``--verbose`` to get detailed progress output during execution. .. note:: Depending on the size of your deployment and the number of compute hosts in aggregates, this command could cause a non-negligible amount of traffic to the placement service and therefore is recommended to be run during maintenance windows. .. versionadded:: Rocky **Return Codes** .. list-table:: :widths: 20 80 :header-rows: 1 * - Return code - Description * - 0 - Successful run * - 1 - A host was found with more than one matching compute node record * - 2 - An unexpected error occurred while working with the placement API * - 3 - Failed updating provider aggregates in placement * - 4 - Host mappings not found for one or more host aggregate members * - 5 - Compute node records not found for one or more hosts * - 6 - Resource provider not found by uuid for a given host * - 255 - An unexpected error occurred. ``nova-manage placement audit [--verbose] [--delete] [--resource_provider <uuid>]`` Iterates over all the Resource Providers (or just one if you provide the UUID) and then verifies if the compute allocations are either related to an existing instance or a migration UUID. If not, it will tell which allocations are orphaned. You can also ask to delete all the orphaned allocations by specifying ``-delete``. Specify ``--verbose`` to get detailed progress output during execution. This command requires that the :oslo.config:option:`api_database.connection` and :oslo.config:group:`placement` configuration options are set. Placement API >= 1.14 is required. **Return Codes** .. list-table:: :widths: 20 80 :header-rows: 1 * - Return code - Description * - 0 - No orphaned allocations were found * - 1 - An unexpected error occurred * - 3 - Orphaned allocations were found * - 4 - All found orphaned allocations were deleted * - 127 - Invalid input",650,447
openstack%2Fswift~master~Idf29c6866fec7b413c4369dce13c4788666c0934,openstack/swift,master,Idf29c6866fec7b413c4369dce13c4788666c0934,s3api: Transfer REMOTE_USER when using s3_acl,MERGED,2020-10-12 18:37:12.000000000,2021-03-31 09:44:59.000000000,2021-03-31 09:41:40.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-12 18:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/32e9c81e0327fee97c2e8ee50921b49cfc5b912e', 'message': ""s3api: Transfer REMOTE_USER when using s3_acl\n\nSome middlewares (notably staticweb) use the absence of a REMOTE_USER to\ndetermine that a request was unauthenticated and as a sresult should be\nhandled differently. This could cause problems for S3 requests that\nwere authenticated via s3api's custom auth logic, including\n\n* server errors when a container listing request gets handled by\n  staticweb or\n* losing storage policy information because staticweb copied the request\n  environment.\n\nChange-Id: Idf29c6866fec7b413c4369dce13c4788666c0934\nCloses-Bug: #1833287\nRelated-Change: I5fe5ab31d6b2d9f7b6ecb3bfa246433a78e54808\n""}, {'number': 2, 'created': '2021-01-09 00:11:13.000000000', 'files': ['test/unit/common/middleware/s3api/test_s3_acl.py', 'swift/common/middleware/s3api/s3request.py', 'test/functional/s3api/test_bucket.py', 'test/functional/test_staticweb.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/d022781bc614dba68d9b1122815fb52267ebd17e', 'message': ""s3api: Transfer REMOTE_USER when using s3_acl\n\nSome middlewares (notably staticweb) use the absence of a REMOTE_USER to\ndetermine that a request was unauthenticated and as a result should be\nhandled differently. This could cause problems for S3 requests that\nwere authenticated via s3api's custom auth logic, including\n\n* server errors when a container listing request gets handled by\n  staticweb or\n* losing storage policy information because staticweb copied the request\n  environment.\n\nChange-Id: Idf29c6866fec7b413c4369dce13c4788666c0934\nCloses-Bug: #1833287\nRelated-Change: I5fe5ab31d6b2d9f7b6ecb3bfa246433a78e54808\n""}]",2,757636,d022781bc614dba68d9b1122815fb52267ebd17e,16,2,2,15343,,,0,"s3api: Transfer REMOTE_USER when using s3_acl

Some middlewares (notably staticweb) use the absence of a REMOTE_USER to
determine that a request was unauthenticated and as a result should be
handled differently. This could cause problems for S3 requests that
were authenticated via s3api's custom auth logic, including

* server errors when a container listing request gets handled by
  staticweb or
* losing storage policy information because staticweb copied the request
  environment.

Change-Id: Idf29c6866fec7b413c4369dce13c4788666c0934
Closes-Bug: #1833287
Related-Change: I5fe5ab31d6b2d9f7b6ecb3bfa246433a78e54808
",git fetch https://review.opendev.org/openstack/swift refs/changes/36/757636/2 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/middleware/s3api/test_s3_acl.py', 'swift/common/middleware/s3api/s3request.py', 'test/functional/s3api/test_bucket.py']",3,32e9c81e0327fee97c2e8ee50921b49cfc5b912e,,"from test.functional.swift_test_client import Connection def test_bucket_listing_with_staticweb(self): bucket = 'bucket' resp = self.conn.create_bucket(Bucket=bucket) self.assertEqual(200, resp['ResponseMetadata']['HTTPStatusCode']) resp = self.conn.list_objects(Bucket=bucket) self.assertEqual(200, resp['ResponseMetadata']['HTTPStatusCode']) # enable staticweb listings; make publicly-readable conn = Connection(tf.config) conn.authenticate() post_status = conn.make_request('POST', [bucket], hdrs={ 'X-Container-Read': '.r:*,.rlistings', 'X-Container-Meta-Web-Listings': 'true', }) self.assertEqual(post_status, 204) resp = self.conn.list_objects(Bucket=bucket) self.assertEqual(200, resp['ResponseMetadata']['HTTPStatusCode']) ",,25,0
openstack%2Fkayobe~stable%2Fussuri~I18f67eda4e48058f3f402b9d0e692d6eeb02855f,openstack/kayobe,stable/ussuri,I18f67eda4e48058f3f402b9d0e692d6eeb02855f,Avoid fact gathering for group_by,MERGED,2021-03-30 09:10:52.000000000,2021-03-31 09:40:05.000000000,2021-03-31 09:37:53.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28022}]","[{'number': 1, 'created': '2021-03-30 09:10:52.000000000', 'files': ['ansible/physical-network.yml', 'ansible/overcloud-bios-raid.yml', 'ansible/overcloud-grafana-configure.yml', 'ansible/provision-net.yml', 'ansible/overcloud-ipa-build.yml', 'ansible/overcloud-ipa-images.yml', 'ansible/overcloud-introspection-rules-dell-lldp-workaround.yml', 'ansible/kayobe-ansible-user.yml', 'ansible/overcloud-introspection-rules.yml', 'ansible/kolla-openstack.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d64d415fac126e21873553b0f9e3a931fd9c47af', 'message': ""Avoid fact gathering for group_by\n\nThere are a few places where we have a play with one task that uses the\ngroup_by module to generate groups that are used in a subsequent play.\nThese plays do not need to gather facts for their target hosts.\n\nIn particular, the kolla-openstack.yml playbook should really be able to\noperate without access to remote hosts.\n\nThis change also adds changed_when: false to all group_by tasks, since\nthey show as changed but haven't really made any changes outside of\nAnsible.\n\nTrivialFix\n\nChange-Id: I18f67eda4e48058f3f402b9d0e692d6eeb02855f\n(cherry picked from commit 388dfa369c9608f252dc946123c1801999931f6f)\n""}]",0,783693,d64d415fac126e21873553b0f9e3a931fd9c47af,17,4,1,14826,,,0,"Avoid fact gathering for group_by

There are a few places where we have a play with one task that uses the
group_by module to generate groups that are used in a subsequent play.
These plays do not need to gather facts for their target hosts.

In particular, the kolla-openstack.yml playbook should really be able to
operate without access to remote hosts.

This change also adds changed_when: false to all group_by tasks, since
they show as changed but haven't really made any changes outside of
Ansible.

TrivialFix

Change-Id: I18f67eda4e48058f3f402b9d0e692d6eeb02855f
(cherry picked from commit 388dfa369c9608f252dc946123c1801999931f6f)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/93/783693/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/physical-network.yml', 'ansible/overcloud-bios-raid.yml', 'ansible/overcloud-grafana-configure.yml', 'ansible/provision-net.yml', 'ansible/overcloud-ipa-build.yml', 'ansible/overcloud-ipa-images.yml', 'ansible/overcloud-introspection-rules-dell-lldp-workaround.yml', 'ansible/kayobe-ansible-user.yml', 'ansible/overcloud-introspection-rules.yml', 'ansible/kolla-openstack.yml']",10,d64d415fac126e21873553b0f9e3a931fd9c47af,, gather_facts: False changed_when: false gather_facts: False,,20,6
openstack%2Freleases~master~I62fb923464e5d6947fb77f04f571587fdb7f62af,openstack/releases,master,I62fb923464e5d6947fb77f04f571587fdb7f62af,Release Bifrost 10.2.0 and create stable/wallaby,MERGED,2021-03-29 14:59:45.000000000,2021-03-31 09:16:29.000000000,2021-03-31 09:16:29.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-29 14:59:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/fbb47377d38f6e3b3db3896efe474fbfaadb662d', 'message': 'Creating stable wallaby for bifrost\n\nIf you want to wait and make another release before the branch is cut,\nsomeone from the team can -1 the patch to have it held, or update that\npatch to include another release and stable branch point.\n\nPatches with no response will be merged by Friday April 02.\n\nChange-Id: I62fb923464e5d6947fb77f04f571587fdb7f62af\n'}, {'number': 2, 'created': '2021-03-30 12:45:11.000000000', 'files': ['deliverables/wallaby/bifrost.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b0d82d70a8970d20e190403704af88e0f612a1a5', 'message': 'Release Bifrost 10.2.0 and create stable/wallaby\n\nChange-Id: I62fb923464e5d6947fb77f04f571587fdb7f62af\n'}]",2,783665,b0d82d70a8970d20e190403704af88e0f612a1a5,13,6,2,28522,,,0,"Release Bifrost 10.2.0 and create stable/wallaby

Change-Id: I62fb923464e5d6947fb77f04f571587fdb7f62af
",git fetch https://review.opendev.org/openstack/releases refs/changes/65/783665/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/bifrost.yaml'],1,fbb47377d38f6e3b3db3896efe474fbfaadb662d,wallaby-missing-stable-branches, - name: stable/wallaby location: 10.1.0,,2,0
openstack%2Fopenstack-manuals~master~I15a42b1047dae5d3197c2cdf1a7dd9334c117514,openstack/openstack-manuals,master,I15a42b1047dae5d3197c2cdf1a7dd9334c117514,Add networking-midonet to the list of deprecated projects,MERGED,2021-03-30 06:57:11.000000000,2021-03-31 09:09:33.000000000,2021-03-31 08:38:19.000000000,"[{'_account_id': 6547}, {'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-30 06:57:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/3a068893871b775a9ca0f69d3652f0ca55f607af', 'message': 'Add networking-midonet to the list of deprecated projects\n\nDue to lack of maintainers and as per discussion in the [1] we have to\nretire networking-midonet project.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-March/021400.html\n\nChange-Id: I15a42b1047dae5d3197c2cdf1a7dd9334c117514\n'}, {'number': 2, 'created': '2021-03-31 06:19:03.000000000', 'files': ['www/project-data/latest.yaml', 'tools/www-generator.py'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/654b8fe53e4ea8bcd3cbb733ce1f9c2b8afd5679', 'message': 'Add networking-midonet to the list of deprecated projects\n\nDue to lack of maintainers and as per discussion in the [1] we have to\ndeprecate networking-midonet project.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-March/021400.html\n\nChange-Id: I15a42b1047dae5d3197c2cdf1a7dd9334c117514\n'}]",0,783798,654b8fe53e4ea8bcd3cbb733ce1f9c2b8afd5679,14,6,2,11975,,,0,"Add networking-midonet to the list of deprecated projects

Due to lack of maintainers and as per discussion in the [1] we have to
deprecate networking-midonet project.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-March/021400.html

Change-Id: I15a42b1047dae5d3197c2cdf1a7dd9334c117514
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/98/783798/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/www-generator.py'],1,3a068893871b775a9ca0f69d3652f0ca55f607af,deprecate-networking-midonet," 'openstack/networking-midonet',",,1,0
openstack%2Ftripleo-heat-templates~master~Ia2bffffde34aa248a4cc60c3895464f1f9d1ded2,openstack/tripleo-heat-templates,master,Ia2bffffde34aa248a4cc60c3895464f1f9d1ded2,Change all *Debug parameter types to boolean,MERGED,2021-03-19 07:09:33.000000000,2021-03-31 09:02:54.000000000,2021-03-31 08:59:54.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-03-19 07:09:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/59df8882d8bc6730dece1244d1d90109fe455d89', 'message': 'Change all *Debug parameter types to boolean\n\nThis changes all these parameters as heat would correctly\nparse all values. Also, drops all yaql shenanigans\nused for their handling.\n\nWe had converted all ``Debug`` parameters to boolean with\nIb6c3969d4dd75d5fb2cc274266c060acff8d5571.\n\nChange-Id: Ia2bffffde34aa248a4cc60c3895464f1f9d1ded2\n'}, {'number': 2, 'created': '2021-03-19 07:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ba1ce894feca036d2cb0f411c737101ddc098d8e', 'message': 'Change all *Debug parameter types to boolean\n\nThis changes all these parameters as heat would correctly\nparse all values. Also, drops all yaql shenanigans\nused for their handling.\n\nWe had converted all ``Debug`` parameters to boolean with\nIb6c3969d4dd75d5fb2cc274266c060acff8d5571.\n\nChange-Id: Ia2bffffde34aa248a4cc60c3895464f1f9d1ded2\n'}, {'number': 3, 'created': '2021-03-19 08:09:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1f3071eed548fdee5d93c7814bb841051b579617', 'message': 'Change all *Debug parameter types to boolean\n\nThis changes all these parameters as heat would correctly\nparse all values. Also, drops all yaql shenanigans\nused for their handling.\n\nWe had converted all ``Debug`` parameters to boolean with\nIb6c3969d4dd75d5fb2cc274266c060acff8d5571.\n\nChange-Id: Ia2bffffde34aa248a4cc60c3895464f1f9d1ded2\n'}, {'number': 4, 'created': '2021-03-19 10:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/870dd2c839ab6880074d86a8a5f7f20e98801f66', 'message': 'Change all *Debug parameter types to boolean\n\nThis changes all these parameters as heat would correctly\nparse all values. Also, drops all yaql shenanigans\nused for their handling and heat conditions.\n\nWe had converted all ``Debug`` parameters to boolean with\nIb6c3969d4dd75d5fb2cc274266c060acff8d5571.\n\nChange-Id: Ia2bffffde34aa248a4cc60c3895464f1f9d1ded2\n'}, {'number': 5, 'created': '2021-03-20 03:36:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5fb2ceb6c26043bf4019be6765030338452528a3', 'message': 'Change all *Debug parameter types to boolean\n\nThis changes all these parameters as heat would correctly\nparse all values. Also, drops all yaql shenanigans\nused for their handling and heat conditions.\n\nAlso fixes wrong usage of non-existent NeutronWrapperDebug\nparameter in ovn-metadata-container-puppet.yaml.\n\nWe had converted all ``Debug`` parameters to boolean with\nIb6c3969d4dd75d5fb2cc274266c060acff8d5571.\n\nChange-Id: Ia2bffffde34aa248a4cc60c3895464f1f9d1ded2\n'}, {'number': 6, 'created': '2021-03-30 03:09:32.000000000', 'files': ['deployment/deprecated/mistral/mistral-base.yaml', 'deployment/cinder/cinder-base.yaml', 'deployment/neutron/neutron-l2gw-agent-baremetal-puppet.yaml', 'deployment/octavia/octavia-base.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/aodh/aodh-base.yaml', 'deployment/container-image-prepare/container-image-prepare-baremetal-ansible.j2.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'releasenotes/notes/ensure-all-debug-params-boolean-b1256f282e414b98.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/deprecated/zaqar/zaqar-container-puppet.yaml', 'deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/heat/heat-base-puppet.yaml', 'deployment/neutron/neutron-base.yaml', 'deployment/nova/nova-base-puppet.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/experimental/designate/designate-base.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/gnocchi/gnocchi-base.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/neutron/neutron-metadata-container-puppet.yaml', 'deployment/manila/manila-base.yaml', 'deployment/ceilometer/ceilometer-base-container-puppet.yaml', 'deployment/ironic/ironic-base-puppet.yaml', 'deployment/memcached/memcached-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b4203a30eb7d8b2aef908d6ae789fd03b1380893', 'message': 'Change all *Debug parameter types to boolean\n\nThis changes all these parameters as heat would correctly\nparse all values. Also, drops all yaql shenanigans\nused for their handling and heat conditions.\n\nAlso fixes wrong usage of non-existent NeutronWrapperDebug\nparameter in ovn-metadata-container-puppet.yaml.\n\nWe had converted all ``Debug`` parameters to boolean with\nIb6c3969d4dd75d5fb2cc274266c060acff8d5571.\n\nChange-Id: Ia2bffffde34aa248a4cc60c3895464f1f9d1ded2\n'}]",5,781602,b4203a30eb7d8b2aef908d6ae789fd03b1380893,55,8,6,8833,,,0,"Change all *Debug parameter types to boolean

This changes all these parameters as heat would correctly
parse all values. Also, drops all yaql shenanigans
used for their handling and heat conditions.

Also fixes wrong usage of non-existent NeutronWrapperDebug
parameter in ovn-metadata-container-puppet.yaml.

We had converted all ``Debug`` parameters to boolean with
Ib6c3969d4dd75d5fb2cc274266c060acff8d5571.

Change-Id: Ia2bffffde34aa248a4cc60c3895464f1f9d1ded2
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/02/781602/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/deprecated/mistral/mistral-base.yaml', 'deployment/cinder/cinder-base.yaml', 'deployment/neutron/neutron-l2gw-agent-baremetal-puppet.yaml', 'deployment/octavia/octavia-base.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/aodh/aodh-base.yaml', 'deployment/container-image-prepare/container-image-prepare-baremetal-ansible.j2.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/deprecated/zaqar/zaqar-container-puppet.yaml', 'deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/heat/heat-base-puppet.yaml', 'deployment/neutron/neutron-base.yaml', 'deployment/nova/nova-base-puppet.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/experimental/designate/designate-base.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/gnocchi/gnocchi-base.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/neutron/neutron-metadata-container-puppet.yaml', 'deployment/manila/manila-base.yaml', 'deployment/ceilometer/ceilometer-base-container-puppet.yaml', 'deployment/ironic/ironic-base-puppet.yaml', 'deployment/memcached/memcached-container-puppet.yaml']",25,59df8882d8bc6730dece1244d1d90109fe455d89,simplify_tht, default: false type: boolean service_debug: {get_param: MemcachedDebug}," default: '' type: string constraints: - allowed_values: [ '', 'true', 'True', 'TRUE', 'false', 'False', 'FALSE'] service_debug: or: - equals: [{get_param: MemcachedDebug}, 'true'] - equals: [{get_param: MemcachedDebug}, 'True'] - equals: [{get_param: Debug}, true]",83,143
openstack%2Fswift~master~Iea9e01d5a66ccce6a73c7d23b358579194de89e2,openstack/swift,master,Iea9e01d5a66ccce6a73c7d23b358579194de89e2,Test proxy-server.conf-sample,MERGED,2020-09-29 17:06:45.000000000,2021-03-31 08:58:45.000000000,2021-03-31 08:56:27.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-29 17:06:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7e5a4431e4683ce201e5a753c95312e92736c2a0', 'message': ""Test proxy-server.conf-sample\n\nAFAICT we don't test it anywhere in unittests; but I think we depend on\nit for probe tests in the gate - it should definately be valid and\nloadable.  We have lots of other tests that make proxy servers out of\nconfigs - why not test this one if we can!\n\nChange-Id: Iea9e01d5a66ccce6a73c7d23b358579194de89e2\n""}, {'number': 2, 'created': '2020-09-29 21:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/63d04b953a046b4d497c59f98d9ca696992f9c3d', 'message': ""Test proxy-server.conf-sample\n\nAFAICT we don't test it anywhere in unittests; but I think we depend on\nit for probe tests in the gate - it should definately be valid and\nloadable.  We have lots of other tests that make proxy servers out of\nconfigs - why not test this one if we can!\n\nChange-Id: Iea9e01d5a66ccce6a73c7d23b358579194de89e2\n""}, {'number': 3, 'created': '2020-09-30 17:41:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4d48fb6737c15ce9aa3319010b055413662b32dd', 'message': ""Test proxy-server.conf-sample\n\nAFAICT we don't test it anywhere in unittests; but I think we depend on\nit for probe tests in the gate - it should definately be valid and\nloadable.  We have lots of other tests that make proxy servers out of\nconfigs - why not test this one if we can!\n\nChange-Id: Iea9e01d5a66ccce6a73c7d23b358579194de89e2\n""}, {'number': 4, 'created': '2020-10-01 14:18:45.000000000', 'files': ['test/unit/proxy/test_server.py', 'swift/common/wsgi.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/f0d406127c87fcf1791bf4c0f4132c1e086f1f34', 'message': ""Test proxy-server.conf-sample\n\nAFAICT we don't test it anywhere in unittests; but I think we depend on\nit for probe tests in the gate - it should definately be valid and\nloadable.  We have lots of other tests that make proxy servers out of\nconfigs - why not test this one if we can!\n\nChange-Id: Iea9e01d5a66ccce6a73c7d23b358579194de89e2\n""}]",3,755087,f0d406127c87fcf1791bf4c0f4132c1e086f1f34,15,3,4,1179,,,0,"Test proxy-server.conf-sample

AFAICT we don't test it anywhere in unittests; but I think we depend on
it for probe tests in the gate - it should definately be valid and
loadable.  We have lots of other tests that make proxy servers out of
configs - why not test this one if we can!

Change-Id: Iea9e01d5a66ccce6a73c7d23b358579194de89e2
",git fetch https://review.opendev.org/openstack/swift refs/changes/87/755087/4 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/proxy/test_server.py'],1,7e5a4431e4683ce201e5a753c95312e92736c2a0,env-pipeline," def test_default_proxy_config(self): conf_path = os.path.abspath(os.path.join( os.path.dirname(__file__), '../../../', 'etc/proxy-server.conf-sample' )) app = loadapp(conf_path) req = Request.blank('/info') resp = req.get_response(app) self.assertEqual(resp.status_int, 200) ",,11,0
openstack%2Ftripleo-quickstart~master~I52a4cca937580c5e26a72b9f1ac800857ff6f87a,openstack/tripleo-quickstart,master,I52a4cca937580c5e26a72b9f1ac800857ff6f87a,Change registry to rdoproject for older branches,MERGED,2021-03-25 12:02:19.000000000,2021-03-31 08:50:02.000000000,2021-03-30 03:55:46.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 13294}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-25 12:02:19.000000000', 'files': ['config/release/tripleo-ci/CentOS-7/stein.yml', 'config/release/tripleo-ci/CentOS-7/rocky.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/3159f8a09286098f61e6a1de9efb53425f93eb36', 'message': 'Change registry to rdoproject for older branches\n\nChange-Id: I52a4cca937580c5e26a72b9f1ac800857ff6f87a\n'}]",3,782985,3159f8a09286098f61e6a1de9efb53425f93eb36,19,7,1,10969,,,0,"Change registry to rdoproject for older branches

Change-Id: I52a4cca937580c5e26a72b9f1ac800857ff6f87a
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/85/782985/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/CentOS-7/stein.yml', 'config/release/tripleo-ci/CentOS-7/rocky.yml']",2,3159f8a09286098f61e6a1de9efb53425f93eb36,,"docker_registry_host: ""{{ job.build_container_images|default(false)|bool | ternary('127.0.0.1:5001', job.alt_container_registry|default('trunk.registry.rdoproject.org')) }}""","docker_registry_host: ""{{ job.build_container_images|default(false)|bool | ternary('127.0.0.1:5001', job.alt_container_registry|default('quay.io')) }}""",3,2
openstack%2Fproject-config~master~I037d5add805b0e599caf6b24cfabcb6695ed568e,openstack/project-config,master,I037d5add805b0e599caf6b24cfabcb6695ed568e,Use publish-to-pypi on barbican ansible roles,MERGED,2021-03-31 06:52:38.000000000,2021-03-31 08:46:06.000000000,2021-03-31 08:15:56.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-31 06:52:38.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/002dda76e84549afe47618e63811bc9aca8691bd', 'message': 'Use publish-to-pypi on barbican ansible roles\n\nThese templates are missing and needed by:\n- https://review.opendev.org/c/openstack/releases/+/783908\n- https://review.opendev.org/c/openstack/releases/+/783905\n\nChange-Id: I037d5add805b0e599caf6b24cfabcb6695ed568e\n'}]",0,784011,002dda76e84549afe47618e63811bc9aca8691bd,7,2,1,28522,,,0,"Use publish-to-pypi on barbican ansible roles

These templates are missing and needed by:
- https://review.opendev.org/c/openstack/releases/+/783908
- https://review.opendev.org/c/openstack/releases/+/783905

Change-Id: I037d5add805b0e599caf6b24cfabcb6695ed568e
",git fetch https://review.opendev.org/openstack/project-config refs/changes/11/784011/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,002dda76e84549afe47618e63811bc9aca8691bd,barbican-pypi, - publish-to-pypi - publish-to-pypi,,2,0
openstack%2Fpuppet-zaqar~master~I45e73ae0575165c305bac28284fb1aaa425509e0,openstack/puppet-zaqar,master,I45e73ae0575165c305bac28284fb1aaa425509e0,Drop the tripleo-puppet-undercloud job,MERGED,2021-03-26 06:31:43.000000000,2021-03-31 08:38:40.000000000,2021-03-31 08:38:40.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-26 06:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/2b4f03d4048886cffcfc9dba758093cc42a512f0', 'message': 'Do not run tripleo-puppet-undercloud jobs\n\n... because Zaqar is no longer enabled in Undercloud by default.\n\nChange-Id: I45e73ae0575165c305bac28284fb1aaa425509e0\n'}, {'number': 2, 'created': '2021-03-26 06:37:56.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/b5a259c1e151f7aff7da53e73c4fd08383378fa8', 'message': 'Drop the tripleo-puppet-undercloud job\n\n... because Zaqar is no longer enabled in Undercloud by default.\n\nChange-Id: I45e73ae0575165c305bac28284fb1aaa425509e0\n'}]",0,783188,b5a259c1e151f7aff7da53e73c4fd08383378fa8,20,3,2,9816,,,0,"Drop the tripleo-puppet-undercloud job

... because Zaqar is no longer enabled in Undercloud by default.

Change-Id: I45e73ae0575165c305bac28284fb1aaa425509e0
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/88/783188/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2b4f03d4048886cffcfc9dba758093cc42a512f0,tripleo-undercloud,, - tripleo-puppet-undercloud,0,1
openstack%2Fkeystone~master~I75590c20e90170ed862f46f0de7d61c7810b5c90,openstack/keystone,master,I75590c20e90170ed862f46f0de7d61c7810b5c90,Retry update_user when sqlalchemy raises StaleDataErrors,MERGED,2020-06-30 16:57:27.000000000,2021-03-31 08:34:33.000000000,2021-03-31 08:31:53.000000000,"[{'_account_id': 5046}, {'_account_id': 8866}, {'_account_id': 9954}, {'_account_id': 11816}, {'_account_id': 11904}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-30 16:57:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d19e6bb05d2b66f27afb9ac16506f630a9c24804', 'message': ""Leverage UPDATE FOR when updating users\n\nKeystone's update_user() method in the SQL driver processes a lot of\ninformation about how to update users. This includes evaluating password\nlogic and authentication times for PSI-DSS. This logic is evaluated\nafter keystone pulls the user record from SQL and before it exits the\ncontext manager, which performs the write.\n\nWhen multiple clients are all updating the same user reference, it's\nmore likely they will see an HTTP 500 because of race conditions exiting\nthe context manager. The HTTP 500 is due to stale data. In other words,\ntwo clients pull the user record when they enter update_user(), but the\nslower of the two clients will fail because its reference to the user\nis outdated when the first client updates the user as it exits the\nmethod.\n\nThis commit mitigates this issue by using sqlalchemy's with_update_for()\nmethod, which signals to SQL that the record we're selecting will be\nupdated. This helps the clients play nice together when they're updating\nthe same reference.\n\nChange-Id: I75590c20e90170ed862f46f0de7d61c7810b5c90\nCloses-Bug: 1885753\n""}, {'number': 2, 'created': '2020-07-08 17:02:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/12b7291e53aff9e5acf367fefccb3af17df31042', 'message': ""Leverage UPDATE FOR when updating users\n\nKeystone's update_user() method in the SQL driver processes a lot of\ninformation about how to update users. This includes evaluating password\nlogic and authentication times for PSI-DSS. This logic is evaluated\nafter keystone pulls the user record from SQL and before it exits the\ncontext manager, which performs the write.\n\nWhen multiple clients are all updating the same user reference, it's\nmore likely they will see an HTTP 500 because of race conditions exiting\nthe context manager. The HTTP 500 is due to stale data. In other words,\ntwo clients pull the user record when they enter update_user(), but the\nslower of the two clients will fail because its reference to the user\nis outdated when the first client updates the user as it exits the\nmethod.\n\nThis commit mitigates this issue by using sqlalchemy's with_update_for()\nmethod, which signals to SQL that the record we're selecting will be\nupdated. This helps the clients play nice together when they're updating\nthe same reference.\n\nChange-Id: I75590c20e90170ed862f46f0de7d61c7810b5c90\nCloses-Bug: 1885753\n""}, {'number': 3, 'created': '2020-08-27 21:21:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c839f3e235b44868dc7b12f91549a81b67d80131', 'message': ""Wrap update_user in wrap_db_retry\n\nKeystone's update_user() method in the SQL driver processes a lot of\ninformation about how to update users. This includes evaluating password\nlogic and authentication times for PSI-DSS. This logic is evaluated\nafter keystone pulls the user record from SQL and before it exits the\ncontext manager, which performs the write.\n\nWhen multiple clients are all updating the same user reference, it's\nmore likely they will see an HTTP 500 because of race conditions exiting\nthe context manager. The HTTP 500 is due to stale data. In other words,\ntwo clients pull the user record when they enter update_user(), but the\nslower of the two clients will fail because its reference to the user\nis outdated when the first client updates the user as it exits the\nmethod.\n\nThis commit mitigates the issue by using @wrap_db_retry so that the\nclient recieving the deadlock tries its request again.\n\nChange-Id: I75590c20e90170ed862f46f0de7d61c7810b5c90\nCloses-Bug: 1885753\n""}, {'number': 4, 'created': '2021-03-25 22:17:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/394619eab2de9797c2f6c498883ff2b29ab0015b', 'message': ""Wrap update_user in wrap_db_retry\n\nKeystone's update_user() method in the SQL driver processes a lot of\ninformation about how to update users. This includes evaluating password\nlogic and authentication attempts for PSI-DSS. This logic is evaluated\nafter keystone pulls the user record from SQL and before it exits the\ncontext manager, which performs the write.\n\nWhen multiple clients are all updating the same user reference, it's\nmore likely they will see an HTTP 500 because of race conditions exiting\nthe context manager. The HTTP 500 is due to stale data when updating\npassword expiration for old passwords, which happens when setting a new\npassword for a user.\n\nThis commit attempts to handle that case more gracefully than throwing a\n500 by detecting StaleData exceptions from sqlalchemy and issuring a\nretry. The identity sql backend will retry the request for client that\nhave stale data change from underneath them.\n\nChange-Id: I75590c20e90170ed862f46f0de7d61c7810b5c90\nCloses-Bug: 1885753\n""}, {'number': 5, 'created': '2021-03-26 02:29:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d2159b35735d397b167e4960b17f12b9c8bfd797', 'message': ""Wrap update_user in wrap_db_retry\n\nKeystone's update_user() method in the SQL driver processes a lot of\ninformation about how to update users. This includes evaluating password\nlogic and authentication attempts for PSI-DSS. This logic is evaluated\nafter keystone pulls the user record from SQL and before it exits the\ncontext manager, which performs the write.\n\nWhen multiple clients are all updating the same user reference, it's\nmore likely they will see an HTTP 500 because of race conditions exiting\nthe context manager. The HTTP 500 is due to stale data when updating\npassword expiration for old passwords, which happens when setting a new\npassword for a user.\n\nThis commit attempts to handle that case more gracefully than throwing a\n500 by detecting StaleData exceptions from sqlalchemy and issuring a\nretry. The identity sql backend will retry the request for client that\nhave stale data change from underneath them.\n\nChange-Id: I75590c20e90170ed862f46f0de7d61c7810b5c90\nCloses-Bug: 1885753\n""}, {'number': 6, 'created': '2021-03-26 17:41:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/19b0f22c506f92edfa19e02b4a940888c91ff3c3', 'message': ""Wrap update_user in wrap_db_retry\n\nKeystone's update_user() method in the SQL driver processes a lot of\ninformation about how to update users. This includes evaluating password\nlogic and authentication attempts for PSI-DSS. This logic is evaluated\nafter keystone pulls the user record from SQL and before it exits the\ncontext manager, which performs the write.\n\nWhen multiple clients are all updating the same user reference, it's\nmore likely they will see an HTTP 500 because of race conditions exiting\nthe context manager. The HTTP 500 is due to stale data when updating\npassword expiration for old passwords, which happens when setting a new\npassword for a user.\n\nThis commit attempts to handle that case more gracefully than throwing a\n500 by detecting StaleDataErrors from sqlalchemy and retrying.  The\nidentity sql backend will retry the request for clients that have\nstale data change from underneath them.\n\nChange-Id: I75590c20e90170ed862f46f0de7d61c7810b5c90\nCloses-Bug: 1885753\n""}, {'number': 7, 'created': '2021-03-26 17:45:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/6b581bfe43811379e9ceea2770242f05f0c9fa66', 'message': ""Retry update_user when sqlalchemy raises StaleDataErrors\n\nKeystone's update_user() method in the SQL driver processes a lot of\ninformation about how to update users. This includes evaluating password\nlogic and authentication attempts for PSI-DSS. This logic is evaluated\nafter keystone pulls the user record from SQL and before it exits the\ncontext manager, which performs the write.\n\nWhen multiple clients are all updating the same user reference, it's\nmore likely they will see an HTTP 500 because of race conditions exiting\nthe context manager. The HTTP 500 is due to stale data when updating\npassword expiration for old passwords, which happens when setting a new\npassword for a user.\n\nThis commit attempts to handle that case more gracefully than throwing a\n500 by detecting StaleDataErrors from sqlalchemy and retrying.  The\nidentity sql backend will retry the request for clients that have\nstale data change from underneath them.\n\nChange-Id: I75590c20e90170ed862f46f0de7d61c7810b5c90\nCloses-Bug: 1885753\n""}, {'number': 8, 'created': '2021-03-29 16:23:29.000000000', 'files': ['keystone/identity/backends/sql.py', 'keystone/tests/unit/test_backend_sql.py', 'releasenotes/notes/bug-1885753-51df25f3ff1d9ae8.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/ceae3566e83b26fd6a1679154eae9b0cef29da64', 'message': ""Retry update_user when sqlalchemy raises StaleDataErrors\n\nKeystone's update_user() method in the SQL driver processes a lot of\ninformation about how to update users. This includes evaluating password\nlogic and authentication attempts for PSI-DSS. This logic is evaluated\nafter keystone pulls the user record from SQL and before it exits the\ncontext manager, which performs the write.\n\nWhen multiple clients are all updating the same user reference, it's\nmore likely they will see an HTTP 500 because of race conditions exiting\nthe context manager. The HTTP 500 is due to stale data when updating\npassword expiration for old passwords, which happens when setting a new\npassword for a user.\n\nThis commit attempts to handle that case more gracefully than throwing a\n500 by detecting StaleDataErrors from sqlalchemy and retrying.  The\nidentity sql backend will retry the request for clients that have\nstale data change from underneath them.\n\nChange-Id: I75590c20e90170ed862f46f0de7d61c7810b5c90\nCloses-Bug: 1885753\n""}]",8,738677,ceae3566e83b26fd6a1679154eae9b0cef29da64,47,8,8,5046,,,0,"Retry update_user when sqlalchemy raises StaleDataErrors

Keystone's update_user() method in the SQL driver processes a lot of
information about how to update users. This includes evaluating password
logic and authentication attempts for PSI-DSS. This logic is evaluated
after keystone pulls the user record from SQL and before it exits the
context manager, which performs the write.

When multiple clients are all updating the same user reference, it's
more likely they will see an HTTP 500 because of race conditions exiting
the context manager. The HTTP 500 is due to stale data when updating
password expiration for old passwords, which happens when setting a new
password for a user.

This commit attempts to handle that case more gracefully than throwing a
500 by detecting StaleDataErrors from sqlalchemy and retrying.  The
identity sql backend will retry the request for clients that have
stale data change from underneath them.

Change-Id: I75590c20e90170ed862f46f0de7d61c7810b5c90
Closes-Bug: 1885753
",git fetch https://review.opendev.org/openstack/keystone refs/changes/77/738677/8 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/identity/backends/sql.py', 'releasenotes/notes/bug-1885753-51df25f3ff1d9ae8.yaml']",2,d19e6bb05d2b66f27afb9ac16506f630a9c24804,bug/1885753,--- fixes: - | [`bug 1885753 <https://bugs.launchpad.net/keystone/+bug/1885753>`_] Add database protection when updating users concurrently. ,,14,3
openstack%2Fswift~master~I86bcd7a2373cf1e7213cb716888307306b7bb50d,openstack/swift,master,I86bcd7a2373cf1e7213cb716888307306b7bb50d,Get func tests passing with a minimal proxy pipeline,MERGED,2020-05-25 05:54:02.000000000,2021-03-31 08:13:26.000000000,2021-03-31 08:09:07.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-25 05:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/086751805f5dc2ea1843b4f561bce3f1a816d04b', 'message': ""Get func tests passing with a minimal proxy pipeline\n\nI've now got 54 pass, 676 skipped with\n\n   pipeline = proxy-logging memcache tempauth proxy-logging proxy-server\n\nCould probably even ditch logging, but that'd get a bit painful to\ndebug.\n\nChange-Id: I86bcd7a2373cf1e7213cb716888307306b7bb50d\n""}, {'number': 2, 'created': '2020-09-18 20:05:52.000000000', 'files': ['test/functional/test_access_control.py', 'test/functional/test_tempurl.py', 'test/functional/test_versioned_writes.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/e973e15cfabac880fbf3f250c776e44a261c1af8', 'message': ""Get func tests passing with a minimal proxy pipeline\n\nI've now got 54 pass, 676 skipped with\n\n   pipeline = proxy-logging memcache tempauth proxy-logging proxy-server\n\nCould probably even ditch logging, but that'd get a bit painful to\ndebug.\n\nChange-Id: I86bcd7a2373cf1e7213cb716888307306b7bb50d\n""}]",1,730558,e973e15cfabac880fbf3f250c776e44a261c1af8,10,2,2,15343,,,0,"Get func tests passing with a minimal proxy pipeline

I've now got 54 pass, 676 skipped with

   pipeline = proxy-logging memcache tempauth proxy-logging proxy-server

Could probably even ditch logging, but that'd get a bit painful to
debug.

Change-Id: I86bcd7a2373cf1e7213cb716888307306b7bb50d
",git fetch https://review.opendev.org/openstack/swift refs/changes/58/730558/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/functional/test_access_control.py', 'test/functional/test_tempurl.py', 'test/functional/test_versioned_writes.py']",3,086751805f5dc2ea1843b4f561bce3f1a816d04b,," def setUp(self): super(TestObjectVersioningChangingMode, self).setUp() if 'versioned_writes' not in cluster_info: raise SkipTest(""versioned_writes not enabled"") ",,19,1
openstack%2Foctavia~stable%2Fvictoria~I7b3693fe3a0b8c5e64936284c0e2f03b12cd0c48,openstack/octavia,stable/victoria,I7b3693fe3a0b8c5e64936284c0e2f03b12cd0c48,Add docs for centos8 installation,ABANDONED,2021-03-31 06:19:59.000000000,2021-03-31 07:54:16.000000000,,"[{'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-03-31 06:19:59.000000000', 'files': ['doc/source/install/install-centos.rst'], 'web_link': 'https://opendev.org/openstack/octavia/commit/34dcf441e09af50322e48db2777e6fb98e6ce3c7', 'message': 'Add docs for centos8 installation\n\nAdd procedure assuming openvswitch mechanism driver\nAdd missing [health_manager] heartbeat_key in octavia.conf\n\nSigned-off-by: Piotr Mossakowski <moss2k03@yahoo.com>\nChange-Id: I7b3693fe3a0b8c5e64936284c0e2f03b12cd0c48\n'}]",5,784004,34dcf441e09af50322e48db2777e6fb98e6ce3c7,5,2,1,33296,,,0,"Add docs for centos8 installation

Add procedure assuming openvswitch mechanism driver
Add missing [health_manager] heartbeat_key in octavia.conf

Signed-off-by: Piotr Mossakowski <moss2k03@yahoo.com>
Change-Id: I7b3693fe3a0b8c5e64936284c0e2f03b12cd0c48
",git fetch https://review.opendev.org/openstack/octavia refs/changes/04/784004/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/install-centos.rst'],1,34dcf441e09af50322e48db2777e6fb98e6ce3c7,docs-centos,".. _install-ubuntu: Install and configure for Centos ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ This section describes how to install and configure the Load-balancer service for Centos 8 using openvswitch mechanism driver. Prerequisites ------------- Before you install and configure the service, you must create a database, service credentials, and API endpoints. 1. Create the database, complete these steps: * Use the database access client to connect to the database server as the ``root`` user: .. code-block:: console # mysql * Create the ``octavia`` database: .. code-block:: console CREATE DATABASE octavia; * Grant proper access to the ``octavia`` database: .. code-block:: console GRANT ALL PRIVILEGES ON octavia.* TO 'octavia'@'localhost' \ IDENTIFIED BY 'OCTAVIA_DBPASS'; GRANT ALL PRIVILEGES ON octavia.* TO 'octavia'@'%' \ IDENTIFIED BY 'OCTAVIA_DBPASS'; Replace OCTAVIA_DBPASS with a suitable password. * Exit the database access client. .. code-block:: console exit; 2. Source the ``admin`` credentials to gain access to admin-only CLI commands: .. code-block:: console $ . admin-openrc 3. To create the Octavia service credentials, complete these steps: * Create the ``octavia`` user: .. code-block:: console $ openstack user create --domain default --password-prompt octavia User Password: Repeat User Password: +---------------------+----------------------------------+ | Field | Value | +---------------------+----------------------------------+ | domain_id | default | | enabled | True | | id | b18ee38e06034b748141beda8fc8bfad | | name | octavia | | options | {} | | password_expires_at | None | +---------------------+----------------------------------+ * Add the ``admin`` role to the ``octavia`` user: .. code-block:: console $ openstack role add --project service --user octavia admin .. note:: This command produces no output. .. note:: The Octavia service does not require the full admin role. Details of how to run Octavia without the admin role will come in a future version of this document. * Create the octavia service entities: .. code-block:: console $ openstack service create --name octavia --description ""OpenStack Octavia"" load-balancer +-------------+----------------------------------+ | Field | Value | +-------------+----------------------------------+ | description | OpenStack Octavia | | enabled | True | | id | d854f6fff0a64f77bda8003c8dedfada | | name | octavia | | type | load-balancer | +-------------+----------------------------------+ 4. Create the Load-balancer service API endpoints: .. code-block:: console $ openstack endpoint create --region RegionOne \ load-balancer public http://controller:9876 +--------------+----------------------------------+ | Field | Value | +--------------+----------------------------------+ | enabled | True | | id | 47cf883de46242c39f147c52f2958ebf | | interface | public | | region | RegionOne | | region_id | RegionOne | | service_id | d854f6fff0a64f77bda8003c8dedfada | | service_name | octavia | | service_type | load-balancer | | url | http://controller:9876 | +--------------+----------------------------------+ $ openstack endpoint create --region RegionOne \ load-balancer internal http://controller:9876 +--------------+----------------------------------+ | Field | Value | +--------------+----------------------------------+ | enabled | True | | id | 225aef8465ef4df48a341aaaf2b0a390 | | interface | internal | | region | RegionOne | | region_id | RegionOne | | service_id | d854f6fff0a64f77bda8003c8dedfada | | service_name | octavia | | service_type | load-balancer | | url | http://controller:9876 | +--------------+----------------------------------+ $ openstack endpoint create --region RegionOne \ load-balancer admin http://controller:9876 +--------------+----------------------------------+ | Field | Value | +--------------+----------------------------------+ | enabled | True | | id | 375eb5057fb546edbdf3ee4866179672 | | interface | admin | | region | RegionOne | | region_id | RegionOne | | service_id | d854f6fff0a64f77bda8003c8dedfada | | service_name | octavia | | service_type | load-balancer | | url | http://controller:9876 | +--------------+----------------------------------+ 5. Create octavia-openrc file .. code-block:: console cat << EOF >> $HOME/octavia-openrc export OS_PROJECT_DOMAIN_NAME=Default export OS_USER_DOMAIN_NAME=Default export OS_PROJECT_NAME=service export OS_USERNAME=octavia export OS_PASSWORD=OCTAVIA_PASS export OS_AUTH_URL=http://controller:5000 export OS_IDENTITY_API_VERSION=3 export OS_IMAGE_API_VERSION=2 export OS_VOLUME_API_VERSION=3 EOF Replace OCTAVIA_PASS with the password you chose for the octavia user in the Identity service. 6. Source the ``octavia`` credentials to gain access to octavia CLI commands: .. code-block:: console $ . $HOME/octavia-openrc 7. Create the amphora image For creating amphora image, please refer to the `Building Octavia Amphora Images <https://docs.openstack.org/octavia/latest/admin/amphora-image-build.html>`_. 8. Upload the amphora image .. code-block:: console $ openstack image create --disk-format qcow2 --container-format bare \ --private --tag amphora \ --file <path to the amphora image> amphora-x64-haproxy 9. Create a flavor for the amphora image .. code-block:: console $ openstack flavor create --id 200 --vcpus 1 --ram 1024 \ --disk 2 ""amphora"" --private Install and configure components -------------------------------- 1. Install the packages: .. code-block:: console # apt install octavia-api octavia-health-manager octavia-housekeeping \ octavia-worker python3-octavia python3-octaviaclient If octavia-common and octavia-api packages ask you to configure, choose No. 2. Create the certificates .. code-block:: console $ git clone https://opendev.org/openstack/octavia.git $ cd octavia/bin/ $ source create_dual_intermediate_CA.sh $ sudo mkdir -p /etc/octavia/certs/private $ sudo chmod 755 /etc/octavia -R $ sudo cp -p etc/octavia/certs/server_ca.cert.pem /etc/octavia/certs $ sudo cp -p etc/octavia/certs/server_ca-chain.cert.pem /etc/octavia/certs $ sudo cp -p etc/octavia/certs/server_ca.key.pem /etc/octavia/certs/private $ sudo cp -p etc/octavia/certs/client_ca.cert.pem /etc/octavia/certs $ sudo cp -p etc/octavia/certs/client.cert-and-key.pem /etc/octavia/certs/private For the production environment, Please refer to the `Octavia Certificate Configuration Guide <https://docs.openstack.org/octavia/latest/admin/guides/certificates.html>`_. 3. Source the ``octavia`` credentials to gain access to octavia CLI commands: .. code-block:: console $ . octavia-openrc 4. Create security groups and their rules .. code-block:: console $ openstack security group create lb-mgmt-sec-grp $ openstack security group rule create --protocol icmp lb-mgmt-sec-grp $ openstack security group rule create --protocol tcp --dst-port 22 lb-mgmt-sec-grp $ openstack security group rule create --protocol tcp --dst-port 9443 lb-mgmt-sec-grp $ openstack security group create lb-health-mgr-sec-grp $ openstack security group rule create --protocol udp --dst-port 5555 lb-health-mgr-sec-grp 5. Create a key pair for logging in to the amphora instance .. code-block:: console $ openstack keypair create --public-key ~/.ssh/id_rsa.pub mykey .. note:: Check whether "" ~/.ssh/id_rsa.pub"" file exists or not in advance. If the file does not exist, run the ssh-keygen command to create it. 6. Create a network .. code-block:: console $ openstack network create lb-mgmt-net 7. Create a subnet .. code-block:: console $ OCTAVIA_MGMT_SUBNET=172.16.0.0/24 $ OCTAVIA_MGMT_SUBNET_START=172.16.0.100 $ OCTAVIA_MGMT_SUBNET_END=172.16.0.254 $ openstack subnet create --subnet-range $OCTAVIA_MGMT_SUBNET --allocation-pool \ start=$OCTAVIA_MGMT_SUBNET_START,end=$OCTAVIA_MGMT_SUBNET_END \ --network lb-mgmt-net --no-gateway lb-mgmt-subnet 8. Create a port .. note:: During the execution of the below command, please save the of MGMT_PORT_MAC and MGMT_PORT_ID in a notepad for further reference. .. code-block:: console $ OCTAVIA_MGMT_PORT_IP=172.16.0.2 $ PORT_FIXED_IP=""--fixed-ip subnet=lb-mgmt-subnet,ip-address=$OCTAVIA_MGMT_PORT_IP"" $ MGMT_PORT_ID=$(openstack port create --security-group \ lb-health-mgr-sec-grp --device-owner Octavia:health-mgr \ --host=$(hostname) -c id -f value --network lb-mgmt-net \ ${PORT_FIXED_IP} octavia-health-manager-listen-port-$(hostname)) $ MGMT_PORT_MAC=$(openstack port show -c mac_address -f value \ $MGMT_PORT_ID) 9. Create new ovs interface connected to br-int .. code-block:: console $ sudo ovs-vsctl -- --may-exist add-port br-int octavia-hm0 -- \ set Interface octavia-hm0 type=internal -- set Interface octavia-hm0 \ external-ids:iface-status=active -- set Interface octavia-hm0 \ external-ids:attached-mac=${MGMT_PORT_MAC} -- set Interface octavia-hm0 \ external-ids:iface-id=${MGMT_PORT_ID} 10. Verify created ovs interface .. code-block:: console $ sudo ovs-vsctl get Interface octavia-hm0 external_ids {attached-mac=""${MGMT_PORT_MAC}"", iface-id=""${MGMT_PORT_ID}"", iface-status=active} 11. Create permanent network configuration for new ovs interface Edit the ``/etc/sysconfig/network-scripts/ifcfg-octavia-hm0`` file .. code-block:: ini TYPE=Ethernet BOOTPROTO=dhcp IPV6INIT=no IPV6_FAILURE_FATAL=no NAME=octavia-hm0 DEVICE=octavia-hm0 ONBOOT=yes MACADDR=${MGMT_PORT_MAC} PEERDNS=no You need to substitute $MGMT_PORT_MAC for the value in your environment. 12. Edit the ``/etc/octavia/octavia.conf`` file * In the ``[database]`` section, configure database access: .. code-block:: ini [database] connection = mysql+pymysql://octavia:OCTAVIA_DBPASS@controller/octavia Replace OCTAVIA_DBPASS with the password you chose for the Octavia databases. * In the ``[DEFAULT]`` section, configure the transport url for RabbitMQ message broker. .. code-block:: ini [DEFAULT] transport_url = rabbit://openstack:RABBIT_PASS@controller Replace RABBIT_PASS with the password you chose for the openstack account in RabbitMQ. * In the ``[oslo_messaging]`` section, configure the transport url for RabbitMQ message broker and topic name. .. code-block:: ini [oslo_messaging] ... topic = octavia_prov Replace RABBIT_PASS with the password you chose for the openstack account in RabbitMQ. * In the ``[api_settings]`` section, configure the host IP and port to bind to. .. code-block:: ini [api_settings] bind_host = 0.0.0.0 bind_port = 9876 * In the ``[keystone_authtoken]`` section, configure Identity service access. .. code-block:: ini [keystone_authtoken] www_authenticate_uri = http://controller:5000 auth_url = http://controller:5000 memcached_servers = controller:11211 auth_type = password project_domain_name = Default user_domain_name = Default project_name = service username = octavia password = OCTAVIA_PASS Replace OCTAVIA_PASS with the password you chose for the octavia user in the Identity service. * In the ``[service_auth]`` section, configure credentials for using other openstack services .. code-block:: ini [service_auth] auth_url = http://controller:5000 memcached_servers = controller:11211 auth_type = password project_domain_name = Default user_domain_name = Default project_name = service username = octavia password = OCTAVIA_PASS Replace OCTAVIA_PASS with the password you chose for the octavia user in the Identity service. * In the ``[certificates]`` section, configure the absolute path to the CA Certificate, the Private Key for signing, and passphrases. .. code-block:: ini [certificates] ... server_certs_key_passphrase = insecure-key-do-not-use-this-key ca_private_key_passphrase = not-secure-passphrase ca_private_key = /etc/octavia/certs/private/server_ca.key.pem ca_certificate = /etc/octavia/certs/server_ca.cert.pem .. note:: The values of ca_private_key_passphrase and server_certs_key_passphrase are default and should not be used in production. The server_certs_key_passphrase must be a base64 compatible and 32 characters long string. * In the ``[haproxy_amphora]`` section, configure the client certificate and the CA. .. code-block:: ini [haproxy_amphora] ... server_ca = /etc/octavia/certs/server_ca-chain.cert.pem client_cert = /etc/octavia/certs/private/client.cert-and-key.pem * In the ``[health_manager]`` section, configure the IP and port number for heartbeat. .. code-block:: ini [health_manager] ... bind_port = 5555 bind_ip = 172.16.0.2 controller_ip_port_list = 172.16.0.2:5555 heartbeat_key = {random string} * In the ``[controller_worker]`` section, configure worker settings. .. code-block:: ini [controller_worker] ... amp_image_owner_id = <id of service project> amp_image_tag = amphora amp_ssh_key_name = mykey amp_secgroup_list = <lb-mgmt-sec-grp_id> amp_boot_network_list = <lb-mgmt-net_id> amp_flavor_id = 200 network_driver = allowed_address_pairs_driver compute_driver = compute_nova_driver amphora_driver = amphora_haproxy_rest_driver client_ca = /etc/octavia/certs/client_ca.cert.pem 13. Populate the octavia database: .. code-block:: console # octavia-db-manage --config-file /etc/octavia/octavia.conf upgrade head Finalize installation --------------------- Restart the services: .. code-block:: console # systemctl restart octavia-api octavia-health-manager octavia-housekeeping octavia-worker ",,466,0
openstack%2Ftripleo-common~stable%2Fvictoria~I19c1d166ca72465fd4ae3dad46de77bb095f73d4,openstack/tripleo-common,stable/victoria,I19c1d166ca72465fd4ae3dad46de77bb095f73d4,Don't allow rotation of HeatAuthEncryptionKey,MERGED,2021-03-20 03:40:53.000000000,2021-03-31 07:40:30.000000000,2021-03-31 07:37:58.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-20 03:40:53.000000000', 'files': ['tripleo_common/constants.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d440758259b007c277fc9fbed972585d4a30fa88', 'message': ""Don't allow rotation of HeatAuthEncryptionKey\n\nHeat does not support rotation of auth_encryption_key\nfor existing deployments with heat stacks. Once this\nkey has been rotated exisiting stacks can't be updated\nor even deleted. Let's not allow them to be changed.\n\nChange-Id: I19c1d166ca72465fd4ae3dad46de77bb095f73d4\n(cherry picked from commit 5db2ab20405a3406f208e56dfec0493e93aa0029)\n""}]",0,781815,d440758259b007c277fc9fbed972585d4a30fa88,47,4,1,8833,,,0,"Don't allow rotation of HeatAuthEncryptionKey

Heat does not support rotation of auth_encryption_key
for existing deployments with heat stacks. Once this
key has been rotated exisiting stacks can't be updated
or even deleted. Let's not allow them to be changed.

Change-Id: I19c1d166ca72465fd4ae3dad46de77bb095f73d4
(cherry picked from commit 5db2ab20405a3406f208e56dfec0493e93aa0029)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/15/781815/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/constants.py'],1,d440758259b007c277fc9fbed972585d4a30fa88,," 'HeatAuthEncryptionKey',",,1,0
openstack%2Fcinder~stable%2Ftrain~I67dd2bfba37adcb7cda5f1cd08ff641410ec3f6b,openstack/cinder,stable/train,I67dd2bfba37adcb7cda5f1cd08ff641410ec3f6b,NetApp SolidFire: Fix error on cluster workload rebalancing,MERGED,2020-11-26 03:08:49.000000000,2021-03-31 07:37:49.000000000,2021-03-31 07:26:31.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 30555}, {'_account_id': 30615}]","[{'number': 1, 'created': '2020-11-26 03:08:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/404d238b147e9d9a15660cf3a669e2ae8c7a606b', 'message': ""NetApp SolidFire: Fix error on cluster workload rebalancing\n\nWhen SolidFire is under heavy load or being upgraded, the\nSolidFire cluster may automatically move connections from primary\nto secondary nodes, in order to rebalance cluster workload.\n\nAlthough this operation ocurrs very quickly, if an operation is made\nto a volume at the same time it's being moved, there might be a\nchance that API calls such as create snapshot could fail with\nxNotPrimary error. Normally this will succeed on a retry of the\noperation.\n\nThis patch fixes this issue by adding the xNotPrimary exception to\nour list of retryable exceptions in the SolidFire driver.\n\nChange-Id: I67dd2bfba37adcb7cda5f1cd08ff641410ec3f6b\nCloses-Bug: #1891914\n(cherry picked from commit 8d0c08b4bb9d32f2c02dcc60f1f482331197e546)\n""}, {'number': 2, 'created': '2021-02-17 10:58:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0a48f0332cedeab9645caff28f3f8c1026df7c63', 'message': ""NetApp SolidFire: Fix error on cluster workload rebalancing\n\nWhen SolidFire is under heavy load or being upgraded, the\nSolidFire cluster may automatically move connections from primary\nto secondary nodes, in order to rebalance cluster workload.\n\nAlthough this operation ocurrs very quickly, if an operation is made\nto a volume at the same time it's being moved, there might be a\nchance that API calls such as create snapshot could fail with\nxNotPrimary error. Normally this will succeed on a retry of the\noperation.\n\nThis patch fixes this issue by adding the xNotPrimary exception to\nour list of retryable exceptions in the SolidFire driver.\n\nChange-Id: I67dd2bfba37adcb7cda5f1cd08ff641410ec3f6b\nCloses-Bug: #1891914\n(cherry picked from commit 8d0c08b4bb9d32f2c02dcc60f1f482331197e546)\n(cherry picked from commit 622244a755b75a52d079f92d8526f6eb5b517106)\n(cherry picked from commit f087536e47a30349553f6e604ea804250d91022a)\n""}, {'number': 3, 'created': '2021-03-24 16:19:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f04ad7958208a78f90373bd97f283c1d0f50b717', 'message': ""NetApp SolidFire: Fix error on cluster workload rebalancing\n\nWhen SolidFire is under heavy load or being upgraded, the\nSolidFire cluster may automatically move connections from primary\nto secondary nodes, in order to rebalance cluster workload.\n\nAlthough this operation ocurrs very quickly, if an operation is made\nto a volume at the same time it's being moved, there might be a\nchance that API calls such as create snapshot could fail with\nxNotPrimary error. Normally this will succeed on a retry of the\noperation.\n\nThis patch fixes this issue by adding the xNotPrimary exception to\nour list of retryable exceptions in the SolidFire driver.\n\nChange-Id: I67dd2bfba37adcb7cda5f1cd08ff641410ec3f6b\nCloses-Bug: #1891914\n(cherry picked from commit 8d0c08b4bb9d32f2c02dcc60f1f482331197e546)\n(cherry picked from commit 622244a755b75a52d079f92d8526f6eb5b517106)\n(cherry picked from commit f087536e47a30349553f6e604ea804250d91022a)\n""}, {'number': 4, 'created': '2021-03-24 22:47:25.000000000', 'files': ['cinder/volume/drivers/solidfire.py', 'releasenotes/notes/sf-fix-error-on-cluster-rebalancing-515bf41104cd181a.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a75f8633b4e8e4256f1309cb2fdc0699f8a3c3e0', 'message': ""NetApp SolidFire: Fix error on cluster workload rebalancing\n\nWhen SolidFire is under heavy load or being upgraded, the\nSolidFire cluster may automatically move connections from primary\nto secondary nodes, in order to rebalance cluster workload.\n\nAlthough this operation ocurrs very quickly, if an operation is made\nto a volume at the same time it's being moved, there might be a\nchance that API calls such as create snapshot could fail with\nxNotPrimary error. Normally this will succeed on a retry of the\noperation.\n\nThis patch fixes this issue by adding the xNotPrimary exception to\nour list of retryable exceptions in the SolidFire driver.\n\nChange-Id: I67dd2bfba37adcb7cda5f1cd08ff641410ec3f6b\nCloses-Bug: #1891914\n(cherry picked from commit 8d0c08b4bb9d32f2c02dcc60f1f482331197e546)\n(cherry picked from commit 622244a755b75a52d079f92d8526f6eb5b517106)\n(cherry picked from commit f087536e47a30349553f6e604ea804250d91022a)\n""}]",46,764269,a75f8633b4e8e4256f1309cb2fdc0699f8a3c3e0,74,7,4,30555,,,0,"NetApp SolidFire: Fix error on cluster workload rebalancing

When SolidFire is under heavy load or being upgraded, the
SolidFire cluster may automatically move connections from primary
to secondary nodes, in order to rebalance cluster workload.

Although this operation ocurrs very quickly, if an operation is made
to a volume at the same time it's being moved, there might be a
chance that API calls such as create snapshot could fail with
xNotPrimary error. Normally this will succeed on a retry of the
operation.

This patch fixes this issue by adding the xNotPrimary exception to
our list of retryable exceptions in the SolidFire driver.

Change-Id: I67dd2bfba37adcb7cda5f1cd08ff641410ec3f6b
Closes-Bug: #1891914
(cherry picked from commit 8d0c08b4bb9d32f2c02dcc60f1f482331197e546)
(cherry picked from commit 622244a755b75a52d079f92d8526f6eb5b517106)
(cherry picked from commit f087536e47a30349553f6e604ea804250d91022a)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/69/764269/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/solidfire.py', 'releasenotes/notes/sf-fix-error-on-cluster-rebalancing-515bf41104cd181a.yaml']",2,404d238b147e9d9a15660cf3a669e2ae8c7a606b,bug/1891914,"--- fixes: - | NetApp SolidFire driver `Bug #1891914 <https://bugs.launchpad.net/cinder/+bug/1891914>`_: Fix an error that might occur on cluster workload rebalancing or system upgrade, when an operation is made to a volume at the same time its connection is being moved to a secondary node. ",,13,2
openstack%2Fcinder~stable%2Ftrain~I4383b691a8cc4aacb046332e418aafb88ba8ba56,openstack/cinder,stable/train,I4383b691a8cc4aacb046332e418aafb88ba8ba56,NetApp SolidFire: Fix duplicate volume when API response is lost,MERGED,2020-11-26 04:15:40.000000000,2021-03-31 07:34:46.000000000,2021-03-31 07:26:03.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 10459}, {'_account_id': 21570}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 30555}, {'_account_id': 30615}]","[{'number': 1, 'created': '2020-11-26 04:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/77ca45768e3b2fbe67c255fbf5568505324df204', 'message': ""NetApp SolidFire: Fix duplicate volume when API response is lost\n\nThe SolidFire driver retries API requests in case a connection\nerror occurrs. When network is unstable, there may be the\npossibility that the SolidFire backend successfully receive\nand process a create volume operation, but fail to deliver the\nresponse back to the driver.\n\nWhen this scenario occurrs, the SolidFire driver automatically\nresends the request, creating a second volume and leaving a\nduplicate unused. Although this doesn't affect\ndriver functionality at first moment (the volume id from the\ncluster is always correctly associated to cinder provider id),\nfurther operations may hit the unused volume, leading to\nunexpected hehavior.\n\nThis patch fixes this issue by:\n\n1. Checking if the volume name already exists in the\nbackend before trying to create it. Volume creation will\nraise a exception and abort in case of a volume is found.\n\n2. Checking for volume creation right after a read timeout is\ndetected, preventing invalid API calls.\n\n3. Adding option ´sf_volume_create_timeout´ to the SolidFire\ndriver, to allow users to set the appropriate timeout value for\ntheir environment.\n\nCloses-Bug: #1896112\nChange-Id: I4383b691a8cc4aacb046332e418aafb88ba8ba56\n(cherry picked from commit 42c92cc407d475751bc61c98445c9c0740a71496)\n""}, {'number': 2, 'created': '2021-03-16 10:57:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/db0c8ede59fccd1a8a13e36ce396e8429d8d9ed8', 'message': ""NetApp SolidFire: Fix duplicate volume when API response is lost\n\nThe SolidFire driver retries API requests in case a connection\nerror occurrs. When network is unstable, there may be the\npossibility that the SolidFire backend successfully receive\nand process a create volume operation, but fail to deliver the\nresponse back to the driver.\n\nWhen this scenario occurrs, the SolidFire driver automatically\nresends the request, creating a second volume and leaving a\nduplicate unused. Although this doesn't affect\ndriver functionality at first moment (the volume id from the\ncluster is always correctly associated to cinder provider id),\nfurther operations may hit the unused volume, leading to\nunexpected hehavior.\n\nThis patch fixes this issue by:\n\n1. Checking if the volume name already exists in the\nbackend before trying to create it. Volume creation will\nraise a exception and abort in case of a volume is found.\n\n2. Checking for volume creation right after a read timeout is\ndetected, preventing invalid API calls.\n\n3. Adding option ´sf_volume_create_timeout´ to the SolidFire\ndriver, to allow users to set the appropriate timeout value for\ntheir environment.\n\nCloses-Bug: #1896112\nChange-Id: I4383b691a8cc4aacb046332e418aafb88ba8ba56\n(cherry picked from commit 42c92cc407d475751bc61c98445c9c0740a71496)\n(cherry picked from commit deb31a0c4d35ea6c479bfe466b780ed07a489276)\n(cherry picked from commit d73da73283c783f90e878c5fbd53e114e1918f0a)\n""}, {'number': 3, 'created': '2021-03-23 18:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/39575aff10d3dcc0a9f6e112ff869bd74ffff726', 'message': ""NetApp SolidFire: Fix duplicate volume when API response is lost\n\nThe SolidFire driver retries API requests in case a connection\nerror occurrs. When network is unstable, there may be the\npossibility that the SolidFire backend successfully receive\nand process a create volume operation, but fail to deliver the\nresponse back to the driver.\n\nWhen this scenario occurrs, the SolidFire driver automatically\nresends the request, creating a second volume and leaving a\nduplicate unused. Although this doesn't affect\ndriver functionality at first moment (the volume id from the\ncluster is always correctly associated to cinder provider id),\nfurther operations may hit the unused volume, leading to\nunexpected hehavior.\n\nThis patch fixes this issue by:\n\n1. Checking if the volume name already exists in the\nbackend before trying to create it. Volume creation will\nraise a exception and abort in case of a volume is found.\n\n2. Checking for volume creation right after a read timeout is\ndetected, preventing invalid API calls.\n\n3. Adding option ´sf_volume_create_timeout´ to the SolidFire\ndriver, to allow users to set the appropriate timeout value for\ntheir environment.\n\nCloses-Bug: #1896112\nChange-Id: I4383b691a8cc4aacb046332e418aafb88ba8ba56\n(cherry picked from commit 42c92cc407d475751bc61c98445c9c0740a71496)\n(cherry picked from commit deb31a0c4d35ea6c479bfe466b780ed07a489276)\n(cherry picked from commit d73da73283c783f90e878c5fbd53e114e1918f0a)\n""}, {'number': 4, 'created': '2021-03-23 18:16:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cf2c6fed704c679a5712bf0cc0bcbe792e10f444', 'message': ""NetApp SolidFire: Fix duplicate volume when API response is lost\n\nThe SolidFire driver retries API requests in case a connection\nerror occurrs. When network is unstable, there may be the\npossibility that the SolidFire backend successfully receive\nand process a create volume operation, but fail to deliver the\nresponse back to the driver.\n\nWhen this scenario occurrs, the SolidFire driver automatically\nresends the request, creating a second volume and leaving a\nduplicate unused. Although this doesn't affect\ndriver functionality at first moment (the volume id from the\ncluster is always correctly associated to cinder provider id),\nfurther operations may hit the unused volume, leading to\nunexpected hehavior.\n\nThis patch fixes this issue by:\n\n1. Checking if the volume name already exists in the\nbackend before trying to create it. Volume creation will\nraise a exception and abort in case of a volume is found.\n\n2. Checking for volume creation right after a read timeout is\ndetected, preventing invalid API calls.\n\n3. Adding option ´sf_volume_create_timeout´ to the SolidFire\ndriver, to allow users to set the appropriate timeout value for\ntheir environment.\n\nCloses-Bug: #1896112\nChange-Id: I4383b691a8cc4aacb046332e418aafb88ba8ba56\n(cherry picked from commit 42c92cc407d475751bc61c98445c9c0740a71496)\n(cherry picked from commit deb31a0c4d35ea6c479bfe466b780ed07a489276)\n(cherry picked from commit d73da73283c783f90e878c5fbd53e114e1918f0a)\n""}, {'number': 5, 'created': '2021-03-23 18:17:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/64ebba6025ac3cd40de3fc427c96009f807f9508', 'message': ""NetApp SolidFire: Fix duplicate volume when API response is lost\n\nThe SolidFire driver retries API requests in case a connection\nerror occurrs. When network is unstable, there may be the\npossibility that the SolidFire backend successfully receive\nand process a create volume operation, but fail to deliver the\nresponse back to the driver.\n\nWhen this scenario occurrs, the SolidFire driver automatically\nresends the request, creating a second volume and leaving a\nduplicate unused. Although this doesn't affect\ndriver functionality at first moment (the volume id from the\ncluster is always correctly associated to cinder provider id),\nfurther operations may hit the unused volume, leading to\nunexpected hehavior.\n\nThis patch fixes this issue by:\n\n1. Checking if the volume name already exists in the\nbackend before trying to create it. Volume creation will\nraise a exception and abort in case of a volume is found.\n\n2. Checking for volume creation right after a read timeout is\ndetected, preventing invalid API calls.\n\n3. Adding option ´sf_volume_create_timeout´ to the SolidFire\ndriver, to allow users to set the appropriate timeout value for\ntheir environment.\n\nCloses-Bug: #1896112\nChange-Id: I4383b691a8cc4aacb046332e418aafb88ba8ba56\n(cherry picked from commit 42c92cc407d475751bc61c98445c9c0740a71496)\n(cherry picked from commit deb31a0c4d35ea6c479bfe466b780ed07a489276)\n(cherry picked from commit d73da73283c783f90e878c5fbd53e114e1918f0a)\n""}, {'number': 6, 'created': '2021-03-23 18:18:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7770891a06c41a1eea7dc856d2b62a3073d94586', 'message': ""NetApp SolidFire: Fix duplicate volume when API response is lost\n\nThe SolidFire driver retries API requests in case a connection\nerror occurrs. When network is unstable, there may be the\npossibility that the SolidFire backend successfully receive\nand process a create volume operation, but fail to deliver the\nresponse back to the driver.\n\nWhen this scenario occurrs, the SolidFire driver automatically\nresends the request, creating a second volume and leaving a\nduplicate unused. Although this doesn't affect\ndriver functionality at first moment (the volume id from the\ncluster is always correctly associated to cinder provider id),\nfurther operations may hit the unused volume, leading to\nunexpected hehavior.\n\nThis patch fixes this issue by:\n\n1. Checking if the volume name already exists in the\nbackend before trying to create it. Volume creation will\nraise a exception and abort in case of a volume is found.\n\n2. Checking for volume creation right after a read timeout is\ndetected, preventing invalid API calls.\n\n3. Adding option ´sf_volume_create_timeout´ to the SolidFire\ndriver, to allow users to set the appropriate timeout value for\ntheir environment.\n\nCloses-Bug: #1896112\nChange-Id: I4383b691a8cc4aacb046332e418aafb88ba8ba56\n(cherry picked from commit 42c92cc407d475751bc61c98445c9c0740a71496)\n(cherry picked from commit deb31a0c4d35ea6c479bfe466b780ed07a489276)\n(cherry picked from commit d73da73283c783f90e878c5fbd53e114e1918f0a)\n""}, {'number': 7, 'created': '2021-03-24 16:19:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fde8a22426f9ef0ac65514150bf485017553cadd', 'message': ""NetApp SolidFire: Fix duplicate volume when API response is lost\n\nThe SolidFire driver retries API requests in case a connection\nerror occurrs. When network is unstable, there may be the\npossibility that the SolidFire backend successfully receive\nand process a create volume operation, but fail to deliver the\nresponse back to the driver.\n\nWhen this scenario occurrs, the SolidFire driver automatically\nresends the request, creating a second volume and leaving a\nduplicate unused. Although this doesn't affect\ndriver functionality at first moment (the volume id from the\ncluster is always correctly associated to cinder provider id),\nfurther operations may hit the unused volume, leading to\nunexpected hehavior.\n\nThis patch fixes this issue by:\n\n1. Checking if the volume name already exists in the\nbackend before trying to create it. Volume creation will\nraise a exception and abort in case of a volume is found.\n\n2. Checking for volume creation right after a read timeout is\ndetected, preventing invalid API calls.\n\n3. Adding option ´sf_volume_create_timeout´ to the SolidFire\ndriver, to allow users to set the appropriate timeout value for\ntheir environment.\n\nCloses-Bug: #1896112\nChange-Id: I4383b691a8cc4aacb046332e418aafb88ba8ba56\n(cherry picked from commit 42c92cc407d475751bc61c98445c9c0740a71496)\n(cherry picked from commit deb31a0c4d35ea6c479bfe466b780ed07a489276)\n(cherry picked from commit d73da73283c783f90e878c5fbd53e114e1918f0a)\n""}, {'number': 8, 'created': '2021-03-24 22:34:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/afad2855074bc3c01c60070c60baad3aba44dc47', 'message': ""NetApp SolidFire: Fix duplicate volume when API response is lost\n\nThe SolidFire driver retries API requests in case a connection\nerror occurrs. When network is unstable, there may be the\npossibility that the SolidFire backend successfully receive\nand process a create volume operation, but fail to deliver the\nresponse back to the driver.\n\nWhen this scenario occurrs, the SolidFire driver automatically\nresends the request, creating a second volume and leaving a\nduplicate unused. Although this doesn't affect\ndriver functionality at first moment (the volume id from the\ncluster is always correctly associated to cinder provider id),\nfurther operations may hit the unused volume, leading to\nunexpected hehavior.\n\nThis patch fixes this issue by:\n\n1. Checking if the volume name already exists in the\nbackend before trying to create it. Volume creation will\nraise a exception and abort in case of a volume is found.\n\n2. Checking for volume creation right after a read timeout is\ndetected, preventing invalid API calls.\n\n3. Adding option ´sf_volume_create_timeout´ to the SolidFire\ndriver, to allow users to set the appropriate timeout value for\ntheir environment.\n\nCloses-Bug: #1896112\nChange-Id: I4383b691a8cc4aacb046332e418aafb88ba8ba56\n(cherry picked from commit 42c92cc407d475751bc61c98445c9c0740a71496)\n(cherry picked from commit deb31a0c4d35ea6c479bfe466b780ed07a489276)\n(cherry picked from commit d73da73283c783f90e878c5fbd53e114e1918f0a)\n""}, {'number': 9, 'created': '2021-03-24 22:47:25.000000000', 'files': ['cinder/volume/drivers/solidfire.py', 'releasenotes/notes/sf-fix-duplicate-volume-request-lost-adefacda1298dc62.yaml', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f70bfbf7110fbf20f1e263ade02229c6837393bc', 'message': ""NetApp SolidFire: Fix duplicate volume when API response is lost\n\nThe SolidFire driver retries API requests in case a connection\nerror occurrs. When network is unstable, there may be the\npossibility that the SolidFire backend successfully receive\nand process a create volume operation, but fail to deliver the\nresponse back to the driver.\n\nWhen this scenario occurrs, the SolidFire driver automatically\nresends the request, creating a second volume and leaving a\nduplicate unused. Although this doesn't affect\ndriver functionality at first moment (the volume id from the\ncluster is always correctly associated to cinder provider id),\nfurther operations may hit the unused volume, leading to\nunexpected hehavior.\n\nThis patch fixes this issue by:\n\n1. Checking if the volume name already exists in the\nbackend before trying to create it. Volume creation will\nraise a exception and abort in case of a volume is found.\n\n2. Checking for volume creation right after a read timeout is\ndetected, preventing invalid API calls.\n\n3. Adding option ´sf_volume_create_timeout´ to the SolidFire\ndriver, to allow users to set the appropriate timeout value for\ntheir environment.\n\nCloses-Bug: #1896112\nChange-Id: I4383b691a8cc4aacb046332e418aafb88ba8ba56\n(cherry picked from commit 42c92cc407d475751bc61c98445c9c0740a71496)\n(cherry picked from commit deb31a0c4d35ea6c479bfe466b780ed07a489276)\n(cherry picked from commit d73da73283c783f90e878c5fbd53e114e1918f0a)\n""}]",48,764275,f70bfbf7110fbf20f1e263ade02229c6837393bc,83,9,9,30555,,,0,"NetApp SolidFire: Fix duplicate volume when API response is lost

The SolidFire driver retries API requests in case a connection
error occurrs. When network is unstable, there may be the
possibility that the SolidFire backend successfully receive
and process a create volume operation, but fail to deliver the
response back to the driver.

When this scenario occurrs, the SolidFire driver automatically
resends the request, creating a second volume and leaving a
duplicate unused. Although this doesn't affect
driver functionality at first moment (the volume id from the
cluster is always correctly associated to cinder provider id),
further operations may hit the unused volume, leading to
unexpected hehavior.

This patch fixes this issue by:

1. Checking if the volume name already exists in the
backend before trying to create it. Volume creation will
raise a exception and abort in case of a volume is found.

2. Checking for volume creation right after a read timeout is
detected, preventing invalid API calls.

3. Adding option ´sf_volume_create_timeout´ to the SolidFire
driver, to allow users to set the appropriate timeout value for
their environment.

Closes-Bug: #1896112
Change-Id: I4383b691a8cc4aacb046332e418aafb88ba8ba56
(cherry picked from commit 42c92cc407d475751bc61c98445c9c0740a71496)
(cherry picked from commit deb31a0c4d35ea6c479bfe466b780ed07a489276)
(cherry picked from commit d73da73283c783f90e878c5fbd53e114e1918f0a)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/75/764275/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/solidfire.py', 'releasenotes/notes/sf-fix-duplicate-volume-request-lost-adefacda1298dc62.yaml', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py']",3,77ca45768e3b2fbe67c255fbf5568505324df204,bug/1891914," if params and params.get('startVolumeID', None): selected_volumes = [v for v in volumes if v.get('volumeID') != params['startVolumeID']] else: result = {'result': {'volumes': []}} ", if params and params['startVolumeID']: selected_volumes = [v for v in volumes if v.get('volumeID') != params['startVolumeID']],86,8
openstack%2Fcinder~stable%2Fvictoria~I4923cda0e7b747c141203a024c325c4d2b8cea02,openstack/cinder,stable/victoria,I4923cda0e7b747c141203a024c325c4d2b8cea02,[Pure] Fix failing consistency group tempest tests,MERGED,2021-03-09 21:28:01.000000000,2021-03-31 07:34:19.000000000,2021-03-31 07:27:01.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-03-09 21:28:01.000000000', 'files': ['cinder/volume/drivers/pure.py', 'cinder/tests/unit/volume/drivers/test_pure.py', 'releasenotes/notes/pure_tempest_cg_fix-913d405f7487de00.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/80de7dc91eb08efc0d004d83ec1904d3406263a4', 'message': '[Pure] Fix failing consistency group tempest tests\n\nCurrently CG tests have to be disabled due to this failing test. This\ntest will never succeed because the underlying array cannot create a\ncondition where this type of failure would occur.\nThis test has never passed due to the underlying fundamental\nmisunderstanding of the arrays internal logic mechanisms and should\nnever have been in the test suite in the first place.\n\nChange-Id: I4923cda0e7b747c141203a024c325c4d2b8cea02\n(cherry picked from commit 41101463a859a8dfb3ce06330ce50c380efe6209)\n'}]",0,779602,80de7dc91eb08efc0d004d83ec1904d3406263a4,30,4,1,13425,,,0,"[Pure] Fix failing consistency group tempest tests

Currently CG tests have to be disabled due to this failing test. This
test will never succeed because the underlying array cannot create a
condition where this type of failure would occur.
This test has never passed due to the underlying fundamental
misunderstanding of the arrays internal logic mechanisms and should
never have been in the test suite in the first place.

Change-Id: I4923cda0e7b747c141203a024c325c4d2b8cea02
(cherry picked from commit 41101463a859a8dfb3ce06330ce50c380efe6209)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/02/779602/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/pure.py', 'cinder/tests/unit/volume/drivers/test_pure.py', 'releasenotes/notes/pure_tempest_cg_fix-913d405f7487de00.yaml']",3,80de7dc91eb08efc0d004d83ec1904d3406263a4,tempest_fix-stable/victoria,--- fixes: - | Pure Storage FlashArray driver fix to ensure cinder_tempest_plugin consistency group tests pass. ,,6,28
openstack%2Fneutron~stable%2Fussuri~I0d78278797beb2af42ec38462e2b2edc8e2a4ae6,openstack/neutron,stable/ussuri,I0d78278797beb2af42ec38462e2b2edc8e2a4ae6,[OVN] Make delete_router_port() less error prone,MERGED,2021-03-26 08:52:42.000000000,2021-03-31 07:34:05.000000000,2021-03-31 07:20:59.000000000,"[{'_account_id': 1131}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-26 08:52:42.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9d3766db8ee67a6c2248cb8ab16a93f9333cf538', 'message': '[OVN] Make delete_router_port() less error prone\n\nThis commit makes the delete_router_port() method from OVNClient more\nresilient to NotFound errors. Apart from the L3 plugin, this method is\nalso invoked by the maintenance task to fix stale/not-up-to-date objects\nin the OVN database, and since the maintenance task runs every 5 minutes\nonly it could happen that some objects fetched by delete_router_port()\nare gone by the moment that method is invoked.\n\nChange-Id: I0d78278797beb2af42ec38462e2b2edc8e2a4ae6\nCloses-Bug: #1920968\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit 36b8c684b1c42a0733d0820bcd2e1fe217f23797)\n'}]",0,783225,9d3766db8ee67a6c2248cb8ab16a93f9333cf538,23,3,1,6773,,,0,"[OVN] Make delete_router_port() less error prone

This commit makes the delete_router_port() method from OVNClient more
resilient to NotFound errors. Apart from the L3 plugin, this method is
also invoked by the maintenance task to fix stale/not-up-to-date objects
in the OVN database, and since the maintenance task runs every 5 minutes
only it could happen that some objects fetched by delete_router_port()
are gone by the moment that method is invoked.

Change-Id: I0d78278797beb2af42ec38462e2b2edc8e2a4ae6
Closes-Bug: #1920968
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit 36b8c684b1c42a0733d0820bcd2e1fe217f23797)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/25/783225/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py']",2,9d3766db8ee67a6c2248cb8ab16a93f9333cf538,,"from neutron_lib.exceptions import l3 as l3_exc def test_remove_router_interface_router_not_found(self): router_id = 'router-id' interface_info = {'port_id': 'router-port-id'} self.get_port.side_effect = n_exc.PortNotFound( port_id='router-port-id') self.get_router.side_effect = l3_exc.RouterNotFound( router_id='router-id') self.l3_inst.remove_router_interface( self.context, router_id, interface_info) self.get_router.assert_called_once_with(self.context, 'router-id') self.l3_inst._ovn.lrp_del.assert_called_once_with( 'lrp-router-port-id', 'neutron-router-id', if_exists=True) self.del_rev_p.assert_called_once_with( self.context, 'router-port-id', ovn_const.TYPE_ROUTER_PORTS) ",,31,5
openstack%2Frequirements~master~I073ddeeda7c124688e97408cd80cdbb24ee8ecd8,openstack/requirements,master,I073ddeeda7c124688e97408cd80cdbb24ee8ecd8,Don't sync networking-midonet requirements,MERGED,2021-03-30 06:27:30.000000000,2021-03-31 07:33:28.000000000,2021-03-31 07:24:38.000000000,"[{'_account_id': 841}, {'_account_id': 8556}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-30 06:27:30.000000000', 'files': ['projects.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/040e24a73f93c5f1c81fc2312a3552f4cb972cc5', 'message': ""Don't sync networking-midonet requirements\n\nAs per discussion in [1], we need to deprecate networking-midonet as\nofficial Neutron stadium project due to lack of maintainers.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-March/021400.html\n\nChange-Id: I073ddeeda7c124688e97408cd80cdbb24ee8ecd8\n""}]",0,783789,040e24a73f93c5f1c81fc2312a3552f4cb972cc5,12,5,1,11975,,,0,"Don't sync networking-midonet requirements

As per discussion in [1], we need to deprecate networking-midonet as
official Neutron stadium project due to lack of maintainers.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-March/021400.html

Change-Id: I073ddeeda7c124688e97408cd80cdbb24ee8ecd8
",git fetch https://review.opendev.org/openstack/requirements refs/changes/89/783789/1 && git format-patch -1 --stdout FETCH_HEAD,['projects.txt'],1,040e24a73f93c5f1c81fc2312a3552f4cb972cc5,deprecate-networking-midonet,,openstack/networking-midonet,0,1
openstack%2Fnova~master~I663ccd3ff737fb384e0b39f920c406367aea55e1,openstack/nova,master,I663ccd3ff737fb384e0b39f920c406367aea55e1,docs: Clarify value for 'hw:cpu_realtime' extra spec,MERGED,2021-03-24 12:50:58.000000000,2021-03-31 07:33:25.000000000,2021-03-31 07:23:55.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-24 12:50:58.000000000', 'files': ['doc/source/admin/real-time.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/e89125a4223ccada58be61faf1305f0ff5b5be0d', 'message': ""docs: Clarify value for 'hw:cpu_realtime' extra spec\n\nPer review feedback.\n\nChange-Id: I663ccd3ff737fb384e0b39f920c406367aea55e1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,782708,e89125a4223ccada58be61faf1305f0ff5b5be0d,10,3,1,15334,,,0,"docs: Clarify value for 'hw:cpu_realtime' extra spec

Per review feedback.

Change-Id: I663ccd3ff737fb384e0b39f920c406367aea55e1
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/08/782708/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/real-time.rst'],1,e89125a4223ccada58be61faf1305f0ff5b5be0d,docs," :nova:extra-spec:`hw:cpu_realtime_mask` when realtime mode was enabled via :nova:extra-spec:`hw:cpu_realtime`. Starting in Victoria, it is possiblespec to ``yes`` or a truthy value. When this is configured, it is necessary to specify where guest overhead processes should be scheduled to. This can be accomplished in one of three ways. Firstly, the :nova:extra-spec:`hw:cpu_realtime_mask` extra spec or equivalent image metadata property can be used to indicate which guest cores should be scheduled as real-time cores, leaving the remainder to be scheduled as non-real-time cores and to handle overhead processes. For example, to allocate the first two cores of an 8 core instance as the non-real-time cores:"," :nova:extra-spec:`hw:cpu_realtime_mask` when :nova:extra-spec:`hw:cpu_realtime` was set to ``true``. Starting in Victoria, it is possiblespec to ``true``. When this is configured, it is necessary to specify where guest overhead processes should be scheduled to. This can be accomplished in one of three ways. Firstly, the :nova:extra-spec:`hw:cpu_realtime_mask` extra spec or equivalent image metadata property can be used to indicate which guest cores should be scheduled as real-time cores, leaving the remainder to be scheduled as non-real-time cores and to handle overhead processes. For example, to allocate the first two cores of an 8 core instance as the non-real-time cores:",10,11
openstack%2Fglance~stable%2Fvictoria~Ic2ac2a528206c50c38e948a096daf9eb8e5eb715,openstack/glance,stable/victoria,Ic2ac2a528206c50c38e948a096daf9eb8e5eb715,Make functional tests set node_staging_uri,MERGED,2021-03-24 07:32:26.000000000,2021-03-31 07:33:19.000000000,2021-03-31 07:22:40.000000000,"[{'_account_id': 4393}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-24 07:32:26.000000000', 'files': ['glance/tests/functional/v2/test_images.py', 'glance/tests/functional/__init__.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/8e216b4913e8b842cab983c100165949bed7def2', 'message': ""Make functional tests set node_staging_uri\n\nCurrently it is not possible to configure the staging directory\nURI of the functional workers. We need to be able to do that in order\nto enable the stage cleaning behavior. Right now, they're all sharing\n/tmp/staging, which will cause workers to conflict while running in\nparallel. This causes them to use their private test directory,\nwhich may also help some other spurious failures due to interaction.\n\nRelated-Bug: #1913625\nChange-Id: Ic2ac2a528206c50c38e948a096daf9eb8e5eb715\n(cherry picked from commit e9852fb6251c655f0e384c6b0b8677bd556f17a1)\n""}]",0,782431,8e216b4913e8b842cab983c100165949bed7def2,13,4,1,9303,,,0,"Make functional tests set node_staging_uri

Currently it is not possible to configure the staging directory
URI of the functional workers. We need to be able to do that in order
to enable the stage cleaning behavior. Right now, they're all sharing
/tmp/staging, which will cause workers to conflict while running in
parallel. This causes them to use their private test directory,
which may also help some other spurious failures due to interaction.

Related-Bug: #1913625
Change-Id: Ic2ac2a528206c50c38e948a096daf9eb8e5eb715
(cherry picked from commit e9852fb6251c655f0e384c6b0b8677bd556f17a1)
",git fetch https://review.opendev.org/openstack/glance refs/changes/31/782431/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/functional/v2/test_images.py', 'glance/tests/functional/__init__.py']",2,8e216b4913e8b842cab983c100165949bed7def2,bug/1913625-stable/victoria," self.node_staging_uri = 'file://%s' % os.path.join( self.test_dir, 'staging') node_staging_uri=%(node_staging_uri)s",,4,5
openstack%2Fpuppet-nova~stable%2Fussuri~I5b3d9dbbd41d060134444609458b3e8bba606ae6,openstack/puppet-nova,stable/ussuri,I5b3d9dbbd41d060134444609458b3e8bba606ae6,"Revert ""Remove parameter nova::compute::pci_passthrough""",MERGED,2021-01-27 12:07:50.000000000,2021-03-31 07:28:46.000000000,2021-03-31 07:28:46.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23811}]","[{'number': 1, 'created': '2021-01-27 12:07:50.000000000', 'files': ['manifests/compute.pp', 'spec/classes/nova_compute_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/9d3eee4233b70da5b3ae735f755864053cefbc70', 'message': 'Revert ""Remove parameter nova::compute::pci_passthrough""\n\nThis should never have been merged.\nIt removed more than the deprecated param, breaking the pci config on\ncomputes.\nAlso should have warned for at least 1 cycle before removal.\nIt also wasn\'t removed correctly as the pick remained in nova::compute::pci\nso (IIUC) the deprecated param still works today if set in hieradata.\n\nThis reverts commit d845b6f0aefaaab0b65b32cd22ccda8c2c8ee6ae.\n\nChange-Id: I5b3d9dbbd41d060134444609458b3e8bba606ae6\n(cherry picked from commit e7f323a1f4fb37c5a8a70a123f08fc5e1e5a7843)\n(cherry picked from commit 3f4d157b81e17582927c591303db399055fa44ea)\n'}]",0,772659,9d3eee4233b70da5b3ae735f755864053cefbc70,22,8,1,9816,,,0,"Revert ""Remove parameter nova::compute::pci_passthrough""

This should never have been merged.
It removed more than the deprecated param, breaking the pci config on
computes.
Also should have warned for at least 1 cycle before removal.
It also wasn't removed correctly as the pick remained in nova::compute::pci
so (IIUC) the deprecated param still works today if set in hieradata.

This reverts commit d845b6f0aefaaab0b65b32cd22ccda8c2c8ee6ae.

Change-Id: I5b3d9dbbd41d060134444609458b3e8bba606ae6
(cherry picked from commit e7f323a1f4fb37c5a8a70a123f08fc5e1e5a7843)
(cherry picked from commit 3f4d157b81e17582927c591303db399055fa44ea)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/59/772659/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/compute.pp', 'spec/classes/nova_compute_spec.rb']",2,9d3eee4233b70da5b3ae735f755864053cefbc70,," it 'configures nova pci_passthrough_whitelist' do is_expected.to contain_class('nova::compute::pci') is_expected.to contain_nova_config('pci/passthrough_whitelist').with(:value => '<SERVICE DEFAULT>') end context 'with pci params array' do let :params do { :pci_passthrough => [ { ""vendor_id"" => ""8086"", ""product_id"" => ""0126"" }, { ""vendor_id"" => ""9096"", ""product_id"" => ""1520"", ""physical_network"" => ""physnet1"" } ], } end it 'configures nova pci_passthrough_whitelist entries' do is_expected.to contain_class('nova::compute::pci') is_expected.to contain_nova_config('pci/passthrough_whitelist').with( 'value' => ['{""vendor_id"":""8086"",""product_id"":""0126""}','{""vendor_id"":""9096"",""product_id"":""1520"",""physical_network"":""physnet1""}'] ) end end context 'with pci params JSON encoded string (deprecated)' do let :params do { :pci_passthrough => ""[{\""vendor_id\"":\""8086\"",\""product_id\"":\""0126\""},{\""vendor_id\"":\""9096\"",\""product_id\"":\""1520\"",\""physical_network\"":\""physnet1\""}]"", } end it 'configures nova pci_passthrough_whitelist entries' do is_expected.to contain_class('nova::compute::pci') is_expected.to contain_nova_config('pci/passthrough_whitelist').with( 'value' => ['{""vendor_id"":""8086"",""product_id"":""0126""}','{""vendor_id"":""9096"",""product_id"":""1520"",""physical_network"":""physnet1""}'] ) end end context 'when vcpu_pin_set and pci params are empty' do let :params do { :pci_passthrough => """"} end it 'clears pci_passthrough configuration' do is_expected.to contain_class('nova::compute::pci') is_expected.to contain_nova_config('pci/passthrough_whitelist').with(:value => '<SERVICE DEFAULT>') end end ",,70,0
openstack%2Fneutron~stable%2Ftrain~I63221507713b941c261cdf88781133149da8ab8d,openstack/neutron,stable/train,I63221507713b941c261cdf88781133149da8ab8d,"Don't configure dnsmasq entries for ""network"" ports",MERGED,2021-02-23 20:16:44.000000000,2021-03-31 07:08:48.000000000,2021-03-31 07:05:50.000000000,"[{'_account_id': 5948}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 20:16:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bdc541b9b53e0812889fc27d97ea4fac3ad5164b', 'message': 'Don\'t configure dnsmasq entries for ""network"" ports\n\nPorts with device_owner like:\n* floating_ip,\n* DHCP,\n* some types of router ports, like: HA interface interface,\n* distributed ports,\ndon\'t need to be configured in the dnsmasq file.\nSo there is no need to reload dnsmasq every time when such port is\nadded/updated to the network.\n\nThis patch adds skip in such case which should improve load on the\nNeutron DHCP agent.\n\nConflicts:\n    neutron/agent/linux/dhcp.py\n\nCloses-Bug: #1913269\nChange-Id: I63221507713b941c261cdf88781133149da8ab8d\n(cherry picked from commit e4bbeee2060058d079885339e99ef7e6e366de16)\n'}, {'number': 2, 'created': '2021-02-25 09:09:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/243ec33fce67ec5cda941086c5608800b2f6686f', 'message': 'Don\'t configure dnsmasq entries for ""network"" ports\n\nPorts with device_owner like:\n* floating_ip,\n* DHCP,\n* some types of router ports, like: HA interface interface,\n* distributed ports,\ndon\'t need to be configured in the dnsmasq file.\nSo there is no need to reload dnsmasq every time when such port is\nadded/updated to the network.\n\nThis patch adds skip in such case which should improve load on the\nNeutron DHCP agent.\n\nConflicts:\n    neutron/agent/linux/dhcp.py\n\nCloses-Bug: #1913269\nChange-Id: I63221507713b941c261cdf88781133149da8ab8d\n(cherry picked from commit e4bbeee2060058d079885339e99ef7e6e366de16)\n'}, {'number': 3, 'created': '2021-03-08 09:00:49.000000000', 'files': ['neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py', 'releasenotes/notes/do-not-create-dhcp-entries-for-all-types-of-ports-39c03b3782d2753e.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3a880b84954c20dda0a2088e0330993b956e15d3', 'message': 'Don\'t configure dnsmasq entries for ""network"" ports\n\nPorts with device_owner like:\n* floating_ip,\n* DHCP,\n* some types of router ports, like: HA interface interface,\ndon\'t need to be configured in the dnsmasq file.\nSo there is no need to reload dnsmasq every time when such port is\nadded/updated to the network.\n\nThis patch adds skip in such case which should improve load on the\nNeutron DHCP agent.\n\nConflicts:\n    neutron/agent/linux/dhcp.py\n\nCloses-Bug: #1913269\nChange-Id: I63221507713b941c261cdf88781133149da8ab8d\n(cherry picked from commit e4bbeee2060058d079885339e99ef7e6e366de16)\n'}]",0,777212,3a880b84954c20dda0a2088e0330993b956e15d3,18,4,3,11975,,,0,"Don't configure dnsmasq entries for ""network"" ports

Ports with device_owner like:
* floating_ip,
* DHCP,
* some types of router ports, like: HA interface interface,
don't need to be configured in the dnsmasq file.
So there is no need to reload dnsmasq every time when such port is
added/updated to the network.

This patch adds skip in such case which should improve load on the
Neutron DHCP agent.

Conflicts:
    neutron/agent/linux/dhcp.py

Closes-Bug: #1913269
Change-Id: I63221507713b941c261cdf88781133149da8ab8d
(cherry picked from commit e4bbeee2060058d079885339e99ef7e6e366de16)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/12/777212/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py', 'releasenotes/notes/do-not-create-dhcp-entries-for-all-types-of-ports-39c03b3782d2753e.yaml']",4,bdc541b9b53e0812889fc27d97ea4fac3ad5164b,bug/1913269-stable/train,"--- other: - | To improve performance of the DHCP agent, it will no longer configure the DHCP server for every port type created in Neutron. For example, for floating IP or router HA interfaces there is no need since a client will not make a DHCP request for them ",,46,0
openstack%2Fpuppet-ceilometer~master~I501f49703f1b0ff730af2a095c62caf6c018e131,openstack/puppet-ceilometer,master,I501f49703f1b0ff730af2a095c62caf6c018e131,metadata.json: debian 11,MERGED,2021-03-25 11:31:26.000000000,2021-03-31 07:04:14.000000000,2021-03-31 07:04:14.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-03-25 11:31:26.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/8f85187576df601d43089183036d35e0d23c70c7', 'message': 'metadata.json: debian 11\n\nChange-Id: I501f49703f1b0ff730af2a095c62caf6c018e131\n'}]",0,782955,8f85187576df601d43089183036d35e0d23c70c7,8,4,1,6476,,,0,"metadata.json: debian 11

Change-Id: I501f49703f1b0ff730af2a095c62caf6c018e131
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/55/782955/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,8f85187576df601d43089183036d35e0d23c70c7,debian-metadata," ""11"""," ""10""",1,1
openstack%2Fpuppet-cinder~master~Ibac246f663006b24c36907ecba715ac43413ff22,openstack/puppet-cinder,master,Ibac246f663006b24c36907ecba715ac43413ff22,metadata.json: debian 11,MERGED,2021-03-25 11:32:25.000000000,2021-03-31 07:04:05.000000000,2021-03-31 07:04:05.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-03-25 11:32:25.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/ceb177f01024408541cd38e2bf2bd84ae11b81f7', 'message': 'metadata.json: debian 11\n\nChange-Id: Ibac246f663006b24c36907ecba715ac43413ff22\n'}]",0,782976,ceb177f01024408541cd38e2bf2bd84ae11b81f7,8,4,1,6476,,,0,"metadata.json: debian 11

Change-Id: Ibac246f663006b24c36907ecba715ac43413ff22
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/76/782976/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,ceb177f01024408541cd38e2bf2bd84ae11b81f7,debian-metadata," ""11"""," ""10""",1,1
openstack%2Fpuppet-openstack_extras~master~I989a080abe64d0d5c84c4e7dbfdc5341fff01199,openstack/puppet-openstack_extras,master,I989a080abe64d0d5c84c4e7dbfdc5341fff01199,metadata.json: debian 11,MERGED,2021-03-25 20:27:23.000000000,2021-03-31 07:00:50.000000000,2021-03-31 07:00:50.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-25 20:27:23.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/4dbfc4dcb303b45eddb1726ce2f5d54170f5f5a3', 'message': 'metadata.json: debian 11\n\nChange-Id: I989a080abe64d0d5c84c4e7dbfdc5341fff01199\n'}]",0,783104,4dbfc4dcb303b45eddb1726ce2f5d54170f5f5a3,7,3,1,6476,,,0,"metadata.json: debian 11

Change-Id: I989a080abe64d0d5c84c4e7dbfdc5341fff01199
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/04/783104/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,4dbfc4dcb303b45eddb1726ce2f5d54170f5f5a3,debian-metadata," ""11"""," ""10""",1,1
openstack%2Fironic-python-agent~stable%2Fussuri~If3c83fb2ea2025fce092d495a64f32077c70d2d6,openstack/ironic-python-agent,stable/ussuri,If3c83fb2ea2025fce092d495a64f32077c70d2d6,Option to enable bootloader config failure bypass,MERGED,2021-03-18 21:11:47.000000000,2021-03-31 06:35:41.000000000,2021-03-31 06:33:58.000000000,"[{'_account_id': 4571}, {'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-18 21:11:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/c0141939d8a549da8685c026559018b30a8d5d15', 'message': 'Option to enable bootloader config failure bypass\n\nSome hardware is very well intentioned. However this intention\ncan result in the UEFI NVRAM table being full which prevents us\nfrom adding new records to the table. We can\'t be sure what to\ndelete, so in this case some operators just need the ability to\ntell ironic ""it is okay if this fails, it will still work.""\n\nThe added ``ignore_bootloader_failure`` option adds\nthis capability which can be set per-node either in the agent\nconfiguation via the ramdisk image, or in the pxe_append_params\nconfiguration parameter for the node itself with a\n``ipa-ignore-bootloader-failure`` option in order to prevent\nthe failure from being raised.\n\nChange-Id: If3c83fb2ea2025fce092d495a64f32077c70d2d6\nStory: 2008386\nTask: 41309\n(cherry picked from commit 7a83773fbc9800217a0364c72b8ca9f823a60519)\n(cherry picked from commit 07cf2c1b7921f37adf0dbf633fd0efed07ddbfd8)\n'}, {'number': 2, 'created': '2021-03-18 21:15:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/e84dd272c4013ae221163fce61f7569bb547b956', 'message': 'Option to enable bootloader config failure bypass\n\nSome hardware is very well intentioned. However this intention\ncan result in the UEFI NVRAM table being full which prevents us\nfrom adding new records to the table. We can\'t be sure what to\ndelete, so in this case some operators just need the ability to\ntell ironic ""it is okay if this fails, it will still work.""\n\nThe added ``ignore_bootloader_failure`` option adds\nthis capability which can be set per-node either in the agent\nconfiguation via the ramdisk image, or in the pxe_append_params\nconfiguration parameter for the node itself with a\n``ipa-ignore-bootloader-failure`` option in order to prevent\nthe failure from being raised.\n\nChange-Id: If3c83fb2ea2025fce092d495a64f32077c70d2d6\nStory: 2008386\nTask: 41309\n(cherry picked from commit 7a83773fbc9800217a0364c72b8ca9f823a60519)\n(cherry picked from commit 07cf2c1b7921f37adf0dbf633fd0efed07ddbfd8)\n'}, {'number': 3, 'created': '2021-03-23 02:20:29.000000000', 'files': ['releasenotes/notes/allows-bootloader-install-failure-to-be-ignored-b99667b13afa9759.yaml', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/config.py', 'ironic_python_agent/extensions/image.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/8f77a0196ff06d19d0633055cdb1f46d01479218', 'message': 'Option to enable bootloader config failure bypass\n\nSome hardware is very well intentioned. However this intention\ncan result in the UEFI NVRAM table being full which prevents us\nfrom adding new records to the table. We can\'t be sure what to\ndelete, so in this case some operators just need the ability to\ntell ironic ""it is okay if this fails, it will still work.""\n\nThe added ``ignore_bootloader_failure`` option adds\nthis capability which can be set per-node either in the agent\nconfiguation via the ramdisk image, or in the pxe_append_params\nconfiguration parameter for the node itself with a\n``ipa-ignore-bootloader-failure`` option in order to prevent\nthe failure from being raised.\n\nChange-Id: If3c83fb2ea2025fce092d495a64f32077c70d2d6\nStory: 2008386\nTask: 41309\n(cherry picked from commit 7a83773fbc9800217a0364c72b8ca9f823a60519)\n(cherry picked from commit 07cf2c1b7921f37adf0dbf633fd0efed07ddbfd8)\n'}]",0,781569,8f77a0196ff06d19d0633055cdb1f46d01479218,24,3,3,11655,,,0,"Option to enable bootloader config failure bypass

Some hardware is very well intentioned. However this intention
can result in the UEFI NVRAM table being full which prevents us
from adding new records to the table. We can't be sure what to
delete, so in this case some operators just need the ability to
tell ironic ""it is okay if this fails, it will still work.""

The added ``ignore_bootloader_failure`` option adds
this capability which can be set per-node either in the agent
configuation via the ramdisk image, or in the pxe_append_params
configuration parameter for the node itself with a
``ipa-ignore-bootloader-failure`` option in order to prevent
the failure from being raised.

Change-Id: If3c83fb2ea2025fce092d495a64f32077c70d2d6
Story: 2008386
Task: 41309
(cherry picked from commit 7a83773fbc9800217a0364c72b8ca9f823a60519)
(cherry picked from commit 07cf2c1b7921f37adf0dbf633fd0efed07ddbfd8)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/69/781569/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/allows-bootloader-install-failure-to-be-ignored-b99667b13afa9759.yaml', 'ironic_python_agent/config.py', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py']",4,c0141939d8a549da8685c026559018b30a8d5d15,fstab-ussuri,"from oslo_config import cfgCONF = cfg.CONF target_boot_mode='bios', ignore_bootloader_failure=None): # Always allow the API client to be the final word on if this is # overridden or not. if ignore_bootloader_failure is None: ignore_failure = CONF.ignore_bootloader_failure else: ignore_failure = ignore_bootloader_failure try: if _manage_uefi( device, efi_system_part_uuid=efi_system_part_uuid): return except Exception as e: LOG.error('Error setting up bootloader. Error %s', e) if not ignore_failure: raise try: _install_grub2(device, root_uuid=root_uuid, efi_system_part_uuid=efi_system_part_uuid, prep_boot_part_uuid=prep_boot_part_uuid, target_boot_mode=target_boot_mode) except Exception as e: LOG.error('Error setting up bootloader. Error %s', e) if not ignore_failure: raise"," target_boot_mode='bios'): if _manage_uefi(device, efi_system_part_uuid=efi_system_part_uuid): return _install_grub2(device, root_uuid=root_uuid, efi_system_part_uuid=efi_system_part_uuid, prep_boot_part_uuid=prep_boot_part_uuid, target_boot_mode=target_boot_mode)",199,10
openstack%2Fsenlin~stable%2Fwallaby~Idd499e9029a2c975eeca61439d21e5b378394c8c,openstack/senlin,stable/wallaby,Idd499e9029a2c975eeca61439d21e5b378394c8c,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-03-26 18:35:38.000000000,2021-03-31 05:51:03.000000000,2021-03-31 05:44:49.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 27224}]","[{'number': 1, 'created': '2021-03-26 18:35:38.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/senlin/commit/c7842da4cf357faab343f0974e37dda448364ce4', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Idd499e9029a2c975eeca61439d21e5b378394c8c\n'}]",0,783440,c7842da4cf357faab343f0974e37dda448364ce4,8,3,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Idd499e9029a2c975eeca61439d21e5b378394c8c
",git fetch https://review.opendev.org/openstack/senlin refs/changes/40/783440/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c7842da4cf357faab343f0974e37dda448364ce4,create-wallaby, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fsenlin~stable%2Fwallaby~I7d897fcef79a0418c8f4acf3977444c955a6b5fd,openstack/senlin,stable/wallaby,I7d897fcef79a0418c8f4acf3977444c955a6b5fd,Update .gitreview for stable/wallaby,MERGED,2021-03-26 18:35:26.000000000,2021-03-31 05:49:40.000000000,2021-03-31 05:44:43.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 27224}]","[{'number': 1, 'created': '2021-03-26 18:35:26.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/senlin/commit/afa5b757b81fe2f2805f26a398d3b332254bddee', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: I7d897fcef79a0418c8f4acf3977444c955a6b5fd\n'}]",0,783436,afa5b757b81fe2f2805f26a398d3b332254bddee,8,3,1,22816,,,0,"Update .gitreview for stable/wallaby

Change-Id: I7d897fcef79a0418c8f4acf3977444c955a6b5fd
",git fetch https://review.opendev.org/openstack/senlin refs/changes/36/783436/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,afa5b757b81fe2f2805f26a398d3b332254bddee,create-wallaby,defaultbranch=stable/wallaby,,1,0
openstack%2Fsenlin~master~I12dd26049014a517f5ec0458cfcedf2ee6d3abfc,openstack/senlin,master,I12dd26049014a517f5ec0458cfcedf2ee6d3abfc,Add Python3 xena unit tests,MERGED,2021-03-26 18:36:43.000000000,2021-03-31 05:49:13.000000000,2021-03-31 05:44:38.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 27224}]","[{'number': 1, 'created': '2021-03-26 18:36:43.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/senlin/commit/64658fef89ec2f2bbbd35f7c12897b9d6ec4bcf7', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I12dd26049014a517f5ec0458cfcedf2ee6d3abfc\n'}]",0,783447,64658fef89ec2f2bbbd35f7c12897b9d6ec4bcf7,8,3,1,22816,,,0,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I12dd26049014a517f5ec0458cfcedf2ee6d3abfc
",git fetch https://review.opendev.org/openstack/senlin refs/changes/47/783447/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,64658fef89ec2f2bbbd35f7c12897b9d6ec4bcf7,add-xena-python-jobtemplates, - openstack-python3-xena-jobs, - openstack-python3-wallaby-jobs,1,1
openstack%2Fironic~master~I7f1cffb2a91728ab632ab0ccaa6acbb7e86fb533,openstack/ironic,master,I7f1cffb2a91728ab632ab0ccaa6acbb7e86fb533,Fix configuration generation for ironic doc pages,MERGED,2021-03-29 22:56:58.000000000,2021-03-31 05:38:17.000000000,2021-03-31 05:36:31.000000000,"[{'_account_id': 4571}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-03-29 22:56:58.000000000', 'files': ['ironic/conf/opts.py', 'ironic/conf/default.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/12d1dd5309f294e75ea382131848c78cac64fa14', 'message': ""Fix configuration generation for ironic doc pages\n\nIronic's sample configuration page previously did not render any\nof the items in the default section, except for those items added\nby other libraries. This was because we were trying to use an iterator\ninstead of a list.\n\nUsing an iterator, in theory should have worked, and did work for\nnormal invocations, but didn't work when it came to sphinx generated\noutput.\n\nInstead of trying to use itertools to assemble everything, we just\nnow instead assemble the list and use a list_opts method like some\nof the other more complex groups to add values.\n\nConfirmed in local build output that the sphinx generated output\nworks as expected now.\n\nChange-Id: I7f1cffb2a91728ab632ab0ccaa6acbb7e86fb533\n""}]",0,783756,12d1dd5309f294e75ea382131848c78cac64fa14,10,3,1,11655,,,0,"Fix configuration generation for ironic doc pages

Ironic's sample configuration page previously did not render any
of the items in the default section, except for those items added
by other libraries. This was because we were trying to use an iterator
instead of a list.

Using an iterator, in theory should have worked, and did work for
normal invocations, but didn't work when it came to sphinx generated
output.

Instead of trying to use itertools to assemble everything, we just
now instead assemble the list and use a list_opts method like some
of the other more complex groups to add values.

Confirmed in local build output that the sphinx generated output
works as expected now.

Change-Id: I7f1cffb2a91728ab632ab0ccaa6acbb7e86fb533
",git fetch https://review.opendev.org/openstack/ironic refs/changes/56/783756/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conf/opts.py', 'ironic/conf/default.py']",2,12d1dd5309f294e75ea382131848c78cac64fa14,,"def list_opts(): _default_opt_lists = [ api_opts, driver_opts, exc_log_opts, hash_opts, image_opts, img_cache_opts, netconf_opts, notification_opts, path_opts, portgroup_opts, service_opts, utils_opts, webserver_opts, ] full_opt_list = [] for options in _default_opt_lists: full_opt_list.extend(options) return full_opt_list ",,23,18
openstack%2Fopenstack-helm-images~master~I81068c4158f80dffbebbf1a60ba496585f0b377a,openstack/openstack-helm-images,master,I81068c4158f80dffbebbf1a60ba496585f0b377a,Add Cyborg image build,MERGED,2021-03-17 08:55:50.000000000,2021-03-31 05:29:51.000000000,2021-03-31 05:24:37.000000000,"[{'_account_id': 18250}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30777}]","[{'number': 1, 'created': '2021-03-17 08:55:50.000000000', 'files': ['zuul.d/openstack-loci.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/79e45ab5c81e5d826aecaaf2fdec156dac8c007f', 'message': 'Add Cyborg image build\n\nThis patch adds a jobs to build and promote Cyborg images.\n\nChange-Id: I81068c4158f80dffbebbf1a60ba496585f0b377a\n'}]",0,781045,79e45ab5c81e5d826aecaaf2fdec156dac8c007f,17,4,1,30449,,,0,"Add Cyborg image build

This patch adds a jobs to build and promote Cyborg images.

Change-Id: I81068c4158f80dffbebbf1a60ba496585f0b377a
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/45/781045/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/openstack-loci.yaml'],1,79e45ab5c81e5d826aecaaf2fdec156dac8c007f,," - &cyborg_project context: ""."" repository: openstackhelm/cyborg build_args: - ""FROM='{{ base_repository }}'"" - ""PYTHON3={{ python3 }}"" - ""PROJECT='cyborg'"" - ""PROJECT_REF={{ branchname }}"" - ""WHEELS='{{ wheels_location }}'"" - ""KEEP_ALL_WHEELS=yes"" tags: *imagetag - <<: *cyborg_project - <<: *cyborg_project - <<: *cyborg_project - <<: *cyborg_project - <<: *cyborg_project - <<: *cyborg_project - <<: *cyborg_project",,18,0
openstack%2Fironic-python-agent~master~I4905c17d2e78ed02e9005ffbd93b036674e6ff51,openstack/ironic-python-agent,master,I4905c17d2e78ed02e9005ffbd93b036674e6ff51,Make the virtual media job voting,MERGED,2021-03-30 10:27:08.000000000,2021-03-31 05:28:21.000000000,2021-03-31 05:20:15.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-03-30 10:27:08.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/993f9a0ceb7a731677fccdce176f4faaea6ec116', 'message': 'Make the virtual media job voting\n\nDepends-On: https://review.opendev.org/c/openstack/ironic/+/783722\nChange-Id: I4905c17d2e78ed02e9005ffbd93b036674e6ff51\n'}]",0,783834,993f9a0ceb7a731677fccdce176f4faaea6ec116,8,3,1,10239,,,0,"Make the virtual media job voting

Depends-On: https://review.opendev.org/c/openstack/ironic/+/783722
Change-Id: I4905c17d2e78ed02e9005ffbd93b036674e6ff51
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/34/783834/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,993f9a0ceb7a731677fccdce176f4faaea6ec116,vmedia-job, - ipa-tempest-uefi-redfish-vmedia-src - ipa-tempest-uefi-redfish-vmedia-src, - ipa-tempest-uefi-redfish-vmedia-src: voting: false,2,2
openstack%2Fsenlin~master~Iba672b724da00c56f738bd161f55f993835d8787,openstack/senlin,master,Iba672b724da00c56f738bd161f55f993835d8787,Update master for stable/wallaby,MERGED,2021-03-26 18:36:32.000000000,2021-03-31 05:09:51.000000000,2021-03-31 05:08:25.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 27224}]","[{'number': 1, 'created': '2021-03-26 18:36:32.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/senlin/commit/69f1824b0998b47d87814c8aa4fd0de13dda7bb0', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: Iba672b724da00c56f738bd161f55f993835d8787\n'}]",0,783444,69f1824b0998b47d87814c8aa4fd0de13dda7bb0,8,3,1,22816,,,0,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: Iba672b724da00c56f738bd161f55f993835d8787
",git fetch https://review.opendev.org/openstack/senlin refs/changes/44/783444/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,69f1824b0998b47d87814c8aa4fd0de13dda7bb0,reno-wallaby, wallaby,,7,0
openstack%2Fhorizon~master~Ia1d11165ff2bb8db201a9c6236fa54b4f77b28d1,openstack/horizon,master,Ia1d11165ff2bb8db201a9c6236fa54b4f77b28d1,Imported Translations from Zanata,MERGED,2021-03-29 06:50:04.000000000,2021-03-31 04:52:38.000000000,2021-03-31 04:51:06.000000000,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-03-29 06:50:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/734f117da6a1c954cb3862bd563c467ec8cbb062', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ia1d11165ff2bb8db201a9c6236fa54b4f77b28d1\n'}, {'number': 2, 'created': '2021-03-30 06:52:42.000000000', 'files': ['releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/03e848b1815f57e39db277f21ef89d157d288db6', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ia1d11165ff2bb8db201a9c6236fa54b4f77b28d1\n'}]",0,783604,03e848b1815f57e39db277f21ef89d157d288db6,10,2,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ia1d11165ff2bb8db201a9c6236fa54b4f77b28d1
",git fetch https://review.opendev.org/openstack/horizon refs/changes/04/783604/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po'],1,734f117da6a1c954cb3862bd563c467ec8cbb062,zanata/translations,"# Akihiro Motoki <amotoki@gmail.com>, 2021. #zanata""POT-Creation-Date: 2021-03-28 13:40+0000\n""""PO-Revision-Date: 2021-03-28 01:15+0000\n"" ""Last-Translator: Akihiro Motoki <amotoki@gmail.com>\n""""るので、言語と地域を切り離したロケールコードを使用するようになりました。""""hant`` に変わりました。設定で ``LANGUAGES`` を明示的に設定する場合には、必要"" ""ならば新しい中国語ロケールを使用するようにしてください。""","""POT-Creation-Date: 2021-03-27 20:15+0000\n""""PO-Revision-Date: 2021-03-27 09:19+0000\n"" ""Last-Translator: Yuko Katabami <yukokatabami@gmail.com>\n""msgid ""19.1.0-15"" msgstr ""19.1.0-15"" ""るので、言語を地域を切り離したロケールコードを使用するようになりました。""""hant`` に変わりました。ユーザー設定で ``言語`` を明示的に設定する場合には、必"" ""要ならば新しい中国語ロケールを使用するようにしてください。""",7,9
openstack%2Fpython-tackerclient~master~I0d62f77cf5d1e9ec0b0a7c404abab83f97b708ba,openstack/python-tackerclient,master,I0d62f77cf5d1e9ec0b0a7c404abab83f97b708ba,Fix failing UT in TestListVnfLcmOp,MERGED,2021-03-25 12:36:29.000000000,2021-03-31 04:28:40.000000000,2021-03-31 04:25:45.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 31821}, {'_account_id': 32219}]","[{'number': 1, 'created': '2021-03-25 12:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/d4ce58e12efca7d6d191c912d295906aa40d4705', 'message': ""[DNM] Fix unit test case in TestListVnfLcmOp\n\nIt has been observe in review IDs [1] and [2] that the unit test\n'tackerclient.tests.unit.osc.v1.test_vnflcm_op_occs.\nTestListVnfLcmOp.test_take_action_with_filter'\nis failing with  below error,\n   DEBUG: TypeError: Object of type 'FormatComplexDataColumn'\n   is not JSON serializable\n\nA bug has been log for the same issue [3].\n\n[1] https://review.opendev.org/c/openstack/python-tackerclient/+/636893\n[2] https://review.opendev.org/c/openstack/python-tackerclient/+/781314\n[3] https://bugs.launchpad.net/python-tackerclient/+bug/1919350\n\nChange-Id: I0d62f77cf5d1e9ec0b0a7c404abab83f97b708ba\n""}, {'number': 2, 'created': '2021-03-26 06:28:24.000000000', 'files': ['tackerclient/tests/unit/osc/v1/test_vnflcm_op_occs.py'], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/124be387dcae360873ca75267d9a5e66903d5c73', 'message': 'Fix failing UT in TestListVnfLcmOp\n\nThe unit test \'tackerclient.tests.unit.osc.v1.test_vnflcm_op_occs.\nTestListVnfLcmOp.test_take_action_with_filter\' is failing with below\nerror message,\nDEBUG: TypeError: Object of type \'FormatComplexDataColumn\' is not\nJSON serializable\n\nBackground:\nIn class TestListVnfLcmOp definition, ""create_vnflcm_op_occs"" function\nis called and list of fake vnflcm op occs dictionary is store in\nvnflcm_op_occs_obj.\nNow this dictionary is used in two unit test cases ""test_take_action""\nand ""test_take_action_with_filter"".\nIn order to evaluate test results, in ""test_take_action"" test case,\n""get_vnflcm_op_occ_data"" function is called using ""vnflcm_op_occs_obj""\nwhich appends the data in dictionary.\n\nLater this dictionary ""vnflcm_op_occs_obj"" is again used in\n""test_take_action_with_filter"".\n\nImplementation:\nThis patch creates a separate list of fake vnflcm op occs dictionary for\nboth the test cases.\n\nThis issue has been impacting below reviews as well,\n[1] https://review.opendev.org/c/openstack/python-tackerclient/+/636893\n[2] https://review.opendev.org/c/openstack/python-tackerclient/+/781314\n\nCloses-Bug: #1919350\nChange-Id: I0d62f77cf5d1e9ec0b0a7c404abab83f97b708ba\n'}]",0,782991,124be387dcae360873ca75267d9a5e66903d5c73,11,7,2,32102,,,0,"Fix failing UT in TestListVnfLcmOp

The unit test 'tackerclient.tests.unit.osc.v1.test_vnflcm_op_occs.
TestListVnfLcmOp.test_take_action_with_filter' is failing with below
error message,
DEBUG: TypeError: Object of type 'FormatComplexDataColumn' is not
JSON serializable

Background:
In class TestListVnfLcmOp definition, ""create_vnflcm_op_occs"" function
is called and list of fake vnflcm op occs dictionary is store in
vnflcm_op_occs_obj.
Now this dictionary is used in two unit test cases ""test_take_action""
and ""test_take_action_with_filter"".
In order to evaluate test results, in ""test_take_action"" test case,
""get_vnflcm_op_occ_data"" function is called using ""vnflcm_op_occs_obj""
which appends the data in dictionary.

Later this dictionary ""vnflcm_op_occs_obj"" is again used in
""test_take_action_with_filter"".

Implementation:
This patch creates a separate list of fake vnflcm op occs dictionary for
both the test cases.

This issue has been impacting below reviews as well,
[1] https://review.opendev.org/c/openstack/python-tackerclient/+/636893
[2] https://review.opendev.org/c/openstack/python-tackerclient/+/781314

Closes-Bug: #1919350
Change-Id: I0d62f77cf5d1e9ec0b0a7c404abab83f97b708ba
",git fetch https://review.opendev.org/openstack/python-tackerclient refs/changes/91/782991/2 && git format-patch -1 --stdout FETCH_HEAD,['tackerclient/tests/unit/osc/v1/test_vnflcm_op_occs.py'],1,d4ce58e12efca7d6d191c912d295906aa40d4705,bug/1919350," vnflcm_op_occs_obj = vnflcm_op_occs_fakes.create_vnflcm_op_occs( count=3) json=vnflcm_op_occs_obj, headers=self.header) for vnflcm_op_occ_obj_idx in vnflcm_op_occs_obj: vnflcm_op_occ_obj_idx, columns=columns)) vnflcm_op_occs_obj = vnflcm_op_occs_fakes.create_vnflcm_op_occs( count=3) json=vnflcm_op_occs_obj, headers=self.header) for vnflcm_op_occ_obj_idx in vnflcm_op_occs_obj: vnflcm_op_occ_obj_idx, columns=columns))"," vnflcm_op_occs_obj = vnflcm_op_occs_fakes.create_vnflcm_op_occs(count=3) json=self.vnflcm_op_occs_obj, headers=self.header) for vnflcm_op_occ_obj in self.vnflcm_op_occs_obj: vnflcm_op_occ_obj, columns=columns)) json=self.vnflcm_op_occs_obj, headers=self.header) for vnflcm_op_occ_obj in self.vnflcm_op_occs_obj: vnflcm_op_occ_obj, columns=columns))",10,8
openstack%2Fneutron~stable%2Fstein~I63221507713b941c261cdf88781133149da8ab8d,openstack/neutron,stable/stein,I63221507713b941c261cdf88781133149da8ab8d,"Don't configure dnsmasq entries for ""network"" ports",MERGED,2021-02-23 20:20:24.000000000,2021-03-31 04:24:46.000000000,2021-03-31 04:22:32.000000000,"[{'_account_id': 9373}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 20:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d391500e0bd4043740c75bd6e057b65bfab40caf', 'message': 'Don\'t configure dnsmasq entries for ""network"" ports\n\nPorts with device_owner like:\n* floating_ip,\n* DHCP,\n* some types of router ports, like: HA interface interface,\n* distributed ports,\ndon\'t need to be configured in the dnsmasq file.\nSo there is no need to reload dnsmasq every time when such port is\nadded/updated to the network.\n\nThis patch adds skip in such case which should improve load on the\nNeutron DHCP agent.\n\nConflicts:\n    neutron/agent/linux/dhcp.py\n    neutron/agent/dhcp/agent.py\n\nCloses-Bug: #1913269\nChange-Id: I63221507713b941c261cdf88781133149da8ab8d\n(cherry picked from commit e4bbeee2060058d079885339e99ef7e6e366de16)\n'}, {'number': 2, 'created': '2021-02-25 09:10:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/82b1474401d57ded08fc9a479c88b1dc8cdc0fc3', 'message': 'Don\'t configure dnsmasq entries for ""network"" ports\n\nPorts with device_owner like:\n* floating_ip,\n* DHCP,\n* some types of router ports, like: HA interface interface,\n* distributed ports,\ndon\'t need to be configured in the dnsmasq file.\nSo there is no need to reload dnsmasq every time when such port is\nadded/updated to the network.\n\nThis patch adds skip in such case which should improve load on the\nNeutron DHCP agent.\n\nConflicts:\n    neutron/agent/linux/dhcp.py\n    neutron/agent/dhcp/agent.py\n\nCloses-Bug: #1913269\nChange-Id: I63221507713b941c261cdf88781133149da8ab8d\n(cherry picked from commit e4bbeee2060058d079885339e99ef7e6e366de16)\n'}, {'number': 3, 'created': '2021-03-03 07:45:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d227e145bff3373abb373eb4c49acfc00559fa6e', 'message': 'Don\'t configure dnsmasq entries for ""network"" ports\n\nPorts with device_owner like:\n* floating_ip,\n* DHCP,\n* some types of router ports, like: HA interface interface,\n* distributed ports,\ndon\'t need to be configured in the dnsmasq file.\nSo there is no need to reload dnsmasq every time when such port is\nadded/updated to the network.\n\nThis patch adds skip in such case which should improve load on the\nNeutron DHCP agent.\n\nConflicts:\n    neutron/agent/linux/dhcp.py\n    neutron/agent/dhcp/agent.py\n\nCloses-Bug: #1913269\nChange-Id: I63221507713b941c261cdf88781133149da8ab8d\n(cherry picked from commit e4bbeee2060058d079885339e99ef7e6e366de16)\n'}, {'number': 4, 'created': '2021-03-08 09:01:07.000000000', 'files': ['neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py', 'releasenotes/notes/do-not-create-dhcp-entries-for-all-types-of-ports-39c03b3782d2753e.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/11cf9f4ae5516d8679cbfa6085cff1566ec4e674', 'message': 'Don\'t configure dnsmasq entries for ""network"" ports\n\nPorts with device_owner like:\n* floating_ip,\n* DHCP,\n* some types of router ports, like: HA interface interface,\ndon\'t need to be configured in the dnsmasq file.\nSo there is no need to reload dnsmasq every time when such port is\nadded/updated to the network.\n\nThis patch adds skip in such case which should improve load on the\nNeutron DHCP agent.\n\nConflicts:\n    neutron/agent/linux/dhcp.py\n    neutron/agent/dhcp/agent.py\n\nCloses-Bug: #1913269\nChange-Id: I63221507713b941c261cdf88781133149da8ab8d\n(cherry picked from commit e4bbeee2060058d079885339e99ef7e6e366de16)\n'}]",0,777213,11cf9f4ae5516d8679cbfa6085cff1566ec4e674,23,4,4,11975,,,0,"Don't configure dnsmasq entries for ""network"" ports

Ports with device_owner like:
* floating_ip,
* DHCP,
* some types of router ports, like: HA interface interface,
don't need to be configured in the dnsmasq file.
So there is no need to reload dnsmasq every time when such port is
added/updated to the network.

This patch adds skip in such case which should improve load on the
Neutron DHCP agent.

Conflicts:
    neutron/agent/linux/dhcp.py
    neutron/agent/dhcp/agent.py

Closes-Bug: #1913269
Change-Id: I63221507713b941c261cdf88781133149da8ab8d
(cherry picked from commit e4bbeee2060058d079885339e99ef7e6e366de16)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/13/777213/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py', 'releasenotes/notes/do-not-create-dhcp-entries-for-all-types-of-ports-39c03b3782d2753e.yaml']",4,d391500e0bd4043740c75bd6e057b65bfab40caf,bug/1913269-stable/stein,"--- other: - | To improve performance of the DHCP agent, it will no longer configure the DHCP server for every port type created in Neutron. For example, for floating IP or router HA interfaces there is no need since a client will not make a DHCP request for them ",,46,0
openstack%2Fheat-dashboard~master~Icf5121aa763fa90129a4b47fe788da6bab84eb09,openstack/heat-dashboard,master,Icf5121aa763fa90129a4b47fe788da6bab84eb09,Add Python3 xena unit tests,MERGED,2021-03-26 15:36:36.000000000,2021-03-31 04:01:05.000000000,2021-03-31 03:55:30.000000000,"[{'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-03-26 15:36:36.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/f9b3be622f7bbfad52487a4b44f129b926634401', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Icf5121aa763fa90129a4b47fe788da6bab84eb09\n'}]",0,783336,f9b3be622f7bbfad52487a4b44f129b926634401,8,3,1,22816,,,0,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Icf5121aa763fa90129a4b47fe788da6bab84eb09
",git fetch https://review.opendev.org/openstack/heat-dashboard refs/changes/36/783336/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f9b3be622f7bbfad52487a4b44f129b926634401,add-xena-python-jobtemplates, - openstack-python3-xena-jobs-horizon, - openstack-python3-wallaby-jobs-horizon,1,1
openstack%2Fheat-dashboard~master~I220a635e247e9a414ef047e134c386a498ed54f9,openstack/heat-dashboard,master,I220a635e247e9a414ef047e134c386a498ed54f9,Update master for stable/wallaby,MERGED,2021-03-26 15:36:30.000000000,2021-03-31 03:59:51.000000000,2021-03-31 03:55:27.000000000,"[{'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-03-26 15:36:30.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/55e2d1883fa11b85ade30e9ebae91b674fc8af28', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: I220a635e247e9a414ef047e134c386a498ed54f9\n'}]",0,783335,55e2d1883fa11b85ade30e9ebae91b674fc8af28,8,3,1,22816,,,0,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: I220a635e247e9a414ef047e134c386a498ed54f9
",git fetch https://review.opendev.org/openstack/heat-dashboard refs/changes/35/783335/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,55e2d1883fa11b85ade30e9ebae91b674fc8af28,reno-wallaby, wallaby,,7,0
openstack%2Fheat-agents~master~I99e2a8a30b2b3838638cd05fecba78b41282c3d9,openstack/heat-agents,master,I99e2a8a30b2b3838638cd05fecba78b41282c3d9,Add Python3 xena unit tests,MERGED,2021-03-30 21:39:01.000000000,2021-03-31 03:59:49.000000000,2021-03-31 03:52:06.000000000,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-30 21:39:01.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat-agents/commit/b4d249a204a89c03292eaf97d967ed2805a58b35', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I99e2a8a30b2b3838638cd05fecba78b41282c3d9\n'}]",0,783975,b4d249a204a89c03292eaf97d967ed2805a58b35,7,2,1,22816,,,0,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I99e2a8a30b2b3838638cd05fecba78b41282c3d9
",git fetch https://review.opendev.org/openstack/heat-agents refs/changes/75/783975/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b4d249a204a89c03292eaf97d967ed2805a58b35,add-xena-python-jobtemplates, - openstack-python3-xena-jobs, - openstack-python3-wallaby-jobs,1,1
openstack%2Fswift~master~I66fe7b6de313947ba32cbb7146e21223bf372205,openstack/swift,master,I66fe7b6de313947ba32cbb7146e21223bf372205,metrics: Add lag metric to expirer,NEW,2020-06-12 01:40:37.000000000,2021-03-31 03:58:32.000000000,,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-12 01:40:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a473db411b41a5c65e994173413b6ac6efe528dc', 'message': 'metrics: Add lag metric to expirer\n\nChange-Id: I66fe7b6de313947ba32cbb7146e21223bf372205\n'}, {'number': 2, 'created': '2020-10-14 22:51:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/be25862acf98c2d4e4dfc45daa367672a227698d', 'message': 'metrics: Add lag metric to expirer\n\nChange-Id: I66fe7b6de313947ba32cbb7146e21223bf372205\n'}, {'number': 3, 'created': '2020-10-19 19:41:21.000000000', 'files': ['test/unit/obj/test_expirer.py', 'swift/obj/expirer.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/0bd04a8c974891a39c37bf5fe957028971316480', 'message': 'metrics: Add lag metric to expirer\n\nChange-Id: I66fe7b6de313947ba32cbb7146e21223bf372205\n'}]",5,735271,0bd04a8c974891a39c37bf5fe957028971316480,15,3,3,15343,,,0,"metrics: Add lag metric to expirer

Change-Id: I66fe7b6de313947ba32cbb7146e21223bf372205
",git fetch https://review.opendev.org/openstack/swift refs/changes/71/735271/3 && git format-patch -1 --stdout FETCH_HEAD,['swift/obj/expirer.py'],1,a473db411b41a5c65e994173413b6ac6efe528dc,," lag_metric = 'successful' lag_metric = 'reclaim' lag_metric = 'error-%d' % err.resp.status_int lag_metric = 'exception' self.logger.timing_since(lag_metric + '.lag', float(delete_timestamp))",,6,0
openstack%2Fheat-agents~master~I0b5be240d9f2fdd3de0eb662c8e6286e9cf27fa1,openstack/heat-agents,master,I0b5be240d9f2fdd3de0eb662c8e6286e9cf27fa1,Update master for stable/wallaby,MERGED,2021-03-30 21:38:53.000000000,2021-03-31 03:55:32.000000000,2021-03-31 03:51:45.000000000,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-30 21:38:53.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/heat-agents/commit/6dc94145d92e2e8f03cbcf9babaec9df9cffcbcc', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: I0b5be240d9f2fdd3de0eb662c8e6286e9cf27fa1\n'}]",0,783974,6dc94145d92e2e8f03cbcf9babaec9df9cffcbcc,7,2,1,22816,,,0,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: I0b5be240d9f2fdd3de0eb662c8e6286e9cf27fa1
",git fetch https://review.opendev.org/openstack/heat-agents refs/changes/74/783974/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,6dc94145d92e2e8f03cbcf9babaec9df9cffcbcc,reno-wallaby, wallaby,,7,0
openstack%2Foctavia~master~Iac949431f0901aaa0a60e5c39c2aab44cb9c1970,openstack/octavia,master,Iac949431f0901aaa0a60e5c39c2aab44cb9c1970,Fix pool ALPN compatibility with older amphora,MERGED,2021-03-28 16:57:37.000000000,2021-03-31 02:47:04.000000000,2021-03-31 02:44:08.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-03-28 16:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f4bcdd48b3b402b8f3c5f16cac422a2505c3bc66', 'message': 'Fix pool ALPN compatibility with older amphora\n\nThe ALPN for pools patch introduced a bug that causes amphroa to\nfail if the HAProxy version running inside the amphroa does not\nsupport ALPN on backend members (bionic iamges for example).\nThis patch adds compatibility support for those older HAProxy versions\nby removing the ALPN configuration settings if the HAProxy version\nis too old to support the functionality.\n\nStory: 2008780\nTask: 42171\nChange-Id: Iac949431f0901aaa0a60e5c39c2aab44cb9c1970\n'}, {'number': 2, 'created': '2021-03-28 17:27:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/70ea8b2dc3236327393b8dcfa8f90d265642eb84', 'message': 'Fix pool ALPN compatibility with older amphora\n\nThe ALPN for pools patch introduced a bug that causes amphroa to\nfail if the HAProxy version running inside the amphroa does not\nsupport ALPN on backend members (bionic iamges for example).\nThis patch adds compatibility support for those older HAProxy versions\nby removing the ALPN configuration settings if the HAProxy version\nis too old to support the functionality.\n\nStory: 2008780\nTask: 42171\nChange-Id: Iac949431f0901aaa0a60e5c39c2aab44cb9c1970\n'}, {'number': 3, 'created': '2021-03-29 15:29:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/038e83d562f79765ce99ad59b0152674860484e4', 'message': 'Fix pool ALPN compatibility with older amphora\n\nThe ALPN for pools patch introduced a bug that causes amphora to\nfail if the HAProxy version running inside the amphroa does not\nsupport ALPN on backend members (bionic iamges for example).\nThis patch adds compatibility support for those older HAProxy versions\nby removing the ALPN configuration settings if the HAProxy version\nis too old to support the functionality.\n\nStory: 2008780\nTask: 42171\nChange-Id: Iac949431f0901aaa0a60e5c39c2aab44cb9c1970\n'}, {'number': 4, 'created': '2021-03-30 00:30:38.000000000', 'files': ['octavia/common/jinja/haproxy/combined_listeners/jinja_cfg.py', 'octavia/common/constants.py', 'releasenotes/notes/Fix-pool-alpn-older-haproxy-50514c1df4f77bcd.yaml', 'octavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/a8e3f4021e658134732d3e4819289df1f794a6cd', 'message': 'Fix pool ALPN compatibility with older amphora\n\nThe ALPN for pools patch introduced a bug that causes amphora to\nfail if the HAProxy version running inside the amphroa does not\nsupport ALPN on backend members (bionic images for example).\nThis patch adds compatibility support for those older HAProxy versions\nby removing the ALPN configuration settings if the HAProxy version\nis too old to support the functionality.\n\nStory: 2008780\nTask: 42171\nChange-Id: Iac949431f0901aaa0a60e5c39c2aab44cb9c1970\n'}]",12,783576,a8e3f4021e658134732d3e4819289df1f794a6cd,31,6,4,11628,,,0,"Fix pool ALPN compatibility with older amphora

The ALPN for pools patch introduced a bug that causes amphora to
fail if the HAProxy version running inside the amphroa does not
support ALPN on backend members (bionic images for example).
This patch adds compatibility support for those older HAProxy versions
by removing the ALPN configuration settings if the HAProxy version
is too old to support the functionality.

Story: 2008780
Task: 42171
Change-Id: Iac949431f0901aaa0a60e5c39c2aab44cb9c1970
",git fetch https://review.opendev.org/openstack/octavia refs/changes/76/783576/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/jinja/haproxy/combined_listeners/jinja_cfg.py', 'octavia/common/constants.py', 'releasenotes/notes/Fix-pool-alpn-older-haproxy-50514c1df4f77bcd.yaml']",3,f4bcdd48b3b402b8f3c5f16cac422a2505c3bc66,,--- fixes: - | Fixed amphora driver pool ALPN compatibity with older amphora images. ,,9,1
openstack%2Foctavia~stable%2Ftrain~I2fe94cd4c000f143c59c69e82d03c690acf5e0c3,openstack/octavia,stable/train,I2fe94cd4c000f143c59c69e82d03c690acf5e0c3,Fix incorrect ERROR status with IPv6 UDP members,MERGED,2021-03-18 14:00:51.000000000,2021-03-31 02:46:56.000000000,2021-03-31 02:45:11.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-18 14:00:51.000000000', 'files': ['releasenotes/notes/fix-ipv6-udp-health-message-ed94b35bbea396ec.yaml', 'octavia/amphorae/backends/utils/keepalivedlvs_query.py', 'octavia/tests/unit/amphorae/backends/utils/test_keepalivedlvs_query.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/411a0b7bef2c5a09c38b949b5884d9b0def53a27', 'message': ""Fix incorrect ERROR status with IPv6 UDP members\n\nSome IPv6 UDP members were incorrectly marked in ERROR status because of\na formatting issue between the keepalived configuration file and the\nipvsadm output. Both are used to compute the state of the members and\nwhen a member's address contained '*:0:*', parsing was incorrect. Now\nthe health message generation function uses only the compressed IPv6\nnotation instead of mixing notations.\n\nStory: 2008604\nTask: 41783\n\nConflicts:\n    octavia/amphorae/backends/utils/keepalivedlvs_query.py\n\nChange-Id: I2fe94cd4c000f143c59c69e82d03c690acf5e0c3\n(cherry picked from commit e5f9f6708c70313bd7e0c570f3541c0afb7fc09c)\n(cherry picked from commit 8b210bb52a6c44b3bd69acdf2202d1625e763fb6)\n(cherry picked from commit 4b8de86cf3b2347e38d3a39435c8b609fb055404)\n""}]",0,781486,411a0b7bef2c5a09c38b949b5884d9b0def53a27,13,4,1,29244,,,0,"Fix incorrect ERROR status with IPv6 UDP members

Some IPv6 UDP members were incorrectly marked in ERROR status because of
a formatting issue between the keepalived configuration file and the
ipvsadm output. Both are used to compute the state of the members and
when a member's address contained '*:0:*', parsing was incorrect. Now
the health message generation function uses only the compressed IPv6
notation instead of mixing notations.

Story: 2008604
Task: 41783

Conflicts:
    octavia/amphorae/backends/utils/keepalivedlvs_query.py

Change-Id: I2fe94cd4c000f143c59c69e82d03c690acf5e0c3
(cherry picked from commit e5f9f6708c70313bd7e0c570f3541c0afb7fc09c)
(cherry picked from commit 8b210bb52a6c44b3bd69acdf2202d1625e763fb6)
(cherry picked from commit 4b8de86cf3b2347e38d3a39435c8b609fb055404)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/86/781486/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-ipv6-udp-health-message-ed94b35bbea396ec.yaml', 'octavia/amphorae/backends/utils/keepalivedlvs_query.py', 'octavia/tests/unit/amphorae/backends/utils/test_keepalivedlvs_query.py']",3,411a0b7bef2c5a09c38b949b5884d9b0def53a27,," ""Masq 2 0 0\n"" "" -> [fd79:35e2::8f3f]:115C "" "" # Configuration for Member %(member_id5)s\n"" "" real_server fd79:35e2:0:0:0:0:0:8f3f 4444 {\n"" "" weight 2\n"" "" MISC_CHECK {\n\n"" "" misc_path \""/usr/bin/check_script.sh\""\n\n"" "" misc_timeout 5\n\n"" "" }\n\n"" "" }\n\n"" self.member_id5_v6 = uuidutils.generate_uuid() 'member_id4': self.member_id4_v6, 'member_id5': self.member_id5_v6 'InActConn': '0'}, '[fd79:35e2::8f3f]:4444': {'status': constants.UP, 'Forward': 'Masq', 'Weight': '2', 'ActiveConn': '0', {'id': self.member_id5_v6, 'ipport': '[fd79:35e2::8f3f]:4444'}, self.member_id4_v6: constants.MAINT, self.member_id5_v6: constants.UP}}}", 'member_id4': self.member_id4_v6 self.member_id4_v6: constants.MAINT}}},36,8
openstack%2Foctavia~stable%2Fwallaby~Iac949431f0901aaa0a60e5c39c2aab44cb9c1970,openstack/octavia,stable/wallaby,Iac949431f0901aaa0a60e5c39c2aab44cb9c1970,Fix pool ALPN compatibility with older amphora,MERGED,2021-03-30 16:09:29.000000000,2021-03-31 02:46:55.000000000,2021-03-31 02:44:31.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-30 16:09:29.000000000', 'files': ['octavia/common/jinja/haproxy/combined_listeners/jinja_cfg.py', 'octavia/common/constants.py', 'releasenotes/notes/Fix-pool-alpn-older-haproxy-50514c1df4f77bcd.yaml', 'octavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d463897551017f6c4329e7109649af87e1ec88a9', 'message': 'Fix pool ALPN compatibility with older amphora\n\nThe ALPN for pools patch introduced a bug that causes amphora to\nfail if the HAProxy version running inside the amphroa does not\nsupport ALPN on backend members (bionic images for example).\nThis patch adds compatibility support for those older HAProxy versions\nby removing the ALPN configuration settings if the HAProxy version\nis too old to support the functionality.\n\nStory: 2008780\nTask: 42171\nChange-Id: Iac949431f0901aaa0a60e5c39c2aab44cb9c1970\n'}]",0,783916,d463897551017f6c4329e7109649af87e1ec88a9,9,4,1,11628,,,0,"Fix pool ALPN compatibility with older amphora

The ALPN for pools patch introduced a bug that causes amphora to
fail if the HAProxy version running inside the amphroa does not
support ALPN on backend members (bionic images for example).
This patch adds compatibility support for those older HAProxy versions
by removing the ALPN configuration settings if the HAProxy version
is too old to support the functionality.

Story: 2008780
Task: 42171
Change-Id: Iac949431f0901aaa0a60e5c39c2aab44cb9c1970
",git fetch https://review.opendev.org/openstack/octavia refs/changes/16/783916/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/jinja/haproxy/combined_listeners/jinja_cfg.py', 'octavia/common/constants.py', 'releasenotes/notes/Fix-pool-alpn-older-haproxy-50514c1df4f77bcd.yaml', 'octavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py']",4,d463897551017f6c4329e7109649af87e1ec88a9,," feature_compatibility = {constants.POOL_ALPN: True} 'ca_cert': None, 'crl': None}}, feature_compatibility=feature_compatibility) self.assertEqual( sample_configs_combined.sample_base_expected_config(backend=be), rendered_obj) def test_render_template_pool_cert_no_alpn(self): feature_compatibility = {constants.POOL_ALPN: False} cert_file_path = os.path.join(self.jinja_cfg.base_crt_dir, 'sample_listener_id_1', 'fake path') be = (""backend sample_pool_id_1:sample_listener_id_1\n"" "" mode http\n"" "" balance roundrobin\n"" "" cookie SRV insert indirect nocache\n"" "" timeout check 31s\n"" "" option httpchk GET /index.html HTTP/1.0\\r\\n\n"" "" http-check expect rstatus 418\n"" "" fullconn {maxconn}\n"" "" option allbackups\n"" "" timeout connect 5000\n"" "" timeout server 50000\n"" "" server sample_member_id_1 10.0.0.99:82 weight 13 "" ""check inter 30s fall 3 rise 2 cookie sample_member_id_1 "" ""{opts}\n"" "" server sample_member_id_2 10.0.0.98:82 weight 13 "" ""check inter 30s fall 3 rise 2 cookie sample_member_id_2 "" ""{opts}\n\n"").format( maxconn=constants.HAPROXY_DEFAULT_MAXCONN, opts=""ssl crt %s verify none sni ssl_fc_sni"" % cert_file_path + "" ciphers "" + constants.CIPHERS_OWASP_SUITE_B + "" no-sslv3 no-tlsv10 no-tlsv11"") rendered_obj = self.jinja_cfg.render_loadbalancer_obj( sample_configs_combined.sample_amphora_tuple(), [sample_configs_combined.sample_listener_tuple( pool_cert=True, tls_enabled=True, backend_tls_ciphers=constants.CIPHERS_OWASP_SUITE_B)], tls_certs={ 'sample_pool_id_1': {'client_cert': cert_file_path, 'ca_cert': None, 'crl': None}}, feature_compatibility=feature_compatibility) feature_compatibility = {constants.POOL_ALPN: True} 'ca_cert': None, 'crl': None}}, feature_compatibility=feature_compatibility) feature_compatibility = {constants.POOL_ALPN: True} 'ca_cert': None, 'crl': None}}, feature_compatibility=feature_compatibility) feature_compatibility = {constants.POOL_ALPN: True} 'crl': pool_crl}}, feature_compatibility=feature_compatibility)"," 'ca_cert': None, 'crl': None}}) 'ca_cert': None, 'crl': None}}) 'ca_cert': None, 'crl': None}}) 'crl': pool_crl}})",64,5
openstack%2Fironic-python-agent~stable%2Fussuri~I304468d57b10d677f2a9d58aec42a1bf414c6cba,openstack/ironic-python-agent,stable/ussuri,I304468d57b10d677f2a9d58aec42a1bf414c6cba,More refactoring of the image module,MERGED,2021-03-23 02:20:29.000000000,2021-03-31 02:38:13.000000000,2021-03-31 02:36:49.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-03-23 02:20:29.000000000', 'files': ['ironic_python_agent/extensions/image.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/ca708419f432d7c784a94cffcdfc025cd4be5ada', 'message': 'More refactoring of the image module\n\nIntroducing new function _umount_all_partitions to reduce the size\nof _install_grub2\n\nChange-Id: I304468d57b10d677f2a9d58aec42a1bf414c6cba\n(cherry picked from commit 80e11811f5edf86c7fca28d3f3bca8cf42f87621)\n'}]",0,782350,ca708419f432d7c784a94cffcdfc025cd4be5ada,12,3,1,4571,,,0,"More refactoring of the image module

Introducing new function _umount_all_partitions to reduce the size
of _install_grub2

Change-Id: I304468d57b10d677f2a9d58aec42a1bf414c6cba
(cherry picked from commit 80e11811f5edf86c7fca28d3f3bca8cf42f87621)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/50/782350/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/extensions/image.py'],1,ca708419f432d7c784a94cffcdfc025cd4be5ada,fstab-ussuri," # Now lets check the signature ddout, dderr = utils.execute( 'dd', 'if=%s' % device, 'bs=218', 'count=1', binary=True) stdout, stderr = utils.execute('file', '-', process_input=ddout) # The bytes recovered by dd show as a ""dos executable"" when # examined with file. In other words, the bootloader is present. return 'executable' in stdoutdef _umount_all_partitions(path, path_variable, umount_warn_msg): """"""Umount all partitions we may have mounted"""""" umount_binds_success = True LOG.debug(""Unmounting all vfat partitions inside the image ..."") try: utils.execute('chroot %(path)s /bin/sh -c ""umount -a -t vfat""' % {'path': path}, shell=True, env_variables={'PATH': path_variable}) except processutils.ProcessExecutionError as e: LOG.warning(""Unable to umount vfat partitions. Error: %(error)s"", {'error': e}) for fs in BIND_MOUNTS + ('/sys',): try: utils.execute('umount', path + fs, attempts=3, delay_on_retry=True) except processutils.ProcessExecutionError as e: umount_binds_success = False LOG.warning(umount_warn_msg, {'path': path + fs, 'error': e}) return umount_binds_success umount_warn_msg = ""Unable to umount %(path)s. Error: %(error)s"" if _umount_all_partitions(path, path_variable, umount_warn_msg):"," else: # Now lets check the signature ddout, dderr = utils.execute( 'dd', 'if=%s' % device, 'bs=218', 'count=1', binary=True) stdout, stderr = utils.execute('file', '-', process_input=ddout) # The bytes recovered by dd show as a ""dos executable"" when # examined with file. In other words, the bootloader is present. if 'executable' in stdout: return True return False efi_partition = None umount_warn_msg = ""Unable to umount %(path)s. Error: %(error)s"" umount_binds_fail = False # Umount the vfat partitions we may have mounted LOG.debug(""Unmounting all partitions inside the image ..."") try: utils.execute('chroot %(path)s /bin/sh -c ""umount -a -t vfat""' % {'path': path}, shell=True, env_variables={'PATH': path_variable}) except processutils.ProcessExecutionError as e: LOG.warning(""Unable to umount vfat partitions. Error: %(error)s"", {'error': e}) for fs in BIND_MOUNTS: try: utils.execute('umount', path + fs, attempts=3, delay_on_retry=True) except processutils.ProcessExecutionError as e: umount_binds_fail = True LOG.warning(umount_warn_msg, {'path': path + fs, 'error': e}) try: utils.execute('umount', path + '/sys', attempts=3, delay_on_retry=True) except processutils.ProcessExecutionError as e: umount_binds_fail = True LOG.warning(umount_warn_msg, {'path': path + '/sys', 'error': e}) if not umount_binds_fail:",32,39
openstack%2Fswift~master~I8e973bfc97647ecdeb78a57ab42589830b4fb544,openstack/swift,master,I8e973bfc97647ecdeb78a57ab42589830b4fb544,Expose a few more headers in CORS responses,NEW,2018-01-12 01:47:45.000000000,2021-03-31 02:28:15.000000000,,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-12 01:47:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a9768af5109e33913f90ba5ecc86eff6ca07a586', 'message': 'Expose a few more headers in CORS responses\n\nAllow, Date, Content-Length, and Content-Range should all be safe,\nCORS-spec be damned.\n\nChange-Id: I8e973bfc97647ecdeb78a57ab42589830b4fb544\n'}, {'number': 2, 'created': '2018-01-12 22:54:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/35ef15588a9943f336f861620ea1a6883ceb6543', 'message': 'Expose a few more headers in CORS responses\n\nAllow, Date, Content-Length, and Content-Range should all be safe,\nCORS-spec be damned.\n\nChange-Id: I8e973bfc97647ecdeb78a57ab42589830b4fb544\n'}, {'number': 3, 'created': '2018-03-01 21:11:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2dd34be543192aa2de8529cba3ae60722817d34e', 'message': 'Expose a few more headers in CORS responses\n\nAllow, Date, Content-Length, and Content-Range should all be safe,\nCORS-spec be damned.\n\nChange-Id: I8e973bfc97647ecdeb78a57ab42589830b4fb544\n'}, {'number': 4, 'created': '2018-03-01 21:42:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8b34c63e5dc65702893d8887f419931d0a9bfce4', 'message': 'Expose a few more headers in CORS responses\n\nAllow, Date, Content-Length, and Content-Range should all be safe,\nCORS-spec be damned.\n\nChange-Id: I8e973bfc97647ecdeb78a57ab42589830b4fb544\n'}, {'number': 5, 'created': '2021-03-31 00:34:46.000000000', 'files': ['swift/proxy/controllers/info.py', 'test/cors/test-large-objects.js', 'test/unit/proxy/test_server.py', 'test/cors/harness.js', 'test/cors/test-s3-obj.js', 'test/cors/test-object.js', 'test/cors/test-info.js', 'swift/proxy/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/de122756f23561c895bb775d327064ed60b01b45', 'message': 'Expose a few more headers in CORS responses\n\nAllow, Date, Content-Length, and Content-Range should all be safe,\nCORS-spec be damned.\n\nChange-Id: I8e973bfc97647ecdeb78a57ab42589830b4fb544\n'}]",0,533030,de122756f23561c895bb775d327064ed60b01b45,11,3,5,15343,,,0,"Expose a few more headers in CORS responses

Allow, Date, Content-Length, and Content-Range should all be safe,
CORS-spec be damned.

Change-Id: I8e973bfc97647ecdeb78a57ab42589830b4fb544
",git fetch https://review.opendev.org/openstack/swift refs/changes/30/533030/2 && git format-patch -1 --stdout FETCH_HEAD,"['swift/proxy/controllers/info.py', 'test/functional/cors/test-object.js', 'test/functional/cors/harness.js', 'test/functional/cors/test-info.js', 'swift/proxy/controllers/base.py']",5,a9768af5109e33913f90ba5ecc86eff6ca07a586,cors," 'allow', 'date', 'content-length', 'content-range',",,15,12
openstack%2Fswift~master~I346ccd76297240a2c01d108d260b237092e5d4b9,openstack/swift,master,I346ccd76297240a2c01d108d260b237092e5d4b9,/info: allow more CORS requests,NEW,2018-01-12 01:47:45.000000000,2021-03-31 02:27:18.000000000,,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 27556}]","[{'number': 1, 'created': '2018-01-12 01:47:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e62fad96aa170d3881ffffb826b1f4dbb7553866', 'message': '/info: allow more CORS requests\n\nAllow CORS OPTIONS requests, because why not.\n\nAllow CORS preflights, so third-parties can set X-Trans-Id-Extra.\n\nChange-Id: I346ccd76297240a2c01d108d260b237092e5d4b9\n'}, {'number': 2, 'created': '2018-01-12 22:54:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7a2385cddbddf8a158ec80b61ee0877cfd2f75ec', 'message': '/info: allow more CORS requests\n\nAllow CORS OPTIONS requests, because why not.\n\nAllow CORS preflights, so third-parties can set X-Trans-Id-Extra (for\nexample).\n\nChange-Id: I346ccd76297240a2c01d108d260b237092e5d4b9\n'}, {'number': 3, 'created': '2018-03-01 21:11:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/22a913d736e6e9f4a0816c61b6f7d8328307c662', 'message': '/info: allow more CORS requests\n\nAllow CORS OPTIONS requests, because why not.\n\nAllow CORS preflights, so third-parties can set X-Trans-Id-Extra (for\nexample).\n\nChange-Id: I346ccd76297240a2c01d108d260b237092e5d4b9\n'}, {'number': 4, 'created': '2018-03-01 21:42:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/005926ecba12faa07243aa4cb6492aaff65a0e42', 'message': '/info: allow more CORS requests\n\nAllow CORS OPTIONS requests, because why not.\n\nAllow CORS preflights, so third-parties can set X-Trans-Id-Extra (for\nexample).\n\nChange-Id: I346ccd76297240a2c01d108d260b237092e5d4b9\n'}, {'number': 5, 'created': '2020-03-20 06:44:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/557b98b65ad1253374b1f00ac0dadf58fa5a5e6e', 'message': '/info: allow more CORS requests\n\nAllow CORS OPTIONS requests, because why not.\n\nAllow CORS preflights, so third-parties can set X-Trans-Id-Extra (for\nexample).\n\nChange-Id: I346ccd76297240a2c01d108d260b237092e5d4b9\n'}, {'number': 6, 'created': '2021-03-31 00:34:46.000000000', 'files': ['swift/proxy/controllers/info.py', 'test/cors/test-info.js'], 'web_link': 'https://opendev.org/openstack/swift/commit/8e62a0c83a10864b495fc5760993c7a1c8a82ddc', 'message': '/info: allow more CORS requests\n\nAllow CORS OPTIONS requests, because why not.\n\nAllow CORS preflights, so third-parties can set X-Trans-Id-Extra (for\nexample).\n\nChange-Id: I346ccd76297240a2c01d108d260b237092e5d4b9\n'}]",2,533029,8e62a0c83a10864b495fc5760993c7a1c8a82ddc,16,4,6,15343,,,0,"/info: allow more CORS requests

Allow CORS OPTIONS requests, because why not.

Allow CORS preflights, so third-parties can set X-Trans-Id-Extra (for
example).

Change-Id: I346ccd76297240a2c01d108d260b237092e5d4b9
",git fetch https://review.opendev.org/openstack/swift refs/changes/29/533029/6 && git format-patch -1 --stdout FETCH_HEAD,"['swift/proxy/controllers/info.py', 'test/functional/cors/test-info.js']",2,e62fad96aa170d3881ffffb826b1f4dbb7553866,cors," t.assertHasHeaders(resp, [ 'X-Trans-Id', 'X-Openstack-Request-Id', ]) t.assertHeaderValue( resp, 'X-Trans-Id', resp.getResponseHeader('X-Openstack-Request-Id'))function InfoBlank (t, resp) { t.assertEqual(resp.status, 200) t.assertEqual(resp.responseText, '') t.assertHeaderValue(resp, 'Content-Type', 'text/html; charset=UTF-8') t.assertHasHeaders(resp, [ 'X-Trans-Id', 'X-Openstack-Request-Id', ]) t.assertHeaderValue( resp, 'X-Trans-Id', resp.getResponseHeader('X-Openstack-Request-Id')) } InfoBlank.skipCommon = true InfoChecker(false)], InfoBlank],"," t.assertHasHeader(resp, 'X-Trans-Id') 'X-Openstack-Request-Id', // TODO: this is blocked by CORS but almost certainly shouldn't// TODO: /info should probably get an automatic access-control-allow-origin: * CorsBlocked], // 200, but missing Access-Control-Allow-Origin CorsBlocked], // 200, but missing Access-Control-Allow-Origin",40,8
openstack%2Ftripleo-common~stable%2Fvictoria~If5ec5d4fa0d4d835561b5963d244e5172fe82cc8,openstack/tripleo-common,stable/victoria,If5ec5d4fa0d4d835561b5963d244e5172fe82cc8,Use quay.ceph.io to pull the Ceph Dashboard related images,MERGED,2021-03-25 08:05:40.000000000,2021-03-31 02:27:08.000000000,2021-03-31 02:25:43.000000000,"[{'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 15205}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-03-25 08:05:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b8847f6cba5d17005e39cc5eea4e8317549acb82', 'message': 'Use quay.ceph.io to pull the Ceph Dashboard related images\n\nThe purpose of this change is just to switch to quay.ceph.io\nand pull from that location the Ceph Dashboard related images.\nquay.ceph.io is maintained by the Ceph organization and can\nbe trusted to find the tags that we need.\n\nCloses-Bug: #1920873\nChange-Id: If5ec5d4fa0d4d835561b5963d244e5172fe82cc8\n(cherry picked from commit 72c7d4ac71d33c8803120767108c6bf2ffeb2edc)\n'}, {'number': 2, 'created': '2021-03-25 13:20:45.000000000', 'files': ['container-images/container_image_prepare_defaults.yaml', 'container-images/tripleo_containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/68cbb3af73634fb85a93769b1a9b5f1cad40752e', 'message': 'Use quay.ceph.io to pull the Ceph Dashboard related images\n\nThe purpose of this change is just to switch to quay.ceph.io\nand pull from that location the Ceph Dashboard related images.\nquay.ceph.io is maintained by the Ceph organization and can\nbe trusted to find the tags that we need.\n\nCloses-Bug: #1920873\nChange-Id: If5ec5d4fa0d4d835561b5963d244e5172fe82cc8\n(cherry picked from commit 72c7d4ac71d33c8803120767108c6bf2ffeb2edc)\n'}]",2,782913,68cbb3af73634fb85a93769b1a9b5f1cad40752e,29,10,2,25402,,,0,"Use quay.ceph.io to pull the Ceph Dashboard related images

The purpose of this change is just to switch to quay.ceph.io
and pull from that location the Ceph Dashboard related images.
quay.ceph.io is maintained by the Ceph organization and can
be trusted to find the tags that we need.

Closes-Bug: #1920873
Change-Id: If5ec5d4fa0d4d835561b5963d244e5172fe82cc8
(cherry picked from commit 72c7d4ac71d33c8803120767108c6bf2ffeb2edc)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/13/782913/2 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/container_image_prepare_defaults.yaml', 'container-images/tripleo_containers.yaml']",2,b8847f6cba5d17005e39cc5eea4e8317549acb82,782913,- imagename: quay.ceph.io/prometheus/prometheus:v2.7.2- imagename: quay.ceph.io/prometheus/alertmanager:v0.16.2- imagename: quay.ceph.io/prometheus/node-exporter:v0.17.0- imagename: quay.ceph.io/app-sre/grafana:6.7.4,- imagename: quay.io/prometheus/prometheus:v2.7.2- imagename: quay.io/prometheus/alertmanager:v0.16.2- imagename: quay.io/prometheus/node-exporter:v0.17.0- imagename: quay.io/tripleo/grafana:5.4.3,8,8
openstack%2Fpuppet-tripleo~master~I5a1253a30cfdd5c0f5517785d4464bcc525f8577,openstack/puppet-tripleo,master,I5a1253a30cfdd5c0f5517785d4464bcc525f8577,Remove the unused list_to_zookeeper_hash function,MERGED,2021-03-30 06:47:39.000000000,2021-03-31 02:25:49.000000000,2021-03-31 02:25:49.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-30 06:47:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/01fc2f55e2bc19427675a37a01a76cb2401a0cf8', 'message': 'Rremove the unused list_to_zookeeper_hash function\n\nThe list_to_zookeeper_hash function is not used by any class, thus\ncan be removed completely.\n\nChange-Id: I5a1253a30cfdd5c0f5517785d4464bcc525f8577\n'}, {'number': 2, 'created': '2021-03-30 07:08:15.000000000', 'files': ['lib/puppet/functions/list_to_zookeeper_hash.rb', 'spec/functions/list_to_zookeeper_hash_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/852d753b4ccb97e01a995a11f714eb39d19596d4', 'message': 'Remove the unused list_to_zookeeper_hash function\n\nThe list_to_zookeeper_hash function is not used by any class, thus\ncan be removed completely.\n\nChange-Id: I5a1253a30cfdd5c0f5517785d4464bcc525f8577\n'}]",0,783797,852d753b4ccb97e01a995a11f714eb39d19596d4,10,4,2,9816,,,0,"Remove the unused list_to_zookeeper_hash function

The list_to_zookeeper_hash function is not used by any class, thus
can be removed completely.

Change-Id: I5a1253a30cfdd5c0f5517785d4464bcc525f8577
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/97/783797/2 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/functions/list_to_zookeeper_hash.rb', 'spec/functions/list_to_zookeeper_hash_spec.rb']",2,01fc2f55e2bc19427675a37a01a76cb2401a0cf8,unused-function,,"require 'spec_helper' describe 'list_to_zookeeper_hash' do it { should run.with_params('127.0.0.1').and_return([ { 'ip' => '127.0.0.1', 'port' => 2181 } ]) } it { should run.with_params(['127.0.0.1', '127.0.0.2']).and_return([ { 'ip' => '127.0.0.1', 'port' => 2181 }, { 'ip' => '127.0.0.2', 'port' => 2181 } ]) } end ",0,39
openstack%2Fpuppet-oslo~master~I97f4d964a91ceddfd965720d5ba52ac246639bc5,openstack/puppet-oslo,master,I97f4d964a91ceddfd965720d5ba52ac246639bc5,metadata.json: debian 11,MERGED,2021-03-25 20:11:35.000000000,2021-03-31 02:25:46.000000000,2021-03-31 02:25:46.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-03-25 20:11:35.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/231eb7e0f1755600d2297c39b7f4c1274ff175b2', 'message': 'metadata.json: debian 11\n\nChange-Id: I97f4d964a91ceddfd965720d5ba52ac246639bc5\n'}]",0,783098,231eb7e0f1755600d2297c39b7f4c1274ff175b2,9,4,1,6476,,,0,"metadata.json: debian 11

Change-Id: I97f4d964a91ceddfd965720d5ba52ac246639bc5
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/98/783098/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,231eb7e0f1755600d2297c39b7f4c1274ff175b2,debian-metadata," ""11"""," ""10""",1,1
openstack%2Fbarbican~stable%2Fwallaby~I5a7790210b32f3511446b4bacbb07678a7e52238,openstack/barbican,stable/wallaby,I5a7790210b32f3511446b4bacbb07678a7e52238,Fix transport key policies,MERGED,2021-03-30 20:29:12.000000000,2021-03-31 02:21:07.000000000,2021-03-31 02:19:34.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-30 20:29:12.000000000', 'files': ['barbican/common/policies/transportkeys.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/ed8de959d5da9db8ae0802a25211d7beeaec6728', 'message': 'Fix transport key policies\n\nThis patch fixes a couple of broken policies for transport keys.\n\nChange-Id: I5a7790210b32f3511446b4bacbb07678a7e52238\n(cherry picked from commit 57f334e0cfe2554808eadeae68ff1715a654f2f1)\n'}]",0,783918,ed8de959d5da9db8ae0802a25211d7beeaec6728,7,2,1,7973,,,0,"Fix transport key policies

This patch fixes a couple of broken policies for transport keys.

Change-Id: I5a7790210b32f3511446b4bacbb07678a7e52238
(cherry picked from commit 57f334e0cfe2554808eadeae68ff1715a654f2f1)
",git fetch https://review.opendev.org/openstack/barbican refs/changes/18/783918/1 && git format-patch -1 --stdout FETCH_HEAD,['barbican/common/policies/transportkeys.py'],1,ed8de959d5da9db8ae0802a25211d7beeaec6728,secure-rbac-stable/wallaby," check_str=f'rule:all_users or {_READER}', check_str=f'rule:all_users or {_READER}',"," check_str='rule:all_users or {_READER}', check_str='rule:all_users or {_READER}',",2,2
openstack%2Fpuppet-swift~master~I61c2ced2935a88b4a86b0a9b8cc64efbbe027bd4,openstack/puppet-swift,master,I61c2ced2935a88b4a86b0a9b8cc64efbbe027bd4,Drop the tripleo-puppet-undercloud job,MERGED,2021-03-26 06:36:43.000000000,2021-03-31 02:08:13.000000000,2021-03-31 02:08:13.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-26 06:36:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/d318dd0bd146f79752ef8335bf56224271effd2d', 'message': 'Do not run tripleo-puppet-undercloud jobs\n\n... because Swift is no longer enabled in Undercloud by default.[1]\n\n[1] b3f4111c9ebb6ebd572b734a46b1d58e2875bd55\n\nChange-Id: I61c2ced2935a88b4a86b0a9b8cc64efbbe027bd4\n'}, {'number': 2, 'created': '2021-03-26 06:37:10.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/77f06130e3b769e1d11f6310b077a872c838e35d', 'message': 'Drop the tripleo-puppet-undercloud job\n\n... because Swift is no longer enabled in Undercloud by default.[1]\n\n[1] b3f4111c9ebb6ebd572b734a46b1d58e2875bd55\n\nChange-Id: I61c2ced2935a88b4a86b0a9b8cc64efbbe027bd4\n'}]",0,783190,77f06130e3b769e1d11f6310b077a872c838e35d,12,3,2,9816,,,0,"Drop the tripleo-puppet-undercloud job

... because Swift is no longer enabled in Undercloud by default.[1]

[1] b3f4111c9ebb6ebd572b734a46b1d58e2875bd55

Change-Id: I61c2ced2935a88b4a86b0a9b8cc64efbbe027bd4
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/90/783190/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d318dd0bd146f79752ef8335bf56224271effd2d,tripleo-undercloud, - puppet-swift-tripleo-standalone - puppet-swift-tripleo-standalone, - tripleo-puppet-undercloud - tripleo-ci-centos-8-content-provider - puppet-swift-tripleo-standalone: vars: &standalone_consumer_vars consumer_job: true build_container_images: false remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-content-provider - puppet-swift-tripleo-standalone: vars: *standalone_consumer_vars dependencies: - tripleo-ci-centos-8-content-provider,2,15
openstack%2Fbarbican~master~Ia95d1326475ad821353a193edfa25fd51d26a678,openstack/barbican,master,Ia95d1326475ad821353a193edfa25fd51d26a678,Fix symmetric algorithms and key lengths matching,ABANDONED,2021-03-30 14:15:33.000000000,2021-03-31 02:06:56.000000000,,"[{'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-30 14:15:33.000000000', 'files': ['barbican/plugin/crypto/simple_crypto.py', 'barbican/plugin/crypto/base.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/87e1edec31a8ae34f19258be717bf0402ddc8287', 'message': 'Fix symmetric algorithms and key lengths matching\n\nThis patch fixes an error key length check. For example,\nAES only supports 128/192/256 lengths.\n\nWithout this patch Barbican can generate the wrong length keys.\n\nChange-Id: Ia95d1326475ad821353a193edfa25fd51d26a678\n'}]",1,783883,87e1edec31a8ae34f19258be717bf0402ddc8287,3,2,1,32948,,,0,"Fix symmetric algorithms and key lengths matching

This patch fixes an error key length check. For example,
AES only supports 128/192/256 lengths.

Without this patch Barbican can generate the wrong length keys.

Change-Id: Ia95d1326475ad821353a193edfa25fd51d26a678
",git fetch https://review.opendev.org/openstack/barbican refs/changes/83/783883/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/plugin/crypto/simple_crypto.py', 'barbican/plugin/crypto/base.py']",2,87e1edec31a8ae34f19258be717bf0402ddc8287,fix/keylength," SYMMETRIC_KEY_LENGTHS = {'aes': [128, 192, 256], 'des': [64], '3des': [64, 128, 192], 'hmacsha1': [64, 128, 192, 256], 'hmacsha256': [64, 128, 192, 256], 'hmacsha384': [64, 128, 192, 256], 'hmacsha512': [64, 128, 192, 256]}"," SYMMETRIC_KEY_LENGTHS = [64, 128, 192, 256]",7,2
openstack%2Fswift~master~I8b7dfecd040a8c4532f35afd6e6aa995b6d4fe1e,openstack/swift,master,I8b7dfecd040a8c4532f35afd6e6aa995b6d4fe1e,relinker: Clean up probe tests a bit,NEW,2021-01-27 20:59:25.000000000,2021-03-31 02:05:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-27 20:59:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/cccce306bd88fa3615c6089c83a47f21513fd0d7', 'message': 'relinker: Clean up probe tests a bit\n\n* Include an object that *does not* get overwritten while relinking\n* Ensure that org_locations only tracks the locations for the old diskfiles\n* Be cautious of partition-0 diskfiles that do not move\n* Ensure hashes.pkl is up-to-date before relinking\n\nChange-Id: I8b7dfecd040a8c4532f35afd6e6aa995b6d4fe1e\n'}, {'number': 2, 'created': '2021-03-30 20:59:09.000000000', 'files': ['test/probe/test_object_partpower_increase.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/4fcd7c0087596847f60d9a16f6ad221c57d08c08', 'message': 'relinker: Clean up probe tests a bit\n\n* Include an object that *does not* get overwritten while relinking\n* Ensure that org_locations only tracks the locations for the old diskfiles\n* Be cautious of partition-0 diskfiles that do not move\n* Ensure hashes.pkl is up-to-date before relinking\n\nChange-Id: I8b7dfecd040a8c4532f35afd6e6aa995b6d4fe1e\n'}]",0,772772,4fcd7c0087596847f60d9a16f6ad221c57d08c08,4,1,2,15343,,,0,"relinker: Clean up probe tests a bit

* Include an object that *does not* get overwritten while relinking
* Ensure that org_locations only tracks the locations for the old diskfiles
* Be cautious of partition-0 diskfiles that do not move
* Ensure hashes.pkl is up-to-date before relinking

Change-Id: I8b7dfecd040a8c4532f35afd6e6aa995b6d4fe1e
",git fetch https://review.opendev.org/openstack/swift refs/changes/72/772772/1 && git format-patch -1 --stdout FETCH_HEAD,['test/probe/test_object_partpower_increase.py'],1,cccce306bd88fa3615c6089c83a47f21513fd0d7,," obj = 'object-overwrite-%s' % uuid4() obj2 = 'object-new-%s' % uuid4() obj3 = 'object-old-%s' % uuid4() # Create a new object; this will get overwritten mid-increase # Also have an object that stays put client.put_object(self.url, self.token, container, obj3, self.data) client.head_object(self.url, self.token, container, obj3) # Remember the original object locations org_locations = self._find_objs_ondisk(container, obj) org_locations.extend(self._find_objs_ondisk(container, obj3)) # Run replicators to close over hashes Manager(['object-replicator', 'object-reconstructor']).once() # Ensure objects are still accessible client.head_object(self.url, self.token, container, obj3) # obj2 should have both old and new locations; filter for just ""old"" org_locations.extend( loc for loc in self._find_objs_ondisk(container, obj2) if loc != replace_partition_in_path( loc, self.object_ring.part_power + 1)) loc, self.object_ring.part_power + 1)) client.head_object(self.url, self.token, container, obj3) client.head_object(self.url, self.token, container, obj3) client.head_object(self.url, self.token, container, obj3) cleaned_up = org_locations not_cleaned_up = new_locations else: cleaned_up = new_locations not_cleaned_up = org_locations for fn in cleaned_up: if fn in not_cleaned_up and '/0/' in fn: continue elif fn in not_cleaned_up: # This shouldn't happen; only the zeroth partition may map # back to itself during a part power increase; everyone # else should move raise Exception(cleaned_up, not_cleaned_up) self.assertFalse(os.path.exists(fn), fn) # No need to make assertions that files *do* exist on disk; the HEADs # took care of that. Plus, the original obj got overwritten, so the # data file with that timestamp wouldn't be around anyway."," obj = 'object-%s' % uuid4() obj2 = 'object-%s' % uuid4() # Create a new object # Ensure object is still accessible # Remember the original object locations org_locations = self._find_objs_ondisk(container, obj) org_locations += self._find_objs_ondisk(container, obj2) str(loc), self.object_ring.part_power + 1)) for fn in org_locations: self.assertFalse(os.path.exists(fn)) else: for fn in new_locations: self.assertFalse(os.path.exists(fn))",42,12
openstack%2Fironic-python-agent~stable%2Fussuri~Ie5b6e0abc3f266409562f9ecb26538126b667056,openstack/ironic-python-agent,stable/ussuri,Ie5b6e0abc3f266409562f9ecb26538126b667056,Mount all vfat partitions before calling grub2,MERGED,2021-03-23 02:20:29.000000000,2021-03-31 01:59:34.000000000,2021-03-31 01:57:58.000000000,"[{'_account_id': 11292}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-03-23 02:20:29.000000000', 'files': ['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/d59360f0bfa6ad9c88feb070050fb4f970517de8', 'message': 'Mount all vfat partitions before calling grub2\n\nIn order to ensure grub2 finds all files it needs, mount all\nvfat partitions specified in the deployed image.\n\nStory: #2007618\nTask: #39629\nChange-Id: Ie5b6e0abc3f266409562f9ecb26538126b667056\n(cherry picked from commit c5022790b3dca80c009e914aa07f3f879cd159b4)\n'}]",0,782349,d59360f0bfa6ad9c88feb070050fb4f970517de8,12,3,1,4571,,,0,"Mount all vfat partitions before calling grub2

In order to ensure grub2 finds all files it needs, mount all
vfat partitions specified in the deployed image.

Story: #2007618
Task: #39629
Change-Id: Ie5b6e0abc3f266409562f9ecb26538126b667056
(cherry picked from commit c5022790b3dca80c009e914aa07f3f879cd159b4)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/49/782349/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py']",2,d59360f0bfa6ad9c88feb070050fb4f970517de8,fstab-ussuri," # Add /bin to PATH variable as grub requires it to find efibootmgr # when running in uefi boot mode. # Add /usr/sbin to PATH variable to ensure it is there as we do # not use full path to grub binary anymore. path_variable = os.environ.get('PATH', '') path_variable = '%s:/bin:/usr/sbin:/sbin' % path_variable # Mount all vfat partitions listed in the fstab of the root partition. # This is to make sure grub2 finds all files it needs, as some of them # may not be inside the root partition but in the ESP (like grub2env). LOG.debug(""Mounting all partitions inside the image ..."") utils.execute('chroot %(path)s /bin/sh -c ""mount -a -t vfat""' % {'path': path}, shell=True, env_variables={'PATH': path_variable}) # Umount the vfat partitions we may have mounted LOG.debug(""Unmounting all partitions inside the image ..."") try: utils.execute('chroot %(path)s /bin/sh -c ""umount -a -t vfat""' % {'path': path}, shell=True, env_variables={'PATH': path_variable}) except processutils.ProcessExecutionError as e: LOG.warning(""Unable to umount vfat partitions. Error: %(error)s"", {'error': e}) "," # Add /bin to PATH variable as grub requires it to find efibootmgr # when running in uefi boot mode. # Add /usr/sbin to PATH variable to ensure it is there as we do # not use full path to grub binary anymore. path_variable = os.environ.get('PATH', '') path_variable = '%s:/bin:/usr/sbin:/sbin' % path_variable",73,6
openstack%2Fpuppet-openstack-integration~stable%2Ftrain~Ib213e151b92d33d30f4335fcd93f86dbab8f0198,openstack/puppet-openstack-integration,stable/train,Ib213e151b92d33d30f4335fcd93f86dbab8f0198,[Ussuri and before] Bump puppet-memcached for tls support,MERGED,2021-03-30 07:37:24.000000000,2021-03-31 01:32:48.000000000,2021-03-31 01:32:48.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2021-03-30 07:37:24.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/936470226dcf318b374d50466a295c7a03e96bef', 'message': '[Ussuri and before] Bump puppet-memcached for tls support\n\nCurrently in TripleO we are implementing tls support for memcached,\nwhich requires puppet-memcached >= 3.7.0. This change bumps version of\npuppet-memcached used during tets to the one with tls support, so that\nwe can use the proper version of puppet-memcached in unit tests of\npuppet-tripleo.\nBecause there are no changes made until 3.7.0 which is likely to\nbreak interfaces used in current puppet modules it is considered to\nbe safe to bump that minor version at this moment.\n\nRelated-Bug: #1921716\nChange-Id: Ib213e151b92d33d30f4335fcd93f86dbab8f0198\n(cherry picked from commit 1e7739c97e527c4afad705ff6bdae0f8edd8be64)\n'}]",0,783801,936470226dcf318b374d50466a295c7a03e96bef,17,4,1,9816,,,0,"[Ussuri and before] Bump puppet-memcached for tls support

Currently in TripleO we are implementing tls support for memcached,
which requires puppet-memcached >= 3.7.0. This change bumps version of
puppet-memcached used during tets to the one with tls support, so that
we can use the proper version of puppet-memcached in unit tests of
puppet-tripleo.
Because there are no changes made until 3.7.0 which is likely to
break interfaces used in current puppet modules it is considered to
be safe to bump that minor version at this moment.

Related-Bug: #1921716
Change-Id: Ib213e151b92d33d30f4335fcd93f86dbab8f0198
(cherry picked from commit 1e7739c97e527c4afad705ff6bdae0f8edd8be64)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/01/783801/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,936470226dcf318b374d50466a295c7a03e96bef,, :ref => 'v3.7.0', :ref => 'v3.4.0',1,1
openstack%2Fneutron~stable%2Fstein~I74916acf8311989dca267f23261ec4cf449a6abf,openstack/neutron,stable/stein,I74916acf8311989dca267f23261ec4cf449a6abf,Fix OVS conjunctive IP flows cleanup,MERGED,2021-02-19 08:20:08.000000000,2021-03-31 01:27:10.000000000,2021-03-31 01:24:53.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 28159}]","[{'number': 1, 'created': '2021-02-19 08:20:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/829703788f10747871284d26624532ecf43ecac6', 'message': ""Fix OVS conjunctive IP flows cleanup\n\n Currently when deleting a remote-group's member IPs, the deleted IPs'\n conjunctive flows are not cleaned up in OF tables. This is because\n the conjunctive flows' cookies don't match with the OVSBridge default\n cookie used by the delete flow method. This patch fixed the issue by\n using an ANY cookie that can always match with the cookies of the\n conjunctive flows.\n\nChange-Id: I74916acf8311989dca267f23261ec4cf449a6abf\nCloses-Bug: 1907491\n(cherry picked from commit f4b64e519cdb9fd9c5046f21bc9f325341fd367f)\n(cherry picked from commit 03f0a832a82f35286417e56d6071cfefe823a65c)\n""}, {'number': 2, 'created': '2021-02-23 07:46:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4bea3d37b6d59933bdd2e146a699d0a303ed0d47', 'message': ""Fix OVS conjunctive IP flows cleanup\n\n Currently when deleting a remote-group's member IPs, the deleted IPs'\n conjunctive flows are not cleaned up in OF tables. This is because\n the conjunctive flows' cookies don't match with the OVSBridge default\n cookie used by the delete flow method. This patch fixed the issue by\n using an ANY cookie that can always match with the cookies of the\n conjunctive flows.\n\nChange-Id: I74916acf8311989dca267f23261ec4cf449a6abf\nCloses-Bug: 1907491\n(cherry picked from commit f4b64e519cdb9fd9c5046f21bc9f325341fd367f)\n(cherry picked from commit 03f0a832a82f35286417e56d6071cfefe823a65c)\n""}, {'number': 3, 'created': '2021-03-06 18:09:15.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fb5f1385946300dbbf64c205962b6cb76a540467', 'message': ""Fix OVS conjunctive IP flows cleanup\n\n Currently when deleting a remote-group's member IPs, the deleted IPs'\n conjunctive flows are not cleaned up in OF tables. This is because\n the conjunctive flows' cookies don't match with the OVSBridge default\n cookie used by the delete flow method. This patch fixed the issue by\n using an ANY cookie that can always match with the cookies of the\n conjunctive flows.\n\nConflicts:\n    neutron/agent/linux/openvswitch_firewall/firewall.py\n\nChange-Id: I74916acf8311989dca267f23261ec4cf449a6abf\nCloses-Bug: 1907491\n(cherry picked from commit f4b64e519cdb9fd9c5046f21bc9f325341fd367f)\n(cherry picked from commit 03f0a832a82f35286417e56d6071cfefe823a65c)\n""}]",0,776453,fb5f1385946300dbbf64c205962b6cb76a540467,20,4,3,11975,,,0,"Fix OVS conjunctive IP flows cleanup

 Currently when deleting a remote-group's member IPs, the deleted IPs'
 conjunctive flows are not cleaned up in OF tables. This is because
 the conjunctive flows' cookies don't match with the OVSBridge default
 cookie used by the delete flow method. This patch fixed the issue by
 using an ANY cookie that can always match with the cookies of the
 conjunctive flows.

Conflicts:
    neutron/agent/linux/openvswitch_firewall/firewall.py

Change-Id: I74916acf8311989dca267f23261ec4cf449a6abf
Closes-Bug: 1907491
(cherry picked from commit f4b64e519cdb9fd9c5046f21bc9f325341fd367f)
(cherry picked from commit 03f0a832a82f35286417e56d6071cfefe823a65c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/53/776453/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py']",2,829703788f10747871284d26624532ecf43ecac6,bug/1907491-stable/stein," def test_delete_flow_for_ip_using_cookie_any(self): with mock.patch.object(self.firewall, '_delete_flows') as \ mock_delete_flows: self.firewall.delete_flow_for_ip(('10.1.2.3', None), constants.INGRESS_DIRECTION, constants.IPv4, 100, [0]) _, kwargs = mock_delete_flows.call_args self.assertIn('cookie', kwargs) self.assertIs(ovs_lib.COOKIE_ANY, kwargs['cookie']) ",,15,0
openstack%2Ftripleo-image-elements~master~Ifd0d2f810799992faa1db41b80bf93bc97d5d19d,openstack/tripleo-image-elements,master,Ifd0d2f810799992faa1db41b80bf93bc97d5d19d,Drop pbr version ceiling and add py39 testing,MERGED,2021-03-29 12:14:42.000000000,2021-03-31 00:31:32.000000000,2021-03-31 00:25:56.000000000,"[{'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-29 12:14:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/5ab1b194e2dba6f5f6c11d2ee098de3b8ac02401', 'message': 'Drop pbr version ceiling\n\n- Ceiling of pbr version can create installation conflicts with pip.\n- Fixes tox default env list to be python version agnostic\n\nBug: #1921679\nChange-Id: Ifd0d2f810799992faa1db41b80bf93bc97d5d19d\n'}, {'number': 2, 'created': '2021-03-29 12:18:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/0e5e298370e579fd7d4ca0cd64e3872660be0ca5', 'message': 'Drop pbr version ceiling\n\n- Ceiling of pbr version can create installation conflicts with pip.\n- Fixes tox default env list to be python version agnostic\n- Updated template to use newer jobs (include testing with newer python)\n\nBug: #1921679\nChange-Id: Ifd0d2f810799992faa1db41b80bf93bc97d5d19d\n'}, {'number': 3, 'created': '2021-03-30 10:58:41.000000000', 'files': ['elements/os-apply-config/install.d/os-apply-config-source-install/10-os-apply-config', 'elements/os-refresh-config/install.d/os-refresh-config-source-install/10-os-refresh-config', 'elements/os-net-config/install.d/os-net-config-source-install/50-os-net-config-source', 'zuul.d/layout.yaml', 'setup.cfg', 'elements/os-collect-config/install.d/os-collect-config-source-install/10-os-collect-config', 'tox.ini', 'elements/os-svc-install/bin/os-svc-install'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/c69ead8b45d28befc693a5d0583868cef501ff25', 'message': 'Drop pbr version ceiling and add py39 testing\n\n- Ceiling of pbr version can create installation conflicts with pip.\n- Fixes tox default env list to be python version agnostic\n- Updated template to use newer jobs (include testing with newer python)\n\nBug: #1921679\nChange-Id: Ifd0d2f810799992faa1db41b80bf93bc97d5d19d\n'}]",3,783642,c69ead8b45d28befc693a5d0583868cef501ff25,18,6,3,24162,,,0,"Drop pbr version ceiling and add py39 testing

- Ceiling of pbr version can create installation conflicts with pip.
- Fixes tox default env list to be python version agnostic
- Updated template to use newer jobs (include testing with newer python)

Bug: #1921679
Change-Id: Ifd0d2f810799992faa1db41b80bf93bc97d5d19d
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/42/783642/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/os-apply-config/install.d/os-apply-config-source-install/10-os-apply-config', 'elements/os-refresh-config/install.d/os-refresh-config-source-install/10-os-refresh-config', 'elements/os-net-config/install.d/os-net-config-source-install/50-os-net-config-source', 'elements/os-collect-config/install.d/os-collect-config-source-install/10-os-collect-config', 'tox.ini', 'elements/os-svc-install/bin/os-svc-install']",6,5ab1b194e2dba6f5f6c11d2ee098de3b8ac02401,, pip install -U 'pbr>=0.11'," pip install -U 'pbr>=0.11,<2.0'",6,6
openstack%2Ftripleo-heat-templates~master~Id6fc08bce5673a41fd9fa5cb27f41c9786f560da,openstack/tripleo-heat-templates,master,Id6fc08bce5673a41fd9fa5cb27f41c9786f560da,Set vlan-limit value depending on vlan_transparent setting,MERGED,2021-03-10 11:01:30.000000000,2021-03-31 00:25:32.000000000,2021-03-31 00:25:32.000000000,"[{'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23804}]","[{'number': 1, 'created': '2021-03-10 11:01:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2a82bdbffba4846835d4ed0073a09639784887ff', 'message': 'Set vlan-limit value depending on vlan_transparent setting\n\nIn case when vlan_transparent in Neutron is enabled,\nother_config:vlan-limit should be set to value ""0"" in the openvswitch on\nall nodes.\n\nRelated-Bug: #1918418\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-ovn/+/779713\nChange-Id: Id6fc08bce5673a41fd9fa5cb27f41c9786f560da\n'}, {'number': 2, 'created': '2021-03-10 13:52:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e9a54e23c8002732a8b01a7ffc9c3763b5b36fe1', 'message': 'Set vlan-limit value depending on vlan_transparent setting\n\nIn case when vlan_transparent in Neutron is enabled,\nother_config:vlan-limit should be set to value ""0"" in the openvswitch on\nall nodes.\n\nRelated-Bug: #1918418\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-ovn/+/779421\nChange-Id: Id6fc08bce5673a41fd9fa5cb27f41c9786f560da\n'}, {'number': 3, 'created': '2021-03-12 09:57:14.000000000', 'files': ['deployment/ovn/ovn-controller-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e6801cebc81f25b6198cf29b4a5ab7308e16d5fd', 'message': 'Set vlan-limit value depending on vlan_transparent setting\n\nIn case when vlan_transparent in Neutron is enabled,\nother_config:vlan-limit should be set to value ""0"" in the openvswitch on\nall nodes.\n\nRelated-Bug: #1918418\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-vswitch/+/779796\nChange-Id: Id6fc08bce5673a41fd9fa5cb27f41c9786f560da\n'}]",4,779714,e6801cebc81f25b6198cf29b4a5ab7308e16d5fd,18,7,3,11975,,,0,"Set vlan-limit value depending on vlan_transparent setting

In case when vlan_transparent in Neutron is enabled,
other_config:vlan-limit should be set to value ""0"" in the openvswitch on
all nodes.

Related-Bug: #1918418

Depends-On: https://review.opendev.org/c/openstack/puppet-vswitch/+/779796
Change-Id: Id6fc08bce5673a41fd9fa5cb27f41c9786f560da
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/14/779714/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-base.yaml'],1,2a82bdbffba4846835d4ed0073a09639784887ff,bug/1918418," enable_vlan_transparency: {equals: [{get_param: EnableVLANTransparency}, true]} ovn::controller::vlan_limit: if: - enable_vlan_transparency - 0 - 1",,6,0
openstack%2Ftripleo-heat-templates~master~I4638b9badd17a7a75642895623a63753534fd341,openstack/tripleo-heat-templates,master,I4638b9badd17a7a75642895623a63753534fd341,Remove CrushRules coverage from scenario001,MERGED,2021-03-29 19:23:38.000000000,2021-03-31 00:25:16.000000000,2021-03-31 00:25:16.000000000,"[{'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-29 19:23:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/44336a22e242fe4cca2c86e31a5b4bc39e46a2b4', 'message': ""Remove CrushRules coverage from scenario001\n\nWe see many issue in CI due to the missing hdd device class.\nThis is something that can be related to the fact the only\nOSD in this job is built on top of a loop device. For this\nreason, and in order to keep the CI healthy, it's safe\nremoving the device classes coverage.\nIn addition, since there is only 1 osd, add and configure\ntiering in this context makes no sense.\n\nChange-Id: I4638b9badd17a7a75642895623a63753534fd341\n""}, {'number': 2, 'created': '2021-03-29 19:46:35.000000000', 'files': ['ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e68ed6f7cc5e2b0039015dfa9d63c14ccd908c44', 'message': ""Remove CrushRules coverage from scenario001\n\nWe see many issues in CI due to the missing hdd device class.\nThis is something that can be related to the fact that only\n1 OSD in this job is built on top of a loop device.\nFor this reason, and in order to keep the CI healthy, it's\nsafe removing the device classes coverage.\nIn addition, since there is only 1 osd, add and configure\ntiering in this context makes no sense.\n\nChange-Id: I4638b9badd17a7a75642895623a63753534fd341\n""}]",0,783736,e68ed6f7cc5e2b0039015dfa9d63c14ccd908c44,17,9,2,25402,,,0,"Remove CrushRules coverage from scenario001

We see many issues in CI due to the missing hdd device class.
This is something that can be related to the fact that only
1 OSD in this job is built on top of a loop device.
For this reason, and in order to keep the CI healthy, it's
safe removing the device classes coverage.
In addition, since there is only 1 osd, add and configure
tiering in this context makes no sense.

Change-Id: I4638b9badd17a7a75642895623a63753534fd341
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/36/783736/2 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario001-standalone.yaml'],1,44336a22e242fe4cca2c86e31a5b4bc39e46a2b4,, rule_name: replicated_rule, CephCrushRules: - name: HDD root: default type: host class: hdd default: true rule_name: HDD,1,8
openstack%2Fpuppet-swift~master~If68511fb97bae688e0201fb32928acc9cf68cafc,openstack/puppet-swift,master,If68511fb97bae688e0201fb32928acc9cf68cafc,This add the cname_lookup middleware for swift proxy.,MERGED,2021-03-16 16:26:30.000000000,2021-03-30 23:57:55.000000000,2021-03-30 23:56:09.000000000,"[{'_account_id': 6476}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-16 16:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/e8cb3726b1f1e8a8f9019c664175843c3c57adaf', 'message': 'This add the cname_lookup middleware for swift proxy.\n\nThis commit add the manifest to install and use the cname_lookup middleware\nfor swift proxy pipeline.\n\nIt includes the cname_lookup middleware parameters available in swift-proxy\nconfiguration file.\n\nIt also install the required dependency python-dnspython.\n\nI added a spec file copied from domain_remap one, hope it is good like this.\n\nChange-Id: If68511fb97bae688e0201fb32928acc9cf68cafc\n'}, {'number': 2, 'created': '2021-03-16 17:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/27e9d466f0be4f4ccf68197c9f9d7499c39168e3', 'message': 'This add the cname_lookup middleware for swift proxy.\n\nThis commit add the manifest to install and use the cname_lookup middleware\nfor swift proxy pipeline.\n\nIt includes the cname_lookup middleware parameters available in swift-proxy\nconfiguration file.\n\nIt also install the required dependency python-dnspython.\n\nI added a spec file copied from domain_remap one, hope it is good like this.\n\nChange-Id: If68511fb97bae688e0201fb32928acc9cf68cafc\n'}, {'number': 3, 'created': '2021-03-17 11:34:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/aa8f77350f1eee04ab70f451fc15a4fff803f88a', 'message': 'This add the cname_lookup middleware for swift proxy.\n\nThis commit add the manifest to install and use the cname_lookup middleware\nfor swift proxy pipeline.\n\nIt includes the cname_lookup middleware parameters available in swift-proxy\nconfiguration file.\n\nIt also install the required dependency python-dnspython.\n\nI added a spec file copied from domain_remap one, hope it is good like this.\n\nChange-Id: If68511fb97bae688e0201fb32928acc9cf68cafc\n'}, {'number': 4, 'created': '2021-03-22 13:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/3ff0269e72139009156ed6d459548e1e4e9f996c', 'message': 'This add the cname_lookup middleware for swift proxy.\n\nThis commit add the manifest to install and use the cname_lookup middleware\nfor swift proxy pipeline.\n\nIt includes the cname_lookup middleware parameters available in swift-proxy\nconfiguration file.\n\nIt also install the required dependency python-dnspython.\n\nI added a spec file copied from domain_remap one, hope it is good like this.\n\nChange-Id: If68511fb97bae688e0201fb32928acc9cf68cafc\n'}, {'number': 5, 'created': '2021-03-23 08:30:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/9b6189c12a9d2032f2e2d4b7c1ec8c60d95c1c78', 'message': 'This add the cname_lookup middleware for swift proxy.\n\nThis commit add the manifest to install and use the cname_lookup middleware\nfor swift proxy pipeline.\n\nIt includes the cname_lookup middleware parameters available in swift-proxy\nconfiguration file.\n\nIt also install the required dependency python-dnspython.\n\nI added a spec file copied from domain_remap one, hope it is good like this.\n\nChange-Id: If68511fb97bae688e0201fb32928acc9cf68cafc\n'}, {'number': 6, 'created': '2021-03-23 12:45:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/c746318accaf1d8e4881a63da1d7d03e1053ec7d', 'message': 'This add the cname_lookup middleware for swift proxy.\n\nThis commit add the manifest to install and use the cname_lookup middleware\nfor swift proxy pipeline.\n\nIt includes the cname_lookup middleware parameters available in swift-proxy\nconfiguration file.\n\nIt also install the required dependency python-dnspython.\n\nI added a spec file copied from domain_remap one, hope it is good like this.\n\nChange-Id: If68511fb97bae688e0201fb32928acc9cf68cafc\n'}, {'number': 7, 'created': '2021-03-26 16:53:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/b07bb2ca53b26d172947267a9c40115daeea64c7', 'message': 'This add the cname_lookup middleware for swift proxy.\n\nThis commit add the manifest to install and use the cname_lookup middleware\nfor swift proxy pipeline.\n\nIt includes the cname_lookup middleware parameters available in swift-proxy\nconfiguration file.\n\nIt also install the required dependency python-dnspython.\n\nI added a spec file copied from domain_remap one, hope it is good like this.\n\nChange-Id: If68511fb97bae688e0201fb32928acc9cf68cafc\n'}, {'number': 8, 'created': '2021-03-28 11:55:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/d086c38afb9a4fe0374ea7fac3bad951e54dad73', 'message': 'This add the cname_lookup middleware for swift proxy.\n\nThis commit add the manifest to install and use the cname_lookup\nmiddleware for swift proxy pipeline.\n\nIt includes the cname_lookup middleware parameters available in\nswift-proxy configuration file.\nIt also install the required dependency python-dnspython.\n\nChange-Id: If68511fb97bae688e0201fb32928acc9cf68cafc\n'}, {'number': 9, 'created': '2021-03-28 23:30:33.000000000', 'files': ['manifests/params.pp', 'manifests/proxy/cname_lookup.pp', 'spec/classes/swift_proxy_cname_lookup_spec.rb', 'releasenotes/notes/cname_lookup-a545519cb21e37cd.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/fe039b7a046c6579049149f725e6899bf230077c', 'message': 'This add the cname_lookup middleware for swift proxy.\n\nThis commit add the manifest to install and use the cname_lookup\nmiddleware for swift proxy pipeline.\n\nIt includes the cname_lookup middleware parameters available in\nswift-proxy configuration file.\nIt also install the required dependency python-dnspython.\n\nChange-Id: If68511fb97bae688e0201fb32928acc9cf68cafc\n'}]",12,780924,fe039b7a046c6579049149f725e6899bf230077c,31,4,9,29349,,,0,"This add the cname_lookup middleware for swift proxy.

This commit add the manifest to install and use the cname_lookup
middleware for swift proxy pipeline.

It includes the cname_lookup middleware parameters available in
swift-proxy configuration file.
It also install the required dependency python-dnspython.

Change-Id: If68511fb97bae688e0201fb32928acc9cf68cafc
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/24/780924/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/proxy/cname_lookup.pp', 'spec/classes/swift_proxy_cname_lookup_spec.rb']",2,e8cb3726b1f1e8a8f9019c664175843c3c57adaf,cname_lookup,"require 'spec_helper' describe 'swift::proxy::cname_lookup' do shared_examples 'swift::proxy::cname_lookup' do describe ""when using default parameters"" do it { is_expected.to contain_swift_proxy_config('filter:cname_lookup/use').with_value('egg:swift#cname_lookup') } it { is_expected.to contain_swift_proxy_config('filter:cname_lookup/set log_name').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_swift_proxy_config('filter:cname_lookup/set log_facility').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_swift_proxy_config('filter:cname_lookup/set log_level').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_swift_proxy_config('filter:cname_lookup/set log_headers').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_swift_proxy_config('filter:cname_lookup/set log_address').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_swift_proxy_config('filter:cname_lookup/storage_domain').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_swift_proxy_config('filter:cname_lookup/lookup_depth').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_swift_proxy_config('filter:cname_lookup/nameservers').with_value('<SERVICE DEFAULT>') } end describe ""when overriding default parameters"" do let :params do { :log_name => 'newcname_lookup', :log_facility => 'LOG_LOCAL3', :log_level => 'WARN', :log_headers => 'True', :log_address => '/var/log', :storage_domain => 'example.com', :lookup_depth => '2', :nameservers => '8.8.8.8', } end it { is_expected.to contain_swift_proxy_config('filter:cname_lookup/set log_name').with_value('newcname_lookup') } it { is_expected.to contain_swift_proxy_config('filter:cname_lookup/set log_facility').with_value('LOG_LOCAL3') } it { is_expected.to contain_swift_proxy_config('filter:cname_lookup/set log_level').with_value('WARN') } it { is_expected.to contain_swift_proxy_config('filter:cname_lookup/set log_headers').with_value('True') } it { is_expected.to contain_swift_proxy_config('filter:cname_lookup/set log_address').with_value('/var/log') } it { is_expected.to contain_swift_proxy_config('filter:cname_lookup/storage_domain').with_value('example.com') } it { is_expected.to contain_swift_proxy_config('filter:cname_lookup/lookup_depth').with_value('2') } it { is_expected.to contain_swift_proxy_config('filter:cname_lookup/nameservers').with_value('8.8.8.8') } end end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge(OSDefaults.get_facts()) end it_configures 'swift::proxy::cname_lookup' end end end ",,135,0
openstack%2Fpython-tripleoclient~master~Ic903c6d1769d6a6a026208b9857680a115de6c31,openstack/python-tripleoclient,master,Ic903c6d1769d6a6a026208b9857680a115de6c31,Refactor BM deployment to use '--work-dir' - [2/2],MERGED,2021-03-16 20:29:19.000000000,2021-03-30 23:47:25.000000000,2021-03-30 23:45:13.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-16 20:29:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bbab7117dfb611e1741cca34902f76d25e830ae5', 'message': ""Refactor BM deployment to use '--work-dir' - [2/2]\n\nWe added '--output-dir' just a few weeks ago, now it seems\nwe want to use '--work-dir'. See:\nhttps://review.opendev.org/775302.\n\nLet's re-factor to use the common consistent working directory.\n\nDepends-On: https://review.opendev.org/780969\nChange-Id: Ic903c6d1769d6a6a026208b9857680a115de6c31\n""}, {'number': 2, 'created': '2021-03-16 20:32:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fdc70ddcb4a3c305dd9560399031d106157beb55', 'message': ""Refactor BM deployment to use '--work-dir' - [2/2]\n\nWe added '--output-dir' just a few weeks ago, now it seems\nwe want to use '--work-dir'. See:\nhttps://review.opendev.org/775302.\n\nLet's re-factor to use the common consistent working directory.\n\nDepends-On: https://review.opendev.org/780969\nChange-Id: Ic903c6d1769d6a6a026208b9857680a115de6c31\n""}, {'number': 3, 'created': '2021-03-16 21:01:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/86e2a90bdc39af0f174ff341dfb589ae5e77efdf', 'message': ""Refactor BM deployment to use '--work-dir' - [2/2]\n\nWe added '--output-dir' just a few weeks ago, now it seems\nwe want to use '--work-dir'. See:\nhttps://review.opendev.org/775302.\n\nLet's re-factor to use the common consistent working directory.\n\nDepends-On: https://review.opendev.org/780969\nChange-Id: Ic903c6d1769d6a6a026208b9857680a115de6c31\n""}, {'number': 4, 'created': '2021-03-17 05:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a9dc67fb1aff0d2862a3e723e40b1ebb2af8438d', 'message': ""Refactor BM deployment to use '--work-dir' - [2/2]\n\nWe added '--output-dir' just a few weeks ago, now it seems\nwe want to use '--work-dir'. See:\nhttps://review.opendev.org/775302.\n\nLet's re-factor to use the common consistent working directory.\n\nDepends-On: https://review.opendev.org/780969\nChange-Id: Ic903c6d1769d6a6a026208b9857680a115de6c31\n""}, {'number': 5, 'created': '2021-03-22 20:19:53.000000000', 'files': ['tripleoclient/v2/overcloud_node.py', 'tripleoclient/tests/v2/overcloud_node/test_overcloud_node.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3fc20a82b85c747a9bfb4d5e08dec5cfec60e287', 'message': ""Refactor BM deployment to use '--work-dir' - [2/2]\n\nWe added '--output-dir' just a few weeks ago, now it seems\nwe want to use '--work-dir'. See:\nhttps://review.opendev.org/775302.\n\nLet's re-factor to use the common consistent working directory.\n\nDepends-On: https://review.opendev.org/780969\nChange-Id: Ic903c6d1769d6a6a026208b9857680a115de6c31\n""}]",1,780971,3fc20a82b85c747a9bfb4d5e08dec5cfec60e287,34,6,5,24245,,,0,"Refactor BM deployment to use '--work-dir' - [2/2]

We added '--output-dir' just a few weeks ago, now it seems
we want to use '--work-dir'. See:
https://review.opendev.org/775302.

Let's re-factor to use the common consistent working directory.

Depends-On: https://review.opendev.org/780969
Change-Id: Ic903c6d1769d6a6a026208b9857680a115de6c31
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/71/780971/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v2/overcloud_node.py'],1,bbab7117dfb611e1741cca34902f76d25e830ae5,network-data-v2,," # TODO(hjensas): Remove 'output-dir' use common 'workdir' instead. # See: https://review.opendev.org/775302 parser.add_argument('--output-dir', help=_('Directory to use for saved output. ' 'When not specified, ' '$HOME/config-download/node-config will be ' 'used.'), action='store', default=None) if parsed_args.output_dir: output_dir = os.path.abspath(parsed_args.output_dir) else: output_dir = os.path.join(constants.DEFAULT_WORK_DIR, 'node-config') ""output_dir"": output_dir,",0,15
openstack%2Fpyeclib~master~Ic6a51675dbf1c4c7a7540d9a0d80ee33cb064b80,openstack/pyeclib,master,Ic6a51675dbf1c4c7a7540d9a0d80ee33cb064b80,Test under py39,MERGED,2021-03-30 21:48:27.000000000,2021-03-30 23:27:21.000000000,2021-03-30 23:27:21.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-30 21:48:27.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/pyeclib/commit/ab49ad922db0e9658525fee7919c9fae311d15f2', 'message': 'Test under py39\n\nChange-Id: Ic6a51675dbf1c4c7a7540d9a0d80ee33cb064b80\n'}]",0,783977,ab49ad922db0e9658525fee7919c9fae311d15f2,6,2,1,15343,,,0,"Test under py39

Change-Id: Ic6a51675dbf1c4c7a7540d9a0d80ee33cb064b80
",git fetch https://review.opendev.org/openstack/pyeclib refs/changes/77/783977/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,ab49ad922db0e9658525fee7919c9fae311d15f2,update-python,"envlist = py{27,35,36,37,38,39}-compilelibs,pep8,docs","envlist = py{27,35,36,37,38}-compilelibs,pep8,docs",5,3
openstack%2Fswift~master~I52287bb273b955dec2ab96a987a7fc75b861d4fd,openstack/swift,master,I52287bb273b955dec2ab96a987a7fc75b861d4fd,Log error processing manifest as ServerError,ABANDONED,2020-09-18 23:08:39.000000000,2021-03-30 23:03:23.000000000,,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-18 23:08:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d8abf2be4f4d6538bb03d5c85589b48e57b90c87', 'message': 'Log error processing manifest as ServerError\n\nChange-Id: I52287bb273b955dec2ab96a987a7fc75b861d4fd\nCloses-Bug: #1895691\n'}, {'number': 2, 'created': '2020-09-29 21:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f79c188decea74fa8470831b1c26ad58217ef6c5', 'message': 'Log error processing manifest as ServerError\n\nChange-Id: I52287bb273b955dec2ab96a987a7fc75b861d4fd\nCloses-Bug: #1895691\n'}, {'number': 3, 'created': '2020-09-30 17:47:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f56e82d994f8144e8a8d0f762f7cd78900c32e4c', 'message': 'Log error processing manifest as ServerError\n\nChange-Id: I52287bb273b955dec2ab96a987a7fc75b861d4fd\nCloses-Bug: #1895691\n'}, {'number': 4, 'created': '2020-10-01 14:18:57.000000000', 'files': ['swift/common/middleware/proxy_logging.py', 'test/unit/common/middleware/test_slo.py', 'swift/common/request_helpers.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/3e1243134b19d1b70c8f10bb7363732f47a8f23b', 'message': 'Log error processing manifest as ServerError\n\nChange-Id: I52287bb273b955dec2ab96a987a7fc75b861d4fd\nCloses-Bug: #1895691\n'}]",1,752770,3e1243134b19d1b70c8f10bb7363732f47a8f23b,15,3,4,1179,,,0,"Log error processing manifest as ServerError

Change-Id: I52287bb273b955dec2ab96a987a7fc75b861d4fd
Closes-Bug: #1895691
",git fetch https://review.opendev.org/openstack/swift refs/changes/70/752770/4 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/proxy_logging.py', 'test/unit/common/middleware/test_slo.py', 'swift/common/request_helpers.py']",3,d8abf2be4f4d6538bb03d5c85589b48e57b90c87,mpu-ec-disconnect, self.req.environ['swift.status_for_logging'] = 503,,18,2
openstack%2Fswift~master~I7a643ae41f41bb56dd20ca804fa478c295e4441d,openstack/swift,master,I7a643ae41f41bb56dd20ca804fa478c295e4441d,proxy: Add metrics for short requests and responses,ABANDONED,2020-09-04 17:44:28.000000000,2021-03-30 22:51:26.000000000,,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-04 17:44:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/be8f400a83993446264e6ecf3b86e1417e9070ed', 'message': 'proxy: Add metrics for short requests and responses\n\nChange-Id: I7a643ae41f41bb56dd20ca804fa478c295e4441d\n'}, {'number': 2, 'created': '2020-09-04 21:57:49.000000000', 'files': ['swift/common/middleware/proxy_logging.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/663bcc04f7df3e851d086a471854fab34ef294a9', 'message': 'proxy: Add metrics for short requests and responses\n\nChange-Id: I7a643ae41f41bb56dd20ca804fa478c295e4441d\n'}]",6,750003,663bcc04f7df3e851d086a471854fab34ef294a9,7,2,2,15343,,,0,"proxy: Add metrics for short requests and responses

Change-Id: I7a643ae41f41bb56dd20ca804fa478c295e4441d
",git fetch https://review.opendev.org/openstack/swift refs/changes/03/750003/2 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/middleware/proxy_logging.py'],1,be8f400a83993446264e6ecf3b86e1417e9070ed,," stat_type = self.get_metric_name_type(req) if stat_type is None: return # Log timing, bytes-transferred, etc. data to StatsD request_length = req.message_length() if request_length is not None and bytes_received < request_length: self.access_logger.increment(stat_type + '.short-request') if 'Content-Length' in resp_headers: bytes_expected = int(resp_headers['Content-Length']) else: bytes_expected = bytes_sent if status_int != 499 and method != 'HEAD' and \ bytes_sent < bytes_expected: self.access_logger.increment(stat_type + '.short-response') def update_metrics(metric_name): # Only log data for valid controllers (or SOS) to keep the metric # count down (egregious errors will get logged by the proxy server # itself). if not metric_name: return update_metrics(self.statsd_metric_name(stat_type, status_int, method)) update_metrics(self.statsd_metric_name_policy( stat_type, status_int, method, policy_index)) def statsd_metric_name(self, stat_type, status_int, method): def statsd_metric_name_policy( self, stat_type, status_int, method, policy_index): stat_type = self.get_metric_name_type(req) if stat_type is not None: metric_name = self.statsd_metric_name( stat_type, status_int, method) policy_index = get_policy_index(req.headers, resp_headers) metric_name_policy = self.statsd_metric_name_policy( stat_type, status_int, method, policy_index) if metric_name_policy: self.access_logger.timing( metric_name_policy + '.first-byte.timing', ttfb * 1000)"," # Log timing and bytes-transferred data to StatsD metric_name = self.statsd_metric_name(req, status_int, method) metric_name_policy = self.statsd_metric_name_policy(req, status_int, method, policy_index) # Only log data for valid controllers (or SOS) to keep the metric count # down (egregious errors will get logged by the proxy server itself). if metric_name: if metric_name_policy: self.access_logger.timing(metric_name_policy + '.timing', (end_time - start_time) * 1000) self.access_logger.update_stats(metric_name_policy + '.xfer', bytes_received + bytes_sent) def statsd_metric_name(self, req, status_int, method): stat_type = self.get_metric_name_type(req) if stat_type is None: return None def statsd_metric_name_policy(self, req, status_int, method, policy_index): stat_type = self.get_metric_name_type(req) policy_index = get_policy_index(req.headers, resp_headers) metric_name = self.statsd_metric_name(req, status_int, method) metric_name_policy = self.statsd_metric_name_policy( req, status_int, method, policy_index) if metric_name: if metric_name_policy: self.access_logger.timing( metric_name_policy + '.first-byte.timing', ttfb * 1000)",42,27
openstack%2Fhorizon~stable%2Ftrain~Ibd8640e6b5c37bc4a803cb8b339e6f143072337d,openstack/horizon,stable/train,Ibd8640e6b5c37bc4a803cb8b339e6f143072337d,Bug fix CGTS-21455: download openrc file for subclouds,ABANDONED,2021-03-30 22:45:35.000000000,2021-03-30 22:47:07.000000000,,[{'_account_id': 32244}],"[{'number': 1, 'created': '2021-03-30 22:45:35.000000000', 'files': ['openstack_dashboard/dashboards/project/api_access/views.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/37db7260ec484f2f5da6d90f41250de569a530fb', 'message': 'Bug fix CGTS-21455: download openrc file for subclouds\n\nChange done to allow download of openrc file\n\nSigned-off-by: Jose Infanzon <jose.infanzon@windriver.com>\nChange-Id: Ibd8640e6b5c37bc4a803cb8b339e6f143072337d\n'}]",0,783984,37db7260ec484f2f5da6d90f41250de569a530fb,3,1,1,32244,,,0,"Bug fix CGTS-21455: download openrc file for subclouds

Change done to allow download of openrc file

Signed-off-by: Jose Infanzon <jose.infanzon@windriver.com>
Change-Id: Ibd8640e6b5c37bc4a803cb8b339e6f143072337d
",git fetch https://review.opendev.org/openstack/horizon refs/changes/84/783984/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/api_access/views.py'],1,37db7260ec484f2f5da6d90f41250de569a530fb,," 'identity') 'os_endpoint_type': settings.OPENSTACK_ENDPOINT_TYPE,"," 'identity', endpoint_type='publicURL') 'os_endpoint_type': 'publicURL',",2,3
openstack%2Fmanila~stable%2Fwallaby~I653fbaa43dc005e866e4fb8b6fc0ac0f63623a2a,openstack/manila,stable/wallaby,I653fbaa43dc005e866e4fb8b6fc0ac0f63623a2a,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-03-26 18:56:24.000000000,2021-03-30 22:43:44.000000000,2021-03-30 22:39:16.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2021-03-26 18:56:24.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/manila/commit/46c9ec692689fd4b308dfe2dc3e9608ac0ef88dc', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I653fbaa43dc005e866e4fb8b6fc0ac0f63623a2a\n'}]",0,783458,46c9ec692689fd4b308dfe2dc3e9608ac0ef88dc,10,3,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I653fbaa43dc005e866e4fb8b6fc0ac0f63623a2a
",git fetch https://review.opendev.org/openstack/manila refs/changes/58/783458/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,46c9ec692689fd4b308dfe2dc3e9608ac0ef88dc,create-wallaby, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},3,3
openstack%2Fmanila~stable%2Fwallaby~Ic1755a9b0e51120683f1de0f727d4ded485a24f3,openstack/manila,stable/wallaby,Ic1755a9b0e51120683f1de0f727d4ded485a24f3,Update .gitreview for stable/wallaby,MERGED,2021-03-26 18:56:17.000000000,2021-03-30 22:41:44.000000000,2021-03-30 22:39:11.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2021-03-26 18:56:17.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/manila/commit/75341113cda9cc2f77ef6eec6094dc61e892cd46', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: Ic1755a9b0e51120683f1de0f727d4ded485a24f3\n'}]",0,783457,75341113cda9cc2f77ef6eec6094dc61e892cd46,10,3,1,22816,,,0,"Update .gitreview for stable/wallaby

Change-Id: Ic1755a9b0e51120683f1de0f727d4ded485a24f3
",git fetch https://review.opendev.org/openstack/manila refs/changes/57/783457/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,75341113cda9cc2f77ef6eec6094dc61e892cd46,create-wallaby,defaultbranch=stable/wallaby,,1,0
openstack%2Fmanila~master~I28cedd09fbdd7dcd879f62f9563b5b7340c4df59,openstack/manila,master,I28cedd09fbdd7dcd879f62f9563b5b7340c4df59,Add Python3 xena unit tests,MERGED,2021-03-26 18:56:38.000000000,2021-03-30 22:41:34.000000000,2021-03-30 22:33:49.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2021-03-26 18:56:38.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/f5fae7df2a2f423331298e26a116b3260a2bf845', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I28cedd09fbdd7dcd879f62f9563b5b7340c4df59\n'}]",0,783460,f5fae7df2a2f423331298e26a116b3260a2bf845,13,3,1,22816,,,0,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I28cedd09fbdd7dcd879f62f9563b5b7340c4df59
",git fetch https://review.opendev.org/openstack/manila refs/changes/60/783460/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,f5fae7df2a2f423331298e26a116b3260a2bf845,add-xena-python-jobtemplates, - openstack-python3-xena-jobs, - openstack-python3-wallaby-jobs,1,1
openstack%2Fswift~master~I21238d83fa3567eae395a64cee095a957385c2d3,openstack/swift,master,I21238d83fa3567eae395a64cee095a957385c2d3,Have shrinking and sharded shards save all ranges from root,ABANDONED,2020-06-26 04:33:47.000000000,2021-03-30 22:35:38.000000000,,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-26 04:33:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/08d81be2ef45763b6d2f6f1b045822eb2274915b', 'message': 'wip: Recover from sharding split-brain\n\nChange-Id: I21238d83fa3567eae395a64cee095a957385c2d3\n'}, {'number': 2, 'created': '2020-07-08 05:01:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/48c00358ac28ca2b96a8f66e182bbbe41e14fdb4', 'message': ""Have shrinking and sharded shards save all ranges from root\n\nNormally, when the root container leader decides that a shard should\nshrink, it pushes two piece of information to the shard replicas:\n\n  * its state is now shrinking, and\n  * knowledge of the shard range it should be shrinking into.\n\nIf the root fails to push that information, there isn't too much harm --\nit'll try again on the next round. But the if the shard runs its sharder\nbefore then, currently it will fetch and updates its own range from the\nroot, giving it the first piece of information but not the second.\n\nInterestingly, the response from the root will include *both* shards,\nsince both cover the range the shard is responsible for. There's an\nopportunity for an optimization: when our own shard (as retrieved from\nthe root) is shrinking or sharded, we can save all of the shards we\nreceived and get to work immediately, without waiting for the root to\npush to us.\n\nThis also allows us to recover from a sharding split-brain. A root DB\ncan be fixed-up offline (currently, likely via some manual, in-a-REPL\nbroker adjustments), and the shards will pull down all the information\nneeded to sort themselves out.\n\nChange-Id: I21238d83fa3567eae395a64cee095a957385c2d3\n""}, {'number': 3, 'created': '2020-07-13 21:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/80ef058de34fdfdc8a290492453e932d23cdb04f', 'message': ""Have shrinking and sharded shards save all ranges from root\n\nNormally, when the root container leader decides that a shard should\nshrink, it pushes two piece of information to the shard replicas:\n\n  * its state is now shrinking, and\n  * knowledge of the shard range it should be shrinking into.\n\nIf the root fails to push that information, there isn't too much harm --\nit'll try again on the next round. But the if the shard runs its sharder\nbefore then, currently it will fetch and updates its own range from the\nroot, giving it the first piece of information but not the second.\n\nInterestingly, the response from the root will include *both* shards,\nsince both overlap the range the shard is responsible for. There's an\nopportunity for an optimization: when our own shard (as retrieved from\nthe root) is shrinking or sharded, we can save all of the shards we\nreceived and get to work immediately, without waiting for the root to\npush to us.\n\nThis also allows us to recover from a sharding split-brain. A root DB\ncan be fixed-up offline (currently, likely via some manual, in-a-REPL\nbroker adjustments), and the shards will pull down all the information\nneeded to sort themselves out.\n\nChange-Id: I21238d83fa3567eae395a64cee095a957385c2d3\n""}, {'number': 4, 'created': '2020-07-13 23:19:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/834eaaadf67cf757fe0f8d1c8e578bf669d94423', 'message': ""Have shrinking and sharded shards save all ranges from root\n\nNormally, when the root container leader decides that a shard should\nshrink, it pushes two piece of information to the shard replicas:\n\n  * its state is now shrinking, and\n  * knowledge of the shard range it should be shrinking into.\n\nIf the root fails to push that information, there isn't too much harm --\nit'll try again on the next round. But the if the shard runs its sharder\nbefore then, currently it will fetch and updates its own range from the\nroot, giving it the first piece of information but not the second.\n\nInterestingly, the response from the root will include *both* shards,\nsince both overlap the range the shard is responsible for. There's an\nopportunity for an optimization: when our own shard (as retrieved from\nthe root) is shrinking or sharded, we can save all of the shards we\nreceived and get to work immediately, without waiting for the root to\npush to us.\n\nAlso, only expand the acceptor's shard range if the donor transitioned\nto sharding -- if it was already there, leave it alone.\n\nBetween the two, we can now recover from a sharding split-brain. A root\nDB can be fixed-up offline (currently, likely via some manual, in-a-REPL\nbroker adjustments), the shards will pull down all the information\nneeded to sort themselves out, and the root will leave the shard bounds\nalone the next time it goes looking for shrinking candidates.\n\nChange-Id: I21238d83fa3567eae395a64cee095a957385c2d3\n""}, {'number': 5, 'created': '2020-07-14 18:59:21.000000000', 'files': ['test/unit/container/test_sharder.py', 'test/probe/brain.py', 'test/probe/test_sharder.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/de1756ca1807ec9b3e7948ae0319b0b886041ca9', 'message': ""Have shrinking and sharded shards save all ranges from root\n\nNormally, when the root container leader decides that a shard should\nshrink, it pushes two piece of information to the shard replicas:\n\n  * its state is now shrinking, and\n  * knowledge of the shard range it should be shrinking into.\n\nIf the root fails to push that information, there isn't too much harm --\nit'll try again on the next round. But the if the shard runs its sharder\nbefore then, currently it will fetch and updates its own range from the\nroot, giving it the first piece of information but not the second.\n\nInterestingly, the response from the root will include *both* shards,\nsince both overlap the range the shard is responsible for. There's an\nopportunity for an optimization: when our own shard (as retrieved from\nthe root) is shrinking or sharded, we can save all of the shards we\nreceived and get to work immediately, without waiting for the root to\npush to us.\n\nAlso, only expand the acceptor's shard range if the donor transitioned\nto sharding -- if it was already there, leave it alone.\n\nBetween the two, we can now recover from a sharding split-brain. A root\nDB can be fixed-up offline (currently, likely via some manual, in-a-REPL\nbroker adjustments), the shards will pull down all the information\nneeded to sort themselves out, and the root will leave the shard bounds\nalone the next time it goes looking for shrinking candidates.\n\nChange-Id: I21238d83fa3567eae395a64cee095a957385c2d3\n""}]",35,738149,de1756ca1807ec9b3e7948ae0319b0b886041ca9,19,3,5,15343,,,0,"Have shrinking and sharded shards save all ranges from root

Normally, when the root container leader decides that a shard should
shrink, it pushes two piece of information to the shard replicas:

  * its state is now shrinking, and
  * knowledge of the shard range it should be shrinking into.

If the root fails to push that information, there isn't too much harm --
it'll try again on the next round. But the if the shard runs its sharder
before then, currently it will fetch and updates its own range from the
root, giving it the first piece of information but not the second.

Interestingly, the response from the root will include *both* shards,
since both overlap the range the shard is responsible for. There's an
opportunity for an optimization: when our own shard (as retrieved from
the root) is shrinking or sharded, we can save all of the shards we
received and get to work immediately, without waiting for the root to
push to us.

Also, only expand the acceptor's shard range if the donor transitioned
to sharding -- if it was already there, leave it alone.

Between the two, we can now recover from a sharding split-brain. A root
DB can be fixed-up offline (currently, likely via some manual, in-a-REPL
broker adjustments), the shards will pull down all the information
needed to sort themselves out, and the root will leave the shard bounds
alone the next time it goes looking for shrinking candidates.

Change-Id: I21238d83fa3567eae395a64cee095a957385c2d3
",git fetch https://review.opendev.org/openstack/swift refs/changes/49/738149/2 && git format-patch -1 --stdout FETCH_HEAD,"['test/probe/test_sharder.py', 'swift/container/sharder.py']",2,08d81be2ef45763b6d2f6f1b045822eb2274915b,sharding-split-brain," if own_shard_range.state == ShardRange.SHRINKING: # Typically, this should only have two shard ranges: our own # and an out-of-date acceptor. If the root discovers and needs # to correct conflicting sets of shard ranges, we may be # shrinking into multiple other shards. broker.merge_shard_ranges(shard_ranges) else: broker.merge_shard_ranges(shard_range)", broker.merge_shard_ranges(shard_range),96,2
openstack%2Fswift~master~I81c66c57362c9a08b55bdb7925f567318d50d02f,openstack/swift,master,I81c66c57362c9a08b55bdb7925f567318d50d02f,ring: Be willing to query nodes with no assignments,ABANDONED,2020-07-14 04:47:59.000000000,2021-03-30 22:33:55.000000000,,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-14 04:47:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6ede7645e0f4313f7526d24321ad3300acae1b8b', 'message': 'ring: Be willing to query nodes with no assignments\n\nThis is helpful when trying to remove devices in very small clusters\nwith a low number of replicas.\n\nChange-Id: I81c66c57362c9a08b55bdb7925f567318d50d02f\n'}, {'number': 2, 'created': '2020-07-15 18:09:00.000000000', 'files': ['test/unit/__init__.py', 'test/unit/common/ring/test_ring.py', 'swift/proxy/controllers/account.py', 'swift/common/ring/ring.py', 'swift/proxy/controllers/obj.py', 'swift/proxy/server.py', 'swift/proxy/controllers/container.py', 'swift/proxy/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/abb4ba7c0049c5d2ffa0bd8083575495ff0e8a74', 'message': 'ring: Be willing to query nodes with no assignments\n\nThis is helpful when trying to remove devices in very small clusters\nwith a low number of replicas.\n\nChange-Id: I81c66c57362c9a08b55bdb7925f567318d50d02f\n'}]",3,740866,abb4ba7c0049c5d2ffa0bd8083575495ff0e8a74,8,3,2,15343,,,0,"ring: Be willing to query nodes with no assignments

This is helpful when trying to remove devices in very small clusters
with a low number of replicas.

Change-Id: I81c66c57362c9a08b55bdb7925f567318d50d02f
",git fetch https://review.opendev.org/openstack/swift refs/changes/66/740866/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/__init__.py', 'test/unit/common/ring/test_ring.py', 'swift/proxy/controllers/account.py', 'swift/common/ring/ring.py', 'swift/proxy/controllers/obj.py', 'swift/proxy/controllers/container.py', 'swift/proxy/server.py', 'swift/proxy/controllers/base.py']",8,6ede7645e0f4313f7526d24321ad3300acae1b8b,low-replica-rings," :param for_read: whether this is for a read operation (GET/HEAD). Determines whether to look at devices with no parts assigned after exhausting all other devices. Only used when node_iter is not provided. def __init__(self, app, ring, partition, node_iter=None, policy=None, for_read=False): part_nodes, ring.get_more_nodes(partition, for_read=for_read)) node_iterator or self.app.iter_nodes( ring, part, for_read=method in ('GET', 'HEAD'), )"," def __init__(self, app, ring, partition, node_iter=None, policy=None): part_nodes, ring.get_more_nodes(partition)) node_iterator or self.app.iter_nodes(ring, part)",63,10
openstack%2Fneutron~stable%2Fstein~I98e55242d381ada642ca0729e9aefdea7628c945,openstack/neutron,stable/stein,I98e55242d381ada642ca0729e9aefdea7628c945,Fix update of trunk subports during live migration,MERGED,2021-02-11 08:59:26.000000000,2021-03-30 22:29:44.000000000,2021-03-30 22:26:58.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-11 08:59:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/342a87af1e24e042dee4260e84d817955a51c8a7', 'message': 'Fix update of trunk subports during live migration\n\nDuring the live migration trunk subports where updated only based\non the ""host_id"" field. But when rpc message to update subports\nis send trunk\'s port is still bound to the old host and has\n""migrating_to"" field in binding:profile set to the new host.\nBecause of that binding:host_id for the subport\'s port wasn\'t updated\nproberly and port was set to DOWN on the new host.\nThat could even cause connectivity break if L2population is used in the\ncloud.\n\nThis patch fixes that by updating subport\'s binding:host_id field based\non the migrating_to field if that is available and not empty.\n\nCloses-Bug: #1914747\nChange-Id: I98e55242d381ada642ca0729e9aefdea7628c945\n(cherry picked from commit e05101c8ac953cc2823b35aaed3d499afc101988)\n'}, {'number': 2, 'created': '2021-03-03 07:45:53.000000000', 'files': ['neutron/services/trunk/rpc/server.py', 'neutron/tests/unit/services/trunk/rpc/test_server.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0ff7fe9a3aa98042c746133284a2b7d6210dcebb', 'message': 'Fix update of trunk subports during live migration\n\nDuring the live migration trunk subports where updated only based\non the ""host_id"" field. But when rpc message to update subports\nis send trunk\'s port is still bound to the old host and has\n""migrating_to"" field in binding:profile set to the new host.\nBecause of that binding:host_id for the subport\'s port wasn\'t updated\nproberly and port was set to DOWN on the new host.\nThat could even cause connectivity break if L2population is used in the\ncloud.\n\nThis patch fixes that by updating subport\'s binding:host_id field based\non the migrating_to field if that is available and not empty.\n\nCloses-Bug: #1914747\nChange-Id: I98e55242d381ada642ca0729e9aefdea7628c945\n(cherry picked from commit e05101c8ac953cc2823b35aaed3d499afc101988)\n'}]",0,775102,0ff7fe9a3aa98042c746133284a2b7d6210dcebb,32,3,2,11975,,,0,"Fix update of trunk subports during live migration

During the live migration trunk subports where updated only based
on the ""host_id"" field. But when rpc message to update subports
is send trunk's port is still bound to the old host and has
""migrating_to"" field in binding:profile set to the new host.
Because of that binding:host_id for the subport's port wasn't updated
proberly and port was set to DOWN on the new host.
That could even cause connectivity break if L2population is used in the
cloud.

This patch fixes that by updating subport's binding:host_id field based
on the migrating_to field if that is available and not empty.

Closes-Bug: #1914747
Change-Id: I98e55242d381ada642ca0729e9aefdea7628c945
(cherry picked from commit e05101c8ac953cc2823b35aaed3d499afc101988)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/02/775102/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/trunk/rpc/server.py', 'neutron/tests/unit/services/trunk/rpc/test_server.py']",2,342a87af1e24e042dee4260e84d817955a51c8a7,bug/1914747-stable/victoria-stable/ussuri-stable/train-stable/stein," def test_update_subport_bindings_during_migration(self): with self.port() as _parent_port: parent_port = _parent_port trunk = self._create_test_trunk(parent_port) subports = [] for vid in range(0, 3): with self.port() as new_port: obj = trunk_obj.SubPort( context=self.context, trunk_id=trunk['id'], port_id=new_port['port']['id'], segmentation_type='vlan', segmentation_id=vid) subports.append(obj) expected_calls = [ mock.call( mock.ANY, subport['port_id'], {'port': {portbindings.HOST_ID: 'new_trunk_host_id', 'device_owner': constants.TRUNK_SUBPORT_OWNER}}) for subport in subports] test_obj = server.TrunkSkeleton() test_obj._trunk_plugin = self.trunk_plugin test_obj._core_plugin = self.core_plugin port_data = { portbindings.HOST_ID: 'trunk_host_id', portbindings.PROFILE: {'migrating_to': 'new_trunk_host_id'}} with mock.patch.object( self.core_plugin, ""get_port"", return_value=port_data), \ mock.patch.object( test_obj, ""_safe_update_trunk""): test_obj.update_subport_bindings(self.context, subports=subports) for expected_call in expected_calls: self.assertIn(expected_call, self.mock_update_port.mock_calls) ",,43,0
openstack%2Fopenstack-helm~master~I5facecb2885f0373e986c62e97abad822f4047dc,openstack/openstack-helm,master,I5facecb2885f0373e986c62e97abad822f4047dc,Added post-install and post-upgrade hook for jobs in magnum,MERGED,2021-03-24 09:45:37.000000000,2021-03-30 22:24:16.000000000,2021-03-30 22:22:12.000000000,"[{'_account_id': 1004}, {'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-03-24 09:45:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b3c1428814075a8324615dcf762fcd8ef20b8b4d', 'message': 'Added post-install and post-upgrade hook for jobs in magnum\n\nChart upgrading was failing due to some immutable fields are needed to upgrade before the jobs can be upgraded. For solving this issue, we\nhave added the helm.sh/hook annotations with post-install and post-upgrade values.\nAs for hook-weight annotations, we have added these to control the flow of the jobs with hook creation as the jobs are dependent. Like,\ndb-init jobs need to run before db-sync and so on.\n\nChange-Id: I5facecb2885f0373e986c62e97abad822f4047dc\n'}, {'number': 2, 'created': '2021-03-24 10:44:00.000000000', 'files': ['magnum/templates/job-ks-user-domain.yaml', 'magnum/templates/job-ks-user.yaml', 'magnum/templates/job-rabbit-init.yaml', 'releasenotes/notes/magnum.yaml', 'magnum/Chart.yaml', 'magnum/templates/job-ks-service.yaml', 'magnum/templates/job-db-sync.yaml', 'magnum/templates/job-image-repo-sync.yaml', 'magnum/templates/job-bootstrap.yaml', 'magnum/templates/job-db-init.yaml', 'magnum/templates/job-ks-endpoints.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/040213acb0c332fe0eed308abf91c7b9666a7f6a', 'message': 'Added post-install and post-upgrade hook for jobs in magnum\n\nChart upgrading was failing due to some immutable fields are needed to upgrade before the jobs can be upgraded. For solving this issue, we\nhave added the helm.sh/hook annotations with post-install and post-upgrade values.\nAs for hook-weight annotations, we have added these to control the flow of the jobs with hook creation as the jobs are dependent. Like,\ndb-init jobs need to run before db-sync and so on.\n\nChange-Id: I5facecb2885f0373e986c62e97abad822f4047dc\n'}]",0,782678,040213acb0c332fe0eed308abf91c7b9666a7f6a,16,5,2,33130,,,0,"Added post-install and post-upgrade hook for jobs in magnum

Chart upgrading was failing due to some immutable fields are needed to upgrade before the jobs can be upgraded. For solving this issue, we
have added the helm.sh/hook annotations with post-install and post-upgrade values.
As for hook-weight annotations, we have added these to control the flow of the jobs with hook creation as the jobs are dependent. Like,
db-init jobs need to run before db-sync and so on.

Change-Id: I5facecb2885f0373e986c62e97abad822f4047dc
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/78/782678/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/templates/job-ks-user-domain.yaml', 'magnum/templates/job-ks-user.yaml', 'magnum/templates/job-rabbit-init.yaml', 'releasenotes/notes/magnum.yaml', 'magnum/Chart.yaml', 'magnum/templates/job-ks-service.yaml', 'magnum/templates/job-db-sync.yaml', 'magnum/templates/job-image-repo-sync.yaml', 'magnum/templates/job-db-init.yaml', 'magnum/templates/job-ks-endpoints.yaml']",10,b3c1428814075a8324615dcf762fcd8ef20b8b4d,magnum_annotations,"{{- define ""metadata.annotations.job.ks_endpoints"" }} helm.sh/hook: post-install,post-upgrade helm.sh/hook-weight: ""-2"" {{- end }} {{- $ksServiceJob := dict ""envAll"" . ""serviceName"" ""magnum"" ""serviceTypes"" ( tuple ""container-infra"" ) ""jobAnnotations"" (include ""metadata.annotations.job.ks_endpoints"" . | fromYaml) -}}","{{- $ksServiceJob := dict ""envAll"" . ""serviceName"" ""magnum"" ""serviceTypes"" ( tuple ""container-infra"" ) -}}",45,8
openstack%2Fhorizon~stable%2Ftrain~I938cca2902de2762a0bb8fd6f79820956a2dd37b,openstack/horizon,stable/train,I938cca2902de2762a0bb8fd6f79820956a2dd37b,Bugfix CGTS-21455 Download openrc file for subclouds,ABANDONED,2021-03-30 22:08:07.000000000,2021-03-30 22:09:34.000000000,,[],"[{'number': 1, 'created': '2021-03-30 22:08:07.000000000', 'files': ['openstack_dashboard/dashboards/project/api_access/views.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/3cd63417ca26ac8e40fdd571e7413db5428ec588', 'message': 'Bugfix CGTS-21455 Download openrc file for subclouds\n\nChange was done to allow download openrc file for subclouds(Horizon)\n\nSigned-off-by: Jose Infanzon <jose.infanzon@.windriver.com>\nChange-Id: I938cca2902de2762a0bb8fd6f79820956a2dd37b\n'}]",0,783979,3cd63417ca26ac8e40fdd571e7413db5428ec588,2,0,1,32244,,,0,"Bugfix CGTS-21455 Download openrc file for subclouds

Change was done to allow download openrc file for subclouds(Horizon)

Signed-off-by: Jose Infanzon <jose.infanzon@.windriver.com>
Change-Id: I938cca2902de2762a0bb8fd6f79820956a2dd37b
",git fetch https://review.opendev.org/openstack/horizon refs/changes/79/783979/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/api_access/views.py'],1,3cd63417ca26ac8e40fdd571e7413db5428ec588,," 'identity') 'os_endpoint_type': settings.OPENSTACK_ENDPOINT_TYPE,"," 'identity', endpoint_type='publicURL') 'os_endpoint_type': 'publicURL',",2,3
openstack%2Fpyeclib~master~I33553d9a3432d97a28e4ea685ffc7bc4fb92a340,openstack/pyeclib,master,I33553d9a3432d97a28e4ea685ffc7bc4fb92a340,Move liberasurecode-git behavior into all tox envs with compilelibs marker,MERGED,2020-09-24 04:03:54.000000000,2021-03-30 22:05:56.000000000,2021-03-30 22:05:56.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-24 04:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pyeclib/commit/dab1da73d4d25338ca7a697e9f34a9e61c943ae7', 'message': 'Use liberasurecode-src tox target in gate\n\n... instead of relying on legacy job cruft.\n\nChange-Id: I33553d9a3432d97a28e4ea685ffc7bc4fb92a340\n'}, {'number': 2, 'created': '2020-09-24 04:32:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pyeclib/commit/07ba11e7886442140151c8ad282e3818bbb63e7b', 'message': ""Use liberasurecode-git tox target in gate\n\n... instead of relying on legacy job cruft.\n\nIt may complicate cross-project dependencies, but I don't know that we\ndid that much anyways.\n\nChange-Id: I33553d9a3432d97a28e4ea685ffc7bc4fb92a340\n""}, {'number': 3, 'created': '2020-09-24 04:55:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pyeclib/commit/b30f2f8aad47ba16d9e3f210345310d964c2626d', 'message': ""Use liberasurecode-git tox target in gate\n\n... instead of relying on legacy job cruft.\n\nIt may complicate cross-project dependencies, but I don't know that we\ndid that much anyways.\n\nChange-Id: I33553d9a3432d97a28e4ea685ffc7bc4fb92a340\n""}, {'number': 4, 'created': '2020-09-24 05:37:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pyeclib/commit/07b36950e4249077047b6a9d9df5ad17aa827f2b', 'message': ""Use liberasurecode-git tox target in gate\n\n... instead of relying on legacy job cruft.\n\nIt may complicate cross-project dependencies, but I don't know that we\ndid that much anyways.\n\nChange-Id: I33553d9a3432d97a28e4ea685ffc7bc4fb92a340\n""}, {'number': 5, 'created': '2020-09-24 16:54:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pyeclib/commit/88000a01fa2180e148a2e635b9465b091693f1d9', 'message': ""Use liberasurecode-git tox target in gate\n\n... instead of relying on legacy job cruft.\n\nIt may complicate cross-project dependencies, but I don't know that we\ndid that much anyways.\n\nChange-Id: I33553d9a3432d97a28e4ea685ffc7bc4fb92a340\n""}, {'number': 6, 'created': '2020-09-24 18:47:27.000000000', 'files': ['playbooks/legacy/libec-pyeclib-unit-centos-7/run.yaml', '.zuul.yaml', 'playbooks/legacy/libec-pyeclib-unit/run.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/pyeclib/commit/f784efde006559655916b4c27a25d9dcee2b2a93', 'message': ""Move liberasurecode-git behavior into all tox envs with compilelibs marker\n\nThis should let us use that to test against master libec in the gate,\nrather than relying on legacy job cruft.\n\nIt may complicate cross-project dependencies, but I don't know that we\ndid that much anyways.\n\nAdd a job to test against master libec on centos8, as well.\n\nChange-Id: I33553d9a3432d97a28e4ea685ffc7bc4fb92a340\n""}]",0,753938,f784efde006559655916b4c27a25d9dcee2b2a93,16,2,6,15343,,,0,"Move liberasurecode-git behavior into all tox envs with compilelibs marker

This should let us use that to test against master libec in the gate,
rather than relying on legacy job cruft.

It may complicate cross-project dependencies, but I don't know that we
did that much anyways.

Add a job to test against master libec on centos8, as well.

Change-Id: I33553d9a3432d97a28e4ea685ffc7bc4fb92a340
",git fetch https://review.opendev.org/openstack/pyeclib refs/changes/38/753938/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/libec-pyeclib-unit-centos-7/run.yaml', '.zuul.yaml', 'playbooks/legacy/libec-pyeclib-unit/run.yaml']",3,dab1da73d4d25338ca7a697e9f34a9e61c943ae7,,,"- hosts: all name: Autoconverted job legacy-libec-pyeclib-unit from old job gate-libec-pyeclib-unit-ubuntu-xenial roles: - bindep tasks: - name: Ensure legacy workspace directory file: path: '{{ ansible_user_dir }}/workspace' state: directory - shell: cmd: | set -e set -x cd $WORKSPACE /usr/zuul-env/bin/zuul-cloner --cache-dir /opt/git \ https://opendev.org \ openstack/liberasurecode \ openstack/pyeclib # build libec cd openstack/liberasurecode ./autogen.sh ./configure make sudo make install sudo bash -c ""echo /usr/local/lib >> /etc/ld.so.conf"" sudo ldconfig # test pyeclib cd $WORKSPACE/openstack/pyeclib tox -e py27 executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' ",20,84
openstack%2Fbarbican~stable%2Fwallaby~I584f7b67f2f95caa7c4db3d9d9222d0a9d38442d,openstack/barbican,stable/wallaby,I584f7b67f2f95caa7c4db3d9d9222d0a9d38442d,Add ACL default to allow project read,MERGED,2021-03-30 20:26:59.000000000,2021-03-30 22:03:50.000000000,2021-03-30 22:01:42.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-30 20:26:59.000000000', 'files': ['barbican/api/controllers/__init__.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/b211dec0778053554582891867c0c836c92b4639', 'message': ""Add ACL default to allow project read\n\nAllow a project to read secrets and containers by default.  This is\nneeded when those objects have no ACL in the database.  The policy enforcer\ndefaults to False for missing values. [1]  So, attempting to check the\nread_project_access for a secret or container will always return False.\n\nIf a secret does have an ACL, we'll still return whatever is stored\nin the database.\n\n[1] https://opendev.org/openstack/oslo.policy/src/branch/master/oslo_policy/_checks.py#L335-L338\n\nChange-Id: I584f7b67f2f95caa7c4db3d9d9222d0a9d38442d\n(cherry picked from commit 672dc0b5b4de7cfd2d98e4b9040e42e18ba1a6b6)\n""}]",0,783917,b211dec0778053554582891867c0c836c92b4639,7,2,1,7973,,,0,"Add ACL default to allow project read

Allow a project to read secrets and containers by default.  This is
needed when those objects have no ACL in the database.  The policy enforcer
defaults to False for missing values. [1]  So, attempting to check the
read_project_access for a secret or container will always return False.

If a secret does have an ACL, we'll still return whatever is stored
in the database.

[1] https://opendev.org/openstack/oslo.policy/src/branch/master/oslo_policy/_checks.py#L335-L338

Change-Id: I584f7b67f2f95caa7c4db3d9d9222d0a9d38442d
(cherry picked from commit 672dc0b5b4de7cfd2d98e4b9040e42e18ba1a6b6)
",git fetch https://review.opendev.org/openstack/barbican refs/changes/17/783917/1 && git format-patch -1 --stdout FETCH_HEAD,['barbican/api/controllers/__init__.py'],1,b211dec0778053554582891867c0c836c92b4639,secure-rbac-stable/wallaby," if not co_dict: """""" The co_dict is empty when the entity (secret or container) has no acls in its acl_list. This causes any policy with ""%(target.secret.read_project_access)s"" or ""%(target.container.read_project_access)s"" to always evaluate to False. This is probelmatic because we want to allow project access by default (with additional role checks). To work around this we allow read here. When the entity has an acl, co_dict will use the value from the database, and this if statement will be skipped. """""" co_dict = {'read_project_access': True}",,17,0
openstack%2Fovn-octavia-provider~stable%2Fwallaby~Ifbd7b6210af066068a4554237e7f380536f7ac0a,openstack/ovn-octavia-provider,stable/wallaby,Ifbd7b6210af066068a4554237e7f380536f7ac0a,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-03-30 18:28:20.000000000,2021-03-30 22:02:29.000000000,2021-03-30 21:58:58.000000000,"[{'_account_id': 1131}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-30 18:28:20.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/a1bc26212ac1c0a43a4ce55eb2eed5e5cee1cb82', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ifbd7b6210af066068a4554237e7f380536f7ac0a\n'}]",0,783944,a1bc26212ac1c0a43a4ce55eb2eed5e5cee1cb82,7,2,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ifbd7b6210af066068a4554237e7f380536f7ac0a
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/44/783944/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a1bc26212ac1c0a43a4ce55eb2eed5e5cee1cb82,create-wallaby,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby},deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Fovn-octavia-provider~stable%2Fwallaby~I1d5058faf46a5c268975a92063e55b1ad5ac7a30,openstack/ovn-octavia-provider,stable/wallaby,I1d5058faf46a5c268975a92063e55b1ad5ac7a30,Update .gitreview for stable/wallaby,MERGED,2021-03-30 18:28:16.000000000,2021-03-30 22:01:00.000000000,2021-03-30 21:58:54.000000000,"[{'_account_id': 1131}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-30 18:28:16.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/83073e3b1f06ac37e88a7282ccd0ac74cc9df556', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: I1d5058faf46a5c268975a92063e55b1ad5ac7a30\n'}]",0,783943,83073e3b1f06ac37e88a7282ccd0ac74cc9df556,7,2,1,22816,,,0,"Update .gitreview for stable/wallaby

Change-Id: I1d5058faf46a5c268975a92063e55b1ad5ac7a30
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/43/783943/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,83073e3b1f06ac37e88a7282ccd0ac74cc9df556,create-wallaby,defaultbranch=stable/wallaby,,1,0
openstack%2Fovn-octavia-provider~master~Iaa02ccbfd86d0bd72f05999083f762540b9e9196,openstack/ovn-octavia-provider,master,Iaa02ccbfd86d0bd72f05999083f762540b9e9196,Update master for stable/wallaby,MERGED,2021-03-30 18:28:23.000000000,2021-03-30 22:00:58.000000000,2021-03-30 21:59:04.000000000,"[{'_account_id': 1131}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-30 18:28:23.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/b2f60738f19b22abb8b499c6c8c2d07a9a070bc2', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: Iaa02ccbfd86d0bd72f05999083f762540b9e9196\n'}]",0,783945,b2f60738f19b22abb8b499c6c8c2d07a9a070bc2,7,2,1,22816,,,0,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: Iaa02ccbfd86d0bd72f05999083f762540b9e9196
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/45/783945/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,b2f60738f19b22abb8b499c6c8c2d07a9a070bc2,reno-wallaby, wallaby,,7,0
openstack%2Fmanila~master~I49803f627c4c580b41e7408b2b7e0452f3758831,openstack/manila,master,I49803f627c4c580b41e7408b2b7e0452f3758831,Update master for stable/wallaby,MERGED,2021-03-26 18:56:31.000000000,2021-03-30 21:51:59.000000000,2021-03-30 21:49:07.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2021-03-26 18:56:31.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/1522add3aaad5a3153be17038d8bf163769552da', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: I49803f627c4c580b41e7408b2b7e0452f3758831\n'}]",0,783459,1522add3aaad5a3153be17038d8bf163769552da,13,3,1,22816,,,0,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: I49803f627c4c580b41e7408b2b7e0452f3758831
",git fetch https://review.opendev.org/openstack/manila refs/changes/59/783459/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,1522add3aaad5a3153be17038d8bf163769552da,reno-wallaby, wallaby,,7,0
openstack%2Fpython-troveclient~master~I3d34774e87fcf0fe8efb024d4e6ff80a4e3f49c6,openstack/python-troveclient,master,I3d34774e87fcf0fe8efb024d4e6ff80a4e3f49c6,"Respect endpoint, cacert and debug options",MERGED,2021-03-30 11:49:40.000000000,2021-03-30 21:51:37.000000000,2021-03-30 21:43:27.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-30 11:49:40.000000000', 'files': ['troveclient/osc/plugin.py'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/1d533778d7cdc04d6319b7d015571d7b3503b0e1', 'message': 'Respect endpoint, cacert and debug options\n\nWhen troveclient is used as a plugin for osc, it does not respect\nprovided endpoint type or cert via osc. This might result in\nCERTIFICATE_VERIFY_FAILED error with osc, but not with trove shell.\n\nChange-Id: I3d34774e87fcf0fe8efb024d4e6ff80a4e3f49c6\n'}]",0,783842,1d533778d7cdc04d6319b7d015571d7b3503b0e1,7,2,1,28619,,,0,"Respect endpoint, cacert and debug options

When troveclient is used as a plugin for osc, it does not respect
provided endpoint type or cert via osc. This might result in
CERTIFICATE_VERIFY_FAILED error with osc, but not with trove shell.

Change-Id: I3d34774e87fcf0fe8efb024d4e6ff80a4e3f49c6
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/42/783842/1 && git format-patch -1 --stdout FETCH_HEAD,['troveclient/osc/plugin.py'],1,1d533778d7cdc04d6319b7d015571d7b3503b0e1,," region_name=instance._region_name, endpoint_type=instance.interface, cacert=instance.cert, http_log_debug=instance._cli_options.debug", region_name=instance._region_name,4,1
openstack%2Ftrove~master~Iafe870e32a1b870e4025e08760c8c3ebeb67dab5,openstack/trove,master,Iafe870e32a1b870e4025e08760c8c3ebeb67dab5,Add CI job trove-tempest-postgres,MERGED,2021-03-30 00:46:19.000000000,2021-03-30 21:51:33.000000000,2021-03-30 21:43:23.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-30 00:46:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/abfbf415c8324813e8c642b64f5afb1286421958', 'message': 'Add CI job trove-tempest-postgres\n\nChange-Id: Iafe870e32a1b870e4025e08760c8c3ebeb67dab5\n'}, {'number': 2, 'created': '2021-03-30 00:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/7d7e819a5244c7b5b04976b87d8d7a1ac29c96f0', 'message': 'Add CI job trove-tempest-postgres\n\nChange-Id: Iafe870e32a1b870e4025e08760c8c3ebeb67dab5\n'}, {'number': 3, 'created': '2021-03-30 01:06:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/2a39ec1e3f103edb4538f9872e15909526ca4bf6', 'message': 'Add CI job trove-tempest-postgres\n\nChange-Id: Iafe870e32a1b870e4025e08760c8c3ebeb67dab5\n'}, {'number': 4, 'created': '2021-03-30 01:31:04.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/trove/commit/1f1a1e4ee4bc880131b76241d61903f3a72d0b40', 'message': 'Add CI job trove-tempest-postgres\n\nChange-Id: Iafe870e32a1b870e4025e08760c8c3ebeb67dab5\n'}]",0,783762,1f1a1e4ee4bc880131b76241d61903f3a72d0b40,17,2,4,6732,,,0,"Add CI job trove-tempest-postgres

Change-Id: Iafe870e32a1b870e4025e08760c8c3ebeb67dab5
",git fetch https://review.opendev.org/openstack/trove refs/changes/62/783762/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,abfbf415c8324813e8c642b64f5afb1286421958,add-job-trove-tempest-postgresx," - trove-tempest-postgres name: trove-tempest-postgres parent: devstack-tempest nodeset: trove-ubuntu-bionic timeout: 10800 required-projects: &base_required_projects - openstack/trove - openstack/trove-tempest-plugin - openstack/tempest irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^etc/.*$ - ^releasenotes/.*$ - ^trove/guestagent/(mysql.*|mariadb)/.*$ - ^trove/guestagent/strategies/replication/(mysql.*|mariadb)\.py$ vars: &base_vars tox_envlist: all tempest_concurrency: 1 devstack_localrc: TEMPEST_PLUGINS: /opt/stack/trove-tempest-plugin USE_PYTHON3: true TROVE_DATASTORE_TYPE: postgresql TROVE_DATASTORE_VERSION: 12.4 devstack_local_conf: post-config: $TROVE_CONF: DEFAULT: usage_timeout: 1800 test-config: $TEMPEST_CONFIG: database: enabled_datastores: ""postgresql"" default_datastore_versions: ""postgesql:12.4"" devstack_plugins: trove: https://opendev.org/openstack/trove.git devstack_services: etcd3: false tls-proxy: false ceilometer-acentral: false ceilometer-acompute: false ceilometer-alarm-evaluator: false ceilometer-alarm-notifier: false ceilometer-anotification: false ceilometer-api: false ceilometer-collector: false cinder: true c-sch: true c-api: true c-vol: true c-bak: false swift: true s-account: true s-container: true s-object: true s-proxy: true tempest: true tempest_test_regex: ^trove_tempest_plugin\.tests tempest_test_blacklist: '{{ ansible_user_dir }}/{{ zuul.projects[""opendev.org/openstack/trove-tempest-plugin""].src_dir }}/tempest_blacklist.txt' - job:",,62,0
openstack%2Fswift~master~I1f47b2f101fa496056de42e0f696601560bbb99e,openstack/swift,master,I1f47b2f101fa496056de42e0f696601560bbb99e,s3api: Ensure backend headers make it through s3api,ABANDONED,2020-09-01 21:59:55.000000000,2021-03-30 21:50:00.000000000,,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-01 21:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e61757bc14837b22aa0272461ad6bbea7277eeb4', 'message': ""s3api: Ensure backend headers make it through s3api\n\nThese are often used for intra-pipeline communication, such as telling\nproxy-logging which storage policy an object uses. Gatekeeper still\nstrips them out, so there's no change to clients.\n\nChange-Id: I1f47b2f101fa496056de42e0f696601560bbb99e\n""}, {'number': 2, 'created': '2020-09-02 00:13:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4f07c9bf3dd3d6ef65e06a3c1b573548abb8eaed', 'message': ""s3api: Ensure backend headers make it through s3api\n\nThese are often used for intra-pipeline communication, such as telling\nproxy-logging which storage policy an object uses. Gatekeeper still\nstrips them out, so there's no change to clients.\n\nChange-Id: I1f47b2f101fa496056de42e0f696601560bbb99e\n""}, {'number': 3, 'created': '2020-09-02 18:02:14.000000000', 'files': ['swift/common/middleware/s3api/s3response.py', 'test/unit/common/middleware/s3api/test_s3response.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/53954689ccc5d9402942a47a40425025a3a80abd', 'message': ""s3api: Ensure backend headers make it through s3api\n\nThese are often used for intra-pipeline communication, such as telling\nproxy-logging which storage policy an object uses. Gatekeeper still\nstrips them out, so there's no change to clients.\n\nChange-Id: I1f47b2f101fa496056de42e0f696601560bbb99e\n""}]",0,749401,53954689ccc5d9402942a47a40425025a3a80abd,9,3,3,15343,,,0,"s3api: Ensure backend headers make it through s3api

These are often used for intra-pipeline communication, such as telling
proxy-logging which storage policy an object uses. Gatekeeper still
strips them out, so there's no change to clients.

Change-Id: I1f47b2f101fa496056de42e0f696601560bbb99e
",git fetch https://review.opendev.org/openstack/swift refs/changes/01/749401/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/s3api/s3response.py', 'test/unit/common/middleware/s3api/test_s3response.py']",2,e61757bc14837b22aa0272461ad6bbea7277eeb4,waterfall-ec," 'X-Backend-Storage-Policy-Index': '1', 'X-Backend-Storage-Policy-Index': '1',",,11,3
openstack%2Fkolla-ansible~master~I6e7db31bf063581ba3eab51d6da1afcfa8c1337e,openstack/kolla-ansible,master,I6e7db31bf063581ba3eab51d6da1afcfa8c1337e,Use Docker healthchecks for freezer services,NEW,2020-12-06 14:35:02.000000000,2021-03-30 21:48:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-06 14:35:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b1d8af6e2ce41b2f3913132931e59fc98db6c381', 'message': ""Use Docker healthchecks for freezer services\n\nThis change enables the use of Docker healthchecks for freezer\nservices.\nfreezer_api returns a 5xx code due to the compatibility of py2\nand py3\nfreezer_scheduler doesn't listen to rabbitmq. so we use kill\ncommand to check health. refer to:[0]\n\n[0]:https://github.com/openstack/freezer/blob/master/freezer/scheduler/daemon.py#L44\n\nChange-Id: I6e7db31bf063581ba3eab51d6da1afcfa8c1337e\nImplements: blueprint container-health-check\n""}, {'number': 2, 'created': '2021-03-30 14:35:03.000000000', 'files': ['ansible/roles/freezer/defaults/main.yml', 'ansible/roles/freezer/handlers/main.yml', 'ansible/roles/freezer/tasks/check-containers.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b258fcd5d9d387e4779ab88cf83eff3ed72538c3', 'message': ""Use Docker healthchecks for freezer services\n\nThis change enables the use of Docker healthchecks for freezer\nservices.\nfreezer_api returns a 5xx code due to the compatibility of py2\nand py3\nfreezer_scheduler doesn't listen to rabbitmq.\n\nChange-Id: I6e7db31bf063581ba3eab51d6da1afcfa8c1337e\nImplements: blueprint container-health-check\n""}]",2,765684,b258fcd5d9d387e4779ab88cf83eff3ed72538c3,12,1,2,26285,,,0,"Use Docker healthchecks for freezer services

This change enables the use of Docker healthchecks for freezer
services.
freezer_api returns a 5xx code due to the compatibility of py2
and py3
freezer_scheduler doesn't listen to rabbitmq.

Change-Id: I6e7db31bf063581ba3eab51d6da1afcfa8c1337e
Implements: blueprint container-health-check
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/84/765684/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/freezer/defaults/main.yml', 'ansible/roles/freezer/handlers/main.yml', 'ansible/roles/freezer/tasks/check-containers.yml']",3,b1d8af6e2ce41b2f3913132931e59fc98db6c381,container-health-check," healthcheck: ""{{ item.value.healthcheck | default(omit) }}""",,33,0
openstack%2Freleases~master~Ibf7024f68eeb4ff35e25fa0ff55b9617de46b406,openstack/releases,master,Ibf7024f68eeb4ff35e25fa0ff55b9617de46b406,Creating stable wallaby for heat-agents,MERGED,2021-03-29 15:03:17.000000000,2021-03-30 21:24:53.000000000,2021-03-30 21:24:53.000000000,"[{'_account_id': 12404}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-29 15:03:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/75147bab998212f311f0000eb494784ab3729c54', 'message': 'Creating stable wallaby for heat-agents\n\nIf you want to wait and make another release before the branch is cut,\nsomeone from the team can -1 the patch to have it held, or update that\npatch to include another release and stable branch point.\n\nPatches with no response will be merged by Friday April 02.\n\nChange-Id: Ibf7024f68eeb4ff35e25fa0ff55b9617de46b406\n'}, {'number': 2, 'created': '2021-03-29 15:50:52.000000000', 'files': ['deliverables/wallaby/heat-agents.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/548fbc76916d71af2b542449adc1b530dfb3d11d', 'message': 'Creating stable wallaby for heat-agents\n\nIf you want to wait and make another release before the branch is cut,\nsomeone from the team can -1 the patch to have it held, or update that\npatch to include another release and stable branch point.\n\nPatches with no response will be merged by Friday April 02.\n\nChange-Id: Ibf7024f68eeb4ff35e25fa0ff55b9617de46b406\n'}]",0,783667,548fbc76916d71af2b542449adc1b530dfb3d11d,15,4,2,28522,,,0,"Creating stable wallaby for heat-agents

If you want to wait and make another release before the branch is cut,
someone from the team can -1 the patch to have it held, or update that
patch to include another release and stable branch point.

Patches with no response will be merged by Friday April 02.

Change-Id: Ibf7024f68eeb4ff35e25fa0ff55b9617de46b406
",git fetch https://review.opendev.org/openstack/releases refs/changes/67/783667/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/heat-agents.yaml'],1,75147bab998212f311f0000eb494784ab3729c54,wallaby-missing-stable-branches,branches: - name: stable/victoria location: 2.2.0,,3,0
openstack%2Fpython-tripleoclient~master~Ia5356c7deafebda49867837fb41138606eac7b1d,openstack/python-tripleoclient,master,Ia5356c7deafebda49867837fb41138606eac7b1d,Introducing TsxEnabled global config for overcloud,ABANDONED,2021-03-25 12:42:59.000000000,2021-03-30 21:21:18.000000000,,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 18575}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-03-25 12:42:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0f0788e921a5f3bca4414634b19dd0a7e3f29bba', 'message': 'Introducing TsxEnabled global config for overcloud\n\nWe need a persistent way of determining if a stack is new or to set the\nTSX flag accordingly on the computes.\n\nRelated: https://bugzilla.redhat.com/1923165\nChange-Id: Ia5356c7deafebda49867837fb41138606eac7b1d\n'}, {'number': 2, 'created': '2021-03-25 13:07:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7bf9da7d776b0186558bc708ecd25471ff0260d8', 'message': 'Introducing TsxEnabled global config for overcloud\n\nWe need a persistent way of determining if a stack is new or to set the\nTSX flag accordingly on the computes.\n\nRelated: https://bugzilla.redhat.com/1923165\nChange-Id: Ia5356c7deafebda49867837fb41138606eac7b1d\n'}, {'number': 3, 'created': '2021-03-25 15:59:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7f2958b54f518b3069aa670946a3e3896b8c232d', 'message': 'Introducing TsxEnabled global config for overcloud\n\nWe need a persistent way of determining if a stack is new or to set the\nTSX flag accordingly on the computes.\n\nRelated: https://bugzilla.redhat.com/1923165\nChange-Id: Ia5356c7deafebda49867837fb41138606eac7b1d\n'}, {'number': 4, 'created': '2021-03-29 17:29:41.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'releasenotes/notes/tsxenabled-globalconfig-flag-7ea4fe764bb0a01a.yaml', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/16c3bfd2b436f8a5080e0706a5d91b88fc60cc1b', 'message': 'Introducing TsxEnabled global config for overcloud\n\nWe need a persistent way of determining if a stack is new or to set the\nTSX flag accordingly on the computes.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Ia5356c7deafebda49867837fb41138606eac7b1d\n'}]",1,782993,16c3bfd2b436f8a5080e0706a5d91b88fc60cc1b,24,13,4,27419,,,0,"Introducing TsxEnabled global config for overcloud

We need a persistent way of determining if a stack is new or to set the
TSX flag accordingly on the computes.

Co-Authored-By: Martin Schuppert <mschuppert@redhat.com>
Related: https://bugzilla.redhat.com/1923165
Closes-Bug: #1916758
Change-Id: Ia5356c7deafebda49867837fb41138606eac7b1d
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/93/782993/3 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_deploy.py'],1,0f0788e921a5f3bca4414634b19dd0a7e3f29bba,tsx_flag_computes," tsx_enabled = ""off"" else: globalcfg = utils.get_stack_output_item(stack, 'GlobalConfig') tsx_enabled = globalcfg.get(""tsx_enabled"", ""on"") parameters[""TsxEnabled""] = tsx_enabled",,5,0
openstack%2Feslint-config-openstack~master~I921b15edda433c3e47456488da6d2bda07c34262,openstack/eslint-config-openstack,master,I921b15edda433c3e47456488da6d2bda07c34262,Fix building of the pdf documentation,MERGED,2020-09-16 12:07:54.000000000,2021-03-30 21:10:33.000000000,2021-03-30 21:10:33.000000000,"[{'_account_id': 5690}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30674}]","[{'number': 1, 'created': '2020-09-16 12:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/eslint-config-openstack/commit/10a1fe20945bd442f5a14487fc1bf8dda3aaefea', 'message': 'Fix building of the pdf documentation\n\nThe .pdf documentation could not be build without errors because the\nsource code of the documentation contained errors. In addition, there\nwere other problems:\n\n    - The readme section of the documentation was in .md format\n      instead of .rst format. As a result, the created documentation did\n      not look good.\n    - The .html documentation used deprecated oslosphinx theme instead\n      of openstackdocstheme.\n    - The /doc folder did not contain requirements.txt file.\n\nThis patch fixes the above-mentioned problems and makes sure that\nthe documentation is generated properly.\n\nChange-Id: I921b15edda433c3e47456488da6d2bda07c34262\nTask: 35462\n'}, {'number': 2, 'created': '2020-09-17 13:12:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/eslint-config-openstack/commit/0cd4f82464f6f48f26e928000b24c4be1b1050eb', 'message': 'Fix building of the pdf documentation\n\nThe .pdf documentation could not be build without errors because the\nsource code of the documentation contained errors. In addition, there\nwere other problems:\n\n    - The readme section of the documentation was in .md format\n      instead of .rst format. As a result, the created documentation did\n      not look good.\n    - The .html documentation used deprecated oslosphinx theme instead\n      of openstackdocstheme.\n    - The /doc folder did not contain requirements.txt file.\n\nThis patch fixes the above-mentioned problems and makes sure that\nthe documentation is generated properly.\n\nChange-Id: I921b15edda433c3e47456488da6d2bda07c34262\nTask: 35462\n'}, {'number': 3, 'created': '2020-09-24 09:00:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/eslint-config-openstack/commit/68a9093f99111709d1559327cea4f5e45df9a601', 'message': 'Fix building of the pdf documentation\n\nThe .pdf documentation could not be build without errors because the\nsource code of the documentation contained errors. In addition, there\nwere other problems:\n\n    - The readme section of the documentation was in .md format\n      instead of .rst format. As a result, the created documentation did\n      not look good.\n    - The .html documentation used deprecated oslosphinx theme instead\n      of openstackdocstheme.\n    - The /doc folder did not contain requirements.txt file.\n\nThis patch fixes the above-mentioned problems and makes sure that\nthe documentation is generated properly.\n\nChange-Id: I921b15edda433c3e47456488da6d2bda07c34262\nTask: 35462\n'}, {'number': 4, 'created': '2020-10-01 10:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/eslint-config-openstack/commit/ced0ff740675a8ef9d35523bc3a96fa509e3ca39', 'message': 'Fix building of the pdf documentation\n\nThe .pdf documentation could not be build without errors because the\nsource code of the documentation contained errors. In addition, there\nwere other problems:\n\n    - The readme section of the documentation was in .md format\n      instead of .rst format. As a result, the created documentation did\n      not look good.\n    - The .html documentation used deprecated oslosphinx theme instead\n      of openstackdocstheme.\n    - The /doc folder did not contain requirements.txt file.\n\nThis patch fixes the above-mentioned problems and makes sure that\nthe documentation is generated properly.\n\nChange-Id: I921b15edda433c3e47456488da6d2bda07c34262\nTask: 35462\n'}, {'number': 5, 'created': '2020-10-01 11:08:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/eslint-config-openstack/commit/43284901381ce3d7cfcf76ab3ee880f273275f41', 'message': 'Fix building of the pdf documentation\n\nThe .pdf documentation could not be build without errors because the\nsource code of the documentation contained errors. In addition, there\nwere other problems:\n\n    - The readme section of the documentation was in .md format\n      instead of .rst format. As a result, the created documentation did\n      not look good.\n    - The .html documentation used deprecated oslosphinx theme instead\n      of openstackdocstheme.\n    - The /doc folder did not contain requirements.txt file.\n\nThis patch fixes the above-mentioned problems and makes sure that\nthe documentation is generated properly.\n\nChange-Id: I921b15edda433c3e47456488da6d2bda07c34262\nTask: 35462\n'}, {'number': 6, 'created': '2020-10-01 12:08:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/eslint-config-openstack/commit/1fb5a007cea86f8f982be8b200ec94573f771fc8', 'message': 'Fix building of the pdf documentation\n\nThe .pdf documentation could not be build without errors because the\nsource code of the documentation contained errors. In addition, there\nwere other problems:\n\n    - The readme section of the documentation was in .md format\n      instead of .rst format. As a result, the created documentation did\n      not look good.\n    - The .html documentation used deprecated oslosphinx theme instead\n      of openstackdocstheme.\n    - The nodejs4-docs job was failing with an error similar to\n      the one mentioned in [1].\n\nThis patch fixes the above-mentioned problems and makes sure that\nthe documentation is generated properly.\n\n[1] https://github.com/yarnpkg/yarn/issues/6914\n\nChange-Id: I921b15edda433c3e47456488da6d2bda07c34262\nTask: 35462\n'}, {'number': 7, 'created': '2020-10-09 13:42:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/eslint-config-openstack/commit/3bef21086c56c5d3af7b0db0c1bc6de5e80b796c', 'message': 'Fix building of the pdf documentation\n\nThe .pdf documentation could not be build without errors because the\nsource code of the documentation contained errors. In addition, there\nwere other problems:\n\n    - The readme section of the documentation was in .md format\n      instead of .rst format. As a result, the created documentation did\n      not look good.\n    - The .html documentation used deprecated oslosphinx theme instead\n      of openstackdocstheme.\n\nThis patch fixes the above-mentioned problems and makes sure that\nthe documentation is generated properly.\n\nTask: 35462\nDepends-On: 757101\n\nChange-Id: I921b15edda433c3e47456488da6d2bda07c34262\n'}, {'number': 8, 'created': '2020-10-09 13:49:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/eslint-config-openstack/commit/7b168931827bfdfae86497e877609b9b8d021876', 'message': 'Fix building of the pdf documentation\n\nThe .pdf documentation could not be build without errors because the\nsource code of the documentation contained errors. In addition, there\nwere other problems:\n\n    - The readme section of the documentation was in .md format\n      instead of .rst format. As a result, the created documentation did\n      not look good.\n    - The .html documentation used deprecated oslosphinx theme instead\n      of openstackdocstheme.\n\nThis patch fixes the above-mentioned problems and makes sure that\nthe documentation is generated properly.\n\nTask: 35462\nDepends-On: https://review.opendev.org/757101\n\nChange-Id: I921b15edda433c3e47456488da6d2bda07c34262\n'}, {'number': 9, 'created': '2020-10-09 13:58:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/eslint-config-openstack/commit/3ea273861943e3fd8541d935e34aadc6b80f29a1', 'message': 'Fix building of the pdf documentation\n\nThe .pdf documentation could not be build without errors because the\nsource code of the documentation contained errors. In addition, there\nwere other problems:\n\n    - The readme section of the documentation was in .md format\n      instead of .rst format. As a result, the created documentation did\n      not look good.\n    - The .html documentation used deprecated oslosphinx theme instead\n      of openstackdocstheme.\n\nThis patch fixes the above-mentioned problems and makes sure that\nthe documentation is generated properly.\n\nTask: 35462\nDepends-On: I738b833109e4caeb58bb391d79d6e63284462bd8\nChange-Id: I921b15edda433c3e47456488da6d2bda07c34262\n'}, {'number': 10, 'created': '2021-02-16 09:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/eslint-config-openstack/commit/aa56a82699b1811ea361eeb4f7566701ae965d7a', 'message': 'Fix building of the pdf documentation\n\nThe .pdf documentation could not be build without errors because the\nsource code of the documentation contained errors. In addition, there\nwere other problems:\n\n    - The readme section of the documentation was in .md format\n      instead of .rst format. As a result, the created documentation did\n      not look good.\n    - The .html documentation used deprecated oslosphinx theme instead\n      of openstackdocstheme.\n\nThis patch fixes the above-mentioned problems and makes sure that\nthe documentation is generated properly.\n\nTask: 35462\nDepends-On: I738b833109e4caeb58bb391d79d6e63284462bd8\nChange-Id: I921b15edda433c3e47456488da6d2bda07c34262\n'}, {'number': 11, 'created': '2021-02-16 09:39:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/eslint-config-openstack/commit/46ef007357a09cda2470ee01a103f5ad91adca5f', 'message': 'Fix building of the pdf documentation\n\nThe .pdf documentation could not be build without errors because the\nsource code of the documentation contained errors. In addition, there\nwere other problems:\n\n    - The readme section of the documentation was in .md format\n      instead of .rst format. As a result, the created documentation did\n      not look good.\n    - The .html documentation used deprecated oslosphinx theme instead\n      of openstackdocstheme.\n\nThis patch fixes the above-mentioned problems and makes sure that\nthe documentation is generated properly.\n\nAlso, this patch updates nodejs4-docs to nodejs10-docs because the\nnodejs4-docs was using deprecated nodejs-npm-run-docs job [1].\n\n[1] https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/757101\n\nTask: 35462\nDepends-On: I738b833109e4caeb58bb391d79d6e63284462bd8\nChange-Id: I921b15edda433c3e47456488da6d2bda07c34262\n'}, {'number': 12, 'created': '2021-02-16 14:42:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/eslint-config-openstack/commit/789759f134cd2b4123e64da8a026538d235b6013', 'message': 'Fix building of the pdf documentation\n\nThe .pdf documentation could not be build without errors because the\nsource code of the documentation contained errors. In addition, there\nwere other problems:\n\n    - The readme section of the documentation was in .md format\n      instead of .rst format. As a result, the created documentation did\n      not look good.\n    - The .html documentation used deprecated oslosphinx theme instead\n      of openstackdocstheme.\n\nThis patch fixes the above-mentioned problems and makes sure that\nthe documentation is generated properly.\n\nAlso, this patch updates nodejs4-docs to nodejs10-docs because the\nnodejs4-docs was using deprecated nodejs-npm-run-docs job [1].\n\n[1] https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/757101\n\nTask: 35462\nDepends-On: I738b833109e4caeb58bb391d79d6e63284462bd8\nChange-Id: I921b15edda433c3e47456488da6d2bda07c34262\n'}, {'number': 13, 'created': '2021-02-16 15:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/eslint-config-openstack/commit/b84ddfe4a4a1cf72c8c966b5fc63509f06e14d56', 'message': 'Fix building of the pdf documentation\n\nThe .pdf documentation could not be build without errors because the\nsource code of the documentation contained errors. In addition, there\nwere other problems:\n\n    - The readme section of the documentation was in .md format\n      instead of .rst format. As a result, the created documentation did\n      not look good.\n    - The .html documentation used deprecated oslosphinx theme instead\n      of openstackdocstheme.\n\nThis patch fixes the above-mentioned problems and makes sure that\nthe documentation is generated properly.\n\nAlso, this patch updates nodejs4-docs to nodejs10-docs because the\nnodejs4-docs was using deprecated nodejs-npm-run-docs job [1].\n\n[1] https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/757101\n\nTask: 35462\nDepends-On: I738b833109e4caeb58bb391d79d6e63284462bd8\nChange-Id: I921b15edda433c3e47456488da6d2bda07c34262\n'}, {'number': 14, 'created': '2021-02-16 15:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/eslint-config-openstack/commit/18a814555f2082f219e9ffe8ec17dac924dfce46', 'message': 'Fix building of the pdf documentation\n\nThe .pdf documentation could not be build without errors because the\nsource code of the documentation contained errors. In addition, there\nwere other problems:\n\n    - The readme section of the documentation was in .md format\n      instead of .rst format. As a result, the created documentation did\n      not look good.\n    - The .html documentation used deprecated oslosphinx theme instead\n      of openstackdocstheme.\n\nThis patch fixes the above-mentioned problems and makes sure that\nthe documentation is generated properly.\n\nAlso, this patch updates nodejs4-docs to nodejs10-docs because the\nnodejs4-docs was using deprecated nodejs-npm-run-docs job [1].\n\n[1] https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/757101\n\nTask: 35462\nDepends-On: I738b833109e4caeb58bb391d79d6e63284462bd8\nChange-Id: I921b15edda433c3e47456488da6d2bda07c34262\n'}, {'number': 15, 'created': '2021-03-30 08:25:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/eslint-config-openstack/commit/416af2160842135b3cfc490cc0f8066743de9461', 'message': 'Fix building of the pdf documentation\n\nThe .pdf documentation could not be build without errors because the\nsource code of the documentation contained errors. In addition, there\nwere other problems:\n\n    - The readme section of the documentation was in .md format\n      instead of .rst format. As a result, the created documentation did\n      not look good.\n    - The .html documentation used deprecated oslosphinx theme instead\n      of openstackdocstheme.\n\nThis patch fixes the above-mentioned problems and makes sure that\nthe documentation is generated properly.\n\nAlso, this patch updates nodejs4-docs to nodejs10-docs because the\nnodejs4-docs was using deprecated nodejs-npm-run-docs job [1].\n\n[1] https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/757101\n\nTask: 35462\nDepends-On: I738b833109e4caeb58bb391d79d6e63284462bd8\nChange-Id: I921b15edda433c3e47456488da6d2bda07c34262\n'}, {'number': 16, 'created': '2021-03-30 09:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/eslint-config-openstack/commit/3900bc09385eb6b0e5a5f4659db355a9c2e7d664', 'message': 'Fix building of the pdf documentation\n\nThe .pdf documentation could not be build without errors because the\nsource code of the documentation contained errors. In addition, there\nwere other problems:\n\n    - The readme section of the documentation was in .md format\n      instead of .rst format. As a result, the created documentation did\n      not look good.\n    - The .html documentation used deprecated oslosphinx theme instead\n      of openstackdocstheme.\n\nThis patch fixes the above-mentioned problems and makes sure that\nthe documentation is generated properly.\n\nAlso, this patch updates nodejs4-docs to nodejs10-docs because the\nnodejs4-docs was using deprecated nodejs-npm-run-docs job [1].\n\n[1] https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/757101\n\nTask: 35462\nDepends-On: I738b833109e4caeb58bb391d79d6e63284462bd8\nChange-Id: I921b15edda433c3e47456488da6d2bda07c34262\n'}, {'number': 17, 'created': '2021-03-30 10:54:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/eslint-config-openstack/commit/3b742777ed87778ba436dce40e048a1aa02e4005', 'message': 'Fix building of the pdf documentation\n\nThe .pdf documentation could not be build without errors because the\nsource code of the documentation contained errors. In addition, there\nwere other problems:\n\n    - The readme section of the documentation was in .md format\n      instead of .rst format. As a result, the created documentation did\n      not look good.\n    - The .html documentation used deprecated oslosphinx theme instead\n      of openstackdocstheme.\n\nThis patch fixes the above-mentioned problems and makes sure that\nthe documentation is generated properly.\n\nAlso, this patch updates nodejs4-docs to nodejs10-docs because the\nnodejs4-docs was using deprecated nodejs-npm-run-docs job [1].\n\n[1] https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/757101\n\nTask: 35462\nDepends-On: I738b833109e4caeb58bb391d79d6e63284462bd8\nChange-Id: I921b15edda433c3e47456488da6d2bda07c34262\n'}, {'number': 18, 'created': '2021-03-30 11:18:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/eslint-config-openstack/commit/41c0b096d7e5455b4054898e96f31e08f80efa9b', 'message': 'Fix building of the pdf documentation\n\nThe .pdf documentation could not be build without errors because the\nsource code of the documentation contained errors. In addition, there\nwere other problems:\n\n    - The readme section of the documentation was in .md format\n      instead of .rst format. As a result, the created documentation did\n      not look good.\n    - The .html documentation used deprecated oslosphinx theme instead\n      of openstackdocstheme.\n\nThis patch fixes the above-mentioned problems and makes sure that\nthe documentation is generated properly.\n\nAlso, this patch updates nodejs4-docs to nodejs10-docs because the\nnodejs4-docs was using deprecated nodejs-npm-run-docs job [1].\n\n[1] https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/757101\n\nTask: 35462\nDepends-On: I738b833109e4caeb58bb391d79d6e63284462bd8\nChange-Id: I921b15edda433c3e47456488da6d2bda07c34262\n'}, {'number': 19, 'created': '2021-03-30 11:31:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/eslint-config-openstack/commit/4bcfddc415af893c3a594af7bf4fe8595c14278d', 'message': 'Fix building of the pdf documentation\n\nThe .pdf documentation could not be build without errors because the\nsource code of the documentation contained errors. In addition, there\nwere other problems:\n\n    - The readme section of the documentation was in .md format\n      instead of .rst format. As a result, the created documentation did\n      not look good.\n    - The .html documentation used deprecated oslosphinx theme instead\n      of openstackdocstheme.\n\nThis patch fixes the above-mentioned problems and makes sure that\nthe documentation is generated properly.\n\nAlso, this patch updates nodejs4-docs to nodejs10-docs because the\nnodejs4-docs was using deprecated nodejs-npm-run-docs job [1].\n\n[1] https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/757101\n\nTask: 35462\nDepends-On: I738b833109e4caeb58bb391d79d6e63284462bd8\nChange-Id: I921b15edda433c3e47456488da6d2bda07c34262\n'}, {'number': 20, 'created': '2021-03-30 11:45:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/eslint-config-openstack/commit/0992497f91226c7b7f19c65ef847dce1808e3124', 'message': 'Fix building of the pdf documentation\n\nThe .pdf documentation could not be build without errors because the\nsource code of the documentation contained errors. In addition, there\nwere other problems:\n\n    - The readme section of the documentation was in .md format\n      instead of .rst format. As a result, the created documentation did\n      not look good.\n    - The .html documentation used deprecated oslosphinx theme instead\n      of openstackdocstheme.\n\nThis patch fixes the above-mentioned problems and makes sure that\nthe documentation is generated properly.\n\nAlso, this patch updates nodejs4-docs to nodejs10-docs because the\nnodejs4-docs was using deprecated nodejs-npm-run-docs job [1].\n\n[1] https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/757101\n\nTask: 35462\nDepends-On: I738b833109e4caeb58bb391d79d6e63284462bd8\nChange-Id: I921b15edda433c3e47456488da6d2bda07c34262\n'}, {'number': 21, 'created': '2021-03-30 12:13:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/eslint-config-openstack/commit/38f40affa9924d9e0d874050193cc07159dfa612', 'message': 'Fix building of the pdf documentation\n\nThe .pdf documentation could not be build without errors because the\nsource code of the documentation contained errors. In addition, there\nwere other problems:\n\n    - The readme section of the documentation was in .md format\n      instead of .rst format. As a result, the created documentation did\n      not look good.\n    - The .html documentation used deprecated oslosphinx theme instead\n      of openstackdocstheme.\n\nThis patch fixes the above-mentioned problems and makes sure that\nthe documentation is generated properly.\n\nAlso, this patch updates nodejs4-docs to nodejs10-docs because the\nnodejs4-docs was using deprecated nodejs-npm-run-docs job [1].\n\n[1] https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/757101\n\nTask: 35462\nDepends-On: I738b833109e4caeb58bb391d79d6e63284462bd8\nChange-Id: I921b15edda433c3e47456488da6d2bda07c34262\n'}, {'number': 22, 'created': '2021-03-30 12:31:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/eslint-config-openstack/commit/eea1a20e342bc63cd9cef1e8c07d403ff362822e', 'message': 'Fix building of the pdf documentation\n\nThe .pdf documentation could not be build without errors because the\nsource code of the documentation contained errors. In addition, there\nwere other problems:\n\n    - The readme section of the documentation was in .md format\n      instead of .rst format. As a result, the created documentation did\n      not look good.\n    - The .html documentation used deprecated oslosphinx theme instead\n      of openstackdocstheme.\n\nThis patch fixes the above-mentioned problems and makes sure that\nthe documentation is generated properly.\n\nAlso, this patch updates nodejs4-docs to nodejs10-docs because the\nnodejs4-docs was using deprecated nodejs-npm-run-docs job [1].\n\n[1] https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/757101\n\nTask: 35462\nDepends-On: I738b833109e4caeb58bb391d79d6e63284462bd8\nChange-Id: I921b15edda433c3e47456488da6d2bda07c34262\n'}, {'number': 23, 'created': '2021-03-30 12:42:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/eslint-config-openstack/commit/9c2a19312499e428244fe86cfd5580899ae29ff3', 'message': 'Fix building of the pdf documentation\n\nThe .pdf documentation could not be build without errors because the\nsource code of the documentation contained errors. In addition, there\nwere other problems:\n\n    - The readme section of the documentation was in .md format\n      instead of .rst format. As a result, the created documentation did\n      not look good.\n    - The .html documentation used deprecated oslosphinx theme instead\n      of openstackdocstheme.\n\nThis patch fixes the above-mentioned problems and makes sure that\nthe documentation is generated properly.\n\nAlso, this patch updates nodejs4-docs to nodejs10-docs because the\nnodejs4-docs was using deprecated nodejs-npm-run-docs job [1].\n\n[1] https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/757101\n\nTask: 35462\nDepends-On: I738b833109e4caeb58bb391d79d6e63284462bd8\nChange-Id: I921b15edda433c3e47456488da6d2bda07c34262\n'}, {'number': 24, 'created': '2021-03-30 13:04:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/eslint-config-openstack/commit/3dc1531062bf443ea9313b0b682df2a6191c725e', 'message': 'Fix building of the pdf documentation\n\nThe .pdf documentation could not be build without errors because the\nsource code of the documentation contained errors. In addition, there\nwere other problems:\n\n    - The readme section of the documentation was in .md format\n      instead of .rst format. As a result, the created documentation did\n      not look good.\n    - The .html documentation used deprecated oslosphinx theme instead\n      of openstackdocstheme.\n\nThis patch fixes the above-mentioned problems and makes sure that\nthe documentation is generated properly.\n\nAlso, this patch updates nodejs4-docs to nodejs10-docs because the\nnodejs4-docs was using deprecated nodejs-npm-run-docs job [1].\n\n[1] https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/757101\n\nTask: 35462\nDepends-On: I738b833109e4caeb58bb391d79d6e63284462bd8\nChange-Id: I921b15edda433c3e47456488da6d2bda07c34262\n'}, {'number': 25, 'created': '2021-03-30 13:33:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/eslint-config-openstack/commit/d5927c4836c5d2ecf3d5629dc851e998ec363cd7', 'message': 'Fix building of the pdf documentation\n\nThe .pdf documentation could not be build without errors because the\nsource code of the documentation contained errors. In addition, there\nwere other problems:\n\n    - The readme section of the documentation was in .md format\n      instead of .rst format. As a result, the created documentation did\n      not look good.\n    - The .html documentation used deprecated oslosphinx theme instead\n      of openstackdocstheme.\n\nThis patch fixes the above-mentioned problems and makes sure that\nthe documentation is generated properly.\n\nAlso, this patch updates nodejs4-docs to nodejs10-docs because the\nnodejs4-docs was using deprecated nodejs-npm-run-docs job [1].\n\n[1] https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/757101\n\nTask: 35462\nDepends-On: I738b833109e4caeb58bb391d79d6e63284462bd8\nChange-Id: I921b15edda433c3e47456488da6d2bda07c34262\n'}, {'number': 26, 'created': '2021-03-30 13:43:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/eslint-config-openstack/commit/370e15728a1067a1c62ae4fe920647999582dff9', 'message': 'Fix building of the pdf documentation\n\nThe .pdf documentation could not be build without errors because the\nsource code of the documentation contained errors. In addition, there\nwere other problems:\n\n    - The readme section of the documentation was in .md format\n      instead of .rst format. As a result, the created documentation did\n      not look good.\n    - The .html documentation used deprecated oslosphinx theme instead\n      of openstackdocstheme.\n\nThis patch fixes the above-mentioned problems and makes sure that\nthe documentation is generated properly.\n\nAlso, this patch updates nodejs4-docs to nodejs10-docs because the\nnodejs4-docs was using deprecated nodejs-npm-run-docs job [1].\n\n[1] https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/757101\n\nTask: 35462\nDepends-On: I738b833109e4caeb58bb391d79d6e63284462bd8\nChange-Id: I921b15edda433c3e47456488da6d2bda07c34262\n'}, {'number': 27, 'created': '2021-03-30 13:54:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/eslint-config-openstack/commit/2c4c7fd636ed0f0f0ab30280dc744333fc82b17c', 'message': 'Fix building of the pdf documentation\n\nThe .pdf documentation could not be build without errors because the\nsource code of the documentation contained errors. In addition, there\nwere other problems:\n\n    - The readme section of the documentation was in .md format\n      instead of .rst format. As a result, the created documentation did\n      not look good.\n    - The .html documentation used deprecated oslosphinx theme instead\n      of openstackdocstheme.\n\nThis patch fixes the above-mentioned problems and makes sure that\nthe documentation is generated properly.\n\nAlso, this patch updates nodejs4-docs to nodejs10-docs because the\nnodejs4-docs was using deprecated nodejs-npm-run-docs job [1].\n\n[1] https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/757101\n\nTask: 35462\nDepends-On: I738b833109e4caeb58bb391d79d6e63284462bd8\nChange-Id: I921b15edda433c3e47456488da6d2bda07c34262\n'}, {'number': 28, 'created': '2021-03-30 14:42:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/eslint-config-openstack/commit/53ae03ffec066583c9a448c0282f267a06fe562a', 'message': 'Fix building of the pdf documentation\n\nThe .pdf documentation could not be build without errors because the\nsource code of the documentation contained errors. In addition, there\nwere other problems:\n\n    - The readme section of the documentation was in .md format\n      instead of .rst format. As a result, the created documentation did\n      not look good.\n    - The .html documentation used deprecated oslosphinx theme instead\n      of openstackdocstheme.\n\nThis patch fixes the above-mentioned problems and makes sure that\nthe documentation is generated properly.\n\nAlso, this patch updates nodejs4-docs to nodejs10-docs because the\nnodejs4-docs was using deprecated nodejs-npm-run-docs job [1].\n\n[1] https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/757101\n\nTask: 35462\nDepends-On: I738b833109e4caeb58bb391d79d6e63284462bd8\nChange-Id: I921b15edda433c3e47456488da6d2bda07c34262\n'}, {'number': 29, 'created': '2021-03-30 15:41:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/eslint-config-openstack/commit/90b361dd37b3be93d6f5dc51b3d379afab800cb9', 'message': 'Fix building of the pdf documentation\n\nThe .pdf documentation could not be build without errors because the\nsource code of the documentation contained errors. In addition, there\nwere other problems:\n\n    - The readme section of the documentation was in .md format\n      instead of .rst format. As a result, the created documentation did\n      not look good.\n    - The .html documentation used deprecated oslosphinx theme instead\n      of openstackdocstheme.\n\nThis patch fixes the above-mentioned problems and makes sure that\nthe documentation is generated properly.\n\nAlso, this patch updates nodejs4-docs to nodejs10-docs because the\nnodejs4-docs was using deprecated nodejs-npm-run-docs job [1].\n\n[1] https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/757101\n\nTask: 35462\nDepends-On: I738b833109e4caeb58bb391d79d6e63284462bd8\nChange-Id: I921b15edda433c3e47456488da6d2bda07c34262\n'}, {'number': 30, 'created': '2021-03-30 15:42:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/eslint-config-openstack/commit/c7c3c543c11870fb6f2e07bc176f5dc7e3691388', 'message': 'Fix building of the pdf documentation\n\nThe .pdf documentation could not be build without errors because the\nsource code of the documentation contained errors. In addition, there\nwere other problems:\n\n    - The readme section of the documentation was in .md format\n      instead of .rst format. As a result, the created documentation did\n      not look good.\n    - The .html documentation used deprecated oslosphinx theme instead\n      of openstackdocstheme.\n\nThis patch fixes the above-mentioned problems and makes sure that\nthe documentation is generated properly.\n\nAlso, this patch updates nodejs4-docs to nodejs10-docs because the\nnodejs4-docs was using deprecated nodejs-npm-run-docs job [1].\n\n[1] https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/757101\n\nTask: 35462\nDepends-On: I738b833109e4caeb58bb391d79d6e63284462bd8\nChange-Id: I921b15edda433c3e47456488da6d2bda07c34262\n'}, {'number': 31, 'created': '2021-03-30 16:20:52.000000000', 'files': ['doc/source/contributing.rst', 'bindep.txt', 'README.rst', '.zuul.yaml', 'package.json', 'doc/source/conf.py', 'doc/requirements.txt', 'doc/source/readme.rst', 'tox.ini', 'doc/source/installation.rst', 'README.md'], 'web_link': 'https://opendev.org/openstack/eslint-config-openstack/commit/3c9bc333ed891e4a4a9549aa5723f4c0f23168b9', 'message': 'Fix building of the pdf documentation\n\nThe .pdf documentation could not be build without errors because the\nsource code of the documentation contained errors. In addition, there\nwere other problems:\n\n    - The readme section of the documentation was in .md format\n      instead of .rst format. As a result, the created documentation did\n      not look good.\n    - The .html documentation used deprecated oslosphinx theme instead\n      of openstackdocstheme.\n\nThis patch fixes the above-mentioned problems and makes sure that\nthe documentation is generated properly.\n\nAlso, this patch updates nodejs4-docs to nodejs10-docs because the\nnodejs4-docs was using deprecated nodejs-npm-run-docs job [1].\n\n[1] https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/757101\n\nTask: 35462\nDepends-On: I738b833109e4caeb58bb391d79d6e63284462bd8\nChange-Id: I921b15edda433c3e47456488da6d2bda07c34262\n'}]",0,752227,3c9bc333ed891e4a4a9549aa5723f4c0f23168b9,74,5,31,30674,,,0,"Fix building of the pdf documentation

The .pdf documentation could not be build without errors because the
source code of the documentation contained errors. In addition, there
were other problems:

    - The readme section of the documentation was in .md format
      instead of .rst format. As a result, the created documentation did
      not look good.
    - The .html documentation used deprecated oslosphinx theme instead
      of openstackdocstheme.

This patch fixes the above-mentioned problems and makes sure that
the documentation is generated properly.

Also, this patch updates nodejs4-docs to nodejs10-docs because the
nodejs4-docs was using deprecated nodejs-npm-run-docs job [1].

[1] https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/757101

Task: 35462
Depends-On: I738b833109e4caeb58bb391d79d6e63284462bd8
Change-Id: I921b15edda433c3e47456488da6d2bda07c34262
",git fetch https://review.opendev.org/openstack/eslint-config-openstack refs/changes/27/752227/18 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributing.rst', 'doc/source/conf.py', 'doc/requirements.txt', 'doc/source/readme.rst', 'doc/source/installation.rst', 'README.md']",6,10a1fe20945bd442f5a14487fc1bf8dda3aaefea,feature/pdf_doc,,"# eslint-config-openstack OpenStack has a set of style guidelines for clarity. OpenStack is a very large code base, spanning dozens of git trees, with over a thousand developers contributing every 6 months. As such, common style helps developers understand code in reviews, move between projects smoothly, and overall make the code more maintainable. Even though eslint permits overriding rules on a per-project basis, it should be the goal of every project to stay as close to the common guidelines as possible. ## Installation To add these rules to your project, follow these steps. 1. `npm install --save-dev eslint eslint-config-openstack` 2. Add `extends: ""openstack""` to your `.eslintrc` yaml file. If your project is using ES2015, add `extends: ""openstack/es2015""` instead. ## Approval Policies If you would like to contribute, please follow [OpenStack's contribution guidelines](https://wiki.openstack.org/wiki/How_To_Contribute). #### Rules only land with consensus Patches that activate, deactivate, or modify rules, should only be merged if a consensus of reviewers is reached. In this case, consensus means at least five positive votes (+1 or +2), with no -1 votes. Cores may not override and/or ignore -1 votes. #### Library upgrades require two cores Patches that upgrade eslint only require two core approvers to land. These patches must add new upstream rules in a deactivated state, and delete any deprecated rules. #### Policy upgrades require all cores Updates to policies and governance on this project require +2 votes from all direct cores on the project. Core votes from the parent OpenStack QA project are optional. #### Patches should be abandoned after a month of inactivity Cores should attempt to keep the list of extant patches small and managable. As such, they should talk to any author whose patch has failed to garner the necessary support, and has experienced one month of inactivity. Reasonable notice should be given to the author before a patch is abandoned. ",13,49
openstack%2Fopenstack-manuals~master~Ib249aaa9e9b6a9c55ea7a65521477cbc9b3892ce,openstack/openstack-manuals,master,Ib249aaa9e9b6a9c55ea7a65521477cbc9b3892ce,Update site for deprecated monasca-transform & monasca-analytics,MERGED,2021-03-29 15:26:13.000000000,2021-03-30 21:03:06.000000000,2021-03-30 20:40:12.000000000,"[{'_account_id': 6547}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-03-29 15:26:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/27295cfe74761f0e23ee7e5d119b2f8b85f42c88', 'message': 'Update site for deprecated monasca-transform & monasca-analytics\n\nmonasca-transform is deprecated & monasca-analytics is retired\n- https://review.opendev.org/c/openstack/governance/+/783624/3\n- https://review.opendev.org/c/openstack/governance/+/783659/1\n\nChange-Id: Ib249aaa9e9b6a9c55ea7a65521477cbc9b3892ce\n'}, {'number': 2, 'created': '2021-03-29 15:27:15.000000000', 'files': ['tools/www-generator.py'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/5214211cb9ddf356913e23f97954bb389e1ad22c', 'message': 'Update site for deprecated monasca-transform & monasca-analytics\n\nmonasca-transform is deprecated & monasca-analytics is retired\n- https://review.opendev.org/c/openstack/governance/+/783624/3\n- https://review.opendev.org/c/openstack/governance/+/783659/1\n\nChange-Id: Ib249aaa9e9b6a9c55ea7a65521477cbc9b3892ce\n'}]",0,783670,5214211cb9ddf356913e23f97954bb389e1ad22c,9,4,2,8556,,,0,"Update site for deprecated monasca-transform & monasca-analytics

monasca-transform is deprecated & monasca-analytics is retired
- https://review.opendev.org/c/openstack/governance/+/783624/3
- https://review.opendev.org/c/openstack/governance/+/783659/1

Change-Id: Ib249aaa9e9b6a9c55ea7a65521477cbc9b3892ce
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/70/783670/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/www-generator.py'],1,27295cfe74761f0e23ee7e5d119b2f8b85f42c88,," 'monasca-analytics', 'monasca-transform',",,2,0
openstack%2Fcharm-vault~master~I405937ac60541cd008b7bbd01b3c9cdaf2ed88a8,openstack/charm-vault,master,I405937ac60541cd008b7bbd01b3c9cdaf2ed88a8,Fix missing root CA status for non-leader,MERGED,2021-03-23 18:53:19.000000000,2021-03-30 20:59:26.000000000,2021-03-30 20:59:26.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-23 18:53:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/d1ef7beab8e392e05540e7091fd2db876e3e325a', 'message': ""Fix missing root CA status for non-leader\n\nFollow-on from fix for missing root CA status which didn't properly\naccount for the non-leader when HA.\n\nChange-Id: I405937ac60541cd008b7bbd01b3c9cdaf2ed88a8\n""}, {'number': 2, 'created': '2021-03-29 21:59:19.000000000', 'files': ['unit_tests/test_reactive_vault_handlers.py', 'src/reactive/vault_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/0d32b7b32031d694610a3f4becaec234691e6443', 'message': ""Fix missing root CA status for non-leader\n\nFollow-on from fix for missing root CA status which didn't properly\naccount for the non-leader when HA.\n\nChange-Id: I405937ac60541cd008b7bbd01b3c9cdaf2ed88a8\n""}]",0,782585,0d32b7b32031d694610a3f4becaec234691e6443,15,3,2,29191,,,0,"Fix missing root CA status for non-leader

Follow-on from fix for missing root CA status which didn't properly
account for the non-leader when HA.

Change-Id: I405937ac60541cd008b7bbd01b3c9cdaf2ed88a8
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/85/782585/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_reactive_vault_handlers.py', 'src/reactive/vault_handlers.py']",2,d1ef7beab8e392e05540e7091fd2db876e3e325a,fix-non-leader-root-ca-status, is_leader = is_flag_set('leadership.is_leader') if is_leader and has_cert_reqs and not has_ca:, if has_cert_reqs and not has_ca:,7,4
openstack%2Frequirements~master~I80dcf0546a2cb56f5cbe18ff26818d5e7c49b078,openstack/requirements,master,I80dcf0546a2cb56f5cbe18ff26818d5e7c49b078,update constraint for os-brick to new release 4.3.1,MERGED,2021-03-29 15:02:48.000000000,2021-03-30 20:58:58.000000000,2021-03-29 21:06:00.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-29 15:02:48.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/82aa89872ac06b2d64584478d98a1b2d86cb2eeb', 'message': 'update constraint for os-brick to new release 4.3.1\n\nmeta: version: 4.3.1\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Brian Rosmaita <rosmaita.fossdev@gmail.com>\nmeta: release:Commit: Brian Rosmaita <rosmaita.fossdev@gmail.com>\nmeta: release:Change-Id: I7478ee71423ff22e19031560fbd505cb49f915dc\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+1: Matthew Thode <mthode@mthode.org>\nmeta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\nChange-Id: I80dcf0546a2cb56f5cbe18ff26818d5e7c49b078\n'}]",0,783666,82aa89872ac06b2d64584478d98a1b2d86cb2eeb,9,3,1,11131,,,0,"update constraint for os-brick to new release 4.3.1

meta: version: 4.3.1
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Brian Rosmaita <rosmaita.fossdev@gmail.com>
meta: release:Commit: Brian Rosmaita <rosmaita.fossdev@gmail.com>
meta: release:Change-Id: I7478ee71423ff22e19031560fbd505cb49f915dc
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+1: Matthew Thode <mthode@mthode.org>
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
Change-Id: I80dcf0546a2cb56f5cbe18ff26818d5e7c49b078
",git fetch https://review.opendev.org/openstack/requirements refs/changes/66/783666/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,82aa89872ac06b2d64584478d98a1b2d86cb2eeb,new-release,os-brick===4.3.1,os-brick===4.3.0,1,1
openstack%2Fbarbican~stable%2Fwallaby~I4a806ca1bcc8a7dd506b7121fde9cfe6fb34dcd8,openstack/barbican,stable/wallaby,I4a806ca1bcc8a7dd506b7121fde9cfe6fb34dcd8,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-03-26 10:15:55.000000000,2021-03-30 20:41:47.000000000,2021-03-30 20:40:07.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-26 10:15:55.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/barbican/commit/9c31e86828c7ee0a324de46d22ee67a3f0fcee50', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I4a806ca1bcc8a7dd506b7121fde9cfe6fb34dcd8\n'}]",0,783239,9c31e86828c7ee0a324de46d22ee67a3f0fcee50,7,2,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I4a806ca1bcc8a7dd506b7121fde9cfe6fb34dcd8
",git fetch https://review.opendev.org/openstack/barbican refs/changes/39/783239/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9c31e86828c7ee0a324de46d22ee67a3f0fcee50,create-wallaby, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},4,4
openstack%2Fbarbican~stable%2Fwallaby~I1f51e9a43a3f5a87e1caa12d65eaa3feccd4f2a0,openstack/barbican,stable/wallaby,I1f51e9a43a3f5a87e1caa12d65eaa3feccd4f2a0,Update .gitreview for stable/wallaby,MERGED,2021-03-26 10:15:52.000000000,2021-03-30 20:38:50.000000000,2021-03-30 20:37:16.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-26 10:15:52.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/barbican/commit/0e11b9c4ecc89b2af4656b67908be21abc62691e', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: I1f51e9a43a3f5a87e1caa12d65eaa3feccd4f2a0\n'}]",0,783238,0e11b9c4ecc89b2af4656b67908be21abc62691e,7,2,1,22816,,,0,"Update .gitreview for stable/wallaby

Change-Id: I1f51e9a43a3f5a87e1caa12d65eaa3feccd4f2a0
",git fetch https://review.opendev.org/openstack/barbican refs/changes/38/783238/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,0e11b9c4ecc89b2af4656b67908be21abc62691e,create-wallaby,defaultbranch=stable/wallaby,,1,0
openstack%2Ftrove-dashboard~master~Ib6a350e6f6f5a45a2536ea59639efe39c757aab5,openstack/trove-dashboard,master,Ib6a350e6f6f5a45a2536ea59639efe39c757aab5,Respect OPENSTACK_ENDPOINT_TYPE,MERGED,2021-03-30 14:06:20.000000000,2021-03-30 20:34:28.000000000,2021-03-30 20:34:28.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-30 14:06:20.000000000', 'files': ['trove_dashboard/api/trove.py'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/62cd08226b7e170e615f12f2cdc52e38351e3daf', 'message': 'Respect OPENSTACK_ENDPOINT_TYPE\n\nWe should reach endpoint type that is provided as a horizon option\nOPENSTACK_ENDPOINT_TYPE and fallback to default publicURL.\n\nChange-Id: Ib6a350e6f6f5a45a2536ea59639efe39c757aab5\n'}]",0,783882,62cd08226b7e170e615f12f2cdc52e38351e3daf,6,2,1,28619,,,0,"Respect OPENSTACK_ENDPOINT_TYPE

We should reach endpoint type that is provided as a horizon option
OPENSTACK_ENDPOINT_TYPE and fallback to default publicURL.

Change-Id: Ib6a350e6f6f5a45a2536ea59639efe39c757aab5
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/82/783882/1 && git format-patch -1 --stdout FETCH_HEAD,['trove_dashboard/api/trove.py'],1,62cd08226b7e170e615f12f2cdc52e38351e3daf,," endpoint_type = getattr(settings, 'OPENSTACK_ENDPOINT_TYPE', 'publicURL') endpoint_type=endpoint_type, endpoint_type = getattr(settings, 'OPENSTACK_ENDPOINT_TYPE', 'publicURL') endpoint_type=endpoint_type,",,4,0
openstack%2Fmanila~master~I24baaea02b7efc37b4eb9cbe75b7dfa11ac330d2,openstack/manila,master,I24baaea02b7efc37b4eb9cbe75b7dfa11ac330d2,[doc] Annotate max api microversion in Wallaby,MERGED,2021-03-29 02:07:41.000000000,2021-03-30 20:05:58.000000000,2021-03-30 00:54:02.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-29 02:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/37a825f842de2b229891599ea57e6837edb16d3d', 'message': '[doc] Annotate max api microversion in Wallaby\n\nChange-Id: I24baaea02b7efc37b4eb9cbe75b7dfa11ac330d2\n'}, {'number': 2, 'created': '2021-03-29 02:08:50.000000000', 'files': ['manila/api/openstack/rest_api_version_history.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/41192047aa7268d9ad096da72bf52ec703d1ec05', 'message': '[doc] Annotate max api microversion in Wallaby\n\nChange-Id: I24baaea02b7efc37b4eb9cbe75b7dfa11ac330d2\n'}]",0,783588,41192047aa7268d9ad096da72bf52ec703d1ec05,15,3,2,30407,,,0,"[doc] Annotate max api microversion in Wallaby

Change-Id: I24baaea02b7efc37b4eb9cbe75b7dfa11ac330d2
",git fetch https://review.opendev.org/openstack/manila refs/changes/88/783588/2 && git format-patch -1 --stdout FETCH_HEAD,['manila/api/openstack/rest_api_version_history.rst'],1,37a825f842de2b229891599ea57e6837edb16d3d,wallaby-max-microversion,2.63 (Maximum in Wallaby) --------------------------,2.63 ----,2,2
openstack%2Fpython-barbicanclient~master~I7e3266840d361e1076fd8e04017af2f59a8a3764,openstack/python-barbicanclient,master,I7e3266840d361e1076fd8e04017af2f59a8a3764,DNM: gate health check,ABANDONED,2021-03-30 15:01:23.000000000,2021-03-30 19:48:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-30 15:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/e2662251b3a23db6b9cf34b6f4c67191e7fa2b4f', 'message': 'DNM: gate health check\n\nChange-Id: I7e3266840d361e1076fd8e04017af2f59a8a3764\n'}, {'number': 2, 'created': '2021-03-30 16:01:55.000000000', 'files': ['barbicanclient/base.py', 'README.rst'], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/128f6880ce0c8bb753857c60a0877ee55cb502f0', 'message': 'DNM: gate health check\n\nChange-Id: I7e3266840d361e1076fd8e04017af2f59a8a3764\n'}]",0,783889,128f6880ce0c8bb753857c60a0877ee55cb502f0,5,1,2,7973,,,0,"DNM: gate health check

Change-Id: I7e3266840d361e1076fd8e04017af2f59a8a3764
",git fetch https://review.opendev.org/openstack/python-barbicanclient refs/changes/89/783889/2 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,e2662251b3a23db6b9cf34b6f4c67191e7fa2b4f,," >>> barbican = client.Client(session=sess, microversion='1.1')", >>> barbican = client.Client(session=sess),1,1
openstack%2Fcastellan~master~I93427a64b83f474c7c2dd45c8c200e7a3c9bc6f9,openstack/castellan,master,I93427a64b83f474c7c2dd45c8c200e7a3c9bc6f9,Simplify the reference to barbican parameters,MERGED,2021-02-03 13:56:55.000000000,2021-03-30 18:58:42.000000000,2021-03-30 18:54:00.000000000,"[{'_account_id': 7973}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-03 13:56:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/491c4b88ee2378bf5679bb213762151984006bd5', 'message': 'Simplify the reference to barbican parameters\n\n... so that we can easily identify the logics which are referring to\nconfiguration parameters.\n\nChange-Id: I93427a64b83f474c7c2dd45c8c200e7a3c9bc6f9\n'}, {'number': 2, 'created': '2021-02-03 14:00:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/37fe2aa123103c2ae2eb41fc2e3c428de34a9a78', 'message': 'Simplify the reference to barbican parameters\n\n... so that we can easily identify the logics which are referring to\nconfiguration parameters.\n\nChange-Id: I93427a64b83f474c7c2dd45c8c200e7a3c9bc6f9\n'}, {'number': 3, 'created': '2021-02-03 14:32:17.000000000', 'files': ['castellan/key_manager/barbican_key_manager.py'], 'web_link': 'https://opendev.org/openstack/castellan/commit/bfcf4b2f69a1b66994388baf9def797ef3276081', 'message': 'Simplify the reference to barbican parameters\n\n... so that we can easily identify the logics which are referring to\nconfiguration parameters.\n\nChange-Id: I93427a64b83f474c7c2dd45c8c200e7a3c9bc6f9\n'}]",2,773892,bfcf4b2f69a1b66994388baf9def797ef3276081,18,3,3,9816,,,0,"Simplify the reference to barbican parameters

... so that we can easily identify the logics which are referring to
configuration parameters.

Change-Id: I93427a64b83f474c7c2dd45c8c200e7a3c9bc6f9
",git fetch https://review.opendev.org/openstack/castellan refs/changes/92/773892/2 && git format-patch -1 --stdout FETCH_HEAD,['castellan/key_manager/barbican_key_manager.py'],1,491c4b88ee2378bf5679bb213762151984006bd5,barbican-region_name," if self.conf.barbican.barbican_endpoint: return self.conf.barbican.barbican_endpoint interface=self.conf.barbican.barbican_endpoint_type, region_name=self.conf.barbican.barbican_region_name) service_parameters = \ {'service_type': 'key-manager', 'interface': self.conf.barbican.barbican_endpoint_type, 'region_name': self.conf.barbican.barbican_region_name} if self.conf.barbican.barbican_api_version: api_version = self.conf.barbican.barbican_api_version interface=self.conf.barbican.barbican_endpoint_type, region_name=self.conf.barbican.barbican_region_name)"," barbican = self.conf.barbican if barbican.barbican_endpoint: return barbican.barbican_endpoint interface=barbican.barbican_endpoint_type, region_name=barbican.barbican_region_name) service_parameters = {'service_type': 'key-manager', 'interface': barbican.barbican_endpoint_type, 'region_name': barbican.barbican_region_name} barbican = self.conf.barbican if barbican.barbican_api_version: api_version = barbican.barbican_api_version interface=barbican.barbican_endpoint_type, region_name=barbican.barbican_region_name)",12,13
openstack%2Freleases~master~I7c731d18bc9ab6d2f18f2d4d3b298c0073fc3ee4,openstack/releases,master,I7c731d18bc9ab6d2f18f2d4d3b298c0073fc3ee4,Release ironic-inspector 10.6.0 and create stable/wallaby,MERGED,2021-03-29 15:35:02.000000000,2021-03-30 18:34:41.000000000,2021-03-30 18:34:41.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-29 15:35:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/dae8d129ab60d19e84d3256156a799a20cc23f54', 'message': 'Creating stable wallaby for ironic-inspector\n\nIf you want to wait and make another release before the branch is cut,\nsomeone from the team can -1 the patch to have it held, or update that\npatch to include another release and stable branch point.\n\nPatches with no response will be merged by Friday April 02.\n\nChange-Id: I7c731d18bc9ab6d2f18f2d4d3b298c0073fc3ee4\n'}, {'number': 2, 'created': '2021-03-30 12:48:43.000000000', 'files': ['deliverables/wallaby/ironic-inspector.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2e5faf3f62d1dafd759c8e80cfa5c6383e76fadd', 'message': 'Release ironic-inspector 10.6.0 and create stable/wallaby\n\nChange-Id: I7c731d18bc9ab6d2f18f2d4d3b298c0073fc3ee4\n'}]",0,783673,2e5faf3f62d1dafd759c8e80cfa5c6383e76fadd,11,6,2,28522,,,0,"Release ironic-inspector 10.6.0 and create stable/wallaby

Change-Id: I7c731d18bc9ab6d2f18f2d4d3b298c0073fc3ee4
",git fetch https://review.opendev.org/openstack/releases refs/changes/73/783673/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/ironic-inspector.yaml'],1,dae8d129ab60d19e84d3256156a799a20cc23f54,wallaby-missing-stable-branches, - name: stable/wallaby location: 10.5.0,,2,0
openstack%2Freleases~master~I8c0a4da9fba78d7ed635ff2669ddee3c91211332,openstack/releases,master,I8c0a4da9fba78d7ed635ff2669ddee3c91211332,Creating stable wallaby for ansible-role-lunasa-hsm,MERGED,2021-03-29 14:55:50.000000000,2021-03-30 18:34:17.000000000,2021-03-30 18:34:17.000000000,"[{'_account_id': 7973}, {'_account_id': 11561}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-29 14:55:50.000000000', 'files': ['deliverables/wallaby/ansible-role-lunasa-hsm.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a4a1ae8e096099bf7d9c1e6f80e3c9b7c2a6f548', 'message': 'Creating stable wallaby for ansible-role-lunasa-hsm\n\nIf you want to wait and make another release before the branch is cut,\nsomeone from the team can -1 the patch to have it held, or update that\npatch to include another release and stable branch point.\n\nPatches with no response will be merged by Friday April 02.\n\nChange-Id: I8c0a4da9fba78d7ed635ff2669ddee3c91211332\n'}]",0,783663,a4a1ae8e096099bf7d9c1e6f80e3c9b7c2a6f548,9,5,1,28522,,,0,"Creating stable wallaby for ansible-role-lunasa-hsm

If you want to wait and make another release before the branch is cut,
someone from the team can -1 the patch to have it held, or update that
patch to include another release and stable branch point.

Patches with no response will be merged by Friday April 02.

Change-Id: I8c0a4da9fba78d7ed635ff2669ddee3c91211332
",git fetch https://review.opendev.org/openstack/releases refs/changes/63/783663/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/ansible-role-lunasa-hsm.yaml'],1,a4a1ae8e096099bf7d9c1e6f80e3c9b7c2a6f548,wallaby-missing-stable-branches,branches: - name: stable/wallaby location: 1.1.0,,3,0
openstack%2Freleases~master~Ibfd7e7418438887e55d33b36ee793a57f15e949f,openstack/releases,master,Ibfd7e7418438887e55d33b36ee793a57f15e949f,Creating stable wallaby for horizon,MERGED,2021-03-29 15:30:09.000000000,2021-03-30 18:34:11.000000000,2021-03-30 18:34:11.000000000,"[{'_account_id': 1736}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-03-29 15:30:09.000000000', 'files': ['deliverables/wallaby/horizon.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/81910baddb830f66cc3914ca43fdb75dc148e3f7', 'message': 'Creating stable wallaby for horizon\n\nIf you want to wait and make another release before the branch is cut,\nsomeone from the team can -1 the patch to have it held, or update that\npatch to include another release and stable branch point.\n\nPatches with no response will be merged by Friday April 02.\n\nChange-Id: Ibfd7e7418438887e55d33b36ee793a57f15e949f\n'}]",0,783672,81910baddb830f66cc3914ca43fdb75dc148e3f7,10,5,1,28522,,,0,"Creating stable wallaby for horizon

If you want to wait and make another release before the branch is cut,
someone from the team can -1 the patch to have it held, or update that
patch to include another release and stable branch point.

Patches with no response will be merged by Friday April 02.

Change-Id: Ibfd7e7418438887e55d33b36ee793a57f15e949f
",git fetch https://review.opendev.org/openstack/releases refs/changes/72/783672/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/horizon.yaml'],1,81910baddb830f66cc3914ca43fdb75dc148e3f7,wallaby-missing-stable-branches,releases: - version: 19.0.0 projects: - repo: openstack/horizon hash: 7e682a2d528bcff992334d8792e33abbd57f5802 - version: 19.1.0 projects: - repo: openstack/horizon hash: ade661e50d7cb7f4ed5f88226cf86560db05f478 branches: - name: stable/wallaby location: 19.1.0,releases: - version: 19.0.0 projects: - repo: openstack/horizon hash: 7e682a2d528bcff992334d8792e33abbd57f5802 - version: 19.1.0 projects: - repo: openstack/horizon hash: ade661e50d7cb7f4ed5f88226cf86560db05f478,12,9
openstack%2Freleases~master~Id9be0bec7d5a3ad4efeb3b5f1e19eed47b789a21,openstack/releases,master,Id9be0bec7d5a3ad4efeb3b5f1e19eed47b789a21,Creating stable wallaby for ovn-octavia-provider,MERGED,2021-03-29 15:40:21.000000000,2021-03-30 18:19:14.000000000,2021-03-30 18:19:14.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-29 15:40:21.000000000', 'files': ['deliverables/wallaby/ovn-octavia-provider.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8f9f4613a14c30aacd457f61659f09ab8993f5a5', 'message': 'Creating stable wallaby for ovn-octavia-provider\n\nIf you want to wait and make another release before the branch is cut,\nsomeone from the team can -1 the patch to have it held, or update that\npatch to include another release and stable branch point.\n\nPatches with no response will be merged by Friday April 02.\n\nChange-Id: Id9be0bec7d5a3ad4efeb3b5f1e19eed47b789a21\n'}]",0,783697,8f9f4613a14c30aacd457f61659f09ab8993f5a5,10,6,1,28522,,,0,"Creating stable wallaby for ovn-octavia-provider

If you want to wait and make another release before the branch is cut,
someone from the team can -1 the patch to have it held, or update that
patch to include another release and stable branch point.

Patches with no response will be merged by Friday April 02.

Change-Id: Id9be0bec7d5a3ad4efeb3b5f1e19eed47b789a21
",git fetch https://review.opendev.org/openstack/releases refs/changes/97/783697/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/ovn-octavia-provider.yaml'],1,8f9f4613a14c30aacd457f61659f09ab8993f5a5,wallaby-missing-stable-branches,branches: - name: stable/wallaby location: 1.0.0,,3,0
openstack%2Freleases~master~I93719d091fc3f9e61cdfe0ebc48122c86ac5c896,openstack/releases,master,I93719d091fc3f9e61cdfe0ebc48122c86ac5c896,[magnum] Update cycle-highlights,MERGED,2021-03-29 11:50:02.000000000,2021-03-30 18:17:29.000000000,2021-03-30 18:17:29.000000000,"[{'_account_id': 17685}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-29 11:50:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/0a9214264f36d021da39637cab619f0c95897d27', 'message': '[magnum] Update cycle-highlights\n\nChange-Id: I93719d091fc3f9e61cdfe0ebc48122c86ac5c896\n'}, {'number': 2, 'created': '2021-03-29 12:26:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/939a1f1711dbab2cd224b641fe99bace0823d287', 'message': '[magnum] Update cycle-highlights\n\nChange-Id: I93719d091fc3f9e61cdfe0ebc48122c86ac5c896\n'}, {'number': 3, 'created': '2021-03-29 12:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/d90c937603697ef01308a87ea8d0861684b978fb', 'message': '[magnum] Update cycle-highlights\n\nChange-Id: I93719d091fc3f9e61cdfe0ebc48122c86ac5c896\n'}, {'number': 4, 'created': '2021-03-29 16:22:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/c852bcd58f52215f89f93e133ccdd784b19afa33', 'message': '[magnum] Update cycle-highlights\n\nChange-Id: I93719d091fc3f9e61cdfe0ebc48122c86ac5c896\n'}, {'number': 5, 'created': '2021-03-30 08:12:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/6f9944ef9faa18c50c6bc845ab81837419b3f69a', 'message': '[magnum] Update cycle-highlights\n\nChange-Id: I93719d091fc3f9e61cdfe0ebc48122c86ac5c896\n'}, {'number': 6, 'created': '2021-03-30 08:23:34.000000000', 'files': ['deliverables/ussuri/magnum.yaml', 'deliverables/victoria/magnum.yaml', 'deliverables/train/magnum.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8526a973644f6d9c21975f38ebe1cd56ec7ee226', 'message': '[magnum] Update cycle-highlights\n\nChange-Id: I93719d091fc3f9e61cdfe0ebc48122c86ac5c896\n'}]",4,783640,8526a973644f6d9c21975f38ebe1cd56ec7ee226,23,4,6,28022,,,0,"[magnum] Update cycle-highlights

Change-Id: I93719d091fc3f9e61cdfe0ebc48122c86ac5c896
",git fetch https://review.opendev.org/openstack/releases refs/changes/40/783640/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/wallaby/magnum.yaml', 'deliverables/ussuri/magnum.yaml', 'deliverables/victoria/magnum.yaml', 'deliverables/train/magnum.yaml']",4,0a9214264f36d021da39637cab619f0c95897d27,, - Add cinder_csi_enabled label to support out of tree Cinder CSI. - Support containerd as a runtime as an alternative to host-docker. - A new config health_polling_interval is supported to make the interval configurable. Cloud admin can totally disable the health polling by setting a negative value for the config.,,28,5
openstack%2Fpuppet-mistral~master~If408c7d2908ad182ccf9fec7851818b89b03ff92,openstack/puppet-mistral,master,If408c7d2908ad182ccf9fec7851818b89b03ff92,Drop the tripleo-puppet-undercloud job,MERGED,2021-03-26 06:32:31.000000000,2021-03-30 17:54:47.000000000,2021-03-30 17:54:47.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-26 06:32:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/cd48afdef3dbe944171400492edc171939059ff4', 'message': 'Do not run tripleo-puppet-undercloud jobs\n\n... because Mistral is no longer enabled in Undercloud by default.\n\nChange-Id: If408c7d2908ad182ccf9fec7851818b89b03ff92\n'}, {'number': 2, 'created': '2021-03-26 06:33:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/591199e64354c1fbc223a73da01bbb385ae2f81a', 'message': 'Do not run tripleo-puppet-undercloud jobs\n\n... because Mistral is no longer enabled in Undercloud by default.\n\nChange-Id: If408c7d2908ad182ccf9fec7851818b89b03ff92\n'}, {'number': 3, 'created': '2021-03-26 06:37:42.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/63421e2ae688b3b0d9a7b5d15029c203ba806005', 'message': 'Drop the tripleo-puppet-undercloud job\n\n... because Mistral is no longer enabled in Undercloud by default.\n\nChange-Id: If408c7d2908ad182ccf9fec7851818b89b03ff92\n'}]",0,783189,63421e2ae688b3b0d9a7b5d15029c203ba806005,9,3,3,9816,,,0,"Drop the tripleo-puppet-undercloud job

... because Mistral is no longer enabled in Undercloud by default.

Change-Id: If408c7d2908ad182ccf9fec7851818b89b03ff92
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/89/783189/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,cd48afdef3dbe944171400492edc171939059ff4,tripleo-undercloud,, - tripleo-puppet-undercloud,0,1
openstack%2Fopenstack-tempest-skiplist~master~I3f5b9fd5296f431739a42c76143f7c0ec4f468f5,openstack/openstack-tempest-skiplist,master,I3f5b9fd5296f431739a42c76143f7c0ec4f468f5,skip .FloatingIpTestCasesAdmin.test_two_vms_fips,MERGED,2021-03-30 15:01:35.000000000,2021-03-30 17:46:03.000000000,2021-03-30 17:44:27.000000000,"[{'_account_id': 9592}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-30 15:01:35.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/3350987725616ff0f625ee15288b456381709638', 'message': 'skip .FloatingIpTestCasesAdmin.test_two_vms_fips\n\nRelated-Bug: #1921918\nChange-Id: I3f5b9fd5296f431739a42c76143f7c0ec4f468f5\n'}]",0,783890,3350987725616ff0f625ee15288b456381709638,7,2,1,9592,,,0,"skip .FloatingIpTestCasesAdmin.test_two_vms_fips

Related-Bug: #1921918
Change-Id: I3f5b9fd5296f431739a42c76143f7c0ec4f468f5
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/90/783890/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,3350987725616ff0f625ee15288b456381709638,, - test: neutron_tempest_plugin.scenario.admin.test_floatingip.FloatingIpTestCasesAdmin.test_two_vms_fips deployment: - overcloud releases: - name: train reason: Connection to the hypervisor is broken on host lp: https://bugs.launchpad.net/tripleo/+bug/1921918 jobs: - periodic-tripleo-ci-centos-8-ovb-1ctlr_2comp-featureset020-train,,9,0
openstack%2Fneutron~master~I0970acf02f1e8c51bf4f838ce8c3b4986d9d8f3c,openstack/neutron,master,I0970acf02f1e8c51bf4f838ce8c3b4986d9d8f3c,[DNM] Please ignore: forcing jobs to use specific ovs idl changes,ABANDONED,2021-03-04 00:00:06.000000000,2021-03-30 17:45:26.000000000,,"[{'_account_id': 11952}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-04 00:00:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3806581c25fae309a3b7978be3d0f36ce9eca549', 'message': '[DNM] Please ignore: forcing jobs to use specific ovs idl changes\n\nChange-Id: I0970acf02f1e8c51bf4f838ce8c3b4986d9d8f3c\n'}, {'number': 2, 'created': '2021-03-05 10:25:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e109b8ae3c919fd8e229e68e5aed3ae4aa5955bb', 'message': '[DNM] Please ignore: forcing jobs to use specific ovs idl changes\n\nChange-Id: I0970acf02f1e8c51bf4f838ce8c3b4986d9d8f3c\n'}, {'number': 3, 'created': '2021-03-05 16:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f13005fb1c466dd117020393fe6346db86d5a966', 'message': '[DNM] Please ignore: forcing jobs to use specific ovs idl changes\n\nChange-Id: I0970acf02f1e8c51bf4f838ce8c3b4986d9d8f3c\n'}, {'number': 4, 'created': '2021-03-05 16:49:59.000000000', 'files': ['zuul.d/tempest-multinode.yaml', 'zuul.d/tempest-singlenode.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1f0fe59fb2b98a0ecdba49fd5e09d97639ed8ce5', 'message': '[DNM] Please ignore: forcing jobs to use specific ovs idl changes\n\nref: https://review.opendev.org/c/openstack/neutron/+/763403\n\nTrigger with:\nrecheck experimental\n\nChange-Id: I0970acf02f1e8c51bf4f838ce8c3b4986d9d8f3c\n'}]",0,778595,1f0fe59fb2b98a0ecdba49fd5e09d97639ed8ce5,15,2,4,11952,,,0,"[DNM] Please ignore: forcing jobs to use specific ovs idl changes

ref: https://review.opendev.org/c/openstack/neutron/+/763403

Trigger with:
recheck experimental

Change-Id: I0970acf02f1e8c51bf4f838ce8c3b4986d9d8f3c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/95/778595/4 && git format-patch -1 --stdout FETCH_HEAD,"['tools/configure_for_func_testing.sh', 'zuul.d/base.yaml']",2,3806581c25fae309a3b7978be3d0f36ce9eca549,, OVN_BRANCH: master OVS_BRANCH: terry.idl.fix OVS_REPO: https://github.com/flavio-fernandes/ovs.git OVN_BRANCH: master OVS_BRANCH: terry.idl.fix OVS_REPO: https://github.com/flavio-fernandes/ovs.git BUILD_OVS_FROM_SOURCE: true," OVN_BRANCH: v20.06.1 # TODO(jlibosva): v2.13.1 is incompatible with kernel 4.15.0-118, sticking to commit hash until new v2.13 tag is created OVS_BRANCH: 0047ca3a0290f1ef954f2c76b31477cf4b9755f5",11,6
openstack%2Freleases~master~Ic28f84d77140e6a57db9cdf9f559312d763f5266,openstack/releases,master,Ic28f84d77140e6a57db9cdf9f559312d763f5266,Release cloudkitty-tempest-plugin for wallaby,MERGED,2021-03-26 15:55:18.000000000,2021-03-30 17:31:46.000000000,2021-03-30 17:31:46.000000000,"[{'_account_id': 8556}, {'_account_id': 13861}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28356}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-26 15:55:18.000000000', 'files': ['deliverables/wallaby/cloudkitty-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e5f796828839be7de2bfcb992e2bbe62eceda494', 'message': ""Release cloudkitty-tempest-plugin for wallaby\n\nThis is the automatic release for cloudkitty-tempest-plugin.\nPlease +1 if this is ready to go, or -1 if the team needs a little more\ntime. If so, please update with the new commit hash to use when ready.\n\n$ git log --oneline --no-merges 2.2.0..0044403\n72752c4 Add doc/requirements\n5f4e88b Use tempest's ServiceClients rather than Manager\n05f144b Bump hacking max version to 3.0.1\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Ic28f84d77140e6a57db9cdf9f559312d763f5266\n""}]",0,783355,e5f796828839be7de2bfcb992e2bbe62eceda494,11,6,1,28522,,,0,"Release cloudkitty-tempest-plugin for wallaby

This is the automatic release for cloudkitty-tempest-plugin.
Please +1 if this is ready to go, or -1 if the team needs a little more
time. If so, please update with the new commit hash to use when ready.

$ git log --oneline --no-merges 2.2.0..0044403
72752c4 Add doc/requirements
5f4e88b Use tempest's ServiceClients rather than Manager
05f144b Bump hacking max version to 3.0.1

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Ic28f84d77140e6a57db9cdf9f559312d763f5266
",git fetch https://review.opendev.org/openstack/releases refs/changes/55/783355/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/cloudkitty-tempest-plugin.yaml'],1,e5f796828839be7de2bfcb992e2bbe62eceda494,wallaby-c-a, - version: 2.3.0 projects: - repo: openstack/cloudkitty-tempest-plugin hash: 0044403c8a90bbb2386bd3b00c07a3aa5cd53c46,,4,0
openstack%2Fcastellan~master~If2c0055d45922937e259a8f22f5879c9faa41e35,openstack/castellan,master,If2c0055d45922937e259a8f22f5879c9faa41e35,Allow specifying region of barbican endpoint,MERGED,2021-01-23 03:27:02.000000000,2021-03-30 17:23:06.000000000,2021-03-30 17:21:40.000000000,"[{'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 10873}, {'_account_id': 14826}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2021-01-23 03:27:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/b07ca566f387914326eb00eb3b67eac96ae4e058', 'message': 'Allow specifying region of barbican endpoint\n\nThis change introduces a new option to define the region to which\nthe Barbican endpoint belongs. This is required if the deployment has\nmultiple region and a single instance stores multiple Barbican\nendpoints for different regions.\nThis change also ensures that the same interface and region are used\nin endpoint detection and api version detection.\n\nChange-Id: If2c0055d45922937e259a8f22f5879c9faa41e35\n'}, {'number': 2, 'created': '2021-01-23 03:27:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/55cc35e7d815b26034d56ff77bfab1e9f7a67ece', 'message': 'Allow specifying region of barbican endpoint\n\nThis change introduces a new option to define the region to which\nthe Barbican endpoint belongs. This is required if the deployment has\nmultiple regions and a single Keystone instance stores multiple\nBarbican endpoints for different regions.\nThis change also ensures that the same interface and region are used\nin endpoint detection and api version detection.\n\nChange-Id: If2c0055d45922937e259a8f22f5879c9faa41e35\n'}, {'number': 3, 'created': '2021-01-23 10:09:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/7b09fc64e3ae8830020b0c3873f7ba1150a19b00', 'message': 'Allow specifying region of barbican endpoint\n\nThis change introduces a new option to define the region to which\nthe Barbican endpoint belongs. This is required if the deployment has\nmultiple regions and a single Keystone instance stores multiple\nBarbican endpoints for different regions.\nThis change also ensures that the same interface and region are used\nin endpoint detection and api version detection.\n\nChange-Id: If2c0055d45922937e259a8f22f5879c9faa41e35\n'}, {'number': 4, 'created': '2021-02-03 12:11:20.000000000', 'files': ['castellan/tests/unit/key_manager/test_barbican_key_manager.py', 'releasenotes/notes/use-barbican-region-name-config-option-31bec809292302b8.yaml', 'castellan/key_manager/barbican_key_manager.py'], 'web_link': 'https://opendev.org/openstack/castellan/commit/8c483411697065e8708f1c36fdd1c877d70aae0b', 'message': 'Allow specifying region of barbican endpoint\n\nThis change introduces a new option to define the region to which\nthe Barbican endpoint belongs. This is required if the deployment has\nmultiple regions and a single Keystone instance stores multiple\nBarbican endpoints for different regions.\nThis change also ensures that the same interface and region are used\nin endpoint detection and api version detection.\n\nChange-Id: If2c0055d45922937e259a8f22f5879c9faa41e35\n'}]",9,772144,8c483411697065e8708f1c36fdd1c877d70aae0b,29,7,4,9816,,,0,"Allow specifying region of barbican endpoint

This change introduces a new option to define the region to which
the Barbican endpoint belongs. This is required if the deployment has
multiple regions and a single Keystone instance stores multiple
Barbican endpoints for different regions.
This change also ensures that the same interface and region are used
in endpoint detection and api version detection.

Change-Id: If2c0055d45922937e259a8f22f5879c9faa41e35
",git fetch https://review.opendev.org/openstack/castellan refs/changes/44/772144/1 && git format-patch -1 --stdout FETCH_HEAD,"['castellan/tests/unit/key_manager/test_barbican_key_manager.py', 'releasenotes/notes/use-barbican-region-name-config-option-31bec809292302b8.yaml', 'castellan/key_manager/barbican_key_manager.py']",3,b07ca566f387914326eb00eb3b67eac96ae4e058,barbican-region_name," cfg.StrOpt('barbican_region_name', default=None, help='Specifies the region of endpoint.'), interface=barbican.barbican_endpoint_type, region_name=barbican.barbican_region_name) 'interface': barbican.barbican_endpoint_type, 'region_name': barbican.barbican_region_name} barbican = self.conf.barbican if barbican.barbican_api_version: service_type='key-manager', interface=barbican.barbican_endpoint_type, region_name=barbican.barbican_region_name)", interface=barbican.barbican_endpoint_type) 'interface': barbican.barbican_endpoint_type} if self.conf.barbican.barbican_api_version: service_type='key-manager'),150,5
openstack%2Fpuppet-swift~master~Iffa9e9437b049b63078a32b1c2d668f1b4c68f15,openstack/puppet-swift,master,Iffa9e9437b049b63078a32b1c2d668f1b4c68f15,metadata.json: debian 11.,MERGED,2021-03-25 20:06:55.000000000,2021-03-30 16:37:49.000000000,2021-03-30 16:37:49.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-03-25 20:06:55.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/57e68dac3a26d716a85b1ff2797a4d30f2167dff', 'message': 'metadata.json: debian 11.\n\nChange-Id: Iffa9e9437b049b63078a32b1c2d668f1b4c68f15\n'}]",0,783092,57e68dac3a26d716a85b1ff2797a4d30f2167dff,8,4,1,6476,,,0,"metadata.json: debian 11.

Change-Id: Iffa9e9437b049b63078a32b1c2d668f1b4c68f15
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/92/783092/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,57e68dac3a26d716a85b1ff2797a4d30f2167dff,debian-metadata," ""11"""," ""10""",1,1
openstack%2Fpuppet-sahara~master~I2c28a30a3d52918e83af8cf2f15491bc071ceea2,openstack/puppet-sahara,master,I2c28a30a3d52918e83af8cf2f15491bc071ceea2,metadata.json: debian 11,MERGED,2021-03-25 20:08:41.000000000,2021-03-30 16:36:29.000000000,2021-03-30 16:36:29.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-03-25 20:08:41.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/d7817be2e7859f3d7ca74767e0c52abe7ca0de2d', 'message': 'metadata.json: debian 11\n\nChange-Id: I2c28a30a3d52918e83af8cf2f15491bc071ceea2\n'}]",0,783094,d7817be2e7859f3d7ca74767e0c52abe7ca0de2d,8,4,1,6476,,,0,"metadata.json: debian 11

Change-Id: I2c28a30a3d52918e83af8cf2f15491bc071ceea2
",git fetch https://review.opendev.org/openstack/puppet-sahara refs/changes/94/783094/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,d7817be2e7859f3d7ca74767e0c52abe7ca0de2d,debian-metadata," ""11"""," ""10""",1,1
openstack%2Fpuppet-placement~master~I30617064436f49b1801e8fb2e1f8a3ebe2c85896,openstack/puppet-placement,master,I30617064436f49b1801e8fb2e1f8a3ebe2c85896,metadata.json: debian 11,MERGED,2021-03-25 20:09:35.000000000,2021-03-30 16:34:48.000000000,2021-03-30 16:34:48.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-03-25 20:09:35.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/96398c540a37a8a49f6577c817ab87b52813cba1', 'message': 'metadata.json: debian 11\n\nChange-Id: I30617064436f49b1801e8fb2e1f8a3ebe2c85896\n'}]",0,783095,96398c540a37a8a49f6577c817ab87b52813cba1,8,4,1,6476,,,0,"metadata.json: debian 11

Change-Id: I30617064436f49b1801e8fb2e1f8a3ebe2c85896
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/95/783095/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,96398c540a37a8a49f6577c817ab87b52813cba1,debian-metadata," ""11"""," ""10""",1,1
openstack%2Fpuppet-tempest~master~I2ea20f62f126b940329ccf4cb52e02db4e619e41,openstack/puppet-tempest,master,I2ea20f62f126b940329ccf4cb52e02db4e619e41,metadata.json: debian 11,MERGED,2021-03-25 20:07:40.000000000,2021-03-30 16:32:43.000000000,2021-03-30 16:32:43.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-03-25 20:07:40.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/60bf4117aeb9057f1ecd797e52ec3f81d349a86d', 'message': 'metadata.json: debian 11\n\nChange-Id: I2ea20f62f126b940329ccf4cb52e02db4e619e41\n'}]",0,783093,60bf4117aeb9057f1ecd797e52ec3f81d349a86d,8,4,1,6476,,,0,"metadata.json: debian 11

Change-Id: I2ea20f62f126b940329ccf4cb52e02db4e619e41
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/93/783093/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,60bf4117aeb9057f1ecd797e52ec3f81d349a86d,debian-metadata," ""11"""," ""10""",1,1
openstack%2Fpuppet-openstacklib~master~Ifbfe1d1548de7e7c7c79303b604e84d68d9455e4,openstack/puppet-openstacklib,master,Ifbfe1d1548de7e7c7c79303b604e84d68d9455e4,metadata.json: debian 11,MERGED,2021-03-25 20:12:28.000000000,2021-03-30 16:31:45.000000000,2021-03-30 16:31:45.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-03-25 20:12:28.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/31283134805769dab427837119619bcb2740a203', 'message': 'metadata.json: debian 11\n\nChange-Id: Ifbfe1d1548de7e7c7c79303b604e84d68d9455e4\n'}]",0,783099,31283134805769dab427837119619bcb2740a203,8,4,1,6476,,,0,"metadata.json: debian 11

Change-Id: Ifbfe1d1548de7e7c7c79303b604e84d68d9455e4
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/99/783099/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,31283134805769dab427837119619bcb2740a203,debian-metadata," ""11"""," ""10""",1,1
openstack%2Fpuppet-openstack_extras~master~Ia7849953b03fb5a9655576a8d08b31b2bd5d283e,openstack/puppet-openstack_extras,master,Ia7849953b03fb5a9655576a8d08b31b2bd5d283e,metadata.json: debian 11,MERGED,2021-03-25 20:13:38.000000000,2021-03-30 16:31:31.000000000,2021-03-30 16:31:31.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-03-25 20:13:38.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/488a6f9bd6e70716d0eabd29eb1e37346fe3daa0', 'message': 'metadata.json: debian 11\n\nChange-Id: Ia7849953b03fb5a9655576a8d08b31b2bd5d283e\n'}]",0,783100,488a6f9bd6e70716d0eabd29eb1e37346fe3daa0,8,4,1,6476,,,0,"metadata.json: debian 11

Change-Id: Ia7849953b03fb5a9655576a8d08b31b2bd5d283e
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/00/783100/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,488a6f9bd6e70716d0eabd29eb1e37346fe3daa0,debian-metadata," ""11"""," ""10""",1,1
openstack%2Fpuppet-panko~master~I9abd0180c6a8be4d7e4a37845d776ea5d6bee0c1,openstack/puppet-panko,master,I9abd0180c6a8be4d7e4a37845d776ea5d6bee0c1,metadata.json: debian 11,MERGED,2021-03-25 20:10:31.000000000,2021-03-30 16:31:27.000000000,2021-03-30 16:31:27.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-03-25 20:10:31.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/1d95f56c56213f6456adf9b47c713ac7e2802aa4', 'message': 'metadata.json: debian 11\n\nChange-Id: I9abd0180c6a8be4d7e4a37845d776ea5d6bee0c1\n'}]",0,783097,1d95f56c56213f6456adf9b47c713ac7e2802aa4,8,4,1,6476,,,0,"metadata.json: debian 11

Change-Id: I9abd0180c6a8be4d7e4a37845d776ea5d6bee0c1
",git fetch https://review.opendev.org/openstack/puppet-panko refs/changes/97/783097/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,1d95f56c56213f6456adf9b47c713ac7e2802aa4,debian-metadata," ""11"""," ""10""",1,1
openstack%2Fheat-tempest-plugin~master~I440e5be0d8b47f826975c1099a05c9340c6962e0,openstack/heat-tempest-plugin,master,I440e5be0d8b47f826975c1099a05c9340c6962e0,Add more information for tests,ABANDONED,2021-03-30 16:00:54.000000000,2021-03-30 16:29:05.000000000,,[],"[{'number': 1, 'created': '2021-03-30 16:00:54.000000000', 'files': ['heat_tempest_plugin/common/test.py'], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/d321a9284919b3b4aa7b90cda27b5b8bbb08ae7f', 'message': 'Add more information for tests\n\nThis reflect the changes in heat_integrationtests [1]\n\n[1] https://review.opendev.org/c/openstack/heat/+/762525\n\nChange-Id: I440e5be0d8b47f826975c1099a05c9340c6962e0\n'}]",0,783902,d321a9284919b3b4aa7b90cda27b5b8bbb08ae7f,2,0,1,12404,,,0,"Add more information for tests

This reflect the changes in heat_integrationtests [1]

[1] https://review.opendev.org/c/openstack/heat/+/762525

Change-Id: I440e5be0d8b47f826975c1099a05c9340c6962e0
",git fetch https://review.opendev.org/openstack/heat-tempest-plugin refs/changes/02/783902/1 && git format-patch -1 --stdout FETCH_HEAD,['heat_tempest_plugin/common/test.py'],1,d321a9284919b3b4aa7b90cda27b5b8bbb08ae7f,improve-tests," def _stack_rand_name(self): test_name = self.id() if test_name and '.' in test_name: name = '-'.join(test_name.split('.')[-2:]) # remove 'testname(...)' cases name = name.split('(')[0] else: name = self.__name__ return rand_name(name) message = ('Resource %s from stack %s failed to reach %s status ' 'within the required time (%s s). Current resource ' 'status: %s.' % (resource_name, stack_identifier, status, build_timeout, res.resource_status)) 'the required time (%s s). Current stack state: %s.' % (stack_identifier, status, build_timeout, stack.stack_status))"," @classmethod def _stack_rand_name(cls): return rand_name(cls.__name__) message = ('Resource %s failed to reach %s status within ' 'the required time (%s s).' % (resource_name, status, build_timeout)) 'the required time (%s s).' % (stack_identifier, status, build_timeout))",17,8
openstack%2Fpuppet-horizon~master~I0ed293c3311c7c912d33a2f69180c783764d4264,openstack/puppet-horizon,master,I0ed293c3311c7c912d33a2f69180c783764d4264,metadata.json: debian 11,MERGED,2021-03-25 20:34:37.000000000,2021-03-30 16:28:48.000000000,2021-03-30 16:28:48.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-03-25 20:34:37.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/481cc4c38f2296abb5158e337425e0c12c25f36e', 'message': 'metadata.json: debian 11\n\nChange-Id: I0ed293c3311c7c912d33a2f69180c783764d4264\n'}]",0,783106,481cc4c38f2296abb5158e337425e0c12c25f36e,8,4,1,6476,,,0,"metadata.json: debian 11

Change-Id: I0ed293c3311c7c912d33a2f69180c783764d4264
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/06/783106/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,481cc4c38f2296abb5158e337425e0c12c25f36e,debian-metadata," ""11"""," ""10""",1,1
openstack%2Fpuppet-gnocchi~master~I48a869bfe18eaf9fb77cb01e0a64864406c5db42,openstack/puppet-gnocchi,master,I48a869bfe18eaf9fb77cb01e0a64864406c5db42,metadata.json: debian 11,MERGED,2021-03-25 20:30:29.000000000,2021-03-30 16:27:55.000000000,2021-03-30 16:27:55.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-25 20:30:29.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/f23b61585dd6f36be3176a87634b944a3ba396a1', 'message': 'metadata.json: debian 11\n\nChange-Id: I48a869bfe18eaf9fb77cb01e0a64864406c5db42\n'}]",0,783105,f23b61585dd6f36be3176a87634b944a3ba396a1,7,3,1,6476,,,0,"metadata.json: debian 11

Change-Id: I48a869bfe18eaf9fb77cb01e0a64864406c5db42
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/05/783105/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,f23b61585dd6f36be3176a87634b944a3ba396a1,debian-metadata," ""11"""," ""10""",1,1
openstack%2Fpuppet-ironic~master~I87e9be9d6c7399b315a5cb0dd6e141a02c6924be,openstack/puppet-ironic,master,I87e9be9d6c7399b315a5cb0dd6e141a02c6924be,metadata.json: debian 11,MERGED,2021-03-25 20:38:45.000000000,2021-03-30 16:27:40.000000000,2021-03-30 16:27:40.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-03-25 20:38:45.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/ff2d29764e99827d871dcef2cf00c9d066b83366', 'message': 'metadata.json: debian 11\n\nChange-Id: I87e9be9d6c7399b315a5cb0dd6e141a02c6924be\n'}]",0,783107,ff2d29764e99827d871dcef2cf00c9d066b83366,8,4,1,6476,,,0,"metadata.json: debian 11

Change-Id: I87e9be9d6c7399b315a5cb0dd6e141a02c6924be
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/07/783107/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,ff2d29764e99827d871dcef2cf00c9d066b83366,debian-metadata," ""11"""," ""10""",1,1
openstack%2Fkolla-ansible~stable%2Ftrain~I77791d504327ace880d0cc2438af2f8ced66d4eb,openstack/kolla-ansible,stable/train,I77791d504327ace880d0cc2438af2f8ced66d4eb,CI: Add ssh retries,MERGED,2021-03-03 17:28:03.000000000,2021-03-30 16:26:11.000000000,2021-03-30 16:23:29.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-03-03 17:28:03.000000000', 'files': ['tests/templates/ansible.cfg.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6b9b4a5c2cf04da0c770bfd0373648cc21db7384', 'message': 'CI: Add ssh retries\n\nChange-Id: I77791d504327ace880d0cc2438af2f8ced66d4eb\n(cherry picked from commit a8981a79aac09ab5529245a6348c0ed83e3a0211)\n'}]",0,778430,6b9b4a5c2cf04da0c770bfd0373648cc21db7384,11,4,1,30491,,,0,"CI: Add ssh retries

Change-Id: I77791d504327ace880d0cc2438af2f8ced66d4eb
(cherry picked from commit a8981a79aac09ab5529245a6348c0ed83e3a0211)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/30/778430/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/ansible.cfg.j2'],1,6b9b4a5c2cf04da0c770bfd0373648cc21db7384,,retries = 3,,1,0
openstack%2Freleases~master~I89be65cc304a439f7ced90788b1f34b9c72dcce7,openstack/releases,master,I89be65cc304a439f7ced90788b1f34b9c72dcce7,Abandon networking-midonet,MERGED,2021-03-19 13:23:31.000000000,2021-03-30 16:24:57.000000000,2021-03-30 16:24:57.000000000,"[{'_account_id': 841}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-19 13:23:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/165d3ba1986d8d18216ff5ff420d2d0dcac505b7', 'message': 'Proposing Wallaby RC1 for networking-midonet\n\nIf you wants to wait for a specific patch to make it to the release,\nsomeone from your team can -1 the patch to have it held, or update that patch\nwith a different commit SHA.\n\nPatches with no response will be merged by Friday March 26.\n\n$ git log --oneline --no-merges 11.0.0..1dcb2d2\naf99919 Fix up devstack plugin, libvirt bin renamed in ubuntu\n670277f Update master for stable/victoria\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I89be65cc304a439f7ced90788b1f34b9c72dcce7\n'}, {'number': 2, 'created': '2021-03-30 08:45:21.000000000', 'files': ['deliverables/wallaby/networking-midonet.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/045d9b5eee30229225e9e43eba7926ac4aaa509b', 'message': 'Abandon networking-midonet\n\nThis project have been retired [1][2][3], these changes reflect that choice.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-March/021415.html\n[2] https://review.opendev.org/q/topic:%22deprecate-networking-midonet%22\n[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-March/021376.html\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I89be65cc304a439f7ced90788b1f34b9c72dcce7\n'}]",0,781713,045d9b5eee30229225e9e43eba7926ac4aaa509b,18,5,2,28522,,,0,"Abandon networking-midonet

This project have been retired [1][2][3], these changes reflect that choice.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-March/021415.html
[2] https://review.opendev.org/q/topic:%22deprecate-networking-midonet%22
[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-March/021376.html

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I89be65cc304a439f7ced90788b1f34b9c72dcce7
",git fetch https://review.opendev.org/openstack/releases refs/changes/13/781713/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/networking-midonet.yaml'],1,165d3ba1986d8d18216ff5ff420d2d0dcac505b7,wallaby-rc1-deadline,releases: - version: 12.0.0.0rc1 projects: - repo: openstack/networking-midonet hash: 1dcb2d2947d46189959deea7bc9ca8be8e762917 branches: - name: stable/wallaby location: 12.0.0.0rc1,,8,0
openstack%2Fcharm-deployment-guide~master~Ic273b226c37bcb490b445bb3e76046d6ff43ccca,openstack/charm-deployment-guide,master,Ic273b226c37bcb490b445bb3e76046d6ff43ccca,Add detail to openstack upgrades,MERGED,2021-03-01 18:39:45.000000000,2021-03-30 16:17:18.000000000,2021-03-30 16:15:11.000000000,"[{'_account_id': 8992}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-01 18:39:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/812d414ac65db8edc46b3d655d8f3a5469760035', 'message': ""Add detail to openstack upgrades\n\nImprove wording of 'Software sources' section.\n\nUse more recent values for series and OpenStack releases.\n\nChange-Id: Ic273b226c37bcb490b445bb3e76046d6ff43ccca\n""}, {'number': 2, 'created': '2021-03-25 17:56:11.000000000', 'files': ['deploy-guide/source/upgrade-openstack.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/4f0677ffae144989304064bad27e1760cb2c8e2c', 'message': ""Add detail to openstack upgrades\n\nImprove wording of 'Software sources' section.\n\nUse more recent values for series and OpenStack releases.\n\nChange-Id: Ic273b226c37bcb490b445bb3e76046d6ff43ccca\n""}]",3,778050,4f0677ffae144989304064bad27e1760cb2c8e2c,11,3,2,30561,,,0,"Add detail to openstack upgrades

Improve wording of 'Software sources' section.

Use more recent values for series and OpenStack releases.

Change-Id: Ic273b226c37bcb490b445bb3e76046d6ff43ccca
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/50/778050/2 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/upgrade-openstack.rst'],1,812d414ac65db8edc46b3d655d8f3a5469760035,openstack-upgrades-and-packages,"A key part of an OpenStack upgrade is the stipulation of a unit's software sources. For an upgrade, the latter will naturally reflect a more recent combination of Ubuntu release (series) and OpenStack release. This combination is based on the `Ubuntu Cloud Archive`_ and translates to a ""cloud archive OpenStack release"". It takes on the following syntax:The value is passed to a charm's ``openstack-origin`` configuration option. For example, to select the 'focal-victoria' release: ``openstack-origin=cloud:focal-victoria`` .. note:: A few charms use option ``source`` instead of ``openstack-origin``. See the next section. In this way the charm is informed on where to find updates for the packages that it is responsible for. The value given to ``openstack-origin`` must be the same across all charms. The series chosen must be that of the series currently in use. The ""all-in-one"" method should only be used when the charm does not support the ``openstack-upgrade`` action. juju config ceph-mon source=cloud:focal-victoriaSo to upgrade Cinder across all units (currently running Focal) from Ussuri to Victoria: juju config cinder openstack-origin=cloud:focal-victoriaFor example, to upgrade a three-unit glance application from Ussuri to Victoria juju config glance openstack-origin=cloud:focal-victoriaFor example, to upgrade a three-unit nova-compute application from Ussuri to Victoria where ``nova-compute/0`` is the leader: juju config nova-compute openstack-origin=cloud:focal-victoriaFor example, to upgrade a three-unit keystone application from Ussuri to Victoria where ``keystone/2`` is the leader: juju config keystone openstack-origin=cloud:focal-victoria","The essence of an OpenStack upgrade is a change of a machine's software sources so that a more recent combination of Ubuntu release (series) and OpenStack release is used. This combination is based on the `Ubuntu Cloud Archive`_ and translates to a ""cloud archive OpenStack release"". It takes on the following syntax:This becomes the value given to a charm's ``openstack-origin`` configuration option. For example, to select the 'bionic-train' release: ``openstack-origin=cloud:bionic-train`` The series must correspond to the series currently in use. The ""all-in-one"" method should only be used when the charm does not support the ``openstack-upgrade`` action. juju config ceph-mon source=cloud:bionic-trainSo to upgrade Cinder across all units (currently running Bionic) from Stein to Train: juju config cinder openstack-origin=cloud:bionic-trainFor example, to upgrade a three-unit glance application from Stein to Train juju config glance openstack-origin=cloud:bionic-trainFor example, to upgrade a three-unit nova-compute application from Stein to Train where ``nova-compute/0`` is the leader: juju config nova-compute openstack-origin=cloud:bionic-trainFor example, to upgrade a three-unit keystone application from Stein to Train where ``keystone/2`` is the leader: juju config keystone openstack-origin=cloud:bionic-train",33,23
openstack%2Fmonasca-agent~stable%2Fwallaby~I5d1f5b489270f1ee4b0da88d921ae3850f400d80,openstack/monasca-agent,stable/wallaby,I5d1f5b489270f1ee4b0da88d921ae3850f400d80,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-03-26 10:55:35.000000000,2021-03-30 16:03:29.000000000,2021-03-30 16:03:29.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-03-26 10:55:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/e52c77aa8d9bc61c25fff82ed12b3b69a5f7843c', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I5d1f5b489270f1ee4b0da88d921ae3850f400d80\n'}, {'number': 2, 'created': '2021-03-30 14:53:01.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/ed4ebf1066d521e372e447be29c9af729f9da4c2', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I5d1f5b489270f1ee4b0da88d921ae3850f400d80\n'}]",0,783254,ed4ebf1066d521e372e447be29c9af729f9da4c2,8,2,2,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I5d1f5b489270f1ee4b0da88d921ae3850f400d80
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/54/783254/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e52c77aa8d9bc61c25fff82ed12b3b69a5f7843c,create-wallaby, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fgovernance~master~I56a8767fc5cff25a6605c9e9a1c03d1d7f04140d,openstack/governance,master,I56a8767fc5cff25a6605c9e9a1c03d1d7f04140d,Deprecate networking-midonet project,MERGED,2021-03-30 06:59:38.000000000,2021-03-30 15:50:47.000000000,2021-03-30 15:48:42.000000000,"[{'_account_id': 841}, {'_account_id': 1004}, {'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-03-30 06:59:38.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/7ce6ec213cb9671d213ae993efb3278f8d33796e', 'message': 'Deprecate networking-midonet project\n\nAs per discussion in [1], we need to deprecate networking-midonet as\nofficial Neutron stadium project due to lack of maintainers.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-March/021400.html\n\nChange-Id: I56a8767fc5cff25a6605c9e9a1c03d1d7f04140d\n'}]",0,783799,7ce6ec213cb9671d213ae993efb3278f8d33796e,16,7,1,11975,,,0,"Deprecate networking-midonet project

As per discussion in [1], we need to deprecate networking-midonet as
official Neutron stadium project due to lack of maintainers.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-March/021400.html

Change-Id: I56a8767fc5cff25a6605c9e9a1c03d1d7f04140d
",git fetch https://review.opendev.org/openstack/governance refs/changes/99/783799/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,7ce6ec213cb9671d213ae993efb3278f8d33796e,project-update, deprecated: wallaby release-management: deprecated,,2,0
openstack%2Fproject-config~master~Ie881b608fa6f0a650b5db8208432fd14a0744f2d,openstack/project-config,master,Ie881b608fa6f0a650b5db8208432fd14a0744f2d,Readd publish-to-pypi for networking-midonet,MERGED,2021-03-30 06:45:04.000000000,2021-03-30 15:30:40.000000000,2021-03-30 15:30:40.000000000,"[{'_account_id': 5263}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-30 06:45:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/92d708d09f19b21cf236bfa6539315457f778fdd', 'message': 'Readd publish-to-pypi for neutron-fwaas and dashboard\n\nProjects neutron-fwaas and neutron-fwaas-dashboard were deprecated in\nneutron stadium in master branch.\nBut as stable branches are still maintained, lets bring back jobs\ntemplate ""publish-to-pypi"" for stable branches.\n\nDepends-On: https://review.opendev.org/c/openstack/networking-midonet/+/783793\nChange-Id: Ie881b608fa6f0a650b5db8208432fd14a0744f2d\n'}, {'number': 2, 'created': '2021-03-30 14:46:21.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/c2569d75545e7dfaa068c2d6dcda08091d565c5c', 'message': 'Readd publish-to-pypi for networking-midonet\n\nProjects networking-midonet was deprecated in\nneutron stadium in master branch. But as stable\nbranches are still maintained, lets bring back jobs\ntemplate ""publish-to-pypi"" for stable branches.\n\nDepends-On: https://review.opendev.org/c/openstack/networking-midonet/+/783793\nChange-Id: Ie881b608fa6f0a650b5db8208432fd14a0744f2d\n'}]",2,783796,c2569d75545e7dfaa068c2d6dcda08091d565c5c,13,4,2,11975,,,0,"Readd publish-to-pypi for networking-midonet

Projects networking-midonet was deprecated in
neutron stadium in master branch. But as stable
branches are still maintained, lets bring back jobs
template ""publish-to-pypi"" for stable branches.

Depends-On: https://review.opendev.org/c/openstack/networking-midonet/+/783793
Change-Id: Ie881b608fa6f0a650b5db8208432fd14a0744f2d
",git fetch https://review.opendev.org/openstack/project-config refs/changes/96/783796/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,92d708d09f19b21cf236bfa6539315457f778fdd,deprecate-networking-midonet, - publish-to-pypi, check: jobs: - noop: branches: master gate: jobs: - noop: branches: master,1,8
openstack%2Fproject-config~master~I901fd38c275c53d80c77c674c0ff60721505701e,openstack/project-config,master,I901fd38c275c53d80c77c674c0ff60721505701e,Add noop-jobs for networking-midonet projects,MERGED,2021-03-30 06:40:33.000000000,2021-03-30 15:20:46.000000000,2021-03-30 15:05:52.000000000,"[{'_account_id': 841}, {'_account_id': 1004}, {'_account_id': 5263}, {'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-30 06:40:33.000000000', 'files': ['zuul.d/projects.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/115571152c9726a9d8404a7387e0a452125cc21c', 'message': 'Add noop-jobs for networking-midonet projects\n\nPer discussion in [1], we need to deprecate networking-midonet project due to\nlack of maintainers of that project.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-March/021400.html\n\nChange-Id: I901fd38c275c53d80c77c674c0ff60721505701e\n'}]",0,783792,115571152c9726a9d8404a7387e0a452125cc21c,13,8,1,11975,,,0,"Add noop-jobs for networking-midonet projects

Per discussion in [1], we need to deprecate networking-midonet project due to
lack of maintainers of that project.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-March/021400.html

Change-Id: I901fd38c275c53d80c77c674c0ff60721505701e
",git fetch https://review.opendev.org/openstack/project-config refs/changes/92/783792/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul.d/projects.yaml']",2,115571152c9726a9d8404a7387e0a452125cc21c,deprecate-networking-midonet, check: jobs: - noop: branches: master gate: jobs: - noop: branches: master, - periodic-jobs-with-neutron-lib-master - translation-jobs-master-only - publish-to-pypi periodic: jobs: - openstack-tox-py36-with-neutron-lib-master: required-projects: - openstack/neutron-fwaas - openstack/neutron-vpnaas - openstack/neutron-dynamic-routing - x/networking-l2gw - x/tap-as-a-service,8,12
openstack%2Fnetworking-midonet~master~I87bdcbea4b01cb136f8e1058372e42b906359d75,openstack/networking-midonet,master,I87bdcbea4b01cb136f8e1058372e42b906359d75,Retire networking-midonet project,MERGED,2021-03-30 06:43:09.000000000,2021-03-30 15:11:47.000000000,2021-03-30 15:11:47.000000000,"[{'_account_id': 8556}, {'_account_id': 16688}, {'_account_id': 19307}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-30 06:43:09.000000000', 'files': ['doc/source/contributor/testing.rst', 'devstack/devstackgaterc', 'releasenotes/notes/remove-v1-plugin-00e9e4a0d8fa0add.yaml', 'specs/index.rst', 'midonet/neutron/db/migration/alembic_migration/versions/CONTRACT_HEAD', 'devstack/ml2/functions', 'doc/source/install/ml2_migration.rst', 'releasenotes/notes/remove-v2-plugin-4d783b7386522503.yaml', 'midonet/neutron/db/migration/models/head.py', 'midonet/os_vif/__init__.py', 'midonet/neutron/tests/unit/neutronclient_ext/test_cli20_gateway_device.py', 'rally-jobs/plugins/network_plugin.py', 'midonet/__init__.py', 'midonet/neutron/tests/unit/test_extension_vpnaas.py', 'specs/kilo/extra_routes.rst', 'midonet/neutron/ml2/type_midonet.py', 'midonet/neutronclient/l2gateway_extension/__init__.py', 'devstack/upgrade/resources.sh', 'midonet/neutron/ml2/sg_callback.py', 'midonet/neutron/client/api.py', 'releasenotes/source/newton.rst', 'specs/ocata/midonet-qos.rst', 'midonet/neutronclient/l2gateway_extension/_l2_gateway.py', 'releasenotes/notes/qos-drivers-refactor-d3fab45f8d30a2e8.yaml', 'devstack/upgrade/upgrade.sh', 'releasenotes/source/ussuri.rst', 'doc/source/configuration/index.rst', 'midonet/neutron/db/migration/__init__.py', 'rally-jobs/plugins/midonet_rally_plugin/utils.py', 'devstack/magnum/local.conf', 'midonet/neutron/extensions/bgp_speaker_router_insertion.py', 'releasenotes/source/mitaka.rst', 'devstack/midonet-pkg/configure_and_start_midonet.sh', 'tools/install_venv_common.py', 'rally-jobs/plugins/midonet_rally_plugin/midonet_rally_plugin.py', 'midonet/neutron/tests/__init__.py', 'tox-test-requirements.txt', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'midonet/neutron/policies/bgp_speaker_router_insertion.py', 'doc/source/contributor/policies.rst', 'doc/source/reference/specs', 'midonet/neutron/db/l3_db_midonet.py', 'midonet/neutron/services/taas/service_drivers/__init__.py', 'midonet/neutron/rpc/__init__.py', 'releasenotes/source/_templates/.placeholder', 'midonet/neutron/services/l3/__init__.py', 'requirements.txt', 'bindep.txt', 'midonet/neutron/services/gw_device/__init__.py', 'doc/source/contributor/index.rst', 'midonet/neutron/db/gateway_device.py', 'midonet/neutron/_i18n.py', 'midonet/neutron/services/l2gateway/__init__.py', 'midonet/neutron/tests/unit/neutronclient_ext/test_cli20_remote_mac_entry.py', 'rally-jobs/README.rst', 'devstack/midonet/functions', 'midonet/neutron/services/l2gateway/common/__init__.py', 'midonet/neutron/tests/unit/test_extension_gateway_device.py', 'midonet/neutron/db/provider_network_db.py', 'tools/coding-checks.sh', 'midonet/neutron/services/bgp/plugin.py', 'midonet/neutron/extensions/__init__.py', 'releasenotes/source/pike.rst', 'releasenotes/notes/drop-python2-support-69426c4772d17f4b.yaml', 'specs/kilo/port_binding.rst', 'midonet/neutron/tests/unit/test_midonet_plugin.py', 'doc/source/contributor/api/index.rst', 'doc/source/index.rst', 'midonet/neutron/db/bgp_speaker_router_insertion_model.py', 'devstack/midonet-pkg/configure_repo_centos.sh', 'midonet/neutron/ml2/type_uplink.py', 'midonet/neutron/common/constants.py', 'midonet/neutron/common/utils.py', 'specs/kilo/data_sync.rst', 'specs/kilo/task_management.rst', 'midonet/neutron/tests/unit/__init__.py', 'devstack/midonet-pkg/install_pkgs_centos.sh', 'releasenotes/notes/remove-lbaas-v1-0b5cae318fd63e41.yaml', 'README.rst', 'setup.py', 'devstack/magnum/README.rst', 'midonet/neutron/services/gw_device/plugin.py', 'releasenotes/notes/os-vif-9283d701aabfbd6f.yaml', 'specs/kilo/device_management.rst', 'devstack/midonet-pkg/stop_midonet.sh', 'devstack/settings', 'midonet/neutron/services/vpn/service_drivers/__init__.py', 'releasenotes/notes/.placeholder', 'CONTRIBUTING.rst', 'midonet/neutron/db/migration/alembic_migration/versions/ocata/contract/1612b5389e6e_remove_agent_membership.py', 'midonet/neutron/rpc/topology_client.py', 'releasenotes/notes/remove-agent-65bee5510c9b54de.yaml', 'midonet/neutron/db/migration/alembic_migration/versions/421564f630b1_add_dynamic_routing.py', 'midonet/neutron/services/vpn/__init__.py', 'LICENSE', 'releasenotes/notes/logging-resource-support-e875290948524950.yaml', 'midonet/neutron/db/migration/alembic_migration/versions/422da2897701_add_network_binding_table.py', 'specs/mitaka/bgp-speaker-router-insertion.rst', 'devstack/uplink/create_uplink.sh', 'midonet/neutron/services/taas/__init__.py', 'releasenotes/notes/deprecate-monolithic-37a56bf71ea149d3.yaml', 'midonet/neutron/common/__init__.py', 'doc/source/install/history.rst', 'specs/kilo/l2gw.rst', 'midonet/neutron/common/config.py', 'midonet/neutron/db/migration/alembic_migration/versions/mitaka/contract/7234c9979bf2_add_foreign_key_constraint_on_gateway_device.py', 'midonet/neutron/db/task_db.py', 'releasenotes/source/index.rst', 'releasenotes/notes/qos-fe2072952151800e.yaml', 'doc/source/install/samples/ml2_midonet.ini', 'rally-jobs/plugins/__init__.py', 'rally-jobs/plugins/midonet_rally_plugin/__init__.py', 'midonet/neutron/client/__init__.py', 'midonet/neutron/db/migration/alembic_migration/versions/19808c5df22a_add_agent_membership.py', 'midonet/neutron/db/migration/alembic_migration/versions/3fe2bca71c72_add_port_binding.py', 'devstack/uplink/delete_nat.sh', 'doc/source/contributor/dashboards.rst', 'midonet/neutron/policies/gateway_device.py', 'releasenotes/source/ocata.rst', 'specs/kilo/provider_net.rst', '.gitignore', 'midonet/neutron/db/migration/alembic.ini', 'releasenotes/notes/start-reno-8fa73b6787b639ec.yaml', 'doc/source/install/samples/midonet.ini', 'midonet/neutron/db/migration/alembic_migration/versions/EXPAND_HEAD', 'devstack/uplink/delete_uplink.sh', 'zuul.d/nodes.yaml', 'midonet/neutron/policies/base.py', 'midonet/neutron/extensions/fip64.py', 'midonet/flake8_import_order/__init__.py', 'doc/source/configuration/policy.rst', 'midonet/neutron/db/migration/alembic_migration/versions/mitaka/expand/cfe0dea89aa_add_gateway_device_management.py', 'doc/source/contributor/alembic_migrations.rst', 'midonet/neutron/common/exceptions.py', 'doc/source/install/installation.rst', 'doc/source/reference/index.rst', 'devstack/uplink/create_nat.sh', 'devstack/plugin.sh', 'specs/mitaka/router-interface-fip.rst', 'midonet/neutron/services/l2gateway/plugin.py', 'releasenotes/source/train.rst', 'midonet/neutron/tests/unit/test_extension_taas.py', 'midonet/neutron/tests/unit/test_midonet_type_driver.py', 'releasenotes/source/queens.rst', 'midonet/neutron/services/bgp/__init__.py', 'midonet/neutron/db/migration/alembic_migration/__init__.py', 'midonet/neutron/db/migration/alembic_migration/script.py.mako', 'zuul.d/project.yaml', 'releasenotes/notes/remove-lbaas-v2-b01d03a4b231914f.yaml', 'TESTING.rst', 'releasenotes/source/conf.py', 'devstack/midonet-pkg/configure_repo.sh', '.pylintrc', 'midonet/neutron/ml2/util.py', 'midonet/neutron/db/__init__.py', 'specs/kilo/agent_membership.rst', 'midonet/os_vif/privsep.py', 'releasenotes/notes/lbaasv2-fa5c948d4116ee3f.yaml', 'midonet/neutron/db/bgp_db_midonet.py', 'midonet/neutron/db/migration/alembic_migration/versions/mitaka/expand/3df8cd6d2ada_add_midonet_gateway_network_vlan_devices.py', 'midonet/neutron/agent/midonet_driver.py', 'midonet/neutron/tests/unit/test_uplink_type_driver.py', 'devstack/midonet-pkg/install_pkgs.sh', 'midonet/neutron/tests/unit/neutronclient_ext/test_cli20_l2_gateway.py', 'midonet/neutron/tests/unit/test_extension_bgp.py', 'midonet/neutron/services/l2gateway/common/l2gw_midonet_validators.py', 'midonet/neutron/ml2/mech_driver.py', 'midonet/neutron/policies/__init__.py', 'midonet/neutron/ml2/__init__.py', 'midonet/neutron/tests/unit/db/__init__.py', 'midonet/neutronclient/gateway_device_extension/_gateway_device.py', 'releasenotes/notes/tap-as-a-service-aee029a693394696.yaml', '.coveragerc', 'midonet/neutron/db/port_binding_db.py', 'releasenotes/notes/bgp-dynamic-routing-support-96c503f2786aa214.yaml', 'midonet/neutron/tests/unit/agent/__init__.py', 'midonet/neutron/db/migration/alembic_migration/versions/stein/contract/f5dfd5cefbc7_drop_fwaas_v1_and_logging_resource.py', 'tools/with_venv.sh', 'devstack/midonet-pkg/install_pkgs_client.sh', 'midonet/neutron/services/l3/l3_midonet.py', 'releasenotes/notes/vpnaas-plugin-57fcdcd38ceba35a.yaml', 'midonet/neutron/client/base.py', 'rally-jobs/plugins/README.rst', 'zuul.d/jobs.yaml', 'releasenotes/notes/drop-fwaas-v1-and-logging_resource-d4c23094ebdeb625.yaml', 'doc/source/install/index.rst', 'specs/mitaka/device_management_update.rst', 'midonet/neutron/db/migration/alembic_migration/env.py', 'midonet/neutron/db/migration/alembic_migration/versions/start_neutron_midonet.py', 'devstack/functions', 'releasenotes/notes/drop-v2015.03-34f0416a99ed7cd7.yaml', 'releasenotes/source/victoria.rst', 'specs/kilo/agent.rst', 'devstack/midonet-pkg/uninstall_pkgs.sh', 'midonet/neutron/db/migration/alembic_migration/versions/d8a5c672761_add_data_sync.py', 'midonet/neutron/extensions/gateway_device.py', 'midonet/neutron/db/migration/alembic_migration/versions/mitaka/expand/f8b289f2644f_bgp_speaker_router_insertion.py', 'midonet/neutron/services/qos/__init__.py', 'midonet/neutron/tests/unit/test_midonet_plugin_ml2.py', 'midonet/neutron/db/data_version_db.py', 'midonet/neutron/extensions/routerinterfacefip.py', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po', 'midonet/neutron/tests/unit/test_extension_qos.py', 'midonet/neutron/services/taas/service_drivers/taas_midonet.py', '.stestr.conf', 'midonet/neutron/db/migration/alembic_migration/versions/mitaka/expand/29cbb88b092_initial.py', 'midonet/neutron/tests/unit/neutronclient_ext/__init__.py', 'rally-jobs/networking-midonet.yaml', 'babel.cfg', 'midonet/neutron/tests/unit/db/test_migrations.py', 'midonet/neutron/client/cluster.py', 'midonet/neutron/db/migration/cli.py', 'releasenotes/notes/lbaas-haproxy-provider-3231cbffbdd26d30.yaml', 'devstack/tz/delete_tz.sh', 'midonet/neutron/db/migration/alembic_migration/README', 'midonet/neutron/db/migration/alembic_migration/versions/newton/contract/27e6e3451f22_rename_tenant_to_project.py', 'midonet/neutron/tests/unit/test_datastate.py', 'midonet/neutron/db/bgp_speaker_router_insertion_db.py', 'specs/kilo/dynamic_routing.rst', 'midonet/neutron/db/l2gateway_midonet.py', 'doc/source/configuration/policy-sample.rst', 'midonet/neutron/tests/unit/neutronclient_ext/test_cli20.py', 'midonet/neutron/__init__.py', 'midonet/neutron/db/migration/alembic_migration/versions/mitaka/expand/4f3b347ea1c2_revert_dynamic_routing.py', 'midonet/neutronclient/gateway_device_extension/__init__.py', 'releasenotes/notes/remove-agent-membership-8d50d3f0e16d4091.yaml', 'midonet/neutron/services/vpn/service_drivers/midonet_ipsec.py', 'releasenotes/source/rocky.rst', 'midonet/locale/en_GB/LC_MESSAGES/midonet.po', 'releasenotes/notes/gateway-management-2a14ac7fd9a0cf9f.yaml', 'midonet/neutron/agent/interface.py', 'midonet/neutron/db/migration/alembic_migration/versions/mitaka/expand/9f3992811410_add_logging_resource.py', 'etc/midonet_rootwrap.filters', 'midonet/neutron/db/migration/alembic_migration/versions/mitaka/contract/143b26cc5196_initial.py', 'releasenotes/notes/fip64-b95ec1d351a47b93.yaml', 'midonet/neutron/db/migration/models/__init__.py', 'midonet/neutron/services/__init__.py', 'specs/mitaka/logging-API-for-firewall-rules.rst', 'doc/source/contributor/devstack.rst', 'midonet/neutronclient/gateway_device_extension/_remote_mac_entry.py', 'tools/install_venv.py', 'devstack/upgrade/settings', 'setup.cfg', 'tox.ini', 'doc/source/user/features.rst', 'etc/oslo-policy-generator/policy.conf', 'midonet/os_vif/linux_net.py', 'doc/source/install/upgrade.rst', 'midonet/neutron/tests/unit/test_extension_l2gateway.py', 'releasenotes/source/_static/.placeholder', 'midonet/neutronclient/__init__.py', 'releasenotes/source/stein.rst', 'midonet/neutron/services/qos/driver.py', 'midonet/os_vif/vif_midonet.py', 'midonet/flake8_import_order/styles.py', 'midonet/neutron/db/data_state_db.py', 'midonet/neutron/db/migration/alembic_migration/versions/25aeae45d4ad_add_task.py', 'midonet/neutron/tests/unit/test_os_vif_plugin.py', 'midonet/neutron/services/l2gateway/exceptions.py', 'rally-jobs/extra/README.rst', 'doc/source/conf.py', 'midonet/neutron/tests/unit/agent/test_interface.py', 'midonet/neutron/services/l2gateway/service_drivers/__init__.py', 'devstack/README.rst', 'midonet/neutron/services/l2gateway/service_drivers/l2gw_midonet.py', 'releasenotes/notes/l2-gateway-4dca2095d0925dba.yaml', 'devstack/ml2/local.conf.sample', 'tools/ostestr_compat_shim.sh', 'releasenotes/source/unreleased.rst', 'specs/mitaka/border_gw.rst', 'devstack/override-defaults', 'devstack/tz/create_tz.sh', 'midonet/neutron/agent/__init__.py', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/4efa73034d09e47f15ac23cabcc6c397bb9cbfbb', 'message': 'Retire networking-midonet project\n\nDue to lack of maintainers and per discussion in [1] this project is\ndeprecated now.\nProject config change is proposed at [2].\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-March/021400.html\n[2] https://review.opendev.org/c/openstack/project-config/+/783792\n\nChange-Id: I87bdcbea4b01cb136f8e1058372e42b906359d75\n'}]",0,783793,4efa73034d09e47f15ac23cabcc6c397bb9cbfbb,14,5,1,11975,,,0,"Retire networking-midonet project

Due to lack of maintainers and per discussion in [1] this project is
deprecated now.
Project config change is proposed at [2].

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-March/021400.html
[2] https://review.opendev.org/c/openstack/project-config/+/783792

Change-Id: I87bdcbea4b01cb136f8e1058372e42b906359d75
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/93/783793/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/testing.rst', 'devstack/devstackgaterc', 'releasenotes/notes/remove-v1-plugin-00e9e4a0d8fa0add.yaml', 'specs/index.rst', 'midonet/neutron/db/migration/alembic_migration/versions/CONTRACT_HEAD', 'devstack/ml2/functions', 'doc/source/install/ml2_migration.rst', 'releasenotes/notes/remove-v2-plugin-4d783b7386522503.yaml', 'midonet/neutron/db/migration/models/head.py', 'midonet/os_vif/__init__.py', 'midonet/neutron/tests/unit/neutronclient_ext/test_cli20_gateway_device.py', 'rally-jobs/plugins/network_plugin.py', 'midonet/__init__.py', 'midonet/neutron/tests/unit/test_extension_vpnaas.py', 'specs/kilo/extra_routes.rst', 'midonet/neutron/ml2/type_midonet.py', 'midonet/neutronclient/l2gateway_extension/__init__.py', 'devstack/upgrade/resources.sh', 'midonet/neutron/ml2/sg_callback.py', 'midonet/neutron/client/api.py', 'releasenotes/source/newton.rst', 'specs/ocata/midonet-qos.rst', 'midonet/neutronclient/l2gateway_extension/_l2_gateway.py', 'releasenotes/notes/qos-drivers-refactor-d3fab45f8d30a2e8.yaml', 'devstack/upgrade/upgrade.sh', 'releasenotes/source/ussuri.rst', 'doc/source/configuration/index.rst', 'midonet/neutron/db/migration/__init__.py', 'rally-jobs/plugins/midonet_rally_plugin/utils.py', 'midonet/neutron/extensions/bgp_speaker_router_insertion.py', 'releasenotes/source/mitaka.rst', 'devstack/magnum/local.conf', 'devstack/midonet-pkg/configure_and_start_midonet.sh', 'tools/install_venv_common.py', 'rally-jobs/plugins/midonet_rally_plugin/midonet_rally_plugin.py', 'midonet/neutron/tests/__init__.py', 'tox-test-requirements.txt', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'midonet/neutron/policies/bgp_speaker_router_insertion.py', 'doc/source/contributor/policies.rst', 'doc/source/reference/specs', 'midonet/neutron/db/l3_db_midonet.py', 'midonet/neutron/services/taas/service_drivers/__init__.py', 'midonet/neutron/rpc/__init__.py', 'releasenotes/source/_templates/.placeholder', 'midonet/neutron/services/l3/__init__.py', 'requirements.txt', 'bindep.txt', 'midonet/neutron/services/gw_device/__init__.py', 'doc/source/contributor/index.rst', 'midonet/neutron/db/gateway_device.py', 'midonet/neutron/_i18n.py', 'midonet/neutron/services/l2gateway/__init__.py', 'midonet/neutron/tests/unit/neutronclient_ext/test_cli20_remote_mac_entry.py', 'rally-jobs/README.rst', 'devstack/midonet/functions', 'midonet/neutron/services/l2gateway/common/__init__.py', 'midonet/neutron/tests/unit/test_extension_gateway_device.py', 'midonet/neutron/db/provider_network_db.py', 'tools/coding-checks.sh', 'midonet/neutron/services/bgp/plugin.py', 'midonet/neutron/extensions/__init__.py', 'releasenotes/source/pike.rst', 'releasenotes/notes/drop-python2-support-69426c4772d17f4b.yaml', 'specs/kilo/port_binding.rst', 'midonet/neutron/tests/unit/test_midonet_plugin.py', 'doc/source/contributor/api/index.rst', 'doc/source/index.rst', 'midonet/neutron/db/bgp_speaker_router_insertion_model.py', 'devstack/midonet-pkg/configure_repo_centos.sh', 'midonet/neutron/ml2/type_uplink.py', 'midonet/neutron/common/constants.py', 'midonet/neutron/common/utils.py', 'specs/kilo/data_sync.rst', 'specs/kilo/task_management.rst', 'midonet/neutron/tests/unit/__init__.py', 'devstack/midonet-pkg/install_pkgs_centos.sh', 'releasenotes/notes/remove-lbaas-v1-0b5cae318fd63e41.yaml', 'README.rst', 'setup.py', 'devstack/magnum/README.rst', 'midonet/neutron/services/gw_device/plugin.py', 'releasenotes/notes/os-vif-9283d701aabfbd6f.yaml', 'specs/kilo/device_management.rst', 'devstack/midonet-pkg/stop_midonet.sh', 'devstack/settings', 'midonet/neutron/services/vpn/service_drivers/__init__.py', 'releasenotes/notes/.placeholder', 'CONTRIBUTING.rst', 'midonet/neutron/db/migration/alembic_migration/versions/ocata/contract/1612b5389e6e_remove_agent_membership.py', 'midonet/neutron/rpc/topology_client.py', 'releasenotes/notes/remove-agent-65bee5510c9b54de.yaml', 'midonet/neutron/db/migration/alembic_migration/versions/421564f630b1_add_dynamic_routing.py', 'midonet/neutron/services/vpn/__init__.py', 'LICENSE', 'releasenotes/notes/logging-resource-support-e875290948524950.yaml', 'midonet/neutron/db/migration/alembic_migration/versions/422da2897701_add_network_binding_table.py', 'specs/mitaka/bgp-speaker-router-insertion.rst', 'devstack/uplink/create_uplink.sh', 'midonet/neutron/services/taas/__init__.py', 'releasenotes/notes/deprecate-monolithic-37a56bf71ea149d3.yaml', 'midonet/neutron/common/__init__.py', 'doc/source/install/history.rst', 'specs/kilo/l2gw.rst', 'midonet/neutron/common/config.py', 'midonet/neutron/db/migration/alembic_migration/versions/mitaka/contract/7234c9979bf2_add_foreign_key_constraint_on_gateway_device.py', 'midonet/neutron/db/task_db.py', 'releasenotes/source/index.rst', 'releasenotes/notes/qos-fe2072952151800e.yaml', 'doc/source/install/samples/ml2_midonet.ini', 'rally-jobs/plugins/__init__.py', 'rally-jobs/plugins/midonet_rally_plugin/__init__.py', 'midonet/neutron/client/__init__.py', 'midonet/neutron/db/migration/alembic_migration/versions/19808c5df22a_add_agent_membership.py', 'midonet/neutron/db/migration/alembic_migration/versions/3fe2bca71c72_add_port_binding.py', 'devstack/uplink/delete_nat.sh', 'doc/source/contributor/dashboards.rst', 'midonet/neutron/policies/gateway_device.py', 'releasenotes/source/ocata.rst', 'specs/kilo/provider_net.rst', '.gitignore', 'midonet/neutron/db/migration/alembic.ini', 'releasenotes/notes/start-reno-8fa73b6787b639ec.yaml', 'doc/source/install/samples/midonet.ini', 'midonet/neutron/db/migration/alembic_migration/versions/EXPAND_HEAD', 'devstack/uplink/delete_uplink.sh', 'zuul.d/nodes.yaml', 'midonet/neutron/policies/base.py', 'midonet/neutron/extensions/fip64.py', 'midonet/flake8_import_order/__init__.py', 'doc/source/configuration/policy.rst', 'midonet/neutron/db/migration/alembic_migration/versions/mitaka/expand/cfe0dea89aa_add_gateway_device_management.py', 'doc/source/contributor/alembic_migrations.rst', 'midonet/neutron/common/exceptions.py', 'doc/source/install/installation.rst', 'doc/source/reference/index.rst', 'devstack/uplink/create_nat.sh', 'devstack/plugin.sh', 'specs/mitaka/router-interface-fip.rst', 'midonet/neutron/services/l2gateway/plugin.py', 'releasenotes/source/train.rst', 'midonet/neutron/tests/unit/test_extension_taas.py', 'midonet/neutron/tests/unit/test_midonet_type_driver.py', 'releasenotes/source/queens.rst', 'midonet/neutron/services/bgp/__init__.py', 'midonet/neutron/db/migration/alembic_migration/__init__.py', 'midonet/neutron/db/migration/alembic_migration/script.py.mako', 'zuul.d/project.yaml', 'releasenotes/notes/remove-lbaas-v2-b01d03a4b231914f.yaml', 'TESTING.rst', 'releasenotes/source/conf.py', 'devstack/midonet-pkg/configure_repo.sh', '.pylintrc', 'midonet/neutron/ml2/util.py', 'midonet/neutron/db/__init__.py', 'specs/kilo/agent_membership.rst', 'midonet/os_vif/privsep.py', 'releasenotes/notes/lbaasv2-fa5c948d4116ee3f.yaml', 'midonet/neutron/db/bgp_db_midonet.py', 'midonet/neutron/db/migration/alembic_migration/versions/mitaka/expand/3df8cd6d2ada_add_midonet_gateway_network_vlan_devices.py', 'midonet/neutron/agent/midonet_driver.py', 'midonet/neutron/tests/unit/test_uplink_type_driver.py', 'devstack/midonet-pkg/install_pkgs.sh', 'midonet/neutron/tests/unit/neutronclient_ext/test_cli20_l2_gateway.py', 'midonet/neutron/tests/unit/test_extension_bgp.py', 'midonet/neutron/services/l2gateway/common/l2gw_midonet_validators.py', 'midonet/neutron/ml2/mech_driver.py', 'midonet/neutron/policies/__init__.py', 'midonet/neutron/ml2/__init__.py', 'midonet/neutron/tests/unit/db/__init__.py', 'midonet/neutronclient/gateway_device_extension/_gateway_device.py', 'releasenotes/notes/tap-as-a-service-aee029a693394696.yaml', '.coveragerc', 'midonet/neutron/db/port_binding_db.py', 'releasenotes/notes/bgp-dynamic-routing-support-96c503f2786aa214.yaml', 'midonet/neutron/tests/unit/agent/__init__.py', 'midonet/neutron/db/migration/alembic_migration/versions/stein/contract/f5dfd5cefbc7_drop_fwaas_v1_and_logging_resource.py', 'tools/with_venv.sh', 'devstack/midonet-pkg/install_pkgs_client.sh', 'midonet/neutron/services/l3/l3_midonet.py', 'releasenotes/notes/vpnaas-plugin-57fcdcd38ceba35a.yaml', 'midonet/neutron/client/base.py', 'rally-jobs/plugins/README.rst', 'zuul.d/jobs.yaml', 'releasenotes/notes/drop-fwaas-v1-and-logging_resource-d4c23094ebdeb625.yaml', 'doc/source/install/index.rst', 'specs/mitaka/device_management_update.rst', 'midonet/neutron/db/migration/alembic_migration/env.py', 'midonet/neutron/db/migration/alembic_migration/versions/start_neutron_midonet.py', 'devstack/functions', 'releasenotes/notes/drop-v2015.03-34f0416a99ed7cd7.yaml', 'releasenotes/source/victoria.rst', 'specs/kilo/agent.rst', 'devstack/midonet-pkg/uninstall_pkgs.sh', 'midonet/neutron/db/migration/alembic_migration/versions/d8a5c672761_add_data_sync.py', 'midonet/neutron/extensions/gateway_device.py', 'midonet/neutron/db/migration/alembic_migration/versions/mitaka/expand/f8b289f2644f_bgp_speaker_router_insertion.py', 'midonet/neutron/services/qos/__init__.py', 'midonet/neutron/tests/unit/test_midonet_plugin_ml2.py', 'midonet/neutron/db/data_version_db.py', 'midonet/neutron/extensions/routerinterfacefip.py', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po', 'midonet/neutron/tests/unit/test_extension_qos.py', 'midonet/neutron/services/taas/service_drivers/taas_midonet.py', '.stestr.conf', 'midonet/neutron/db/migration/alembic_migration/versions/mitaka/expand/29cbb88b092_initial.py', 'midonet/neutron/tests/unit/neutronclient_ext/__init__.py', 'rally-jobs/networking-midonet.yaml', 'babel.cfg', 'midonet/neutron/tests/unit/db/test_migrations.py', 'midonet/neutron/client/cluster.py', 'midonet/neutron/db/migration/cli.py', 'releasenotes/notes/lbaas-haproxy-provider-3231cbffbdd26d30.yaml', 'devstack/tz/delete_tz.sh', 'midonet/neutron/db/migration/alembic_migration/README', 'midonet/neutron/db/migration/alembic_migration/versions/newton/contract/27e6e3451f22_rename_tenant_to_project.py', 'midonet/neutron/tests/unit/test_datastate.py', 'midonet/neutron/db/bgp_speaker_router_insertion_db.py', 'specs/kilo/dynamic_routing.rst', 'midonet/neutron/db/l2gateway_midonet.py', 'doc/source/configuration/policy-sample.rst', 'midonet/neutron/tests/unit/neutronclient_ext/test_cli20.py', 'midonet/neutron/__init__.py', 'midonet/neutron/db/migration/alembic_migration/versions/mitaka/expand/4f3b347ea1c2_revert_dynamic_routing.py', 'midonet/neutronclient/gateway_device_extension/__init__.py', 'releasenotes/notes/remove-agent-membership-8d50d3f0e16d4091.yaml', 'midonet/neutron/services/vpn/service_drivers/midonet_ipsec.py', 'releasenotes/source/rocky.rst', 'midonet/locale/en_GB/LC_MESSAGES/midonet.po', 'releasenotes/notes/gateway-management-2a14ac7fd9a0cf9f.yaml', 'midonet/neutron/agent/interface.py', 'midonet/neutron/db/migration/alembic_migration/versions/mitaka/expand/9f3992811410_add_logging_resource.py', 'etc/midonet_rootwrap.filters', 'midonet/neutron/db/migration/alembic_migration/versions/mitaka/contract/143b26cc5196_initial.py', 'releasenotes/notes/fip64-b95ec1d351a47b93.yaml', 'midonet/neutron/db/migration/models/__init__.py', 'midonet/neutron/services/__init__.py', 'specs/mitaka/logging-API-for-firewall-rules.rst', 'doc/source/contributor/devstack.rst', 'midonet/neutronclient/gateway_device_extension/_remote_mac_entry.py', 'tools/install_venv.py', 'devstack/upgrade/settings', 'setup.cfg', 'tox.ini', 'doc/source/user/features.rst', 'etc/oslo-policy-generator/policy.conf', 'midonet/os_vif/linux_net.py', 'doc/source/install/upgrade.rst', 'midonet/neutron/tests/unit/test_extension_l2gateway.py', 'releasenotes/source/_static/.placeholder', 'midonet/neutronclient/__init__.py', 'releasenotes/source/stein.rst', 'midonet/neutron/services/qos/driver.py', 'midonet/os_vif/vif_midonet.py', 'midonet/flake8_import_order/styles.py', 'midonet/neutron/db/data_state_db.py', 'midonet/neutron/db/migration/alembic_migration/versions/25aeae45d4ad_add_task.py', 'midonet/neutron/tests/unit/test_os_vif_plugin.py', 'midonet/neutron/services/l2gateway/exceptions.py', 'rally-jobs/extra/README.rst', 'doc/source/conf.py', 'midonet/neutron/tests/unit/agent/test_interface.py', 'midonet/neutron/services/l2gateway/service_drivers/__init__.py', 'devstack/README.rst', 'midonet/neutron/services/l2gateway/service_drivers/l2gw_midonet.py', 'releasenotes/notes/l2-gateway-4dca2095d0925dba.yaml', 'devstack/ml2/local.conf.sample', 'tools/ostestr_compat_shim.sh', 'releasenotes/source/unreleased.rst', 'specs/mitaka/border_gw.rst', 'devstack/override-defaults', 'devstack/tz/create_tz.sh', 'midonet/neutron/agent/__init__.py', 'doc/requirements.txt']",274,4efa73034d09e47f15ac23cabcc6c397bb9cbfbb,deprecate-networking-midonet,,"# The order of packages is significant, because pip processes them in the order # of appearance. Changing the order has an impact on the overall integration # process, which may cause wedges in the gate later. hacking>=3.0.1,<3.1.0 # Apache-2.0 bandit!=1.6.0,>=1.1.0 # Apache-2.0 coverage!=4.4,>=4.0 # Apache-2.0 fixtures>=3.0.0 # Apache-2.0/BSD flake8-import-order==0.12 # LGPLv3 python-subunit>=1.0.0 # Apache-2.0/BSD testtools>=2.2.0 # MIT testresources>=2.0.0 # Apache-2.0/BSD testscenarios>=0.4 # Apache-2.0/BSD WebTest>=2.0.27 # MIT oslotest>=3.2.0 # Apache-2.0 stestr>=1.0.0 # Apache-2.0 reno>=3.1.0 # Apache-2.0 ddt>=1.0.1 # MIT astroid==2.3.3 # LGPLv2.1 pylint==2.4.4 # GPLv2 isort==4.3.21 # MIT # Needed to run DB commands in virtualenvs PyMySQL>=0.7.6 # MIT License bashate>=0.5.1 # Apache-2.0 cliff!=2.9.0,>=2.8.0 # Apache-2.0 doc8>=0.6.0 # Apache-2.0 sphinx>=2.0.0,!=2.1.0 # BSD openstackdocstheme>=2.2.1 # Apache-2.0 # OSC python-openstackclient>=3.12.0 # Apache-2.0 requests-mock>=1.2.0 # Apache-2.0 # os-vif plugin unit tests os-vif!=1.8.0,>=1.7.0 # Apache-2.0 # bug 1759454 docutils>=0.11 # OSI-Approved Open Source, Public Domain neutron-vpnaas>=13.0.0.0b1 # Apache-2.0 neutron-dynamic-routing>=13.0.0.0b1 # Apache-2.0 networking-l2gw>=12.0.0 # Apache-2.0 tap-as-a-service>=5.0.0 # Apache-2.0 ",8,21085
openstack%2Fironic-python-agent~master~Ifffeac9c1c4d394526d655eaa14c9fe7bd3a1e5e,openstack/ironic-python-agent,master,Ifffeac9c1c4d394526d655eaa14c9fe7bd3a1e5e,Fix incorrect lsblk tag and add a virtual media job,MERGED,2021-03-30 10:22:49.000000000,2021-03-30 14:58:59.000000000,2021-03-30 14:45:29.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-03-30 10:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/1ccc23db7709cc83a6d3fb729c556975dc305c70', 'message': 'Fix incorrect lsblk tag and add a virtual media job\n\nFollow-up to 8dd6589e66d03e45e1d510601da9531a30842cff: PATH is not a\nvalid lsblk tag, we need to use KNAME with -p flag.\n\nAlso add a vmedia job to avoid breakages in the future.\n\nChange-Id: Ifffeac9c1c4d394526d655eaa14c9fe7bd3a1e5e\n'}, {'number': 2, 'created': '2021-03-30 10:25:49.000000000', 'files': ['zuul.d/ironic-python-agent-jobs.yaml', 'zuul.d/project.yaml', 'ironic_python_agent/tests/unit/test_utils.py', 'ironic_python_agent/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/afcc5d392cab2bf5649ec2bcfdc0cb26090b6a58', 'message': ""Fix incorrect lsblk tag and add a virtual media job\n\nFollow-up to 8dd6589e66d03e45e1d510601da9531a30842cff: PATH is not a\nvalid lsblk tag, we need to use KNAME with -p flag.\n\nAlso add a vmedia job to avoid breakages in the future. It's added\nnon-voting because we have a deadlock with this change:\nhttps://review.opendev.org/c/openstack/ironic/+/783722\n\nChange-Id: Ifffeac9c1c4d394526d655eaa14c9fe7bd3a1e5e\n""}]",0,783832,afcc5d392cab2bf5649ec2bcfdc0cb26090b6a58,10,3,2,10239,,,0,"Fix incorrect lsblk tag and add a virtual media job

Follow-up to 8dd6589e66d03e45e1d510601da9531a30842cff: PATH is not a
valid lsblk tag, we need to use KNAME with -p flag.

Also add a vmedia job to avoid breakages in the future. It's added
non-voting because we have a deadlock with this change:
https://review.opendev.org/c/openstack/ironic/+/783722

Change-Id: Ifffeac9c1c4d394526d655eaa14c9fe7bd3a1e5e
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/32/783832/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-python-agent-jobs.yaml', 'zuul.d/project.yaml', 'ironic_python_agent/tests/unit/test_utils.py', 'ironic_python_agent/utils.py']",4,1ccc23db7709cc83a6d3fb729c556975dc305c70,vmedia," lsblk_output, _e = execute('lsblk', '-p', '-P', '-oKNAME,LABEL') candidates.append(device['KNAME'])"," lsblk_output, _e = execute('lsblk', '-P', '-oPATH,LABEL') candidates.append(device['PATH'])",47,16
openstack%2Fmonasca-thresh~stable%2Fwallaby~Ie139b2dc3f5b760c3c688fa7b2b79ef10bf51e30,openstack/monasca-thresh,stable/wallaby,Ie139b2dc3f5b760c3c688fa7b2b79ef10bf51e30,Update .gitreview for stable/wallaby,MERGED,2021-03-26 11:09:59.000000000,2021-03-30 14:50:27.000000000,2021-03-30 14:50:27.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-03-26 11:09:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-thresh/commit/c6256730e3edd50486840b44e051d750ae025c60', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: Ie139b2dc3f5b760c3c688fa7b2b79ef10bf51e30\n'}, {'number': 2, 'created': '2021-03-30 14:05:06.000000000', 'files': ['.gitreview', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-thresh/commit/7e80c1e9210b1c57e9f06e55a5d5780e3e6dfcff', 'message': 'Update .gitreview for stable/wallaby\n\nRemove temporarily docker build and publish jobs.\nThese jobs require the wallaby u-c [1] which is not yet ready\nOnce the wallaby u-c is available these jobs will be added again.\n\n[1] https://opendev.org/openstack/requirements/raw/branch/stable/wallaby/upper-constraints.txt\n\nChange-Id: Ie139b2dc3f5b760c3c688fa7b2b79ef10bf51e30\n'}]",0,783258,7e80c1e9210b1c57e9f06e55a5d5780e3e6dfcff,8,2,2,22816,,,0,"Update .gitreview for stable/wallaby

Remove temporarily docker build and publish jobs.
These jobs require the wallaby u-c [1] which is not yet ready
Once the wallaby u-c is available these jobs will be added again.

[1] https://opendev.org/openstack/requirements/raw/branch/stable/wallaby/upper-constraints.txt

Change-Id: Ie139b2dc3f5b760c3c688fa7b2b79ef10bf51e30
",git fetch https://review.opendev.org/openstack/monasca-thresh refs/changes/58/783258/2 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,c6256730e3edd50486840b44e051d750ae025c60,create-wallaby,defaultbranch=stable/wallaby,,1,0
openstack%2Fmonasca-agent~stable%2Fwallaby~I373d982f29c2224e72f69c8fbcae82ac2b6c9145,openstack/monasca-agent,stable/wallaby,I373d982f29c2224e72f69c8fbcae82ac2b6c9145,Update .gitreview for stable/wallaby,MERGED,2021-03-26 10:55:31.000000000,2021-03-30 14:50:21.000000000,2021-03-30 14:50:21.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-03-26 10:55:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/9d00ecaa5f46b4756e26ae50982fff1a3c68df16', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: I373d982f29c2224e72f69c8fbcae82ac2b6c9145\n'}, {'number': 2, 'created': '2021-03-30 14:08:53.000000000', 'files': ['.gitreview', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/37dedf3b711e0b95fd955c867d5f04e1a5e301c3', 'message': 'Update .gitreview for stable/wallaby\n\nRemove temporarily docker build and publish jobs.\nThese jobs require the wallaby u-c [1] which is not yet ready\nOnce the wallaby u-c is available these jobs will be added again.\n\n[1] https://opendev.org/openstack/requirements/raw/branch/stable/wallaby/upper-constraints.txt\n\nChange-Id: I373d982f29c2224e72f69c8fbcae82ac2b6c9145\n'}]",0,783253,37dedf3b711e0b95fd955c867d5f04e1a5e301c3,8,2,2,22816,,,0,"Update .gitreview for stable/wallaby

Remove temporarily docker build and publish jobs.
These jobs require the wallaby u-c [1] which is not yet ready
Once the wallaby u-c is available these jobs will be added again.

[1] https://opendev.org/openstack/requirements/raw/branch/stable/wallaby/upper-constraints.txt

Change-Id: I373d982f29c2224e72f69c8fbcae82ac2b6c9145
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/53/783253/2 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,9d00ecaa5f46b4756e26ae50982fff1a3c68df16,create-wallaby,defaultbranch=stable/wallaby,,1,0
openstack%2Fmonasca-persister~stable%2Fwallaby~I61de9ac4bce2a4bab9df5e763301b3bda53c21b4,openstack/monasca-persister,stable/wallaby,I61de9ac4bce2a4bab9df5e763301b3bda53c21b4,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-03-26 11:13:52.000000000,2021-03-30 14:39:32.000000000,2021-03-30 14:33:05.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-03-26 11:13:52.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/49deafaa3d6c0a7d73ffda9cb518797bdc469be9', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I61de9ac4bce2a4bab9df5e763301b3bda53c21b4\n'}]",0,783267,49deafaa3d6c0a7d73ffda9cb518797bdc469be9,7,2,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I61de9ac4bce2a4bab9df5e763301b3bda53c21b4
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/67/783267/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,49deafaa3d6c0a7d73ffda9cb518797bdc469be9,create-wallaby, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby}deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Fmonasca-persister~stable%2Fwallaby~I9c949cdb947d7e93fe195e33697c18be0c4f3881,openstack/monasca-persister,stable/wallaby,I9c949cdb947d7e93fe195e33697c18be0c4f3881,Update .gitreview for stable/wallaby,MERGED,2021-03-26 11:13:48.000000000,2021-03-30 14:33:00.000000000,2021-03-30 14:33:00.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-03-26 11:13:48.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/e4c7ad08c6e2be20ac770d62d71e5f779614a9ad', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: I9c949cdb947d7e93fe195e33697c18be0c4f3881\n'}]",0,783266,e4c7ad08c6e2be20ac770d62d71e5f779614a9ad,6,2,1,22816,,,0,"Update .gitreview for stable/wallaby

Change-Id: I9c949cdb947d7e93fe195e33697c18be0c4f3881
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/66/783266/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,e4c7ad08c6e2be20ac770d62d71e5f779614a9ad,create-wallaby,defaultbranch=stable/wallaby,,1,0
openstack%2Fmonasca-persister~master~I25c7c74514d863181844c2a4c24e3c333c07fa53,openstack/monasca-persister,master,I25c7c74514d863181844c2a4c24e3c333c07fa53,Add Python3 xena unit tests,MERGED,2021-03-26 11:14:23.000000000,2021-03-30 14:32:56.000000000,2021-03-30 14:32:56.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-03-26 11:14:23.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/dc589ae7a2524a966051f0aa1af54387bf2a258c', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I25c7c74514d863181844c2a4c24e3c333c07fa53\n'}]",0,783269,dc589ae7a2524a966051f0aa1af54387bf2a258c,6,2,1,22816,,,0,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I25c7c74514d863181844c2a4c24e3c333c07fa53
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/69/783269/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,dc589ae7a2524a966051f0aa1af54387bf2a258c,add-xena-python-jobtemplates, - openstack-python3-xena-jobs, - openstack-python3-wallaby-jobs,1,1
openstack%2Fironic-python-agent-builder~master~I4b89119b8e2eded72973fa12879b1419542ba984,openstack/ironic-python-agent-builder,master,I4b89119b8e2eded72973fa12879b1419542ba984,Copy resolv.conf handling from diskimage-builder,MERGED,2021-03-19 14:45:12.000000000,2021-03-30 14:32:29.000000000,2021-03-30 14:29:09.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-03-19 14:45:12.000000000', 'files': ['dib/ironic-ramdisk-base/cleanup.d/98-prepare-resolve-conf'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/661158b42df9568d7070b3502e941c07c668c926', 'message': 'Copy resolv.conf handling from diskimage-builder\n\nThe copy in finalise_base runs too late for us, leaving a stale\nresolv.conf around (usually copied from the build environment).\n\nChange-Id: I4b89119b8e2eded72973fa12879b1419542ba984\n'}]",0,781745,661158b42df9568d7070b3502e941c07c668c926,9,4,1,10239,,,0,"Copy resolv.conf handling from diskimage-builder

The copy in finalise_base runs too late for us, leaving a stale
resolv.conf around (usually copied from the build environment).

Change-Id: I4b89119b8e2eded72973fa12879b1419542ba984
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/45/781745/1 && git format-patch -1 --stdout FETCH_HEAD,['dib/ironic-ramdisk-base/cleanup.d/98-prepare-resolve-conf'],1,661158b42df9568d7070b3502e941c07c668c926,resolv.conf,"#!/bin/bash # dib-lint: disable=safe_sudo if [ ""${DIB_DEBUG_TRACE:-0}"" -gt 0 ]; then set -x fi set -eu set -o pipefail # NOTE(dtantsur): this a copy of code from img-functions. We need it because it # runs too late when the image is already built. # Finalise resolv.conf # # NOTE(ianw): the /etc/resolv.conf.ORIG file is an # external interface; elements might put a resolv.conf they # want in the final image into this file. # # In create_base() we replaced/created the initial resolv.conf # inside the image with a copy of the ""outside"" version so that # resolving during the build will work. # # If that file has been replace with a symlink (resolvconf package # can do this), or marked immutable, then don't restore the # original version, just leave it alone. if [ -L $TMP_MOUNT_PATH/etc/resolv.conf ] || \ lsattr $TMP_MOUNT_PATH/etc/resolv.conf | grep '^....i' >/dev/null ; then # We're keeping the contents of resolv.conf set in the elements, # so remove the old saved file sudo rm -f $TMP_MOUNT_PATH/etc/resolv.conf.ORIG else # Remove the resolv.conf we created and put the original (or # perhaps modified) version back. sudo rm -f $TMP_MOUNT_PATH/etc/resolv.conf # Note that we use -L and -f to test here as test (and bash [[) # return false with -e if the link target does not exist. if [ -L $TMP_MOUNT_PATH/etc/resolv.conf.ORIG ] || [ -f $TMP_MOUNT_PATH/etc/resolv.conf.ORIG ] ; then sudo mv $TMP_MOUNT_PATH/etc/resolv.conf.ORIG $TMP_MOUNT_PATH/etc/resolv.conf fi fi ",,42,0
openstack%2Fbarbican~master~I35335325828c10f7a0a1c97edfd1a842dda77577,openstack/barbican,master,I35335325828c10f7a0a1c97edfd1a842dda77577,Monkey patch original current_thread _active,MERGED,2020-05-04 17:37:54.000000000,2021-03-30 14:11:40.000000000,2021-03-30 14:08:53.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-05-04 17:37:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/ee35678dbf48040426a27117d0f05bf34137e4c5', 'message': 'Monkey patch original current_thread _active\n\nMonkey patch the original current_thread to use the up-to-date _active\nglobal variable. This solution is based on that documented at:\nhttps://github.com/eventlet/eventlet/issues/592\n\nChange-Id: I35335325828c10f7a0a1c97edfd1a842dda77577\nStory: 2007614\n'}, {'number': 2, 'created': '2021-03-19 15:02:16.000000000', 'files': ['barbican/cmd/retry_scheduler.py', 'barbican/cmd/keystone_listener.py', 'barbican/cmd/worker.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/14e3ab97048d2ca27188ed5ed431a669dfa3aabe', 'message': 'Monkey patch original current_thread _active\n\nMonkey patch the original current_thread to use the up-to-date _active\nglobal variable. This solution is based on that documented at:\nhttps://github.com/eventlet/eventlet/issues/592\n\nChange-Id: I35335325828c10f7a0a1c97edfd1a842dda77577\nStory: 2007614\n'}]",0,725353,14e3ab97048d2ca27188ed5ed431a669dfa3aabe,11,3,2,11805,,,0,"Monkey patch original current_thread _active

Monkey patch the original current_thread to use the up-to-date _active
global variable. This solution is based on that documented at:
https://github.com/eventlet/eventlet/issues/592

Change-Id: I35335325828c10f7a0a1c97edfd1a842dda77577
Story: 2007614
",git fetch https://review.opendev.org/openstack/barbican refs/changes/53/725353/2 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/cmd/retry_scheduler.py', 'barbican/cmd/keystone_listener.py', 'barbican/cmd/worker.py']",3,ee35678dbf48040426a27117d0f05bf34137e4c5,bug/1863021,# Monkey patch the original current_thread to use the up-to-date _active # global variable. See https://bugs.launchpad.net/bugs/1863021 and # https://github.com/eventlet/eventlet/issues/592 import __original_module_threading as orig_threading import threading # noqa orig_threading.current_thread.__globals__['_active'] = threading._active,,18,0
openstack%2Fcastellan~master~Ia049005001e29c84957ebebbeae922cab0f60e97,openstack/castellan,master,Ia049005001e29c84957ebebbeae922cab0f60e97,Add Python3 xena unit tests,MERGED,2021-03-18 11:11:29.000000000,2021-03-30 14:11:11.000000000,2021-03-30 14:04:26.000000000,"[{'_account_id': 22348}, {'_account_id': 27954}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-18 11:11:29.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/castellan/commit/33de80a38807b44ee1a736ee2d340e5912927932', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Ia049005001e29c84957ebebbeae922cab0f60e97\n'}]",0,781337,33de80a38807b44ee1a736ee2d340e5912927932,10,3,1,22816,,,0,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Ia049005001e29c84957ebebbeae922cab0f60e97
",git fetch https://review.opendev.org/openstack/castellan refs/changes/37/781337/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,33de80a38807b44ee1a736ee2d340e5912927932,add-xena-python-jobtemplates, - openstack-python3-xena-jobs, - openstack-python3-wallaby-jobs,1,1
openstack%2Fmonasca-notification~master~Ib808975d3bb51989154a9f9935497e73f0e63821,openstack/monasca-notification,master,Ib808975d3bb51989154a9f9935497e73f0e63821,Add Python3 xena unit tests,MERGED,2021-03-26 11:11:23.000000000,2021-03-30 13:59:19.000000000,2021-03-30 13:59:19.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-03-26 11:11:23.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/54f66e9b75c127f73c428e954b62113d024d22d5', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Ib808975d3bb51989154a9f9935497e73f0e63821\n'}]",0,783262,54f66e9b75c127f73c428e954b62113d024d22d5,7,2,1,22816,,,0,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Ib808975d3bb51989154a9f9935497e73f0e63821
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/62/783262/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,54f66e9b75c127f73c428e954b62113d024d22d5,add-xena-python-jobtemplates, - openstack-python3-xena-jobs, - openstack-python3-wallaby-jobs,1,1
openstack%2Fproject-team-guide~master~Ibcb9f039170c993e4f035c9c6588cad0f8c61f48,openstack/project-team-guide,master,Ibcb9f039170c993e4f035c9c6588cad0f8c61f48,Adding EM link to point the openstack governance resolution,MERGED,2020-10-21 10:13:16.000000000,2021-03-30 13:58:50.000000000,2021-03-30 13:57:17.000000000,"[{'_account_id': 8556}, {'_account_id': 16708}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-10-21 10:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/7032b38d2d18c0c0ffce9d3aaa46361041c4e62b', 'message': 'Adding EM link to point the openstack governance resolution\n\nChange-Id: Ibcb9f039170c993e4f035c9c6588cad0f8c61f48\n'}, {'number': 2, 'created': '2021-03-30 06:18:23.000000000', 'files': ['doc/source/stable-branches.rst'], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/f8cd399d316e192baeabfba932a91e3c8782f286', 'message': 'Adding EM link to point the openstack governance resolution\n\nChange-Id: Ibcb9f039170c993e4f035c9c6588cad0f8c61f48\n'}]",1,758993,f8cd399d316e192baeabfba932a91e3c8782f286,12,4,2,28522,,,0,"Adding EM link to point the openstack governance resolution

Change-Id: Ibcb9f039170c993e4f035c9c6588cad0f8c61f48
",git fetch https://review.opendev.org/openstack/project-team-guide refs/changes/93/758993/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/stable-branches.rst'],1,7032b38d2d18c0c0ffce9d3aaa46361041c4e62b,em-governance-page,.. note:: For further details about the Extended Maintenance please take a look to `the openstack governance's related resolution <https://governance.openstack.org/tc/resolutions/20180301-stable-branch-eol.html>`_. ,,5,0
openstack%2Fmonasca-persister~master~Ib38bb5625953354bd0afe4ab5fea0ce94a69dce4,openstack/monasca-persister,master,Ib38bb5625953354bd0afe4ab5fea0ce94a69dce4,Update master for stable/wallaby,MERGED,2021-03-26 11:13:56.000000000,2021-03-30 13:55:51.000000000,2021-03-30 13:54:00.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-03-26 11:13:56.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/5d256226da9a5ae58f0b33be4428b63bd269f3f6', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: Ib38bb5625953354bd0afe4ab5fea0ce94a69dce4\n'}]",0,783268,5d256226da9a5ae58f0b33be4428b63bd269f3f6,7,2,1,22816,,,0,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: Ib38bb5625953354bd0afe4ab5fea0ce94a69dce4
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/68/783268/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,5d256226da9a5ae58f0b33be4428b63bd269f3f6,reno-wallaby, wallaby,,7,0
openstack%2Ftripleo-quickstart~master~Ic214f02bae5e6094ed083b9648e178b661c27a25,openstack/tripleo-quickstart,master,Ic214f02bae5e6094ed083b9648e178b661c27a25,Add release file for wallaby release,MERGED,2021-03-22 11:56:39.000000000,2021-03-30 13:55:49.000000000,2021-03-30 13:51:26.000000000,"[{'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 18002}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 32583}]","[{'number': 1, 'created': '2021-03-22 11:56:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7d28883f91965e770809f34546c6af74af65d26c', 'message': 'Add release file for wallaby release\n\nWith this patch, we are adding release file for wallaby.\n\nChange-Id: Ic214f02bae5e6094ed083b9648e178b661c27a25\n'}, {'number': 2, 'created': '2021-03-23 09:59:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/614d2eae9f6d392528b917dc320c80b311c15d1b', 'message': 'Add release file for wallaby release\n\nWith this patch, we are adding release file for wallaby.\n\nChange-Id: Ic214f02bae5e6094ed083b9648e178b661c27a25\n'}, {'number': 3, 'created': '2021-03-26 07:38:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4278f19776300a39b7df4c93c8c85396b1da0cb9', 'message': 'Add release file for wallaby release\n\nWith this patch, we are adding release files for wallaby.\n\nAlso, updating master release file to remove nautilus repo to pull\nceph packages. ceph-ansible is now available in the octopus repo.\nnautilus repo was added in [1] but we missed to update\ncentosci/master-current-tripleo.yml & trunk/master.yml in [2] & [3].\n\n[1] https://review.opendev.org/c/openstack/tripleo-quickstart/+/768599\n[2] https://review.opendev.org/c/openstack/tripleo-quickstart/+/780008\n[3] https://review.opendev.org/c/openstack/tripleo-quickstart/+/779657\n\nChange-Id: Ic214f02bae5e6094ed083b9648e178b661c27a25\n'}, {'number': 4, 'created': '2021-03-29 12:47:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/533cde265afc8e188e23584aafa610673b72b503', 'message': 'Add release file for wallaby release\n\nWith this patch, we are adding release files for wallaby.\n\nAlso, updating master release file to remove nautilus repo to pull\nceph packages. ceph-ansible is now available in the octopus repo.\nnautilus repo was added in [1] but we missed to update\ncentosci/master-current-tripleo.yml & trunk/master.yml in [2] & [3].\n\n[1] https://review.opendev.org/c/openstack/tripleo-quickstart/+/768599\n[2] https://review.opendev.org/c/openstack/tripleo-quickstart/+/780008\n[3] https://review.opendev.org/c/openstack/tripleo-quickstart/+/779657\n\nChange-Id: Ic214f02bae5e6094ed083b9648e178b661c27a25\n'}, {'number': 5, 'created': '2021-03-29 12:50:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/173c7d10f0b30030588a781feef1b466edbb0246', 'message': 'Add release file for wallaby release\n\nWith this patch, we are adding release files for wallaby.\n\nAlso, updating master release file to remove nautilus repo to pull\nceph packages. ceph-ansible is now available in the octopus repo.\nnautilus repo was added in [1] but we missed to update\ncentosci/master-current-tripleo.yml & trunk/master.yml in [2] & [3].\n\n[1] https://review.opendev.org/c/openstack/tripleo-quickstart/+/768599\n[2] https://review.opendev.org/c/openstack/tripleo-quickstart/+/780008\n[3] https://review.opendev.org/c/openstack/tripleo-quickstart/+/779657\n\nChange-Id: Ic214f02bae5e6094ed083b9648e178b661c27a25\n'}, {'number': 6, 'created': '2021-03-29 13:14:37.000000000', 'files': ['config/release/trunk/master.yml', 'config/release/wallaby.yml', 'config/release/trunk/wallaby.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-wallaby.yml', 'config/release/centosci/master-current-tripleo.yml', 'config/release/tripleo-ci/CentOS-8/wallaby.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/965e2cae38497549dafd3bd34a357fe00fcc43de', 'message': 'Add release file for wallaby release\n\nWith this patch, we are adding release files for wallaby.\n\nAlso, updating master release file to remove nautilus repo to pull\nceph packages. ceph-ansible is now available in the octopus repo.\nnautilus repo was added in [1] but we missed to update\ncentosci/master-current-tripleo.yml & trunk/master.yml in [2] & [3].\n\n[1] https://review.opendev.org/c/openstack/tripleo-quickstart/+/768599\n[2] https://review.opendev.org/c/openstack/tripleo-quickstart/+/780008\n[3] https://review.opendev.org/c/openstack/tripleo-quickstart/+/779657\n\nChange-Id: Ic214f02bae5e6094ed083b9648e178b661c27a25\n'}]",20,782211,965e2cae38497549dafd3bd34a357fe00fcc43de,42,12,6,29775,,,0,"Add release file for wallaby release

With this patch, we are adding release files for wallaby.

Also, updating master release file to remove nautilus repo to pull
ceph packages. ceph-ansible is now available in the octopus repo.
nautilus repo was added in [1] but we missed to update
centosci/master-current-tripleo.yml & trunk/master.yml in [2] & [3].

[1] https://review.opendev.org/c/openstack/tripleo-quickstart/+/768599
[2] https://review.opendev.org/c/openstack/tripleo-quickstart/+/780008
[3] https://review.opendev.org/c/openstack/tripleo-quickstart/+/779657

Change-Id: Ic214f02bae5e6094ed083b9648e178b661c27a25
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/11/782211/5 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/wallaby.yml', 'config/release/trunk/wallaby.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-wallaby.yml', 'config/release/tripleo-ci/CentOS-8/wallaby.yml']",4,7d28883f91965e770809f34546c6af74af65d26c,wallaby-branching,"# name and tags devmode: true overcloud_as_undercloud: true release: wallaby distro_ver: centos8 distro_deps_repo_name: deps dlrn_hash_tag: ""{{ job.provider_dlrn_hash_tag_branch[release]|default('current-tripleo') }}"" dlrn_hash_tag_newest: current validate_on: rdo # job.build_container_images is defined in zuul as a # direct var. adding build_container_images as tqe # var so that we can turn this on/off per release w/o # changing zuul and breaking jobs via inheritance. docker_registry_host: >- {% if job is defined and job.build_container_images is defined and job.build_container_images|default(false)|bool or build_container_images|default(false)|bool -%} 127.0.0.1:5001 {%- elif job.consumer_job | default(false) | bool -%} {{ job.registry_ip_address_branch[release] }}:5001 {%- else -%} docker.io {%- endif -%} docker_registry_namespace: ""tripleo{{ release }}"" docker_image_tag: ""{{ dlrn_hash|default(dlrn_hash_tag) }}"" docker_openshift_tag: v3.11.0 promote_source: current-tripleo # images images: - name: overcloud-full url: ""{{ overcloud_image_url }}"" type: tar - name: ipa_images url: ""{{ ipa_image_url }}"" type: tar inject_images: - ""ironic-python-agent.initramfs"" - ""ironic-python-agent.kernel"" - ""overcloud-full.qcow2"" - ""overcloud-full.initrd"" - ""overcloud-full.vmlinuz"" dlrn_baseurl: ""https://trunk.rdoproject.org/{{ distro_ver }}-{{ release }}"" overcloud_image_url: ""https://images.rdoproject.org/{{ distro_ver }}/{{ release }}/rdo_trunk/{{ promote_source }}/overcloud-full.tar"" ipa_image_url: ""https://images.rdoproject.org/{{ distro_ver }}/{{ release }}/rdo_trunk/{{ promote_source }}/ironic-python-agent.tar"" # repo setup repo_cmd_before: | sudo rm -rf /etc/yum.repos.d/delorean*; sudo rm -rf /etc/yum.repos.d/*.rpmsave; sudo rm -rf /etc/yum.repos.d/epel*; sudo dnf clean all; sudo dnf config-manager --disable ""*"" || true; # In https://review.opendev.org/c/765834 a release specific gating-repo is created. # The release specifc gating repo is copied to gating.repo for consistency across ci # The original file is backed up for logging purposes. Upgrade jobs will run with # two releases. sudo cp -f /etc/yum.repos.d/gating-repo-{{ release }}.repo /etc/yum.repos.d/gating.repo || true; sudo sed -i -e ""s/gating-repo-{{ release }}/gating-repo/"" /etc/yum.repos.d/gating.repo || true; sudo mv /etc/yum.repos.d/gating-repo-{{ release }}.repo /etc/yum.repos.d/gating-repo-{{ release }}.repo_previous || true; sudo dnf config-manager --enable gating-repo || true; if [ -e /etc/ci/mirror_info.sh ]; then source /etc/ci/mirror_info.sh else # Otherwise, fallback to official mirrors provided by CentOS. export NODEPOOL_CENTOS_MIRROR={{ lookup('env','NODEPOOL_CENTOS_MIRROR')|default('http://mirror.centos.org/centos', true) }} export NODEPOOL_RDO_PROXY=https://trunk.rdoproject.org fi {% if dlrn_hash_path_newest is defined and dlrn_hash_path_newest %} export DLRN_PATH_TAG_NEWEST=""current/{{ dlrn_hash_path_newest }}"" {% elif dlrn_hash_tag_newest is match(""^[a-zA-Z0-9]{32}$"") %} export DLRN_PATH_TAG_NEWEST=""current/{{ dlrn_hash_tag_newest[:2] }}/{{ dlrn_hash_tag_newest[2:4] }}/{{ dlrn_hash_tag_newest }}"" {% else %} export DLRN_PATH_TAG_NEWEST=""{{ dlrn_hash_tag_newest }}"" {% endif %} {% if dlrn_hash_path is defined and dlrn_hash_path %} export DLRN_PATH_TAG=""{{ promote_source }}/{{ dlrn_hash_path }}"" {% elif dlrn_hash_tag is match(""^[a-zA-Z0-9]{32}$"") %} export DLRN_PATH_TAG=""{{ promote_source }}/{{ dlrn_hash_tag[:2] }}/{{ dlrn_hash_tag[2:4] }}/{{ dlrn_hash_tag }}"" {% else %} export DLRN_PATH_TAG=""{{ dlrn_hash_tag }}"" {% endif %} rdo_dlrn=`curl --silent https://trunk.rdoproject.org/{{ distro_ver }}-{{ release }}/${DLRN_PATH_TAG_NEWEST}/delorean.repo -S 2>>~/dlrn_repo_curl_errors.log | grep baseurl | grep ""component/tripleo"" | cut -d= -f2` if [[ -z ""$rdo_dlrn"" ]]; then echo ""Failed to parse dlrn hash"" exit 1 fi export RDO_DLRN_REPO=${rdo_dlrn/https:\/\/trunk.rdoproject.org/$NODEPOOL_RDO_PROXY} repos: # RDO repos - type: file filename: delorean.repo down_url: ""https://trunk.rdoproject.org/{{ distro_ver }}-{{ release }}/${DLRN_PATH_TAG}/delorean.repo"" # name of delorean-tripleo-component-current? naming is hard - type: generic reponame: delorean-current filename: delorean-current.repo baseurl: $RDO_DLRN_REPO priority: 10 includepkgs: - ansible-role-container-registry - ansible-role-tripleo* - ansible-tripleo-ipsec - instack - instack-undercloud - openstack-tripleo-* - os-apply-config - os-collect-config - os-net-config - os-refresh-config - puppet-oslo - puppet-cinder - puppet-heat - puppet-neutron - puppet-nova - puppet-glance - puppet-horizon - puppet-ironic - puppet-keystone - puppet-mistral - puppet-openstacklib - puppet-swift - puppet-tripleo - puppet-zaqar - python*-tripleo* - python*-paunch* - paunch-services - tripleo-ansible - ansible-config_template - type: file filename: delorean-{{ release }}-deps.repo down_url: ""https://trunk.rdoproject.org/{{ distro_ver }}-{{ release }}/delorean-deps.repo"" # CentOS related repos - type: generic reponame: quickstart-centos-base filename: quickstart-centos-base.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/8-stream/BaseOS/x86_64/os/ - type: generic reponame: quickstart-centos-appstreams filename: quickstart-centos-appstreams.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/8-stream/AppStream/x86_64/os/ - type: generic reponame: quickstart-centos-powertools filename: quickstart-centos-powertools.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/8-stream/PowerTools/x86_64/os/ - type: generic reponame: quickstart-centos-highavailability filename: quickstart-centos-highavailability.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/8-stream/HighAvailability/x86_64/os/ - type: generic reponame: quickstart-centos-extras filename: quickstart-centos-extras.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/8-stream/extras/x86_64/os/ - type: generic reponame: quickstart-centos-ceph-nautilus filename: quickstart-centos-ceph-nautilus.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/8/storage/x86_64/ceph-nautilus/ - type: generic reponame: quickstart-centos-opstools filename: quickstart-centos-opstools.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/8/opstools/x86_64/collectd-5/ repo_cmd_after: | # Replace trunk.rdoproject.org to nodepool proxy sudo sed -i -e ""s|https://trunk.rdoproject.org|$NODEPOOL_RDO_PROXY|g"" /etc/yum.repos.d/delorean.repo sudo sed -i -e ""s|https://trunk.rdoproject.org|$NODEPOOL_RDO_PROXY|g"" /etc/yum.repos.d/delorean-{{ release }}-deps.repo sudo sed -i -e ""s|http://mirror.centos.org/centos|$NODEPOOL_CENTOS_MIRROR|g"" /etc/yum.repos.d/delorean-{{ release }}-deps.repo # note potential name change - FIX ME sudo sed -i -e ""s|https://trunk.rdoproject.org|$NODEPOOL_RDO_PROXY|g"" /etc/yum.repos.d/delorean-current.repo sudo sed -i -e ""s|priority=1|priority=20|g"" /etc/yum.repos.d/delorean.repo {% if not enable_opstools_repo|default(false)|bool %}sudo yum-config-manager --save --setopt quickstart-centos-opstools.enabled=0; {%endif %} # sudo dnf config-manager --disable rdo-qemu-ev; sudo rpm -e epel-release || true; sudo dnf remove -y rdo-release centos-release-ceph-* centos-release-openstack-* || true; sudo rm -rf /etc/yum.repos.d/CentOS-OpenStack-*.repo /etc/yum.repos.d/CentOS-Ceph-*.repo; sudo rm -rf /etc/yum.repos.d/*.rpmsave; sudo dnf repolist; sudo dnf module list; sudo dnf module disable container-tools:rhel8 -y; sudo dnf module enable container-tools:2.0 -y; sudo dnf clean metadata {% if repo_setup_run_update|default(true)|bool %} sudo dnf update -y {% endif %} undercloud_rpm_dependencies: >- python3-tripleoclient ceph-ansible # baseos settings baseos_undercloud_image_url: https://cloud.centos.org/centos/8-stream/x86_64/images/CentOS-Stream-GenericCloud-8-20201217.0.x86_64.qcow2 baseos_image: centos baseos_image_type: qcow2 baseos_md5sum: ""70d5c374156f2ab92c058b6a6150f55e CentOS-Stream-GenericCloud-8-20201217.0.x86_64.qcow2"" ",,484,0
openstack%2Fmonasca-notification~master~I795ff12d3e450b7d39f4cb4f6e577df717b7f80f,openstack/monasca-notification,master,I795ff12d3e450b7d39f4cb4f6e577df717b7f80f,Update master for stable/wallaby,MERGED,2021-03-26 11:11:07.000000000,2021-03-30 13:55:47.000000000,2021-03-30 13:49:52.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-03-26 11:11:07.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/ff1872d1618012808c06c37161f81ba4f0202b38', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: I795ff12d3e450b7d39f4cb4f6e577df717b7f80f\n'}]",0,783261,ff1872d1618012808c06c37161f81ba4f0202b38,7,2,1,22816,,,0,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: I795ff12d3e450b7d39f4cb4f6e577df717b7f80f
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/61/783261/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,ff1872d1618012808c06c37161f81ba4f0202b38,reno-wallaby, wallaby,,7,0
openstack%2Ftripleo-ansible~master~I994449cc08aa01519bbf888ac28f98304a6b79ed,openstack/tripleo-ansible,master,I994449cc08aa01519bbf888ac28f98304a6b79ed,Reducing fact gathering,MERGED,2021-03-29 20:37:32.000000000,2021-03-30 13:52:27.000000000,2021-03-30 13:52:27.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-03-29 20:37:32.000000000', 'files': ['tripleo_ansible/roles/tripleo_kernel/tasks/reboot.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b8d622ec8a68d84756d6eabe84b8659dcae16c28', 'message': 'Reducing fact gathering\n\nThere\'s work to reduce fact gathering. It\'s probably pretty safe to\nremove the fact gathering here as it was added to gather what\'s getting\npicked by the more precise ""Get ifcfg facts"" task.\n\nRelated-Bug: #1915761\nChange-Id: I994449cc08aa01519bbf888ac28f98304a6b79ed\n'}]",0,783744,b8d622ec8a68d84756d6eabe84b8659dcae16c28,10,5,1,27419,,,0,"Reducing fact gathering

There's work to reduce fact gathering. It's probably pretty safe to
remove the fact gathering here as it was added to gather what's getting
picked by the more precise ""Get ifcfg facts"" task.

Related-Bug: #1915761
Change-Id: I994449cc08aa01519bbf888ac28f98304a6b79ed
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/44/783744/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_kernel/tasks/reboot.yaml'],1,b8d622ec8a68d84756d6eabe84b8659dcae16c28,,, - name: Update facts before attempting to disable interfaces setup:,0,2
openstack%2Fmanila~master~I3062950e7b9c5b7d93a8332b65881f83226cda4e,openstack/manila,master,I3062950e7b9c5b7d93a8332b65881f83226cda4e,Add release note for secure rbac work,MERGED,2021-03-26 06:46:37.000000000,2021-03-30 13:44:19.000000000,2021-03-26 16:19:40.000000000,"[{'_account_id': 5046}, {'_account_id': 9003}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-03-26 06:46:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f1de32c53398c0163e5185abaf572e67f40b6ca4', 'message': 'Add release note for secure rbac work\n\nCall out the feature and its impact.\n\nChange-Id: I3062950e7b9c5b7d93a8332b65881f83226cda4e\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 2, 'created': '2021-03-26 14:14:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/07b10acc74534d19e4bd24e321717ab9aa2be2d9', 'message': 'Add release note for secure rbac work\n\nCall out the feature and its impact.\n\nChange-Id: I3062950e7b9c5b7d93a8332b65881f83226cda4e\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 3, 'created': '2021-03-26 15:21:45.000000000', 'files': ['releasenotes/notes/new-secure-rbac-defaults-in-wallaby-13c0583afdfcfcc7.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/7a99c6a18135e2f1c05f019e5f105da65e871598', 'message': 'Add release note for secure rbac work\n\nCall out the feature and its impact.\n\nChange-Id: I3062950e7b9c5b7d93a8332b65881f83226cda4e\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",10,783192,7a99c6a18135e2f1c05f019e5f105da65e871598,28,5,3,16643,,,0,"Add release note for secure rbac work

Call out the feature and its impact.

Change-Id: I3062950e7b9c5b7d93a8332b65881f83226cda4e
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/92/783192/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/new-secure-rbac-defaults-in-wallaby-13c0583afdfcfcc7.yaml'],1,f1de32c53398c0163e5185abaf572e67f40b6ca4,secure-rbac,"--- prelude: > The default check strings of all manila API RBAC policies have been updated to support default user personas from the OpenStack Identity Service (Keystone). This includes support for project scoped member, reader, administrator user roles as well as system scoped member, reader and administrator roles. A manila ""admin"" persona is eventually expected to transition to the system scoped ""admin"" persona and some isolated project administrator privileges (like force-deleting a resource, resyncing a share replica or resetting state of a resource) are retained to an admin user operating within the scope of a project. Do read further impact in the ``upgrade`` section of these notes. upgrade: - | During the Wallaby release, API RBAC policies have new defaults, however, all old behavior is preserved as is, and the new defaults are not enabled. To be able to use systems scoped personas, you will need to enable the ``enforce_scope`` configuration option in the ``[oslo_policy]`` section of manila.conf. To enforce the new defaults, the configuration option ``enforce_new_defaults`` must be enabled from the ``[oslo_policy]`` section of manila.conf. We do not advise enabling the new defaults in production deployments yet. The manila developer community is actively adding test coverage and we aim to backport fixes to the Wallaby release and update code when we find any deficiencies. Refer to the future service release notes and the administrator documentation to keep abreast of the changes and the progress with these new defaults. ",,26,0
openstack%2Freleases~master~I44040bc040f19a75c468d385395323fe0a1f459a,openstack/releases,master,I44040bc040f19a75c468d385395323fe0a1f459a,Ignore trailing projects from RC1,MERGED,2021-03-26 11:06:01.000000000,2021-03-30 13:38:16.000000000,2021-03-30 13:38:16.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-26 11:06:01.000000000', 'files': ['tools/list_rc1.sh', 'doc/source/reference/process.rst'], 'web_link': 'https://opendev.org/openstack/releases/commit/57d91b0b13edcc2bd211ebf7075824e597d76b4b', 'message': ""Ignore trailing projects from RC1\n\nSome traiing projects follow the cycle-with-rc model however our doc\nand our tools doesn't differentiate them during RC1. These project\ndoesn't have to be released during RC1. These changes adapt our process\naccordingly.\n\nChange-Id: I44040bc040f19a75c468d385395323fe0a1f459a\n""}]",0,783257,57d91b0b13edcc2bd211ebf7075824e597d76b4b,9,3,1,28522,,,0,"Ignore trailing projects from RC1

Some traiing projects follow the cycle-with-rc model however our doc
and our tools doesn't differentiate them during RC1. These project
doesn't have to be released during RC1. These changes adapt our process
accordingly.

Change-Id: I44040bc040f19a75c468d385395323fe0a1f459a
",git fetch https://review.opendev.org/openstack/releases refs/changes/57/783257/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/list_rc1.sh', 'doc/source/reference/process.rst']",2,57d91b0b13edcc2bd211ebf7075824e597d76b4b,ignore-trailing-projects," - cycle-with-rc that are not trailing deliverables and that have not done a RC1 yet, for which a release should be proposed from HEAD, and include stable branch creation. You can list those using:: tools/list_rc1.sh"," - cycle-with-rc deliverables that have not done a RC1 yet, for which a release should be proposed from HEAD, and include stable branch creation. You can list those using:: tox -e venv -- list-deliverables --missing-rc --model cycle-with-rc",35,4
openstack%2Fcastellan~master~Ia9a6c82e840dc8cbd6d37aca394e718a03ba4c77,openstack/castellan,master,Ia9a6c82e840dc8cbd6d37aca394e718a03ba4c77,Update master for stable/wallaby,MERGED,2021-03-18 11:11:16.000000000,2021-03-30 13:31:46.000000000,2021-03-30 13:28:45.000000000,"[{'_account_id': 22348}, {'_account_id': 27954}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-18 11:11:16.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/castellan/commit/cec4584d7073c0c086fff4c1077efe5725c2ad47', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: Ia9a6c82e840dc8cbd6d37aca394e718a03ba4c77\n'}]",0,781336,cec4584d7073c0c086fff4c1077efe5725c2ad47,10,3,1,22816,,,0,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: Ia9a6c82e840dc8cbd6d37aca394e718a03ba4c77
",git fetch https://review.opendev.org/openstack/castellan refs/changes/36/781336/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,cec4584d7073c0c086fff4c1077efe5725c2ad47,reno-wallaby, wallaby,,7,0
openstack%2Fmonasca-agent~master~I76823e7462eb31037b34a56fb61b60a002286dee,openstack/monasca-agent,master,I76823e7462eb31037b34a56fb61b60a002286dee,Add support for application credentials,NEW,2020-09-07 21:01:18.000000000,2021-03-30 13:28:50.000000000,,"[{'_account_id': 10910}, {'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 26141}, {'_account_id': 28022}, {'_account_id': 32017}]","[{'number': 1, 'created': '2020-09-07 21:01:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/28cc1ff672be028e28a917775e6546a9dff86cff', 'message': 'Add support for application credentials\n\nIntroduce additional Api configuration parameters necessary\nto support authentication via application credential.\n\nChange-Id: I76823e7462eb31037b34a56fb61b60a002286dee\nStory: 2005622\nTask: 30875\n'}, {'number': 2, 'created': '2021-03-19 14:17:05.000000000', 'files': ['agent.yaml.template', 'tests/test_keystone.py', 'monasca_agent/common/keystone.py', 'monasca_agent/common/config.py', 'monasca_setup/main.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/437546a83186a8e60dc7a5f461d26295bd9e4b4b', 'message': 'Add support for application credentials\n\nIntroduce additional Api configuration parameters necessary\nto support authentication via application credential.\n\nStory: 2005622\nTask: 30875\n\nChange-Id: I76823e7462eb31037b34a56fb61b60a002286dee\n'}]",5,750213,437546a83186a8e60dc7a5f461d26295bd9e4b4b,8,7,2,10910,,,0,"Add support for application credentials

Introduce additional Api configuration parameters necessary
to support authentication via application credential.

Story: 2005622
Task: 30875

Change-Id: I76823e7462eb31037b34a56fb61b60a002286dee
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/13/750213/2 && git format-patch -1 --stdout FETCH_HEAD,"['agent.yaml.template', 'monasca_agent/common/keystone.py', 'monasca_agent/common/config.py', 'monasca_setup/main.py']",4,28cc1ff672be028e28a917775e6546a9dff86cff,app-cred," basic_auth_present = args.username and args.password appcred_auth_present = args.application_credential_id or args.application_credential_name if (not basic_auth_present and not appcred_auth_present or ""Required for basic configuration."", default='') ""Required for basic configuration."", default='') '--application_credential_secret', help=""Application credential secret for keystone authentication when using app creds"", default='') parser.add_argument( '--application_credential_id', help=""Application credential ID for keystone authentication when using app creds"", default='') parser.add_argument( '--application_credential_name', help=""Application credential name for keystone authentication when using app creds"", default='') parser.add_argument("," if (args.username is None or args.password is None or ""Required for basic configuration."") ""Required for basic configuration."")",74,25
openstack%2Fneutron~stable%2Fvictoria~Iffdc0373ed72aea1320155ea8bec93dce797f27c,openstack/neutron,stable/victoria,Iffdc0373ed72aea1320155ea8bec93dce797f27c,"[FT] Reduce ""test_walk_versions"" upgrade executions",MERGED,2021-03-27 17:21:29.000000000,2021-03-30 13:08:02.000000000,2021-03-30 13:05:55.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-27 17:21:29.000000000', 'files': ['neutron/tests/functional/db/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7946e41a622ef6d9ab145d1e3e553263ff9ff36c', 'message': '[FT] Reduce ""test_walk_versions"" upgrade executions\n\n""_TestWalkMigrations.test_walk_versions"" is inherited in other classes\nto check a specific DB revision upgrade. The goal is to, from the\nprevious DB revision, create a testing condition and then upgrade to\nthe related DB revision. If the upgrade is correct, the test should\npass.\n\nThis patch reduces the number of Neutron DB upgrade operations to\njust three:\n- Upgrade the DB to the previous DB revision to check.\n- Upgrade the DB to the related DB revision, after setting the testing\n  conditions.\n- A final upgrade up to the latest DB revision.\n\nIn a testing deployment, this reduces the execution time from 60 seconds\nto 35 seconds, without reducing the testing scope.\n\nChange-Id: Iffdc0373ed72aea1320155ea8bec93dce797f27c\nRelated-Bug: #1911153\n(cherry picked from commit c84ae9762c2bae84a3f5f20cfb01b8ef00f46118)\n'}]",0,783560,7946e41a622ef6d9ab145d1e3e553263ff9ff36c,16,3,1,16688,,,0,"[FT] Reduce ""test_walk_versions"" upgrade executions

""_TestWalkMigrations.test_walk_versions"" is inherited in other classes
to check a specific DB revision upgrade. The goal is to, from the
previous DB revision, create a testing condition and then upgrade to
the related DB revision. If the upgrade is correct, the test should
pass.

This patch reduces the number of Neutron DB upgrade operations to
just three:
- Upgrade the DB to the previous DB revision to check.
- Upgrade the DB to the related DB revision, after setting the testing
  conditions.
- A final upgrade up to the latest DB revision.

In a testing deployment, this reduces the execution time from 60 seconds
to 35 seconds, without reducing the testing scope.

Change-Id: Iffdc0373ed72aea1320155ea8bec93dce797f27c
Related-Bug: #1911153
(cherry picked from commit c84ae9762c2bae84a3f5f20cfb01b8ef00f46118)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/60/783560/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/db/test_migrations.py'],1,7946e41a622ef6d9ab145d1e3e553263ff9ff36c,bug/1911153," def _migrate_up(self, config, engine, dest, curr): data = None check = getattr(self, ""_check_%s"" % dest, None) pre_upgrade = getattr(self, ""_pre_upgrade_%s"" % dest, None) if pre_upgrade: if curr: migration.do_alembic_command(config, 'upgrade', curr) data = pre_upgrade(engine) if check and data: migration.do_alembic_command(config, 'upgrade', dest) check(engine, data) self._migrate_up(config, engine, dest, curr) if dest: migration.do_alembic_command(config, 'upgrade', dest)"," def _migrate_up(self, config, engine, dest, curr, with_data=False): if with_data: data = None pre_upgrade = getattr( self, ""_pre_upgrade_%s"" % dest, None) if pre_upgrade: data = pre_upgrade(engine) migration.do_alembic_command(config, 'upgrade', dest) if with_data: check = getattr(self, ""_check_%s"" % dest, None) if check and data: check(engine, data) self._migrate_up(config, engine, dest, curr, with_data=True)",16,13
openstack%2Fneutron~stable%2Fwallaby~Id3f71611a00e69c4f22340ca4d05d95e4373cf69,openstack/neutron,stable/wallaby,Id3f71611a00e69c4f22340ca4d05d95e4373cf69,Randomize segmentation ID assignation,MERGED,2021-03-29 11:24:21.000000000,2021-03-30 13:07:42.000000000,2021-03-30 13:06:20.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-29 11:24:21.000000000', 'files': ['neutron/tests/unit/objects/plugins/ml2/test_base.py', 'neutron/objects/plugins/ml2/base.py', 'neutron/tests/functional/objects/plugins/ml2/test_base.py', 'neutron/tests/unit/plugins/ml2/drivers/test_type_vlan.py', 'neutron/tests/functional/objects/plugins/ml2/__init__.py', 'neutron/tests/functional/objects/plugins/ml2/test_vlanallocation.py', 'neutron/common/utils.py', 'neutron/tests/functional/objects/plugins/ml2/test_vxlanallocation.py', 'neutron/tests/functional/objects/plugins/__init__.py', 'neutron/tests/functional/objects/plugins/ml2/test_greallocation.py', 'neutron/plugins/ml2/drivers/helpers.py', 'neutron/tests/functional/objects/plugins/ml2/test_geneveallocation.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1d06fd915b33034206a995625ec057cac937fbba', 'message': 'Randomize segmentation ID assignation\n\nIf plugin ""network_segment_range"" is not enabled and a new segment\nis required, if no segmentation ID is provided in the request, the\nsegmentation ID assigned is randomly retrieved from the non\nallocated segmentation IDs.\n\nThe goal is to improve the concurrent network (and segment) creation.\nIf several segments are created in parallel, this random query\nwill return a different segmentation ID to each one, avoiding the\ndatabase retry request.\n\nCloses-Bug: #1920923\n\nChange-Id: Id3f71611a00e69c4f22340ca4d05d95e4373cf69\n(cherry picked from commit 6eaa6d83d7c7f07fd4bf04879c91582de504eff4)\n'}]",0,783639,1d06fd915b33034206a995625ec057cac937fbba,8,4,1,16688,,,0,"Randomize segmentation ID assignation

If plugin ""network_segment_range"" is not enabled and a new segment
is required, if no segmentation ID is provided in the request, the
segmentation ID assigned is randomly retrieved from the non
allocated segmentation IDs.

The goal is to improve the concurrent network (and segment) creation.
If several segments are created in parallel, this random query
will return a different segmentation ID to each one, avoiding the
database retry request.

Closes-Bug: #1920923

Change-Id: Id3f71611a00e69c4f22340ca4d05d95e4373cf69
(cherry picked from commit 6eaa6d83d7c7f07fd4bf04879c91582de504eff4)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/39/783639/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/objects/plugins/ml2/test_base.py', 'neutron/objects/plugins/ml2/base.py', 'neutron/tests/functional/objects/plugins/ml2/test_base.py', 'neutron/tests/unit/plugins/ml2/drivers/test_type_vlan.py', 'neutron/tests/functional/objects/plugins/ml2/__init__.py', 'neutron/tests/functional/objects/plugins/ml2/test_vlanallocation.py', 'neutron/common/utils.py', 'neutron/tests/functional/objects/plugins/ml2/test_vxlanallocation.py', 'neutron/tests/functional/objects/plugins/__init__.py', 'neutron/tests/functional/objects/plugins/ml2/test_greallocation.py', 'neutron/plugins/ml2/drivers/helpers.py', 'neutron/tests/functional/objects/plugins/ml2/test_geneveallocation.py']",12,1d06fd915b33034206a995625ec057cac937fbba,bug/1920923,"# Copyright 2021 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from neutron.objects.plugins.ml2 import geneveallocation from neutron.tests.functional.objects.plugins.ml2 import test_base class TestGeneveSegmentAllocationMySQL(test_base._SegmentAllocationMySQL): segment_allocation_class = geneveallocation.GeneveAllocation class TestGeneveSegmentAllocationPostgreSQL( test_base._SegmentAllocationPostgreSQL): segment_allocation_class = geneveallocation.GeneveAllocation ",,236,15
openstack%2Fmonasca-agent~master~I18b3489f9b40eeda11dc57381d2ab1d84912b2fd,openstack/monasca-agent,master,I18b3489f9b40eeda11dc57381d2ab1d84912b2fd,Add Python3 xena unit tests,MERGED,2021-03-26 10:55:41.000000000,2021-03-30 12:59:23.000000000,2021-03-30 12:59:23.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-03-26 10:55:41.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/cefab7f3e837188ac905a618295e3b56326e61f8', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I18b3489f9b40eeda11dc57381d2ab1d84912b2fd\n'}]",0,783255,cefab7f3e837188ac905a618295e3b56326e61f8,6,2,1,22816,,,0,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I18b3489f9b40eeda11dc57381d2ab1d84912b2fd
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/55/783255/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,cefab7f3e837188ac905a618295e3b56326e61f8,add-xena-python-jobtemplates, - openstack-python3-xena-jobs, - openstack-python3-wallaby-jobs,1,1
openstack%2Fmonasca-ui~master~I3807806d82b60a71565b5ca2b550c3f7adbaa28e,openstack/monasca-ui,master,I3807806d82b60a71565b5ca2b550c3f7adbaa28e,Add Python3 xena unit tests,MERGED,2021-03-26 11:13:13.000000000,2021-03-30 12:52:36.000000000,2021-03-30 12:52:36.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-03-26 11:13:13.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/9014bce3de6fed79f85b79ecf30031e6af7b7356', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I3807806d82b60a71565b5ca2b550c3f7adbaa28e\n'}]",0,783265,9014bce3de6fed79f85b79ecf30031e6af7b7356,7,3,1,22816,,,0,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I3807806d82b60a71565b5ca2b550c3f7adbaa28e
",git fetch https://review.opendev.org/openstack/monasca-ui refs/changes/65/783265/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9014bce3de6fed79f85b79ecf30031e6af7b7356,add-xena-python-jobtemplates, - openstack-python3-xena-jobs-horizon, - openstack-python3-wallaby-jobs-horizon,1,1
openstack%2Fkolla-ansible~stable%2Ftrain~Ib6719a033b37be3e248b682795b7243c60b22b84,openstack/kolla-ansible,stable/train,Ib6719a033b37be3e248b682795b7243c60b22b84,nova-cell: Stop printing ceph keys in output,MERGED,2021-03-22 10:03:38.000000000,2021-03-30 12:45:52.000000000,2021-03-30 12:44:22.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-03-22 10:03:38.000000000', 'files': ['ansible/roles/nova-cell/tasks/external_ceph.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/147951d0ba8fdd387b4a9ae54af17c37fab4f15b', 'message': 'nova-cell: Stop printing ceph keys in output\n\nChange-Id: Ib6719a033b37be3e248b682795b7243c60b22b84\n(cherry picked from commit dbc63244abfb7ea63411f9bc40009aa95bec43c7)\n'}]",0,782120,147951d0ba8fdd387b4a9ae54af17c37fab4f15b,10,3,1,14826,,,0,"nova-cell: Stop printing ceph keys in output

Change-Id: Ib6719a033b37be3e248b682795b7243c60b22b84
(cherry picked from commit dbc63244abfb7ea63411f9bc40009aa95bec43c7)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/20/782120/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/nova-cell/tasks/external_ceph.yml'],1,147951d0ba8fdd387b4a9ae54af17c37fab4f15b,, no_log: True,,1,0
openstack%2Fpuppet-nova~master~I6c835ff59539ef5c08fb0d350de40426a957aa0a,openstack/puppet-nova,master,I6c835ff59539ef5c08fb0d350de40426a957aa0a,Prepare Wallaby RC1,MERGED,2021-03-26 03:28:06.000000000,2021-03-30 12:42:30.000000000,2021-03-29 13:44:53.000000000,"[{'_account_id': 9816}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-26 03:28:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/3684677b2dbf53418e2227bdc12d31b584cd4156', 'message': 'Prepare Wallaby RC1\n\nUpdate the version metadata for Wallaby milestone RC1\n\nChange-Id: I6c835ff59539ef5c08fb0d350de40426a957aa0a\n'}, {'number': 2, 'created': '2021-03-26 10:52:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/58d3aabbca42d6aa4b2c62f520e22318bc39c6a2', 'message': 'Prepare Wallaby RC1\n\nUpdate the version metadata for Wallaby milestone RC1\n\nChange-Id: I6c835ff59539ef5c08fb0d350de40426a957aa0a\n'}, {'number': 3, 'created': '2021-03-26 20:56:12.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/fe8be5b7475155c892c1194c657a8887f0947fd5', 'message': 'Prepare Wallaby RC1\n\nUpdate the version metadata for Wallaby milestone RC1\n\nChange-Id: I6c835ff59539ef5c08fb0d350de40426a957aa0a\n'}]",0,783180,fe8be5b7475155c892c1194c657a8887f0947fd5,19,5,3,9414,,,0,"Prepare Wallaby RC1

Update the version metadata for Wallaby milestone RC1

Change-Id: I6c835ff59539ef5c08fb0d350de40426a957aa0a
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/80/783180/2 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,3684677b2dbf53418e2227bdc12d31b584cd4156,prep-release-wallaby-rc1," ""version_requirement"": "">=18.4.0 <19.0.0"" ""version_requirement"": "">=18.4.0 <19.0.0"" ""version_requirement"": "">=18.4.0 <19.0.0"" ""version_requirement"": "">=18.4.0 <19.0.0"" ""version"": ""18.4.0"""," ""version_requirement"": "">=18.3.0 <19.0.0"" ""version_requirement"": "">=18.3.0 <19.0.0"" ""version_requirement"": "">=18.3.0 <19.0.0"" ""version_requirement"": "">=18.3.0 <19.0.0"" ""version"": ""18.3.0""",5,5
openstack%2Fcinder~master~I07fe2e62a046f7276b6dcd78fd25c89412045d70,openstack/cinder,master,I07fe2e62a046f7276b6dcd78fd25c89412045d70,NetApp ONTAP: Fix FlexGroup replication,MERGED,2021-03-16 02:52:05.000000000,2021-03-30 12:38:58.000000000,2021-03-25 21:51:28.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 22348}, {'_account_id': 31721}]","[{'number': 1, 'created': '2021-03-16 02:52:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a1b3ca1495732e41c32849119bff9bf1bc06b169', 'message': ""NetApp ONTAP: Fix FlexGroup replication\n\nCurrently driver's implementation use the `volume-create` ZAPI call\nto create a secondary volume on destination and enable replication.\nThat call only supports the creation of FlexVols, and must be\nreplaced by the async call `volume-create-async` when dealing with\nFlexGroups.\n\nChange-Id: I07fe2e62a046f7276b6dcd78fd25c89412045d70\n""}, {'number': 2, 'created': '2021-03-16 03:08:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ca8f9d923400616f0eb24b00e3cfdfd82e946c82', 'message': ""NetApp ONTAP: Fix FlexGroup replication\n\nCurrently driver's implementation use the `volume-create` ZAPI call\nto create a secondary volume on destination and enable replication.\nThat call only supports the creation of FlexVols, and must be\nreplaced by the async call `volume-create-async` when dealing with\nFlexGroups.\n\nChange-Id: I07fe2e62a046f7276b6dcd78fd25c89412045d70\n""}, {'number': 3, 'created': '2021-03-16 03:15:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b21a2e49dbf5429d374b6f6d6dbf2e4f8fee2dcb', 'message': ""NetApp ONTAP: Fix FlexGroup replication\n\nCurrently driver's implementation use the `volume-create` ZAPI call\nto create a secondary volume on destination and enable replication.\nThat call only supports the creation of FlexVols, and must be\nreplaced by the async call `volume-create-async` when dealing with\nFlexGroups.\n\nChange-Id: I07fe2e62a046f7276b6dcd78fd25c89412045d70\n""}, {'number': 4, 'created': '2021-03-22 19:00:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/de8586a2d6c1c5e5927ec5e127fc507a81c44b13', 'message': ""NetApp ONTAP: Fix FlexGroup replication\n\nCurrently driver's implementation use the `volume-create` ZAPI call\nto create a secondary volume on destination and enable replication.\nThat call only supports the creation of FlexVols, and must be\nreplaced by the async call `volume-create-async` when dealing with\nFlexGroups.\n\nChange-Id: I07fe2e62a046f7276b6dcd78fd25c89412045d70\n""}, {'number': 5, 'created': '2021-03-24 22:16:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/316a5a980b8ade31b71fcc95c66f0e3a2d36402b', 'message': ""NetApp ONTAP: Fix FlexGroup replication\n\nCurrently driver's implementation use the `volume-create` ZAPI call\nto create a secondary volume on destination and enable replication.\nThat call only supports the creation of FlexVols, and must be\nreplaced by the async call `volume-create-async` when dealing with\nFlexGroups.\n\nChange-Id: I07fe2e62a046f7276b6dcd78fd25c89412045d70\n""}, {'number': 6, 'created': '2021-03-24 22:28:38.000000000', 'files': ['cinder/tests/unit/volume/drivers/netapp/dataontap/client/fakes.py', 'cinder/volume/drivers/netapp/dataontap/utils/data_motion.py', 'cinder/volume/drivers/netapp/utils.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/utils/fakes.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/client/test_client_cmode.py', 'cinder/volume/drivers/netapp/dataontap/client/client_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/utils/test_data_motion.py', 'cinder/volume/drivers/netapp/options.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1fba4a9e934083ad4ae5b7d3e5b08610765c40a7', 'message': ""NetApp ONTAP: Fix FlexGroup replication\n\nCurrently driver's implementation use the `volume-create` ZAPI call\nto create a secondary volume on destination and enable replication.\nThat call only supports the creation of FlexVols, and must be\nreplaced by the async call `volume-create-async` when dealing with\nFlexGroups.\n\nChange-Id: I07fe2e62a046f7276b6dcd78fd25c89412045d70\n""}]",44,780690,1fba4a9e934083ad4ae5b7d3e5b08610765c40a7,98,5,6,30555,,,0,"NetApp ONTAP: Fix FlexGroup replication

Currently driver's implementation use the `volume-create` ZAPI call
to create a secondary volume on destination and enable replication.
That call only supports the creation of FlexVols, and must be
replaced by the async call `volume-create-async` when dealing with
FlexGroups.

Change-Id: I07fe2e62a046f7276b6dcd78fd25c89412045d70
",git fetch https://review.opendev.org/openstack/cinder refs/changes/90/780690/5 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/netapp/dataontap/client/fakes.py', 'cinder/volume/drivers/netapp/dataontap/utils/data_motion.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/utils/fakes.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/client/test_client_cmode.py', 'cinder/volume/drivers/netapp/dataontap/client/client_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/utils/test_data_motion.py', 'cinder/volume/drivers/netapp/options.py']",7,a1b3ca1495732e41c32849119bff9bf1bc06b169,," 'during a failover.'), cfg.IntOpt('netapp_replication_volume_online_timeout', min=60, default=360, # Default to six minutes help='Sets time in seconds to wait for a replication volume ' 'create to complete and go online.')]"," 'during a failover.'), ]",436,54
openstack%2Fpanko~master~I4b4e33a5ad5054d933470bd85d1a4247794ce3db,openstack/panko,master,I4b4e33a5ad5054d933470bd85d1a4247794ce3db,Update master for stable/wallaby,MERGED,2021-03-22 09:27:21.000000000,2021-03-30 12:29:54.000000000,2021-03-30 12:28:35.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-22 09:27:21.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/panko/commit/0e8bb04bc50280c565a145064a05d37c18153169', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: I4b4e33a5ad5054d933470bd85d1a4247794ce3db\n'}]",0,782097,0e8bb04bc50280c565a145064a05d37c18153169,7,2,1,22816,,,0,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: I4b4e33a5ad5054d933470bd85d1a4247794ce3db
",git fetch https://review.opendev.org/openstack/panko refs/changes/97/782097/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,0e8bb04bc50280c565a145064a05d37c18153169,reno-wallaby, wallaby,,7,0
openstack%2Fmonasca-notification~stable%2Fussuri~I9e7c50d1b09eeeefebef2488c6528549deb82666,openstack/monasca-notification,stable/ussuri,I9e7c50d1b09eeeefebef2488c6528549deb82666,Update TOX_CONSTRAINTS_FILE for stable/ussuri,MERGED,2020-04-24 18:19:27.000000000,2021-03-30 12:03:20.000000000,2021-03-30 12:01:48.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2020-04-24 18:19:27.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/caacf3b519fe3d9fe6df4d1ca782d9a4b33eac8b', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ussuri\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ussuri branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I9e7c50d1b09eeeefebef2488c6528549deb82666\n'}]",0,722998,caacf3b519fe3d9fe6df4d1ca782d9a4b33eac8b,7,2,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/ussuri

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ussuri branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I9e7c50d1b09eeeefebef2488c6528549deb82666
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/98/722998/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,caacf3b519fe3d9fe6df4d1ca782d9a4b33eac8b,create-ussuri, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fmonasca-notification~stable%2Fwallaby~I6d0712418198b81d91e952bbb161874fd0e6dcd5,openstack/monasca-notification,stable/wallaby,I6d0712418198b81d91e952bbb161874fd0e6dcd5,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-03-26 11:11:04.000000000,2021-03-30 12:03:16.000000000,2021-03-30 12:01:59.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-03-26 11:11:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/78acc373a3bb25c4c67b71297e53f6c56020568a', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I6d0712418198b81d91e952bbb161874fd0e6dcd5\n'}, {'number': 2, 'created': '2021-03-30 11:29:57.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/01c4738a270d2767e612d189f194955b24fdab27', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I6d0712418198b81d91e952bbb161874fd0e6dcd5\n'}]",0,783260,01c4738a270d2767e612d189f194955b24fdab27,10,2,2,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I6d0712418198b81d91e952bbb161874fd0e6dcd5
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/60/783260/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,78acc373a3bb25c4c67b71297e53f6c56020568a,create-wallaby, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fmonasca-notification~stable%2Fussuri~I27677d3523be662681c5ad42d535f746c199f71f,openstack/monasca-notification,stable/ussuri,I27677d3523be662681c5ad42d535f746c199f71f,Update .gitreview for stable/ussuri,MERGED,2020-04-24 18:19:24.000000000,2021-03-30 12:01:45.000000000,2021-03-30 12:01:45.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2020-04-24 18:19:24.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/2fdf235a9198598dadd0dd5f8bb9e75e899f81fa', 'message': 'Update .gitreview for stable/ussuri\n\nChange-Id: I27677d3523be662681c5ad42d535f746c199f71f\n'}]",0,722996,2fdf235a9198598dadd0dd5f8bb9e75e899f81fa,6,2,1,22816,,,0,"Update .gitreview for stable/ussuri

Change-Id: I27677d3523be662681c5ad42d535f746c199f71f
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/96/722996/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,2fdf235a9198598dadd0dd5f8bb9e75e899f81fa,create-ussuri,defaultbranch=stable/ussuri,,1,0
openstack%2Fpython-tripleoclient~master~Icdf4b59e0e2ac192806334085be86f26ac68118f,openstack/python-tripleoclient,master,Icdf4b59e0e2ac192806334085be86f26ac68118f,[Validator Run] Add return code management,MERGED,2021-03-26 13:19:28.000000000,2021-03-30 11:43:13.000000000,2021-03-30 11:41:06.000000000,"[{'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-03-26 13:19:28.000000000', 'files': ['tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a5471a4af3b02c055c6b22e2ae022140e4dd05ec', 'message': '[Validator Run] Add return code management\n\nThe validator run command will now raise a CommandError exception if one\nor more validations have failed.\n\nNOTE: This patch re-applies lost commit during the revert of the CLI\nfrom tripleo-validations to python-tripleoclient.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Icdf4b59e0e2ac192806334085be86f26ac68118f\n'}]",4,783303,a5471a4af3b02c055c6b22e2ae022140e4dd05ec,11,5,1,11491,,,0,"[Validator Run] Add return code management

The validator run command will now raise a CommandError exception if one
or more validations have failed.

NOTE: This patch re-applies lost commit during the revert of the CLI
from tripleo-validations to python-tripleoclient.

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: Icdf4b59e0e2ac192806334085be86f26ac68118f
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/03/783303/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_validator.py'],1,a5471a4af3b02c055c6b22e2ae022140e4dd05ec,," is_failed_validation = False if r.get('Status'): status = r.get('Status') if status == 'FAILED': is_failed_validation = True r['Status'] = '{}{}{}'.format(color, status, RESET) if is_failed_validation: raise exceptions.CommandError( _(""One or more validations have failed."")) "," if r.get('status'): status = r.get('status') r['status'] = '{}{}{}'.format(color, status, RESET)",10,3
openstack%2Fpython-tripleoclient~master~I20ffc213057558d10c2f195caf4d34c83472404c,openstack/python-tripleoclient,master,I20ffc213057558d10c2f195caf4d34c83472404c,[UX] Align to left the table for the validations run results,MERGED,2021-03-26 13:19:28.000000000,2021-03-30 11:38:17.000000000,2021-03-30 11:36:45.000000000,"[{'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-03-26 13:19:28.000000000', 'files': ['tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4e556da88b35ec6d1343c8240bfb2546eca20d20', 'message': '[UX] Align to left the table for the validations run results\n\nAll the PrettyTables are aligned to left and this patch standardizes all\nthe tables.\n\nNOTE: This patch re-applies lost commit during the revert of the CLI\nfrom tripleo-validations to python-tripleoclient.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I20ffc213057558d10c2f195caf4d34c83472404c\n'}]",0,783302,4e556da88b35ec6d1343c8240bfb2546eca20d20,9,5,1,11491,,,0,"[UX] Align to left the table for the validations run results

All the PrettyTables are aligned to left and this patch standardizes all
the tables.

NOTE: This patch re-applies lost commit during the revert of the CLI
from tripleo-validations to python-tripleoclient.

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I20ffc213057558d10c2f195caf4d34c83472404c
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/02/783302/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_validator.py'],1,4e556da88b35ec6d1343c8240bfb2546eca20d20,, t.align = 'l',,1,0
openstack%2Fpython-tripleoclient~master~I2432db16f92b3aded51727393d6d8dbfbd61a257,openstack/python-tripleoclient,master,I2432db16f92b3aded51727393d6d8dbfbd61a257,Use MultiKeyActionValue action for extra-[env-]vars arguments,MERGED,2021-03-26 12:59:00.000000000,2021-03-30 11:31:41.000000000,2021-03-30 11:24:40.000000000,"[{'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-03-26 12:59:00.000000000', 'files': ['tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2aeef0ee2ba5aace462a724524359e6496b9f973', 'message': 'Use MultiKeyActionValue action for extra-[env-]vars arguments\n\nThis patch adds the ability to pass extra variables and extra\nenvironment variables to the Ansible execution as\nkey1=value1,key2=value2 instead of using a dict.\n\nThis action ensure that ``dest`` is a list. The list will finally\ncontain multiple dicts, with key=value pairs in them.\n\nThis patch also enables the Ansible execution verbosity when using a\ndifferent callback by passing --extra-env-vars\nANSIBLE_STDOUT_CALLBACK=default in the command line.\n\nFinally, this change will make the CLI easier to use and faster to type.\n\nCo-Authored-By: Gaël Chamoulaud <gchamoul@redhat.com>\nCo-Authored-By: David J. Peacock <dpeacock@redhat.com>\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I2432db16f92b3aded51727393d6d8dbfbd61a257\n'}]",0,783297,2aeef0ee2ba5aace462a724524359e6496b9f973,10,5,1,11491,,,0,"Use MultiKeyActionValue action for extra-[env-]vars arguments

This patch adds the ability to pass extra variables and extra
environment variables to the Ansible execution as
key1=value1,key2=value2 instead of using a dict.

This action ensure that ``dest`` is a list. The list will finally
contain multiple dicts, with key=value pairs in them.

This patch also enables the Ansible execution verbosity when using a
different callback by passing --extra-env-vars
ANSIBLE_STDOUT_CALLBACK=default in the command line.

Finally, this change will make the CLI easier to use and faster to type.

Co-Authored-By: Gaël Chamoulaud <gchamoul@redhat.com>
Co-Authored-By: David J. Peacock <dpeacock@redhat.com>

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I2432db16f92b3aded51727393d6d8dbfbd61a257
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/97/783297/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_validator.py'],1,2aeef0ee2ba5aace462a724524359e6496b9f973,,"from osc_lib.cli import parseractions metavar=""key1=<val1>[,key2=val2 --extra-vars key3=<val3>]"", action=parseractions.MultiKeyValueAction, ""Add Ansible extra variables to the validation(s) execution "" ""as KEY=VALUE pair(s). Note that if you pass the same "" ""KEY multiple times, the last given VALUE for that same KEY "" ""will override the other(s)"") metavar=""key1=<val1>[,key2=val2 --extra-env-vars key3=<val3>]"", action=parseractions.MultiKeyValueAction, ""Add extra environment variables you may need "" ""to provide to your Ansible execution "" ""as KEY=VALUE pairs. Note that if you pass the same "" ""KEY multiple times, the last given VALUE for that same KEY "" ""will override the other(s)"") extra_vars = dict() if parsed_args.extra_vars: # if using multiple --extra-vars argument in the command-line # we will get a list of multiple dictionaries. for keypair in parsed_args.extra_vars: extra_vars.update(keypair) # Ansible execution should be quiet while using the validations_json # default callback and be verbose while passing ANSIBLE_SDTOUT_CALLBACK # environment variable to Ansible through the --extra-env-vars argument quiet_mode = True extra_env_vars = dict() if parsed_args.extra_env_vars: # if using multiple --extra-env-vars argument in the command-line # we will get a list of multiple dictionaries. for keypair in parsed_args.extra_env_vars: if ""ANSIBLE_STDOUT_CALLBACK"" in keypair.keys(): quiet_mode = False extra_env_vars.update(keypair) extra_env_vars=extra_env_vars, quiet=quiet_mode)"," action='store', default={}, type=json.loads, ""Add a dictionary as extra variable to a validation: "" ""--extra-vars '{\""min_undercloud_ram_gb\"": 24}'"") action='store', default={}, type=json.loads, ""A dictionary as extra environment variables you may need "" ""to provide to your Ansible execution example:"" ""ANSIBLE_STDOUT_CALLBACK=default"") extra_vars = parsed_args.extra_vars extra_env_vars=parsed_args.extra_env_vars, quiet=True)",37,14
openstack%2Fansible-role-python_venv_build~master~I53dbb7a0d5632aa20783457e6c61ebc5aa4aba14,openstack/ansible-role-python_venv_build,master,I53dbb7a0d5632aa20783457e6c61ebc5aa4aba14,[DNM] Filter constraints on the side of venv_build,NEW,2021-03-30 09:39:25.000000000,2021-03-30 11:31:09.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-03-30 09:39:25.000000000', 'files': ['tasks/python_venv_filter_constraints.yml', 'tasks/python_venv_wheel_build.yml', 'defaults/main.yml', 'tasks/python_venv_install.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/16a3145dab60376f231263d580da459d60a4a447', 'message': '[DNM] Filter constraints on the side of venv_build\n\nChange-Id: I53dbb7a0d5632aa20783457e6c61ebc5aa4aba14\n'}]",2,783825,16a3145dab60376f231263d580da459d60a4a447,4,2,1,28619,,,0,"[DNM] Filter constraints on the side of venv_build

Change-Id: I53dbb7a0d5632aa20783457e6c61ebc5aa4aba14
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/25/783825/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/python_venv_filter_constraints.yml', 'tasks/python_venv_wheel_build.yml', 'defaults/main.yml', 'tasks/python_venv_install.yml']",4,16a3145dab60376f231263d580da459d60a4a447,filter_constraints,"- name: Filter constraints file when wheels not present include_tasks: python_venv_filter_constraints.yml vars: _venv_filtered_destination_file: ""{{ venv_install_destination_path }}/constraints.txt"" when: - venv_build_constraints_remove | length > 0 - (not venv_wheel_build_enable | bool) or (_constraints_file_slurp is not defined) or (_constraints_file_slurp.content is not defined) when: - venv_build_constraints_remove | length == 0 - (not venv_wheel_build_enable | bool) or (_constraints_file_slurp is not defined) or (_constraints_file_slurp.content is not defined)",,83,0
openstack%2Fproject-team-guide~master~I4add361234d3015f2379d17306d2feec19f6e745,openstack/project-team-guide,master,I4add361234d3015f2379d17306d2feec19f6e745,[diversity-language] Remove and replace blacklist verb,MERGED,2021-03-30 06:43:48.000000000,2021-03-30 11:25:05.000000000,2021-03-30 11:21:51.000000000,"[{'_account_id': 308}, {'_account_id': 5263}, {'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-30 06:43:48.000000000', 'files': ['doc/source/dependency-management.rst'], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/5de85fdcff1df4b0498f5a3f412fe281503b055e', 'message': '[diversity-language] Remove and replace blacklist verb\n\nThe noun has to stay as it refers to the file in requirements\nrepo.\n\nChange-Id: I4add361234d3015f2379d17306d2feec19f6e745\n'}]",0,783794,5de85fdcff1df4b0498f5a3f412fe281503b055e,9,6,1,30491,,,0,"[diversity-language] Remove and replace blacklist verb

The noun has to stay as it refers to the file in requirements
repo.

Change-Id: I4add361234d3015f2379d17306d2feec19f6e745
",git fetch https://review.opendev.org/openstack/project-team-guide refs/changes/94/783794/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/dependency-management.rst'],1,5de85fdcff1df4b0498f5a3f412fe281503b055e,diversity-language-no-blacklist-verb,"versions, not setting minimum required versions (minimum that are only used in unconstrained places should not be excluded - they reason for excluding.","(blacklisting) versions, not setting minimum required versions (minimum that are only used in unconstrained places should not be blacklisted - they reason for blacklisting.",3,3
openstack%2Fmonasca-notification~stable%2Fwallaby~I0202fc06589644fca08634720983bfc17155c7ce,openstack/monasca-notification,stable/wallaby,I0202fc06589644fca08634720983bfc17155c7ce,Update .gitreview for stable/wallaby,MERGED,2021-03-26 11:11:01.000000000,2021-03-30 11:23:44.000000000,2021-03-30 11:23:44.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-03-26 11:11:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/76e92379548e3b34952d23d70e8a7c74f840f4cf', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: I0202fc06589644fca08634720983bfc17155c7ce\n'}, {'number': 2, 'created': '2021-03-30 11:01:59.000000000', 'files': ['.gitreview', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/ba29bc2598c1703f2572c77c790c17816d789630', 'message': 'Update .gitreview for stable/wallaby\n\nRemove temporarily docker build and publish jobs.\nThese jobs require the wallaby u-c [1] which is not yet ready\nOnce the wallaby u-c is available these jobs will be added again.\n\n[1] https://opendev.org/openstack/requirements/raw/branch/stable/wallaby/upper-constraints.txt\n\nChange-Id: I0202fc06589644fca08634720983bfc17155c7ce\n'}]",0,783259,ba29bc2598c1703f2572c77c790c17816d789630,8,2,2,22816,,,0,"Update .gitreview for stable/wallaby

Remove temporarily docker build and publish jobs.
These jobs require the wallaby u-c [1] which is not yet ready
Once the wallaby u-c is available these jobs will be added again.

[1] https://opendev.org/openstack/requirements/raw/branch/stable/wallaby/upper-constraints.txt

Change-Id: I0202fc06589644fca08634720983bfc17155c7ce
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/59/783259/2 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,76e92379548e3b34952d23d70e8a7c74f840f4cf,create-wallaby,defaultbranch=stable/wallaby,,1,0
openstack%2Fnova~master~I29c5e01c1a29ae6747a6d49766d7e1ba5332603f,openstack/nova,master,I29c5e01c1a29ae6747a6d49766d7e1ba5332603f,docs: Address review feedback on nova-manage docs,ABANDONED,2021-03-29 18:14:47.000000000,2021-03-30 11:19:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-29 18:14:47.000000000', 'files': ['doc/source/cli/nova-manage.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/17d1d1485d6637b91a6cd759aca7cf8577d0ab8d', 'message': ""docs: Address review feedback on nova-manage docs\n\nMake better use of ':option: role.\n\nChange-Id: I29c5e01c1a29ae6747a6d49766d7e1ba5332603f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,783729,17d1d1485d6637b91a6cd759aca7cf8577d0ab8d,4,1,1,15334,,,0,"docs: Address review feedback on nova-manage docs

Make better use of ':option: role.

Change-Id: I29c5e01c1a29ae6747a6d49766d7e1ba5332603f
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/29/783729/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/cli/nova-manage.rst'],1,17d1d1485d6637b91a6cd759aca7cf8577d0ab8d,docs,"If :option:`--local_cell` is specified, then only the main database in the current cell is upgraded. The local database connection is determined bynova-manage using the ``--config-file`` option(s). This command should be run after ``nova-manage api_db sync``.stopping at 0, or use the :option:`--until-complete` option. - Invalid value for :option:`--max_rows`. - Invalid value for :option:`--before`.Delete rows from shadow tables. For :option:`--all-cells` to work, the API database connection information must be configured. - Required arguments were not provided. - Invalid value for :option:`--before`. - Nothing was purged. - No connection to the API database could be established using :oslo.config:option:`api_database.connection`.which did require a data migration. Since :option:`--max-count` defaults to 50Setup a fresh cells v2 environment. If :option:`--transport-url` is notbe queried from oldest to newest and mapped to the provided cell. A :option:`--max-count` can be set on the number of instance to map in a single run. Repeated runs of the command will start from where the last run finished so it is not necessary to increase :option:`--max-count` to finish. A :option:`--reset` option can be passed which will reset the marker, thus making the command start from the beginning as opposed to the default behavior of starting from where the last run finished. If :option:`--max-count` is not specified, all instances in the cell will be - Invalid value for :option:`--max-count`.configuration file passed to nova-manage. If :option:`--transport-url` is notconfiguration file passed to nova-manage. If :option:`--transport-url` is notcreated are by default enabled. However passing the :option:`--disabled` optionthere and the API will not list the new hosts). If :option:`--strict` is specified, the command will only return 0 if an unmapped host was discovered and mapped successfully. If :option:`--by-service` is specified, this command will look in the appropriate cell(s) for any nova-compute services and ensure there :option:`--strict` is specified, returns 0 only if an unmapped host was - If :option:`--strict` is specified and no unmapped hosts were found. Also returns 1 if an exception was raised while running.database connection details are shown. Use the :option:`--verbose` option to see transport URL and database connection with their sensitive details. deleted successfully with :option:`--force` option (this happens if there are and the :option:`--force` option was not provided. - There are (inactive) instances mapped to the cell and the :option:`--force` option was not provided.are listed. Use the :option:`--cell_uuid` option to list hosts in a specific cell. - The cell indidicatd by :option:`--cell_uuid` was not found. - The provided :option:`--transport-url` or/and :option:`--database_connection` parameters were same as another cell... versionadded:: 18.0.0 (Rocky) .. versionchanged:: 20.0.0 (Train) Added :option:`--dry-run`, :option:`--instance`, and :option:`--skip-port-allocations` options. .. versionchanged:: 21.0.0 (Ussuri) Added :option:`--cell` option. .. versionchanged:: 22.0.0 (Victoria) Added :option:`--force` option. UUID of a specific instance to process. If specified :option:`--max-count` has no effect. Mutually exclusive with :option:`--cell`. Heal allocations within a specific cell. Mutually exclusive with :option:`--instance`. Force heal allocations. Requires the :option:`--instance` argument. - :option:`--max-count` was reached and there are more instances to process.Specify :option:`--verbose` to get detailed progress output during execution. .. note:: Depending on the size of your deployment and the number of.. versionadded:: 21.0.0 (Ussuri) ","If ``--local_cell`` is specified, then only the main database in the current cell is upgraded. The local database connection is determined bynova-manage using the ``--config-file`` option(s). This command should be run after ``nova-manage api_db sync``.stopping at 0, or use the ``--until-complete`` option. - Invalid value for ``--max_rows``. - Invalid value for ``--before``.Delete rows from shadow tables. For ``--all-cells`` to work, the API database connection information must be configured. - Nothing was archived. * - 1 - Some number of rows were archived. * - 2 - Invalid value for ``--max_rows``. * - 3 - No connection to the API database could be established using :oslo.config:option:`api_database.connection`. * - 4 - Invalid value for ``--before``. * - 255 - An unexpected error occurred. * - 0 - Required arguments are not provided. - An invalid date was provided. - No data was deleted. - The list of cells could not be obtained .. note:: The date argument accepted by the ``--before`` option can be in any of several formats, including ``YYYY-MM-DD [HH:mm[:ss]]`` and the default format produced by the ``date`` command, e.g. ``Fri May 24 09:20:11 CDT 2019``. Date strings containing spaces must be quoted appropriately. Some examples:: # Purge shadow table rows older than a specific date nova-manage db purge --before 2015-10-21 # or nova-manage db purge --before ""Oct 21 2015"" # Times are also accepted nova-manage db purge --before ""2015-10-21 12:00"" Relative dates (such as ``yesterday``) are not supported natively. The ``date`` command can be helpful here:: # Archive deleted rows more than one month old nova-manage db purge --before ""$(date -d 'now - 1 month')"" .. rubric:: Options .. option:: --delete If specified, automatically delete any records found where ``instance_uuid`` is NULL.which did require a data migration. Since ``--max-count`` defaults to 50Setup a fresh cells v2 environment. If a ``transport_url`` is notbe queried from oldest to newest and mapped to the provided cell. A ``--max-count`` can be set on the number of instance to map in a single run. Repeated runs of the command will start from where the last run finished so it is not necessary to increase ``--max-count`` to finish. A ``--reset`` option can be passed which will reset the marker, thus making the command start from the beginning as opposed to the default behavior of starting from where the last run finished. If ``--max-count`` is not specified, all instances in the cell will be - Invalid value for ``--max-count``.configuration file passed to nova-manage. If ``--transport_url`` is notconfiguration file passed to nova-manage. If ``--transport_url`` is notcreated are by default enabled. However passing the ``--disabled`` optionthere and the API will not list the new hosts). If ``--strict`` is specified, the command will only return 0 if an unmapped host was discovered and mapped successfully. If ``--by-service`` is specified, this command will look in the appropriate cell(s) for any nova-compute services and ensure there ``--strict`` is specified, returns 0 only if an unmapped host was - If ``--strict`` is specified and no unmapped hosts were found. Also returns 1 if an exception was raised while running.database connection details are shown. Use the ``--verbose`` option to see transport URL and database connection with their sensitive details. deleted successfully with ``--force`` option (this happens if there are and the ``--force`` option was not provided. - There are (inactive) instances mapped to the cell and the ``--force`` option was not povided.are listed. Use the ``--cell_uuid`` option to list hosts in a specific cell. - The cell indidicatd by ``--cell_uuid`` was not found. - The provided ``--transport_url`` or/and ``--database_connection`` parameters were same as another cell. UUID of a specific instance to process. If specified --max-count has no effect. The --cell and --instance options are mutually exclusive. Heal allocations within a specific cell. The --cell and --instance options are mutually exclusive. Force heal allocations. Requires the --instance argument. - ``--max-count`` was reached and there are more instances to process.Specify ``--verbose`` to get detailed progress output during execution. .. note:: Depending on the size of your deployment and the number of",73,92
openstack%2Fswift~master~I9aace80088cd00d02c418fe4d782b662fb5c8bcf,openstack/swift,master,I9aace80088cd00d02c418fe4d782b662fb5c8bcf,diskfile: Prevent get_hashes from creating missing partition dirs,MERGED,2021-03-19 20:35:00.000000000,2021-03-30 11:13:40.000000000,2021-03-30 11:11:01.000000000,"[{'_account_id': 597}, {'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-19 20:35:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/73401b25dce2dab57d3d34ff7eba2570d3b0e5d0', 'message': 'diskfile: Prevent get_hashes from creating missing partition dirs\n\nChange-Id: I9aace80088cd00d02c418fe4d782b662fb5c8bcf\n'}, {'number': 2, 'created': '2021-03-25 20:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/48aa51dbb2cd6a1c849ff442321ab6cb1846d689', 'message': ""diskfile: Prevent get_hashes from creating missing partition dirs\n\nThe relinker currently blindly calls get_hashes on partitions in the\nnew, upper half of the partition space, which can cause extra handoffs\nto be created if you're rerunning the relink step for safety.\n\nEven if the relinker were smarter, though, there's no reason that a\ncurious operator should end up creating empty handoffs just because\nthey're poking devices with REPLICATE requests\n\nChange-Id: I9aace80088cd00d02c418fe4d782b662fb5c8bcf\n""}, {'number': 3, 'created': '2021-03-25 20:35:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/de6717bc0edcd08bdb8a91de6933e2f4b1771eb3', 'message': ""diskfile: Prevent get_hashes from creating missing partition dirs\n\nThe relinker currently blindly calls get_hashes on partitions in the\nnew, upper half of the partition space, which can cause extra handoffs\nto be created if you're rerunning the relink step for safety.\n\nEven if the relinker were smarter, though, there's no reason that a\ncurious operator should end up creating empty handoffs just because\nthey're poking devices with REPLICATE requests\n\nChange-Id: I9aace80088cd00d02c418fe4d782b662fb5c8bcf\n""}, {'number': 4, 'created': '2021-03-25 20:54:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/94cd4684e5a7f4ffda7a228da0df01e5915a7dc3', 'message': ""diskfile: Prevent get_hashes from creating missing partition dirs\n\nThe relinker currently blindly calls get_hashes on partitions in the\nnew, upper half of the partition space, which can cause extra handoffs\nto be created if you're rerunning the relink step for safety.\n\nEven if the relinker were smarter, though, there's no reason that a\ncurious operator should end up creating empty handoffs just because\nthey're poking devices with REPLICATE requests\n\nChange-Id: I9aace80088cd00d02c418fe4d782b662fb5c8bcf\n""}, {'number': 5, 'created': '2021-03-26 21:35:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/fc1e9a2da0b7091c99dca089a64aa0339ba2ae34', 'message': 'diskfile: Prevent get_hashes from creating missing partition dirs\n\nThe relinker currently blindly calls get_hashes on partitions in the\nnew, upper half of the partition space, which can cause extra handoffs\nto be created if you\'re rerunning the relink step for safety.\n\nEven if the relinker were smarter, though, there\'s no reason that a\ncurious operator should end up creating empty handoffs just because\nthey\'re poking devices with REPLICATE requests\n\nDrive-by: be a little more strict about the ""suffixes"" we\'re willing to\nput in hashes.invalid and read out of hashes.pkl.\n\nChange-Id: I9aace80088cd00d02c418fe4d782b662fb5c8bcf\n'}, {'number': 6, 'created': '2021-03-29 17:26:16.000000000', 'files': ['test/unit/obj/test_server.py', 'test/unit/cli/test_relinker.py', 'test/unit/obj/test_diskfile.py', 'swift/obj/diskfile.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/ade3b28636dd3be79152af4dedfcc7a039dff025', 'message': 'diskfile: Prevent get_hashes from creating missing partition dirs\n\nThe relinker currently blindly calls get_hashes on partitions in the\nnew, upper half of the partition space, which can cause extra handoffs\nto be created if you\'re rerunning the relink step for safety.\n\nEven if the relinker were smarter, though, there\'s no reason that a\ncurious operator should end up creating empty handoffs just because\nthey\'re poking devices with REPLICATE requests\n\nDrive-by: be a little more strict about the ""suffixes"" we\'re willing to\nput in hashes.invalid and read out of hashes.pkl.\n\nChange-Id: I9aace80088cd00d02c418fe4d782b662fb5c8bcf\n'}]",38,781908,ade3b28636dd3be79152af4dedfcc7a039dff025,34,3,6,15343,,,0,"diskfile: Prevent get_hashes from creating missing partition dirs

The relinker currently blindly calls get_hashes on partitions in the
new, upper half of the partition space, which can cause extra handoffs
to be created if you're rerunning the relink step for safety.

Even if the relinker were smarter, though, there's no reason that a
curious operator should end up creating empty handoffs just because
they're poking devices with REPLICATE requests

Drive-by: be a little more strict about the ""suffixes"" we're willing to
put in hashes.invalid and read out of hashes.pkl.

Change-Id: I9aace80088cd00d02c418fe4d782b662fb5c8bcf
",git fetch https://review.opendev.org/openstack/swift refs/changes/08/781908/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/obj/test_diskfile.py', 'swift/obj/diskfile.py']",2,73401b25dce2dab57d3d34ff7eba2570d3b0e5d0,," if not os.path.exists(partition_dir): return {'valid': False} for suff in listdir(partition_path): if modified and (set(hashes).difference(('valid', 'updated')) or os.path.exists(partition_path)): if not os.path.exists(partition_path) and suffixes:", for suff in os.listdir(partition_path): if modified: if not os.path.exists(partition_path):,24,8
openstack%2Fmanila~master~I31b8eb5232a5cd286db18c2b14833c0682574958,openstack/manila,master,I31b8eb5232a5cd286db18c2b14833c0682574958,"Set ""context_is_admin"" to system scope admin roles",MERGED,2021-03-25 06:31:46.000000000,2021-03-30 11:10:55.000000000,2021-03-26 18:01:33.000000000,"[{'_account_id': 5046}, {'_account_id': 9003}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-03-25 06:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e3c7e169bdb9ca8e99f98d8acadbc8d7908e763c', 'message': 'Set ""context_is_admin"" to system scope admin roles\n\nThis policy governs manila APIs that are meant to\nbe cross tenant - so it should default to system\nscope in the new secure rbac system.\n\nAlso reformat the policy.py file so that we are\nconsistent with using ""rules"" as we were doing in\nthe older releases. Rules abstract keystone\nconcepts such as roles and scopes.\n\nChange-Id: I31b8eb5232a5cd286db18c2b14833c0682574958\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 2, 'created': '2021-03-25 07:49:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7dfd116395e771b0fe04659db45dbce23c1c9555', 'message': 'Set ""context_is_admin"" to system scope admin roles\n\nThis policy governs manila APIs that are meant to\nbe cross tenant - so it should default to system\nscope in the new secure rbac system.\n\nAlso reformat the policy.py file so that we are\nconsistent with using ""rules"" as we were doing in\nthe older releases. Rules abstract keystone\nconcepts such as roles and scopes.\n\nChange-Id: I31b8eb5232a5cd286db18c2b14833c0682574958\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 3, 'created': '2021-03-25 07:50:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/817bf4c3a877957389a95b86be55c2a208539fb2', 'message': 'Set ""context_is_admin"" to system scope admin roles\n\nThis policy governs manila APIs that are meant to\nbe cross tenant - so it should default to system\nscope in the new secure rbac system.\n\nAlso reformat the policy.py file so that we are\nconsistent with using ""rules"" as we were doing in\nthe older releases. Rules abstract keystone\nconcepts such as roles and scopes.\n\nChange-Id: I31b8eb5232a5cd286db18c2b14833c0682574958\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 4, 'created': '2021-03-25 18:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/9aff51cd8f0ad0521a1244b3dc814f7eff6d4fee', 'message': 'Set ""context_is_admin"" to system scope admin roles\n\nThis policy governs manila APIs that are meant to\nbe cross tenant - so it should default to system\nscope in the new secure rbac system.\n\nAlso reformat the policy.py file so that we are\nconsistent with using ""rules"" as we were doing in\nthe older releases. Rules abstract keystone\nconcepts such as roles and scopes.\n\nChange-Id: I31b8eb5232a5cd286db18c2b14833c0682574958\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 5, 'created': '2021-03-26 13:57:58.000000000', 'files': ['manila/policy.py', 'manila/policies/base.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/02cc5c6760a294d49f70751bbaed574bf74f7068', 'message': 'Set ""context_is_admin"" to system scope admin roles\n\nThis policy governs manila APIs that are meant to\nbe cross tenant - so it should default to system\nscope in the new secure rbac system.\n\nAlso reformat the policy.py file so that we are\nconsistent with using ""rules"" as we were doing in\nthe older releases. Rules abstract keystone\nconcepts such as roles and scopes.\n\nChange-Id: I31b8eb5232a5cd286db18c2b14833c0682574958\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",8,782904,02cc5c6760a294d49f70751bbaed574bf74f7068,43,5,5,16643,,,0,"Set ""context_is_admin"" to system scope admin roles

This policy governs manila APIs that are meant to
be cross tenant - so it should default to system
scope in the new secure rbac system.

Also reformat the policy.py file so that we are
consistent with using ""rules"" as we were doing in
the older releases. Rules abstract keystone
concepts such as roles and scopes.

Change-Id: I31b8eb5232a5cd286db18c2b14833c0682574958
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/04/782904/2 && git format-patch -1 --stdout FETCH_HEAD,"['manila/policy.py', 'manila/policies/base.py']",2,e3c7e169bdb9ca8e99f98d8acadbc8d7908e763c,secure-rbac,"from oslo_log import versionutilsDEPRECATED_CONTEXT_IS_ADMIN = policy.DeprecatedRule( name='context_is_admin', check_str='role:admin', deprecated_reason=""Admin context is reserved for system scope operators"", deprecated_since=versionutils.deprecated.WALLABY ) SYSTEM_ADMIN = 'rule:system-admin'SYSTEM_MEMBER = 'rule:system-member'SYSTEM_READER = 'rule:system-reader'PROJECT_ADMIN = 'rule:project-admin'PROJECT_MEMBER = 'rule:project-member'PROJECT_READER = 'rule:project-reader' # ***Default OpenStack scoped personas*** # # System scoped Administrator policy.RuleDefault( name='system-admin', check_str='role:admin and ' 'system_scope:all', scope_types=['system']), # System scoped Member policy.RuleDefault( name='system-member', check_str='role:member and ' 'system_scope:all', scope_types=['system']), # System scoped Reader policy.RuleDefault( name='system-reader', check_str='role:reader and ' 'system_scope:all', scope_types=['system']), # Project scoped Administrator policy.RuleDefault( name='project-admin', check_str='role:admin and ' 'project_id:%(project_id)s', scope_types=['project']), # Project scoped Member policy.RuleDefault( name='project-member', check_str='role:member and ' 'project_id:%(project_id)s', scope_types=['project']), # Project scoped Reader policy.RuleDefault( name='project-reader', check_str='role:reader and ' 'project_id:%(project_id)s', scope_types=['project']), # ***Special personas for Manila*** # # Privileged users checked via ""context.is_admin"" policy.RuleDefault( name='context_is_admin', check_str='rule:system-admin', deprecated_rule=DEPRECATED_CONTEXT_IS_ADMIN, scope_types=['system']), # ***Legacy/deprecated unscoped rules*** # # can be removed after ""enforce_scope"" defaults to True in oslo.policy","SYSTEM_ADMIN = 'role:admin and system_scope:all'SYSTEM_MEMBER = 'role:member and system_scope:all'SYSTEM_READER = 'role:reader and system_scope:all'PROJECT_ADMIN = 'role:admin and project_id:%(project_id)s'PROJECT_MEMBER = 'role:member and project_id:%(project_id)s'PROJECT_READER = 'role:reader and project_id:%(project_id)s' policy.RuleDefault(name='context_is_admin', check_str='role:admin'),",72,9
openstack%2Fmonasca-notification~master~I1a656a11c2e354858b14a71f084d893034374e18,openstack/monasca-notification,master,I1a656a11c2e354858b14a71f084d893034374e18,Remove temporarily docker build and publish jobs,ABANDONED,2021-03-30 10:53:27.000000000,2021-03-30 11:07:53.000000000,,[],"[{'number': 1, 'created': '2021-03-30 10:53:27.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/e660faf7e01a06fcd56511930048947fc27c81dd', 'message': 'Remove temporarily docker build and publish jobs\n\nThese jobs require the wallaby u-c [1] which is not yet ready\nOnce the wallaby u-c is available these jobs will be added again.\n\n[1] https://opendev.org/openstack/requirements/raw/branch/stable/wallaby/upper-constraints.txt\n\nChange-Id: I1a656a11c2e354858b14a71f084d893034374e18\n'}]",0,783838,e660faf7e01a06fcd56511930048947fc27c81dd,2,0,1,28062,,,0,"Remove temporarily docker build and publish jobs

These jobs require the wallaby u-c [1] which is not yet ready
Once the wallaby u-c is available these jobs will be added again.

[1] https://opendev.org/openstack/requirements/raw/branch/stable/wallaby/upper-constraints.txt

Change-Id: I1a656a11c2e354858b14a71f084d893034374e18
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/38/783838/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e660faf7e01a06fcd56511930048947fc27c81dd,docker-jobs,, - build-monasca-docker-image post: jobs: - publish-monasca-notification-docker-image periodic: jobs: - publish-monasca-notification-docker-image release: jobs: - publish-monasca-notification-docker-image,0,10
openstack%2Fmonasca-notification~master~I85286ee9c7666444f685df9f524960cd3f330402,openstack/monasca-notification,master,I85286ee9c7666444f685df9f524960cd3f330402,Remove temporarily docker build and publish jobs,ABANDONED,2021-03-30 10:49:37.000000000,2021-03-30 11:07:22.000000000,,[],"[{'number': 1, 'created': '2021-03-30 10:49:37.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/934034917e4e8b65ddd2c99a3f029619db412468', 'message': 'Remove temporarily docker build and publish jobs\n\nThese jobs require the wallaby u-c [1] which is not yet ready\nOnce the wallaby u-c is available these jobs will be added again.\n\n[1] https://opendev.org/openstack/requirements/raw/branch/stable/wallaby/upper-constraints.txt\n\nChange-Id: I85286ee9c7666444f685df9f524960cd3f330402\n'}]",0,783837,934034917e4e8b65ddd2c99a3f029619db412468,2,0,1,28062,,,0,"Remove temporarily docker build and publish jobs

These jobs require the wallaby u-c [1] which is not yet ready
Once the wallaby u-c is available these jobs will be added again.

[1] https://opendev.org/openstack/requirements/raw/branch/stable/wallaby/upper-constraints.txt

Change-Id: I85286ee9c7666444f685df9f524960cd3f330402
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/37/783837/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,934034917e4e8b65ddd2c99a3f029619db412468,docker-jobs,, - build-monasca-docker-image post: jobs: - publish-monasca-notification-docker-image periodic: jobs: - publish-monasca-notification-docker-image release: jobs: - publish-monasca-notification-docker-image,0,10
openstack%2Fkayobe~stable%2Ftrain~Iaa578a7fae747c47a733408d09684fb0705d0d82,openstack/kayobe,stable/train,Iaa578a7fae747c47a733408d09684fb0705d0d82,CI: Fix kayobe-tox-molecule job,MERGED,2021-03-29 08:01:16.000000000,2021-03-30 11:05:52.000000000,2021-03-30 11:04:31.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 32657}]","[{'number': 1, 'created': '2021-03-29 08:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/2257e4130f74811fa40c29e5367ab6dd34ded50b', 'message': '[DNM] CI: Fix stable/train kayobe-tox-molecule job\n\nChange-Id: Iaa578a7fae747c47a733408d09684fb0705d0d82\n'}, {'number': 2, 'created': '2021-03-29 08:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/2b2959b7434b023da31d7aa7b32e5ca3b2ff79cb', 'message': 'CI: Fix kayobe-tox-molecule job\n\nThe kayobe-tox-molecule job started failing following the release of\nruamel.yaml 0.17.0, which dropped support for Python 2.\n\nChange-Id: Iaa578a7fae747c47a733408d09684fb0705d0d82\n'}, {'number': 3, 'created': '2021-03-29 10:08:47.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/23a46166c288d639336677758a6f7755a8c667a0', 'message': 'CI: Fix kayobe-tox-molecule job\n\nThe kayobe-tox-molecule job started failing following the release of\nruamel.yaml 0.17.0, which dropped support for Python 2:\n\n      File ""/home/zuul/src/opendev.org/openstack/kayobe/.tox/molecule/lib/python2.7/site-packages/ruamel/yaml/compat.py"", line 143\n        dbgprint = print  # to fool checking for print statements by dv utility\n                       ^\n    SyntaxError: invalid syntax\n\nRestrict ruamel.yaml to earlier versions.\n\nChange-Id: Iaa578a7fae747c47a733408d09684fb0705d0d82\nStory: 2008785\nTask: 42176\n'}]",0,783615,23a46166c288d639336677758a6f7755a8c667a0,15,5,3,15197,,,0,"CI: Fix kayobe-tox-molecule job

The kayobe-tox-molecule job started failing following the release of
ruamel.yaml 0.17.0, which dropped support for Python 2:

      File ""/home/zuul/src/opendev.org/openstack/kayobe/.tox/molecule/lib/python2.7/site-packages/ruamel/yaml/compat.py"", line 143
        dbgprint = print  # to fool checking for print statements by dv utility
                       ^
    SyntaxError: invalid syntax

Restrict ruamel.yaml to earlier versions.

Change-Id: Iaa578a7fae747c47a733408d09684fb0705d0d82
Story: 2008785
Task: 42176
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/15/783615/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'zuul.d/project.yaml']",2,2257e4130f74811fa40c29e5367ab6dd34ded50b,, #- kayobe-overcloud-centos7 #- kayobe-overcloud-centos8 #- kayobe-overcloud-host-configure-centos7 #- kayobe-overcloud-host-configure-centos8 #- kayobe-overcloud-upgrade-centos7 #- kayobe-seed-centos7 #- kayobe-seed-centos8 #- kayobe-seed-upgrade-centos7, - kayobe-overcloud-centos7 - kayobe-overcloud-centos8 - kayobe-overcloud-host-configure-centos7 - kayobe-overcloud-host-configure-centos8 - kayobe-overcloud-upgrade-centos7 - kayobe-seed-centos7 - kayobe-seed-centos8 - kayobe-seed-upgrade-centos7,10,8
openstack%2Fmanila~stable%2Fwallaby~I24baaea02b7efc37b4eb9cbe75b7dfa11ac330d2,openstack/manila,stable/wallaby,I24baaea02b7efc37b4eb9cbe75b7dfa11ac330d2,[doc] Annotate max api microversion in Wallaby,MERGED,2021-03-30 01:12:14.000000000,2021-03-30 11:01:39.000000000,2021-03-30 11:00:24.000000000,"[{'_account_id': 9003}, {'_account_id': 22348}, {'_account_id': 30407}]","[{'number': 1, 'created': '2021-03-30 01:12:14.000000000', 'files': ['manila/api/openstack/rest_api_version_history.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/010454e79c265d506061cebaa3920d57898569e0', 'message': '[doc] Annotate max api microversion in Wallaby\n\nChange-Id: I24baaea02b7efc37b4eb9cbe75b7dfa11ac330d2\n(cherry picked from commit 41192047aa7268d9ad096da72bf52ec703d1ec05)\n'}]",0,783685,010454e79c265d506061cebaa3920d57898569e0,8,3,1,16643,,,0,"[doc] Annotate max api microversion in Wallaby

Change-Id: I24baaea02b7efc37b4eb9cbe75b7dfa11ac330d2
(cherry picked from commit 41192047aa7268d9ad096da72bf52ec703d1ec05)
",git fetch https://review.opendev.org/openstack/manila refs/changes/85/783685/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/api/openstack/rest_api_version_history.rst'],1,010454e79c265d506061cebaa3920d57898569e0,wallaby-max-microversion-stable/wallaby,2.63 (Maximum in Wallaby) -------------------------,2.63 ----,2,2
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Ibadb7df92525a0c10f7e82fe6b2bc0dff8316ef6,openstack/tripleo-heat-templates,stable/victoria,Ibadb7df92525a0c10f7e82fe6b2bc0dff8316ef6,Backport neutron resource tags,ABANDONED,2021-03-05 01:34:01.000000000,2021-03-30 10:52:47.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-03-05 01:34:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a8d9f7c3d527cc7aea7b38c62f259ead9e73fca3', 'message': ""Backport neutron resource tags\n\nThis is a bulk backport of changes from master setting\ntag's on neutron resouces. Setting up these tags prior\nreleases will ease the upgrade/migration to not manage\nthe resources in heat.\n\nPartial-Implements: blueprint network-data-v2-ports\n(cherry picked from commit 28f2a709124f62469acafb64110f755edec82636)\n(cherry picked from commit 1e7015081d19c1df0470e1a2654d7425f42e4b41)\n(cherry picked from commit 6d39c90a22d850cf449f1900cff32e8b2a1803c3)\n\nChange-Id: Ibadb7df92525a0c10f7e82fe6b2bc0dff8316ef6\n""}, {'number': 2, 'created': '2021-03-26 09:43:34.000000000', 'files': ['network/ports/port.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d4f891007098bcdd6f0857efbf60a83326a306a1', 'message': ""Backport neutron resource tags\n\nThis is a bulk backport of changes from master setting\ntag's on neutron resouces. Setting up these tags prior\nreleases will ease the upgrade/migration to not manage\nthe resources in heat.\n\nPartial-Implements: blueprint network-data-v2-ports\n(cherry picked from commit 28f2a709124f62469acafb64110f755edec82636)\n(cherry picked from commit 1e7015081d19c1df0470e1a2654d7425f42e4b41)\n(cherry picked from commit 6d39c90a22d850cf449f1900cff32e8b2a1803c3)\n\nChange-Id: Ibadb7df92525a0c10f7e82fe6b2bc0dff8316ef6\n""}]",0,778803,d4f891007098bcdd6f0857efbf60a83326a306a1,10,3,2,24245,,,0,"Backport neutron resource tags

This is a bulk backport of changes from master setting
tag's on neutron resouces. Setting up these tags prior
releases will ease the upgrade/migration to not manage
the resources in heat.

Partial-Implements: blueprint network-data-v2-ports
(cherry picked from commit 28f2a709124f62469acafb64110f755edec82636)
(cherry picked from commit 1e7015081d19c1df0470e1a2654d7425f42e4b41)
(cherry picked from commit 6d39c90a22d850cf449f1900cff32e8b2a1803c3)

Change-Id: Ibadb7df92525a0c10f7e82fe6b2bc0dff8316ef6
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/03/778803/2 && git format-patch -1 --stdout FETCH_HEAD,['network/ports/port.j2'],1,a8d9f7c3d527cc7aea7b38c62f259ead9e73fca3,network-data-v2, RootStackName: description: The name of the stack/plan. type: string tags: - str_replace: template: tripleo_hostname=$HOSTNAME params: $HOSTNAME: {get_param: DnsName} - str_replace: template: tripleo_stack_name=$STACK_NAME params: $STACK_NAME: {get_param: RootStackName},,12,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ibadb7df92525a0c10f7e82fe6b2bc0dff8316ef6,openstack/tripleo-heat-templates,stable/ussuri,Ibadb7df92525a0c10f7e82fe6b2bc0dff8316ef6,Backport neutron resource tags,ABANDONED,2021-03-05 01:35:08.000000000,2021-03-30 10:52:27.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-05 01:35:08.000000000', 'files': ['network/ports/port.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/94d845052af263df387c07d51e5f9b197affc372', 'message': ""Backport neutron resource tags\n\nThis is a bulk backport of changes from master setting\ntag's on neutron resouces. Setting up these tags prior\nreleases will ease the upgrade/migration to not manage\nthe resources in heat.\n\nPartial-Implements: blueprint network-data-v2-ports\n(cherry picked from commit 28f2a709124f62469acafb64110f755edec82636)\n(cherry picked from commit 1e7015081d19c1df0470e1a2654d7425f42e4b41)\n(cherry picked from commit 6d39c90a22d850cf449f1900cff32e8b2a1803c3)\n\nChange-Id: Ibadb7df92525a0c10f7e82fe6b2bc0dff8316ef6\n""}]",0,778818,94d845052af263df387c07d51e5f9b197affc372,4,2,1,24245,,,0,"Backport neutron resource tags

This is a bulk backport of changes from master setting
tag's on neutron resouces. Setting up these tags prior
releases will ease the upgrade/migration to not manage
the resources in heat.

Partial-Implements: blueprint network-data-v2-ports
(cherry picked from commit 28f2a709124f62469acafb64110f755edec82636)
(cherry picked from commit 1e7015081d19c1df0470e1a2654d7425f42e4b41)
(cherry picked from commit 6d39c90a22d850cf449f1900cff32e8b2a1803c3)

Change-Id: Ibadb7df92525a0c10f7e82fe6b2bc0dff8316ef6
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/18/778818/1 && git format-patch -1 --stdout FETCH_HEAD,['network/ports/port.j2'],1,94d845052af263df387c07d51e5f9b197affc372,network-data-v2-stable/ussuri, RootStackName: description: The name of the stack/plan. type: string tags: - str_replace: template: tripleo_hostname=$HOSTNAME params: $HOSTNAME: {get_param: DnsName} - str_replace: template: tripleo_stack_name=$STACK_NAME params: $STACK_NAME: {get_param: RootStackName},,12,0
