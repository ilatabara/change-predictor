id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Frally-openstack~master~Ie554342a0fa0d8cce815937144f6c2dc52d0a44d,openstack/rally-openstack,master,Ie554342a0fa0d8cce815937144f6c2dc52d0a44d,Simplify jsonschema of existin@openstack plugin,MERGED,2018-08-27 13:33:50.000000000,2018-12-01 06:26:54.000000000,2018-12-01 06:26:54.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-27 13:33:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/408a359a60543577c15b29fe06582c02eaf7f4d1', 'message': 'Simplify jsonschema of existin@openstack plugin\n\nChange-Id: Ie554342a0fa0d8cce815937144f6c2dc52d0a44d\n'}, {'number': 2, 'created': '2018-08-27 15:56:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/13c0b4378b0fc41eec307305dfc865d637c4746e', 'message': 'Simplify jsonschema of existin@openstack plugin\n\nChange-Id: Ie554342a0fa0d8cce815937144f6c2dc52d0a44d\n'}, {'number': 3, 'created': '2018-08-28 09:17:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/30a8769a19b65d211a2a6c799203217a8c9a293e', 'message': 'Simplify jsonschema of existin@openstack plugin\n\nChange-Id: Ie554342a0fa0d8cce815937144f6c2dc52d0a44d\n'}, {'number': 4, 'created': '2018-11-06 10:48:01.000000000', 'files': ['rally_openstack/platforms/existing.py'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/ab58a3215c13909c108e31f57bf592149c76cfd8', 'message': 'Simplify jsonschema of existin@openstack plugin\n\nChange-Id: Ie554342a0fa0d8cce815937144f6c2dc52d0a44d\n'}]",0,596723,ab58a3215c13909c108e31f57bf592149c76cfd8,14,2,4,9545,,,0,"Simplify jsonschema of existin@openstack plugin

Change-Id: Ie554342a0fa0d8cce815937144f6c2dc52d0a44d
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/23/596723/1 && git format-patch -1 --stdout FETCH_HEAD,['rally_openstack/platforms/existing.py'],1,408a359a60543577c15b29fe06582c02eaf7f4d1,env_docs," ""properties"": { ""username"": {""type"": ""string""}, ""password"": {""type"": ""string""}, ""tenant_name"": {""type"": ""string""}, ""project_name"": {""type"": ""string""}, ""domain_name"": {""type"": ""string""}, ""user_domain_name"": {""type"": ""string""}, ""project_domain_name"": {""type"": ""string""}, }, ""anyOf"": [ { ""description"": ""Modern terms"", ""required"": [""username"", ""password"", ""project_name""] ""description"": ""Keystone V2 style"", ""required"": [""username"", ""password"", ""tenant_name""] }, ""additionalProperties"": False"," ""oneOf"": [ { ""description"": ""Keystone V2.0"", ""properties"": { ""username"": {""type"": ""string""}, ""password"": {""type"": ""string""}, ""tenant_name"": {""type"": ""string""}, }, ""required"": [""username"", ""password"", ""tenant_name""], ""additionalProperties"": False ""description"": ""Keystone V3.0"", ""properties"": { ""username"": {""type"": ""string""}, ""password"": {""type"": ""string""}, ""project_name"": {""type"": ""string""}, ""domain_name"": {""type"": ""string""}, ""user_domain_name"": {""type"": ""string""}, ""project_domain_name"": {""type"": ""string""}, }, ""required"": [""username"", ""password"", ""project_name""], ""additionalProperties"": False }",16,21
openstack%2Fironic~master~I817a07bf38c0ee1dd7e8599cf4d646a22ab7027f,openstack/ironic,master,I817a07bf38c0ee1dd7e8599cf4d646a22ab7027f,Retries and timeout for IPA command,MERGED,2018-11-23 16:10:29.000000000,2018-12-01 06:26:39.000000000,2018-12-01 06:26:39.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 12171}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 26340}, {'_account_id': 28429}, {'_account_id': 29209}]","[{'number': 1, 'created': '2018-11-23 16:10:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c0377fff9c425c9fc59f90e96473ad81fd1715cf', 'message': 'Retries and timeout for IPA command\n\nAddes retries and timeout configuration parameters for IPA\ncommands that can fail in case of network glitches.\n\nChange-Id: I817a07bf38c0ee1dd7e8599cf4d646a22ab7027f\n'}, {'number': 2, 'created': '2018-11-27 10:35:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/127b122bd784739f94c30c5d030ceff7695a685d', 'message': 'Retries and timeout for IPA command\n\nAddes retries and timeout configuration parameters for IPA\ncommands that can fail in case of network glitches.\n\nChange-Id: I817a07bf38c0ee1dd7e8599cf4d646a22ab7027f\nStory: #2004420\nTask: #28071\n'}, {'number': 3, 'created': '2018-11-27 10:52:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f2f9e2f04a8ed339cece2dd84ca5740ec40b6189', 'message': 'Retries and timeout for IPA command\n\nAdds retries and timeout configuration parameters for IPA\ncommands that can fail in case of network glitches.\n\nChange-Id: I817a07bf38c0ee1dd7e8599cf4d646a22ab7027f\nStory: #2004420\nTask: #28071\n'}, {'number': 4, 'created': '2018-11-27 14:44:43.000000000', 'files': ['ironic/conf/agent.py', 'ironic/drivers/modules/agent_client.py', 'releasenotes/notes/ipa-command-retries-and-timeout-29b0be3f2c21328c.yaml', 'ironic/tests/unit/drivers/modules/test_agent_client.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/a2cffd8c4a12c2967c8424ccc2cca0189a70be75', 'message': 'Retries and timeout for IPA command\n\nAdds retries and timeout configuration parameters for IPA\ncommands that can fail in case of network glitches.\n\nChange-Id: I817a07bf38c0ee1dd7e8599cf4d646a22ab7027f\nStory: #2004420\nTask: #28071\n'}]",33,619761,a2cffd8c4a12c2967c8424ccc2cca0189a70be75,46,14,4,15519,,,0,"Retries and timeout for IPA command

Adds retries and timeout configuration parameters for IPA
commands that can fail in case of network glitches.

Change-Id: I817a07bf38c0ee1dd7e8599cf4d646a22ab7027f
Story: #2004420
Task: #28071
",git fetch https://review.opendev.org/openstack/ironic refs/changes/61/619761/4 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conf/agent.py', 'ironic/drivers/modules/agent_client.py', 'releasenotes/notes/ipa-command-retries-and-timeout-29b0be3f2c21328c.yaml', 'ironic/tests/unit/drivers/modules/test_agent_client.py']",4,c0377fff9c425c9fc59f90e96473ad81fd1715cf,ipa_command_retry_timeout," params={'wait': 'false'}, timeout=60) params={'wait': 'false'}, timeout=60) params={'wait': 'false'}, timeout=60)", params={'wait': 'false'}) params={'wait': 'false'}) params={'wait': 'false'}),23,4
openstack%2Frequirements~stable%2Frocky~Icaedf85b9cdca81381b7baca721c7efe14f89350,openstack/requirements,stable/rocky,Icaedf85b9cdca81381b7baca721c7efe14f89350,"Revert ""update constraint for oslo.cache to new release 1.30.2""",MERGED,2018-11-26 08:30:03.000000000,2018-12-01 06:09:46.000000000,2018-12-01 06:09:45.000000000,"[{'_account_id': 11131}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 14288}, {'_account_id': 19134}, {'_account_id': 19159}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-26 08:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/8800d0800eea34658dc1dfda8ea63ff32d81475d', 'message': 'Revert ""update constraint for oslo.cache to new release 1.30.2""\n\nThis reverts commit 82f14b879b9c7d24b9dbae110640a9617c640b73.\n\nthis introduce a bug in oslo cache see this\nhttp://logs.openstack.org/67/619567/2/check/vitrage-dsvm-api-py27/16f101f/logs/screen-ceilometer-anotification.txt.gz#_Nov_26_07_17_40_440094\n\nand also https://review.openstack.org/#/c/615935/\n\nChange-Id: Icaedf85b9cdca81381b7baca721c7efe14f89350\nRelated-Bug: 1801967\n'}, {'number': 2, 'created': '2018-11-27 06:42:37.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/4f8a623d4e1c73915d000c07bca9e63c822fa047', 'message': 'Revert ""update constraint for oslo.cache to new release 1.30.2""\n\nThis reverts commit 82f14b879b9c7d24b9dbae110640a9617c640b73.\n\nthis introduce a bug in oslo cache see this\nhttp://logs.openstack.org/67/619567/2/check/vitrage-dsvm-api-py27/16f101f/logs/screen-ceilometer-anotification.txt.gz#_Nov_26_07_17_40_440094\n\nand also https://review.openstack.org/#/c/615935/\n\nChange-Id: Icaedf85b9cdca81381b7baca721c7efe14f89350\nRelated-Bug: 1801967\n'}]",0,619982,4f8a623d4e1c73915d000c07bca9e63c822fa047,30,7,2,19134,,,0,"Revert ""update constraint for oslo.cache to new release 1.30.2""

This reverts commit 82f14b879b9c7d24b9dbae110640a9617c640b73.

this introduce a bug in oslo cache see this
http://logs.openstack.org/67/619567/2/check/vitrage-dsvm-api-py27/16f101f/logs/screen-ceilometer-anotification.txt.gz#_Nov_26_07_17_40_440094

and also https://review.openstack.org/#/c/615935/

Change-Id: Icaedf85b9cdca81381b7baca721c7efe14f89350
Related-Bug: 1801967
",git fetch https://review.opendev.org/openstack/requirements refs/changes/82/619982/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,8800d0800eea34658dc1dfda8ea63ff32d81475d,new-release,oslo.cache===1.30.1,oslo.cache===1.30.2,1,1
openstack%2Fopenstacksdk~master~If7826913883c34d0a1b09efef1d7f74c90bccdee,openstack/openstacksdk,master,If7826913883c34d0a1b09efef1d7f74c90bccdee,syntax errors and undefined exceptions in service_description.py,MERGED,2018-11-16 12:44:00.000000000,2018-12-01 06:08:38.000000000,2018-12-01 06:08:38.000000000,"[{'_account_id': 2}, {'_account_id': 8745}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2018-11-16 12:44:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d47b4a82502318167457bab36e07d20462e466bd', 'message': '_make_proxy attempts to referenced undefined variable api_version\n\nThe `_make_proxy` function in openstack/service_description.py was\nattempting to reference a variable named api_version when no such\nvariable was in scope. The reference was in a format string and was\nnot actually being used.  This commit removes the invalid reference.\n\nChange-Id: If7826913883c34d0a1b09efef1d7f74c90bccdee\n'}, {'number': 2, 'created': '2018-11-16 12:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/bdf1f0a2fa76433e84562e7c1dc3dc6e4a358459', 'message': '_make_proxy attempts to referenced undefined variable api_version\n\nThe `_make_proxy` function in openstack/service_description.py was\nattempting to reference a variable named api_version when no such\nvariable was in scope. The reference was in a format string and was\nnot actually being used. There was also a typo in the format string\nitself that was causing an error.\n\nThis commit removes the invalid reference and corrects the typo.\n\nChange-Id: If7826913883c34d0a1b09efef1d7f74c90bccdee\n'}, {'number': 3, 'created': '2018-11-16 13:04:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/974abd06df0185d45469c1286094e9228adb1fda', 'message': 'several errors in _make_proxy\n\nThe `_make_proxy` method in openstack/service_description.py had\nseveral fatal errors:\n\n- It attempted to reference a variable named api_version when no such variable was in scope.\n- There was a syntax error in the associated format string.\n- It attempted to referenced an UndefinedVersion exception when no\n  such exception exists.\n\nThis commit corrects all of the above.\n\nChange-Id: If7826913883c34d0a1b09efef1d7f74c90bccdee\n'}, {'number': 4, 'created': '2018-11-16 13:48:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/0c8372f8155a13ed93f12c60a7ba937c70425a17', 'message': 'several errors in _make_proxy\n\nThe `_make_proxy` method in openstack/service_description.py had\nseveral fatal errors:\n\n- It attempted to reference a variable named api_version when no such\n  variable was in scope.\n- There was a syntax error in the associated format string.\n- It attempted to referenced an UndefinedVersion exception when no\n  such exception exists.\n\nThis commit corrects all of the above.\n\nChange-Id: If7826913883c34d0a1b09efef1d7f74c90bccdee\n'}, {'number': 5, 'created': '2018-11-17 13:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f95c4ee698f87dffe3b321164ae03c210addb7e0', 'message': 'syntax errors and undefined exceptions in service_description.py\n\nopenstack/service_description.py had several fatal errors:\n\n- The _make_proxy method attempted to reference a variable named\n  api_version when no such variable was in scope.\n- There was a syntax error in the associated format string.\n- There were multiple references to an UnsupportedVersion exception\n  when no such exception exists.\n\nThis commit corrects all of the above.\n\nChange-Id: If7826913883c34d0a1b09efef1d7f74c90bccdee\n'}, {'number': 6, 'created': '2018-11-21 12:43:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e939ef3c54f27f5a245f9ac935e21f50c419738c', 'message': 'syntax errors and undefined exceptions in service_description.py\n\nopenstack/service_description.py had several fatal errors:\n\n- The _make_proxy method attempted to reference a variable named\n  api_version when no such variable was in scope.\n- There was a syntax error in the associated format string.\n- There were multiple references to an UnsupportedVersion exception\n  when no such exception exists.\n\nThis commit corrects all of the above.\n\nChange-Id: If7826913883c34d0a1b09efef1d7f74c90bccdee\n'}, {'number': 7, 'created': '2018-11-30 21:15:08.000000000', 'files': ['openstack/service_description.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8d71f764e4f9712464306a489ef601c502bf220d', 'message': 'syntax errors and undefined exceptions in service_description.py\n\nopenstack/service_description.py had several fatal errors:\n\n- The _make_proxy method attempted to reference a variable named\n  api_version when no such variable was in scope.\n- There was a syntax error in the associated format string.\n- There were multiple references to an UnsupportedVersion exception\n  when no such exception exists.\n\nThis commit corrects all of the above.\n\nChange-Id: If7826913883c34d0a1b09efef1d7f74c90bccdee\n'}]",0,618519,8d71f764e4f9712464306a489ef601c502bf220d,27,5,7,8745,,,0,"syntax errors and undefined exceptions in service_description.py

openstack/service_description.py had several fatal errors:

- The _make_proxy method attempted to reference a variable named
  api_version when no such variable was in scope.
- There was a syntax error in the associated format string.
- There were multiple references to an UnsupportedVersion exception
  when no such exception exists.

This commit corrects all of the above.

Change-Id: If7826913883c34d0a1b09efef1d7f74c90bccdee
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/19/618519/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/service_description.py'],1,d47b4a82502318167457bab36e07d20462e466bd,bug/api_version,," version=api_version,",0,1
openstack%2Fopenstack-ansible~master~I587d1fe984e8b9040e341b69aeb450ec5459d60f,openstack/openstack-ansible,master,I587d1fe984e8b9040e341b69aeb450ec5459d60f,bootstrap: stop creating swap,MERGED,2018-11-30 15:13:48.000000000,2018-12-01 05:56:28.000000000,2018-12-01 05:56:28.000000000,"[{'_account_id': 13095}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-30 15:13:48.000000000', 'files': ['tests/roles/bootstrap-host/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5b6fc9c425f0910975859b0ca41da594fce3f757', 'message': ""bootstrap: stop creating swap\n\nWe used to create swap because we couldn't get a deployment to\nfit in our upstream CI systems.  The average swap usage now is\n1-2 MB but it can take up to 15-20 minutes to create the swap\nwhich can cause jobs to timeout.\n\nThis patch stops us from creating swap as it's not necessary,\nif we run out of memory, we should probably look into that issue\nas an AIO inside 8GB of memory is plenty!\n\nChange-Id: I587d1fe984e8b9040e341b69aeb450ec5459d60f\n""}]",0,621179,5b6fc9c425f0910975859b0ca41da594fce3f757,9,3,1,1004,,,0,"bootstrap: stop creating swap

We used to create swap because we couldn't get a deployment to
fit in our upstream CI systems.  The average swap usage now is
1-2 MB but it can take up to 15-20 minutes to create the swap
which can cause jobs to timeout.

This patch stops us from creating swap as it's not necessary,
if we run out of memory, we should probably look into that issue
as an AIO inside 8GB of memory is plenty!

Change-Id: I587d1fe984e8b9040e341b69aeb450ec5459d60f
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/79/621179/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/defaults/main.yml'],1,5b6fc9c425f0910975859b0ca41da594fce3f757,bootstrap-host-swap,bootstrap_host_loopback_swap: no,bootstrap_host_loopback_swap: yes,1,1
openstack%2Fnova~master~I18bd68ba6e59aba4c450eb85e6f4450d7044b1e9,openstack/nova,master,I18bd68ba6e59aba4c450eb85e6f4450d7044b1e9,"Revert ""Add regression test for bug 1550919""",MERGED,2018-11-30 21:15:33.000000000,2018-12-01 05:23:43.000000000,2018-12-01 05:23:43.000000000,"[{'_account_id': 4690}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 28885}]","[{'number': 1, 'created': '2018-11-30 21:15:33.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1550919.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/90d16c270a6aa9acf4bb445c4666ed2631bb1267', 'message': 'Revert ""Add regression test for bug 1550919""\n\nThis reverts commit bbe88786fc90c2106f9fae0156ee7b09ece9a83b.\n\nThe new tests are racy and causing a modest amount of\nfailures in the gate since the change merged, so it is\nprobably best to just revert the tests so they can be\nrobustified.\n\nChange-Id: I18bd68ba6e59aba4c450eb85e6f4450d7044b1e9\nRelated-Bug: #1806126\n'}]",0,621289,90d16c270a6aa9acf4bb445c4666ed2631bb1267,12,15,1,6873,,,0,"Revert ""Add regression test for bug 1550919""

This reverts commit bbe88786fc90c2106f9fae0156ee7b09ece9a83b.

The new tests are racy and causing a modest amount of
failures in the gate since the change merged, so it is
probably best to just revert the tests so they can be
robustified.

Change-Id: I18bd68ba6e59aba4c450eb85e6f4450d7044b1e9
Related-Bug: #1806126
",git fetch https://review.opendev.org/openstack/nova refs/changes/89/621289/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1550919.py'],1,90d16c270a6aa9acf4bb445c4666ed2631bb1267,bug/1550919,,"# Copyright 2018 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import fixtures import mock import os.path from oslo_utils import fileutils from oslo_utils import units from nova import conf from nova import test from nova.tests import fixtures as nova_fixtures from nova.tests.functional import integrated_helpers from nova.tests.unit import fake_network from nova.tests.unit import fake_notifier import nova.tests.unit.image.fake as fake_image from nova.tests.unit.virt.libvirt import fakelibvirt CONF = conf.CONF class _FakeFlat(object): def setUp(self): super(_FakeFlat, self).setUp() def fake_create_image(_self, prepare_template, base, size, *args, **kwargs): # Simply ensure the file exists open(_self.path, 'a').close() self.useFixture(fixtures.MonkeyPatch( 'nova.virt.libvirt.imagebackend.Flat.create_image', fake_create_image)) class _FlatTest(_FakeFlat): def setUp(self): super(_FlatTest, self).setUp() self.flags(group='libvirt', images_type='flat') def assert_disks_nonshared_instancedir(self, server): source_root_disk = os.path.join(self.source_instance_path(server), 'disk') dest_root_disk = os.path.join(self.dest_instance_path(server), 'disk') self.assertTrue(os.path.exists(source_root_disk), ""Source root disk %s does not exist"" % source_root_disk) self.assertFalse(os.path.exists(dest_root_disk), ""Destination root disk %s exists"" % dest_root_disk) def assert_disks_shared_instancedir(self, server): source_root_disk = os.path.join(self.source_instance_path(server), 'disk') # FIXME(mdbooth): We should not have deleted a shared root disk self.assertFalse(os.path.exists(source_root_disk), ""Source root disk %s exists"" % source_root_disk) # NOTE(mdbooth): The Rbd tests also need to mock the flat backend, because the # image returned by the fake image service may (non-deterministically before # python3.6 due to dict ordering) include a kernel and ramdisk. The libvirt # driver forces these to use the flat backend. class _RbdTest(_FakeFlat): def setUp(self): super(_RbdTest, self).setUp() self.flags(group='libvirt', images_type='rbd') self.created = set() def fake_create_image(_self, prepare_template, base, size, *args, **kwargs): self.created.add(_self.rbd_name) def fake_exists(_self): return _self.rbd_name in self.created self.useFixture(fixtures.MonkeyPatch( 'nova.virt.libvirt.imagebackend.Rbd.create_image', fake_create_image)) self.useFixture(fixtures.MonkeyPatch( 'nova.virt.libvirt.imagebackend.Rbd.exists', fake_exists)) # We never want to actually touch rbd self.mock_rbd_driver = self.useFixture(fixtures.MockPatch( 'nova.virt.libvirt.storage.rbd_utils.RBDDriver')).mock.return_value self.mock_rbd_driver.get_mon_addrs.return_value = ([], []) self.mock_rbd_driver.size.return_value = 10 * units.Gi self.mock_cleanup_rbd = self.useFixture(fixtures.MockPatch( 'nova.virt.libvirt.driver.LibvirtDriver._cleanup_rbd')).mock def _assert_disks(self, server): # Check that we created a root disk and haven't called _cleanup_rbd at # all self.assertIn(""%s_disk"" % server['id'], self.created) # FIXME(mdbooth): we should not have deleted shared disks self.assertEqual(1, self.mock_cleanup_rbd.call_count) # We never want to cleanup rbd disks during evacuate, regardless of # instance shared storage assert_disks_nonshared_instancedir = _assert_disks assert_disks_shared_instancedir = _assert_disks class _LibvirtEvacuateTest(integrated_helpers.InstanceHelperMixin): def _start_compute(self, name): # NOTE(mdbooth): fakelibvirt's getHostname currently returns a # hardcoded 'compute1', which is undesirable if we want multiple fake # computes. There's no good way to pre-initialise get_connection() to # return a fake libvirt with a custom return for getHostname. # # Here we mock the class during service creation to return our custom # hostname, but we can't leave this in place because then both computes # will still get the same value from their libvirt Connection. Once the # service has started, we poke a custom getHostname into the # instantiated object to do the same thing, but only for that object. with mock.patch.object(fakelibvirt.Connection, 'getHostname', return_value=name): compute = self.start_service('compute', host=name) compute.driver._host.get_connection().getHostname = lambda: name return compute def setUp(self): super(_LibvirtEvacuateTest, self).setUp() self.useFixture(nova_fixtures.NeutronFixture(self)) fake_network.set_stub_network_methods(self) self.useFixture(nova_fixtures.PlacementFixture()) api_fixture = self.useFixture( nova_fixtures.OSAPIFixture(api_version='v2.1')) self.api = api_fixture.admin_api # force_down and evacuate without onSharedStorage self.api.microversion = '2.14' fake_image.stub_out_image_service(self) self.addCleanup(fake_image.FakeImageService_reset) fake_notifier.stub_notifier(self) self.addCleanup(fake_notifier.reset) self.useFixture(fakelibvirt.FakeLibvirtFixture()) self.start_service('conductor') self.start_service('scheduler') self.flags(compute_driver='libvirt.LibvirtDriver') self.compute0 = self._start_compute('compute0') # Choice of image id and flavor are arbitrary. Fixed for consistency. self.image_id = fake_image.AUTO_DISK_CONFIG_ENABLED_IMAGE_UUID self.flavor_id = next(flavor for flavor in self.api.get_flavors() if flavor['name'] == 'm1.tiny')['id'] @staticmethod def source_instance_path(server): return os.path.join(CONF.instances_path, server['id']) @staticmethod def dest_instance_path(server): return os.path.join(CONF.instances_path, 'dest', server['id']) def _create_server(self): create_req = { 'name': 'server', 'imageRef': self.image_id, 'flavorRef': self.flavor_id, } server = self.api.post_server({'server': create_req}) self.addCleanup(self.api.delete_server, server['id']) self._wait_for_state_change(self.api, server, 'ACTIVE') return server def _swap_computes(self): # Force compute0 down self.compute0.stop() self.api.force_down_service('compute0', 'nova-compute', True) # Start compute1 self.compute1 = self._start_compute('compute1') # Create a 'pass-through' mock for ensure_tree so we can log its calls orig_ensure_tree = fileutils.ensure_tree self.mock_ensure_tree = self.useFixture(fixtures.MockPatch( 'oslo_utils.fileutils.ensure_tree', side_effect=orig_ensure_tree)).mock def _evacuate_with_failure(self, server): # Perform an evacuation during which we experience a failure on the # destination host instance_uuid = server['id'] with mock.patch.object(self.compute1.driver, 'plug_vifs') as plug_vifs: plug_vifs.side_effect = test.TestingException self.api.post_server_action(instance_uuid, {'evacuate': {'host': 'compute1'}}) # Wait for the rebuild to start, then complete fake_notifier.wait_for_versioned_notifications( 'instance.rebuild.start') self._wait_for_server_parameter(self.api, server, {'OS-EXT-STS:task_state': None}) # Meta-test plug_vifs.assert_called() # Return fresh server state after evacuate return self.api.get_server(instance_uuid) def test_evacuate_nonshared_instancedir(self): # If we fail during evacuate and the instance directory didn't # previously exist on the destination, we should delete it # Create an instance on compute0 server = self._create_server() self._swap_computes() source_instance_path = self.source_instance_path(server) dest_instance_path = self.dest_instance_path(server) # Check that we've got an instance directory on the source and not on # the dest self.assertTrue(os.path.exists(source_instance_path), ""Source instance directory %s does not exist"" % source_instance_path) self.assertFalse(os.path.exists(dest_instance_path), ""Destination instance directory %s exists"" % dest_instance_path) # By default our 2 compute hosts share the same instance directory on # the test runner. Force a different directory while running evacuate # on compute1 so we don't have shared storage. def dest_get_instance_path(instance, relative=False): if relative: return instance.uuid return dest_instance_path with mock.patch('nova.virt.libvirt.utils.get_instance_path') \ as get_instance_path: get_instance_path.side_effect = dest_get_instance_path server = self._evacuate_with_failure(server) # Check that we've got an instance directory on the source and not on # the dest, but that the dest was created self.assertTrue(os.path.exists(source_instance_path), ""Source instance directory %s does not exist"" % source_instance_path) self.assertFalse(os.path.exists(dest_instance_path), ""Destination instance directory %s exists"" % dest_instance_path) self.mock_ensure_tree.assert_called_with(dest_instance_path) self.assert_disks_nonshared_instancedir(server) # Check we're still on the failed source host self.assertEqual('compute0', server['OS-EXT-SRV-ATTR:host']) def test_evacuate_shared_instancedir(self): # If we fail during evacuate and the instance directory was already # present on the destination, we should leave it there # By default our 2 compute hosts share the same instance directory on # the test runner. # Create an instance on compute0 server = self._create_server() self._swap_computes() shared_instance_path = self.source_instance_path(server) # Check that we've got an instance directory on the source self.assertTrue(os.path.exists(shared_instance_path), ""Shared instance directory %s does not exist"" % shared_instance_path) server = self._evacuate_with_failure(server) # Check that the instance directory still exists # FIXME(mdbooth): the shared instance directory should still exist self.assertFalse(os.path.exists(shared_instance_path), ""Shared instance directory %s exists"" % shared_instance_path) self.assert_disks_shared_instancedir(server) # Check we're still on the failed source host self.assertEqual('compute0', server['OS-EXT-SRV-ATTR:host']) class LibvirtFlatEvacuateTest(_LibvirtEvacuateTest, _FlatTest, test.TestCase): pass class LibvirtRbdEvacuateTest(_LibvirtEvacuateTest, _RbdTest, test.TestCase): pass ",0,319
openstack%2Frequirements~master~I060a7d733503bc38ab130869b9603bb4b08260f1,openstack/requirements,master,I060a7d733503bc38ab130869b9603bb4b08260f1,update constraint for openstacksdk to new release 0.20.0,MERGED,2018-11-29 22:27:55.000000000,2018-12-01 05:23:40.000000000,2018-12-01 05:23:39.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-29 22:27:55.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/736ba3ac320abfe5c3419f128e13e9185758170d', 'message': 'update constraint for openstacksdk to new release 0.20.0\n\nChange-Id: I060a7d733503bc38ab130869b9603bb4b08260f1\nmeta:version: 0.20.0\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Monty Taylor <mordred@inaugust.com>\nmeta:release:Commit: Monty Taylor <mordred@inaugust.com>\nmeta:release:Change-Id: I8547085a9fed5714f6b5e3f03fac9f6d342948cf\nmeta:release:Code-Review+1: Lars Kellogg-Stedman <lars@redhat.com>\nmeta:release:Code-Review+1: Duc Truong <dtruong@blizzard.com>\nmeta:release:Code-Review+1: Dmitry Tantsur <divius.inside@gmail.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,621035,736ba3ac320abfe5c3419f128e13e9185758170d,10,2,1,11131,,,0,"update constraint for openstacksdk to new release 0.20.0

Change-Id: I060a7d733503bc38ab130869b9603bb4b08260f1
meta:version: 0.20.0
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Monty Taylor <mordred@inaugust.com>
meta:release:Commit: Monty Taylor <mordred@inaugust.com>
meta:release:Change-Id: I8547085a9fed5714f6b5e3f03fac9f6d342948cf
meta:release:Code-Review+1: Lars Kellogg-Stedman <lars@redhat.com>
meta:release:Code-Review+1: Duc Truong <dtruong@blizzard.com>
meta:release:Code-Review+1: Dmitry Tantsur <divius.inside@gmail.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/35/621035/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,736ba3ac320abfe5c3419f128e13e9185758170d,new-release,openstacksdk===0.20.0,openstacksdk===0.19.0,1,1
openstack%2Fnova~master~Ie954fc770c61956a80d472190e97646a39b7420f,openstack/nova,master,Ie954fc770c61956a80d472190e97646a39b7420f,Fix misuse of assertTrue,MERGED,2018-11-29 09:53:25.000000000,2018-12-01 05:07:18.000000000,2018-12-01 05:07:18.000000000,"[{'_account_id': 6062}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 18028}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-11-29 09:53:25.000000000', 'files': ['nova/tests/unit/objects/test_request_spec.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/96b5ef34563d7c38b0a978ca7689032bc2cf1a04', 'message': 'Fix misuse of assertTrue\n\nIf the first argument of assertTrue is True,\nthe assertion is always passed.\nFix it because it is useless.\n\nChange-Id: Ie954fc770c61956a80d472190e97646a39b7420f\nCloses-Bug: #1805800\n'}]",0,620861,96b5ef34563d7c38b0a978ca7689032bc2cf1a04,36,15,1,7634,,,0,"Fix misuse of assertTrue

If the first argument of assertTrue is True,
the assertion is always passed.
Fix it because it is useless.

Change-Id: Ie954fc770c61956a80d472190e97646a39b7420f
Closes-Bug: #1805800
",git fetch https://review.opendev.org/openstack/nova refs/changes/61/620861/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/objects/test_request_spec.py'],1,96b5ef34563d7c38b0a978ca7689032bc2cf1a04,bug/1805800, self.assertTrue(rg.use_same_provider)," self.assertTrue(True, rg.use_same_provider)",1,1
openstack%2Frequirements~master~I704de8618a0acd300216e398b05261ccc9fdf419,openstack/requirements,master,I704de8618a0acd300216e398b05261ccc9fdf419,update constraint for oslo.i18n to new release 3.23.0,MERGED,2018-11-28 11:18:27.000000000,2018-12-01 05:07:14.000000000,2018-12-01 05:07:14.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-28 11:18:27.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/dbbde6819285d411f67d11fc0331786b7fad605f', 'message': 'update constraint for oslo.i18n to new release 3.23.0\n\nChange-Id: I704de8618a0acd300216e398b05261ccc9fdf419\nmeta:version: 3.23.0\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Ben Nemec <bnemec@redhat.com>\nmeta:release:Commit: Ben Nemec <bnemec@redhat.com>\nmeta:release:Change-Id: Ibbf50b62f7842cefce7b979642ee06b32a098ace\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,620563,dbbde6819285d411f67d11fc0331786b7fad605f,30,2,1,11131,,,0,"update constraint for oslo.i18n to new release 3.23.0

Change-Id: I704de8618a0acd300216e398b05261ccc9fdf419
meta:version: 3.23.0
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Ben Nemec <bnemec@redhat.com>
meta:release:Commit: Ben Nemec <bnemec@redhat.com>
meta:release:Change-Id: Ibbf50b62f7842cefce7b979642ee06b32a098ace
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/63/620563/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,dbbde6819285d411f67d11fc0331786b7fad605f,new-release,oslo.i18n===3.23.0,oslo.i18n===3.22.1,1,1
openstack%2Fkolla-ansible~stable%2Frocky~If4a0919bfcd6b8d8a6bfd5df9001b4967e441e7e,openstack/kolla-ansible,stable/rocky,If4a0919bfcd6b8d8a6bfd5df9001b4967e441e7e,Fix section keystone_authtoken of sahara.conf,MERGED,2018-11-29 15:19:04.000000000,2018-12-01 04:11:22.000000000,2018-12-01 04:11:22.000000000,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 29051}]","[{'number': 1, 'created': '2018-11-29 15:19:04.000000000', 'files': ['ansible/roles/sahara/templates/sahara.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/aab8e8e9b4910e5099522f6725e72504c3f27350', 'message': 'Fix section keystone_authtoken of sahara.conf\n\nTested on Rocky, it seems there is no admin_* variables and some others\nare missing (username/password/...) causing keystone to return http code\n400 responses.\n\nChange-Id: If4a0919bfcd6b8d8a6bfd5df9001b4967e441e7e\nCloses-Bug: #1805714\n(cherry picked from commit b439d48ab321f1e30c99e3114bc2ac967f5a1efc)\n'}]",0,620932,aab8e8e9b4910e5099522f6725e72504c3f27350,10,4,1,29051,,,0,"Fix section keystone_authtoken of sahara.conf

Tested on Rocky, it seems there is no admin_* variables and some others
are missing (username/password/...) causing keystone to return http code
400 responses.

Change-Id: If4a0919bfcd6b8d8a6bfd5df9001b4967e441e7e
Closes-Bug: #1805714
(cherry picked from commit b439d48ab321f1e30c99e3114bc2ac967f5a1efc)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/32/620932/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/sahara/templates/sahara.conf.j2'],1,aab8e8e9b4910e5099522f6725e72504c3f27350,bug/1805714-stable/rocky,user_domain_name = {{ default_project_domain_name }} project_name = service project_domain_name = {{ default_project_domain_name }} username = {{ sahara_keystone_user }} password = {{ sahara_keystone_password }},www_authenticate_uri = {{ internal_protocol }}://{{ kolla_internal_fqdn }}:{{ keystone_public_port }}admin_user = {{ sahara_keystone_user }} admin_password = {{ sahara_keystone_password }} admin_tenant_name = service,5,4
openstack%2Ftripleo-heat-templates~stable%2Frocky~I2ad61fc272e37922cb8cfcc36f1f2e9840d404cd,openstack/tripleo-heat-templates,stable/rocky,I2ad61fc272e37922cb8cfcc36f1f2e9840d404cd,Switch scenarios to non-voting,MERGED,2018-11-29 17:54:09.000000000,2018-12-01 03:51:57.000000000,2018-12-01 03:51:56.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2018-11-29 17:54:09.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2f12128d6ee06c56be3bd739d97897666f56a533', 'message': 'Switch scenarios to non-voting\n\nAs we continue to have issues with these jobs due to timeouts and other\nfailures. We need to switch the scenario jobs to non-voting and remove\nthem from the gate. These hopefully can be replaced with standalone\nversions later.\n\nChange-Id: I2ad61fc272e37922cb8cfcc36f1f2e9840d404cd\n'}]",0,620972,2f12128d6ee06c56be3bd739d97897666f56a533,16,5,1,14985,,,0,"Switch scenarios to non-voting

As we continue to have issues with these jobs due to timeouts and other
failures. We need to switch the scenario jobs to non-voting and remove
them from the gate. These hopefully can be replaced with standalone
versions later.

Change-Id: I2ad61fc272e37922cb8cfcc36f1f2e9840d404cd
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/72/620972/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,2f12128d6ee06c56be3bd739d97897666f56a533,scenarios-nv,, voting: true voting: true voting: true voting: true - tripleo-ci-centos-7-scenario001-multinode-oooq-container: voting: true files: - ^(docker|puppet)/services/.*aodh.*$ - ^(docker|puppet)/services/.*ceilometer.*$ - ^(docker|puppet)/services/.*ceph.*$ - ^(docker|puppet)/services/.*cinder.*$ - ^(docker|puppet)/services/.*glance.*$ - ^(docker|puppet)/services/.*gnocchi.*$ - ^(docker|puppet)/services/.*logging.*$ - ^(docker|puppet)/services/.*metrics.*$ - ^(docker|puppet)/services/.*monitoring.*$ - ^(docker|puppet)/services/.*panko.*$ - ci/environments/scenario001-multinode-containers.yaml - ^environments\/.*.yaml - ^deployed-server/.*$ - ^network/endpoints/.*$ - ^common/.*$ - tripleo-ci-centos-7-scenario002-multinode-oooq-container: voting: true files: - ^(docker|puppet)/services/.*aodh.*$ - ^(docker|puppet)/services/.*barbican.*$ - ^(docker|puppet)/services/.*ceilometer.*$ - ^(docker|puppet)/services/.*cinder.*$ - ^(docker|puppet)/services/.*ec2-api.*$ - ^(docker|puppet)/services/.*glance.*$ - ^(docker|puppet)/services/.*gnocchi.*$ - ^(docker|puppet)/services/.*panko.*$ - ^(docker|puppet)/services/.*swift.*$ - ^(docker|puppet)/services/.*zaqar.*$ - ci/environments/scenario002-multinode-containers.yaml - ^environments\/.*.yaml - ^deployed-server/.*$ - ^network/endpoints/.*$ - ^common/.*$ - tripleo-ci-centos-7-scenario003-multinode-oooq-container: voting: true files: - ^(docker|puppet)/services/.*designate.*$ - ^(docker|puppet)/services/.*glance.*$ - ^(docker|puppet)/services/.*mistral.*$ - ^(docker|puppet)/services/.*sahara.*$ - ci/environments/scenario003-multinode-containers.yaml - ^environments\/.*.yaml - ^deployed-server/.*$ - ^network/endpoints/.*$ - ^common/.*$ - tripleo-ci-centos-7-scenario004-multinode-oooq-container: voting: true files: - ^(docker|puppet)/services/.*ceph.*$ - ^(docker|puppet)/services/.*glance.*$ - ^(docker|puppet)/services/.*manila.*$ - ci/environments/scenario004-multinode-containers.yaml - ^environments\/.*.yaml - ^deployed-server/.*$ - ^network/endpoints/.*$ - ^common/.*$,0,63
openstack%2Ftripleo-quickstart~master~I762c76c7713e7603e357b9878318a9723a6c2d72,openstack/tripleo-quickstart,master,I762c76c7713e7603e357b9878318a9723a6c2d72,Collect logs: disable SSL certificate verification,MERGED,2018-11-15 16:10:37.000000000,2018-12-01 03:51:55.000000000,2018-12-01 03:51:55.000000000,"[{'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 10873}, {'_account_id': 10969}, {'_account_id': 11810}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 27898}, {'_account_id': 29222}]","[{'number': 1, 'created': '2018-11-15 16:10:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4c9d448018c3ad435a640984b583002c51698ba0', 'message': 'Collect logs: disable SSL certificate verification\n\nOVB jobs are currently failing to collect logs from the overcloud nodes.\nThe script does not disable verification, and we fail to gather nodes\ninformation.\nThis patch restructure the client call to use keystone tools and disable\nverification\n\nChange-Id: I762c76c7713e7603e357b9878318a9723a6c2d72\nCloses-Bug: #1803561\n'}, {'number': 2, 'created': '2018-11-16 09:47:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/aa5b4656349310091b2c06542fc3274fddadccea', 'message': 'Collect logs: disable SSL certificate verification\n\nOVB jobs are currently failing to collect logs from the overcloud nodes.\nThe script does not disable verification, and we fail to gather nodes\ninformation.\nThis patch restructure the client call to use keystone tools and disable\nverification\n\nChange-Id: I762c76c7713e7603e357b9878318a9723a6c2d72\nCloses-Bug: #1803561\n'}, {'number': 3, 'created': '2018-11-16 14:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/5785e5688b056fe19cefaf88f3295b0c02ed7938', 'message': 'Collect logs: disable SSL certificate verification\n\nOVB jobs are currently failing to collect logs from the overcloud nodes.\nThe script does not disable verification, and we fail to gather nodes\ninformation.\nThis patch restructure the client call to use keystone tools and disable\nverification\n\nChange-Id: I762c76c7713e7603e357b9878318a9723a6c2d72\nCloses-Bug: #1803561\n'}, {'number': 4, 'created': '2018-11-16 14:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/366cbd2318f1fc58cbbce45a0e3b72521f73ced8', 'message': 'Collect logs: disable SSL certificate verification\n\nOVB jobs are currently failing to collect logs from the overcloud nodes.\nThe script does not disable verification, and we fail to gather nodes\ninformation.\nThis patch restructure the client call to use keystone tools and disable\nverification\n\nChange-Id: I762c76c7713e7603e357b9878318a9723a6c2d72\nCloses-Bug: #1803561\n'}, {'number': 5, 'created': '2018-11-16 14:23:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d5ea19596a5f6a2d922d1b78c7fc4a7fbae78ee8', 'message': 'Collect logs: disable SSL certificate verification\n\nOVB jobs are currently failing to collect logs from the overcloud nodes.\nThe script does not disable verification, and we fail to gather nodes\ninformation.\nThis patch restructure the client call to use keystone tools and disable\nverification\n\nChange-Id: I762c76c7713e7603e357b9878318a9723a6c2d72\nCloses-Bug: #1803561\n'}, {'number': 6, 'created': '2018-11-20 04:30:45.000000000', 'files': ['roles/tripleo-inventory/templates/get-overcloud-nodes.py.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/87384e5de4995e3a4e23dd01f6c0197e1f489669', 'message': 'Collect logs: disable SSL certificate verification\n\nOVB jobs are currently failing to collect logs from the overcloud nodes.\nThe script does not disable verification, and we fail to gather nodes\ninformation.\nThis patch restructure the client call to use keystone tools and disable\nverification\n\nChange-Id: I762c76c7713e7603e357b9878318a9723a6c2d72\nCloses-Bug: #1803561\n'}]",6,618205,87384e5de4995e3a4e23dd01f6c0197e1f489669,71,13,6,10022,,,0,"Collect logs: disable SSL certificate verification

OVB jobs are currently failing to collect logs from the overcloud nodes.
The script does not disable verification, and we fail to gather nodes
information.
This patch restructure the client call to use keystone tools and disable
verification

Change-Id: I762c76c7713e7603e357b9878318a9723a6c2d72
Closes-Bug: #1803561
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/05/618205/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/tripleo-inventory/templates/get-overcloud-nodes.py.j2'],1,4c9d448018c3ad435a640984b583002c51698ba0,oooq/collect-logs-ssl,"from keystoneauth1.identity import v3 from keystoneauth1 import session auth = v3.Password(auth_url=auth_url, username=os.environ.get(""OS_USERNAME""), password=os.environ.get(""OS_PASSWORD""), project_name=os.environ.get(""OS_TENANT_NAME"", os.environ.get(""OS_PROJECT_NAME"")), user_domain_id=os.environ.get(""OS_USER_DOMAIN_NAME""), project_domain_name=os.environ.get(""OS_PROJECT_DOMAIN_NAME""), ) session = session.Session(auth=auth, verify=False) nova = client.Client(2, session=session)"," # TODO(aschultz): change this to keystone session or do something different nova = client.Client(2, os.environ.get(""OS_USERNAME""), os.environ.get(""OS_PASSWORD""), project_name=os.environ.get( ""OS_TENANT_NAME"", os.environ.get(""OS_PROJECT_NAME"")), auth_url=auth_url, project_domain_name=os.environ.get( ""OS_PROJECT_DOMAIN_NAME""), user_domain_name=os.environ.get( ""OS_USER_DOMAIN_NAME""))",12,12
openstack%2Ftripleo-common~stable%2Frocky~I5ac0c376deaeced1a1fb82fd6409fc7ffb812447,openstack/tripleo-common,stable/rocky,I5ac0c376deaeced1a1fb82fd6409fc7ffb812447,Switch scenarios to non-voting,MERGED,2018-11-29 17:58:01.000000000,2018-12-01 03:51:54.000000000,2018-12-01 03:51:54.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2018-11-29 17:58:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f59deb1597a2205e57955479b4392e789267ae46', 'message': 'Switch scenarios to non-voting\n\nAs we continue to have issues with these jobs due to timeouts and other\nfailures. We need to switch the scenario jobs to non-voting and remove\nthem from the gate. These hopefully can be replaced with standalone\nversions later.\n\nChange-Id: I5ac0c376deaeced1a1fb82fd6409fc7ffb812447\n'}, {'number': 2, 'created': '2018-11-29 18:34:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/641c53df621313e286d3fadb0d4a4ac42a990399', 'message': 'Switch scenarios to non-voting\n\nAs we continue to have issues with these jobs due to timeouts and other\nfailures. We need to switch the scenario jobs to non-voting and remove\nthem from the gate. These hopefully can be replaced with standalone\nversions later.\n\nChange-Id: I5ac0c376deaeced1a1fb82fd6409fc7ffb812447\n'}, {'number': 3, 'created': '2018-11-29 18:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0e23c84ffe13612ef0329c1a4597a1f578bd60ac', 'message': 'Switch scenarios to non-voting\n\nAs we continue to have issues with these jobs due to timeouts and other\nfailures. We need to switch the scenario jobs to non-voting and remove\nthem from the gate. These hopefully can be replaced with standalone\nversions later.\n\nChange-Id: I5ac0c376deaeced1a1fb82fd6409fc7ffb812447\n'}, {'number': 4, 'created': '2018-11-29 19:07:01.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/39ea2afb89722b2c1846fda8a12cf0732299c8c7', 'message': 'Switch scenarios to non-voting\n\nAs we continue to have issues with these jobs due to timeouts and other\nfailures. We need to switch the scenario jobs to non-voting and remove\nthem from the gate. These hopefully can be replaced with standalone\nversions later.\n\nChange-Id: I5ac0c376deaeced1a1fb82fd6409fc7ffb812447\n'}]",2,620973,39ea2afb89722b2c1846fda8a12cf0732299c8c7,15,4,4,14985,,,0,"Switch scenarios to non-voting

As we continue to have issues with these jobs due to timeouts and other
failures. We need to switch the scenario jobs to non-voting and remove
them from the gate. These hopefully can be replaced with standalone
versions later.

Change-Id: I5ac0c376deaeced1a1fb82fd6409fc7ffb812447
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/73/620973/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,f59deb1597a2205e57955479b4392e789267ae46,scenarios-nv, - tripleo-ci-centos-7-scenario002-multinode-oooq-container: - scripts/.*$ , voting: true - tripleo-ci-centos-7-scenario002-multinode-oooq-container: voting: true voting: true voting: true voting: true - tripleo-ci-centos-7-scenario001-multinode-oooq-container: voting: true - tripleo-ci-centos-7-scenario002-multinode-oooq-container: voting: true files: - ^container-images/.*$ - tripleo_common/image/kolla_builder.py - tripleo-ci-centos-7-scenario003-multinode-oooq-container: voting: true files: - ^container-images/.*$ - tripleo_common/image/kolla_builder.py - tripleo-ci-centos-7-scenario004-multinode-oooq-container: voting: true files: - workbooks/ceph-ansible.yaml - ^container-images/.*$ - tripleo_common/actions/ansible.py - tripleo_common/image/kolla_builder.py - tripleo-ci-centos-7-scenario007-multinode-oooq-container: voting: true files: - ^container-images/.*$ - tripleo_common/image/kolla_builder.py,2,29
openstack%2Fpython-tripleoclient~stable%2Frocky~Ieec42c2d31c88543922d4c9f01efd62758f9a7fb,openstack/python-tripleoclient,stable/rocky,Ieec42c2d31c88543922d4c9f01efd62758f9a7fb,Bump the timeout for plan creation workflow to 20 minutes,MERGED,2018-11-19 19:59:07.000000000,2018-12-01 03:51:53.000000000,2018-12-01 03:51:53.000000000,"[{'_account_id': 3153}, {'_account_id': 7065}, {'_account_id': 11082}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-11-19 19:59:07.000000000', 'files': ['tripleoclient/workflows/plan_management.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3f01b3862ed98208de6ffe64099c33c2de9d9e6a', 'message': ""Bump the timeout for plan creation workflow to 20 minutes\n\nThe default plan has grown. Processing of the plan is taking longer on\noccasion, so it's reasonable to bump the timeout, instead of it being\nrazor thin.\n\nChange-Id: Ieec42c2d31c88543922d4c9f01efd62758f9a7fb\nRelated-Bug: rhbz#1619704\n(cherry picked from commit f8c2c83f890fef2923eedf40283ea8a0e83b5a7a)\n""}]",1,618815,3f01b3862ed98208de6ffe64099c33c2de9d9e6a,17,7,1,14985,,,0,"Bump the timeout for plan creation workflow to 20 minutes

The default plan has grown. Processing of the plan is taking longer on
occasion, so it's reasonable to bump the timeout, instead of it being
razor thin.

Change-Id: Ieec42c2d31c88543922d4c9f01efd62758f9a7fb
Related-Bug: rhbz#1619704
(cherry picked from commit f8c2c83f890fef2923eedf40283ea8a0e83b5a7a)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/15/618815/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/workflows/plan_management.py'],1,3f01b3862ed98208de6ffe64099c33c2de9d9e6a,bz/1619704-stable/rocky,"# several minutes. The previous timeout of 6 minutes from Instack does not # seem to be sufficient anymore. Bumping this to 20 minutes. It doesn't mean # that it will take 20 minutes, but just that the listen for completion will # timeout after 20 minutes. If it takes longer than that, something is really # wrong. _WORKFLOW_TIMEOUT = 20 * 60 # 20 minutes * 60 seconds",# several minutes. This timeout value of 6 minutes is the same as the timeout # used in Instack. _WORKFLOW_TIMEOUT = 360 # 6 * 60 seconds,6,3
openstack%2Fopenstack-ansible-os_neutron~master~Ieb87d87688bb56cc274bf41311a2b5d6c73fc046,openstack/openstack-ansible-os_neutron,master,Ieb87d87688bb56cc274bf41311a2b5d6c73fc046,Apply provider-configuration for 'ml2.ovs.dvr' also,MERGED,2018-11-20 09:06:11.000000000,2018-12-01 03:48:23.000000000,2018-12-01 03:48:23.000000000,"[{'_account_id': 1004}, {'_account_id': 17068}, {'_account_id': 21883}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-20 09:06:11.000000000', 'files': ['tasks/providers/dvr_config.yml', 'tasks/providers/ovs_config.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/e944f06a8e8da39be9890f55c372962e66f69862', 'message': 'Apply provider-configuration for \'ml2.ovs.dvr\' also\n\nneutron_plugin_type can be ml2.ovs and ml2.ovs.dvr and this would\nstill apply to both configurations.\n\nCreate a symlink from dvr_config -> ovs_config to work around;\n\n  #  Include provider specific config(s)\n  - include_tasks: ""{{ item }}""\n    with_first_found:\n      - files:\n          - ""{{ neutron_plugin_type.split(\'.\')[-1] }}_config.yml""\n\nin tasks/main.yml\n\nChange-Id: Ieb87d87688bb56cc274bf41311a2b5d6c73fc046\n'}]",0,618972,e944f06a8e8da39be9890f55c372962e66f69862,8,4,1,25600,,,0,"Apply provider-configuration for 'ml2.ovs.dvr' also

neutron_plugin_type can be ml2.ovs and ml2.ovs.dvr and this would
still apply to both configurations.

Create a symlink from dvr_config -> ovs_config to work around;

  #  Include provider specific config(s)
  - include_tasks: ""{{ item }}""
    with_first_found:
      - files:
          - ""{{ neutron_plugin_type.split('.')[-1] }}_config.yml""

in tasks/main.yml

Change-Id: Ieb87d87688bb56cc274bf41311a2b5d6c73fc046
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/72/618972/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/providers/dvr_config.yml', 'tasks/providers/ovs_config.yml']",2,e944f06a8e8da39be9890f55c372962e66f69862,," - neutron_plugin_type in ['ml2.ovs', 'ml2.ovs.dvr'] - neutron_plugin_type in ['ml2.ovs', 'ml2.ovs.dvr']", - neutron_plugin_type == 'ml2.ovs' - neutron_plugin_type == 'ml2.ovs',3,2
openstack%2Fkolla-ansible~master~I56a377e1faab9a50f36383ea59b45bf5a9155bcf,openstack/kolla-ansible,master,I56a377e1faab9a50f36383ea59b45bf5a9155bcf,"Option neutron_plugin_agent: ""opendaylight"" added",MERGED,2018-11-30 14:34:27.000000000,2018-12-01 03:30:54.000000000,2018-12-01 03:30:54.000000000,"[{'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28614}]","[{'number': 1, 'created': '2018-11-30 14:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/849e37683d6083e5dbcbfaa98243ba5b6da473a8', 'message': 'Option neutron_plugin_agent: ""opendaylight"" added\n\nAdded the missing option neutron_plugin_agent: ""opendaylight"" added to\nthe opendaylight documentation page. Without it the deployment would\nnot use the neutron_plugin_agent but the default one: openvswitch .\n\nChange-Id: I56a377e1faab9a50f36383ea59b45bf5a9155bcf\n'}, {'number': 2, 'created': '2018-11-30 14:39:06.000000000', 'files': ['doc/source/reference/networking/opendaylight.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f8f9748120e9bdd7679c0660c5ea9595265d46c1', 'message': 'Option neutron_plugin_agent: ""opendaylight"" added\n\nAdded the missing option neutron_plugin_agent: ""opendaylight"" added to\nthe opendaylight documentation page. Without it the deployment would\nnot use the neutron_plugin_agent but the default one: openvswitch .\n\nChange-Id: I56a377e1faab9a50f36383ea59b45bf5a9155bcf\n'}]",1,621167,f8f9748120e9bdd7679c0660c5ea9595265d46c1,10,4,2,29601,,,0,"Option neutron_plugin_agent: ""opendaylight"" added

Added the missing option neutron_plugin_agent: ""opendaylight"" added to
the opendaylight documentation page. Without it the deployment would
not use the neutron_plugin_agent but the default one: openvswitch .

Change-Id: I56a377e1faab9a50f36383ea59b45bf5a9155bcf
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/67/621167/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/networking/opendaylight.rst'],1,849e37683d6083e5dbcbfaa98243ba5b6da473a8,bug/1806016," neutron_plugin_agent: ""opendaylight"" ~",,2,1
openstack%2Fopenstack-ansible~master~I3b0eb96d466def45340b9dec87830fc7abef8f03,openstack/openstack-ansible,master,I3b0eb96d466def45340b9dec87830fc7abef8f03,Update ansible to 2.7.2,MERGED,2018-11-26 12:36:42.000000000,2018-12-01 03:21:48.000000000,2018-12-01 03:21:48.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-11-26 12:36:42.000000000', 'files': ['scripts/bootstrap-ansible.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4195f032a12831fccfd7181b1c82d3bcd4010943', 'message': 'Update ansible to 2.7.2\n\nChange-Id: I3b0eb96d466def45340b9dec87830fc7abef8f03\n'}]",0,620034,4195f032a12831fccfd7181b1c82d3bcd4010943,15,4,1,25023,,,0,"Update ansible to 2.7.2

Change-Id: I3b0eb96d466def45340b9dec87830fc7abef8f03
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/34/620034/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/bootstrap-ansible.sh'],1,4195f032a12831fccfd7181b1c82d3bcd4010943,osa-update-ansible,"export ANSIBLE_PACKAGE=${ANSIBLE_PACKAGE:-""ansible==2.7.2""}","export ANSIBLE_PACKAGE=${ANSIBLE_PACKAGE:-""ansible==2.7.1""}",1,1
openstack%2Fcongress~master~I22dfcaed1ac7a1da41636a49585ef30e0eaabba7,openstack/congress,master,I22dfcaed1ac7a1da41636a49585ef30e0eaabba7,Add servers.addresses table in nova driver,MERGED,2018-10-18 07:08:41.000000000,2018-12-01 03:20:33.000000000,2018-12-01 03:20:33.000000000,"[{'_account_id': 11278}, {'_account_id': 18591}, {'_account_id': 22348}, {'_account_id': 25553}]","[{'number': 1, 'created': '2018-10-18 07:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/31acda8771aece7c6ffe25ee64ba5535e3c65937', 'message': 'Add addresses table for nova servers\n\nThis commit will add servers.addresses table that will contain\nnet_mgmt IP addresses for all servers. Which will inturn help in\nmapping with Tacker VNF instances via IP address of instances.\n\nChange-Id: I22dfcaed1ac7a1da41636a49585ef30e0eaabba7\nPartially-Implements: blueprint add-tacker-datasource-driver\n'}, {'number': 2, 'created': '2018-10-21 23:58:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/90a0c697dd7c4d41ed783374ecfe4e30988fbcbc', 'message': 'Add addresses table for nova servers\n\nThis commit will add servers.addresses table that will contain\nnet_mgmt IP addresses for all servers. Which will inturn help in\nmapping with Tacker VNF instances via IP address of instances.\n\nChange-Id: I22dfcaed1ac7a1da41636a49585ef30e0eaabba7\nPartially-Implements: blueprint add-tacker-datasource-driver\n'}, {'number': 3, 'created': '2018-10-26 06:18:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/5f3bf67b1bd2307355051e57eb095299f501a79b', 'message': 'Add addresses table for nova servers\n\nThis commit will add servers.addresses table that will contain\nnet_mgmt IP addresses for all servers. Which will inturn help in\nmapping with Tacker VNF instances via IP address of instances.\n\nChange-Id: I22dfcaed1ac7a1da41636a49585ef30e0eaabba7\nPartially-Implements: blueprint add-tacker-datasource-driver\n'}, {'number': 4, 'created': '2018-10-26 06:23:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/15fe7d777f4a07afae6278375d69a1f1b4629d44', 'message': 'Add addresses table for nova servers\n\nThis commit will add servers.addresses table that will contain\nnet_mgmt IP addresses for all servers. Which will inturn help in\nmapping with Tacker VNF instances via IP address of instances.\n\nChange-Id: I22dfcaed1ac7a1da41636a49585ef30e0eaabba7\nPartially-Implements: blueprint add-tacker-datasource-driver\n'}, {'number': 5, 'created': '2018-10-26 06:24:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/13f7cf5fbe9fe3dcf6fbc84ef8b0289f18319583', 'message': 'Add addresses table for nova servers\n\nThis commit will add servers.addresses table that will contain\nnet_mgmt IP addresses for all servers. Which will inturn help in\nmapping with Tacker VNF instances via IP address of instances.\n\nChange-Id: I22dfcaed1ac7a1da41636a49585ef30e0eaabba7\nPartially-Implements: blueprint add-tacker-datasource-driver\n'}, {'number': 6, 'created': '2018-11-02 03:00:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/d2d911d645cf316ada99c42eb065a938d6662a3e', 'message': 'Add addresses table for nova servers\n\nThis commit will add servers.addresses table that will contain\nnet_mgmt IP addresses for all servers. Which will inturn help in\nmapping with Tacker VNF instances via IP address of instances.\n\nChange-Id: I22dfcaed1ac7a1da41636a49585ef30e0eaabba7\nPartially-Implements: blueprint add-tacker-datasource-driver\n'}, {'number': 7, 'created': '2018-11-02 06:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/358cb5b4aa67636358b57b29bb5d269f667741c0', 'message': 'Add addresses table for nova servers\n\nThis commit will add servers.addresses table that will contain\nnet_mgmt IP addresses for all servers. Which will inturn help in\nmapping with Tacker VNF instances via IP address of instances.\n\nChange-Id: I22dfcaed1ac7a1da41636a49585ef30e0eaabba7\nPartially-Implements: blueprint add-tacker-datasource-driver\n'}, {'number': 8, 'created': '2018-11-13 10:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/90236c507c32750503e96be996253df971151a15', 'message': 'Add addresses table for nova servers\n\nThis commit will add servers.addresses table that will contain\nIP addresses detail of all servers. Which will inturn help in\nmapping with Tacker VNF instances via IP address of instances.\n\nChange-Id: I22dfcaed1ac7a1da41636a49585ef30e0eaabba7\nPartially-Implements: blueprint add-tacker-datasource-driver\n'}, {'number': 9, 'created': '2018-11-21 05:21:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/49a7596c9ddba256917d3df36ad5ade28eb76e19', 'message': 'Add servers.addresses table in nova driver\n\nThis commit will add servers.addresses table that will contain\nfields: server_id, network_name, address, version, mac_address\nand address_type of servers. Which will inturn help in\nmapping with Tacker VNF instances via IP address of instances.\n\nChange-Id: I22dfcaed1ac7a1da41636a49585ef30e0eaabba7\nPartially-Implements: blueprint add-tacker-datasource-driver\n'}, {'number': 10, 'created': '2018-11-23 06:29:40.000000000', 'files': ['congress/tests/datasources/fakes.py', 'releasenotes/notes/nova-servers-addresses-table-c1b7c4afa4c29c28.yaml', 'congress/tests/datasources/test_nova_driver.py', 'congress/datasources/nova_driver.py'], 'web_link': 'https://opendev.org/openstack/congress/commit/7767c271a5473be8cc5b4e3f4226e01369b89fbe', 'message': 'Add servers.addresses table in nova driver\n\nThis commit will add servers.addresses table that will contain\nfields: server_id, network_name, address, version, mac_address\nand address_type of servers. Which will inturn help in\nmapping with Tacker VNF instances via IP address of instances.\n\nChange-Id: I22dfcaed1ac7a1da41636a49585ef30e0eaabba7\nPartially-Implements: blueprint add-tacker-datasource-driver\n'}]",31,611516,7767c271a5473be8cc5b4e3f4226e01369b89fbe,54,4,10,25553,,,0,"Add servers.addresses table in nova driver

This commit will add servers.addresses table that will contain
fields: server_id, network_name, address, version, mac_address
and address_type of servers. Which will inturn help in
mapping with Tacker VNF instances via IP address of instances.

Change-Id: I22dfcaed1ac7a1da41636a49585ef30e0eaabba7
Partially-Implements: blueprint add-tacker-datasource-driver
",git fetch https://review.opendev.org/openstack/congress refs/changes/16/611516/9 && git format-patch -1 --stdout FETCH_HEAD,"['congress/tests/datasources/fakes.py', 'congress/tests/datasources/test_nova_driver.py', 'congress/datasources/nova_driver.py']",3,31acda8771aece7c6ffe25ee64ba5535e3c65937,bp/add-tacker-datasource-driver," ADDRESSES = SERVERS + "".addresses"" def extract_ip_address(addresses): ip_list = [] if isinstance(addresses, dict) and 'net_mgmt' in addresses.keys(): sub_list = addresses['net_mgmt'] if isinstance(sub_list, list): for address in sub_list: try: ip_list.append(address['addr']) except Exception: pass return ip_list {'fieldname': 'addresses', 'translator': {'translation-type': 'LIST', 'table-name': ADDRESSES, 'parent-key': 'id', 'parent-col-name': 'server_id', 'parent-key-desc': 'UUID of server', 'val-col': 'ip_address', 'val-col-desc': 'IP address of server', 'objects-extract-fn': extract_ip_address, 'translator': value_trans_str}},",,33,2
openstack%2Fopenstack-ansible~master~If6b7e401021ea57a908a616ec8b86e7aa6798558,openstack/openstack-ansible,master,If6b7e401021ea57a908a616ec8b86e7aa6798558,Implement AIO changes to allow test usage by roles,MERGED,2018-03-11 17:23:32.000000000,2018-12-01 02:59:08.000000000,2018-12-01 02:59:08.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-03-11 17:23:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1b88fa814fcf21647d5620af60d242c42bc3aa8f', 'message': ""[WIP] Implement more axes for an increased test matrix\n\nCurrently the 'scenario' axis is being overloaded for a bunch of\ndifferent things, and it's getting a little complicated to understand\nwhat's actually being tested - or how to extend testing for a new\ntechnology.\n\nThis patch implements a complete change in the way the functional tests\nare named to try to make it much clearer what is being tested, and also\nmakes it easier to implement a broader matrix of tests combining various\ntechnologies.\n\n1. scenario:\n   A configuration variation which should be agnostic of the underlying\n   supporting technologies.\n2. container_tech:\n   A supporting technology axis, allowing differentiation between the\n   use of LXC, nspawn or no containers (metal).\n3. network_tech:\n   A supporting technology axis, allowing differentiation between the\n   use of linuxbridge, openvswitch, etc.\n4. storage_tech:\n   A supporting technology axis, allowing differentiation between the\n   use of NFS, ceph, etc.\n5. install_method:\n   A deployment method axis, allowing differentiation between source-\n   based deployments and the future implementation of non-source-based\n   deployments.\n\nGiven the above set, it should be easy to mix-and-match without having\nto use too much repetition in the bootstrap of an AIO.\n\nChange-Id: If6b7e401021ea57a908a616ec8b86e7aa6798558\n""}, {'number': 2, 'created': '2018-03-11 17:46:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d4d043a2efc792115f87cede044231028bda41db', 'message': ""[WIP] Implement more axes for an increased test matrix\n\nCurrently the 'scenario' axis is being overloaded for a bunch of\ndifferent things, and it's getting a little complicated to understand\nwhat's actually being tested - or how to extend testing for a new\ntechnology.\n\nThis patch implements a complete change in the way the functional tests\nare named to try to make it much clearer what is being tested, and also\nmakes it easier to implement a broader matrix of tests combining various\ntechnologies.\n\n1. scenario:\n   A configuration variation which should be agnostic of the underlying\n   supporting technologies.\n2. container_tech:\n   A supporting technology axis, allowing differentiation between the\n   use of LXC, nspawn or no containers (metal).\n3. network_tech:\n   A supporting technology axis, allowing differentiation between the\n   use of linuxbridge, openvswitch, etc.\n4. storage_tech:\n   A supporting technology axis, allowing differentiation between the\n   use of NFS, ceph, etc.\n5. install_method:\n   A deployment method axis, allowing differentiation between source-\n   based deployments and the future implementation of non-source-based\n   deployments.\n\nGiven the above set, it should be easy to mix-and-match without having\nto use too much repetition in the bootstrap of an AIO.\n\nChange-Id: If6b7e401021ea57a908a616ec8b86e7aa6798558\n""}, {'number': 3, 'created': '2018-08-17 16:19:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/abcdc393d5b62eecf541e7ac1132fdcc8f29926d', 'message': ""[WIP] Implement more axes for an increased test matrix\n\nCurrently the 'scenario' axis is being overloaded for a bunch of\ndifferent things, and it's getting a little complicated to understand\nwhat's actually being tested - or how to extend testing for a new\ntechnology.\n\nThis patch implements a complete change in the way the functional tests\nare named to try to make it much clearer what is being tested, and also\nmakes it easier to implement a broader matrix of tests combining various\ntechnologies.\n\n1. scenario:\n   A configuration variation which should be agnostic of the underlying\n   supporting technologies.\n2. container_tech:\n   A supporting technology axis, allowing differentiation between the\n   use of LXC, nspawn or no containers (metal).\n3. network_tech:\n   A supporting technology axis, allowing differentiation between the\n   use of linuxbridge, openvswitch, etc.\n4. storage_tech:\n   A supporting technology axis, allowing differentiation between the\n   use of NFS, ceph, etc.\n5. install_method:\n   A deployment method axis, allowing differentiation between source-\n   based deployments and the future implementation of non-source-based\n   deployments.\n\nGiven the above set, it should be easy to mix-and-match without having\nto use too much repetition in the bootstrap of an AIO.\n\nChange-Id: If6b7e401021ea57a908a616ec8b86e7aa6798558\n""}, {'number': 4, 'created': '2018-08-17 16:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/411ce67fd9604c804fe41cce3aa57315f18c5506', 'message': ""[WIP] Implement more axes for an increased test matrix\n\nCurrently the 'scenario' axis is being overloaded for a bunch of\ndifferent things, and it's getting a little complicated to understand\nwhat's actually being tested - or how to extend testing for a new\ntechnology.\n\nThis patch implements a complete change in the way the functional tests\nare named to try to make it much clearer what is being tested, and also\nmakes it easier to implement a broader matrix of tests combining various\ntechnologies.\n\n1. scenario:\n   A configuration variation which should be agnostic of the underlying\n   supporting technologies.\n2. container_tech:\n   A supporting technology axis, allowing differentiation between the\n   use of LXC, nspawn or no containers (metal).\n3. network_tech:\n   A supporting technology axis, allowing differentiation between the\n   use of linuxbridge, openvswitch, etc.\n4. storage_tech:\n   A supporting technology axis, allowing differentiation between the\n   use of NFS, ceph, etc.\n5. install_method:\n   A deployment method axis, allowing differentiation between source-\n   based deployments and the future implementation of non-source-based\n   deployments.\n\nGiven the above set, it should be easy to mix-and-match without having\nto use too much repetition in the bootstrap of an AIO.\n\nRelated-bug: #1759784\nChange-Id: If6b7e401021ea57a908a616ec8b86e7aa6798558\n""}, {'number': 5, 'created': '2018-08-17 16:38:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e03d4abbd0dddd128382cb6158add3d4748bb3d4', 'message': ""[WIP] Implement more axes for an increased test matrix\n\nCurrently the 'scenario' axis is being overloaded for a bunch of\ndifferent things, and it's getting a little complicated to understand\nwhat's actually being tested - or how to extend testing for a new\ntechnology.\n\nThis patch implements a complete change in the way the functional tests\nare named to try to make it much clearer what is being tested, and also\nmakes it easier to implement a broader matrix of tests combining various\ntechnologies.\n\n1. scenario:\n   A configuration variation which should be agnostic of the underlying\n   supporting technologies.\n2. container_tech:\n   A supporting technology axis, allowing differentiation between the\n   use of LXC, nspawn or no containers (metal).\n3. network_tech:\n   A supporting technology axis, allowing differentiation between the\n   use of linuxbridge, openvswitch, etc.\n4. storage_tech:\n   A supporting technology axis, allowing differentiation between the\n   use of NFS, ceph, etc.\n5. install_method:\n   A deployment method axis, allowing differentiation between source-\n   based deployments and the future implementation of non-source-based\n   deployments.\n\nGiven the above set, it should be easy to mix-and-match without having\nto use too much repetition in the bootstrap of an AIO.\n\nRelated-bug: #1759784\nChange-Id: If6b7e401021ea57a908a616ec8b86e7aa6798558\n""}, {'number': 6, 'created': '2018-08-17 16:46:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5dcc1815e1a726958ed8a2ac16d4cd9e9cbf4eee', 'message': ""[WIP] Implement more axes for an increased test matrix\n\nCurrently the 'scenario' axis is being overloaded for a bunch of\ndifferent things, and it's getting a little complicated to understand\nwhat's actually being tested - or how to extend testing for a new\ntechnology.\n\nThis patch implements a complete change in the way the functional tests\nare named to try to make it much clearer what is being tested, and also\nmakes it easier to implement a broader matrix of tests combining various\ntechnologies.\n\n1. scenario:\n   A configuration variation which should be agnostic of the underlying\n   supporting technologies.\n2. container_tech:\n   A supporting technology axis, allowing differentiation between the\n   use of LXC, nspawn or no containers (metal).\n3. network_tech:\n   A supporting technology axis, allowing differentiation between the\n   use of linuxbridge, openvswitch, etc.\n4. storage_tech:\n   A supporting technology axis, allowing differentiation between the\n   use of NFS, ceph, etc.\n5. install_method:\n   A deployment method axis, allowing differentiation between source-\n   based deployments and the future implementation of non-source-based\n   deployments.\n\nGiven the above set, it should be easy to mix-and-match without having\nto use too much repetition in the bootstrap of an AIO.\n\nRelated-bug: #1759784\nChange-Id: If6b7e401021ea57a908a616ec8b86e7aa6798558\n""}, {'number': 7, 'created': '2018-08-17 17:02:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/65d61e4d83839bd947dd154698f4b0f8e4818e66', 'message': ""[WIP] Implement more axes for an increased test matrix\n\nCurrently the 'scenario' axis is being overloaded for a bunch of\ndifferent things, and it's getting a little complicated to understand\nwhat's actually being tested - or how to extend testing for a new\ntechnology.\n\nThis patch implements a complete change in the way the functional tests\nare named to try to make it much clearer what is being tested, and also\nmakes it easier to implement a broader matrix of tests combining various\ntechnologies.\n\n1. scenario:\n   A configuration variation which should be agnostic of the underlying\n   supporting technologies.\n2. container_tech:\n   A supporting technology axis, allowing differentiation between the\n   use of LXC, nspawn or no containers (metal).\n3. network_tech:\n   A supporting technology axis, allowing differentiation between the\n   use of linuxbridge, openvswitch, etc.\n4. storage_tech:\n   A supporting technology axis, allowing differentiation between the\n   use of NFS, ceph, etc.\n5. install_method:\n   A deployment method axis, allowing differentiation between source-\n   based deployments and the future implementation of non-source-based\n   deployments.\n\nGiven the above set, it should be easy to mix-and-match without having\nto use too much repetition in the bootstrap of an AIO.\n\nRelated-bug: #1759784\nChange-Id: If6b7e401021ea57a908a616ec8b86e7aa6798558\n""}, {'number': 8, 'created': '2018-08-17 17:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/54e6b7bef206fd98284764b7a320e3924869e0d9', 'message': ""[WIP] Implement more axes for an increased test matrix\n\nCurrently the 'scenario' axis is being overloaded for a bunch of\ndifferent things, and it's getting a little complicated to understand\nwhat's actually being tested - or how to extend testing for a new\ntechnology.\n\nThis patch implements a complete change in the way the functional tests\nare named to try to make it much clearer what is being tested, and also\nmakes it easier to implement a broader matrix of tests combining various\ntechnologies.\n\n1. scenario:\n   A configuration variation which should be agnostic of the underlying\n   supporting technologies.\n2. container_tech:\n   A supporting technology axis, allowing differentiation between the\n   use of LXC, nspawn or no containers (metal).\n3. network_tech:\n   A supporting technology axis, allowing differentiation between the\n   use of linuxbridge, openvswitch, etc.\n4. storage_tech:\n   A supporting technology axis, allowing differentiation between the\n   use of NFS, ceph, etc.\n5. install_method:\n   A deployment method axis, allowing differentiation between source-\n   based deployments and the future implementation of non-source-based\n   deployments.\n\nGiven the above set, it should be easy to mix-and-match without having\nto use too much repetition in the bootstrap of an AIO.\n\nRelated-bug: #1759784\nChange-Id: If6b7e401021ea57a908a616ec8b86e7aa6798558\n""}, {'number': 9, 'created': '2018-08-17 17:29:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fa613b7b016556025a3adc7834406368d539df6e', 'message': ""[WIP] Implement more axes for an increased test matrix\n\nCurrently the 'scenario' axis is being overloaded for a bunch of\ndifferent things, and it's getting a little complicated to understand\nwhat's actually being tested - or how to extend testing for a new\ntechnology.\n\nThis patch implements a complete change in the way the functional tests\nare named to try to make it much clearer what is being tested, and also\nmakes it easier to implement a broader matrix of tests combining various\ntechnologies.\n\n1. scenario:\n   A configuration variation which should be agnostic of the underlying\n   supporting technologies.\n2. container_tech:\n   A supporting technology axis, allowing differentiation between the\n   use of LXC, nspawn or no containers (metal).\n3. network_tech:\n   A supporting technology axis, allowing differentiation between the\n   use of linuxbridge, openvswitch, etc.\n4. storage_tech:\n   A supporting technology axis, allowing differentiation between the\n   use of NFS, ceph, etc.\n5. install_method:\n   A deployment method axis, allowing differentiation between source-\n   based deployments and the future implementation of non-source-based\n   deployments.\n\nGiven the above set, it should be easy to mix-and-match without having\nto use too much repetition in the bootstrap of an AIO.\n\nRelated-bug: #1759784\nChange-Id: If6b7e401021ea57a908a616ec8b86e7aa6798558\n""}, {'number': 10, 'created': '2018-08-17 17:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/89312367e71bb637e7aaec3a07452844f48b41a2', 'message': ""[WIP] Implement more axes for an increased test matrix\n\nCurrently the 'scenario' axis is being overloaded for a bunch of\ndifferent things, and it's getting a little complicated to understand\nwhat's actually being tested - or how to extend testing for a new\ntechnology.\n\nThis patch implements a complete change in the way the functional tests\nare named to try to make it much clearer what is being tested, and also\nmakes it easier to implement a broader matrix of tests combining various\ntechnologies.\n\n1. scenario:\n   A configuration variation which should be agnostic of the underlying\n   supporting technologies.\n2. container_tech:\n   A supporting technology axis, allowing differentiation between the\n   use of LXC, nspawn or no containers (metal).\n3. network_tech:\n   A supporting technology axis, allowing differentiation between the\n   use of linuxbridge, openvswitch, etc.\n4. storage_tech:\n   A supporting technology axis, allowing differentiation between the\n   use of NFS, ceph, etc.\n5. install_method:\n   A deployment method axis, allowing differentiation between source-\n   based deployments and the future implementation of non-source-based\n   deployments.\n\nGiven the above set, it should be easy to mix-and-match without having\nto use too much repetition in the bootstrap of an AIO.\n\nRelated-bug: #1759784\nChange-Id: If6b7e401021ea57a908a616ec8b86e7aa6798558\n""}, {'number': 11, 'created': '2018-08-25 17:32:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/982b4ada3478f5a2f5b44621d32e10c9f39e43ed', 'message': ""[WIP] Implement more axes for an increased test matrix\n\nCurrently the 'scenario' axis is being overloaded for a bunch of\ndifferent things, and it's getting a little complicated to understand\nwhat's actually being tested - or how to extend testing for a new\ntechnology.\n\nThis patch implements a complete change in the way the functional tests\nare named to try to make it much clearer what is being tested, and also\nmakes it easier to implement a broader matrix of tests combining various\ntechnologies.\n\n1. scenario:\n   A configuration variation which should be agnostic of the underlying\n   supporting technologies.\n2. container_tech:\n   A supporting technology axis, allowing differentiation between the\n   use of LXC, nspawn or no containers (metal).\n3. network_tech:\n   A supporting technology axis, allowing differentiation between the\n   use of linuxbridge, openvswitch, etc.\n4. storage_tech:\n   A supporting technology axis, allowing differentiation between the\n   use of NFS, ceph, etc.\n5. install_method:\n   A deployment method axis, allowing differentiation between source-\n   based deployments and the future implementation of non-source-based\n   deployments.\n\nGiven the above set, it should be easy to mix-and-match without having\nto use too much repetition in the bootstrap of an AIO.\n\nRelated-bug: #1759784\nChange-Id: If6b7e401021ea57a908a616ec8b86e7aa6798558\n""}, {'number': 12, 'created': '2018-08-25 17:36:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f514187b99a35ac4e35662c3077588311d910474', 'message': ""[WIP] Implement more axes for an increased test matrix\n\nCurrently the 'scenario' axis is being overloaded for a bunch of\ndifferent things, and it's getting a little complicated to understand\nwhat's actually being tested - or how to extend testing for a new\ntechnology.\n\nThis patch implements a complete change in the way the functional tests\nare named to try to make it much clearer what is being tested, and also\nmakes it easier to implement a broader matrix of tests combining various\ntechnologies.\n\n1. scenario:\n   A configuration variation which should be agnostic of the underlying\n   supporting technologies.\n2. container_tech:\n   A supporting technology axis, allowing differentiation between the\n   use of LXC, nspawn or no containers (metal).\n3. network_tech:\n   A supporting technology axis, allowing differentiation between the\n   use of linuxbridge, openvswitch, etc.\n4. storage_tech:\n   A supporting technology axis, allowing differentiation between the\n   use of NFS, ceph, etc.\n5. install_method:\n   A deployment method axis, allowing differentiation between source-\n   based deployments and the future implementation of non-source-based\n   deployments.\n\nGiven the above set, it should be easy to mix-and-match without having\nto use too much repetition in the bootstrap of an AIO.\n\nRelated-bug: #1759784\nChange-Id: If6b7e401021ea57a908a616ec8b86e7aa6798558\n""}, {'number': 13, 'created': '2018-08-25 17:40:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1f9442b5eeeea939a80f8a7f86e9f55098f055c8', 'message': ""[WIP] Implement more axes for an increased test matrix\n\nCurrently the 'scenario' axis is being overloaded for a bunch of\ndifferent things, and it's getting a little complicated to understand\nwhat's actually being tested - or how to extend testing for a new\ntechnology.\n\nThis patch implements a complete change in the way the functional tests\nare named to try to make it much clearer what is being tested, and also\nmakes it easier to implement a broader matrix of tests combining various\ntechnologies.\n\n1. scenario:\n   A configuration variation which should be agnostic of the underlying\n   supporting technologies.\n2. container_tech:\n   A supporting technology axis, allowing differentiation between the\n   use of LXC, nspawn or no containers (metal).\n3. network_tech:\n   A supporting technology axis, allowing differentiation between the\n   use of linuxbridge, openvswitch, etc.\n4. storage_tech:\n   A supporting technology axis, allowing differentiation between the\n   use of NFS, ceph, etc.\n5. install_method:\n   A deployment method axis, allowing differentiation between source-\n   based deployments and the future implementation of non-source-based\n   deployments.\n\nGiven the above set, it should be easy to mix-and-match without having\nto use too much repetition in the bootstrap of an AIO.\n\nRelated-bug: #1759784\nChange-Id: If6b7e401021ea57a908a616ec8b86e7aa6798558\n""}, {'number': 14, 'created': '2018-10-05 09:01:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f9a68624b7c80252138b73cc48235e36089a26c5', 'message': ""[WIP] Implement more axes for an increased test matrix\n\nCurrently the 'scenario' axis is being overloaded for a bunch of\ndifferent things, and it's getting a little complicated to understand\nwhat's actually being tested - or how to extend testing for a new\ntechnology.\n\nThis patch implements a complete change in the way the functional tests\nare named to try to make it much clearer what is being tested, and also\nmakes it easier to implement a broader matrix of tests combining various\ntechnologies.\n\n1. scenario:\n   A configuration variation which should be agnostic of the underlying\n   supporting technologies.\n2. container_tech:\n   A supporting technology axis, allowing differentiation between the\n   use of LXC, nspawn or no containers (metal).\n3. network_tech:\n   A supporting technology axis, allowing differentiation between the\n   use of linuxbridge, openvswitch, etc.\n4. storage_tech:\n   A supporting technology axis, allowing differentiation between the\n   use of NFS, ceph, etc.\n5. install_method:\n   A deployment method axis, allowing differentiation between source-\n   based deployments and the future implementation of non-source-based\n   deployments.\n\nGiven the above set, it should be easy to mix-and-match without having\nto use too much repetition in the bootstrap of an AIO.\n\nRelated-bug: #1759784\nChange-Id: If6b7e401021ea57a908a616ec8b86e7aa6798558\n""}, {'number': 15, 'created': '2018-10-05 10:48:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/782fd63da6936700ca7f7760387785c7ccb6495c', 'message': ""[WIP] Implement more axes for an increased test matrix\n\nCurrently the 'scenario' axis is being overloaded for a bunch of\ndifferent things, and it's getting a little complicated to understand\nwhat's actually being tested - or how to extend testing for a new\ntechnology.\n\nThis patch implements a complete change in the way the functional tests\nare named to try to make it much clearer what is being tested, and also\nmakes it easier to implement a broader matrix of tests combining various\ntechnologies.\n\n1. scenario:\n   A configuration variation which should be agnostic of the underlying\n   supporting technologies.\n2. container_tech:\n   A supporting technology axis, allowing differentiation between the\n   use of LXC, nspawn or no containers (metal).\n3. network_tech:\n   A supporting technology axis, allowing differentiation between the\n   use of linuxbridge, openvswitch, etc.\n4. storage_tech:\n   A supporting technology axis, allowing differentiation between the\n   use of NFS, ceph, etc.\n5. install_method:\n   A deployment method axis, allowing differentiation between source-\n   based deployments and the future implementation of non-source-based\n   deployments.\n\nGiven the above set, it should be easy to mix-and-match without having\nto use too much repetition in the bootstrap of an AIO.\n\nRelated-bug: #1759784\nChange-Id: If6b7e401021ea57a908a616ec8b86e7aa6798558\n""}, {'number': 16, 'created': '2018-10-05 12:57:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6bb936c4d04095eb4bbf1f69c057ab840e8c52ce', 'message': ""[WIP] Implement more axes for an increased test matrix\n\nCurrently the 'scenario' axis is being overloaded for a bunch of\ndifferent things, and it's getting a little complicated to understand\nwhat's actually being tested - or how to extend testing for a new\ntechnology.\n\nAlso, the use of conf.d files for testing was implemented for the AIO\nback when bash was used for the bootstrapping - it made it much easier\nto add/remove services as necessary.\n\nIn an attempt to try and reduce the complexity of the AIO bootstrapping\nand make it easier to use the integrated repo for all role tests, we\nremove the scenario in favor of a set of service lists.\n\nRelated-bug: #1759784\nChange-Id: If6b7e401021ea57a908a616ec8b86e7aa6798558\n""}, {'number': 17, 'created': '2018-10-05 13:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7771a9ed75e813722dd8ea268f8e118d9fb49150', 'message': ""[WIP] Implement more axes for an increased test matrix\n\nCurrently the 'scenario' axis is being overloaded for a bunch of\ndifferent things, and it's getting a little complicated to understand\nwhat's actually being tested - or how to extend testing for a new\ntechnology.\n\nAlso, the use of conf.d files for testing was implemented for the AIO\nback when bash was used for the bootstrapping - it made it much easier\nto add/remove services as necessary.\n\nIn an attempt to try and reduce the complexity of the AIO bootstrapping\nand make it easier to use the integrated repo for all role tests, we\nremove the scenario in favor of a set of service lists.\n\nRelated-bug: #1759784\nChange-Id: If6b7e401021ea57a908a616ec8b86e7aa6798558\n""}, {'number': 18, 'created': '2018-10-05 13:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6ea73a24474ea817e69cd97c5d26cab373dabfc5', 'message': ""[WIP] Implement more axes for an increased test matrix\n\nCurrently the 'scenario' axis is being overloaded for a bunch of\ndifferent things, and it's getting a little complicated to understand\nwhat's actually being tested - or how to extend testing for a new\ntechnology.\n\nAlso, the use of conf.d files for testing was implemented for the AIO\nback when bash was used for the bootstrapping - it made it much easier\nto add/remove services as necessary.\n\nIn an attempt to try and reduce the complexity of the AIO bootstrapping\nand make it easier to use the integrated repo for all role tests, we\nremove the scenario in favor of a set of service lists.\n\nRelated-bug: #1759784\nChange-Id: If6b7e401021ea57a908a616ec8b86e7aa6798558\n""}, {'number': 19, 'created': '2018-10-05 14:56:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7baa273234a4b9a527f4aabcb12b5f987b17e676', 'message': ""[WIP] Implement more axes for an increased test matrix\n\nCurrently the 'scenario' axis is being overloaded for a bunch of\ndifferent things, and it's getting a little complicated to understand\nwhat's actually being tested - or how to extend testing for a new\ntechnology.\n\nAlso, the use of conf.d files for testing was implemented for the AIO\nback when bash was used for the bootstrapping - it made it much easier\nto add/remove services as necessary.\n\nIn an attempt to try and reduce the complexity of the AIO bootstrapping\nand make it easier to use the integrated repo for all role tests, we\nremove the scenario in favor of a set of service lists.\n\nRelated-bug: #1759784\nChange-Id: If6b7e401021ea57a908a616ec8b86e7aa6798558\n""}, {'number': 20, 'created': '2018-10-05 15:59:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/902638bf9509b14c49ca40745b0b9a70dc79f5b0', 'message': ""[WIP] Implement more axes for an increased test matrix\n\nCurrently the 'scenario' axis is being overloaded for a bunch of\ndifferent things, and it's getting a little complicated to understand\nwhat's actually being tested - or how to extend testing for a new\ntechnology.\n\nAlso, the use of conf.d files for testing was implemented for the AIO\nback when bash was used for the bootstrapping - it made it much easier\nto add/remove services as necessary.\n\nIn an attempt to try and reduce the complexity of the AIO bootstrapping\nand make it easier to use the integrated repo for all role tests, we\nremove the scenario in favor of a set of service lists.\n\nWe also remove all unused job definitions, templates, etc to reduce the\nresource utilization in CI and reduce the cruft.\n\nRelated-bug: #1759784\nChange-Id: If6b7e401021ea57a908a616ec8b86e7aa6798558\n""}, {'number': 21, 'created': '2018-10-05 16:03:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7129cbc1dd2a9f7ddf0b0d6c0c6b12bf9152994c', 'message': ""[WIP] Implement more axes for an increased test matrix\n\nCurrently the 'scenario' axis is being overloaded for a bunch of\ndifferent things, and it's getting a little complicated to understand\nwhat's actually being tested - or how to extend testing for a new\ntechnology.\n\nAlso, the use of conf.d files for testing was implemented for the AIO\nback when bash was used for the bootstrapping - it made it much easier\nto add/remove services as necessary.\n\nIn an attempt to try and reduce the complexity of the AIO bootstrapping\nand make it easier to use the integrated repo for all role tests, we\nremove the scenario in favor of a set of service lists.\n\nWe also remove all unused job definitions, templates, etc to reduce the\nresource utilization in CI and reduce the cruft.\n\nRelated-bug: #1759784\nChange-Id: If6b7e401021ea57a908a616ec8b86e7aa6798558\n""}, {'number': 22, 'created': '2018-10-05 16:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a7e01a23b68a550a664a9fc7363b5ede9cd147bd', 'message': ""[WIP] Implement more axes for an increased test matrix\n\nCurrently the 'scenario' axis is being overloaded for a bunch of\ndifferent things, and it's getting a little complicated to understand\nwhat's actually being tested - or how to extend testing for a new\ntechnology.\n\nAlso, the use of conf.d files for testing was implemented for the AIO\nback when bash was used for the bootstrapping - it made it much easier\nto add/remove services as necessary.\n\nIn an attempt to try and reduce the complexity of the AIO bootstrapping\nand make it easier to use the integrated repo for all role tests, we\nremove the scenario in favor of a set of service lists.\n\nWe also remove all unused job definitions, templates, etc to reduce the\nresource utilization in CI and reduce the cruft.\n\nRelated-bug: #1759784\nChange-Id: If6b7e401021ea57a908a616ec8b86e7aa6798558\n""}, {'number': 23, 'created': '2018-10-08 11:23:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/28f86346e975a1c1e0b0dbf902a49ea8432dedc6', 'message': ""[WIP] Implement more axes for an increased test matrix\n\nCurrently the 'scenario' axis is being overloaded for a bunch of\ndifferent things, and it's getting a little complicated to understand\nwhat's actually being tested - or how to extend testing for a new\ntechnology.\n\nAlso, the use of conf.d files for testing was implemented for the AIO\nback when bash was used for the bootstrapping - it made it much easier\nto add/remove services as necessary.\n\nIn an attempt to try and reduce the complexity of the AIO bootstrapping\nand make it easier to use the integrated repo for all role tests, we\nremove the scenario in favor of a set of service lists.\n\nWe also remove all unused job definitions, templates, etc to reduce the\nresource utilization in CI and reduce the cruft.\n\nRelated-bug: #1759784\nChange-Id: If6b7e401021ea57a908a616ec8b86e7aa6798558\n""}, {'number': 24, 'created': '2018-10-08 11:56:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3a42a4e4b37a795379fcf7033431e2f63328ff52', 'message': ""[WIP] Implement changes to allow test usage by roles\n\nCurrently the 'scenario' axis is being overloaded for a bunch of\ndifferent things, and it's getting a little complicated to understand\nwhat's actually being tested - or how to extend testing for a new\ntechnology.\n\nAlso, the use of conf.d files for testing was implemented for the AIO\nback when bash was used for the bootstrapping - it made it much easier\nto add/remove services as necessary.\n\nIn an attempt to try and reduce the complexity of the AIO bootstrapping\nand make it easier to use the integrated repo for all role tests, we\nremove the scenario in favor of a set of service lists.\n\nWe also remove all unused job definitions, templates, etc to reduce the\nresource utilization in CI and reduce the cruft.\n\nRelated-bug: #1759784\nChange-Id: If6b7e401021ea57a908a616ec8b86e7aa6798558\n""}, {'number': 25, 'created': '2018-10-08 13:26:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/46d846237391b600813e893e1d311f18908e2dec', 'message': ""[WIP] Implement changes to allow test usage by roles\n\nCurrently the 'scenario' axis is being overloaded for a bunch of\ndifferent things, and it's getting a little complicated to understand\nwhat's actually being tested - or how to extend testing for a new\ntechnology.\n\nAlso, the use of conf.d files for testing was implemented for the AIO\nback when bash was used for the bootstrapping - it made it much easier\nto add/remove services as necessary.\n\nIn an attempt to try and reduce the complexity of the AIO bootstrapping\nand make it easier to use the integrated repo for all role tests, we\nremove the scenario in favor of a set of service lists.\n\nWe also remove all unused job definitions, templates, etc to reduce the\nresource utilization in CI and reduce the cruft.\n\nRelated-bug: #1759784\nChange-Id: If6b7e401021ea57a908a616ec8b86e7aa6798558\n""}, {'number': 26, 'created': '2018-10-08 14:07:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e7c9e50c7a2134402863a4c9f9369e32298e0fef', 'message': ""[WIP] Implement changes to allow test usage by roles\n\nCurrently the 'scenario' axis is being overloaded for a bunch of\ndifferent things, and it's getting a little complicated to understand\nwhat's actually being tested - or how to extend testing for a new\ntechnology.\n\nAlso, the use of conf.d files for testing was implemented for the AIO\nback when bash was used for the bootstrapping - it made it much easier\nto add/remove services as necessary.\n\nIn an attempt to try and reduce the complexity of the AIO bootstrapping\nand make it easier to use the integrated repo for all role tests, we\nremove the scenario in favor of a set of service lists.\n\nWe also remove all unused job definitions, templates, etc to reduce the\nresource utilization in CI and reduce the cruft.\n\nRelated-bug: #1759784\nChange-Id: If6b7e401021ea57a908a616ec8b86e7aa6798558\n""}, {'number': 27, 'created': '2018-10-08 15:08:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/748e2b23bd0b07afbe6cbf2365071bd2f6bb28d0', 'message': ""[WIP] Implement changes to allow test usage by roles\n\nCurrently the 'scenario' axis is being overloaded for a bunch of\ndifferent things, and it's getting a little complicated to understand\nwhat's actually being tested - or how to extend testing for a new\ntechnology.\n\nAlso, the use of conf.d files for testing was implemented for the AIO\nback when bash was used for the bootstrapping - it made it much easier\nto add/remove services as necessary.\n\nIn an attempt to try and reduce the complexity of the AIO bootstrapping\nand make it easier to use the integrated repo for all role tests, we\nremove the scenario in favor of a set of service lists.\n\nWe also remove all unused job definitions, templates, etc to reduce the\nresource utilization in CI and reduce the cruft.\n\nRelated-bug: #1759784\nChange-Id: If6b7e401021ea57a908a616ec8b86e7aa6798558\n""}, {'number': 28, 'created': '2018-10-08 15:48:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9a803eebd88239c70e5ccfdb287a94cb15950e27', 'message': ""[WIP] Implement changes to allow test usage by roles\n\nCurrently the 'scenario' axis is being overloaded for a bunch of\ndifferent things, and it's getting a little complicated to understand\nwhat's actually being tested - or how to extend testing for a new\ntechnology.\n\nAlso, the use of conf.d files for testing was implemented for the AIO\nback when bash was used for the bootstrapping - it made it much easier\nto add/remove services as necessary.\n\nIn an attempt to try and reduce the complexity of the AIO bootstrapping\nand make it easier to use the integrated repo for all role tests, we\nremove the scenario in favor of a set of service lists.\n\nWe also remove all unused job definitions, templates, etc to reduce the\nresource utilization in CI and reduce the cruft.\n\nRelated-bug: #1759784\nChange-Id: If6b7e401021ea57a908a616ec8b86e7aa6798558\n""}, {'number': 29, 'created': '2018-11-21 14:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/67efb34cb23028759c3ee373df8261fba0686b09', 'message': ""[WIP] Implement changes to allow test usage by roles\n\nIn this patch we change the 'scenario' for the AIO bootstrap\nto allow it to be overloaded with any additional service names\nwhich correspond to an appropriate conf.d AIO configuration file.\n\nThis allows us to implement jobs using a scenario called something\nlike 'aio_lxc_octavia' and it will implement the base AIO and add\nthe octavia service.\n\nIn order to make use of this for the experimental jobs, we change\nthe job names so that the appropriate services are deployed.\n\nRelated-bug: #1759784\nChange-Id: If6b7e401021ea57a908a616ec8b86e7aa6798558\n""}, {'number': 30, 'created': '2018-11-21 14:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ef6ae6f119da0470748b79f03d2b5021191f7648', 'message': ""[WIP] Implement changes to allow test usage by roles\n\nIn this patch we change the 'scenario' for the AIO bootstrap\nto allow it to be overloaded with any additional service names\nwhich correspond to an appropriate conf.d AIO configuration file.\n\nThis allows us to implement jobs using a scenario called something\nlike 'aio_lxc_octavia' and it will implement the base AIO and add\nthe octavia service.\n\nIn order to make use of this for the experimental jobs, we change\nthe job names so that the appropriate services are deployed.\n\nRelated-bug: #1759784\nChange-Id: If6b7e401021ea57a908a616ec8b86e7aa6798558\n""}, {'number': 31, 'created': '2018-11-21 14:55:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/dbbba99476af7df693f118537d8791b152e3f094', 'message': ""Implement AIO changes to allow test usage by roles\n\nIn this patch we change the 'scenario' for the AIO bootstrap\nto allow it to be overloaded with any additional service names\nwhich correspond to an appropriate conf.d AIO configuration file.\n\nThis allows us to implement jobs using a scenario called something\nlike 'aio_lxc_octavia' and it will implement the base AIO and add\nthe octavia service.\n\nIn order to make use of this for the experimental jobs, we change\nthe job names so that the appropriate services are deployed.\n\nRelated-bug: #1759784\nChange-Id: If6b7e401021ea57a908a616ec8b86e7aa6798558\n""}, {'number': 32, 'created': '2018-11-21 15:53:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1828121b1009894ce2b07e4c0525cfec6422a08e', 'message': ""Implement AIO changes to allow test usage by roles\n\nIn this patch we change the 'scenario' for the AIO bootstrap\nto allow it to be overloaded with any additional service names\nwhich correspond to an appropriate conf.d AIO configuration file.\n\nThis allows us to implement jobs using a scenario called something\nlike 'aio_lxc_octavia' and it will implement the base AIO and add\nthe octavia service.\n\nIn order to make use of this for the experimental jobs, we change\nthe job names so that the appropriate services are deployed.\n\nRelated-bug: #1759784\nChange-Id: If6b7e401021ea57a908a616ec8b86e7aa6798558\n""}, {'number': 33, 'created': '2018-11-21 16:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8aa4b9b922667aa1239a6f918f6dc3096ff4d5f8', 'message': ""Implement AIO changes to allow test usage by roles\n\nIn this patch we change the 'scenario' for the AIO bootstrap\nto allow it to be overloaded with any additional service names\nwhich correspond to an appropriate conf.d AIO configuration file.\n\nThis allows us to implement jobs using a scenario called something\nlike 'aio_lxc_octavia' and it will implement the base AIO and add\nthe octavia service.\n\nIn order to make use of this for the experimental jobs, we change\nthe job names so that the appropriate services are deployed.\n\nRelated-bug: #1759784\nChange-Id: If6b7e401021ea57a908a616ec8b86e7aa6798558\n""}, {'number': 34, 'created': '2018-11-22 12:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a72ba47fae8681ee772c15769f344b860c1790c0', 'message': ""Implement AIO changes to allow test usage by roles\n\nIn this patch we change the 'scenario' for the AIO bootstrap\nto allow it to be overloaded with any additional service names\nwhich correspond to an appropriate conf.d AIO configuration file.\n\nThis allows us to implement jobs using a scenario called something\nlike 'aio_lxc_octavia' and it will implement the base AIO and add\nthe octavia service.\n\nIn order to make use of this for the experimental jobs, we change\nthe job names so that the appropriate services are deployed.\n\nRelated-bug: #1759784\nChange-Id: If6b7e401021ea57a908a616ec8b86e7aa6798558\n""}, {'number': 35, 'created': '2018-11-23 11:53:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e47aa30186ad7d65c9fe5fc3f313ce06be090f77', 'message': ""Implement AIO changes to allow test usage by roles\n\nIn this patch we change the 'scenario' for the AIO bootstrap\nto allow it to be overloaded with any additional service names\nwhich correspond to an appropriate conf.d AIO configuration file.\n\nThis allows us to implement jobs using a scenario called something\nlike 'aio_lxc_octavia' and it will implement the base AIO and add\nthe octavia service.\n\nIn order to make use of this for the experimental jobs, we change\nthe job names so that the appropriate services are deployed.\n\nRelated-bug: #1759784\nChange-Id: If6b7e401021ea57a908a616ec8b86e7aa6798558\n""}, {'number': 36, 'created': '2018-11-23 12:31:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f9f5e7cd2f718a3291f4d1169e279cb92ee0e287', 'message': ""Implement AIO changes to allow test usage by roles\n\nIn this patch we change the 'scenario' for the AIO bootstrap\nto allow it to be overloaded with any additional service names\nwhich correspond to an appropriate conf.d AIO configuration file.\n\nThis allows us to implement jobs using a scenario called something\nlike 'aio_lxc_octavia' and it will implement the base AIO and add\nthe octavia service.\n\nIn order to make use of this for the experimental jobs, we change\nthe job names so that the appropriate services are deployed.\n\nRelated-bug: #1759784\nChange-Id: If6b7e401021ea57a908a616ec8b86e7aa6798558\n""}, {'number': 37, 'created': '2018-11-23 12:36:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f734667e37fe892ccb7d9dff3c9e87d4ba0bc66b', 'message': ""Implement AIO changes to allow test usage by roles\n\nIn this patch we change the 'scenario' for the AIO bootstrap\nto allow it to be overloaded with any additional service names\nwhich correspond to an appropriate conf.d AIO configuration file.\n\nThis allows us to implement jobs using a scenario called something\nlike 'aio_lxc_octavia' and it will implement the base AIO and add\nthe octavia service.\n\nIn order to make use of this for the experimental jobs, we change\nthe job names so that the appropriate services are deployed.\n\nRelated-bug: #1759784\nChange-Id: If6b7e401021ea57a908a616ec8b86e7aa6798558\n""}, {'number': 38, 'created': '2018-11-23 12:41:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b7bb68c30dd5b0e3789d32c261903cd4ac45432c', 'message': ""Implement AIO changes to allow test usage by roles\n\nIn this patch we change the 'scenario' for the AIO bootstrap\nto allow it to be overloaded with any additional service names\nwhich correspond to an appropriate conf.d AIO configuration file.\n\nThis allows us to implement jobs using a scenario called something\nlike 'aio_lxc_octavia' and it will implement the base AIO and add\nthe octavia service.\n\nIn order to make use of this for the experimental jobs, we change\nthe job names so that the appropriate services are deployed.\n\nRelated-bug: #1759784\nChange-Id: If6b7e401021ea57a908a616ec8b86e7aa6798558\n""}, {'number': 39, 'created': '2018-11-23 13:26:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/bc7f3dc411f8471601a2bee43b46e5c2a00c673f', 'message': ""Implement AIO changes to allow test usage by roles\n\nIn this patch we change the 'scenario' for the AIO bootstrap\nto allow it to be overloaded with any additional service names\nwhich correspond to an appropriate conf.d AIO configuration file.\n\nThis allows us to implement jobs using a scenario called something\nlike 'aio_lxc_octavia' and it will implement the base AIO and add\nthe octavia service.\n\nIn order to make use of this for the experimental jobs, we change\nthe job names so that the appropriate services are deployed.\n\nRelated-bug: #1759784\nChange-Id: If6b7e401021ea57a908a616ec8b86e7aa6798558\n""}, {'number': 40, 'created': '2018-11-23 13:27:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7870718d5eb6b22eeb7c78620abbe2e21e952db8', 'message': ""Implement AIO changes to allow test usage by roles\n\nIn this patch we change the 'scenario' for the AIO bootstrap\nto allow it to be overloaded with any additional service names\nwhich correspond to an appropriate conf.d AIO configuration file.\n\nThis allows us to implement jobs using a scenario called something\nlike 'aio_lxc_octavia' and it will implement the base AIO and add\nthe octavia service.\n\nIn order to make use of this for the experimental jobs, we change\nthe job names so that the appropriate services are deployed.\n\nRelated-bug: #1759784\nChange-Id: If6b7e401021ea57a908a616ec8b86e7aa6798558\n""}, {'number': 41, 'created': '2018-11-23 13:56:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b0b79146e4eef0213d80bf9cf0e624a29f0a2b2d', 'message': ""Implement AIO changes to allow test usage by roles\n\nIn this patch we change the 'scenario' for the AIO bootstrap\nto allow it to be overloaded with any additional service names\nwhich correspond to an appropriate conf.d AIO configuration file.\n\nThis allows us to implement jobs using a scenario called something\nlike 'aio_lxc_octavia' and it will implement the base AIO and add\nthe octavia service.\n\nIn order to make use of this for the experimental jobs, we change\nthe job names so that the appropriate services are deployed.\n\nRelated-bug: #1759784\nChange-Id: If6b7e401021ea57a908a616ec8b86e7aa6798558\n""}, {'number': 42, 'created': '2018-11-28 22:29:18.000000000', 'files': ['doc/source/user/aio/quickstart.rst', 'etc/openstack_deploy/openstack_user_config.yml.aio.j2', 'zuul.d/project-templates.yaml', 'tests/roles/bootstrap-host/tasks/check-requirements.yml', 'tests/roles/bootstrap-host/tasks/prepare_aio_config.yml', 'tests/vars/bootstrap-aio-vars.yml', 'tests/roles/bootstrap-host/defaults/main.yml', 'tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2', 'zuul.d/jobs.yaml', 'tests/bootstrap-aio.yml', 'tests/roles/bootstrap-host/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ada265c8449334538a011300785634774787d54d', 'message': ""Implement AIO changes to allow test usage by roles\n\nIn this patch we change the 'scenario' for the AIO bootstrap\nto allow it to be overloaded with any additional service names\nwhich correspond to an appropriate conf.d AIO configuration file.\n\nThis allows us to implement jobs using a scenario called something\nlike 'aio_lxc_octavia' and it will implement the base AIO and add\nthe octavia service.\n\nIn order to make use of this for the experimental jobs, we change\nthe job names so that the appropriate services are deployed.\n\nRelated-bug: #1759784\nChange-Id: If6b7e401021ea57a908a616ec8b86e7aa6798558\n""}]",12,551791,ada265c8449334538a011300785634774787d54d,92,7,42,6816,,,0,"Implement AIO changes to allow test usage by roles

In this patch we change the 'scenario' for the AIO bootstrap
to allow it to be overloaded with any additional service names
which correspond to an appropriate conf.d AIO configuration file.

This allows us to implement jobs using a scenario called something
like 'aio_lxc_octavia' and it will implement the base AIO and add
the octavia service.

In order to make use of this for the experimental jobs, we change
the job names so that the appropriate services are deployed.

Related-bug: #1759784
Change-Id: If6b7e401021ea57a908a616ec8b86e7aa6798558
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/91/551791/42 && git format-patch -1 --stdout FETCH_HEAD,"['tests/roles/bootstrap-host/tasks/prepare_aio_config.yml', 'scripts/gate-check-commit.sh', 'zuul.d/playbooks/run.yml', 'tests/roles/bootstrap-host/defaults/main.yml', 'tests/bootstrap-aio.yml', 'etc/openstack_deploy/openstack_user_config.yml.aio.j2', 'scripts/bootstrap-aio.sh', 'doc/source/scenario_table_gen.py', 'tests/vars/bootstrap-aio-vars.yml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml', 'tests/roles/bootstrap-host/vars/main.yml']",12,1b88fa814fcf21647d5620af60d242c42bc3aa8f,use-integrated-repo-for-all-tests,"--- # Copyright 2017, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # conf.d templates to be loaded into /etc/openstack_deploy by test scenarios # The key to map the list into should be specific to a scenario, tech or # install method. confd_templates: compute_kit: - name: cinder.yml.aio - name: glance.yml.aio - name: keystone.yml.aio - name: neutron.yml.aio - name: nova.yml.aio translations: - name: cinder.yml.aio - name: designate.yml.aio - name: glance.yml.aio - name: heat.yml.aio - name: horizon.yml.aio - name: keystone.yml.aio - name: neutron.yml.aio - name: nova.yml.aio - name: swift.yml.aio - name: sahara.yml.aio - name: magnum.yml.aio - name: octavia.yml.aio - name: trove.yml.aio octavia: - name: glance.yml.aio - name: keystone.yml.aio - name: neutron.yml.aio - name: nova.yml.aio - name: octavia.yml.aio tacker: - name: keystone.yml.aio - name: heat.yml.aio - name: tacker.yml.aio lxc: - name: haproxy.yml.aio nspawn: - name: haproxy.yml.aio ceph: - name: ceph.yml.aio # user_variables templates to be loaded into /etc/openstack_deploy by test # scenarios. The key to map the list into should be specific to a scenario, # tech or install method. user_variables_templates: ceph: - src: user_variables_ceph.yml.j2 dest: user_variables_ceph.yml translations: - src: user_variables_translations.yml.j2 dest: user_variables_translations.yml octavia: - src: user_variables_octavia.yml.j2 dest: user_variables_octavia.yml ",,270,304
openstack%2Fopenstack-ansible-os_neutron~master~Ib26eda468fe512a58157911e3271bafb7924ff76,openstack/openstack-ansible-os_neutron,master,Ib26eda468fe512a58157911e3271bafb7924ff76,Modify OVS hostname value to match server's hostname,MERGED,2018-11-28 13:51:37.000000000,2018-12-01 02:27:31.000000000,2018-12-01 02:27:31.000000000,"[{'_account_id': 7353}, {'_account_id': 16011}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-28 13:51:37.000000000', 'files': ['tasks/providers/setup_ovs_ovn.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/3c31148df01876a773715748f7c6f93d06918d84', 'message': ""Modify OVS hostname value to match server's hostname\n\nWhen an instance is scheduled to a compute node with the ML2/OVN plugin\nconfigured, the hostname of the compute node must match the hostname\nvalue set in the external_ids row of the Open_vSwitch table in OVS.\n\nThis commit replaces the use of inventory_hostname with ansible_hostname\nwhen configuring the external_ids row of the local Open_vSwitch table in\nOVS.\n\nChange-Id: Ib26eda468fe512a58157911e3271bafb7924ff76\nCloses-Bug: #1805626\n""}]",0,620604,3c31148df01876a773715748f7c6f93d06918d84,22,4,1,16011,,,0,"Modify OVS hostname value to match server's hostname

When an instance is scheduled to a compute node with the ML2/OVN plugin
configured, the hostname of the compute node must match the hostname
value set in the external_ids row of the Open_vSwitch table in OVS.

This commit replaces the use of inventory_hostname with ansible_hostname
when configuring the external_ids row of the local Open_vSwitch table in
OVS.

Change-Id: Ib26eda468fe512a58157911e3271bafb7924ff76
Closes-Bug: #1805626
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/04/620604/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/providers/setup_ovs_ovn.yml'],1,3c31148df01876a773715748f7c6f93d06918d84,bug/1805626," command: ""ovs-vsctl set open_vswitch . external-ids:hostname='{{ ansible_hostname }}'"""," command: ""ovs-vsctl set open_vswitch . external-ids:hostname='{{ inventory_hostname }}'""",1,1
openstack%2Fsahara~stable%2Frocky~I258d5c904c29110ccdb3a7fdff5b69f489552063,openstack/sahara,stable/rocky,I258d5c904c29110ccdb3a7fdff5b69f489552063,Add DEBIAN_FRONTEND=noninteractive in front of apt-get install commands,MERGED,2018-11-30 18:59:58.000000000,2018-12-01 02:17:20.000000000,2018-12-01 02:17:19.000000000,"[{'_account_id': 8932}, {'_account_id': 22348}, {'_account_id': 29051}]","[{'number': 1, 'created': '2018-11-30 18:59:58.000000000', 'files': ['sahara/tests/unit/plugins/test_images.py', 'sahara/plugins/images.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/1dccb84d3cfb46dcf1e270cba90e6e6660226d57', 'message': 'Add DEBIAN_FRONTEND=noninteractive in front of apt-get install commands\n\nThe goal is to avoid a failure of apt-get install if one of the packages\ntries to ask questions.\n\nStory: #2004468\nTask: #28158\nChange-Id: I258d5c904c29110ccdb3a7fdff5b69f489552063\n(cherry picked from commit c4554ccd81b7d04401478704a43158769473472b)\n'}]",0,621265,1dccb84d3cfb46dcf1e270cba90e6e6660226d57,8,3,1,10459,,,0,"Add DEBIAN_FRONTEND=noninteractive in front of apt-get install commands

The goal is to avoid a failure of apt-get install if one of the packages
tries to ask questions.

Story: #2004468
Task: #28158
Change-Id: I258d5c904c29110ccdb3a7fdff5b69f489552063
(cherry picked from commit c4554ccd81b7d04401478704a43158769473472b)
",git fetch https://review.opendev.org/openstack/sahara refs/changes/65/621265/1 && git format-patch -1 --stdout FETCH_HEAD,"['sahara/tests/unit/plugins/test_images.py', 'sahara/plugins/images.py']",2,1dccb84d3cfb46dcf1e270cba90e6e6660226d57,," ""DEBIAN_FRONTEND=noninteractive apt-get -y install %s"" %"," ""apt-get -y install %s"" %",4,4
openstack%2Frequirements~master~I6132a21eadc345b41c6b3c95a9e40fb1fd5e0c22,openstack/requirements,master,I6132a21eadc345b41c6b3c95a9e40fb1fd5e0c22,Raise upper constraint for PasteDeploy,MERGED,2018-11-30 13:22:55.000000000,2018-12-01 02:15:49.000000000,2018-12-01 02:15:49.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-30 13:22:55.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/9f52ded89b8b7b5e301eeca76b8a2a6732e7ad82', 'message': ""Raise upper constraint for PasteDeploy\n\nI've recently released a new version of PasteDeploy, the main change\nin it is the removal of a warning produced when running under\nPython3 (a source of much noise in some functional tests).\n\nThe major version update is the result of a discussion on how best\nto signal that the project now lives under the Pylons project and\nhas moved from BitBucket to GitHub[1]. It's supposed to be backwards\ncompatible.\n\n[1] https://github.com/Pylons/pastedeploy\n\nChange-Id: I6132a21eadc345b41c6b3c95a9e40fb1fd5e0c22\n""}]",0,621158,9f52ded89b8b7b5e301eeca76b8a2a6732e7ad82,12,3,1,11564,,,0,"Raise upper constraint for PasteDeploy

I've recently released a new version of PasteDeploy, the main change
in it is the removal of a warning produced when running under
Python3 (a source of much noise in some functional tests).

The major version update is the result of a discussion on how best
to signal that the project now lives under the Pylons project and
has moved from BitBucket to GitHub[1]. It's supposed to be backwards
compatible.

[1] https://github.com/Pylons/pastedeploy

Change-Id: I6132a21eadc345b41c6b3c95a9e40fb1fd5e0c22
",git fetch https://review.opendev.org/openstack/requirements refs/changes/58/621158/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,9f52ded89b8b7b5e301eeca76b8a2a6732e7ad82,cd/pastedeploy-up,PasteDeploy===2.0.0,PasteDeploy===1.5.2,1,1
openstack%2Fopenstack-manuals~master~Ie07f184d2a2ed23cfd4dcb60222fd383505e1273,openstack/openstack-manuals,master,Ie07f184d2a2ed23cfd4dcb60222fd383505e1273,Add arch-design to redirect ignore list,MERGED,2018-11-29 21:34:56.000000000,2018-12-01 02:12:57.000000000,2018-12-01 02:12:56.000000000,"[{'_account_id': 2472}, {'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 28606}]","[{'number': 1, 'created': '2018-11-29 21:34:56.000000000', 'files': ['tools/www-generator.py'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/96d18cb17248d29d12e020825320507391a0fce9', 'message': 'Add arch-design to redirect ignore list\n\nThe openstack/arch-design repo is being restored and maintained by the\nOperations Documentation SIG. At least for now, this information will\nnot be cycle based and should not be redirected from its base URL to\n/latest. This adds the repo to the list to be ignored for .htaccess\nredirects.\n\nChange-Id: Ie07f184d2a2ed23cfd4dcb60222fd383505e1273\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,621027,96d18cb17248d29d12e020825320507391a0fce9,10,4,1,11904,,,0,"Add arch-design to redirect ignore list

The openstack/arch-design repo is being restored and maintained by the
Operations Documentation SIG. At least for now, this information will
not be cycle based and should not be redirected from its base URL to
/latest. This adds the repo to the list to be ignored for .htaccess
redirects.

Change-Id: Ie07f184d2a2ed23cfd4dcb60222fd383505e1273
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/27/621027/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/www-generator.py'],1,96d18cb17248d29d12e020825320507391a0fce9,arch-design," 'openstack/arch-design',",,1,0
openstack%2Fbarbican~master~I82d687390da13df85910dda0d3fc536c018c596a,openstack/barbican,master,I82d687390da13df85910dda0d3fc536c018c596a,Clean up some config docs formatting,MERGED,2018-11-20 01:51:17.000000000,2018-12-01 02:11:32.000000000,2018-12-01 02:11:32.000000000,"[{'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-20 01:51:17.000000000', 'files': ['doc/source/configuration/keystone.rst', 'doc/source/configuration/noauth.rst', 'doc/source/configuration/audit.rst', 'doc/source/configuration/troubleshooting.rst'], 'web_link': 'https://opendev.org/openstack/barbican/commit/a63406d89c44842550bb45f04c701a9d9bf47a41', 'message': ""Clean up some config docs formatting\n\nPreviously, we could get quoted sections that we didn't intend.\n\nChange-Id: I82d687390da13df85910dda0d3fc536c018c596a\n""}]",0,618930,a63406d89c44842550bb45f04c701a9d9bf47a41,25,4,1,15343,,,0,"Clean up some config docs formatting

Previously, we could get quoted sections that we didn't intend.

Change-Id: I82d687390da13df85910dda0d3fc536c018c596a
",git fetch https://review.opendev.org/openstack/barbican refs/changes/30/618930/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/keystone.rst', 'doc/source/configuration/noauth.rst', 'doc/source/configuration/audit.rst', 'doc/source/configuration/troubleshooting.rst']",4,a63406d89c44842550bb45f04c701a9d9bf47a41,," curl -X POST -H ""X-Auth-Token: $TOKEN"" -H ""Content-type: application/json"" \ -d '{""payload"": ""my-secret-here"", ""payload_content_type"": ""text/plain""}' \ http://localhost:9311/v1/secrets#. On your Keystone server, verify that signing_cert.pem has the same expiration date as the one on your Barbican machine. You can normally find ``signing_cert.pem`` on your Keystone server in ``/etc/keystone/ssl/certs``. #. If the cert matches then follow these steps to create a new one #. Delete it from both your Barbican and Keystone servers. #. Edit ``/etc/keystone/ssl/certs/index.txt.attr`` and set unique_subject to no. #. Run ``keystone-manage pki_setup`` to create a new ``signing_cert.pem`` #. The updated cert will be downloaded to your Barbican server the next time you hit the Barbican API. #. If the cert **doesn't match** then delete the ``signing_cert.pem`` from your Barbican server. Do not delete from Keystone. The cert from Keystone will be downloaded to your machine the next time you hit the Barbican API. curl -X POST -H ""X-Auth-Token: $TOKEN"" -H ""Content-type: application/json"" \ -d '{""payload"": ""my-secret-here"", ""payload_content_type"": ""text/plain""}' \ http://myhostname.com/v1/secrets # Response: { ""secret_ref"": ""http://localhost:9311/v1/secrets/UUID_HERE"" }.. code-block:: text clang: error: unknown argument: '-mno-fused-madd' c/_cffi_backend.c:13:10: fatal error: 'ffi.h' file not found ... ERROR: could not install deps [...]; v = InvocationError('...', 1) ImportError: No module named _bsddb ... spawned uWSGI master process (pid: 59190) spawned uWSGI worker 1 (pid: 59191, cores: 1) spawned uWSGI worker 1 (pid: 59192, cores: 1) Loading paste environment: config:/etc/barbican/barbican-api-paste.ini WSGI app 0 (mountpoint='') ready in 0 seconds on interpreter \ 0x7fd098c08520 pid: 59191 (default app) OOPS ! failed loading app in worker 1 (pid 59192) :( trying again... Respawned uWSGI worker 1 (new pid: 59193) Loading paste environment: config:/etc/barbican/barbican-api-paste.ini OOPS ! failed loading app in worker 1 (pid 59193) :( trying again... worker respawning too fast !!! i have to sleep a bit (2 seconds)... ... ... File "".../oslo_config/cfg.py"", line 1275, in register_cli_opt raise ArgsAlreadyParsedError(""cannot register CLI option"") ArgsAlreadyParsedError: arguments already parsed: cannot register CLI optionResponder raised ``TypeError: 'NoneType' object has no attribute '__getitem__'`` -------------------------------------------------------------------------------- ... 2013-04-14 14:17:56 [FALCON] [ERROR] POST \ /da71dfbc-a959-4ad3-bdab-5ee190ce7515/csrs? => Responder raised \ TypeError: 'NoneType' object has no attribute '__getitem__' ... uwsgi socket 0 bound to TCP address :9311 fd 3 Python version: 2.7.3 (...) [...] Set PythonHome to ./.venv ImportError: No module named site { ""title"": ""Malformed JSON"" } CryptoMimeTypeNotSupportedException: Crypto Mime Type of 'text/plain' not supported *** has_emperor mode detected (fd: 6) *** ... !!! UNABLE to load uWSGI plugin: dlopen(./python_plugin.so, 10): image not found !!! ... File ""./site-packages/paste/deploy/loadwsgi.py"", line 22, in import_string return pkg_resources.EntryPoint.parse(""x="" + s).load(False) File ""./site-packages/distribute-0.6.35-py2.7.egg/pkg_resources.py"", line 2015, in load entry = __import__(self.module_name, globals(),globals(), ['__name__']) ImportError: No module named barbican.api.app ... *** Starting uWSGI 1.9.13 (64bit) on [Fri Jul 5 09:59:29 2013] *** ... File ""./site-packages/sqlalchemy/engine/strategies.py"", line 80, in connect return dialect.connect(*cargs, **cparams) File ""./site-packages/sqlalchemy/engine/default.py"", line 283, in connect return self.dbapi.connect(*cargs, **cparams) OperationalError: (OperationalError) unable to open database file None None [emperor] removed uwsgi instance barbican-api.ini ... ... 2013-08-15 16:55:15.759 2445 DEBUG keystoneclient.middleware.auth_token \ [-] Token validation failure. _validate_user_token \ ./site-packages/keystoneclient/middleware/auth_token.py:711 ... 2013-08-15 16:55:15.759 2445 TRACE keystoneclient.middleware.auth_token \ raise ValueError(""No JSON object could be decoded"") 2013-08-15 16:55:15.759 24458 TRACE keystoneclient.middleware.auth_token \ ValueError: No JSON object could be decoded ... 2013-08-15 16:55:15.766 2445 WARNING keystoneclient.middleware.auth_token \ [-] Authorization failed for token ... 2013-08-15 16:55:15.766 2445 INFO keystoneclient.middleware.auth_token \ [-] Invalid user token - rejecting request... Secret retrieval issue seen - accept-encoding of 'gzip,deflate,sdch' not supported"," curl -X POST -H ""X-Auth-Token: $TOKEN"" -H ""Content-type: application/json"" \ -d '{""payload"": ""my-secret-here"", ""payload_content_type"": ""text/plain""}' \ http://localhost:9311/v1/secrets #. On your Keystone server, verify that signing_cert.pem has the same expiration date as the one on your Barbican machine. You can normally find ``signing_cert.pem`` on your Keystone server in ``/etc/keystone/ssl/certs``. #. If the cert matches then follow these steps to create a new one #. Delete it from both your Barbican and Keystone servers. #. Edit ``/etc/keystone/ssl/certs/index.txt.attr`` and set unique_subject to no. #. Run ``keystone-manage pki_setup`` to create a new ``signing_cert.pem`` #. The updated cert will be downloaded to your Barbican server the next time you hit the Barbican API. #. If the cert **doesn't match** then delete the ``signing_cert.pem`` from your Barbican server. Do not delete from Keystone. The cert from Keystone will be downloaded to your machine the next time you hit the Barbican API. curl -X POST \ -H ""Content-type: application/json"" -H ""X-Auth-Token: $TOKEN"" -d \ '{""payload"": ""my-secret-here"", ""payload_content_type"": ""text/plain""}' \ http://myhostname.com/v1/secrets # Response: { ""secret_ref"": ""http://localhost:9311/v1/secrets/UUID_HERE"" }``clang: error: unknown argument: '-mno-fused-madd'`` c/_cffi_backend.c:13:10: fatal error: 'ffi.h' file not found ... ERROR: could not install deps [...]; v = InvocationError('...', 1) ImportError: No module named _bsddb ... spawned uWSGI master process (pid: 59190) spawned uWSGI worker 1 (pid: 59191, cores: 1) spawned uWSGI worker 1 (pid: 59192, cores: 1) Loading paste environment: config:/etc/barbican/barbican-api-paste.ini WSGI app 0 (mountpoint='') ready in 0 seconds on interpreter \ 0x7fd098c08520 pid: 59191 (default app) OOPS ! failed loading app in worker 1 (pid 59192) :( trying again... Respawned uWSGI worker 1 (new pid: 59193) Loading paste environment: config:/etc/barbican/barbican-api-paste.ini OOPS ! failed loading app in worker 1 (pid 59193) :( trying again... worker respawning too fast !!! i have to sleep a bit (2 seconds)... ... ... File "".../oslo_config/cfg.py"", line 1275, in register_cli_opt raise ArgsAlreadyParsedError(""cannot register CLI option"") ArgsAlreadyParsedError: arguments already parsed: cannot register CLI optionResponder raised TypeError: 'NoneType' object has no attribute '__getitem__' ---------------------------------------------------------------------------- ... 2013-04-14 14:17:56 [FALCON] [ERROR] POST \ /da71dfbc-a959-4ad3-bdab-5ee190ce7515/csrs? => Responder raised \ TypeError: 'NoneType' object has no attribute '__getitem__' ... uwsgi socket 0 bound to TCP address :9311 fd 3 Python version: 2.7.3 (...) [...] Set PythonHome to ./.venv ImportError: No module named site { ""title"": ""Malformed JSON"" } CryptoMimeTypeNotSupportedException: Crypto Mime Type of 'text/plain' not \ supported *** has_emperor mode detected (fd: 6) *** ... !!! UNABLE to load uWSGI plugin: dlopen(./python_plugin.so, 10): image not \ found !!! ... File ""./site-packages/paste/deploy/loadwsgi.py"", line 22, in import_string return pkg_resources.EntryPoint.parse(""x="" + s).load(False) File ""./site-packages/distribute-0.6.35-py2.7.egg/pkg_resources.py"", line \ 2015, in load entry = __import__(self.module_name, globals(),globals(), ['__name__']) ImportError: No module named barbican.api.app ... *** Starting uWSGI 1.9.13 (64bit) on [Fri Jul 5 09:59:29 2013] *** ... File ""./site-packages/sqlalchemy/engine/strategies.py"", line 80, in connect return dialect.connect(*cargs, **cparams) File ""./site-packages/sqlalchemy/engine/default.py"", line 283, in connect return self.dbapi.connect(*cargs, **cparams) OperationalError: (OperationalError) unable to open database file None None [emperor] removed uwsgi instance barbican-api.ini ... ... 2013-08-15 16:55:15.759 2445 DEBUG keystoneclient.middleware.auth_token \ [-] Token validation failure. _validate_user_token \ ./site-packages/keystoneclient/middleware/auth_token.py:711 ... 2013-08-15 16:55:15.759 2445 TRACE keystoneclient.middleware.auth_token \ raise ValueError(""No JSON object could be decoded"") 2013-08-15 16:55:15.759 24458 TRACE keystoneclient.middleware.auth_token \ ValueError: No JSON object could be decoded ... 2013-08-15 16:55:15.766 2445 WARNING keystoneclient.middleware.auth_token \ [-] Authorization failed for token ... 2013-08-15 16:55:15.766 2445 INFO keystoneclient.middleware.auth_token \ [-] Invalid user token - rejecting request... Secret retrieval issue seen - accept-encoding of 'gzip,deflate,sdch' not \ supported",146,147
openstack%2Fcharm-vault~master~Iafc7322d83fa445f0e8705c222ba31643f8b3b40,openstack/charm-vault,master,Iafc7322d83fa445f0e8705c222ba31643f8b3b40,Added status messages for when SSL not configured,ABANDONED,2018-11-15 21:50:20.000000000,2018-12-01 00:35:21.000000000,,"[{'_account_id': 935}, {'_account_id': 7730}, {'_account_id': 11805}, {'_account_id': 12549}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-15 21:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/41acbe8f059579a9790e59b83249445bdb42fa61', 'message': 'Added unit status messages for when SSL is not configured to ease debugging\nCloses-Bug: 1790313 - The lack of TLS termination for vault blocking storage backend config is not surfaced in unit status\n\nChange-Id: Iafc7322d83fa445f0e8705c222ba31643f8b3b40\n'}, {'number': 2, 'created': '2018-11-16 14:57:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/dc9f9b46673195a1687eb693c1855c7108c725c0', 'message': 'Added status messages when SSL is not configured for debugging\n\nChange-Id: Iafc7322d83fa445f0e8705c222ba31643f8b3b40\nCloses-Bug: 1790313\n'}, {'number': 3, 'created': '2018-11-19 18:18:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/562f6c75ba4e84cf37d9cfca93f0d85b97849896', 'message': 'Added status messages when SSL is not configured for debugging\n\nChange-Id: Iafc7322d83fa445f0e8705c222ba31643f8b3b40\nCloses-Bug: 1790313\n'}, {'number': 4, 'created': '2018-11-20 17:05:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/0564eb28f4685599c61316fc34fa058baf85847e', 'message': 'Added status messages when SSL is not configured for better visibility\n\nWhen SSL is not configured the database backend is not initialized \ncorrectly. Currently no status message is shown to indicate that SSL is\nnot configured. This makes debugging difficult.\n\nThis commit ensures that a status message will be showed in such a case.\n\nChange-Id: Iafc7322d83fa445f0e8705c222ba31643f8b3b40\nCloses-Bug: 1790313\n'}, {'number': 5, 'created': '2018-11-28 05:38:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/c9b755829aa7d1940e175b332765b67187ee9097', 'message': 'Added status messages for when SSL not configured\n\nWhen SSL is not configured the database backend is not initialized\ncorrectly. Currently no status message is shown to indicate that SSL is\nnot configured. This makes debugging difficult.\n\nThis commit ensures that status messages will be showed in such a case.\n\nChange-Id: Iafc7322d83fa445f0e8705c222ba31643f8b3b40\nCloses-Bug: 1790313\n'}, {'number': 6, 'created': '2018-11-29 21:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/b086bed29df09e36593471b27f644aa53026ccbc', 'message': 'Added status messages for when SSL not configured\n\nWhen SSL is not configured the database backend is not initialized\ncorrectly. Currently no status message is shown to indicate that SSL is\nnot configured. This makes debugging difficult.\n\nThis commit ensures that status messages will be showed in such a case.\n\nChange-Id: Iafc7322d83fa445f0e8705c222ba31643f8b3b40\nCloses-Bug: 1790313\n'}, {'number': 7, 'created': '2018-11-30 15:12:05.000000000', 'files': ['unit_tests/test_reactive_vault_handlers.py', 'src/reactive/vault_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/b7683021b2db1db53fb39fc45d80ddd0836ab2bb', 'message': 'Added status messages for when SSL not configured\n\nWhen SSL is not configured the database backend is not initialized\ncorrectly. Currently no status message is shown to indicate that SSL is\nnot configured. This makes debugging difficult.\n\nThis commit ensures that status messages will be showed in such a case.\n\nChange-Id: Iafc7322d83fa445f0e8705c222ba31643f8b3b40\nCloses-Bug: 1790313\n'}]",0,618315,b7683021b2db1db53fb39fc45d80ddd0836ab2bb,29,7,7,29201,,,0,"Added status messages for when SSL not configured

When SSL is not configured the database backend is not initialized
correctly. Currently no status message is shown to indicate that SSL is
not configured. This makes debugging difficult.

This commit ensures that status messages will be showed in such a case.

Change-Id: Iafc7322d83fa445f0e8705c222ba31643f8b3b40
Closes-Bug: 1790313
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/15/618315/7 && git format-patch -1 --stdout FETCH_HEAD,['src/reactive/vault_handlers.py'],1,41acbe8f059579a9790e59b83249445bdb42fa61,bug/1790313,"@when_not('vault.ssl.configured') def tls_missing(): status_set('blocked', 'Vault TLS configuration is missing - storage' 'backend will not be configured') ",,6,0
openstack%2Fui-cookiecutter~master~I720a4c93e2c004814e4dd8815acef784098f4fc6,openstack/ui-cookiecutter,master,I720a4c93e2c004814e4dd8815acef784098f4fc6,Update contact address to openstack-discuss ML,MERGED,2018-11-30 19:23:14.000000000,2018-11-30 23:28:12.000000000,2018-11-30 23:28:12.000000000,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-30 19:23:14.000000000', 'files': ['{{cookiecutter.repo_name}}/package.json', '{{cookiecutter.repo_name}}/setup.cfg'], 'web_link': 'https://opendev.org/openstack/ui-cookiecutter/commit/af2835fd4f8a0de46007199b9afcfb6bb381fce8', 'message': ""Update contact address to openstack-discuss ML\n\nThe openstack-dev mailing list has been retired and its\nconversations now take place on openstack-discuss instead.\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2018-November/136501.html\n\nUpdate this cookiecutter so that new projects don't copy over the\nobsolete ML name.\n\nChange-Id: I720a4c93e2c004814e4dd8815acef784098f4fc6\n""}]",0,621273,af2835fd4f8a0de46007199b9afcfb6bb381fce8,6,2,1,5263,,,0,"Update contact address to openstack-discuss ML

The openstack-dev mailing list has been retired and its
conversations now take place on openstack-discuss instead.

http://lists.openstack.org/pipermail/openstack-dev/2018-November/136501.html

Update this cookiecutter so that new projects don't copy over the
obsolete ML name.

Change-Id: I720a4c93e2c004814e4dd8815acef784098f4fc6
",git fetch https://review.opendev.org/openstack/ui-cookiecutter refs/changes/73/621273/1 && git format-patch -1 --stdout FETCH_HEAD,"['{{cookiecutter.repo_name}}/package.json', '{{cookiecutter.repo_name}}/setup.cfg']",2,af2835fd4f8a0de46007199b9afcfb6bb381fce8,openstack-discuss,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,2,2
openstack%2Fopenstack-manuals~master~I58acb6a5d25d8e0b02e5f3b068aebb4ec144bf1a,openstack/openstack-manuals,master,I58acb6a5d25d8e0b02e5f3b068aebb4ec144bf1a,Remove arch-design docs,MERGED,2018-11-29 21:34:56.000000000,2018-11-30 23:20:18.000000000,2018-11-30 23:20:18.000000000,"[{'_account_id': 2472}, {'_account_id': 6547}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28606}]","[{'number': 1, 'created': '2018-11-29 21:34:56.000000000', 'files': ['doc/arch-design/source/design-compute/design-compute-networking.rst', 'doc/arch-design/source/use-cases.rst', 'doc/arch-design/source/figures/ELKbasicArch.svg', 'doc/arch-design/source/design.rst', 'doc/arch-design/source/figures/Multi-site_Geo_Redundant_LB.png', 'doc/arch-design/source/use-cases/use-case-nfv.rst', 'doc/arch-design/source/conf.py', 'doc/arch-design/source/figures/Storage_Hadoop3.png', 'tools/build-all-rst.sh', 'doc/arch-design/source/design-networking/design-networking-concepts.rst', 'doc/arch-design/source/figures/Multi-Cloud_Priv-Pub3.png', 'doc/arch-design/setup.py', 'doc/arch-design/source/figures/Specialized_SDN_external.png', 'doc/arch-design/source/figures/Generic_CERN_Example.png', 'doc/arch-design/source/figures/Network_Cloud_Storage2.png', 'doc/arch-design/source/figures/Generic_CERN_Architecture.png', 'doc/arch-design/setup.cfg', 'doc/arch-design/source/design-compute/design-compute-overcommit.rst', 'doc/arch-design/source/design-networking/design-networking-services.rst', 'doc/arch-design/source/figures/Multi-Site_shared_keystone_horizon_swift1.png', 'doc/arch-design/source/figures/Network_Web_Services1.png', 'doc/arch-design/source/design-storage.rst', 'doc/arch-design/source/design-compute.rst', 'doc/arch-design/source/design-compute/design-compute-arch.rst', 'doc/arch-design/source/figures/Check_mark_23x20_02.png', 'doc/arch-design/source/use-cases/use-case-storage.rst', 'doc/arch-design/source/use-cases/use-case-web-scale.rst', 'doc/arch-design/source/design-compute/design-compute-storage.rst', 'doc/arch-design/source/figures/Compute_Tech_Bin_Packing_CPU_optimized1.png', 'doc/arch-design/source/design-storage/design-storage-arch.rst', 'doc/arch-design/source/design-compute/design-compute-hardware.rst', 'doc/arch-design/source/figures/Massively_Scalable_Cells_regions_azs.png', 'doc/arch-design/source/figures/Multi-Cloud_failover2.png', 'doc/arch-design/source/arch-requirements/arch-requirements-ha.rst', 'doc/arch-design/source/figures/ELKbasicArch.png', 'doc/arch-design/source/index.rst', 'doc/arch-design/source/figures/Specialized_OOO.png', 'doc/arch-design/source/figures/Specialized_SDN_hosted.png', 'doc/arch-design/source/use-cases/use-case-general-compute.rst', 'doc/arch-design/source/arch-requirements.rst', 'doc/arch-design/source/figures/Multi-Cloud_Priv-AWS4.png', 'doc/arch-design/source/figures/Storage_Object.png', 'doc/arch-design/source/figures/Specialized_VDI1.png', 'doc/arch-design/source/design-cmp-tools.rst', 'doc/arch-design/source/figures/Multi-Site_Customer_Edge.png', 'doc/arch-design/source/use-cases/use-case-development.rst', 'doc/arch-design/source/design-compute/design-compute-logging.rst', 'doc/arch-design/source/figures/Specialized_Hardware2.png', 'doc/arch-design/source/arch-requirements/arch-requirements-operations.rst', 'doc/arch-design/source/design-identity.rst', 'doc/arch-design/source/arch-requirements/arch-requirements-enterprise.rst', 'doc/arch-design/source/common', 'doc/arch-design/source/figures/Multi-Site_shared_keystone1.png', 'doc/arch-design/source/figures/Storage_Database_+_Object5.png', 'doc/arch-design/source/figures/osog_0201.png', 'doc/arch-design/source/design-compute/design-compute-cpu.rst', 'doc/arch-design/source/design-control-plane.rst', 'doc/arch-design/source/design-images.rst', 'doc/arch-design/source/figures/Compute_NSX.png', 'doc/arch-design/source/design-networking/design-networking-design.rst', 'doc/arch-design/source/figures/General_Architecture3.png', 'doc/arch-design/source/design-networking.rst', 'doc/arch-design/source/locale/tr_TR/LC_MESSAGES/arch-design.po', 'doc/arch-design/source/design-storage/design-storage-concepts.rst', 'doc/arch-design/source/design-compute/design-compute-hypervisor.rst', 'doc/arch-design/source/figures/Compute_Tech_Bin_Packing_General1.png'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/aee2cd3da8d93c566e2aab9abb92bc296b18d4d3', 'message': 'Remove arch-design docs\n\nThe arch-design docs have not been maintained and the Ops Docs SIG plans\nto take ownership and maintain it out of its own repo.\n\nTo avoid jobs overwriting the published content, this removes the docs\nfrom openstack-manuals.\n\nDepends-on: https://review.openstack.org/621012\n\nChange-Id: I58acb6a5d25d8e0b02e5f3b068aebb4ec144bf1a\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,621026,aee2cd3da8d93c566e2aab9abb92bc296b18d4d3,13,5,1,11904,,,0,"Remove arch-design docs

The arch-design docs have not been maintained and the Ops Docs SIG plans
to take ownership and maintain it out of its own repo.

To avoid jobs overwriting the published content, this removes the docs
from openstack-manuals.

Depends-on: https://review.openstack.org/621012

Change-Id: I58acb6a5d25d8e0b02e5f3b068aebb4ec144bf1a
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/26/621026/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/arch-design/source/design-compute/design-compute-networking.rst', 'doc/arch-design/source/use-cases.rst', 'doc/arch-design/source/figures/ELKbasicArch.svg', 'doc/arch-design/source/design.rst', 'doc/arch-design/source/figures/Multi-site_Geo_Redundant_LB.png', 'doc/arch-design/source/use-cases/use-case-nfv.rst', 'doc/arch-design/source/conf.py', 'doc/arch-design/source/figures/Storage_Hadoop3.png', 'tools/build-all-rst.sh', 'doc/arch-design/source/design-networking/design-networking-concepts.rst', 'doc/arch-design/source/figures/Multi-Cloud_Priv-Pub3.png', 'doc/arch-design/setup.py', 'doc/arch-design/source/figures/Specialized_SDN_external.png', 'doc/arch-design/source/figures/Generic_CERN_Example.png', 'doc/arch-design/source/figures/Network_Cloud_Storage2.png', 'doc/arch-design/source/figures/Generic_CERN_Architecture.png', 'doc/arch-design/setup.cfg', 'doc/arch-design/source/design-compute/design-compute-overcommit.rst', 'doc/arch-design/source/design-networking/design-networking-services.rst', 'doc/arch-design/source/figures/Multi-Site_shared_keystone_horizon_swift1.png', 'doc/arch-design/source/figures/Network_Web_Services1.png', 'doc/arch-design/source/design-storage.rst', 'doc/arch-design/source/design-compute.rst', 'doc/arch-design/source/design-compute/design-compute-arch.rst', 'doc/arch-design/source/figures/Check_mark_23x20_02.png', 'doc/arch-design/source/use-cases/use-case-storage.rst', 'doc/arch-design/source/use-cases/use-case-web-scale.rst', 'doc/arch-design/source/design-compute/design-compute-storage.rst', 'doc/arch-design/source/figures/Compute_Tech_Bin_Packing_CPU_optimized1.png', 'doc/arch-design/source/design-storage/design-storage-arch.rst', 'doc/arch-design/source/design-compute/design-compute-hardware.rst', 'doc/arch-design/source/figures/Massively_Scalable_Cells_regions_azs.png', 'doc/arch-design/source/figures/Multi-Cloud_failover2.png', 'doc/arch-design/source/arch-requirements/arch-requirements-ha.rst', 'doc/arch-design/source/figures/ELKbasicArch.png', 'doc/arch-design/source/index.rst', 'doc/arch-design/source/figures/Specialized_OOO.png', 'doc/arch-design/source/figures/Specialized_SDN_hosted.png', 'doc/arch-design/source/use-cases/use-case-general-compute.rst', 'doc/arch-design/source/arch-requirements.rst', 'doc/arch-design/source/figures/Multi-Cloud_Priv-AWS4.png', 'doc/arch-design/source/figures/Storage_Object.png', 'doc/arch-design/source/figures/Specialized_VDI1.png', 'doc/arch-design/source/design-cmp-tools.rst', 'doc/arch-design/source/figures/Multi-Site_Customer_Edge.png', 'doc/arch-design/source/use-cases/use-case-development.rst', 'doc/arch-design/source/design-compute/design-compute-logging.rst', 'doc/arch-design/source/figures/Specialized_Hardware2.png', 'doc/arch-design/source/arch-requirements/arch-requirements-operations.rst', 'doc/arch-design/source/design-identity.rst', 'doc/arch-design/source/arch-requirements/arch-requirements-enterprise.rst', 'doc/arch-design/source/common', 'doc/arch-design/source/figures/Multi-Site_shared_keystone1.png', 'doc/arch-design/source/figures/Storage_Database_+_Object5.png', 'doc/arch-design/source/figures/osog_0201.png', 'doc/arch-design/source/design-compute/design-compute-cpu.rst', 'doc/arch-design/source/design-control-plane.rst', 'doc/arch-design/source/design-images.rst', 'doc/arch-design/source/figures/Compute_NSX.png', 'doc/arch-design/source/design-networking/design-networking-design.rst', 'doc/arch-design/source/figures/General_Architecture3.png', 'doc/arch-design/source/design-networking.rst', 'doc/arch-design/source/locale/tr_TR/LC_MESSAGES/arch-design.po', 'doc/arch-design/source/design-storage/design-storage-concepts.rst', 'doc/arch-design/source/design-compute/design-compute-hypervisor.rst', 'doc/arch-design/source/figures/Compute_Tech_Bin_Packing_General1.png']",66,aee2cd3da8d93c566e2aab9abb92bc296b18d4d3,arch-design,,,2,12706
openstack%2Fproject-config~master~I467c360d1546cf8927dc150ab97e958d80f38cbf,openstack/project-config,master,I467c360d1546cf8927dc150ab97e958d80f38cbf,Update promstat to use storyboard,MERGED,2018-11-30 21:40:42.000000000,2018-11-30 23:11:34.000000000,2018-11-30 23:11:34.000000000,"[{'_account_id': 1}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-30 21:40:42.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a5d26c8fa54f289da0ff35d97b61913a8fda1df1', 'message': 'Update promstat to use storyboard\n\nChange-Id: I467c360d1546cf8927dc150ab97e958d80f38cbf\n'}]",0,621293,a5d26c8fa54f289da0ff35d97b61913a8fda1df1,8,3,1,2,,,0,"Update promstat to use storyboard

Change-Id: I467c360d1546cf8927dc150ab97e958d80f38cbf
",git fetch https://review.opendev.org/openstack/project-config refs/changes/93/621293/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,a5d26c8fa54f289da0ff35d97b61913a8fda1df1,, use-storyboard: true,,1,0
openstack%2Fpython-swiftclient~master~If3b2cdcd009136286d68fe07b14e06261b3069a0,openstack/python-swiftclient,master,If3b2cdcd009136286d68fe07b14e06261b3069a0,Add Python 3.6 classifier to setup.cfg,MERGED,2018-11-30 07:32:04.000000000,2018-11-30 22:39:39.000000000,2018-11-30 22:39:39.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-30 07:32:04.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/8a4228146899534f906f8e10ec9040ab3f1ee970', 'message': 'Add Python 3.6 classifier to setup.cfg\n\nChange-Id: If3b2cdcd009136286d68fe07b14e06261b3069a0\n'}]",0,621108,8a4228146899534f906f8e10ec9040ab3f1ee970,6,2,1,17499,,,0,"Add Python 3.6 classifier to setup.cfg

Change-Id: If3b2cdcd009136286d68fe07b14e06261b3069a0
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/08/621108/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,8a4228146899534f906f8e10ec9040ab3f1ee970,, Programming Language :: Python :: 3.6,,1,0
openstack%2Fnova~stable%2Fqueens~If96e3d038346f16cc93209bccf3db028bacfe59b,openstack/nova,stable/queens,If96e3d038346f16cc93209bccf3db028bacfe59b,Handle missing marker during online data migration,MERGED,2018-10-16 13:42:07.000000000,2018-11-30 22:27:23.000000000,2018-11-30 22:27:23.000000000,"[{'_account_id': 2033}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23561}, {'_account_id': 26936}]","[{'number': 1, 'created': '2018-10-16 13:42:07.000000000', 'files': ['nova/objects/request_spec.py', 'nova/tests/functional/db/test_request_spec.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/164b1ba301f580edbfa5a52a80b51f49f2a28fea', 'message': ""Handle missing marker during online data migration\n\nDuring upgrade the instance used by the request spec marker could be\ndeleted and purged between sessions. This would cause the database\nonline data migration to fail as the marker instance couldn't be found.\n\nFix by handling the MarkerNotFound exception and re-trying without the\nmarker. This will go through all the instances and reset the marker when\ndone.\n\nCloses-Bug: #1793419\nChange-Id: If96e3d038346f16cc93209bccf3db028bacfe59b\nSigned-off-by: Jack Ding <jack.ding@windriver.com>\n(cherry picked from commit ff03b157b930de23e5912802cbfbc86889c869c2)\n(cherry picked from commit 57b46754ff67c52c49e10d3ae176515cdcda30e3)\n""}]",0,610974,164b1ba301f580edbfa5a52a80b51f49f2a28fea,16,11,1,6873,,,0,"Handle missing marker during online data migration

During upgrade the instance used by the request spec marker could be
deleted and purged between sessions. This would cause the database
online data migration to fail as the marker instance couldn't be found.

Fix by handling the MarkerNotFound exception and re-trying without the
marker. This will go through all the instances and reset the marker when
done.

Closes-Bug: #1793419
Change-Id: If96e3d038346f16cc93209bccf3db028bacfe59b
Signed-off-by: Jack Ding <jack.ding@windriver.com>
(cherry picked from commit ff03b157b930de23e5912802cbfbc86889c869c2)
(cherry picked from commit 57b46754ff67c52c49e10d3ae176515cdcda30e3)
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/610974/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/request_spec.py', 'nova/tests/functional/db/test_request_spec.py']",2,164b1ba301f580edbfa5a52a80b51f49f2a28fea,bug/1793419," def test_migration_with_missing_marker(self): self._create_instances(old=2, total=5) # Start with 2 old (without request_spec) and 3 new instances: # [old, old, new, new, new] match, done = request_spec.migrate_instances_add_request_spec( self.context, 2) # Instance list after session 1: # [upgraded, upgraded<MARKER>, new, new, new] self.assertEqual(2, match) self.assertEqual(2, done) # Delete and remove the marker instance from api table while leaving # the spec in request_specs table. This triggers MarkerNotFound # exception in the latter session. self.api.delete_server(self.instances[1].uuid) db.archive_deleted_rows(max_rows=100) # Instance list after deletion: [upgraded, new, new, new] # This session of migration hits MarkerNotFound exception and then # starts from the beginning of the list match, done = request_spec.migrate_instances_add_request_spec( self.context, 50) self.assertEqual(4, match) self.assertEqual(0, done) # Make sure we ran over all the instances match, done = request_spec.migrate_instances_add_request_spec( self.context, 50) self.assertEqual(0, match) self.assertEqual(0, done) # Make sure all instances have now a related RequestSpec for instance in self.instances: uuid = instance.uuid try: spec = objects.RequestSpec.get_by_instance_uuid( self.context, uuid) self.assertEqual(instance.project_id, spec.project_id) except exception.RequestSpecNotFound: self.fail(""RequestSpec not found for instance UUID :%s "", uuid)",,53,7
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Fqueens~I10f3b83e63ccdf08f9f782dee7f5be1fd7bbe139,openstack/openstack-ansible-lxc_hosts,stable/queens,I10f3b83e63ccdf08f9f782dee7f5be1fd7bbe139,ensure the mount unit is started after reboot,MERGED,2018-11-27 19:12:50.000000000,2018-11-30 22:16:20.000000000,2018-11-30 22:16:20.000000000,"[{'_account_id': 1004}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2018-11-27 19:12:50.000000000', 'files': ['templates/var-lib-machines.mount'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/42e8cc4ac5629cc169f0437f03a00381e0a30185', 'message': 'ensure the mount unit is started after reboot\n\n/var/lib/machines was not mounted after reboot\nbecause of missing install section\n\nChange-Id: I10f3b83e63ccdf08f9f782dee7f5be1fd7bbe139\n(cherry picked from commit 0fffb61ab78e9330379c77ca68f8d272c45ab3d0)\n'}]",0,620389,42e8cc4ac5629cc169f0437f03a00381e0a30185,9,5,1,26647,,,0,"ensure the mount unit is started after reboot

/var/lib/machines was not mounted after reboot
because of missing install section

Change-Id: I10f3b83e63ccdf08f9f782dee7f5be1fd7bbe139
(cherry picked from commit 0fffb61ab78e9330379c77ca68f8d272c45ab3d0)
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/89/620389/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/var-lib-machines.mount'],1,42e8cc4ac5629cc169f0437f03a00381e0a30185,, [Install] WantedBy=multi-user.target,,3,0
openstack%2Fopenstack-ansible-os_neutron~master~Icf875a611082855d00bfd21e2b32379630bfc32f,openstack/openstack-ansible-os_neutron,master,Icf875a611082855d00bfd21e2b32379630bfc32f,Fix OVS scenario with changes introduced with Queens,MERGED,2018-11-11 17:10:32.000000000,2018-11-30 22:11:56.000000000,2018-11-30 22:11:56.000000000,"[{'_account_id': 1004}, {'_account_id': 16011}, {'_account_id': 17068}, {'_account_id': 21883}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-11-11 17:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/c81bb26b206a567c55206e173f650d56875514c3', 'message': 'Fix OVS scenario with changes introduced with Queens\n\nChange-Id: Icf875a611082855d00bfd21e2b32379630bfc32f\nCloses-Bug: #1802740\n'}, {'number': 2, 'created': '2018-11-27 12:05:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/9a1a85765f1ebb69a307198281bfb8e9c3345668', 'message': 'Fix OVS scenario with changes introduced with Queens\n\nChange-Id: Icf875a611082855d00bfd21e2b32379630bfc32f\nCloses-Bug: #1802740\n'}, {'number': 3, 'created': '2018-11-27 12:07:57.000000000', 'files': ['doc/source/app-ovn.rst', 'doc/source/app-openvswitch-dvr.rst', 'doc/source/app-openvswitch.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/68bcda18cbea4a44ce3efb85fbc7090310dbf794', 'message': 'Fix OVS scenario with changes introduced with Queens\n\nThe variable openstack_host_specific_kernel_modules was\nmoved to group vars file.\n\nChange-Id: Icf875a611082855d00bfd21e2b32379630bfc32f\nCloses-Bug: #1802740\n'}]",1,617155,68bcda18cbea4a44ce3efb85fbc7090310dbf794,16,6,3,21369,,,0,"Fix OVS scenario with changes introduced with Queens

The variable openstack_host_specific_kernel_modules was
moved to group vars file.

Change-Id: Icf875a611082855d00bfd21e2b32379630bfc32f
Closes-Bug: #1802740
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/55/617155/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/app-ovn.rst'],1,c81bb26b206a567c55206e173f650d56875514c3,bug/1802740,Create a group var file for your network hosts ``/etc/openstack_deploy/group_vars/network_hosts``. It has to include: Set the following user variables in your ``/etc/openstack_deploy/user_variables.yml``: .. code-block:: yaml,"Set the following user variables in your ``/etc/openstack_deploy/user_variables.yml``: group: ""network_hosts""",8,3
openstack%2Fneutron-fwaas-dashboard~master~I75de3417d9c9ef58247eabec2ed91cfcb35da94e,openstack/neutron-fwaas-dashboard,master,I75de3417d9c9ef58247eabec2ed91cfcb35da94e,Add openstack-cover-jobs-horizon,MERGED,2018-11-07 07:32:11.000000000,2018-11-30 22:10:30.000000000,2018-11-30 22:10:30.000000000,"[{'_account_id': 841}, {'_account_id': 10850}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-07 07:32:11.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/81b3b3c8d14436858510833f25d60098e4e91f75', 'message': 'Add openstack-cover-jobs-horizon\n\nInsert python coverage job for py-test.\n\nChange-Id: I75de3417d9c9ef58247eabec2ed91cfcb35da94e\n'}]",0,616089,81b3b3c8d14436858510833f25d60098e4e91f75,11,3,1,28956,,,0,"Add openstack-cover-jobs-horizon

Insert python coverage job for py-test.

Change-Id: I75de3417d9c9ef58247eabec2ed91cfcb35da94e
",git fetch https://review.opendev.org/openstack/neutron-fwaas-dashboard refs/changes/89/616089/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,81b3b3c8d14436858510833f25d60098e4e91f75,coverage, - openstack-cover-jobs-horizon,,1,0
openstack%2Fopenstack-ansible-os_tempest~stable%2Frocky~If49c18683034cfcad5746cd12950709d327ae775,openstack/openstack-ansible-os_tempest,stable/rocky,If49c18683034cfcad5746cd12950709d327ae775,Replace Chinese punctuation with English punctuation,MERGED,2018-10-19 03:11:04.000000000,2018-11-30 22:08:09.000000000,2018-11-30 22:08:09.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-19 03:11:04.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/c722b6ae46e831071fedbb404c87ec602489c337', 'message': 'Replace Chinese punctuation with English punctuation\n\nCurly quotes(Chinese punctuation) usually input from Chinese input\nmethod. When read from english context, it makes some confusion.\n\nChange-Id: If49c18683034cfcad5746cd12950709d327ae775\nCloses-Bug: #1792131\n(cherry picked from commit 4e9a6e263d752037af785c418b14762f1af45556)\n'}]",0,611760,c722b6ae46e831071fedbb404c87ec602489c337,6,2,1,28614,,,0,"Replace Chinese punctuation with English punctuation

Curly quotes(Chinese punctuation) usually input from Chinese input
method. When read from english context, it makes some confusion.

Change-Id: If49c18683034cfcad5746cd12950709d327ae775
Closes-Bug: #1792131
(cherry picked from commit 4e9a6e263d752037af785c418b14762f1af45556)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/60/611760/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,c722b6ae46e831071fedbb404c87ec602489c337,," * If the issue is a bug that needs fixing in a branch other than Master, add the 'backport potential' tag TO THE ISSUE (not the PR)."," * If the issue is a bug that needs fixing in a branch other than Master, add the ‘backport potential’ tag TO THE ISSUE (not the PR).",1,1
openstack%2Fneutron~master~I2416545e7d939f920a1b04bb29bcc1aff86bedd9,openstack/neutron,master,I2416545e7d939f920a1b04bb29bcc1aff86bedd9,[Fullstack] Configure policy.json file only if it is set,MERGED,2018-11-27 11:39:21.000000000,2018-11-30 21:57:42.000000000,2018-11-30 21:57:42.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2018-11-27 11:39:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4c9ec83dc8b3f9e12b3ef4a2eb9e18120610b295', 'message': ""[Fullstack] Make sure that paths in config are always strings\n\nPath for policy.json and api-paste.ini files in config of fullstack's\nneutron-server is generated automatically. It may happen that this path\nwill have value ``None`` and that should be also converted to string\nin config file as configparser in python 3 require options to be string.\n\nChange-Id: I2416545e7d939f920a1b04bb29bcc1aff86bedd9\n""}, {'number': 2, 'created': '2018-11-29 21:39:05.000000000', 'files': ['neutron/tests/fullstack/resources/config.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/481211dc3a5327b132feae509e7b4fbe38366254', 'message': ""[Fullstack] Configure policy.json file only if it is set\n\nPath for policy.json file in config of fullstack's neutron-server\nis generated automatically. It may happen that this path will have\nvalue ``None`` and in such case it shouldn't be placed in\nneutron's config file.\n\nChange-Id: I2416545e7d939f920a1b04bb29bcc1aff86bedd9\n""}]",2,620298,481211dc3a5327b132feae509e7b4fbe38366254,37,10,2,11975,,,0,"[Fullstack] Configure policy.json file only if it is set

Path for policy.json file in config of fullstack's neutron-server
is generated automatically. It may happen that this path will have
value ``None`` and in such case it shouldn't be placed in
neutron's config file.

Change-Id: I2416545e7d939f920a1b04bb29bcc1aff86bedd9
",git fetch https://review.opendev.org/openstack/neutron refs/changes/98/620298/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/fullstack/resources/config.py'],1,4c9ec83dc8b3f9e12b3ef4a2eb9e18120610b295,policy-in-code-fullstack-fix, return str(c_helpers.find_sample_file('api-paste.ini')) return str(c_helpers.find_sample_file('policy.json')), return c_helpers.find_sample_file('api-paste.ini') return c_helpers.find_sample_file('policy.json'),2,2
openstack%2Fnova~stable%2Frocky~Ie4f27622f6158b1123b2e9dd050f90a3dbd84ea6,openstack/nova,stable/rocky,Ie4f27622f6158b1123b2e9dd050f90a3dbd84ea6,Don't use private interface in oslo.service,MERGED,2018-11-21 21:44:06.000000000,2018-11-30 21:57:37.000000000,2018-11-30 21:57:37.000000000,"[{'_account_id': 2472}, {'_account_id': 4257}, {'_account_id': 6873}, {'_account_id': 6928}, {'_account_id': 14070}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23512}, {'_account_id': 28522}]","[{'number': 1, 'created': '2018-11-21 21:44:06.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/virt/disk/mount/test_api.py', 'nova/tests/unit/virt/libvirt/test_guest.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/99b1b3f6f0c0d755c0ebe39e63e536235622c175', 'message': ""Don't use private interface in oslo.service\n\nThe _ThreadingEvent class in oslo_service.loopingcall is a private\ninterface, and backported changes to fix performance issues remove that\nclass. Since the _ThreadingEvent.wait() function is essentially\nsynonymous with the LoopingCallBase._sleep() method, substitute the\nlatter instead. This ensures that the Nova tests will work with both\nolder and newer versions of oslo.service.\n\nThis is a stable-only change because these mocks have already been\nreplaced with the new oslo_service.fixture.SleepFixture on master by\nfded752b167c62b888d8e13690c361ce1fad1f82.\n\nChange-Id: Ie4f27622f6158b1123b2e9dd050f90a3dbd84ea6\nRelated-Bug: #1798774\n""}]",0,619360,99b1b3f6f0c0d755c0ebe39e63e536235622c175,15,9,1,4257,,,0,"Don't use private interface in oslo.service

The _ThreadingEvent class in oslo_service.loopingcall is a private
interface, and backported changes to fix performance issues remove that
class. Since the _ThreadingEvent.wait() function is essentially
synonymous with the LoopingCallBase._sleep() method, substitute the
latter instead. This ensures that the Nova tests will work with both
older and newer versions of oslo.service.

This is a stable-only change because these mocks have already been
replaced with the new oslo_service.fixture.SleepFixture on master by
fded752b167c62b888d8e13690c361ce1fad1f82.

Change-Id: Ie4f27622f6158b1123b2e9dd050f90a3dbd84ea6
Related-Bug: #1798774
",git fetch https://review.opendev.org/openstack/nova refs/changes/60/619360/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/virt/disk/mount/test_api.py', 'nova/tests/unit/virt/libvirt/test_guest.py']",3,99b1b3f6f0c0d755c0ebe39e63e536235622c175,bug/1798774,"@mock.patch('oslo_service.loopingcall.LoopingCallBase._sleep', new=mock.Mock())","@mock.patch('oslo_service.loopingcall._ThreadingEvent.wait', new=mock.Mock())",3,3
openstack%2Fneutron~master~I76d810aad2ce0f15a88bd798963012fa0efca74e,openstack/neutron,master,I76d810aad2ce0f15a88bd798963012fa0efca74e,Secure dnsmasq process against external abuse,MERGED,2016-06-24 09:01:17.000000000,2018-11-30 21:57:33.000000000,2018-11-30 21:57:32.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5170}, {'_account_id': 5756}, {'_account_id': 8124}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 10692}, {'_account_id': 11159}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 14208}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17292}, {'_account_id': 20229}, {'_account_id': 22348}, {'_account_id': 23304}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2016-06-24 09:01:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bd2a670ac6871f3f799dc827855685793db6e49e', 'message': 'DNM: Secure dnsmasq process against external abuse\n\nCurrently any dhcp agent instance will work as an open resolver. For\ndeployments using publically routed adresses for tenant networks, this\nallow the agent being abused in dDoS attacks, see [1].\n\nInstead of setting up explicit filtering via iptables as proposed in\n[2], setting the `--local-service` option will have dnsmasq filter DNS\nservice by itself.\n\nNote: The change removes the filtering per interface, this will only\nwork if the dhcp agent is running in its own netns. If there are\nscenarios where the dhcp agent is deployed on the host node, we will\nhave to add some more login in here.\n\n[1] https://bugs.launchpad.net/neutron/+bug/1501206\n[2] https://review.openstack.org/256280\n\nChange-Id: I76d810aad2ce0f15a88bd798963012fa0efca74e\n'}, {'number': 2, 'created': '2016-08-15 12:53:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9e90469db84d91baefa4460c2f4fd1748fd7ff8e', 'message': 'Secure dnsmasq process against external abuse\n\nCurrently any dhcp agent instance will work as an open resolver. For\ndeployments using publically routed adresses for tenant networks, this\nallow the agent being abused in dDoS attacks, see [1].\n\nInstead of setting up explicit filtering via iptables as proposed in\n[2], setting the `--local-service` option will have dnsmasq filter DNS\nservice by itself.\n\nNote: The change removes the filtering per interface, this will only\nwork if the dhcp agent is running in its own netns. If there are\nscenarios where the dhcp agent is deployed on the host node, we will\nhave to add some more login in here.\n\n[1] https://bugs.launchpad.net/neutron/+bug/1501206\n[2] https://review.openstack.org/256280\n\nChange-Id: I76d810aad2ce0f15a88bd798963012fa0efca74e\n'}, {'number': 3, 'created': '2016-08-16 10:21:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b86b2449a8763863a4fe4843e67bdf9b7d2877fd', 'message': 'Secure dnsmasq process against external abuse\n\nCurrently any dhcp agent instance will work as an open resolver. For\ndeployments using publically routed adresses for tenant networks, this\nallow the agent being abused in dDoS attacks, see [1].\n\nInstead of setting up explicit filtering via iptables as proposed in\n[2], setting the `--local-service` option will have dnsmasq filter DNS\nservice by itself.\n\nNote: The change removes the filtering per interface, this will only\nwork if the dhcp agent is running in its own netns. If there are\nscenarios where the dhcp agent is deployed on the host node, we will\nhave to add some more login in here.\n\n[1] https://bugs.launchpad.net/neutron/+bug/1501206\n[2] https://review.openstack.org/256280\n\nChange-Id: I76d810aad2ce0f15a88bd798963012fa0efca74e\n'}, {'number': 4, 'created': '2016-10-05 14:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1a39f82dfb31e9f7685133c820e7a743b376c9be', 'message': 'Secure dnsmasq process against external abuse\n\nCurrently any dhcp agent instance will work as an open resolver. For\ndeployments using publicly routed addresses for tenant networks, this\nallows the agent being abused in dDoS attacks, see [1].\n\nBy setting the `--local-service` option dnsmasq will filter DNS queries\nand reply only to queries from directly attached networks.\n\n[1] https://bugs.launchpad.net/neutron/+bug/1501206\n[2] https://review.openstack.org/256280\n\nCloses-Bug: 1501206\nChange-Id: I76d810aad2ce0f15a88bd798963012fa0efca74e\n'}, {'number': 5, 'created': '2018-10-29 12:37:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9d9496af2f16696a232697330f2a8e6ed573502d', 'message': 'Secure dnsmasq process against external abuse\n\nCurrently any dhcp agent instance will work as an open resolver. For\ndeployments using publicly routed addresses for tenant networks, this\nallows the agent being abused in dDoS attacks, see [1].\n\nBy setting the `--local-service` option dnsmasq will filter DNS queries\nand reply only to queries from directly attached networks.\n\n[1] https://bugs.launchpad.net/neutron/+bug/1501206\n\nCloses-Bug: 1501206\nChange-Id: I76d810aad2ce0f15a88bd798963012fa0efca74e\n'}, {'number': 6, 'created': '2018-10-29 17:09:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dcb920a4b75fa4d221eb09c8916ef1f5183b0807', 'message': 'Secure dnsmasq process against external abuse\n\nCurrently any dhcp agent instance will work as an open resolver. For\ndeployments using publicly routed addresses for tenant networks, this\nallows the agent being abused in dDoS attacks, see [1].\n\nBy setting the `--local-service` option dnsmasq will filter DNS queries\nand reply only to queries from directly attached networks.\n\n[1] https://bugs.launchpad.net/neutron/+bug/1501206\n\nCloses-Bug: 1501206\nChange-Id: I76d810aad2ce0f15a88bd798963012fa0efca74e\n'}, {'number': 7, 'created': '2018-11-28 20:49:43.000000000', 'files': ['neutron/cmd/sanity/checks.py', 'releasenotes/notes/dnsmasq-local-service-c8eaa91894a7d6d4.yaml', 'neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py', 'neutron/cmd/sanity_check.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0fce3ca2c1641fbcfb8327a86d7225e2c3972263', 'message': 'Secure dnsmasq process against external abuse\n\nCurrently any dhcp agent instance will work as an open resolver. For\ndeployments using publicly routed addresses for tenant networks, this\nallows the agent being abused in dDoS attacks, see [1].\n\nBy setting the `--local-service` option dnsmasq will filter DNS queries\nand reply only to queries from directly attached networks.\n\n[1] https://bugs.launchpad.net/neutron/+bug/1501206\n\nCloses-Bug: 1501206\nChange-Id: I76d810aad2ce0f15a88bd798963012fa0efca74e\n'}]",15,333829,0fce3ca2c1641fbcfb8327a86d7225e2c3972263,108,24,7,13252,,,0,"Secure dnsmasq process against external abuse

Currently any dhcp agent instance will work as an open resolver. For
deployments using publicly routed addresses for tenant networks, this
allows the agent being abused in dDoS attacks, see [1].

By setting the `--local-service` option dnsmasq will filter DNS queries
and reply only to queries from directly attached networks.

[1] https://bugs.launchpad.net/neutron/+bug/1501206

Closes-Bug: 1501206
Change-Id: I76d810aad2ce0f15a88bd798963012fa0efca74e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/29/333829/6 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py']",2,bd2a670ac6871f3f799dc827855685793db6e49e,333829," '--local-service',"," '--except-interface=lo', '--interface=%s' % self.interface_name, '--interface=%s' % self.interface_name, '--interface=tap*',",2,6
openstack%2Freleases~master~I79a945da72dee65bc4d8a6611ed6394d51ac35ae,openstack/releases,master,I79a945da72dee65bc4d8a6611ed6394d51ac35ae,"Revert ""Expect stein branching for Oslo's devstack plugins""",MERGED,2018-11-30 17:13:50.000000000,2018-11-30 21:40:11.000000000,2018-11-30 21:40:11.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-30 17:13:50.000000000', 'files': ['deliverables/stein/devstack-plugin-pika.yaml', 'deliverables/stein/devstack-plugin-zmq.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/43847d58773279e039ad475cd6772149edf9d4ab', 'message': 'Revert ""Expect stein branching for Oslo\'s devstack plugins""\n\nThis reverts commit 547d2b590f24910632b3934cd9d934731aa82ca7.\nI misunderstood bnemec\'s statements, apparently those two don\'t\ndo releases anymore:\n\n""Both the zmq and pika drivers have been removed from\noslo.messaging so those two repos can actually be retired\nonce we no longer ci releases that contain the drivers.\nIn the meantime there isn\'t any need to branch them since\nthere isn\'t any development going on.""\n\nChange-Id: I79a945da72dee65bc4d8a6611ed6394d51ac35ae\n'}]",0,621245,43847d58773279e039ad475cd6772149edf9d4ab,6,2,1,308,,,0,"Revert ""Expect stein branching for Oslo's devstack plugins""

This reverts commit 547d2b590f24910632b3934cd9d934731aa82ca7.
I misunderstood bnemec's statements, apparently those two don't
do releases anymore:

""Both the zmq and pika drivers have been removed from
oslo.messaging so those two repos can actually be retired
once we no longer ci releases that contain the drivers.
In the meantime there isn't any need to branch them since
there isn't any development going on.""

Change-Id: I79a945da72dee65bc4d8a6611ed6394d51ac35ae
",git fetch https://review.opendev.org/openstack/releases refs/changes/45/621245/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/stein/devstack-plugin-pika.yaml', 'deliverables/stein/devstack-plugin-zmq.yaml']",2,43847d58773279e039ad475cd6772149edf9d4ab,revert-plugins,,--- launchpad: oslo.messaging release-model: untagged team: oslo type: other stable-branch-type: tagless repository-settings: openstack/devstack-plugin-zmq: {} ,0,16
openstack%2Fopenstack-ansible-os_tempest~master~Ic1c7061f46b527c87a691b7d9cdee310e5770ae0,openstack/openstack-ansible-os_tempest,master,Ic1c7061f46b527c87a691b7d9cdee310e5770ae0,Add option to set properties on images uploaded for tempest tests,MERGED,2018-11-26 11:40:43.000000000,2018-11-30 21:34:23.000000000,2018-11-30 21:34:23.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-26 11:40:43.000000000', 'files': ['tasks/tempest_resources.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/3c69125301c869e60d092d37afaa958047f73a16', 'message': 'Add option to set properties on images uploaded for tempest tests\n\nAs an example, this could be used to set the property ""hw_firmware_type: uefi""\nfor images that require UEFI boot.\n\nChange-Id: Ic1c7061f46b527c87a691b7d9cdee310e5770ae0\n'}]",0,620018,3c69125301c869e60d092d37afaa958047f73a16,7,3,1,25023,,,0,"Add option to set properties on images uploaded for tempest tests

As an example, this could be used to set the property ""hw_firmware_type: uefi""
for images that require UEFI boot.

Change-Id: Ic1c7061f46b527c87a691b7d9cdee310e5770ae0
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/18/620018/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/tempest_resources.yml'],1,3c69125301c869e60d092d37afaa958047f73a16,," properties: ""{{ item.properties | default(omit) }}""",,1,0
openstack%2Fopenstack-ansible-os_watcher~master~I25e6d1a047423b719a5f77bb46b529a667dbfa7a,openstack/openstack-ansible-os_watcher,master,I25e6d1a047423b719a5f77bb46b529a667dbfa7a,Enable overriding the service setup host python interpreter,MERGED,2018-11-30 16:57:39.000000000,2018-11-30 21:30:08.000000000,2018-11-30 21:30:08.000000000,"[{'_account_id': 1004}, {'_account_id': 13095}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-30 16:57:39.000000000', 'files': ['tasks/watcher_service_setup.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_watcher/commit/723eb345ea1416d3cff067a48fa627664211be12', 'message': ""Enable overriding the service setup host python interpreter\n\nIn order to enable the service setup host python interpreter to\nbe changed easily, we make it a variable. This will be useful\nwhen someone sets the service setup host to be the utility\ncontainer, because we'll be able to set this var by default.\n\nChange-Id: I25e6d1a047423b719a5f77bb46b529a667dbfa7a\n""}]",0,621237,723eb345ea1416d3cff067a48fa627664211be12,7,3,1,6816,,,0,"Enable overriding the service setup host python interpreter

In order to enable the service setup host python interpreter to
be changed easily, we make it a variable. This will be useful
when someone sets the service setup host to be the utility
container, because we'll be able to set this var by default.

Change-Id: I25e6d1a047423b719a5f77bb46b529a667dbfa7a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_watcher refs/changes/37/621237/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/watcher_service_setup.yml', 'defaults/main.yml']",2,723eb345ea1416d3cff067a48fa627664211be12,bp/python-build-simplification,"watcher_service_setup_host_python_interpreter: ""{{ openstack_service_setup_host_python_interpreter | default((watcher_service_setup_host == 'localhost') | ternary(ansible_playbook_python, ansible_python['executable'])) }}""",,2,2
openstack%2Fopenstack-ansible-os_watcher~master~I36c9806b64137f8beaac5d7ec385ed4a66a62eed,openstack/openstack-ansible-os_watcher,master,I36c9806b64137f8beaac5d7ec385ed4a66a62eed,Add bugs url link to README,MERGED,2018-08-31 09:05:34.000000000,2018-11-30 21:30:08.000000000,2018-11-30 21:30:08.000000000,"[{'_account_id': 1004}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-31 09:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_watcher/commit/6c84254006269dbb71789e80730da0f33e4be821', 'message': 'Add bugs url link to README\n\nChange-Id: I36c9806b64137f8beaac5d7ec385ed4a66a62eed\n'}, {'number': 2, 'created': '2018-09-27 03:10:46.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_watcher/commit/d8da053676511a45ccc0d4942bb13b7f57f043f4', 'message': 'Add bugs url link to README\n\nChange-Id: I36c9806b64137f8beaac5d7ec385ed4a66a62eed\n'}]",0,598566,d8da053676511a45ccc0d4942bb13b7f57f043f4,9,3,2,23317,,,0,"Add bugs url link to README

Change-Id: I36c9806b64137f8beaac5d7ec385ed4a66a62eed
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_watcher refs/changes/66/598566/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,6c84254006269dbb71789e80730da0f33e4be821,, The bugs can be found at: https://bugs.launchpad.net/openstack-ansible,,3,0
openstack%2Fopenstack-manuals~master~I1e7753f2cb4a370634f1f16d859fe9be137c9421,openstack/openstack-manuals,master,I1e7753f2cb4a370634f1f16d859fe9be137c9421,[www] Update database,MERGED,2018-11-30 03:42:03.000000000,2018-11-30 21:22:52.000000000,2018-11-30 21:22:52.000000000,"[{'_account_id': 2472}, {'_account_id': 11904}, {'_account_id': 14482}, {'_account_id': 15334}, {'_account_id': 17765}, {'_account_id': 19779}, {'_account_id': 20156}, {'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-30 03:42:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/03ee5ab20e45ba53387a52b2a139f64ef00affbb', 'message': 'Fix watcher links\n\nWatcher does not have anymore an in-tree api document at\nhttps://docs.openstack.org/watcher/latest/api/index.html, remove the\nsetting so that this repo builds again.\n\nChange-Id: I1e7753f2cb4a370634f1f16d859fe9be137c9421\n'}, {'number': 2, 'created': '2018-11-30 04:02:46.000000000', 'files': ['www/project-data/latest.yaml', 'tools/www-generator.py'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/2a2e0ac9c19730f45e282706313e4c10d32cb80b', 'message': '[www] Update database\n\nWatcher does not have anymore an in-tree api document at\nhttps://docs.openstack.org/watcher/latest/api/index.html, remove the\nsetting so that this repo builds again.\n\nUpdate script to handle the foundation-board-repos list to silence\nwarning about refstack.\n\nChange-Id: I1e7753f2cb4a370634f1f16d859fe9be137c9421\n'}]",3,621065,2a2e0ac9c19730f45e282706313e4c10d32cb80b,13,9,2,6547,,,0,"[www] Update database

Watcher does not have anymore an in-tree api document at
https://docs.openstack.org/watcher/latest/api/index.html, remove the
setting so that this repo builds again.

Update script to handle the foundation-board-repos list to silence
warning about refstack.

Change-Id: I1e7753f2cb4a370634f1f16d859fe9be137c9421
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/65/621065/2 && git format-patch -1 --stdout FETCH_HEAD,['www/project-data/latest.yaml'],1,03ee5ab20e45ba53387a52b2a139f64ef00affbb,watcher-api,, has_in_tree_api_docs: true,0,1
openstack%2Fnova~master~I5619728d5bd684e9167495dd4550ee4f5fbb87a7,openstack/nova,master,I5619728d5bd684e9167495dd4550ee4f5fbb87a7,Add regression test for bug 1550919,MERGED,2018-08-14 15:10:55.000000000,2018-11-30 21:15:33.000000000,2018-11-28 00:05:06.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 28885}]","[{'number': 1, 'created': '2018-08-14 15:10:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bb0861b376ad75d7e9f69558339bd51973a3fb82', 'message': 'Add regression test for bug 1550919\n\nRelated-Bug: #1550919\nChange-Id: I5619728d5bd684e9167495dd4550ee4f5fbb87a7\n'}, {'number': 2, 'created': '2018-08-15 13:52:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/851f5524a051b01c3a16f03a6fe6eefb861cb9d5', 'message': 'Add regression test for bug 1550919\n\nRelated-Bug: #1550919\nChange-Id: I5619728d5bd684e9167495dd4550ee4f5fbb87a7\n'}, {'number': 3, 'created': '2018-08-15 14:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/265eda316d8345828a8a1b7cab14642cfcfecc6b', 'message': 'Add regression test for bug 1550919\n\nRelated-Bug: #1550919\nChange-Id: I5619728d5bd684e9167495dd4550ee4f5fbb87a7\n'}, {'number': 4, 'created': '2018-08-15 14:58:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aaa29f30567d059814b227612ff2e2017def4c39', 'message': 'Add regression test for bug 1550919\n\nRelated-Bug: #1550919\nChange-Id: I5619728d5bd684e9167495dd4550ee4f5fbb87a7\n'}, {'number': 5, 'created': '2018-08-16 09:56:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cf30ddbbc9994128519109c166a912ab5dd4d10e', 'message': 'Add regression test for bug 1550919\n\nRelated-Bug: #1550919\nChange-Id: I5619728d5bd684e9167495dd4550ee4f5fbb87a7\n'}, {'number': 6, 'created': '2018-08-16 13:24:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9b5daf33c74988c14402635467f64710beecc037', 'message': 'Add regression test for bug 1550919\n\nRelated-Bug: #1550919\nChange-Id: I5619728d5bd684e9167495dd4550ee4f5fbb87a7\n'}, {'number': 7, 'created': '2018-09-12 21:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c3be9871a73a4c3327fa4d4d44d0a7025a56f192', 'message': 'Add regression test for bug 1550919\n\nRelated-Bug: #1550919\nChange-Id: I5619728d5bd684e9167495dd4550ee4f5fbb87a7\n'}, {'number': 8, 'created': '2018-09-21 16:55:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/37ce6d87857f42eeea953f4b99c7e3bfc261b32a', 'message': 'Add regression test for bug 1550919\n\nRelated-Bug: #1550919\nChange-Id: I5619728d5bd684e9167495dd4550ee4f5fbb87a7\n'}, {'number': 9, 'created': '2018-09-25 10:31:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c6cb848a5ecc672fc184b8531dbab4795eaabdb1', 'message': 'Add regression test for bug 1550919\n\nRelated-Bug: #1550919\nChange-Id: I5619728d5bd684e9167495dd4550ee4f5fbb87a7\n'}, {'number': 10, 'created': '2018-09-25 17:33:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/836f92bb4e5a966d4742cbd3e228df6934db29b4', 'message': 'Add regression test for bug 1550919\n\nRelated-Bug: #1550919\nChange-Id: I5619728d5bd684e9167495dd4550ee4f5fbb87a7\n'}, {'number': 11, 'created': '2018-09-26 16:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/96a9bcbd6228b962de51d1fcaf23402f97504823', 'message': 'Add regression test for bug 1550919\n\nRelated-Bug: #1550919\nChange-Id: I5619728d5bd684e9167495dd4550ee4f5fbb87a7\n'}, {'number': 12, 'created': '2018-10-01 09:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1c6a74c69f64e28cce27568d1691ab51b6b0f967', 'message': 'Add regression test for bug 1550919\n\nRelated-Bug: #1550919\nChange-Id: I5619728d5bd684e9167495dd4550ee4f5fbb87a7\n'}, {'number': 13, 'created': '2018-10-22 16:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad5b84d0078257dc554d033a34271fc4bea5a03f', 'message': 'Add regression test for bug 1550919\n\nThis adds a failing test, which we fix in change I76448196.\n\nRelated-Bug: #1550919\nChange-Id: I5619728d5bd684e9167495dd4550ee4f5fbb87a7\n'}, {'number': 14, 'created': '2018-10-23 14:32:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/33017d603a70b63d224d64fb86f30c16b8c4d01b', 'message': 'Add regression test for bug 1550919\n\nThis adds a failing test, which we fix in change I76448196.\n\nRelated-Bug: #1550919\nChange-Id: I5619728d5bd684e9167495dd4550ee4f5fbb87a7\n'}, {'number': 15, 'created': '2018-10-24 08:46:38.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1550919.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bbe88786fc90c2106f9fae0156ee7b09ece9a83b', 'message': 'Add regression test for bug 1550919\n\nThis adds a failing test, which we fix in change I76448196.\n\nRelated-Bug: #1550919\nChange-Id: I5619728d5bd684e9167495dd4550ee4f5fbb87a7\n'}]",37,591733,bbe88786fc90c2106f9fae0156ee7b09ece9a83b,165,15,15,9555,,,0,"Add regression test for bug 1550919

This adds a failing test, which we fix in change I76448196.

Related-Bug: #1550919
Change-Id: I5619728d5bd684e9167495dd4550ee4f5fbb87a7
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/591733/11 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/regressions/test_bug_1550919.py', 'nova/tests/unit/virt/libvirt/fake_imagebackend.py']",2,bb0861b376ad75d7e9f69558339bd51973a3fb82,bug/1550919," # NOTE(mdbooth): we spec a subclass of imagebackend.Image here because # the subclass constructors have a different signature. disk = mock.create_autospec(imagebackend.Flat, instance=True) # NOTE(mdbooth): we spec a subclass of imagebackend.Image here because # the subclass constructors have a different signature. fake_image_class = mock.create_autospec(imagebackend.Flat) fake_image_class.side_effect = image_init return fake_image_class", disk = mock.create_autospec(imagebackend.Image) return image_init,152,2
openstack%2Fneutron-dynamic-routing~master~I13e56c154a528f5597922b07fcd79de15716f5a3,openstack/neutron-dynamic-routing,master,I13e56c154a528f5597922b07fcd79de15716f5a3,DNM: Gate test,ABANDONED,2018-11-29 22:41:32.000000000,2018-11-30 21:07:08.000000000,,"[{'_account_id': 5367}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-29 22:41:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/5598205c2b36b5269c0268c83be7f71c51ae2992', 'message': 'DNM: Gate test\n\nDO NOT MERGE\n\nThis no-op change is to test the gate jobs.\n\nChange-Id: I13e56c154a528f5597922b07fcd79de15716f5a3\n'}, {'number': 2, 'created': '2018-11-30 14:40:29.000000000', 'files': ['neutron_dynamic_routing/tests/unit/services/bgp/test_bgp_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/dad1548bfac1fc9014eac2abda2810dcd75090e9', 'message': 'DNM: Gate test\n\nDO NOT MERGE\n\nThis no-op change is to test the gate jobs.\n\nChange-Id: I13e56c154a528f5597922b07fcd79de15716f5a3\n'}]",0,621037,dad1548bfac1fc9014eac2abda2810dcd75090e9,6,2,2,5367,,,0,"DNM: Gate test

DO NOT MERGE

This no-op change is to test the gate jobs.

Change-Id: I13e56c154a528f5597922b07fcd79de15716f5a3
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/37/621037/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron_dynamic_routing/tests/unit/services/bgp/test_bgp_plugin.py'],1,5598205c2b36b5269c0268c83be7f71c51ae2992,gate-test,# dummy change,,1,0
openstack%2Fopenstack-ansible-os_trove~master~I8ef587f964c555aa8ce870ce0f26ac20b335e34e,openstack/openstack-ansible-os_trove,master,I8ef587f964c555aa8ce870ce0f26ac20b335e34e,Add bugs url link to README,MERGED,2018-08-31 09:21:32.000000000,2018-11-30 21:02:23.000000000,2018-11-30 21:02:23.000000000,"[{'_account_id': 1004}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-31 09:21:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/eb3614f1a1d5ae3055d208e367d9b07348ac1fa8', 'message': 'Add bugs url link to README\n\nChange-Id: I8ef587f964c555aa8ce870ce0f26ac20b335e34e\n'}, {'number': 2, 'created': '2018-09-27 03:11:44.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/b02f378999ac92bb20528261cf39cfb04d49b2ef', 'message': 'Add bugs url link to README\n\nChange-Id: I8ef587f964c555aa8ce870ce0f26ac20b335e34e\n'}]",0,598570,b02f378999ac92bb20528261cf39cfb04d49b2ef,9,3,2,23317,,,0,"Add bugs url link to README

Change-Id: I8ef587f964c555aa8ce870ce0f26ac20b335e34e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/70/598570/2 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,eb3614f1a1d5ae3055d208e367d9b07348ac1fa8,add,The bugs can be found at: `<https://bugs.launchpad.net/openstack-ansible>`_,,2,0
openstack%2Fpuppet-openstack-integration~master~I107be315a6e1a0429c32d02b9a1df8a8957bb7ab,openstack/puppet-openstack-integration,master,I107be315a6e1a0429c32d02b9a1df8a8957bb7ab,Move debug to <module>::logging class,MERGED,2018-11-27 22:24:54.000000000,2018-11-30 21:00:58.000000000,2018-11-30 21:00:58.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-11-27 22:24:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/c1c70986f1735f48701a5f940e3cadf4900d7454', 'message': 'Move debug to <module>::logging class\n\nMoves all the <module>::debug parameters\nto be set in <module>::logging::debug instead.\n\nThis is so that we can remove the deprecated\nlogging options in the init classes of all the\nmodules.\n\nChange-Id: I107be315a6e1a0429c32d02b9a1df8a8957bb7ab\n'}, {'number': 2, 'created': '2018-11-28 08:33:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/2a0c5df092eaa1d0a6f0670aa5706371a01738a7', 'message': 'Move debug to <module>::logging class\n\nMoves all the <module>::debug parameters\nto be set in <module>::logging::debug instead.\n\nThis is so that we can remove the deprecated\nlogging options in the init classes of all the\nmodules.\n\nChange-Id: I107be315a6e1a0429c32d02b9a1df8a8957bb7ab\n'}, {'number': 3, 'created': '2018-11-28 09:44:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/3e649d4dab6b8f0d45b699f1699e83781c071c72', 'message': 'Move debug to <module>::logging class\n\nMoves all the <module>::debug parameters\nto be set in <module>::logging::debug instead.\n\nThis is so that we can remove the deprecated\nlogging options in the init classes of all the\nmodules.\n\nChange-Id: I107be315a6e1a0429c32d02b9a1df8a8957bb7ab\n'}, {'number': 4, 'created': '2018-11-28 14:33:04.000000000', 'files': ['manifests/designate.pp', 'manifests/trove.pp', 'manifests/aodh.pp', 'manifests/ceilometer.pp', 'manifests/panko.pp', 'manifests/vitrage.pp', 'manifests/neutron.pp', 'manifests/cinder.pp', 'manifests/glance.pp', 'manifests/gnocchi.pp', 'manifests/murano.pp', 'manifests/mistral.pp', 'manifests/ironic.pp', 'manifests/sahara.pp', 'manifests/heat.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/7d06b1ea127da3b1db29a09f6c48521842b8a08f', 'message': 'Move debug to <module>::logging class\n\nMoves all the <module>::debug parameters\nto be set in <module>::logging::debug instead.\n\nThis is so that we can remove the deprecated\nlogging options in the init classes of all the\nmodules.\n\nChange-Id: I107be315a6e1a0429c32d02b9a1df8a8957bb7ab\n'}]",0,620415,7d06b1ea127da3b1db29a09f6c48521842b8a08f,23,4,4,16137,,,0,"Move debug to <module>::logging class

Moves all the <module>::debug parameters
to be set in <module>::logging::debug instead.

This is so that we can remove the deprecated
logging options in the init classes of all the
modules.

Change-Id: I107be315a6e1a0429c32d02b9a1df8a8957bb7ab
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/15/620415/4 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/designate.pp', 'manifests/trove.pp', 'manifests/aodh.pp', 'manifests/ceilometer.pp', 'manifests/panko.pp', 'manifests/vitrage.pp', 'manifests/neutron.pp', 'manifests/cinder.pp', 'manifests/glance.pp', 'manifests/gnocchi.pp', 'manifests/murano.pp', 'manifests/mistral.pp', 'manifests/ironic.pp', 'manifests/sahara.pp', 'manifests/heat.pp']",15,c1c70986f1735f48701a5f940e3cadf4900d7454,debug," class { '::heat::logging': debug => true, }"," debug => true,",46,18
openstack%2Fopenstack-ansible-tests~master~I0ab6bd577b231c30f606448e1d98b9bb1270504f,openstack/openstack-ansible-tests,master,I0ab6bd577b231c30f606448e1d98b9bb1270504f,Update README.rst information,MERGED,2018-06-19 09:08:13.000000000,2018-11-30 20:46:57.000000000,2018-11-30 20:46:56.000000000,"[{'_account_id': 1004}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-19 09:08:13.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/abb9754178ef69eb7f3e9ea437dafa43b083d716', 'message': 'Update README.rst information\n\n1) Add documentation url link.\n2) Add release notes url link.\n3) Add the project home url link.\n\nChange-Id: I0ab6bd577b231c30f606448e1d98b9bb1270504f\n'}]",0,576440,abb9754178ef69eb7f3e9ea437dafa43b083d716,8,3,1,17130,,,0,"Update README.rst information

1) Add documentation url link.
2) Add release notes url link.
3) Add the project home url link.

Change-Id: I0ab6bd577b231c30f606448e1d98b9bb1270504f
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/40/576440/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,abb9754178ef69eb7f3e9ea437dafa43b083d716,readme,Documentation for the project can be found at: https://docs.openstack.org/openstack-ansible-tests/latest/ Release notes for the project can be found at: https://docs.openstack.org/releasenotes/openstack-ansible-tests/ The project home is at: https://launchpad.net/openstack-ansible,,8,0
openstack%2Fopenstack-ansible-tests~master~I42eabce3e4b6638ded580a09c57ce67eeeefc34d,openstack/openstack-ansible-tests,master,I42eabce3e4b6638ded580a09c57ce67eeeefc34d,Update ansible to 2.7.2,MERGED,2018-11-26 12:40:55.000000000,2018-11-30 20:46:56.000000000,2018-11-30 20:46:56.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-26 12:40:55.000000000', 'files': ['test-ansible-deps.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/b16f9d20a64e7454fbd22cc0bbe2d38682e8dd6a', 'message': 'Update ansible to 2.7.2\n\nChange-Id: I42eabce3e4b6638ded580a09c57ce67eeeefc34d\n'}]",0,620035,b16f9d20a64e7454fbd22cc0bbe2d38682e8dd6a,7,3,1,25023,,,0,"Update ansible to 2.7.2

Change-Id: I42eabce3e4b6638ded580a09c57ce67eeeefc34d
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/35/620035/1 && git format-patch -1 --stdout FETCH_HEAD,['test-ansible-deps.txt'],1,b16f9d20a64e7454fbd22cc0bbe2d38682e8dd6a,osa-update-ansible,ansible==2.7.2,ansible==2.7.1,1,1
openstack%2Fopenstack-ansible-rabbitmq_server~master~Ic8aeec9cab6aacb5c48755ea7ddd8a3768b5c343,openstack/openstack-ansible-rabbitmq_server,master,Ic8aeec9cab6aacb5c48755ea7ddd8a3768b5c343,Add support for arm64 on ubuntu,MERGED,2018-11-22 20:20:25.000000000,2018-11-30 20:46:55.000000000,2018-11-30 20:46:55.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-22 20:20:25.000000000', 'files': ['vars/ubuntu.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/e577e997a99b3152d6f090210facaf710629f539', 'message': 'Add support for arm64 on ubuntu\n\nFall back to the erlang-base package on arm64 architecture as\nthe erlang-base-hipe package is not available.\n\nChange-Id: Ic8aeec9cab6aacb5c48755ea7ddd8a3768b5c343\n'}]",0,619637,e577e997a99b3152d6f090210facaf710629f539,7,3,1,25023,,,0,"Add support for arm64 on ubuntu

Fall back to the erlang-base package on arm64 architecture as
the erlang-base-hipe package is not available.

Change-Id: Ic8aeec9cab6aacb5c48755ea7ddd8a3768b5c343
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/37/619637/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/ubuntu.yml'],1,e577e997a99b3152d6f090210facaf710629f539,," - ""{{ (ansible_architecture == 'aarch64') | ternary('erlang-base', 'erlang-base-hipe') }}""", - erlang-base-hipe,1,1
openstack%2Fnova~master~I897999e8a4601694213f068367eae9608cdc7bbb,openstack/nova,master,I897999e8a4601694213f068367eae9608cdc7bbb,Add I/O Semaphore to limit concurrent disk ops,MERGED,2018-10-10 02:30:06.000000000,2018-11-30 20:44:07.000000000,2018-11-30 03:25:18.000000000,"[{'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 8768}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12860}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23312}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 28433}]","[{'number': 1, 'created': '2018-10-10 02:30:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c2aaebd3a3595b8f685e63d414e7674bf9ae024b', 'message': 'Add I/O Semaphore to limit concurrent disk ops\n\nIntroduce an I/O semaphore to limit the number of concurrent\ndisk-IO-intensive operations. This could reduce disk contention from\nimage operations like image download, image format conversion, snapshot\nextraction, etc.\n\nThe new config option max_concurrent_disk_ops can be set in nova.conf\nper compute host and would be virt-driver-agnostic. It is default to 0\nwhich means no limit.\n\nblueprint: io-semaphore-for-concurrent-disk-ops\nChange-Id: I897999e8a4601694213f068367eae9608cdc7bbb\nSigned-off-by: Jack Ding <jack.ding@windriver.com>\n'}, {'number': 2, 'created': '2018-10-17 18:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e3c9b69141d8b45db6057c99eb44f9f130b12ee5', 'message': 'Add I/O Semaphore to limit concurrent disk ops\n\nIntroduce an I/O semaphore to limit the number of concurrent\ndisk-IO-intensive operations. This could reduce disk contention from\nimage operations like image download, image format conversion, snapshot\nextraction, etc.\n\nThe new config option max_concurrent_disk_ops can be set in nova.conf\nper compute host and would be virt-driver-agnostic. It is default to 0\nwhich means no limit.\n\nblueprint: io-semaphore-for-concurrent-disk-ops\nChange-Id: I897999e8a4601694213f068367eae9608cdc7bbb\nSigned-off-by: Jack Ding <jack.ding@windriver.com>\n'}, {'number': 3, 'created': '2018-10-26 19:18:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/66af3cdb7ee06c79e7aa1683f12c5e3174bb27d1', 'message': 'Add I/O Semaphore to limit concurrent disk ops\n\nIntroduce an I/O semaphore to limit the number of concurrent\ndisk-IO-intensive operations. This could reduce disk contention from\nimage operations like image download, image format conversion, snapshot\nextraction, etc.\n\nThe new config option max_concurrent_disk_ops can be set in nova.conf\nper compute host and would be virt-driver-agnostic. It is default to 0\nwhich means no limit.\n\nblueprint: io-semaphore-for-concurrent-disk-ops\nChange-Id: I897999e8a4601694213f068367eae9608cdc7bbb\nSigned-off-by: Jack Ding <jack.ding@windriver.com>\n'}, {'number': 4, 'created': '2018-10-29 13:36:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f2eae7ff6410edf95529ac9cb2680f6ba3213085', 'message': 'Add I/O Semaphore to limit concurrent disk ops\n\nIntroduce an I/O semaphore to limit the number of concurrent\ndisk-IO-intensive operations. This could reduce disk contention from\nimage operations like image download, image format conversion, snapshot\nextraction, etc.\n\nThe new config option max_concurrent_disk_ops can be set in nova.conf\nper compute host and would be virt-driver-agnostic. It is default to 0\nwhich means no limit.\n\nblueprint: io-semaphore-for-concurrent-disk-ops\nChange-Id: I897999e8a4601694213f068367eae9608cdc7bbb\nSigned-off-by: Jack Ding <jack.ding@windriver.com>\n'}, {'number': 5, 'created': '2018-10-30 17:33:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ceddd841832423b963cccbe1ff085a6d1ad75a00', 'message': 'Add I/O Semaphore to limit concurrent disk ops\n\nIntroduce an I/O semaphore to limit the number of concurrent\ndisk-IO-intensive operations. This could reduce disk contention from\nimage operations like image download, image format conversion, snapshot\nextraction, etc.\n\nThe new config option max_concurrent_disk_ops can be set in nova.conf\nper compute host and would be virt-driver-agnostic. It is default to 0\nwhich means no limit.\n\nblueprint: io-semaphore-for-concurrent-disk-ops\nChange-Id: I897999e8a4601694213f068367eae9608cdc7bbb\nSigned-off-by: Jack Ding <jack.ding@windriver.com>\n'}, {'number': 6, 'created': '2018-10-31 16:46:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f571146bbec7862c92ff450868c840db72af5147', 'message': 'Add I/O Semaphore to limit concurrent disk ops\n\nIntroduce an I/O semaphore to limit the number of concurrent\ndisk-IO-intensive operations. This could reduce disk contention from\nimage operations like image download, image format conversion, snapshot\nextraction, etc.\n\nThe new config option max_concurrent_disk_ops can be set in nova.conf\nper compute host and would be virt-driver-agnostic. It is default to 0\nwhich means no limit.\n\nblueprint: io-semaphore-for-concurrent-disk-ops\nChange-Id: I897999e8a4601694213f068367eae9608cdc7bbb\nSigned-off-by: Jack Ding <jack.ding@windriver.com>\n'}, {'number': 7, 'created': '2018-11-20 15:42:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/75240f61dcaf3bab9e2b9ab78770c21ecf11f0c3', 'message': 'Add I/O Semaphore to limit concurrent disk ops\n\nIntroduce an I/O semaphore to limit the number of concurrent\ndisk-IO-intensive operations. This could reduce disk contention from\nimage operations like image download, image format conversion, snapshot\nextraction, etc.\n\nThe new config option max_concurrent_disk_ops can be set in nova.conf\nper compute host and would be virt-driver-agnostic. It is default to 0\nwhich means no limit.\n\nblueprint: io-semaphore-for-concurrent-disk-ops\nChange-Id: I897999e8a4601694213f068367eae9608cdc7bbb\nSigned-off-by: Jack Ding <jack.ding@windriver.com>\n'}, {'number': 8, 'created': '2018-11-21 20:15:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b16f136fd04ce6874a33ab4af6518ccae07badd3', 'message': 'Add I/O Semaphore to limit concurrent disk ops\n\nIntroduce an I/O semaphore to limit the number of concurrent\ndisk-IO-intensive operations. This could reduce disk contention from\nimage operations like image download, image format conversion, snapshot\nextraction, etc.\n\nThe new config option max_concurrent_disk_ops can be set in nova.conf\nper compute host and would be virt-driver-agnostic. It is default to 0\nwhich means no limit.\n\nblueprint: io-semaphore-for-concurrent-disk-ops\nChange-Id: I897999e8a4601694213f068367eae9608cdc7bbb\nSigned-off-by: Jack Ding <jack.ding@windriver.com>\n'}, {'number': 9, 'created': '2018-11-21 20:57:23.000000000', 'files': ['nova/conf/compute.py', 'nova/virt/xenapi/vm_utils.py', 'nova/tests/unit/virt/libvirt/test_imagebackend.py', 'nova/virt/libvirt/utils.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/test_images.py', 'nova/tests/unit/virt/libvirt/test_utils.py', 'nova/tests/unit/virt/xenapi/test_vm_utils.py', 'nova/compute/manager.py', 'releasenotes/notes/bp-io-semaphore-for-concurrent-disk-ops-690890c9f01fa18c.yaml', 'nova/compute/utils.py', 'nova/virt/images.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/728f20e8f4ac2e3d4b893b7169b81d20471d0be9', 'message': 'Add I/O Semaphore to limit concurrent disk ops\n\nIntroduce an I/O semaphore to limit the number of concurrent\ndisk-IO-intensive operations. This could reduce disk contention from\nimage operations like image download, image format conversion, snapshot\nextraction, etc.\n\nThe new config option max_concurrent_disk_ops can be set in nova.conf\nper compute host and would be virt-driver-agnostic. It is default to 0\nwhich means no limit.\n\nblueprint: io-semaphore-for-concurrent-disk-ops\nChange-Id: I897999e8a4601694213f068367eae9608cdc7bbb\nSigned-off-by: Jack Ding <jack.ding@windriver.com>\n'}]",55,609180,728f20e8f4ac2e3d4b893b7169b81d20471d0be9,195,23,9,28433,,,0,"Add I/O Semaphore to limit concurrent disk ops

Introduce an I/O semaphore to limit the number of concurrent
disk-IO-intensive operations. This could reduce disk contention from
image operations like image download, image format conversion, snapshot
extraction, etc.

The new config option max_concurrent_disk_ops can be set in nova.conf
per compute host and would be virt-driver-agnostic. It is default to 0
which means no limit.

blueprint: io-semaphore-for-concurrent-disk-ops
Change-Id: I897999e8a4601694213f068367eae9608cdc7bbb
Signed-off-by: Jack Ding <jack.ding@windriver.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/80/609180/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/compute.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/test_images.py', 'nova/tests/unit/virt/libvirt/test_imagebackend.py', 'nova/tests/unit/virt/libvirt/test_utils.py', 'nova/utils.py', 'nova/compute/manager.py', 'nova/virt/libvirt/utils.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/virt/images.py']",10,c2aaebd3a3595b8f685e63d414e7674bf9ae024b,bp/io-semaphore-for-concurrent-disk-ops," with utils.disk_ops_semaphore: nova.privsep.qemu.unprivileged_convert_image( source, dest, in_format, out_format, CONF.instances_path) else: with utils.disk_ops_semaphore: nova.privsep.qemu.convert_image( source, dest, in_format, out_format, CONF.instances_path) with utils.disk_ops_semaphore: IMAGE_API.download(context, image_href, dest_path=path, trusted_certs=trusted_certs)"," nova.privsep.qemu.unprivileged_convert_image( source, dest, in_format, out_format, CONF.instances_path) else: nova.privsep.qemu.convert_image( source, dest, in_format, out_format, CONF.instances_path) IMAGE_API.download(context, image_href, dest_path=path, trusted_certs=trusted_certs)",75,21
openstack%2Fopenstack-ansible-os_panko~stable%2Frocky~I3f7f65b6a9a487d62641e10e0d5024b666be8e12,openstack/openstack-ansible-os_panko,stable/rocky,I3f7f65b6a9a487d62641e10e0d5024b666be8e12,Replace Chinese punctuation with English punctuation,MERGED,2018-10-19 03:10:48.000000000,2018-11-30 20:42:19.000000000,2018-11-30 20:42:18.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-19 03:10:48.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_panko/commit/47c1fb481346aa5328ff34f3ab37bdb0e26f3bb9', 'message': 'Replace Chinese punctuation with English punctuation\n\nCurly quotes(Chinese punctuation) usually input from Chinese input\nmethod. When read from english context, it makes some confusion.\n\nChange-Id: I3f7f65b6a9a487d62641e10e0d5024b666be8e12\nCloses-Bug: #1792131\n(cherry picked from commit 06e0a331a1eb1f2dd7e5c62009567dce10563f14)\n'}]",0,611757,47c1fb481346aa5328ff34f3ab37bdb0e26f3bb9,6,2,1,28614,,,0,"Replace Chinese punctuation with English punctuation

Curly quotes(Chinese punctuation) usually input from Chinese input
method. When read from english context, it makes some confusion.

Change-Id: I3f7f65b6a9a487d62641e10e0d5024b666be8e12
Closes-Bug: #1792131
(cherry picked from commit 06e0a331a1eb1f2dd7e5c62009567dce10563f14)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_panko refs/changes/57/611757/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,47c1fb481346aa5328ff34f3ab37bdb0e26f3bb9,," * If the issue is a bug that needs fixing in a branch other than Master, add the 'backport potential' tag TO THE ISSUE (not the PR)."," * If the issue is a bug that needs fixing in a branch other than Master, add the ‘backport potential’ tag TO THE ISSUE (not the PR).",1,1
openstack%2Fopenstack-ansible-os_panko~master~Id590940d9b2bbf196de3157f77a749407d7ae0fe,openstack/openstack-ansible-os_panko,master,Id590940d9b2bbf196de3157f77a749407d7ae0fe,Add bugs url link to README,MERGED,2018-08-31 09:08:05.000000000,2018-11-30 20:42:18.000000000,2018-11-30 20:42:18.000000000,"[{'_account_id': 1004}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-31 09:08:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_panko/commit/4d55b2fdb50818215b894986c353f80d5b19ea43', 'message': 'Add bugs url link to README\n\nChange-Id: Id590940d9b2bbf196de3157f77a749407d7ae0fe\n'}, {'number': 2, 'created': '2018-09-27 03:11:12.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_panko/commit/14df459ff096496d021c107632beedff45dd6f1f', 'message': 'Add bugs url link to README\n\nChange-Id: Id590940d9b2bbf196de3157f77a749407d7ae0fe\n'}]",0,598567,14df459ff096496d021c107632beedff45dd6f1f,9,3,2,23317,,,0,"Add bugs url link to README

Change-Id: Id590940d9b2bbf196de3157f77a749407d7ae0fe
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_panko refs/changes/67/598567/2 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,4d55b2fdb50818215b894986c353f80d5b19ea43,fix, The bugs can be found at: https://bugs.launchpad.net/openstack-ansible,,3,0
openstack%2Fsushy-tools~master~I517cc1fe2774b5ac9743373230a64bfd49f50a35,openstack/sushy-tools,master,I517cc1fe2774b5ac9743373230a64bfd49f50a35,Fix nova driver to report on unsupported call,MERGED,2018-11-09 09:50:35.000000000,2018-11-30 20:41:47.000000000,2018-11-30 20:41:47.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 29209}]","[{'number': 1, 'created': '2018-11-09 09:50:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/b19183d24aad9b152bde67fd8c9e17065e83405a', 'message': ""Fix nova driver to report on unsupported call\n\nEmulator's OpenStack driver does not support BIOS operations. This\nfix makes emulator explicitly reporting errors back to the calling\nclient on unsupported operations.\n\nChange-Id: I517cc1fe2774b5ac9743373230a64bfd49f50a35\n""}, {'number': 2, 'created': '2018-11-30 16:26:16.000000000', 'files': ['sushy_tools/tests/unit/emulator/test_nova.py', 'sushy_tools/emulator/drivers/novadriver.py'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/80916f4c64a135e7102d4ca652bfe9a4a74f33d6', 'message': ""Fix nova driver to report on unsupported call\n\nEmulator's OpenStack driver does not support BIOS operations. This\nfix makes emulator explicitly reporting errors back to the calling\nclient on unsupported operations.\n\nChange-Id: I517cc1fe2774b5ac9743373230a64bfd49f50a35\n""}]",0,616863,80916f4c64a135e7102d4ca652bfe9a4a74f33d6,11,4,2,26340,,,0,"Fix nova driver to report on unsupported call

Emulator's OpenStack driver does not support BIOS operations. This
fix makes emulator explicitly reporting errors back to the calling
client on unsupported operations.

Change-Id: I517cc1fe2774b5ac9743373230a64bfd49f50a35
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/63/616863/2 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_tools/tests/unit/emulator/test_nova.py', 'sushy_tools/emulator/drivers/novadriver.py']",2,b19183d24aad9b152bde67fd8c9e17065e83405a,report-unsupported-operations, raise FishyError( 'Operation not supported by the virtualization driver') raise FishyError( 'Operation not supported by the virtualization driver') raise FishyError( 'Operation not supported by the virtualization driver'), raise NotImplementedError raise NotImplementedError raise NotImplementedError,10,6
openstack%2Fproject-config~master~I8b9a79b64dd7da6d3a33f24797ca597bd2426c86,openstack/project-config,master,I8b9a79b64dd7da6d3a33f24797ca597bd2426c86,Temporarily disable ovh-bhs1 in nodepool,MERGED,2018-11-30 17:39:06.000000000,2018-11-30 20:40:12.000000000,2018-11-30 20:40:12.000000000,"[{'_account_id': 1}, {'_account_id': 4162}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-30 17:39:06.000000000', 'files': ['nodepool/nl04.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/3f40af429658541c337f7dd2313203ae4d9b7537', 'message': ""Temporarily disable ovh-bhs1 in nodepool\n\nWe've gotten reports of frequent slow job runs in the BHS1 region\nleading to job timeouts. Further investigation indicates these\ninstances top out around ~10-15MB/sec for contiguous writes to their\nrootfs while instances booted from the same image and flavor in GRA1\nsee 250MB/sec or better with the same write patterns. Disable BHS1\nin nodepool for now while we work with OVH staff to see if they can\ndetermine the root cause.\n\nChange-Id: I8b9a79b64dd7da6d3a33f24797ca597bd2426c86\n""}]",0,621250,3f40af429658541c337f7dd2313203ae4d9b7537,7,3,1,5263,,,0,"Temporarily disable ovh-bhs1 in nodepool

We've gotten reports of frequent slow job runs in the BHS1 region
leading to job timeouts. Further investigation indicates these
instances top out around ~10-15MB/sec for contiguous writes to their
rootfs while instances booted from the same image and flavor in GRA1
see 250MB/sec or better with the same write patterns. Disable BHS1
in nodepool for now while we work with OVH staff to see if they can
determine the root cause.

Change-Id: I8b9a79b64dd7da6d3a33f24797ca597bd2426c86
",git fetch https://review.opendev.org/openstack/project-config refs/changes/50/621250/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl04.openstack.org.yaml'],1,3f40af429658541c337f7dd2313203ae4d9b7537,ovh-bhs1, max-servers: 0, max-servers: 159,1,1
openstack%2Fopenstack-ansible-os_zaqar~master~Ia0231aedeb9d850ddd3d8a36c8e1622a4963d2a1,openstack/openstack-ansible-os_zaqar,master,Ia0231aedeb9d850ddd3d8a36c8e1622a4963d2a1,Update README.rst information,MERGED,2018-06-19 08:14:21.000000000,2018-11-30 20:37:02.000000000,2018-11-30 20:37:02.000000000,"[{'_account_id': 1004}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-19 08:14:21.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zaqar/commit/4571724f06890d456d5b3295dc1b750e554912ef', 'message': 'Update README.rst information\n\n1) Add documentation url link.\n2) Add release notes url link.\n3) Add the project home url link.\n\nChange-Id: Ia0231aedeb9d850ddd3d8a36c8e1622a4963d2a1\n'}]",0,576415,4571724f06890d456d5b3295dc1b750e554912ef,8,3,1,17130,,,0,"Update README.rst information

1) Add documentation url link.
2) Add release notes url link.
3) Add the project home url link.

Change-Id: Ia0231aedeb9d850ddd3d8a36c8e1622a4963d2a1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zaqar refs/changes/15/576415/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,4571724f06890d456d5b3295dc1b750e554912ef,release-notes, Documentation for the project can be found at: https://docs.openstack.org/openstack-ansible-os_zaqar/latest/ Release notes for the project can be found at: https://docs.openstack.org/releasenotes/openstack-ansible-os_zaqar/ The project home is at: https://launchpad.net/openstack-ansible,,9,0
openstack%2Fopenstack-ansible-os_zaqar~master~I0c3f20032fc673a20088fb6a946c7af57d6a4841,openstack/openstack-ansible-os_zaqar,master,I0c3f20032fc673a20088fb6a946c7af57d6a4841,Enable overriding the service setup host python interpreter,MERGED,2018-11-30 16:59:10.000000000,2018-11-30 20:37:01.000000000,2018-11-30 20:37:01.000000000,"[{'_account_id': 1004}, {'_account_id': 13095}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-30 16:59:10.000000000', 'files': ['tasks/zaqar_service_setup.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zaqar/commit/673dcb63a3315d9d8f1a3be68a27964f54437cdd', 'message': ""Enable overriding the service setup host python interpreter\n\nIn order to enable the service setup host python interpreter to\nbe changed easily, we make it a variable. This will be useful\nwhen someone sets the service setup host to be the utility\ncontainer, because we'll be able to set this var by default.\n\nChange-Id: I0c3f20032fc673a20088fb6a946c7af57d6a4841\n""}]",0,621238,673dcb63a3315d9d8f1a3be68a27964f54437cdd,7,3,1,6816,,,0,"Enable overriding the service setup host python interpreter

In order to enable the service setup host python interpreter to
be changed easily, we make it a variable. This will be useful
when someone sets the service setup host to be the utility
container, because we'll be able to set this var by default.

Change-Id: I0c3f20032fc673a20088fb6a946c7af57d6a4841
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zaqar refs/changes/38/621238/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/zaqar_service_setup.yml', 'defaults/main.yml']",2,673dcb63a3315d9d8f1a3be68a27964f54437cdd,bp/python-build-simplification,"zaqar_service_setup_host_python_interpreter: ""{{ openstack_service_setup_host_python_interpreter | default((zaqar_service_setup_host == 'localhost') | ternary(ansible_playbook_python, ansible_python['executable'])) }}""",,2,2
openstack%2Fopenstack-ansible-os_zaqar~master~I2c4d1a6054717b23c0c69f07677dc11ce6404b4c,openstack/openstack-ansible-os_zaqar,master,I2c4d1a6054717b23c0c69f07677dc11ce6404b4c,Add bugs url link to README,MERGED,2018-08-31 09:35:48.000000000,2018-11-30 20:37:01.000000000,2018-11-30 20:37:01.000000000,"[{'_account_id': 1004}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-31 09:35:48.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zaqar/commit/33cef18b6a9f1a720e19312682775711414c1a63', 'message': 'Add bugs url link to README\n\nChange-Id: I2c4d1a6054717b23c0c69f07677dc11ce6404b4c\n'}]",0,598577,33cef18b6a9f1a720e19312682775711414c1a63,7,3,1,23317,,,0,"Add bugs url link to README

Change-Id: I2c4d1a6054717b23c0c69f07677dc11ce6404b4c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zaqar refs/changes/77/598577/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,33cef18b6a9f1a720e19312682775711414c1a63,fix,The bugs can be found at: https://bugs.launchpad.net/openstack-ansible ,,3,0
openstack%2Fopenstack-ansible-os_tacker~master~I49127f2fae136a0d0d9020c999bb6fddfdd28ff2,openstack/openstack-ansible-os_tacker,master,I49127f2fae136a0d0d9020c999bb6fddfdd28ff2,Add bugs url link to README,MERGED,2018-08-31 08:57:04.000000000,2018-11-30 20:37:00.000000000,2018-11-30 20:37:00.000000000,"[{'_account_id': 1004}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-31 08:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/3b64ca67434975d6734dcd16633f04e9634b0a18', 'message': 'Add bugs url link to README\n\nChange-Id: I49127f2fae136a0d0d9020c999bb6fddfdd28ff2\n'}, {'number': 2, 'created': '2018-09-27 03:09:54.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/81c647f0e01a4f50e0dee0f3c48938a28f418097', 'message': 'Add bugs url link to README\n\nChange-Id: I49127f2fae136a0d0d9020c999bb6fddfdd28ff2\n'}]",0,598563,81c647f0e01a4f50e0dee0f3c48938a28f418097,9,3,2,23317,,,0,"Add bugs url link to README

Change-Id: I49127f2fae136a0d0d9020c999bb6fddfdd28ff2
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tacker refs/changes/63/598563/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,3b64ca67434975d6734dcd16633f04e9634b0a18,fix, The bugs can be found at: https://bugs.launchpad.net/openstack-ansible,,3,0
openstack%2Fopenstack-ansible-os_gnocchi~stable%2Frocky~I0c1f16d6994844a60aa033963dc745f5fde8cce8,openstack/openstack-ansible-os_gnocchi,stable/rocky,I0c1f16d6994844a60aa033963dc745f5fde8cce8,Replace Chinese punctuation with English punctuation,MERGED,2018-10-19 03:10:29.000000000,2018-11-30 20:32:13.000000000,2018-11-30 20:32:13.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-19 03:10:29.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/b1109b8c6ec5865bba39fd62f9ec66193fa5365c', 'message': 'Replace Chinese punctuation with English punctuation\n\nCurly quotes(Chinese punctuation) usually input from Chinese input\nmethod. When read from english context, it makes some confusion.\n\nChange-Id: I0c1f16d6994844a60aa033963dc745f5fde8cce8\nCloses-Bug: #1792131\n(cherry picked from commit 93db3603c24967608af69421cecb15afeaddde72)\n'}]",0,611754,b1109b8c6ec5865bba39fd62f9ec66193fa5365c,6,2,1,28614,,,0,"Replace Chinese punctuation with English punctuation

Curly quotes(Chinese punctuation) usually input from Chinese input
method. When read from english context, it makes some confusion.

Change-Id: I0c1f16d6994844a60aa033963dc745f5fde8cce8
Closes-Bug: #1792131
(cherry picked from commit 93db3603c24967608af69421cecb15afeaddde72)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/54/611754/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,b1109b8c6ec5865bba39fd62f9ec66193fa5365c,," * If the issue is a bug that needs fixing in a branch other than Master, add the 'backport potential' tag TO THE ISSUE (not the PR)."," * If the issue is a bug that needs fixing in a branch other than Master, add the ‘backport potential’ tag TO THE ISSUE (not the PR).",1,1
openstack%2Fopenstack-ansible-plugins~master~Icce2057e530cbd226800966f4bfbc53dfbfecc9d,openstack/openstack-ansible-plugins,master,Icce2057e530cbd226800966f4bfbc53dfbfecc9d,Update README.rst information,MERGED,2018-06-19 08:20:51.000000000,2018-11-30 20:32:13.000000000,2018-11-30 20:32:12.000000000,"[{'_account_id': 1004}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-19 08:20:51.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/6be05f961ee8caedd01ce015d84517f3c4a1b378', 'message': 'Update README.rst information\n\n1) Add documentation url link.\n2) Add release notes url link.\n3) Add the project home url link.\n\nChange-Id: Icce2057e530cbd226800966f4bfbc53dfbfecc9d\n'}]",0,576420,6be05f961ee8caedd01ce015d84517f3c4a1b378,8,3,1,17130,,,0,"Update README.rst information

1) Add documentation url link.
2) Add release notes url link.
3) Add the project home url link.

Change-Id: Icce2057e530cbd226800966f4bfbc53dfbfecc9d
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/20/576420/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,6be05f961ee8caedd01ce015d84517f3c4a1b378,readme, Documentation for the project can be found at: https://docs.openstack.org/openstack-ansible-plugins/latest/ Release notes for the project can be found at: https://docs.openstack.org/releasenotes/openstack-ansible-plugins/ The project home is at: https://launchpad.net/openstack-ansible,,9,0
openstack%2Fopenstack-ansible-plugins~stable%2Frocky~I8498110ef09f7d85185c61ba5eebe542368f502b,openstack/openstack-ansible-plugins,stable/rocky,I8498110ef09f7d85185c61ba5eebe542368f502b,Replace Chinese punctuation with English punctuation,MERGED,2018-10-19 03:10:58.000000000,2018-11-30 20:32:12.000000000,2018-11-30 20:32:12.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-19 03:10:58.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/3fa2c87781442ba4004a5ec313454fc486e1ae61', 'message': 'Replace Chinese punctuation with English punctuation\n\nCurly quotes(Chinese punctuation) usually input from Chinese input\nmethod. When read from english context, it makes some confusion.\n\nChange-Id: I8498110ef09f7d85185c61ba5eebe542368f502b\nCloses-Bug: #1792131\n(cherry picked from commit bd64a778e80fe82d6b40204b30f5c58b2a5a3b6a)\n'}]",0,611759,3fa2c87781442ba4004a5ec313454fc486e1ae61,6,2,1,28614,,,0,"Replace Chinese punctuation with English punctuation

Curly quotes(Chinese punctuation) usually input from Chinese input
method. When read from english context, it makes some confusion.

Change-Id: I8498110ef09f7d85185c61ba5eebe542368f502b
Closes-Bug: #1792131
(cherry picked from commit bd64a778e80fe82d6b40204b30f5c58b2a5a3b6a)
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/59/611759/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,3fa2c87781442ba4004a5ec313454fc486e1ae61,, add the 'backport potential' tag TO THE ISSUE (not the PR)., add the ‘backport potential’ tag TO THE ISSUE (not the PR).,1,1
openstack%2Fpuppet-pacemaker~master~I5d3353d221bd33cbb0f9393c10721f9d057f2c8b,openstack/puppet-pacemaker,master,I5d3353d221bd33cbb0f9393c10721f9d057f2c8b,Match node properties more strictly,MERGED,2018-11-29 11:55:51.000000000,2018-11-30 20:32:11.000000000,2018-11-30 20:32:11.000000000,"[{'_account_id': 3153}, {'_account_id': 8297}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-11-29 11:55:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/5c4501cae23ebb7667907a3bb625e3c12c31ffcc', 'message': 'Match node properties more strictly\n\nWe currently do the following in order to detect if a property\nis already set with the correct values:\n\n  cmd = ""property show | grep #{property}""\n  if not_empty_string(node)\n    cmd += "" | grep #{node}""\n  end\n  if not_empty_string(value)\n    cmd += "" | grep #{value}""\n  end\n  cmd += "" > /dev/null 2>&1""\n  ret = pcs(\'show\', @resource[:property], cmd, @resource[:tries], @resource[:try_sleep])\n  Puppet.debug(""property exists: #{cmd} -> #{ret}"")\n  return ret == false ? false : true\n\nThe problem above is that the above will match in the presence of the following\nlines:\ncontroller-1: cinder-volume-role=true galera-role=true haproxy-role=true rabbitmq-role=true redis-role=true rmq-node-attr-last-known-rabbitmq=rabbit@controller-1\ncontroller-11: cinder-volume-role=true galera-role=true haproxy-role=true rabbitmq-role=true redis-role=true rmq-node-attr-last-known-rabbitmq=rabbit@controller-1\n\nLet\'s make sure the grep for the node includes the terminating \':\' so as to match\nthe exact node-name and not trip up on a subset. Let\'s also make sure\nthat the match is exactly on the key=value match since there can be many\nproperties on a single line.\n\nChange-Id: I5d3353d221bd33cbb0f9393c10721f9d057f2c8b\nCloses-Bug: #1805786\n'}, {'number': 2, 'created': '2018-11-29 11:57:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/ecc07935faca673fb7aef3de74208fd8c776997c', 'message': 'Match node properties more strictly\n\nWe currently do the following in order to detect if a property\nis already set with the correct values:\n\n  cmd = ""property show | grep #{property}""\n  if not_empty_string(node)\n    cmd += "" | grep #{node}""\n  end\n  if not_empty_string(value)\n    cmd += "" | grep #{value}""\n  end\n  cmd += "" > /dev/null 2>&1""\n  ret = pcs(\'show\', @resource[:property], cmd, @resource[:tries], @resource[:try_sleep])\n  Puppet.debug(""property exists: #{cmd} -> #{ret}"")\n  return ret == false ? false : true\n\nThe problem above is that the above will match in the presence of the following\nlines:\ncontroller-1: cinder-volume-role=true galera-role=true haproxy-role=true rabbitmq-role=true redis-role=true rmq-node-attr-last-known-rabbitmq=rabbit@controller-1\ncontroller-11: cinder-volume-role=true galera-role=true haproxy-role=true rabbitmq-role=true redis-role=true rmq-node-attr-last-known-rabbitmq=rabbit@controller-1\n\nLet\'s make sure the grep for the node includes the terminating \':\' so as to match\nthe exact node-name and not trip up on a subset. Let\'s also make sure\nthat the match is exactly on the key=value match since there can be many\nproperties on a single line.\n\nTested by deploying an overcloud successfully, changing a property and\nthen redeploying to verify that the property has been set back to the\ncorrect value.\n\nChange-Id: I5d3353d221bd33cbb0f9393c10721f9d057f2c8b\nCloses-Bug: #1805786\n'}, {'number': 3, 'created': '2018-11-30 15:25:04.000000000', 'files': ['lib/puppet/provider/pcmk_property/default.rb'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/6632d50f540628bef588dfc57ee9b9c143bfc24d', 'message': 'Match node properties more strictly\n\nWe currently do the following in order to detect if a property\nis already set with the correct values:\n\n  cmd = ""property show | grep #{property}""\n  if not_empty_string(node)\n    cmd += "" | grep #{node}""\n  end\n  if not_empty_string(value)\n    cmd += "" | grep #{value}""\n  end\n  cmd += "" > /dev/null 2>&1""\n  ret = pcs(\'show\', @resource[:property], cmd, @resource[:tries], @resource[:try_sleep])\n  Puppet.debug(""property exists: #{cmd} -> #{ret}"")\n  return ret == false ? false : true\n\nThe problem above is that the above will match in the presence of the following\nlines:\ncontroller-1: cinder-volume-role=true galera-role=true haproxy-role=true rabbitmq-role=true redis-role=true rmq-node-attr-last-known-rabbitmq=rabbit@controller-1\ncontroller-11: cinder-volume-role=true galera-role=true haproxy-role=true rabbitmq-role=true redis-role=true rmq-node-attr-last-known-rabbitmq=rabbit@controller-1\n\nLet\'s make sure the grep for the node includes the terminating \':\' so as to match\nthe exact node-name and not trip up on a subset. Let\'s also make sure\nthat the match is exactly on the key=value match since there can be many\nproperties on a single line.\n\nTested by deploying an overcloud successfully, changing a property and\nthen redeploying to verify that the property has been set back to the\ncorrect value.\n\nChange-Id: I5d3353d221bd33cbb0f9393c10721f9d057f2c8b\nCloses-Bug: #1805786\n'}]",0,620892,6632d50f540628bef588dfc57ee9b9c143bfc24d,11,4,3,20172,,,0,"Match node properties more strictly

We currently do the following in order to detect if a property
is already set with the correct values:

  cmd = ""property show | grep #{property}""
  if not_empty_string(node)
    cmd += "" | grep #{node}""
  end
  if not_empty_string(value)
    cmd += "" | grep #{value}""
  end
  cmd += "" > /dev/null 2>&1""
  ret = pcs('show', @resource[:property], cmd, @resource[:tries], @resource[:try_sleep])
  Puppet.debug(""property exists: #{cmd} -> #{ret}"")
  return ret == false ? false : true

The problem above is that the above will match in the presence of the following
lines:
controller-1: cinder-volume-role=true galera-role=true haproxy-role=true rabbitmq-role=true redis-role=true rmq-node-attr-last-known-rabbitmq=rabbit@controller-1
controller-11: cinder-volume-role=true galera-role=true haproxy-role=true rabbitmq-role=true redis-role=true rmq-node-attr-last-known-rabbitmq=rabbit@controller-1

Let's make sure the grep for the node includes the terminating ':' so as to match
the exact node-name and not trip up on a subset. Let's also make sure
that the match is exactly on the key=value match since there can be many
properties on a single line.

Tested by deploying an overcloud successfully, changing a property and
then redeploying to verify that the property has been set back to the
correct value.

Change-Id: I5d3353d221bd33cbb0f9393c10721f9d057f2c8b
Closes-Bug: #1805786
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/92/620892/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/provider/pcmk_property/default.rb'],1,5c4501cae23ebb7667907a3bb625e3c12c31ffcc,bug/1805786," cmd = ""property show"" # We need to distinguish between per node properties and global ones as the output is # different: # Cluster Properties: # cluster-infrastructure: corosync # cluster-name: tripleo_cluster # dc-version: 1.1.19-8.el7-c3c624ea3d # have-watchdog: false # maintenance-mode: false # redis_REPL_INFO: controller-0 # stonith-enabled: false # Node Attributes: # controller-0: cinder-volume-role=true galera-role=true haproxy-role=true rabbitmq-role=true redis-role=true rmq-node-attr-last-known-rabbitmq=rabbit@controller-0 # controller-1: cinder-volume-role=true galera-role=true haproxy-role=true rabbitmq-role=true redis-role=true rmq-node-attr-last-known-rabbitmq=rabbit@controller-1 # controller-2: cinder-volume-role=true galera-role=true haproxy-role=true rabbitmq-role=true redis-role=true rmq-node-attr-last-known-rabbitmq=rabbit@controller-2 cmd += "" | grep -e '#{node}:.*#{property}=#{value}'"" else cmd += "" | grep -e '#{property}:.*#{value}'"""," cmd = ""property show | grep #{property}"" cmd += "" | grep #{node}"" end if not_empty_string(value) cmd += "" | grep #{value}""",18,5
openstack%2Fopenstack-ansible-os_ceilometer~master~If0bca62b5b279b3bada890cfeb5f8091e5226475,openstack/openstack-ansible-os_ceilometer,master,If0bca62b5b279b3bada890cfeb5f8091e5226475,Add bugs url link to README,MERGED,2018-08-31 08:51:00.000000000,2018-11-30 20:28:55.000000000,2018-11-30 20:28:55.000000000,"[{'_account_id': 1004}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-31 08:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/0d794d22f36be2b61de3bcde53470202590158f1', 'message': 'Add bugs url link to README\n\nChange-Id: If0bca62b5b279b3bada890cfeb5f8091e5226475\n'}, {'number': 2, 'created': '2018-09-27 03:09:18.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/4eb33bdc4ba3027dcd9384fea592dd14e61b1f0d', 'message': 'Add bugs url link to README\n\nChange-Id: If0bca62b5b279b3bada890cfeb5f8091e5226475\n'}]",0,598561,4eb33bdc4ba3027dcd9384fea592dd14e61b1f0d,9,3,2,23317,,,0,"Add bugs url link to README

Change-Id: If0bca62b5b279b3bada890cfeb5f8091e5226475
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/61/598561/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,0d794d22f36be2b61de3bcde53470202590158f1,fix, The bugs can be found at: https://bugs.launchpad.net/openstack-ansible,,3,0
openstack%2Fopenstack-ansible-os_gnocchi~master~I375d650a06b272cee8b79e4cfbb60e981ee43fec,openstack/openstack-ansible-os_gnocchi,master,I375d650a06b272cee8b79e4cfbb60e981ee43fec,Add bugs url link to README,MERGED,2018-08-31 09:38:32.000000000,2018-11-30 20:28:53.000000000,2018-11-30 20:28:53.000000000,"[{'_account_id': 1004}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-31 09:38:32.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/03182b8c56dfd45d0c2080c0a75815287a8dee1b', 'message': 'Add bugs url link to README\n\nChange-Id: I375d650a06b272cee8b79e4cfbb60e981ee43fec\n'}]",0,598579,03182b8c56dfd45d0c2080c0a75815287a8dee1b,7,3,1,23317,,,0,"Add bugs url link to README

Change-Id: I375d650a06b272cee8b79e4cfbb60e981ee43fec
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/79/598579/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,03182b8c56dfd45d0c2080c0a75815287a8dee1b,fix, The bugs can be found at: https://bugs.launchpad.net/openstack-ansible,,3,0
openstack%2Fopenstack-ansible-lxc_hosts~master~If729d814b6e36819bf0ac5460e9f95d9002023c8,openstack/openstack-ansible-lxc_hosts,master,If729d814b6e36819bf0ac5460e9f95d9002023c8,Add bugs url link to README,MERGED,2018-08-31 09:51:33.000000000,2018-11-30 20:28:52.000000000,2018-11-30 20:28:52.000000000,"[{'_account_id': 1004}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-31 09:51:33.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/9856c272e5cff97dff20145955ae562b62446e4b', 'message': 'Add bugs url link to README\n\nChange-Id: If729d814b6e36819bf0ac5460e9f95d9002023c8\n'}]",0,598582,9856c272e5cff97dff20145955ae562b62446e4b,7,3,1,23317,,,0,"Add bugs url link to README

Change-Id: If729d814b6e36819bf0ac5460e9f95d9002023c8
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/82/598582/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,9856c272e5cff97dff20145955ae562b62446e4b,fix, The bugs can be found at: https://bugs.launchpad.net/openstack-ansible,,3,0
openstack%2Fopenstack-ansible-galera_client~stable%2Frocky~I4242b9379ca48a7ef82e8dbd165d9192c28d7dcd,openstack/openstack-ansible-galera_client,stable/rocky,I4242b9379ca48a7ef82e8dbd165d9192c28d7dcd,Replace Chinese punctuation with English punctuation,MERGED,2018-10-19 03:10:36.000000000,2018-11-30 20:28:51.000000000,2018-11-30 20:28:51.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-19 03:10:36.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_client/commit/6dbac51e5b74ffdee429375f6c22739e7a5ef017', 'message': 'Replace Chinese punctuation with English punctuation\n\nCurly quotes(Chinese punctuation) usually input from Chinese input\nmethod. When read from english context, it makes some confusion.\n\nChange-Id: I4242b9379ca48a7ef82e8dbd165d9192c28d7dcd\nCloses-Bug: #1792131\n(cherry picked from commit c2e7e08a24f1b6ce6cf47fe82cd1266230e2b171)\n'}]",0,611755,6dbac51e5b74ffdee429375f6c22739e7a5ef017,6,2,1,28614,,,0,"Replace Chinese punctuation with English punctuation

Curly quotes(Chinese punctuation) usually input from Chinese input
method. When read from english context, it makes some confusion.

Change-Id: I4242b9379ca48a7ef82e8dbd165d9192c28d7dcd
Closes-Bug: #1792131
(cherry picked from commit c2e7e08a24f1b6ce6cf47fe82cd1266230e2b171)
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_client refs/changes/55/611755/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,6dbac51e5b74ffdee429375f6c22739e7a5ef017,, add the 'backport potential' tag TO THE ISSUE (not the PR)., add the ‘backport potential’ tag TO THE ISSUE (not the PR).,1,1
openstack%2Fopenstack-ansible-os_horizon~stable%2Frocky~I6eb6575e3460fa581e771444f9281b4bab95c98b,openstack/openstack-ansible-os_horizon,stable/rocky,I6eb6575e3460fa581e771444f9281b4bab95c98b,Replace Chinese punctuation with English punctuation,MERGED,2018-10-19 03:10:43.000000000,2018-11-30 20:28:50.000000000,2018-11-30 20:28:50.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-19 03:10:43.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/4d5311ef6f9714c0801b1e37a18c1b31df8b2ead', 'message': 'Replace Chinese punctuation with English punctuation\n\nCurly quotes(Chinese punctuation) usually input from Chinese input\nmethod. When read from english context, it makes some confusion.\n\nChange-Id: I6eb6575e3460fa581e771444f9281b4bab95c98b\nCloses-Bug: #1792131\n(cherry picked from commit 500057a4f1e0f68fde16b94bfd3435488c8662e8)\n'}]",0,611756,4d5311ef6f9714c0801b1e37a18c1b31df8b2ead,6,2,1,28614,,,0,"Replace Chinese punctuation with English punctuation

Curly quotes(Chinese punctuation) usually input from Chinese input
method. When read from english context, it makes some confusion.

Change-Id: I6eb6575e3460fa581e771444f9281b4bab95c98b
Closes-Bug: #1792131
(cherry picked from commit 500057a4f1e0f68fde16b94bfd3435488c8662e8)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/56/611756/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,4d5311ef6f9714c0801b1e37a18c1b31df8b2ead,," * If the issue is a bug that needs fixing in a branch other than Master, add the 'backport potential' tag TO THE ISSUE (not the PR)."," * If the issue is a bug that needs fixing in a branch other than Master, add the ‘backport potential’ tag TO THE ISSUE (not the PR).",1,1
openstack%2Fopenstack-ansible-os_horizon~master~I6e5bfacff9ef13dd254c74c2510d392a7b8aaf0e,openstack/openstack-ansible-os_horizon,master,I6e5bfacff9ef13dd254c74c2510d392a7b8aaf0e,Add bugs url link to README,MERGED,2018-08-31 10:02:26.000000000,2018-11-30 20:28:49.000000000,2018-11-30 20:28:49.000000000,"[{'_account_id': 1004}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2018-08-31 10:02:26.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/a3646383e702d602670257dc924a024a96917461', 'message': 'Add bugs url link to README\n\nChange-Id: I6e5bfacff9ef13dd254c74c2510d392a7b8aaf0e\n'}]",0,598586,a3646383e702d602670257dc924a024a96917461,8,4,1,23317,,,0,"Add bugs url link to README

Change-Id: I6e5bfacff9ef13dd254c74c2510d392a7b8aaf0e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/86/598586/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,a3646383e702d602670257dc924a024a96917461,fix, The bugs can be found at: https://bugs.launchpad.net/openstack-ansible,,3,0
openstack%2Fopenstack-ansible-os_sahara~master~I8538feddbf5f6e2cfc065f0f1303f9b65247c22c,openstack/openstack-ansible-os_sahara,master,I8538feddbf5f6e2cfc065f0f1303f9b65247c22c,Add bugs url link to README,MERGED,2018-08-31 08:38:22.000000000,2018-11-30 20:27:10.000000000,2018-11-30 20:27:10.000000000,"[{'_account_id': 1004}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-31 08:38:22.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/4045ff337611a9fb3df008beaf7dcc33dd0734a9', 'message': 'Add bugs url link to README\n\nChange-Id: I8538feddbf5f6e2cfc065f0f1303f9b65247c22c\n'}]",0,598546,4045ff337611a9fb3df008beaf7dcc33dd0734a9,7,3,1,23317,,,0,"Add bugs url link to README

Change-Id: I8538feddbf5f6e2cfc065f0f1303f9b65247c22c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_sahara refs/changes/46/598546/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,4045ff337611a9fb3df008beaf7dcc33dd0734a9,fix, The bugs is at: https://bugs.launchpad.net/openstack-ansible,,3,0
openstack%2Fopenstack-ansible-os_cloudkitty~master~If9a58fa8c5a55c1ece627d225324fecee4c26699,openstack/openstack-ansible-os_cloudkitty,master,If9a58fa8c5a55c1ece627d225324fecee4c26699,Add bugs url link to README,MERGED,2018-08-31 09:00:46.000000000,2018-11-30 20:27:09.000000000,2018-11-30 20:27:09.000000000,"[{'_account_id': 1004}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-31 09:00:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/de24ecc4048ab09376e89e46f67c213aaa2bd333', 'message': 'Add bugs url link to README\n\nChange-Id: If9a58fa8c5a55c1ece627d225324fecee4c26699\n'}, {'number': 2, 'created': '2018-09-27 03:10:21.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/733f3d6a9abf53974c47eba1cc4c3257e7224cfd', 'message': 'Add bugs url link to README\n\nChange-Id: If9a58fa8c5a55c1ece627d225324fecee4c26699\n'}]",0,598564,733f3d6a9abf53974c47eba1cc4c3257e7224cfd,9,3,2,23317,,,0,"Add bugs url link to README

Change-Id: If9a58fa8c5a55c1ece627d225324fecee4c26699
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cloudkitty refs/changes/64/598564/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,de24ecc4048ab09376e89e46f67c213aaa2bd333,fix, The bugs can be found at: https://bugs.launchpad.net/openstack-ansible,,3,0
openstack%2Fopenstack-ansible-os_searchlight~master~I7599a2630c8f290d1f70ebb79704edda81a755e1,openstack/openstack-ansible-os_searchlight,master,I7599a2630c8f290d1f70ebb79704edda81a755e1,Add bugs url link to README,MERGED,2018-08-31 09:33:16.000000000,2018-11-30 20:27:08.000000000,2018-11-30 20:27:08.000000000,"[{'_account_id': 1004}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-31 09:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_searchlight/commit/4c30e012a4182d750d8d6e846aa63f03702e96d4', 'message': 'Add bugs url link to README\n\nChange-Id: I7599a2630c8f290d1f70ebb79704edda81a755e1\n'}, {'number': 2, 'created': '2018-09-27 03:12:39.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_searchlight/commit/dbf313b8b43d29d5a37bb3ee9ca8f23f0a1b6d57', 'message': 'Add bugs url link to README\n\nChange-Id: I7599a2630c8f290d1f70ebb79704edda81a755e1\n'}]",0,598576,dbf313b8b43d29d5a37bb3ee9ca8f23f0a1b6d57,9,3,2,23317,,,0,"Add bugs url link to README

Change-Id: I7599a2630c8f290d1f70ebb79704edda81a755e1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_searchlight refs/changes/76/598576/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,4c30e012a4182d750d8d6e846aa63f03702e96d4,fix,The bugs can be found at: https://bugs.launchpad.net/openstack-ansible,,2,0
openstack%2Fopenstack-ansible-os_swift~master~I869e70b67bf566d7f9296aec8f3def968b64bbe6,openstack/openstack-ansible-os_swift,master,I869e70b67bf566d7f9296aec8f3def968b64bbe6,Add bugs url link to README,MERGED,2018-08-31 08:45:01.000000000,2018-11-30 20:27:08.000000000,2018-11-30 20:27:08.000000000,"[{'_account_id': 1004}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-31 08:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/a2e3456e9facc19ab0cb639918adf406ff88a9fc', 'message': 'Add bugs url link to README\n\nChange-Id: I869e70b67bf566d7f9296aec8f3def968b64bbe6\n'}, {'number': 2, 'created': '2018-08-31 08:46:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/15ee5b4a8ef0e0debe277b95ed59229cb0f59c47', 'message': 'Add bugs url link to README\n\nChange-Id: I869e70b67bf566d7f9296aec8f3def968b64bbe6\n'}, {'number': 3, 'created': '2018-09-27 03:08:40.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/a2a470e1505371575de54b9de4a1cb0a0bf2dcdd', 'message': 'Add bugs url link to README\n\nChange-Id: I869e70b67bf566d7f9296aec8f3def968b64bbe6\n'}]",0,598558,a2a470e1505371575de54b9de4a1cb0a0bf2dcdd,10,3,3,23317,,,0,"Add bugs url link to README

Change-Id: I869e70b67bf566d7f9296aec8f3def968b64bbe6
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/58/598558/3 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,a2e3456e9facc19ab0cb639918adf406ff88a9fc,fix, The bugs can be found at: https://bugs.launchpad.net/openstack-ansible,,3,0
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Frocky~I8ff1e033546012397e2fa6a42953befec6dd8792,openstack/openstack-ansible-lxc_hosts,stable/rocky,I8ff1e033546012397e2fa6a42953befec6dd8792,Add bionic jobs to all container backends,MERGED,2018-10-10 08:23:00.000000000,2018-11-30 20:27:07.000000000,2018-11-30 20:27:07.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-10 08:23:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/a176e65f7c22909bb11cfc22788508988993fbaa', 'message': 'Add bionic jobs to all container backends\n\nChange-Id: I8ff1e033546012397e2fa6a42953befec6dd8792\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2018-10-10 09:01:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/b8f6ab09ace916366c4a39f68024c5af947e254e', 'message': 'Add bionic jobs to all container backends\n\nChange-Id: I8ff1e033546012397e2fa6a42953befec6dd8792\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 3, 'created': '2018-10-10 19:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/cc130893ece76156a6c8bea9023c1c02f1c61098', 'message': 'Add bionic jobs to all container backends\n\nChange-Id: I8ff1e033546012397e2fa6a42953befec6dd8792\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 4, 'created': '2018-10-25 08:11:44.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/03c4ca9352df85e68056006459c37f0b02fc68be', 'message': 'Add bionic jobs to all container backends\n\nChange-Id: I8ff1e033546012397e2fa6a42953befec6dd8792\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,609319,03c4ca9352df85e68056006459c37f0b02fc68be,23,5,4,6816,,,0,"Add bionic jobs to all container backends

Change-Id: I8ff1e033546012397e2fa6a42953befec6dd8792
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/19/609319/4 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,a176e65f7c22909bb11cfc22788508988993fbaa,lxc3-stable/rocky, name: openstack-ansible-lxc-dir-ubuntu-bionic parent: openstack-ansible-lxc-container-create nodeset: ubuntu-bionic vars: tox_env: dir - job: name: openstack-ansible-lxc-btrfs-ubuntu-bionic parent: openstack-ansible-lxc-container-create nodeset: ubuntu-bionic vars: tox_env: btrfs - job: name: openstack-ansible-lxc-machinectl-ubuntu-bionic parent: openstack-ansible-lxc-container-create nodeset: ubuntu-bionic vars: tox_env: mnctl - job: name: openstack-ansible-lxc-overlayfs-ubuntu-bionic parent: openstack-ansible-lxc-container-create nodeset: ubuntu-bionic vars: tox_env: ofs - job: - job: name: openstack-ansible-lxc-zfs-ubuntu-bionic parent: openstack-ansible-lxc-container-create nodeset: ubuntu-bionic vars: tox_env: zfs ,,41,0
openstack%2Fopenstack-ansible-os_designate~master~I71835997fbd9bca4461080ed078688d09a922a1e,openstack/openstack-ansible-os_designate,master,I71835997fbd9bca4461080ed078688d09a922a1e,Add bugs url link to README,MERGED,2018-08-31 09:30:44.000000000,2018-11-30 20:24:23.000000000,2018-11-30 20:24:23.000000000,"[{'_account_id': 1004}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-31 09:30:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/31e76cb7245d0b6734336d800db7745b967dae79', 'message': 'Add bugs url link to README\n\nChange-Id: I71835997fbd9bca4461080ed078688d09a922a1e\n'}, {'number': 2, 'created': '2018-09-27 03:12:14.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/0959d620d0cbbe848389b5a6e4b83d2dd1714f83', 'message': 'Add bugs url link to README\n\nChange-Id: I71835997fbd9bca4461080ed078688d09a922a1e\n'}]",0,598575,0959d620d0cbbe848389b5a6e4b83d2dd1714f83,9,3,2,23317,,,0,"Add bugs url link to README

Change-Id: I71835997fbd9bca4461080ed078688d09a922a1e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/75/598575/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,31e76cb7245d0b6734336d800db7745b967dae79,add, The bugs can be found at: https://bugs.launchpad.net/openstack-ansible,,3,0
openstack%2Fopenstack-ansible-rsyslog_server~master~I55900a348452ebdcfc8dd40bb40a5a5aaeece994,openstack/openstack-ansible-rsyslog_server,master,I55900a348452ebdcfc8dd40bb40a5a5aaeece994,fix tox python3 overrides,MERGED,2018-09-30 02:48:48.000000000,2018-11-30 20:22:22.000000000,2018-11-30 20:22:22.000000000,"[{'_account_id': 1004}, {'_account_id': 17068}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2018-09-30 02:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_server/commit/44e5d2e853ff56b9a04406ea7c359d5dd98d90af', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I55900a348452ebdcfc8dd40bb40a5a5aaeece994\n'}, {'number': 2, 'created': '2018-09-30 11:50:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_server/commit/be2c45f6d21c7cf5906299feeafbe415376578f8', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I55900a348452ebdcfc8dd40bb40a5a5aaeece994\n'}, {'number': 3, 'created': '2018-11-08 13:45:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_server/commit/74ddb2a9f2fa525353880b29e3770803bf0cdaf1', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I55900a348452ebdcfc8dd40bb40a5a5aaeece994\nCloses-Bug:  #1801657\n'}, {'number': 4, 'created': '2018-11-26 07:26:16.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_server/commit/289b30d46d5d2fa1dba1423a3c6aada527611690', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I55900a348452ebdcfc8dd40bb40a5a5aaeece994\nCloses-Bug:  #1801657\n'}]",0,606759,289b30d46d5d2fa1dba1423a3c6aada527611690,17,6,4,26297,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I55900a348452ebdcfc8dd40bb40a5a5aaeece994
Closes-Bug:  #1801657
",git fetch https://review.opendev.org/openstack/openstack-ansible-rsyslog_server refs/changes/59/606759/4 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,44e5d2e853ff56b9a04406ea7c359d5dd98d90af,bug/1801657,basepython = python3basepython = python3basepython = python3basepython = python3,,4,0
openstack%2Fproject-config~master~Id86a8bc8aee9cf47822bab0da0a96b09e0258b6c,openstack/project-config,master,Id86a8bc8aee9cf47822bab0da0a96b09e0258b6c,Add promstat project to Zuul,MERGED,2018-11-30 16:37:00.000000000,2018-11-30 20:21:38.000000000,2018-11-30 20:21:38.000000000,"[{'_account_id': 1}, {'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-30 16:37:00.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/6b24149547b83dee2d4c9f498737b086d610e5fc', 'message': 'Add promstat project to Zuul\n\nChange-Id: Id86a8bc8aee9cf47822bab0da0a96b09e0258b6c\n'}]",0,621226,6b24149547b83dee2d4c9f498737b086d610e5fc,7,3,1,2,,,0,"Add promstat project to Zuul

Change-Id: Id86a8bc8aee9cf47822bab0da0a96b09e0258b6c
",git fetch https://review.opendev.org/openstack/project-config refs/changes/26/621226/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,6b24149547b83dee2d4c9f498737b086d610e5fc,, - openstack/promstat,,1,0
openstack%2Fproject-config~master~I8c4145c00d580f94ee19b5321047cf2ef0a1760f,openstack/project-config,master,I8c4145c00d580f94ee19b5321047cf2ef0a1760f,Create promstat project,MERGED,2018-11-30 16:37:00.000000000,2018-11-30 20:21:36.000000000,2018-11-30 20:21:36.000000000,"[{'_account_id': 1}, {'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-30 16:37:00.000000000', 'files': ['gerrit/acls/openstack/promstat.config', 'gerritbot/channels.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/e39d2e850de8798c93bf75602b130043eea91f87', 'message': 'Create promstat project\n\npromstat is (or will be) an abstraction library allowing reporting of\nstats to both statsd and prometheus.\n\nChange-Id: I8c4145c00d580f94ee19b5321047cf2ef0a1760f\n'}]",0,621225,e39d2e850de8798c93bf75602b130043eea91f87,8,3,1,2,,,0,"Create promstat project

promstat is (or will be) an abstraction library allowing reporting of
stats to both statsd and prometheus.

Change-Id: I8c4145c00d580f94ee19b5321047cf2ef0a1760f
",git fetch https://review.opendev.org/openstack/project-config refs/changes/25/621225/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/promstat.config', 'gerritbot/channels.yaml', 'gerrit/projects.yaml']",3,e39d2e850de8798c93bf75602b130043eea91f87,,- project: openstack/promstat description: Report stats to both statsd and prometheus,,16,0
openstack%2Fopenstack-ansible-os_ironic~master~Ibf18b880a48063155044854a226810e4315abda8,openstack/openstack-ansible-os_ironic,master,Ibf18b880a48063155044854a226810e4315abda8,Update the HTTP links to HTTPS in project.yaml.,MERGED,2018-11-13 16:45:24.000000000,2018-11-30 20:21:09.000000000,2018-11-30 20:21:09.000000000,"[{'_account_id': 1004}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-13 16:45:24.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/c3eca3c2afba5ca987e541745fb3d3c8a82f1128', 'message': 'Update the HTTP links to HTTPS in project.yaml.\n\nChange-Id: Ibf18b880a48063155044854a226810e4315abda8\n'}]",0,617738,c3eca3c2afba5ca987e541745fb3d3c8a82f1128,7,3,1,29423,,,0,"Update the HTTP links to HTTPS in project.yaml.

Change-Id: Ibf18b880a48063155044854a226810e4315abda8
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/38/617738/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,c3eca3c2afba5ca987e541745fb3d3c8a82f1128,,.. _role-ironic spec: https://specs.openstack.org/openstack/openstack-ansible-specs/specs/mitaka/role-ironic.html,.. _role-ironic spec: http://specs.openstack.org/openstack/openstack-ansible-specs/specs/mitaka/role-ironic.html,1,1
openstack%2Fopenstack-ansible-os_neutron~master~I6faa9c27ab6c4b131aa25af081177376b216ecda,openstack/openstack-ansible-os_neutron,master,I6faa9c27ab6c4b131aa25af081177376b216ecda,1.modify the http link to https link 2. fix the Chinese punctuation,MERGED,2018-11-23 09:46:37.000000000,2018-11-30 20:14:15.000000000,2018-11-30 20:14:15.000000000,"[{'_account_id': 1004}, {'_account_id': 21883}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-23 09:46:37.000000000', 'files': ['doc/source/app-opendaylight.rst', 'doc/source/app-nuage.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/a7b47e1cf0da074609d6b1a2efddb4cc0c651dc9', 'message': '1.modify the http link to https link\n2. fix the Chinese punctuation\n\nChange-Id: I6faa9c27ab6c4b131aa25af081177376b216ecda\n'}]",0,619688,a7b47e1cf0da074609d6b1a2efddb4cc0c651dc9,7,3,1,27507,,,0,"1.modify the http link to https link
2. fix the Chinese punctuation

Change-Id: I6faa9c27ab6c4b131aa25af081177376b216ecda
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/88/619688/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/app-opendaylight.rst', 'doc/source/app-nuage.rst']",2,a7b47e1cf0da074609d6b1a2efddb4cc0c651dc9,," the Nuage OpenStack Python packages in "".whl"" format:", the Nuage OpenStack Python packages in “.whl” format:,2,2
openstack%2Fopenstack-ansible-os_zun~master~I8d3c375fa4fe0d31fa85ff12ae266281a791b2ed,openstack/openstack-ansible-os_zun,master,I8d3c375fa4fe0d31fa85ff12ae266281a791b2ed,Fix usage link,MERGED,2018-11-12 01:23:26.000000000,2018-11-30 20:14:13.000000000,2018-11-30 20:14:13.000000000,"[{'_account_id': 1004}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-12 01:23:26.000000000', 'files': ['doc/source/app-powervm.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/5965040a6819e51294477514dfa7a2a90acc196b', 'message': 'Fix usage link\n\nChange-Id: I8d3c375fa4fe0d31fa85ff12ae266281a791b2ed\n'}]",0,617171,5965040a6819e51294477514dfa7a2a90acc196b,7,3,1,29423,,,0,"Fix usage link

Change-Id: I8d3c375fa4fe0d31fa85ff12ae266281a791b2ed
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/71/617171/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/app-powervm.rst'],1,5965040a6819e51294477514dfa7a2a90acc196b,,.. _usage: https://zun-powervm.readthedocs.io/en/latest/devref/usage.html,.. _usage: http://zun-powervm.readthedocs.io/en/latest/devref/usage.html,1,1
openstack%2Fswift~master~I61da04f6b8296943ec8282c1f8ddacdcaf5196fd,openstack/swift,master,I61da04f6b8296943ec8282c1f8ddacdcaf5196fd,"Only print ""SKIPPING FUNCTIONAL TESTS ..."" messages once",MERGED,2018-10-30 23:06:17.000000000,2018-11-30 20:12:29.000000000,2018-11-30 20:12:29.000000000,"[{'_account_id': 7233}, {'_account_id': 8871}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-30 23:06:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4baf1890b3ed8b6ff35bdaab72d7841b500911ec', 'message': 'Only print ""SKIPPING FUNCTIONAL TESTS ..."" messages once\n\nPreviously, these would get printed on every import of test.functional\n\nChange-Id: I61da04f6b8296943ec8282c1f8ddacdcaf5196fd\n'}, {'number': 2, 'created': '2018-11-30 01:39:31.000000000', 'files': ['test/functional/__init__.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/9017db4519501ed0863c8702e721ff6408ca4344', 'message': 'Only print ""SKIPPING FUNCTIONAL TESTS ..."" messages once\n\nPreviously, these would get printed on every import of test.functional\n\nChange-Id: I61da04f6b8296943ec8282c1f8ddacdcaf5196fd\n'}]",0,614368,9017db4519501ed0863c8702e721ff6408ca4344,13,4,2,15343,,,0,"Only print ""SKIPPING FUNCTIONAL TESTS ..."" messages once

Previously, these would get printed on every import of test.functional

Change-Id: I61da04f6b8296943ec8282c1f8ddacdcaf5196fd
",git fetch https://review.opendev.org/openstack/swift refs/changes/68/614368/2 && git format-patch -1 --stdout FETCH_HEAD,['test/functional/__init__.py'],1,4baf1890b3ed8b6ff35bdaab72d7841b500911ec,fix-multiple-account-tests," if not skip: skip = not all([swift_test_auth, swift_test_user[0], swift_test_key[0]]) if skip: print('SKIPPING FUNCTIONAL TESTS DUE TO NO CONFIG', file=sys.stderr) if not skip2: skip2 = not all([not skip, swift_test_user[1], swift_test_key[1]]) if not skip and skip2: print('SKIPPING SECOND ACCOUNT FUNCTIONAL TESTS ' 'DUE TO NO CONFIG FOR THEM', file=sys.stderr) if not skip3: skip3 = not all([not skip, swift_test_user[2], swift_test_key[2]]) if not skip and skip3: print('SKIPPING THIRD ACCOUNT FUNCTIONAL TESTS' 'DUE TO NO CONFIG FOR THEM', file=sys.stderr) if not skip_if_not_v3: skip_if_not_v3 = (swift_test_auth_version != '3' or not all([not skip, swift_test_user[3], swift_test_key[3]])) if not skip and skip_if_not_v3: print('SKIPPING FUNCTIONAL TESTS SPECIFIC TO AUTH VERSION 3', file=sys.stderr) if not skip_service_tokens: skip_service_tokens = not all([not skip, swift_test_user[4], swift_test_key[4], swift_test_tenant[4], swift_test_service_prefix]) if not skip and skip_service_tokens: print( 'SKIPPING FUNCTIONAL TESTS SPECIFIC TO SERVICE TOKENS', file=sys.stderr) if not skip_if_no_reseller_admin: skip_if_no_reseller_admin = not all([not skip, swift_test_user[5], swift_test_key[5], swift_test_tenant[5]]) if not skip and skip_if_no_reseller_admin: print('SKIPPING FUNCTIONAL TESTS DUE TO NO CONFIG FOR ' 'RESELLER ADMIN', file=sys.stderr)"," skip = not all([swift_test_auth, swift_test_user[0], swift_test_key[0]]) if skip: print('SKIPPING FUNCTIONAL TESTS DUE TO NO CONFIG', file=sys.stderr) skip2 = not all([not skip, swift_test_user[1], swift_test_key[1]]) if not skip and skip2: print('SKIPPING SECOND ACCOUNT FUNCTIONAL TESTS ' 'DUE TO NO CONFIG FOR THEM', file=sys.stderr) skip3 = not all([not skip, swift_test_user[2], swift_test_key[2]]) if not skip and skip3: print('SKIPPING THIRD ACCOUNT FUNCTIONAL TESTS' 'DUE TO NO CONFIG FOR THEM', file=sys.stderr) skip_if_not_v3 = (swift_test_auth_version != '3' or not all([not skip, swift_test_user[3], swift_test_key[3]])) if not skip and skip_if_not_v3: print('SKIPPING FUNCTIONAL TESTS SPECIFIC TO AUTH VERSION 3', file=sys.stderr) skip_service_tokens = not all([not skip, swift_test_user[4], swift_test_key[4], swift_test_tenant[4], swift_test_service_prefix]) if not skip and skip_service_tokens: print( 'SKIPPING FUNCTIONAL TESTS SPECIFIC TO SERVICE TOKENS', file=sys.stderr) skip_if_no_reseller_admin = not all([not skip, swift_test_user[5], swift_test_key[5], swift_test_tenant[5]]) if not skip and skip_if_no_reseller_admin: print( 'SKIPPING FUNCTIONAL TESTS DUE TO NO CONFIG FOR RESELLER ADMIN', file=sys.stderr)",39,32
openstack%2Fopenstack-ansible-os_searchlight~master~Ie6b2baecdc4260fe814ffd0b62555532c3f677a6,openstack/openstack-ansible-os_searchlight,master,Ie6b2baecdc4260fe814ffd0b62555532c3f677a6,Enable overriding the service setup host python interpreter,MERGED,2018-11-30 16:40:38.000000000,2018-11-30 20:10:48.000000000,2018-11-30 20:10:48.000000000,"[{'_account_id': 1004}, {'_account_id': 13095}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-30 16:40:38.000000000', 'files': ['tasks/searchlight_service_setup.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_searchlight/commit/f3e86a3382b3ffbdd2b585cd702c95ced2501a32', 'message': ""Enable overriding the service setup host python interpreter\n\nIn order to enable the service setup host python interpreter to\nbe changed easily, we make it a variable. This will be useful\nwhen someone sets the service setup host to be the utility\ncontainer, because we'll be able to set this var by default.\n\nChange-Id: Ie6b2baecdc4260fe814ffd0b62555532c3f677a6\n""}]",0,621228,f3e86a3382b3ffbdd2b585cd702c95ced2501a32,7,3,1,6816,,,0,"Enable overriding the service setup host python interpreter

In order to enable the service setup host python interpreter to
be changed easily, we make it a variable. This will be useful
when someone sets the service setup host to be the utility
container, because we'll be able to set this var by default.

Change-Id: Ie6b2baecdc4260fe814ffd0b62555532c3f677a6
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_searchlight refs/changes/28/621228/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/searchlight_service_setup.yml', 'defaults/main.yml']",2,f3e86a3382b3ffbdd2b585cd702c95ced2501a32,bp/python-build-simplification,"searchlight_service_setup_host_python_interpreter: ""{{ openstack_service_setup_host_python_interpreter | default((searchlight_service_setup_host == 'localhost') | ternary(ansible_playbook_python, ansible_python['executable'])) }}""",,2,2
openstack%2Ftripleo-quickstart~master~Icf86c2577c0ea8c146c57c0a8670b135e4a56a7b,openstack/tripleo-quickstart,master,Icf86c2577c0ea8c146c57c0a8670b135e4a56a7b,"Revert ""master/hack: Switch to CBS instead of buildlogs""",MERGED,2018-11-22 16:59:31.000000000,2018-11-30 20:09:00.000000000,2018-11-30 20:08:59.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 7118}, {'_account_id': 10873}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 24245}, {'_account_id': 29222}]","[{'number': 1, 'created': '2018-11-22 16:59:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/3451b4a1051945f82646393c6fa43513ae64957b', 'message': 'Revert ""master/hack: Switch to CBS instead of buildlogs""\n\nThe broken rpm was removed from buildlogs\nThis reverts commit 37e2497dea262293b82658e8c2e7b955690ddeab.\n\nChange-Id: Icf86c2577c0ea8c146c57c0a8670b135e4a56a7b\nRelated-Bug: #1804475\n'}, {'number': 2, 'created': '2018-11-22 16:59:35.000000000', 'files': ['config/release/tripleo-ci/CentOS-7/master.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/691552e64b6798538cf304cf929cef8f728ef922', 'message': 'Revert ""master/hack: Switch to CBS instead of buildlogs""\n\nThe broken rpm was removed from buildlogs\nThis reverts commit 37e2497dea262293b82658e8c2e7b955690ddeab.\n\nChange-Id: Icf86c2577c0ea8c146c57c0a8670b135e4a56a7b\nRelated-Bug: #1804475\n'}]",0,619625,691552e64b6798538cf304cf929cef8f728ef922,43,12,2,3153,,,0,"Revert ""master/hack: Switch to CBS instead of buildlogs""

The broken rpm was removed from buildlogs
This reverts commit 37e2497dea262293b82658e8c2e7b955690ddeab.

Change-Id: Icf86c2577c0ea8c146c57c0a8670b135e4a56a7b
Related-Bug: #1804475
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/25/619625/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/CentOS-7/master.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-master.yml']",2,3451b4a1051945f82646393c6fa43513ae64957b,bug/1804475, export NODEPOOL_BUILDLOGS_CENTOS_PROXY=https://buildlogs.centos.org baseurl: ${NODEPOOL_BUILDLOGS_CENTOS_PROXY}/centos/7/virt/x86_64/container/, export NODEPOOL_CBS_CENTOS_PROXY=https://cbs.centos.org/repos baseurl: ${NODEPOOL_CBS_CENTOS_PROXY}/virt7-container-common-candidate/x86_64/os/,4,4
openstack%2Fpuppet-octavia~master~I5744ace634f9312cbedfe419f4fb878bc8052dfa,openstack/puppet-octavia,master,I5744ace634f9312cbedfe419f4fb878bc8052dfa,Re-include octavia::db in octavia::api,MERGED,2018-11-26 20:05:27.000000000,2018-11-30 20:08:56.000000000,2018-11-30 20:08:55.000000000,"[{'_account_id': 6579}, {'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-26 20:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/355767ce8402f6a1d023a7531c0ad2f7745917ce', 'message': 'Re-include octavia::db in octavia::api\n\nThe Octavia API service needs to be configured to talk to the database.\nUntil recently it was being configured properly via the dependency on\nclass octavia::controller. Commit 0ea4e10 reverted the inclusion of the\ncontroller class but did not re-include the db class.\n\nChange-Id: I5744ace634f9312cbedfe419f4fb878bc8052dfa\n'}, {'number': 2, 'created': '2018-11-27 14:43:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/d6b64401981ada90b4144521df4d85aa0b606242', 'message': 'Re-include octavia::db in octavia::api\n\nThe Octavia API service needs to be configured to talk to the database.\nUntil recently it was being configured properly via the dependency on\nclass octavia::controller. Commit 0ea4e10 reverted the inclusion of the\ncontroller class but did not re-include the db class.\n\nAdditionally, other services also require database configuration set\nbecause they talk to the database. This would be noticeable and\nproblematic when installing them on separate nodes or other ways of\nconfig isolation between services.\n\nChange-Id: I5744ace634f9312cbedfe419f4fb878bc8052dfa\n'}, {'number': 3, 'created': '2018-11-27 14:44:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/3d748ad9f519c7e3668b0c59fcf7f5be7ed72401', 'message': 'Re-include octavia::db in octavia::api\n\nThe Octavia API service needs to be configured to talk to the database.\nUntil recently it was being configured properly via the dependency on\nclass octavia::controller. Commit 0ea4e10 reverted the inclusion of the\ncontroller class but did not re-include the db class.\n\nAdditionally, other services also require database configuration set\nbecause they talk to the database. This would be noticeable and\nproblematic when installing them on separate nodes or other ways of\nconfig isolation between services.\n\nChange-Id: I5744ace634f9312cbedfe419f4fb878bc8052dfa\n'}, {'number': 4, 'created': '2018-11-29 11:06:26.000000000', 'files': ['manifests/worker.pp', 'manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/84a33ab65f0e6f68ff7f3f31b342b4d00e863d3e', 'message': 'Re-include octavia::db in octavia::api\n\nThe Octavia API service needs to be configured to talk to the database.\nUntil recently it was being configured properly via the dependency on\nclass octavia::controller. Commit 0ea4e10 reverted the inclusion of the\ncontroller class but did not re-include the db class.\n\nChange-Id: I5744ace634f9312cbedfe419f4fb878bc8052dfa\n'}]",0,620147,84a33ab65f0e6f68ff7f3f31b342b4d00e863d3e,19,6,4,6469,,,0,"Re-include octavia::db in octavia::api

The Octavia API service needs to be configured to talk to the database.
Until recently it was being configured properly via the dependency on
class octavia::controller. Commit 0ea4e10 reverted the inclusion of the
controller class but did not re-include the db class.

Change-Id: I5744ace634f9312cbedfe419f4fb878bc8052dfa
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/47/620147/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/api.pp'],1,355767ce8402f6a1d023a7531c0ad2f7745917ce,, include ::octavia::db,,1,0
openstack%2Fopenstack-ansible-os_swift~master~I9312b72597ace026faeb819e6824d78d57d1c9f1,openstack/openstack-ansible-os_swift,master,I9312b72597ace026faeb819e6824d78d57d1c9f1,[WIP] Implement uWSGI for Swift services,ABANDONED,2017-07-24 16:51:09.000000000,2018-11-30 20:03:45.000000000,,[],"[{'number': 1, 'created': '2017-07-24 16:51:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/19ce975fef3bfdbcfeecace97f403262ac6a6413', 'message': '[WIP] Implement uWSGI for Swift services\n\nChange-Id: I9312b72597ace026faeb819e6824d78d57d1c9f1\n'}, {'number': 2, 'created': '2017-07-25 14:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/70494f808be199fc46eee55f9905832b9f4880ef', 'message': '[WIP] Implement uWSGI for Swift services\n\nChange-Id: I9312b72597ace026faeb819e6824d78d57d1c9f1\n'}, {'number': 3, 'created': '2017-07-25 14:04:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/0973533271c189843c6c813dab929c447b18377c', 'message': '[WIP] Implement uWSGI for Swift services\n\nChange-Id: I9312b72597ace026faeb819e6824d78d57d1c9f1\n'}, {'number': 4, 'created': '2017-07-25 14:13:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/af4cff91e0f460acb4eb990a1f858e930019fac2', 'message': '[WIP] Implement uWSGI for Swift services\n\nChange-Id: I9312b72597ace026faeb819e6824d78d57d1c9f1\n'}, {'number': 5, 'created': '2017-07-25 15:01:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/c507e5b48c33c1d68f29a3b8e6f2343e5421831a', 'message': '[WIP] Implement uWSGI for Swift services\n\nChange-Id: I9312b72597ace026faeb819e6824d78d57d1c9f1\n'}, {'number': 6, 'created': '2017-07-25 15:25:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/6040d42be483e1ff4b20342b9dc0b9d0e000c43a', 'message': '[WIP] Implement uWSGI for Swift services\n\nChange-Id: I9312b72597ace026faeb819e6824d78d57d1c9f1\n'}, {'number': 7, 'created': '2017-07-25 15:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/f49330fe2063ce4d701169881e0028f9ee7c7979', 'message': '[WIP] Implement uWSGI for Swift services\n\nChange-Id: I9312b72597ace026faeb819e6824d78d57d1c9f1\n'}, {'number': 8, 'created': '2017-07-25 16:19:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/f18905475fa93045492a82b4c31f729e08d49d74', 'message': '[WIP] Implement uWSGI for Swift services\n\nChange-Id: I9312b72597ace026faeb819e6824d78d57d1c9f1\n'}, {'number': 9, 'created': '2017-07-31 14:05:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/30604407d708b8442cd2cb7b5b7dddde4c9c6c27', 'message': '[WIP] Implement uWSGI for Swift services\n\nSee if it will work with proxy not being moved to a wsgi app.\n\nChange-Id: I9312b72597ace026faeb819e6824d78d57d1c9f1\n'}, {'number': 10, 'created': '2017-07-31 14:46:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/a7b337786b3165e674a74577086827079fe25be6', 'message': '[WIP] Implement uWSGI for Swift services\n\nSee if it will work with proxy not being moved to a wsgi app.\n\nChange-Id: I9312b72597ace026faeb819e6824d78d57d1c9f1\n'}, {'number': 11, 'created': '2017-08-01 11:13:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/bcfd4643945d172288c2caab42b08a4300657159', 'message': '[WIP] Implement uWSGI for Swift services\n\nSee if it will work with proxy not being moved to a wsgi app.\n\nChange-Id: I9312b72597ace026faeb819e6824d78d57d1c9f1\n'}, {'number': 12, 'created': '2017-08-01 15:50:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/b802ee8e051d546b9b96fd2cb0049dd7a6d80d7b', 'message': '[WIP] Implement uWSGI for Swift services\n\nSee if it will work with proxy not being moved to a wsgi app.\n\nChange-Id: I9312b72597ace026faeb819e6824d78d57d1c9f1\n'}, {'number': 13, 'created': '2017-09-13 19:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/adc364b291af3045e8e823a807e976f97b5f25c7', 'message': '[WIP] Implement uWSGI for Swift services\n\nSee if it will work with proxy not being moved to a wsgi app.\n\nChange-Id: I9312b72597ace026faeb819e6824d78d57d1c9f1\n'}, {'number': 14, 'created': '2017-09-13 22:00:02.000000000', 'files': ['tasks/main.yml', 'templates/swift-uwsgi.ini.j2', 'templates/swift-wsgi.py.j2', 'tests/os_swift-overrides.yml', 'templates/swift-systemd-init.j2', 'tasks/swift_uwsgi.yml', 'defaults/main.yml', 'tasks/swift_pre_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/d2f5c2a0a79cfe3ba5f77e68ada417c659a25b8c', 'message': '[WIP] Implement uWSGI for Swift services\n\nSee if it will work with proxy not being moved to a wsgi app.\n\nChange-Id: I9312b72597ace026faeb819e6824d78d57d1c9f1\n'}]",0,486694,d2f5c2a0a79cfe3ba5f77e68ada417c659a25b8c,23,0,14,2799,,,0,"[WIP] Implement uWSGI for Swift services

See if it will work with proxy not being moved to a wsgi app.

Change-Id: I9312b72597ace026faeb819e6824d78d57d1c9f1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/94/486694/13 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'templates/swift-uwsgi.ini', 'templates/swift-wsgi.py.j2', 'templates/swift-systemd-init.j2', 'tasks/swift_uwsgi.yml', 'defaults/main.yml']",6,19ce975fef3bfdbcfeecace97f403262ac6a6413,bp/goal-deploy-api-in-wsgi," - uwsgi wsgi_overrides: ""{{ swift_account_uwsgi_ini_overrides }}"" wsgi_app: True log_string: ""--logto /var/log/swift/account-server-uwsgi.log"" wsgi_name: ""account-server"" uwsgi_bind_address: ""{{ swift_storage_address }}"" uwsgi_port: ""{{ swift_account_port }}"" program_override: ""{{ swift_bin }}/uwsgi --ini /etc/uwsgi/swift-account-server.ini"" wsgi_overrides: ""{{ swift_container_uwsgi_ini_overrides }}"" wsgi_app: True log_string: ""--logto /var/log/swift/container-server-uwsgi.log"" wsgi_name: ""container-server"" uwsgi_bind_address: ""{{ swift_storage_address }}"" uwsgi_port: ""{{ swift_continer_port }}"" program_override: ""{{ swift_bin }}/uwsgi --ini /etc/uwsgi/swift-container-server.ini"" wsgi_overrides: ""{{ swift_object_uwsgi_ini_overrides }}"" wsgi_app: True log_string: ""--logto /var/log/swift/object-server-uwsgi.log"" wsgi_name: ""object-server"" uwsgi_bind_address: ""{{ swift_storage_address }}"" uwsgi_port: ""{{ swift_object_port }}"" program_override: ""{{ swift_bin }}/uwsgi --ini /etc/uwsgi/swift-object-server.ini"" wsgi_overrides: ""{{ swift_proxy_uwsgi_ini_overrides }}"" wsgi_app: True log_string: ""--logto /var/log/swift/proxy-server-uwsgi.log"" wsgi_name: ""proxy-server"" uwsgi_bind_address: ""0.0.0.0"" uwsgi_port: ""{{ swift_proxy_port }}"" program_override: ""{{ swift_bin }}/uwsgi --ini /etc/uwsgi/swift-proxy-server.ini""## Swift uWSGI options swift_wsgi_processes_max: 16 swift_wsgi_processes: ""{{ [[ansible_processor_vcpus|default(1), 1] | max * 2, swift_wsgi_processes_max] | min }}"" swift_wsgi_threads: 1 swift_wsgi_buffer_size: 65535 swift_account_uwsgi_ini_overrides: {} swift_container_uwsgi_ini_overrides: {} swift_object_uwsgi_ini_overrides: {} swift_proxy_uwsgi_ini_overrides: {}",,116,1
openstack%2Fopenstack-ansible-tests~master~I5a9e980ccafbe5faf18827cb4547ae5f917cdd4e,openstack/openstack-ansible-tests,master,I5a9e980ccafbe5faf18827cb4547ae5f917cdd4e,[WIP] Add ceph tests deployment,ABANDONED,2017-09-14 17:13:50.000000000,2018-11-30 20:03:36.000000000,,[],"[{'number': 1, 'created': '2017-09-14 17:13:50.000000000', 'files': ['test-vars-ceph.yml', 'ansible-role-requirements.yaml', 'test-install-ceph.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/98f9ac2e8915a71da36a017c5ac05d6b36c3c620', 'message': '[WIP] Add ceph tests deployment\n\nChange-Id: I5a9e980ccafbe5faf18827cb4547ae5f917cdd4e\n'}]",0,504131,98f9ac2e8915a71da36a017c5ac05d6b36c3c620,4,0,1,17799,,,0,"[WIP] Add ceph tests deployment

Change-Id: I5a9e980ccafbe5faf18827cb4547ae5f917cdd4e
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/31/504131/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-vars-ceph.yml', 'ansible-role-requirements.yaml', 'test-install-ceph.yml']",3,98f9ac2e8915a71da36a017c5ac05d6b36c3c620,ceph-tests,"--- # Copyright 2017, Logan Vig <logan2211@gmail.com> # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - name: Deploy ceph mons hosts: ceph-mon user: root gather_facts: true any_errors_fatal: true become: true roles: - role: ceph-defaults tags: - skip_ansible_lint - role: ceph-common tags: - skip_ansible_lint - role: ceph-config tags: - skip_ansible_lint - role: ceph-mon tags: - skip_ansible_lint - role: ceph-mgr tags: - skip_ansible_lint - role: rsyslog_client rsyslog_client_log_rotate_file: ceph_log_rotate rsyslog_client_log_dir: ""/var/log/ceph"" rsyslog_client_config_name: ""99-ceph-rsyslog-client.conf"" tags: - rsyslog - role: system_crontab_coordination tags: - crontab vars_files: - test-vars.yml - test-vars-ceph.yml - name: Gather ceph-mon facts hosts: ceph-mon user: root gather_facts: no tasks: - name: Gather ceph-mon facts action: setup tags: - ceph-mon-facts - name: Deploy ceph osds hosts: ceph-osd user: root become: true any_errors_fatal: true roles: - role: ceph-defaults tags: - skip_ansible_lint - role: ceph-common tags: - skip_ansible_lint - role: ceph-config tags: - skip_ansible_lint - role: ceph-osd tags: - skip_ansible_lint vars_files: - test-vars.yml - test-vars-ceph.yml ",,149,0
openstack%2Fopenstack-ansible-repo_build~master~Iafdec4f25ff846a1d7409843c3f3fd162a495dfe,openstack/openstack-ansible-repo_build,master,Iafdec4f25ff846a1d7409843c3f3fd162a495dfe,[DNM] - Testing repo_build,ABANDONED,2017-11-08 18:37:48.000000000,2018-11-30 20:02:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2017-11-08 18:37:48.000000000', 'files': ['dummy'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/315480ac5098639322eafb76805fc447109c914a', 'message': '[DNM] - Testing repo_build\n\nChange-Id: Iafdec4f25ff846a1d7409843c3f3fd162a495dfe\n'}]",0,518599,315480ac5098639322eafb76805fc447109c914a,3,1,1,23163,,,0,"[DNM] - Testing repo_build

Change-Id: Iafdec4f25ff846a1d7409843c3f3fd162a495dfe
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_build refs/changes/99/518599/1 && git format-patch -1 --stdout FETCH_HEAD,['dummy'],1,315480ac5098639322eafb76805fc447109c914a,dnm-testing-opensuse-job,,,0,0
openstack%2Fopenstack-ansible-memcached_server~master~I672bc530c145cf3e9b8996fa91229f06b02c14ed,openstack/openstack-ansible-memcached_server,master,I672bc530c145cf3e9b8996fa91229f06b02c14ed,[DNM] Testing memcached server,ABANDONED,2017-10-26 08:44:11.000000000,2018-11-30 20:02:47.000000000,,"[{'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-10-26 08:44:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/e67748041309cbbf854a99a7e1b03c7ea4c5fd76', 'message': '[DNM] Testing memcached server\n\nChange-Id: I672bc530c145cf3e9b8996fa91229f06b02c14ed\nDepends-On: I030d60d7048314393d1141be9e73e0660717025c\n'}, {'number': 2, 'created': '2017-10-26 09:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/61b29d56be32320fa98ae5a97611c75855a725d1', 'message': '[DNM] Testing memcached server\n\nChange-Id: I672bc530c145cf3e9b8996fa91229f06b02c14ed\nDepends-On: Icfd7e2b110541f85bf98efc384a9698dbbbd9682\n'}, {'number': 3, 'created': '2017-10-27 07:35:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/ab3c0e86fc1681e2e5b4b953b82de2792814955b', 'message': '[DNM] Testing memcached server\n\nChange-Id: I672bc530c145cf3e9b8996fa91229f06b02c14ed\nDepends-On: Ifb170a289d45ddad1a2cebf025f5e66f45d2daa3\n'}, {'number': 4, 'created': '2017-10-27 07:54:55.000000000', 'files': ['dummy', 'zuul.d/playbooks/post.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/fa8f97d8d4f1e6c317862a9e5e4ef7396db9d861', 'message': '[DNM] Testing memcached server\n\nChange-Id: I672bc530c145cf3e9b8996fa91229f06b02c14ed\n'}]",0,515323,fa8f97d8d4f1e6c317862a9e5e4ef7396db9d861,11,2,4,23163,,,0,"[DNM] Testing memcached server

Change-Id: I672bc530c145cf3e9b8996fa91229f06b02c14ed
",git fetch https://review.opendev.org/openstack/openstack-ansible-memcached_server refs/changes/23/515323/4 && git format-patch -1 --stdout FETCH_HEAD,['dummy'],1,e67748041309cbbf854a99a7e1b03c7ea4c5fd76,dnm-testing-opensuse-job,,,0,0
openstack%2Fopenstack-ansible-galera_server~master~I9ffa5952dc79328f2e6d23b7763cd075c4f36794,openstack/openstack-ansible-galera_server,master,I9ffa5952dc79328f2e6d23b7763cd075c4f36794,DNM - Increase packet limit,ABANDONED,2017-07-26 16:03:04.000000000,2018-11-30 20:02:24.000000000,,"[{'_account_id': 3}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-07-26 16:03:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/27d327628abe7dca6cd672798496b5ff864787b1', 'message': 'DNM - Testing experimental openSUSE jobs\n\nChange-Id: I9ffa5952dc79328f2e6d23b7763cd075c4f36794\n'}, {'number': 2, 'created': '2017-08-16 12:40:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/17042c7fcb84355280931ac4f595fcb6fcf5df7e', 'message': 'DNM - Testing experimental openSUSE jobs\n\nChange-Id: I9ffa5952dc79328f2e6d23b7763cd075c4f36794\n'}, {'number': 3, 'created': '2018-01-19 22:01:30.000000000', 'files': ['templates/my.cnf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/240ad0c5f34036d3d494a07c3420d1a102769801', 'message': 'DNM - Increase packet limit\n\nChange-Id: I9ffa5952dc79328f2e6d23b7763cd075c4f36794\n'}]",0,487498,240ad0c5f34036d3d494a07c3420d1a102769801,7,2,3,23163,,,0,"DNM - Increase packet limit

Change-Id: I9ffa5952dc79328f2e6d23b7763cd075c4f36794
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/98/487498/1 && git format-patch -1 --stdout FETCH_HEAD,"['dummy', 'vars/suse-42.yml']",2,27d327628abe7dca6cd672798496b5ff864787b1,dnm-testing-experimental-opensuse, - tar,,1,0
openstack%2Fopenstack-ansible-tests~master~I45e9b3ee3980120baec728fcea31363ce91a291a,openstack/openstack-ansible-tests,master,I45e9b3ee3980120baec728fcea31363ce91a291a,DNM - Test galera,ABANDONED,2017-08-24 13:23:11.000000000,2018-11-30 20:02:15.000000000,,"[{'_account_id': 3}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-08-24 13:23:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/5b4eb023c6e6cbdc8fa6dd35d7f7016355755882', 'message': '[DNM] - Testing openSUSE tests repository\n\nDebugging certificate validation problems\n\nChange-Id: I45e9b3ee3980120baec728fcea31363ce91a291a\n'}, {'number': 2, 'created': '2017-08-24 16:22:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/76143ff9680c048c59141426e9d962ed606f3946', 'message': '[DNM] - Testing openSUSE tests repository\n\nDebugging certificate validation problems\n\nChange-Id: I45e9b3ee3980120baec728fcea31363ce91a291a\n'}, {'number': 3, 'created': '2017-08-25 06:26:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/bbcb0ebcd8e14034f801c6e4353b750f76ae9bba', 'message': '[DNM] - Testing openSUSE tests repository\n\nDebugging certificate validation problems\n\nChange-Id: I45e9b3ee3980120baec728fcea31363ce91a291a\n'}, {'number': 4, 'created': '2017-08-25 06:37:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/84e12cd258f218d0d72d8b71f37a42d88a862bbe', 'message': '[DNM] - Testing openSUSE tests repository\n\nDebugging certificate validation problems\n\nChange-Id: I45e9b3ee3980120baec728fcea31363ce91a291a\n'}, {'number': 5, 'created': '2017-12-19 11:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/64d937c07b858c7b2ae8591eaa624b90eed6ec52', 'message': 'DNM - Testing lint fixes\n\nChange-Id: I45e9b3ee3980120baec728fcea31363ce91a291a\nDepends-On: I49c01fb63054e45bae5ae45a89cce986579959de\n'}, {'number': 6, 'created': '2017-12-19 11:30:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/92d5fcb7f36f904c7143e59999e6fedb452cca23', 'message': 'DNM - Testing lint fixes\n\nChange-Id: I45e9b3ee3980120baec728fcea31363ce91a291a\nDepends-On: I49c01fb63054e45bae5ae45a89cce986579959de\n'}, {'number': 7, 'created': '2018-01-19 22:02:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/138f70c5f80c94e6ee40e8178bff08c40c90b945', 'message': 'DNM - Test galera\n\nDepends-On: I9ffa5952dc79328f2e6d23b7763cd075c4f36794\nChange-Id: I45e9b3ee3980120baec728fcea31363ce91a291a\n'}, {'number': 8, 'created': '2018-01-23 20:23:03.000000000', 'files': ['dummy'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/9466d2e403ec5c439a77aff8e3cf2542cdd07e4e', 'message': 'DNM - Test galera\n\nDepends-On: Ic88c55fd551f3d1666b9bbfd57040fe8fedaa990\nChange-Id: I45e9b3ee3980120baec728fcea31363ce91a291a\n'}]",0,497241,9466d2e403ec5c439a77aff8e3cf2542cdd07e4e,15,2,8,23163,,,0,"DNM - Test galera

Depends-On: Ic88c55fd551f3d1666b9bbfd57040fe8fedaa990
Change-Id: I45e9b3ee3980120baec728fcea31363ce91a291a
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/41/497241/8 && git format-patch -1 --stdout FETCH_HEAD,['dummy'],1,5b4eb023c6e6cbdc8fa6dd35d7f7016355755882,dnm-testing-opensuse-job,,,0,0
openstack%2Fopenstack-ansible-rabbitmq_server~master~Ib9517d32838df43d0c6122bce0f727810cfc8a49,openstack/openstack-ansible-rabbitmq_server,master,Ib9517d32838df43d0c6122bce0f727810cfc8a49,[DNM] - Testing rabbitmq,ABANDONED,2017-09-14 21:30:53.000000000,2018-11-30 20:02:08.000000000,,"[{'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-09-14 21:30:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/ccbbfe2eba2a8a588ca8490601ec81dda720a28a', 'message': '[DNM] - Testing rabbitmq\n\nChange-Id: Ib9517d32838df43d0c6122bce0f727810cfc8a49\n'}, {'number': 2, 'created': '2017-09-14 21:36:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/1fc2cae4d1415895de0195576af544b89bcb1be1', 'message': '[DNM] - Testing rabbitmq\n\nChange-Id: Ib9517d32838df43d0c6122bce0f727810cfc8a49\n'}, {'number': 3, 'created': '2018-03-05 11:31:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/b6e6ba40c30c75515d296f0ee83b11ae39eda12c', 'message': '[DNM] - Testing rabbitmq\n\nDepends-On: Ib19297c9d7ff4bb3ff00cfe91b338c594232f335\nChange-Id: Ib9517d32838df43d0c6122bce0f727810cfc8a49\n'}, {'number': 4, 'created': '2018-03-05 13:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/eed81a32a09abc5f77e43b0a93ab50eec88a65fc', 'message': '[DNM] - Testing rabbitmq\n\nDepends-On: I797fb2ca013c8cc9f2c7a9871187f2a67be9276f\nDepends-On: Ib19297c9d7ff4bb3ff00cfe91b338c594232f335\nChange-Id: Ib9517d32838df43d0c6122bce0f727810cfc8a49\n'}, {'number': 5, 'created': '2018-03-05 14:11:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/9eb218b2efc65000e6f848383a0ec3107aa5918f', 'message': '[DNM] - Testing rabbitmq\n\nDepends-On: I559676a17f5e6d114e2d6a5c81e600c70751122d\nDepends-On: I797fb2ca013c8cc9f2c7a9871187f2a67be9276f\nDepends-On: Ib19297c9d7ff4bb3ff00cfe91b338c594232f335\nChange-Id: Ib9517d32838df43d0c6122bce0f727810cfc8a49\n'}, {'number': 6, 'created': '2018-03-05 15:12:50.000000000', 'files': ['dummy'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/5ad31ac545a53170677242f64fd9e40bd64f78b5', 'message': '[DNM] - Testing rabbitmq\n\nDepends-On: I14f8373897da28dea2ea03500c2be46c5b40d51c\nDepends-On: I559676a17f5e6d114e2d6a5c81e600c70751122d\nDepends-On: I797fb2ca013c8cc9f2c7a9871187f2a67be9276f\nDepends-On: Ib19297c9d7ff4bb3ff00cfe91b338c594232f335\nChange-Id: Ib9517d32838df43d0c6122bce0f727810cfc8a49\n'}]",0,504249,5ad31ac545a53170677242f64fd9e40bd64f78b5,15,2,6,23163,,,0,"[DNM] - Testing rabbitmq

Depends-On: I14f8373897da28dea2ea03500c2be46c5b40d51c
Depends-On: I559676a17f5e6d114e2d6a5c81e600c70751122d
Depends-On: I797fb2ca013c8cc9f2c7a9871187f2a67be9276f
Depends-On: Ib19297c9d7ff4bb3ff00cfe91b338c594232f335
Change-Id: Ib9517d32838df43d0c6122bce0f727810cfc8a49
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/49/504249/6 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,ccbbfe2eba2a8a588ca8490601ec81dda720a28a,dnm-testing-opensuse-job, ./run_tests.sh functional, ./run_tests.sh,1,1
openstack%2Fopenstack-ansible-lxc_hosts~master~Ie3d2f351cda0b973934f2da924bad6ecf604d755,openstack/openstack-ansible-lxc_hosts,master,Ie3d2f351cda0b973934f2da924bad6ecf604d755,DNM - Testing experimental openSUSE jobs,ABANDONED,2017-06-27 15:19:29.000000000,2018-11-30 20:02:02.000000000,,"[{'_account_id': 3}, {'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-06-27 15:19:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/2a724428af792eb8dd809722f7492818785a4dc8', 'message': 'DNM - Testing experimental openSUSE jobs\n\nChange-Id: Ie3d2f351cda0b973934f2da924bad6ecf604d755\n'}, {'number': 2, 'created': '2017-06-27 15:46:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/9984ce795925ab6cbad0613d7dd6fda8c4325f47', 'message': 'DNM - Testing experimental openSUSE jobs\n\nChange-Id: Ie3d2f351cda0b973934f2da924bad6ecf604d755\n'}, {'number': 3, 'created': '2017-06-27 16:14:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/96b04faca792035d471edca4ea2346242b1c3ebc', 'message': 'DNM - Testing experimental openSUSE jobs\n\nChange-Id: Ie3d2f351cda0b973934f2da924bad6ecf604d755\n'}, {'number': 4, 'created': '2017-06-27 16:33:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/7247bf038a6633aceb683703b578634b7cf1a7dc', 'message': 'DNM - Testing experimental openSUSE jobs\n\nChange-Id: Ie3d2f351cda0b973934f2da924bad6ecf604d755\n'}, {'number': 5, 'created': '2017-07-21 10:12:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/ad30e818be84a253bd55e1cae5949a006e0bfd4b', 'message': 'DNM - Testing experimental openSUSE jobs\n\nChange-Id: Ie3d2f351cda0b973934f2da924bad6ecf604d755\n'}, {'number': 6, 'created': '2017-07-26 07:51:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/7b54f1bea9eeacfef906d0c6b918cfa3fbdbfb69', 'message': 'DNM - Testing experimental openSUSE jobs\n\nChange-Id: Ie3d2f351cda0b973934f2da924bad6ecf604d755\n'}, {'number': 7, 'created': '2017-07-26 08:06:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/ed5155f08427e83b3ab22e8816e0df5a83b5f2aa', 'message': 'DNM - Testing experimental openSUSE jobs\n\nChange-Id: Ie3d2f351cda0b973934f2da924bad6ecf604d755\n'}, {'number': 8, 'created': '2017-07-26 17:02:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/7e54b5f61f4e3e8c3d5481a1bd331b2d890ab451', 'message': 'DNM - Testing experimental openSUSE jobs\n\nChange-Id: Ie3d2f351cda0b973934f2da924bad6ecf604d755\n'}, {'number': 9, 'created': '2018-03-15 10:18:07.000000000', 'files': ['dummy', 'bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/9150ba88026bcceb72841366337830d17f006570', 'message': 'DNM - Testing experimental openSUSE jobs\n\nChange-Id: Ie3d2f351cda0b973934f2da924bad6ecf604d755\n'}]",2,478193,9150ba88026bcceb72841366337830d17f006570,33,4,9,23163,,,0,"DNM - Testing experimental openSUSE jobs

Change-Id: Ie3d2f351cda0b973934f2da924bad6ecf604d755
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/93/478193/9 && git format-patch -1 --stdout FETCH_HEAD,['dummy'],1,2a724428af792eb8dd809722f7492818785a4dc8,dnm-testing-experimental-opensuse,,,0,0
openstack%2Fopenstack-ansible~master~I1d85f83284ca33bf54e5a3ed4ae09e7293c1aeb4,openstack/openstack-ansible,master,I1d85f83284ca33bf54e5a3ed4ae09e7293c1aeb4,[DNM] Test integrated build,ABANDONED,2018-04-28 14:46:06.000000000,2018-11-30 20:00:14.000000000,,"[{'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-04-28 14:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/88954695b0f5317c5b07ba4971e81c75099a5a98', 'message': '[DNM] Test integrated build\n\nSee how it goes.\n\nChange-Id: I1d85f83284ca33bf54e5a3ed4ae09e7293c1aeb4\n'}, {'number': 2, 'created': '2018-05-04 07:18:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/048dda2273595f814cd98318e2306b1b44f566cd', 'message': '[DNM] Test integrated build\n\nSee how it goes.\n\nChange-Id: I1d85f83284ca33bf54e5a3ed4ae09e7293c1aeb4\n'}, {'number': 3, 'created': '2018-05-07 05:18:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7550f707834528d7a0c99d8b660c3a7f58aa54ae', 'message': '[DNM] Test integrated build\n\nSee how it goes.\n\nChange-Id: I1d85f83284ca33bf54e5a3ed4ae09e7293c1aeb4\n'}, {'number': 4, 'created': '2018-05-07 15:35:36.000000000', 'files': ['Vagrantfile', 'scripts/bootstrap-ansible.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8a3fd374d225f3a61d53bf2eeb56201aa891ab15', 'message': '[DNM] Test integrated build\n\nSee how it goes.\n\nChange-Id: I1d85f83284ca33bf54e5a3ed4ae09e7293c1aeb4\n'}]",0,565025,8a3fd374d225f3a61d53bf2eeb56201aa891ab15,15,2,4,17068,,,0,"[DNM] Test integrated build

See how it goes.

Change-Id: I1d85f83284ca33bf54e5a3ed4ae09e7293c1aeb4
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/25/565025/4 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,88954695b0f5317c5b07ba4971e81c75099a5a98,dnm_tests,#,,1,1
openstack%2Fneutron-fwaas-dashboard~master~I3892cc1c6f554b9d6276db70492910ac5f2d8e44,openstack/neutron-fwaas-dashboard,master,I3892cc1c6f554b9d6276db70492910ac5f2d8e44,DNM: Check UT is failing after horizon change,ABANDONED,2018-11-30 14:59:07.000000000,2018-11-30 19:43:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-11-30 14:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/e3c1ae00ed02583799d2e03da51fffa3e7e41d18', 'message': 'DNM: Check UT is failing after horizon change\n\nChange-Id: I3892cc1c6f554b9d6276db70492910ac5f2d8e44\n'}, {'number': 2, 'created': '2018-11-30 17:12:56.000000000', 'files': ['neutron_fwaas_dashboard/api/fwaas.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/aef19b499eefe910f6584e1ccf15e9029a71f18b', 'message': 'DNM: Check UT is failing after horizon change\n\nChange-Id: I3892cc1c6f554b9d6276db70492910ac5f2d8e44\nDepends-On: https://review.openstack.org/#/c/621186/\n'}]",0,621176,aef19b499eefe910f6584e1ccf15e9029a71f18b,5,1,2,841,,,0,"DNM: Check UT is failing after horizon change

Change-Id: I3892cc1c6f554b9d6276db70492910ac5f2d8e44
Depends-On: https://review.openstack.org/#/c/621186/
",git fetch https://review.opendev.org/openstack/neutron-fwaas-dashboard refs/changes/76/621176/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_fwaas_dashboard/api/fwaas.py'],1,e3c1ae00ed02583799d2e03da51fffa3e7e41d18,,,,1,0
openstack%2Fsahara~master~I258d5c904c29110ccdb3a7fdff5b69f489552063,openstack/sahara,master,I258d5c904c29110ccdb3a7fdff5b69f489552063,Add DEBIAN_FRONTEND=noninteractive in front of apt-get install commands,MERGED,2018-11-27 20:12:13.000000000,2018-11-30 18:55:47.000000000,2018-11-30 18:55:47.000000000,"[{'_account_id': 8932}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-27 20:12:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/5a3d7801282ae2f5833bdf61eef4f8176c540bd7', 'message': 'Add DEBIAN_FRONTEND=noninteractive in front of apt-get install commands\n\nThe goal is to avoid a failure of apt-get install if one of the package\ntries to ask questions.\n\nChange-Id: I258d5c904c29110ccdb3a7fdff5b69f489552063\n'}, {'number': 2, 'created': '2018-11-27 20:13:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/9c330fd9cd75d2cc23b20b6bcb90ed698be2f121', 'message': 'Add DEBIAN_FRONTEND=noninteractive in front of apt-get install commands\n\nThe goal is to avoid a failure of apt-get install if one of the packages\ntries to ask questions.\n\nChange-Id: I258d5c904c29110ccdb3a7fdff5b69f489552063\n'}, {'number': 3, 'created': '2018-11-28 20:12:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/51b7d9c3312fb98ce6e94b53ae30b79fc8165954', 'message': 'Add DEBIAN_FRONTEND=noninteractive in front of apt-get install commands\n\nThe goal is to avoid a failure of apt-get install if one of the packages\ntries to ask questions.\n\nChange-Id: I258d5c904c29110ccdb3a7fdff5b69f489552063\n'}, {'number': 4, 'created': '2018-11-29 15:35:47.000000000', 'files': ['sahara/tests/unit/plugins/test_images.py', 'sahara/plugins/images.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/c4554ccd81b7d04401478704a43158769473472b', 'message': 'Add DEBIAN_FRONTEND=noninteractive in front of apt-get install commands\n\nThe goal is to avoid a failure of apt-get install if one of the packages\ntries to ask questions.\n\nStory: #2004468\nTask: #28158\nChange-Id: I258d5c904c29110ccdb3a7fdff5b69f489552063\n'}]",0,620396,c4554ccd81b7d04401478704a43158769473472b,16,3,4,29051,,,0,"Add DEBIAN_FRONTEND=noninteractive in front of apt-get install commands

The goal is to avoid a failure of apt-get install if one of the packages
tries to ask questions.

Story: #2004468
Task: #28158
Change-Id: I258d5c904c29110ccdb3a7fdff5b69f489552063
",git fetch https://review.opendev.org/openstack/sahara refs/changes/96/620396/4 && git format-patch -1 --stdout FETCH_HEAD,['sahara/plugins/images.py'],1,5a3d7801282ae2f5833bdf61eef4f8176c540bd7,apt_noninteractive," ""DEBIAN_FRONTEND=noninteractive apt-get -y install %s"" %"," ""apt-get -y install %s"" %",1,1
openstack%2Fneutron-fwaas~master~I8fdf0956ac5428558aae413e610d13c4a4a56273,openstack/neutron-fwaas,master,I8fdf0956ac5428558aae413e610d13c4a4a56273,Move port validation support into the driver,MERGED,2018-11-21 16:06:50.000000000,2018-11-30 18:55:12.000000000,2018-11-30 17:43:14.000000000,"[{'_account_id': 55}, {'_account_id': 6854}, {'_account_id': 6995}, {'_account_id': 10850}, {'_account_id': 13702}, {'_account_id': 15471}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-21 16:06:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/694bf6172e790559c78f8b1122dab02a60b98650', 'message': 'Move port validation support into the driver\n\nEach firewall driver have specific checks to do on port validation (like\nchecks if the VIF port type correspond to type supported by the driver\n(aka the SDN controller)). That patch adds two methods to the driver\ninterface to validate if the VM or the router port is supported (just\nhave to return a boolean).\n\nChange-Id: I8fdf0956ac5428558aae413e610d13c4a4a56273\nCloses-Bug: #1803723\n'}, {'number': 2, 'created': '2018-11-21 16:11:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/65c0a9c4f88cd46e9df86b8cfe2a48c03d236039', 'message': 'Move port validation support into the driver\n\nEach firewall driver have specific checks to do on port validation (like\nchecks if the VIF port type corresponds to a type supported by the driver\n(aka the SDN controller)). That patch adds two methods to the driver\ninterface to validate if the VM or the router port is supported (just\nhave to return a boolean).\n\nChange-Id: I8fdf0956ac5428558aae413e610d13c4a4a56273\nCloses-Bug: #1803723\n'}, {'number': 3, 'created': '2018-11-22 10:23:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/3474aa1b283b291c38e7f52f7be7475540f364b1', 'message': 'Move port validation support into the driver\n\nEach firewall driver have specific checks to do on port validation (like\nchecks if the VIF port type corresponds to a type supported by the driver\n(aka the SDN controller)). That patch adds two methods to the driver\ninterface to validate if the VM or the router port is supported (just\nhave to return a boolean).\n\nChange-Id: I8fdf0956ac5428558aae413e610d13c4a4a56273\nCloses-Bug: #1803723\n'}, {'number': 4, 'created': '2018-11-22 10:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/d5437e65b207c777ad018c147794c82daed07001', 'message': 'Move port validation support into the driver\n\nEach firewall driver have specific checks to do on port validation (like\nchecks if the VIF port type corresponds to a type supported by the driver\n(aka the SDN controller)). That patch adds two methods to the driver\ninterface to validate if the VM or the router port is supported (just\nhave to return a boolean).\n\nChange-Id: I8fdf0956ac5428558aae413e610d13c4a4a56273\nCloses-Bug: #1803723\n'}, {'number': 5, 'created': '2018-11-22 15:08:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/befe02d0cb1df03ea489bba528e02f1a78e388cc', 'message': 'Move port validation support into the driver\n\nEach firewall driver have specific checks to do on port validation (like\nchecks if the VIF port type corresponds to a type supported by the driver\n(aka the SDN controller)). That patch adds two methods to the driver\ninterface to validate if the VM or the router port is supported (just\nhave to return a boolean).\n\nChange-Id: I8fdf0956ac5428558aae413e610d13c4a4a56273\nCloses-Bug: #1803723\n'}, {'number': 6, 'created': '2018-11-23 11:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/dd90d6dce9066544b2003644900f1a23902ecd7d', 'message': 'Move port validation support into the driver\n\nEach firewall driver have specific checks to do on port validation (like\nchecks if the VIF port type corresponds to a type supported by the driver\n(aka the SDN controller)). That patch adds two methods to the driver\ninterface to validate if the VM or the router port is supported (just\nhave to return a boolean).\n\nChange-Id: I8fdf0956ac5428558aae413e610d13c4a4a56273\nCloses-Bug: #1803723\n'}, {'number': 7, 'created': '2018-11-28 08:51:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/89cefd042b33e112b46030144802a25c66bd0594', 'message': 'Move port validation support into the driver\n\nEach firewall driver have specific checks to do on port validation (like\nchecks if the VIF port type corresponds to a type supported by the driver\n(aka the SDN controller)). This patch adds two methods to the driver\ninterface to validate if the VM or the router port is supported (just\nhave to return a boolean).\n\nChange-Id: I8fdf0956ac5428558aae413e610d13c4a4a56273\nCloses-Bug: #1803723\n'}, {'number': 8, 'created': '2018-11-29 15:39:57.000000000', 'files': ['neutron_fwaas/tests/unit/db/firewall/v2/test_firewall_db_v2.py', 'neutron_fwaas/tests/unit/services/firewall/test_fwaas_plugin_v2.py', 'neutron_fwaas/common/exceptions.py', 'neutron_fwaas/services/firewall/service_drivers/driver_api.py', 'neutron_fwaas/services/firewall/fwaas_plugin_v2.py', 'neutron_fwaas/services/firewall/service_drivers/agents/agents.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/2a7994851cc0767e6a7b192a4101e8b43681ae6a', 'message': 'Move port validation support into the driver\n\nEach firewall driver have specific checks to do on port validation (like\nchecks if the VIF port type corresponds to a type supported by the driver\n(aka the SDN controller)). This patch adds two methods to the driver\ninterface to validate if the VM or the router port is supported (just\nhave to return a boolean).\n\nChange-Id: I8fdf0956ac5428558aae413e610d13c4a4a56273\nCloses-Bug: #1803723\n'}]",3,619286,2a7994851cc0767e6a7b192a4101e8b43681ae6a,30,7,8,55,,,0,"Move port validation support into the driver

Each firewall driver have specific checks to do on port validation (like
checks if the VIF port type corresponds to a type supported by the driver
(aka the SDN controller)). This patch adds two methods to the driver
interface to validate if the VM or the router port is supported (just
have to return a boolean).

Change-Id: I8fdf0956ac5428558aae413e610d13c4a4a56273
Closes-Bug: #1803723
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/86/619286/8 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_fwaas/common/exceptions.py', 'neutron_fwaas/services/firewall/service_drivers/driver_api.py', 'neutron_fwaas/services/firewall/fwaas_plugin_v2.py', 'neutron_fwaas/services/firewall/service_drivers/agents/agents.py']",4,694bf6172e790559c78f8b1122dab02a60b98650,bug/1803723," def is_supported_l2_port(self, port): if port[pb_def.VIF_TYPE] == pb_def.VIF_TYPE_OVS: # TODO(annp): remove these lines after we fully support for hybrid # port if not port[pb_def.VIF_DETAILS][pb_def.OVS_HYBRID_PLUG]: return True LOG.warning(""Doesn't support hybrid port at the moment"") else: LOG.warning(""Doesn't support vif type %s"", port[pb_def.VIF_TYPE]) return False ",,41,24
openstack%2Fnetworking-bgpvpn~master~I2ef8afa6493e3180bc338e1731ba66fe1b4a6e22,openstack/networking-bgpvpn,master,I2ef8afa6493e3180bc338e1731ba66fe1b4a6e22,Remove those copy words occured twice times in heat.rst,ABANDONED,2018-11-13 09:17:12.000000000,2018-11-30 18:53:49.000000000,,"[{'_account_id': 12021}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-13 09:17:12.000000000', 'files': ['doc/source/user/heat.rst'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/c2fc29ff21e3289a55ba1699f5868d8d70dd1374', 'message': 'Remove those copy words occured twice times in heat.rst\n\nChange-Id: I2ef8afa6493e3180bc338e1731ba66fe1b4a6e22\n'}]",0,617534,c2fc29ff21e3289a55ba1699f5868d8d70dd1374,5,3,1,27366,,,0,"Remove those copy words occured twice times in heat.rst

Change-Id: I2ef8afa6493e3180bc338e1731ba66fe1b4a6e22
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/34/617534/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/heat.rst'],1,c2fc29ff21e3289a55ba1699f5868d8d70dd1374,, $ source openrc demo, $ source openrc demo demo,1,1
openstack%2Fpython-barbicanclient~master~I33930ac42df62ef16e174a6bf905b72f255db3cc,openstack/python-barbicanclient,master,I33930ac42df62ef16e174a6bf905b72f255db3cc,Add Python 3.6 classifier to setup.cfg,MERGED,2018-11-29 07:01:23.000000000,2018-11-30 18:47:20.000000000,2018-11-30 18:47:19.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-29 07:01:23.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/e1121e90cd530f19c0d1faff034bece435616c6f', 'message': 'Add Python 3.6 classifier to setup.cfg\n\nChange-Id: I33930ac42df62ef16e174a6bf905b72f255db3cc\n'}]",0,620791,e1121e90cd530f19c0d1faff034bece435616c6f,6,2,1,17499,,,0,"Add Python 3.6 classifier to setup.cfg

Change-Id: I33930ac42df62ef16e174a6bf905b72f255db3cc
",git fetch https://review.opendev.org/openstack/python-barbicanclient refs/changes/91/620791/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,e1121e90cd530f19c0d1faff034bece435616c6f,, Programming Language :: Python :: 3.6 ,,2,0
openstack%2Fplacement~master~Icd629d7cd6d68ca08f9f3b4f0465c3d9a1efeb22,openstack/placement,master,Icd629d7cd6d68ca08f9f3b4f0465c3d9a1efeb22,Stop using global oslo_config,MERGED,2018-11-20 23:41:25.000000000,2018-11-30 18:44:32.000000000,2018-11-30 18:44:32.000000000,"[{'_account_id': 7}, {'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-20 23:41:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/1ec2bdcdd1abdda8b78fdfca5da600b6e909ec4e', 'message': 'Clean up use of Database fixture\n\nReview of I7d4099c1da425bb4ea115ac51c82f5748203f2d3 pointed out some\nways in which the use of the Database fixture could be made a bit\nmore tidy. The recently added set_config functionality in the fixture\nmakes it possible to remove redundant config management.\n\nAlso, in the review of I51ed1e4e7dbb76a3eab23af7d0d106f716059112 the\naddition of reset() in the Database fixture makes the use of the\nsession_configured global redundant: it was being cleared with every\ncall of reset, which was called whenever the fixture is torn down.\nSo it has been removed.\n\nIn addition some typos are fixed.\n\nChange-Id: Icd629d7cd6d68ca08f9f3b4f0465c3d9a1efeb22\n'}, {'number': 2, 'created': '2018-11-28 03:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/35e59f9948718f62342d301255ce2bfb4cf63ecf', 'message': 'WIP: Stop using global oslo_config\n\nThis change was driven out of trying to get nova functional tests\nworking with an extracted placement, starting with getting the\ndatabase fixture cleaner.\n\nPerhaps not surprisingly, trying to share the same \'cfg.CONF\' between\ntwo services is rather fraught. Rather than trying to tease out all the\nindividual issues, which is a very time consuming effort for not much\ngain, a different time consumign effort with great gain was tried\ninstead.\n\nThis patch removes the use of the default global cfg.CONF that\noslo_config (optionally) provides and instead ensures that at\nthe various ways in which one might enter placement: wsgi, cli,\ntests, the config is generated and managed in a more explicit\nfashion.\n\nUnfortunately this is a large change, but there\'s no easy way\nto do it in small chunks without getting very confused. There\nare a few classes of changes here, surrounded by various cleanups\nto address their addition. Quite a few holes were found in how\nconfig is managed, especially in tests where often we were getting\nwhat we want pretty much by accident.\n\nThe big changes:\n\n* Importing placement.conf does not automatically register options\n  with the global conf. Instead there is a now a register_opts method\n  to which a ConfigOpts() is required.\n\n* Because of policy enforcement wanting access to conf, a convenient way\n  of having the config pass through context.can() was needed. At\n  the start of PlacementHandler (the main dispatch routine) the\n  current config (provided to the PlacementHandler at application\n  configuration time) is set as an attribute on the RequestContext.\n  This is also used where CONF is required in the objects, such as\n  randomizing the limited allocation canidates.\n\n* The --sql command for alembic commands has been disabled. We don\'t\n  really need that and it would require some messing about with config.\n  The command lets you dump raw sql intead of migration files.\n\n* PlacementFixture, for use by nova, has been expanded to create and\n  manage its config, database and policy requirements using non-global\n  config. It can also accept a previously prepared config.\n\nThese of course cascade all over the place. Especially the need to\nmanually register_opts. There are probably refactorings that can be\ndone or base classes that can be removed.\n\nCommand line tools (e.g. status) which are mostly based on external\nlibraries continue to use config in the pre-existing way.\n\nThings to fix:\n\n* The command line alembic tool can\'t currently work because it has no\n  awareness of where the database. This should be easy to fix, but I\n  took it out for now to clear out crufty stuff and then forgot to put\n  it back and an now too tired to get it right.\n\n* As indicated in tests/fixtures.py there needs to be a lock fixture\n  in order for the opportunistic migration tests to work. There was\n  a lock fixture previously, provided by oslo_concurrency, but it,\n  as far as I can tell, requires global config. We don\'t want that.\n  This is another one where I (or someone else) need to be awake to\n  get right. This needs to be an inter-process predictable file lock\n  so that the tests in different processes will block each other.\n\n* The goals doc at https://review.openstack.org/#/c/618811/ will\n  need to be change to say ""keep it this way"" rather than ""get it\n  this way"".\n\nChange-Id: Icd629d7cd6d68ca08f9f3b4f0465c3d9a1efeb22\n'}, {'number': 3, 'created': '2018-11-28 12:41:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/715e74441527e4147288f060f55b79fcb7a2e081', 'message': 'Stop using global oslo_config\n\nThis change was driven out of trying to get nova functional tests\nworking with an extracted placement, starting with getting the\ndatabase fixture cleaner.\n\nPerhaps not surprisingly, trying to share the same \'cfg.CONF\' between\ntwo services is rather fraught. Rather than trying to tease out all the\nindividual issues, which is a very time consuming effort for not much\ngain, a different time consuming effort with great gain was tried\ninstead.\n\nThis patch removes the use of the default global cfg.CONF that\noslo_config (optionally) provides and instead ensures that at\nthe various ways in which one might enter placement: wsgi, cli,\ntests, the config is generated and managed in a more explicit\nfashion.\n\nUnfortunately this is a large change, but there\'s no easy way to do it\nin incremental chunks without getting very confused and having tests\npass. There are a few classes of changes here, surrounded by various\ncleanups to address their addition. Quite a few holes were found in how\nconfig is managed, especially in tests where often we were getting what\nwe wanted pretty much by accident.\n\nThe big changes:\n\n* Importing placement.conf does not automatically register options\n  with the global conf. Instead there is a now a register_opts method\n  to which a ConfigOpts() is required.\n\n* Because of policy enforcement wanting access to conf, a convenient way\n  of having the config pass through context.can() was needed. At\n  the start of PlacementHandler (the main dispatch routine) the\n  current config (provided to the PlacementHandler at application\n  configuration time) is set as an attribute on the RequestContext.\n  This is also used where CONF is required in the objects, such as\n  randomizing the limited allocation canidates.\n\n* The --sql command for alembic commands has been disabled. We don\'t\n  really need that and it would require some messing about with config.\n  The command lets you dump raw sql intead of migration files.\n\n* PlacementFixture, for use by nova, has been expanded to create and\n  manage its config, database and policy requirements using non-global\n  config. It can also accept a previously prepared config.\n\nThese of course cascade all over the place. Especially the need to\nmanually register_opts. There are probably refactorings that can be\ndone or base classes that can be removed.\n\nCommand line tools (e.g. status) which are mostly based on external\nlibraries continue to use config in the pre-existing way.\n\nA lock fixture for the opportunistic migration tests has been added.\nThere was a lock fixture previously, provided by oslo_concurrency, but\nit, as far as I can tell, requires global config. We don\'t want that.\n\nThis that will need to be changed as a result of these change:\n\n* The goals doc at https://review.openstack.org/#/c/618811/ will\n  need to be change to say ""keep it this way"" rather than ""get it\n  this way"".\n\nChange-Id: Icd629d7cd6d68ca08f9f3b4f0465c3d9a1efeb22\n'}, {'number': 4, 'created': '2018-11-28 15:14:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/96ce2aa4e1623061fb095b1e600a226fb4e98b83', 'message': 'Stop using global oslo_config\n\nThis change was driven out of trying to get nova functional tests\nworking with an extracted placement, starting with getting the\ndatabase fixture cleaner.\n\nPerhaps not surprisingly, trying to share the same \'cfg.CONF\' between\ntwo services is rather fraught. Rather than trying to tease out all the\nindividual issues, which is a very time consuming effort for not much\ngain, a different time consuming effort with great gain was tried\ninstead.\n\nThis patch removes the use of the default global cfg.CONF that\noslo_config (optionally) provides and instead ensures that at\nthe various ways in which one might enter placement: wsgi, cli,\ntests, the config is generated and managed in a more explicit\nfashion.\n\nUnfortunately this is a large change, but there\'s no easy way to do it\nin incremental chunks without getting very confused and having tests\npass. There are a few classes of changes here, surrounded by various\ncleanups to address their addition. Quite a few holes were found in how\nconfig is managed, especially in tests where often we were getting what\nwe wanted pretty much by accident.\n\nThe big changes:\n\n* Importing placement.conf does not automatically register options\n  with the global conf. Instead there is a now a register_opts method\n  to which a ConfigOpts() is required.\n\n* Because of policy enforcement wanting access to conf, a convenient way\n  of having the config pass through context.can() was needed. At\n  the start of PlacementHandler (the main dispatch routine) the\n  current config (provided to the PlacementHandler at application\n  configuration time) is set as an attribute on the RequestContext.\n  This is also used where CONF is required in the objects, such as\n  randomizing the limited allocation canidates.\n\n* The --sql command for alembic commands has been disabled. We don\'t\n  really need that and it would require some messing about with config.\n  The command lets you dump raw sql intead of migration files.\n\n* PlacementFixture, for use by nova, has been expanded to create and\n  manage its config, database and policy requirements using non-global\n  config. It can also accept a previously prepared config.\n\n* The Database fixtures calls \'reset()\' in both setUp and cleanUp to be\n  certain we are both starting and ending in a known state that will\n  not disturb or be disturbed by other tests.\n\nThese of course cascade other changes all over the place. Especially the\nneed to manually register_opts. There are probably refactorings that can\nbe done or base classes that can be removed.\n\nCommand line tools (e.g. status) which are mostly based on external\nlibraries continue to use config in the pre-existing way.\n\nA lock fixture for the opportunistic migration tests has been added.\nThere was a lock fixture previously, provided by oslo_concurrency, but\nit, as far as I can tell, requires global config. We don\'t want that.\n\nThis that will need to be changed as a result of these change:\n\n* The goals doc at https://review.openstack.org/#/c/618811/ will\n  need to be change to say ""keep it this way"" rather than ""get it\n  this way"".\n\nChange-Id: Icd629d7cd6d68ca08f9f3b4f0465c3d9a1efeb22\n'}, {'number': 5, 'created': '2018-11-28 17:10:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/83c64b4594ce2afc7d52afc3d6b0ff6a92b179ab', 'message': 'Stop using global oslo_config\n\nThis change was driven out of trying to get nova functional tests\nworking with an extracted placement, starting with getting the\ndatabase fixture cleaner.\n\nPerhaps not surprisingly, trying to share the same \'cfg.CONF\' between\ntwo services is rather fraught. Rather than trying to tease out all the\nindividual issues, which is a very time consuming effort for not much\ngain, a different time consuming effort with great gain was tried\ninstead.\n\nThis patch removes the use of the default global cfg.CONF that\noslo_config (optionally) provides and instead ensures that at\nthe various ways in which one might enter placement: wsgi, cli,\ntests, the config is generated and managed in a more explicit\nfashion.\n\nUnfortunately this is a large change, but there\'s no easy way to do it\nin incremental chunks without getting very confused and having tests\npass. There are a few classes of changes here, surrounded by various\ncleanups to address their addition. Quite a few holes were found in how\nconfig is managed, especially in tests where often we were getting what\nwe wanted pretty much by accident.\n\nThe big changes:\n\n* Importing placement.conf does not automatically register options\n  with the global conf. Instead there is a now a register_opts method\n  to which a ConfigOpts() is required.\n\n* Because of policy enforcement wanting access to conf, a convenient way\n  of having the config pass through context.can() was needed. At\n  the start of PlacementHandler (the main dispatch routine) the\n  current config (provided to the PlacementHandler at application\n  configuration time) is set as an attribute on the RequestContext.\n  This is also used where CONF is required in the objects, such as\n  randomizing the limited allocation canidates.\n\n* The --sql command for alembic commands has been disabled. We don\'t\n  really need that and it would require some messing about with config.\n  The command lets you dump raw sql intead of migration files.\n\n* PlacementFixture, for use by nova, has been expanded to create and\n  manage its config, database and policy requirements using non-global\n  config. It can also accept a previously prepared config.\n\n* The Database fixtures calls \'reset()\' in both setUp and cleanUp to be\n  certain we are both starting and ending in a known state that will\n  not disturb or be disturbed by other tests. Configuring the db is\n  moved into setUp where it should have been all along, but is important\n  to be there _after_ \'reset()\'.\n\nThese of course cascade other changes all over the place. Especially the\nneed to manually register_opts. There are probably refactorings that can\nbe done or base classes that can be removed.\n\nCommand line tools (e.g. status) which are mostly based on external\nlibraries continue to use config in the pre-existing way.\n\nA lock fixture for the opportunistic migration tests has been added.\nThere was a lock fixture previously, provided by oslo_concurrency, but\nit, as far as I can tell, requires global config. We don\'t want that.\n\nThis that will need to be changed as a result of these change:\n\n* The goals doc at https://review.openstack.org/#/c/618811/ will\n  need to be change to say ""keep it this way"" rather than ""get it\n  this way"".\n\nChange-Id: Icd629d7cd6d68ca08f9f3b4f0465c3d9a1efeb22\n'}, {'number': 6, 'created': '2018-11-30 10:57:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/4b99b682dcf6573b9a430d79907477ba949b7935', 'message': 'Stop using global oslo_config\n\nThis change was driven out of trying to get nova functional tests\nworking with an extracted placement, starting with getting the\ndatabase fixture cleaner.\n\nPerhaps not surprisingly, trying to share the same \'cfg.CONF\' between\ntwo services is rather fraught. Rather than trying to tease out all the\nindividual issues, which is a very time consuming effort for not much\ngain, a different time consuming effort with great gain was tried\ninstead.\n\nThis patch removes the use of the default global cfg.CONF that\noslo_config (optionally) provides and instead ensures that at\nthe various ways in which one might enter placement: wsgi, cli,\ntests, the config is generated and managed in a more explicit\nfashion.\n\nUnfortunately this is a large change, but there\'s no easy way to do it\nin incremental chunks without getting very confused and having tests\npass. There are a few classes of changes here, surrounded by various\ncleanups to address their addition. Quite a few holes were found in how\nconfig is managed, especially in tests where often we were getting what\nwe wanted pretty much by accident.\n\nThe big changes:\n\n* Importing placement.conf does not automatically register options\n  with the global conf. Instead there is a now a register_opts method\n  to which a ConfigOpts() is required.\n\n* Because of policy enforcement wanting access to conf, a convenient way\n  of having the config pass through context.can() was needed. At\n  the start of PlacementHandler (the main dispatch routine) the\n  current config (provided to the PlacementHandler at application\n  configuration time) is set as an attribute on the RequestContext.\n  This is also used where CONF is required in the objects, such as\n  randomizing the limited allocation canidates.\n\n* The --sql command for alembic commands has been disabled. We don\'t\n  really need that and it would require some messing about with config.\n  The command lets you dump raw sql intead of migration files.\n\n* PlacementFixture, for use by nova, has been expanded to create and\n  manage its config, database and policy requirements using non-global\n  config. It can also accept a previously prepared config.\n\n* The Database fixtures calls \'reset()\' in both setUp and cleanUp to be\n  certain we are both starting and ending in a known state that will\n  not disturb or be disturbed by other tests. Configuring the db is\n  moved into setUp where it should have been all along, but is important\n  to be there _after_ \'reset()\'.\n\nThese of course cascade other changes all over the place. Especially the\nneed to manually register_opts. There are probably refactorings that can\nbe done or base classes that can be removed.\n\nCommand line tools (e.g. status) which are mostly based on external\nlibraries continue to use config in the pre-existing way.\n\nA lock fixture for the opportunistic migration tests has been added.\nThere was a lock fixture previously, provided by oslo_concurrency, but\nit, as far as I can tell, requires global config. We don\'t want that.\n\nThis that will need to be changed as a result of these change:\n\n* The goals doc at https://review.openstack.org/#/c/618811/ will\n  need to be change to say ""keep it this way"" rather than ""get it\n  this way"".\n\nChange-Id: Icd629d7cd6d68ca08f9f3b4f0465c3d9a1efeb22\n'}, {'number': 7, 'created': '2018-11-30 13:30:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/9e7ff6d503a5a3d08a78621540b15d63c2e1f47b', 'message': 'Stop using global oslo_config\n\nThis change was driven out of trying to get nova functional tests\nworking with an extracted placement, starting with getting the\ndatabase fixture cleaner.\n\nPerhaps not surprisingly, trying to share the same \'cfg.CONF\' between\ntwo services is rather fraught. Rather than trying to tease out all the\nindividual issues, which is a very time consuming effort for not much\ngain, a different time consuming effort with great gain was tried\ninstead.\n\nThis patch removes the use of the default global cfg.CONF that\noslo_config (optionally) provides and instead ensures that at\nthe various ways in which one might enter placement: wsgi, cli,\ntests, the config is generated and managed in a more explicit\nfashion.\n\nUnfortunately this is a large change, but there\'s no easy way to do it\nin incremental chunks without getting very confused and having tests\npass. There are a few classes of changes here, surrounded by various\ncleanups to address their addition. Quite a few holes were found in how\nconfig is managed, especially in tests where often we were getting what\nwe wanted pretty much by accident.\n\nThe big changes:\n\n* Importing placement.conf does not automatically register options\n  with the global conf. Instead there is a now a register_opts method\n  to which a ConfigOpts() is required.\n\n* Because of policy enforcement wanting access to conf, a convenient way\n  of having the config pass through context.can() was needed. At\n  the start of PlacementHandler (the main dispatch routine) the\n  current config (provided to the PlacementHandler at application\n  configuration time) is set as an attribute on the RequestContext.\n  This is also used where CONF is required in the objects, such as\n  randomizing the limited allocation canidates.\n\n* The --sql command for alembic commands has been disabled. We don\'t\n  really need that and it would require some messing about with config.\n  The command lets you dump raw sql intead of migration files.\n\n* PlacementFixture, for use by nova, has been expanded to create and\n  manage its config, database and policy requirements using non-global\n  config. It can also accept a previously prepared config.\n\n* The Database fixtures calls \'reset()\' in both setUp and cleanUp to be\n  certain we are both starting and ending in a known state that will\n  not disturb or be disturbed by other tests. Configuring the db is\n  moved into setUp where it should have been all along, but is important\n  to be there _after_ \'reset()\'.\n\nThese of course cascade other changes all over the place. Especially the\nneed to manually register_opts. There are probably refactorings that can\nbe done or base classes that can be removed.\n\nCommand line tools (e.g. status) which are mostly based on external\nlibraries continue to use config in the pre-existing way.\n\nA lock fixture for the opportunistic migration tests has been added.\nThere was a lock fixture previously, provided by oslo_concurrency, but\nit, as far as I can tell, requires global config. We don\'t want that.\n\nThis that will need to be changed as a result of these change:\n\n* The goals doc at https://review.openstack.org/#/c/618811/ will\n  need to be change to say ""keep it this way"" rather than ""get it\n  this way"".\n\nChange-Id: Icd629d7cd6d68ca08f9f3b4f0465c3d9a1efeb22\n'}, {'number': 8, 'created': '2018-11-30 14:52:25.000000000', 'files': ['placement/tests/unit/test_db_conf.py', 'placement/objects/project.py', 'placement/tests/unit/cmd/test_manage.py', 'placement/tests/functional/db/test_allocation_candidates.py', 'placement/tests/unit/test_handler.py', 'placement/cmd/manage.py', 'placement/handlers/util.py', 'placement/tests/fixtures.py', 'placement/policy.py', 'placement/util.py', 'placement/wsgi.py', 'placement/tests/unit/handlers/test_util.py', 'placement/tests/unit/test_db_api.py', 'placement/tests/functional/fixtures/placement.py', 'placement/tests/unit/test_policy.py', 'placement/db/sqlalchemy/alembic/env.py', 'placement/tests/functional/test_direct.py', 'placement/context.py', 'placement/objects/resource_provider.py', 'placement/deploy.py', 'placement/tests/functional/db/test_migrations.py', 'placement/tests/functional/test_verify_policy.py', 'placement/tests/unit/policy_fixture.py', 'placement/tests/functional/db/test_consumer.py', 'placement/tests/functional/fixtures/gabbits.py', 'placement/tests/unit/test_util.py', 'placement/tests/unit/objects/test_resource_provider.py', 'placement/objects/user.py', 'placement/tests/functional/base.py', 'placement/handler.py', 'placement/conf/__init__.py', 'placement/tests/unit/test_deploy.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/6fa9eabb79753f0a77a26eac1035edeb58e3c16d', 'message': 'Stop using global oslo_config\n\nThis change was driven out of trying to get nova functional tests\nworking with an extracted placement, starting with getting the\ndatabase fixture cleaner.\n\nPerhaps not surprisingly, trying to share the same \'cfg.CONF\' between\ntwo services is rather fraught. Rather than trying to tease out all the\nindividual issues, which is a very time consuming effort for not much\ngain, a different time consuming effort with great gain was tried\ninstead.\n\nThis patch removes the use of the default global cfg.CONF that\noslo_config (optionally) provides and instead ensures that at\nthe various ways in which one might enter placement: wsgi, cli,\ntests, the config is generated and managed in a more explicit\nfashion.\n\nUnfortunately this is a large change, but there\'s no easy way to do it\nin incremental chunks without getting very confused and having tests\npass. There are a few classes of changes here, surrounded by various\ncleanups to address their addition. Quite a few holes were found in how\nconfig is managed, especially in tests where often we were getting what\nwe wanted pretty much by accident.\n\nThe big changes:\n\n* Importing placement.conf does not automatically register options\n  with the global conf. Instead there is a now a register_opts method\n  to which a ConfigOpts() is required.\n\n* Because of policy enforcement wanting access to conf, a convenient way\n  of having the config pass through context.can() was needed. At\n  the start of PlacementHandler (the main dispatch routine) the\n  current config (provided to the PlacementHandler at application\n  configuration time) is set as an attribute on the RequestContext.\n  This is also used where CONF is required in the objects, such as\n  randomizing the limited allocation canidates.\n\n* Passing in config to PlacementHandler changes the way the gabbi fixture\n  loads the WSGI application. To work around a shortcoming in gabbi\n  the fixture needs to CONF global. This is _not_ an\n  oslo_config.cfg.CONF global, but something used locally in the fixture\n  to set a different config per gabbi test suite.\n\n* The --sql command for alembic commands has been disabled. We don\'t\n  really need that and it would require some messing about with config.\n  The command lets you dump raw sql intead of migration files.\n\n* PlacementFixture, for use by nova, has been expanded to create and\n  manage its config, database and policy requirements using non-global\n  config. It can also accept a previously prepared config.\n\n* The Database fixtures calls \'reset()\' in both setUp and cleanUp to be\n  certain we are both starting and ending in a known state that will\n  not disturb or be disturbed by other tests. This adds confidence (but\n  not a guarantee) that in tests that run with eventlet (as in nova)\n  things are in more consistent state.\n\n* Configuring the db in the Database fixture is moved into setUp where\n  it should have been all along, but is important to be there _after_\n  \'reset()\'.\n\nThese of course cascade other changes all over the place. Especially the\nneed to manually register_opts. There are probably refactorings that can\nbe done or base classes that can be removed.\n\nCommand line tools (e.g. status) which are mostly based on external\nlibraries continue to use config in the pre-existing way.\n\nA lock fixture for the opportunistic migration tests has been added.\nThere was a lock fixture previously, provided by oslo_concurrency, but\nit, as far as I can tell, requires global config. We don\'t want that.\n\nThings that will need to be changed as a result of these changes:\n\n* The goals doc at https://review.openstack.org/#/c/618811/ will\n  need to be changed to say ""keep it this way"" rather than ""get it\n  this way"".\n\nChange-Id: Icd629d7cd6d68ca08f9f3b4f0465c3d9a1efeb22\n'}]",30,619121,6fa9eabb79753f0a77a26eac1035edeb58e3c16d,33,4,8,11564,,,0,"Stop using global oslo_config

This change was driven out of trying to get nova functional tests
working with an extracted placement, starting with getting the
database fixture cleaner.

Perhaps not surprisingly, trying to share the same 'cfg.CONF' between
two services is rather fraught. Rather than trying to tease out all the
individual issues, which is a very time consuming effort for not much
gain, a different time consuming effort with great gain was tried
instead.

This patch removes the use of the default global cfg.CONF that
oslo_config (optionally) provides and instead ensures that at
the various ways in which one might enter placement: wsgi, cli,
tests, the config is generated and managed in a more explicit
fashion.

Unfortunately this is a large change, but there's no easy way to do it
in incremental chunks without getting very confused and having tests
pass. There are a few classes of changes here, surrounded by various
cleanups to address their addition. Quite a few holes were found in how
config is managed, especially in tests where often we were getting what
we wanted pretty much by accident.

The big changes:

* Importing placement.conf does not automatically register options
  with the global conf. Instead there is a now a register_opts method
  to which a ConfigOpts() is required.

* Because of policy enforcement wanting access to conf, a convenient way
  of having the config pass through context.can() was needed. At
  the start of PlacementHandler (the main dispatch routine) the
  current config (provided to the PlacementHandler at application
  configuration time) is set as an attribute on the RequestContext.
  This is also used where CONF is required in the objects, such as
  randomizing the limited allocation canidates.

* Passing in config to PlacementHandler changes the way the gabbi fixture
  loads the WSGI application. To work around a shortcoming in gabbi
  the fixture needs to CONF global. This is _not_ an
  oslo_config.cfg.CONF global, but something used locally in the fixture
  to set a different config per gabbi test suite.

* The --sql command for alembic commands has been disabled. We don't
  really need that and it would require some messing about with config.
  The command lets you dump raw sql intead of migration files.

* PlacementFixture, for use by nova, has been expanded to create and
  manage its config, database and policy requirements using non-global
  config. It can also accept a previously prepared config.

* The Database fixtures calls 'reset()' in both setUp and cleanUp to be
  certain we are both starting and ending in a known state that will
  not disturb or be disturbed by other tests. This adds confidence (but
  not a guarantee) that in tests that run with eventlet (as in nova)
  things are in more consistent state.

* Configuring the db in the Database fixture is moved into setUp where
  it should have been all along, but is important to be there _after_
  'reset()'.

These of course cascade other changes all over the place. Especially the
need to manually register_opts. There are probably refactorings that can
be done or base classes that can be removed.

Command line tools (e.g. status) which are mostly based on external
libraries continue to use config in the pre-existing way.

A lock fixture for the opportunistic migration tests has been added.
There was a lock fixture previously, provided by oslo_concurrency, but
it, as far as I can tell, requires global config. We don't want that.

Things that will need to be changed as a result of these changes:

* The goals doc at https://review.openstack.org/#/c/618811/ will
  need to be changed to say ""keep it this way"" rather than ""get it
  this way"".

Change-Id: Icd629d7cd6d68ca08f9f3b4f0465c3d9a1efeb22
",git fetch https://review.opendev.org/openstack/placement refs/changes/21/619121/8 && git format-patch -1 --stdout FETCH_HEAD,"['placement/tests/functional/fixtures/gabbits.py', 'placement/tests/functional/base.py', 'placement/tests/fixtures.py', 'placement/tests/functional/fixtures/placement.py']",4,1ec2bdcdd1abdda8b78fdfca5da600b6e909ec4e,cd/ksa-remove," database, unless the db kwarg is False."," database, unless the db kwargs is False.",16,29
openstack%2Frequirements~master~I0312390e850dc8758a8f68209c9a5d55de1bbc9c,openstack/requirements,master,I0312390e850dc8758a8f68209c9a5d55de1bbc9c,update constraint for oslo.context to new release 2.22.0,MERGED,2018-11-29 21:38:48.000000000,2018-11-30 18:41:35.000000000,2018-11-30 18:41:35.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-29 21:38:48.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d2b77ad812441d9bd16f75879fb97cda7076ce0e', 'message': 'update constraint for oslo.context to new release 2.22.0\n\nChange-Id: I0312390e850dc8758a8f68209c9a5d55de1bbc9c\nmeta:version: 2.22.0\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Lance Bragstad <lbragstad@gmail.com>\nmeta:release:Commit: Lance Bragstad <lbragstad@gmail.com>\nmeta:release:Change-Id: Id3c95cec5ae5161529939d1a0921389543b1085e\nmeta:release:Code-Review+1: Ben Nemec <openstack@nemebean.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,621029,d2b77ad812441d9bd16f75879fb97cda7076ce0e,6,2,1,11131,,,0,"update constraint for oslo.context to new release 2.22.0

Change-Id: I0312390e850dc8758a8f68209c9a5d55de1bbc9c
meta:version: 2.22.0
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Lance Bragstad <lbragstad@gmail.com>
meta:release:Commit: Lance Bragstad <lbragstad@gmail.com>
meta:release:Change-Id: Id3c95cec5ae5161529939d1a0921389543b1085e
meta:release:Code-Review+1: Ben Nemec <openstack@nemebean.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/29/621029/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,d2b77ad812441d9bd16f75879fb97cda7076ce0e,new-release,oslo.context===2.22.0,oslo.context===2.21.0,1,1
openstack%2Ftripleo-quickstart~master~If47275b6e7d0548bd978289380a21e80d8551b14,openstack/tripleo-quickstart,master,If47275b6e7d0548bd978289380a21e80d8551b14,Add test_black_regex for fs052 standalone for failing tempest,ABANDONED,2018-11-30 16:28:01.000000000,2018-11-30 18:37:46.000000000,,"[{'_account_id': 8175}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 18846}, {'_account_id': 24162}]","[{'number': 1, 'created': '2018-11-30 16:28:01.000000000', 'files': ['config/general_config/featureset052.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/55cfd7e7a9a77fbe942a549588a9caac7f16fec6', 'message': 'Add test_black_regex for fs052 standalone for failing tempest\n\nThis just adds the failing test to skip with test_black_regex\nto unblock the job pending a fix for the test. Details in bug.\n\nChange-Id: If47275b6e7d0548bd978289380a21e80d8551b14\nRelated-Bug: #1806075\n'}]",0,621221,55cfd7e7a9a77fbe942a549588a9caac7f16fec6,8,7,1,8449,,,0,"Add test_black_regex for fs052 standalone for failing tempest

This just adds the failing test to skip with test_black_regex
to unblock the job pending a fix for the test. Details in bug.

Change-Id: If47275b6e7d0548bd978289380a21e80d8551b14
Related-Bug: #1806075
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/21/621221/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset052.yml'],1,55cfd7e7a9a77fbe942a549588a9caac7f16fec6,bug/1806075,test_black_regex: - 'tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_hotplug_nic',,2,0
openstack%2Fironic-lib~master~I2f39305b6398de1a098f3a0e446444b6d1a9d12e,openstack/ironic-lib,master,I2f39305b6398de1a098f3a0e446444b6d1a9d12e,zuul-ify ironic-lib jobs,MERGED,2018-10-26 00:26:40.000000000,2018-11-30 18:36:02.000000000,2018-11-30 18:36:02.000000000,"[{'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-26 00:26:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/7e388a18b425443796e9fce5777db87b8c79f3c4', 'message': 'zuul-ify ironic-lib jobs\n\nChange-Id: I2f39305b6398de1a098f3a0e446444b6d1a9d12e\n'}, {'number': 2, 'created': '2018-10-26 16:52:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/c122fd6c2ac37b81bb82892621c9200c22e8ff0f', 'message': 'zuul-ify ironic-lib jobs\n\nChange-Id: I2f39305b6398de1a098f3a0e446444b6d1a9d12e\n'}, {'number': 3, 'created': '2018-10-29 19:32:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/a9f758f2bf952f3a28e8c609ff0595f89a4181cd', 'message': 'zuul-ify ironic-lib jobs\n\nChange-Id: I2f39305b6398de1a098f3a0e446444b6d1a9d12e\n'}, {'number': 4, 'created': '2018-10-29 19:43:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/ee0a15764f93d7115b5704cb895831b46ccaca17', 'message': 'zuul-ify ironic-lib jobs\n\nChange-Id: I2f39305b6398de1a098f3a0e446444b6d1a9d12e\n'}, {'number': 5, 'created': '2018-11-02 13:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/eaf45e72586a4066daa4458860c503a839eb9b9d', 'message': 'zuul-ify ironic-lib jobs\n\nChange-Id: I2f39305b6398de1a098f3a0e446444b6d1a9d12e\n'}, {'number': 6, 'created': '2018-11-26 23:50:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/fad4460f53dad9cbf51751876c53c7ed22913851', 'message': 'zuul-ify ironic-lib jobs\n\nChange-Id: I2f39305b6398de1a098f3a0e446444b6d1a9d12e\n'}, {'number': 7, 'created': '2018-11-27 14:16:11.000000000', 'files': ['playbooks/legacy/ironic-lib-tempest-wholedisk-agent_ipmitool/run.yaml', 'playbooks/legacy/ironic-lib-tempest-partition-pxe_ipmitool/post.yaml', 'zuul.d/ironic-lib-jobs.yaml', 'playbooks/legacy/ironic-lib-tempest-partition-pxe_ipmitool/run.yaml', 'playbooks/legacy/ironic-lib-tempest-partition-agent_ipmitool/post.yaml', 'playbooks/legacy/ironic-lib-tempest-wholedisk-pxe_ipmitool/run.yaml', 'playbooks/legacy/ironic-lib-tempest-wholedisk-agent_ipmitool/post.yaml', 'zuul.d/legacy-ironic-lib-jobs.yaml', 'zuul.d/project.yaml', 'playbooks/legacy/ironic-lib-tempest-wholedisk-pxe_ipmitool/post.yaml', 'playbooks/legacy/ironic-lib-tempest-partition-agent_ipmitool/run.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/554e4ab37ce7652fa36556c293d5eb6f2c78974e', 'message': 'zuul-ify ironic-lib jobs\n\nChange-Id: I2f39305b6398de1a098f3a0e446444b6d1a9d12e\n'}]",16,613453,554e4ab37ce7652fa36556c293d5eb6f2c78974e,24,4,7,11655,,,0,"zuul-ify ironic-lib jobs

Change-Id: I2f39305b6398de1a098f3a0e446444b6d1a9d12e
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/53/613453/5 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/ironic-lib-tempest-wholedisk-agent_ipmitool/run.yaml', 'playbooks/legacy/ironic-lib-tempest-partition-pxe_ipmitool/post.yaml', 'zuul.d/ironic-lib-jobs.yaml', 'playbooks/legacy/ironic-lib-tempest-partition-agent_ipmitool/post.yaml', 'playbooks/legacy/ironic-lib-tempest-partition-pxe_ipmitool/run.yaml', 'playbooks/legacy/ironic-lib-tempest-wholedisk-pxe_ipmitool/run.yaml', 'playbooks/legacy/ironic-lib-tempest-wholedisk-agent_ipmitool/post.yaml', 'zuul.d/legacy-ironic-lib-jobs.yaml', 'zuul.d/project.yaml', 'playbooks/legacy/ironic-lib-tempest-wholedisk-pxe_ipmitool/post.yaml', 'playbooks/legacy/ironic-lib-tempest-partition-agent_ipmitool/run.yaml']",11,7e388a18b425443796e9fce5777db87b8c79f3c4,ironic-zuulv3-python3,,"- hosts: all name: Autoconverted job legacy-tempest-dsvm-ironic-lib-partition-agent_ipmitool from old job gate-tempest-dsvm-ironic-lib-partition-agent_ipmitool-ubuntu-xenial tasks: - name: Ensure legacy workspace directory file: path: '{{ ansible_user_dir }}/workspace' state: directory - shell: cmd: | set -e set -x cat > clonemap.yaml << EOF clonemap: - name: openstack-infra/devstack-gate dest: devstack-gate EOF /usr/zuul-env/bin/zuul-cloner -m clonemap.yaml --cache-dir /opt/git \ git://git.openstack.org \ openstack-infra/devstack-gate executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | cat << 'EOF' >> ironic-extra-vars export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_VM_SPECS_RAM=384"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_RAMDISK_TYPE=tinyipa"" EOF chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | cat << 'EOF' >> ironic-extra-vars export DEVSTACK_GATE_TEMPEST_REGEX=""ironic_tempest_plugin.tests.scenario"" EOF chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | cat << 'EOF' >> ironic-extra-vars export DEVSTACK_PROJECT_FROM_GIT=""ironic-lib,$DEVSTACK_PROJECT_FROM_GIT"" EOF chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | cat << 'EOF' >> ironic-vars-early # use tempest plugin export DEVSTACK_LOCAL_CONFIG+=$'\n'""TEMPEST_PLUGINS+=' /opt/stack/new/ironic-tempest-plugin'"" export TEMPEST_CONCURRENCY=1 EOF chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x export PROJECTS=""openstack/ironic $PROJECTS"" export PROJECTS=""openstack/ironic-lib $PROJECTS"" export PROJECTS=""openstack/ironic-python-agent $PROJECTS"" export PROJECTS=""openstack/ironic-tempest-plugin $PROJECTS"" export PROJECTS=""openstack/python-ironicclient $PROJECTS"" export PROJECTS=""openstack/pyghmi $PROJECTS"" export PROJECTS=""openstack/virtualbmc $PROJECTS"" export PYTHONUNBUFFERED=true export DEVSTACK_GATE_TEMPEST=1 export DEVSTACK_GATE_IRONIC=1 export DEVSTACK_GATE_NEUTRON=1 export DEVSTACK_GATE_VIRT_DRIVER=ironic export DEVSTACK_GATE_CONFIGDRIVE=1 export DEVSTACK_GATE_IRONIC_DRIVER=ipmi export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_DEFAULT_DEPLOY_INTERFACE=direct"" # direct deploy requires Swift temporary URLs export DEVSTACK_LOCAL_CONFIG+=$'\n'""SWIFT_ENABLE_TEMPURLS=True"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""SWIFT_TEMPURL_KEY=secretkey"" export BRANCH_OVERRIDE=default if [ ""$BRANCH_OVERRIDE"" != ""default"" ] ; then export OVERRIDE_ZUUL_BRANCH=$BRANCH_OVERRIDE fi if [[ ! ""stable/newton stable/ocata stable/pike"" =~ $ZUUL_BRANCH ]] ; then export DEVSTACK_GATE_TLSPROXY=1 fi export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_TEMPEST_WHOLE_DISK_IMAGE=False"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_VM_EPHEMERAL_DISK=1"" export DEVSTACK_GATE_IRONIC_BUILD_RAMDISK=1 export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_INSPECTOR_BUILD_RAMDISK=True"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""USE_SUBNETPOOL=False"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_VM_COUNT=1"" # Ensure the ironic-vars-EARLY file exists touch ironic-vars-early # Pull in the EARLY variables injected by the optional builders source ironic-vars-early export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin ironic git://git.openstack.org/openstack/ironic"" # Ensure the ironic-EXTRA-vars file exists touch ironic-extra-vars # Pull in the EXTRA variables injected by the optional builders source ironic-extra-vars cp devstack-gate/devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' ",74,553
openstack%2Fnetworking-bgpvpn~master~Ib1623e6e060d6c5e868b51fbbf791da88b4dcd25,openstack/networking-bgpvpn,master,Ib1623e6e060d6c5e868b51fbbf791da88b4dcd25,DNM: make py27 tests pass in zuul,ABANDONED,2018-11-30 14:59:42.000000000,2018-11-30 18:32:03.000000000,,"[{'_account_id': 8871}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-30 14:59:42.000000000', 'files': ['bgpvpn_dashboard/test/api_tests/test_bgpvpn.py'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/a81f81e73027d3d8d88d050c7cb56553b11a3560', 'message': 'DNM: make py27 tests pass in zuul\n\nChange-Id: Ib1623e6e060d6c5e868b51fbbf791da88b4dcd25\n'}]",0,621177,a81f81e73027d3d8d88d050c7cb56553b11a3560,4,2,1,17685,,,0,"DNM: make py27 tests pass in zuul

Change-Id: Ib1623e6e060d6c5e868b51fbbf791da88b4dcd25
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/77/621177/1 && git format-patch -1 --stdout FETCH_HEAD,['bgpvpn_dashboard/test/api_tests/test_bgpvpn.py'],1,a81f81e73027d3d8d88d050c7cb56553b11a3560,,from openstack_auth import middleware,,1,0
openstack%2Fhorizon~master~If5436647a30c02d0dab7daa23b2290456c66d654,openstack/horizon,master,If5436647a30c02d0dab7daa23b2290456c66d654,Get rid of keys() usage,MERGED,2018-11-30 11:27:12.000000000,2018-11-30 18:14:43.000000000,2018-11-30 18:14:43.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-30 11:27:12.000000000', 'files': ['horizon/base.py', 'openstack_dashboard/utils/config_types.py', 'openstack_auth/policy.py', 'openstack_dashboard/test/unit/api/test_cinder.py', 'openstack_dashboard/dashboards/identity/domains/workflows.py', 'openstack_dashboard/dashboards/identity/projects/workflows.py', 'openstack_dashboard/test/unit/api/test_nova.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/c02b9fc2dd7aaa5e16b23e567c08365c903b7b1d', 'message': 'Get rid of keys() usage\n\nfor x in some_dict.keys() can be written as for x in some_dict\n\nChange-Id: If5436647a30c02d0dab7daa23b2290456c66d654\n'}]",0,621142,c02b9fc2dd7aaa5e16b23e567c08365c903b7b1d,7,3,1,29313,,,0,"Get rid of keys() usage

for x in some_dict.keys() can be written as for x in some_dict

Change-Id: If5436647a30c02d0dab7daa23b2290456c66d654
",git fetch https://review.opendev.org/openstack/horizon refs/changes/42/621142/1 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/base.py', 'openstack_dashboard/utils/config_types.py', 'openstack_auth/policy.py', 'openstack_dashboard/test/unit/api/test_cinder.py', 'openstack_dashboard/dashboards/identity/domains/workflows.py', 'openstack_dashboard/dashboards/identity/projects/workflows.py', 'openstack_dashboard/test/unit/api/test_nova.py']",7,c02b9fc2dd7aaa5e16b23e567c08365c903b7b1d,, for key in expected_results:, for key in expected_results.keys():,7,7
openstack%2Fhorizon~master~I6b2be31568e4aa4273990f9cfa76ca139620c84b,openstack/horizon,master,I6b2be31568e4aa4273990f9cfa76ca139620c84b,Add Fix django.contrib.auth.middleware monkey patching for APITestCase,MERGED,2018-11-30 15:35:50.000000000,2018-11-30 17:51:09.000000000,2018-11-30 17:51:09.000000000,"[{'_account_id': 841}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23735}]","[{'number': 1, 'created': '2018-11-30 15:35:50.000000000', 'files': ['openstack_dashboard/test/helpers.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/de69edd0402146d76c65cec6cc7879c71259fbbf', 'message': 'Add Fix django.contrib.auth.middleware monkey patching for APITestCase\n\nThis patch rollbacks changes in APITestCase introduced in the\n0d163613265e036818fe567793a4fc88fe140d4a commit to unblock Horizon\nplugins gates.\n\nChange-Id: I6b2be31568e4aa4273990f9cfa76ca139620c84b\nCloses-bug: #1806053\nCloses-bug: #1805240\n'}]",0,621186,de69edd0402146d76c65cec6cc7879c71259fbbf,9,4,1,1736,,,0,"Add Fix django.contrib.auth.middleware monkey patching for APITestCase

This patch rollbacks changes in APITestCase introduced in the
0d163613265e036818fe567793a4fc88fe140d4a commit to unblock Horizon
plugins gates.

Change-Id: I6b2be31568e4aa4273990f9cfa76ca139620c84b
Closes-bug: #1806053
Closes-bug: #1805240
",git fetch https://review.opendev.org/openstack/horizon refs/changes/86/621186/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/test/helpers.py'],1,de69edd0402146d76c65cec6cc7879c71259fbbf,bug/1806053,"class APITestCase(TestCase): def setUp(self): super(APITestCase, self).setUp() utils.patch_middleware_get_user()",# NOTE(adriant): APITestCase was only needed for some openstack_auth # monkeypatching. With the new monkeypatch middleware from openstack_auth this # is not needed. # TODO(adriant): Clean up APITestCase usage in horizon plugins. APITestCase = TestCase,4,5
openstack%2Foctavia-dashboard~master~I56ce5884f26c7f98c50c10bccd30b4712eb79fe3,openstack/octavia-dashboard,master,I56ce5884f26c7f98c50c10bccd30b4712eb79fe3,Imported Translations from Zanata,MERGED,2018-11-30 07:57:13.000000000,2018-11-30 17:48:26.000000000,2018-11-30 17:48:26.000000000,"[{'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-30 07:57:13.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/b52a99013226e7843e9429d8d0bfcf84f846a58a', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I56ce5884f26c7f98c50c10bccd30b4712eb79fe3\n'}]",0,621119,b52a99013226e7843e9429d8d0bfcf84f846a58a,7,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I56ce5884f26c7f98c50c10bccd30b4712eb79fe3
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/19/621119/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,b52a99013226e7843e9429d8d0bfcf84f846a58a,zanata/translations,"""POT-Creation-Date: 2018-11-27 14:24+0000\n""""PO-Revision-Date: 2018-11-29 09:09+0000\n""msgid ""2.0.0.0rc1-27"" msgstr ""2.0.0.0rc1-27""","""POT-Creation-Date: 2018-11-18 00:27+0000\n""""PO-Revision-Date: 2018-11-21 01:51+0000\n""msgid ""2.0.0.0rc1-26"" msgstr ""2.0.0.0rc1-26""",4,4
openstack%2Fansible-role-redhat-subscription~master~I7aea9173822647a4601167bb2f9e77394d0ed602,openstack/ansible-role-redhat-subscription,master,I7aea9173822647a4601167bb2f9e77394d0ed602,Set up repos when using portal with activation key,MERGED,2018-11-29 15:22:17.000000000,2018-11-30 17:48:25.000000000,2018-11-30 17:48:25.000000000,"[{'_account_id': 3153}, {'_account_id': 13039}, {'_account_id': 18851}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-29 15:22:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/76a0e64fb5bbafb37997a6b3f4f3574e1e0cde9b', 'message': 'DNM: Set up repos when using portal with activation key\n\nChange-Id: I7aea9173822647a4601167bb2f9e77394d0ed602\n'}, {'number': 2, 'created': '2018-11-29 15:30:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/c66f1f4d197054ba57235ed94ca460a35b830d04', 'message': 'DNM: Set up repos when using portal with activation key\n\nChange-Id: I7aea9173822647a4601167bb2f9e77394d0ed602\n'}, {'number': 3, 'created': '2018-11-29 16:28:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/d9d9effc7e233c730478cdc06f6049216b3aec67', 'message': 'Set up repos when using portal with activation key\n\nWhen using activation key with portal registration method we need\nto provide the repositories list to be enabled.\n\nChange-Id: I7aea9173822647a4601167bb2f9e77394d0ed602\n'}, {'number': 4, 'created': '2018-11-29 16:42:24.000000000', 'files': ['tasks/main.yml', 'tasks/portal.yml', 'README.md'], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/1b3e473520da6fdf45c5131d642198a7ed2ec24b', 'message': 'Set up repos when using portal with activation key\n\nWhen using activation key with portal registration method we need\nto provide the repositories list to be enabled.\n\nChange-Id: I7aea9173822647a4601167bb2f9e77394d0ed602\n'}]",4,620937,1b3e473520da6fdf45c5131d642198a7ed2ec24b,16,4,4,18851,,,0,"Set up repos when using portal with activation key

When using activation key with portal registration method we need
to provide the repositories list to be enabled.

Change-Id: I7aea9173822647a4601167bb2f9e77394d0ed602
",git fetch https://review.opendev.org/openstack/ansible-role-redhat-subscription refs/changes/37/620937/4 && git format-patch -1 --stdout FETCH_HEAD,['tasks/portal.yml'],1,76a0e64fb5bbafb37997a6b3f4f3574e1e0cde9b,fix_portal_activation_key,, - rhsm_activation_key is not defined,0,1
openstack%2Fpython-octaviaclient~master~Ib81a87939f63a25a40f294feaca50f2fee33fe4a,openstack/python-octaviaclient,master,Ib81a87939f63a25a40f294feaca50f2fee33fe4a,Add Python 3.6 classifier to setup.cfg,MERGED,2018-11-30 07:12:09.000000000,2018-11-30 17:38:24.000000000,2018-11-30 17:38:24.000000000,"[{'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-30 07:12:09.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/300fd657d6a33b5be472308f37a144ffba584d08', 'message': 'Add Python 3.6 classifier to setup.cfg\n\nChange-Id: Ib81a87939f63a25a40f294feaca50f2fee33fe4a\n'}]",0,621094,300fd657d6a33b5be472308f37a144ffba584d08,7,3,1,17499,,,0,"Add Python 3.6 classifier to setup.cfg

Change-Id: Ib81a87939f63a25a40f294feaca50f2fee33fe4a
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/94/621094/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,300fd657d6a33b5be472308f37a144ffba584d08,, Programming Language :: Python :: 3.6,,1,0
openstack%2Fopenstack-ansible-os_neutron~master~I6410824e74f304938d9515f7daa23391a1057d53,openstack/openstack-ansible-os_neutron,master,I6410824e74f304938d9515f7daa23391a1057d53,Bug fix: Bridge br-provider missing in dvr,ABANDONED,2018-11-20 19:26:15.000000000,2018-11-30 17:36:35.000000000,,"[{'_account_id': 16011}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-20 19:26:15.000000000', 'files': ['tasks/main.yml', 'tasks/providers/ovs_config.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/da5b542bee51f53ea43ab275053f3ec82c8e59a9', 'message': 'Bug fix: Bridge br-provider missing in dvr\n\nAccording to the config we suggest for dvr:\n\nhttps://github.com/openstack/openstack-ansible-os_neutron/blob/master/doc/source/app-openvswitch-dvr.rst\n\nnetwork_mappings has the value ""physnet1:br-provider"", however,\nbr-provider is not created and thus the ovs agent fails with:\n\n""Bridge br-provider for physical network physnet1 does not exist.\nAgent terminated!""\n\nThis patch makes sure that when using ml2.ovs.dvr, the ovs_config.yml\nis executed and thus br-provider is created\n\nNote: all supported ml2 mechanism drivers are ml2.xxx (for example\nml2.ovn or ml2.opendaylight) except for ml2.ovs.dvr. Therefore,\nreplacing:\n\nneutron_plugin_type.split(\'.\')[-1]\n\nby:\n\nneutron_plugin_type.split(\'.\')[1]\n\ndoes not really matter and allows ml2.ovs.dvr to access ovs_config.yml\n\nChange-Id: I6410824e74f304938d9515f7daa23391a1057d53\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}]",1,619070,da5b542bee51f53ea43ab275053f3ec82c8e59a9,4,2,1,21883,,,0,"Bug fix: Bridge br-provider missing in dvr

According to the config we suggest for dvr:

https://github.com/openstack/openstack-ansible-os_neutron/blob/master/doc/source/app-openvswitch-dvr.rst

network_mappings has the value ""physnet1:br-provider"", however,
br-provider is not created and thus the ovs agent fails with:

""Bridge br-provider for physical network physnet1 does not exist.
Agent terminated!""

This patch makes sure that when using ml2.ovs.dvr, the ovs_config.yml
is executed and thus br-provider is created

Note: all supported ml2 mechanism drivers are ml2.xxx (for example
ml2.ovn or ml2.opendaylight) except for ml2.ovs.dvr. Therefore,
replacing:

neutron_plugin_type.split('.')[-1]

by:

neutron_plugin_type.split('.')[1]

does not really matter and allows ml2.ovs.dvr to access ovs_config.yml

Change-Id: I6410824e74f304938d9515f7daa23391a1057d53
Signed-off-by: Manuel Buil <mbuil@suse.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/70/619070/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/providers/ovs_config.yml']",2,da5b542bee51f53ea43ab275053f3ec82c8e59a9,," - ""'ml2.ovs' in neutron_plugin_type"" - ""'ml2.ovs' in neutron_plugin_type""", - neutron_plugin_type == 'ml2.ovs' - neutron_plugin_type == 'ml2.ovs',3,3
openstack%2Fkuryr-kubernetes~master~I0a8a7665b01ca6f66c13aa71df0e74adca811d9b,openstack/kuryr-kubernetes,master,I0a8a7665b01ca6f66c13aa71df0e74adca811d9b,Fix quota readiness check,MERGED,2018-11-29 10:59:36.000000000,2018-11-30 17:35:33.000000000,2018-11-30 17:35:33.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2018-11-29 10:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/75f6e0e9fad641c2eb69f7bd07a4d3db9faecc24', 'message': ""Fix quota readiness check\n\nFor the policy and vif handlers we didn't treated the case for when\nneutron resources doesn't have a limit defined, consequently it was\nmarked as not ready. This patchs fixes the issue by assuring the\ncomponent is marked as ready when it has no limit.\n\nChange-Id: I0a8a7665b01ca6f66c13aa71df0e74adca811d9b\n""}, {'number': 2, 'created': '2018-11-29 11:07:33.000000000', 'files': ['kuryr_kubernetes/controller/handlers/vif.py', 'kuryr_kubernetes/controller/managers/health.py', 'kuryr_kubernetes/controller/handlers/policy.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/38f541604ff490fbc381f78a23655e30e6aa0bcc', 'message': ""Fix quota readiness check\n\nFor the policy and vif handlers we didn't treat the case for when\nneutron resources don't have a limit defined, consequently it was\nmarked as not ready. This patchs fixes the issue by assuring the\ncomponent is marked as ready when it has no limit.\n\nCloses-bug: #1805814\n\nChange-Id: I0a8a7665b01ca6f66c13aa71df0e74adca811d9b\n""}]",0,620883,38f541604ff490fbc381f78a23655e30e6aa0bcc,13,4,2,27032,,,0,"Fix quota readiness check

For the policy and vif handlers we didn't treat the case for when
neutron resources don't have a limit defined, consequently it was
marked as not ready. This patchs fixes the issue by assuring the
component is marked as ready when it has no limit.

Closes-bug: #1805814

Change-Id: I0a8a7665b01ca6f66c13aa71df0e74adca811d9b
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/83/620883/2 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/handlers/vif.py', 'kuryr_kubernetes/controller/managers/health.py', 'kuryr_kubernetes/controller/handlers/policy.py']",3,75f6e0e9fad641c2eb69f7bd07a4d3db9faecc24,bug/1805814, return True,,3,1
openstack%2Fpython-novaclient~master~I091c82f60d9ae984cf61be8c6fe95ec68817cb75,openstack/python-novaclient,master,I091c82f60d9ae984cf61be8c6fe95ec68817cb75,Add Python 3.6 classifier to setup.cfg,MERGED,2018-11-30 07:11:18.000000000,2018-11-30 17:13:34.000000000,2018-11-30 17:13:34.000000000,"[{'_account_id': 679}, {'_account_id': 9545}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-11-30 07:11:18.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/3f967d975804f5cac4e492bace55b0322dc8fb93', 'message': 'Add Python 3.6 classifier to setup.cfg\n\nChange-Id: I091c82f60d9ae984cf61be8c6fe95ec68817cb75\n'}]",0,621093,3f967d975804f5cac4e492bace55b0322dc8fb93,8,4,1,17499,,,0,"Add Python 3.6 classifier to setup.cfg

Change-Id: I091c82f60d9ae984cf61be8c6fe95ec68817cb75
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/93/621093/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,3f967d975804f5cac4e492bace55b0322dc8fb93,, Programming Language :: Python :: 3.6,,1,0
openstack%2Fsushy~master~I3609df39c68f2149c1ff1a6818af7168bbd02df0,openstack/sushy,master,I3609df39c68f2149c1ff1a6818af7168bbd02df0,Add support for loading resources from archive file,MERGED,2018-08-06 13:00:53.000000000,2018-11-30 17:02:51.000000000,2018-11-30 17:02:51.000000000,"[{'_account_id': 10155}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 16635}, {'_account_id': 22348}, {'_account_id': 26340}, {'_account_id': 27909}]","[{'number': 1, 'created': '2018-08-06 13:00:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/5638c00f73a366ef3ffb97555ffe9503240e3475', 'message': 'Add support for loading resources from archive file\n\nAs Redfish Message registries can be hosted inside archive,\nadded support to load resource from JSON files in archive.\n\nCurrently supporting only ZIP archives, other can be added\nas need arises. The Redfish specification does not detail\nwhich types of archives need to be supported, but gives ZIP\nas an example.\n\nChange-Id: I3609df39c68f2149c1ff1a6818af7168bbd02df0\nStory: 2001791\nTask: 23062\n'}, {'number': 2, 'created': '2018-08-06 14:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/6cb0523f4b2ab8cbf5bba11da1861044f36295d2', 'message': 'Add support for loading resources from archive file\n\nAs Redfish Message registries can be hosted inside archive,\nadded support to load resource from JSON files in archive.\n\nCurrently supporting only ZIP archives, other can be added\nas need arises. The Redfish specification does not detail\nwhich types of archives need to be supported, but gives ZIP\nas an example.\n\nChange-Id: I3609df39c68f2149c1ff1a6818af7168bbd02df0\nStory: 2001791\nTask: 23062\n'}, {'number': 3, 'created': '2018-08-08 17:57:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/84895f0055953798aa7fdea7973b7c58a0156c12', 'message': 'Add support for loading resources from archive file\n\nAs Redfish Message registries can be reside inside archives,\nadded support to load resource from JSON files in archive.\n\nCurrently supporting only ZIP archives, support for other\narchive types can be added as need arises or specification is\nclarified. The Redfish specification does not detail\nwhich types of archives need to be supported, but gives ZIP\nas an example.\n\nChange-Id: I3609df39c68f2149c1ff1a6818af7168bbd02df0\nStory: 2001791\nTask: 23062\n'}, {'number': 4, 'created': '2018-08-09 07:32:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/a39fdc85f394dffd4dd43a4e0e84090a6a0a080c', 'message': 'Add support for loading resources from archive file\n\nAs Redfish Message registries can be reside inside archives,\nadded support to load resource from JSON files in archive.\n\nCurrently supporting only ZIP archives, support for other\narchive types can be added as need arises or specification is\nclarified. The Redfish specification does not detail\nwhich types of archives need to be supported, but gives ZIP\nas an example.\n\nChange-Id: I3609df39c68f2149c1ff1a6818af7168bbd02df0\nStory: 2001791\nTask: 23062\n'}, {'number': 5, 'created': '2018-08-16 18:23:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/7f5a1834396b2578990e79be7fa480c4a7ec5f9f', 'message': 'Add support for loading resources from archive file\n\nAs Redfish Message registries can be reside inside archives,\nadded support to load resource from JSON files in archive.\n\nCurrently supporting only ZIP archives, support for other\narchive types can be added as need arises or specification is\nclarified. The Redfish specification does not detail\nwhich types of archives need to be supported, but gives ZIP\nas an example.\n\nChange-Id: I3609df39c68f2149c1ff1a6818af7168bbd02df0\nStory: 2001791\nTask: 23062\n'}, {'number': 6, 'created': '2018-08-21 10:01:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/a084e206541a1d95769a1b87f9d1f90e6df25afd', 'message': 'Add support for loading resources from archive file\n\nAs Redfish Message registries can be reside inside archives,\nadded support to load resource from JSON files in archive.\n\nCurrently supporting only ZIP archives, support for other\narchive types can be added as need arises or specification is\nclarified. The Redfish specification does not detail\nwhich types of archives need to be supported, but gives ZIP\nas an example.\n\nChange-Id: I3609df39c68f2149c1ff1a6818af7168bbd02df0\nStory: 2001791\nTask: 23062\n'}, {'number': 7, 'created': '2018-08-21 10:08:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/69aaf42faa13f29873d97ef5ded0f1a4c85105c7', 'message': 'Add support for loading resources from archive file\n\nAs Redfish Message registries can be reside inside archives,\nadded support to load resource from JSON files in archive.\n\nCurrently supporting only ZIP archives, support for other\narchive types can be added as need arises or specification is\nclarified. The Redfish specification does not detail\nwhich types of archives need to be supported, but gives ZIP\nas an example.\n\nChange-Id: I3609df39c68f2149c1ff1a6818af7168bbd02df0\nStory: 2001791\nTask: 23062\n'}, {'number': 8, 'created': '2018-08-25 12:18:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/888ebb6382eecd0dfe853b1ebbe82105e61cc57e', 'message': 'Add support for loading resources from archive file\n\nAs Redfish Message registries can be reside inside archives,\nadded support to load resource from JSON files in archive.\n\nCurrently supporting only ZIP archives, support for other\narchive types can be added as need arises or specification is\nclarified. The Redfish specification does not detail\nwhich types of archives need to be supported, but gives ZIP\nas an example.\n\nChange-Id: I3609df39c68f2149c1ff1a6818af7168bbd02df0\nStory: 2001791\nTask: 23062\n'}, {'number': 9, 'created': '2018-09-01 14:56:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/d9b0b652890dfb19e394df935842d6f0364abc44', 'message': 'Add support for loading resources from archive file\n\nAs Redfish Message registries can be reside inside archives,\nadded support to load resource from JSON files in archive.\n\nCurrently supporting only ZIP archives, support for other\narchive types can be added as need arises or specification is\nclarified. The Redfish specification does not detail\nwhich types of archives need to be supported, but gives ZIP\nas an example.\n\nChange-Id: I3609df39c68f2149c1ff1a6818af7168bbd02df0\nStory: 2001791\nTask: 23062\n'}, {'number': 10, 'created': '2018-10-08 14:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/7821811ca8ee352cba9b49f11ccfc8633b4fa82a', 'message': 'Add support for loading resources from archive file\n\nAs Redfish Message registries can be reside inside archives,\nadded support to load resource from JSON files in archive.\n\nCurrently supporting only ZIP archives, support for other\narchive types can be added as need arises or specification is\nclarified. The Redfish specification does not detail\nwhich types of archives need to be supported, but gives ZIP\nas an example.\n\nChange-Id: I3609df39c68f2149c1ff1a6818af7168bbd02df0\nStory: 2001791\nTask: 23062\n'}, {'number': 11, 'created': '2018-11-01 12:27:35.000000000', 'files': ['sushy/tests/unit/resources/test_base.py', 'sushy/exceptions.py', 'sushy/resources/base.py', 'sushy/tests/unit/json_samples/TestRegistry.zip'], 'web_link': 'https://opendev.org/openstack/sushy/commit/878a32e07f81e4bdd64edff3ef8ce23ce82a1bbe', 'message': 'Add support for loading resources from archive file\n\nAs Redfish Message registries can be reside inside archives,\nadded support to load resource from JSON files in archive.\n\nCurrently supporting only ZIP archives, support for other\narchive types can be added as need arises or specification is\nclarified. The Redfish specification does not detail\nwhich types of archives need to be supported, but gives ZIP\nas an example.\n\nChange-Id: I3609df39c68f2149c1ff1a6818af7168bbd02df0\nStory: 2001791\nTask: 23062\n'}]",59,589147,878a32e07f81e4bdd64edff3ef8ce23ce82a1bbe,45,8,11,27909,,,0,"Add support for loading resources from archive file

As Redfish Message registries can be reside inside archives,
added support to load resource from JSON files in archive.

Currently supporting only ZIP archives, support for other
archive types can be added as need arises or specification is
clarified. The Redfish specification does not detail
which types of archives need to be supported, but gives ZIP
as an example.

Change-Id: I3609df39c68f2149c1ff1a6818af7168bbd02df0
Story: 2001791
Task: 23062
",git fetch https://review.opendev.org/openstack/sushy refs/changes/47/589147/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/tests/unit/resources/test_base.py', 'sushy/resources/base.py', 'sushy/tests/unit/json_samples/TestRegistry.zip']",3,5638c00f73a366ef3ffb97555ffe9503240e3475,load-archive-resource,,,50,2
openstack%2Fsushy-tools~master~Ic12030afe50d8342aafceced5ccb2d982ac0bd33,openstack/sushy-tools,master,Ic12030afe50d8342aafceced5ccb2d982ac0bd33,Rename SUSHY_EMULATOR_LIBVIRT_URL environment variable,MERGED,2018-11-07 11:52:17.000000000,2018-11-30 17:00:02.000000000,2018-11-30 17:00:02.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 29209}]","[{'number': 1, 'created': '2018-11-07 11:52:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/4d34bdb09d75296aa1450263d3de78e421aaca85', 'message': 'Rename SUSHY_EMULATOR_LIBVIRT_URL environment variable\n\nThis commit renames `SUSHY_EMULATOR_LIBVIRT_URL` environment variable\ninto `SUSHY_EMULATOR_LIBVIRT_URI` for consistency with the\ncorresponding command-line option and exiting libvirt parlance.\n\nChange-Id: Ic12030afe50d8342aafceced5ccb2d982ac0bd33\n'}, {'number': 2, 'created': '2018-11-28 11:36:36.000000000', 'files': ['sushy_tools/emulator/main.py'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/a7d29fdfb0814bf06a91cd26386bebfb75627727', 'message': 'Rename SUSHY_EMULATOR_LIBVIRT_URL environment variable\n\nThis commit renames `SUSHY_EMULATOR_LIBVIRT_URL` environment variable\ninto `SUSHY_EMULATOR_LIBVIRT_URI` for consistency with the\ncorresponding command-line option and exiting libvirt parlance.\n\nChange-Id: Ic12030afe50d8342aafceced5ccb2d982ac0bd33\n'}]",0,616170,a7d29fdfb0814bf06a91cd26386bebfb75627727,11,5,2,26340,,,0,"Rename SUSHY_EMULATOR_LIBVIRT_URL environment variable

This commit renames `SUSHY_EMULATOR_LIBVIRT_URL` environment variable
into `SUSHY_EMULATOR_LIBVIRT_URI` for consistency with the
corresponding command-line option and exiting libvirt parlance.

Change-Id: Ic12030afe50d8342aafceced5ccb2d982ac0bd33
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/70/616170/2 && git format-patch -1 --stdout FETCH_HEAD,['sushy_tools/emulator/main.py'],1,4d34bdb09d75296aa1450263d3de78e421aaca85,fix-libvirt-url-option," os.environ.get( 'SUSHY_EMULATOR_LIBVIRT_URI', # NOTE(etingof): left for backward compatibility os.environ.get('SUSHY_EMULATOR_LIBVIRT_URL')) '$SUSHY_EMULATOR_LIBVIRT_URI. '", os.environ.get('SUSHY_EMULATOR_LIBVIRT_URL') '$SUSHY_EMULATOR_LIBVIRT_URL. ',5,2
openstack%2Fcharm-openstack-dashboard~master~Ic6025bd10568a748e39faaf3a97b4b6a2c35a4d2,openstack/charm-openstack-dashboard,master,Ic6025bd10568a748e39faaf3a97b4b6a2c35a4d2,Remove apache 2.2 workarounds,MERGED,2018-11-28 20:13:54.000000000,2018-11-30 16:54:26.000000000,2018-11-30 16:25:10.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-28 20:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/a86775c27dcf4ce22072d78b3a90fa37bf243164', 'message': 'Fix install of apache2\n\nThe previous fix for Bug #1799500 had a stray comma.\n\nChange-Id: Ic6025bd10568a748e39faaf3a97b4b6a2c35a4d2\nCloses-Bug: #1799500\n'}, {'number': 2, 'created': '2018-11-28 21:50:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/f0276f475be512d884fc14443c3f7fe6c356a4fa', 'message': 'Revert previous attempted fix\n\nThe previous fix for Bug #1799500 was incorrect. Reverting.\n\nThis will need to be backported to stable.\n\nChange-Id: Ic6025bd10568a748e39faaf3a97b4b6a2c35a4d2\nPartial-Bug: #1799500\n'}, {'number': 3, 'created': '2018-11-28 21:55:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/1d1e5e6b0fa3ee2f9775ab29cb15829ef3d6d5d8', 'message': 'Revert previous attempted fix\n\nThe previous fix for Bug #1799500 was incorrect. Reverting.\nAnd adding a set -e to avoid future breakage.\n\nThis will need to be backported to stable.\n\nChange-Id: Ic6025bd10568a748e39faaf3a97b4b6a2c35a4d2\nPartial-Bug: #1799500\n'}, {'number': 4, 'created': '2018-11-29 16:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/aa9ad13aed116bcf6a346de0e785bdc654dc89a1', 'message': 'Remove apache 2.2 workarounds\n\nFrom trusty onwards apache 2.4 is installed. The charm no longer needs\nto check for apache 2.2 configurations.\n\nThis also solves Bug #1799500 where a package like javascript-common\npre-creates the /etc/apache directory leading to a failed\nregister_configs.\n\nNote: The previous fix for Bug #1799500 was incorrect.\nReverting and adding a set -e to avoid future breakage.\n\nThis will need to be backported to stable.\n\nChange-Id: Ic6025bd10568a748e39faaf3a97b4b6a2c35a4d2\nCloses-Bug: #1799500\n'}, {'number': 5, 'created': '2018-11-29 21:26:41.000000000', 'files': ['hooks/horizon_utils.py', 'unit_tests/test_horizon_utils.py', 'hooks/install'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/e9caae0a23461f3b503035e94865ccc3c8509a32', 'message': 'Remove apache 2.2 workarounds\n\nFrom trusty onwards apache 2.4 is installed. The charm no longer needs\nto check for apache 2.2 configurations.\n\nThis also solves Bug #1799500 where a package like javascript-common\npre-creates the /etc/apache directory leading to a failed\nregister_configs.\n\nNote: The previous fix for Bug #1799500 was incorrect.\nReverting and adding a set -e to avoid future breakage.\n\nThis will need to be backported to stable.\n\nChange-Id: Ic6025bd10568a748e39faaf3a97b4b6a2c35a4d2\nCloses-Bug: #1799500\n'}]",0,620688,e9caae0a23461f3b503035e94865ccc3c8509a32,22,4,5,20805,,,0,"Remove apache 2.2 workarounds

From trusty onwards apache 2.4 is installed. The charm no longer needs
to check for apache 2.2 configurations.

This also solves Bug #1799500 where a package like javascript-common
pre-creates the /etc/apache directory leading to a failed
register_configs.

Note: The previous fix for Bug #1799500 was incorrect.
Reverting and adding a set -e to avoid future breakage.

This will need to be backported to stable.

Change-Id: Ic6025bd10568a748e39faaf3a97b4b6a2c35a4d2
Closes-Bug: #1799500
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/88/620688/5 && git format-patch -1 --stdout FETCH_HEAD,['hooks/install'],1,a86775c27dcf4ce22072d78b3a90fa37bf243164,bug/1799500,declare -a DEPS=('apt' 'netaddr' 'netifaces' 'pip' 'yaml' 'dnspython' 'apache2'),"declare -a DEPS=('apt' 'netaddr' 'netifaces' 'pip' 'yaml' 'dnspython', 'apache2')",1,1
openstack%2Fcharm-layer-openstack~master~I1d509d0bc2c3fb77348edef6810fcdc30cdc9ab8,openstack/charm-layer-openstack,master,I1d509d0bc2c3fb77348edef6810fcdc30cdc9ab8,Add action to restart services,MERGED,2018-11-29 10:28:02.000000000,2018-11-30 16:50:47.000000000,2018-11-30 16:50:47.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-29 10:28:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-layer-openstack/commit/5923c55f7940c182d0ebdfd9c3a3614e59641c5b', 'message': 'Add action to restart services\n\nAdds an action to charms to trigger a service restart.\n\nDepends-On: Ic3521c08cdaa207e1391a32e03e53b276c51b309\nChange-Id: I1d509d0bc2c3fb77348edef6810fcdc30cdc9ab8\n'}, {'number': 2, 'created': '2018-11-30 15:35:11.000000000', 'files': ['actions/restart-services', 'actions.yaml', 'actions/os_actions.py'], 'web_link': 'https://opendev.org/openstack/charm-layer-openstack/commit/701cf8d2c4ac8dc7f25d8e6bd2c72b00cd3c66ed', 'message': 'Add action to restart services\n\nAdds an action to charms to trigger a service restart.\n\nDepends-On: Ic3521c08cdaa207e1391a32e03e53b276c51b309\nChange-Id: I1d509d0bc2c3fb77348edef6810fcdc30cdc9ab8\n'}]",1,620879,701cf8d2c4ac8dc7f25d8e6bd2c72b00cd3c66ed,11,3,2,12549,,,0,"Add action to restart services

Adds an action to charms to trigger a service restart.

Depends-On: Ic3521c08cdaa207e1391a32e03e53b276c51b309
Change-Id: I1d509d0bc2c3fb77348edef6810fcdc30cdc9ab8
",git fetch https://review.opendev.org/openstack/charm-layer-openstack refs/changes/79/620879/2 && git format-patch -1 --stdout FETCH_HEAD,"['actions/restart-services', 'wheelhouse.txt', 'actions.yaml', 'actions/os_actions.py']",4,5923c55f7940c182d0ebdfd9c3a3614e59641c5b,feature/restart-services,"def restart_services(*args): """"""Run the resume action."""""" with charms_openstack.charm.provide_charm_instance() as charm_instance: charm_instance.restart_services() ""restart-services"": restart_services,",,18,5
openstack%2Frally-openstack~master~I1da94316a462a7c1a18affe20d0708af8032e32f,openstack/rally-openstack,master,I1da94316a462a7c1a18affe20d0708af8032e32f,Make sure that NeutronScenario implementation supports ipv4 and ipv6,MERGED,2018-11-20 06:56:28.000000000,2018-11-30 16:50:45.000000000,2018-11-30 16:50:45.000000000,"[{'_account_id': 8871}, {'_account_id': 9545}, {'_account_id': 21528}, {'_account_id': 21897}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-20 06:56:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/2d5d8493776f8b524f15f496d519b370052d7a78', 'message': 'Make sure that subnet_cidr_start support ipv6\n\nChange-Id: I1da94316a462a7c1a18affe20d0708af8032e32f\n'}, {'number': 2, 'created': '2018-11-21 02:49:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/7257b3defe3a256e93af7f5f1dfc3355b498536f', 'message': 'Make sure that NeutronScenario implementation supports ipv4 and ipv6\n\nChange-Id: I1da94316a462a7c1a18affe20d0708af8032e32f\n'}, {'number': 3, 'created': '2018-11-21 03:09:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/4e83bad774ac1472683931e6a0fd1bffffb58715', 'message': 'Make sure that NeutronScenario implementation supports ipv4 and ipv6\n\nChange-Id: I1da94316a462a7c1a18affe20d0708af8032e32f\n'}, {'number': 4, 'created': '2018-11-22 06:25:59.000000000', 'files': ['rally_openstack/scenarios/neutron/utils.py', 'tests/unit/scenarios/neutron/test_utils.py'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/6e915b3486a72ab8536dc610e9d2ce2f35b1cc4b', 'message': 'Make sure that NeutronScenario implementation supports ipv4 and ipv6\n\nChange-Id: I1da94316a462a7c1a18affe20d0708af8032e32f\n'}]",2,618947,6e915b3486a72ab8536dc610e9d2ce2f35b1cc4b,36,5,4,21897,,,0,"Make sure that NeutronScenario implementation supports ipv4 and ipv6

Change-Id: I1da94316a462a7c1a18affe20d0708af8032e32f
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/47/618947/3 && git format-patch -1 --stdout FETCH_HEAD,['rally_openstack/scenarios/neutron/utils.py'],1,2d5d8493776f8b524f15f496d519b370052d7a78,support ipv6,"import netaddr ip_version = netaddr.IPNetwork(start_cidr).version if ip_version == 4: subnet_create_args[""ip_version""] = ""4"" elif ip_version == 6: subnet_create_args[""ip_version""] = ""6"""," SUBNET_IP_VERSION = 4 subnet_create_args.setdefault(""ip_version"", self.SUBNET_IP_VERSION)",6,2
openstack%2Fpython-tricircleclient~master~I8d3557bb888712adcab2a5ac551fe471cf0b9dec,openstack/python-tricircleclient,master,I8d3557bb888712adcab2a5ac551fe471cf0b9dec,Add Python 3.6 classifier to setup.cfg,MERGED,2018-11-30 07:36:21.000000000,2018-11-30 16:42:12.000000000,2018-11-30 16:42:12.000000000,"[{'_account_id': 8726}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-30 07:36:21.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-tricircleclient/commit/26561c2aa640a305ddd4ef708e9ceb77cdb53509', 'message': 'Add Python 3.6 classifier to setup.cfg\n\nChange-Id: I8d3557bb888712adcab2a5ac551fe471cf0b9dec\n'}]",0,621111,26561c2aa640a305ddd4ef708e9ceb77cdb53509,6,2,1,17499,,,0,"Add Python 3.6 classifier to setup.cfg

Change-Id: I8d3557bb888712adcab2a5ac551fe471cf0b9dec
",git fetch https://review.opendev.org/openstack/python-tricircleclient refs/changes/11/621111/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,26561c2aa640a305ddd4ef708e9ceb77cdb53509,, Programming Language :: Python :: 3.6,,1,0
openstack%2Ftripleo-common~stable%2Frocky~I2bf66ece33306178c36b51f82c9d16663743d660,openstack/tripleo-common,stable/rocky,I2bf66ece33306178c36b51f82c9d16663743d660,Select message IDs properly when publishing to swift,MERGED,2018-11-21 14:01:07.000000000,2018-11-30 16:20:57.000000000,2018-11-30 16:20:57.000000000,"[{'_account_id': 7509}, {'_account_id': 8871}, {'_account_id': 14985}, {'_account_id': 20970}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-21 14:01:07.000000000', 'files': ['workbooks/plan_management.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d8f06646ff3b99e8e9e31a1319bd253cf991d3ea', 'message': 'Select message IDs properly when publishing to swift\n\nZaqar messages used to have their IDs under the ""_id"" key.  This has\nbeen changed to ""id"".  We\'re updating the select() call to reflect that.\n\nChange-Id: I2bf66ece33306178c36b51f82c9d16663743d660\nPartial-Bug: 1803724\n(cherry picked from commit 9198805df845816f21a9041e4c8cac98f42e4863)\n'}]",0,619249,d8f06646ff3b99e8e9e31a1319bd253cf991d3ea,14,5,1,16628,,,0,"Select message IDs properly when publishing to swift

Zaqar messages used to have their IDs under the ""_id"" key.  This has
been changed to ""id"".  We're updating the select() call to reflect that.

Change-Id: I2bf66ece33306178c36b51f82c9d16663743d660
Partial-Bug: 1803724
(cherry picked from commit 9198805df845816f21a9041e4c8cac98f42e4863)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/49/619249/1 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/plan_management.yaml'],1,d8f06646ff3b99e8e9e31a1319bd253cf991d3ea,bug/1803724, message_ids: <% task().result.select($.id) %>, message_ids: <% task().result.select($._id) %>,1,1
openstack%2Fsushy-tools~master~Ieb010ef298aa8b7f1b6c18ada8e3cf33035019fa,openstack/sushy-tools,master,Ieb010ef298aa8b7f1b6c18ada8e3cf33035019fa,Rearrange emulator unit tests,MERGED,2018-07-30 12:09:21.000000000,2018-11-30 16:04:59.000000000,2018-11-30 16:04:59.000000000,"[{'_account_id': 10155}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 26340}, {'_account_id': 27909}]","[{'number': 1, 'created': '2018-07-30 12:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/43d667cd238db1a180f17068257da44b7ce5e023', 'message': 'Unify BIOS unit tests with others\n\nRefactor BIOS unit tests in a way that they would work\nsimilarly to other nova tests.\n\nAlso, added a missing test on reading BIOS settings.\n\nThis is a follow-up of change ID:\n\n     If8a479ae793c1616ef8b30e76bd8cdfdfc08dbe0\n\nChange-Id: Ieb010ef298aa8b7f1b6c18ada8e3cf33035019fa\n'}, {'number': 2, 'created': '2018-11-09 17:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/0804f3945158c115f60207d13999f761abb67470', 'message': 'Rearrange emulator unit tests\n\nRefactored Redfish emulator unit tests along the following lines:\n\n* test_main.py tests just REST API, mocks virtualization driver\n* test_nova.py tests just the driver, mocks openstacksdk\n* test_libvirt.py tests just the driver, mocks libvirt\n\nThis is a follow-up of change ID:\n\n     If8a479ae793c1616ef8b30e76bd8cdfdfc08dbe0\n\nChange-Id: Ieb010ef298aa8b7f1b6c18ada8e3cf33035019fa\n'}, {'number': 3, 'created': '2018-11-09 17:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/86aa983af6fac674681074b97c73d822601b14f7', 'message': 'Rearrange emulator unit tests\n\nRefactored Redfish emulator unit tests along the following lines:\n\n* test_main.py tests just REST API, mocks virtualization driver\n* test_nova.py tests just the driver, mocks openstacksdk\n* test_libvirt.py tests just the driver, mocks libvirt\n\nThis is a follow-up of change ID:\n\n     If8a479ae793c1616ef8b30e76bd8cdfdfc08dbe0\n\nChange-Id: Ieb010ef298aa8b7f1b6c18ada8e3cf33035019fa\n'}, {'number': 4, 'created': '2018-11-13 08:13:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/9536c64ff3752b835912ced2cd7d7084a5d2fd80', 'message': 'Rearrange emulator unit tests\n\nRefactored Redfish emulator unit tests along the following lines:\n\n* test_main.py tests just REST API, mocks virtualization driver\n* test_nova.py tests just the driver, mocks openstacksdk\n* test_libvirt.py tests just the driver, mocks libvirt\n\nThis is a follow-up of change ID:\n\n     If8a479ae793c1616ef8b30e76bd8cdfdfc08dbe0\n\nChange-Id: Ieb010ef298aa8b7f1b6c18ada8e3cf33035019fa\n'}, {'number': 5, 'created': '2018-11-13 15:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/e6eb7e05c1856030f2a42fe8090d4151cfb2fb03', 'message': 'Rearrange emulator unit tests\n\nRefactored Redfish emulator unit tests along the following lines:\n\n* test_main.py tests just REST API, mocks virtualization driver\n* test_nova.py tests just the driver, mocks openstacksdk\n* test_libvirt.py tests just the driver, mocks libvirt\n\nThis is a follow-up of change ID:\n\n     If8a479ae793c1616ef8b30e76bd8cdfdfc08dbe0\n\nStory: 1751134\nTask: 12046\nChange-Id: Ieb010ef298aa8b7f1b6c18ada8e3cf33035019fa\n'}, {'number': 6, 'created': '2018-11-13 15:53:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/874f2742495a082847d30f2be4cbcdf7095a3ff3', 'message': 'Rearrange emulator unit tests\n\nRefactored Redfish emulator unit tests along the following lines:\n\n* test_main.py tests just REST API, mocks virtualization driver\n* test_nova.py tests just the driver, mocks openstacksdk\n* test_libvirt.py tests just the driver, mocks libvirt\n\nThis is a follow-up of change ID:\n\n     If8a479ae793c1616ef8b30e76bd8cdfdfc08dbe0\n\nStory: 1751134\nTask: 12046\nChange-Id: Ieb010ef298aa8b7f1b6c18ada8e3cf33035019fa\n'}, {'number': 7, 'created': '2018-11-14 09:23:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/1024b2e2a672b2332422cbac258cb375f7621657', 'message': 'Rearrange emulator unit tests\n\nRefactored Redfish emulator unit tests along the following lines:\n\n* test_main.py tests just REST API, mocks virtualization driver\n* test_nova.py tests just the driver, mocks openstacksdk\n* test_libvirt.py tests just the driver, mocks libvirt\n\nThis is a follow-up of change ID:\n\n     If8a479ae793c1616ef8b30e76bd8cdfdfc08dbe0\n\nStory: 1751134\nTask: 12046\nChange-Id: Ieb010ef298aa8b7f1b6c18ada8e3cf33035019fa\n'}, {'number': 8, 'created': '2018-11-14 16:50:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/8125c968ec2cf877c599486c006ca7c07efdc481', 'message': 'Rearrange emulator unit tests\n\nRefactored Redfish emulator unit tests along the following lines:\n\n* test_main.py tests just REST API, mocks virtualization driver\n* test_nova.py tests just the driver, mocks openstacksdk\n* test_libvirt.py tests just the driver, mocks libvirt\n\nThis is a follow-up of change ID:\n\n     If8a479ae793c1616ef8b30e76bd8cdfdfc08dbe0\n\nStory: 1751134\nTask: 12046\nChange-Id: Ieb010ef298aa8b7f1b6c18ada8e3cf33035019fa\n'}, {'number': 9, 'created': '2018-11-28 11:09:05.000000000', 'files': ['sushy_tools/tests/unit/emulator/test_main.py', 'sushy_tools/tests/unit/emulator/test_nova.py', 'sushy_tools/tests/unit/emulator/test_libvirt.py'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/50d3c1dd17f7cfcf66930fb52b42763ad9f583d8', 'message': 'Rearrange emulator unit tests\n\nRefactored Redfish emulator unit tests along the following lines:\n\n* test_main.py tests just REST API, mocks virtualization driver\n* test_nova.py tests just the driver, mocks openstacksdk\n* test_libvirt.py tests just the driver, mocks libvirt\n\nThis is a follow-up of change ID:\n\n     If8a479ae793c1616ef8b30e76bd8cdfdfc08dbe0\n\nStory: 1751134\nTask: 12046\nChange-Id: Ieb010ef298aa8b7f1b6c18ada8e3cf33035019fa\n'}]",34,587035,50d3c1dd17f7cfcf66930fb52b42763ad9f583d8,35,6,9,26340,,,0,"Rearrange emulator unit tests

Refactored Redfish emulator unit tests along the following lines:

* test_main.py tests just REST API, mocks virtualization driver
* test_nova.py tests just the driver, mocks openstacksdk
* test_libvirt.py tests just the driver, mocks libvirt

This is a follow-up of change ID:

     If8a479ae793c1616ef8b30e76bd8cdfdfc08dbe0

Story: 1751134
Task: 12046
Change-Id: Ieb010ef298aa8b7f1b6c18ada8e3cf33035019fa
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/35/587035/9 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_tools/tests/unit/emulator/test_nova.py', 'sushy_tools/emulator/drivers/novadriver.py']",2,43d667cd238db1a180f17068257da44b7ce5e023,split-rest-and-drivers-tests, raise NotImplementedError('No Such Thing as a Fish!') raise NotImplementedError('No Such Thing as a Fish!') raise NotImplementedError('No Such Thing as a Fish!'), raise NotImplementedError raise NotImplementedError raise NotImplementedError,34,20
openstack%2Fplacement~master~Ic76852d3bea36f797dd845fd7be520670d214aa3,openstack/placement,master,Ic76852d3bea36f797dd845fd7be520670d214aa3,Start a contributor goals document,MERGED,2018-11-19 19:27:54.000000000,2018-11-30 16:03:38.000000000,2018-11-30 16:03:38.000000000,"[{'_account_id': 7}, {'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2018-11-19 19:27:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/ecf9a976ffb046419fffc86b2df2b043f7d326b0', 'message': 'Start a goals document\n\nAs explained in the document, this is a way to keep track of long term\nideas or hopes that are too far away or two vague to warrant specs, even\nwishlist specs. The main goal of these goals is to keep an eye forward\nto long term improvements which are not really related to features.\n\nChange-Id: Ic76852d3bea36f797dd845fd7be520670d214aa3\n'}, {'number': 2, 'created': '2018-11-22 13:28:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/1c6b06bd96083fbc96a1612875a23aa05c31f700', 'message': 'Start a contributor goals document\n\nAs explained in the document, this is a way to keep track of long term\nideas or hopes that are too far away or too vague to warrant specs, even\nwishlist specs. The main goal of these goals is to keep an eye forward\nto long term improvements which are not really related to features, but\ninstead are directed towards making contribution and maintenance more\npleasant.\n\nChange-Id: Ic76852d3bea36f797dd845fd7be520670d214aa3\n'}, {'number': 3, 'created': '2018-11-27 17:25:59.000000000', 'files': ['doc/source/index.rst', 'doc/source/contributor/index.rst', 'doc/source/contributor/goals.rst'], 'web_link': 'https://opendev.org/openstack/placement/commit/24fb4ef52495a888e39ba6dfd3e6904b8f8960dd', 'message': 'Start a contributor goals document\n\nAs explained in the document, this is a way to keep track of long term\nideas or hopes that are too far away or too vague to warrant specs, even\nwishlist specs. The main goal of these goals is to keep an eye forward\nto long term improvements which are not really related to features, but\ninstead are directed towards making contribution and maintenance more\npleasant.\n\nChange-Id: Ic76852d3bea36f797dd845fd7be520670d214aa3\n'}]",7,618811,24fb4ef52495a888e39ba6dfd3e6904b8f8960dd,20,6,3,11564,,,0,"Start a contributor goals document

As explained in the document, this is a way to keep track of long term
ideas or hopes that are too far away or too vague to warrant specs, even
wishlist specs. The main goal of these goals is to keep an eye forward
to long term improvements which are not really related to features, but
instead are directed towards making contribution and maintenance more
pleasant.

Change-Id: Ic76852d3bea36f797dd845fd7be520670d214aa3
",git fetch https://review.opendev.org/openstack/placement refs/changes/11/618811/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/contributor/index.rst', 'doc/source/contributor/goals.rst']",3,ecf9a976ffb046419fffc86b2df2b043f7d326b0,cd/vague-goals,".. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. ===== Goals ===== Like many OpenStack projects, placement uses blueprints and specifications to plan and design upcoming work. Sometimes, however, certain types of work fit more in the category of wishlist, or when-we-get-around-to-it. In those cases a specification is too formal and detailed but it is still worthwhile to remember the idea and put it somewhere. That's what this document is for: a place to find and put goals for placement that are too vague for immediate action. This document can also operate as one of several sources of guidance on how not to stray too far from the long term vision of placement. Stop Using Global Config ------------------------ Placement uses `oslo.config`_ to manage configuration. From nova, it inherits using a global ``CONF`` as the way to interact with the configuration options. This isn't necessary. If changed, it would make tests less likely to leak configuration settings amongsts themselves and will also ease use of the ``PlacementFixture`` by other projects which wish to use placement in their functional tests. .. _oslo.config: https://docs.openstack.org/oslo.config ",,42,1
openstack%2Fopenstack-ansible-os_neutron~stable%2Frocky~I39a6fc63fa6419f63dac4f20863eb852f2527b26,openstack/openstack-ansible-os_neutron,stable/rocky,I39a6fc63fa6419f63dac4f20863eb852f2527b26,Add port_forwarding to neutron configuration.,MERGED,2018-11-26 14:37:13.000000000,2018-11-30 15:54:15.000000000,2018-11-30 15:54:15.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-26 14:37:13.000000000', 'files': ['templates/l3_agent.ini.j2', 'defaults/main.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/b13a1096374c069a8e7750b6509f61fbaf26d52c', 'message': 'Add port_forwarding to neutron configuration.\n\nThis patch add the support to configure the port_forwarding plugin on\nthe neutron agent nodes.\n\nHere is the doc for deployment:\nhttps://docs.openstack.org/neutron/rocky/admin/config-fip-port-forwardings.html\n\nClient implementation is currently pending.\n\nChange-Id: I39a6fc63fa6419f63dac4f20863eb852f2527b26\n(cherry picked from commit 6563dc3b9f7b280c0095977de3084210b89c79d8)\n'}]",1,620075,b13a1096374c069a8e7750b6509f61fbaf26d52c,7,3,1,13095,,,0,"Add port_forwarding to neutron configuration.

This patch add the support to configure the port_forwarding plugin on
the neutron agent nodes.

Here is the doc for deployment:
https://docs.openstack.org/neutron/rocky/admin/config-fip-port-forwardings.html

Client implementation is currently pending.

Change-Id: I39a6fc63fa6419f63dac4f20863eb852f2527b26
(cherry picked from commit 6563dc3b9f7b280c0095977de3084210b89c79d8)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/75/620075/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/l3_agent.ini.j2', 'defaults/main.yml', 'vars/main.yml']",3,b13a1096374c069a8e7750b6509f61fbaf26d52c,,"### port_forwarding ### neutron_port_forwarding: ""{{ ('port_forwarding' in neutron_plugin_base) | ternary('True', 'False') }}"" ###",,12,0
openstack%2Fcharm-gnocchi~master~I3d92c6997ec2129ab6ad161caac941f19cd6fbfe,openstack/charm-gnocchi,master,I3d92c6997ec2129ab6ad161caac941f19cd6fbfe,Drop wsgi thread configuration to a single thread,MERGED,2018-11-30 10:28:53.000000000,2018-11-30 15:47:18.000000000,2018-11-30 15:47:18.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-30 10:28:53.000000000', 'files': ['src/templates/gnocchi-api.conf'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/5c165a01634f67566bcb9dd8cd15fe402a7cdeec', 'message': 'Drop wsgi thread configuration to a single thread\n\nWe should increase concurrency using processes rather than threads\nfor the Gnocchi WSGI application, avoiding high memory consumption\nover time under load.\n\nChange-Id: I3d92c6997ec2129ab6ad161caac941f19cd6fbfe\nCloses-Bug: 1806008\n'}]",0,621137,5c165a01634f67566bcb9dd8cd15fe402a7cdeec,7,3,1,935,,,0,"Drop wsgi thread configuration to a single thread

We should increase concurrency using processes rather than threads
for the Gnocchi WSGI application, avoiding high memory consumption
over time under load.

Change-Id: I3d92c6997ec2129ab6ad161caac941f19cd6fbfe
Closes-Bug: 1806008
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/37/621137/1 && git format-patch -1 --stdout FETCH_HEAD,['src/templates/gnocchi-api.conf'],1,5c165a01634f67566bcb9dd8cd15fe402a7cdeec,bug/1806008, WSGIDaemonProcess gnocchi-api processes={{ options.wsgi_worker_context.processes }} threads=1 user=gnocchi group=gnocchi display-name=%{GROUP}, WSGIDaemonProcess gnocchi-api processes={{ options.wsgi_worker_context.processes }} threads=10 user=gnocchi group=gnocchi display-name=%{GROUP},1,1
openstack%2Fcharm-nova-cloud-controller~master~I22c88a6fea87c56efdb5d93474a5ec7d2a6432d0,openstack/charm-nova-cloud-controller,master,I22c88a6fea87c56efdb5d93474a5ec7d2a6432d0,Receive dns-domain over neutron-api relation,MERGED,2018-11-28 19:28:44.000000000,2018-11-30 15:44:39.000000000,2018-11-30 15:44:39.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-28 19:28:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/f6365f2835346e59a3dd159ac395fee58a4b9c12', 'message': 'Receive dns-domain over neutron-api relation\n\nIn order to have nova-metadata-api use the same dns-domain as neutron\nwhen nova-metadata-api runs on nova-cloud-controller we must recieve\nthe dns-domain on the neutron-api relation.\n\nChange-Id: I22c88a6fea87c56efdb5d93474a5ec7d2a6432d0\nPartial-Bug: #1805645\n'}, {'number': 2, 'created': '2018-11-28 19:33:02.000000000', 'files': ['hooks/nova_cc_context.py', 'hooks/nova_cc_utils.py', 'templates/rocky/nova.conf'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/e245c0bad4c167847f79fa8c1b3099146cdaec79', 'message': 'Receive dns-domain over neutron-api relation\n\nIn order to have nova-metadata-api use the same dns-domain as neutron\nwhen nova-metadata-api runs on nova-cloud-controller we must recieve\nthe dns-domain on the neutron-api relation.\n\nChange-Id: I22c88a6fea87c56efdb5d93474a5ec7d2a6432d0\nPartial-Bug: #1805645\n'}]",0,620683,e245c0bad4c167847f79fa8c1b3099146cdaec79,12,5,2,20805,,,0,"Receive dns-domain over neutron-api relation

In order to have nova-metadata-api use the same dns-domain as neutron
when nova-metadata-api runs on nova-cloud-controller we must recieve
the dns-domain on the neutron-api relation.

Change-Id: I22c88a6fea87c56efdb5d93474a5ec7d2a6432d0
Partial-Bug: #1805645
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/83/620683/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/nova_cc_context.py', 'hooks/nova_cc_utils.py', 'templates/rocky/nova.conf']",3,f6365f2835346e59a3dd159ac395fee58a4b9c12,bug/1805645,"# rocky ############################################################################### # [ WARNING ] # Configuration file maintained by Juju. Local changes may be overwritten. ############################################################################### [DEFAULT] verbose={{ verbose }} debug={{ debug }} dhcpbridge_flagfile=/etc/nova/nova.conf dhcpbridge=/usr/bin/nova-dhcpbridge logdir=/var/log/nova state_path=/var/lib/nova force_dhcp_release=True iscsi_helper=tgtadm libvirt_use_virtio_for_bridges=True connection_type=libvirt root_helper=sudo nova-rootwrap /etc/nova/rootwrap.conf api_paste_config=/etc/nova/api-paste.ini volumes_path=/var/lib/nova/volumes enabled_apis=osapi_compute,metadata auth_strategy=keystone compute_driver=libvirt.LibvirtDriver use_ipv6 = {{ use_ipv6 }} osapi_compute_listen = {{ bind_host }} metadata_host = {{ bind_host }} s3_listen = {{ bind_host }} osapi_compute_workers = {{ workers }} {% if dns_domain -%} # Per LP#1805645, dhcp_domain needs to be configured for nova-metadata-api # It gets this information from neutron. dhcp_domain = {{ dns_domain }} {% endif -%} {% if vendor_data -%} vendordata_driver = nova.api.metadata.vendordata_json.JsonFileVendorData vendordata_jsonfile_path = /etc/nova/vendor_data.json {% endif -%} {% if additional_neutron_filters is defined %} scheduler_default_filters = {{ scheduler_default_filters }},{{ additional_neutron_filters }} {% else %} scheduler_default_filters = {{ scheduler_default_filters }} {% endif %} {% if pci_alias %} pci_alias = {{ pci_alias }} {% endif %} cpu_allocation_ratio = {{ cpu_allocation_ratio }} ram_allocation_ratio = {{ ram_allocation_ratio }} disk_allocation_ratio = {{ disk_allocation_ratio }} use_syslog={{ use_syslog }} my_ip = {{ host_ip }} {% include ""parts/novnc"" %} {% if rbd_pool -%} rbd_pool = {{ rbd_pool }} rbd_user = {{ rbd_user }} rbd_secret_uuid = {{ rbd_secret_uuid }} {% endif -%} {% if neutron_plugin and neutron_plugin in ('ovs', 'midonet') -%} libvirt_vif_driver = nova.virt.libvirt.vif.LibvirtGenericVIFDriver libvirt_user_virtio_for_bridges = True {% if neutron_security_groups -%} security_group_api = {{ network_manager }} nova_firewall_driver = nova.virt.firewall.NoopFirewallDriver {% endif -%} {% if external_network -%} default_floating_pool = {{ external_network }} {% endif -%} {% endif -%} {% if neutron_plugin and neutron_plugin == 'vsp' -%} neutron_ovs_bridge = alubr0 {% endif -%} {% if neutron_plugin and neutron_plugin == 'nvp' -%} security_group_api = neutron nova_firewall_driver = nova.virt.firewall.NoopFirewallDriver {% if external_network -%} default_floating_pool = {{ external_network }} {% endif -%} {% endif -%} {% if neutron_plugin and neutron_plugin == 'Calico' -%} security_group_api = neutron nova_firewall_driver = nova.virt.firewall.NoopFirewallDriver {% endif -%} {% if neutron_plugin and neutron_plugin == 'plumgrid' -%} security_group_api=neutron firewall_driver = nova.virt.firewall.NoopFirewallDriver {% endif -%} {% if network_manager_config -%} {% for key, value in network_manager_config.items() -%} {{ key }} = {{ value }} {% endfor -%} {% endif -%} {% if network_manager and network_manager == 'neutron' -%} network_api_class = nova.network.neutronv2.api.API use_neutron = True {% else -%} network_manager = nova.network.manager.FlatDHCPManager {% endif -%} {% if default_floating_pool -%} default_floating_pool = {{ default_floating_pool }} {% endif -%} {% if volume_service -%} volume_api_class=nova.volume.cinder.API {% endif -%} {% if user_config_flags -%} {% for key, value in user_config_flags.items() -%} {{ key }} = {{ value }} {% endfor -%} {% endif -%} {% if listen_ports -%} {% for key, value in listen_ports.items() -%} {{ key }} = {{ value }} {% endfor -%} {% endif -%} {% if sections and 'DEFAULT' in sections -%} {% for key, value in sections['DEFAULT'] -%} {{ key }} = {{ value }} {% endfor -%} {% endif %} {% include ""section-zeromq"" %} {% include ""parts/database-v2"" %} {% include ""parts/database-api"" %} {% if glance_api_servers -%} [glance] api_servers = {{ glance_api_servers }} {% endif -%} {% if network_manager and network_manager == 'neutron' %} {% include ""parts/section-neutron"" %} {% endif %} {% include ""section-keystone-authtoken-mitaka"" %} {% include ""parts/section-cinder"" %} [osapi_v3] enabled=True {% include ""parts/cell"" %} [conductor] workers = {{ workers }} {% include ""section-rabbitmq-oslo"" %} {% include ""section-oslo-notifications"" %} [oslo_concurrency] lock_path=/var/lock/nova [spice] {% include ""parts/spice"" %} {% include ""parts/section-serial-console"" %} {% if memcached_servers %} [cache] enabled = true backend = oslo_cache.memcache_pool memcache_servers = {{ memcached_servers }} {% endif %} {% include ""section-oslo-middleware"" %} [wsgi] api_paste_config=/etc/nova/api-paste.ini ",,192,1
openstack%2Fheat-translator~master~Ie9aec900e477f3f319ee34873018c15e10dafb4a,openstack/heat-translator,master,Ie9aec900e477f3f319ee34873018c15e10dafb4a,Use oslo.log for osc plugin,MERGED,2018-10-26 07:42:04.000000000,2018-11-30 15:42:08.000000000,2018-11-30 15:42:08.000000000,"[{'_account_id': 91}, {'_account_id': 6456}, {'_account_id': 16511}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-26 07:42:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/1841e7a4abca42e1bf979cc5ad7e3b743db434e7', 'message': 'Use oslo.log for osc plugin\n\nIf we do not use oslo.log for logging in the openstackclient plugin, all\nthe errors and messages that are generated by other parts of the client\n(cliff, openstackclient) may be lost.\n\nChange-Id: Ie9aec900e477f3f319ee34873018c15e10dafb4a\n'}, {'number': 2, 'created': '2018-10-26 09:43:25.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'translator/osc/v1/translate.py'], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/ef32ac699195ce179865b6070164b67cdf0c1485', 'message': 'Use oslo.log for osc plugin\n\nIf we do not use oslo.log for logging in the openstackclient plugin, all\nthe errors and messages that are generated by other parts of the client\n(cliff, openstackclient) may be lost.\n\nChange-Id: Ie9aec900e477f3f319ee34873018c15e10dafb4a\n'}]",0,613516,ef32ac699195ce179865b6070164b67cdf0c1485,10,4,2,91,,,0,"Use oslo.log for osc plugin

If we do not use oslo.log for logging in the openstackclient plugin, all
the errors and messages that are generated by other parts of the client
(cliff, openstackclient) may be lost.

Change-Id: Ie9aec900e477f3f319ee34873018c15e10dafb4a
",git fetch https://review.opendev.org/openstack/heat-translator refs/changes/16/613516/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'translator/osc/v1/translate.py']",2,1841e7a4abca42e1bf979cc5ad7e3b743db434e7,,from oslo_log import log as loggingLOG = logging.getLogger('heat-translator') LOG.debug(_('Translating the template with input parameters' LOG.error(msg),import logging import logging.configfrom translator.conf.config import ConfigProviderconf_file = ConfigProvider.get_translator_logging_file() logging.config.fileConfig(conf_file) log = logging.getLogger('heat-translator') log.debug(_('Translating the template with input parameters' log.error(msg),6,8
openstack%2Fopenstack-ansible-os_keystone~master~If33382404565dcb288e2b6794512f09c85e751d5,openstack/openstack-ansible-os_keystone,master,If33382404565dcb288e2b6794512f09c85e751d5,Enable overriding the service setup host python interpreter,MERGED,2018-11-28 16:09:43.000000000,2018-11-30 15:39:54.000000000,2018-11-30 15:38:06.000000000,"[{'_account_id': 1004}, {'_account_id': 4162}, {'_account_id': 6816}, {'_account_id': 13095}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-28 16:09:43.000000000', 'files': ['tasks/keystone_service_update.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/9573f2e714797674f33025d4c99b29cb4c7e5c82', 'message': ""Enable overriding the service setup host python interpreter\n\nIn order to enable the service setup host python interpreter to\nbe changed easily, we make it a variable. This will be useful\nwhen someone sets the service setup host to be the utility\ncontainer, because we'll be able to set this var by default.\n\nChange-Id: If33382404565dcb288e2b6794512f09c85e751d5\n""}]",0,620644,9573f2e714797674f33025d4c99b29cb4c7e5c82,11,5,1,6816,,,0,"Enable overriding the service setup host python interpreter

In order to enable the service setup host python interpreter to
be changed easily, we make it a variable. This will be useful
when someone sets the service setup host to be the utility
container, because we'll be able to set this var by default.

Change-Id: If33382404565dcb288e2b6794512f09c85e751d5
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/44/620644/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/keystone_service_update.yml', 'defaults/main.yml']",2,9573f2e714797674f33025d4c99b29cb4c7e5c82,bp/python-build-simplification,"keystone_service_setup_host_python_interpreter: ""{{ openstack_service_setup_host_python_interpreter | default((keystone_service_setup_host == 'localhost') | ternary(ansible_playbook_python, ansible_python['executable'])) }}""",,2,2
openstack%2Ftripleo-quickstart~master~Ie5a8aff24517500996fee8efb9351971418dfd28,openstack/tripleo-quickstart,master,Ie5a8aff24517500996fee8efb9351971418dfd28,Document fedora28 cloud image example a VM deploy,ABANDONED,2018-09-27 13:17:24.000000000,2018-11-30 15:27:28.000000000,,"[{'_account_id': 1955}, {'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 6926}, {'_account_id': 8367}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2018-09-27 13:17:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e80b83e47de466c7761d184a4311b37970b76aad', 'message': 'Document fedora28 cloud image example a VM deploy\n\nChange-Id: Ie5a8aff24517500996fee8efb9351971418dfd28\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2018-09-27 13:18:26.000000000', 'files': ['doc/source/design.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/1d32b2e192f95ebdadd1e7d91a0dd2250a2ac1f1', 'message': 'Document fedora28 cloud image example a VM deploy\n\nWhile it is not tested in gates, it is still a nice\nto have thing for developers.\n\nDepends-On: I0517d31f8af3425d6ef82fa950dcfd6ef9ec839b\n\nChange-Id: Ie5a8aff24517500996fee8efb9351971418dfd28\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,605696,1d32b2e192f95ebdadd1e7d91a0dd2250a2ac1f1,14,12,2,6926,,,0,"Document fedora28 cloud image example a VM deploy

While it is not tested in gates, it is still a nice
to have thing for developers.

Depends-On: I0517d31f8af3425d6ef82fa950dcfd6ef9ec839b

Change-Id: Ie5a8aff24517500996fee8efb9351971418dfd28
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/96/605696/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/design.rst'],1,e80b83e47de466c7761d184a4311b37970b76aad,, are not gated against Fedora hosts or cloud images. An example inventory snippet below may allow to deploy an undercloud VM from a fedora cloud image fetched locally: .. code-block: yaml qemu_bridge_conf: /etc/qemu/bridge.conf supported_distro_check: false libvirt_use_cloud_image: true images: - name: undercloud url: file://{{ local_working_dir }}/Fedora-Cloud-Base-28-1.1.x86_64.qcow2 md5sum: 184cbb40f3616f94b4413fece8e39e0d type: qcow2 , are not gated against Fedora hosts or cloud images.,15,1
openstack%2Ftripleo-quickstart~master~I43e303bd64e82450c95c24c6b8e0f5d08ef59da0,openstack/tripleo-quickstart,master,I43e303bd64e82450c95c24c6b8e0f5d08ef59da0,Update docs for building libvirt images modes,ABANDONED,2018-10-11 15:08:58.000000000,2018-11-30 15:27:22.000000000,,"[{'_account_id': 1955}, {'_account_id': 4328}, {'_account_id': 8367}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2018-10-11 15:08:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ddb2e9041b7531700a8901237483c98b2f2284be', 'message': 'Update docs for building libvirt images modes\n\nExplain how-to:\n\n* Use caches/prefetched local images\n* Consume overcloud image also for undercloud\n* Build from a ""vanila"" cloud image\n\nChange-Id: I43e303bd64e82450c95c24c6b8e0f5d08ef59da0\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2018-10-11 15:22:27.000000000', 'files': ['doc/source/configuration.rst', 'doc/source/getting-started.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/783babb8aa020198de7758275fe1994c758aa9cd', 'message': 'Update docs for building libvirt images modes\n\nExplain how-to:\n\n* Use caches/prefetched local images\n* Consume overcloud image also for undercloud\n* Build from a ""vanila"" cloud image\n\nChange-Id: I43e303bd64e82450c95c24c6b8e0f5d08ef59da0\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,609737,783babb8aa020198de7758275fe1994c758aa9cd,6,10,2,6926,,,0,"Update docs for building libvirt images modes

Explain how-to:

* Use caches/prefetched local images
* Consume overcloud image also for undercloud
* Build from a ""vanila"" cloud image

Change-Id: I43e303bd64e82450c95c24c6b8e0f5d08ef59da0
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/37/609737/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration.rst', 'doc/source/getting-started.rst']",2,ddb2e9041b7531700a8901237483c98b2f2284be,fedora28,"By default, the command fetches the corresponding release (-R) of overcloud-full, undercloud and ironic-python-agent images and md5 files into the images cache directory, then builds VM images from that and launches VMs. If you want to use existing local or custom external images, like a ""vanila"" cloud image, or consume the overcloud image also for undercloud, see :ref:`configuration` for details. ",,41,0
openstack%2Ftripleo-quickstart~master~I0517d31f8af3425d6ef82fa950dcfd6ef9ec839b,openstack/tripleo-quickstart,master,I0517d31f8af3425d6ef82fa950dcfd6ef9ec839b,Inject undercloud user into the cloud image,ABANDONED,2018-09-17 10:31:37.000000000,2018-11-30 15:27:16.000000000,,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8745}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12715}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 28223}]","[{'number': 1, 'created': '2018-09-17 10:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/3799a87798ed50a4a06ae92c1cb726633e131c2e', 'message': 'Inject undercloud user into the cloud image\n\nWhen libvirt_use_cloud_image, prepare the cloud image\nfor libvirt provisioning. With underdcloud_as_overcloud,\novercloud VMs may be provisioned with the same cloud image\nas well.\n\nChange-Id: I0517d31f8af3425d6ef82fa950dcfd6ef9ec839b\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2018-09-17 10:37:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/468c8909402aa7798aec91a0f973e41bf2d9c8a3', 'message': 'Inject undercloud user into the cloud image\n\nWhen libvirt_use_cloud_image, prepare the cloud image\nfor libvirt provisioning.\n\nTODO allow overcloud VMs may be provisioned with the\nsame cloud image as well, including the\novercloud_as_undercloud case.\n\nChange-Id: I0517d31f8af3425d6ef82fa950dcfd6ef9ec839b\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2018-09-18 11:20:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/6069d5345b44ede51633ae59842b601390c9cdfe', 'message': 'Inject undercloud user into the cloud image\n\nWhen libvirt_use_cloud_image, prepare the cloud image\nfor libvirt provisioning.\n\nTODO allow overcloud VMs may be provisioned with the\nsame cloud image as well, including the\novercloud_as_undercloud case.\n\nChange-Id: I0517d31f8af3425d6ef82fa950dcfd6ef9ec839b\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2018-09-24 14:33:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/2dfd7dd8155ad389f909d02ee0b3c7ef319f2f13', 'message': 'Inject undercloud user into the cloud image\n\nWhen libvirt_use_cloud_image, prepare the cloud image\nfor libvirt provisioning.\n\nTODO allow overcloud VMs may be provisioned with the\nsame cloud image as well, including the\novercloud_as_undercloud case.\n\nChange-Id: I0517d31f8af3425d6ef82fa950dcfd6ef9ec839b\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 5, 'created': '2018-09-24 15:56:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e547142a288f1b7290c04821a68027f2e67aa22b', 'message': 'Inject undercloud user into the cloud image\n\nWhen libvirt_use_cloud_image, prepare the cloud image\nfor libvirt provisioning.\n\nTODO allow overcloud VMs may be provisioned with the\nsame cloud image as well, including the\novercloud_as_undercloud case.\n\nChange-Id: I0517d31f8af3425d6ef82fa950dcfd6ef9ec839b\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 6, 'created': '2018-09-26 16:01:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ffa583b5d530b16c2c1d8a4d3c9e6ec810404d2d', 'message': 'Inject undercloud user into the cloud image\n\nWhen libvirt_use_cloud_image, prepare the cloud image\nfor libvirt provisioning.\n\nTODO allow overcloud VMs may be provisioned with the\nsame cloud image as well, including the\novercloud_as_undercloud case.\n\nChange-Id: I0517d31f8af3425d6ef82fa950dcfd6ef9ec839b\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 7, 'created': '2018-10-16 20:20:15.000000000', 'files': ['roles/libvirt/setup/undercloud/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/5c24c5b7dadc5cdc4be2d90ae37ee49f75198a89', 'message': 'Inject undercloud user into the cloud image\n\nWhen libvirt_use_cloud_image, prepare the cloud image\nfor libvirt provisioning.\n\nTODO allow overcloud VMs may be provisioned with the\nsame cloud image as well, including the\novercloud_as_undercloud case.\n\nChange-Id: I0517d31f8af3425d6ef82fa950dcfd6ef9ec839b\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",2,603069,5c24c5b7dadc5cdc4be2d90ae37ee49f75198a89,48,14,7,6926,,,0,"Inject undercloud user into the cloud image

When libvirt_use_cloud_image, prepare the cloud image
for libvirt provisioning.

TODO allow overcloud VMs may be provisioned with the
same cloud image as well, including the
overcloud_as_undercloud case.

Change-Id: I0517d31f8af3425d6ef82fa950dcfd6ef9ec839b
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/69/603069/5 && git format-patch -1 --stdout FETCH_HEAD,['roles/libvirt/setup/undercloud/tasks/main.yml'],1,3799a87798ed50a4a06ae92c1cb726633e131c2e,fedora28," - name: Inject undercloud user into the cloud image when: libvirt_use_cloud_image|bool command: > virt-customize -a {{ working_dir }}/undercloud.qcow2 --uninstall cloud-init --run-command ""useradd -m -p '' -U {{ undercloud_user }}""; --run-command ""echo '{{ undercloud_user }} ALL=NOPASSWD:ALL' >> /etc/sudoers""; --run-command ""echo 'Defaults:{{ undercloud_user }} !requiretty' >> /etc/sudoers"" ",,9,0
openstack%2Ftripleo-common~master~Ib622908ab1418707a33c63ed76242a122fd71b57,openstack/tripleo-common,master,Ib622908ab1418707a33c63ed76242a122fd71b57,Improve exp backoff for images pull/push,ABANDONED,2018-06-15 13:49:24.000000000,2018-11-30 15:25:55.000000000,,"[{'_account_id': 2011}, {'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 8175}, {'_account_id': 8871}, {'_account_id': 9712}, {'_account_id': 10873}, {'_account_id': 11090}, {'_account_id': 13039}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2018-06-15 13:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1093aad31f43afe1751db24977791a80cf2ad647', 'message': 'Improve exp backoff for images pull/push/rpm-upd\n\nAdd exponential backoff for the update images script.\nImages pull/push operations are wrapped with retries attempting to\n""resolve contention for a shared resource"" only\n(according to the used wait_random_exponential function docs):\n\n  rnd_backoff = random(0, maximum(0, minimum(\n      multiplier * exp_base ^ retry_number, max)))\n\nThis only restricts the upper limit of the random interval (0, X) to X = max,\nleaving the lower limit of a 0. With constants:\n\n  multiplier = 1, exp_base = 2, max = 10, and max retries of 5,\n\nit gives us only a 3 attemtps put in a ""short and busy"" interval of\n\n  [rnd(0,2)s, rnd(0,4)s, rnd(0,8)s].\n\nThat might be causing DoS effects, when swarmed in parallel CI jobs.\n\nTo mitigate that, wrap the backoff loop with an additional longer loop\noptimized for waiting of unavailable resources (container registries\nand rpm repos):\n\n  fixed_backoff = maximum(0, minimum(\n      multiplier * exp_base ^ retry_number, max))\n\nwith multiplier = 5, exp_base = 3, max = 50, the ""outer"" backoff intervals:\n\n  [15s, 45s]\n\nThis gives the resources time to recover and finish some of the ongoing\npush/pull/rpm-update activities hopefully.\n\nWith that, modify the nested jittered loop with multiplier = 2,\nexp_base = 3, max = 20, which is [rnd(0,6), rnd(0,18)].\n\nLimit both loops by a max of 2 retries. The total time to wait will not\nexceed then a total time of (6+18) + 15 + (6+18) + 45 + (6+18) = 132s.\n\nChange-Id: Ib622908ab1418707a33c63ed76242a122fd71b57\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2018-06-15 14:49:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3ba4bd9ba52414d85a6bb566f935203e5fea7969', 'message': 'Improve exp backoff for images pull/push/rpm-upd\n\nAdd exponential backoff for the update images script.\nImages pull/push operations are wrapped with retries attempting to\n""resolve contention for a shared resource"" only\n(according to the used wait_random_exponential function docs):\n\n  rnd_backoff = random(0, maximum(0, minimum(\n      multiplier * exp_base ^ retry_number, max)))\n\nThis only restricts the upper limit of the random interval (0, X) to X = max,\nleaving the lower limit of a 0. With constants:\n\n  multiplier = 1, exp_base = 2, max = 10, and max retries of 5,\n\nit gives us only a 3 attemtps put in a ""short and busy"" interval of\n\n  [rnd(0,2)s, rnd(0,4)s, rnd(0,8)s].\n\nThat might be causing DoS effects, when swarmed in parallel CI jobs.\n\nTo mitigate that, wrap the backoff loop with an additional longer loop\noptimized for waiting of unavailable resources (container registries\nand rpm repos):\n\n  fixed_backoff = maximum(0, minimum(\n      multiplier * exp_base ^ retry_number, max))\n\nwith multiplier = 5, exp_base = 3, max = 50, the ""outer"" backoff intervals:\n\n  [15s, 45s]\n\nThis gives the resources time to recover and finish some of the ongoing\npush/pull/rpm-update activities hopefully.\n\nWith that, modify the nested jittered loop with multiplier = 2,\nexp_base = 3, max = 20, which is [rnd(0,6), rnd(0,18)].\n\nLimit both loops by a max of 2 retries. The total time to wait will not\nexceed then a total time of (6+18) + 15 + (6+18) + 45 + (6+18) = 132s.\n\nChange-Id: Ib622908ab1418707a33c63ed76242a122fd71b57\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2018-06-15 15:08:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8aa1422bb2862f785cddfc2ddf0d4dc9720d894c', 'message': 'Improve exp backoff for images pull/push/rpm-upd\n\nAdd exponential backoff for the update images script.\nImages pull/push operations are wrapped with retries attempting to\n""resolve contention for a shared resource"" only\n(according to the used wait_random_exponential function docs):\n\n  rnd_backoff = random(0, maximum(0, minimum(\n      multiplier * exp_base ^ retry_number, max)))\n\nThis only restricts the upper limit of the random interval (0, X) to X = max,\nleaving the lower limit of a 0. With constants:\n\n  multiplier = 1, exp_base = 2, max = 10, and max retries of 5,\n\nit gives us only a 3 attemtps put in a ""short and busy"" interval of\n\n  [rnd(0,2)s, rnd(0,4)s, rnd(0,8)s].\n\nThat might be causing DoS effects, when swarmed in parallel CI jobs.\n\nTo mitigate that, wrap the backoff loop with an additional longer loop\noptimized for waiting of unavailable resources (container registries\nand rpm repos):\n\n  fixed_backoff = maximum(0, minimum(\n      multiplier * exp_base ^ retry_number, max))\n\nwith multiplier = 5, exp_base = 3, max = 50, the ""outer"" backoff intervals:\n\n  [15s, 45s]\n\nThis gives the resources time to recover and finish some of the ongoing\npush/pull/rpm-update activities hopefully.\n\nWith that, modify the nested jittered loop with multiplier = 2,\nexp_base = 3, max = 20, which is [rnd(0,6), rnd(0,18)].\n\nLimit both loops by a max of 2 retries. The total time to wait will not\nexceed then a total time of (6+18) + 15 + (6+18) + 45 + (6+18) = 132s.\n\nChange-Id: Ib622908ab1418707a33c63ed76242a122fd71b57\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2018-06-18 08:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b8a75f56ef294378677614713390a76ed62390b0', 'message': 'Improve exp backoff for images pull/push/rpm-upd\n\nAdd exponential backoff for the update images script.\nUse shared yum cache for individual containers\' update-retry.\n\nImages pull/push operations are wrapped with retries attempting to\n""resolve contention for a shared resource"" only\n(according to the used wait_random_exponential function docs):\n\n  rnd_backoff = random(0, maximum(0, minimum(\n      multiplier * exp_base ^ retry_number, max)))\n\nThis only restricts the upper limit of the random interval (0, X) to X = max,\nleaving the lower limit of a 0. With constants:\n\n  multiplier = 1, exp_base = 2, max = 10, and max retries of 5,\n\nit gives us only a 3 attemtps put in a ""short and busy"" interval of\n\n  [rnd(0,2)s, rnd(0,4)s, rnd(0,8)s].\n\nThat might be causing DoS effects, when swarmed in parallel CI jobs.\n\nTo mitigate that, wrap the backoff loop with an additional longer loop\noptimized for waiting of unavailable resources (container registries\nand rpm repos):\n\n  fixed_backoff = maximum(0, minimum(\n      multiplier * exp_base ^ retry_number, max))\n\nwith multiplier = 5, exp_base = 3, max = 50, the ""outer"" backoff intervals:\n\n  [15s, 45s]\n\nThis gives the resources time to recover and finish some of the ongoing\npush/pull/rpm-update activities hopefully.\n\nWith that, modify the nested jittered loop with multiplier = 2,\nexp_base = 3, max = 20, which is [rnd(0,6), rnd(0,18)].\n\nLimit both loops by a max of 2 retries. The total time to wait will not\nexceed then a total time of (6+18) + 15 + (6+18) + 45 + (6+18) = 132s.\n\nChange-Id: Ib622908ab1418707a33c63ed76242a122fd71b57\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 5, 'created': '2018-10-26 14:38:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e6ff7b9e59dcf8163065763f7d8114b9eeb6473f', 'message': 'Improve exp backoff for images pull/push/rpm-upd\n\nAdd exponential backoff for the update images script. Use shared yum\ncache for individual containers\' update-retry. This speeds up yum\noperations when retrying for a failed container update only, can not\nshare for all containers as concurrent RW access would corrupt it.\n\nImages pull/push operations are wrapped with retries attempting to\n""resolve contention for a shared resource"" only (according to the used\n    wait_random_exponential function docs):\n\n  rnd_backoff = random(0, maximum(0, minimum( multiplier * exp_base ^\n          retry_number, max)))\n\nThis only restricts the upper limit of the random interval (0, X) to X\n= max, leaving the lower limit of a 0. With constants:\n\n  multiplier = 1, exp_base = 2, max = 10, and max retries of 5,\n\nit gives us only a 3 attemtps put in a ""short and busy"" interval of\n\n  [rnd(0,2)s, rnd(0,4)s, rnd(0,8)s].\n\nThat might be causing DoS effects, when swarmed in parallel CI jobs.\n\nTo mitigate that, wrap the backoff loop with an additional longer loop\noptimized for waiting of unavailable resources (container registries\n    and rpm repos):\n\n  fixed_backoff = maximum(0, minimum( multiplier * exp_base ^\n        retry_number, max))\n\nwith multiplier = 5, exp_base = 3, max = 50, the ""outer"" backoff\nintervals:\n\n  [15s, 45s]\n\nThis gives the resources time to recover and finish some of the ongoing\npush/pull/rpm-update activities hopefully.\n\nWith that, modify the nested jittered loop with multiplier = 2,\n     exp_base = 3, max = 20, which is [rnd(0,6), rnd(0,18)].\n\nLimit both loops by a max of 2 retries. The total time to wait will not\nexceed then a total time of (6+18) + 15 + (6+18) + 45 + (6+18) = 132s.\n\nRelated-Bug: #1799895\n\nChange-Id: Ib622908ab1418707a33c63ed76242a122fd71b57\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 6, 'created': '2018-10-26 14:43:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/18a07b4ab13c02d6e9dd3ac3ffea37413b8df3c6', 'message': 'Improve exp backoff for images pull/push/rpm-upd\n\nAdd exponential backoff for the update images script. Use shared yum\ncache for individual containers\' update-retry. This speeds up yum\noperations when retrying for a failed container update only, can not\nshare for all containers as concurrent RW access would corrupt it.\n\nImages pull/push operations are wrapped with retries attempting to\n""resolve contention for a shared resource"" only (according to the used\n    wait_random_exponential function docs):\n\n  rnd_backoff = random(0, maximum(0, minimum( multiplier * exp_base ^\n          retry_number, max)))\n\nThis only restricts the upper limit of the random interval (0, X) to X\n= max, leaving the lower limit of a 0. With constants:\n\n  multiplier = 1, exp_base = 2, max = 10, and max retries of 5,\n\nit gives us only a 3 attemtps put in a ""short and busy"" interval of\n\n  [rnd(0,2)s, rnd(0,4)s, rnd(0,8)s].\n\nThat might be causing DoS effects, when swarmed in parallel CI jobs.\n\nTo mitigate that, wrap the backoff loop with an additional longer loop\noptimized for waiting of unavailable resources (container registries\n    and rpm repos):\n\n  fixed_backoff = maximum(0, minimum( multiplier * exp_base ^\n        retry_number, max))\n\nwith multiplier = 5, exp_base = 3, max = 50, the ""outer"" backoff\nintervals:\n\n  [15s, 45s]\n\nThis gives the resources time to recover and finish some of the ongoing\npush/pull/rpm-update activities hopefully.\n\nWith that, modify the nested jittered loop with multiplier = 2,\n     exp_base = 3, max = 20, which is [rnd(0,6), rnd(0,18)].\n\nLimit both loops by a max of 2 retries. The total time to wait will not\nexceed then a total time of (6+18) + 15 + (6+18) + 45 + (6+18) = 132s.\n\nRelated-Bug: #1799895\n\nChange-Id: Ib622908ab1418707a33c63ed76242a122fd71b57\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 7, 'created': '2018-10-30 10:34:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bb5cbbcd9851eaab2e1ef342c810b5567cca5103', 'message': 'Improve exp backoff for images pull/push/rpm-upd\n\nAdd exponential backoff for the update images script. Use shared yum\ncache for individual containers\' update-retry. This speeds up yum\noperations when retrying for a failed container update only, can not\nshare for all containers as concurrent RW access would corrupt it.\n\nImages pull/push operations are wrapped with retries attempting to\n""resolve contention for a shared resource"" only (according to the used\n    wait_random_exponential function docs):\n\n  rnd_backoff = random(0, maximum(0, minimum( multiplier * exp_base ^\n          retry_number, max)))\n\nThis only restricts the upper limit of the random interval (0, X) to X\n= max, leaving the lower limit of a 0. With constants:\n\n  multiplier = 1, exp_base = 2, max = 10, and max retries of 5,\n\nit gives us only a 3 attemtps put in a ""short and busy"" interval of\n\n  [rnd(0,2)s, rnd(0,4)s, rnd(0,8)s].\n\nThat might be causing DoS effects, when swarmed in parallel CI jobs.\n\nTo mitigate that, wrap the backoff loop with an additional longer loop\noptimized for waiting of unavailable resources (container registries\n    and rpm repos):\n\n  fixed_backoff = maximum(0, minimum( multiplier * exp_base ^\n        retry_number, max))\n\nwith multiplier = 5, exp_base = 3, max = 50, the ""outer"" backoff\nintervals:\n\n  [15s, 45s]\n\nThis gives the resources time to recover and finish some of the ongoing\npush/pull/rpm-update activities hopefully.\n\nWith that, modify the nested jittered loop with multiplier = 2,\n     exp_base = 3, max = 20, which is [rnd(0,6), rnd(0,18)].\n\nLimit both loops by a max of 2 retries. The total time to wait will not\nexceed then a total time of (6+18) + 15 + (6+18) + 45 + (6+18) = 132s.\n\nRelated-Bug: #1799895\n\nChange-Id: Ib622908ab1418707a33c63ed76242a122fd71b57\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 8, 'created': '2018-10-31 09:44:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/755fc730cee9a1b7a632c784ff46bbc5fa08de33', 'message': 'Improve exp backoff for images pull/push/rpm-upd\n\nAdd exponential backoff for the update images script. Use shared yum\ncache for individual containers\' update-retry. This speeds up yum\noperations when retrying for a failed container update only, can not\nshare for all containers as concurrent RW access would corrupt it.\n\nImages pull/push operations are wrapped with retries attempting to\n""resolve contention for a shared resource"" only (according to the used\n    wait_random_exponential function docs):\n\n  rnd_backoff = random(0, maximum(0, minimum( multiplier * exp_base ^\n          retry_number, max)))\n\nThis only restricts the upper limit of the random interval (0, X) to X\n= max, leaving the lower limit of a 0. With constants:\n\n  multiplier = 1, exp_base = 2, max = 10, and max retries of 5,\n\nit gives us only a 3 attemtps put in a ""short and busy"" interval of\n\n  [rnd(0,2)s, rnd(0,4)s, rnd(0,8)s].\n\nThat might be causing DoS effects, when swarmed in parallel CI jobs.\n\nTo mitigate that, wrap the backoff loop with an additional longer loop\noptimized for waiting of unavailable resources (container registries\n    and rpm repos):\n\n  fixed_backoff = maximum(0, minimum( multiplier * exp_base ^\n        retry_number, max))\n\nwith multiplier = 5, exp_base = 3, max = 50, the ""outer"" backoff\nintervals:\n\n  [15s, 45s]\n\nThis gives the resources time to recover and finish some of the ongoing\npush/pull/rpm-update activities hopefully.\n\nWith that, modify the nested jittered loop with multiplier = 2,\n     exp_base = 3, max = 20, which is [rnd(0,6), rnd(0,18)].\n\nLimit both loops by a max of 2 retries. The total time to wait will not\nexceed then a total time of (6+18) + 15 + (6+18) + 45 + (6+18) = 132s.\n\nRelated-Bug: #1799895\n\nChange-Id: Ib622908ab1418707a33c63ed76242a122fd71b57\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 9, 'created': '2018-11-05 10:03:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b04b4f1ddb11aabbf018eb1fbeaece885c0c0cae', 'message': 'Improve exp backoff for images pull/push\n\nAdd exponential backoff for the update images script.\n\nImages pull/push operations are wrapped with retries attempting to\n""resolve contention for a shared resource"" only (according to the used\n    wait_random_exponential function docs):\n\n  rnd_backoff = random(0, maximum(0, minimum( multiplier * exp_base ^\n          retry_number, max)))\n\nThis only restricts the upper limit of the random interval (0, X) to X\n= max, leaving the lower limit of a 0. With constants:\n\n  multiplier = 1, exp_base = 2, max = 10, and max retries of 5,\n\nit gives us only a 3 attemtps put in a ""short and busy"" interval of\n\n  [rnd(0,2)s, rnd(0,4)s, rnd(0,8)s].\n\nThat might be causing DoS effects, when swarmed in parallel CI jobs.\n\nTo mitigate that, wrap the backoff loop with an additional longer loop\noptimized for waiting of unavailable resources (container registries\n    and rpm repos):\n\n  fixed_backoff = maximum(0, minimum( multiplier * exp_base ^\n        retry_number, max))\n\nwith multiplier = 5, exp_base = 3, max = 50, the ""outer"" backoff\nintervals:\n\n  [15s, 45s]\n\nThis gives the resources time to recover and finish some of the ongoing\npush/pull activities hopefully.\n\nWith that, modify the nested jittered loop with multiplier = 2,\n     exp_base = 3, max = 20, which is [rnd(0,6), rnd(0,18)].\n\nLimit both loops by a max of 2 retries. The total time to wait will not\nexceed then a total time of (6+18) + 15 + (6+18) + 45 + (6+18) = 132s.\n\nRelated-Bug: #1799895\n\nChange-Id: Ib622908ab1418707a33c63ed76242a122fd71b57\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 10, 'created': '2018-11-23 10:00:31.000000000', 'files': ['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/41451d0584e2869e36ad7493d6b97a20e1038ac9', 'message': 'Improve exp backoff for images pull/push\n\nAdd exponential backoff for the update images script.\n\nImages pull/push operations are wrapped with retries attempting to\n""resolve contention for a shared resource"" only (according to the used\n    wait_random_exponential function docs):\n\n  rnd_backoff = random(0, maximum(0, minimum( multiplier * exp_base ^\n          retry_number, max)))\n\nThis only restricts the upper limit of the random interval (0, X) to X\n= max, leaving the lower limit of a 0. With constants:\n\n  multiplier = 1, exp_base = 2, max = 10, and max retries of 5,\n\nit gives us only a 3 attemtps put in a ""short and busy"" interval of\n\n  [rnd(0,2)s, rnd(0,4)s, rnd(0,8)s].\n\nThat might be causing DoS effects, when swarmed in parallel CI jobs.\n\nTo mitigate that, wrap the backoff loop with an additional longer loop\noptimized for waiting of unavailable resources (container registries\n    and rpm repos):\n\n  fixed_backoff = maximum(0, minimum( multiplier * exp_base ^\n        retry_number, max))\n\nwith multiplier = 5, exp_base = 3, max = 50, the ""outer"" backoff\nintervals:\n\n  [15s, 45s]\n\nThis gives the resources time to recover and finish some of the ongoing\npush/pull activities hopefully.\n\nWith that, modify the nested jittered loop with multiplier = 2,\n     exp_base = 3, max = 20, which is [rnd(0,6), rnd(0,18)].\n\nLimit both loops by a max of 2 retries. The total time to wait will not\nexceed then a total time of (6+18) + 15 + (6+18) + 45 + (6+18) = 132s.\n\nRelated-Bug: #1799895\n\nChange-Id: Ib622908ab1418707a33c63ed76242a122fd71b57\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",6,575742,41451d0584e2869e36ad7493d6b97a20e1038ac9,57,13,10,6926,,,0,"Improve exp backoff for images pull/push

Add exponential backoff for the update images script.

Images pull/push operations are wrapped with retries attempting to
""resolve contention for a shared resource"" only (according to the used
    wait_random_exponential function docs):

  rnd_backoff = random(0, maximum(0, minimum( multiplier * exp_base ^
          retry_number, max)))

This only restricts the upper limit of the random interval (0, X) to X
= max, leaving the lower limit of a 0. With constants:

  multiplier = 1, exp_base = 2, max = 10, and max retries of 5,

it gives us only a 3 attemtps put in a ""short and busy"" interval of

  [rnd(0,2)s, rnd(0,4)s, rnd(0,8)s].

That might be causing DoS effects, when swarmed in parallel CI jobs.

To mitigate that, wrap the backoff loop with an additional longer loop
optimized for waiting of unavailable resources (container registries
    and rpm repos):

  fixed_backoff = maximum(0, minimum( multiplier * exp_base ^
        retry_number, max))

with multiplier = 5, exp_base = 3, max = 50, the ""outer"" backoff
intervals:

  [15s, 45s]

This gives the resources time to recover and finish some of the ongoing
push/pull activities hopefully.

With that, modify the nested jittered loop with multiplier = 2,
     exp_base = 3, max = 20, which is [rnd(0,6), rnd(0,18)].

Limit both loops by a max of 2 retries. The total time to wait will not
exceed then a total time of (6+18) + 15 + (6+18) + 45 + (6+18) = 132s.

Related-Bug: #1799895

Change-Id: Ib622908ab1418707a33c63ed76242a122fd71b57
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/42/575742/10 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/image/test_image_uploader.py', 'scripts/container-update.py', 'tripleo_common/image/image_uploader.py']",3,1093aad31f43afe1751db24977791a80cf2ad647,bug/1799895," @tenacity.retry( wait=tenacity.wait_exponential(multiplier=5, max=50, exp_base=3), stop=tenacity.stop_after_attempt(2) ) @tenacity.retry( reraise=True, wait=tenacity.wait_random_exponential( multiplier=2, max=20, exp_base=3), stop=tenacity.stop_after_attempt(2) """"""Retry with exp. backoffs to protect against contentions and DoS, for no longer than 132s total, with a fixed exponential backoff, interleaved with a jittered and shorter exp. backoff intervals. """""" @tenacity.retry( wait=tenacity.wait_exponential(multiplier=5, max=50, exp_base=3), stop=tenacity.stop_after_attempt(2) ) @tenacity.retry( reraise=True, wait=tenacity.wait_random_exponential( multiplier=2, max=20, exp_base=3), stop=tenacity.stop_after_attempt(2) """"""Retry with exp. backoffs to protect against contentions and DoS, for no longer than 132s total, with a fixed exponential backoff, interleaved with a jittered and shorter exp. backoff intervals. """""" "," @tenacity.retry( # Retry up to 5 times with jittered exponential backoff wait=tenacity.wait_random_exponential(multiplier=1, max=10), stop=tenacity.stop_after_attempt(5) @tenacity.retry( # Retry up to 5 times with jittered exponential backoff wait=tenacity.wait_random_exponential(multiplier=1, max=10), stop=tenacity.stop_after_attempt(5)",87,40
openstack%2Ftripleo-quickstart~master~I7f0cde21c8f1528b22e9e0e4de4628bed1e25c17,openstack/tripleo-quickstart,master,I7f0cde21c8f1528b22e9e0e4de4628bed1e25c17,Better support for the local devbox cases,ABANDONED,2018-08-20 10:20:22.000000000,2018-11-30 15:24:51.000000000,,"[{'_account_id': 6926}, {'_account_id': 8367}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2018-08-20 10:20:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/5dc63b953fe67027356d5062683bb6d9b35e6b13', 'message': 'Better support for the local devbox cases\n\nBe more carefull on tear down, when virthost is localhost and running\non behalf of the logged in user. Which is a custom non_root_user\nnot typical for automation jobs or throw-away VM instances, like\nstack/zuul/centos.\n\nChange-Id: I7f0cde21c8f1528b22e9e0e4de4628bed1e25c17\n'}, {'number': 2, 'created': '2018-09-13 14:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/6431883c27dd2867670d061e7175fd281bcbec0f', 'message': 'Better support for the local devbox cases\n\nBe more carefull on tear down, when virthost is localhost and running\non behalf of the logged in user.\n\nChange-Id: I7f0cde21c8f1528b22e9e0e4de4628bed1e25c17\n'}, {'number': 3, 'created': '2018-09-26 09:26:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/2cfe6c2a0bff3a51c22aebef6d035fcb67bfd58b', 'message': 'Better support for the local devbox cases\n\nAdd the safe_teardown switch to better support non-disposable\nlocal devboxes for users running local installations.\n\nChange-Id: I7f0cde21c8f1528b22e9e0e4de4628bed1e25c17\n'}, {'number': 4, 'created': '2018-10-11 13:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/8e85a477d222be50ba7a70fcf872d09bc411a837', 'message': 'Better support for the local devbox cases\n\nUse the teardown-virthost (it currently has no use at all) tag to mark\nspecific teardown actions performed upon virthost, like killing\nprocesses running for the non_root_user, removing non-root user account\nand uninstalling libvirt and tripleo packages from the virthost.\n\nSetting this tag to the skip-tags provides better support for\nnon-disposable devboxes (when virthost=localhost and non_root_user may\nbe the currently logged user).\n\nDepends-On: I09c9970de4d26946ac03ad86ad561a62da598934\nChange-Id: I7f0cde21c8f1528b22e9e0e4de4628bed1e25c17\n'}, {'number': 5, 'created': '2018-10-11 13:50:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d02ee9ee2346419aba04a7ab5fcf525b2f284385', 'message': 'Better support for the local devbox cases\n\nUse the teardown-virthost (it currently has no use at all) tag to mark\nspecific teardown actions performed upon virthost, like killing\nprocesses running for the non_root_user, removing non-root user account\nand uninstalling libvirt and tripleo packages from the virthost.\n\nSetting this tag to the skip-tags provides better support for\nnon-disposable devboxes (when virthost=localhost and non_root_user may\nbe the currently logged user).\n\nUpdate the docs for the teardown how-to.\n\nDepends-On: I09c9970de4d26946ac03ad86ad561a62da598934\nChange-Id: I7f0cde21c8f1528b22e9e0e4de4628bed1e25c17\n'}, {'number': 6, 'created': '2018-10-11 14:35:16.000000000', 'files': ['doc/source/configuration.rst', 'roles/provision/teardown/tasks/main.yml', 'quickstart.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/1b3f06b6f90b617a2d1613d81233b72cc1bab5dc', 'message': 'Better support for the local devbox cases\n\nUse the teardown-virthost (it currently has no use at all) tag to mark\nspecific teardown actions performed upon virthost, like killing\nprocesses running for the non_root_user, removing non-root user account\nand uninstalling libvirt and tripleo packages from the virthost.\n\nSetting this tag to the skip-tags provides better support for\nnon-disposable devboxes (when virthost=localhost and non_root_user may\nbe the currently logged user).\n\nUpdate the docs for the teardown how-to.\n\nDepends-On: I09c9970de4d26946ac03ad86ad561a62da598934\nChange-Id: I7f0cde21c8f1528b22e9e0e4de4628bed1e25c17\n'}]",3,593567,1b3f06b6f90b617a2d1613d81233b72cc1bab5dc,35,8,6,6926,,,0,"Better support for the local devbox cases

Use the teardown-virthost (it currently has no use at all) tag to mark
specific teardown actions performed upon virthost, like killing
processes running for the non_root_user, removing non-root user account
and uninstalling libvirt and tripleo packages from the virthost.

Setting this tag to the skip-tags provides better support for
non-disposable devboxes (when virthost=localhost and non_root_user may
be the currently logged user).

Update the docs for the teardown how-to.

Depends-On: I09c9970de4d26946ac03ad86ad561a62da598934
Change-Id: I7f0cde21c8f1528b22e9e0e4de4628bed1e25c17
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/67/593567/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'roles/provision/teardown/tasks/main.yml']",2,5dc63b953fe67027356d5062683bb6d9b35e6b13,localcon,"# Excepting the local devbox case, which is virthost is localhost # and running on behalf of the logged in user. - when: - non_root_uid is success - non_root_user != lookup('env', 'USER') - non_root_user in ['stack', 'zuul', 'centos'] - virthost != 'localhost'",- when: non_root_uid|success,12,2
openstack%2Ftripleo-quickstart~master~Ief903ef2973a7239ee1b2390d4e3a8482d466ea1,openstack/tripleo-quickstart,master,Ief903ef2973a7239ee1b2390d4e3a8482d466ea1,Support virthost localhost via local connection,ABANDONED,2018-06-20 06:17:44.000000000,2018-11-30 15:24:47.000000000,,"[{'_account_id': 4328}, {'_account_id': 6926}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12715}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 24752}]","[{'number': 1, 'created': '2018-06-20 06:17:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/07640b66c411167ea78b734169839410b0a5010b', 'message': ""Reach localhost via ansible local connection\n\nSSH'ing to 127.0.0.2 provides poor users experince as\nit requires additional virthost setup.\n\nTo alleviate that, use -e ansible_connection=local for\nquickstart.sh when VIRTHOST is like a localhost.\n\nChange-Id: Ief903ef2973a7239ee1b2390d4e3a8482d466ea1\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 2, 'created': '2018-08-17 09:59:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ffc4ad855b0540621d26b20e2f399aec4e8eda0e', 'message': ""Reach localhost via ansible local connection\n\nSSH'ing to 127.0.0.2 provides poor users experince as\nit requires additional virthost setup.\n\nTo alleviate that, use -e ansible_connection=local for\nquickstart.sh when VIRTHOST is like a localhost.\n\nChange-Id: Ief903ef2973a7239ee1b2390d4e3a8482d466ea1\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 3, 'created': '2018-08-17 10:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ad1190351400a8182a57fc2de7458deb0ee683b6', 'message': ""Support virthost localhost via local connection\n\nAllow local connection transport, when virthost is localhost.\nKeep SSH'ing to virthosts, like 127.0.0.2, for backwards compatibility\nand tunelling alternatives (when users want SSH config to access\ninventory nodes via 127.0.0.2 acting as bastion)\n\nHandle virthost is localhost cases:\n\n* Support SSH-less (local transport) access/inventory entries\n* Do not add virthost entry to ssh config\n* Ask for a confirmation when doing a destructive cleanup\n  (defaults to NO)\n* Do not do unsafe teardown for the local devbox case, which is\n  virthost is localhost and running on behalf of the logged in user\n\nChange-Id: Ief903ef2973a7239ee1b2390d4e3a8482d466ea1\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 4, 'created': '2018-08-17 11:01:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/187953e5de58722858fca817bbe27d8dec5d97a1', 'message': ""Support virthost localhost via local connection\n\nAllow local connection transport, when virthost is localhost.\nKeep SSH'ing to virthosts, like 127.0.0.2, for backwards compatibility\nand tunelling alternatives (when users want SSH config to access\ninventory nodes via 127.0.0.2 acting as bastion)\n\nHandle virthost is localhost cases:\n\n* Support SSH-less (local transport) access/inventory entries\n* Do not add virthost entry to ssh config\n* Ask for a confirmation when doing a destructive cleanup\n  (defaults to NO)\n* Do not do unsafe teardown for the local devbox case, which is\n  virthost is localhost and running on behalf of the logged in user\n\nCombined with custom (not stack/zuul/centos) non_root_user given the\nname of the logged user, this tells Quickstart to be more carefull,\nwhen doing destructive teardown actions. That provides better\nsupport for the non-disposable devboxes.\n\nChange-Id: Ief903ef2973a7239ee1b2390d4e3a8482d466ea1\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 5, 'created': '2018-08-17 11:05:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/8ed7c3cf016cb7d95aac52c0b192883013467e38', 'message': ""Support virthost localhost via local connection\n\nAllow local connection transport, when virthost is localhost.\nKeep SSH'ing to virthosts, like 127.0.0.2, for backwards compatibility\nand tunelling alternatives (when users want SSH config to access\ninventory nodes via 127.0.0.2 acting as bastion)\n\nHandle virthost is localhost cases:\n\n* Support SSH-less (local transport) access/inventory entries\n* Do not add virthost entry to ssh config\n* Do not do unsafe teardown for the local devbox case, which is\n  virthost is localhost and running on behalf of the logged in user\n\nCombined with custom (not stack/zuul/centos) non_root_user given the\nname of the logged user, this tells Quickstart to be more carefull,\nwhen doing destructive teardown actions. That provides better\nsupport for the non-disposable devboxes.\n\nChange-Id: Ief903ef2973a7239ee1b2390d4e3a8482d466ea1\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 6, 'created': '2018-08-17 17:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/3735ba01a5b08573d7a72a3ef324fe8b1bf3620f', 'message': ""Support virthost localhost via local connection\n\nAllow local connection transport, when virthost is localhost. Keep\nSSH'ing to virthosts, like 127.0.0.2, for backwards compatibility.\n\nHandle virthost is localhost cases:\n\n* Support SSH-less (local transport) access/inventory entries\n* Do not add virthost entry to ssh config\n* Do not do unsafe teardown for the local devbox case, which is\n  virthost is localhost and running on behalf of the logged in user\n\nCombined with custom (not stack/zuul/centos) non_root_user given the\nname of the logged user, this tells Quickstart to be more carefull,\nwhen doing destructive teardown actions. That provides better\nsupport for the non-disposable devboxes.\n\nChange-Id: Ief903ef2973a7239ee1b2390d4e3a8482d466ea1\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 7, 'created': '2018-08-20 08:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b410e303f75cf703be9e2dc32fcf878126af691c', 'message': ""Support virthost localhost via local connection\n\nAllow local connection transport, when virthost is localhost. Keep\nSSH'ing to virthosts, like 127.0.0.2, for backwards compatibility.\n\nHandle virthost is localhost cases:\n\n* Support SSH-less (local transport) access/inventory entries\n* Do not add virthost entry to ssh config\n* Do not do unsafe teardown for the local devbox case, which is\n  virthost is localhost and running on behalf of the logged in user\n\nCombined with custom (not stack/zuul/centos) non_root_user given the\nname of the logged user, this tells Quickstart to be more carefull,\nwhen doing destructive teardown actions. That provides better\nsupport for the non-disposable devboxes.\n\nChange-Id: Ief903ef2973a7239ee1b2390d4e3a8482d466ea1\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 8, 'created': '2018-08-20 10:20:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/32cb0ee16c906a4cfcd8533435522abb76d15d48', 'message': ""Support virthost localhost via local connection\n\nAllow local connection transport, when virthost is localhost. Keep\nSSH'ing to virthosts, like 127.0.0.2, for backwards compatibility.\n\nChange-Id: Ief903ef2973a7239ee1b2390d4e3a8482d466ea1\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 9, 'created': '2018-08-20 12:36:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/cd73a4c9fca069f0140db1b419198406347c1916', 'message': ""Support virthost localhost via local connection\n\nAllow local connection transport, when virthost is localhost. Keep\nSSH'ing to virthosts, like 127.0.0.2, for backwards compatibility.\n\nWe cannot use the local connection transport globally for a full\nquickstart run, as this breaks the static inventory generation and all\nhosts receive that local transport. To mitigate that, provide a\none-time inventory for the virthost group consisting of localhost only\nand using the local connection transport. It is only used for initial\nansible tasks required to build a real hosts in in-memory inventory\n(and saved into static inventory later on, which throws that one-time\ninventoty away).\n\nChange-Id: Ief903ef2973a7239ee1b2390d4e3a8482d466ea1\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 10, 'created': '2018-09-13 14:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/738c37f40e5352e4f199ab7433679656b4ea4f41', 'message': ""Support virthost localhost via local connection\n\nAllow local connection transport, when virthost is localhost. Keep\nSSH'ing to virthosts, like 127.0.0.2, for backwards compatibility.\n\nWe cannot use the local connection transport globally for a full\nquickstart run, as this breaks the static inventory generation and all\nhosts receive that local transport. To mitigate that, provide a\none-time inventory for the virthost group consisting of localhost only\nand using the local connection transport. It is only used for initial\nansible tasks required to build a real hosts in in-memory inventory\n(and saved into static inventory later on, which throws that one-time\ninventoty away).\n\nChange-Id: Ief903ef2973a7239ee1b2390d4e3a8482d466ea1\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 11, 'created': '2018-10-11 13:13:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ac1b478f071fe45daf21bcc581c71f260a06ea2a', 'message': 'Support virthost localhost via local connection\n\nAllow local connection transport, when virthost is localhost.  That is\nthe best fit for all-in-one/standalone/undercloud-only deployments.\nKeep using SSH for 127.0.0.0/8 virthosts for backwards compatibility,\nlike when deploying overclouds and accessing it via SSH tunnels proxied\nvia 127.0.0.2.\n\nWe cannot use the local connection transport globally for a full\nquickstart run, as this breaks the static inventory generation and all\nhosts receive that local transport. To mitigate that, provide a\none-time inventory for the virthost group consisting of localhost only\nand using the local connection transport. It is only used for initial\nansible tasks required to build a real hosts in in-memory inventory\n(and saved into static inventory later on, which throws that one-time\ninventoty away).\n\nChange-Id: Ief903ef2973a7239ee1b2390d4e3a8482d466ea1\nDepends-On: I6a514fd08c48011df2800035370dc8738d063525\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 12, 'created': '2018-11-23 09:58:01.000000000', 'files': ['roles/tripleo-inventory/templates/ssh_config.j2', 'doc/source/basic-usage.rst', 'README.rst', 'roles/provision/remote/tasks/main.yml', 'roles/provision/local/tasks/main.yml', 'quickstart.sh', 'roles/tripleo-inventory/tasks/inventory.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/27b6d08a3259432e0c5fc7d256fe4e11967acc45', 'message': 'Support virthost localhost via local connection\n\nAllow local connection transport, when virthost is localhost.  That is\nthe best fit for all-in-one/standalone/undercloud-only deployments.\nKeep using SSH for 127.0.0.0/8 virthosts for backwards compatibility,\nlike when deploying overclouds and accessing it via SSH tunnels proxied\nvia 127.0.0.2.\n\nWe cannot use the local connection transport globally for a full\nquickstart run, as this breaks the static inventory generation and all\nhosts receive that local transport. To mitigate that, provide a\none-time inventory for the virthost group consisting of localhost only\nand using the local connection transport. It is only used for initial\nansible tasks required to build a real hosts in in-memory inventory\n(and saved into static inventory later on, which throws that one-time\ninventoty away).\n\nChange-Id: Ief903ef2973a7239ee1b2390d4e3a8482d466ea1\nDepends-On: I6a514fd08c48011df2800035370dc8738d063525\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",25,576746,27b6d08a3259432e0c5fc7d256fe4e11967acc45,92,14,12,6926,,,0,"Support virthost localhost via local connection

Allow local connection transport, when virthost is localhost.  That is
the best fit for all-in-one/standalone/undercloud-only deployments.
Keep using SSH for 127.0.0.0/8 virthosts for backwards compatibility,
like when deploying overclouds and accessing it via SSH tunnels proxied
via 127.0.0.2.

We cannot use the local connection transport globally for a full
quickstart run, as this breaks the static inventory generation and all
hosts receive that local transport. To mitigate that, provide a
one-time inventory for the virthost group consisting of localhost only
and using the local connection transport. It is only used for initial
ansible tasks required to build a real hosts in in-memory inventory
(and saved into static inventory later on, which throws that one-time
inventoty away).

Change-Id: Ief903ef2973a7239ee1b2390d4e3a8482d466ea1
Depends-On: I6a514fd08c48011df2800035370dc8738d063525
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/46/576746/9 && git format-patch -1 --stdout FETCH_HEAD,['quickstart.sh'],1,07640b66c411167ea78b734169839410b0a5010b,localcon,"[[ ""${VIRTHOST}"" =~ ""^127|^localhost"" ]] && CONN=""-e ansible_connection=local"" -e virthost=$VIRTHOST ${CONN:-""""} \", -e virthost=$VIRTHOST \,2,1
openstack%2Ftripleo-quickstart~master~Ia5cd75e49e057cef3be829352e89ec2b5ef9f4ae,openstack/tripleo-quickstart,master,Ia5cd75e49e057cef3be829352e89ec2b5ef9f4ae,Become root when doing recursive chown,ABANDONED,2018-08-22 17:21:34.000000000,2018-11-30 15:24:44.000000000,,"[{'_account_id': 4328}, {'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10873}, {'_account_id': 10969}, {'_account_id': 12715}, {'_account_id': 13861}, {'_account_id': 16448}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2018-08-22 17:21:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/dad5ff6104b2965fad2c097fce073e15fd7594db', 'message': 'Use become when doing recursive chown\n\nOtherwise, the command fails when executed as a simple\nquickstart.sh install command (w/o enforced -b)\n\nChange-Id: Ia5cd75e49e057cef3be829352e89ec2b5ef9f4ae\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2018-09-10 10:30:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7bb121e3f9c452427869f90100ee20623e1ef280', 'message': 'Use become when doing recursive chown\n\nOtherwise, the command fails when executed as a simple\nquickstart.sh install command (w/o enforced -b)\n\nChange-Id: Ia5cd75e49e057cef3be829352e89ec2b5ef9f4ae\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2018-10-11 14:04:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/659c0ba90f627f8f18ffab4e907dc2e1be81e96c', 'message': 'Become root when doing recursive chown\n\nWhen deploying in privileged libvirt mode (qemu:///system)\nbut being a *non* root user (for non_root_user and ssh_user),\nthe command fails:\n\nquickstart.sh -E config/environments/dev_privileged_libvirt.yml \\\n    -e ssh_user=$USER -e non_root_user=$USER\n\nFix that to become root, when it is needs to chown files\nin working_dir.\n\nChange-Id: Ia5cd75e49e057cef3be829352e89ec2b5ef9f4ae\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2018-11-23 09:58:16.000000000', 'files': ['roles/libvirt/setup/undercloud/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/658f57944cdeda9bfbb6fecdd4839f3314a086a6', 'message': 'Become root when doing recursive chown\n\nWhen deploying in privileged libvirt mode (qemu:///system)\nbut being a *non* root user (for non_root_user and ssh_user),\nthe command fails:\n\nquickstart.sh -E config/environments/dev_privileged_libvirt.yml \\\n    -e ssh_user=$USER -e non_root_user=$USER\n\nFix that to become root, when it is needs to chown files\nin working_dir.\n\nChange-Id: Ia5cd75e49e057cef3be829352e89ec2b5ef9f4ae\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",4,595265,658f57944cdeda9bfbb6fecdd4839f3314a086a6,33,14,4,6926,,,0,"Become root when doing recursive chown

When deploying in privileged libvirt mode (qemu:///system)
but being a *non* root user (for non_root_user and ssh_user),
the command fails:

quickstart.sh -E config/environments/dev_privileged_libvirt.yml \
    -e ssh_user=$USER -e non_root_user=$USER

Fix that to become root, when it is needs to chown files
in working_dir.

Change-Id: Ia5cd75e49e057cef3be829352e89ec2b5ef9f4ae
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/65/595265/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/libvirt/setup/undercloud/tasks/main.yml'],1,dad5ff6104b2965fad2c097fce073e15fd7594db,localcon, become: true,,1,0
openstack%2Ftripleo-quickstart-extras~master~I09c9970de4d26946ac03ad86ad561a62da598934,openstack/tripleo-quickstart-extras,master,I09c9970de4d26946ac03ad86ad561a62da598934,Better support for the local devbox cases,ABANDONED,2018-09-26 09:48:29.000000000,2018-11-30 15:24:25.000000000,,"[{'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2018-09-26 09:48:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/bd3058e203a2c59b80cb9222b95c2a362d34baff', 'message': 'Only ask for a prompt when safe teardown requested\n\nChange-Id: I09c9970de4d26946ac03ad86ad561a62da598934\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2018-10-11 12:49:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/46caa69449b0ddfa30c01f99c8587373c9a77e03', 'message': 'Better support for the local devbox cases\n\nUse the teardown-virthost (it currently has no use at all) tag to mark\nspecific teardown actions performed upon virthost, like killing\nprocesses running for the non_root_user, removing non-root user account\nand uninstalling libvirt and tripleo packages from the virthost.\n\nSetting this tag to the skip-tags provides better support for\nnon-disposable devboxes (when virthost=localhost and non_root_user may\nbe the currently logged user).\n\nChange-Id: I09c9970de4d26946ac03ad86ad561a62da598934\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2018-10-11 13:17:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/73f3776f0329235248f96a90b676c9a7bc9f0238', 'message': 'Better support for the local devbox cases\n\nUse the teardown-virthost (it currently has no use at all) tag to mark\nspecific teardown actions performed upon virthost, like killing\nprocesses running for the non_root_user, removing non-root user account\nand uninstalling libvirt and tripleo packages from the virthost.\n\nSetting this tag to the skip-tags provides better support for\nnon-disposable devboxes (when virthost=localhost and non_root_user may\nbe the currently logged user).\n\nChange-Id: I09c9970de4d26946ac03ad86ad561a62da598934\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2018-10-11 13:52:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3a57e3512108ea752fc28a3dec0dee26797c279d', 'message': 'Better support for the local devbox cases\n\nUse the teardown-virthost (it currently has no use at all) tag to mark\nspecific teardown actions performed upon virthost, like killing\nprocesses running for the non_root_user, removing non-root user account\nand uninstalling libvirt and tripleo packages from the virthost.\n\nSetting this tag to the skip-tags provides better support for\nnon-disposable devboxes (when virthost=localhost and non_root_user may\nbe the currently logged user).\n\nChange-Id: I09c9970de4d26946ac03ad86ad561a62da598934\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 5, 'created': '2018-11-23 09:57:22.000000000', 'files': ['playbooks/cleanup-destructive.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a60e7b6495c00a6b5bb60da392593cc63667eb04', 'message': 'Better support for the local devbox cases\n\nUse the teardown-virthost (it currently has no use at all) tag to mark\nspecific teardown actions performed upon virthost, like killing\nprocesses running for the non_root_user, removing non-root user account\nand uninstalling libvirt and tripleo packages from the virthost.\n\nSetting this tag to the skip-tags provides better support for\nnon-disposable devboxes (when virthost=localhost and non_root_user may\nbe the currently logged user).\n\nChange-Id: I09c9970de4d26946ac03ad86ad561a62da598934\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,605379,a60e7b6495c00a6b5bb60da392593cc63667eb04,17,4,5,6926,,,0,"Better support for the local devbox cases

Use the teardown-virthost (it currently has no use at all) tag to mark
specific teardown actions performed upon virthost, like killing
processes running for the non_root_user, removing non-root user account
and uninstalling libvirt and tripleo packages from the virthost.

Setting this tag to the skip-tags provides better support for
non-disposable devboxes (when virthost=localhost and non_root_user may
be the currently logged user).

Change-Id: I09c9970de4d26946ac03ad86ad561a62da598934
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/79/605379/3 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/cleanup-destructive.yml'],1,bd3058e203a2c59b80cb9222b95c2a362d34baff,localcon," to be performed at virthost (yes/NO)"" - safe_teardown|default(false)|bool"," to be performed at localhost (yes/NO)"" - virthost == 'localhost'",2,2
openstack%2Ftripleo-quickstart-extras~master~I6a514fd08c48011df2800035370dc8738d063525,openstack/tripleo-quickstart-extras,master,I6a514fd08c48011df2800035370dc8738d063525,Support virthost localhost via local connection,ABANDONED,2018-08-17 11:05:52.000000000,2018-11-30 15:24:22.000000000,,"[{'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12715}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 27427}]","[{'number': 1, 'created': '2018-08-17 11:05:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ead568e6d9c8023e8af1387fab4bcfbd96cec95b', 'message': 'Better support for the non-disposable devboxes.\n\nHandle virthost is localhost cases:\n\n* Ask for a confirmation when doing a destructive cleanup\n  (defaults to NO)\n\nCombined with custom (not stack/zuul/centos) non_root_user given the\nname of the logged user, this tells Quickstart to be more carefull,\nwhen doing destructive teardown actions. That provides better\nsupport for the non-disposable devboxes.\n\nDepends-On: Ief903ef2973a7239ee1b2390d4e3a8482d466ea1\n\nChange-Id: I6a514fd08c48011df2800035370dc8738d063525\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2018-08-20 09:24:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c9c295dcad468208cf5a0a6b4ad0e67551167edc', 'message': 'Better support for the non-disposable devboxes.\n\nHandle virthost is localhost cases:\n\n* Ask for a confirmation when doing a destructive cleanup\n  (defaults to NO)\n* Add virthost inventory entry to use ansible_connection local\n\nCombined with custom (not stack/zuul/centos) non_root_user given the\nname of the logged user, this tells Quickstart to be more carefull,\nwhen doing destructive teardown actions. That provides better\nsupport for the non-disposable devboxes.\n\nDepends-On: Ief903ef2973a7239ee1b2390d4e3a8482d466ea1\n\nChange-Id: I6a514fd08c48011df2800035370dc8738d063525\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2018-08-20 10:21:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0ecdcecf205eca0de28dd0fbfa73e980849f713f', 'message': 'Better support for the non-disposable devboxes.\n\nHandle virthost is localhost cases:\n\n* Ask for a confirmation when doing a destructive cleanup\n  (defaults to NO)\n* Add virthost inventory entry to use ansible_connection local\n\nCombined with custom (not stack/zuul/centos) non_root_user given the\nname of the logged user, this tells Quickstart to be more carefull,\nwhen doing destructive teardown actions. That provides better\nsupport for the non-disposable devboxes.\n\nDepends-On: I7f0cde21c8f1528b22e9e0e4de4628bed1e25c17\n\nChange-Id: I6a514fd08c48011df2800035370dc8738d063525\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2018-09-13 14:33:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7c917a7eb0a0c384f9cbe1a7fa5d6832e14f7e58', 'message': 'Better support for the non-disposable devboxes.\n\nHandle virthost is localhost cases:\n\n* Ask for a confirmation when doing a destructive cleanup\n  (defaults to NO)\n* Add virthost inventory entry to use ansible_connection local\n* Tell Quickstart to be more carefull, when doing destructive teardown\n* actions.\n\nThat provides better support for the non-disposable devboxes.\n\nDepends-On: I7f0cde21c8f1528b22e9e0e4de4628bed1e25c17\n\nChange-Id: I6a514fd08c48011df2800035370dc8738d063525\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 5, 'created': '2018-10-11 12:49:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/61c2deb048b43ed2026d20ea2f73812d9d64f075', 'message': ""Support virthost localhost via local connection\n\nAllow local connection transport, when virthost is localhost. Keep\nSSH'ing to virthosts, like 127.0.0.2, for backwards compatibility.\n\nRequired-By: Ief903ef2973a7239ee1b2390d4e3a8482d466ea1\nChange-Id: I6a514fd08c48011df2800035370dc8738d063525\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 6, 'created': '2018-11-23 09:57:48.000000000', 'files': ['playbooks/baremetal-prep-virthost.yml', 'roles/baremetal-undercloud/tasks/machine-setup.yml', 'playbooks/build-images-v2.yml', 'playbooks/cleanup-destructive.yml', 'playbooks/build-test-packages.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b5910e555cab6bc3efe6b484b1c42dc66de21395', 'message': ""Support virthost localhost via local connection\n\nAllow local connection transport, when virthost is localhost. Keep\nSSH'ing to virthosts, like 127.0.0.2, for backwards compatibility.\n\nRequired-By: Ief903ef2973a7239ee1b2390d4e3a8482d466ea1\nChange-Id: I6a514fd08c48011df2800035370dc8738d063525\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}]",11,592996,b5910e555cab6bc3efe6b484b1c42dc66de21395,50,11,6,6926,,,0,"Support virthost localhost via local connection

Allow local connection transport, when virthost is localhost. Keep
SSH'ing to virthosts, like 127.0.0.2, for backwards compatibility.

Required-By: Ief903ef2973a7239ee1b2390d4e3a8482d466ea1
Change-Id: I6a514fd08c48011df2800035370dc8738d063525
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/96/592996/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/cleanup-destructive.yml'],1,ead568e6d9c8023e8af1387fab4bcfbd96cec95b,localcon," vars_prompt: - name: confirm_destructive_action prompt: | ""Please confirm destructive cleanup (removes VMs and libvirt!) to be performed at localhost (yes/NO)"" default: no when: - virthost == 'localhost' - non_root_user not in ['stack', 'zuul', 'centos'] roles: - role: virthost-full-cleanup when: confirm_destructive_action|default(false)|bool", roles: - virthost-full-cleanup,11,1
openstack%2Ftripleo-ci~master~Ic0db1c02c8569e8224d7daba5b2728a47a436677,openstack/tripleo-ci,master,Ic0db1c02c8569e8224d7daba5b2728a47a436677,Improve getthelogs fetching periodic RDO CI jobs,ABANDONED,2018-10-12 13:43:33.000000000,2018-11-30 15:23:06.000000000,,"[{'_account_id': 6926}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 12715}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27427}, {'_account_id': 27898}]","[{'number': 1, 'created': '2018-10-12 13:43:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c70391fca384c96b8f9e0386775f96cc049953a1', 'message': 'Improve getthelogs fetching periodic RDO CI jobs\n\n* Allow getthelogs to omit missing objects uninterrupted\n* Allow getthelogs to fetch directories not marked with DIR as well\n* Auto-add the missing /logs ending to the URL for RDO CI jobs\n\nChange-Id: Ic0db1c02c8569e8224d7daba5b2728a47a436677\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2018-10-12 13:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/757d526ba22fbdfe736772cbca5fdd843ee70e20', 'message': 'Improve getthelogs fetching periodic RDO CI jobs\n\n* Allow getthelogs to omit missing objects uninterrupted\n* Allow getthelogs to fetch directories not marked with DIR as well\n* Auto-add the missing /logs ending to the URL for RDO CI jobs\n\nChange-Id: Ic0db1c02c8569e8224d7daba5b2728a47a436677\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2018-10-15 15:25:04.000000000', 'files': ['scripts/getthelogs'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c193529fea4a06390bd26a306a3033df21c0599e', 'message': 'Improve getthelogs fetching periodic RDO CI jobs\n\n* Allow getthelogs to omit missing objects uninterrupted\n* Allow getthelogs to fetch directories not marked with DIR as well\n* Auto-add the missing /logs ending to the URL for RDO CI jobs\n\nChange-Id: Ic0db1c02c8569e8224d7daba5b2728a47a436677\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,610039,c193529fea4a06390bd26a306a3033df21c0599e,11,8,3,6926,,,0,"Improve getthelogs fetching periodic RDO CI jobs

* Allow getthelogs to omit missing objects uninterrupted
* Allow getthelogs to fetch directories not marked with DIR as well
* Auto-add the missing /logs ending to the URL for RDO CI jobs

Change-Id: Ic0db1c02c8569e8224d7daba5b2728a47a436677
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/39/610039/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/getthelogs'],1,c70391fca384c96b8f9e0386775f96cc049953a1,," directories=$(curl -s ""$1"" 2> /dev/null | grep -E '\[DIR|href=\S+\/<' | grep -vE ""${drop}"" | sed -e ""s,.*href=\""\([^\""]*\)\"".*,${1}\1,g"")elif [[ ! $(basename $BASEURL) == 'logs' && SC -le 7 ]]; then BASEURL=${BASEURL}/logsconsole=""$BASEURL/job-output.txt.gz"" console_old=""$BASEURL/job-output.txt.gz""list_to_get=""$console $console_old $(get_dirs $BASEURL/)""# Do not fail if something is missing / cannot be downloaded set +e"," directories=$(curl -s ""$1"" 2> /dev/null | grep -E ""\[DIR"" | grep -vE ""${drop}"" | sed -e ""s,.*href=\""\([^\""]*\)\"".*,${1}\1,g"") console=""$BASEURL/console.txt.gz"" elif [[ ! $(basename $BASEURL) == 'logs' && SC -le 7 ]]; then console=""$BASEURL/job-output.txt.gz""else console=''list_to_get=""$console $(get_dirs $BASEURL/)""",8,7
openstack%2Ftripleo-ci~master~I1e8c323cbf04bbcf2b83267cdb1ae71971b8a18d,openstack/tripleo-ci,master,I1e8c323cbf04bbcf2b83267cdb1ae71971b8a18d,start_workers.sh: remove fi statement,ABANDONED,2018-10-29 15:54:40.000000000,2018-11-30 15:17:24.000000000,,"[{'_account_id': 6928}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2018-10-29 15:54:40.000000000', 'files': ['scripts/te-broker/start_workers.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/91c44d75a88ab12842dc91663b8f9ed9d74f11b8', 'message': 'start_workers.sh: remove fi statement\n\nThere is an extra fi statement on start_workers.sh, remove it to have a\nfunctional start_workers.sh script\n\nChange-Id: I1e8c323cbf04bbcf2b83267cdb1ae71971b8a18d\n'}]",0,613969,91c44d75a88ab12842dc91663b8f9ed9d74f11b8,6,4,1,11810,,,0,"start_workers.sh: remove fi statement

There is an extra fi statement on start_workers.sh, remove it to have a
functional start_workers.sh script

Change-Id: I1e8c323cbf04bbcf2b83267cdb1ae71971b8a18d
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/69/613969/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/te-broker/start_workers.sh'],1,91c44d75a88ab12842dc91663b8f9ed9d74f11b8,,,fi,0,1
openstack%2Fopenstack-ansible-os_keystone~master~Ia766f2d52fc830d2d1f12ca1a0978927e329a463,openstack/openstack-ansible-os_keystone,master,Ia766f2d52fc830d2d1f12ca1a0978927e329a463,Adds support for changing port for keystone galera database.,MERGED,2018-11-22 08:44:02.000000000,2018-11-30 15:13:49.000000000,2018-11-30 15:13:49.000000000,"[{'_account_id': 1004}, {'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 23182}, {'_account_id': 23924}]","[{'number': 1, 'created': '2018-11-22 08:44:02.000000000', 'files': ['tasks/keystone_db_setup.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/38a850b6f56f32c72bdea32ce12084fae595c490', 'message': 'Adds support for changing port for keystone galera database.\n\nAdded a new configure variable keystone_galera_port. Override the variable to set a specific port for the keystone database.\nDefault value is 3306\n\nChange-Id: Ia766f2d52fc830d2d1f12ca1a0978927e329a463\n'}]",0,619474,38a850b6f56f32c72bdea32ce12084fae595c490,9,5,1,26892,,,0,"Adds support for changing port for keystone galera database.

Added a new configure variable keystone_galera_port. Override the variable to set a specific port for the keystone database.
Default value is 3306

Change-Id: Ia766f2d52fc830d2d1f12ca1a0978927e329a463
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/74/619474/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/keystone_db_setup.yml', 'defaults/main.yml']",2,38a850b6f56f32c72bdea32ce12084fae595c490,,keystone_galera_port: 3306 mysql+pymysql://{{ keystone_galera_user }}:{{ keystone_container_mysql_password }}@{{ keystone_galera_address }}:{{keystone_galera_port}}/{{ keystone_galera_database }}?charset=utf8{% if keystone_galera_use_ssl | bool %}&ssl_ca={{ keystone_galera_ssl_ca_cert }}{% endif %}, mysql+pymysql://{{ keystone_galera_user }}:{{ keystone_container_mysql_password }}@{{ keystone_galera_address }}/{{ keystone_galera_database }}?charset=utf8{% if keystone_galera_use_ssl | bool %}&ssl_ca={{ keystone_galera_ssl_ca_cert }}{% endif %},4,1
openstack%2Ftripleo-quickstart~master~Iea3faf0e048ec1ef7b6e0b963659c2ad6bb8d582,openstack/tripleo-quickstart,master,Iea3faf0e048ec1ef7b6e0b963659c2ad6bb8d582,[Configuration] Remove liberty files.,MERGED,2018-11-22 11:07:24.000000000,2018-11-30 15:12:07.000000000,2018-11-29 23:08:37.000000000,"[{'_account_id': 8042}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 28522}, {'_account_id': 29222}]","[{'number': 1, 'created': '2018-11-22 11:07:24.000000000', 'files': ['roles/libvirt/setup/undercloud/templates/update_image.sh.j2', 'config/release/centosci/liberty-consistent.yml', 'config/release/centosci/liberty.yml', 'config/release/trunk/liberty.yml', 'config/release/liberty.yml', 'roles/libvirt/setup/overcloud/templates/instackenv.json.j2', 'roles/repo-setup/README.md', 'roles/libvirt/setup/undercloud/tasks/main.yml', 'ci-scripts/provision_centos_settings.yml', 'roles/tripleo-inventory/tasks/inventory.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/5d513aa3f58a0504ce2f4b986af65cae487b0f80', 'message': '[Configuration] Remove liberty files.\n\nRemove the liberty configuration. The liberty release is no longer\nsupported by the community.\n\nChange-Id: Iea3faf0e048ec1ef7b6e0b963659c2ad6bb8d582\nCloses-Bug: #1722602\n'}]",2,619519,5d513aa3f58a0504ce2f4b986af65cae487b0f80,22,7,1,29222,,,0,"[Configuration] Remove liberty files.

Remove the liberty configuration. The liberty release is no longer
supported by the community.

Change-Id: Iea3faf0e048ec1ef7b6e0b963659c2ad6bb8d582
Closes-Bug: #1722602
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/19/619519/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/libvirt/setup/undercloud/templates/update_image.sh.j2', 'config/release/centosci/liberty-consistent.yml', 'config/release/centosci/liberty.yml', 'config/release/trunk/liberty.yml', 'config/release/liberty.yml', 'roles/libvirt/setup/overcloud/templates/instackenv.json.j2', 'roles/repo-setup/README.md', 'roles/libvirt/setup/undercloud/tasks/main.yml', 'ci-scripts/provision_centos_settings.yml', 'roles/tripleo-inventory/tasks/inventory.yml']",10,5d513aa3f58a0504ce2f4b986af65cae487b0f80,bug/1722602,, #required for liberty based deployments - name: copy get-overcloud-nodes.py to undercloud template: src: 'get-overcloud-nodes.py.j2' dest: '{{ working_dir }}/get-overcloud-nodes.py' mode: 0755 #required for liberty based deployments - name: fetch overcloud node names and IPs shell: > source {{ working_dir }}/stackrc; python {{ working_dir }}/get-overcloud-nodes.py register: registered_overcloud_nodes ,4,38
openstack%2Fneutron-dynamic-routing~master~I383a87c917dcdf9469d57b55ab2630420e3ac87c,openstack/neutron-dynamic-routing,master,I383a87c917dcdf9469d57b55ab2630420e3ac87c,fix tox python3 overrides,MERGED,2018-09-29 23:51:54.000000000,2018-11-30 15:06:48.000000000,2018-11-30 15:06:48.000000000,"[{'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 6854}, {'_account_id': 22348}, {'_account_id': 27153}, {'_account_id': 28935}]","[{'number': 1, 'created': '2018-09-29 23:51:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/9df01c1baeda7fe1b48dbc40998d5bc498005b2d', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I383a87c917dcdf9469d57b55ab2630420e3ac87c\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2018-10-30 03:22:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/ef8c59faae2dabd67f4495752b8f2387fae4025b', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I383a87c917dcdf9469d57b55ab2630420e3ac87c\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 3, 'created': '2018-11-01 03:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/022729377b36a2193a73fc781b5c4eafaff7a02b', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I383a87c917dcdf9469d57b55ab2630420e3ac87c\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 4, 'created': '2018-11-11 06:16:31.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/f245c52b3c2ac9b5c8643392330f25e7e0bec77d', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I383a87c917dcdf9469d57b55ab2630420e3ac87c\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,606677,f245c52b3c2ac9b5c8643392330f25e7e0bec77d,25,6,4,2472,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I383a87c917dcdf9469d57b55ab2630420e3ac87c
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/77/606677/4 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9df01c1baeda7fe1b48dbc40998d5bc498005b2d,python3-first,basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3,,5,0
openstack%2Fcharm-nova-cloud-controller~master~I7018e94e75c7c873c6c610b06d3e7cc9fedcc507,openstack/charm-nova-cloud-controller,master,I7018e94e75c7c873c6c610b06d3e7cc9fedcc507,Use chelper generate_ha_relation_data for ha rel,MERGED,2018-11-28 08:36:53.000000000,2018-11-30 15:04:18.000000000,2018-11-30 15:04:18.000000000,"[{'_account_id': 935}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-28 08:36:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/c7f3def728472557b53fe4374dfea732f9e804d4', 'message': 'Use chelper generate_ha_relation_data for ha rel\n\nUse the generate_ha_relation_data helper from charmhelpers to\ngenerate the data to send down the relation to the hacluster\ncharm.\n\nThis results in a few changes in behaviour:\n\n1) The charm will no longer specify a nic name to bind the vip. This\n   is because Pacemaker VIP resources are able to automatically\n   detect and configure correct iface and netmask parameters based\n   on local configuration of the unit.\n2) The original iface named VIP resource will be stopped and deleted\n   prior to the creation of the new short hash named VIP resource.\n\nChange-Id: I7018e94e75c7c873c6c610b06d3e7cc9fedcc507\n'}, {'number': 2, 'created': '2018-11-29 12:58:30.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/amulet/deployment.py', 'unit_tests/test_nova_cc_hooks.py', 'charmhelpers/contrib/charmsupport/nrpe.py', 'charmhelpers/contrib/openstack/ha/utils.py', 'charmhelpers/contrib/storage/linux/loopback.py', 'hooks/nova_cc_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/6d1d15149e0ea0ef6bd14b7ec4e1c96fd4d227a3', 'message': 'Use chelper generate_ha_relation_data for ha rel\n\nUse the generate_ha_relation_data helper from charmhelpers to\ngenerate the data to send down the relation to the hacluster\ncharm.\n\nThis results in a few changes in behaviour:\n\n1) The charm will no longer specify a nic name to bind the vip. This\n   is because Pacemaker VIP resources are able to automatically\n   detect and configure correct iface and netmask parameters based\n   on local configuration of the unit.\n2) The original iface named VIP resource will be stopped and deleted\n   prior to the creation of the new short hash named VIP resource.\n\nChange-Id: I7018e94e75c7c873c6c610b06d3e7cc9fedcc507\n'}]",0,620531,6d1d15149e0ea0ef6bd14b7ec4e1c96fd4d227a3,14,4,2,12549,,,0,"Use chelper generate_ha_relation_data for ha rel

Use the generate_ha_relation_data helper from charmhelpers to
generate the data to send down the relation to the hacluster
charm.

This results in a few changes in behaviour:

1) The charm will no longer specify a nic name to bind the vip. This
   is because Pacemaker VIP resources are able to automatically
   detect and configure correct iface and netmask parameters based
   on local configuration of the unit.
2) The original iface named VIP resource will be stopped and deleted
   prior to the creation of the new short hash named VIP resource.

Change-Id: I7018e94e75c7c873c6c610b06d3e7cc9fedcc507
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/31/620531/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/amulet/deployment.py', 'unit_tests/test_nova_cc_hooks.py', 'charmhelpers/contrib/charmsupport/nrpe.py', 'charmhelpers/contrib/openstack/ha/utils.py', 'charmhelpers/contrib/storage/linux/loopback.py', 'hooks/nova_cc_hooks.py']",7,c7f3def728472557b53fe4374dfea732f9e804d4,feature/use-ch-for-ha-rel," for rid in hookenv.relation_ids('ha'): ha_joined(rid) ha_console_settings = {} if not hookenv.config('dns-ha'): ha_console_settings = { 'colocations': {'vip_consoleauth': COLO_CONSOLEAUTH}, 'init_services': {'res_nova_consoleauth': 'nova-consoleauth'}, 'resources': {'res_nova_consoleauth': AGENT_CONSOLEAUTH}, 'resource_params': {'res_nova_consoleauth': AGENT_CA_PARAMS}} settings = ch_ha_utils.generate_ha_relation_data( 'nova', extra_settings=ha_console_settings) hookenv.relation_set(relation_id=relation_id, **settings)"," cluster_config = ch_cluster.get_hacluster_config() resources = { 'res_nova_haproxy': 'lsb:haproxy', } resource_params = { 'res_nova_haproxy': 'op monitor interval=""5s""', } init_services = { 'res_nova_haproxy': 'haproxy' } clones = { 'cl_nova_haproxy': 'res_nova_haproxy' } colocations = {} if hookenv.config('dns-ha'): ch_ha_utils.update_dns_ha_resource_params( relation_id=relation_id, resources=resources, resource_params=resource_params) else: vip_group = [] for vip in cluster_config['vip'].split(): if ch_network_ip.is_ipv6(vip): res_nova_vip = 'ocf:heartbeat:IPv6addr' vip_params = 'ipv6addr' else: res_nova_vip = 'ocf:heartbeat:IPaddr2' vip_params = 'ip' iface = (ch_network_ip.get_iface_for_address(vip) or hookenv.config('vip_iface')) netmask = (ch_network_ip.get_netmask_for_address(vip) or hookenv.config('vip_cidr')) if iface is not None: vip_key = 'res_nova_{}_vip'.format(iface) if vip_key in vip_group: if vip not in resource_params[vip_key]: vip_key = '{}_{}'.format(vip_key, vip_params) else: hookenv.log( ""Resource '%s' (vip='%s') already exists in "" ""vip group - skipping"" % (vip_key, vip), hookenv.WARNING) continue resources[vip_key] = res_nova_vip resource_params[vip_key] = ( 'params {ip}=""{vip}"" cidr_netmask=""{netmask}""' ' nic=""{iface}""'.format(ip=vip_params, vip=vip, iface=iface, netmask=netmask) ) vip_group.append(vip_key) if len(vip_group) >= 1: hookenv.relation_set( groups={'grp_nova_vips': ' '.join(vip_group)}) colocations['vip_consoleauth'] = COLO_CONSOLEAUTH init_services['res_nova_consoleauth'] = 'nova-consoleauth' resources['res_nova_consoleauth'] = AGENT_CONSOLEAUTH resource_params['res_nova_consoleauth'] = AGENT_CA_PARAMS hookenv.relation_set(relation_id=relation_id, init_services=init_services, corosync_bindiface=cluster_config['ha-bindiface'], corosync_mcastport=cluster_config['ha-mcastport'], resources=resources, resource_params=resource_params, clones=clones, colocations=colocations)",222,265
openstack%2Fcinder~master~I39e4c649b063d5d4468d75c4a9dec37a3f2e114c,openstack/cinder,master,I39e4c649b063d5d4468d75c4a9dec37a3f2e114c,DNM: SolidFire CI tests,ABANDONED,2018-10-25 13:56:10.000000000,2018-11-30 14:55:11.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-10-25 13:56:10.000000000', 'files': ['cinder/volume/drivers/solidfire.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e20166b9e48f1952a1f0329e9a240a3a2c7b326d', 'message': 'DNM: SolidFire CI tests\n\nChange-Id: I39e4c649b063d5d4468d75c4a9dec37a3f2e114c\n'}]",0,613333,e20166b9e48f1952a1f0329e9a240a3a2c7b326d,42,34,1,10058,,,0,"DNM: SolidFire CI tests

Change-Id: I39e4c649b063d5d4468d75c4a9dec37a3f2e114c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/33/613333/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/solidfire.py'],1,e20166b9e48f1952a1f0329e9a240a3a2c7b326d,,# This is a CI test,,1,0
openstack%2Fneutron~master~I5ac6f8318a1fb61c6b87d7ff6e4d56341121cd20,openstack/neutron,master,I5ac6f8318a1fb61c6b87d7ff6e4d56341121cd20,DNM: test neutron_lib.objects.base,ABANDONED,2018-11-29 20:04:17.000000000,2018-11-30 14:53:36.000000000,,"[{'_account_id': 5367}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2018-11-29 20:04:17.000000000', 'files': ['neutron/db/securitygroups_db.py', 'neutron/services/segments/db.py', 'neutron/objects/subnet.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/db/segments_db.py', 'neutron/objects/db/api.py', 'neutron/db/standard_attr.py', 'neutron/objects/qos/policy.py', 'neutron/tests/unit/db/test_l3_db.py', 'neutron/tests/unit/db/test_agents_db.py', 'neutron/tests/unit/objects/test_objects.py', 'neutron/services/qos/qos_plugin.py', 'neutron/services/auto_allocate/db.py', 'neutron/objects/extensions/standardattributes.py', 'neutron/plugins/ml2/db.py', 'neutron/tests/unit/objects/test_ports.py', 'neutron/tests/unit/objects/test_base.py', 'neutron/tests/unit/db/test_portsecurity_db_common.py', 'neutron/objects/metering.py', 'neutron/db/models/segment.py', 'neutron/objects/plugins/ml2/greallocation.py', 'neutron/db/sqlalchemytypes.py', 'neutron/objects/base.py', 'neutron/services/tag/tag_plugin.py', 'neutron/db/models/provisioning_block.py', 'neutron/objects/port_forwarding.py', 'neutron/tests/unit/objects/test_network.py', 'neutron/objects/port/extensions/allowedaddresspairs.py', 'neutron/tests/unit/objects/test_subnet.py', 'neutron/api/rpc/callbacks/producer/registry.py', 'neutron/objects/securitygroup.py', 'neutron/objects/plugins/ml2/base.py', 'neutron/objects/network.py', 'neutron/objects/l3_hamode.py', 'neutron/objects/qos/rule.py', 'neutron/objects/port/extensions/data_plane_status.py', 'neutron/objects/logapi/logging_resource.py', 'neutron/objects/address_scope.py', 'neutron/db/models/securitygroup.py', 'neutron/objects/quota.py', 'neutron/tests/unit/services/logapi/test_logging_plugin.py', 'neutron/objects/port/extensions/port_security.py', 'neutron/objects/auto_allocate.py', 'neutron/objects/floatingip.py', 'neutron/objects/l3agent.py', 'neutron/tests/unit/objects/qos/test_policy.py', 'neutron/db/models/tag.py', 'neutron/objects/plugins/ml2/vxlanallocation.py', 'neutron/db/flavors_db.py', 'neutron/objects/plugins/ml2/flatallocation.py', 'neutron/tests/unit/objects/extensions/test_standardattributes.py', 'neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/db/standardattrdescription_db.py', 'neutron/services/timestamp/timestamp_db.py', 'neutron/db/models_v2.py', 'neutron/tests/unit/objects/test_trunk.py', 'neutron/objects/qos/binding.py', 'neutron/db/l3_dvr_db.py', 'neutron/objects/extensions/port_security.py', 'neutron/objects/servicetype.py', 'neutron/objects/ports.py', 'neutron/tests/unit/services/portforwarding/test_pf_plugin.py', 'neutron/db/models/l3.py', 'neutron/tests/unit/db/test_standard_attr.py', 'neutron/db/qos/models.py', 'neutron/objects/port/extensions/extra_dhcp_opt.py', 'neutron/objects/trunk.py', 'neutron/db/l3_db.py', 'neutron/plugins/ml2/drivers/type_tunnel.py', 'neutron/services/trunk/plugin.py', 'neutron/objects/rbac_db.py', 'neutron/services/revisions/revision_plugin.py', 'neutron/db/metering/metering_db.py', 'neutron/objects/tag.py', 'neutron/objects/subnetpool.py', 'neutron/services/logapi/logging_plugin.py', 'neutron/tests/unit/services/qos/test_qos_plugin.py', 'neutron/db/l3_agentschedulers_db.py', 'neutron/tests/unit/objects/db/test_api.py', 'neutron/db/models/loggingapi.py', 'neutron/services/trunk/models.py', 'neutron/db/l3_hamode_db.py', 'neutron/services/timestamp/timestamp_plugin.py', 'neutron/db/address_scope_db.py', 'neutron/objects/plugins/ml2/vlanallocation.py', 'neutron/db/l3_fip_pools_db.py', 'neutron/plugins/ml2/plugin.py', 'neutron/objects/ipam.py', 'neutron/objects/router.py', 'neutron/tests/unit/api/rpc/handlers/test_resources_rpc.py', 'neutron/plugins/ml2/drivers/helpers.py', 'neutron/tests/unit/objects/test_rbac_db.py', 'neutron/objects/flavor.py', 'neutron/objects/plugins/ml2/geneveallocation.py', 'neutron/extensions/tagging.py', 'neutron/objects/provisioning_blocks.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/extensions/stdattrs_common.py', 'neutron/tests/unit/db/test_sqlalchemytypes.py', 'neutron/services/portforwarding/pf_plugin.py', 'neutron/db/db_base_plugin_common.py', 'neutron/objects/agent.py', 'neutron/objects/stdattrs.py', 'neutron/api/rpc/handlers/resources_rpc.py', 'neutron/objects/qos/rule_type.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ac5e922ffbac418e08902f56ea03f0bc3b16fbe4', 'message': 'DNM: test neutron_lib.objects.base\n\nDO NOT MERGE\n\nThis is a sample consumption patch for cross testing with neutron-lib.\n\nChange-Id: I5ac6f8318a1fb61c6b87d7ff6e4d56341121cd20\n'}]",0,620999,ac5e922ffbac418e08902f56ea03f0bc3b16fbe4,9,7,1,5367,,,0,"DNM: test neutron_lib.objects.base

DO NOT MERGE

This is a sample consumption patch for cross testing with neutron-lib.

Change-Id: I5ac6f8318a1fb61c6b87d7ff6e4d56341121cd20
",git fetch https://review.opendev.org/openstack/neutron refs/changes/99/620999/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/securitygroups_db.py', 'neutron/services/segments/db.py', 'neutron/objects/subnet.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/db/segments_db.py', 'neutron/objects/db/api.py', 'neutron/db/standard_attr.py', 'neutron/objects/qos/policy.py', 'neutron/tests/unit/db/test_l3_db.py', 'neutron/tests/unit/db/test_agents_db.py', 'neutron/tests/unit/objects/test_objects.py', 'neutron/services/qos/qos_plugin.py', 'neutron/services/auto_allocate/db.py', 'neutron/objects/extensions/standardattributes.py', 'neutron/plugins/ml2/db.py', 'neutron/tests/unit/objects/test_ports.py', 'neutron/tests/unit/objects/test_base.py', 'neutron/tests/unit/db/test_portsecurity_db_common.py', 'neutron/objects/metering.py', 'neutron/db/models/segment.py', 'neutron/objects/plugins/ml2/greallocation.py', 'neutron/db/sqlalchemytypes.py', 'neutron/objects/base.py', 'neutron/services/tag/tag_plugin.py', 'neutron/db/models/provisioning_block.py', 'neutron/objects/port_forwarding.py', 'neutron/tests/unit/objects/test_network.py', 'neutron/objects/port/extensions/allowedaddresspairs.py', 'neutron/tests/unit/objects/test_subnet.py', 'neutron/api/rpc/callbacks/producer/registry.py', 'neutron/objects/securitygroup.py', 'neutron/objects/plugins/ml2/base.py', 'neutron/objects/network.py', 'neutron/objects/l3_hamode.py', 'neutron/objects/qos/rule.py', 'neutron/objects/port/extensions/data_plane_status.py', 'neutron/objects/logapi/logging_resource.py', 'neutron/objects/address_scope.py', 'neutron/db/models/securitygroup.py', 'neutron/objects/quota.py', 'neutron/tests/unit/services/logapi/test_logging_plugin.py', 'neutron/objects/port/extensions/port_security.py', 'neutron/objects/auto_allocate.py', 'neutron/objects/floatingip.py', 'neutron/objects/l3agent.py', 'neutron/tests/unit/objects/qos/test_policy.py', 'neutron/db/models/tag.py', 'neutron/objects/plugins/ml2/vxlanallocation.py', 'neutron/db/flavors_db.py', 'neutron/objects/plugins/ml2/flatallocation.py', 'neutron/tests/unit/objects/extensions/test_standardattributes.py', 'neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/db/standardattrdescription_db.py', 'neutron/services/timestamp/timestamp_db.py', 'neutron/db/models_v2.py', 'neutron/tests/unit/objects/test_trunk.py', 'neutron/objects/qos/binding.py', 'neutron/db/l3_dvr_db.py', 'neutron/objects/extensions/port_security.py', 'neutron/objects/servicetype.py', 'neutron/objects/ports.py', 'neutron/tests/unit/services/portforwarding/test_pf_plugin.py', 'neutron/db/models/l3.py', 'neutron/tests/unit/db/test_standard_attr.py', 'neutron/db/qos/models.py', 'neutron/objects/port/extensions/extra_dhcp_opt.py', 'neutron/objects/trunk.py', 'neutron/db/l3_db.py', 'neutron/plugins/ml2/drivers/type_tunnel.py', 'neutron/services/trunk/plugin.py', 'neutron/objects/rbac_db.py', 'neutron/services/revisions/revision_plugin.py', 'neutron/db/metering/metering_db.py', 'neutron/objects/tag.py', 'neutron/objects/subnetpool.py', 'neutron/services/logapi/logging_plugin.py', 'neutron/tests/unit/services/qos/test_qos_plugin.py', 'neutron/db/l3_agentschedulers_db.py', 'neutron/tests/unit/objects/db/test_api.py', 'neutron/db/models/loggingapi.py', 'neutron/services/trunk/models.py', 'neutron/db/l3_hamode_db.py', 'neutron/services/timestamp/timestamp_plugin.py', 'neutron/db/address_scope_db.py', 'neutron/objects/plugins/ml2/vlanallocation.py', 'neutron/db/l3_fip_pools_db.py', 'neutron/plugins/ml2/plugin.py', 'neutron/objects/ipam.py', 'neutron/objects/router.py', 'neutron/tests/unit/api/rpc/handlers/test_resources_rpc.py', 'neutron/plugins/ml2/drivers/helpers.py', 'neutron/tests/unit/objects/test_rbac_db.py', 'neutron/objects/flavor.py', 'neutron/objects/plugins/ml2/geneveallocation.py', 'neutron/extensions/tagging.py', 'neutron/objects/provisioning_blocks.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/extensions/stdattrs_common.py', 'neutron/tests/unit/db/test_sqlalchemytypes.py', 'neutron/services/portforwarding/pf_plugin.py', 'neutron/db/db_base_plugin_common.py', 'neutron/objects/agent.py', 'neutron/objects/stdattrs.py', 'neutron/api/rpc/handlers/resources_rpc.py', 'neutron/objects/qos/rule_type.py']",105,ac5e922ffbac418e08902f56ea03f0bc3b16fbe4,bp/neutronlib-decouple-db,from neutron_lib.objects import base,from neutron.objects import base,128,2119
openstack%2Fpuppet-pacemaker~master~I4102b204f303b0ada697f0ad9d9a24279473e046,openstack/puppet-pacemaker,master,I4102b204f303b0ada697f0ad9d9a24279473e046,Remove unneeded spec testing file,MERGED,2018-11-24 14:39:28.000000000,2018-11-30 14:45:58.000000000,2018-11-30 14:45:58.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-11-24 14:39:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/76bada178670bfecc95341f2c2f1c1ee53f40cf4', 'message': 'Remove unneeded spec testing file\n\nChange-Id: I4102b204f303b0ada697f0ad9d9a24279473e046\n'}, {'number': 2, 'created': '2018-11-24 15:09:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/649615cd011161895650a001c1613485e964f31f', 'message': 'Remove unneeded spec testing file\n\nChange-Id: I4102b204f303b0ada697f0ad9d9a24279473e046\n'}, {'number': 3, 'created': '2018-11-24 17:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/da495282eee8658423333de527b15e233067e55c', 'message': 'Remove unneeded spec testing file\n\nChange-Id: I4102b204f303b0ada697f0ad9d9a24279473e046\n'}, {'number': 4, 'created': '2018-11-24 18:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/aa4db42ac8400520313c591e96ee107a775cc23b', 'message': 'Remove unneeded spec testing file\n\nChange-Id: I4102b204f303b0ada697f0ad9d9a24279473e046\n'}, {'number': 5, 'created': '2018-11-24 20:26:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/af0749c9e185de96643213dd140df7b0028c7eda', 'message': 'Remove unneeded spec testing file\n\nChange-Id: I4102b204f303b0ada697f0ad9d9a24279473e046\n'}, {'number': 6, 'created': '2018-11-29 21:12:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/b7799f60b8dcc3fc2f6a3d4e16abad4bab4d3bb2', 'message': 'Remove unneeded spec testing file\n\nAlso fix up a couple of failing tests in the pacemaker::new module\n\nCloses-Bug: #1805868\nChange-Id: I4102b204f303b0ada697f0ad9d9a24279473e046\n'}, {'number': 7, 'created': '2018-11-30 07:08:59.000000000', 'files': ['spec/classes/coverage_spec.rb', 'lib/puppet/parser/functions/pacemaker_resource_parameters.rb', 'lib/puppet/parser/functions/pacemaker_cluster_nodes.rb', 'Gemfile', 'spec/functions/pacemaker_cluster_nodes_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/5800e93e176c5c4365f933b5883e7bf2db7a5ac5', 'message': 'Remove unneeded spec testing file\n\nAlso fix up a couple of failing tests in the pacemaker::new module\nand remove one very artificial test that is not working on puppet 4 any\nlonger (NB: the pacemaker;:new module has been fundamentally unmaintained\nfor years now, this is mainly to keep CI running)\n\nCloses-Bug: #1805868\nChange-Id: I4102b204f303b0ada697f0ad9d9a24279473e046\n'}]",0,619892,5800e93e176c5c4365f933b5883e7bf2db7a5ac5,21,5,7,16137,,,0,"Remove unneeded spec testing file

Also fix up a couple of failing tests in the pacemaker::new module
and remove one very artificial test that is not working on puppet 4 any
longer (NB: the pacemaker;:new module has been fundamentally unmaintained
for years now, this is mainly to keep CI running)

Closes-Bug: #1805868
Change-Id: I4102b204f303b0ada697f0ad9d9a24279473e046
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/92/619892/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/coverage_spec.rb'],1,76bada178670bfecc95341f2c2f1c1ee53f40cf4,619892,,require 'rspec-puppet' at_exit { RSpec::Puppet::Coverage.report! } ,0,3
openstack%2Fkolla-ansible~master~Ieedac124fa22e5a7ae622c16d47d482007bbec60,openstack/kolla-ansible,master,Ieedac124fa22e5a7ae622c16d47d482007bbec60,Fix section trustee of sahara.conf,MERGED,2018-11-29 19:58:48.000000000,2018-11-30 14:44:52.000000000,2018-11-30 10:55:41.000000000,"[{'_account_id': 1390}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 28614}]","[{'number': 1, 'created': '2018-11-29 19:58:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/926cb20bfdf8665e3c71c7d41315463ae6126c93', 'message': 'Fix section trustee of sahara.conf\n\nTested on Rocky, /v3 needs to be added to the variable auth_url to have\nthe trust/trustee mechanism to work. All cluster creation would fail\notherwise.\n\nChange-Id: Ieedac124fa22e5a7ae622c16d47d482007bbec60\n'}, {'number': 2, 'created': '2018-11-29 20:09:18.000000000', 'files': ['ansible/roles/sahara/templates/sahara.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4812d4a7a10a6f349ce255283c5d11d495be2806', 'message': 'Fix section trustee of sahara.conf\n\nTested on Rocky, /v3 needs to be added to the variable auth_url to have\nthe trust/trustee mechanism to work. All cluster creation would fail\notherwise.\n\nCloses-Bug: #1805896\nChange-Id: Ieedac124fa22e5a7ae622c16d47d482007bbec60\n'}]",0,620998,4812d4a7a10a6f349ce255283c5d11d495be2806,10,4,2,29051,,,0,"Fix section trustee of sahara.conf

Tested on Rocky, /v3 needs to be added to the variable auth_url to have
the trust/trustee mechanism to work. All cluster creation would fail
otherwise.

Closes-Bug: #1805896
Change-Id: Ieedac124fa22e5a7ae622c16d47d482007bbec60
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/98/620998/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/sahara/templates/sahara.conf.j2'],1,926cb20bfdf8665e3c71c7d41315463ae6126c93,bug/1805896,auth_url = {{ admin_protocol }}://{{ kolla_internal_fqdn }}:{{ keystone_admin_port }}/v3,auth_url = {{ admin_protocol }}://{{ kolla_internal_fqdn }}:{{ keystone_admin_port }},1,1
openstack%2Fproject-config~master~Ib2871b541f7879b91b1e7e5030a742741664728a,openstack/project-config,master,Ib2871b541f7879b91b1e7e5030a742741664728a,Add openstack/arch-design,MERGED,2018-11-29 21:33:16.000000000,2018-11-30 14:44:28.000000000,2018-11-30 14:44:28.000000000,"[{'_account_id': 1004}, {'_account_id': 6547}, {'_account_id': 11904}, {'_account_id': 17556}, {'_account_id': 22348}, {'_account_id': 28606}]","[{'number': 1, 'created': '2018-11-29 21:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/27cac2b3360c64700171f526f979d07b026755c1', 'message': 'Add openstack/arch-design\n\nThis adds openstack/arch-design to the list of untrusted projects.\n\nRepo is being created from the no longer openstack-manuals arch-design\ndocs and will be owned by the Ops Docs SIG.\n\nChange-Id: Ib2871b541f7879b91b1e7e5030a742741664728a\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2018-11-29 21:34:40.000000000', 'files': ['gerritbot/channels.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a232ee49b72b06527d84624a4ceb84a63ca932c7', 'message': 'Add openstack/arch-design\n\nThis adds openstack/arch-design to the list of untrusted projects.\n\nRepo is being created from the no longer openstack-manuals arch-design\ndocs and will be owned by the Ops Docs SIG.\n\nNeeded-by: https://review.openstack.org/621013\nChange-Id: Ib2871b541f7879b91b1e7e5030a742741664728a\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,621012,a232ee49b72b06527d84624a4ceb84a63ca932c7,11,6,2,11904,,,0,"Add openstack/arch-design

This adds openstack/arch-design to the list of untrusted projects.

Repo is being created from the no longer openstack-manuals arch-design
docs and will be owned by the Ops Docs SIG.

Needed-by: https://review.openstack.org/621013
Change-Id: Ib2871b541f7879b91b1e7e5030a742741664728a
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/12/621012/2 && git format-patch -1 --stdout FETCH_HEAD,"['gerritbot/channels.yaml', 'gerrit/projects.yaml', 'zuul/main.yaml']",3,27cac2b3360c64700171f526f979d07b026755c1,arch-design, - openstack/arch-design,,9,0
openstack%2Fproject-config~master~I2c0c1853d2f6c4deb54320850fe4d73c8fc24903,openstack/project-config,master,I2c0c1853d2f6c4deb54320850fe4d73c8fc24903,Create airship-spyglass repo,MERGED,2018-11-22 10:07:15.000000000,2018-11-30 14:37:32.000000000,2018-11-30 14:37:32.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 1004}, {'_account_id': 1106}, {'_account_id': 2750}, {'_account_id': 4146}, {'_account_id': 4162}, {'_account_id': 5263}, {'_account_id': 6133}, {'_account_id': 6316}, {'_account_id': 6547}, {'_account_id': 6589}, {'_account_id': 7069}, {'_account_id': 7118}, {'_account_id': 9061}, {'_account_id': 10366}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 25907}, {'_account_id': 29170}]","[{'number': 1, 'created': '2018-11-22 10:07:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/964b9f16c8ae396d4c7fbdb4b08c2dcd7b13d9da', 'message': 'Create airship-spyglass repo\n\nChange-Id: I2c0c1853d2f6c4deb54320850fe4d73c8fc24903\n'}, {'number': 2, 'created': '2018-11-29 18:17:35.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/7079aad0caa9b2d42d5431960a5d9a04ccc2c301', 'message': 'Create airship-spyglass repo\n\nChange-Id: I2c0c1853d2f6c4deb54320850fe4d73c8fc24903\n'}]",0,619493,7079aad0caa9b2d42d5431960a5d9a04ccc2c301,14,20,2,10366,,,0,"Create airship-spyglass repo

Change-Id: I2c0c1853d2f6c4deb54320850fe4d73c8fc24903
",git fetch https://review.opendev.org/openstack/project-config refs/changes/93/619493/2 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul/main.yaml']",2,964b9f16c8ae396d4c7fbdb4b08c2dcd7b13d9da,new-project, - openstack/airship-spyglass,,10,0
openstack%2Fpuppet-watcher~master~I056a47f305aaef68aa6954824d2277c9ef0617d9,openstack/puppet-watcher,master,I056a47f305aaef68aa6954824d2277c9ef0617d9,Remove auth_uri,MERGED,2018-11-28 22:59:31.000000000,2018-11-30 14:21:41.000000000,2018-11-30 14:21:41.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-28 22:59:31.000000000', 'files': ['releasenotes/notes/remove-auth-uri-cf2fd17d1f66740f.yaml', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/f35d0782c688b90cc4df9366a139d1a42cca7461', 'message': 'Remove auth_uri\n\nChange-Id: I056a47f305aaef68aa6954824d2277c9ef0617d9\n'}]",0,620726,f35d0782c688b90cc4df9366a139d1a42cca7461,11,4,1,16137,,,0,"Remove auth_uri

Change-Id: I056a47f305aaef68aa6954824d2277c9ef0617d9
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/26/620726/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-auth-uri-cf2fd17d1f66740f.yaml', 'manifests/keystone/authtoken.pp']",2,f35d0782c688b90cc4df9366a139d1a42cca7461,remove-auth-uri," www_authenticate_uri => $www_authenticate_uri,","# [*auth_uri*] # (Optional) Complete public Identity API endpoint. # Defaults to undef # $auth_uri = undef, if $auth_uri { warning('The auth_uri parameter is deprecated. Please use www_authenticate_uri instead.') } $www_authenticate_uri_real = pick($auth_uri, $www_authenticate_uri) www_authenticate_uri => $www_authenticate_uri_real,",5,11
openstack%2Freleases~master~Ia19b3bb0c8b5fcd2bce584ad4f0184b487d5b156,openstack/releases,master,Ia19b3bb0c8b5fcd2bce584ad4f0184b487d5b156,Expect stein branching for Oslo's devstack plugins,MERGED,2018-11-30 10:09:35.000000000,2018-11-30 14:20:19.000000000,2018-11-30 14:20:19.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-30 10:09:35.000000000', 'files': ['deliverables/stein/devstack-plugin-pika.yaml', 'deliverables/stein/devstack-plugin-zmq.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/547d2b590f24910632b3934cd9d934731aa82ca7', 'message': ""Expect stein branching for Oslo's devstack plugins\n\ndevstack-plugin-zmq and devstack-plugin-pika should be branched\nby the end of Stein, so create a Stein deliverable file to track\nthat.\n\nChange-Id: Ia19b3bb0c8b5fcd2bce584ad4f0184b487d5b156\n""}]",0,621132,547d2b590f24910632b3934cd9d934731aa82ca7,6,2,1,308,,,0,"Expect stein branching for Oslo's devstack plugins

devstack-plugin-zmq and devstack-plugin-pika should be branched
by the end of Stein, so create a Stein deliverable file to track
that.

Change-Id: Ia19b3bb0c8b5fcd2bce584ad4f0184b487d5b156
",git fetch https://review.opendev.org/openstack/releases refs/changes/32/621132/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/stein/devstack-plugin-pika.yaml', 'deliverables/stein/devstack-plugin-zmq.yaml']",2,547d2b590f24910632b3934cd9d934731aa82ca7,missing-deliverables-2,--- launchpad: oslo.messaging release-model: untagged team: oslo type: other stable-branch-type: tagless repository-settings: openstack/devstack-plugin-zmq: {} ,,16,0
openstack%2Freleases~master~Idcf8f4d0c88535ec382436aef00b78917e58b897,openstack/releases,master,Idcf8f4d0c88535ec382436aef00b78917e58b897,Adding missing monasca-analytics deliverable,MERGED,2018-11-30 09:50:14.000000000,2018-11-30 14:20:18.000000000,2018-11-30 14:20:18.000000000,"[{'_account_id': 11904}, {'_account_id': 14162}, {'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-30 09:50:14.000000000', 'files': ['deliverables/_independent/monasca-analytics.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8917a3cc999ec0ff548d4274edcac64407909a08', 'message': 'Adding missing monasca-analytics deliverable\n\nMonasca-analytics was never released, but work has recently\npicked up. According to Witek, it should be released soon\n(or abandoned for good).\n\nCreate a deliverable file to track that potential release.\n\nChange-Id: Idcf8f4d0c88535ec382436aef00b78917e58b897\n'}]",0,621126,8917a3cc999ec0ff548d4274edcac64407909a08,8,4,1,308,,,0,"Adding missing monasca-analytics deliverable

Monasca-analytics was never released, but work has recently
picked up. According to Witek, it should be released soon
(or abandoned for good).

Create a deliverable file to track that potential release.

Change-Id: Idcf8f4d0c88535ec382436aef00b78917e58b897
",git fetch https://review.opendev.org/openstack/releases refs/changes/26/621126/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/monasca-analytics.yaml'],1,8917a3cc999ec0ff548d4274edcac64407909a08,missing-deliverables-2,--- storyboard: 862 team: monasca type: other repository-settings: openstack/monasca-analytics: {} ,,6,0
openstack%2Fdiskimage-builder~master~If3dac6504d26535593f12e851092065b688ef696,openstack/diskimage-builder,master,If3dac6504d26535593f12e851092065b688ef696,Add an element to configure iBFT network interfaces,MERGED,2016-10-31 11:05:34.000000000,2018-11-30 13:46:05.000000000,2018-11-30 13:46:05.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 7118}, {'_account_id': 10035}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 12459}, {'_account_id': 21741}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2016-10-31 11:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/c70b6ecfff5c9b946578236b558a66e3d61db6fb', 'message': 'Try configuring iBFT devices in dhcp-all-interfaces\n\nThis allows nodes with remote devices configured via iBFT to be correctly used\nduring introspection and deployment, at least for non-multipath configurations.\n\nChange-Id: If3dac6504d26535593f12e851092065b688ef696\n'}, {'number': 2, 'created': '2016-12-01 16:06:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/c801ec5714205d711fefa9335fab8be9e9bab27d', 'message': 'Try configuring iBFT devices in dhcp-all-interfaces\n\nThis allows nodes with remote devices configured via iBFT to be correctly used\nduring introspection and deployment, at least for non-multipath configurations.\n\nChange-Id: If3dac6504d26535593f12e851092065b688ef696\n'}, {'number': 3, 'created': '2016-12-07 16:47:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/eae4534063dfd90775c2f31a531570f4c2dca61a', 'message': 'Try configuring iBFT devices in dhcp-all-interfaces\n\nThis allows nodes with remote devices configured via iBFT to be correctly used\nduring introspection and deployment, at least for non-multipath configurations.\n\nChange-Id: If3dac6504d26535593f12e851092065b688ef696\n'}, {'number': 4, 'created': '2017-01-26 13:41:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/08b4c11cbc5d628728fbe03e6e31fc47c7b1db4b', 'message': 'Try configuring iBFT devices in dhcp-all-interfaces\n\nThis allows nodes with remote devices configured via iBFT to be correctly used\nduring introspection and deployment, at least for non-multipath configurations.\n\nNote that only systemd is currently supported, other init systems will come\nlater (help needed!)\n\nChange-Id: If3dac6504d26535593f12e851092065b688ef696\n'}, {'number': 5, 'created': '2018-09-26 14:03:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/1dd7c8eff767d4b9d4ccdbc8617b7c0d5fd6d7c3', 'message': 'Add an element to configure iBFT network interfaces\n\nThis allows nodes with remote devices configured via iBFT to be\ncorrectly used during Ironic introspection and deployment,\nat least for non-multipath configurations.\n\nNote that only systemd is currently supported, other init systems\nwill come later (help needed!).\n\nChange-Id: If3dac6504d26535593f12e851092065b688ef696\n'}, {'number': 6, 'created': '2018-09-26 14:07:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/135bbbfadb6ee391d079da318841e0ea5d1b3dbf', 'message': 'Add an element to configure iBFT network interfaces\n\nThis allows nodes with remote devices configured via iBFT to be\ncorrectly used during Ironic introspection and deployment,\nat least for non-multipath configurations.\n\nThe new element is added as a dependency for ironic-agent.\n\nNote that only systemd is currently supported, other init systems\nwill come later (help needed!). A non-supported init system causes\na warning to be shown during an image build.\n\nChange-Id: If3dac6504d26535593f12e851092065b688ef696\n'}, {'number': 7, 'created': '2018-09-27 08:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3bd6051441c1e11a2d9d23cf944ef7a35173f256', 'message': 'Add an element to configure iBFT network interfaces\n\nThis allows nodes with remote devices configured via iBFT to be\ncorrectly used during Ironic introspection and deployment,\nat least for non-multipath configurations.\n\nThe new element is added as a dependency for ironic-agent.\n\nNote that only systemd is currently supported, other init systems\nwill come later (help needed!). A non-supported init system causes\na warning to be shown during an image build.\n\nChange-Id: If3dac6504d26535593f12e851092065b688ef696\n'}, {'number': 8, 'created': '2018-09-27 08:35:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/199ddbf2d1b7bb26e4d72f7db2cb426b687e23f6', 'message': 'Add an element to configure iBFT network interfaces\n\nThis allows nodes with remote devices configured via iBFT to be\ncorrectly used during Ironic introspection and deployment,\nat least for non-multipath configurations.\n\nThe new element is added as a dependency for ironic-agent.\n\nNote that only systemd is currently supported, other init systems\nwill come later (help needed!). A non-supported init system causes\na warning to be shown during an image build.\n\nChange-Id: If3dac6504d26535593f12e851092065b688ef696\n'}, {'number': 9, 'created': '2018-10-19 11:43:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/6eb9a03fcb55a6a7d029adeba2bb56dc427a21a5', 'message': 'Add an element to configure iBFT network interfaces\n\nThis allows nodes with remote devices configured via iBFT to be\ncorrectly used during Ironic introspection and deployment,\nat least for non-multipath configurations.\n\nThe new element is added as a dependency for ironic-agent.\n\nNote that only systemd is currently supported, other init systems\nwill come later (help needed!). A non-supported init system causes\na warning to be shown during an image build.\n\nChange-Id: If3dac6504d26535593f12e851092065b688ef696\n'}, {'number': 10, 'created': '2018-10-19 13:03:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/cbf9f74c4d534aefc6f15428d57fb7321f3dc634', 'message': 'Add an element to configure iBFT network interfaces\n\nThis allows nodes with remote devices configured via iBFT to be\ncorrectly used during Ironic introspection and deployment,\nat least for non-multipath configurations.\n\nThe new element is added as a dependency for ironic-agent.\n\nNote that only systemd is currently supported, other init systems\nwill come later (help needed!). A non-supported init system causes\na warning to be shown during an image build.\n\nChange-Id: If3dac6504d26535593f12e851092065b688ef696\n'}, {'number': 11, 'created': '2018-11-07 12:20:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/9f39a7bf9386d6ac832a9b39448c77fbc3d338cb', 'message': 'Add an element to configure iBFT network interfaces\n\nThis allows nodes with remote devices configured via iBFT to be\ncorrectly used during Ironic introspection and deployment,\nat least for non-multipath configurations.\n\nThe new element is added as a dependency for ironic-agent.\n\nNote that only systemd is currently supported, other init systems\nwill come later (help needed!). A non-supported init system causes\na warning to be shown during an image build.\n\nChange-Id: If3dac6504d26535593f12e851092065b688ef696\n'}, {'number': 12, 'created': '2018-11-20 10:33:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d61742c86ebc13fded40d8f5fee9ca13456657c3', 'message': 'Add an element to configure iBFT network interfaces\n\nThis allows nodes with remote devices configured via iBFT to be\ncorrectly used during Ironic introspection and deployment,\nat least for non-multipath configurations.\n\nThe new element is added as a dependency for ironic-agent.\n\nChange-Id: If3dac6504d26535593f12e851092065b688ef696\n'}, {'number': 13, 'created': '2018-11-20 11:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/dd9a48740402f12ac55f06c9489edceac89bfa94', 'message': 'Add an element to configure iBFT network interfaces\n\nThis allows nodes with remote devices configured via iBFT to be\ncorrectly used during Ironic introspection and deployment,\nat least for non-multipath configurations.\n\nThe new element is added as a dependency for ironic-agent.\n\nChange-Id: If3dac6504d26535593f12e851092065b688ef696\n'}, {'number': 14, 'created': '2018-11-20 13:11:24.000000000', 'files': ['diskimage_builder/elements/ibft-interfaces/element-deps', 'diskimage_builder/elements/ibft-interfaces/init-scripts/sysv/init-ibft-interfaces.init', 'diskimage_builder/elements/ibft-interfaces/init-scripts/systemd/init-ibft-interfaces.service', 'diskimage_builder/elements/ibft-interfaces/static/etc/modules-load.d/ibft.conf', 'releasenotes/notes/init-ibft-interfaces-9458d97dfcecc3ae.yaml', 'diskimage_builder/elements/ibft-interfaces/package-installs.yaml', 'diskimage_builder/elements/ironic-agent/element-deps', 'diskimage_builder/elements/ibft-interfaces/README.rst', 'diskimage_builder/elements/ibft-interfaces/init-scripts/upstart/init-ibft-interfaces.conf', 'diskimage_builder/elements/ibft-interfaces/post-install.d/70-init-ibft-interfaces', 'diskimage_builder/elements/ibft-interfaces/static/usr/local/sbin/init-ibft-interfaces.sh', 'diskimage_builder/elements/ibft-interfaces/pkg-map'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f0f3e3bac46c62d99adbbd0b0f1e47706e107f13', 'message': 'Add an element to configure iBFT network interfaces\n\nThis allows nodes with remote devices configured via iBFT to be\ncorrectly used during Ironic introspection and deployment,\nat least for non-multipath configurations.\n\nThe new element is added as a dependency for ironic-agent.\n\nChange-Id: If3dac6504d26535593f12e851092065b688ef696\n'}]",12,391787,f0f3e3bac46c62d99adbbd0b0f1e47706e107f13,97,11,14,10239,,,0,"Add an element to configure iBFT network interfaces

This allows nodes with remote devices configured via iBFT to be
correctly used during Ironic introspection and deployment,
at least for non-multipath configurations.

The new element is added as a dependency for ironic-agent.

Change-Id: If3dac6504d26535593f12e851092065b688ef696
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/87/391787/4 && git format-patch -1 --stdout FETCH_HEAD,['elements/dhcp-all-interfaces/install.d/dhcp-all-interfaces.sh'],1,c70b6ecfff5c9b946578236b558a66e3d61db6fb,iscsistart,"function try_iscsistart() { if ! which iscsistart > /dev/null 2>&1; then echo ""iscsistart not found, iBFT devices won't be connected"" return 0 fi modprobe -b iscsi_boot_sysfs || echo ""cannot modprobe iscsi_boot_sysfs"" modprobe -b iscsi_ibft || echo ""cannot modprobe iscsi_ibft"" modprobe -b iscsi_tcp || echo ""cannot modprobe iscsi_tcp"" if iscsistart -f; then iscsistart -N || echo ""cannot configure iBFT devices"" sleep 5 fi } try_iscsistart ",,18,0
openstack%2Ftripleo-heat-templates~stable%2Frocky~I32a1449620d5808e65008affaea747c8303405a6,openstack/tripleo-heat-templates,stable/rocky,I32a1449620d5808e65008affaea747c8303405a6,Remove unnecessary logs due to misconfiguration from pacemake,ABANDONED,2018-10-24 14:37:22.000000000,2018-11-30 13:44:26.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}, {'_account_id': 29222}]","[{'number': 1, 'created': '2018-10-24 14:37:22.000000000', 'files': ['docker/services/pacemaker/rabbitmq.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6c7795457a889de93f7f8c1d45cfe346934cb513', 'message': 'Remove unnecessary logs due to misconfiguration from pacemake\n\nThis happens because pacemaker bind mounts the\n/var/log/pacemaker/bundles/<bundle> to /var/log/ in the container\nand so it will be missing there.\n\nChange-Id: I32a1449620d5808e65008affaea747c8303405a6\nCloses-Bug: 1799716\n'}]",0,613055,6c7795457a889de93f7f8c1d45cfe346934cb513,7,4,1,28522,,,0,"Remove unnecessary logs due to misconfiguration from pacemake

This happens because pacemaker bind mounts the
/var/log/pacemaker/bundles/<bundle> to /var/log/ in the container
and so it will be missing there.

Change-Id: I32a1449620d5808e65008affaea747c8303405a6
Closes-Bug: 1799716
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/55/613055/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/pacemaker/rabbitmq.yaml'],1,6c7795457a889de93f7f8c1d45cfe346934cb513,bug/1799716, - dest: /var/log/btmp source: /dev/null owner: root group: utmp perm: '0600',,5,0
openstack%2Fmonasca-specs~master~Id08a46bb5b54db5baa5c3595100b73bab85ea8ff,openstack/monasca-specs,master,Id08a46bb5b54db5baa5c3595100b73bab85ea8ff,Merge Monasca APIs into a single unified API,MERGED,2018-10-09 16:56:19.000000000,2018-11-30 13:38:26.000000000,2018-11-30 13:38:26.000000000,"[{'_account_id': 10311}, {'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2018-10-09 16:56:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-specs/commit/2dec818588997fd4bbd33c6de51e6d159d1a99d6', 'message': 'Merge Monasca APIs into a single unified API\n\nThis commit serves as a straw man for merging the Monasca APIs into a\nsingle unified API.\n\nAPIImpact\nStory: 2003881\nTask: 26742\nChange-Id: Id08a46bb5b54db5baa5c3595100b73bab85ea8ff\n'}, {'number': 2, 'created': '2018-10-11 11:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-specs/commit/6859429a3f2f537369bede554f51de95b4dab16a', 'message': 'Merge Monasca APIs into a single unified API\n\nThis commit serves as a straw man for merging the Monasca APIs into a\nsingle unified API.\n\nAPIImpact\nStory: 2003881\nTask: 26742\nChange-Id: Id08a46bb5b54db5baa5c3595100b73bab85ea8ff\n'}, {'number': 3, 'created': '2018-10-11 14:36:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-specs/commit/7881e5d82fa7fe36f1d9ef414e9b7c8c2a0c7cc4', 'message': 'Merge Monasca APIs into a single unified API\n\nThis commit serves as a straw man for merging the Monasca APIs into a\nsingle unified API.\n\nAPIImpact\nStory: 2003881\nTask: 26742\nChange-Id: Id08a46bb5b54db5baa5c3595100b73bab85ea8ff\n'}, {'number': 4, 'created': '2018-11-28 13:32:19.000000000', 'files': ['specs/stein/approved/merge_apis.rst'], 'web_link': 'https://opendev.org/openstack/monasca-specs/commit/b285ca6486ad3cedfc182170d7970cc5d0ce590e', 'message': 'Merge Monasca APIs into a single unified API\n\nThis commit serves as a straw man for merging the Monasca APIs into a\nsingle unified API.\n\nAPIImpact\nStory: 2003881\nTask: 26742\nChange-Id: Id08a46bb5b54db5baa5c3595100b73bab85ea8ff\n'}]",13,609055,b285ca6486ad3cedfc182170d7970cc5d0ce590e,21,6,4,17669,,,0,"Merge Monasca APIs into a single unified API

This commit serves as a straw man for merging the Monasca APIs into a
single unified API.

APIImpact
Story: 2003881
Task: 26742
Change-Id: Id08a46bb5b54db5baa5c3595100b73bab85ea8ff
",git fetch https://review.opendev.org/openstack/monasca-specs refs/changes/55/609055/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/stein/merge_apis.rst'],1,2dec818588997fd4bbd33c6de51e6d159d1a99d6,609055,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================== Merge Monasca APIs ================== https://storyboard.openstack.org/#!/story/2003881 Monasca currently has 3 APIs; one for metrics, one for logs and one for events. Historically, this has created additional overhead for developers upgrading or adding new features to the APIs, for system administrators configuring the APIs, and for packagers generating Monasca distributions. The purpose of this spec is to consider whether the Monasca APIs should be merged into a single, unified API. Problem description =================== The Monasca APIs are written in Python and share a lot of functionality, some, but not all of which has been factored out to the Monasca common library. Here lies the first problem: 1. There exists significant technical debt. There is a significant amount of common functionality that has not been factored out to Monasca common. For example, the Monasca API repo contains code for validating metrics and so does the Monasca common library. The same is true for query authorisation, where validation code lives in both repos. This technical debt could of course be addressed, but how did it come about? 2. Updating the APIs to support common features incurs significant developer and reviewer overhead compared to updating a single API. The APIs are all written slightly differently. Adding support for Oslo Policy or uWSGI to one API is not the same as adding it to another API. Furthermore, changes frequently have to be made across multiple repos. Whilst Zuul is well suited to coordinating this task, it requires careful synchronisation of versions by developers and meticulous attention from reviewers. If one modifies code which is common to all three APIs, they must systematically verify that in each case the changes work as intended. Of course, automated testing can provide relief here, but it doesn't make the burden disappear entirely. 3. Historically it has been difficult to maintain a standard experience across multiple APIs. At times, APIs have diverged when in an ideal world they should not have. For example, when adding support for a common feature, work has traditionally been focused on one API to keep the task simple, with the view to adding support for the other APIs at a later date. If works stops, for example due to a release, or due to a developer moving on, the APIs can be left in a diverged state for a significant amount of time. Of course, one solution is to block merging of a common feature until the work is complete in all three APIs, and all common code is added to the Monasca common library. In practice, this has been prevented by the number of man hours available. For example, a contributer may only be interested in metrics. They may not be able to justify spending time working on the other APIs. 4. Packaging, deploying, and configuring 3 APIs is more complex than deploying a single, unified API. This is an obvious point, but it can be made worse by 3). For example, historically, it has not always been possible to run all APIs in the same way. Configuration of common functionality such as Kafka has not always been uniform. There is extra build system configuration, additional keystone endpoints that need to be registered and monitoring the availability of 3 APIs is more difficult than one. Use Cases --------- As a developer I would save time by implementing a feature common to all APIs in a single repo, rather than across four repos. As a reviewer I will save time by not having to think about how a change may impact multiple repos. As a deployer I will save time by having two fewer services to deploy and configure. As a security analyst I can focus my efforts reviewing a single API, rather than three. As a user of Monasca I would like a consistent experience. As a packager I would like to have a single Monasca API, rather than three to save time configuring and maintaining my build system. Proposed change =============== Merge all APIs into a single unified API. Merge all common API code from the Monasca common repo into the unified API repository. Specifically, it is proposed to merge all relevant code into the Monasca API. Alternatives ------------ 1. Refactor all APIs so that the code is standard. Prevent merging of common features until the work is complete across all APIs, and all common code has been factored out into the Monasca common library. From historical experience this will be difficult without additional developers. 2. Don't do anything and carry on working around the technical debt. In the long this is likely to make it more difficult to add new features, and require more time for maintenance. Data model impact ----------------- None REST API impact --------------- Aside from the fact that a single service will implement the combined schema from all APIs, the calls should not change. We should be careful when merging, for example dimension validation code, that we do not break things which were accepted in one API, but not another. Security impact --------------- If a single API was previously exposed publicly, deploying the unified API will increase the surface area for attack. However, in general, it will be easier to review changes to make security improvements due to the reduced developer and reviewer overhead. During the deprecation period of the Events and Log API, security fixes made to the unified API may need to be backported. Other end user impact --------------------- All services talking to the Monasca Events and Log APIs will need to be directed at the unified API. For services which use Keystone to lookup the Monasca endpoints this should occur automatically. Other services such as the Fluentd Monasca output plugin will need to be reconfigured manually. A grace period where the Monasca Events and Log APIs are still supported is one possibility to make this transition easier. Performance Impact ------------------ No direct impact. In general, it will be less effort to profile and optimise a single API than it would be to do the same for all three APIs. In clustered deployments with specialised nodes (for example a dedicated logging node, hosting the Monasca Log API) the unified API can be deployed as a direct replacement, and the additional functionality can simply be ignored. Other deployer impact --------------------- For Monasca users supporting legacy releases, any security of bug fixes made to the unified API may need to be backported to the individual APIs. All actively maintained deployment solutions will need to be updated to deploy the unified API. For example, DevStack, Kolla, OpenStack Ansible, and Helm. Developer impact ---------------- The motiviation behind this change is to reduce the burden placed on developers and reviewers when making improvements to the Monasca APIs. It is hoped that this will lead to an increase in developer productivity. Implementation ============== Assignee(s) ----------- Primary assignee: <launchpad-id or None> Other contributors: <launchpad-id or None> Work Items ---------- * Review test coverage of APIs, and add coverage for any missing areas. * Review test coverage of Monasca common and add coverage for any missing areas. * Merge Monasca common Python code into the Monasca API. * Implement Log API schema in the Monasca API and port tests. * Implement Events API schema and port tests. * Update DevStack to use the unified API. * Deprecate Monasca Log and Event APIs. * Merge and update documentation Dependencies ============ No additional dependencies are added. The dependency on Monasca common can be removed. Testing ======= The Monasca API and Log API Tempest test plugins have already been merged into one plugin. Any Tempest tests which exist for the Events API should also be merged into the unified plugin. The Tempest plugin will need to be updated to use the unified API. Unit tests from the Log API and Events API repo will need to be ported to the Monasca API (unified) repo. Some of these tests may be redundant. Documentation Impact ==================== Three sets of documentation will be reduced to one. Whilst it will take some effort to merge the documentation, it should hopefully be more consistent. References ========== None History ======= None ",,235,0
openstack%2Ftripleo-heat-templates~stable%2Frocky~Id15e7dea5a27043d9141662c4db48eff3e75fadf,openstack/tripleo-heat-templates,stable/rocky,Id15e7dea5a27043d9141662c4db48eff3e75fadf,Remove unnecessary logs due to misconfiguration from pacemaker,ABANDONED,2018-11-30 13:25:24.000000000,2018-11-30 13:27:51.000000000,,[],"[{'number': 1, 'created': '2018-11-30 13:25:24.000000000', 'files': ['docker/services/pacemaker/rabbitmq.yaml', 'docker/services/pacemaker/rpc-rabbitmq.yaml', 'docker/services/pacemaker/notify-rabbitmq.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ff65edf6138023f67855c75a1309509482120de8', 'message': 'Remove unnecessary logs due to misconfiguration from pacemaker\n\nThis happens because pacemaker bind mounts the\n/var/log/pacemaker/bundles/<bundle> to /var/log/ in the container\nand so it will be missing there.\n\nTested this on a queens deployment with this change and correctly\nobserved that no lines like the following appear in the logs:\n\n  su:pam_lastlog(su:session): unable to open /var/log/btmp: No such file or directory\n\nChange-Id: Id15e7dea5a27043d9141662c4db48eff3e75fadf\nCloses-Bug: 1799716\n(cherry picked from commit c8bf82501bec0e9e11b07cf01e23b5c41f5418a5)\n'}]",0,621159,ff65edf6138023f67855c75a1309509482120de8,2,0,1,28522,,,0,"Remove unnecessary logs due to misconfiguration from pacemaker

This happens because pacemaker bind mounts the
/var/log/pacemaker/bundles/<bundle> to /var/log/ in the container
and so it will be missing there.

Tested this on a queens deployment with this change and correctly
observed that no lines like the following appear in the logs:

  su:pam_lastlog(su:session): unable to open /var/log/btmp: No such file or directory

Change-Id: Id15e7dea5a27043d9141662c4db48eff3e75fadf
Closes-Bug: 1799716
(cherry picked from commit c8bf82501bec0e9e11b07cf01e23b5c41f5418a5)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/59/621159/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/pacemaker/rabbitmq.yaml', 'docker/services/pacemaker/rpc-rabbitmq.yaml', 'docker/services/pacemaker/notify-rabbitmq.yaml']",3,ff65edf6138023f67855c75a1309509482120de8,bug/1799716, - dest: /var/log/btmp source: /dev/null owner: root:utmp perm: '0600',,12,0
openstack%2Fnetworking-ovn~master~I20e51327ae44a2b3523ce6bd5b29b58fecda45fd,openstack/networking-ovn,master,I20e51327ae44a2b3523ce6bd5b29b58fecda45fd,Add blueprints link in user documents,MERGED,2018-11-27 11:21:52.000000000,2018-11-30 13:24:47.000000000,2018-11-30 13:24:47.000000000,"[{'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2018-11-27 11:21:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/edbfa07f3e6c75a6558ec8200ade416bb9e0d6d8', 'message': 'Add blueprints link in user documents\n\nChange-Id: I20e51327ae44a2b3523ce6bd5b29b58fecda45fd\n'}, {'number': 2, 'created': '2018-11-28 00:49:42.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/8c7fe0f814b821ff742a84008d71c02eff97925c', 'message': 'Add blueprints link in user documents\n\nChange-Id: I20e51327ae44a2b3523ce6bd5b29b58fecda45fd\n'}]",1,620294,8c7fe0f814b821ff742a84008d71c02eff97925c,10,3,2,25747,,,0,"Add blueprints link in user documents

Change-Id: I20e51327ae44a2b3523ce6bd5b29b58fecda45fd
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/94/620294/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,edbfa07f3e6c75a6558ec8200ade416bb9e0d6d8,bp/s,* Blueprints: https://blueprints.launchpad.net/networking-ovn,,1,0
openstack%2Fnetworking-ovn~master~I952bb630d03ec08e93387196796e2b65a8cf9908,openstack/networking-ovn,master,I952bb630d03ec08e93387196796e2b65a8cf9908,Functional: Do not compile OVS kernel modules,MERGED,2018-09-05 10:31:21.000000000,2018-11-30 13:24:46.000000000,2018-11-30 13:24:46.000000000,"[{'_account_id': 6773}, {'_account_id': 8788}, {'_account_id': 10237}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2018-09-05 10:31:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6449ab332ad1abb6e5ed65f098a6535f92a256db', 'message': ""Use the defatul's OS kernel datapath\n\nThis patch is disabling building the openvswitch kernel module from OVS\nby default and instead use the default kernel datapath of the host OS.\n\nChange-Id: I952bb630d03ec08e93387196796e2b65a8cf9908\n""}, {'number': 2, 'created': '2018-09-06 12:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/107c8fecdf2f3323de14bbcef905d90961ef633a', 'message': ""Use the defatul's OS kernel datapath\n\nThis patch is disabling building the openvswitch kernel module from OVS\nby default and instead use the default kernel datapath of the host OS.\n\nChange-Id: I952bb630d03ec08e93387196796e2b65a8cf9908\n""}, {'number': 3, 'created': '2018-09-11 12:51:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9437f1e6f3b5ec7979a1f58d64e020ddfc8a4d79', 'message': 'Functional: Do not compile OVS kernel modules\n\nThis patch is disabling building the openvswitch kernel modules when\nrunning functional tests.\n\nChange-Id: I952bb630d03ec08e93387196796e2b65a8cf9908\n'}, {'number': 4, 'created': '2018-09-11 12:57:32.000000000', 'files': ['networking_ovn/tests/contrib/gate_hook.sh'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c284e434493d7e3f984cbc0a160c8ff2a3f3b0d8', 'message': 'Functional: Do not compile OVS kernel modules\n\nThis patch is disabling building the openvswitch kernel modules when\nrunning functional tests.\n\nChange-Id: I952bb630d03ec08e93387196796e2b65a8cf9908\n'}]",1,599996,c284e434493d7e3f984cbc0a160c8ff2a3f3b0d8,26,5,4,6773,,,0,"Functional: Do not compile OVS kernel modules

This patch is disabling building the openvswitch kernel modules when
running functional tests.

Change-Id: I952bb630d03ec08e93387196796e2b65a8cf9908
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/96/599996/3 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/tests/contrib/gate_hook.sh', 'devstack/lib/networking-ovn']",2,6449ab332ad1abb6e5ed65f098a6535f92a256db,do-not-build-ovs-kernel-module,OVN_BUILD_MODULES=$(trueorfalse False OVN_BUILD_MODULES),OVN_BUILD_MODULES=$(trueorfalse True OVN_BUILD_MODULES),2,2
openstack%2Fkuryr-kubernetes~master~Idb4644956ad5c0cf4f6570da6e6e166b0d357f31,openstack/kuryr-kubernetes,master,Idb4644956ad5c0cf4f6570da6e6e166b0d357f31,Fix definition of CNIRunner.get_container_id(),MERGED,2018-11-26 09:54:08.000000000,2018-11-30 12:40:48.000000000,2018-11-30 12:40:48.000000000,"[{'_account_id': 6598}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 24604}]","[{'number': 1, 'created': '2018-11-26 09:54:08.000000000', 'files': ['kuryr_kubernetes/cni/api.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/00eacbec85a50a2c548b40edf2604e3e1816105a', 'message': ""Fix definition of CNIRunner.get_container_id()\n\nSeems like base class method definition is missing `params` argument\nthat's present in it's implementations. This commit fixes that by adding\nit.\n\nTrivialFix\n\nChange-Id: Idb4644956ad5c0cf4f6570da6e6e166b0d357f31\n""}]",0,619996,00eacbec85a50a2c548b40edf2604e3e1816105a,8,6,1,11600,,,0,"Fix definition of CNIRunner.get_container_id()

Seems like base class method definition is missing `params` argument
that's present in it's implementations. This commit fixes that by adding
it.

TrivialFix

Change-Id: Idb4644956ad5c0cf4f6570da6e6e166b0d357f31
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/96/619996/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/cni/api.py'],1,00eacbec85a50a2c548b40edf2604e3e1816105a,," def get_container_id(self, params):", def get_container_id(self):,1,1
openstack%2Fkuryr-kubernetes~master~Ie4dfac39704f4bbfb31eb329cd43ab8a06addf0d,openstack/kuryr-kubernetes,master,Ie4dfac39704f4bbfb31eb329cd43ab8a06addf0d,Add security groups driver for NP,MERGED,2018-10-08 09:17:44.000000000,2018-11-30 12:40:47.000000000,2018-11-30 12:40:47.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 21041}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2018-10-08 09:17:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9fdd68678a10f10e141951646696812d99d2d221', 'message': '[WIP] Add security groups driver for NP\n\nThis commit creates a new security group driver for handling network\npolicies sg and sg rules.\n\nChange-Id: Ie4dfac39704f4bbfb31eb329cd43ab8a06addf0d\n'}, {'number': 2, 'created': '2018-10-08 10:22:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/26f7c5bd68aec6beb871c679709a49758642c382', 'message': '[WIP] Add security groups driver for NP\n\nThis commit creates a new security group driver for handling network\npolicies sg and sg rules.\n\nChange-Id: Ie4dfac39704f4bbfb31eb329cd43ab8a06addf0d\n'}, {'number': 3, 'created': '2018-10-09 11:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/dca76314c5cd25d66216c14fa1f0579d9da5bf06', 'message': '[WIP] Add security groups driver for NP\n\nThis commit creates a new security group driver for handling network\npolicies sg and sg rules.\n\nChange-Id: Ie4dfac39704f4bbfb31eb329cd43ab8a06addf0d\n'}, {'number': 4, 'created': '2018-10-10 11:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c18a295fae3e7fb16d1884b446ed44ca331632b9', 'message': '[WIP] Add security groups driver for NP\n\nThis commit creates a new security group driver for handling network\npolicies sg and sg rules.\n\nPartially Implements: blueprint k8s-network-policies\nChange-Id: Ie4dfac39704f4bbfb31eb329cd43ab8a06addf0d\n'}, {'number': 5, 'created': '2018-10-10 11:57:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/706fbb192cdf2d724f43ee4f3a6aae17878dbaf3', 'message': '[WIP] Add security groups driver for NP\n\nThis commit creates a new security group driver for handling network\npolicies sg and sg rules.\n\nPartially Implements: blueprint k8s-network-policies\nChange-Id: Ie4dfac39704f4bbfb31eb329cd43ab8a06addf0d\n'}, {'number': 6, 'created': '2018-10-30 16:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/610c6c30e8c55cdce74dbc55acca8148998f820c', 'message': 'Add security groups driver for NP\n\nThis commit creates a new security group driver for handling network\npolicies sg and sg rules.\n\nTODO (not all in this patch set):\n- Add unittest\n- Add tempest coverage\n- Add support for matchExpressions at NP podSelector\n- Ensure existing pods/svcs are getting updated with the right SG\n- Ensure the next options are covered:\n    - from:\n      - namespaceSelector:\n         ...\n      - podSelector:\n         ...\n\nPartially Implements: blueprint k8s-network-policies\nChange-Id: Ie4dfac39704f4bbfb31eb329cd43ab8a06addf0d\n'}, {'number': 7, 'created': '2018-10-30 16:34:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c9217d60c479aed8aec29f22921fe110ded9c374', 'message': 'Add security groups driver for NP\n\nThis commit creates a new security group driver for handling network\npolicies sg and sg rules.\n\nTODO (not all in this patch set):\n- Add unittest\n- Add tempest coverage\n- Add support for matchExpressions at NP podSelector\n- Ensure existing pods/svcs are getting updated with the right SG\n- Ensure the next options are covered:\n    - from:\n      - namespaceSelector:\n         ...\n      - podSelector:\n         ...\n\nPartially Implements: blueprint k8s-network-policies\nChange-Id: Ie4dfac39704f4bbfb31eb329cd43ab8a06addf0d\n'}, {'number': 8, 'created': '2018-11-02 14:00:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/fa91a9331eccf797304a97b48fd1e63eb492de48', 'message': '[WIP] Add security groups driver for NP\n\nThis commit creates a new security group driver for handling network\npolicies sg and sg rules.\n\nTODO (not all in this patch set):\n- Add unittest\n- Add tempest coverage\n- Add support for matchExpressions at NP podSelector\n- Ensure existing pods/svcs are getting updated with the right SG\n- Ensure the next options are covered:\n    - from:\n      - namespaceSelector:\n         ...\n      - podSelector:\n         ...\n\nPartially Implements: blueprint k8s-network-policies\nChange-Id: Ie4dfac39704f4bbfb31eb329cd43ab8a06addf0d\n'}, {'number': 9, 'created': '2018-11-07 12:08:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/740008d5cf32d382a8f67a50c60aa24b84f8bd2b', 'message': '[WIP] Add security groups driver for NP\n\nThis commit creates a new security group driver for handling network\npolicies sg and sg rules.\n\nTODO (not all in this patch set):\n- Add unittest\n- Add tempest coverage\n- Add support for matchExpressions at NP podSelector\n- Ensure existing pods/svcs are getting updated with the right SG\n- Ensure the next options are covered:\n    - from:\n      - namespaceSelector:\n         ...\n      - podSelector:\n         ...\n\nPartially Implements: blueprint k8s-network-policies\nChange-Id: Ie4dfac39704f4bbfb31eb329cd43ab8a06addf0d\n'}, {'number': 10, 'created': '2018-11-08 17:32:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2b9c923f6fec897f7b2200dc7784546d8f4d4169', 'message': '[WIP] Add security groups driver for NP\n\nThis commit creates a new security group driver for handling network\npolicies sg and sg rules.\n\nTODO (not all in this patch set):\n- Add unittest\n- Add tempest coverage\n- Add support for matchExpressions at NP podSelector\n- Ensure existing pods/svcs are getting updated with the right SG\n- Ensure the next options are covered:\n    - from:\n      - namespaceSelector:\n         ...\n      - podSelector:\n         ...\n\nPartially Implements: blueprint k8s-network-policies\nChange-Id: Ie4dfac39704f4bbfb31eb329cd43ab8a06addf0d\n'}, {'number': 11, 'created': '2018-11-13 08:07:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ef8c761e73872f54ab3561a179a4fbf5da73bea8', 'message': '[WIP] Add security groups driver for NP\n\nThis commit creates a new security group driver for handling network\npolicies sg and sg rules.\n\nTODO (not all in this patch set):\n- Add unittest\n- Add tempest coverage\n- Add support for matchExpressions at NP podSelector\n- Ensure existing pods/svcs are getting updated with the right SG\n- Ensure the next options are covered:\n    - from:\n      - namespaceSelector:\n         ...\n      - podSelector:\n         ...\n\nPartially Implements: blueprint k8s-network-policies\nChange-Id: Ie4dfac39704f4bbfb31eb329cd43ab8a06addf0d\n'}, {'number': 12, 'created': '2018-11-14 10:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/93a006f3b7691cb29c12cae4c314381c8f9333a7', 'message': 'Add security groups driver for NP\n\nThis commit creates a new security group driver for handling network\npolicies sg and sg rules.\n\nTODO:\n- Add unittest\n\nPartially Implements: blueprint k8s-network-policies\nChange-Id: Ie4dfac39704f4bbfb31eb329cd43ab8a06addf0d\n'}, {'number': 13, 'created': '2018-11-14 16:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7d9b899ee39c71061b90ca81ec696297f2217f1c', 'message': 'Add security groups driver for NP\n\nThis commit creates a new security group driver for handling network\npolicies sg and sg rules.\n\nTODO:\n- Add unittest\n\nPartially Implements: blueprint k8s-network-policies\nChange-Id: Ie4dfac39704f4bbfb31eb329cd43ab8a06addf0d\n'}, {'number': 14, 'created': '2018-11-15 10:23:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0bbc33792298cf95a2ccf33db7d471c2dcbfecbe', 'message': 'Add security groups driver for NP\n\nThis commit creates a new security group driver for handling network\npolicies sg and sg rules.\n\nTODO:\n- Add unittest\n\nPartially Implements: blueprint k8s-network-policies\nChange-Id: Ie4dfac39704f4bbfb31eb329cd43ab8a06addf0d\n'}, {'number': 15, 'created': '2018-11-16 13:17:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/8256c1336839f1478e58f07dc3f61eb1c249f1dc', 'message': 'Add security groups driver for NP\n\nThis commit creates a new security group driver for handling network\npolicies sg and sg rules.\n\nTODO:\n- Add unittest\n\nPartially Implements: blueprint k8s-network-policies\nChange-Id: Ie4dfac39704f4bbfb31eb329cd43ab8a06addf0d\n'}, {'number': 16, 'created': '2018-11-23 09:41:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3b64a07a11e060202b705e48005cb990c7853f22', 'message': 'Add security groups driver for NP\n\nThis commit creates a new security group driver for handling network\npolicies sg and sg rules.\n\nTODO:\n- Add unittest\n\nPartially Implements: blueprint k8s-network-policies\nChange-Id: Ie4dfac39704f4bbfb31eb329cd43ab8a06addf0d\n'}, {'number': 17, 'created': '2018-11-23 17:11:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/de6846c4249c2893d5f75273551c678034ad8261', 'message': 'Add security groups driver for NP\n\nThis commit creates a new security group driver for handling network\npolicies sg and sg rules.\n\nTODO:\n- Add unittest\n\nPartially Implements: blueprint k8s-network-policies\nChange-Id: Ie4dfac39704f4bbfb31eb329cd43ab8a06addf0d\n'}, {'number': 18, 'created': '2018-11-26 12:21:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ccff867dd151bf1ff3ed029ec0e50e9576a3168d', 'message': 'Add security groups driver for NP\n\nThis commit creates a new security group driver for handling network\npolicies sg and sg rules.\n\nTODO:\n- Add unittest\n\nPartially Implements: blueprint k8s-network-policies\nChange-Id: Ie4dfac39704f4bbfb31eb329cd43ab8a06addf0d\n'}, {'number': 19, 'created': '2018-11-26 16:50:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9b5039ba4ad1af266cdacc7e15422cf97a6fad8a', 'message': 'Add security groups driver for NP\n\nThis commit creates a new security group driver for handling network\npolicies sg and sg rules.\n\nTODO:\n- Add unittest\n\nPartially Implements: blueprint k8s-network-policies\nChange-Id: Ie4dfac39704f4bbfb31eb329cd43ab8a06addf0d\n'}, {'number': 20, 'created': '2018-11-27 08:08:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e6f4864b701575ea65aaa304a406d821f8020002', 'message': 'Add security groups driver for NP\n\nThis commit creates a new security group driver for handling network\npolicies sg and sg rules.\n\nTODO:\n- Add unittest\n\nPartially Implements: blueprint k8s-network-policies\nChange-Id: Ie4dfac39704f4bbfb31eb329cd43ab8a06addf0d\n'}, {'number': 21, 'created': '2018-11-27 11:14:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/be814134eefa3d624496bb9beb9e8f28cdbcb0e3', 'message': 'Add security groups driver for NP\n\nThis commit creates a new security group driver for handling network\npolicies sg and sg rules.\n\nPartially Implements: blueprint k8s-network-policies\nChange-Id: Ie4dfac39704f4bbfb31eb329cd43ab8a06addf0d\n'}, {'number': 22, 'created': '2018-11-28 17:43:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0ec5b74fe71e621bb119e0e07720b46e9b31795f', 'message': 'Add security groups driver for NP\n\nThis commit creates a new security group driver for handling network\npolicies sg and sg rules.\n\nTODO:\n- Add unittest\n\nPartially Implements: blueprint k8s-network-policies\nChange-Id: Ie4dfac39704f4bbfb31eb329cd43ab8a06addf0d\n'}, {'number': 23, 'created': '2018-11-28 20:54:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c7116faa12690dbcb62e3817112481c6cf5be726', 'message': 'Add security groups driver for NP\n\nThis commit creates a new security group driver for handling network\npolicies sg and sg rules.\n\nPartially Implements: blueprint k8s-network-policies\nChange-Id: Ie4dfac39704f4bbfb31eb329cd43ab8a06addf0d\n'}, {'number': 24, 'created': '2018-11-29 07:34:39.000000000', 'files': ['kuryr_kubernetes/tests/unit/controller/drivers/test_network_policy_security_groups.py', 'kuryr_kubernetes/controller/drivers/network_policy.py', 'kuryr_kubernetes/controller/drivers/network_policy_security_groups.py', 'setup.cfg', 'doc/source/installation/network_policy.rst'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6dfd4067f553f3a2f39b7c95bb0812dc8f8be7c9', 'message': 'Add security groups driver for NP\n\nThis commit creates a new security group driver for handling network\npolicies sg and sg rules.\n\nPartially Implements: blueprint k8s-network-policies\nChange-Id: Ie4dfac39704f4bbfb31eb329cd43ab8a06addf0d\n'}]",52,608616,6dfd4067f553f3a2f39b7c95bb0812dc8f8be7c9,66,8,24,14885,,,0,"Add security groups driver for NP

This commit creates a new security group driver for handling network
policies sg and sg rules.

Partially Implements: blueprint k8s-network-policies
Change-Id: Ie4dfac39704f4bbfb31eb329cd43ab8a06addf0d
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/16/608616/11 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/drivers/network_policy_security_groups.py'],1,9fdd68678a10f10e141951646696812d99d2d221,bp/k8s-network-policies-patch22,"# Copyright 2018 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. from kuryr_kubernetes import clients from kuryr_kubernetes import constants from kuryr_kubernetes.controller.drivers import base from kuryr_kubernetes import exceptions from oslo_log import log as logging from neutronclient.common import exceptions as n_exc LOG = logging.getLogger(__name__) def _get_kuryrnetpolicy_crd(name, namespace='default'): kubernetes = clients.get_kubernetes_client() try: knp = kubernetes.get('{}/{}/kuryrnetpolicies/{]'.format( constants.K8S_API_CRD_NAMESPACES, namespace, name)) except exceptions.K8sResourceNotFound: LOG.exception(""KuryrNetPolicy CRD not found"") raise except exceptions.K8sClientException: LOG.exception(""Kubernetes Client Exception"") raise return knp class NetworkPolicySecurityGroupsDriver(base.PodSecurityGroupsDriver): """"""Provides security groups for pods based on network policies"""""" def get_security_groups(self, pod, project_id): name = 'np-test-network-policy' kuryrnetpolicy_crd = _get_kuryrnetpolicy_crd(name) sg_list = [str(kuryrnetpolicy_crd['spec']['securityGroupId'])] return sg_list def delete_sg(self, sg_id): neutron = clients.get_neutron_client() try: neutron.delete_security_group(sg_id) except n_exc.NotFound: LOG.debug(""Security Group not found: %s"", sg_id) except n_exc.NeutronClientExtension: LOG.exception(""Error deleting security group %s."", sg_id) raise ",,59,0
openstack%2Fpython-manilaclient~master~Iedfecf07031e8018b5712f8e205ca1bffa7a91f9,openstack/python-manilaclient,master,Iedfecf07031e8018b5712f8e205ca1bffa7a91f9,Add Python 3.6 classifier to setup.cfg,MERGED,2018-11-30 07:00:08.000000000,2018-11-30 12:39:16.000000000,2018-11-30 12:39:15.000000000,"[{'_account_id': 9003}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-30 07:00:08.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/098737a63b1fcff05477cd7ef4291df6cc906353', 'message': 'Add Python 3.6 classifier to setup.cfg\n\nChange-Id: Iedfecf07031e8018b5712f8e205ca1bffa7a91f9\n'}]",0,621083,098737a63b1fcff05477cd7ef4291df6cc906353,6,2,1,17499,,,0,"Add Python 3.6 classifier to setup.cfg

Change-Id: Iedfecf07031e8018b5712f8e205ca1bffa7a91f9
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/83/621083/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,098737a63b1fcff05477cd7ef4291df6cc906353,, Programming Language :: Python :: 3.6,,1,0
openstack%2Fopenstack-ansible~master~I1a5dae612d4332e91736d5494ae60eb07c4ccdaf,openstack/openstack-ansible,master,I1a5dae612d4332e91736d5494ae60eb07c4ccdaf,Add os_octavia to the list in the deploy guide,MERGED,2018-11-26 22:02:50.000000000,2018-11-30 12:26:18.000000000,2018-11-30 12:26:18.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-11-26 22:02:50.000000000', 'files': ['deploy-guide/source/configure.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8fdcd5fd59226630edbce4d7543d841082188abc', 'message': 'Add os_octavia to the list in the deploy guide\n\nTo reduce confusion I am adding os_octavia to the ""OpenStack service\nroles list in the deploy-guide for OpenStack Ansible.\n\nChange-Id: I1a5dae612d4332e91736d5494ae60eb07c4ccdaf\n'}]",0,620167,8fdcd5fd59226630edbce4d7543d841082188abc,7,3,1,11628,,,0,"Add os_octavia to the list in the deploy guide

To reduce confusion I am adding os_octavia to the ""OpenStack service
roles list in the deploy-guide for OpenStack Ansible.

Change-Id: I1a5dae612d4332e91736d5494ae60eb07c4ccdaf
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/67/620167/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/configure.rst'],1,8fdcd5fd59226630edbce4d7543d841082188abc,,- :role_docs:`os_octavia` ,,2,0
openstack%2Fopenstack-ansible~stable%2Frocky~I19ee584530e15db01a85f310e62dd97bee392282,openstack/openstack-ansible,stable/rocky,I19ee584530e15db01a85f310e62dd97bee392282,Update all SHAs for 18.1.1,MERGED,2018-11-19 20:25:08.000000000,2018-11-30 12:26:17.000000000,2018-11-30 12:26:17.000000000,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-11-19 20:25:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2993e76b20b70ddc90a0625dfdba1c81d3223421', 'message': 'Update all SHAs for 18.1.1\n\nThis patch:\n- updates all the roles to the latest available stable SHAs\n- copies the release notes from the updated roles into the integrated repo\n- updates all the OpenStack Service SHAs\n\nDepends-On: https://review.openstack.org/618816\nChange-Id: I19ee584530e15db01a85f310e62dd97bee392282\n'}, {'number': 2, 'created': '2018-11-28 14:10:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8a0a05b824b9a36cf200e974c022518329d2bae9', 'message': 'Update all SHAs for 18.1.1\n\nThis patch:\n- updates all the roles to the latest available stable SHAs\n- copies the release notes from the updated roles into the integrated repo\n- updates all the OpenStack Service SHAs\n\nDepends-On: https://review.openstack.org/618816\nChange-Id: I19ee584530e15db01a85f310e62dd97bee392282\n'}, {'number': 3, 'created': '2018-11-29 10:50:58.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'releasenotes/notes/add-nested-virt-1db2270e73d1b34.yaml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'releasenotes/notes/nova-cpu-model-006da20048168842.yaml', 'inventory/group_vars/all/all.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a70dc3a7993d5e1b9a1ddc2aa14754c35d8696a8', 'message': 'Update all SHAs for 18.1.1\n\nThis patch:\n- updates all the roles to the latest available stable SHAs\n- copies the release notes from the updated roles into the integrated repo\n- updates all the OpenStack Service SHAs\n\nDepends-On: https://review.openstack.org/618816\nChange-Id: I19ee584530e15db01a85f310e62dd97bee392282\n'}]",0,618822,a70dc3a7993d5e1b9a1ddc2aa14754c35d8696a8,17,4,3,17068,,,0,"Update all SHAs for 18.1.1

This patch:
- updates all the roles to the latest available stable SHAs
- copies the release notes from the updated roles into the integrated repo
- updates all the OpenStack Service SHAs

Depends-On: https://review.openstack.org/618816
Change-Id: I19ee584530e15db01a85f310e62dd97bee392282
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/22/618822/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'releasenotes/notes/add-nested-virt-1db2270e73d1b34.yaml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'releasenotes/notes/nova-cpu-model-006da20048168842.yaml', 'inventory/group_vars/all/all.yml', 'ansible-role-requirements.yml']",6,2993e76b20b70ddc90a0625dfdba1c81d3223421,release_osa, version: ef9410f6c83cdab86f8269c70973edca1a82dd22 version: 14a74f2fb60fa7865cf34f75e3196e802847b9d1 version: c115fd3ade8f9acc362de52e719d825204bd7919 version: 9b8d7483d69e60f4ae71ceb6a3336ff81f355c38 version: f9ce44edb809c92735fa093334fa1d79cc538126 version: 30f52d3324a5065d9ab05830ce3f03f99770147a version: a1aa291f92ff817850ef26fbc05e1e3e3ea2d1fe version: 74c33e9788607f772d8402c4f5cfc79eb379278b version: 32ed6a80ecd4198d71c38b02e61c8dbfdcb689a8 version: 25bdb787dfb54406f7926afbc3eb847ee4a5020b version: d6245c52035bd31d6fc5b930ce247d1aea570f42 version: 97c9aa1ba44b4b3ea801a261afb0228e7ac5e267 version: 7bbd5df7ebb9f32ab8c0cb106f576eab64df0872 version: 9877a67a73ce7a2f1ed596642da8b431c1b8d24a version: dc57587148278e084efda07bcdcddacbc928cecc, version: 7d11db95529eea32d9de9a2b7610c5113c36683a version: 2c00e6fd7b9ed47215bff4d71ffa5f9140ef9b20 version: 3bdc623d26dc4d1524a54ef199840dc3390c91cb version: 0edadc2dd8e85a04e7e2e0e365353a89f25683d4 version: c49fe13023f8c18c411f4364c8ed81a08075d144 version: 68df466f21ca5e54acdc407ef65b1a5f8baee793 version: e0dc04aaff789875c48309ce979d7d148bd99c0a version: d38c601f91c9378583965388f24592fd34e561ea version: a7684e379295c399e521125749085fac1741390b version: 85e7c7689834abbc45e84bed974026bd94b596b8 version: 6903802129a8e791ebaed4e60f95458b99201a25 version: 200fa4a7aaa15a6d6758418eafffe093174d2f72 version: 0eabc94481dc6a17d9da1b175ad8a1a1cce2698c version: 78323f222efc54b3eccf9e26b410f46d3f257e4d version: 5140f304cdcb4d69ea3da9b9844d0fc15635f32f,79,54
openstack%2Fpuppet-tripleo~stable%2Fqueens~Ib96a98596badea88a7d2b81e1f0d0190826b85cf,openstack/puppet-tripleo,stable/queens,Ib96a98596badea88a7d2b81e1f0d0190826b85cf,Add manifest for networking_ansible ML2 plugin,ABANDONED,2018-11-28 18:24:25.000000000,2018-11-30 12:18:16.000000000,,"[{'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-28 18:24:25.000000000', 'files': ['releasenotes/notes/networking-ansible-741fd4a6c8374db8.yaml', 'manifests/profile/base/neutron/plugins/ml2.pp', 'manifests/profile/base/neutron/plugins/ml2/networking_ansible.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/890b700ce7e1ec8d216fc74acfade7799c7f6208', 'message': 'Add manifest for networking_ansible ML2 plugin\n\n(cherry picked from commit 389870dd166b1de9859676832ad7fdc3d37d2664)\nDepends-On: https://review.openstack.org/620672\nChange-Id: Ib96a98596badea88a7d2b81e1f0d0190826b85cf\n'}]",0,620674,890b700ce7e1ec8d216fc74acfade7799c7f6208,4,2,1,5792,,,0,"Add manifest for networking_ansible ML2 plugin

(cherry picked from commit 389870dd166b1de9859676832ad7fdc3d37d2664)
Depends-On: https://review.openstack.org/620672
Change-Id: Ib96a98596badea88a7d2b81e1f0d0190826b85cf
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/74/620674/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/networking-ansible-741fd4a6c8374db8.yaml', 'manifests/profile/base/neutron/plugins/ml2.pp', 'manifests/profile/base/neutron/plugins/ml2/networking_ansible.pp']",3,890b700ce7e1ec8d216fc74acfade7799c7f6208,networking-ansible,"# Copyright 2018 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # == Class:tripleo::profile::base::neutron::plugins::ml2::networking_ansible # # Neutron networking-ansible ML2 plugin profile for tripleo # # === Parameters # # [*step*] # (Optional) The current step in deployment. See tripleo-heat-templates # for more details. # Defaults to hiera('step') # class tripleo::profile::base::neutron::plugins::ml2::networking_ansible( $step = Integer(hiera('step')) ) { include ::tripleo::profile::base::neutron if $step >= 4 { include ::neutron::plugins::ml2::networking_ansible } } ",,42,0
openstack%2Fcharm-glance~master~I2cc19c550ebb1de09e66de8685d507f7db9e0f24,openstack/charm-glance,master,I2cc19c550ebb1de09e66de8685d507f7db9e0f24,Remove vestigial swift_temp_url_key,MERGED,2018-11-27 17:31:21.000000000,2018-11-30 12:15:15.000000000,2018-11-30 12:15:15.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 22799}]","[{'number': 1, 'created': '2018-11-27 17:31:21.000000000', 'files': ['hooks/glance_utils.py', 'hooks/glance_relations.py'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/178d2701d640e656498e58131b529025a43d79b2', 'message': 'Remove vestigial swift_temp_url_key\n\nThe swift-temp-url-key key on the image-service relation seems never to\nbe consumed (see the ImageService context(s)). It appears to be\nvestigial and causes problems like Bug#1804023.\n\nAs it is never consumed, this change removes it.\n\nCloses-Bug: #1804023\n\nChange-Id: I2cc19c550ebb1de09e66de8685d507f7db9e0f24\n'}]",0,620371,178d2701d640e656498e58131b529025a43d79b2,11,4,1,20805,,,0,"Remove vestigial swift_temp_url_key

The swift-temp-url-key key on the image-service relation seems never to
be consumed (see the ImageService context(s)). It appears to be
vestigial and causes problems like Bug#1804023.

As it is never consumed, this change removes it.

Closes-Bug: #1804023

Change-Id: I2cc19c550ebb1de09e66de8685d507f7db9e0f24
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/71/620371/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/glance_utils.py', 'hooks/glance_relations.py']",2,178d2701d640e656498e58131b529025a43d79b2,bug/1804023,," swift_temp_url_key, if ('object-store' in CONFIGS.complete_contexts() and 'identity-service' in CONFIGS.complete_contexts()): relation_data.update({ 'swift-temp-url-key': swift_temp_url_key(), 'swift-container': 'glance' }) ",0,51
openstack%2Fpuppet-cinder~stable%2Fqueens~Ia357ea41f8472d47e266d853f120a14b767e880d,openstack/puppet-cinder,stable/queens,Ia357ea41f8472d47e266d853f120a14b767e880d,Improve cinder::nova support for auth_type password,MERGED,2018-11-26 15:56:57.000000000,2018-11-30 12:12:34.000000000,2018-11-30 12:12:34.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-26 15:56:57.000000000', 'files': ['spec/classes/cinder_nova_spec.rb', 'manifests/nova.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/93b3d6841f99d9bdb20c6eed921600bb91897bd5', 'message': 'Improve cinder::nova support for auth_type password\n\nAdd ability to configure the [nova] settings required when the auth_type\nis password. This allows cinder to access the nova API as a privileged\nuser.\n\nChange-Id: Ia357ea41f8472d47e266d853f120a14b767e880d\n(cherry picked from commit 05d6b0851fea9da6e057cef295b39a77d1b6cca3)\n(cherry picked from commit 9dfd4bbe50e1c41adefc4e0cf2fa9969786d243f)\n'}]",0,620094,93b3d6841f99d9bdb20c6eed921600bb91897bd5,8,3,1,21129,,,0,"Improve cinder::nova support for auth_type password

Add ability to configure the [nova] settings required when the auth_type
is password. This allows cinder to access the nova API as a privileged
user.

Change-Id: Ia357ea41f8472d47e266d853f120a14b767e880d
(cherry picked from commit 05d6b0851fea9da6e057cef295b39a77d1b6cca3)
(cherry picked from commit 9dfd4bbe50e1c41adefc4e0cf2fa9969786d243f)
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/94/620094/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/cinder_nova_spec.rb', 'manifests/nova.pp']",2,93b3d6841f99d9bdb20c6eed921600bb91897bd5,nova-auth,"# [*auth_url*] # (Optional) Identity service url. # Defaults to $::os_service_default # # [*username*] # (Optional) Nova admin username. # Defaults to 'nova' # # [*user_domain_name*] # (Optional) Nova admin user domain name. # Defaults to 'Default' # # [*password*] # (Optional) Nova admin password. # Defaults to undef # # [*project_name*] # (Optional) Nova admin project name. # Defaults to 'service' # # [*project_domain_name*] # (Optional) Nova admin project domain name. # Defaults to 'Default' # $region_name = $::os_service_default, $interface = $::os_service_default, $token_auth_url = $::os_service_default, $cafile = $::os_service_default, $certfile = $::os_service_default, $keyfile = $::os_service_default, $insecure = $::os_service_default, $timeout = $::os_service_default, $collect_timing = $::os_service_default, $split_loggers = $::os_service_default, $auth_type = $::os_service_default, $auth_section = $::os_service_default, $auth_url = $::os_service_default, $username = 'nova', $user_domain_name = 'Default', $password = undef, $project_name = 'service', $project_domain_name = 'Default', if $auth_type == 'password' { cinder_config { 'nova/auth_url': value => $auth_url; 'nova/username': value => $username; 'nova/user_domain_name': value => $user_domain_name; 'nova/password': value => $password, secret => true; 'nova/project_name': value => $project_name; 'nova/project_domain_name': value => $project_domain_name; } }"," $region_name = $::os_service_default, $interface = $::os_service_default, $token_auth_url = $::os_service_default, $cafile = $::os_service_default, $certfile = $::os_service_default, $keyfile = $::os_service_default, $insecure = $::os_service_default, $timeout = $::os_service_default, $collect_timing = $::os_service_default, $split_loggers = $::os_service_default, $auth_type = $::os_service_default, $auth_section = $::os_service_default,",70,13
openstack%2Fpuppet-cinder~stable%2Fqueens~I35885a30ff9f023f52e29fd2585805e44ab6f85e,openstack/puppet-cinder,stable/queens,I35885a30ff9f023f52e29fd2585805e44ab6f85e,Add cinder::nova class to configure nova section,MERGED,2018-11-26 15:56:57.000000000,2018-11-30 12:02:25.000000000,2018-11-30 12:02:25.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-26 15:56:57.000000000', 'files': ['spec/classes/cinder_nova_spec.rb', 'manifests/nova.pp', 'manifests/releasenotes/notes/nova-class-24c2c12b8d422aee.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/14ed2f7dd8a56ac32f053b07a782dd00711323be', 'message': 'Add cinder::nova class to configure nova section\n\nAdds new class cinder::nova that can be used to\nconfigure the nova section in cinder.conf as in [1].\n\n[1] https://docs.openstack.org/cinder/latest/configuration/block-storage/samples/cinder.conf.html\n\nChange-Id: I35885a30ff9f023f52e29fd2585805e44ab6f85e\n(cherry picked from commit 944d48402082a470404eca73895da86d529c6f21)\n(cherry picked from commit 2d9e7fd02ed33aff48d0e6272a5ad0d4ac1f0152)\n'}]",0,620093,14ed2f7dd8a56ac32f053b07a782dd00711323be,9,4,1,21129,,,0,"Add cinder::nova class to configure nova section

Adds new class cinder::nova that can be used to
configure the nova section in cinder.conf as in [1].

[1] https://docs.openstack.org/cinder/latest/configuration/block-storage/samples/cinder.conf.html

Change-Id: I35885a30ff9f023f52e29fd2585805e44ab6f85e
(cherry picked from commit 944d48402082a470404eca73895da86d529c6f21)
(cherry picked from commit 2d9e7fd02ed33aff48d0e6272a5ad0d4ac1f0152)
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/93/620093/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/cinder_nova_spec.rb', 'manifests/nova.pp', 'manifests/releasenotes/notes/nova-class-24c2c12b8d422aee.yaml']",3,14ed2f7dd8a56ac32f053b07a782dd00711323be,nova-auth,--- features: - | Added new class cinder::nova which can be used to configure the options in the nova section in cinder.conf ,,163,0
openstack%2Fcontributor-guide~master~I85390e7463058f50cec3299d4aae4aed4ef758a8,openstack/contributor-guide,master,I85390e7463058f50cec3299d4aae4aed4ef758a8,Imported Translations from Zanata,MERGED,2018-11-30 06:24:40.000000000,2018-11-30 11:40:21.000000000,2018-11-30 11:40:21.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-30 06:24:40.000000000', 'files': ['doc/source/locale/de/LC_MESSAGES/doc-common.po', 'doc/source/locale/de/LC_MESSAGES/doc-operators.po', 'doc/source/locale/de/LC_MESSAGES/doc-contributing.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-organizations.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-operators.po'], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/f29e4f86ad3239ab80c60ef2f972e1115dcd6a00', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I85390e7463058f50cec3299d4aae4aed4ef758a8\n'}]",0,621076,f29e4f86ad3239ab80c60ef2f972e1115dcd6a00,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I85390e7463058f50cec3299d4aae4aed4ef758a8
",git fetch https://review.opendev.org/openstack/contributor-guide refs/changes/76/621076/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/locale/de/LC_MESSAGES/doc-common.po', 'doc/source/locale/de/LC_MESSAGES/doc-contributing.po', 'doc/source/locale/de/LC_MESSAGES/doc-operators.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-organizations.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-operators.po']",5,f29e4f86ad3239ab80c60ef2f972e1115dcd6a00,zanata/translations,"# Andi Chandler <andi@gowling.com>, 2018. #zanata msgid """" msgstr """" ""Project-Id-Version: contributor-guide\n"" ""Report-Msgid-Bugs-To: \n"" ""POT-Creation-Date: 2018-11-28 16:29+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2018-11-29 09:08+0000\n"" ""Last-Translator: Andi Chandler <andi@gowling.com>\n"" ""Language-Team: English (United Kingdom)\n"" ""Language: en_GB\n"" ""X-Generator: Zanata 4.3.3\n"" ""Plural-Forms: nplurals=2; plural=(n != 1)\n"" msgid """" ""Create a forum in which to share best practices and architectures between "" ""interested parties"" msgstr """" ""Create a forum in which to share best practices and architectures between "" ""interested parties"" msgid """" ""Example configurations for various OpenStack services are provided in the "" ""`openstack/osops-example-configs repository <https://git.openstack.org/cgit/"" ""openstack/osops-example-configs/tree/README.md>`_. Operators can share their "" ""configuration files to help others, and review how others setup and tune "" ""their configurations."" msgstr """" ""Example configurations for various OpenStack services are provided in the "" ""`openstack/osops-example-configs repository <https://git.openstack.org/cgit/"" ""openstack/osops-example-configs/tree/README.md>`_. Operators can share their "" ""configuration files to help others, and review how others setup and tune "" ""their configurations."" msgid """" ""Gather feedback on the issues that come up in running OpenStack and work to "" ""communicate this throughout the community"" msgstr """" ""Gather feedback on the issues that come up in running OpenStack and work to "" ""communicate this throughout the community"" msgid ""IRC Channels"" msgstr ""IRC Channels"" msgid ""Increase constructive, proactive involvement from those running clouds"" msgstr ""Increase constructive, proactive involvement from those running clouds"" msgid ""Introduction"" msgstr ""Introduction"" msgid ""Mailing List"" msgstr ""Mailing List"" msgid ""Meet Ups"" msgstr ""Meet Ups"" msgid """" ""OpenStack is running in production all around the globe resulting in a large "" ""group of people who's daily job is to deploy and operate the platform."" msgstr """" ""OpenStack is running in production all around the globe resulting in a large "" ""group of people who's daily job is to deploy and operate the platform."" msgid ""Operator Contributors"" msgstr ""Operator Contributors"" msgid """" ""Operators have used a dedicated mailing list until November 2018. You can "" ""read the `openstack.operators archive <http://lists.openstack.org/pipermail/"" ""openstack-operators/>`_ which contain plenty of valuable information. "" ""Currently there is a `joint mailing list <http://lists.openstack.org/cgi-bin/"" ""mailman/listinfo/openstack-discuss>`_ for developer and operator to "" ""subscribe. More generic information about mailing lists can be found in the "" ""Communication page's :ref:`communication-mailing-lists` section."" msgstr """" ""Operators have used a dedicated mailing list until November 2018. You can "" ""read the `openstack.operators archive <http://lists.openstack.org/pipermail/"" ""openstack-operators/>`_ which contain plenty of valuable information. "" ""Currently there is a `joint mailing list <http://lists.openstack.org/cgi-bin/"" ""mailman/listinfo/openstack-discuss>`_ for developer and operator to "" ""subscribe. More generic information about mailing lists can be found in the "" ""Communication page's :ref:`communication-mailing-lists` section."" msgid ""Operators' Contributor Guide"" msgstr ""Operators' Contributor Guide"" msgid ""Participating"" msgstr ""Participating"" msgid ""Share and Learn From Real Configurations"" msgstr ""Share and Learn From Real Configurations"" msgid """" ""There is the #openstack-operators channel on Freenode IRC for live "" ""conversations and `Operators' team meeting <http://eavesdrop.openstack.org/"" ""#OpenStack_OSOps_Team>`_. On top of the #openstack-operators channel there "" ""are several others. More generic information about IRC channels can be found "" ""in the :ref:`irc-channels` section of the IRC page."" msgstr """" ""There is the #openstack-operators channel on Freenode IRC for live "" ""conversations and `Operators' team meeting <http://eavesdrop.openstack.org/"" ""#OpenStack_OSOps_Team>`_. On top of the #openstack-operators channel there "" ""are several others. More generic information about IRC channels can be found "" ""in the :ref:`irc-channels` section of the IRC page."" msgid """" ""To find documentation on how to deploy and run OpenStack you can look up the "" ""`OpenStack Manuals <https://docs.openstack.org/>`_ web page."" msgstr """" ""To find documentation on how to deploy and run OpenStack you can look up the "" ""`OpenStack Manuals <https://docs.openstack.org/>`_ web page."" msgid """" ""We actively encourage operators to participate and engage with the community "" ""to provide feedback and help us shape the software and documentation to be "" ""more user friendly."" msgstr """" ""We actively encourage operators to participate and engage with the community "" ""to provide feedback and help us shape the software and documentation to be "" ""more user friendly."" msgid """" ""`Operators' Meetups <https://wiki.openstack.org/wiki/Operations/Meetups>`_ "" ""give people who run clouds a place to congregate, swap best practices, ideas "" ""and give feedback. It has a mostly round table/working/discussion session "" ""feel, with only a small number of presentations, with the following aims:"" msgstr """" ""`Operators' Meetups <https://wiki.openstack.org/wiki/Operations/Meetups>`_ "" ""give people who run clouds a place to congregate, swap best practices, ideas "" ""and give feedback. It has a mostly round table/working/discussion session "" ""feel, with only a small number of presentations, with the following aims:"" ",,671,41
openstack%2Fkolla-ansible~master~I99f505438916be2f89b24df20506339604e5bd6e,openstack/kolla-ansible,master,I99f505438916be2f89b24df20506339604e5bd6e,Apply Swift rolling upgrade,MERGED,2018-07-12 08:56:35.000000000,2018-11-30 11:29:27.000000000,2018-11-30 11:29:27.000000000,"[{'_account_id': 1390}, {'_account_id': 14151}, {'_account_id': 15905}, {'_account_id': 19853}, {'_account_id': 21691}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22582}, {'_account_id': 22629}, {'_account_id': 23671}, {'_account_id': 23717}, {'_account_id': 24574}, {'_account_id': 27781}, {'_account_id': 28176}]","[{'number': 1, 'created': '2018-07-12 08:56:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f8380d55b777a56fc499686360fc3611362e9bf7', 'message': 'Apply Swift rolling upgrade\n\nApply Swift rolling upgrade based on recommendations from Swift PTL John\nDickinson at [1]\n\n[1] https://www.swiftstack.com/blog/2013/12/20/upgrade-openstack-swift-no-downtime/\n\nChange-Id: I99f505438916be2f89b24df20506339604e5bd6e\nImplements: blueprint apply-service-upgrade-procedure\n'}, {'number': 2, 'created': '2018-07-12 08:58:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/20e635d00a3ae195a0c7ea2671c78526f0c0d69d', 'message': 'Apply Swift rolling upgrade\n\nApply Swift rolling upgrade based on recommendations from Swift PTL John\nDickinson at [1]\n\n[1] https://www.swiftstack.com/blog/2013/12/20/upgrade-openstack-swift-no-downtime/\n\nDepends-On: Ic59a2d2dda3469af5d4259e020d22b619ff7d603\nChange-Id: I99f505438916be2f89b24df20506339604e5bd6e\nImplements: blueprint apply-service-upgrade-procedure\n'}, {'number': 3, 'created': '2018-07-30 01:49:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3cd1ca3f381d84b7e1cd3837fd93e60fde67b9af', 'message': 'Apply Swift rolling upgrade\n\nApply Swift rolling upgrade based on recommendations from Swift PTL John\nDickinson at [1]\n\n[1] https://www.swiftstack.com/blog/2013/12/20/upgrade-openstack-swift-no-downtime/\n\nDepends-On: Ic59a2d2dda3469af5d4259e020d22b619ff7d603\nChange-Id: I99f505438916be2f89b24df20506339604e5bd6e\nImplements: blueprint apply-service-upgrade-procedure\n'}, {'number': 4, 'created': '2018-07-30 02:03:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/87d3d8aff97029938072f20ca3eacb748d5cb28c', 'message': 'Apply Swift rolling upgrade\n\nApply Swift rolling upgrade based on recommendations from Swift PTL John\nDickinson at [1]\n\n[1] https://www.swiftstack.com/blog/2013/12/20/upgrade-openstack-swift-no-downtime/\n\nDepends-On: Ic59a2d2dda3469af5d4259e020d22b619ff7d603\nChange-Id: I99f505438916be2f89b24df20506339604e5bd6e\nImplements: blueprint apply-service-upgrade-procedure\n'}, {'number': 5, 'created': '2018-08-07 04:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4693b30752ad04e9a3010e55254438d7d00c1866', 'message': 'Apply Swift rolling upgrade\n\nApply Swift rolling upgrade based on recommendations from Swift PTL John\nDickinson at [1]\n\n[1] https://www.swiftstack.com/blog/2013/12/20/upgrade-openstack-swift-no-downtime/\n\nChange-Id: I99f505438916be2f89b24df20506339604e5bd6e\nImplements: blueprint apply-service-upgrade-procedure\n'}, {'number': 6, 'created': '2018-08-07 07:38:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c6810dee928ef88dd86557c012d23e2e41616391', 'message': 'Apply Swift rolling upgrade\n\nApply Swift rolling upgrade based on recommendations from Swift PTL John\nDickinson at [1]\n\n[1] https://www.swiftstack.com/blog/2013/12/20/upgrade-openstack-swift-no-downtime/\n\nChange-Id: I99f505438916be2f89b24df20506339604e5bd6e\nImplements: blueprint apply-service-upgrade-procedure\n'}, {'number': 7, 'created': '2018-08-07 08:45:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8bcac6f206a3a36be9a194e7090ddf7bf9bcde71', 'message': 'Apply Swift rolling upgrade\n\nApply Swift rolling upgrade based on recommendations from Swift PTL John\nDickinson at [1]\n\n[1] https://www.swiftstack.com/blog/2013/12/20/upgrade-openstack-swift-no-downtime/\n\nCo-Authored-By: Surya Prakash <singh.surya64mnnit@gmail.com>\nChange-Id: I99f505438916be2f89b24df20506339604e5bd6e\nImplements: blueprint apply-service-upgrade-procedure\n'}, {'number': 8, 'created': '2018-08-20 16:05:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/af13ce39b1f99cc71aabe9be71d9d25f6fd9afc5', 'message': 'Apply Swift rolling upgrade\n\nApply Swift rolling upgrade based on recommendations from Swift PTL John\nDickinson at [1]\n\n[1] https://www.swiftstack.com/blog/2013/12/20/upgrade-openstack-swift-no-downtime/\n\nCo-Authored-By: confi-surya <singh.surya64mnnit@gmail.com>\nChange-Id: I99f505438916be2f89b24df20506339604e5bd6e\nImplements: blueprint apply-service-upgrade-procedure\n'}, {'number': 9, 'created': '2018-09-25 06:28:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e62c9823ca7aff4502299f9395950c4aff6dc652', 'message': 'Apply Swift rolling upgrade\n\nApply Swift rolling upgrade based on recommendations from Swift PTL John\nDickinson at [1]\n\n[1] https://www.swiftstack.com/blog/2013/12/20/upgrade-openstack-swift-no-downtime/\n\nCo-Authored-By: Surya Prakash <singh.surya64mnnit@gmail.com>\nChange-Id: I99f505438916be2f89b24df20506339604e5bd6e\nImplements: blueprint apply-service-upgrade-procedure\n'}, {'number': 10, 'created': '2018-10-31 09:13:18.000000000', 'files': ['ansible/roles/swift/defaults/main.yml', 'ansible/roles/swift/tasks/upgrade.yml', 'ansible/roles/swift/tasks/legacy_upgrade.yml', 'ansible/roles/swift/tasks/rolling_upgrade.yml', 'ansible/roles/swift/tasks/start.yml', 'releasenotes/notes/implement-swift-rolling-upgrade-bb715b173263f844.yaml', 'ansible/roles/swift/tasks/deploy.yml', 'ansible/roles/swift/tasks/reconfigure.yml', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4e5ae36c5b675e9724a622c3c0553a1a30864296', 'message': 'Apply Swift rolling upgrade\n\nApply Swift rolling upgrade based on recommendations from Swift PTL John\nDickinson at [1]\n\n[1] https://www.swiftstack.com/blog/2013/12/20/upgrade-openstack-swift-no-downtime/\n\nCo-Authored-By: Surya Prakash <singh.surya64mnnit@gmail.com>\nChange-Id: I99f505438916be2f89b24df20506339604e5bd6e\nImplements: blueprint apply-service-upgrade-procedure\n'}]",0,582103,4e5ae36c5b675e9724a622c3c0553a1a30864296,56,14,10,28176,,,0,"Apply Swift rolling upgrade

Apply Swift rolling upgrade based on recommendations from Swift PTL John
Dickinson at [1]

[1] https://www.swiftstack.com/blog/2013/12/20/upgrade-openstack-swift-no-downtime/

Co-Authored-By: Surya Prakash <singh.surya64mnnit@gmail.com>
Change-Id: I99f505438916be2f89b24df20506339604e5bd6e
Implements: blueprint apply-service-upgrade-procedure
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/03/582103/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/swift/defaults/main.yml', 'ansible/roles/swift/tasks/upgrade.yml', 'ansible/roles/swift/tasks/legacy_upgrade.yml', 'ansible/roles/swift/tasks/rolling_upgrade.yml', 'ansible/roles/swift/tasks/start.yml', 'releasenotes/notes/implement-swift-rolling-upgrade-bb715b173263f844.yaml', 'ansible/roles/swift/tasks/deploy.yml', 'ansible/roles/swift/tasks/reconfigure.yml', 'etc/kolla/globals.yml']",9,f8380d55b777a56fc499686360fc3611362e9bf7,bp/apply-service-upgrade-procedure,"# Configure swift upgrade option, due to currently kolla support # two upgrade ways for swift: legacy_upgrade and rolling_upgrade # The variable ""swift_enable_rolling_upgrade: yes"" is meaning legacy_upgrade # were enabled and opposite # Rolling upgrade were enable by default #swift_enable_rolling_upgrade: ""yes"" ",,99,5
openstack%2Fhorizon~master~I6895516e57701d502c5b8109d10499cd25ac965d,openstack/horizon,master,I6895516e57701d502c5b8109d10499cd25ac965d,Imported Translations from Zanata,MERGED,2018-11-15 07:55:27.000000000,2018-11-30 11:19:56.000000000,2018-11-30 11:19:56.000000000,"[{'_account_id': 841}, {'_account_id': 12015}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-15 07:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e7a897d8a85d13509c2f898016e14514484f4b77', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I6895516e57701d502c5b8109d10499cd25ac965d\n'}, {'number': 2, 'created': '2018-11-19 08:01:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d334674d22a7b2f6a29f088816677ea3c6882cdf', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I6895516e57701d502c5b8109d10499cd25ac965d\n'}, {'number': 3, 'created': '2018-11-30 09:13:33.000000000', 'files': ['doc/source/locale/eo/LC_MESSAGES/doc-install.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-install.po', 'openstack_dashboard/locale/bn_IN/LC_MESSAGES/django.po', 'doc/source/locale/id/LC_MESSAGES/doc-user.po', 'openstack_dashboard/locale/pl_PL/LC_MESSAGES/django.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'openstack_dashboard/locale/kn/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ne/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ks/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ja/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ru/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ta/LC_MESSAGES/django.po', 'openstack_dashboard/locale/zh_CN/LC_MESSAGES/django.po', 'openstack_dashboard/locale/zh_TW/LC_MESSAGES/django.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-user.po', 'openstack_dashboard/locale/tr_TR/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ur/LC_MESSAGES/django.po', 'horizon/locale/ar/LC_MESSAGES/djangojs.po', 'openstack_dashboard/locale/mni/LC_MESSAGES/django.po', 'openstack_dashboard/locale/mr/LC_MESSAGES/django.po', 'openstack_dashboard/locale/en_AU/LC_MESSAGES/django.po', 'openstack_dashboard/locale/fr/LC_MESSAGES/django.po', 'openstack_dashboard/locale/en_GB/LC_MESSAGES/django.po', 'openstack_dashboard/locale/as/LC_MESSAGES/django.po', 'openstack_dashboard/locale/de/LC_MESSAGES/django.po', 'openstack_dashboard/locale/id/LC_MESSAGES/django.po', 'openstack_dashboard/locale/pa_IN/LC_MESSAGES/django.po', 'doc/source/locale/id/LC_MESSAGES/doc-install.po', 'openstack_dashboard/locale/cs/LC_MESSAGES/django.po', 'openstack_dashboard/locale/gu/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ko_KR/LC_MESSAGES/django.po', 'doc/source/locale/ko_KR/LC_MESSAGES/doc-install.po', 'openstack_dashboard/locale/brx/LC_MESSAGES/django.po', 'openstack_dashboard/locale/es/LC_MESSAGES/django.po', 'openstack_dashboard/locale/mai/LC_MESSAGES/django.po', 'openstack_dashboard/locale/it/LC_MESSAGES/django.po', 'openstack_dashboard/locale/kok/LC_MESSAGES/django.po', 'openstack_dashboard/locale/eo/LC_MESSAGES/django.po', 'openstack_dashboard/locale/pt_BR/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/04a0fdafcc58d02edfbb1e73a45a1a879c7d2fd1', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I6895516e57701d502c5b8109d10499cd25ac965d\n'}]",0,618098,04a0fdafcc58d02edfbb1e73a45a1a879c7d2fd1,14,3,3,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I6895516e57701d502c5b8109d10499cd25ac965d
",git fetch https://review.opendev.org/openstack/horizon refs/changes/98/618098/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,e7a897d8a85d13509c2f898016e14514484f4b77,zanata/translations,"""POT-Creation-Date: 2018-11-14 13:25+0000\n""""PO-Revision-Date: 2018-11-14 05:25+0000\n""msgid ""15.0.0.0b1-33"" msgstr ""15.0.0.0b1-33"" ","""POT-Creation-Date: 2018-11-13 03:31+0000\n""""PO-Revision-Date: 2018-11-09 11:07+0000\n""",5,2
openstack%2Fmistral-tempest-plugin~master~Ie26054678e0f3fa06b467ffd8622591e10321b47,openstack/mistral-tempest-plugin,master,Ie26054678e0f3fa06b467ffd8622591e10321b47,Add Python 3.6 classifier to setup.cfg,MERGED,2018-11-27 07:23:05.000000000,2018-11-30 11:04:39.000000000,2018-11-30 11:04:39.000000000,"[{'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 22348}, {'_account_id': 25553}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-11-27 07:23:05.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/mistral-tempest-plugin/commit/a5e71dd418143e970796876650db71734ab3c669', 'message': 'Add Python 3.6 classifier to setup.cfg\n\nChange-Id: Ie26054678e0f3fa06b467ffd8622591e10321b47\n'}]",0,620231,a5e71dd418143e970796876650db71734ab3c669,9,5,1,28543,,,0,"Add Python 3.6 classifier to setup.cfg

Change-Id: Ie26054678e0f3fa06b467ffd8622591e10321b47
",git fetch https://review.opendev.org/openstack/mistral-tempest-plugin refs/changes/31/620231/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,a5e71dd418143e970796876650db71734ab3c669,, Programming Language :: Python :: 3.6,,1,0
openstack%2Fkolla-ansible~master~I5fea005642b960080bf5e43455618dc24766c386,openstack/kolla-ansible,master,I5fea005642b960080bf5e43455618dc24766c386,Factor out OpenStack release detection playbook,MERGED,2018-11-12 10:33:28.000000000,2018-11-30 11:00:12.000000000,2018-11-30 11:00:11.000000000,"[{'_account_id': 1390}, {'_account_id': 9820}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 26285}, {'_account_id': 28614}]","[{'number': 1, 'created': '2018-11-12 10:33:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2295b6084b25207901a4c3b470dcfe72b798dae1', 'message': 'Factor out OpenStack release detection playbook\n\nWe copy-paste the same play into various playbooks to detect\nopenstack_release. This change factors that code into a separate\nplaybook that is imported.\n\nChange-Id: I5fea005642b960080bf5e43455618dc24766c386\n'}, {'number': 2, 'created': '2018-11-12 12:54:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/008814eb91ed0d173c6ef3c0eaa3846c40be6a81', 'message': 'Factor out OpenStack release detection playbook\n\nWe copy-paste the same play into various playbooks to detect\nopenstack_release. This change factors that code into a separate\nplaybook that is imported.\n\nChange-Id: I5fea005642b960080bf5e43455618dc24766c386\n'}, {'number': 3, 'created': '2018-11-29 15:49:55.000000000', 'files': ['ansible/bifrost.yml', 'ansible/detect-release.yml', 'ansible/mariadb_recovery.yml', 'ansible/site.yml', 'ansible/mariadb_backup.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fca91fe83ed1f7223a4fdbed9e7803a3555bcc86', 'message': 'Factor out OpenStack release detection playbook\n\nWe copy-paste the same play into various playbooks to detect\nopenstack_release. This change factors that code into a separate\nplaybook that is imported.\n\nChange-Id: I5fea005642b960080bf5e43455618dc24766c386\n'}]",1,617272,fca91fe83ed1f7223a4fdbed9e7803a3555bcc86,16,7,3,14826,,,0,"Factor out OpenStack release detection playbook

We copy-paste the same play into various playbooks to detect
openstack_release. This change factors that code into a separate
playbook that is imported.

Change-Id: I5fea005642b960080bf5e43455618dc24766c386
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/72/617272/3 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/bifrost.yml', 'ansible/detect-release.yml', 'ansible/mariadb_recovery.yml', 'ansible/site.yml', 'ansible/mariadb_backup.yml']",5,2295b6084b25207901a4c3b470dcfe72b798dae1,,- import_playbook: detect-release.yml,"- name: Detect openstack_release variable hosts: mariadb gather_facts: false tasks: - name: Get current kolla-ansible version number local_action: command python -c ""import pbr.version; print(pbr.version.VersionInfo('kolla-ansible'))"" register: kolla_ansible_version changed_when: false when: openstack_release == ""auto"" - name: Set openstack_release variable set_fact: openstack_release: ""{{ kolla_ansible_version.stdout }}"" when: openstack_release == ""auto"" tags: always",20,60
openstack%2Frally~master~Idc830a9d89dc0e2d362e694d7bb5d4f4840267bb,openstack/rally,master,Idc830a9d89dc0e2d362e694d7bb5d4f4840267bb,Change the behaviour of 'rally --version' cmd,MERGED,2018-11-30 09:07:45.000000000,2018-11-30 10:56:02.000000000,2018-11-30 10:56:02.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-30 09:07:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/f17ff6c5069818a01d348e78af30f031a4ce2b9a', 'message': ""Change the behaviour of 'rally --version' cmd\n\n* print versions of installed plugins\n\nChange-Id: Idc830a9d89dc0e2d362e694d7bb5d4f4840267bb\n""}, {'number': 2, 'created': '2018-11-30 09:10:57.000000000', 'files': ['rally/cli/cliutils.py', 'rally/common/version.py', 'tests/unit/cli/test_cliutils.py', 'CHANGELOG.rst'], 'web_link': 'https://opendev.org/openstack/rally/commit/4a1b628ba966cb17d72a85abcf25537af6a24590', 'message': ""Change the behaviour of 'rally --version' cmd\n\n* print versions of installed plugins\n\nChange-Id: Idc830a9d89dc0e2d362e694d7bb5d4f4840267bb\n""}]",0,621124,4a1b628ba966cb17d72a85abcf25537af6a24590,8,2,2,9545,,,0,"Change the behaviour of 'rally --version' cmd

* print versions of installed plugins

Change-Id: Idc830a9d89dc0e2d362e694d7bb5d4f4840267bb
",git fetch https://review.opendev.org/openstack/rally refs/changes/24/621124/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally/cli/cliutils.py', 'rally/common/version.py', 'tests/unit/cli/test_cliutils.py', 'CHANGELOG.rst']",4,f17ff6c5069818a01d348e78af30f031a4ce2b9a,pluginsVersion,* Add the --deployment option to commands ``rally task report`` and ``rally task export`` that allows to report/export all tasks from defined deployment. Changed ~~~~~~~ ``rally --version`` prints version of Rally framework with versions of installed plugins instead of printing just version of Rally framework.,Add the --deployment option to commands ``rally task report`` and ``rally task export`` that allows to report/export all tasks from defined deployment.,40,11
openstack%2Fhorizon~stable%2Frocky~I7a64257ac274c9dac5705ba72a85833f8e7a1591,openstack/horizon,stable/rocky,I7a64257ac274c9dac5705ba72a85833f8e7a1591,"Remove ""Change Password"" from users table for non-admin users",MERGED,2018-11-28 11:19:09.000000000,2018-11-30 10:54:48.000000000,2018-11-30 10:54:48.000000000,"[{'_account_id': 841}, {'_account_id': 1004}, {'_account_id': 1736}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-28 11:19:09.000000000', 'files': ['releasenotes/notes/remove-change-pw-from-users-table-ef8d45a4a95762e0.yaml', 'openstack_dashboard/dashboards/identity/users/tables.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/d1042fdaf94af9ed2e9ba950761523799f8c4a39', 'message': 'Remove ""Change Password"" from users table for non-admin users\n\nIf you\'re a user without administrative permissions, you will\nnot be able to edit a password using the table inside the identity\nsection due to the fact that it uses a different edit API which\nis not meant to be used for the user-side of things.\n\nThis patch adds a policy change in order to hide the change password\nlink for normal users, while keeping the functionality inside\nthe Settings panel still intact.\n\nThis change was first broken by I76eb9f95c7112bcbad75ee151f363f892298d081\n\nPartial-Bug: 1788384\nChange-Id: I7a64257ac274c9dac5705ba72a85833f8e7a1591\n(cherry picked from commit 0630be639bdcab9e5ecf6ca0814dae9eb79a88e7)\n'}]",0,620564,d1042fdaf94af9ed2e9ba950761523799f8c4a39,8,4,1,16137,,,0,"Remove ""Change Password"" from users table for non-admin users

If you're a user without administrative permissions, you will
not be able to edit a password using the table inside the identity
section due to the fact that it uses a different edit API which
is not meant to be used for the user-side of things.

This patch adds a policy change in order to hide the change password
link for normal users, while keeping the functionality inside
the Settings panel still intact.

This change was first broken by I76eb9f95c7112bcbad75ee151f363f892298d081

Partial-Bug: 1788384
Change-Id: I7a64257ac274c9dac5705ba72a85833f8e7a1591
(cherry picked from commit 0630be639bdcab9e5ecf6ca0814dae9eb79a88e7)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/64/620564/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-change-pw-from-users-table-ef8d45a4a95762e0.yaml', 'openstack_dashboard/dashboards/identity/users/tables.py']",2,d1042fdaf94af9ed2e9ba950761523799f8c4a39,596890-stable/rocky,"class ChangePasswordLink(policy.PolicyTargetMixin, tables.LinkAction): policy_rules = ((""identity"", ""identity:update_user""),) policy_target_attrs = ((""user_id"", ""id""), (""target.user.domain_id"", ""domain_id""))",class ChangePasswordLink(tables.LinkAction):,9,1
openstack%2Fhorizon~stable%2Frocky~Ia6b1c99c277c4cd5b19deae5212c7806b4b06a23,openstack/horizon,stable/rocky,Ia6b1c99c277c4cd5b19deae5212c7806b4b06a23,Fixed path after moving wsgi/django.wsgi to wsgi.py,MERGED,2018-11-28 23:38:31.000000000,2018-11-30 10:54:47.000000000,2018-11-30 10:54:47.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 1916}, {'_account_id': 6593}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 29058}, {'_account_id': 29313}]","[{'number': 1, 'created': '2018-11-28 23:38:31.000000000', 'files': ['openstack_dashboard/wsgi.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/bf78afb6561077c25951fe7e0b2df0943ce311e3', 'message': 'Fixed path after moving wsgi/django.wsgi to wsgi.py\n\nChange-Id: Ia6b1c99c277c4cd5b19deae5212c7806b4b06a23\nCloses-Bug: 1791043\n(cherry picked from commit 71be92dd42ca3c6e81ad36909e8fc4bf707b60c8)\n'}]",0,620750,bf78afb6561077c25951fe7e0b2df0943ce311e3,13,8,1,25630,,,0,"Fixed path after moving wsgi/django.wsgi to wsgi.py

Change-Id: Ia6b1c99c277c4cd5b19deae5212c7806b4b06a23
Closes-Bug: 1791043
(cherry picked from commit 71be92dd42ca3c6e81ad36909e8fc4bf707b60c8)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/50/620750/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/wsgi.py'],1,bf78afb6561077c25951fe7e0b2df0943ce311e3,bug/1791043-stable/rocky," os.path.dirname(os.path.realpath(__file__)), '..')))"," os.path.dirname(os.path.realpath(__file__)), '../..')))",1,1
openstack%2Fpython-mistralclient~master~Id139fc376cf0b56bc40b637c79ddb64acc35a28d,openstack/python-mistralclient,master,Id139fc376cf0b56bc40b637c79ddb64acc35a28d,Add Python 3.6 classifier to setup.cfg,MERGED,2018-11-30 07:02:51.000000000,2018-11-30 10:54:15.000000000,2018-11-30 10:54:14.000000000,"[{'_account_id': 9712}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-30 07:02:51.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/635f5a03a95899426930f2808dc8cecea952d02c', 'message': 'Add Python 3.6 classifier to setup.cfg\n\nChange-Id: Id139fc376cf0b56bc40b637c79ddb64acc35a28d\n'}]",0,621087,635f5a03a95899426930f2808dc8cecea952d02c,6,2,1,17499,,,0,"Add Python 3.6 classifier to setup.cfg

Change-Id: Id139fc376cf0b56bc40b637c79ddb64acc35a28d
",git fetch https://review.opendev.org/openstack/python-mistralclient refs/changes/87/621087/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,635f5a03a95899426930f2808dc8cecea952d02c,, Programming Language :: Python :: 3.6,,1,0
openstack%2Fpython-mistralclient~master~Ib7b0c2be73232a35ce8d79380122e26b6af03b0a,openstack/python-mistralclient,master,Ib7b0c2be73232a35ce8d79380122e26b6af03b0a,add python 3.6 unit test job,MERGED,2018-11-28 07:35:52.000000000,2018-11-30 10:54:15.000000000,2018-11-30 10:54:15.000000000,"[{'_account_id': 9712}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-11-28 07:35:52.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/a78a10fc2116db155ef14662dd1dd7bb34d8246d', 'message': 'add python 3.6 unit test job\n\nThis is a mechanically generated patch to add a unit test job running\nunder Python 3.6 as part of the python3-first goal.\n\nSee the python3-first goal document for details:\nhttps://governance.openstack.org/tc/goals/stein/python3-first.html\n\nChange-Id: Ib7b0c2be73232a35ce8d79380122e26b6af03b0a\nStory: #2002586\n'}]",0,620504,a78a10fc2116db155ef14662dd1dd7bb34d8246d,7,3,1,28543,,,0,"add python 3.6 unit test job

This is a mechanically generated patch to add a unit test job running
under Python 3.6 as part of the python3-first goal.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: Ib7b0c2be73232a35ce8d79380122e26b6af03b0a
Story: #2002586
",git fetch https://review.opendev.org/openstack/python-mistralclient refs/changes/04/620504/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a78a10fc2116db155ef14662dd1dd7bb34d8246d,,"envlist = py36,py35,py27,pep8","envlist = py35,py27,pep8",1,1
openstack%2Fmanila-specs~master~Id5250abfa2568b88c7db474d60a6504d3b3411d5,openstack/manila-specs,master,Id5250abfa2568b88c7db474d60a6504d3b3411d5,"Improvements to spec ""Extend the design of share networks to span subnets""",MERGED,2018-11-06 17:09:07.000000000,2018-11-30 10:52:43.000000000,2018-11-30 10:52:43.000000000,"[{'_account_id': 2417}, {'_account_id': 9003}, {'_account_id': 14567}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-06 17:09:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/50833ad35a0b575b027641b743b4ac08acbb03dd', 'message': 'Improvements to spec ""Extend the design of share networks to span subnets""\n\nThis commit adds some minor improvements to the already\napproved spec:\n\n* Update statement about User messages\n* Update assignes\n* Update error cases when creating a share network\n* Fix typo and improved wording\n\nChange-Id: Id5250abfa2568b88c7db474d60a6504d3b3411d5\nPartially-implements: bp share-network-multiple-subnets\n'}, {'number': 2, 'created': '2018-11-15 08:54:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/0adb5120e633ee94d824b4bb2f3c3d870fa3db28', 'message': 'Improvements to spec ""Extend the design of share networks to span subnets""\n\nThis commit adds some minor improvements to the already\napproved spec:\n\n* Update statement about User messages\n* Update assignees\n* Update error cases when creating a share network\n* Fix typo and improved wording\n\nChange-Id: Id5250abfa2568b88c7db474d60a6504d3b3411d5\nPartially-implements: bp share-network-multiple-subnets\n'}, {'number': 3, 'created': '2018-11-27 18:19:18.000000000', 'files': ['specs/stein/share-network-multiple-subnets.rst'], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/a9ff3b5dedbd3f6c0b90176a2b58ddcf0a50b0d4', 'message': 'Improvements to spec ""Extend the design of share networks to span subnets""\n\nThis commit adds some minor improvements to the already approved spec:\n\n* Update statement about User messages\n* Update assignees\n* Update error cases when creating a share network\n* Fix typo and improved wording\n\nChange-Id: Id5250abfa2568b88c7db474d60a6504d3b3411d5\nPartially-implements: bp share-network-multiple-subnets\n'}]",9,615947,a9ff3b5dedbd3f6c0b90176a2b58ddcf0a50b0d4,17,5,3,14567,,,0,"Improvements to spec ""Extend the design of share networks to span subnets""

This commit adds some minor improvements to the already approved spec:

* Update statement about User messages
* Update assignees
* Update error cases when creating a share network
* Fix typo and improved wording

Change-Id: Id5250abfa2568b88c7db474d60a6504d3b3411d5
Partially-implements: bp share-network-multiple-subnets
",git fetch https://review.opendev.org/openstack/manila-specs refs/changes/47/615947/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/stein/share-network-multiple-subnet.rst'],1,50833ad35a0b575b027641b743b4ac08acbb03dd,bp/share-network-multiple-subnets," At the same time, there is a possibility that deployers would choose tothey care about on their OpenStack cloud), otherwise the ``default`` subnet will be used if it exists, else the API will respond with a ``400 BadRequest``. remove this unused parameter. See associated launchpad bug [5].foreign key binding to ``share_network_id`` and switch to having a nullable foreign key reference to ``share_network_subnet_id`` instead.Although, whenever one of them is specified, both must to be specified, otherwise the API will respond with ``400 Bad Request``.We will asynchronously validate the network information during share creation, and if there is a mismatch with what is specified in the configured network plugin, we will send an error user message.* All existing share networks will have its subnet (if existing) designated as ``default`` after the database upgrade to this version of the database changes. | ganso specifying the ``share_network_id``. [5][5]: https://bugs.launchpad.net/manila/+bug/1588144"," At the same time, there is a possibility that deployers would chose tothey care about on their OpenStack cloud). remove this unused parameter. See associated launchpad bug [6].foreign key binding to ``share_network_id`` and switch to having a foreign key reference to ``share_network_subnet_id`` instead.None until [5] merges and is fully supported in manila. The work to add user messages will be proposed with a new blueprint and not part of this work. There is no end user notification today when the creation of a share fails because network information in the share network is not valid. The share is set to ``error`` state and the failure is logged in the share manager logs. If and when the asynchronous user messages feature [5] is available in manila, we can enhance the share network validation. * All existing share networks will be assigned the default availability zone during the database upgrade to this version of the database changes. | gouthamr Other contributors: | yogesh | bswartz``nova-network`` has officially been deprecated [7] in the Newton release. We have proposed [8] to stop supporting it in Newton. This spec hides the fact that ``nova-network`` is currently a supported way of creating a share network. Regardless of how we decide to remove ``nova-network``, this work can progress in parallel. specifying the ``share_network_id``. [6][5]: https://blueprints.launchpad.net/manila/+spec/user-messages [6]: https://bugs.launchpad.net/manila/+bug/1588144 [7]: https://review.openstack.org/#/c/310539/ [8]: http://lists.openstack.org/pipermail/openstack-dev/2016-June/096517.html",18,34
openstack%2Fmanila-specs~master~I795b417f3cc08d54346a0d3a76eb8b7b4355042a,openstack/manila-specs,master,I795b417f3cc08d54346a0d3a76eb8b7b4355042a,Move approved spec to Stein,MERGED,2016-10-31 11:56:34.000000000,2018-11-30 10:52:42.000000000,2018-11-30 10:52:42.000000000,"[{'_account_id': 2417}, {'_account_id': 6413}, {'_account_id': 6804}, {'_account_id': 9003}, {'_account_id': 14567}, {'_account_id': 16203}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 26973}]","[{'number': 1, 'created': '2016-10-31 11:56:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/3f493c03f1c003c097d0943f8cc7629eeca5aa7b', 'message': 'Extend the design of share networks to span subnets\n\nThis specification is for extending share networks\nfrom one subnet per share network to multiple subnets\nper share network. It proposes the use of availability zones\nthat each of these subnets can be assigned to.\n\nIt details the impact on all related components:\n - creating shares (and share replicas)\n - creation of share servers\n - assigning security services\n\nThis specification was accepted for implementation\nin the Newton release. However, since no work was\ncommitted during the Newton timeframe, it is being\nre-proposed to be included in the Ocata release.\n\nAPIImpact\n\nChange-Id: I795b417f3cc08d54346a0d3a76eb8b7b4355042a\n'}, {'number': 2, 'created': '2016-10-31 12:07:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/cb7cfe5090febc71e593d2c85ffcea4f5c354419', 'message': 'Extend the design of share networks to span subnets\n\nThis specification is for extending share networks\nfrom one subnet per share network to multiple subnets\nper share network. It proposes the use of availability zones\nthat each of these subnets can be assigned to.\n\nIt details the impact on all related components:\n - creating shares (and share replicas)\n - creation of share servers\n - assigning security services\n\nThis specification was accepted for implementation\nin the Newton release. However, since no work was\ncommitted during the Newton timeframe, it is being\nre-proposed to be included in the Ocata release.\n\nAPIImpact\n\nPartially-implements: bp share-network-multiple-subnets\nChange-Id: I795b417f3cc08d54346a0d3a76eb8b7b4355042a\n'}, {'number': 3, 'created': '2016-11-17 13:58:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/b3dd9482c931e98ab293c0e25f503c548db37be9', 'message': 'Extend the design of share networks to span subnets\n\nThis specification is for extending share networks\nfrom one subnet per share network to multiple subnets\nper share network. It proposes the use of availability zones\nthat each of these subnets can be assigned to.\n\nIt details the impact on all related components:\n - creating shares (and share replicas)\n - creation of share servers\n - assigning security services\n\nThis specification was accepted for implementation\nin the Newton release. However, since no work was\ncommitted during the Newton timeframe, it is being\nre-proposed to be included in the Ocata release.\n\nAPIImpact\n\nPartially-implements: bp share-network-multiple-subnets\nChange-Id: I795b417f3cc08d54346a0d3a76eb8b7b4355042a\n'}, {'number': 4, 'created': '2017-02-11 21:27:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/d57c5b12cfeb25b31b76457344f2dbea6061756b', 'message': 'Extend the design of share networks to span subnets\n\nThis specification is for extending share networks\nfrom one subnet per share network to multiple subnets\nper share network. It proposes the use of availability zones\nthat each of these subnets can be assigned to.\n\nIt details the impact on all related components:\n - creating shares (and share replicas)\n - creation of share servers\n - assigning security services\n\nThis specification was accepted for implementation\nin the Newton release. However, since no work was\ncommitted during the Newton timeframe, it is being\nre-proposed to be included in the Pike release.\n\nAPIImpact\n\nPartially-implements: bp share-network-multiple-subnets\nChange-Id: I795b417f3cc08d54346a0d3a76eb8b7b4355042a\n'}, {'number': 5, 'created': '2017-02-11 21:30:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/22e77e81611fc80d9b93b02d88899e2ab2e2df83', 'message': 'Extend the design of share networks to span subnets\n\nThis specification is for extending share networks\nfrom one subnet per share network to multiple subnets\nper share network. It proposes the use of availability zones\nthat each of these subnets can be assigned to.\n\nIt details the impact on all related components:\n - creating shares (and share replicas)\n - creation of share servers\n - assigning security services\n\nThis specification was accepted for implementation\nin the Newton release. However, since no work was\ncommitted during the Newton timeframe, it is being\nre-proposed to be included in the Pike release.\n\nAPIImpact\n\nPartially-implements: bp share-network-multiple-subnets\nChange-Id: I795b417f3cc08d54346a0d3a76eb8b7b4355042a\n'}, {'number': 6, 'created': '2018-09-26 18:29:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/43e89b185b43017e561d0d7016640ca743068232', 'message': 'Extend the design of share networks to span subnets\n\nThis specification is for extending share networks\nfrom one subnet per share network to multiple subnets\nper share network. It proposes the use of availability zones\nthat each of these subnets can be assigned to.\n\nIt details the impact on all related components:\n - creating shares (and share replicas)\n - creation of share servers\n - assigning security services\n\nThis specification was accepted for implementation\nin the Newton release. However, since no work was\ncommitted during the Newton timeframe, it is being\nre-proposed to be included in the Pike release.\n\nAPIImpact\n\nPartially-implements: bp share-network-multiple-subnets\nChange-Id: I795b417f3cc08d54346a0d3a76eb8b7b4355042a\n'}, {'number': 7, 'created': '2018-11-05 19:57:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/a3742c55479cb232224cfe7c61e823006205c64a', 'message': 'Extend the design of share networks to span subnets\n\nThis specification is for extending share networks\nfrom one subnet per share network to multiple subnets\nper share network. It proposes the use of availability zones\nthat each of these subnets can be assigned to.\n\nIt details the impact on all related components:\n - creating shares (and share replicas)\n - creation of share servers\n - assigning security services\n\nThis specification was accepted for implementation\nin the Newton release. However, since no work was\ncommitted during the Newton timeframe, it is being\nre-proposed to be included in the Pike release.\n\nAPIImpact\n\nPartially-implements: bp share-network-multiple-subnets\nChange-Id: I795b417f3cc08d54346a0d3a76eb8b7b4355042a\n'}, {'number': 8, 'created': '2018-11-06 16:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/a646349cb588365b27a7dee85f92f57673c5bc7b', 'message': 'Move approved spec to Stein\n\nMoving already approved spec ""Extend the design of share\nnetworks to span subnets"" to Stein release.\n\nPartially-implements: bp share-network-multiple-subnets\nChange-Id: I795b417f3cc08d54346a0d3a76eb8b7b4355042a\n'}, {'number': 9, 'created': '2018-11-08 11:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/a8f374f80a487baebe06b8aff1b3565fd111cc2b', 'message': 'Move approved spec to Stein\n\nMoving already approved spec ""Extend the design of share\nnetworks to span subnets"" to Stein release.\n\nPartially-implements: bp share-network-multiple-subnets\nChange-Id: I795b417f3cc08d54346a0d3a76eb8b7b4355042a\n'}, {'number': 10, 'created': '2018-11-08 15:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/316e02b530965c77af7e25fdc9d3e9e3378ce0a2', 'message': 'Move approved spec to Stein\n\nMoving already approved spec ""Extend the design of share\nnetworks to span subnets"" to Stein release.\n\nPartially-implements: bp share-network-multiple-subnets\nChange-Id: I795b417f3cc08d54346a0d3a76eb8b7b4355042a\n'}, {'number': 11, 'created': '2018-11-27 18:15:55.000000000', 'files': ['specs/stein/share-network-multiple-subnets.rst'], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/85c87793e8881204567c089578dff5ea0d95c5ec', 'message': 'Move approved spec to Stein\n\nMoving already approved spec ""Extend the design of share\nnetworks to span subnets"" to Stein release.\n\nPartially-implements: bp share-network-multiple-subnets\nChange-Id: I795b417f3cc08d54346a0d3a76eb8b7b4355042a\n'}]",4,391805,85c87793e8881204567c089578dff5ea0d95c5ec,53,9,11,16643,,,0,"Move approved spec to Stein

Moving already approved spec ""Extend the design of share
networks to span subnets"" to Stein release.

Partially-implements: bp share-network-multiple-subnets
Change-Id: I795b417f3cc08d54346a0d3a76eb8b7b4355042a
",git fetch https://review.opendev.org/openstack/manila-specs refs/changes/05/391805/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'specs/ocata/share-network-multiple-subnets.rst']",2,3f493c03f1c003c097d0943f8cc7629eeca5aa7b,bp/share-network-multiple-subnets,,,9,0
openstack%2Fmanila-specs~master~Ide66820e804d404cfc125c34ef9a069e2a9baa64,openstack/manila-specs,master,Ide66820e804d404cfc125c34ef9a069e2a9baa64,Share and back end capabilities improvements,MERGED,2018-11-08 00:34:43.000000000,2018-11-30 10:52:41.000000000,2018-11-30 10:52:41.000000000,"[{'_account_id': 2417}, {'_account_id': 9003}, {'_account_id': 14567}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-08 00:34:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/6fd2921d09e487a3b07e45a052644738ebec33bb', 'message': ""Share and back end capabilities improvements\n\n- Create new common capabilities for storage_protocol\n  and shrinking_support and modify drivers to report\n  these capabilities.\n- Allow the shrink API to fail fast\n  if the share is created on a back end that doesn't support\n  it.\n- Allow the pool-list to reliably report storage_protocol\n  for all back ends/storage pools.\n\nChange-Id: Ide66820e804d404cfc125c34ef9a069e2a9baa64\nPartially-implements: bp storage-proto-enhancement\nPartially-implements: bp make-share-shrinking-support-a-capability\n""}, {'number': 2, 'created': '2018-11-10 04:02:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/13d2935f1042907f24fbc889b5701aed5e3220ae', 'message': ""Share and back end capabilities improvements\n\n- Create new common capabilities for storage_protocol\n  and shrinking_support and modify drivers to report\n  these capabilities.\n- Allow the shrink API to fail fast\n  if the share is created on a back end that doesn't support\n  it.\n- Allow the pool-list to reliably report storage_protocol\n  for all back ends/storage pools.\n\nChange-Id: Ide66820e804d404cfc125c34ef9a069e2a9baa64\nPartially-implements: bp storage-proto-enhancement\nPartially-implements: bp make-share-shrinking-support-a-capability\n""}, {'number': 3, 'created': '2018-11-16 03:26:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/8ec9a16130cc9d98909a55cd144a18ce229e973f', 'message': ""Share and back end capabilities improvements\n\n- Create new common capabilities for storage_protocol\n  and shrinking_support and modify drivers to report\n  these capabilities.\n- Allow the shrink API to fail fast\n  if the share is created on a back end that doesn't support\n  it.\n- Allow the pool-list to reliably report storage_protocol\n  for all back ends/storage pools.\n\nChange-Id: Ide66820e804d404cfc125c34ef9a069e2a9baa64\nPartially-implements: bp storage-proto-enhancement\nPartially-implements: bp make-share-shrinking-support-a-capability\n""}, {'number': 4, 'created': '2018-11-16 03:34:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/83b6b71e697511e1df34a475aeebdc7a52856023', 'message': ""Share and back end capabilities improvements\n\n- Create new common capabilities for storage_protocol\n  and shrinking_support and modify drivers to report\n  these capabilities.\n- Allow the shrink API to fail fast\n  if the share is created on a back end that doesn't support\n  it.\n- Allow the pool-list to reliably report storage_protocol\n  for all back ends/storage pools.\n\nChange-Id: Ide66820e804d404cfc125c34ef9a069e2a9baa64\nPartially-implements: bp storage-proto-enhancement\nPartially-implements: bp make-share-shrinking-support-a-capability\n""}, {'number': 5, 'created': '2018-11-26 21:30:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/a88e78c62d9a4548805cbc24788ffc690fde40fd', 'message': ""Share and back end capabilities improvements\n\n- Create new common capabilities for storage_protocol\n  and shrinking_support and modify drivers to report\n  these capabilities.\n- Allow the shrink API to fail fast\n  if the share is created on a back end that doesn't support\n  it.\n- Allow the pool-list to reliably report storage_protocol\n  for all back ends/storage pools.\n\nChange-Id: Ide66820e804d404cfc125c34ef9a069e2a9baa64\nPartially-implements: bp storage-proto-enhancement\nPartially-implements: bp make-share-shrinking-support-a-capability\n""}, {'number': 6, 'created': '2018-11-27 22:15:09.000000000', 'files': ['specs/stein/share-and-backend-capabilities-improvements.rst'], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/ba2698d7c99b5e48c73e6cc197cf8b7ee4a0cf68', 'message': ""Share and back end capabilities improvements\n\n- Create new common capabilities for storage_protocol\n  and shrinking_support and modify drivers to report\n  these capabilities.\n- Allow the shrink API to fail fast\n  if the share is created on a back end that doesn't support\n  it.\n- Allow the pool-list to reliably report storage_protocol\n  for all back ends/storage pools.\n\nAPIImpact\nChange-Id: Ide66820e804d404cfc125c34ef9a069e2a9baa64\nPartially-implements: bp storage-proto-enhancement\nPartially-implements: bp make-share-shrinking-support-a-capability\n""}]",39,616383,ba2698d7c99b5e48c73e6cc197cf8b7ee4a0cf68,31,5,6,16643,,,0,"Share and back end capabilities improvements

- Create new common capabilities for storage_protocol
  and shrinking_support and modify drivers to report
  these capabilities.
- Allow the shrink API to fail fast
  if the share is created on a back end that doesn't support
  it.
- Allow the pool-list to reliably report storage_protocol
  for all back ends/storage pools.

APIImpact
Change-Id: Ide66820e804d404cfc125c34ef9a069e2a9baa64
Partially-implements: bp storage-proto-enhancement
Partially-implements: bp make-share-shrinking-support-a-capability
",git fetch https://review.opendev.org/openstack/manila-specs refs/changes/83/616383/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/stein/share-and-backend-capabilities-improvements.rst'],1,6fd2921d09e487a3b07e45a052644738ebec33bb,capability-improvements,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================================ Improve share and back end capabilities in Stein ================================================ https://blueprints.launchpad.net/manila/+spec/storage-proto-enhancement https://blueprints.launchpad.net/manila/+spec/make-share-shrinking-support-a-capability Manila's back-end storage drivers offer a wide range of capabilities. The variation in these capabilities allows cloud administrators to provide a storage service catalog to their end users. Sometimes back end capabilities are very specific to the storage system, and are opaque to manila or the end users - they opaquely provide programmatic directives to the concerned storage driver to do something during share creation or manipulation. Cloud Administrators know of the opaque capabilities through driver documentation and configure these capabilities within share types as ""scoped"" extra-specs (Ex: ``hpe3par:nfs_options``). The manila scheduler ignores scoped extra-specs during its quest to find the right back end to provision the requested share on. There are some back end capabilities in manila that matter to the scheduler. The official documentation for this is here [#]_ and the share back end feature support classification is provided here [#]_. However, to provide context in this specification, back-end capabilities can be of three types: - Capabilities pertaining to a given back end storage system driver: For example, ``huawei_smartcache``, these are considered by the scheduler's capabilities filter (and any custom filter defined by deployers). These capabilities are reported via the scheduler-stats API, however, no other manila API relies on them. - Common capabilities that are not tenant visible: The manila community decided to standardize some cross-platform capabilities like ``thin_provisioning``, ``dedupe``, ``compression``, ``qos``, ``ipv6_support`` and ``ipv4_support``. Values of these options do not matter to any manila APIs, however, they can signify something to the manila services themselves. For example when a back end supports ``thin_provisioning``, the scheduler service performs over-provisioning, and if a back end does not report ``ipv6_support`` as True, the share-manager service drops IPv6 access rules before invoking the storage driver to allow/deny access rules. Although these capabilities are not tenant visible, administrators may use them as extra-specs in share types and the scheduler will match these capabilities in the various filters, including the Capabilities filter included with manila. - Common capabilities that are tenant visible: Some capabilities affect functionality exposed via the manila API. For example, not all back ends support snapshots, and even if they do, they may not support a subset of operations that some others may be able to support. For example, ``snapshot_support``, ``create_share_from_snapshot_support``, ``revert_to_snapshot_support``, ``mount_snapshot_support`` and ``replication_type``, etc. The support for these extra-specs determines whether users would be able to perform certain control-plane operations with manila. For example, the CEPHFS back end may report ``snapshot_support`` as True allowing end users to invoke the snapshot API, however, CEPHFS snapshots cannot be used by the driver to create a new share, so it reports ``create_share_from_snapshot_support`` as False. This reporting allows cloud administrators to create a share type that supports snapshots but not creating shares from snapshots. When a user uses such a share type and their share is created on a CEPH cluster, they cannot invoke the snapshot API successfully because the share type requests that the feature be disabled for that specific share. Problem description =================== Synchronous and fast failures are always desirable by OpenStack users as opposed to asynchronous or delayed failures. #### DELETE ##### This design has worked out extremely well for end users because there is appropriate up-front discoverabilit termed ""common"" capabilities. These capabilities have predetermined value types, and are These capabilities are of two types: backend specific capabilities such as backend specif Some of these capabilities affect users' ability to use certain management plane features. Examples include the ability to create snaphots, create shares from snapshots #### DELETE ##### Use Cases ========= - Proposed change =============== - Work-flows affected ------------------- **Workflow1** Alternatives ============ Data model impact ================= REST API impact =============== Please note the current state of these APIs in our `API reference <http://developer.openstack.org/api-ref-share-v2.html>`_. **API1**:: POST v2/{tenant-id}/API Request:: Schema Response:: Code: XXX Code Description Schema Security impact =============== Notifications impact ==================== Other end user impact ===================== - Performance impact ================== Other deployer impact ===================== - Developer impact ================ Driver impact ============= Implementation ============== Assignee(s) ----------- Primary assignee: | gouthamr Work Items ---------- - Dependencies ============ Testing ======= Unit test coverage will be added/maintained as per community standards. Tempest tests will be modified/added to cover new API changes. Documentation Impact ==================== The following OpenStack documentation will be updated to reflect this change: * OpenStack User Guide: * OpenStack Admin Guide: * OpenStack API Reference: * Manila Developer Reference: * OpenStack Security Guide: References ========== .. [#] Capabilities and Extra-Specs in the Rocky release https://docs.openstack.org/manila/rocky/admin/capabilities_and_extra_specs.html .. [#] Manila share features support mapping in the Rocky release https://docs.openstack.org/manila/rocky/admin/share_back_ends_feature_support_mapping.html ",,234,0
openstack%2Fmanila-specs~master~If00da2665984db4d04e2ef80b8c9af7339364f7c,openstack/manila-specs,master,If00da2665984db4d04e2ef80b8c9af7339364f7c,Storage Availability Zone improvements,MERGED,2018-11-07 09:27:26.000000000,2018-11-30 10:47:43.000000000,2018-11-30 10:47:43.000000000,"[{'_account_id': 2417}, {'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 14567}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-07 09:27:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/89f67cf32e764d4888ca771d8d9e52804eb401e7', 'message': 'Storage Availability Zone improvements\n\nThis specification includes changes to the\n[DEFAULT]/storage_availability_zone config\noption, export locations and share types APIs\nand the manila-manage utility to improve the\nconsumability and relevance of availability\nzones.\n\nChange-Id: If00da2665984db4d04e2ef80b8c9af7339364f7c\nPartially-implements: bp per-backend-availability-zones\nPartially-implements: bp export-locations-az\nPartially-implements: bp share-type-supported-azs\nPartially-implements: bp manila-manage-az-replace\n'}, {'number': 2, 'created': '2018-11-07 21:28:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/3c7c367548590ce0bc3f940edd9db503b64a5564', 'message': 'Storage Availability Zone improvements\n\nThis specification includes changes to the\n[DEFAULT]/storage_availability_zone config\noption, export locations and share types APIs\nand the manila-manage utility to improve the\nconsumability and relevance of availability\nzones.\n\nChange-Id: If00da2665984db4d04e2ef80b8c9af7339364f7c\nPartially-implements: bp per-backend-availability-zones\nPartially-implements: bp export-locations-az\nPartially-implements: bp share-type-supported-azs\nPartially-implements: bp manila-manage-az-replace\n'}, {'number': 3, 'created': '2018-11-08 18:59:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/6fe74e9897c12e81964729cd84517a13cc8fc69d', 'message': 'Storage Availability Zone improvements\n\nThis specification includes changes to the\n[DEFAULT]/storage_availability_zone config\noption, export locations and share types APIs\nand the manila-manage utility to improve the\nconsumability and relevance of availability\nzones.\n\nChange-Id: If00da2665984db4d04e2ef80b8c9af7339364f7c\nPartially-implements: bp per-backend-availability-zones\nPartially-implements: bp export-locations-az\nPartially-implements: bp share-type-supported-azs\nPartially-implements: bp manila-manage-az-replace\n'}, {'number': 4, 'created': '2018-11-16 03:57:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/2272e6f7930264e3078ca2b56c58eb8ffc3d5e63', 'message': 'Storage Availability Zone improvements\n\nThis specification includes changes to the\n[DEFAULT]/storage_availability_zone config\noption, export locations and share types APIs\nand the manila-manage utility to improve the\nconsumability and relevance of availability\nzones.\n\nChange-Id: If00da2665984db4d04e2ef80b8c9af7339364f7c\nPartially-implements: bp per-backend-availability-zones\nPartially-implements: bp export-locations-az\nPartially-implements: bp share-type-supported-azs\n'}, {'number': 5, 'created': '2018-11-16 04:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/e5b940fdd6a3ba1f1534289df602840a0cf3cb5f', 'message': 'Storage Availability Zone improvements\n\nThis specification includes changes to the\n[DEFAULT]/storage_availability_zone config\noption, export locations and share types APIs\nand the manila-manage utility to improve the\nconsumability and relevance of availability\nzones.\n\nChange-Id: If00da2665984db4d04e2ef80b8c9af7339364f7c\nPartially-implements: bp per-backend-availability-zones\nPartially-implements: bp export-locations-az\nPartially-implements: bp share-type-supported-azs\n'}, {'number': 6, 'created': '2018-11-28 00:17:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/addcf912d5a49364ef67ee52c2ece03578730075', 'message': 'Storage Availability Zone improvements\n\nThis specification includes changes to the\n[DEFAULT]/storage_availability_zone config\noption, export locations and share types APIs\nand the manila-manage utility to improve the\nconsumability and relevance of availability\nzones.\n\nAPIImpact\nChange-Id: If00da2665984db4d04e2ef80b8c9af7339364f7c\nPartially-implements: bp per-backend-availability-zones\nPartially-implements: bp export-locations-az\nPartially-implements: bp share-type-supported-azs\n'}, {'number': 7, 'created': '2018-11-28 01:37:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/49607540dde1a7b6362f257b71f08dd739b30a3b', 'message': 'Storage Availability Zone improvements\n\nThis specification includes changes to the\n[DEFAULT]/storage_availability_zone config\noption, export locations and share types APIs\nand the manila-manage utility to improve the\nconsumability and relevance of availability\nzones.\n\nAPIImpact\nChange-Id: If00da2665984db4d04e2ef80b8c9af7339364f7c\nPartially-implements: bp per-backend-availability-zones\nPartially-implements: bp export-locations-az\nPartially-implements: bp share-type-supported-azs\n'}, {'number': 8, 'created': '2018-11-29 17:17:15.000000000', 'files': ['specs/stein/availability-zone-improvements.rst'], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/4149caf0fbce5d60d120ef9993a3765ffb092771', 'message': 'Storage Availability Zone improvements\n\nThis specification includes changes to the\n[DEFAULT]/storage_availability_zone config\noption, export locations and share types APIs\nand the manila-manage utility to improve the\nconsumability and relevance of availability\nzones.\n\nAPIImpact\nChange-Id: If00da2665984db4d04e2ef80b8c9af7339364f7c\nPartially-implements: bp per-backend-availability-zones\nPartially-implements: bp export-locations-az\nPartially-implements: bp share-type-supported-azs\n'}]",50,616123,4149caf0fbce5d60d120ef9993a3765ffb092771,45,6,8,16643,,,0,"Storage Availability Zone improvements

This specification includes changes to the
[DEFAULT]/storage_availability_zone config
option, export locations and share types APIs
and the manila-manage utility to improve the
consumability and relevance of availability
zones.

APIImpact
Change-Id: If00da2665984db4d04e2ef80b8c9af7339364f7c
Partially-implements: bp per-backend-availability-zones
Partially-implements: bp export-locations-az
Partially-implements: bp share-type-supported-azs
",git fetch https://review.opendev.org/openstack/manila-specs refs/changes/23/616123/6 && git format-patch -1 --stdout FETCH_HEAD,['specs/stein/availability-zone-improvements.rst'],1,89f67cf32e764d4888ca771d8d9e52804eb401e7,storage-availability-zone-improvements,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =============================================== Storage Availability Zone improvements in Stein =============================================== https://blueprints.launchpad.net/manila/+spec/per-backend-availability-zones https://blueprints.launchpad.net/manila/+spec/export-locations-az https://blueprints.launchpad.net/manila/+spec/share-type-supported-azs https://blueprints.launchpad.net/manila/+spec/manila-manage-az-replace Manila supports the concept of storage availability zones (AZ) (configuration option: storage_availability_zone). A storage AZ, a loose and flexible conceptual representation, is a string that the administrator can configure in manila to represent physical storage resources that share a common fate in terms of failure. Manila provides an API to discover what AZs have been configured and a user can request for their share to be scheduled to a specific availability zone. Shares can also be replicated between AZs. Availability zones are also used across other OpenStack services, such as nova and cinder as a way of logically partitioning resources within an OpenStack deployment. In Nova, this partitioning can be motivated by the fact that these resources are meant for a particular task, or because they are co-located. However, the most common criterion is because these resources are associated with a common point of failure, such as being connected to a common power source. In the Mitaka release of OpenStack, neutron added support to availability zones. With this, it is effectively possible for users to allocate network resources to availability zones for high availability. As new use cases of OpenStack evolve, the concept of storage availability zones becomes more important to build features around. OpenStack's use in Edge computing is built around the concept of stretch OpenStack clusters and split control planes spanning multiple ""zones"" in a single ""region"" [#]_. It is important for manila to clearly define its availability zones construct so it can be used in an extensible manner in all use cases. Problem description =================== This spec highlights three problems with the existing support for storage availability zone support that manila provides: The coupling between Service Availability and Storage Availability ------------------------------------------------------------------ Manila expects the ``storage_availability_zone`` config option to be specified in the ``[DEFAULT]`` section of the configuration file for the share manager service. At service startup, all backends configured within the same configuration file register with the AZ specified. There are two instances where this is not desirable: Service availability is not always the same thing as storage availability. The manila-share manager process can be run directly on dedicated ""storage"" nodes and this flavor is usually seen when using cloud-local storage such as LVM, ZFSOnLinux or cinder-backed block storage (Generic Driver). In such cases, it is expected that the service availability zone is the same as storage availability zone. However, in many deployments, manila's control plane is not in the same failure domain as the storage it manages. For example, consider an OpenStack cloud that has 3 ""controller"" nodes, and manila's control plane (api, scheduler, share-manager and data processes) runs on all three controller nodes. This cloud can have a third party storage system that is external to the cloud as a manila backend. In this model, the share-manager process and its storage backend are in distinct failure domains. Typically, to achieve high availability of the control plane, cloud administrators run multiple copies of the manila share-manager service (ex: on every OpenStack controller node) and orchestrate the high availability outside of manila with tools such as Pacemaker/Corosync or just by configuring each service to listen to the same service message queue channel/topic (configuration option ``host``). The second limitation is the inflexibility in case of multi-backend. Consider a case of a deployment with both cloud-local storage and third-party external storage both managed by the same share-manager service. The share-manager service forks a separate process to manage each back end, however, since the parent service consumes a single configuration file, administrators can only specify one ``storage_availability_zone`` for both back ends, even while that is not truly the case. Discovering the right exports to use ------------------------------------ There may sometimes be data path connectivity across AZs. However, more often than not, high bandwidth data networks (which shares are exported on) are local and distinct to AZs. Regardless, users must be able to discover which export path should be used within a given AZ when consuming a replicated share. Currently, users do not have a way to query manila for export locations that pertain to a specific AZ. No relationship between share types and availability zones ---------------------------------------------------------- Cloud administrators create share types and allocate back ends within storage availability zones, however, end users currently will not know if a particular share type is supported within a given availability zone. AZ renames are painful without database surgery ----------------------------------------------- Since storage availability zones are just arbitrary grouping concepts just denoted by strings, cloud administrators always have the liberty of renaming them when necessary; however, currently they would need to go back and change the availability zone of all resources in the manila database so the resources continue to work and meet user expectations. Use Cases ========= - Cloud Administrators must be able to configure ``storage_availability_zone`` for each back end - Users must be able to discover export locations for a given availability zone - Users must be able to discover share types available within a given availability zone and availability zones supported by a given share type - Cloud Administrators must be able to ""re-draw"" their storage availability zones and reliably modify manila resources to reflect this change Proposed change =============== **Allow configuring AZ per back end** We will move the configuration option ``storage_availability_zone`` from the ``[DEFAULT]`` section to the driver specific section. Configuring ``storage_availability_zone`` in the ``[DEFAULT]`` section will be deprecated, but not unsupported, keeping in mind upgrade impact to the deployers. **Export Locations changes** An inferred property will be created on the Export Locations schema to accommodate the availability zone of the corresponding share instance. The API schema of the export locations API will be modified to include the availability zone attribute. The export locations API will allow filtering via the availability zone attribute. **Share Type changes** A new optional user/tenant-visible extra-spec will be created, called ""availability_zones"". The default value of this extra-spec when not specified will be '*', and this value is shown to users and administrators. Cloud administrators can override this default with a comma separated list of availability zones that the share type is supported within. Share types can be filtered with ``availability_zones`` key, which will also accept a comma separated list of availability zones. **Renaming AZs** A new subcommand will be added to the ``manila-manage`` utility's ``share`` command that will allow renaming the availability zone across all manila share resources (i.e, availability zones, share instances, share groups as of this specification). Work-flows affected ------------------- **Retrieving Share Types** The share types API will be modified to support ``availability_zones`` as a user-visible ""optional"" extra-spec. When not set, it's value is set to ""*"" signifying that all availability zones are supported. This field can be filtered with one or more availability zones. Share types can also be filtered by ``availability_zones=*`` which will retrieve only those share types that support all availability zones. On the UI, if a share type is chosen, only a list of supported availability zones will be displayed and vice-versa. **Creating a share** The share API will validate the share type's support of an availability zone if the share is requested to be created within an availability zone. If the share type does not support the requested availability zone, the API will return HTTP 400. When using the CLI, users typically list share types and availability zones and pick a share type and availability zone to invoke the ``manila create`` command. With this change, the ``manila share-type-list`` command will display the ``availability_zones`` extra-spec so they can make a wise choice. There will be no validation in the ``manila create`` command with respect to the share-types and AZs to prevent a performance regression, the API will carry a clear error message that should suffice. **Retrieving export locations** Export locations can be filtered by ``availability_zone`` attribute. **Creating a share group** A share group can be created within a specified availability zone. The share group API will check whether the availability zone is supported within the share types used when specified. On the UI, when an availability zone is chosen to schedule a share group, the list of share types will be filtered based on support for that availability zone. Alternatives ============ Currently, when administrators want to configure multiple availability zones, they configure multiple manila share-manager services, each with its own configuration file. This requires deployer side tooling akin and duplicates the effort of the share-manager service itself spawning processes to manage its multiple back ends. Users have, today, hacky/non-documented ways of figuring out if export locations are optimized (or even work) in a specific AZ. One approach is to rely on the possibly that export locations contains the share ""instance"" ID as a substring. However, this approach doesn't work for non-replicated shares, since users (by virtue of default policy) cannot list share instances. They can only see IDs of replicas of a share, which are share instances under the hood. Another approach is to attempt to mount the share with each export location in the list, and sticking with the one that connects, or one that is the fastest (as determined by some user-driven test). Currently share types being unavailable in specific AZs causes an asynchronous failure which can be diagnosed through user messages. We could live with this user experience. Knowledgeable administrators can inspect the manila database schema and make the necessary changes to all resources' availability zone attributes manually if a capability is not provided through the ``manila-manage`` utility. Alternatively, instead of introducing a ``manila-manage`` utility subcommand, we could write a new API that can modify availability zones. However, a single API exposing a way to modify multiple unrelated resources seems like bad design. We could also introduce a way for manila to reconcile the availability zone name changes on service restart or updates, however, such a change will be complicated since it has to consider the possibility of the share-manager being run in active-active HA. The existing hash-comparison approach to ""ensure shares"" [#]_ suffers from the same drawback, where manila would need to remember the old AZ and the new AZ and reliably swap attributes on the resources. Data model impact ================= No database schema changes are proposed. The ``manila.db.sqlalchemy.models.ShareInstanceExportLocations`` model will include a property to back-reference the associated share instance's availability zone. REST API impact =============== Please note the current state of these APIs in our `API reference <https://developer.openstack.org/api-ref/shared-file-system/index.html>`_. **List Share types**:: GET /v2/{tenant_id}/types?availability_zones=az1 Response:: Code: 200 OK { ""volume_types"": [ .. ], ""share_types"": [ { ""required_extra_specs"": { ""driver_handles_share_servers"": ""True"" }, ""share_type_access:is_public"": true, ""extra_specs"": { ""driver_handles_share_servers"": ""True"", ""mount_snapshot_support"": ""False"", ""revert_to_snapshot_support"": ""False"", ""create_share_from_snapshot_support"": ""True"", ""snapshot_support"": ""True"", ""availability_zones"": ""az1,az4"" }, ""id"": ""7fa1342b-de9d-4d89-bdc8-af67795c0e52"", ""name"": ""testing"", ""is_default"": false, ""description"": ""share type description"" } ] } **Get share type**:: GET /v2/{tenant_id}/types/{share_type_id} Response:: Code: 200 OK { ""share_type"": { ""required_extra_specs"": { ""driver_handles_share_servers"": ""True"" }, ""share_type_access:is_public"": true, ""extra_specs"": { ""driver_handles_share_servers"": ""True"", ""availability_zones"": ""*"" }, ""id"": ""2780fc88-526b-464a-a72c-ecb83f0e3929"", ""name"": ""default-share-type"", ""is_default"": true, ""description"": ""default share type"" }, ""volume_type"": { .. } } A similar schema change will be done for the following APIs:: GET /v2/{tenant_id}/types/default GET /v2/{tenant_id}/types/{share_type_id}/extra_specs POST /v2/{tenant_id}/types **List share export locations**:: GET /v2/{tenant_id}/shares/{share_id}/export_locations?availability_zone=test Request:: Code: 200 OK { ""export_locations"": [ { ""path"": ""10.254.0.3:/shares/share-e1c2d35e-fe67-4028-ad7a-45f668732b1d"", ""share_instance_id"": ""e1c2d35e-fe67-4028-ad7a-45f668732b1d"", ""is_admin_only"": false, ""id"": ""b6bd76ce-12a2-42a9-a30a-8a43b503867d"", ""preferred"": false, ""availability_zone"": ""test"" } ] } Share instance export locations:: GET /v2/{tenant_id}/share_instances/{share_instance_id}/export_locations?availability_zone=test Code: 200 OK { ""export_locations"": [ { ""path"": ""10.254.0.3:/shares/share-e1c2d35e-fe67-4028-ad7a-45f668732b1d"", ""share_instance_id"": ""e1c2d35e-fe67-4028-ad7a-45f668732b1d"", ""is_admin_only"": false, ""id"": ""b6bd76ce-12a2-42a9-a30a-8a43b503867d"", ""preferred"": false, ""availability_zone"": ""test"" } ] } Similar schema changes will be done for the following APIs:: GET /v2/{tenant_id}/shares/{share_id}/export_locations/{export_location_id} GET /v2/{tenant_id}/share_instances/{share_instance_id}/export_locations/{export_location_id} Security impact =============== None Notifications impact ==================== None Other end user impact ===================== If administrators do not configure the ``availability_zones`` extra-spec, no API change will be observed by the end user. Performance impact ================== Creation of a back ref from ``manila.db.sqlalchemy.models .ShareInstanceExportLocations`` will require a joined-load of the ``manila .db.sqlalchemy.models.ShareInstance`` model, which will slightly degrade performance of the export locations API. Other deployer impact ===================== * ``storage_availability_zone`` will be deprecated from the ``[DEFAULT]`` group. * When AZs are renamed, deployers will be able to use the ``manila-manage`` utility to reconcile the name change. Developer impact ================ API microversion will be bumped to expose new functionality. Backwards compatibility will be strictly maintained. Driver impact ============= There is no third-party driver change anticipated. The availability zone configuration changes will be done in a generic fashion within the base share driver. All other proposed changes do not affect share drivers directly. Implementation ============== Assignee(s) ----------- Primary assignee: | gouthamr Other contributors: Work Items ---------- * Move config-opt ``storage_availability_zone`` to driver/back end sections * Modify the export locations ORM and API * Add support for configuring ``availability_zones`` in share types * Add support for ``manila-manage share az-rename`` command * Filter share types in the UI by availability zones and vice-versa during share and share group creation phases. Dependencies ============ None Testing ======= Unit test coverage will be added/maintained as per community standards. Tempest tests will be modified/added to cover new API changes. The dummy driver and LVM driver jobs will be modified to support multiple availability zones on a single share-manager service. Documentation Impact ==================== The following OpenStack documentation will be updated to reflect this change: * User Guide: document the changes in export location APIs, CLI and GUI and the changes to share types * Admin Guide: document the manila-manage utility and theory of supporting multiple availability zones per service. * API Reference: All API changes will be documented * Manila Developer Reference: the low level implementation considerations and design of this feature will be documented. References ========== .. [#]_ Edge computing architectures https://wiki.openstack.org/wiki/Edge_Computing_Group/Edge_Reference_Architectures .. [#]_ Ensure shares specification: http://specs.openstack.org/openstack/manila-specs/specs/queens/ensure-share.html ",,473,0
openstack%2Fmanila-specs~master~I78ed641f97bac8380fa15fb8529e983db0ac0b52,openstack/manila-specs,master,I78ed641f97bac8380fa15fb8529e983db0ac0b52,Add spec for Manage-Unmanage of Share Servers,MERGED,2018-10-02 18:49:17.000000000,2018-11-30 10:47:43.000000000,2018-11-30 10:47:43.000000000,"[{'_account_id': 2417}, {'_account_id': 9003}, {'_account_id': 14567}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-02 18:49:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/f553182dcfa44061a5443f1674a68ad90247ef63', 'message': 'Add spec for Manage-Unmanage of Share Servers\n\nImporting existing shares in manila has been limited to a\nconfiguration mode that does not guarantee secure multi-tenancy\nisolation, while some existing drivers would be able to accomplish\nthis for the configuration mode that guarantees secure multi-tenancy\nisolation if the functionality was allowed.\n\nThis spec proposes enhancements to the Manage functionality in\nmanila necessary to allow drivers to import existing shares in\nsecure multi-tenancy isolation mode, such as APIs that allow\nmanaging share servers.\n\nAPIImpact\nImplements: bp manage-unmanage-with-share-servers\n\nChange-Id: I78ed641f97bac8380fa15fb8529e983db0ac0b52\n'}, {'number': 2, 'created': '2018-10-03 12:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/3b312b972f61323612b2bd8f1a012c40e9a610be', 'message': 'Add spec for Manage-Unmanage of Share Servers\n\nImporting existing shares in manila has been limited to a\nconfiguration mode that does not guarantee secure multi-tenancy\nisolation, while some existing drivers would be able to accomplish\nthis for the configuration mode that guarantees secure multi-tenancy\nisolation if the functionality was allowed.\n\nThis spec proposes enhancements to the Manage functionality in\nmanila necessary to allow drivers to import existing shares in\nsecure multi-tenancy isolation mode, such as APIs that allow\nmanaging share servers.\n\nAPIImpact\nImplements: bp manage-unmanage-with-share-servers\n\nChange-Id: I78ed641f97bac8380fa15fb8529e983db0ac0b52\n'}, {'number': 3, 'created': '2018-10-09 13:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/937956cb3f5f544b49ebe6d7f8bd5f4b4d374f95', 'message': 'Add spec for Manage-Unmanage of Share Servers\n\nImporting existing shares in manila has been limited to a\nconfiguration mode that does not guarantee secure multi-tenancy\nisolation, while some existing drivers would be able to accomplish\nthis for the configuration mode that guarantees secure multi-tenancy\nisolation if the functionality was allowed.\n\nThis spec proposes enhancements to the Manage functionality in\nmanila necessary to allow drivers to import existing shares in\nsecure multi-tenancy isolation mode, such as APIs that allow\nmanaging share servers.\n\nAPIImpact\nPartially-implements: bp manage-unmanage-with-share-servers\n\nChange-Id: I78ed641f97bac8380fa15fb8529e983db0ac0b52\n'}, {'number': 4, 'created': '2018-10-10 20:37:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/23faedcda14c6f94c893c17a61d7a47755eb4f77', 'message': 'Add spec for Manage-Unmanage of Share Servers\n\nImporting existing shares in manila has been limited to a\nconfiguration mode that does not guarantee secure multi-tenancy\nisolation, while some existing drivers would be able to accomplish\nthis for the configuration mode that guarantees secure multi-tenancy\nisolation if the functionality was allowed.\n\nThis spec proposes enhancements to the Manage functionality in\nmanila necessary to allow drivers to import existing shares in\nsecure multi-tenancy isolation mode, such as APIs that allow\nmanaging share servers.\n\nAPIImpact\nPartially-implements: bp manage-unmanage-with-share-servers\n\nChange-Id: I78ed641f97bac8380fa15fb8529e983db0ac0b52\n'}, {'number': 5, 'created': '2018-10-16 14:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/60103458d27bca17190cecee38df9cdad42aaa43', 'message': 'Add spec for Manage-Unmanage of Share Servers\n\nImporting existing shares in manila has been limited to a\nconfiguration mode that does not guarantee secure multi-tenancy\nisolation, while some existing drivers would be able to accomplish\nthis for the configuration mode that guarantees secure multi-tenancy\nisolation if the functionality was allowed.\n\nThis spec proposes enhancements to the Manage functionality in\nmanila necessary to allow drivers to import existing shares in\nsecure multi-tenancy isolation mode, such as APIs that allow\nmanaging share servers.\n\nAPIImpact\nPartially-implements: bp manage-unmanage-with-share-servers\n\nChange-Id: I78ed641f97bac8380fa15fb8529e983db0ac0b52\n'}, {'number': 6, 'created': '2018-10-17 20:39:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/0df7ed1114dfb43f46a8ec2d07fd755c34aad3ad', 'message': 'Add spec for Manage-Unmanage of Share Servers\n\nImporting existing shares in manila has been limited to a\nconfiguration mode that does not guarantee secure multi-tenancy\nisolation, while some existing drivers would be able to accomplish\nthis for the configuration mode that guarantees secure multi-tenancy\nisolation if the functionality was allowed.\n\nThis spec proposes enhancements to the Manage functionality in\nmanila necessary to allow drivers to import existing shares in\nsecure multi-tenancy isolation mode, such as APIs that allow\nmanaging share servers.\n\nAPIImpact\nPartially-implements: bp manage-unmanage-with-share-servers\n\nChange-Id: I78ed641f97bac8380fa15fb8529e983db0ac0b52\n'}, {'number': 7, 'created': '2018-10-29 17:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/bb40cedcf1e8485f9a5ad5d160630743d220b5ad', 'message': 'Add spec for Manage-Unmanage of Share Servers\n\nImporting existing shares in manila has been limited to a\nconfiguration mode that does not guarantee secure multi-tenancy\nisolation, while some existing drivers would be able to accomplish\nthis for the configuration mode that guarantees secure multi-tenancy\nisolation if the functionality was allowed.\n\nThis spec proposes enhancements to the Manage functionality in\nmanila necessary to allow drivers to import existing shares in\nsecure multi-tenancy isolation mode, such as APIs that allow\nmanaging share servers.\n\nAPIImpact\nPartially-implements: bp manage-unmanage-with-share-servers\n\nChange-Id: I78ed641f97bac8380fa15fb8529e983db0ac0b52\n'}, {'number': 8, 'created': '2018-10-30 12:09:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/088292cb852059dd8529fcd19e80c2774ad478ba', 'message': 'Add spec for Manage-Unmanage of Share Servers\n\nImporting existing shares in manila has been limited to a\nconfiguration mode that does not guarantee secure multi-tenancy\nisolation, while some existing drivers would be able to accomplish\nthis for the configuration mode that guarantees secure multi-tenancy\nisolation if the functionality was allowed.\n\nThis spec proposes enhancements to the Manage functionality in\nmanila necessary to allow drivers to import existing shares in\nsecure multi-tenancy isolation mode, such as APIs that allow\nmanaging share servers.\n\nAPIImpact\nPartially-implements: bp manage-unmanage-with-share-servers\n\nChange-Id: I78ed641f97bac8380fa15fb8529e983db0ac0b52\n'}, {'number': 9, 'created': '2018-11-01 13:26:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/c6a7b1d3617673b1aaa3abfcfe223678e76c0205', 'message': 'Add spec for Manage-Unmanage of Share Servers\n\nImporting existing shares in manila has been limited to a\nconfiguration mode that does not guarantee secure multi-tenancy\nisolation, while some existing drivers would be able to accomplish\nthis for the configuration mode that guarantees secure multi-tenancy\nisolation if the functionality was allowed.\n\nThis spec proposes enhancements to the Manage functionality in\nmanila necessary to allow drivers to import existing shares in\nsecure multi-tenancy isolation mode, such as APIs that allow\nmanaging share servers.\n\nAPIImpact\nPartially-implements: bp manage-unmanage-with-share-servers\n\nChange-Id: I78ed641f97bac8380fa15fb8529e983db0ac0b52\n'}, {'number': 10, 'created': '2018-11-02 17:04:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/deadb6f3bac097c1b9e6cdc0c9567857f538dee4', 'message': 'Add spec for Manage-Unmanage of Share Servers\n\nImporting existing shares in manila has been limited to a\nconfiguration mode that does not guarantee secure multi-tenancy\nisolation, while some existing drivers would be able to accomplish\nthis for the configuration mode that guarantees secure multi-tenancy\nisolation if the functionality was allowed.\n\nThis spec proposes enhancements to the Manage functionality in\nmanila necessary to allow drivers to import existing shares in\nsecure multi-tenancy isolation mode, such as APIs that allow\nmanaging share servers.\n\nAPIImpact\nPartially-implements: bp manage-unmanage-with-share-servers\n\nChange-Id: I78ed641f97bac8380fa15fb8529e983db0ac0b52\n'}, {'number': 11, 'created': '2018-11-02 17:17:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/786fbb78fd5317dc1d72a8ef0c593c403895d579', 'message': 'Add spec for Manage-Unmanage of Share Servers\n\nImporting existing shares in manila has been limited to a\nconfiguration mode that does not guarantee secure multi-tenancy\nisolation, while some existing drivers would be able to accomplish\nthis for the configuration mode that guarantees secure multi-tenancy\nisolation if the functionality was allowed.\n\nThis spec proposes enhancements to the Manage functionality in\nmanila necessary to allow drivers to import existing shares in\nsecure multi-tenancy isolation mode, such as APIs that allow\nmanaging share servers.\n\nAPIImpact\nPartially-implements: bp manage-unmanage-with-share-servers\n\nChange-Id: I78ed641f97bac8380fa15fb8529e983db0ac0b52\n'}, {'number': 12, 'created': '2018-11-06 16:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/5c7b7d97c729b7b73ff6c55bb13a765ca700bb85', 'message': ""Add spec for Manage-Unmanage of Share Servers\n\nThis spec proposes enhancement to manila's Manage/Unmanage\nfunctionality so that drivers running in ``DHSS=True`` mode\ncan import existing shares and snapshots and bring them under\nOpenStack management and so that they can release shares and\ntheir snapshots from OpenStack management without destroying them.\n\nAPIImpact\nPartially-implements: bp manage-unmanage-with-share-servers\n\nChange-Id: I78ed641f97bac8380fa15fb8529e983db0ac0b52\n""}, {'number': 13, 'created': '2018-11-07 15:55:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/1ca5fb092894a82e11623599eeb172bf0a3827cb', 'message': ""Add spec for Manage-Unmanage of Share Servers\n\nThis spec proposes enhancement to manila's Manage/Unmanage\nfunctionality so that drivers running in ``DHSS=True`` mode\ncan import existing shares and snapshots and bring them under\nOpenStack management and so that they can release shares and\ntheir snapshots from OpenStack management without destroying them.\n\nAPIImpact\nPartially-implements: bp manage-unmanage-with-share-servers\n\nChange-Id: I78ed641f97bac8380fa15fb8529e983db0ac0b52\n""}, {'number': 14, 'created': '2018-11-08 10:48:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/58d58d1253d10274dc81e4100d82e8d176a1e5be', 'message': ""Add spec for Manage-Unmanage of Share Servers\n\nThis spec proposes enhancement to manila's Manage/Unmanage\nfunctionality so that drivers running in ``DHSS=True`` mode\ncan import existing shares and snapshots and bring them under\nOpenStack management and so that they can release shares and\ntheir snapshots from OpenStack management without destroying them.\n\nAPIImpact\nPartially-implements: bp manage-unmanage-with-share-servers\n\nChange-Id: I78ed641f97bac8380fa15fb8529e983db0ac0b52\n""}, {'number': 15, 'created': '2018-11-08 10:49:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/7c4297881b720bdb6360e3b0070e5498341af6a1', 'message': ""Add spec for Manage-Unmanage of Share Servers\n\nThis spec proposes enhancement to manila's Manage/Unmanage\nfunctionality so that drivers running in ``DHSS=True`` mode\ncan import existing shares and snapshots and bring them under\nOpenStack management and so that they can release shares and\ntheir snapshots from OpenStack management without destroying them.\n\nAPIImpact\nPartially-implements: bp manage-unmanage-with-share-servers\n\nChange-Id: I78ed641f97bac8380fa15fb8529e983db0ac0b52\n""}, {'number': 16, 'created': '2018-11-19 19:11:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/54a7caa9998583c7a7ee51f0564f5bfc5aaa4191', 'message': ""Add spec for Manage-Unmanage of Share Servers\n\nThis spec proposes enhancement to manila's Manage/Unmanage\nfunctionality so that drivers running in ``DHSS=True`` mode can:\n\n* import existing shares and snapshots, bringing them under\n  manila's management;\n* release shares and their snapshots from manila's management\n  without destroying them.\n\nAPIImpact\nPartially-implements: bp manage-unmanage-with-share-servers\nChange-Id: I78ed641f97bac8380fa15fb8529e983db0ac0b52\n""}, {'number': 17, 'created': '2018-11-19 19:13:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/e220403f8dcbba61050dd7edbbefd01dc702e43a', 'message': ""Add spec for Manage-Unmanage of Share Servers\n\nThis spec proposes enhancement to manila's Manage/Unmanage\nfunctionality so that drivers running in ``DHSS=True`` mode can:\n\n* import existing shares and snapshots, bringing them under\n  manila's management;\n* release shares and their snapshots from manila's management\n  without destroying them.\n\nAPIImpact\nPartially-implements: bp manage-unmanage-with-share-servers\nChange-Id: I78ed641f97bac8380fa15fb8529e983db0ac0b52\n""}, {'number': 18, 'created': '2018-11-20 10:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/9f1987d8c2b4297a7d9a5ddd95307c687c05c5a0', 'message': ""Add spec for Manage-Unmanage of Share Servers\n\nThis spec proposes enhancement to manila's Manage/Unmanage\nfunctionality so that drivers running in ``DHSS=True`` mode can:\n\n* import existing shares and snapshots, bringing them under\n  manila's management;\n* release shares and their snapshots from manila's management\n  without destroying them.\n\nAPIImpact\nPartially-implements: bp manage-unmanage-with-share-servers\nChange-Id: I78ed641f97bac8380fa15fb8529e983db0ac0b52\n""}, {'number': 19, 'created': '2018-11-21 13:36:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/6bce2c157c27572988783518ea34325f172811c1', 'message': ""Add spec for Manage-Unmanage of Share Servers\n\nThis spec proposes enhancement to manila's Manage/Unmanage\nfunctionality so that drivers running in ``DHSS=True`` mode can:\n\n* import existing shares and snapshots, bringing them under\n  manila's management;\n* release shares and their snapshots from manila's management\n  without destroying them.\n\nAPIImpact\nPartially-implements: bp manage-unmanage-with-share-servers\nChange-Id: I78ed641f97bac8380fa15fb8529e983db0ac0b52\n""}, {'number': 20, 'created': '2018-11-22 12:32:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/8c1ac804af10fe0a50b3d73e1a5da206b9811b09', 'message': ""Add spec for Manage-Unmanage of Share Servers\n\nThis spec proposes enhancement to manila's Manage/Unmanage\nfunctionality so that drivers running in ``DHSS=True`` mode can:\n\n* import existing shares and snapshots, bringing them under\n  manila's management;\n* release shares and their snapshots from manila's management\n  without destroying them.\n\nAPIImpact\nPartially-implements: bp manage-unmanage-with-share-servers\nChange-Id: I78ed641f97bac8380fa15fb8529e983db0ac0b52\n""}, {'number': 21, 'created': '2018-11-25 12:36:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/f538f664e7e81db7c8640d346a1627753c61792b', 'message': ""Add spec for Manage-Unmanage of Share Servers\n\nThis spec proposes enhancement to manila's Manage/Unmanage\nfunctionality so that drivers running in ``DHSS=True`` mode can:\n\n* import existing shares and snapshots, bringing them under\n  manila's management;\n* release shares and their snapshots from manila's management\n  without destroying them.\n\nAPIImpact\nPartially-implements: bp manage-unmanage-with-share-servers\nChange-Id: I78ed641f97bac8380fa15fb8529e983db0ac0b52\n""}, {'number': 22, 'created': '2018-11-28 11:08:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/90aaea27ffe12e5448ff34b92f04d68623a20431', 'message': ""Add spec for Manage-Unmanage of Share Servers\n\nThis spec proposes enhancement to manila's Manage/Unmanage\nfunctionality so that drivers running in ``DHSS=True`` mode can:\n\n* import existing shares and snapshots, bringing them under\n  manila's management;\n* release shares and their snapshots from manila's management\n  without destroying them.\n\nAPIImpact\nPartially-implements: bp manage-unmanage-with-share-servers\nChange-Id: I78ed641f97bac8380fa15fb8529e983db0ac0b52\n""}, {'number': 23, 'created': '2018-11-28 16:50:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/261a2c03bccf612da67a55bda05e1756979e976a', 'message': ""Add spec for Manage-Unmanage of Share Servers\n\nThis spec proposes enhancement to manila's Manage/Unmanage\nfunctionality so that drivers running in ``DHSS=True`` mode can:\n\n* import existing shares and snapshots, bringing them under\n  manila's management;\n* release shares and their snapshots from manila's management\n  without destroying them.\n\nAPIImpact\nPartially-implements: bp manage-unmanage-with-share-servers\nChange-Id: I78ed641f97bac8380fa15fb8529e983db0ac0b52\n""}, {'number': 24, 'created': '2018-11-29 17:14:53.000000000', 'files': ['specs/stein/manage-unmanage-with-share-servers.rst'], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/bfb59d0199c7392e1016e485f64f781cf1a03e6b', 'message': ""Add spec for Manage-Unmanage of Share Servers\n\nThis spec proposes enhancement to manila's Manage/Unmanage\nfunctionality so that drivers running in ``DHSS=True`` mode can:\n\n* import existing shares and snapshots, bringing them under\n  manila's management;\n* release shares and their snapshots from manila's management\n  without destroying them.\n\nAPIImpact\nPartially-implements: bp manage-unmanage-with-share-servers\nChange-Id: I78ed641f97bac8380fa15fb8529e983db0ac0b52\n""}]",187,607342,bfb59d0199c7392e1016e485f64f781cf1a03e6b,75,5,24,14567,,,0,"Add spec for Manage-Unmanage of Share Servers

This spec proposes enhancement to manila's Manage/Unmanage
functionality so that drivers running in ``DHSS=True`` mode can:

* import existing shares and snapshots, bringing them under
  manila's management;
* release shares and their snapshots from manila's management
  without destroying them.

APIImpact
Partially-implements: bp manage-unmanage-with-share-servers
Change-Id: I78ed641f97bac8380fa15fb8529e983db0ac0b52
",git fetch https://review.opendev.org/openstack/manila-specs refs/changes/42/607342/9 && git format-patch -1 --stdout FETCH_HEAD,['specs/stein/manage-unmanage-with-share-servers.rst'],1,f553182dcfa44061a5443f1674a68ad90247ef63,bp/manage-unmanage-with-share-servers,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ==================================== Manage / Unmanage with Share Servers ==================================== https://blueprints.launchpad.net/manila/+spec/manage-unmanage-with-share-servers Importing existing shares in manila has been limited to a configuration mode that does not guarantee secure multi-tenancy isolation, while some existing drivers would be able to accomplish this for the configuration mode that guarantees secure multi-tenancy isolation if the functionality was allowed. This spec proposes enhancements to the Manage functionality in manila necessary to allow drivers to import existing shares in secure multi-tenancy isolation mode, such as APIs that allow managing share servers. Problem description =================== Manila has a secure multi-tenancy isolation mode (``DHSS = True`` mode) of operation which currently needs to be set up and used from scratch so shares are created and managed by manila. If a cloud user has existing shares outside of manila and would like to import them, that user has no choice other than using the Manage functionality manila in a mode that does not guarantee secure multi-tenancy isolation. The reasons behind the Manage functionality being available only to the mode that uses a pre-configured share server (``DHSS = False`` mode) relate mostly to the added technical complexity associated with the changes required to make it work in ``DHSS = True`` mode. Some key aspects that revolve that complexity are: * **Share server setup and networking:** In ``DHSS = False`` mode, manila only interacts with a single, pre-existing share server, that is expected to be appropriately set up and accessible from the client hosts, as manila will not handle the network configuration. However, in the ``DHSS = True`` mode, manila creates and deletes share servers for each of the tenant's networks. When creating the share servers, manila has to allocate network ports (and later de-allocate them when share servers are deleted). * **Managing shares:** Any existing share would be in a share server. In ``DHSS = False``, manila accesses the one and only pre-existing share server configured in the driver, therefore it can find any pre-existing share once its export location is given at the API call. In ``DHSS = True``, to manage a share, one would have to manage a share server first, to then manage a share within. * **Lifecycle of a share server:** In ``DHSS = False`` mode, manila only manages the lifecycle of shares in the only pre-existing share server. It never seeks to delete the share server, as it does not own it. In ``DHSS = True`` mode, manila manages the lifecycle of share servers and shares within, as it owns all share servers it creates. If one share server is to be managed by manila, it should be deletable by it as well. As per the aspects mentioned previously, it becomes clear that to manage a share in ``DHSS = True`` mode, one needs an API to manage a share server first. Use Cases ========= Users that have been using storage devices to provision shares are presented with two distinct modes of operation when migration over to manila, each with its benefits and drawbacks. If the storage device has a compatible driver in manila that supports ``DHSS = True`` driver mode, it is possible the user would like to use the existing shares with the benefits of secure multi-tenancy isolation. However, even if the user has successfully established connectivity between the client hosts in an OpenStack network and the existing shares, it is not possible to import the user's existing shares in such case because the Manage functionality currently does not work in ``DHSS = True`` due to the lack of an API to manage share servers. Proposed change =============== The following changes are proposed: * **Add a Manage Share Server API:** Through this API, share servers shall be managed. Their state transitions will be similar to when managing shares. In other words, they will be created with the status ``manage_starting`` and transition either to ``available`` in case of success or to ``manage_error`` otherwise. The following parameters are expected to be supplied: * **Host:** backend name (""<node_hostname>@<backend_stanza>""); * **Share Network:** share network associated with the neutron network the share server is connected to; * **Backend Details:** indefinite list of driver-specific key-value pairs required to successfully manage the share server. * **Pre-requisites:** Since connectivity is expected between an existing share server and the client hosts, the share server will already have network allocations, but unknown to Neutron. Since those allocations could conflict with Neutron, it is up to the admin to create the allocations and define the port owner as ``share``. When managing the share server, the share server IP addresses will be obtained and matched with Neutron ports owned by ``share``. If the allocations are nowhere to be found, the operation is aborted with an error; * **Implementation:** A share server model is created with the backend details parameters. A new driver method is invoked to obtain the network information of this new share server, which will be used to validate the network allocations created by the admin. * **Add a Unmanage Share Server API:** Through this API, share servers shall be unmanaged. There are no parameters required. The share server specified is removed from manila database. We are not going to remove the allocations, as for any existing untracked resource in a network, it will be bound to result in conflicts in the future if the ports are de-allocated. It will be up to the administrator to de-allocate the ports if desired. The state transitions will be similar to unmanaging a share, thus it would transition from ``available`` to ``unmanage_starting``, then either to ``unmanaged`` in case of success or to ``unmanage_error`` otherwise; * **Add share_server_id parameter to Manage Share API:** Whenever managing a share and passing a share type defined with ``driver_handles_share_servers`` set to ``True``, the parameter share_server_id will be required, else the API will return ``400 BadRequest``; * **Prevent automatic deletion of managed share servers:** As opposed to share servers created by manila, it should not be attempted to automatically delete a managed share servers, as there may be existing shares unknown to manila within it. Alternatives ------------ Instead of adding the Manage Share Server API, a previously discussed approach was a Manage Share API that would have two phases in ``DHSS = True`` mode. Such approach presents the following characteristics: * Same complexity and amount of technical work as the proposed solution, but done by a single API; * Several additional parameters that make sense only for ``DHSS = True`` mode; * More complex error handling, as there would need to be statuses and errors specific to each phase (managing a share server or managing a share within); * The user experience degrades when we have a single API behaving so differently, as the user can get confused when using it on both driver modes. If resorting to not change the APIs, there is no way to import existing resources to be managed by manila. If this is not implemented, the users would need to do manage their storage devices outside of manila, or accept the limitation of using only ``DHSS = False`` mode, lacking the benefits present in the ``DHSS = True``. Data model impact ----------------- Since there is the need to differ share servers created by manila from managed ones, it is proposed the creation of a boolean column in the ``ShareServer`` table named ``managed``. The database schema upgrade will add the column with the value ``False`` for all existing share servers, while the database schema downgrade will remove the column. REST API impact --------------- There are a couple of new APIs introduced and one other changed. The policy for both new APIs are admin-only. There are no changes for the existing policies. **Managing a share server**:: POST /v2/{tenant-id}/share-servers/manage Request parameters:: { ""host"": ""host@backend"", ""share_network_id"": ""e76be4e9-4054-4df3-9e5c-178e68fb0949"", ""backend_details"": { ""key1"": ""value1"", ""key2"": ""value2"", ""key3"": ""value3"" } } Parameter ``backend_details`` is optional. If any of the other parameters is missing or invalid, the API will return ``400 BadRequest``. If the tenant's quota has exceeded, the API will return ``403 Forbidden``. Response:: Code: 202 Accepted { ""status"": ""manage_starting"", ""created_at"": 2018-09-17T18:05:34.000000, ""updated_at"": 2018-09-18T19:26:11.000000, ""share_network_id"": ""e76be4e9-4054-4df3-9e5c-178e68fb0949"", ""share_network_name"": ""my_share_net"", ""host"": ""host@backend"", ""project_id"": ""0ebbe03068554da9b9d9ad11983bb08a"", ""id"": ""fa4e4d78-d3d9-46cf-8e61-514da5008cee"", ""managed"": ""True"", ""backend_details"": { ""key1"": ""value1"", ""key2"": ""value2"", ""key3"": ""value3"" } } **Unmanaging a share server**:: POST /v2/{tenant-id}/share-servers/{share_server_id}/action Request parameters:: { ""unmanage"": null } Response:: Code: 202 Accepted If the share server does not exist the API will return ``404 NotFound``. **Managing a share**:: POST /v2/{tenant-id}/shares/manage Request parameters:: { ""share"": { ""protocol"": ""NFS"", ""name"": ""my_share"", ""share_type"": ""my_type"", ""description"": null, ""driver_options"": {}, ""is_public"": false, ""service_host"": ""host@backend#pool"", ""export_path"": ""192.168.10.100/my_export"", ""share_server_id"": ""fa4e4d78-d3d9-46cf-8e61-514da5008cee"" } } The new parameter ``share_server_id`` is required if the share type given specifies ``DHSS = True`` mode. If not given, or given while the given share type specifies ``DHSS = False`` mode, the API will return ``400 BadRequest``. Response:: Code: 202 Accepted No changes to the response body. Driver impact ------------- A new driver interface is introduced in order to get share server network allocation data. This data shall be used to validate the network allocations previously created by the admin. Drivers that support ``DHSS = True`` mode shall choose to implement this interface to support the Manage Share Servers functionality:: def get_share_server_network_info(self, context, share_server): """"""Obtain network allocations used by share server. :param context: Current context. :param share_server: Share server model. :return A list containing IP addresses for each network allocation. Example:: ['192.168.10.10', 'fd11::2000'] """""" If such interface is not implemented in the driver, an exception will be raised and the operation will be aborted. Security impact --------------- As admin-only APIs, all the information necessary for managing share servers and the shares within is restricted to the admin. Notifications impact -------------------- None at this time. Other end user impact --------------------- New commands will be added to python-manilaclient:: manila share-server-manage <host> <share_network_id> [--backend_details key1=value1 [key2=value2] ...] manila share-server-unmanage <share_server_id> As for manila-ui, there will be a new button ""Manage Share Server"" and a context option ""Unmanage Share Server"". Performance Impact ------------------ No significant performance impact expected. Other deployer impact --------------------- None. Developer impact ---------------- The work proposed by this spec is impacted by [2]. The ``share_network_id`` parameter for the Manage Share Server will need to be replaced in favor of ``share_network_subnet_id_ipv4`` and ``share_network_subnet_id_ipv6``. Implementation ============== Assignee(s) ----------- Primary assignee: ganso Work Items ---------- * Implement main patch for manila that includes: * Database schema migration * Manage Share Server API * Unmanage Share Server API * Updates to Manage Share API * ``get_share_server_network_info`` driver interface * Share Manager adjustments to prevent automatic deletion of managed share servers * Implementation in a First Party Driver * Functional Tests in manila-tempest-plugin * Python-manilaclient update * Docs update * Manila-UI update Dependencies ============ None. Testing ======= The functional tests of this change will consist of creating a share (which will create a regular share server), obtain its details, unmanage it, manage it, create another share in it, and then delete the share and the server. The existing config option ""run_manage_unmanage_tests"", now in combination with ""multitenancy_enabled"" will control whether those tests will run. If any of those are disabled the tests will be skipped. Documentation Impact ==================== The following documentation sections will be updated: * API reference: Will add the Manage Share Server API information and parameter details. The Manage Share API will be updated to include the ``share_server_id`` parameter as well. * Admin reference: Will add instructions on how about to manage shares in ``DHSS = True`` mode (including pre-requisite steps) and how to the use the new/updated CLI commands. * Developer reference: Will add information on how the functionality works and how to implement support for it in drivers. References ========== [1] https://blueprints.launchpad.net/manila/+spec/share-replication-enhancements-for-dhss [2] https://etherpad.openstack.org/p/manila-ptg-planning-denver-2018",,401,0
openstack%2Fkeystone~master~I092fa7d83b2c0819ffb96da4c895abfbdefe8c83,openstack/keystone,master,I092fa7d83b2c0819ffb96da4c895abfbdefe8c83,DNM: Test patch to verify ksc job,ABANDONED,2018-11-28 10:41:27.000000000,2018-11-30 10:44:26.000000000,,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-28 10:41:27.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/7d4202825f7d83586fbd74bb06da4e63b9639203', 'message': 'DNM: Test patch to verify ksc job\n\nDepends-On: https://review.openstack.org/620553\nChange-Id: I092fa7d83b2c0819ffb96da4c895abfbdefe8c83\n'}]",0,620554,7d4202825f7d83586fbd74bb06da4e63b9639203,5,2,1,13252,,,0,"DNM: Test patch to verify ksc job

Depends-On: https://review.openstack.org/620553
Change-Id: I092fa7d83b2c0819ffb96da4c895abfbdefe8c83
",git fetch https://review.opendev.org/openstack/keystone refs/changes/54/620554/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7d4202825f7d83586fbd74bb06da4e63b9639203,fix-for-ksc,# DNM,,1,0
openstack%2Fmistral-extra~master~I3605830c87d5700ebeaac91bab0f3161d3bc1958,openstack/mistral-extra,master,I3605830c87d5700ebeaac91bab0f3161d3bc1958,Add Python 3.6 in setup.cfg,MERGED,2018-11-30 06:03:05.000000000,2018-11-30 10:26:29.000000000,2018-11-30 10:26:29.000000000,"[{'_account_id': 9712}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-30 06:03:05.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/c02637c27a3629552818aa968f908a4c7a59fea1', 'message': 'Add Python 3.6 in setup.cfg\n\nChange-Id: I3605830c87d5700ebeaac91bab0f3161d3bc1958\n'}]",0,621073,c02637c27a3629552818aa968f908a4c7a59fea1,6,2,1,25553,,,0,"Add Python 3.6 in setup.cfg

Change-Id: I3605830c87d5700ebeaac91bab0f3161d3bc1958
",git fetch https://review.opendev.org/openstack/mistral-extra refs/changes/73/621073/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,c02637c27a3629552818aa968f908a4c7a59fea1,, Programming Language :: Python :: 3.6,,1,0
openstack%2Fopenstack-ansible-ops~master~Ibb5152b4d7f731aebbeab46ac4ccd38658cd30a1,openstack/openstack-ansible-ops,master,Ibb5152b4d7f731aebbeab46ac4ccd38658cd30a1,Remove non-existant 'functional' test,MERGED,2018-11-28 16:44:36.000000000,2018-11-30 10:17:48.000000000,2018-11-30 10:17:48.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-28 16:44:36.000000000', 'files': ['zuul.d/project.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/f8e94f75c8808a70cf5dfe31af31086867b469d3', 'message': ""Remove non-existant 'functional' test\n\nThere is no 'functional' tox env, so the 'functional'\ntest run by zuul re-runs lint again. Rather than waste\nresources we remove the common template and just add\nthe linters job.\n\nChange-Id: Ibb5152b4d7f731aebbeab46ac4ccd38658cd30a1\n""}]",0,620655,f8e94f75c8808a70cf5dfe31af31086867b469d3,7,3,1,6816,,,0,"Remove non-existant 'functional' test

There is no 'functional' tox env, so the 'functional'
test run by zuul re-runs lint again. Rather than waste
resources we remove the common template and just add
the linters job.

Change-Id: Ibb5152b4d7f731aebbeab46ac4ccd38658cd30a1
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/55/620655/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'tox.ini']",2,f8e94f75c8808a70cf5dfe31af31086867b469d3,,"envlist = docs,linters","envlist = docs,linters,functional",3,2
openstack%2Fmistral-lib~master~Ida12897506d7062ddee66ea1d8ca7a20f94dd105,openstack/mistral-lib,master,Ida12897506d7062ddee66ea1d8ca7a20f94dd105,Add Python 3.6 classifier to setup.cfg,MERGED,2018-11-27 07:21:08.000000000,2018-11-30 10:14:05.000000000,2018-11-30 10:14:05.000000000,"[{'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 22348}, {'_account_id': 25553}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-11-27 07:21:08.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/397df31cff504342efd1c80f051ab828232e7498', 'message': 'Add Python 3.6 classifier to setup.cfg\n\nChange-Id: Ida12897506d7062ddee66ea1d8ca7a20f94dd105\n'}]",0,620230,397df31cff504342efd1c80f051ab828232e7498,9,5,1,28543,,,0,"Add Python 3.6 classifier to setup.cfg

Change-Id: Ida12897506d7062ddee66ea1d8ca7a20f94dd105
",git fetch https://review.opendev.org/openstack/mistral-lib refs/changes/30/620230/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,397df31cff504342efd1c80f051ab828232e7498,, Programming Language :: Python :: 3.6,,1,0
openstack%2Ftacker~master~I9c96ed645ed1bcb2ba8b24aacad7046151a9ded3,openstack/tacker,master,I9c96ed645ed1bcb2ba8b24aacad7046151a9ded3,Update unit test case for vim_client,MERGED,2018-11-29 13:53:22.000000000,2018-11-30 10:12:50.000000000,2018-11-30 10:12:49.000000000,"[{'_account_id': 18955}, {'_account_id': 19644}, {'_account_id': 22348}, {'_account_id': 26222}, {'_account_id': 29383}]","[{'number': 1, 'created': '2018-11-29 13:53:22.000000000', 'files': ['tacker/tests/unit/vnfm/test_vim_client.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/d79ea548443a3e61fdf00b081269506eb58df133', 'message': 'Update unit test case for vim_client\n\nAdd more unit test cases for vim_client in vnfm dir\n\nChange-Id: I9c96ed645ed1bcb2ba8b24aacad7046151a9ded3\n'}]",0,620914,d79ea548443a3e61fdf00b081269506eb58df133,8,5,1,29339,,,0,"Update unit test case for vim_client

Add more unit test cases for vim_client in vnfm dir

Change-Id: I9c96ed645ed1bcb2ba8b24aacad7046151a9ded3
",git fetch https://review.opendev.org/openstack/tacker refs/changes/14/620914/1 && git format-patch -1 --stdout FETCH_HEAD,['tacker/tests/unit/vnfm/test_vim_client.py'],1,d79ea548443a3e61fdf00b081269506eb58df133,utcase_for_vim_client," import mock self.vim_info = {'id': 'aaaa', 'name': 'VIM0', 'type': 'test_vim', 'auth_cred': {'password': '****'}, 'auth_url': 'http://127.0.0.1/identity/v3', 'placement_attr': {'regions': ['TestRegionOne']}} self.vimclient = vim_client.VimClient() self.service_plugins = mock.Mock() self.nfvo_plugin = mock.Mock() self.nfvo_plugin.get_default_vim.side_effect = \ self.service_plugins.get.return_value = self.nfvo_plugin return_value=self.service_plugins): self.vimclient.get_vim, None) def test_get_vim_not_found_exception(self): vim_id = self.vim_info['id'] self.nfvo_plugin.get_vim.side_effect = \ orm_exc.NoResultFound() self.service_plugins.get.return_value = self.nfvo_plugin with mock.patch.object(manager.TackerManager, 'get_service_plugins', return_value=self.service_plugins): self.assertRaises(nfvo.VimNotFoundException, self.vimclient.get_vim, None, vim_id=vim_id) def test_get_vim_region_not_found_region_name_invalid(self): self.nfvo_plugin.get_vim.return_value = self.vim_info self.service_plugins.get.return_value = self.nfvo_plugin with mock.patch.object(manager.TackerManager, 'get_service_plugins', return_value=self.service_plugins): self.assertRaises(nfvo.VimRegionNotFoundException, self.vimclient.get_vim, None, vim_id=self.vim_info['id'], region_name='Test') def test_get_vim(self): self.nfvo_plugin.get_vim.return_value = self.vim_info self.service_plugins.get.return_value = self.nfvo_plugin self.vimclient._build_vim_auth = mock.Mock() self.vimclient._build_vim_auth.return_value = {'password': '****'} with mock.patch.object(manager.TackerManager, 'get_service_plugins', return_value=self.service_plugins): vim_result = self.vimclient.get_vim(None, vim_id=self.vim_info['id'], region_name='TestRegionOne') vim_expect = {'vim_auth': {'password': '****'}, 'vim_id': 'aaaa', 'vim_name': 'VIM0', 'vim_type': 'test_vim'} self.assertEqual(vim_expect, vim_result) def test_get_vim_with_default_name(self): self.vim_info.pop('name') self.nfvo_plugin.get_vim.return_value = self.vim_info self.service_plugins.get.return_value = self.nfvo_plugin self.vimclient._build_vim_auth = mock.Mock() self.vimclient._build_vim_auth.return_value = {'password': '****'} with mock.patch.object(manager.TackerManager, 'get_service_plugins', return_value=self.service_plugins): vim_result = self.vimclient.get_vim(None, vim_id=self.vim_info['id'], region_name='TestRegionOne') vim_expect = {'vim_auth': {'password': '****'}, 'vim_id': 'aaaa', 'vim_name': 'aaaa', 'vim_type': 'test_vim'} self.assertEqual(vim_expect, vim_result) def test_find_vim_key_with_key_not_found_exception(self): vim_id = self.vim_info['id'] self.assertRaises(nfvo.VimKeyNotFoundException, self.vimclient._find_vim_key, vim_id) def test_region_valid_false(self): vim_regions = ['TestRegionOne', 'TestRegionTwo'] region_name = 'TestRegion' self.assertFalse(self.vimclient.region_valid(vim_regions, region_name)) def test_region_valid_true(self): vim_regions = ['TestRegionOne', 'TestRegionTwo'] region_name = 'TestRegionOne' self.assertTrue(self.vimclient.region_valid(vim_regions, region_name))","import mock self.vim_info = {'id': 'aaaa', 'name': 'VIM0', 'auth_cred': {'password': '****'}, 'type': 'test_vim'} vimclient = vim_client.VimClient() service_plugins = mock.Mock() nfvo_plugin = mock.Mock() nfvo_plugin.get_default_vim.side_effect = \ service_plugins.get.return_value = nfvo_plugin return_value=service_plugins): vimclient.get_vim, None)",77,10
openstack%2Fkolla-ansible~master~Ie6474029e7d483802dda7cad76ca0b8061d0c975,openstack/kolla-ansible,master,Ie6474029e7d483802dda7cad76ca0b8061d0c975,Fix error code 108 when creating a share,ABANDONED,2018-11-30 10:06:47.000000000,2018-11-30 10:12:44.000000000,,[],"[{'number': 1, 'created': '2018-11-30 10:06:47.000000000', 'files': ['ansible/roles/manila/tasks/fix_cephfs_owner.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/85e295b33797764d882621376116b00311789515', 'message': 'Fix error code 108 when creating a share\n\nChange-Id: Ie6474029e7d483802dda7cad76ca0b8061d0c975\nSigned-off-by: ZijianGuo <guozijn@gmail.com>\n'}]",0,621131,85e295b33797764d882621376116b00311789515,2,0,1,28367,,,0,"Fix error code 108 when creating a share

Change-Id: Ie6474029e7d483802dda7cad76ca0b8061d0c975
Signed-off-by: ZijianGuo <guozijn@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/31/621131/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/manila/tasks/fix_cephfs_owner.yml'],1,85e295b33797764d882621376116b00311789515,add_nogroup_dir,"- name: Create /tmp/cephfs/volumes/_nogroup with manila user command: ""docker exec -u 0 manila_share sudo -u manila mkdir -p /tmp/cephfs/volumes/_nogroup""","- name: Create /tmp/cephfs/volumes path command: ""docker exec -u 0 manila_share mkdir /tmp/cephfs/volumes""- name: Change the owner and group of /tmp/cephfs/volumes command: ""docker exec -u 0 manila_share chown manila:manila /tmp/cephfs/volumes"" register: chown_volume run_once: True when: check_volume.rc != 0 and create_volume.rc == 0 ",2,8
openstack%2Fnova~stable%2Frocky~I30b75a022dce996b00344a5b3c1ed5eaa011948a,openstack/nova,stable/rocky,I30b75a022dce996b00344a5b3c1ed5eaa011948a,Stop to mocking oslo.service.loopingcall._ThreadingEvent since this class was removed,ABANDONED,2018-11-21 13:53:33.000000000,2018-11-30 10:10:53.000000000,,"[{'_account_id': 4257}, {'_account_id': 6873}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2018-11-21 13:53:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/793f8940dcdfbe060ac68cc1bc00a19e225a66ac', 'message': ""Stop to mocking oslo.service.loopingcall._ThreadingEvent since this class was removed\n\nUsage of threading event with eventlet caused inefficient code\n(causing many useless system calls and high CPU usage).\n\nSince oslo.service 1.31.6 the class _ThreadingEvent was removed from loopingcall\nto avoid the problem of high CPU usage.\n\nNow we can't use officially these oslo.service changes on openstack\ndue to the fact that if we officially use oslo.service  1.31.6 then we\nbreak the nova CI on stable Rocky.\n\nThis patch aim us to solve the issue of high CPU usage and avoid the\nnova CI error on stable/rocky.\n\nChange-Id: I30b75a022dce996b00344a5b3c1ed5eaa011948a\n""}, {'number': 2, 'created': '2018-11-21 14:08:29.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'lower-constraints.txt', 'nova/tests/unit/virt/disk/mount/test_api.py', 'nova/tests/unit/virt/libvirt/test_guest.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e6657c98151a200aa24a301abcc7fbd23dfb15a5', 'message': ""Stop to mocking oslo.service.loopingcall._ThreadingEvent since this class was removed\n\nUsage of threading event with eventlet caused inefficient code\n(causing many useless system calls and high CPU usage).\n\nSince oslo.service 1.31.6 the class _ThreadingEvent was removed from loopingcall\nto avoid the problem of high CPU usage.\n\nNow we can't use officially these oslo.service changes on openstack\ndue to the fact that if we officially use oslo.service  1.31.6 then we\nbreak the nova CI on stable Rocky.\n\nThis patch aim us to solve the issue of high CPU usage and avoid the\nnova CI error on stable/rocky.\n\nThe issue of high CPU usage was already fixed in master by these changes:\n- https://review.openstack.org/#/c/611807/\n\nand nova CI error was fixed by:\n- https://review.openstack.org/#/c/615978/\n- https://review.openstack.org/#/c/615724/\n\nBut we can't use it since these changes backports a new feature in stable branch\nso we need to fix it by apply changes like mine.\n\nChange-Id: I30b75a022dce996b00344a5b3c1ed5eaa011948a\n""}]",3,619246,e6657c98151a200aa24a301abcc7fbd23dfb15a5,15,11,2,28522,,,0,"Stop to mocking oslo.service.loopingcall._ThreadingEvent since this class was removed

Usage of threading event with eventlet caused inefficient code
(causing many useless system calls and high CPU usage).

Since oslo.service 1.31.6 the class _ThreadingEvent was removed from loopingcall
to avoid the problem of high CPU usage.

Now we can't use officially these oslo.service changes on openstack
due to the fact that if we officially use oslo.service  1.31.6 then we
break the nova CI on stable Rocky.

This patch aim us to solve the issue of high CPU usage and avoid the
nova CI error on stable/rocky.

The issue of high CPU usage was already fixed in master by these changes:
- https://review.openstack.org/#/c/611807/

and nova CI error was fixed by:
- https://review.openstack.org/#/c/615978/
- https://review.openstack.org/#/c/615724/

But we can't use it since these changes backports a new feature in stable branch
so we need to fix it by apply changes like mine.

Change-Id: I30b75a022dce996b00344a5b3c1ed5eaa011948a
",git fetch https://review.opendev.org/openstack/nova refs/changes/46/619246/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'lower-constraints.txt', 'nova/tests/unit/virt/disk/mount/test_api.py', 'nova/tests/unit/virt/libvirt/test_guest.py']",4,793f8940dcdfbe060ac68cc1bc00a19e225a66ac,fix-test-eventlet-threading,"@mock.patch('oslo_service.loopingcall._Event.wait', new=mock.Mock())","@mock.patch('oslo_service.loopingcall._ThreadingEvent.wait', new=mock.Mock())",4,4
openstack%2Fnova~stable%2Frocky~I45dd7602068eb0ce1331cfefd5a0cf6418bc8e88,openstack/nova,stable/rocky,I45dd7602068eb0ce1331cfefd5a0cf6418bc8e88,Use SleepFixture instead of mocking _ThreadingEvent.wait,ABANDONED,2018-11-20 15:38:57.000000000,2018-11-30 10:10:17.000000000,,"[{'_account_id': 2472}, {'_account_id': 4690}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2018-11-20 15:38:57.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'requirements.txt', 'lower-constraints.txt', 'nova/tests/unit/virt/disk/mount/test_api.py', 'nova/tests/unit/virt/libvirt/test_guest.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4128e13277c1413378773db351f3e4abc1451e6a', 'message': 'Use SleepFixture instead of mocking _ThreadingEvent.wait\n\nRecently, the _ThreadingEvent class in oslo.service was removed [1] and\nour unit test patching is preventing us from moving to a newer version\nof oslo.service [2].\n\nWe have patching of the _ThreadingEvent.wait method to bypass the sleep\ntime in the looping call of RetryDecorator, which adds several seconds\nto the run time of unit tests.\n\nThis changes things to use the new SleepFixture from oslo.service\ninstead.\n\nDepends-On: https://review.openstack.org/616371\n\n[1] I62e9f1a7cde8846be368fbec58b8e0825ce02079\n[2] https://review.openstack.org/615676\n\nChange-Id: I45dd7602068eb0ce1331cfefd5a0cf6418bc8e88\n(cherry picked from commit fded752b167c62b888d8e13690c361ce1fad1f82)\n'}]",4,619022,4128e13277c1413378773db351f3e4abc1451e6a,11,13,1,28522,,,0,"Use SleepFixture instead of mocking _ThreadingEvent.wait

Recently, the _ThreadingEvent class in oslo.service was removed [1] and
our unit test patching is preventing us from moving to a newer version
of oslo.service [2].

We have patching of the _ThreadingEvent.wait method to bypass the sleep
time in the looping call of RetryDecorator, which adds several seconds
to the run time of unit tests.

This changes things to use the new SleepFixture from oslo.service
instead.

Depends-On: https://review.openstack.org/616371

[1] I62e9f1a7cde8846be368fbec58b8e0825ce02079
[2] https://review.openstack.org/615676

Change-Id: I45dd7602068eb0ce1331cfefd5a0cf6418bc8e88
(cherry picked from commit fded752b167c62b888d8e13690c361ce1fad1f82)
",git fetch https://review.opendev.org/openstack/nova refs/changes/22/619022/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'requirements.txt', 'lower-constraints.txt', 'nova/tests/unit/virt/disk/mount/test_api.py', 'nova/tests/unit/virt/libvirt/test_guest.py']",5,4128e13277c1413378773db351f3e4abc1451e6a,loopingcall-wait-use-sleepfixture,from oslo_service import fixture as service_fixture # Make RetryDecorator not actually sleep on retries self.useFixture(service_fixture.SleepFixture()) ,,15,2
openstack%2Fnova~stable%2Frocky~I0bbd2d7f9d6eb13d97587d867ef4d651809a7dd4,openstack/nova,stable/rocky,I0bbd2d7f9d6eb13d97587d867ef4d651809a7dd4,remove mocks of oslo.service private members,ABANDONED,2018-11-20 15:26:20.000000000,2018-11-30 10:09:48.000000000,,"[{'_account_id': 2472}, {'_account_id': 4257}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2018-11-20 15:26:20.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/virt/disk/mount/test_api.py', 'nova/tests/unit/virt/libvirt/test_guest.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1882753ad0313a8c25294e0191fb5929ef395eef', 'message': 'remove mocks of oslo.service private members\n\nWe need to completely remove the mocks for oslo.service private members\nin order to decouple nova from the requirements updates and be able to\nupdate the constraint for oslo.service to a new version that has a\nfixture for managing the sleep call being mocked (applied in the\nfollowing patch).\n\nChange-Id: I0bbd2d7f9d6eb13d97587d867ef4d651809a7dd4\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n(cherry picked from commit 32082ebcfc17fdaf83e8f154ce0045e7a1fed16a)\n'}]",0,619019,1882753ad0313a8c25294e0191fb5929ef395eef,7,7,1,28522,,,0,"remove mocks of oslo.service private members

We need to completely remove the mocks for oslo.service private members
in order to decouple nova from the requirements updates and be able to
update the constraint for oslo.service to a new version that has a
fixture for managing the sleep call being mocked (applied in the
following patch).

Change-Id: I0bbd2d7f9d6eb13d97587d867ef4d651809a7dd4
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
(cherry picked from commit 32082ebcfc17fdaf83e8f154ce0045e7a1fed16a)
",git fetch https://review.opendev.org/openstack/nova refs/changes/19/619019/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/virt/disk/mount/test_api.py', 'nova/tests/unit/virt/libvirt/test_guest.py']",3,1882753ad0313a8c25294e0191fb5929ef395eef,loopingcall-wait,,"# Make RetryDecorator not actually sleep on retries @mock.patch('oslo_service.loopingcall._ThreadingEvent.wait', new=mock.Mock())",0,6
openstack%2Fnova-specs~master~I6a90eff7118de3e3f69b8c60da5d8beb38b60970,openstack/nova-specs,master,I6a90eff7118de3e3f69b8c60da5d8beb38b60970,Re-propose numa-aware-live-migration spec,MERGED,2018-09-04 12:47:40.000000000,2018-11-30 10:09:42.000000000,2018-11-30 10:09:42.000000000,"[{'_account_id': 7}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 8768}, {'_account_id': 8864}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-04 12:47:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/5f02617a297c40581c64fb83c2383aa8dc9a42c6', 'message': 'Re-propose numa-aware-live-migration spec\n\nThis was not completed in Rocky. There is additional information needed\nbut this can be added in a later revision.\n\nPart of bp numa-aware-live-migration\n\nChange-Id: I6a90eff7118de3e3f69b8c60da5d8beb38b60970\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2018-09-07 14:44:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/bd406a0e0247b417268b0a024ee49721e95b2bde', 'message': ""WIP: Re-propose numa-aware-live-migration spec\n\nContinuing the work in Rocky to support NUMA live migration, this\nversion of the spec changes and clarifies some things related to\nplacement, claiming resources, and how the destination communicates\nwith the source.\n\nNOTE(artom): I wanted to have a version of this up before PTG to\nserve as a basis for discussions since I'm unable to attend. I intend\non completing the TODOs ASAP.\n\nPart of bp numa-aware-live-migration\n\nChange-Id: I6a90eff7118de3e3f69b8c60da5d8beb38b60970\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2018-09-26 15:31:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/d4ce80a193bd4b86ed43841b614f6eb757022254', 'message': 'Re-propose numa-aware-live-migration spec\n\nContinuing the work in Rocky to support NUMA live migration, this\nversion of the spec changes and clarifies some things related to\nplacement, claiming resources, and how the destination communicates\nwith the source.\n\nPart of bp numa-aware-live-migration\n\nChange-Id: I6a90eff7118de3e3f69b8c60da5d8beb38b60970\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2018-09-27 14:24:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/60ca8dee3ea4f29bcb0bcc4f16076b2dbda0f78a', 'message': 'Re-propose numa-aware-live-migration spec\n\nContinuing the work in Rocky to support NUMA live migration, this\nversion of the spec changes and clarifies some things related to\nplacement, claiming resources, and how the destination communicates\nwith the source.\n\nPart of bp numa-aware-live-migration\n\nChange-Id: I6a90eff7118de3e3f69b8c60da5d8beb38b60970\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 5, 'created': '2018-10-17 18:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/a55df31741bca55777fb1e25b673c1fb7e3f1de2', 'message': 'Re-propose numa-aware-live-migration spec\n\nContinuing the work in Rocky to support NUMA live migration, this\nversion of the spec changes and clarifies some things related to\nplacement, claiming resources, and how the destination communicates\nwith the source.\n\nPart of bp numa-aware-live-migration\n\nChange-Id: I6a90eff7118de3e3f69b8c60da5d8beb38b60970\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 6, 'created': '2018-11-20 18:22:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/04c77957b199a5aa34f69654d870c4a7d440756c', 'message': 'Re-propose numa-aware-live-migration spec\n\nContinuing the work in Rocky to support NUMA live migration, this\nversion of the spec changes and clarifies some things related to\nplacement, claiming resources, and how the destination communicates\nwith the source.\n\nPart of bp numa-aware-live-migration\n\nChange-Id: I6a90eff7118de3e3f69b8c60da5d8beb38b60970\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 7, 'created': '2018-11-23 00:56:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/47b1bd8745b09740913f5fd68e233825b10179a7', 'message': 'Re-propose numa-aware-live-migration spec\n\nContinuing the work in Rocky to support NUMA live migration, this\nversion of the spec changes and clarifies some things related to\nplacement, claiming resources, and how the destination communicates\nwith the source.\n\nPart of bp numa-aware-live-migration\n\nChange-Id: I6a90eff7118de3e3f69b8c60da5d8beb38b60970\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 8, 'created': '2018-11-27 17:49:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/74593631526a54dc7f2b1db2d90cd71d3e897eac', 'message': 'Re-propose numa-aware-live-migration spec\n\nContinuing the work in Rocky to support NUMA live migration, this\nversion of the spec changes and clarifies some things related to\nplacement, claiming resources, and how the destination communicates\nwith the source.\n\nPart of bp numa-aware-live-migration\n\nChange-Id: I6a90eff7118de3e3f69b8c60da5d8beb38b60970\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 9, 'created': '2018-11-29 00:36:58.000000000', 'files': ['specs/stein/approved/numa-aware-live-migration.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/42054c174749d2b253cc2bcb49898e4f8c6358d8', 'message': 'Re-propose numa-aware-live-migration spec\n\nContinuing the work in Rocky to support NUMA live migration, this\nversion of the spec changes and clarifies some things related to\nplacement, claiming resources, and how the destination communicates\nwith the source.\n\nPart of bp numa-aware-live-migration\n\nChange-Id: I6a90eff7118de3e3f69b8c60da5d8beb38b60970\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",119,599587,42054c174749d2b253cc2bcb49898e4f8c6358d8,51,9,9,15334,,,0,"Re-propose numa-aware-live-migration spec

Continuing the work in Rocky to support NUMA live migration, this
version of the spec changes and clarifies some things related to
placement, claiming resources, and how the destination communicates
with the source.

Part of bp numa-aware-live-migration

Change-Id: I6a90eff7118de3e3f69b8c60da5d8beb38b60970
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/87/599587/8 && git format-patch -1 --stdout FETCH_HEAD,['specs/stein/approved/numa-aware-live-migration.rst'],1,5f02617a297c40581c64fb83c2383aa8dc9a42c6,bp/numa-aware-live-migration,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================= NUMA-aware live migration ========================= https://blueprints.launchpad.net/nova/+spec/numa-aware-live-migration When an instance with NUMA characteristics is live-migrated, those characteristics are not recalculated on the destination compute host. In the CPU pinning case, using the source host's pin mappings on the destination can lead to multiple instances being pinned to the same pCPUs. In the case of hugepage-backed instances, which are NUMA-localized, an instance needs to have its NUMA mapping recalculated on the destination compute host during a live migration. Problem description =================== In the following paragraphs the term NUMA is incorrectly used to signify any guest characteristic that is expressed in the `InstanceNUMATopology` object, for example CPU pinning and hugepages. CPU pinning can be achieved without a guest NUMA topology, but because no better term than NUMA is available it will continue to be used. The problem can best be described with three examples. The first example is live migration with CPU pinning. An instance with a ``dedicated`` CPU policy and pinned CPUs is live-migrated. Its pin mappings are naively copied over to the destination host. This creates two problems. First, its pinned pCPUs aren't properly claimed on the destination. This means that, should a second instance with pinned CPUs land on the destination, both instances' vCPUs could be pinned to the same pCPUs. Second, any existing pin mappings on the destination are ignored. If another instance already exists on the destination, both instances's vCPUs could be pinned to the same pCPUs. In both cases, the ``dedicated`` CPU policy is violated, potentially leading to unpredictable performance degradation. The second example is instances with hugepages. There are two hosts, each with two NUMA nodes and 8 1GB hugepages per node. Two identical instances are booted on the two hosts. Their virtual NUMA topology is one virtual NUMA node and 8 1GB memory pages. They land on their respective host's NUMA node 0, consuming all 8 of its pages. One instance is live-migrated to the other host. The libvirt driver enforces strict NUMA affinity and does not regenerate the instance XML. Both instances end up on the hosts NUMA node 0, and the live-migrated instance fails to run. The third example is an instance with a virtual NUMA topology (but without hugepages). If an instance affined to its host's NUMA node 2 is live migrated to a host with only two NUMA nodes, and thus without a NUMA node 2, it will fail to run. The first two of these examples are known bugs `[1]`_ `[2]`_. Use Cases --------- As a cloud administrator, I want to live migrate instances with CPU pinning without the pin mappings overlapping on the destination compute host. As a cloud administrator, I want live migration of hugepage-backed instances to work and for the instances to successfully run on the destination compute host. As a cloud administrator, I want live migration of instances with an explicit NUMA topology to work and for the instances to successfully run on the destination compute host. Proposed change =============== Currently, the scheduler does not claim any NUMA resources. While work has started to model NUMA topologies as resources providers in placement `[3]`_, this spec intentionally ignores that work and does not depend on it. Instead, the current method of claiming NUMA resources will continue to be used. Specifically, NUMA resources will continue to be claimed by the compute host's resource tracker. At the cell conductor (live migration isn't supported between cells, so the superconductor is not involved) and compute level, the relevant parts of the current live migration flow can be summarized by the following oversimplified pseudo sequence diagram.:: +-----------+ +---------+ +-------------+ +---------+ | Conductor | | Source | | Destination | | Driver | +-----------+ +---------+ +-------------+ +---------+ | | | | | check_can_live_migrate_destination| | | |---------------------------------------------------------------------------->| | | | | | | | check_can_live_migrate_source | | | |<----------------------------------------| | | | | | | | migrate_data | | | |---------------------------------------->| | | | | | | | migrate_data | | |<----------------------------------------------------------------------------| | | | | | | live_migration(migrate_data) | | | |---------------------------------->| | | | | | | | | pre_live_migration(migrate_data) | | | |---------------------------------------->| | | | | | | | migrate_data | | | |<----------------------------------------| | | | | | | | live_migration(migrate_data) | | | |------------------------------------------------------>| | | | | `migrate_data` is a LiveMigrateData object. This spec proposes to add an object field containing an `InstanceNUMATopology` object. The source will include the instance's existing NUMA topology in the `migrate_data` that its `check_can_live_migrate_source` returns to the destination. The destination's virt driver will fit this `InstanceNUMATopology` to the destination's `NUMATopology` and claim the resources using the resource tracker. It will then send the updated `InstanceNUMATopology` back to the conductor as part of the existing `migrate_data` that `check_can_live_migrate_destination` returns. The updated `InstanceNUMATopology` will continue to be propagated as part of `migrate_data`, eventually reaching the source. The source's libvirt driver will use this updated `InstanceNUMATopology` when generating the instance XML to be sent to the destination for the live migration. The proposed flow is summarised in the following diagram.:: +-----------+ +---------+ +-------------+ +---------+ | Conductor | | Source | | Destination | | Driver | +-----------+ +---------+ +-------------+ +---------+ | | | | | check_can_live_migrate_destination | | | |---------------------------------------------------------------------------------------------------------->| | | | | | | | check_can_live_migrate_source | | | |<-------------------------------------------| | | | | | | | migrate_data + InstanceNUMATopology | | | |------------------------------------------->| | | | | --------------------------------------------\ | | | |-| Fit InstanceNUMATopology to NUMATopology, | | | | | | fail live migration if unable | | | | | |-------------------------------------------| | | | migrate_data + new InstanceNUMATopology | | |<----------------------------------------------------------------------------------------------------------| | | | | | | live_migration(migrate_data + new InstanceNUMATopology) | | | |------------------------------------------------------------->| | | | --------------------------\ | | | | | pre_live_migration call |-| | | | |-------------------------| | | | | | | | | | live_migration(migrate_data + new InstanceNUMATopology) | | |---------------------------------------------------------------------------------------------->| | | | ------------------------------------\ | | | | | generate NUMA XML for destination |-| | | | |-----------------------------------| | | | | | Exchanging instance NUMA topologies is done early (in `check_can_live_migrate_source` rather than `pre_live_migration`) in order to fail as fast as possible if the destination cannot fit the instance. What happens when the compute hosts are not both running the updated handshake code is discussed in ref:`upgrade-impact`. Currently, only placement allocations are updated during a live migration. The proposed resource tracker claims mechanism will become obsolete once NUMA resource providers are implemented `[3]`_. Therefore, as a stopgap error handling method, the live migration can be failed if the resource claim does not succeed on the destination compute host. Once NUMA is handled by placement, the compute host will not have to do any resource claims. It would also be possible for another instance to steal NUMA resources from a live migrated instance before the latter's destination compute host has a chance to claim them. Until NUMA resource providers are implemented `[3]`_ and allow for an essentially atomic schedule+claim operation, scheduling and claiming will keep being done at different times on different nodes. Thus, the potential for races will continue to exist. Alternatives ------------ It would be possible to reuse the result of `numa_fit_instance_to_host` as called from the scheduler before the live migration reaches the conductor. `select_destinations` in the scheduler returns a list of `Selection` objects to the conductor's live migrate task. The `Selection` object could be modified to include `InstanceNUMATopology`. The NUMA topology filter could add an `InstanceNUMATopology` for every host that passes. That topology would eventually reach the conductor, which would put it in `migrate_data`. The destination compute host would then claim the resources as previously described. Data model impact ----------------- `InstanceNUMATopology` is added to `LiveMigrateData`. REST API impact --------------- None. Security impact --------------- None. Notifications impact -------------------- None. Other end user impact --------------------- None. Performance Impact ------------------ None. Other deployer impact --------------------- None. Developer impact ---------------- None. .. _upgrade-impact: Upgrade impact -------------- None. Hypothetically, how NUMA aware live migration could be supported between version-mismatched compute hosts would depend on which of the two compute hosts is older. If the destination is older than the source, the source does not get an `InstanceNUMATopology` in `migrate_data` and can therefore choose to run an old-style live migration. If the source is older than the destination, the new field in `LiveMigrateData` is ignored and the source's old live migration runs without issues. However, the destination has already claimed NUMA resources that the source does generate instance XML for. The destination could conceivably check the source's compute service version and fail the migration before claiming resources if the source doesn't support NUMA live migration. However, given the current broken state of NUMA live migration, a simpler solution is to refuse to perform a NUMA live migration unless both source and destination compute hosts have been upgraded to a version that supports it. To achieve this, the conductor can check the source and destination compute's service version and fail the migration if either one is too old. Implementation ============== Assignee(s) ----------- Primary assignee: notartom Work Items ---------- * Add `InstanceNUMATopology` to `LiveMigrateData`. * Modify the libvirt driver to generate live migration instance XML based on the `InstanceNUMATopolgy` in the `migrate_data` it receives from the destination. Dependencies ============ None. Testing ======= The libvirt/qemu driver used in the gate does not currently support NUMA features (though work is in progress `[4]`_). Therefore, testing NUMA aware live migration in the upstream gate would require nested virt. In addition, the only assertable outcome of a NUMA live migration test (if it ever becomes possible) would be that the live migration succeeded. Examining the instance XML to assert things about its NUMA affinity or CPU pin mapping is explicitly out of tempest's scope. For these reasons, NUMA aware live migration is best tested in third party CI `[5]`_ or other downstream test scenarios `[6]`_. Documentation Impact ==================== Current live migration documentation does not mention the NUMA limitations anywhere. Therefore, a release note explaining the new NUMA capabilities of live migration should be enough. References ========== .. _[1]: https://bugs.launchpad.net/nova/+bug/1496135 .. _[2]: https://bugs.launchpad.net/nova/+bug/1607996 .. _[3]: https://review.openstack.org/#/c/552924/ .. _[4]: https://review.openstack.org/#/c/533077/ .. _[5]: https://github.com/openstack/intel-nfv-ci-tests .. _[6]: https://review.rdoproject.org/r/gitweb?p=openstack/whitebox-tempest-plugin.git History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Rocky - Introduced * - Rocky - Re-proposed ",,325,0
openstack%2Foslo.service~stable%2Frocky~I0089c7778957456db66599abffaaad3a5332243c,openstack/oslo.service,stable/rocky,I0089c7778957456db66599abffaaad3a5332243c,Fixture to mock loopingcall wait(),ABANDONED,2018-11-14 15:47:42.000000000,2018-11-30 10:09:01.000000000,,"[{'_account_id': 2472}, {'_account_id': 4257}, {'_account_id': 6873}, {'_account_id': 11604}, {'_account_id': 12898}, {'_account_id': 14070}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28006}, {'_account_id': 28522}, {'_account_id': 29222}]","[{'number': 1, 'created': '2018-11-14 15:47:42.000000000', 'files': ['requirements.txt', 'doc/source/reference/index.rst', 'doc/source/reference/fixture.rst', 'doc/source/conf.py', 'oslo_service/tests/test_fixture.py', 'oslo_service/fixture.py'], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/63ccbe71b7e4fec374a3117ba09f7d18010a161f', 'message': 'Fixture to mock loopingcall wait()\n\nConsumers of loopingcall may wish to exercise their code in test cases\nwithout incurring actual wall clock sleep time in their test runs.\nHeretofore, this required digging into the internals of the loopingcall\nmodule and mocking something private (or something hidden by something\nprivate).\n\nThis patch exposes a public oslo_service.fixture.SleepFixture for this\npurpose. It can be maintained opaquely as internals change without\naffecting its consumers.\n\nSee [1] for (one example of) the motivation behind this change.\n\n[1] https://review.openstack.org/#/c/615724/\n\nChange-Id: I0089c7778957456db66599abffaaad3a5332243c\n(cherry picked from commit b85d9353fb3b41409f90df91154f87616b4ca61e)\n'}]",3,617989,63ccbe71b7e4fec374a3117ba09f7d18010a161f,14,11,1,28522,,,0,"Fixture to mock loopingcall wait()

Consumers of loopingcall may wish to exercise their code in test cases
without incurring actual wall clock sleep time in their test runs.
Heretofore, this required digging into the internals of the loopingcall
module and mocking something private (or something hidden by something
private).

This patch exposes a public oslo_service.fixture.SleepFixture for this
purpose. It can be maintained opaquely as internals change without
affecting its consumers.

See [1] for (one example of) the motivation behind this change.

[1] https://review.openstack.org/#/c/615724/

Change-Id: I0089c7778957456db66599abffaaad3a5332243c
(cherry picked from commit b85d9353fb3b41409f90df91154f87616b4ca61e)
",git fetch https://review.opendev.org/openstack/oslo.service refs/changes/89/617989/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'doc/source/reference/index.rst', 'doc/source/reference/fixture.rst', 'doc/source/conf.py', 'oslo_service/tests/test_fixture.py', 'oslo_service/fixture.py']",6,63ccbe71b7e4fec374a3117ba09f7d18010a161f,backport-fixture-mock,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import fixtures class SleepFixture(fixtures.Fixture): """"""A fixture for mocking the ``wait()`` within :doc:`loopingcall` events. This exists so test cases can exercise code that uses :doc:`loopingcall` without actually incurring wall clock time for sleeping. The mock for the ``wait()`` is accessible via the fixture's ``mock_wait`` attribute. .. note:: It is not recommended to assert specific arguments (i.e. timeout values) to the mock, as this relies on the internals of :doc:`loopingcall` not changing. .. todo:: Figure out a way to make an enforceable contract allowing verification of timeout values. Example usage:: from oslo.service import fixture ... class MyTest(...): def setUp(self): ... self.sleepfx = self.useFixture(fixture.SleepFixture()) ... def test_this(self): ... thing_that_hits_a_loopingcall() ... self.assertEqual(5, self.sleepfx.mock_wait.call_count) ... """""" def _setUp(self): # Provide access to the mock so that calls to it can be asserted self.mock_wait = self.useFixture(fixtures.MockPatch( 'oslo_service.loopingcall._Event.wait')).mock ",,99,0
openstack%2Fblazar~master~I83e7c3cc0b6ca79aab2b8bb23ba82fceb96646e2,openstack/blazar,master,I83e7c3cc0b6ca79aab2b8bb23ba82fceb96646e2,Fix incorrect response returned by the Update Lease API,MERGED,2018-10-30 08:40:15.000000000,2018-11-30 10:08:23.000000000,2018-11-30 10:08:23.000000000,"[{'_account_id': 1011}, {'_account_id': 8878}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-30 08:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/717873c09ac46ab7717ec63e62a7bafa2e644255', 'message': 'Fix incorrect response returned by update lease api\n\nFor lease update api, reservation id is a required parameter.\nSo if you pass value of ""reservation.id"" as: empty string / null /\nincorrect UUID, then it gives 200 OK response instead of 400.\n\nThis patch fixes it by raising InvalidInput exception if invalid\nvalue for reservation.id is passed.\n\nAPIImpact\nThe response code is changed from 200 OK to 400 BadRequest in\ncase invalid reservation id is passed for update lease api.\n\nCloses-Bug: #1793743\n\nChange-Id: I83e7c3cc0b6ca79aab2b8bb23ba82fceb96646e2\n'}, {'number': 2, 'created': '2018-10-30 09:36:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/6eb673135e92321358b4759058b8fa9f46140d60', 'message': 'Fix incorrect response returned by update lease api\n\nFor lease update api, reservation id is a required parameter.\nSo if you pass value of ""reservation.id"" as: empty string / null /\nincorrect UUID, then it gives 200 OK response instead of 400.\n\nThis patch fixes it by raising InvalidInput exception if invalid\nvalue for reservation.id is passed.\n\nAPIImpact\nThe response code is changed from 200 OK to 400 BadRequest in\ncase invalid reservation id is passed for update lease api.\n\nCloses-Bug: #1793743\n\nChange-Id: I83e7c3cc0b6ca79aab2b8bb23ba82fceb96646e2\n'}, {'number': 3, 'created': '2018-11-27 10:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/aed043ea8cfe56433298c1a4e77bb0fdbbc4f25d', 'message': 'Fix incorrect response returned by update lease api\n\nFor lease update api, reservation id is a required parameter.\nSo if you pass value of ""reservation.id"" as: empty string / null /\nincorrect UUID, then it gives 200 OK response instead of 400.\n\nThis patch fixes it by raising InvalidInput exception if invalid\nvalue for reservation.id is passed.\n\nAPIImpact\nThe response code is changed from 200 OK to 400 BadRequest in\ncase invalid reservation id is passed for update lease api.\n\nCloses-Bug: #1793743\n\nChange-Id: I83e7c3cc0b6ca79aab2b8bb23ba82fceb96646e2\n'}, {'number': 4, 'created': '2018-11-27 13:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/53b637338fe72e0f4adfc8fe00595c6cf2cea226', 'message': 'Fix incorrect response returned by the Update Lease API\n\nWhen updating reservation values, the reservation ID is a required\nparameter. However, if the value of ""reservation.id"" is set to an empty\nstring, null, or an incorrect UUID, Blazar currently returns a 200 OK\nresponse instead of a 400 Bad Request.\n\nThis patch fixes it by raising an InvalidInput exception if an invalid\nvalue is passed for reservation.id.\n\nAPIImpact: The response code is changed from 200 OK to 400 Bad Request\nif an invalid reservation ID is passed to the Update Lease API.\n\nChange-Id: I83e7c3cc0b6ca79aab2b8bb23ba82fceb96646e2\nCloses-Bug: #1793743\n'}, {'number': 5, 'created': '2018-11-27 13:28:52.000000000', 'files': ['blazar/manager/service.py', 'test-requirements.txt', 'blazar/tests/manager/test_service.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/blazar/commit/c023e368029332c8981eacf3ac862e3145224775', 'message': 'Fix incorrect response returned by the Update Lease API\n\nWhen updating reservation values, the reservation ID is a required\nparameter. However, if the value of ""reservation.id"" is set to an empty\nstring, null, or an incorrect UUID, Blazar currently returns a 200 OK\nresponse instead of a 400 Bad Request.\n\nThis patch fixes it by raising an InvalidInput exception if an invalid\nvalue is passed for reservation.id.\n\nAPIImpact: The response code is changed from 200 OK to 400 Bad Request\nif an invalid reservation ID is passed to the Update Lease API.\n\nChange-Id: I83e7c3cc0b6ca79aab2b8bb23ba82fceb96646e2\nCloses-Bug: #1793743\n'}]",5,614146,c023e368029332c8981eacf3ac862e3145224775,18,4,5,26541,,,0,"Fix incorrect response returned by the Update Lease API

When updating reservation values, the reservation ID is a required
parameter. However, if the value of ""reservation.id"" is set to an empty
string, null, or an incorrect UUID, Blazar currently returns a 200 OK
response instead of a 400 Bad Request.

This patch fixes it by raising an InvalidInput exception if an invalid
value is passed for reservation.id.

APIImpact: The response code is changed from 200 OK to 400 Bad Request
if an invalid reservation ID is passed to the Update Lease API.

Change-Id: I83e7c3cc0b6ca79aab2b8bb23ba82fceb96646e2
Closes-Bug: #1793743
",git fetch https://review.opendev.org/openstack/blazar refs/changes/46/614146/4 && git format-patch -1 --stdout FETCH_HEAD,"['blazar/manager/service.py', 'test-requirements.txt', 'blazar/tests/manager/test_service.py']",3,717873c09ac46ab7717ec63e62a7bafa2e644255,bug/1793743,"import ddt@ddt.ddt @ddt.data('', None, '1234', '7085381b-45e0-4e5d-b24a-f965f5e6e5d7') def test_update_reservations_with_invalid_reservation_id(self, reservation_id): lease_values = { 'reservations': [ { 'disk_gb': 30, 'id': reservation_id, } ] } reservation_get_all = ( self.patch(self.db_api, 'reservation_get_all_by_lease_id')) reservation_get_all.return_value = [ { 'id': u'593e7028-c0d1-4d76-8642-2ffd890b324c', 'resource_type': 'virtual:instance', }, { 'id': u'2eeb784a-2d84-4a89-a201-9d42d61eecb1', 'resource_type': 'virtual:instance', } ] target = datetime.datetime(2013, 12, 15) with mock.patch.object(datetime, 'datetime', mock.Mock(wraps=datetime.datetime)) as patched: patched.utcnow.return_value = target self.assertRaises( exceptions.InvalidInput, self.manager.update_lease, lease_id=self.lease_id, values=lease_values) ",,48,4
openstack%2Fcharm-aodh~master~I58f2d452ad4c25f4892b753498fbfad824b77df1,openstack/charm-aodh,master,I58f2d452ad4c25f4892b753498fbfad824b77df1,Rebuild for haproxy restart issues,MERGED,2018-11-27 10:37:07.000000000,2018-11-30 09:56:15.000000000,2018-11-30 09:56:15.000000000,"[{'_account_id': 935}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-27 10:37:07.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/e93a8da4a70c08931a3dd5164cc2e7afa78d3a5b', 'message': 'Rebuild for haproxy restart issues\n\nRebuild charm to pickup latest changes to charms.openstack to\nresolve issues with haproxy being restarted due to random\ndict iteration.\n\nChange-Id: I58f2d452ad4c25f4892b753498fbfad824b77df1\nCloses-Bug: 1800980\n'}]",0,620287,e93a8da4a70c08931a3dd5164cc2e7afa78d3a5b,9,4,1,935,,,0,"Rebuild for haproxy restart issues

Rebuild charm to pickup latest changes to charms.openstack to
resolve issues with haproxy being restarted due to random
dict iteration.

Change-Id: I58f2d452ad4c25f4892b753498fbfad824b77df1
Closes-Bug: 1800980
",git fetch https://review.opendev.org/openstack/charm-aodh refs/changes/87/620287/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,e93a8da4a70c08931a3dd5164cc2e7afa78d3a5b,bug/1800980,d0b276e4-f561-453f-b997-b2700e98170d,,1,0
openstack%2Fkuryr-kubernetes~stable%2Frocky~I95c2d3e1760a938d40d57a99fb87b6f02ca7f64a,openstack/kuryr-kubernetes,stable/rocky,I95c2d3e1760a938d40d57a99fb87b6f02ca7f64a,Work out situation with KUBERNETES_NODE_NAME,MERGED,2018-11-29 11:33:46.000000000,2018-11-30 09:53:48.000000000,2018-11-30 09:53:47.000000000,"[{'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2018-11-29 11:33:46.000000000', 'files': ['kuryr_kubernetes/utils.py', 'kuryr_kubernetes/tests/unit/test_utils.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/5727f1aa0863841eef4ddd0ceff43323cb75d3ca', 'message': 'Work out situation with KUBERNETES_NODE_NAME\n\nThis reverts commit f0cde86ee68027bd66597f2e4b8db4e10fa81e0b as it turns\nout that variable is actually used by kuryr-daemon and fixes the way\nkuryr-controller detects its identity to match how leader-elector is\ndoing it.\n\nChange-Id: I95c2d3e1760a938d40d57a99fb87b6f02ca7f64a\nCloses-Bug: 1798835\n(cherry picked from commit 65e05c3b6d958abad90dd60dd0fe2087b1dba02b)\n'}]",0,620889,5727f1aa0863841eef4ddd0ceff43323cb75d3ca,7,3,1,11600,,,0,"Work out situation with KUBERNETES_NODE_NAME

This reverts commit f0cde86ee68027bd66597f2e4b8db4e10fa81e0b as it turns
out that variable is actually used by kuryr-daemon and fixes the way
kuryr-controller detects its identity to match how leader-elector is
doing it.

Change-Id: I95c2d3e1760a938d40d57a99fb87b6f02ca7f64a
Closes-Bug: 1798835
(cherry picked from commit 65e05c3b6d958abad90dd60dd0fe2087b1dba02b)
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/89/620889/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/utils.py', 'kuryr_kubernetes/tests/unit/test_utils.py']",2,5727f1aa0863841eef4ddd0ceff43323cb75d3ca,bug/1798835-stable/rocky," def test_get_node_name(self, m_gethostname):","import os def test_get_node_name_socket(self, m_gethostname): try: del os.environ['KUBERNETES_NODE_NAME'] except KeyError: pass @mock.patch('socket.gethostname') def test_get_node_name_envvar(self, m_gethostname): os.environ['KUBERNETES_NODE_NAME'] = 'bar' m_gethostname.return_value = 'foo' res = utils.get_node_name() self.assertEqual('bar', res) m_gethostname.assert_not_called() ",5,20
openstack%2Fcharm-designate~master~I96643fbe74f0413c6e44b4c78e0c8a5effbb5d8f,openstack/charm-designate,master,I96643fbe74f0413c6e44b4c78e0c8a5effbb5d8f,Rebuild for haproxy restart issues,MERGED,2018-11-27 10:37:47.000000000,2018-11-30 09:51:52.000000000,2018-11-30 09:51:52.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-27 10:37:47.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/03778b8cb51f3629569169d5d4ce55421546e88c', 'message': 'Rebuild for haproxy restart issues\n\nRebuild charm to pickup latest changes to charms.openstack to\nresolve issues with haproxy being restarted due to random\ndict iteration.\n\nChange-Id: I96643fbe74f0413c6e44b4c78e0c8a5effbb5d8f\nCloses-Bug: 1800980\n'}]",0,620288,03778b8cb51f3629569169d5d4ce55421546e88c,7,3,1,935,,,0,"Rebuild for haproxy restart issues

Rebuild charm to pickup latest changes to charms.openstack to
resolve issues with haproxy being restarted due to random
dict iteration.

Change-Id: I96643fbe74f0413c6e44b4c78e0c8a5effbb5d8f
Closes-Bug: 1800980
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/88/620288/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,03778b8cb51f3629569169d5d4ce55421546e88c,bug/1800980,102c6687-11c7-420f-ab85-62815fce8cdf,,1,0
openstack%2Fpython-monascaclient~master~I6d5ca5847d28c37e6415e400731f135274c72229,openstack/python-monascaclient,master,I6d5ca5847d28c37e6415e400731f135274c72229,Add Python 3.6 classifier to setup.cfg,MERGED,2018-11-30 07:04:51.000000000,2018-11-30 09:50:49.000000000,2018-11-30 09:50:49.000000000,"[{'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-30 07:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-monascaclient/commit/1da6deb0623de15bee0a26425caf5b892653804c', 'message': 'Add Python 3.6 classifier to setup.cfg\n\nChange-Id: I6d5ca5847d28c37e6415e400731f135274c72229\n'}, {'number': 2, 'created': '2018-11-30 08:25:32.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-monascaclient/commit/22aafe5ad6ad73684176b47b3cbe87896573d9e6', 'message': 'Add Python 3.6 classifier to setup.cfg\n\nChange-Id: I6d5ca5847d28c37e6415e400731f135274c72229\nStory: 2004148\nTask: 28173\n'}]",0,621089,22aafe5ad6ad73684176b47b3cbe87896573d9e6,8,2,2,17499,,,0,"Add Python 3.6 classifier to setup.cfg

Change-Id: I6d5ca5847d28c37e6415e400731f135274c72229
Story: 2004148
Task: 28173
",git fetch https://review.opendev.org/openstack/python-monascaclient refs/changes/89/621089/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,1da6deb0623de15bee0a26425caf5b892653804c,, Programming Language :: Python :: 3.6,,1,0
openstack%2Fcharm-gnocchi~master~I276aa16bf0b64c3d72a60e11f527e9c8639f4a63,openstack/charm-gnocchi,master,I276aa16bf0b64c3d72a60e11f527e9c8639f4a63,Rebuild for haproxy restart issues,MERGED,2018-11-27 10:36:32.000000000,2018-11-30 09:47:36.000000000,2018-11-30 09:47:36.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-27 10:36:32.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/b335717e8de8b6f6eaa6435843de7f9763c7dc9f', 'message': 'Rebuild for haproxy restart issues\n\nRebuild charm to pickup latest changes to charms.openstack to\nresolve issues with haproxy being restarted due to random\ndict iteration.\n\nChange-Id: I276aa16bf0b64c3d72a60e11f527e9c8639f4a63\nCloses-Bug: 1800980\n'}]",0,620286,b335717e8de8b6f6eaa6435843de7f9763c7dc9f,7,3,1,935,,,0,"Rebuild for haproxy restart issues

Rebuild charm to pickup latest changes to charms.openstack to
resolve issues with haproxy being restarted due to random
dict iteration.

Change-Id: I276aa16bf0b64c3d72a60e11f527e9c8639f4a63
Closes-Bug: 1800980
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/86/620286/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,b335717e8de8b6f6eaa6435843de7f9763c7dc9f,bug/1800980,12916897-ca0f-4f54-87fd-6b3f88e365d2,,1,0
openstack%2Fcharm-barbican~master~I4af99978ca18015530026cb99702e4abd6dde6b7,openstack/charm-barbican,master,I4af99978ca18015530026cb99702e4abd6dde6b7,Rebuild for haproxy restart issues,MERGED,2018-11-27 10:38:09.000000000,2018-11-30 09:44:48.000000000,2018-11-30 09:44:48.000000000,"[{'_account_id': 935}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-27 10:38:09.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/402f48a17185fea63722e10a49446b56411e03c6', 'message': 'Rebuild for haproxy restart issues\n\nRebuild charm to pickup latest changes to charms.openstack to\nresolve issues with haproxy being restarted due to random\ndict iteration.\n\nChange-Id: I4af99978ca18015530026cb99702e4abd6dde6b7\nCloses-Bug: 1800980\n'}]",0,620289,402f48a17185fea63722e10a49446b56411e03c6,11,4,1,935,,,0,"Rebuild for haproxy restart issues

Rebuild charm to pickup latest changes to charms.openstack to
resolve issues with haproxy being restarted due to random
dict iteration.

Change-Id: I4af99978ca18015530026cb99702e4abd6dde6b7
Closes-Bug: 1800980
",git fetch https://review.opendev.org/openstack/charm-barbican refs/changes/89/620289/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,402f48a17185fea63722e10a49446b56411e03c6,bug/1800980,b00385ba-a59b-4f4e-95ab-e761251303da,,1,0
openstack%2Fcharm-nova-compute~master~Ie68be0f3e7ca610478159f5f1dd491b8b755e82e,openstack/charm-nova-compute,master,Ie68be0f3e7ca610478159f5f1dd491b8b755e82e,Don't write files to /etc/init if not present,MERGED,2018-11-27 10:53:09.000000000,2018-11-30 09:44:47.000000000,2018-11-30 09:44:46.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-27 10:53:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/958142f3110aa430f2e13970193e61b02508ca0b', 'message': ""Don't write files to /etc/init if not present\n\nOnly write the libvirt-bin.override file if /etc/init actually\nexists; This is really present to support upstart based deployments\nso is not required on Ubuntu Xenial or later.\n\nIf nova-compute is deployed in a LXD container, this directory is\nunlikely to be present in a pristine container image.\n\nChange-Id: Ie68be0f3e7ca610478159f5f1dd491b8b755e82e\nCloses-Bug: 1805191\n""}, {'number': 2, 'created': '2018-11-27 11:18:41.000000000', 'files': ['hooks/nova_compute_utils.py', 'unit_tests/test_nova_compute_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/ade7586da474e4dfce09902f54acb3f0ab1be9c3', 'message': ""Don't write files to /etc/init if not present\n\nOnly write the libvirt-bin.override file if /etc/init actually\nexists; This is really present to support upstart based deployments\nso is not required on Ubuntu Xenial or later.\n\nIf nova-compute is deployed in a LXD container, this directory is\nunlikely to be present in a pristine container image.\n\nChange-Id: Ie68be0f3e7ca610478159f5f1dd491b8b755e82e\nCloses-Bug: 1805191\n""}]",0,620290,ade7586da474e4dfce09902f54acb3f0ab1be9c3,9,3,2,935,,,0,"Don't write files to /etc/init if not present

Only write the libvirt-bin.override file if /etc/init actually
exists; This is really present to support upstart based deployments
so is not required on Ubuntu Xenial or later.

If nova-compute is deployed in a LXD container, this directory is
unlikely to be present in a pristine container image.

Change-Id: Ie68be0f3e7ca610478159f5f1dd491b8b755e82e
Closes-Bug: 1805191
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/90/620290/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/nova_compute_utils.py', 'unit_tests/test_nova_compute_utils.py']",2,958142f3110aa430f2e13970193e61b02508ca0b,bug/1805191," @patch.object(utils, 'os') def test_resource_map_nova_network_no_multihost(self, net_man, en_meta, _os): _os.path.exists.return_value = True @patch.object(utils, 'os') def test_resource_map_nova_network_ocata(self, net_man, en_meta, _os): _os.path.exists.return_value = False @patch.object(utils, 'os') def test_resource_map_nova_network(self, net_man, en_meta, _os): _os.path.exists.return_value = True"," def test_resource_map_nova_network_no_multihost(self, net_man, en_meta): def test_resource_map_nova_network_ocata(self, net_man, en_meta): '/etc/init/libvirt-bin.override': { 'contexts': [], 'services': ['libvirtd'] }, def test_resource_map_nova_network(self, net_man, en_meta):",15,7
openstack%2Fkeystone~master~I15b1df51af53d56293a7b1b2a06fda7f4e5d45eb,openstack/keystone,master,I15b1df51af53d56293a7b1b2a06fda7f4e5d45eb,Move to password validation schema,MERGED,2018-10-30 16:32:32.000000000,2018-11-30 09:43:25.000000000,2018-11-30 09:43:25.000000000,"[{'_account_id': 5046}, {'_account_id': 15054}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-30 16:32:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b3dd6200d2a98920ecdb872bc8ad0441fa2b569c', 'message': 'Move to password validation schema\n\nThis change moves the user api change password value check to\nJSON schema, rather than manually checking for empty/invalid\nvalues.\n\nChange-Id: I15b1df51af53d56293a7b1b2a06fda7f4e5d45eb\n'}, {'number': 2, 'created': '2018-11-13 21:52:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/79e8a0451549b90ae114149405bede814334654d', 'message': 'Move to password validation schema\n\nThis change moves the user api change password value check to\nJSON schema, rather than manually checking for empty/invalid\nvalues.\n\nChange-Id: I15b1df51af53d56293a7b1b2a06fda7f4e5d45eb\n'}, {'number': 3, 'created': '2018-11-27 20:58:16.000000000', 'files': ['keystone/tests/unit/test_validation.py', 'keystone/api/users.py', 'keystone/identity/schema.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/dec8c717c94200d7e7c0aeb316d2123b9c53a3ba', 'message': 'Move to password validation schema\n\nThis change moves the user api change password value check to\nJSON schema, rather than manually checking for empty/invalid\nvalues. After this, more of the password validation can\nbe moved up to schema from code.\n\nChange-Id: I15b1df51af53d56293a7b1b2a06fda7f4e5d45eb\n'}]",8,614294,dec8c717c94200d7e7c0aeb316d2123b9c53a3ba,23,4,3,21420,,,0,"Move to password validation schema

This change moves the user api change password value check to
JSON schema, rather than manually checking for empty/invalid
values. After this, more of the password validation can
be moved up to schema from code.

Change-Id: I15b1df51af53d56293a7b1b2a06fda7f4e5d45eb
",git fetch https://review.opendev.org/openstack/keystone refs/changes/94/614294/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/test_validation.py', 'keystone/api/users.py', 'keystone/identity/schema.py']",3,b3dd6200d2a98920ecdb872bc8ad0441fa2b569c,password-schema," _password_change_properties = { 'original_password': { 'type': 'string' }, 'password': { 'type': 'string' } } password_change = { 'type': 'object', 'properties': _password_change_properties, 'required': ['original_password', 'password'], 'additionalProperties': False }",,62,16
openstack%2Frequirements~master~I1ccca853a1b8a3c0e1f442f129f3fda0a6a7a95d,openstack/requirements,master,I1ccca853a1b8a3c0e1f442f129f3fda0a6a7a95d,update constraint for os-brick to new release 2.6.2,MERGED,2018-11-29 16:59:11.000000000,2018-11-30 09:40:14.000000000,2018-11-30 09:40:13.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-29 16:59:11.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/6c8d223950936d80e3fe205ab7e0c7b5914a59b4', 'message': 'update constraint for os-brick to new release 2.6.2\n\nChange-Id: I1ccca853a1b8a3c0e1f442f129f3fda0a6a7a95d\nmeta:version: 2.6.2\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Jay S. Bryant <jsbryant@electronicjungle.net>\nmeta:release:Commit: Jay S. Bryant <jsbryant@electronicjungle.net>\nmeta:release:Change-Id: Iea2d3d3705830953736e7a2bf598b055ef8a2cb1\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,620960,6c8d223950936d80e3fe205ab7e0c7b5914a59b4,6,2,1,11131,,,0,"update constraint for os-brick to new release 2.6.2

Change-Id: I1ccca853a1b8a3c0e1f442f129f3fda0a6a7a95d
meta:version: 2.6.2
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Jay S. Bryant <jsbryant@electronicjungle.net>
meta:release:Commit: Jay S. Bryant <jsbryant@electronicjungle.net>
meta:release:Change-Id: Iea2d3d3705830953736e7a2bf598b055ef8a2cb1
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/60/620960/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,6c8d223950936d80e3fe205ab7e0c7b5914a59b4,new-release,os-brick===2.6.2,os-brick===2.6.1,1,1
openstack%2Fcharm-gnocchi~master~I2f06db33abfeb867bd820d27685864ef7a5e5448,openstack/charm-gnocchi,master,I2f06db33abfeb867bd820d27685864ef7a5e5448,Stop config render every update_status,ABANDONED,2018-11-01 04:33:06.000000000,2018-11-30 09:28:27.000000000,,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-01 04:33:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/810f00c727c622aeb85d778c92b725c314419cdc', 'message': ""Stop config render every update_status\n\nThe render_config() method sets config.rendered, but doesn't check if\nthat state is already set before running.  Adds the check.\n\nChange-Id: I2f06db33abfeb867bd820d27685864ef7a5e5448\nCloses-Bug: #1800980\n""}, {'number': 2, 'created': '2018-11-01 04:35:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/370354b4c34091a5b02079e26c72a5447f3d59ad', 'message': ""Stop config render every update_status\n\nThe render_config() method sets config.rendered, but doesn't check if\nthat state is already set before running.  Adds the check.\n\nChange-Id: I2f06db33abfeb867bd820d27685864ef7a5e5448\nCloses-Bug: #1800980\n""}, {'number': 3, 'created': '2018-11-01 20:54:34.000000000', 'files': ['unit_tests/test_gnocchi_handlers.py', 'src/reactive/gnocchi_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/4b8180c35a26b4931367706928e21dfe4501924f', 'message': ""Stop config render every update_status\n\nThe render_config() method sets config.rendered, but doesn't check if\nthat state is already set before running.  Adds the check.\n\nChange-Id: I2f06db33abfeb867bd820d27685864ef7a5e5448\nCloses-Bug: #1800980\n""}]",0,614691,4b8180c35a26b4931367706928e21dfe4501924f,9,3,3,10086,,,0,"Stop config render every update_status

The render_config() method sets config.rendered, but doesn't check if
that state is already set before running.  Adds the check.

Change-Id: I2f06db33abfeb867bd820d27685864ef7a5e5448
Closes-Bug: #1800980
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/91/614691/1 && git format-patch -1 --stdout FETCH_HEAD,['src/reactive/gnocchi_handlers.py'],1,810f00c727c622aeb85d778c92b725c314419cdc,bug/1800980,@reactive_when_not('config.rendered'),,1,0
openstack%2Fcharm-aodh~master~Id388780eedeca323505307559a91c7ce60bc5fc4,openstack/charm-aodh,master,Id388780eedeca323505307559a91c7ce60bc5fc4,Stop config render every update_status,ABANDONED,2018-11-01 05:27:12.000000000,2018-11-30 09:28:20.000000000,,"[{'_account_id': 12549}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-01 05:27:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/a5762b66a1ac7bee0350c556a3fd041651096a03', 'message': 'Stop config render every update_status\n\nAdds a check for the config.complete flag before re-rendering configs.\n\nAlso adds a hook for relation changed, removing the config.complete\nflag, so that configs get updated when relations change.\n\nChange-Id: Id388780eedeca323505307559a91c7ce60bc5fc4\nCloses-Bug: #1800980\n'}, {'number': 2, 'created': '2018-11-01 20:50:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/a75689ae9d4943f05cb283a502b859f1466d1b7a', 'message': 'Stop config render every update_status\n\nAdds a check for the config.complete flag before re-rendering configs.\n\nAlso adds a hook for relation changed, removing the config.complete\nflag, so that configs get updated when relations change.\n\nChange-Id: Id388780eedeca323505307559a91c7ce60bc5fc4\nCloses-Bug: #1800980\n'}, {'number': 3, 'created': '2018-11-02 03:13:22.000000000', 'files': ['unit_tests/test_aodh_handlers.py', 'src/reactive/aodh_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/7fafd464955763be90b6df27b673ec20702f29ea', 'message': 'Stop config render every update_status\n\nAdds a check for the config.complete flag before re-rendering configs.\n\nAlso adds a hook for relation changed, removing the config.complete\nflag, so that configs get updated when relations change.\n\nChange-Id: Id388780eedeca323505307559a91c7ce60bc5fc4\nCloses-Bug: #1800980\n'}]",0,614696,7fafd464955763be90b6df27b673ec20702f29ea,15,4,3,10086,,,0,"Stop config render every update_status

Adds a check for the config.complete flag before re-rendering configs.

Also adds a hook for relation changed, removing the config.complete
flag, so that configs get updated when relations change.

Change-Id: Id388780eedeca323505307559a91c7ce60bc5fc4
Closes-Bug: #1800980
",git fetch https://review.opendev.org/openstack/charm-aodh refs/changes/96/614696/1 && git format-patch -1 --stdout FETCH_HEAD,['src/reactive/aodh_handlers.py'],1,a5762b66a1ac7bee0350c556a3fd041651096a03,bug/1800980,"@reactive.when('cluster.changed') def cluster_changed(): reactive.remove_state('config.complete') @reactive.when_not('cluster.available', 'config.complete')@reactive.when_not('config.complete')",@reactive.when_not('cluster.available'),8,1
openstack%2Fcharm-designate~master~I28e40ab26d5cc1c617346b6eac63e940afea6eba,openstack/charm-designate,master,I28e40ab26d5cc1c617346b6eac63e940afea6eba,Stop config render every update_status,ABANDONED,2018-11-02 04:51:16.000000000,2018-11-30 09:28:09.000000000,,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-02 04:51:16.000000000', 'files': ['unit_tests/test_designate_handlers.py', 'src/reactive/designate_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/23cc7098707e900094166bd03b2c015863d40d93', 'message': 'Stop config render every update_status\n\nAdds additional flags to prevent the config being re-written every time\nany hook runs.\n\nChange-Id: I28e40ab26d5cc1c617346b6eac63e940afea6eba\nCloses-Bug: #1800980\n'}]",0,614979,23cc7098707e900094166bd03b2c015863d40d93,5,3,1,10086,,,0,"Stop config render every update_status

Adds additional flags to prevent the config being re-written every time
any hook runs.

Change-Id: I28e40ab26d5cc1c617346b6eac63e940afea6eba
Closes-Bug: #1800980
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/79/614979/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_designate_handlers.py', 'src/reactive/designate_handlers.py']",2,23cc7098707e900094166bd03b2c015863d40d93,bug/1800980," reactive.remove_state('full-config.rendered') with is_data_changed('rndc_address', rndc_address) as c: if c: cluster.set_address('rndc', rndc_address)@reactive.when_not('full-config.rendered') reactive.set_state('full-config.rendered')"," cluster.set_address('rndc', rndc_address)",7,1
openstack%2Fneutron-dynamic-routing~master~Ia986f98f8bda9c7cde33af3dfdf2e45a2685fd6d,openstack/neutron-dynamic-routing,master,Ia986f98f8bda9c7cde33af3dfdf2e45a2685fd6d,Remove unnecessary mocking of get_admin_context,MERGED,2018-11-27 14:40:02.000000000,2018-11-30 09:09:45.000000000,2018-11-30 09:09:45.000000000,"[{'_account_id': 4187}, {'_account_id': 5367}, {'_account_id': 6854}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 27654}, {'_account_id': 28581}]","[{'number': 1, 'created': '2018-11-27 14:40:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/842b4cc23a251169ee91b5c4477bf46c386bf0c0', 'message': ""Remove unnecessary mocking of get_admin_context\n\nBecause:\n- They are not necessary.\n- Neutron agent scheduler code (reschedule_resources_from_down_agents)\n  seems to (correctly) assume each get_admin_context() call returns\n  a fresh context.  This mocking breaks it.\n- Right now, Neutron agentdb uses the new engine facade [1] and\n  Neutron agent scheduler doesn't. It causes caching issue in our\n  unit tests. (See the Related-Bug)  Stopping reusing contexts\n  (thus sessions) would prevent the issue.\n\n[1] https://review.openstack.org/#/c/611462/\n\nRelated-Bug: #1803745\nChange-Id: Ia986f98f8bda9c7cde33af3dfdf2e45a2685fd6d\n""}, {'number': 2, 'created': '2018-11-28 10:55:03.000000000', 'files': ['neutron_dynamic_routing/tests/unit/services/bgp/scheduler/test_bgp_dragent_scheduler.py'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/7f82a19155abfb88f6f1d463ac90de3198ad67c9', 'message': ""Remove unnecessary mocking of get_admin_context\n\nBecause:\n- They are not necessary.\n- Neutron agent scheduler code (reschedule_resources_from_down_agents)\n  seems to (correctly) assume each get_admin_context() call returns\n  a fresh context.  This mocking breaks it.\n- Right now, Neutron agentdb uses the new engine facade [1] and\n  Neutron agent scheduler doesn't. It causes caching issue in our\n  unit tests. (See the Related-Bug)  Stopping reusing contexts\n  (thus sessions) would prevent the issue.\n\n[1] https://review.openstack.org/#/c/611462/\n\nRelated-Bug: #1803745\nChange-Id: Ia986f98f8bda9c7cde33af3dfdf2e45a2685fd6d\n""}]",2,620334,7f82a19155abfb88f6f1d463ac90de3198ad67c9,14,7,2,6854,,,0,"Remove unnecessary mocking of get_admin_context

Because:
- They are not necessary.
- Neutron agent scheduler code (reschedule_resources_from_down_agents)
  seems to (correctly) assume each get_admin_context() call returns
  a fresh context.  This mocking breaks it.
- Right now, Neutron agentdb uses the new engine facade [1] and
  Neutron agent scheduler doesn't. It causes caching issue in our
  unit tests. (See the Related-Bug)  Stopping reusing contexts
  (thus sessions) would prevent the issue.

[1] https://review.openstack.org/#/c/611462/

Related-Bug: #1803745
Change-Id: Ia986f98f8bda9c7cde33af3dfdf2e45a2685fd6d
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/34/620334/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_dynamic_routing/tests/unit/services/bgp/scheduler/test_bgp_dragent_scheduler.py'],1,842b4cc23a251169ee91b5c4477bf46c386bf0c0,bug/1803745,, admin_ctx_p = mock.patch('neutron_lib.context.get_admin_context') admin_ctx_p = mock.patch('neutron_lib.context.get_admin_context') self.admin_ctx_m = admin_ctx_p.start() self.admin_ctx_m.return_value = self.ctx admin_ctx_p = mock.patch('neutron_lib.context.get_admin_context') self.admin_ctx_m = admin_ctx_p.start() self.admin_ctx_m.return_value = self.ctx,0,7
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I83cddd80979d5cfaff78e527dc79b9086cd627d1,openstack/tripleo-heat-templates,stable/queens,I83cddd80979d5cfaff78e527dc79b9086cd627d1,Switch scenarios to non-voting,MERGED,2018-11-29 18:13:14.000000000,2018-11-30 09:07:12.000000000,2018-11-30 05:41:08.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-29 18:13:14.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3db0816c00a9cb334839c5aa0d97f7e601d688b2', 'message': 'Switch scenarios to non-voting\n\nAs we continue to have issues with these jobs due to timeouts and other\nfailures. We need to switch the scenario jobs to non-voting and remove\nthem from the gate.\n\nChange-Id: I83cddd80979d5cfaff78e527dc79b9086cd627d1\n'}]",0,620978,3db0816c00a9cb334839c5aa0d97f7e601d688b2,8,3,1,14985,,,0,"Switch scenarios to non-voting

As we continue to have issues with these jobs due to timeouts and other
failures. We need to switch the scenario jobs to non-voting and remove
them from the gate.

Change-Id: I83cddd80979d5cfaff78e527dc79b9086cd627d1
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/78/620978/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,3db0816c00a9cb334839c5aa0d97f7e601d688b2,scenarios-nv,, voting: true voting: true voting: true voting: true voting: true - tripleo-ci-centos-7-scenario001-multinode-oooq-container: voting: true files: - ^(docker|puppet)/services/.*aodh.*$ - ^(docker|puppet)/services/.*ceilometer.*$ - ^(docker|puppet)/services/.*ceph.*$ - ^(docker|puppet)/services/.*cinder.*$ - ^(docker|puppet)/services/.*glance.*$ - ^(docker|puppet)/services/.*gnocchi.*$ - ^(docker|puppet)/services/.*logging.*$ - ^(docker|puppet)/services/.*metrics.*$ - ^(docker|puppet)/services/.*monitoring.*$ - ^(docker|puppet)/services/.*panko.*$ - ci/environments/scenario001-multinode-containers.yaml - ^environments\/.*.yaml - ^deployed-server/.*$ - tripleo-ci-centos-7-scenario002-multinode-oooq-container: voting: true files: - ^(docker|puppet)/services/.*aodh.*$ - ^(docker|puppet)/services/.*barbican.*$ - ^(docker|puppet)/services/.*ceilometer.*$ - ^(docker|puppet)/services/.*cinder.*$ - ^(docker|puppet)/services/.*ec2-api.*$ - ^(docker|puppet)/services/.*glance.*$ - ^(docker|puppet)/services/.*gnocchi.*$ - ^(docker|puppet)/services/.*panko.*$ - ^(docker|puppet)/services/.*swift.*$ - ^(docker|puppet)/services/.*zaqar.*$ - ci/environments/scenario002-multinode-containers.yaml - ^environments\/.*.yaml - ^deployed-server/.*$ - tripleo-ci-centos-7-scenario003-multinode-oooq-container: voting: true files: - ^(docker|puppet)/services/.*glance.*$ - ^(docker|puppet)/services/.*mistral.*$ - ^(docker|puppet)/services/.*sahara.*$ - ci/environments/scenario003-multinode-containers.yaml - ^environments\/.*.yaml - ^deployed-server/.*$ - tripleo-ci-centos-7-scenario004-multinode-oooq-container: voting: true files: - ^(docker|puppet)/services/.*ceph.*$ - ^(docker|puppet)/services/.*glance.*$ - ^(docker|puppet)/services/.*manila.*$ - ci/environments/scenario004-multinode-containers.yaml - ^environments\/.*.yaml - ^deployed-server/.*$ - tripleo-ci-centos-7-scenario007-multinode-oooq-container: voting: true files: - ci/environments/scenario007-multinode-containers.yaml - ^(docker|puppet)/services/.*.*ovn.*$ - ^(docker|puppet)/services/.*congress.*$ - ^(docker|puppet)/services/.*tacker.*$ - ^environments\/.*.yaml - ^deployed-server/.*$,0,64
openstack%2Fwatcher~master~I610a7a24daab68c7ab0e30977e3cabd62cdb56a5,openstack/watcher,master,I610a7a24daab68c7ab0e30977e3cabd62cdb56a5,start tls-proxy (if enabled) before checking for api,MERGED,2018-10-24 11:15:14.000000000,2018-11-30 09:06:55.000000000,2018-11-30 09:06:55.000000000,"[{'_account_id': 19055}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 23735}]","[{'number': 1, 'created': '2018-10-24 11:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/2c7df8788fca6aa09539887c3d0fd420d4fa5b13', 'message': 'start tls-proxy (if enabled) before checking for api\n\nWhen tls-proxy is enabled, first start the tls-proxy and then then wait\nfor api to come up.\n\nWithout this the api comes up on the internal port as a result the\nsubsequent curl fails killing the deployment\n\nChange-Id: I610a7a24daab68c7ab0e30977e3cabd62cdb56a5\n'}, {'number': 2, 'created': '2018-10-24 11:43:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/00212bdfd972559507be419e46c020e0f6e6abc1', 'message': 'start tls-proxy (if enabled) before checking for api\n\nWhen tls-proxy is enabled, first start the tls-proxy and then then wait\nfor api to come up.\n\nWithout this the api comes up on the internal port as a result the\nsubsequent curl fails killing the deployment\n\nChange-Id: I610a7a24daab68c7ab0e30977e3cabd62cdb56a5\n'}, {'number': 3, 'created': '2018-10-25 12:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/ddfbbdcd5025087108426e3a2e8410e07cc9b685', 'message': 'start tls-proxy (if enabled) before checking for api\n\nWhen tls-proxy is enabled, first start the tls-proxy and then then wait\nfor api to come up.\n\nWithout this the api comes up on the internal port as a result the\nsubsequent curl fails killing the deployment\n\nChange-Id: I610a7a24daab68c7ab0e30977e3cabd62cdb56a5\n'}, {'number': 4, 'created': '2018-10-26 09:37:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/4c7718a875fd91f0f40c6332dabbc040940c414a', 'message': 'start tls-proxy (if enabled) before checking for api\n\nWhen tls-proxy is enabled, first start the tls-proxy and then then wait\nfor api to come up.\n\nWithout this the api comes up on the internal port as a result the\nsubsequent curl fails killing the deployment\n\nChange-Id: I610a7a24daab68c7ab0e30977e3cabd62cdb56a5\n'}, {'number': 5, 'created': '2018-11-15 10:34:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/3dc1b3b6ae3c6fe428069d365d3b11db50c2d79b', 'message': 'start tls-proxy (if enabled) before checking for api\n\nWhen tls-proxy is enabled, first start the tls-proxy and then then wait\nfor api to come up.\n\nWithout this the api comes up on the internal port as a result the\nsubsequent curl fails killing the deployment\n- create a zuul job to test with tls\n- fix apache ports accordingly\n\nChange-Id: I610a7a24daab68c7ab0e30977e3cabd62cdb56a5\n'}, {'number': 6, 'created': '2018-11-16 12:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/e344fe6e796b5151c6c8c83df448f16876a37ca9', 'message': 'start tls-proxy (if enabled) before checking for api\n\nWhen tls-proxy is enabled, first start the tls-proxy and then then wait\nfor api to come up.\n\nWithout this the api comes up on the internal port as a result the\nsubsequent curl fails killing the deployment\n- create a zuul job to test with tls\n- fix apache ports accordingly\n\nDepends-On: Ie665240b53df92b8e5ca509e998e95d859bd5282\nChange-Id: I610a7a24daab68c7ab0e30977e3cabd62cdb56a5\n'}, {'number': 7, 'created': '2018-11-21 17:47:56.000000000', 'files': ['devstack/lib/watcher', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/watcher/commit/b4b625c9f529ac0554203ab4b14cf76b8cbdb3c3', 'message': 'start tls-proxy (if enabled) before checking for api\n\nWhen tls-proxy is enabled, first start the tls-proxy and then then wait\nfor api to come up.\n\nWithout this the api comes up on the internal port as a result the\nsubsequent curl fails killing the deployment\n- create a zuul job to test with tls\n- fix apache ports accordingly\n\nDepends-On: Ie665240b53df92b8e5ca509e998e95d859bd5282\nChange-Id: I610a7a24daab68c7ab0e30977e3cabd62cdb56a5\n'}]",0,612988,b4b625c9f529ac0554203ab4b14cf76b8cbdb3c3,31,4,7,23735,,,0,"start tls-proxy (if enabled) before checking for api

When tls-proxy is enabled, first start the tls-proxy and then then wait
for api to come up.

Without this the api comes up on the internal port as a result the
subsequent curl fails killing the deployment
- create a zuul job to test with tls
- fix apache ports accordingly

Depends-On: Ie665240b53df92b8e5ca509e998e95d859bd5282
Change-Id: I610a7a24daab68c7ab0e30977e3cabd62cdb56a5
",git fetch https://review.opendev.org/openstack/watcher refs/changes/88/612988/6 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/watcher'],1,2c7df8788fca6aa09539887c3d0fd420d4fa5b13,," s|%USER%|watcher|g; echo ""Waiting for watcher-api to start..."" if ! wait_for_service $SERVICE_TIMEOUT $service_protocol://$WATCHER_SERVICE_HOST:$service_port; then die $LINENO ""watcher-api did not start"" fi "," s|%USER%|$STACK_USER|g; echo ""Waiting for watcher-api to start..."" if ! wait_for_service $SERVICE_TIMEOUT $service_protocol://$WATCHER_SERVICE_HOST:$service_port; then die $LINENO ""watcher-api did not start"" fi",7,5
openstack%2Foslo.log~master~I01db4efc08e2cb64db9cbf793f3a159f54859fe7,openstack/oslo.log,master,I01db4efc08e2cb64db9cbf793f3a159f54859fe7,Add config options for log rotation,MERGED,2018-11-08 09:06:33.000000000,2018-11-30 08:54:56.000000000,2018-11-30 08:54:56.000000000,"[{'_account_id': 2472}, {'_account_id': 6928}, {'_account_id': 8543}, {'_account_id': 22348}, {'_account_id': 29335}]","[{'number': 1, 'created': '2018-11-08 09:06:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/56ed749385a9b3ff319fab59b3fd34f9c7fbe7ba', 'message': ""Add config options for log rotation\n\nOn Windows, in-use files cannot be moved or deleted. For this reason,\nwe need the service itself to take care of rotating logs.\n\nFor convenience reasons, we're exposing the built-in rotating log\nhandlers through a set of config options.\n\nMore specifically, we're adding the following new config options:\n- log_rotate_interval\n- log_rotate_interval_type\n- max_logfile_count\n- max_logfile_size\n\nChange-Id: I01db4efc08e2cb64db9cbf793f3a159f54859fe7\nCloses-Bug: #1802262\n""}, {'number': 2, 'created': '2018-11-08 09:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/39b4d238c1de818485dd3a0063d1361741ba46e4', 'message': ""Add config options for log rotation\n\nOn Windows, in-use files cannot be moved or deleted. For this reason,\nwe need the service itself to take care of rotating logs.\n\nFor convenience reasons, we're exposing the built-in rotating log\nhandlers through a set of config options.\n\nMore specifically, we're adding the following new config options:\n- log_rotate_interval\n- log_rotate_interval_type\n- max_logfile_count\n- max_logfile_size\n\nChange-Id: I01db4efc08e2cb64db9cbf793f3a159f54859fe7\nCloses-Bug: #1802262\n""}, {'number': 3, 'created': '2018-11-09 11:45:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/d52ac1544de3ea9a84ccc61692ac93b3df2a1450', 'message': ""Add config options for log rotation\n\nOn Windows, in-use files cannot be moved or deleted. For this reason,\nwe need the service itself to take care of rotating logs.\n\nFor convenience reasons, we're exposing the built-in rotating log\nhandlers through a set of config options.\n\nMore specifically, we're adding the following new config options:\n- log_rotate_interval\n- log_rotate_interval_type\n- max_logfile_count\n- max_logfile_size\n\nChange-Id: I01db4efc08e2cb64db9cbf793f3a159f54859fe7\nCloses-Bug: #1802262\n""}, {'number': 4, 'created': '2018-11-09 13:55:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/da2425a52c64f0005538b6a688ce69bb77ae0882', 'message': ""Add config options for log rotation\n\nOn Windows, in-use files cannot be moved or deleted. For this reason,\nwe need the service itself to take care of rotating logs.\n\nFor convenience reasons, we're exposing the built-in rotating log\nhandlers through a set of config options.\n\nMore specifically, we're adding the following new config options:\n- log_rotate_interval\n- log_rotate_interval_type\n- max_logfile_count\n- max_logfile_size\n\nChange-Id: I01db4efc08e2cb64db9cbf793f3a159f54859fe7\nCloses-Bug: #1802262\n""}, {'number': 5, 'created': '2018-11-14 14:43:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/663b053a2c142ab96c17d1bd40ddc86381b55b7b', 'message': ""Add config options for log rotation\n\nOn Windows, in-use files cannot be moved or deleted. For this reason,\nwe need the service itself to take care of rotating logs.\n\nFor convenience reasons, we're exposing the built-in rotating log\nhandlers through a set of config options.\n\nMore specifically, we're adding the following new config options:\n- log_rotate_interval\n- log_rotate_interval_type\n- max_logfile_count\n- max_logfile_size\n\nChange-Id: I01db4efc08e2cb64db9cbf793f3a159f54859fe7\nCloses-Bug: #1802262\n""}, {'number': 6, 'created': '2018-11-14 18:29:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/f3ae87d7f419e6960b37468dccad720d411abda6', 'message': ""Add config options for log rotation\n\nOn Windows, in-use files cannot be moved or deleted. For this reason,\nwe need the service itself to take care of rotating logs.\n\nFor convenience reasons, we're exposing the built-in rotating log\nhandlers through a set of config options.\n\nMore specifically, we're adding the following new config options:\n- log_rotate_interval\n- log_rotate_interval_type\n- max_logfile_count\n- max_logfile_size\n\nChange-Id: I01db4efc08e2cb64db9cbf793f3a159f54859fe7\nCloses-Bug: #1802262\n""}, {'number': 7, 'created': '2018-11-16 14:59:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/031bc1a60db0892407aa50acb0ac2d30aae49649', 'message': ""Add config options for log rotation\n\nOn Windows, in-use files cannot be moved or deleted. For this reason,\nwe need the service itself to take care of rotating logs.\n\nFor convenience reasons, we're exposing the built-in rotating log\nhandlers through a set of config options.\n\nMore specifically, we're adding the following new config options:\n- log_rotate_interval\n- log_rotate_interval_type\n- max_logfile_count\n- max_logfile_size_mb\n\nChange-Id: I01db4efc08e2cb64db9cbf793f3a159f54859fe7\nCloses-Bug: #1802262\n""}, {'number': 8, 'created': '2018-11-20 14:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/e5261c0d4de2d6354e50c501f73fe8298af06128', 'message': ""Add config options for log rotation\n\nOn Windows, in-use files cannot be moved or deleted. For this reason,\nwe need the service itself to take care of rotating logs.\n\nFor convenience reasons, we're exposing the built-in rotating log\nhandlers through a set of config options.\n\nMore specifically, we're adding the following new config options:\n- log_rotate_interval\n- log_rotate_interval_type\n- max_logfile_count\n- max_logfile_size_mb\n\nChange-Id: I01db4efc08e2cb64db9cbf793f3a159f54859fe7\nCloses-Bug: #1802262\n""}, {'number': 9, 'created': '2018-11-21 11:46:38.000000000', 'files': ['oslo_log/tests/unit/test_log.py', 'oslo_log/_options.py', 'doc/source/admin/index.rst', 'releasenotes/notes/log-rotation-595f8232cd987a6d.yaml', 'oslo_log/log.py', 'doc/source/admin/log_rotation.rst'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/22e8a347c8ba914cefa26df42dde632937259a79', 'message': ""Add config options for log rotation\n\nOn Windows, in-use files cannot be moved or deleted. For this reason,\nwe need the service itself to take care of rotating logs.\n\nFor convenience reasons, we're exposing the built-in rotating log\nhandlers through a set of config options.\n\nMore specifically, we're adding the following new config options:\n- log_rotate_interval\n- log_rotate_interval_type\n- max_logfile_count\n- max_logfile_size_mb\n\nChange-Id: I01db4efc08e2cb64db9cbf793f3a159f54859fe7\nCloses-Bug: #1802262\n""}]",22,616464,22e8a347c8ba914cefa26df42dde632937259a79,38,5,9,29335,,,0,"Add config options for log rotation

On Windows, in-use files cannot be moved or deleted. For this reason,
we need the service itself to take care of rotating logs.

For convenience reasons, we're exposing the built-in rotating log
handlers through a set of config options.

More specifically, we're adding the following new config options:
- log_rotate_interval
- log_rotate_interval_type
- max_logfile_count
- max_logfile_size_mb

Change-Id: I01db4efc08e2cb64db9cbf793f3a159f54859fe7
Closes-Bug: #1802262
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/64/616464/8 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_log/_options.py', 'oslo_log/tests/unit/test_log.py', 'oslo_log/log.py']",3,56ed749385a9b3ff319fab59b3fd34f9c7fbe7ba,bug/1802262,"from oslo_utils import units # On Windows, in-use files cannot be moved or deleted. filelog = file_handler(logpath) # The rotating file handlers treat the backup count parameter # differently. We're trying to get a consistent behavior. elif conf.log_rotate_interval and conf.max_logfile_count: file_handler = logging.handlers.TimedRotatingFileHandler filelog = file_handler(logpath, when=conf.log_rotate_interval_type, interval=conf.log_rotate_interval, backupCount=conf.max_logfile_count) elif conf.max_logfile_size and conf.max_logfile_count: file_handler = logging.handlers.RotatingFileHandler filelog = file_handler(logpath, maxBytes=conf.max_logfile_size * units.Mi, backupCount=conf.max_logfile_count) filelog = file_handler(logpath) ", filelog = file_handler(logpath),84,1
openstack%2Fpuppet-mistral~master~Ic2e136907a143aca6632a22f80cb7ebaff9dd05c,openstack/puppet-mistral,master,Ic2e136907a143aca6632a22f80cb7ebaff9dd05c,Remove auth_uri,MERGED,2018-11-28 23:23:24.000000000,2018-11-30 08:38:09.000000000,2018-11-30 08:38:09.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-11-28 23:23:24.000000000', 'files': ['releasenotes/notes/remove-auth-uri-d82acb9eefbbab2f.yaml', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/1a97b3f0716f58e2e8aba4c5db6dee5b5c86b551', 'message': 'Remove auth_uri\n\nChange-Id: Ic2e136907a143aca6632a22f80cb7ebaff9dd05c\n'}]",0,620743,1a97b3f0716f58e2e8aba4c5db6dee5b5c86b551,8,4,1,16137,,,0,"Remove auth_uri

Change-Id: Ic2e136907a143aca6632a22f80cb7ebaff9dd05c
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/43/620743/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-auth-uri-d82acb9eefbbab2f.yaml', 'manifests/keystone/authtoken.pp']",2,1a97b3f0716f58e2e8aba4c5db6dee5b5c86b551,remove-auth-uri," www_authenticate_uri => $www_authenticate_uri,","# [*auth_uri*] # (Optional) Complete public Identity API endpoint. # Defaults to undef # $auth_uri = undef, if $auth_uri { warning('The auth_uri parameter is deprecated. Please use www_authenticate_uri instead.') } # TODO(tobasco): Remove this pick when auth_uri is removed. $www_authenticate_uri_real = pick($auth_uri,$www_authenticate_uri) www_authenticate_uri => $www_authenticate_uri_real,",5,13
openstack%2Fpuppet-zaqar~master~I922316436583432ac705379ff68cb6247b27aba2,openstack/puppet-zaqar,master,I922316436583432ac705379ff68cb6247b27aba2,Remove auth_uri,MERGED,2018-11-28 23:33:12.000000000,2018-11-30 08:32:05.000000000,2018-11-30 08:32:05.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-11-28 23:33:12.000000000', 'files': ['manifests/keystone/authtoken.pp', 'releasenotes/notes/remove-auth-uri-d3cae1c70bbbf1d2.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/00c52b2fba459680148aa37b25526dd7ed4a9dfa', 'message': 'Remove auth_uri\n\nChange-Id: I922316436583432ac705379ff68cb6247b27aba2\n'}]",0,620749,00c52b2fba459680148aa37b25526dd7ed4a9dfa,8,4,1,16137,,,0,"Remove auth_uri

Change-Id: I922316436583432ac705379ff68cb6247b27aba2
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/49/620749/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/keystone/authtoken.pp', 'releasenotes/notes/remove-auth-uri-d3cae1c70bbbf1d2.yaml']",2,00c52b2fba459680148aa37b25526dd7ed4a9dfa,remove-auth-uri,"--- upgrade: - | The deprecated parameter auth_uri is now removed, please use www_authenticate_uri. ",,5,11
openstack%2Frally~master~I58050507b099d6f05723d9f64c2e62587dd3e062,openstack/rally,master,I58050507b099d6f05723d9f64c2e62587dd3e062,[release] Propose 1.3.0 release,MERGED,2018-11-30 07:02:39.000000000,2018-11-30 08:11:57.000000000,2018-11-30 08:11:57.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-30 07:02:39.000000000', 'files': ['CHANGELOG.rst'], 'web_link': 'https://opendev.org/openstack/rally/commit/3c29c5ea1af94d6766ad8d0e45b2d69a26ee85d7', 'message': '[release] Propose 1.3.0 release\n\nChange-Id: I58050507b099d6f05723d9f64c2e62587dd3e062\n'}]",0,621086,3c29c5ea1af94d6766ad8d0e45b2d69a26ee85d7,6,2,1,9545,,,0,"[release] Propose 1.3.0 release

Change-Id: I58050507b099d6f05723d9f64c2e62587dd3e062
",git fetch https://review.opendev.org/openstack/rally refs/changes/86/621086/1 && git format-patch -1 --stdout FETCH_HEAD,['CHANGELOG.rst'],1,3c29c5ea1af94d6766ad8d0e45b2d69a26ee85d7,r1.3.0,[1.3.0] - 2018-11-30 -------------------- Added ~~~~~ Add the --deployment option to commands ``rally task report`` and ``rally task export`` that allows to report/export all tasks from defined deployment. Fixed ~~~~~ A floating bug with ``constant_for_duration`` runner. `Lauchpad-bug #1800447 <https://launchpad.net/bugs/1800447>`_,Unreleased ---------- Changed ~~~~~~~ * Add the --deployment option to commands ``rally task report`` and ``rally task export`` that allows to report/export all tasks from defined deployment.,14,7
openstack%2Fkeystone~master~I1f46a0934993d21481cc9da5f991e80f2d1a8158,openstack/keystone,master,I1f46a0934993d21481cc9da5f991e80f2d1a8158,[wip] Domain level unified limit support,ABANDONED,2018-09-15 08:02:46.000000000,2018-11-30 08:07:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-09-15 08:02:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d6e3c4297feddb0535e7009ee2e406559ab729fc', 'message': '[wip] Domain level unified limit support\n\nChange-Id: I1f46a0934993d21481cc9da5f991e80f2d1a8158\n'}, {'number': 2, 'created': '2018-09-17 07:03:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5a6f7fca753a43caa9cb9127a4859f87f09dc34e', 'message': '[wip] Domain level unified limit support\n\nChange-Id: I1f46a0934993d21481cc9da5f991e80f2d1a8158\n'}, {'number': 3, 'created': '2018-09-17 09:07:33.000000000', 'files': ['keystone/conf/unified_limit.py', 'keystone/tests/unit/test_limits.py', 'keystone/limit/schema.py', 'keystone/limit/core.py', 'keystone/api/limits.py', 'keystone/limit/models/strict_two_level.py', 'keystone/limit/backends/sql.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/36e2779cbba42e89edf9277db1062f0db318c353', 'message': '[wip] Domain level unified limit support\n\nChange-Id: I1f46a0934993d21481cc9da5f991e80f2d1a8158\n'}]",0,602824,36e2779cbba42e89edf9277db1062f0db318c353,7,1,3,15054,,,0,"[wip] Domain level unified limit support

Change-Id: I1f46a0934993d21481cc9da5f991e80f2d1a8158
",git fetch https://review.opendev.org/openstack/keystone refs/changes/24/602824/3 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/limit/schema.py', 'keystone/limit/core.py', 'keystone/api/limits.py', 'keystone/limit/models/strict_two_level.py', 'keystone/limit/backends/sql.py']",5,d6e3c4297feddb0535e7009ee2e406559ab729fc,bp/domain-level-unified-limit," project_id = unified_limit.get('project_id', unified_limit['domain_id']) hints.add_filter('project_id', project_id) project_id, def _check_and_fill_content(self, limit): # treat domain_id as project_id in db schema. if not limit_copy.get('project_id'): limit_copy['project_id'] = limit.pop('domain_id') target = self._check_and_fill_content(limit) limit_dict = ref.to_dict() if limit.get('domain_id'): limit_dict['domain_id'] = limit_dict.pop('project_id') new_limits.append(limit_dict)"," hints.add_filter('project_id', unified_limit['project_id']) unified_limit['project_id'], def _check_and_fill_registered_limit_id(self, limit): target = self._check_and_fill_registered_limit_id(limit) new_limits.append(ref.to_dict())",67,34
openstack%2Frally~master~I0bee6942c3058d6c936c5ccdbf798b3960e63242,openstack/rally,master,I0bee6942c3058d6c936c5ccdbf798b3960e63242,[docs] Check docstrings of plugin bases,MERGED,2018-11-06 13:04:57.000000000,2018-11-30 08:04:25.000000000,2018-11-30 08:04:25.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-06 13:04:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/ffeaa77e893e99c74938aa834e760635b1c1f2af', 'message': '[docs] Check docstrings of plugin bases\n\nWe are using docstings of plugin bases while publishing docs, so it is\nimportant to ensure that all of them provides valid rst\n\nChange-Id: I0bee6942c3058d6c936c5ccdbf798b3960e63242\n'}, {'number': 2, 'created': '2018-11-30 07:02:39.000000000', 'files': ['rally/task/context.py', 'rally/task/types.py', 'rally/task/exporter.py', 'tests/unit/doc/test_docstrings.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/0281b6c000d4734d5e93cbec2331ffd287c3eb9f', 'message': '[docs] Check docstrings of plugin bases\n\nWe are using docstings of plugin bases while publishing docs, so it is\nimportant to ensure that all of them provides valid rst\n\nChange-Id: I0bee6942c3058d6c936c5ccdbf798b3960e63242\n'}]",0,615860,0281b6c000d4734d5e93cbec2331ffd287c3eb9f,8,2,2,9545,,,0,"[docs] Check docstrings of plugin bases

We are using docstings of plugin bases while publishing docs, so it is
important to ensure that all of them provides valid rst

Change-Id: I0bee6942c3058d6c936c5ccdbf798b3960e63242
",git fetch https://review.opendev.org/openstack/rally refs/changes/60/615860/2 && git format-patch -1 --stdout FETCH_HEAD,"['rally/task/context.py', 'rally/task/types.py', 'rally/task/exporter.py', 'tests/unit/doc/test_docstrings.py']",4,ffeaa77e893e99c74938aa834e760635b1c1f2af,r1.3.0," def _iterate_parsed_rst(self, plugin_name, items, msg_buffer): for item in items: elif item.children: self._iterate_parsed_rst(plugin_name, item.children, msg_buffer) parsed_docstring = _parse_rst(doc_info[""description""]) self._iterate_parsed_rst(plg_cls.get_name(), parsed_docstring, msg_buffer) def test_plugin_bases_have_docstrigs(self): plugin_bases = set() msg_buffer = [] for plg_cls in plugin.Plugin.get_all(allow_hidden=True): plugin_bases.add(plg_cls._get_base()) for base in plugin_bases: name = ""%s.%s"" % (base.__module__, base.__name__) if name == ""rally.task.scenario.Scenario"": docstring = base.__doc__ else: docstring = base._get_doc() print(name) parsed_docstring = _parse_rst(docstring) self._iterate_parsed_rst(name, parsed_docstring, msg_buffer) if msg_buffer: self.fail(""\n%s"" % ""\n===============\n"".join(msg_buffer))"," def _validate_rst(self, plugin_name, text, msg_buffer): parsed_docstring = _parse_rst(text) for item in parsed_docstring: self._validate_rst(plg_cls.get_name(), doc_info[""description""], msg_buffer)",35,8
openstack%2Ftripleo-docs~master~I763c3860c2200f841ef009e3ccf9bb3e7e0e6978,openstack/tripleo-docs,master,I763c3860c2200f841ef009e3ccf9bb3e7e0e6978,[Documentation] Specify the name of the irc server.,MERGED,2018-11-29 11:26:13.000000000,2018-11-30 07:39:44.000000000,2018-11-30 07:39:44.000000000,"[{'_account_id': 8042}, {'_account_id': 8449}, {'_account_id': 10239}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 28522}]","[{'number': 1, 'created': '2018-11-29 11:26:13.000000000', 'files': ['doc/source/contributor/new_developers.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/938a5732edcd14e45a86a579bdf69d2d8065ee79', 'message': ""[Documentation] Specify the name of the irc server.\n\nIndicate on which server the channel irc is located. That will be better\nto use a footnote for this information, but reStructuredText doesn't\nsupport this feature at the moment.\n\nChange-Id: I763c3860c2200f841ef009e3ccf9bb3e7e0e6978\nRelated-Bug: #1804642\n""}]",0,620887,938a5732edcd14e45a86a579bdf69d2d8065ee79,8,7,1,29222,,,0,"[Documentation] Specify the name of the irc server.

Indicate on which server the channel irc is located. That will be better
to use a footnote for this information, but reStructuredText doesn't
support this feature at the moment.

Change-Id: I763c3860c2200f841ef009e3ccf9bb3e7e0e6978
Related-Bug: #1804642
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/87/620887/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/new_developers.rst'],1,938a5732edcd14e45a86a579bdf69d2d8065ee79,bug/1804642,"- One should consider logging and support implications. If you have new logs,- Documentation should be updated if necessary. New features need a packaged and available in RDO. You can ask on #rdo (on freenode server) for help with this. users know how they might have to update their workflow call. Make sure it's","- One should consider logging and support implications. If you have new logs,- Documentation should be updated if necessary. New features need a packaged and available in RDO. You can ask on #rdo for help with this. users know how they might have to update their workflow call. Make sure it's",5,5
openstack%2Fpuppet-freezer~master~I29d8f94178a501b7c5e6b482c22c9a0952cba463,openstack/puppet-freezer,master,I29d8f94178a501b7c5e6b482c22c9a0952cba463,Remove auth_uri,MERGED,2018-11-28 22:57:07.000000000,2018-11-30 07:28:56.000000000,2018-11-30 07:28:56.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-28 22:57:07.000000000', 'files': ['manifests/keystone/authtoken.pp', 'releasenotes/notes/remove-auth-uri-b78b996c692ae37e.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-freezer/commit/4663d96b7efe7249e81f3fc53e356d969b68a896', 'message': 'Remove auth_uri\n\nChange-Id: I29d8f94178a501b7c5e6b482c22c9a0952cba463\n'}]",0,620723,4663d96b7efe7249e81f3fc53e356d969b68a896,7,3,1,16137,,,0,"Remove auth_uri

Change-Id: I29d8f94178a501b7c5e6b482c22c9a0952cba463
",git fetch https://review.opendev.org/openstack/puppet-freezer refs/changes/23/620723/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/keystone/authtoken.pp', 'releasenotes/notes/remove-auth-uri-b78b996c692ae37e.yaml']",2,4663d96b7efe7249e81f3fc53e356d969b68a896,remove-auth-uri,"--- upgrade: - | The deprecated parameter auth_uri is now removed, please use www_authenticate_uri. ",,5,11
openstack%2Fpuppet-congress~master~Ia0d58ab12b64e2079c66417f637d4cef4484d712,openstack/puppet-congress,master,Ia0d58ab12b64e2079c66417f637d4cef4484d712,Remove auth_uri,MERGED,2018-11-28 22:54:46.000000000,2018-11-30 07:28:56.000000000,2018-11-30 07:28:56.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-28 22:54:46.000000000', 'files': ['releasenotes/notes/remove-auth-uri-d2236454394e0db8.yaml', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-congress/commit/160e5b2ac341492e4dccf622dd23f386f39ce9b2', 'message': 'Remove auth_uri\n\nChange-Id: Ia0d58ab12b64e2079c66417f637d4cef4484d712\n'}]",0,620721,160e5b2ac341492e4dccf622dd23f386f39ce9b2,7,3,1,16137,,,0,"Remove auth_uri

Change-Id: Ia0d58ab12b64e2079c66417f637d4cef4484d712
",git fetch https://review.opendev.org/openstack/puppet-congress refs/changes/21/620721/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-auth-uri-d2236454394e0db8.yaml', 'manifests/keystone/authtoken.pp']",2,160e5b2ac341492e4dccf622dd23f386f39ce9b2,remove-auth-uri," www_authenticate_uri => $www_authenticate_uri,","# [*auth_uri*] # (Optional) Complete public Identity API endpoint. # Defaults to undef # $auth_uri = undef, if $auth_uri { warning('The auth_uri parameter is deprecated. Please use www_authenticate_uri instead.') } $www_authenticate_uri_real = pick($auth_uri, $www_authenticate_uri) www_authenticate_uri => $www_authenticate_uri_real,",5,11
openstack%2Fpuppet-octavia~master~Ice5ac27b5060421580c97b20883df2944b2366fe,openstack/puppet-octavia,master,Ice5ac27b5060421580c97b20883df2944b2366fe,Remove auth_uri,MERGED,2018-11-28 23:04:37.000000000,2018-11-30 07:18:17.000000000,2018-11-30 07:18:17.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-28 23:04:37.000000000', 'files': ['releasenotes/notes/remove-auth-uri-4cd453c34ab04962.yaml', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/c9277aa6325f86181b93d9a5436cbc6d1e8853a3', 'message': 'Remove auth_uri\n\nChange-Id: Ice5ac27b5060421580c97b20883df2944b2366fe\n'}]",0,620729,c9277aa6325f86181b93d9a5436cbc6d1e8853a3,7,3,1,16137,,,0,"Remove auth_uri

Change-Id: Ice5ac27b5060421580c97b20883df2944b2366fe
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/29/620729/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-auth-uri-4cd453c34ab04962.yaml', 'manifests/keystone/authtoken.pp']",2,c9277aa6325f86181b93d9a5436cbc6d1e8853a3,remove-auth-uri," www_authenticate_uri => $www_authenticate_uri,","# [*auth_uri*] # (Optional) Complete public Identity API endpoint. # Defaults to undef # $auth_uri = undef, if $auth_uri { warning('The auth_uri parameter is deprecated. Please use www_authenticate_uri instead.') } $www_authenticate_uri_real = pick($auth_uri, $www_authenticate_uri) www_authenticate_uri => $www_authenticate_uri_real,",5,11
openstack%2Fpuppet-octavia~stable%2Frocky~I551053b96fde110478945955f3d7dc42bf3e65ef,openstack/puppet-octavia,stable/rocky,I551053b96fde110478945955f3d7dc42bf3e65ef,Create certificates are package installs,MERGED,2018-11-27 23:27:23.000000000,2018-11-30 07:18:16.000000000,2018-11-30 07:18:16.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-27 23:27:23.000000000', 'files': ['manifests/deps.pp', 'releasenotes/notes/certificate-folder-after-pkg-802703c4a8d646b3.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/bf0dd74190dfc39b5c3d88eff1dcb9feb5974e60', 'message': ""Create certificates are package installs\n\nWhen setting certificate folders to /etc/octavia/certs\nor similar that depends on /etc/octavia folder the resource\nwill fail because it doesn't create the whole folder path\nrecursively.\n\nThis changes the dependency chaining to make sure that\ncertificates are modified after package installs so that\nthe /etc/octavia folder for example is available.\n\nCloses-Bug: 1804883\nChange-Id: I551053b96fde110478945955f3d7dc42bf3e65ef\n(cherry picked from commit 768d2900eb3e0e11ecbbadc2095c6659531ff2fc)\n""}]",0,620422,bf0dd74190dfc39b5c3d88eff1dcb9feb5974e60,7,3,1,16137,,,0,"Create certificates are package installs

When setting certificate folders to /etc/octavia/certs
or similar that depends on /etc/octavia folder the resource
will fail because it doesn't create the whole folder path
recursively.

This changes the dependency chaining to make sure that
certificates are modified after package installs so that
the /etc/octavia folder for example is available.

Closes-Bug: 1804883
Change-Id: I551053b96fde110478945955f3d7dc42bf3e65ef
(cherry picked from commit 768d2900eb3e0e11ecbbadc2095c6659531ff2fc)
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/22/620422/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/deps.pp', 'releasenotes/notes/certificate-folder-after-pkg-802703c4a8d646b3.yaml']",2,bf0dd74190dfc39b5c3d88eff1dcb9feb5974e60,619797-stable/rocky,--- fixes: - | Fixed a bug where certificate folders that depended on paths provided by packages failed. ,,9,1
openstack%2Fpuppet-octavia~stable%2Frocky~I0db84f4b9d97bf22d06478ded126a1f209c9b69a,openstack/puppet-octavia,stable/rocky,I0db84f4b9d97bf22d06478ded126a1f209c9b69a,Set show_diff to false on certificates,MERGED,2018-11-27 23:26:30.000000000,2018-11-30 07:18:16.000000000,2018-11-30 07:18:16.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-27 23:26:30.000000000', 'files': ['manifests/certificates.pp', 'spec/classes/octavia_certificates_spec.rb', 'releasenotes/notes/certificate-no-diff-4e4d156963752b6d.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/79e9f6309164bde2ef89acf4870c7dc6b484b8f9', 'message': 'Set show_diff to false on certificates\n\nCertificate should be considered secrets\nand we should not output the diffs.\n\nAlso fixes up the testing to test all the\nparameters set on the file resources.\n\nCloses-Bug: 1804884\nChange-Id: I0db84f4b9d97bf22d06478ded126a1f209c9b69a\n(cherry picked from commit 45ecee290b9580c6a4b5ace72c551b63d61540b9)\n'}]",0,620421,79e9f6309164bde2ef89acf4870c7dc6b484b8f9,9,4,1,16137,,,0,"Set show_diff to false on certificates

Certificate should be considered secrets
and we should not output the diffs.

Also fixes up the testing to test all the
parameters set on the file resources.

Closes-Bug: 1804884
Change-Id: I0db84f4b9d97bf22d06478ded126a1f209c9b69a
(cherry picked from commit 45ecee290b9580c6a4b5ace72c551b63d61540b9)
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/21/620421/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/certificates.pp', 'spec/classes/octavia_certificates_spec.rb', 'releasenotes/notes/certificate-no-diff-4e4d156963752b6d.yaml']",3,79e9f6309164bde2ef89acf4870c7dc6b484b8f9,bug/1804883-stable/rocky,--- security: - | Certificate changes no longer shows diffs in output. fixes: - | Fixed a bug where certificate changes would show the diffs. Certificate are now considered secrets and not displayed. ,,104,80
openstack%2Fpuppet-cloudkitty~master~I3ff53adc9c740d6ca4e3fb0b6e5617b169377d2f,openstack/puppet-cloudkitty,master,I3ff53adc9c740d6ca4e3fb0b6e5617b169377d2f,Remove auth_uri,MERGED,2018-11-28 23:09:02.000000000,2018-11-30 07:16:14.000000000,2018-11-30 07:16:14.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-28 23:09:02.000000000', 'files': ['manifests/keystone/authtoken.pp', 'releasenotes/notes/remove-auth-uri-0adf6e40a9e05bf2.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/38a580f08b31040541924a04da22ed242986673e', 'message': 'Remove auth_uri\n\nChange-Id: I3ff53adc9c740d6ca4e3fb0b6e5617b169377d2f\n'}]",0,620733,38a580f08b31040541924a04da22ed242986673e,7,3,1,16137,,,0,"Remove auth_uri

Change-Id: I3ff53adc9c740d6ca4e3fb0b6e5617b169377d2f
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/33/620733/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/keystone/authtoken.pp', 'releasenotes/notes/remove-auth-uri-0adf6e40a9e05bf2.yaml']",2,38a580f08b31040541924a04da22ed242986673e,remove-auth-uri,"--- upgrade: - | The deprecated parameter auth_uri is now removed, please use www_authenticate_uri. ",,5,11
openstack%2Fpuppet-magnum~master~Ieb68b53d300fd0b1355736b4f203dc58d85bdb91,openstack/puppet-magnum,master,Ieb68b53d300fd0b1355736b4f203dc58d85bdb91,Remove auth_uri,MERGED,2018-11-28 23:21:18.000000000,2018-11-30 07:13:24.000000000,2018-11-30 07:13:24.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-28 23:21:18.000000000', 'files': ['releasenotes/notes/remove-auth-uri-4c144247b1366899.yaml', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/45e02ee2319ae600b697bc085332a35eb12a8688', 'message': 'Remove auth_uri\n\nChange-Id: Ieb68b53d300fd0b1355736b4f203dc58d85bdb91\n'}]",0,620741,45e02ee2319ae600b697bc085332a35eb12a8688,7,3,1,16137,,,0,"Remove auth_uri

Change-Id: Ieb68b53d300fd0b1355736b4f203dc58d85bdb91
",git fetch https://review.opendev.org/openstack/puppet-magnum refs/changes/41/620741/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-auth-uri-4c144247b1366899.yaml', 'manifests/keystone/authtoken.pp']",2,45e02ee2319ae600b697bc085332a35eb12a8688,remove-auth-uri," www_authenticate_uri => $www_authenticate_uri, ","# [*auth_uri*] # (Optional) Complete public Identity API endpoint. # Defaults to undef # $auth_uri = undef, if $auth_uri { warning('The auth_uri parameter is deprecated. Please use www_authenticate_uri instead.') } $www_authenticate_uri_real = pick($auth_uri, $www_authenticate_uri) www_authenticate_uri => $www_authenticate_uri_real, ",5,11
openstack%2Fpuppet-glare~master~I55c635d22a92c8d923323ba76ebced5033b9205e,openstack/puppet-glare,master,I55c635d22a92c8d923323ba76ebced5033b9205e,Remove auth_uri,MERGED,2018-11-28 23:13:02.000000000,2018-11-30 07:10:44.000000000,2018-11-30 07:10:44.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-28 23:13:02.000000000', 'files': ['releasenotes/notes/remove-auth-uri-40a904451accd58a.yaml', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-glare/commit/3d0a913fcb7faf3163163a9d94b413410ad69d9b', 'message': 'Remove auth_uri\n\nChange-Id: I55c635d22a92c8d923323ba76ebced5033b9205e\n'}]",0,620736,3d0a913fcb7faf3163163a9d94b413410ad69d9b,7,3,1,16137,,,0,"Remove auth_uri

Change-Id: I55c635d22a92c8d923323ba76ebced5033b9205e
",git fetch https://review.opendev.org/openstack/puppet-glare refs/changes/36/620736/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-auth-uri-40a904451accd58a.yaml', 'manifests/keystone/authtoken.pp']",2,3d0a913fcb7faf3163163a9d94b413410ad69d9b,remove-auth-uri," www_authenticate_uri => $www_authenticate_uri,","# [*auth_uri*] # (Optional) Complete public Identity API endpoint. # Defaults to undef # $auth_uri = undef, if $auth_uri { warning('The auth_uri parameter is deprecated. Please use www_authenticate_uri instead.') } $www_authenticate_uri_real = pick($auth_uri, $www_authenticate_uri) www_authenticate_uri => $www_authenticate_uri_real,",5,11
openstack%2Fpuppet-murano~master~Ie9d33f7238cb1c39749de12b787a6e1b558b1b36,openstack/puppet-murano,master,Ie9d33f7238cb1c39749de12b787a6e1b558b1b36,Remove auth_uri,MERGED,2018-11-28 22:56:07.000000000,2018-11-30 07:10:30.000000000,2018-11-30 07:10:30.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-28 22:56:07.000000000', 'files': ['manifests/init.pp', 'releasenotes/notes/remove-auth-uri-1c65fec23240d028.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/c95b925ef102b803a075ea280d5937ef420f84f6', 'message': 'Remove auth_uri\n\nChange-Id: Ie9d33f7238cb1c39749de12b787a6e1b558b1b36\n'}]",0,620722,c95b925ef102b803a075ea280d5937ef420f84f6,7,3,1,16137,,,0,"Remove auth_uri

Change-Id: Ie9d33f7238cb1c39749de12b787a6e1b558b1b36
",git fetch https://review.opendev.org/openstack/puppet-murano refs/changes/22/620722/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'releasenotes/notes/remove-auth-uri-1c65fec23240d028.yaml']",2,c95b925ef102b803a075ea280d5937ef420f84f6,remove-auth-uri,"--- upgrade: - | The deprecated parameter auth_uri is now removed, please use www_authenticate_uri. ",,5,11
openstack%2Fpuppet-tacker~master~I2953fd4fc67e97eb21bf6866ba249e26590f79ce,openstack/puppet-tacker,master,I2953fd4fc67e97eb21bf6866ba249e26590f79ce,Remove auth_uri,MERGED,2018-11-28 23:00:37.000000000,2018-11-30 07:08:23.000000000,2018-11-30 07:08:23.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-28 23:00:37.000000000', 'files': ['releasenotes/notes/remove-auth-uri-60e70376d1571635.yaml', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/6b8593984af4dc39c88cb0892511f03c4e7a6b2f', 'message': 'Remove auth_uri\n\nChange-Id: I2953fd4fc67e97eb21bf6866ba249e26590f79ce\n'}]",0,620727,6b8593984af4dc39c88cb0892511f03c4e7a6b2f,7,3,1,16137,,,0,"Remove auth_uri

Change-Id: I2953fd4fc67e97eb21bf6866ba249e26590f79ce
",git fetch https://review.opendev.org/openstack/puppet-tacker refs/changes/27/620727/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-auth-uri-60e70376d1571635.yaml', 'manifests/keystone/authtoken.pp']",2,6b8593984af4dc39c88cb0892511f03c4e7a6b2f,remove-auth-uri," www_authenticate_uri => $www_authenticate_uri,","# [*auth_uri*] # (Optional) Complete public Identity API endpoint. # Defaults to undef # $auth_uri = undef, if $auth_uri { warning('The auth_uri parameter is deprecated. Please use www_authenticate_uri instead.') } $www_authenticate_uri_real = pick($auth_uri, $www_authenticate_uri) www_authenticate_uri => $www_authenticate_uri_real,",5,11
openstack%2Fnetworking-ovn~master~I30181e1752f456f30f94818c5350f447c387cbb2,openstack/networking-ovn,master,I30181e1752f456f30f94818c5350f447c387cbb2,Support ports belonging to Neutron DHCP agents,MERGED,2018-11-21 11:08:37.000000000,2018-11-30 06:10:02.000000000,2018-11-30 06:10:01.000000000,"[{'_account_id': 6773}, {'_account_id': 8788}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2018-11-21 11:08:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/2c3a72c76ed38f9925dad657957c02724e0b5da6', 'message': ""Support ports belonging to Neutron DHCP agents\n\nBefore this patch, both the sync tool and the production code\nwould assume that 'network:dhcp' owner ports would be for\nthe OVN metadata service. However, since Neutron DHCP agents\ncan be deployed as well on OVN environments, we need to support\nthese ports as well.\n\nThis change is doing several things:\n\n- Fixing sync tool so that Neutron DHCP ports are not deleted\n  anymore (these ports are owned by DHCP and have a device_id\n  as 'dhcp<host_uuid>-<network_id>'). Syncing these ports in\n  OVN will no longer result in creating 'localport' ports but\n  normal ports to allow non-local DHCP traffic.\n- Fixing networking-ovn code to skip such ports when looking\n  for the metadata port on a specific network.\n- Newly created metadata ports will have a device_id such as\n  'ovnmeta-<network_id>'.\n\nChange-Id: I30181e1752f456f30f94818c5350f447c387cbb2\nRelated-Bug: #1804390\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n""}, {'number': 2, 'created': '2018-11-21 12:13:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/99cbf529f7133dc9718bf9171122a0732c59c862', 'message': ""Support ports belonging to Neutron DHCP agents\n\nBefore this patch, both the sync tool and the production code\nwould assume that 'network:dhcp' owner ports would be for\nthe OVN metadata service. However, since Neutron DHCP agents\ncan be deployed as well on OVN environments, we need to support\nthese ports as well.\n\nThis change is doing several things:\n\n- Fixing sync tool so that Neutron DHCP ports are not deleted\n  anymore (these ports are owned by DHCP and have a device_id\n  as 'dhcp<host_uuid>-<network_id>'). Syncing these ports in\n  OVN will no longer result in creating 'localport' ports but\n  normal ports to allow non-local DHCP traffic.\n- Fixing networking-ovn code to skip such ports when looking\n  for the metadata port on a specific network.\n- Newly created metadata ports will have a device_id such as\n  'ovnmeta-<network_id>'.\n\nChange-Id: I30181e1752f456f30f94818c5350f447c387cbb2\nRelated-Bug: #1804390\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n""}, {'number': 3, 'created': '2018-11-21 13:00:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/da53c56cc9043d42322c144975d5fb4917e5354b', 'message': ""Support ports belonging to Neutron DHCP agents\n\nBefore this patch, both the sync tool and the production code\nwould assume that 'network:dhcp' owner ports would be for\nthe OVN metadata service. However, since Neutron DHCP agents\ncan be deployed as well on OVN environments, we need to support\nthese ports as well.\n\nThis change is doing several things:\n\n- Fixing sync tool so that Neutron DHCP ports are not deleted\n  anymore (these ports are owned by DHCP and have a device_id\n  as 'dhcp<host_uuid>-<network_id>'). Syncing these ports in\n  OVN will no longer result in creating 'localport' ports but\n  normal ports to allow non-local DHCP traffic.\n- Fixing networking-ovn code to skip such ports when looking\n  for the metadata port on a specific network.\n- Newly created metadata ports will have a device_id such as\n  'ovnmeta-<network_id>'.\n\nChange-Id: I30181e1752f456f30f94818c5350f447c387cbb2\nRelated-Bug: #1804390\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n""}, {'number': 4, 'created': '2018-11-27 10:57:59.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/common/constants.py', 'networking_ovn/tests/functional/test_ovn_db_sync.py', 'networking_ovn/ovn_db_sync.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/d28495fe42ea9a940260e951b32e0a814c75ce70', 'message': ""Support ports belonging to Neutron DHCP agents\n\nBefore this patch, both the sync tool and the production code\nwould assume that 'network:dhcp' owner ports would be for\nthe OVN metadata service. However, since Neutron DHCP agents\ncan be deployed as well on OVN environments, we need to support\nthese ports as well.\n\nThis change is doing several things:\n\n- Fixing sync tool so that Neutron DHCP ports are not deleted\n  anymore (these ports are owned by DHCP and have a device_id\n  as 'dhcp<host_uuid>-<network_id>'). Syncing these ports in\n  OVN will no longer result in creating 'localport' ports but\n  normal ports to allow non-local DHCP traffic.\n- Fixing networking-ovn code to skip such ports when looking\n  for the metadata port on a specific network.\n- Newly created metadata ports will have a device_id such as\n  'ovnmeta-<network_id>'.\n\nChange-Id: I30181e1752f456f30f94818c5350f447c387cbb2\nRelated-Bug: #1804390\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n""}]",16,619210,d28495fe42ea9a940260e951b32e0a814c75ce70,31,4,4,23804,,,0,"Support ports belonging to Neutron DHCP agents

Before this patch, both the sync tool and the production code
would assume that 'network:dhcp' owner ports would be for
the OVN metadata service. However, since Neutron DHCP agents
can be deployed as well on OVN environments, we need to support
these ports as well.

This change is doing several things:

- Fixing sync tool so that Neutron DHCP ports are not deleted
  anymore (these ports are owned by DHCP and have a device_id
  as 'dhcp<host_uuid>-<network_id>'). Syncing these ports in
  OVN will no longer result in creating 'localport' ports but
  normal ports to allow non-local DHCP traffic.
- Fixing networking-ovn code to skip such ports when looking
  for the metadata port on a specific network.
- Newly created metadata ports will have a device_id such as
  'ovnmeta-<network_id>'.

Change-Id: I30181e1752f456f30f94818c5350f447c387cbb2
Related-Bug: #1804390
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/10/619210/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/ovn_client.py', 'networking_ovn/ovn_db_sync.py']",2,2c3a72c76ed38f9925dad657957c02724e0b5da6,bug/1804390, for port in dhcp_ports: # Ports with a device_id like 'dhcp<host_id>-<network_id>' belong # to Neutron DHCP agent so we'll skip those for OVN metadata. if port['device_id'].startswith('dhcp'): dhcp_ports.remove(port) ,,23,6
openstack%2Fpuppet-openstack_extras~master~I7bb50c4e591585b80661fe0d41c7cc2dfec5fdf8,openstack/puppet-openstack_extras,master,I7bb50c4e591585b80661fe0d41c7cc2dfec5fdf8,Use puppet4 functions-api,MERGED,2018-10-30 14:23:23.000000000,2018-11-30 06:10:01.000000000,2018-11-30 06:10:00.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-30 14:23:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/e9cb9d6048a5a76217e80537630f501c18033bf7', 'message': 'Use puppet4 functions-api\n\nChange-Id: I7bb50c4e591585b80661fe0d41c7cc2dfec5fdf8\n'}, {'number': 2, 'created': '2018-10-30 14:24:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/64437986f95857f3e2ae3b5abf0efe208d1886d4', 'message': 'Use puppet4 functions-api\n\nChange-Id: I7bb50c4e591585b80661fe0d41c7cc2dfec5fdf8\n'}, {'number': 3, 'created': '2018-10-30 14:37:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/f8411c909aa8fa4443a6cc1749d3d410f9a7168c', 'message': 'Use puppet4 functions-api\n\nChange-Id: I7bb50c4e591585b80661fe0d41c7cc2dfec5fdf8\n'}, {'number': 4, 'created': '2018-10-30 15:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/724f79110baea50162cbbe64135711381c27eb7d', 'message': 'Use puppet4 functions-api\n\nChange-Id: I7bb50c4e591585b80661fe0d41c7cc2dfec5fdf8\n'}, {'number': 5, 'created': '2018-10-30 15:26:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/5e9341e80669a1ae3c1583eb69c44355bdacfdf7', 'message': 'Use puppet4 functions-api\n\nChange-Id: I7bb50c4e591585b80661fe0d41c7cc2dfec5fdf8\n'}, {'number': 6, 'created': '2018-10-31 12:17:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/c16f8c58d59adeab6128e804230e7129a3584892', 'message': 'Use puppet4 functions-api\n\nChange-Id: I7bb50c4e591585b80661fe0d41c7cc2dfec5fdf8\n'}, {'number': 7, 'created': '2018-11-01 15:31:33.000000000', 'files': ['lib/puppet/parser/functions/validate_yum_hash.rb', 'spec/functions/validate_yum_hash_spec.rb', 'lib/puppet/functions/validate_yum_hash.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/79481df8ef866ad299814783c205f207964ee047', 'message': 'Use puppet4 functions-api\n\nDepends-On: https://review.openstack.org/#/c/614782/\nChange-Id: I7bb50c4e591585b80661fe0d41c7cc2dfec5fdf8\n'}]",0,614226,79481df8ef866ad299814783c205f207964ee047,19,5,7,16137,,,0,"Use puppet4 functions-api

Depends-On: https://review.openstack.org/#/c/614782/
Change-Id: I7bb50c4e591585b80661fe0d41c7cc2dfec5fdf8
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/26/614226/3 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/functions/validate_yum_hash.rb'],1,e9cb9d6048a5a76217e80537630f501c18033bf7,614226,Puppet::Functions.create_function(:validate_yum_hash) do def validate_yum_hash(*args) do end ,module Puppet::Parser::Functions newfunction(:validate_yum_hash) do |args| end,3,4
openstack%2Fpuppet-ironic~master~Icd78fb502f2c4d3eaecdd8bbe78f42e12b74f937,openstack/puppet-ironic,master,Icd78fb502f2c4d3eaecdd8bbe78f42e12b74f937,Deprecate pki related options,MERGED,2018-11-22 03:43:44.000000000,2018-11-30 06:07:58.000000000,2018-11-30 06:07:58.000000000,"[{'_account_id': 9414}, {'_account_id': 10239}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-11-22 03:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/57f173c6acf5cdef2838805e62d17705917c68b9', 'message': 'Deprecate check_revocations_for_cached option\n\ncheck_revocations_for_cached is deprecated for removel because of PKI\ntoken format is no longer supported.\nUpdate warning message and add a release note.\n\nChange-Id: Icd78fb502f2c4d3eaecdd8bbe78f42e12b74f937\nCloses-Bug: #1804562\n'}, {'number': 2, 'created': '2018-11-23 02:26:13.000000000', 'files': ['spec/classes/ironic_api_authtoken_spec.rb', 'spec/classes/ironic_inspector_authtoken_spec.rb', 'manifests/inspector/authtoken.pp', 'releasenotes/notes/deprecate_pki_related_parameters-a8cacb43a84ea360.yaml', 'manifests/api/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/d41875954dda966f26316fdecce28e7f079c9ad0', 'message': 'Deprecate pki related options\n\ncheck_revocations_for_cached and hash_algorithms are deprecated for\nremovel because of PKI token format is no longer supported.\nUpdate warning message and add a release note.\n\nChange-Id: Icd78fb502f2c4d3eaecdd8bbe78f42e12b74f937\nCloses-Bug: #1804562\nCloses-Bug: #1804720\n'}]",0,619414,d41875954dda966f26316fdecce28e7f079c9ad0,37,5,2,9414,,,0,"Deprecate pki related options

check_revocations_for_cached and hash_algorithms are deprecated for
removel because of PKI token format is no longer supported.
Update warning message and add a release note.

Change-Id: Icd78fb502f2c4d3eaecdd8bbe78f42e12b74f937
Closes-Bug: #1804562
Closes-Bug: #1804720
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/14/619414/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate_check_revocations_for_cached_parameter-b2794cd51647799d.yaml', 'spec/classes/ironic_api_authtoken_spec.rb', 'spec/classes/ironic_inspector_authtoken_spec.rb', 'manifests/inspector/authtoken.pp', 'manifests/api/authtoken.pp']",5,57f173c6acf5cdef2838805e62d17705917c68b9,bug/1804562,"# [*check_revocations_for_cached*] # (Optional) If true, the revocation list will be checked for cached tokens. # This requires that PKI tokens are configured on the identity server. # boolean value. # Defaults to undef. # $check_revocations_for_cached = undef, if $check_revocations_for_cached { warning('check_revocations_for_cached parameter is deprecated, has no effect and will be removed in the future.') } ","# [*check_revocations_for_cached*] # (Optional) If true, the revocation list will be checked for cached tokens. # This requires that PKI tokens are configured on the identity server. # boolean value. # Defaults to $::os_service_default. # $check_revocations_for_cached = $::os_service_default, check_revocations_for_cached => $check_revocations_for_cached,",26,22
openstack%2Ftacker-horizon~master~I77de45c1b21d2d6df3658cfd8e3569016b7138d1,openstack/tacker-horizon,master,I77de45c1b21d2d6df3658cfd8e3569016b7138d1,Update the min version of tox to 2.0,MERGED,2018-11-02 06:35:12.000000000,2018-11-30 06:00:14.000000000,2018-11-30 06:00:14.000000000,"[{'_account_id': 2874}, {'_account_id': 12455}, {'_account_id': 13380}, {'_account_id': 16511}, {'_account_id': 18955}, {'_account_id': 19644}, {'_account_id': 22348}, {'_account_id': 25254}, {'_account_id': 26222}, {'_account_id': 27078}, {'_account_id': 27153}, {'_account_id': 27181}, {'_account_id': 28956}]","[{'number': 1, 'created': '2018-11-02 06:35:12.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/ba03d4fb8cee40c506fd53bd3db2cb043896c9e0', 'message': 'Update the min version of tox to 2.0\n\nThe commands used by constraints need at least tox 2.0. Update to\nreflect reality, which should help with local running of constraints\ntargets.\n\nChange-Id: I77de45c1b21d2d6df3658cfd8e3569016b7138d1\n'}]",0,615019,ba03d4fb8cee40c506fd53bd3db2cb043896c9e0,12,13,1,28174,,,0,"Update the min version of tox to 2.0

The commands used by constraints need at least tox 2.0. Update to
reflect reality, which should help with local running of constraints
targets.

Change-Id: I77de45c1b21d2d6df3658cfd8e3569016b7138d1
",git fetch https://review.opendev.org/openstack/tacker-horizon refs/changes/19/615019/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ba03d4fb8cee40c506fd53bd3db2cb043896c9e0,min_tox_version,minversion = 2.0,minversion = 1.6,1,1
openstack%2Fopenstack-ansible-os_swift~master~Ifbc748019403f0c0712d5f241f118e998d2061d4,openstack/openstack-ansible-os_swift,master,Ifbc748019403f0c0712d5f241f118e998d2061d4,Add variable for the ssh service and ensure its enabled,MERGED,2018-10-04 04:58:51.000000000,2018-11-30 05:53:13.000000000,2018-11-30 05:53:13.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-04 04:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/f846ca2e82eb58076b392e3ffda661a188a2e0bf', 'message': 'Add variable for the ssh service and ensure its enabled\n\nThe ssh service on ubuntu based systems is ""ssh"" which is established by\nthe service unit path `/lib/systemd/system/ssh.service`. When running\nthe service will respond to the name ""sshd"" however this is just an\nalias. This change adds a variable to set the service unit name\nbased on the distro family which will allow the service to start should\nit be masked.\n\nThe change will now delegate to all nodes within the swift cluster\nensuring ssh is enabled and started. If SSH is not running everywhere at\nthe same time swift ring distribution will not be possible later on in\nthe role.\n\nChange-Id: Ifbc748019403f0c0712d5f241f118e998d2061d4\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2018-10-04 05:00:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/22bc54f3af0c02a8609e5379e693a387dea120a7', 'message': 'Add variable for the ssh service and ensure its enabled\n\nThe ssh service on ubuntu based systems is ""ssh"" which is established by\nthe service unit path `/lib/systemd/system/ssh.service`. When running\nthe service will respond to the name ""sshd"" however this is just an\nalias. This change adds a variable to set the service unit name\nbased on the distro family which will allow the service to start should\nit be masked.\n\nThe change will now delegate to all nodes within the swift cluster\nensuring ssh is enabled and started. If SSH is not running everywhere at\nthe same time swift ring distribution will not be possible later on in\nthe role.\n\nChange-Id: Ifbc748019403f0c0712d5f241f118e998d2061d4\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 3, 'created': '2018-10-19 14:44:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/c0ac307cb9a77529deee488bd7fd9ab0ef693dbf', 'message': 'Add variable for the ssh service and ensure its enabled\n\nThe ssh service on ubuntu based systems is ""ssh"" which is established by\nthe service unit path `/lib/systemd/system/ssh.service`. When running\nthe service will respond to the name ""sshd"" however this is just an\nalias. This change adds a variable to set the service unit name\nbased on the distro family which will allow the service to start should\nit be masked.\n\nThe change will now delegate to all nodes within the swift cluster\nensuring ssh is enabled and started. If SSH is not running everywhere at\nthe same time swift ring distribution will not be possible later on in\nthe role.\n\nChange-Id: Ifbc748019403f0c0712d5f241f118e998d2061d4\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 4, 'created': '2018-11-28 17:52:59.000000000', 'files': ['tasks/swift_post_install.yml', 'vars/redhat-7.yml', 'vars/debian.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/d40a02067806c2a67cf7b418b078316c240cc2fc', 'message': 'Add variable for the ssh service and ensure its enabled\n\nThe ssh service on ubuntu based systems is ""ssh"" which is established by\nthe service unit path `/lib/systemd/system/ssh.service`. When running\nthe service will respond to the name ""sshd"" however this is just an\nalias. This change adds a variable to set the service unit name\nbased on the distro family which will allow the service to start should\nit be masked.\n\nThe change will now delegate to all nodes within the swift cluster\nensuring ssh is enabled and started. If SSH is not running everywhere at\nthe same time swift ring distribution will not be possible later on in\nthe role.\n\nChange-Id: Ifbc748019403f0c0712d5f241f118e998d2061d4\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",8,607808,d40a02067806c2a67cf7b418b078316c240cc2fc,25,3,4,7353,,,0,"Add variable for the ssh service and ensure its enabled

The ssh service on ubuntu based systems is ""ssh"" which is established by
the service unit path `/lib/systemd/system/ssh.service`. When running
the service will respond to the name ""sshd"" however this is just an
alias. This change adds a variable to set the service unit name
based on the distro family which will allow the service to start should
it be masked.

The change will now delegate to all nodes within the swift cluster
ensuring ssh is enabled and started. If SSH is not running everywhere at
the same time swift ring distribution will not be possible later on in
the role.

Change-Id: Ifbc748019403f0c0712d5f241f118e998d2061d4
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/08/607808/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/swift_post_install.yml', 'vars/redhat-7.yml', 'vars/debian.yml', 'vars/suse.yml']",4,f846ca2e82eb58076b392e3ffda661a188a2e0bf,make-sshd-run, swift_sshd: sshd,,16,0
openstack%2Frequirements~stable%2Frocky~I616ddc39b8ea7a7e3eaaf762a4f46964f12f4170,openstack/requirements,stable/rocky,I616ddc39b8ea7a7e3eaaf762a4f46964f12f4170,Block oslo.service 1.31.6,MERGED,2018-11-22 23:29:03.000000000,2018-11-30 05:53:12.000000000,2018-11-30 05:53:12.000000000,"[{'_account_id': 4257}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-22 23:29:03.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d09b6b32181fbe182f14bd18361ce3848a72f740', 'message': ""Block oslo.service 1.31.6\n\nThis release introduces a backport from master that is known to break at\nleast the nova unit tests.  Block this release.\n\nWe're looking for a path forward that doesn't effectively make the rocky\nbranch of oslo.service useless\n\nChange-Id: I616ddc39b8ea7a7e3eaaf762a4f46964f12f4170\n""}]",0,619655,d09b6b32181fbe182f14bd18361ce3848a72f740,14,4,1,12898,,,0,"Block oslo.service 1.31.6

This release introduces a backport from master that is known to break at
least the nova unit tests.  Block this release.

We're looking for a path forward that doesn't effectively make the rocky
branch of oslo.service useless

Change-Id: I616ddc39b8ea7a7e3eaaf762a4f46964f12f4170
",git fetch https://review.opendev.org/openstack/requirements refs/changes/55/619655/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,d09b6b32181fbe182f14bd18361ce3848a72f740,,"oslo.service!=1.28.1,!=1.31.6 # Apache-2.0",oslo.service!=1.28.1 # Apache-2.0,1,1
openstack%2Fpatrole~master~Idddf5a8bf5214b1fbc079fcf2f5b1a4c2a889a57,openstack/patrole,master,Idddf5a8bf5214b1fbc079fcf2f5b1a4c2a889a57,Add tests to cover network ip availability API,MERGED,2018-09-05 21:34:51.000000000,2018-11-30 05:40:11.000000000,2018-11-30 05:40:11.000000000,"[{'_account_id': 8911}, {'_account_id': 16274}, {'_account_id': 22348}, {'_account_id': 23140}, {'_account_id': 23186}, {'_account_id': 27078}]","[{'number': 1, 'created': '2018-09-05 21:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/a93906f4cd31aada667e6c42981e4de1129c8d3f', 'message': 'Add tests to cover network ip availability API\n\nThis patch set adds tests to cover the neutron network_ip_availability API [0].\nPart of ""Increase Neutron RBAC Coverage"" initiative [1]\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#network-ip-availability-and-usage-stats\n[1] https://storyboard.openstack.org/#!/story/2002641\n\nChange-Id: Idddf5a8bf5214b1fbc079fcf2f5b1a4c2a889a57\nStory: 2002641\nTask: 22304\n'}, {'number': 2, 'created': '2018-09-06 02:10:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/b7eb47b14dceb0b2bcc49da14686109252b9576a', 'message': 'Add tests to cover network ip availability API\n\nThis patch set adds tests to cover the neutron network_ip_availability API [0].\nPart of ""Increase Neutron RBAC Coverage"" initiative [1]\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#network-ip-availability-and-usage-stats\n[1] https://storyboard.openstack.org/#!/story/2002641\n\nChange-Id: Idddf5a8bf5214b1fbc079fcf2f5b1a4c2a889a57\nStory: 2002641\nTask: 22304\n'}, {'number': 3, 'created': '2018-09-06 14:45:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/4217c6e2961cebe60cf4f334615cb3b331f14bcf', 'message': 'Add tests to cover network ip availability API\n\nThis patch set adds tests to cover the neutron network_ip_availability API [0].\nPart of ""Increase Neutron RBAC Coverage"" initiative [1]\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#network-ip-availability-and-usage-stats\n[1] https://storyboard.openstack.org/#!/story/2002641\n\nChange-Id: Idddf5a8bf5214b1fbc079fcf2f5b1a4c2a889a57\nStory: 2002641\nTask: 22304\n'}, {'number': 4, 'created': '2018-09-12 16:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/149f11781f27145f4e969f1118c9d1e1a91c7adb', 'message': 'Add tests to cover network ip availability API\n\nThis patch set adds tests to cover the neutron network_ip_availability API [0].\nPart of ""Increase Neutron RBAC Coverage"" initiative [1]\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#network-ip-availability-and-usage-stats\n[1] https://storyboard.openstack.org/#!/story/2002641\n\nChange-Id: Idddf5a8bf5214b1fbc079fcf2f5b1a4c2a889a57\nDepends-On: https://review.openstack.org/#/c/600257/\nStory: 2002641\nTask: 22304\n'}, {'number': 5, 'created': '2018-09-12 16:35:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/162731df5789bad37f3fcc30905446f570941716', 'message': 'Add tests to cover network ip availability API\n\nThis patch set adds tests to cover the neutron network_ip_availability API [0].\nPart of ""Increase Neutron RBAC Coverage"" initiative [1]\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#network-ip-availability-and-usage-stats\n[1] https://storyboard.openstack.org/#!/story/2002641\n\nChange-Id: Idddf5a8bf5214b1fbc079fcf2f5b1a4c2a889a57\nDepends-On: https://review.openstack.org/#/c/601270/\nStory: 2002641\nTask: 22304\n'}, {'number': 6, 'created': '2018-09-13 18:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/fb91a13b01d2c36fa8a191d4ac31ae016980fcc0', 'message': 'Add tests to cover network ip availability API\n\nThis patch set adds tests to cover the neutron network_ip_availability API [0].\nPart of ""Increase Neutron RBAC Coverage"" initiative [1]\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#network-ip-availability-and-usage-stats\n[1] https://storyboard.openstack.org/#!/story/2002641\n\nChange-Id: Idddf5a8bf5214b1fbc079fcf2f5b1a4c2a889a57\nStory: 2002641\nTask: 22304\n'}, {'number': 7, 'created': '2018-09-15 02:18:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/d0095993086278f070b7d325107b43bbf7b76657', 'message': 'Add tests to cover network ip availability API\n\nThis patch set adds tests to cover the neutron network_ip_availability API [0].\nPart of ""Increase Neutron RBAC Coverage"" initiative [1]\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#network-ip-availability-and-usage-stats\n[1] https://storyboard.openstack.org/#!/story/2002641\n\nChange-Id: Idddf5a8bf5214b1fbc079fcf2f5b1a4c2a889a57\nStory: 2002641\nTask: 22304\n'}, {'number': 8, 'created': '2018-09-20 14:33:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/911c0c52abb26e961c001f14cc3a19675256760e', 'message': 'Add tests to cover network ip availability API\n\nThis patch set adds tests to cover the neutron network_ip_availability API [0].\nPart of ""Increase Neutron RBAC Coverage"" initiative [1]\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#network-ip-availability-and-usage-stats\n[1] https://storyboard.openstack.org/#!/story/2002641\n\nChange-Id: Idddf5a8bf5214b1fbc079fcf2f5b1a4c2a889a57\nStory: 2002641\nTask: 22304\n'}, {'number': 9, 'created': '2018-09-20 23:35:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/35a343d6d4d6934ac108091aed0555480717b5ad', 'message': 'Add tests to cover network ip availability API\n\nThis patch set adds tests to cover the neutron network_ip_availability API [0].\nPart of ""Increase Neutron RBAC Coverage"" initiative [1]\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#network-ip-availability-and-usage-stats\n[1] https://storyboard.openstack.org/#!/story/2002641\n\nChange-Id: Idddf5a8bf5214b1fbc079fcf2f5b1a4c2a889a57\nStory: 2002641\nTask: 22304\n'}, {'number': 10, 'created': '2018-09-21 13:51:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/268b66ef933cdb5bec12278d36e60c730d21f2c8', 'message': 'Add tests to cover network ip availability API\n\nThis patch set adds tests to cover the neutron network_ip_availability API [0].\nPart of ""Increase Neutron RBAC Coverage"" initiative [1]\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#network-ip-availability-and-usage-stats\n[1] https://storyboard.openstack.org/#!/story/2002641\n\nChange-Id: Idddf5a8bf5214b1fbc079fcf2f5b1a4c2a889a57\nStory: 2002641\nTask: 22304\n'}, {'number': 11, 'created': '2018-09-30 20:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/b8e86f03f4ae08365bc386f6c2ba85f2f36ba037', 'message': 'Add tests to cover network ip availability API\n\nThis patch set adds tests to cover the neutron network_ip_availability API [0].\nPart of ""Increase Neutron RBAC Coverage"" initiative [1]\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#network-ip-availability-and-usage-stats\n[1] https://storyboard.openstack.org/#!/story/2002641\n\nChange-Id: Idddf5a8bf5214b1fbc079fcf2f5b1a4c2a889a57\nStory: 2002641\nTask: 22304\n'}, {'number': 12, 'created': '2018-10-09 18:50:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/c4f0ca1bdf6727c6fc7e9a33c5aec6cf66203599', 'message': 'Add tests to cover network ip availability API\n\nThis patch set adds tests to cover the neutron network_ip_availability API [0].\nPart of ""Increase Neutron RBAC Coverage"" initiative [1]\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#network-ip-availability-and-usage-stats\n[1] https://storyboard.openstack.org/#!/story/2002641\n\nChange-Id: Idddf5a8bf5214b1fbc079fcf2f5b1a4c2a889a57\nStory: 2002641\nTask: 22304\n'}, {'number': 13, 'created': '2018-11-09 23:23:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/5bc7035c89a03134a3add048367088951915d3ec', 'message': 'Add tests to cover network ip availability API\n\nThis patch set adds tests to cover the neutron network_ip_availability API [0].\nPart of ""Increase Neutron RBAC Coverage"" initiative [1]\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#network-ip-availability-and-usage-stats\n[1] https://storyboard.openstack.org/#!/story/2002641\n\nChange-Id: Idddf5a8bf5214b1fbc079fcf2f5b1a4c2a889a57\nStory: 2002641\nTask: 22304\n'}, {'number': 14, 'created': '2018-11-09 23:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/a3c1ae9b70ff5901632bb09f85174ebbe6f8a9a9', 'message': 'Add tests to cover network ip availability API\n\nThis patch set adds tests to cover the neutron network_ip_availability API [0].\nPart of ""Increase Neutron RBAC Coverage"" initiative [1]\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#network-ip-availability-and-usage-stats\n[1] https://storyboard.openstack.org/#!/story/2002641\n\nChange-Id: Idddf5a8bf5214b1fbc079fcf2f5b1a4c2a889a57\nStory: 2002641\nTask: 22304\n'}, {'number': 15, 'created': '2018-11-10 04:04:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/6c8a097b7f3af730e0726b6782d5413b2878fe58', 'message': 'Add tests to cover network ip availability API\n\nThis patch set adds tests to cover the neutron network_ip_availability API [0].\nPart of ""Increase Neutron RBAC Coverage"" initiative [1]\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#network-ip-availability-and-usage-stats\n[1] https://storyboard.openstack.org/#!/story/2002641\n\nChange-Id: Idddf5a8bf5214b1fbc079fcf2f5b1a4c2a889a57\nStory: 2002641\nTask: 22304\n'}, {'number': 16, 'created': '2018-11-10 23:13:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/6dea3cc8abe4ef178aac7a62e088c0cf1e35fe89', 'message': 'Add tests to cover network ip availability API\n\nThis patch set adds tests to cover the neutron network_ip_availability API [0].\nPart of ""Increase Neutron RBAC Coverage"" initiative [1]\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#network-ip-availability-and-usage-stats\n[1] https://storyboard.openstack.org/#!/story/2002641\n\nChange-Id: Idddf5a8bf5214b1fbc079fcf2f5b1a4c2a889a57\nStory: 2002641\nTask: 22304\n'}, {'number': 17, 'created': '2018-11-13 15:31:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/d03f91a7976ae8b8c984d2f348dc352b751682be', 'message': 'Add tests to cover network ip availability API\n\nThis patch set adds tests to cover the neutron network_ip_availability API [0].\nPart of ""Increase Neutron RBAC Coverage"" initiative [1]\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#network-ip-availability-and-usage-stats\n[1] https://storyboard.openstack.org/#!/story/2002641\n\nChange-Id: Idddf5a8bf5214b1fbc079fcf2f5b1a4c2a889a57\nStory: 2002641\nTask: 22304\n'}, {'number': 18, 'created': '2018-11-14 16:34:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/7ab34853af0f712006de07ebaf024696783a6ecf', 'message': 'Add tests to cover network ip availability API\n\nThis patch set adds tests to cover the neutron network_ip_availability API [0].\nPart of ""Increase Neutron RBAC Coverage"" initiative [1]\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#network-ip-availability-and-usage-stats\n[1] https://storyboard.openstack.org/#!/story/2002641\n\nChange-Id: Idddf5a8bf5214b1fbc079fcf2f5b1a4c2a889a57\nStory: 2002641\nTask: 22304\n'}, {'number': 19, 'created': '2018-11-14 16:55:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/0369004d5bb6cb656121d3ba83926eac63b12bb7', 'message': 'Add tests to cover network ip availability API\n\nThis patch set adds tests to cover the neutron network_ip_availability API [0].\nPart of ""Increase Neutron RBAC Coverage"" initiative [1]\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#network-ip-availability-and-usage-stats\n[1] https://storyboard.openstack.org/#!/story/2002641\n\nChange-Id: Idddf5a8bf5214b1fbc079fcf2f5b1a4c2a889a57\nStory: 2002641\nTask: 22304\n'}, {'number': 20, 'created': '2018-11-14 19:01:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/71cdfe43f3e89c9a4711a4c37c3247ed94b461bd', 'message': 'Add tests to cover network ip availability API\n\nThis patch set adds tests to cover the neutron network_ip_availability API [0].\nPart of ""Increase Neutron RBAC Coverage"" initiative [1]\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#network-ip-availability-and-usage-stats\n[1] https://storyboard.openstack.org/#!/story/2002641\n\nChange-Id: Idddf5a8bf5214b1fbc079fcf2f5b1a4c2a889a57\nStory: 2002641\nTask: 22304\n'}, {'number': 21, 'created': '2018-11-15 20:41:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/8fbb2b9e9cd2fac304b9874888e36849369eed60', 'message': 'Add tests to cover network ip availability API\n\nThis patch set adds tests to cover the neutron network_ip_availability API [0].\nPart of ""Increase Neutron RBAC Coverage"" initiative [1]\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#network-ip-availability-and-usage-stats\n[1] https://storyboard.openstack.org/#!/story/2002641\n\nChange-Id: Idddf5a8bf5214b1fbc079fcf2f5b1a4c2a889a57\nStory: 2002641\nTask: 22304\n'}, {'number': 22, 'created': '2018-11-15 20:42:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/c7b7d181307dbb69a913981f235e5196ba88759c', 'message': 'Add tests to cover network ip availability API\n\nThis patch set adds tests to cover the neutron network_ip_availability API [0].\nPart of ""Increase Neutron RBAC Coverage"" initiative [1]\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#network-ip-availability-and-usage-stats\n[1] https://storyboard.openstack.org/#!/story/2002641\n\nChange-Id: Idddf5a8bf5214b1fbc079fcf2f5b1a4c2a889a57\nStory: 2002641\nTask: 22304\n'}, {'number': 23, 'created': '2018-11-15 21:39:00.000000000', 'files': ['patrole_tempest_plugin/tests/api/network/test_network_ip_availability_rbac.py'], 'web_link': 'https://opendev.org/openstack/patrole/commit/a261a2f446c5dea91466a866796f39234ad206a0', 'message': 'Add tests to cover network ip availability API\n\nThis patch set adds tests to cover the neutron network_ip_availability API [0].\nPart of ""Increase Neutron RBAC Coverage"" initiative [1]\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#network-ip-availability-and-usage-stats\n[1] https://storyboard.openstack.org/#!/story/2002641\n\nChange-Id: Idddf5a8bf5214b1fbc079fcf2f5b1a4c2a889a57\nStory: 2002641\nTask: 22304\n'}]",19,600257,a261a2f446c5dea91466a866796f39234ad206a0,102,6,23,16274,,,0,"Add tests to cover network ip availability API

This patch set adds tests to cover the neutron network_ip_availability API [0].
Part of ""Increase Neutron RBAC Coverage"" initiative [1]

[0] https://developer.openstack.org/api-ref/network/v2/index.html#network-ip-availability-and-usage-stats
[1] https://storyboard.openstack.org/#!/story/2002641

Change-Id: Idddf5a8bf5214b1fbc079fcf2f5b1a4c2a889a57
Story: 2002641
Task: 22304
",git fetch https://review.opendev.org/openstack/patrole refs/changes/57/600257/21 && git format-patch -1 --stdout FETCH_HEAD,['patrole_tempest_plugin/tests/api/network/test_networks_rbac.py'],1,a93906f4cd31aada667e6c42981e4de1129c8d3f,generic-list," class NetworkIpAvailabilityPluginRbacTest(base.BaseNetworkPluginRbacTest): @utils.requires_ext(extension='network-ip-availability', service='network') @rbac_rule_validation.action(service=""neutron"", rules=[""get_network_ip_availability""], expected_error_codes=[404]) @decorators.idempotent_id('93EDC5ED-385F-4A8E-9B15-4370EC608253') def test_get_network_ip_availabilities(self): """"""Get network availability RBAC test for the neutron get_network_ip_availabilities policy """""" network_name = data_utils.rand_name( self.__class__.__name__ + '-Network') network = self.create_network(network_name=network_name) with self.rbac_utils.override_role(self): self.ntp_client.show_network_ip_availability(network['id']) @utils.requires_ext(extension='network-ip-availability', service='network') @rbac_rule_validation.action(service=""neutron"", rules=[""get_network_ip_availabilities""], expected_error_codes=[404]) @decorators.idempotent_id('D4CEB5F0-2342-4412-A617-4E1AAF7FCAF0') def test_get_network_ip_availability(self): """"""List network ip availabilities RBAC test for the neutron get_network_ip_availabilities policy """""" with self.rbac_utils.override_role(self): self.ntp_client.show_network_ip_availabilities()",,34,0
openstack%2Ftripleo-docs~master~I6290e5fc49420709f5a693f8294360d28b1f6ef5,openstack/tripleo-docs,master,I6290e5fc49420709f5a693f8294360d28b1f6ef5,Add BIOS settings doc,MERGED,2018-06-22 03:38:13.000000000,2018-11-30 05:16:00.000000000,2018-11-30 05:16:00.000000000,"[{'_account_id': 3153}, {'_account_id': 6133}, {'_account_id': 7144}, {'_account_id': 10239}, {'_account_id': 10873}, {'_account_id': 11085}, {'_account_id': 14985}, {'_account_id': 21151}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2018-06-22 03:38:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/15ac5dc08323e4b7cf512e4ee46553592ce8e408', 'message': 'Add BIOS settings doc\n\nChange-Id: I6290e5fc49420709f5a693f8294360d28b1f6ef5\n'}, {'number': 2, 'created': '2018-06-25 11:25:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/86975d99851da1157feebcfad4bd78dbdd90bb1c', 'message': 'Add BIOS settings doc\n\nChange-Id: I6290e5fc49420709f5a693f8294360d28b1f6ef5\n'}, {'number': 3, 'created': '2018-11-22 14:12:14.000000000', 'files': ['doc/source/install/advanced_deployment/bios_settings.rst', 'doc/source/install/advanced_deployment/baremetal_nodes.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/faa3af3c33437664e5239d0c8ab1e922e2ed6f3a', 'message': 'Add BIOS settings doc\n\nChange-Id: I6290e5fc49420709f5a693f8294360d28b1f6ef5\n'}]",18,577343,faa3af3c33437664e5239d0c8ab1e922e2ed6f3a,18,10,3,21151,,,0,"Add BIOS settings doc

Change-Id: I6290e5fc49420709f5a693f8294360d28b1f6ef5
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/43/577343/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/advanced_deployment/bios_settings.rst', 'doc/source/install/advanced_deployment/baremetal_nodes.rst']",2,15ac5dc08323e4b7cf512e4ee46553592ce8e408,, bios_settings,,52,0
openstack%2Fopenstack-ansible-ops~master~Ia5babcafa1a7a58bdf8a4f5961341a840ca1c105,openstack/openstack-ansible-ops,master,Ia5babcafa1a7a58bdf8a4f5961341a840ca1c105,add short name for distros,MERGED,2018-11-29 17:28:04.000000000,2018-11-30 04:51:09.000000000,2018-11-30 04:51:09.000000000,"[{'_account_id': 7353}, {'_account_id': 12906}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-29 17:28:04.000000000', 'files': ['bootstrap-embedded-ansible/bootstrap-embedded-ansible.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/d4fd3c6746ab88e681163c216eb4ebec3d655662', 'message': 'add short name for distros\n\nChange-Id: Ia5babcafa1a7a58bdf8a4f5961341a840ca1c105\nSigned-off-by: cloudnull <kevin.carter@rackspace.com>\n'}]",0,620967,d4fd3c6746ab88e681163c216eb4ebec3d655662,7,3,1,7353,,,0,"add short name for distros

Change-Id: Ia5babcafa1a7a58bdf8a4f5961341a840ca1c105
Signed-off-by: cloudnull <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/67/620967/1 && git format-patch -1 --stdout FETCH_HEAD,['bootstrap-embedded-ansible/bootstrap-embedded-ansible.sh'],1,d4fd3c6746ab88e681163c216eb4ebec3d655662,," elif [ ${ID} = ""opensuse"" ] || [ ${ID} = ""suse"" ]; then elif [ ${ID} = ""centos"" ] || [ ${ID} = ""redhat"" ] || [ ${ID} = ""rhel"" ]; then"," elif [ ${ID} = ""opensuse"" ]; then elif [ ${ID} = ""centos"" ] || [ ${ID} =""redhat"" ]; then",2,2
openstack%2Ftacker~master~Idcf2782d8799870140f217d640149e67604b052e,openstack/tacker,master,Idcf2782d8799870140f217d640149e67604b052e,Improve UT test_api_common,MERGED,2018-11-25 13:56:29.000000000,2018-11-30 04:38:35.000000000,2018-11-30 04:38:35.000000000,"[{'_account_id': 18955}, {'_account_id': 19644}, {'_account_id': 22348}, {'_account_id': 26222}, {'_account_id': 27181}, {'_account_id': 29339}, {'_account_id': 29383}]","[{'number': 1, 'created': '2018-11-25 13:56:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/5f2ed7a40842b5216096c653acdbc17b7897c1cc', 'message': 'Improve UT test_api_common\n\nAdd cases into api common UT.\n\nPartially Implements: blueprint test-addition-refactoring\n\nChange-Id: Idcf2782d8799870140f217d640149e67604b052e\n'}, {'number': 2, 'created': '2018-11-27 03:00:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/d6abfe4a74dd52cb72f53079b585b0f9b3f2992b', 'message': 'Improve UT test_api_common\n\nAdd cases into api common UT.\n\nPartially Implements: blueprint test-addition-refactoring\n\nChange-Id: Idcf2782d8799870140f217d640149e67604b052e\n'}, {'number': 3, 'created': '2018-11-27 03:15:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/70639f37d02993ccbc8ee0bbec3b549d25cad506', 'message': 'Improve UT test_api_common\n\nAdd cases into api common UT.\n\nPartially Implements: blueprint test-addition-refactoring\n\nChange-Id: Idcf2782d8799870140f217d640149e67604b052e\n'}, {'number': 4, 'created': '2018-11-28 11:39:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/88abd8f9e3e20b2df1678f855c550b3b59c7c925', 'message': 'Improve UT test_api_common\n\nAdd cases into api common UT.\n\nPartially Implements: blueprint test-addition-refactoring\n\nChange-Id: Idcf2782d8799870140f217d640149e67604b052e\n'}, {'number': 5, 'created': '2018-11-29 10:50:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/cd8510e970304df00149f1db1afe56860f3ab1b7', 'message': 'Improve UT test_api_common\n\nAdd cases into api common UT.\n\nPartially Implements: blueprint test-addition-refactoring\nCo-Authored-By: Dharmendra Kushwaha <dharmendra.kushwaha@india.nec.com>\n\nChange-Id: Idcf2782d8799870140f217d640149e67604b052e\n'}, {'number': 6, 'created': '2018-11-29 12:54:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/583b1003bd6bcaa3ca19285ef18ab8b3ee2b136a', 'message': 'Improve UT test_api_common\n\nAdd cases into api common UT.\n\nPartially Implements: blueprint test-addition-refactoring\nCo-Authored-By: Dharmendra Kushwaha <dharmendra.kushwaha@india.nec.com>\n\nChange-Id: Idcf2782d8799870140f217d640149e67604b052e\n'}, {'number': 7, 'created': '2018-11-29 13:16:20.000000000', 'files': ['tacker/tests/unit/api/test_api_common.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/9926685cb78366028f6a3e905bed186b6ede36bd', 'message': 'Improve UT test_api_common\n\nAdd cases into api common UT.\n\nPartially Implements: blueprint test-addition-refactoring\nCo-Authored-By: Dharmendra Kushwaha <dharmendra.kushwaha@india.nec.com>\n\nChange-Id: Idcf2782d8799870140f217d640149e67604b052e\n'}]",24,619928,9926685cb78366028f6a3e905bed186b6ede36bd,30,7,7,29383,,,0,"Improve UT test_api_common

Add cases into api common UT.

Partially Implements: blueprint test-addition-refactoring
Co-Authored-By: Dharmendra Kushwaha <dharmendra.kushwaha@india.nec.com>

Change-Id: Idcf2782d8799870140f217d640149e67604b052e
",git fetch https://review.opendev.org/openstack/tacker refs/changes/28/619928/2 && git format-patch -1 --stdout FETCH_HEAD,['tacker/tests/unit/api/test_api_common.py'],1,5f2ed7a40842b5216096c653acdbc17b7897c1cc,bp/test-addition-refactoring,"import json from tacker.api.v1 import resource as wsgi_resource def test_convert_exception_to_http_exc(self): req = wsgi_resource.Request({}) language = req.best_match_language() result = common.convert_exception_to_http_exc(exc.HTTPClientError, None, language) except_res = {""message"": ""Request Failed: internal server error "" ""while processing your request."", ""type"": ""HTTPInternalServerError"", ""detail"": """"} self.assertEqual(json.loads(result.body)[""TackerError""], except_res) self.assertEqual(result.code, 500) def test_get_exception_data(self): result = common.get_exception_data(exc.HTTPClientError) self.assertEqual(result[""detail""], """") self.assertEqual(result[""type""], ""type"") self.assertEqual(result[""message""], exc.HTTPClientError) class SortingEmulatedHelperTestcase(base.BaseTestCase): class request(object): class GET(object): @staticmethod def getall(cont): if cont == ""sort_key"": return {""sort_key"": ""test""} return {'asc': ""test""} def test_sort_emulate_class(self): sort = common.SortingEmulatedHelper(self.request, [""sort_key""]) self.assertEqual(sort.sort_dict, [('sort_key', True)]) def test_sort_emulate_update_fields(self): sort = common.SortingEmulatedHelper(self.request, [""sort_key""]) original_fields = [""sort_dir""] fields_to_add = [] sort.update_fields(original_fields, fields_to_add) self.assertEqual([""sort_dir"", ""sort_key""], original_fields) self.assertEqual([""sort_key""], fields_to_add) def test_sort_emulate_sort(self): sort = common.SortingEmulatedHelper(self.request, [""sort_key""]) items = [{""sort_key"": 9}, {""sort_key"": 6}, {""sort_key"": 7}] expect_res = [{""sort_key"": 6}, {""sort_key"": 7}, {""sort_key"": 9}] result = sort.sort(items) self.assertEqual(expect_res, result) class PaginationEmulatedHelperTestcase(base.BaseTestCase): class request(object): path_url = ""http://127.0.0.1"" class GET(object): @staticmethod def get(limit, reverse): if limit == ""page_reverse"": return ""True"" return 5 @staticmethod def copy(): return {} def test_pagination_emulate_class(self): page = common.PaginationEmulatedHelper(self.request) self.assertEqual(page.limit, 5) self.assertEqual(page.page_reverse, True) def test_sort_pagination_update_fields(self): page = common.PaginationEmulatedHelper(self.request) original_fields = [""name""] fields_to_add = [] page.update_fields(original_fields, fields_to_add) self.assertEqual([""name"", ""id""], original_fields) self.assertEqual([""id""], fields_to_add) def test_pagination_emulate(self): page = common.PaginationEmulatedHelper(self.request) items = [{""id"": 6}, {""id"": 4}, {""id"": 2}] expect_res = [{""id"": 6}, {""id"": 4}] result = page.paginate(items) self.assertEqual(expect_res, result) def test_pagination_emulate_get_links(self): page = common.PaginationEmulatedHelper(self.request) items = [{""id"": 6}, {""id"": 4}, {""id"": 2}] expect_res = [{'href': 'http://127.0.0.1?marker=2', 'rel': 'next'}] result = page.get_links(items) self.assertEqual(expect_res, result)",,100,0
openstack%2Fdiskimage-builder~master~Ie192d296128fb785c344ac5d8a77cad59764080e,openstack/diskimage-builder,master,Ie192d296128fb785c344ac5d8a77cad59764080e,Add missing ws separator between words,MERGED,2018-11-21 08:02:38.000000000,2018-11-30 03:53:49.000000000,2018-11-30 03:53:49.000000000,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2018-11-21 08:02:38.000000000', 'files': ['diskimage_builder/block_device/cmd.py'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/b5f247b04f1efc5e108a45cc37d2441afd394501', 'message': 'Add missing ws separator between words\n\nThis is to add missing ws separator between words.\n\nChange-Id: Ie192d296128fb785c344ac5d8a77cad59764080e\n'}]",0,619169,b5f247b04f1efc5e108a45cc37d2441afd394501,14,5,1,20190,,,0,"Add missing ws separator between words

This is to add missing ws separator between words.

Change-Id: Ie192d296128fb785c344ac5d8a77cad59764080e
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/69/619169/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/block_device/cmd.py'],1,b5f247b04f1efc5e108a45cc37d2441afd394501,missing_ws," help=""YAML file containing parameters for "" help='Retrieve information about ' help='Unmount blockdevice and '"," help=""YAML file containing parameters for"" help='Retrieve information about' help='Unmount blockdevice and'",3,3
openstack%2Frequirements~master~I5adb28faaeb19735445450c26bcf40ecd5336a9f,openstack/requirements,master,I5adb28faaeb19735445450c26bcf40ecd5336a9f,Rebuild docs: DRY edition,MERGED,2018-11-01 19:02:11.000000000,2018-11-30 03:42:03.000000000,2018-11-30 03:42:03.000000000,"[{'_account_id': 2472}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-01 19:02:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/acb52c04140f60345cafb2a049df595fa56c148c', 'message': 'Rebuild docs: DRY edition\n\nPoint to the dependency management docs for general review guidelines and\nadd docs for the freeze process.\n\nStory: 2003792\nTask: 26500\nChange-Id: I5adb28faaeb19735445450c26bcf40ecd5336a9f\n'}, {'number': 2, 'created': '2018-11-03 19:32:21.000000000', 'files': ['doc/source/index.rst', 'doc/source/freeze.rst', 'README.rst'], 'web_link': 'https://opendev.org/openstack/requirements/commit/01ccedef0e0954b63910398ff83a332a965b54e8', 'message': 'Rebuild docs: DRY edition\n\nPoint to the dependency management docs for general review guidelines and\nadd docs for the freeze process.\n\nStory: 2003792\nTask: 26500\nDepends-On: https://review.openstack.org/615388\nChange-Id: I5adb28faaeb19735445450c26bcf40ecd5336a9f\n'}]",3,614836,01ccedef0e0954b63910398ff83a332a965b54e8,23,5,2,14288,,,0,"Rebuild docs: DRY edition

Point to the dependency management docs for general review guidelines and
add docs for the freeze process.

Story: 2003792
Task: 26500
Depends-On: https://review.openstack.org/615388
Change-Id: I5adb28faaeb19735445450c26bcf40ecd5336a9f
",git fetch https://review.opendev.org/openstack/requirements refs/changes/36/614836/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/freeze.rst', 'README.rst']",3,acb52c04140f60345cafb2a049df595fa56c148c,add-freeze-docs,=========================================================== Global Requirements and Constraints for OpenStack Projects ===========================================================Resources and Documentation =========================== - Documentation: https://docs.openstack.org/project-team-guide/dependency-management.html,"============================================ Global Requirements for OpenStack Projects ============================================Why Global Requirements? ======================== Refer to the `Dependency Management`_ section of the *Project Team Guide* for information about the history of the project and the files involved. .. _Dependency Management: https://docs.openstack.org/project-team-guide/dependency-management.html Tools ===== All the tools require openstack_requirements to be installed (e.g. in a Python virtualenv). They all have help, which is the authoritative documentation. update-requirements ------------------- This will update the requirements in a project from the global requirements file found in ``.``. Alternatively, pass ``--source`` to use a different global requirements file:: update-requirements --source /opt/stack/requirements /opt/stack/nova Entries in all requirements files will have their versions updated to match the entries listed in the global requirements. Excess entries will cause errors in hard mode (the default) or be ignored in soft mode. generate-constraints -------------------- Compile a constraints file showing the versions resulting from installing all of ``global-requirements.txt``:: generate-constraints -p /usr/bin/python2.7 -p /usr/bin/python3 \ -b blacklist.txt -r global-requirements.txt > new-constraints.txt edit-constraints ---------------- Replace all references to a package in a constraints file with a new specification. Used by DevStack to enable git installations of libraries that are normally constrained:: edit-constraints oslo.db ""-e file://opt/stack/oslo.db#egg=oslo.db"" build-lower-constraints ----------------------- Combine multiple lower-constraints.txt files to produce a list of the highest version of each package mentioned in the files. This can be used to produce the ""highest minimum"" for a global lower constraints list (a.k.a., the ""TJ Maxx""). To use the script, run:: $ tox -e venv -- build-lower-constraints input1.txt input2.txt Where the input files are lower-constraints.txt or requirements.txt files from one or more projects. If the inputs are requirements files, a lower constraints list for the requirements is produced. If the inputs are lower-constraints.txt, the output includes the highest version of each package referenced in the files. check-requirements ------------------ Run the validation checks from the ``requirements-check`` job locally using the ``requirements-check`` tox environment. Run:: $ tox -e requirements-check -- /path/to/repo/to/test Proposing changes ================= Look at the `Review Guidelines`_ and make sure your change meets them. All changes to ``global-requirements.txt`` may dramatically alter the contents of ``upper-constraints.txt`` due to adding or removing transitive dependencies. As such you should always generate a diff against the current merged constraints, otherwise your change may fail if it is incompatible with the current tested constraints. Regenerating involves five steps. 1) Install the dependencies needed to compile various Python packages:: sudo apt-get install $(bindep -b) 2) Create a reference file (do this without your patch applied):: generate-constraints -p /usr/bin/python2.7 -p /usr/bin/python3 \ -b blacklist.txt -r global-requirements.txt > baseline 3) Apply your patch and generate a new reference file:: generate-constraints -p /usr/bin/python2.7 -p /usr/bin/python3 \ -b blacklist.txt -r global-requirements.txt > updated 4) Diff them:: diff -p baseline updated 5) Apply the patch to ``upper-constraints.txt``. This may require some fiddling. ``edit-constraint`` can do this for you **when the change does not involve multiple lines for one package**. Resources ========= - Documentation: https://docs.openstack.org/requirements/latest/ .. _Review Guidelines: https://docs.openstack.org/project-team-guide/dependency-management.html#review-guidelines",39,119
openstack%2Fneutron~stable%2Frocky~Ib27dc223fcca56030ebb528625cc927fc60553e1,openstack/neutron,stable/rocky,Ib27dc223fcca56030ebb528625cc927fc60553e1,Get centralized FIP only on router's snat host,MERGED,2018-11-29 08:31:45.000000000,2018-11-30 03:42:01.000000000,2018-11-30 03:42:00.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2018-11-29 08:31:45.000000000', 'files': ['neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/dvr_edge_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/115a9f55583b1b762954b046947394b5a3032d52', 'message': 'Get centralized FIP only on router\'s snat host\n\nIt may happen that L3 agent works in dvr_snat mode but\nit handles some router as ""normal"" dvr router because\nsnat for this router is handled on other node.\nIn such case we shouldn\'t try to get floating IPs cidrs\nfrom snat namespace as it doesn\'t exists on host.\n\nChange-Id: Ib27dc223fcca56030ebb528625cc927fc60553e1\nRelated-Bug: #1717302\n(cherry picked from commit 7d0e1ccd34a473c511c9c2357421825539965e41)\n'}]",0,620803,115a9f55583b1b762954b046947394b5a3032d52,11,7,1,11975,,,0,"Get centralized FIP only on router's snat host

It may happen that L3 agent works in dvr_snat mode but
it handles some router as ""normal"" dvr router because
snat for this router is handled on other node.
In such case we shouldn't try to get floating IPs cidrs
from snat namespace as it doesn't exists on host.

Change-Id: Ib27dc223fcca56030ebb528625cc927fc60553e1
Related-Bug: #1717302
(cherry picked from commit 7d0e1ccd34a473c511c9c2357421825539965e41)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/03/620803/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/dvr_edge_router.py']",2,115a9f55583b1b762954b046947394b5a3032d52,bug/1717302-stable/rocky, # Don't look for centralized FIP cidrs if gw_port not exists or # this is not snat host if (not ex_gw_port or not self._is_this_snat_host() or not self.snat_namespace.exists()): centralized_cidrs = self.get_centralized_fip_cidr_set(), if not ex_gw_port: centralized_cidrs = set() # Call get_centralized_fip_cidr_set only when snat_namespace exists if self.get_ex_gw_port() and self.snat_namespace.exists(): centralized_cidrs = self.get_centralized_fip_cidr_set(),37,5
openstack%2Fkuryr-kubernetes~master~I02f69616b8cf9cddd23fd415bbb7517b178907e8,openstack/kuryr-kubernetes,master,I02f69616b8cf9cddd23fd415bbb7517b178907e8,Support network policy update,MERGED,2018-09-25 17:01:33.000000000,2018-11-30 03:31:17.000000000,2018-11-30 03:31:17.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 23804}, {'_account_id': 27032}]","[{'number': 1, 'created': '2018-09-25 17:01:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/fcdbc7f446997841b9d41b6b16d3d106f07fb806', 'message': '[WIP] Support network policy update\n\nThis commit adds support for updating network policies. It handles the\npatch to KuryrNetPolicy CRD and handles security group rules update.\n\nChange-Id: I02f69616b8cf9cddd23fd415bbb7517b178907e8\n'}, {'number': 2, 'created': '2018-09-27 16:01:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6a9b89e674a1a95405550b07752b4bee73a225a3', 'message': '[WIP] Support network policy update\n\n* DO NOT MERGE* This is a work in progress and would need refactor\nbefore being actually ready for reviews.\n\nThis commit adds support for updating network policies. It handles the\npatch to KuryrNetPolicy CRD and handles security group rules update.\n\nChange-Id: I02f69616b8cf9cddd23fd415bbb7517b178907e8\n'}, {'number': 3, 'created': '2018-10-01 13:09:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ac40b7d5e7fc50a70961c40d9c231e53558d3cfb', 'message': 'Support network policy update\n\nThis commit adds support for updating network policies. It handles the\npatch to KuryrNetPolicy CRD and handles security group rules update.\n\nChange-Id: I02f69616b8cf9cddd23fd415bbb7517b178907e8\n'}, {'number': 4, 'created': '2018-10-02 11:07:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f9ec6f45285a869c445007bdc1271de42cceb337', 'message': 'Support network policy update\n\nThis commit adds support for updating network policies. It handles the\npatch to KuryrNetPolicy CRD and handles security group rules update.\n\nChange-Id: I02f69616b8cf9cddd23fd415bbb7517b178907e8\n'}, {'number': 5, 'created': '2018-10-02 11:52:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e5d0aeea47fb63a793125a39ab1d8070f4fcc8bb', 'message': 'Support network policy update\n\nThis commit adds support for updating network policies. It handles the\npatch to KuryrNetPolicy CRD and handles security group rules update.\n\nChange-Id: I02f69616b8cf9cddd23fd415bbb7517b178907e8\n'}, {'number': 6, 'created': '2018-10-02 14:38:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/96965b6afe92e1298735613e7e6c0fee4867e257', 'message': 'Support network policy update\n\nThis commit adds support for updating network policies. It handles the\npatch to KuryrNetPolicy CRD and handles security group rules update.\n\nChange-Id: I02f69616b8cf9cddd23fd415bbb7517b178907e8\n'}, {'number': 7, 'created': '2018-10-03 06:50:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/71533ae2e9989f8d33e4964462dc8d767b9329e7', 'message': '[WIP] Support network policy update\n\nThis commit adds support for updating network policies. It handles the\npatch to KuryrNetPolicy CRD and handles security group rules update.\n\nPartially Implements: blueprint k8s-network-policies\nChange-Id: I02f69616b8cf9cddd23fd415bbb7517b178907e8\n'}, {'number': 8, 'created': '2018-10-04 09:51:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/45c7a654420972cf9de07d574046aa904180c1f3', 'message': '[WIP] Support network policy update\n\nThis commit adds support for updating network policies. It handles the\npatch to KuryrNetPolicy CRD and handles security group rules update.\n\nPartially Implements: blueprint k8s-network-policies\nChange-Id: I02f69616b8cf9cddd23fd415bbb7517b178907e8\n'}, {'number': 9, 'created': '2018-10-04 14:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9a54f141540fa2d218b8dcdab20150c0182f1e3a', 'message': '[WIP] Support network policy update\n\nThis commit adds support for updating network policies. It handles the\npatch to KuryrNetPolicy CRD and handles security group rules update.\n\nPartially Implements: blueprint k8s-network-policies\nChange-Id: I02f69616b8cf9cddd23fd415bbb7517b178907e8\n'}, {'number': 10, 'created': '2018-10-04 15:54:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/bd8af4f1b699fadd3c6739e8ffc88c1170021e84', 'message': '[WIP] Support network policy update\n\nThis commit adds support for updating network policies. It handles the\npatch to KuryrNetPolicy CRD and handles security group rules update.\n\nPartially Implements: blueprint k8s-network-policies\nChange-Id: I02f69616b8cf9cddd23fd415bbb7517b178907e8\n'}, {'number': 11, 'created': '2018-10-05 15:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/67bc618bc2d26bc74585fc199938c5ca8a38e2b4', 'message': '[WIP] Support network policy update\n\nThis commit adds support for updating network policies. It handles the\npatch to KuryrNetPolicy CRD and handles security group rules update.\n\nPartially Implements: blueprint k8s-network-policies\nChange-Id: I02f69616b8cf9cddd23fd415bbb7517b178907e8\n'}, {'number': 12, 'created': '2018-10-31 15:18:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/608175d4f6d518f32bde9215c711a25abe58c7aa', 'message': '[WIP] Support network policy update\n\nThis commit adds support for updating network policies. It handles the\npatch to KuryrNetPolicy CRD and handles security group rules update.\n\nPartially Implements: blueprint k8s-network-policies\nChange-Id: I02f69616b8cf9cddd23fd415bbb7517b178907e8\n'}, {'number': 13, 'created': '2018-11-08 17:32:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/34ea041575c0664814339184266d38a0612fc8fd', 'message': '[WIP] Support network policy update\n\nThis commit adds support for updating network policies. It handles the\npatch to KuryrNetPolicy CRD and handles security group rules update.\n\nPartially Implements: blueprint k8s-network-policies\nChange-Id: I02f69616b8cf9cddd23fd415bbb7517b178907e8\n'}, {'number': 14, 'created': '2018-11-13 08:07:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/cea96fd4791f161ac4838f2eee0b4664d9234ff3', 'message': '[WIP] Support network policy update\n\nThis commit adds support for updating network policies. It handles the\npatch to KuryrNetPolicy CRD and handles security group rules update.\n\nPartially Implements: blueprint k8s-network-policies\nChange-Id: I02f69616b8cf9cddd23fd415bbb7517b178907e8\n'}, {'number': 15, 'created': '2018-11-14 10:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d6e5ffed0722a59b485135e6d318972fdc2341e1', 'message': 'Support network policy update\n\nThis commit adds support for updating network policies. It handles the\npatch to KuryrNetPolicy CRD and handles security group rules update.\n\nTODO:\n- Add unittest\n\nPartially Implements: blueprint k8s-network-policies\nChange-Id: I02f69616b8cf9cddd23fd415bbb7517b178907e8\n'}, {'number': 16, 'created': '2018-11-14 16:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/24322e4353395e8705c7ef28e3cc25fb7fe8879c', 'message': 'Support network policy update\n\nThis commit adds support for updating network policies. It handles the\npatch to KuryrNetPolicy CRD and handles security group rules update.\n\nTODO:\n- Add unittest\n\nPartially Implements: blueprint k8s-network-policies\nChange-Id: I02f69616b8cf9cddd23fd415bbb7517b178907e8\n'}, {'number': 17, 'created': '2018-11-15 10:23:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f4033d9ec57b25c58db317b458e97173f80e56a9', 'message': 'Support network policy update\n\nThis commit adds support for updating network policies. It handles the\npatch to KuryrNetPolicy CRD and handles security group rules update.\n\nTODO:\n- Add unittest\n\nPartially Implements: blueprint k8s-network-policies\nChange-Id: I02f69616b8cf9cddd23fd415bbb7517b178907e8\n'}, {'number': 18, 'created': '2018-11-15 12:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/afb23b4b5f0843376b40d5c1ac1a15bd2831cb2e', 'message': 'Support network policy update\n\nThis commit adds support for updating network policies. It handles the\npatch to KuryrNetPolicy CRD and handles security group rules update.\n\nTODO:\n- Add unittest\n\nPartially Implements: blueprint k8s-network-policies\nChange-Id: I02f69616b8cf9cddd23fd415bbb7517b178907e8\n'}, {'number': 19, 'created': '2018-11-21 14:23:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9cc806bf4608a5838768b0ee6c3bb599897c5564', 'message': 'Support network policy update\n\nThis commit adds support for updating network policies. It handles the\npatch to KuryrNetPolicy CRD and handles security group rules update.\n\nPartially Implements: blueprint k8s-network-policies\nChange-Id: I02f69616b8cf9cddd23fd415bbb7517b178907e8\n'}, {'number': 20, 'created': '2018-11-21 15:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c1f6a396a7355aa3298fc48eba52294ee835bfef', 'message': 'Support network policy update\n\nThis commit adds support for updating network policies. It handles the\npatch to KuryrNetPolicy CRD and handles security group rules update.\n\nPartially Implements: blueprint k8s-network-policies\nChange-Id: I02f69616b8cf9cddd23fd415bbb7517b178907e8\n'}, {'number': 21, 'created': '2018-11-22 11:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/45f582968ffa7f258d44adff26eaf547152358e4', 'message': 'Support network policy update\n\nThis commit adds support for updating network policies. It handles the\npatch to KuryrNetPolicy CRD and handles security group rules update.\n\nPartially Implements: blueprint k8s-network-policies\nChange-Id: I02f69616b8cf9cddd23fd415bbb7517b178907e8\n'}, {'number': 22, 'created': '2018-11-23 12:28:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2fecfd648fc46fe80c39042e380a970c21be1672', 'message': 'Support network policy update\n\nThis commit adds support for updating network policies. It handles the\npatch to KuryrNetPolicy CRD and handles security group rules update.\n\nPartially Implements: blueprint k8s-network-policies\nChange-Id: I02f69616b8cf9cddd23fd415bbb7517b178907e8\n'}, {'number': 23, 'created': '2018-11-26 09:45:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/161e3aba853a03e00c4677a6e223731d34d3e2fa', 'message': 'Support network policy update\n\nThis commit adds support for updating network policies. It handles the\npatch to KuryrNetPolicy CRD and handles security group rules update.\n\nPartially Implements: blueprint k8s-network-policies\nChange-Id: I02f69616b8cf9cddd23fd415bbb7517b178907e8\n'}, {'number': 24, 'created': '2018-11-26 13:03:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/cfe3d5c2a00847d832651f65bfc1614064b792f5', 'message': 'Support network policy update\n\nThis commit adds support for updating network policies. It handles the\npatch to KuryrNetPolicy CRD and handles security group rules update.\n\nPartially Implements: blueprint k8s-network-policies\nChange-Id: I02f69616b8cf9cddd23fd415bbb7517b178907e8\n'}, {'number': 25, 'created': '2018-11-26 15:29:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9decaced95445e9fd4482e639435e840e232812c', 'message': 'Support network policy update\n\nThis commit adds support for updating network policies. It handles the\npatch to KuryrNetPolicy CRD and handles security group rules update.\n\nPartially Implements: blueprint k8s-network-policies\nChange-Id: I02f69616b8cf9cddd23fd415bbb7517b178907e8\n'}, {'number': 26, 'created': '2018-11-28 17:43:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/360a4bdc793530cca1b38867829ef1f5ae43238c', 'message': 'Support network policy update\n\nThis commit adds support for updating network policies. It handles the\npatch to KuryrNetPolicy CRD and handles security group rules update.\n\nPartially Implements: blueprint k8s-network-policies\nChange-Id: I02f69616b8cf9cddd23fd415bbb7517b178907e8\n'}, {'number': 27, 'created': '2018-11-28 20:54:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ec15a24186617464c8b602e7dd71e7e359807345', 'message': 'Support network policy update\n\nThis commit adds support for updating network policies. It handles the\npatch to KuryrNetPolicy CRD and handles security group rules update.\n\nPartially Implements: blueprint k8s-network-policies\nChange-Id: I02f69616b8cf9cddd23fd415bbb7517b178907e8\n'}, {'number': 28, 'created': '2018-11-29 07:34:39.000000000', 'files': ['kuryr_kubernetes/controller/handlers/lbaas.py', 'kuryr_kubernetes/controller/drivers/network_policy.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_policy.py', 'doc/source/installation/network_policy.rst', 'kuryr_kubernetes/k8s_client.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_network_policy.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/76db817fb5508e311109679d0158d19ef26747a4', 'message': 'Support network policy update\n\nThis commit adds support for updating network policies. It handles the\npatch to KuryrNetPolicy CRD and handles security group rules update.\n\nPartially Implements: blueprint k8s-network-policies\nChange-Id: I02f69616b8cf9cddd23fd415bbb7517b178907e8\n'}]",99,605150,76db817fb5508e311109679d0158d19ef26747a4,91,8,28,14885,,,0,"Support network policy update

This commit adds support for updating network policies. It handles the
patch to KuryrNetPolicy CRD and handles security group rules update.

Partially Implements: blueprint k8s-network-policies
Change-Id: I02f69616b8cf9cddd23fd415bbb7517b178907e8
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/50/605150/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/drivers/network_policy.py', 'kuryr_kubernetes/controller/managers/health.py', 'kuryr_kubernetes/handlers/dispatch.py', 'kuryr_kubernetes/k8s_client.py']",4,fcdbc7f446997841b9d41b6b16d3d106f07fb806,bp/k8s-network-policies-patch22," # LOG.debug(""Get %(path)s"", {'path': path}) def patch_spec(self, path, data): LOG.debug(""Patch_status %(path)s: %(data)s"", { 'path': path, 'data': data}) url, header = self._get_url_and_header(path) response = requests.patch(url, json={""spec"": data}, headers=header, cert=self.cert, verify=self.verify_server) if response.ok: return response.json().get('status') raise exc.K8sClientException(response.text) def patch_metadata(self, path, data): LOG.debug(""Patch_status %(path)s: %(data)s"", { 'path': path, 'data': data}) url, header = self._get_url_and_header(path) response = requests.patch(url, json={""metadata"": data}, headers=header, cert=self.cert, verify=self.verify_server) if response.ok: return response.json().get('status') raise exc.K8sClientException(response.text) "," LOG.debug(""Get %(path)s"", {'path': path})",73,23
openstack%2Fneutron~stable%2Fqueens~Ib27dc223fcca56030ebb528625cc927fc60553e1,openstack/neutron,stable/queens,Ib27dc223fcca56030ebb528625cc927fc60553e1,Get centralized FIP only on router's snat host,MERGED,2018-11-29 08:32:12.000000000,2018-11-30 03:25:50.000000000,2018-11-30 03:25:49.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2018-11-29 08:32:12.000000000', 'files': ['neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/dvr_edge_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/968dba2aaa8c89a57e0fd3f78a2e174bca1a9aa3', 'message': 'Get centralized FIP only on router\'s snat host\n\nIt may happen that L3 agent works in dvr_snat mode but\nit handles some router as ""normal"" dvr router because\nsnat for this router is handled on other node.\nIn such case we shouldn\'t try to get floating IPs cidrs\nfrom snat namespace as it doesn\'t exists on host.\n\nChange-Id: Ib27dc223fcca56030ebb528625cc927fc60553e1\nRelated-Bug: #1717302\n(cherry picked from commit 7d0e1ccd34a473c511c9c2357421825539965e41)\n'}]",0,620804,968dba2aaa8c89a57e0fd3f78a2e174bca1a9aa3,11,7,1,11975,,,0,"Get centralized FIP only on router's snat host

It may happen that L3 agent works in dvr_snat mode but
it handles some router as ""normal"" dvr router because
snat for this router is handled on other node.
In such case we shouldn't try to get floating IPs cidrs
from snat namespace as it doesn't exists on host.

Change-Id: Ib27dc223fcca56030ebb528625cc927fc60553e1
Related-Bug: #1717302
(cherry picked from commit 7d0e1ccd34a473c511c9c2357421825539965e41)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/04/620804/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/dvr_edge_router.py']",2,968dba2aaa8c89a57e0fd3f78a2e174bca1a9aa3,bug/1717302-stable/queens, # Don't look for centralized FIP cidrs if gw_port not exists or # this is not snat host if (not ex_gw_port or not self._is_this_snat_host() or not self.snat_namespace.exists()): centralized_cidrs = self.get_centralized_fip_cidr_set(), if not ex_gw_port: centralized_cidrs = set() # Call get_centralized_fip_cidr_set only when snat_namespace exists if self.get_ex_gw_port() and self.snat_namespace.exists(): centralized_cidrs = self.get_centralized_fip_cidr_set(),37,5
openstack%2Fnova~stable%2Fqueens~If04cd802ce7184dc94f94804c743faebe0d4bd8c,openstack/nova,stable/queens,If04cd802ce7184dc94f94804c743faebe0d4bd8c,Default embedded instance.flavor.is_public attribute,MERGED,2018-11-21 20:28:35.000000000,2018-11-30 03:25:43.000000000,2018-11-30 03:25:43.000000000,"[{'_account_id': 1004}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-11-21 20:28:35.000000000', 'files': ['nova/objects/instance.py', 'nova/tests/unit/objects/test_instance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/61bf7ae5795a3dfac7afc57bed9b4195cfdb6042', 'message': ""Default embedded instance.flavor.is_public attribute\n\nIt is possible that really old instances don't actually have this\nattribute defined which can lead to raising exceptions when loading\ntheir embedded flavors from the database.\n\nThis patch fixes this by defaulting these values to true if they\nare not set.\n\nChange-Id: If04cd802ce7184dc94f94804c743faebe0d4bd8c\nCloses-Bug: #1789423\n(cherry picked from commit c4f6b0bf6cc903cf52c4b238c3771604dda174b8)\n(cherry picked from commit c689c09996c4a3da9e05ccd5178a4b5060949889)\n""}]",0,619351,61bf7ae5795a3dfac7afc57bed9b4195cfdb6042,36,13,1,6873,,,0,"Default embedded instance.flavor.is_public attribute

It is possible that really old instances don't actually have this
attribute defined which can lead to raising exceptions when loading
their embedded flavors from the database.

This patch fixes this by defaulting these values to true if they
are not set.

Change-Id: If04cd802ce7184dc94f94804c743faebe0d4bd8c
Closes-Bug: #1789423
(cherry picked from commit c4f6b0bf6cc903cf52c4b238c3771604dda174b8)
(cherry picked from commit c689c09996c4a3da9e05ccd5178a4b5060949889)
",git fetch https://review.opendev.org/openstack/nova refs/changes/51/619351/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/instance.py', 'nova/tests/unit/objects/test_instance.py']",2,61bf7ae5795a3dfac7afc57bed9b4195cfdb6042,bug/1789423," {'cur': objects.Flavor(disabled=False, is_public=True).obj_to_primitive(), 'old': objects.Flavor(disabled=True, is_public=False).obj_to_primitive(), # Assert the is_public values on the flavors self.assertTrue(inst.flavor.is_public) self.assertFalse(inst.old_flavor.is_public) self.assertTrue(inst.new_flavor.is_public)"," {'cur': objects.Flavor(disabled=False).obj_to_primitive(), 'old': objects.Flavor(disabled=True).obj_to_primitive(),",19,11
openstack%2Fnova~stable%2Fpike~I98a2785c07f7af02ad83650c72d9e1868290ece4,openstack/nova,stable/pike,I98a2785c07f7af02ad83650c72d9e1868290ece4,Fix NoneType error in _notify_volume_usage_detach,MERGED,2018-11-01 21:30:13.000000000,2018-11-30 03:25:29.000000000,2018-11-30 03:25:28.000000000,"[{'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-01 21:30:13.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/virt/driver.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d004b0ecfa6f20ceefd029f4ed09de191f0d76b3', 'message': ""Fix NoneType error in _notify_volume_usage_detach\n\nIf the driver.block_stats() method returns None, like the\nlibvirt driver will if the guest is gone during an evacuate,\nwe'll get a NoneType error trying to unpack the return value\nfrom the driver. Instead, simply return as if the driver\nraised NotImplementedError.\n\nSince handling None is changing the contract on the virt\ndriver API, the docstring is updated to explain the acceptable\nreturn values of the driver method.\n\nConflicts:\n      nova/tests/unit/compute/test_compute_mgr.py\n\nNOTE(mriedem): The conflict is due to not having the\ntest_get_scheduler_hints test from change\nI49ffebcd129990f1835f404d98b51732a32171eb which was\nadded in Queens.\n\nChange-Id: I98a2785c07f7af02ad83650c72d9e1868290ece4\nCloses-Bug: #1796981\n(cherry picked from commit 4da54c07861a1542a8e30a768d4506d3e81b5598)\n(cherry picked from commit 940034c27c611b8b344f8371eb0458b16fb58f1d)\n(cherry picked from commit 62fbfdfa8f2dda1a5d9c3733b2f3da3a9d00c93a)\n""}]",0,614872,d004b0ecfa6f20ceefd029f4ed09de191f0d76b3,13,7,1,6873,,,0,"Fix NoneType error in _notify_volume_usage_detach

If the driver.block_stats() method returns None, like the
libvirt driver will if the guest is gone during an evacuate,
we'll get a NoneType error trying to unpack the return value
from the driver. Instead, simply return as if the driver
raised NotImplementedError.

Since handling None is changing the contract on the virt
driver API, the docstring is updated to explain the acceptable
return values of the driver method.

Conflicts:
      nova/tests/unit/compute/test_compute_mgr.py

NOTE(mriedem): The conflict is due to not having the
test_get_scheduler_hints test from change
I49ffebcd129990f1835f404d98b51732a32171eb which was
added in Queens.

Change-Id: I98a2785c07f7af02ad83650c72d9e1868290ece4
Closes-Bug: #1796981
(cherry picked from commit 4da54c07861a1542a8e30a768d4506d3e81b5598)
(cherry picked from commit 940034c27c611b8b344f8371eb0458b16fb58f1d)
(cherry picked from commit 62fbfdfa8f2dda1a5d9c3733b2f3da3a9d00c93a)
",git fetch https://review.opendev.org/openstack/nova refs/changes/72/614872/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/virt/driver.py', 'nova/compute/manager.py']",3,d004b0ecfa6f20ceefd029f4ed09de191f0d76b3,bug/1796981, if vol_stats is None: return, vol_stats = [],26,1
openstack%2Fneutron~master~Ia1f311ee31d1479089685367a97bf13cf170b342,openstack/neutron,master,Ia1f311ee31d1479089685367a97bf13cf170b342,Enable 'all' IPv6 forwarding knob correctly,MERGED,2018-10-25 18:44:02.000000000,2018-11-30 03:25:23.000000000,2018-11-30 03:25:23.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 7016}, {'_account_id': 8871}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16137}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-10-25 18:44:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4ba8487439d511cb126bc729a463e18aa520f77f', 'message': ""WIP: Enable 'all' IPv6 forwarding knob correctly\n\nWhen the external gateway is plugged and we enable IPv6\nforwarding on it, make sure the 'all' sysctl knob is also\nenabled, else IPv6 packets will not be forwarded.  This\nseems to only affect HA routers that default to disabling\nthis 'all' knob on creation.\n\nChange-Id: Ia1f311ee31d1479089685367a97bf13cf170b342\n""}, {'number': 2, 'created': '2018-10-25 21:35:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/224f9e0ba6da0706537c323ab06b7358c5b676c3', 'message': ""WIP: Enable 'all' IPv6 forwarding knob correctly\n\nWhen the external gateway is plugged and we enable IPv6\nforwarding on it, make sure the 'all' sysctl knob is also\nenabled, else IPv6 packets will not be forwarded.  This\nseems to only affect HA routers that default to disabling\nthis 'all' knob on creation.\n\nAlso, when we are removing all the IPv6 addresses from a\nHA router internal interface, set 'accept_ra' to zero so\nit doesn't accidentally auto-configure an address.  Set\nit back to one when adding them back.\n\nCloses-bug: #1787919\n\nChange-Id: Ia1f311ee31d1479089685367a97bf13cf170b342\n""}, {'number': 3, 'created': '2018-10-29 20:22:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c3f18b63fe73e7430d356e2daeafbd7ee8e2892e', 'message': ""Enable 'all' IPv6 forwarding knob correctly\n\nWhen the external gateway is plugged and we enable IPv6\nforwarding on it, make sure the 'all' sysctl knob is also\nenabled, else IPv6 packets will not be forwarded.  This\nseems to only affect HA routers that default to disabling\nthis 'all' knob on creation.\n\nAlso, when we are removing all the IPv6 addresses from a\nHA router internal interface, set 'accept_ra' to zero so\nit doesn't accidentally auto-configure an address.  Set\nit back to one when adding them back.\n\nCloses-bug: #1787919\n\nChange-Id: Ia1f311ee31d1479089685367a97bf13cf170b342\n""}, {'number': 4, 'created': '2018-11-07 20:42:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c293593cbeb47045e18835124b5dc7bdf4b4a812', 'message': ""Enable 'all' IPv6 forwarding knob correctly\n\nWhen the external gateway is plugged and we enable IPv6\nforwarding on it, make sure the 'all' sysctl knob is also\nenabled, else IPv6 packets will not be forwarded.  This\nseems to only affect HA routers that default to disabling\nthis 'all' knob on creation.\n\nAlso, when we are removing all the IPv6 addresses from a\nHA router internal interface, set 'accept_ra' to zero so\nit doesn't accidentally auto-configure an address.  Set\nit back to one when adding them back.\n\nRe-homed newly added _wait_until_ipv6_forwarding_has_state()\naccordingly.\n\nCloses-bug: #1787919\n\nChange-Id: Ia1f311ee31d1479089685367a97bf13cf170b342\n""}, {'number': 5, 'created': '2018-11-08 01:37:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c48dfb6579310ffdc3aa64dc02af949d20800ef8', 'message': ""Enable 'all' IPv6 forwarding knob correctly\n\nWhen the external gateway is plugged and we enable IPv6\nforwarding on it, make sure the 'all' sysctl knob is also\nenabled, else IPv6 packets will not be forwarded.  This\nseems to only affect HA routers that default to disabling\nthis 'all' knob on creation.\n\nAlso, when we are removing all the IPv6 addresses from a\nHA router internal interface, set 'accept_ra' to zero so\nit doesn't accidentally auto-configure an address.  Set\nit back to one when adding them back.\n\nRe-homed newly added _wait_until_ipv6_forwarding_has_state()\naccordingly.\n\nCloses-bug: #1787919\n\nChange-Id: Ia1f311ee31d1479089685367a97bf13cf170b342\n""}, {'number': 6, 'created': '2018-11-12 21:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2be71eadca965135273270759cf093d87aa84294', 'message': ""Enable 'all' IPv6 forwarding knob correctly\n\nWhen the external gateway is plugged and we enable IPv6\nforwarding on it, make sure the 'all' sysctl knob is also\nenabled, else IPv6 packets will not be forwarded.  This\nseems to only affect HA routers that default to disabling\nthis 'all' knob on creation.\n\nAlso, when we are removing all the IPv6 addresses from a\nHA router internal interface, set 'accept_ra' to zero so\nit doesn't accidentally auto-configure an address.  Set\nit back to one when adding them back.\n\nRe-homed newly added _wait_until_ipv6_forwarding_has_state()\naccordingly.\n\nCloses-bug: #1787919\n\nChange-Id: Ia1f311ee31d1479089685367a97bf13cf170b342\n""}, {'number': 7, 'created': '2018-11-15 20:00:08.000000000', 'files': ['neutron/agent/l3/ha_router.py', 'neutron/agent/l3/router_info.py', 'neutron/tests/functional/agent/l3/framework.py', 'neutron/tests/functional/agent/l3/test_ha_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b847cd02c56dc8fe654f4731306dc2b5493a62eb', 'message': ""Enable 'all' IPv6 forwarding knob correctly\n\nWhen the external gateway is plugged and we enable IPv6\nforwarding on it, make sure the 'all' sysctl knob is also\nenabled, else IPv6 packets will not be forwarded.  This\nseems to only affect HA routers that default to disabling\nthis 'all' knob on creation.\n\nAlso, when we are removing all the IPv6 addresses from a\nHA router internal interface, set 'accept_ra' to zero so\nit doesn't accidentally auto-configure an address.  Set\nit back to one when adding them back.\n\nRe-homed newly added _wait_until_ipv6_forwarding_has_state()\naccordingly.\n\nCloses-bug: #1787919\n\nChange-Id: Ia1f311ee31d1479089685367a97bf13cf170b342\n""}]",3,613396,b847cd02c56dc8fe654f4731306dc2b5493a62eb,108,14,7,1131,,,0,"Enable 'all' IPv6 forwarding knob correctly

When the external gateway is plugged and we enable IPv6
forwarding on it, make sure the 'all' sysctl knob is also
enabled, else IPv6 packets will not be forwarded.  This
seems to only affect HA routers that default to disabling
this 'all' knob on creation.

Also, when we are removing all the IPv6 addresses from a
HA router internal interface, set 'accept_ra' to zero so
it doesn't accidentally auto-configure an address.  Set
it back to one when adding them back.

Re-homed newly added _wait_until_ipv6_forwarding_has_state()
accordingly.

Closes-bug: #1787919

Change-Id: Ia1f311ee31d1479089685367a97bf13cf170b342
",git fetch https://review.opendev.org/openstack/neutron refs/changes/96/613396/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/l3/router_info.py'],1,4ba8487439d511cb126bc729a463e18aa520f77f,bug/613396," # This will make sure the 'all' setting is the same as the interface, # which is needed for forwarding to work. Don't disable once it's # been enabled so as to not send spurious MLDv2 packets out. if enabled: self.driver.configure_ipv6_forwarding(ns_name, 'all', enabled)",,5,0
openstack%2Fdiskimage-builder~master~I138b7f6bdef1d955a6e0babf228543ab2530159a,openstack/diskimage-builder,master,I138b7f6bdef1d955a6e0babf228543ab2530159a,"Revert ""Make tripleo-buildimage-overcloud-full-centos-7 non-voting""",MERGED,2018-11-27 02:16:28.000000000,2018-11-30 03:18:33.000000000,2018-11-30 03:18:33.000000000,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-11-27 02:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/2d3bfb4b4b49224723f5b973a33754c83c988e8f', 'message': 'Revert ""Make tripleo-buildimage-overcloud-full-centos-7 non-voting""\n\nThis reverts commit db2d26a75f331e99f6e39d9e6775fc5f48c0cc90.\n\nThe jobs are part of the template, so don\'t need to be explicitly\nlisted.\n\nChange-Id: I138b7f6bdef1d955a6e0babf228543ab2530159a\nDepends-On: https://review.openstack.org/619625\n'}, {'number': 2, 'created': '2018-11-28 00:25:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d162871476b331dbd6923fdc0afedc558cc3d0a1', 'message': 'Revert ""Make tripleo-buildimage-overcloud-full-centos-7 non-voting""\n\nThis reverts commit db2d26a75f331e99f6e39d9e6775fc5f48c0cc90.\n\nThe jobs are part of the template, so don\'t need to be explicitly\nlisted.\n\nChange-Id: I138b7f6bdef1d955a6e0babf228543ab2530159a\nDepends-On: https://review.openstack.org/619625\n'}, {'number': 3, 'created': '2018-11-29 23:00:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/178f7d02c5c83269af975400d1c4f24986975092', 'message': 'Revert ""Make tripleo-buildimage-overcloud-full-centos-7 non-voting""\n\nThis reverts commit db2d26a75f331e99f6e39d9e6775fc5f48c0cc90.\n\nThe bad upstream RPM has failed The jobs are part of the template, so don\'t need to be explicitly\nlisted.\n\nRelated-Change: https://review.openstack.org/619625\nChange-Id: I138b7f6bdef1d955a6e0babf228543ab2530159a\n'}, {'number': 4, 'created': '2018-11-29 23:03:01.000000000', 'files': ['.zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/b203e2ad196d4a063dc56923e63946d2663f7bd9', 'message': 'Revert ""Make tripleo-buildimage-overcloud-full-centos-7 non-voting""\n\nThis reverts commit db2d26a75f331e99f6e39d9e6775fc5f48c0cc90.\n\nThe bad upstream RPM has been removed, and the job no longer fails.\nThe jobs are part of the template, so don\'t need to be explicitly\nlisted as they were previously, however.\n\nRelated-Change: https://review.openstack.org/619625\nChange-Id: I138b7f6bdef1d955a6e0babf228543ab2530159a\n'}]",0,620201,b203e2ad196d4a063dc56923e63946d2663f7bd9,27,4,4,7118,,,0,"Revert ""Make tripleo-buildimage-overcloud-full-centos-7 non-voting""

This reverts commit db2d26a75f331e99f6e39d9e6775fc5f48c0cc90.

The bad upstream RPM has been removed, and the job no longer fails.
The jobs are part of the template, so don't need to be explicitly
listed as they were previously, however.

Related-Change: https://review.openstack.org/619625
Change-Id: I138b7f6bdef1d955a6e0babf228543ab2530159a
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/01/620201/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/jobs.yaml'],1,2d3bfb4b4b49224723f5b973a33754c83c988e8f,simple-init-networkmanager,, - tripleo-buildimage-overcloud-full-centos-7: voting: false - tripleo-buildimage-overcloud-full-centos-7: voting: false,0,4
openstack%2Fpatrole~master~I5ddefe2df23b4888ce6706a27784c461f9af1614,openstack/patrole,master,I5ddefe2df23b4888ce6706a27784c461f9af1614,Add tests to cover trunks subports,MERGED,2018-07-28 03:56:59.000000000,2018-11-30 03:14:59.000000000,2018-11-30 03:14:58.000000000,"[{'_account_id': 8556}, {'_account_id': 8911}, {'_account_id': 16274}, {'_account_id': 17896}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 27078}]","[{'number': 1, 'created': '2018-07-28 03:56:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/70190f9b3d4d377d0ba473af35c335f801191688', 'message': 'Add tests to cover trunks subports\n\nThis patch set adds tests to cver the neutron subports API [0].\nTest adds, gets, removes trunks subports.\nPart of ""Increase Neutron RBAC Coverage"" initiative [1]\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#add-subports-to-trunk\n[1] https://storyboard.openstack.org/#!/story/2002641\n\nChange-Id: I5ddefe2df23b4888ce6706a27784c461f9af1614\nStory: 2002641\nTask: 22328\n'}, {'number': 2, 'created': '2018-08-01 19:50:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/685042d64738de0f609717f2b7c4dca0ed2b7868', 'message': 'Add tests to cover trunks subports\n\nThis patch set adds tests to cver the neutron subports API [0].\nTest adds, gets, removes trunks subports.\nPart of ""Increase Neutron RBAC Coverage"" initiative [1]\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#add-subports-to-trunk\n[1] https://storyboard.openstack.org/#!/story/2002641\n\nChange-Id: I5ddefe2df23b4888ce6706a27784c461f9af1614\nStory: 2002641\nTask: 22328\n'}, {'number': 3, 'created': '2018-08-02 18:20:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/6194997a87b178c8a5c85708564c95467fd41886', 'message': 'Add tests to cover trunks subports\n\nThis patch set adds tests to cver the neutron subports API [0].\nTest adds, gets, removes trunks subports.\nPart of ""Increase Neutron RBAC Coverage"" initiative [1]\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#add-subports-to-trunk\n[1] https://storyboard.openstack.org/#!/story/2002641\n\nChange-Id: I5ddefe2df23b4888ce6706a27784c461f9af1614\nStory: 2002641\nTask: 22328\n'}, {'number': 4, 'created': '2018-08-06 16:43:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/39c8e19e42a9c5a571212324e77d4388567ceb77', 'message': 'Add tests to cover trunks subports\n\nThis patch set adds tests to cver the neutron subports API [0].\nTest adds, gets, removes trunks subports.\nPart of ""Increase Neutron RBAC Coverage"" initiative [1]\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#add-subports-to-trunk\n[1] https://storyboard.openstack.org/#!/story/2002641\n\nChange-Id: I5ddefe2df23b4888ce6706a27784c461f9af1614\nStory: 2002641\nTask: 22328\n'}, {'number': 5, 'created': '2018-08-07 00:57:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/902d49258b3307a55837229e79ee7d7a5d745f15', 'message': 'Add tests to cover trunks subports\n\nThis patch set adds tests to cver the neutron subports API [0].\nTest adds, gets, removes trunks subports.\nPart of ""Increase Neutron RBAC Coverage"" initiative [1]\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#add-subports-to-trunk\n[1] https://storyboard.openstack.org/#!/story/2002641\n\nChange-Id: I5ddefe2df23b4888ce6706a27784c461f9af1614\nStory: 2002641\nTask: 22328\n'}, {'number': 6, 'created': '2018-08-31 18:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/616eef6bc4e3c0638ed56f4ee78d6a9d7abfd130', 'message': 'Add tests to cover trunks subports\n\nThis patch set adds tests to cver the neutron subports API [0].\nTest adds, gets, removes trunks subports.\nPart of ""Increase Neutron RBAC Coverage"" initiative [1]\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#add-subports-to-trunk\n[1] https://storyboard.openstack.org/#!/story/2002641\n\nChange-Id: I5ddefe2df23b4888ce6706a27784c461f9af1614\nStory: 2002641\nTask: 22328\n'}, {'number': 7, 'created': '2018-09-05 19:29:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/3ceb79dbc2a84a90b3287354c2b5ecc1c279a52a', 'message': 'Add tests to cover network ip availability API\n\nThis patch set adds tests to cover the neutron network_ip_availability API [0].\nPart of ""Increase Neutron RBAC Coverage"" initiative [1]\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#network-ip-availability-and-usage-stats\n[1] https://storyboard.openstack.org/#!/story/2002641\n\nChange-Id: I5ddefe2df23b4888ce6706a27784c461f9af1614\nStory: 2002641\nTask: 22304\n'}, {'number': 8, 'created': '2018-09-05 21:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/815ca56c60c11651dbd43e9ef891555f4da91b48', 'message': 'Add tests to cover network ip availability API\n\nThis patch set adds tests to cover the neutron network_ip_availability API [0].\nPart of ""Increase Neutron RBAC Coverage"" initiative [1]\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#network-ip-availability-and-usage-stats\n[1] https://storyboard.openstack.org/#!/story/2002641\n\nChange-Id: I5ddefe2df23b4888ce6706a27784c461f9af1614\nStory: 2002641\nTask: 22304\n'}, {'number': 9, 'created': '2018-09-05 21:33:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/08b54b7cfa0a22f1e0bf79ab860e5d8b4d1b434a', 'message': 'Add tests to cover trunks subports\n\nThis patch set adds tests to cver the neutron subports API [0].\nTest adds, gets, removes trunks subports.\nPart of ""Increase Neutron RBAC Coverage"" initiative [1]\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#add-subports-to-trunk\n[1] https://storyboard.openstack.org/#!/story/2002641\n\nChange-Id: I5ddefe2df23b4888ce6706a27784c461f9af1614\nStory: 2002641\nTask: 22328\n'}, {'number': 10, 'created': '2018-11-13 19:50:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/834cff341755dc2700680b2031372ab8f2b8bf91', 'message': 'Add tests to cover trunks subports\n\nThis patch set adds tests to cver the neutron subports API [0].\nTest adds, gets, removes trunks subports.\nPart of ""Increase Neutron RBAC Coverage"" initiative [1]\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#add-subports-to-trunk\n[1] https://storyboard.openstack.org/#!/story/2002641\n\nChange-Id: I5ddefe2df23b4888ce6706a27784c461f9af1614\nStory: 2002641\nTask: 22328\n'}, {'number': 11, 'created': '2018-11-13 20:42:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/b5669bca7e85e3a1a73ef7659a4cc26430492c30', 'message': 'Add tests to cover trunks subports\n\nThis patch set adds tests to cover the neutron subports API [0].\nTest adds, gets, removes trunks subports.\nPart of ""Increase Neutron RBAC Coverage"" initiative [1]\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#add-subports-to-trunk\n[1] https://storyboard.openstack.org/#!/story/2002641\n\nChange-Id: I5ddefe2df23b4888ce6706a27784c461f9af1614\nStory: 2002641\nTask: 22328\n'}, {'number': 12, 'created': '2018-11-14 16:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/56f35dc5b870379a689767c65b2a6b77c90dc2df', 'message': 'Add tests to cover trunks subports\n\nThis patch set adds tests to cover the neutron subports API [0].\nTest adds, gets, removes trunks subports.\nPart of ""Increase Neutron RBAC Coverage"" initiative [1]\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#add-subports-to-trunk\n[1] https://storyboard.openstack.org/#!/story/2002641\n\nChange-Id: I5ddefe2df23b4888ce6706a27784c461f9af1614\nStory: 2002641\nTask: 22328\n'}, {'number': 13, 'created': '2018-11-14 16:32:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/4eeb35e3d0b767d62b39824dcc76f122bafec5cb', 'message': 'Add tests to cover trunks subports\n\nThis patch set adds tests to cover the neutron subports API [0].\nTest adds, gets, removes trunks subports.\nPart of ""Increase Neutron RBAC Coverage"" initiative [1]\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#add-subports-to-trunk\n[1] https://storyboard.openstack.org/#!/story/2002641\n\nChange-Id: I5ddefe2df23b4888ce6706a27784c461f9af1614\nStory: 2002641\nTask: 22328\n'}, {'number': 14, 'created': '2018-11-14 16:54:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/69c9e08b453b24ef2a48973739b7f1f279c33b0b', 'message': 'Add tests to cover trunks subports\n\nThis patch set adds tests to cover the neutron subports API [0].\nTest adds, gets, removes trunks subports.\nPart of ""Increase Neutron RBAC Coverage"" initiative [1]\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#add-subports-to-trunk\n[1] https://storyboard.openstack.org/#!/story/2002641\n\nChange-Id: I5ddefe2df23b4888ce6706a27784c461f9af1614\nStory: 2002641\nTask: 22328\n'}, {'number': 15, 'created': '2018-11-16 15:49:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/f9c63be528da5c21c52b2dd9da1cf040f30b7452', 'message': 'Add tests to cover trunks subports\n\nThis patch set adds tests to cover the neutron subports API [0].\nTest adds, gets, removes trunks subports.\nPart of ""Increase Neutron RBAC Coverage"" initiative [1]\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#add-subports-to-trunk\n[1] https://storyboard.openstack.org/#!/story/2002641\n\nChange-Id: I5ddefe2df23b4888ce6706a27784c461f9af1614\nStory: 2002641\nTask: 22328\n'}, {'number': 16, 'created': '2018-11-28 20:02:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/c7c2dc030046a118b512b561d27adc776e769601', 'message': 'Add tests to cover trunks subports\n\nThis patch set adds tests to cover the neutron subports API [0].\nTest adds, gets, removes trunks subports.\nPart of ""Increase Neutron RBAC Coverage"" initiative [1]\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#add-subports-to-trunk\n[1] https://storyboard.openstack.org/#!/story/2002641\n\nChange-Id: I5ddefe2df23b4888ce6706a27784c461f9af1614\nStory: 2002641\nTask: 22328\n'}, {'number': 17, 'created': '2018-11-28 20:09:31.000000000', 'files': ['patrole_tempest_plugin/tests/api/network/test_trunks_rbac.py'], 'web_link': 'https://opendev.org/openstack/patrole/commit/22e29716a11800ed84fe9958254caebae0f7031a', 'message': 'Add tests to cover trunks subports\n\nThis patch set adds tests to cover the neutron subports API [0].\nTest adds, gets, removes trunks subports.\nPart of ""Increase Neutron RBAC Coverage"" initiative [1]\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#add-subports-to-trunk\n[1] https://storyboard.openstack.org/#!/story/2002641\n\nChange-Id: I5ddefe2df23b4888ce6706a27784c461f9af1614\nStory: 2002641\nTask: 22328\n'}]",32,586739,22e29716a11800ed84fe9958254caebae0f7031a,73,7,17,16274,,,0,"Add tests to cover trunks subports

This patch set adds tests to cover the neutron subports API [0].
Test adds, gets, removes trunks subports.
Part of ""Increase Neutron RBAC Coverage"" initiative [1]

[0] https://developer.openstack.org/api-ref/network/v2/index.html#add-subports-to-trunk
[1] https://storyboard.openstack.org/#!/story/2002641

Change-Id: I5ddefe2df23b4888ce6706a27784c461f9af1614
Story: 2002641
Task: 22328
",git fetch https://review.opendev.org/openstack/patrole refs/changes/39/586739/1 && git format-patch -1 --stdout FETCH_HEAD,['patrole_tempest_plugin/tests/api/network/test_trunks_rbac.py'],1,70190f9b3d4d377d0ba473af35c335f801191688,," class TrunksSubportsPluginRbacTest(base.BaseNetworkPluginRbacTest): @classmethod def skip_checks(cls): super(TrunksSubportsPluginRbacTest, cls).skip_checks() if not utils.is_extension_enabled('trunk', 'network'): msg = ""trunk extension not enabled."" raise cls.skipException(msg) @classmethod def resource_setup(cls): super(TrunksSubportsPluginRbacTest, cls).resource_setup() cls.network = cls.create_network() cls.port_id = cls.create_port(cls.network)[""id""] cls.trunk_id = cls.ntp_client.create_trunk( cls.port_id, [])['trunk']['id'] cls.addClassResourceCleanup( test_utils.call_and_ignore_notfound_exc, cls.ntp_client.delete_trunk, cls.trunk_id) def create_subports(self, trunk_id, port_id): subports = [{'port_id': port_id, 'segmentation_type': 'vlan', 'segmentation_id': 4000}] sub = self.ntp_client.add_subports(trunk_id, subports) self.addCleanup( test_utils.call_and_ignore_notfound_exc, self.ntp_client.remove_subports, trunk_id, subports) return sub[""sub_ports""] @decorators.idempotent_id('c02618e7-bb20-1a3a-83c8-6eec2af08133') @rbac_rule_validation.action(service=""neutron"", rules=[""get_subports""]) def test_get_subports(self): """"""Get subports. RBAC test for the neutron ""get_subports"" policy """""" network = self.create_network() port = self.create_port(network) self.create_subports(self.trunk_id, port[""id""]) with self.rbac_utils.override_role(self): self.ntp_client.get_subports(self.trunk_id) @decorators.idempotent_id('c02618e7-bb20-1a3a-83c8-6eec2af08134') @rbac_rule_validation.action(service=""neutron"", rules=[""add_subports""]) def test_add_subports(self): """"""Add subports. RBAC test for the neutron ""add_subports"" policy """""" network = self.create_network() port = self.create_port(network) subports = [{'port_id': port[""id""], 'segmentation_type': 'vlan', 'segmentation_id': 4000}] with self.rbac_utils.override_role(self): self.ntp_client.add_subports(self.trunk_id, subports) self.addCleanup( test_utils.call_and_ignore_notfound_exc, self.ntp_client.remove_subports, self.trunk_id, subports) @decorators.idempotent_id('c02618e7-bb20-1a3a-83c8-6eec2af08135') @rbac_rule_validation.action(service=""neutron"", rules=[""remove_subports""]) def test_remove_subports(self): """"""Remove subports. RBAC test for the neutron ""remove_subports"" policy """""" network = self.create_network() port = self.create_port(network) subports = self.create_subports(self.trunk_id, port[""id""]) with self.rbac_utils.override_role(self): self.ntp_client.remove_subports(self.trunk_id, subports)",,88,0
openstack%2Ffreezer-api~master~I3a2f021f5d9e104539fc1550713553f6c86df553,openstack/freezer-api,master,I3a2f021f5d9e104539fc1550713553f6c86df553,Add search option for list query,MERGED,2018-11-29 06:38:19.000000000,2018-11-30 01:57:15.000000000,2018-11-30 01:57:15.000000000,"[{'_account_id': 21069}, {'_account_id': 21387}, {'_account_id': 22348}, {'_account_id': 22484}]","[{'number': 1, 'created': '2018-11-29 06:38:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/c8e591150c612e98afeb95290098ae8074f87238', 'message': 'Add search option for list query\n\nChange-Id: I3a2f021f5d9e104539fc1550713553f6c86df553\n'}, {'number': 2, 'created': '2018-11-29 08:47:17.000000000', 'files': ['api-ref/source/v2/samples/jobs-list-request.json', 'api-ref/source/v2/samples/actions-list-request.json', 'api-ref/source/v1/samples/sessions-list-request.json', 'api-ref/source/v2/samples/backup-list-request.json', 'api-ref/source/v1/backups-v1.inc', 'api-ref/source/v2/backups-v2.inc', 'api-ref/source/v2/sessions-v2.inc', 'api-ref/source/v1/samples/jobs-list-request.json', 'api-ref/source/v1/parameters.yaml', 'api-ref/source/v2/samples/clients-list-request.json', 'api-ref/source/v1/samples/actions-list-request.json', 'doc/source/conf.py', 'api-ref/source/v2/samples/sessions-list-request.json', 'api-ref/source/v2/jobs-v2.inc', 'api-ref/source/v1/sessions-v1.inc', 'doc/source/index.rst', 'api-ref/source/v1/samples/backup-list-request.json', 'api-ref/source/v1/jobs-v1.inc', 'api-ref/source/v2/parameters.yaml', 'api-ref/source/v1/actions-v1.inc', 'api-ref/source/v2/actions-v2.inc', 'api-ref/source/v1/clients-v1.inc', 'api-ref/source/v2/clients-v2.inc', 'api-ref/source/v1/samples/clients-list-request.json'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/cdd34ec059a0ef942a2aaa0e93bc9dd2cb682a46', 'message': 'Add search option for list query\n\nChange-Id: I3a2f021f5d9e104539fc1550713553f6c86df553\n'}]",2,620783,cdd34ec059a0ef942a2aaa0e93bc9dd2cb682a46,11,4,2,22484,,,0,"Add search option for list query

Change-Id: I3a2f021f5d9e104539fc1550713553f6c86df553
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/83/620783/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v2/samples/jobs-list-request.json', 'api-ref/source/v2/samples/actions-list-request.json', 'api-ref/source/v1/samples/sessions-list-request.json', 'api-ref/source/v2/samples/backup-list-request.json', 'api-ref/source/v1/backups-v1.inc', 'api-ref/source/v2/backups-v2.inc', 'api-ref/source/v2/sessions-v2.inc', 'api-ref/source/v1/samples/jobs-list-request.json', 'api-ref/source/v1/parameters.yaml', 'api-ref/source/v2/samples/clients-list-request.json', 'api-ref/source/v1/samples/actions-list-request.json', 'doc/source/conf.py', 'api-ref/source/v2/samples/sessions-list-request.json', 'api-ref/source/v2/jobs-v2.inc', 'api-ref/source/v1/sessions-v1.inc', 'doc/source/index.rst', 'api-ref/source/v1/samples/backup-list-request.json', 'api-ref/source/v1/jobs-v1.inc', 'api-ref/source/v2/parameters.yaml', 'api-ref/source/v1/actions-v1.inc', 'api-ref/source/v2/actions-v2.inc', 'api-ref/source/v1/clients-v1.inc', 'api-ref/source/v2/clients-v2.inc', 'api-ref/source/v1/samples/clients-list-request.json']",24,c8e591150c612e98afeb95290098ae8074f87238,bug/gengchc,"{ ""match_not"": [ { ""client_id"": ""tecs_node1"" } ], ""match"": [ { ""user_id"":""0cd44caf6db5486b94a04b33256a5ff4"" } ] } ",,221,11
openstack%2Fopenstack-ansible~master~Ieaa6e51ee764a80b60b9b2084838d39d82519d09,openstack/openstack-ansible,master,Ieaa6e51ee764a80b60b9b2084838d39d82519d09,DNM: test start-ceph-disk-non-container,ABANDONED,2018-11-29 15:51:41.000000000,2018-11-30 01:46:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-11-29 15:51:41.000000000', 'files': ['ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2657586f68f104bc761a3e9a85cc8d4399e24e5f', 'message': 'DNM: test start-ceph-disk-non-container\n\nChange-Id: Ieaa6e51ee764a80b60b9b2084838d39d82519d09\n'}]",0,620944,2657586f68f104bc761a3e9a85cc8d4399e24e5f,3,1,1,1004,,,0,"DNM: test start-ceph-disk-non-container

Change-Id: Ieaa6e51ee764a80b60b9b2084838d39d82519d09
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/44/620944/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible-role-requirements.yml'],1,2657586f68f104bc761a3e9a85cc8d4399e24e5f,start-ceph-disk-non-container, version: start-ceph-disk-non-container, version: stable-3.2,1,1
openstack%2Ftacker~master~I59977cf6593743e15e39ceb83451e1774ffd4c48,openstack/tacker,master,I59977cf6593743e15e39ceb83451e1774ffd4c48,Fix invoking func path error,ABANDONED,2018-11-27 09:30:44.000000000,2018-11-30 01:18:04.000000000,,"[{'_account_id': 18955}, {'_account_id': 19644}, {'_account_id': 22348}, {'_account_id': 26222}, {'_account_id': 27181}, {'_account_id': 29339}, {'_account_id': 29383}]","[{'number': 1, 'created': '2018-11-27 09:30:44.000000000', 'files': ['tacker/vnfm/plugin.py', 'tacker/db/vnfm/vnfm_db.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/3e7db8263942ea4e36b4ce38e29bdd2cbad91a4c', 'message': ""Fix invoking func path error\n\nFix invoking path in plugin.\nRemove func name with prefix '_' in staticmethod\n\nChange-Id: I59977cf6593743e15e39ceb83451e1774ffd4c48\n""}]",3,620265,3e7db8263942ea4e36b4ce38e29bdd2cbad91a4c,11,7,1,29383,,,0,"Fix invoking func path error

Fix invoking path in plugin.
Remove func name with prefix '_' in staticmethod

Change-Id: I59977cf6593743e15e39ceb83451e1774ffd4c48
",git fetch https://review.opendev.org/openstack/tacker refs/changes/65/620265/1 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/vnfm/plugin.py', 'tacker/db/vnfm/vnfm_db.py']",2,3e7db8263942ea4e36b4ce38e29bdd2cbad91a4c,fix_invoke_func_error, def mgmt_driver_name(vnf_dict): def instance_id(vnf_dict):, def _mgmt_driver_name(vnf_dict): def _instance_id(vnf_dict):,8,8
openstack%2Ftripleo-common~stable%2Frocky~I7e3727987265ef5222c95678c69cc4a50176dd16,openstack/tripleo-common,stable/rocky,I7e3727987265ef5222c95678c69cc4a50176dd16,Generating fencing for capitalized MACs,MERGED,2018-11-23 12:36:05.000000000,2018-11-30 01:14:57.000000000,2018-11-30 01:14:57.000000000,"[{'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 27419}]","[{'number': 1, 'created': '2018-11-23 12:36:05.000000000', 'files': ['tripleo_common/actions/parameters.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7d609f111ad18c47cb84552826ca13ee60f83f35', 'message': 'Generating fencing for capitalized MACs\n\nBecause the ports are stored in lower case, we need to use lower case\nMACs as our search key.\n\nChange-Id: I7e3727987265ef5222c95678c69cc4a50176dd16\nCloses-Bug: #1800504\n(cherry picked from commit 84603a06af326fbc4ca09fa7c28d9a44a80f1f42)\n'}]",0,619725,7d609f111ad18c47cb84552826ca13ee60f83f35,15,4,1,20172,,,0,"Generating fencing for capitalized MACs

Because the ports are stored in lower case, we need to use lower case
MACs as our search key.

Change-Id: I7e3727987265ef5222c95678c69cc4a50176dd16
Closes-Bug: #1800504
(cherry picked from commit 84603a06af326fbc4ca09fa7c28d9a44a80f1f42)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/25/619725/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/actions/parameters.py'],1,7d609f111ad18c47cb84552826ca13ee60f83f35,bug/1800504, mac_addr = node['ports'][0]['address'].lower(), mac_addr = node['ports'][0]['address'],1,1
openstack%2Fmagnum-tempest-plugin~master~Ia461582c26c6a18c5c050dae02bced6cf1f13b0d,openstack/magnum-tempest-plugin,master,Ia461582c26c6a18c5c050dae02bced6cf1f13b0d,Support k8s testing,ABANDONED,2018-09-21 10:07:06.000000000,2018-11-30 01:13:50.000000000,,"[{'_account_id': 6484}, {'_account_id': 8064}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2018-09-21 10:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/74c8240a80fe30a4851ec6e7b2b297f33dc3e46d', 'message': 'Support k8s testing\n\nChange-Id: Ia461582c26c6a18c5c050dae02bced6cf1f13b0d\n'}, {'number': 2, 'created': '2018-09-25 23:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/9df0251c6c2c7c37c55b39561c91228cddab2262', 'message': 'Support k8s testing\n\nChange-Id: Ia461582c26c6a18c5c050dae02bced6cf1f13b0d\n'}, {'number': 3, 'created': '2018-09-27 12:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/a896ad12f37b22e13067d8dd941ca57757d53218', 'message': 'Support k8s testing\n\nChange-Id: Ia461582c26c6a18c5c050dae02bced6cf1f13b0d\n'}, {'number': 4, 'created': '2018-10-04 07:28:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/8a04837f493b8fbb9d72a53b83de360353c9f554', 'message': 'Support k8s testing\n\nChange-Id: Ia461582c26c6a18c5c050dae02bced6cf1f13b0d\n'}, {'number': 5, 'created': '2018-10-18 22:29:14.000000000', 'files': ['magnum_tempest_plugin/tests/api/v1/test_cluster.py', 'magnum_tempest_plugin/tests/api/v1/clients/cluster_client.py', 'magnum_tempest_plugin/tests/api/v1/test_cluster_template.py', 'magnum_tempest_plugin/common/datagen.py', 'magnum_tempest_plugin/config.py', 'magnum_tempest_plugin/common/config.py', 'magnum_tempest_plugin/tests/api/v1/test_cluster_template_admin.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/d37f1c114985895b19ea3a1dbbfb9870cb56fc14', 'message': 'Support k8s testing\n\nChange-Id: Ia461582c26c6a18c5c050dae02bced6cf1f13b0d\n'}]",0,604323,d37f1c114985895b19ea3a1dbbfb9870cb56fc14,15,4,5,6484,,,0,"Support k8s testing

Change-Id: Ia461582c26c6a18c5c050dae02bced6cf1f13b0d
",git fetch https://review.opendev.org/openstack/magnum-tempest-plugin refs/changes/23/604323/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum_tempest_plugin/tests/api/v1/test_cluster.py', 'magnum_tempest_plugin/common/datagen.py', 'magnum_tempest_plugin/config.py']",3,74c8240a80fe30a4851ec6e7b2b297f33dc3e46d,support-k8s," cfg.StrOpt(""coe"", default=""swarm_mode"", help=""The COE type to be tested.""), cfg.StrOpt(""network_driver"", default=""flannel"", help=""Network driver to use for ClusterTemplate.""), ",,40,1
openstack%2Foslo.config~master~Iae029e71fcfe9db3e2ca4bb5b2e49700c6865399,openstack/oslo.config,master,Iae029e71fcfe9db3e2ca4bb5b2e49700c6865399,Add PositiveFloat type,ABANDONED,2018-11-28 10:01:57.000000000,2018-11-30 01:11:52.000000000,,"[{'_account_id': 2472}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 6928}, {'_account_id': 20722}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-28 10:01:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/71213b3260f1c0aaf2a0321bdb89d56164851a29', 'message': 'Add PositiveFloat type\n\nAdd a type which accepts positive float to produce a float greater\nthan 0.0.\n\nChange-Id: Iae029e71fcfe9db3e2ca4bb5b2e49700c6865399\n'}, {'number': 2, 'created': '2018-11-28 15:42:17.000000000', 'files': ['oslo_config/tests/test_types.py', 'oslo_config/types.py'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/bb998b9653541c8ffea77a5ddc465788312022ee', 'message': 'Add PositiveFloat type\n\nAdd a type which accepts positive float to produce a float greater\nthan 0.0.\n\nChange-Id: Iae029e71fcfe9db3e2ca4bb5b2e49700c6865399\n'}]",0,620547,bb998b9653541c8ffea77a5ddc465788312022ee,17,6,2,20722,,,0,"Add PositiveFloat type

Add a type which accepts positive float to produce a float greater
than 0.0.

Change-Id: Iae029e71fcfe9db3e2ca4bb5b2e49700c6865399
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/47/620547/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_config/tests/test_types.py', 'oslo_config/types.py']",2,71213b3260f1c0aaf2a0321bdb89d56164851a29,bp/initial-allocation-ratios,"class PositiveFloat(Float): """"""Positive Float type. :param min: Optional check that value is greater than or equal to min. :param max: Optional check that value is less than or equal to max. :param type_name: Type name to be used in the sample config file. .. versionadded:: 6.7 """""" def __init__(self, min=None, max=None, type_name='positive floating point value'): if min is not None and min <= 0.0: raise ValueError('Min should be greater than 0.0') if max is not None and max <= 0.0: raise ValueError('Max should be greater than 0.0') super(PositiveFloat, self).__init__(float, min=min, max=max, type_name=type_name) def __call__(self, value): if value <= 0.0: raise ValueError('Should be greater than 0.0') return super(PositiveFloat, self).__call__(value) ",,52,0
openstack%2Freleases~master~Ic02ba19cfd1fca7d6695df2023bb3b126932c2e3,openstack/releases,master,Ic02ba19cfd1fca7d6695df2023bb3b126932c2e3,fix governance tag lookup for older deliverables,MERGED,2018-11-29 21:53:06.000000000,2018-11-30 01:06:34.000000000,2018-11-30 01:06:34.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-29 21:53:06.000000000', 'files': ['openstack_releases/deliverable.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/e138f091522b3fb0146ff75dfafd0d8d8dbf3a1f', 'message': 'fix governance tag lookup for older deliverables\n\nWhen older deliverables are removed from governance we can no longer\nlook up their tags. Return an empty list instead of failing with an\nerror.\n\nChange-Id: Ic02ba19cfd1fca7d6695df2023bb3b126932c2e3\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,621032,e138f091522b3fb0146ff75dfafd0d8d8dbf3a1f,6,2,1,2472,,,0,"fix governance tag lookup for older deliverables

When older deliverables are removed from governance we can no longer
look up their tags. Return an empty list instead of failing with an
error.

Change-Id: Ic02ba19cfd1fca7d6695df2023bb3b126932c2e3
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/32/621032/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_releases/deliverable.py'],1,e138f091522b3fb0146ff75dfafd0d8d8dbf3a1f,tags-fix, team = self._gov_data.get_team(self.team) try: deliv = team.deliverables[self.name] except KeyError: # The deliverable is no longer listed under governance. return [] return deliv.tags, return self._gov_data.get_team(self.team).deliverables[self.name].tags,7,1
openstack%2Fpython-keystoneclient~master~Ie4c03de48a3b7f2fb3967a185486c6fb0d6e0a5f,openstack/python-keystoneclient,master,Ie4c03de48a3b7f2fb3967a185486c6fb0d6e0a5f,Fix keystoneclient-devstack-functional job,MERGED,2018-11-28 10:40:04.000000000,2018-11-30 00:56:30.000000000,2018-11-30 00:56:30.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-28 10:40:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/2380837b9e0a82c10989678aa35a243d262848d4', 'message': 'Fix keystoneclient-devstack-functional job\n\nThe keystoneclient-devstack-functional job works fine when being run\nagainst this repo, but fails when running against the keystone repo\nbecause of conflicts within the tools/test-setup.sh script there.\n\nUse the new devstack-tox-functional-no-ts job as parent instead that\nwill avoid using that script.\n\nDepends-On: https://review.openstack.org/620551\nChange-Id: Ie4c03de48a3b7f2fb3967a185486c6fb0d6e0a5f\n'}, {'number': 2, 'created': '2018-11-28 14:47:25.000000000', 'files': ['playbooks/run-ds-tox.yaml', 'playbooks/tox-post.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/7d765bf21ca77c4d085b7dcdcd91cdf168f667a2', 'message': 'Fix keystoneclient-devstack-functional job\n\nThe keystoneclient-devstack-functional job works fine when being run\nagainst this repo, but fails when running against the keystone repo\nbecause of conflicts within the tools/test-setup.sh script there.\n\nDo our own definition of the job to make sure that we always run tox\nagainst the correct repo. Also base the job on devstack-minimal to avoid\ninstalling more serviced than needed.\n\nChange-Id: Ie4c03de48a3b7f2fb3967a185486c6fb0d6e0a5f\n'}]",3,620553,7d765bf21ca77c4d085b7dcdcd91cdf168f667a2,14,4,2,13252,,,0,"Fix keystoneclient-devstack-functional job

The keystoneclient-devstack-functional job works fine when being run
against this repo, but fails when running against the keystone repo
because of conflicts within the tools/test-setup.sh script there.

Do our own definition of the job to make sure that we always run tox
against the correct repo. Also base the job on devstack-minimal to avoid
installing more serviced than needed.

Change-Id: Ie4c03de48a3b7f2fb3967a185486c6fb0d6e0a5f
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/53/620553/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2380837b9e0a82c10989678aa35a243d262848d4,fix-for-ksc, parent: devstack-tox-functional-no-ts, parent: devstack-tox-functional-consumer,1,1
openstack%2Ftripleo-common~stable%2Fqueens~I13b72dd9b6b9b9bfa3206d7053eae08f5feb74eb,openstack/tripleo-common,stable/queens,I13b72dd9b6b9b9bfa3206d7053eae08f5feb74eb,Install python2-networking-ansible in neutron-server,ABANDONED,2018-11-28 18:27:34.000000000,2018-11-30 00:09:07.000000000,,"[{'_account_id': 4328}, {'_account_id': 5792}, {'_account_id': 8833}, {'_account_id': 10239}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2018-11-28 18:27:34.000000000', 'files': ['container-images/tripleo_kolla_template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ca298fa0dce0361dab194886290134cadb29ea24', 'message': 'Install python2-networking-ansible in neutron-server\n\nThis package contain the ML2 networking-ansible mechanism driver used\nto integrate networking devices with neutron.\n\n(cherry picked from commit 2d4c5d351d1aeff0732b5cfb940411775d51e046)\n\nChange-Id: I13b72dd9b6b9b9bfa3206d7053eae08f5feb74eb\n'}]",1,620675,ca298fa0dce0361dab194886290134cadb29ea24,7,7,1,5792,,,0,"Install python2-networking-ansible in neutron-server

This package contain the ML2 networking-ansible mechanism driver used
to integrate networking devices with neutron.

(cherry picked from commit 2d4c5d351d1aeff0732b5cfb940411775d51e046)

Change-Id: I13b72dd9b6b9b9bfa3206d7053eae08f5feb74eb
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/75/620675/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_kolla_template_overrides.j2'],1,ca298fa0dce0361dab194886290134cadb29ea24,,"# NOTE (jaosorior): neutron-server with TLS everywhere needs httpd and mod_ssl packages. # NOTE (ramishra): python2-networking-ansible ML2 plug-in for neutron ansible integration. {% set neutron_server_packages_append = ['httpd', 'mod_ssl', 'python2-networking-ansible'] %}","# NOTE (jaosorior): neutron-server with TLS everywhere needs these packages. {% set neutron_server_packages_append = ['httpd', 'mod_ssl'] %}",5,2
openstack%2Ftripleo-upgrade~stable%2Fqueens~Ifaeff772a0c95ddb4d39c0a7b6fdd56a6abb023b,openstack/tripleo-upgrade,stable/queens,Ifaeff772a0c95ddb4d39c0a7b6fdd56a6abb023b,Add timeout to openstack command,MERGED,2018-11-28 13:26:12.000000000,2018-11-29 23:08:37.000000000,2018-11-29 23:08:37.000000000,"[{'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-11-28 13:26:12.000000000', 'files': ['tasks/common/undercloud_validate_upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/40e84ce411f4af5a9322c86e2ebf90f66dbda9c4', 'message': ""Add timeout to openstack command\n\nThere are cases when udercloud is not ready. This causes 'openstack' cli to\nhang which is not good in case of ansible check. This patch adds timeout to\nkill the process, then will cause ansible to retry the command again instead of\nhang.\n\nChange-Id: Ifaeff772a0c95ddb4d39c0a7b6fdd56a6abb023b\n(cherry picked from commit 7e0412eb48e59036872d24544b5a61398eb740ce)\n(cherry picked from commit 17680d1b232bd2d712c8185ae04b0335389b8fc9)\n""}]",0,620597,40e84ce411f4af5a9322c86e2ebf90f66dbda9c4,12,5,1,21537,,,0,"Add timeout to openstack command

There are cases when udercloud is not ready. This causes 'openstack' cli to
hang which is not good in case of ansible check. This patch adds timeout to
kill the process, then will cause ansible to retry the command again instead of
hang.

Change-Id: Ifaeff772a0c95ddb4d39c0a7b6fdd56a6abb023b
(cherry picked from commit 7e0412eb48e59036872d24544b5a61398eb740ce)
(cherry picked from commit 17680d1b232bd2d712c8185ae04b0335389b8fc9)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/97/620597/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/undercloud_validate_upgrade.yaml'],1,40e84ce411f4af5a9322c86e2ebf90f66dbda9c4,timeout_oc-stable/rocky-stable/queens," timeout 10 openstack stack list -f json | jq -c -r '.[]|.[""Stack Name""]'"," openstack stack list -f json | jq -c -r '.[]|.[""Stack Name""]'",1,1
openstack%2Fkuryr-kubernetes~master~Ibc14d01d2c97ad4b7db3632aaa16861e6f24c3b3,openstack/kuryr-kubernetes,master,Ibc14d01d2c97ad4b7db3632aaa16861e6f24c3b3,Add buildah support,ABANDONED,2018-06-01 11:43:23.000000000,2018-11-29 23:07:03.000000000,,"[{'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2018-06-01 11:43:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1ab42446a6e4b9a38c63610b41adc43530807e54', 'message': 'Add buildah support\n\nChange-Id: Ibc14d01d2c97ad4b7db3632aaa16861e6f24c3b3\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n'}, {'number': 2, 'created': '2018-06-01 12:42:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7dea317a56500c9c626f7bc3eade5ba02f40ab86', 'message': ""Add buildah support\n\nWith buildah the image size goes down a lot.\ncelebdor's is built with buildah and kuryr's with the Dockerfile\nin this repo:\n\nIMAGE ID             IMAGE NAME                                               CREATED AT             SIZE\ndc2f9b5b7045         docker.io/celebdor/controller:latest                     Jun 1, 2018 14:33      212.5 MB\ne501b92550e9         docker.io/kuryr/controller:latest                        May 30, 2018 17:10     671 MB\n\nChange-Id: Ibc14d01d2c97ad4b7db3632aaa16861e6f24c3b3\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n""}, {'number': 3, 'created': '2018-08-02 12:48:26.000000000', 'files': ['contrib/buildah/controller.sh'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/13d44a8c9c613c443c320335ce08d1b4e49588a6', 'message': ""Add buildah support\n\nWith buildah the image size goes down a significantly.\ncelebdor's is built with buildah and kuryr's with the Dockerfile\nin this repo:\n\nIMAGE ID             IMAGE NAME                                               CREATED AT             SIZE\nb77428ee38e3         localhost/kuryr/controller:latest                        Aug 2, 2018 14:16      547 MB\ne501b92550e9         docker.io/kuryr/controller:latest                        May 30, 2018 17:10     671 MB\n\nChange-Id: Ibc14d01d2c97ad4b7db3632aaa16861e6f24c3b3\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n""}]",0,571707,13d44a8c9c613c443c320335ce08d1b4e49588a6,11,3,3,14352,,,0,"Add buildah support

With buildah the image size goes down a significantly.
celebdor's is built with buildah and kuryr's with the Dockerfile
in this repo:

IMAGE ID             IMAGE NAME                                               CREATED AT             SIZE
b77428ee38e3         localhost/kuryr/controller:latest                        Aug 2, 2018 14:16      547 MB
e501b92550e9         docker.io/kuryr/controller:latest                        May 30, 2018 17:10     671 MB

Change-Id: Ibc14d01d2c97ad4b7db3632aaa16861e6f24c3b3
Signed-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/07/571707/3 && git format-patch -1 --stdout FETCH_HEAD,['contrib/controller_buildah.sh'],1,1ab42446a6e4b9a38c63610b41adc43530807e54,buildah,"#!/bin/bash set -ex UPPER_CONSTRAINTS_FILE=""https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt"" DIR=""$( cd ""$( dirname ""${BASH_SOURCE[0]}"" )"" && pwd )"" newcontainer=$(buildah from scratch) scratchmnt=$(buildah mount $newcontainer) # Install OS deps yum install bash \ coreutils \ python \ --installroot ""$scratchmnt"" \ --releasever 7 \ --setopt install_weak_deps=false \ --setopt=tsflags=nodocs \ --setopt override_install_langs=en_US.utf8 -y yum install bash \ python-pip gcc python-devel wget git \ --installroot ""$scratchmnt"" \ --releasever 7 \ --setopt=tsflags=nodocs \ --setopt override_install_langs=en_US.utf8 -y cp -r ""${DIR}/.."" ""$scratchmnt/tmp/controller"" buildah run ""$newcontainer"" cd /tmp/controller && \ pip install -c ""$UPPER_CONSTRAINTS_FILE"" --no-cache-dir . rm -fr ""$scratchmnt/tmp/controller"" yum -y history undo last yum clean all -y --installroot ""$scratchmnt"" --releasever 7 rm -rf $scratchmnt/var/cache/yum buildah run ""$newcontainer"" groupadd -r kuryr -g 711 && \ useradd kuryr -u 711 -g kuryr \ -s /sbin/nologin \ -c ""Kuryr controller user"" \ kuryr buildah config --label name=controller \ --author='Antoni Segura Puimedon' \ --entrypoint ""/controllervenv/bin/kuryr-k8s-controller"" \ --cmd ""--config-dir /etc/kuryr"" \ --user ""kuryr"" ""$newcontainer"" buildah unmount ""$newcontainer"" buildah commit ""$newcontainer"" kuryr/controller ",,51,0
openstack%2Fopenstack-ansible-ops~master~Ic9b80234d6a6ce876bff885f3223874602d55dd6,openstack/openstack-ansible-ops,master,Ic9b80234d6a6ce876bff885f3223874602d55dd6,Update elk_6x for 6.5.x,MERGED,2018-11-22 06:51:56.000000000,2018-11-29 23:06:35.000000000,2018-11-29 23:06:35.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-22 06:51:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/bf83e3c4a33b1f3e41e8b8bdd6a72535a1b16fc0', 'message': 'Update elk_6x for 6.5.x\n\nThis change updates the roles / playbooks to begin using Elasticsearch\nrelesae 6.5.x. Core to this change is the conversion of the journalbeat\nrole from custom compiled go, to simple package install which was made\npossible by the folks at elastic within this release. Because of the\nconversion the ""beats-community"" playbook has been removed given its now\nempty.\n\nA change to the bootstrap script was made allowing it to parse an OS id\nwith a ""-"" in it, like ""opensuse-tumbleweed"".\n\nChange-Id: Ic9b80234d6a6ce876bff885f3223874602d55dd6\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2018-11-22 07:24:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/23b2ca9c920e46963cdf712ce276af10a667ff2c', 'message': 'Update elk_6x for 6.5.x\n\nThis change updates the roles / playbooks to begin using Elasticsearch\nrelesae 6.5.x. Core to this change is the conversion of the journalbeat\nrole from custom compiled go, to simple package install which was made\npossible by the folks at elastic within this release. Because of the\nconversion the ""beats-community"" playbook has been removed given its now\nempty.\n\nA change to the bootstrap script was made allowing it to parse an OS id\nwith a ""-"" in it, like ""opensuse-tumbleweed"".\n\nChange-Id: Ic9b80234d6a6ce876bff885f3223874602d55dd6\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 3, 'created': '2018-11-27 18:56:22.000000000', 'files': ['elk_metrics_6x/roles/elastic_heartbeat/tasks/main.yml', 'elk_metrics_6x/installKibana.yml', 'bootstrap-embedded-ansible/bootstrap-embedded-ansible.sh', 'elk_metrics_6x/roles/elastic_journalbeat/vars/redhat.yml', 'elk_metrics_6x/roles/elastic_journalbeat/vars/ubuntu.yml', 'elk_metrics_6x/site.yml', 'elk_metrics_6x/roles/elastic_filebeat/tasks/main.yml', 'elk_metrics_6x/site-beats-core.yml', 'elk_metrics_6x/roles/elastic_metricbeat/tasks/main.yml', 'elk_metrics_6x/roles/elastic_journalbeat/tasks/main.yml', 'elk_metrics_6x/roles/elastic_auditbeat/tasks/main.yml', 'elk_metrics_6x/roles/elastic_journalbeat/vars/suse.yml', 'elk_metrics_6x/roles/elastic_journalbeat/tasks/journalbeat_setup.yml', 'elk_metrics_6x/roles/elastic_journalbeat/meta/main.yml', 'elk_metrics_6x/site-beats-community.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/3a69a1c43dad679fd53be87a12381a99be47eade', 'message': 'Update elk_6x for 6.5.x\n\nThis change updates the roles / playbooks to begin using Elasticsearch\nrelesae 6.5.x. Core to this change is the conversion of the journalbeat\nrole from custom compiled go, to simple package install which was made\npossible by the folks at elastic within this release. Because of the\nconversion the ""beats-community"" playbook has been removed given its now\nempty.\n\nA change to the bootstrap script was made allowing it to parse an OS id\nwith a ""-"" in it, like ""opensuse-tumbleweed"".\n\nChange-Id: Ic9b80234d6a6ce876bff885f3223874602d55dd6\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,619448,3a69a1c43dad679fd53be87a12381a99be47eade,13,2,3,7353,,,0,"Update elk_6x for 6.5.x

This change updates the roles / playbooks to begin using Elasticsearch
relesae 6.5.x. Core to this change is the conversion of the journalbeat
role from custom compiled go, to simple package install which was made
possible by the folks at elastic within this release. Because of the
conversion the ""beats-community"" playbook has been removed given its now
empty.

A change to the bootstrap script was made allowing it to parse an OS id
with a ""-"" in it, like ""opensuse-tumbleweed"".

Change-Id: Ic9b80234d6a6ce876bff885f3223874602d55dd6
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/48/619448/2 && git format-patch -1 --stdout FETCH_HEAD,"['elk_metrics_6x/roles/elastic_heartbeat/tasks/main.yml', 'bootstrap-embedded-ansible/bootstrap-embedded-ansible.sh', 'elk_metrics_6x/roles/elastic_journalbeat/vars/redhat.yml', 'elk_metrics_6x/roles/elastic_journalbeat/vars/ubuntu.yml', 'elk_metrics_6x/site.yml', 'elk_metrics_6x/roles/elastic_filebeat/tasks/main.yml', 'elk_metrics_6x/site-beats-core.yml', 'elk_metrics_6x/roles/elastic_metricbeat/tasks/main.yml', 'elk_metrics_6x/roles/elastic_journalbeat/tasks/main.yml', 'elk_metrics_6x/roles/elastic_auditbeat/tasks/main.yml', 'elk_metrics_6x/roles/elastic_journalbeat/vars/suse.yml', 'elk_metrics_6x/roles/elastic_journalbeat/tasks/journalbeat_setup.yml', 'elk_metrics_6x/roles/elastic_journalbeat/meta/main.yml', 'elk_metrics_6x/site-beats-community.yml']",14,bf83e3c4a33b1f3e41e8b8bdd6a72535a1b16fc0,,,"--- # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - import_playbook: installJournalbeat.yml ",54,118
openstack%2Fproject-config~master~Ib180ff2af737e2eeab5f61b773f453357fafdede,openstack/project-config,master,Ib180ff2af737e2eeab5f61b773f453357fafdede,add jobs to publish library from governance repo,MERGED,2018-11-21 20:05:29.000000000,2018-11-29 22:58:27.000000000,2018-11-29 22:58:27.000000000,"[{'_account_id': 6547}, {'_account_id': 9061}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-21 20:05:29.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ec65faaebaaca60cc29541874b4631985ec56f8b', 'message': ""add jobs to publish library from governance repo\n\nWe've recently added code to the openstack/governance repository to\nmake a public API for consuming the data that, to make that easier and\nto make it easier for us to change the data format over time. This patch\nadds the release job needed to publish releases of the code to PyPI.\n\nChange-Id: Ib180ff2af737e2eeab5f61b773f453357fafdede\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n""}]",0,619347,ec65faaebaaca60cc29541874b4631985ec56f8b,7,3,1,2472,,,0,"add jobs to publish library from governance repo

We've recently added code to the openstack/governance repository to
make a public API for consuming the data that, to make that easier and
to make it easier for us to change the data format over time. This patch
adds the release job needed to publish releases of the code to PyPI.

Change-Id: Ib180ff2af737e2eeab5f61b773f453357fafdede
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/47/619347/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,ec65faaebaaca60cc29541874b4631985ec56f8b,release-openstack-governance, name: openstack/governance templates: - publish-to-pypi - project:,,5,0
openstack%2Fproject-config~master~I1611db9a3c4f89d3cb40d3c253b4e91f8201d443,openstack/project-config,master,I1611db9a3c4f89d3cb40d3c253b4e91f8201d443,Remove ansible-role-redhat-subscription from central repo,MERGED,2018-11-14 15:09:20.000000000,2018-11-29 22:58:25.000000000,2018-11-29 22:58:24.000000000,"[{'_account_id': 3153}, {'_account_id': 6547}, {'_account_id': 9061}, {'_account_id': 10873}, {'_account_id': 11904}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-11-14 15:09:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/030554c7cb26224d8d31664c647398ae69b7a056', 'message': ""ansible-role-redhat-subscription: switch to non-pypi jobs\n\nSwitch the release jobs for ansible-role-redhat-subscription to non-pypi,\nthis is an Ansible module, we don't want it in pypi.\n\nChange-Id: I1611db9a3c4f89d3cb40d3c253b4e91f8201d443\n""}, {'number': 2, 'created': '2018-11-14 15:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/8d39d065ddcb46f1b2e87051ba59a3b93af3be48', 'message': ""ansible-role-* projects switch to non-pypi jobs\n\nSwitch the release jobs for ansible-role-redhat-subscription,\nansible-role-container-registry and ansible-role-chrony to non-pypi,\nthese projects are Ansible modules, we don't want it in pypi.\n\nBesides, they are not published into pypi and any new release\nrequest will cause a validation failure as the template is\nconfigured as publish-to-pypi but the project is not published.\n\nChange-Id: I1611db9a3c4f89d3cb40d3c253b4e91f8201d443\n""}, {'number': 3, 'created': '2018-11-21 12:46:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/b4abd8ce8be8c51cf0bba0d54dc5129bafd4cd6d', 'message': ""ansible-role-* projects switch to non-pypi jobs\n\nSwitch the release jobs for ansible-role-redhat-subscription,\nansible-role-container-registry and ansible-role-chrony to non-pypi,\nthese projects are Ansible modules, we don't want it in pypi.\n\nBesides, they are not published into pypi and any new release\nrequest will cause a validation failure as the template is\nconfigured as publish-to-pypi but the project is not published.\n\nChange-Id: I1611db9a3c4f89d3cb40d3c253b4e91f8201d443\n""}, {'number': 4, 'created': '2018-11-27 11:21:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/3d60cf1e50fc1e71acc686ea0b62fe80d6038027', 'message': ""Remove ansible-role-redhat-subscription from central repo\n\nMove ansible-role-redhat-subscription templates definition from\nproject-config into its own repository's zuul configuration.\n\nChange-Id: I1611db9a3c4f89d3cb40d3c253b4e91f8201d443\nDepends-On: I83ec850c5b9738c48c2ac9e800dc100368aeaa4b\n""}, {'number': 5, 'created': '2018-11-28 10:18:32.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/17bebd7ef241da859651a54695a9f3d9f551f3ae', 'message': ""Remove ansible-role-redhat-subscription from central repo\n\nMove ansible-role-redhat-subscription templates definition from\nproject-config into its own repository's zuul configuration.\n\nChange-Id: I1611db9a3c4f89d3cb40d3c253b4e91f8201d443\n""}]",10,617974,17bebd7ef241da859651a54695a9f3d9f551f3ae,28,8,5,26343,,,0,"Remove ansible-role-redhat-subscription from central repo

Move ansible-role-redhat-subscription templates definition from
project-config into its own repository's zuul configuration.

Change-Id: I1611db9a3c4f89d3cb40d3c253b4e91f8201d443
",git fetch https://review.opendev.org/openstack/project-config refs/changes/74/617974/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,030554c7cb26224d8d31664c647398ae69b7a056,617974, - release-openstack-server, - publish-to-pypi,1,1
openstack%2Freleases~master~I3a04e6ae801ae0768e0f3a8ce7cf95b7439da417,openstack/releases,master,I3a04e6ae801ae0768e0f3a8ce7cf95b7439da417,Release ironic-python-agent 3.5.0,MERGED,2018-11-29 17:19:52.000000000,2018-11-29 22:49:53.000000000,2018-11-29 22:49:53.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-29 17:19:52.000000000', 'files': ['deliverables/stein/ironic-python-agent.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ef5de455b072d78787e8a36f22663a2165b5f7f0', 'message': 'Release ironic-python-agent 3.5.0\n\nChange-Id: I3a04e6ae801ae0768e0f3a8ce7cf95b7439da417\n'}]",0,620964,ef5de455b072d78787e8a36f22663a2165b5f7f0,6,2,1,11655,,,0,"Release ironic-python-agent 3.5.0

Change-Id: I3a04e6ae801ae0768e0f3a8ce7cf95b7439da417
",git fetch https://review.opendev.org/openstack/releases refs/changes/64/620964/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/ironic-python-agent.yaml'],1,ef5de455b072d78787e8a36f22663a2165b5f7f0,, - projects: - hash: a76567d9e5e0e7b01c1afb78217b82c369dbc7a8 repo: openstack/ironic-python-agent version: 3.5.0,,4,0
openstack%2Fgovernance-uc~master~I7cef71dc266af6431b583f34dc77b0b97d51b3ee,openstack/governance-uc,master,I7cef71dc266af6431b583f34dc77b0b97d51b3ee,Update the HTTP links to HTTPS in teams.yaml.,MERGED,2018-11-13 15:52:15.000000000,2018-11-29 22:45:41.000000000,2018-11-29 22:45:41.000000000,"[{'_account_id': 7272}, {'_account_id': 14091}, {'_account_id': 15993}, {'_account_id': 17556}, {'_account_id': 22348}, {'_account_id': 28738}]","[{'number': 1, 'created': '2018-11-13 15:52:15.000000000', 'files': ['doc/source/index.rst', 'reference/charter.rst'], 'web_link': 'https://opendev.org/openstack/governance-uc/commit/016d37b8972dd175ed3c87f524c8c861e7eb2bfa', 'message': 'Update the HTTP links to HTTPS in teams.yaml.\n\nChange-Id: I7cef71dc266af6431b583f34dc77b0b97d51b3ee\n'}]",0,617713,016d37b8972dd175ed3c87f524c8c861e7eb2bfa,8,6,1,29423,,,0,"Update the HTTP links to HTTPS in teams.yaml.

Change-Id: I7cef71dc266af6431b583f34dc77b0b97d51b3ee
",git fetch https://review.opendev.org/openstack/governance-uc refs/changes/13/617713/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'reference/charter.rst']",2,016d37b8972dd175ed3c87f524c8c861e7eb2bfa,, <https://lists.openstack.org/cgi-bin/mailman/listinfo/user-committee>`_, <http://lists.openstack.org/cgi-bin/mailman/listinfo/user-committee>`_,2,2
openstack%2Fironic~master~I6ab7bfa0343e0c8df5814d26e62864f3c66cf7b1,openstack/ironic,master,I6ab7bfa0343e0c8df5814d26e62864f3c66cf7b1,Switch ironic-tempest-...-tinyipa-multinode to zuulv3,MERGED,2018-07-31 09:45:14.000000000,2018-11-29 22:36:30.000000000,2018-11-29 22:36:30.000000000,"[{'_account_id': 1926}, {'_account_id': 8871}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 25547}, {'_account_id': 28429}]","[{'number': 1, 'created': '2018-07-31 09:45:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1baeeba585401336310cff1304a2d56840aec89a', 'message': 'WIP: switch multinode jobs\n\nChange-Id: I6ab7bfa0343e0c8df5814d26e62864f3c66cf7b1\n'}, {'number': 2, 'created': '2018-07-31 10:14:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e95bf26d79bb90fd716768c18ddb465df4427220', 'message': 'WIP: switch multinode jobs\n\nChange-Id: I6ab7bfa0343e0c8df5814d26e62864f3c66cf7b1\n'}, {'number': 3, 'created': '2018-07-31 10:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/12a6ed27ffb2cdedbc086f021b1de16ee99e39a8', 'message': 'WIP: switch multinode jobs\n\nChange-Id: I6ab7bfa0343e0c8df5814d26e62864f3c66cf7b1\n'}, {'number': 4, 'created': '2018-07-31 13:34:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4aad708aca668cf5eaaac1dace40a4405c4ceb9c', 'message': 'WIP: switch multinode jobs\n\nChange-Id: I6ab7bfa0343e0c8df5814d26e62864f3c66cf7b1\n'}, {'number': 5, 'created': '2018-07-31 23:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/59e177b0834f102a4eb635815353b94acb4858f0', 'message': 'WIP: switch multinode jobs\n\nChange-Id: I6ab7bfa0343e0c8df5814d26e62864f3c66cf7b1\n'}, {'number': 6, 'created': '2018-08-01 10:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2686908abb00577b8783c0d9284b0b56488cb280', 'message': 'WIP: switch multinode jobs\n\nChange-Id: I6ab7bfa0343e0c8df5814d26e62864f3c66cf7b1\n'}, {'number': 7, 'created': '2018-09-25 09:56:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e07d8ce17793368b8d55a542c7b1fb70159d8f1e', 'message': '[WIP] Switch ironic-tempest-dsvm-ipa-wholedisk-agent_ipmitool-tinyipa-multinode\n\nChange-Id: I6ab7bfa0343e0c8df5814d26e62864f3c66cf7b1\n'}, {'number': 8, 'created': '2018-09-27 10:35:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8b55b43a26994f1d04f494227a79b5bcb0bde7de', 'message': '[WIP] Switch ironic-tempest-dsvm-ipa-wholedisk-agent_ipmitool-tinyipa-multinode\n\nChange-Id: I6ab7bfa0343e0c8df5814d26e62864f3c66cf7b1\n'}, {'number': 9, 'created': '2018-09-27 15:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b222e95c7454227148d6114ddc11117c7eff3d6c', 'message': '[WIP] Switch ironic-tempest-dsvm-ipa-wholedisk-agent_ipmitool-tinyipa-multinode\n\nChange-Id: I6ab7bfa0343e0c8df5814d26e62864f3c66cf7b1\n'}, {'number': 10, 'created': '2018-09-27 23:11:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d3f9fe919577905331c19f1f58d2a9313f797dfb', 'message': '[WIP] Switch ironic-tempest-dsvm-ipa-wholedisk-agent_ipmitool-tinyipa-multinode\n\nAnd rename to ironic-tempest-dsvm-ipa-wholedisk-direct-tinyipa-multinode\n\nChange-Id: I6ab7bfa0343e0c8df5814d26e62864f3c66cf7b1\n'}, {'number': 11, 'created': '2018-09-28 07:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ae6504af9fc764a85aafce445608c2dabd124772', 'message': '[WIP] Switch ironic-tempest-dsvm-ipa-wholedisk-agent_ipmitool-tinyipa-multinode\n\nAnd rename to ironic-tempest-dsvm-ipa-wholedisk-direct-tinyipa-multinode\n\nChange-Id: I6ab7bfa0343e0c8df5814d26e62864f3c66cf7b1\n'}, {'number': 12, 'created': '2018-09-28 09:20:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/abc33034f6237850b092a66ab675e4de541901c7', 'message': '[WIP] Switch ironic-tempest-dsvm-ipa-wholedisk-agent_ipmitool-tinyipa-multinode\n\nAnd rename to ironic-tempest-dsvm-ipa-wholedisk-direct-tinyipa-multinode\n\nChange-Id: I6ab7bfa0343e0c8df5814d26e62864f3c66cf7b1\n'}, {'number': 13, 'created': '2018-09-28 11:33:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/665b36e4fe0662145646270d6470b32dd2d45c3f', 'message': '[WIP] Switch ironic-tempest-dsvm-ipa-wholedisk-agent_ipmitool-tinyipa-multinode\n\nAnd rename to ironic-tempest-dsvm-ipa-wholedisk-direct-tinyipa-multinode\n\nChange-Id: I6ab7bfa0343e0c8df5814d26e62864f3c66cf7b1\n'}, {'number': 14, 'created': '2018-09-28 14:12:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/abd29a2caad0d20632a22c884655bc52481841ed', 'message': '[WIP] Switch ironic-tempest-dsvm-ipa-wholedisk-agent_ipmitool-tinyipa-multinode\n\nAnd rename to ironic-tempest-dsvm-ipa-wholedisk-direct-tinyipa-multinode\n\nChange-Id: I6ab7bfa0343e0c8df5814d26e62864f3c66cf7b1\n'}, {'number': 15, 'created': '2018-10-01 11:33:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5c3175c15048b7d2e951e039abfe6b9d00a746a1', 'message': '[WIP] Switch ironic-tempest-dsvm-ipa-wholedisk-agent_ipmitool-tinyipa-multinode\n\nAnd rename to ironic-tempest-dsvm-ipa-wholedisk-direct-tinyipa-multinode\n\nChange-Id: I6ab7bfa0343e0c8df5814d26e62864f3c66cf7b1\n'}, {'number': 16, 'created': '2018-10-30 14:46:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4414b967d733820ad13972d06ebab3e00403062c', 'message': '[WIP] Switch ironic-tempest-dsvm-ipa-wholedisk-agent_ipmitool-tinyipa-multinode\n\nAnd rename to ironic-tempest-dsvm-ipa-wholedisk-direct-tinyipa-multinode\n\nChange-Id: I6ab7bfa0343e0c8df5814d26e62864f3c66cf7b1\n'}, {'number': 17, 'created': '2018-11-01 14:21:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7d870d47074fa02e4562fedee320d46d8e723e05', 'message': '[WIP] Switch ironic-tempest-dsvm-ipa-wholedisk-agent_ipmitool-tinyipa-multinode\n\nAnd rename to ironic-tempest-dsvm-ipa-wholedisk-direct-tinyipa-multinode\n\nChange-Id: I6ab7bfa0343e0c8df5814d26e62864f3c66cf7b1\n'}, {'number': 18, 'created': '2018-11-01 17:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/dc6bf392991303cd79599d3fddbed23e2116d91a', 'message': '[WIP] Switch ironic-tempest-dsvm-ipa-wholedisk-agent_ipmitool-tinyipa-multinode\n\nAnd rename to ironic-tempest-dsvm-ipa-wholedisk-direct-tinyipa-multinode\n\nChange-Id: I6ab7bfa0343e0c8df5814d26e62864f3c66cf7b1\n'}, {'number': 19, 'created': '2018-11-02 00:05:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bc0a7008dc27ad4649e00bf75e96c48cd38e9ab1', 'message': '[WIP] Switch ironic-tempest-dsvm-ipa-wholedisk-agent_ipmitool-tinyipa-multinode\n\nAnd rename to ironic-tempest-dsvm-ipa-wholedisk-direct-tinyipa-multinode\n\nChange-Id: I6ab7bfa0343e0c8df5814d26e62864f3c66cf7b1\n'}, {'number': 20, 'created': '2018-11-02 10:27:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c1b2c310f424d436741f88c15613015a22f814e1', 'message': '[WIP] Switch ironic-tempest-dsvm-ipa-wholedisk-agent_ipmitool-tinyipa-multinode\n\nAnd rename to ironic-tempest-dsvm-ipa-wholedisk-direct-tinyipa-multinode\n\nChange-Id: I6ab7bfa0343e0c8df5814d26e62864f3c66cf7b1\n'}, {'number': 21, 'created': '2018-11-02 12:26:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f8b6a2f11acccf7519ede5e43126b51d0c1a29fc', 'message': '[WIP] Switch ironic-tempest-dsvm-ipa-wholedisk-agent_ipmitool-tinyipa-multinode\n\nAnd rename to ironic-tempest-dsvm-ipa-wholedisk-direct-tinyipa-multinode\n\nChange-Id: I6ab7bfa0343e0c8df5814d26e62864f3c66cf7b1\n'}, {'number': 22, 'created': '2018-11-02 14:40:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5e19f0dfbddd1c6d2d0d400bc33047aee86f457f', 'message': '[WIP] Switch ironic-tempest-dsvm-ipa-wholedisk-agent_ipmitool-tinyipa-multinode\n\nAnd rename to ironic-tempest-dsvm-ipa-wholedisk-direct-tinyipa-multinode\n\nChange-Id: I6ab7bfa0343e0c8df5814d26e62864f3c66cf7b1\n'}, {'number': 23, 'created': '2018-11-07 15:45:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/84dfa218a06f3796b99137d64e28e32dcdf4f24a', 'message': '[WIP] Switch ironic-tempest-dsvm-ipa-wholedisk-agent_ipmitool-tinyipa-multinode\n\nAnd rename to ironic-tempest-dsvm-ipa-wholedisk-direct-tinyipa-multinode\n\nChange-Id: I6ab7bfa0343e0c8df5814d26e62864f3c66cf7b1\n'}, {'number': 24, 'created': '2018-11-07 17:23:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/741be8491a55cd720fa3ef2545955512d1164fd0', 'message': '[WIP] Switch ironic-tempest-dsvm-ipa-wholedisk-agent_ipmitool-tinyipa-multinode\n\nAnd rename to ironic-tempest-dsvm-ipa-wholedisk-direct-tinyipa-multinode\n\nChange-Id: I6ab7bfa0343e0c8df5814d26e62864f3c66cf7b1\n'}, {'number': 25, 'created': '2018-11-08 11:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1fc150916405e36c0852cc59eaebf40e7bd6e4f7', 'message': '[WIP] Switch ironic-tempest-dsvm-ipa-wholedisk-agent_ipmitool-tinyipa-multinode\n\nAnd rename to ironic-tempest-dsvm-ipa-wholedisk-direct-tinyipa-multinode\n\nChange-Id: I6ab7bfa0343e0c8df5814d26e62864f3c66cf7b1\n'}, {'number': 26, 'created': '2018-11-08 15:17:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a1b57707577b5d6478d9ae6610e6bb9a6778618e', 'message': '[WIP] Switch ironic-tempest-dsvm-ipa-wholedisk-agent_ipmitool-tinyipa-multinode\n\nAnd rename to ironic-tempest-dsvm-ipa-wholedisk-direct-tinyipa-multinode\n\nChange-Id: I6ab7bfa0343e0c8df5814d26e62864f3c66cf7b1\n'}, {'number': 27, 'created': '2018-11-08 21:33:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b4f78222aabe342bcf84c102ffb512bef139d6d0', 'message': '[WIP] Switch ironic-tempest-dsvm-ipa-wholedisk-agent_ipmitool-tinyipa-multinode\n\nAnd rename to ironic-tempest-dsvm-ipa-wholedisk-direct-tinyipa-multinode\n\nChange-Id: I6ab7bfa0343e0c8df5814d26e62864f3c66cf7b1\n'}, {'number': 28, 'created': '2018-11-08 23:00:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b093894b925d8f858d2419b1de492ab121ddd2d3', 'message': '[WIP] Switch ironic-tempest-dsvm-ipa-wholedisk-agent_ipmitool-tinyipa-multinode\n\nAnd rename to ironic-tempest-dsvm-ipa-wholedisk-direct-tinyipa-multinode\n\nChange-Id: I6ab7bfa0343e0c8df5814d26e62864f3c66cf7b1\n'}, {'number': 29, 'created': '2018-11-09 13:01:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/28f755912f78655e1f876a001a5fabebfb0cabcc', 'message': '[WIP] Switch ironic-tempest-dsvm-ipa-wholedisk-agent_ipmitool-tinyipa-multinode\n\nAnd rename to ironic-tempest-dsvm-ipa-wholedisk-direct-tinyipa-multinode\n\nChange-Id: I6ab7bfa0343e0c8df5814d26e62864f3c66cf7b1\n'}, {'number': 30, 'created': '2018-11-13 17:37:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/249915d3193bd25475a67a65cb35982e9023475c', 'message': '[WIP] Switch ironic-tempest-dsvm-ipa-wholedisk-agent_ipmitool-tinyipa-multinode\n\nAnd rename to ironic-tempest-dsvm-ipa-wholedisk-direct-tinyipa-multinode\n\nChange-Id: I6ab7bfa0343e0c8df5814d26e62864f3c66cf7b1\n'}, {'number': 31, 'created': '2018-11-14 00:18:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1fb7f81734d6c11b357e3aa8d5702c44fe3050f5', 'message': '[WIP] Switch ironic-tempest-dsvm-ipa-wholedisk-agent_ipmitool-tinyipa-multinode\n\nAnd rename to ironic-tempest-dsvm-ipa-wholedisk-direct-tinyipa-multinode\n\nChange-Id: I6ab7bfa0343e0c8df5814d26e62864f3c66cf7b1\n'}, {'number': 32, 'created': '2018-11-14 10:09:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7360d191e10b02286ebdda6195097f3faecd0570', 'message': '[WIP] Switch ironic-tempest-dsvm-ipa-wholedisk-agent_ipmitool-tinyipa-multinode\n\nAnd rename to ironic-tempest-dsvm-ipa-wholedisk-direct-tinyipa-multinode\n\nChange-Id: I6ab7bfa0343e0c8df5814d26e62864f3c66cf7b1\n'}, {'number': 33, 'created': '2018-11-14 12:23:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4b818e06ef5e16dbb61d41532c7f588fe1b21423', 'message': '[WIP] Switch ironic-tempest-dsvm-ipa-wholedisk-agent_ipmitool-tinyipa-multinode\n\nAnd rename to ironic-tempest-dsvm-ipa-wholedisk-direct-tinyipa-multinode\n\nChange-Id: I6ab7bfa0343e0c8df5814d26e62864f3c66cf7b1\n'}, {'number': 34, 'created': '2018-11-14 14:00:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a718bcd7ba57f39df21350182ef1eaa1d2d83050', 'message': '[WIP] Switch ironic-tempest-dsvm-ipa-wholedisk-agent_ipmitool-tinyipa-multinode\n\nAnd rename to ironic-tempest-dsvm-ipa-wholedisk-direct-tinyipa-multinode\n\nChange-Id: I6ab7bfa0343e0c8df5814d26e62864f3c66cf7b1\n'}, {'number': 35, 'created': '2018-11-14 15:48:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/dc04cf4c0ce76d9aff634e614c3f0ada4397a7ed', 'message': '[WIP] Switch ironic-tempest-dsvm-ipa-wholedisk-agent_ipmitool-tinyipa-multinode\n\nAnd rename to ironic-tempest-dsvm-ipa-wholedisk-direct-tinyipa-multinode\n\nChange-Id: I6ab7bfa0343e0c8df5814d26e62864f3c66cf7b1\n'}, {'number': 36, 'created': '2018-11-14 17:18:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cfafe1e682876f897da5b9ad03b81331024b687c', 'message': 'Switch ironic-tempest-...-tinyipa-multinode to zuulv3\n\nAnd rename to ironic-tempest-dsvm-ipa-wholedisk-direct-tinyipa-multinode\n\nChange-Id: I6ab7bfa0343e0c8df5814d26e62864f3c66cf7b1\n'}, {'number': 37, 'created': '2018-11-19 16:30:56.000000000', 'files': ['playbooks/legacy/tempest-dsvm-ironic-ipa-wholedisk-agent_ipmitool-tinyipa-multinode/run.yaml', 'zuul.d/ironic-jobs.yaml', 'devstack/lib/ironic', 'playbooks/ci-workarounds/set-stack-key.yaml', 'zuul.d/project.yaml', 'zuul.d/legacy-ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/c67b46e3507bf3ca916437b0e7f50521d70f6b02', 'message': 'Switch ironic-tempest-...-tinyipa-multinode to zuulv3\n\nAnd rename to ironic-tempest-dsvm-ipa-wholedisk-direct-tinyipa-multinode\n\nChange-Id: I6ab7bfa0343e0c8df5814d26e62864f3c66cf7b1\n'}]",6,587365,c67b46e3507bf3ca916437b0e7f50521d70f6b02,253,13,37,1926,,,0,"Switch ironic-tempest-...-tinyipa-multinode to zuulv3

And rename to ironic-tempest-dsvm-ipa-wholedisk-direct-tinyipa-multinode

Change-Id: I6ab7bfa0343e0c8df5814d26e62864f3c66cf7b1
",git fetch https://review.opendev.org/openstack/ironic refs/changes/65/587365/36 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/tempest-dsvm-ironic-ipa-wholedisk-agent_ipmitool-tinyipa-multinode/run.yaml', 'zuul.d/ironic-jobs.yaml', 'playbooks/legacy/grenade-dsvm-ironic-multinode-multitenant/run.yaml', 'zuul.d/legacy-ironic-jobs.yaml', 'playbooks/ironic-python-nobytecode/pre.yaml']",5,1baeeba585401336310cff1304a2d56840aec89a,ci-cleanup,"- hosts: all name: Set PYTHONDONTWRITEBYTECODE=1 tasks: # NOTE(TheJulia): Python supports recompiling bytecode if a precompiled # (.pyc) file is written to disk. Python will automatically recompile # should that file disappear and attempt to load and use that bytecode. # This can lead to unexpected and undesirable behavior such as python # crashing. # # As this job scenario upgrades across possible structural changes to # python modules, and operates in a mixed environment between releases # it is a good idea to prevent scenarios where newer modules installed # by packages are leveraged by un-upgraded services because their # underlying python packages have been updated during runtime. # # This is unique to Ironic's rolling upgrade grenade job, as Nova is # excluded from being upgraded in the stack, and Ironic is left in # a half-upgraded situation. The net result of which is we have an # unstable Nova installation. # https://bugs.launchpad.net/ironic/+bug/1744139 # # TODO(TheJulia): We either need to find a better way to test rolling # upgrades. Something which supports virtualenvs would be ideal, as # well as something that allows us greater upgrade order control as # the Ironic upgrade sequence is problematic and breaks towards the end # of every cycle. - shell: cmd: | set -e set -x echo 'DefaultEnvironment=""PYTHONDONTWRITEBYTECODE=1""' >>/etc/systemd/system.conf systemctl daemon-reexec executable: /bin/bash become: yes ",,96,326
openstack%2Fneutron-lib~master~I6c0b5aa784a380502b9e5fd062dacd10a95b4cbf,openstack/neutron-lib,master,I6c0b5aa784a380502b9e5fd062dacd10a95b4cbf,Fix default value of subnet attribute for subnet onboard,MERGED,2018-11-28 14:37:55.000000000,2018-11-29 22:19:38.000000000,2018-11-29 22:19:38.000000000,"[{'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-11-28 14:37:55.000000000', 'files': ['neutron_lib/api/definitions/subnet_onboard.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/ed54c932a664684a89704a751bd8996841f2c76e', 'message': 'Fix default value of subnet attribute for subnet onboard\n\nIn its current state, the subnet onboard extension forces callers\nto pass a value for the subnet attribute extension. This is not\nrequired when performing operations on a subnet pool, but the\nvalidator forces a value to be sent on the request. This change\nsimply adjusts the default value of the subnet attribute in the\nsubnet onboard extension so that an empty list is assumed. This\nallows for backward compatible operation of the subnetpool API,\nallowing callers to choose not to pass this attribute when it\nis not needed in a request.\n\nChange-Id: I6c0b5aa784a380502b9e5fd062dacd10a95b4cbf\nPartially-Implements: blueprint subnet-onboard\n'}]",0,620612,ed54c932a664684a89704a751bd8996841f2c76e,15,10,1,4187,,,0,"Fix default value of subnet attribute for subnet onboard

In its current state, the subnet onboard extension forces callers
to pass a value for the subnet attribute extension. This is not
required when performing operations on a subnet pool, but the
validator forces a value to be sent on the request. This change
simply adjusts the default value of the subnet attribute in the
subnet onboard extension so that an empty list is assumed. This
allows for backward compatible operation of the subnetpool API,
allowing callers to choose not to pass this attribute when it
is not needed in a request.

Change-Id: I6c0b5aa784a380502b9e5fd062dacd10a95b4cbf
Partially-Implements: blueprint subnet-onboard
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/12/620612/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/api/definitions/subnet_onboard.py'],1,ed54c932a664684a89704a751bd8996841f2c76e,bp/subnet-onboard," 'allow_post': True, 'allow_put': True, 'default': [],"," 'allow_post': True, 'allow_put': True,",1,1
openstack%2Fnetworking-ovn~master~I450482c542f10c21f210be570df9ec7c9a617c94,openstack/networking-ovn,master,I450482c542f10c21f210be570df9ec7c9a617c94,Extend ml2 plugin to notify nova of port status,MERGED,2018-10-23 16:27:36.000000000,2018-11-29 22:06:18.000000000,2018-11-29 22:06:18.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8788}, {'_account_id': 10237}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2018-10-23 16:27:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c6aa0895f4a263f82e4ed3b8d7d3331dd17be532', 'message': 'extend ml2 plugin to notify nova of port status\n\n- This change modifies the ovn ml2 driver to notify\n  nova on port status changes.\n\n- This will help enable faster migration when using\n  ml2/ovn in the future by notifying nova once ovn\n  has completed wireing up the interface.\n\nChange-Id: I450482c542f10c21f210be570df9ec7c9a617c94\n'}, {'number': 2, 'created': '2018-11-21 11:07:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/d61c0c7c3ae4aada37b9ca43d769ce87bf800aca', 'message': 'Extend ml2 plugin to notify nova of port status\n\n- This change modifies the ovn ml2 driver to notify\n  nova on port status changes.\n\n- This will help enable faster migration when using\n  ml2/ovn in the future by notifying nova once ovn\n  has completed wireing up the interface.\n\nPartial-Bug: #1804407\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: I450482c542f10c21f210be570df9ec7c9a617c94\n'}, {'number': 3, 'created': '2018-11-21 13:52:10.000000000', 'files': ['networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/ml2/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9fc6b5d205b1ccf24541e64042af63bb993afd0e', 'message': 'Extend ml2 plugin to notify nova of port status\n\n- This change modifies the ovn ml2 driver to notify\n  nova on port status changes.\n\n- This will help enable faster migration when using\n  ml2/ovn in the future by notifying nova once ovn\n  has completed wireing up the interface.\n\nCloses-Bug: #1804407\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: I450482c542f10c21f210be570df9ec7c9a617c94\n'}]",13,612745,9fc6b5d205b1ccf24541e64042af63bb993afd0e,29,7,3,11604,,,0,"Extend ml2 plugin to notify nova of port status

- This change modifies the ovn ml2 driver to notify
  nova on port status changes.

- This will help enable faster migration when using
  ml2/ovn in the future by notifying nova once ovn
  has completed wireing up the interface.

Closes-Bug: #1804407
Co-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>
Change-Id: I450482c542f10c21f210be570df9ec7c9a617c94
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/45/612745/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/ml2/mech_driver.py'],1,c6aa0895f4a263f82e4ed3b8d7d3331dd17be532,bug/1804407," elif port.device_owner.startswith( const.DEVICE_OWNER_COMPUTE_PREFIX): self._plugin.nova_notifier.notify_port_active_direct(port) if port.device_owner.startswith( const.DEVICE_OWNER_COMPUTE_PREFIX): self._plugin.nova_notifier.record_port_status_changed(port, const.PORT_STATUS_ACTIVE, const.PORT_STATUS_DOWN, None) self._plugin.nova_notifier.send_port_status(None, None, port)",,8,0
openstack%2Ftripleo-common~master~Iefaff07995ae47dcef58739eaf90c4026fe255b0,openstack/tripleo-common,master,Iefaff07995ae47dcef58739eaf90c4026fe255b0,Set DeployIdentifier on update/upgrade/ffwd prepare actions,MERGED,2018-11-23 16:01:13.000000000,2018-11-29 22:06:07.000000000,2018-11-29 22:06:07.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 10873}, {'_account_id': 16515}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 26343}, {'_account_id': 29222}]","[{'number': 1, 'created': '2018-11-23 16:01:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c0ddc8e2c253cae57c48f3a9acdc30519c70395d', 'message': ""Set DeployIdentifier on update/upgrade/ffwd prepare actions\n\nWe have separate actions for deploy vs. upgrade prepare, because on\nupgrade prepare we don't want to trigger Ansible. DeployIdentifier was\nleft out from the upgrade prepare action, which got exposed as a bug\nafter we fixed --skip-deploy-identifier functionality in\nIbab17dcaeebea65135fca4f40562109c90f36c27.\n\nOver time it would be good to further improve code sharing between\n`overcloud deploy` and `overcloud update/upgrade/ffwd prepare`, but\nfor now we need a backportable fix so we just set DeployIdentifier in\nthe upgrade prepare action.\n\nChange-Id: Iefaff07995ae47dcef58739eaf90c4026fe255b0\nCloses-Bug: #1804858\n""}, {'number': 2, 'created': '2018-11-26 11:48:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9ebb94467dc485b99c9e5adb79b5ce4714229b3c', 'message': ""Set DeployIdentifier on update/upgrade/ffwd prepare actions\n\nWe have separate actions for deploy vs. upgrade prepare, because on\nupgrade prepare we don't want to trigger Ansible. DeployIdentifier was\nleft out from the upgrade prepare action, which got exposed as a bug\nafter we fixed --skip-deploy-identifier functionality in\nIbab17dcaeebea65135fca4f40562109c90f36c27.\n\nOver time it would be good to further improve code sharing between\n`overcloud deploy` and `overcloud update/upgrade/ffwd prepare`, but\nfor now we need a backportable fix so we just set DeployIdentifier in\nthe upgrade prepare action.\n\nAdditionally it turned out that we never updated the plan env via the\nUpdateStackAction as intended, which is now fixed too.\n\nChange-Id: Iefaff07995ae47dcef58739eaf90c4026fe255b0\nCloses-Bug: #1804858\n""}, {'number': 3, 'created': '2018-11-26 12:23:58.000000000', 'files': ['tripleo_common/actions/package_update.py', 'tripleo_common/tests/actions/test_package_update.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c907add512817363207ba8899a3cb14e122078d4', 'message': ""Set DeployIdentifier on update/upgrade/ffwd prepare actions\n\nWe have separate actions for deploy vs. upgrade prepare, because on\nupgrade prepare we don't want to trigger Ansible. DeployIdentifier was\nleft out from the upgrade prepare action, which got exposed as a bug\nafter we fixed --skip-deploy-identifier functionality in\nIbab17dcaeebea65135fca4f40562109c90f36c27.\n\nOver time it would be good to further improve code sharing between\n`overcloud deploy` and `overcloud update/upgrade/ffwd prepare`, but\nfor now we need a backportable fix so we just set DeployIdentifier in\nthe upgrade prepare action.\n\nAdditionally it turned out that we never updated the plan env via the\nUpdateStackAction as intended, which is now fixed too.\n\nChange-Id: Iefaff07995ae47dcef58739eaf90c4026fe255b0\nCloses-Bug: #1804858\n""}]",3,619759,c907add512817363207ba8899a3cb14e122078d4,31,11,3,8042,,,0,"Set DeployIdentifier on update/upgrade/ffwd prepare actions

We have separate actions for deploy vs. upgrade prepare, because on
upgrade prepare we don't want to trigger Ansible. DeployIdentifier was
left out from the upgrade prepare action, which got exposed as a bug
after we fixed --skip-deploy-identifier functionality in
Ibab17dcaeebea65135fca4f40562109c90f36c27.

Over time it would be good to further improve code sharing between
`overcloud deploy` and `overcloud update/upgrade/ffwd prepare`, but
for now we need a backportable fix so we just set DeployIdentifier in
the upgrade prepare action.

Additionally it turned out that we never updated the plan env via the
UpdateStackAction as intended, which is now fixed too.

Change-Id: Iefaff07995ae47dcef58739eaf90c4026fe255b0
Closes-Bug: #1804858
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/59/619759/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/actions/package_update.py', 'tripleo_common/tests/actions/test_package_update.py']",2,c0ddc8e2c253cae57c48f3a9acdc30519c70395d,bug/1804858," update_env = { 'resource_registry': { 'OS::TripleO::DeploymentSteps': 'OS::Heat::None' }, 'parameter_defaults': { 'DeployIdentifier': mock.ANY, }, }", update_env = {'resource_registry': {'OS::TripleO::DeploymentSteps': 'OS::Heat::None'}},14,3
openstack%2Fopenstack-ansible~stable%2Frocky~I46ceb2acf377e38b2dc31ffc4a82b7945f8dd4c5,openstack/openstack-ansible,stable/rocky,I46ceb2acf377e38b2dc31ffc4a82b7945f8dd4c5,Move ARA install to end of bootstrap,MERGED,2018-11-13 18:51:53.000000000,2018-11-29 22:04:14.000000000,2018-11-29 22:04:14.000000000,"[{'_account_id': 290}, {'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-11-13 18:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3381d4aee613ce7e6ea095874ebc836b2a1140b9', 'message': 'Move ARA install to end of bootstrap\n\nsetup_ara sets up the callback plugins variable\nso as it is now, it gets unset during the role\nretrieval.  This commit moves it to the end of\nbootstrap so that the ANSIBLE_CALLBACK_PLUGINS\nis set.\n\nChange-Id: I46ceb2acf377e38b2dc31ffc4a82b7945f8dd4c5\n(cherry picked from commit 93831a60915d899e00c0eaa00a1e8b5511de3e88)\n'}, {'number': 2, 'created': '2018-11-28 14:12:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a9671ee14de1dd839718535a4a193108928105e7', 'message': 'Move ARA install to end of bootstrap\n\nsetup_ara sets up the callback plugins variable\nso as it is now, it gets unset during the role\nretrieval.  This commit moves it to the end of\nbootstrap so that the ANSIBLE_CALLBACK_PLUGINS\nis set.\n\nChange-Id: I46ceb2acf377e38b2dc31ffc4a82b7945f8dd4c5\n(cherry picked from commit 93831a60915d899e00c0eaa00a1e8b5511de3e88)\n'}, {'number': 3, 'created': '2018-11-29 13:54:15.000000000', 'files': ['scripts/bootstrap-ansible.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/290529998166b15b95f13c9ef4be14c82c370996', 'message': 'Move ARA install to end of bootstrap\n\nsetup_ara sets up the callback plugins variable\nso as it is now, it gets unset during the role\nretrieval.  This commit moves it to the end of\nbootstrap so that the ANSIBLE_CALLBACK_PLUGINS\nis set.\n\nChange-Id: I46ceb2acf377e38b2dc31ffc4a82b7945f8dd4c5\n(cherry picked from commit 93831a60915d899e00c0eaa00a1e8b5511de3e88)\n'}]",0,617785,290529998166b15b95f13c9ef4be14c82c370996,27,4,3,290,,,0,"Move ARA install to end of bootstrap

setup_ara sets up the callback plugins variable
so as it is now, it gets unset during the role
retrieval.  This commit moves it to the end of
bootstrap so that the ANSIBLE_CALLBACK_PLUGINS
is set.

Change-Id: I46ceb2acf377e38b2dc31ffc4a82b7945f8dd4c5
(cherry picked from commit 93831a60915d899e00c0eaa00a1e8b5511de3e88)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/85/617785/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/bootstrap-ansible.sh'],1,3381d4aee613ce7e6ea095874ebc836b2a1140b9,move_ara-stable/rocky,"# Install and export the ARA callback plugin if [ ""${SETUP_ARA}"" == ""true"" ]; then setup_ara fi ","# Install and export the ARA callback plugin if [ ""${SETUP_ARA}"" == ""true"" ]; then setup_ara fi ",5,5
openstack%2Freleases~master~I8547085a9fed5714f6b5e3f03fac9f6d342948cf,openstack/releases,master,I8547085a9fed5714f6b5e3f03fac9f6d342948cf,Release 0.20.0 of openstacksdk,MERGED,2018-11-28 15:46:21.000000000,2018-11-29 21:55:48.000000000,2018-11-29 21:55:48.000000000,"[{'_account_id': 8745}, {'_account_id': 10239}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27224}]","[{'number': 1, 'created': '2018-11-28 15:46:21.000000000', 'files': ['deliverables/stein/openstacksdk.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f64d350f391eda9b8ba8bf4d56eadab3fad17441', 'message': 'Release 0.20.0 of openstacksdk\n\nChange-Id: I8547085a9fed5714f6b5e3f03fac9f6d342948cf\n'}]",0,620639,f64d350f391eda9b8ba8bf4d56eadab3fad17441,9,5,1,2,,,0,"Release 0.20.0 of openstacksdk

Change-Id: I8547085a9fed5714f6b5e3f03fac9f6d342948cf
",git fetch https://review.opendev.org/openstack/releases refs/changes/39/620639/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/openstacksdk.yaml'],1,f64d350f391eda9b8ba8bf4d56eadab3fad17441,, - projects: - hash: 6ad1a4c2a2ae745fff0baea12c305d874585bf73 repo: openstack/openstacksdk version: 0.20.0,,4,0
openstack%2Fcharm-barbican-vault~stable%2F18.11~Iff29355b3b92dcb0c91ac5b8cf005a99e2d54423,openstack/charm-barbican-vault,stable/18.11,Iff29355b3b92dcb0c91ac5b8cf005a99e2d54423,Updates for stable branch creation,MERGED,2018-11-20 01:08:54.000000000,2018-11-29 21:41:30.000000000,2018-11-29 21:41:30.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-20 01:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican-vault/commit/e90659f5c52b4934e0d85763555dabacad31c3a4', 'message': 'Updates for stable branch creation\n\nSet default branch for git review/gerrit.\n\nSwitch amulet tests to stable.\n\nSwitch to using stable charm-helpers branch.\n\nChange-Id: Iff29355b3b92dcb0c91ac5b8cf005a99e2d54423\n'}, {'number': 2, 'created': '2018-11-27 22:03:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican-vault/commit/fedfa953aed3adbf5e4b73da11ff0ac0c2b397ef', 'message': 'Updates for stable branch creation\n\nSet default branch for git review/gerrit.\n\nSwitch amulet tests to stable.\n\nSwitch to using stable charm-helpers branch.\n\nChange-Id: Iff29355b3b92dcb0c91ac5b8cf005a99e2d54423\n'}, {'number': 3, 'created': '2018-11-27 22:56:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican-vault/commit/8ade2e19824cc35180774df6d18fd871435dcff6', 'message': 'Updates for stable branch creation\n\nSet default branch for git review/gerrit.\n\nSwitch amulet tests to stable.\n\nSwitch to using stable charm-helpers branch.\n\nChange-Id: Iff29355b3b92dcb0c91ac5b8cf005a99e2d54423\n'}, {'number': 4, 'created': '2018-11-29 17:46:41.000000000', 'files': ['src/tests/bundles/cosmic-rocky.yaml', '.gitreview', 'src/tests/bundles/bionic-rocky.yaml'], 'web_link': 'https://opendev.org/openstack/charm-barbican-vault/commit/4a413e38230f4ce96182816b233f5a6215c73d51', 'message': 'Updates for stable branch creation\n\nSet default branch for git review/gerrit.\n\nSwitch amulet tests to stable.\n\nSwitch to using stable charm-helpers branch.\n\nChange-Id: Iff29355b3b92dcb0c91ac5b8cf005a99e2d54423\n'}]",0,618921,4a413e38230f4ce96182816b233f5a6215c73d51,27,5,4,20805,,,0,"Updates for stable branch creation

Set default branch for git review/gerrit.

Switch amulet tests to stable.

Switch to using stable charm-helpers branch.

Change-Id: Iff29355b3b92dcb0c91ac5b8cf005a99e2d54423
",git fetch https://review.opendev.org/openstack/charm-barbican-vault refs/changes/21/618921/4 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/cosmic-rocky.yaml', '.gitreview', 'src/tests/bundles/bionic-rocky.yaml']",3,e90659f5c52b4934e0d85763555dabacad31c3a4,18.11-updates, charm: cs:percona-cluster charm: cs:keystone charm: cs:barbican charm: cs:rabbitmq-server charm: cs:vault, charm: cs:~openstack-charmers-next/percona-cluster charm: cs:~openstack-charmers-next/keystone charm: cs:~openstack-charmers-next/barbican charm: cs:~openstack-charmers-next/rabbitmq-server charm: cs:~openstack-charmers-next/vault,16,10
openstack%2Fopenstacksdk~master~I37bc96531eb37f9f850d5531354bd4db17973406,openstack/openstacksdk,master,I37bc96531eb37f9f850d5531354bd4db17973406,Check result of server metadata operation,MERGED,2018-11-22 08:58:35.000000000,2018-11-29 21:13:24.000000000,2018-11-29 21:13:24.000000000,"[{'_account_id': 2}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2018-11-22 08:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/793c27fe3bbc5a4aa4c206e3742199dc44ef42aa', 'message': 'check result of server metadata operation\n\nAn accidential failure in one of the functional tests \n(http://logs.openstack.org/08/619008/6/check/openstacksdk-functional-devstack-tips-python2/4937876/job-output.txt.gz) \nshowed, that \nresponse of metadata change was not checked. In that particular example \nnova returned 500 for one of the metadata deletes, but the testcase has \nnot recognized this and went further, what resulted in a later \nasserEquals failure.\nSo what we need to do here is to check the response of the metadata \noperation and raise an exception if it was not successful\n\nChange-Id: I37bc96531eb37f9f850d5531354bd4db17973406\n'}, {'number': 2, 'created': '2018-11-22 09:01:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/282d07d142b3eb40884bfdb00f90cc7d32444f50', 'message': 'check result of server metadata operation\n\nAn accidential failure in one of the functional tests \n(http://logs.openstack.org/08/619008/6/check/openstacksdk-functional-devstack-tips-python2/4937876/job-output.txt.gz) \nshowed, that \nresponse of metadata change was not checked. In that particular example \nnova returned 500 for one of the metadata deletes, but the testcase has \nnot recognized this and went further, what resulted in a later \nasserEquals failure.\nSo what we need to do here is to check the response of the metadata \noperation and raise an exception if it was not successful\n\nChange-Id: I37bc96531eb37f9f850d5531354bd4db17973406\n'}, {'number': 3, 'created': '2018-11-22 11:08:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f628ba0fdb199f25b929820c22c4fb86999a110f', 'message': 'check result of server metadata operation\n\nAn accidential failure in one of the functional tests \n(http://logs.openstack.org/08/619008/6/check/openstacksdk-functional-devstack-tips-python2/4937876/job-output.txt.gz) \nshowed, that \nresponse of metadata change was not checked. In that particular example \nnova returned 500 for one of the metadata deletes, but the testcase has \nnot recognized this and went further, what resulted in a later \nasserEquals failure.\nSo what we need to do here is to check the response of the metadata \noperation and raise an exception if it was not successful\n\nChange-Id: I37bc96531eb37f9f850d5531354bd4db17973406\n'}, {'number': 4, 'created': '2018-11-22 17:54:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c811651742d25948c3dda351516714c5309c980c', 'message': 'check result of server metadata operation\n\nAn accidential failure in one of the functional tests \n(http://logs.openstack.org/08/619008/6/check/openstacksdk-functional-devstack-tips-python2/4937876/job-output.txt.gz) \nshowed, that \nresponse of metadata change was not checked. In that particular example \nnova returned 500 for one of the metadata deletes, but the testcase has \nnot recognized this and went further, what resulted in a later \nasserEquals failure.\nSo what we need to do here is to check the response of the metadata \noperation and raise an exception if it was not successful\n\nChange-Id: I37bc96531eb37f9f850d5531354bd4db17973406\n'}, {'number': 5, 'created': '2018-11-23 09:33:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ce80e7eaaa957880f033bb2e791d096003b06fc6', 'message': 'Check result of server metadata operation\n\nAn accidental failure in one of the functional tests\n(http://logs.openstack.org/08/619008/6/check/openstacksdk-functional-devstack-tips-python2/4937876/job-output.txt.gz)\nshowed, that response of metadata change was not checked.\nIn that particular example nova returned 500 for one of the metadata\ndeletes, but the testcase has not recognized this and went further,\nwhat resulted in a later asserEquals failure.\nSo what we need to do here is to check the response of the metadata\noperation and raise an exception if it was not successful.\n\nChange-Id: I37bc96531eb37f9f850d5531354bd4db17973406\n'}, {'number': 6, 'created': '2018-11-23 09:36:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/7dd9b57cf1a315e41ec6a1d98a94adbeb7b16761', 'message': 'Check result of server metadata operation\n\nAn accidental failure in one of the functional tests showed, that\nresponse of metadata change was not checked. In that particular example\nnova returned 500 for one of the metadata deletes, but the testcase\nhas not recognized this and went further, what resulted in a later\nasserEquals failure.\nSo what we need to do here is to check the response of the metadata\noperation and raise an exception if it was not successful.\n\nChange-Id: I37bc96531eb37f9f850d5531354bd4db17973406\n'}, {'number': 7, 'created': '2018-11-23 13:39:51.000000000', 'files': ['openstack/compute/v2/metadata.py', 'openstack/tests/unit/compute/v2/test_metadata.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8f97fb767cb89f284e371c52abfc9b84da4602a8', 'message': 'Check result of server metadata operation\n\nAn accidental failure in one of the functional tests showed, that\nresponse of metadata change was not checked. In that particular example\nnova returned 500 for one of the metadata deletes, but the testcase\nhas not recognized this and went further, what resulted in a later\nasserEquals failure.\nSo what we need to do here is to check the response of the metadata\noperation and raise an exception if it was not successful.\n\nChange-Id: I37bc96531eb37f9f850d5531354bd4db17973406\n'}]",5,619478,8f97fb767cb89f284e371c52abfc9b84da4602a8,33,4,7,27900,,,0,"Check result of server metadata operation

An accidental failure in one of the functional tests showed, that
response of metadata change was not checked. In that particular example
nova returned 500 for one of the metadata deletes, but the testcase
has not recognized this and went further, what resulted in a later
asserEquals failure.
So what we need to do here is to check the response of the metadata
operation and raise an exception if it was not successful.

Change-Id: I37bc96531eb37f9f850d5531354bd4db17973406
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/78/619478/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/compute/v2/metadata.py'],1,793c27fe3bbc5a4aa4c206e3742199dc44ef42aa,server_metadata,from openstack import exceptions # check the result exceptions.raise_from_response(response),,3,0
openstack%2Freleases~master~Id3c95cec5ae5161529939d1a0921389543b1085e,openstack/releases,master,Id3c95cec5ae5161529939d1a0921389543b1085e,Release oslo.context 2.22.0,MERGED,2018-11-29 15:14:04.000000000,2018-11-29 21:08:55.000000000,2018-11-29 21:08:55.000000000,"[{'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-29 15:14:04.000000000', 'files': ['deliverables/stein/oslo.context.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7737e1e53857440bea358d5096929a1eb6f5fb91', 'message': 'Release oslo.context 2.22.0\n\nBumping from 2.21.0 to 2.22.0 since support was added for oslo.context\nto handle domain-scoped tokens from keystone.\n\nChange-Id: Id3c95cec5ae5161529939d1a0921389543b1085e\n'}]",0,620931,7737e1e53857440bea358d5096929a1eb6f5fb91,7,3,1,5046,,,0,"Release oslo.context 2.22.0

Bumping from 2.21.0 to 2.22.0 since support was added for oslo.context
to handle domain-scoped tokens from keystone.

Change-Id: Id3c95cec5ae5161529939d1a0921389543b1085e
",git fetch https://review.opendev.org/openstack/releases refs/changes/31/620931/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/oslo.context.yaml'],1,7737e1e53857440bea358d5096929a1eb6f5fb91,,releases: - projects: - hash: f65408df5cd5924f2879c3ee94d07fd27cb2cf73 repo: openstack/oslo.context version: 2.22.0,,5,0
openstack%2Freleases~master~I0383f4cd35074c87ad4665cfb5ba46a57676fecd,openstack/releases,master,I0383f4cd35074c87ad4665cfb5ba46a57676fecd,Add freezer-tempest-plugin as Stein deliverable,MERGED,2018-11-29 15:48:03.000000000,2018-11-29 21:08:54.000000000,2018-11-29 21:08:54.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-29 15:48:03.000000000', 'files': ['deliverables/stein/freezer-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/48d9128f8d76bc8a9d3f3f3fa90bd577e75b8fb1', 'message': ""Add freezer-tempest-plugin as Stein deliverable\n\nfreezer-tempest-plugin was not ready, or was missed in Rocky\nrelease. Let's add a deliverable file to make sure we don't\nmiss it again in Stein.\n\nChange-Id: I0383f4cd35074c87ad4665cfb5ba46a57676fecd\n""}]",0,620943,48d9128f8d76bc8a9d3f3f3fa90bd577e75b8fb1,6,2,1,308,,,0,"Add freezer-tempest-plugin as Stein deliverable

freezer-tempest-plugin was not ready, or was missed in Rocky
release. Let's add a deliverable file to make sure we don't
miss it again in Stein.

Change-Id: I0383f4cd35074c87ad4665cfb5ba46a57676fecd
",git fetch https://review.opendev.org/openstack/releases refs/changes/43/620943/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/freezer-tempest-plugin.yaml'],1,48d9128f8d76bc8a9d3f3f3fa90bd577e75b8fb1,missing-deliverables,--- include-pypi-link: no launchpad: freezer release-model: cycle-with-intermediary release-type: python-pypi repository-settings: openstack/freezer-tempest-plugin: {} team: freezer type: tempest-plugin ,,9,0
openstack%2Fnetworking-generic-switch~master~I51e22175759e79891876b27992340137c100572c,openstack/networking-generic-switch,master,I51e22175759e79891876b27992340137c100572c,Switch n-g-s devstack job to python3,ABANDONED,2018-08-14 19:01:01.000000000,2018-11-29 20:46:53.000000000,,"[{'_account_id': 9542}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-14 19:01:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/b1483db61bf8a734f3e12e49ec47caca67aad946', 'message': 'Switch n-g-s devstack job to python3\n\nChange-Id: I51e22175759e79891876b27992340137c100572c\n'}, {'number': 2, 'created': '2018-08-20 19:48:07.000000000', 'files': ['playbooks/legacy/networking-generic-switch-tempest-dsvm-dlm-python2/post.yaml', 'playbooks/legacy/networking-generic-switch-tempest-dsvm-dlm/run.yaml', 'zuul.d/project.yaml', 'playbooks/legacy/networking-generic-switch-tempest-dsvm-dlm-python2/run.yaml', 'zuul.d/legacy-networking-generic-switch-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/69f1d2388142887e5c4779c3e294d9cccc13e0b0', 'message': 'Switch n-g-s devstack job to python3\n\nChange-Id: I51e22175759e79891876b27992340137c100572c\n'}]",0,591826,69f1d2388142887e5c4779c3e294d9cccc13e0b0,10,3,2,11655,,,0,"Switch n-g-s devstack job to python3

Change-Id: I51e22175759e79891876b27992340137c100572c
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/26/591826/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/legacy/networking-generic-switch-tempest-dsvm-dlm/run.yaml'],1,b1483db61bf8a734f3e12e49ec47caca67aad946,python3-first, export DEVSTACK_GATE_USE_PYTHON3=True,,1,0
openstack%2Fpython-ironicclient~master~I6a5f55d65f98c08894e1174f510fcd165dde8d7f,openstack/python-ironicclient,master,I6a5f55d65f98c08894e1174f510fcd165dde8d7f,Add Python 3.6 classifier to setup.cfg,MERGED,2018-11-29 09:39:04.000000000,2018-11-29 20:44:46.000000000,2018-11-29 20:44:46.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-11-29 09:39:04.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/bdd4ec9b89ca1b4128cb79fef1227659a4e9c76b', 'message': 'Add Python 3.6 classifier to setup.cfg\n\nChange-Id: I6a5f55d65f98c08894e1174f510fcd165dde8d7f\n'}]",0,620853,bdd4ec9b89ca1b4128cb79fef1227659a4e9c76b,8,4,1,17499,,,0,"Add Python 3.6 classifier to setup.cfg

Change-Id: I6a5f55d65f98c08894e1174f510fcd165dde8d7f
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/53/620853/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,bdd4ec9b89ca1b4128cb79fef1227659a4e9c76b,, Programming Language :: Python :: 3.6,,1,0
openstack%2Fpython-ironicclient~master~Ib575ace38d1bedce54d0d21517d745ed3204d6f2,openstack/python-ironicclient,master,Ib575ace38d1bedce54d0d21517d745ed3204d6f2,Support for protected and protected_reason fields,MERGED,2018-10-24 14:34:04.000000000,2018-11-29 20:44:44.000000000,2018-11-29 20:44:44.000000000,"[{'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 24828}]","[{'number': 1, 'created': '2018-10-24 14:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/83a14cd6ca6fe516caac0b5776f1450200837d78', 'message': 'Support for protected and protected_reason fields\n\nDepends-On: https://review.openstack.org/611662\nStory: #2003869\nTask: #27624\nChange-Id: Ib575ace38d1bedce54d0d21517d745ed3204d6f2\n'}, {'number': 2, 'created': '2018-10-24 14:54:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/c0b20a292397c76135d621caeb8938ab2983e04f', 'message': 'Support for protected and protected_reason fields\n\nStory: #2003869\nTask: #27624\nDepends-On: https://review.openstack.org/611662\nChange-Id: Ib575ace38d1bedce54d0d21517d745ed3204d6f2\n'}, {'number': 3, 'created': '2018-11-27 09:12:23.000000000', 'files': ['ironicclient/tests/unit/v1/test_node_shell.py', 'ironicclient/common/http.py', 'releasenotes/notes/protected-72d7419245a4f6c3.yaml', 'ironicclient/v1/resource_fields.py', 'ironicclient/tests/unit/osc/v1/test_baremetal_node.py', 'ironicclient/osc/v1/baremetal_node.py'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/1c941eefe55c37ec9f89aa974773fec101e05a17', 'message': 'Support for protected and protected_reason fields\n\nStory: #2003869\nTask: #27624\nDepends-On: https://review.openstack.org/611662\nChange-Id: Ib575ace38d1bedce54d0d21517d745ed3204d6f2\n'}]",16,613053,1c941eefe55c37ec9f89aa974773fec101e05a17,19,6,3,10239,,,0,"Support for protected and protected_reason fields

Story: #2003869
Task: #27624
Depends-On: https://review.openstack.org/611662
Change-Id: Ib575ace38d1bedce54d0d21517d745ed3204d6f2
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/53/613053/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironicclient/tests/unit/v1/test_node_shell.py', 'ironicclient/common/http.py', 'releasenotes/notes/protected-72d7419245a4f6c3.yaml', 'ironicclient/v1/resource_fields.py', 'ironicclient/osc/v1/baremetal_node.py', 'ironicclient/tests/unit/osc/v1/test_baremetal_node.py']",6,83a14cd6ca6fe516caac0b5776f1450200837d78,story/2003869," 'Protected', def test_baremetal_set_protected(self): arglist = [ 'node_uuid', '--protected' ] verifylist = [ ('node', 'node_uuid'), ('protected', True) ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) self.baremetal_mock.node.update.assert_called_once_with( 'node_uuid', [{'path': '/protected', 'value': 'True', 'op': 'add'}], reset_interfaces=None, ) def test_baremetal_set_protected_with_reason(self): arglist = [ 'node_uuid', '--protected', '--protected-reason', 'reason!' ] verifylist = [ ('node', 'node_uuid'), ('protected', True), ('protected_reason', 'reason!') ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) self.baremetal_mock.node.update.assert_called_once_with( 'node_uuid', [{'path': '/protected', 'value': 'True', 'op': 'add'}, {'path': '/protected_reason', 'value': 'reason!', 'op': 'add'}], reset_interfaces=None, ) def test_baremetal_unset_protected(self): arglist = [ 'node_uuid', '--protected', ] verifylist = [ ('node', 'node_uuid'), ('protected', True) ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) self.baremetal_mock.node.update.assert_called_once_with( 'node_uuid', [{'path': '/protected', 'op': 'remove'}] ) def test_baremetal_unset_protected_reason(self): arglist = [ 'node_uuid', '--protected-reason', ] verifylist = [ ('node', 'node_uuid'), ('protected_reason', True) ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) self.baremetal_mock.node.update.assert_called_once_with( 'node_uuid', [{'path': '/protected_reason', 'op': 'remove'}] ) ",,118,3
openstack%2Fpython-keystoneclient~master~I6a9b5ec4f2a82c87f9819f5195f72540a13573b8,openstack/python-keystoneclient,master,I6a9b5ec4f2a82c87f9819f5195f72540a13573b8,Add release notes for return-request-id-to-caller,MERGED,2016-02-05 09:31:10.000000000,2018-11-29 20:40:08.000000000,2018-11-29 20:40:07.000000000,"[{'_account_id': 4}, {'_account_id': 1941}, {'_account_id': 2218}, {'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 5707}, {'_account_id': 6482}, {'_account_id': 6486}, {'_account_id': 7191}, {'_account_id': 7634}, {'_account_id': 7725}, {'_account_id': 8482}, {'_account_id': 8866}, {'_account_id': 11022}, {'_account_id': 11704}, {'_account_id': 13055}, {'_account_id': 13063}, {'_account_id': 15054}, {'_account_id': 16465}, {'_account_id': 17860}, {'_account_id': 18338}, {'_account_id': 20191}, {'_account_id': 21420}, {'_account_id': 21465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2016-02-05 09:31:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/accb75660233d7ab70573579b76af55cad812fec', 'message': 'Add release notes for return-request-id-to-caller\n\nChange-Id: I6a9b5ec4f2a82c87f9819f5195f72540a13573b8\nCo-authored-by: Ankit Agrawal <ankit11.agrawal@nttdata.com>\nImplements: blueprint return-request-id-to-caller\n'}, {'number': 2, 'created': '2016-03-29 04:15:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/a35f5c5b39c2f7d20ebb2508b95e2a583f1564aa', 'message': 'Add release notes for return-request-id-to-caller\n\nChange-Id: I6a9b5ec4f2a82c87f9819f5195f72540a13573b8\nCo-authored-by: Ankit Agrawal <ankit11.agrawal@nttdata.com>\nImplements: blueprint return-request-id-to-caller\n'}, {'number': 3, 'created': '2016-04-04 08:32:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/c4540443805ee74d6b5a5a926734c7abee4aae44', 'message': 'Add release notes for return-request-id-to-caller\n\nChange-Id: I6a9b5ec4f2a82c87f9819f5195f72540a13573b8\nCo-authored-by: Ankit Agrawal <ankit11.agrawal@nttdata.com>\nImplements: blueprint return-request-id-to-caller\n'}, {'number': 4, 'created': '2016-05-18 07:47:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/0348d3c245d3ca2ad2d368aa370d32f1e99fd638', 'message': 'Add release notes for return-request-id-to-caller\n\nChange-Id: I6a9b5ec4f2a82c87f9819f5195f72540a13573b8\nCo-authored-by: Ankit Agrawal <ankit11.agrawal@nttdata.com>\nImplements: blueprint return-request-id-to-caller\n'}, {'number': 5, 'created': '2016-05-23 01:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/f885a269888bf13e907c205b4629dba225988b21', 'message': 'Add release notes for return-request-id-to-caller\n\nChange-Id: I6a9b5ec4f2a82c87f9819f5195f72540a13573b8\nCo-authored-by: Ankit Agrawal <ankit11.agrawal@nttdata.com>\nImplements: blueprint return-request-id-to-caller\n'}, {'number': 6, 'created': '2016-05-23 02:18:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/e8554076ed2cce726c72562cfd52ddac403d506c', 'message': 'Add release notes for return-request-id-to-caller\n\nChange-Id: I6a9b5ec4f2a82c87f9819f5195f72540a13573b8\nCo-authored-by: Ankit Agrawal <ankit11.agrawal@nttdata.com>\nImplements: blueprint return-request-id-to-caller\n'}, {'number': 7, 'created': '2016-09-07 10:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/21699c0aa3b771948c7ce7ae6772df8b6163babf', 'message': 'Add release notes for return-request-id-to-caller\n\nChange-Id: I6a9b5ec4f2a82c87f9819f5195f72540a13573b8\nCo-authored-by: Ankit Agrawal <ankit11.agrawal@nttdata.com>\nImplements: blueprint return-request-id-to-caller\n'}, {'number': 8, 'created': '2016-10-11 07:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/2e04f4f061332a48434875cba91bd409dfd06a27', 'message': 'Add release notes for return-request-id-to-caller\n\nChange-Id: I6a9b5ec4f2a82c87f9819f5195f72540a13573b8\nCo-authored-by: Ankit Agrawal <ankit11.agrawal@nttdata.com>\nImplements: blueprint return-request-id-to-caller\n'}, {'number': 9, 'created': '2016-11-14 05:41:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/a7218582597e4dc1b0cb3b8c6e501ea5ba6b731c', 'message': 'Add release notes for return-request-id-to-caller\n\nChange-Id: I6a9b5ec4f2a82c87f9819f5195f72540a13573b8\nCo-authored-by: Ankit Agrawal <ankit11.agrawal@nttdata.com>\nImplements: blueprint return-request-id-to-caller\n'}, {'number': 10, 'created': '2018-01-23 04:35:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/d56440881f6971336a067e4c13bd2218d3e495f0', 'message': 'Add release notes for return-request-id-to-caller\n\nChange-Id: I6a9b5ec4f2a82c87f9819f5195f72540a13573b8\nCo-authored-by: Ankit Agrawal <ankit11.agrawal@nttdata.com>\nImplements: blueprint return-request-id-to-caller\n'}, {'number': 11, 'created': '2018-10-19 17:48:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/b367431266bdd6afcc1e6b29ac3d5f339feefa70', 'message': 'Add release notes for return-request-id-to-caller\n\nChange-Id: I6a9b5ec4f2a82c87f9819f5195f72540a13573b8\nCo-authored-by: Ankit Agrawal <ankit11.agrawal@nttdata.com>\nImplements: blueprint return-request-id-to-caller\n'}, {'number': 12, 'created': '2018-10-19 19:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/013d36d0af4c95f9560f0d70d546402dc38f37a0', 'message': 'Add release notes for return-request-id-to-caller\n\nChange-Id: I6a9b5ec4f2a82c87f9819f5195f72540a13573b8\nCo-authored-by: Ankit Agrawal <ankit11.agrawal@nttdata.com>\nImplements: blueprint return-request-id-to-caller\n'}, {'number': 13, 'created': '2018-11-29 08:43:43.000000000', 'files': ['releasenotes/notes/return-request-id-to-caller-97fa269ad626f8c1.yaml'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/723002cdd48cb77e5b642e10da01343de6be95c8', 'message': 'Add release notes for return-request-id-to-caller\n\nChange-Id: I6a9b5ec4f2a82c87f9819f5195f72540a13573b8\nCo-authored-by: Ankit Agrawal <ankit11.agrawal@nttdata.com>\nImplements: blueprint return-request-id-to-caller\n'}]",6,276644,723002cdd48cb77e5b642e10da01343de6be95c8,54,25,13,11704,,,0,"Add release notes for return-request-id-to-caller

Change-Id: I6a9b5ec4f2a82c87f9819f5195f72540a13573b8
Co-authored-by: Ankit Agrawal <ankit11.agrawal@nttdata.com>
Implements: blueprint return-request-id-to-caller
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/44/276644/13 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/return-request-id-to-caller-97fa269ad626f8c1.yaml'],1,accb75660233d7ab70573579b76af55cad812fec,bp/return-request-id-to-caller,"--- prelude: > Methods in manager classes and resource classes return wrapper classes that wrap values returned originally. For example, a wrapper class for list, a wrapper class for dict, a wrapper class for str and so on. The wrapper classes have a 'request_ids' property for request IDs returned from Keystone. So the caller can get the Keystone's request IDs, then output them to logs with its own request ID. The function to output them to the logs will be implemented in other projects (nova, heat, etc.). features: - Methods in manager classes and resource classes return wrapper classes that wrap values returned originally. For example, a wrapper class for list, a wrapper class for dict, a wrapper class for str and so on. The wrapper classes have a 'request_ids' property for request IDs returned from Keystone. So the caller can get the Keystone's request IDs, then output them to logs with its own request ID. The function to output them to the logs will be implemented in other projects (nova, heat, etc.). ",,21,0
openstack%2Fpython-keystoneclient~master~I5f90c31020e0dd672a160c7b587f41ba8f2b596c,openstack/python-keystoneclient,master,I5f90c31020e0dd672a160c7b587f41ba8f2b596c,Add return-request-id-to-caller function(v3/contrib),MERGED,2016-01-15 08:20:41.000000000,2018-11-29 20:40:07.000000000,2018-11-29 20:40:07.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 5046}, {'_account_id': 7191}, {'_account_id': 7634}, {'_account_id': 8482}, {'_account_id': 11704}, {'_account_id': 15054}, {'_account_id': 17860}, {'_account_id': 20191}, {'_account_id': 22348}, {'_account_id': 26541}]","[{'number': 1, 'created': '2016-01-15 08:20:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/87362e051535d5009deb61936ee96c80e257ad6b', 'message': ""Add return-request-id-to-caller function(v3/contrib)\n\nAdd return-request-id-to-caller function to\nresources and resource managers in the following files.\n\n* keystoneclient/v3/contrib\n\nThe methods in the resource class and resource manager return\na wrapper class that has 'request_ids' property.\nThe caller can get request ids of the callee via the property.\n\nChange-Id: I5f90c31020e0dd672a160c7b587f41ba8f2b596c\nCo-authored-by: Ankit Agrawal <ankit11.agrawal@nttdata.com>\nImplements: blueprint return-request-id-to-caller\n""}, {'number': 2, 'created': '2016-02-10 07:26:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/abe11f6ccb7309e278cd89c82562f1f6bad5bc81', 'message': ""Add return-request-id-to-caller function(v3/contrib)\n\nAdd return-request-id-to-caller function to\nresources and resource managers in the following files.\n\n* keystoneclient/v3/contrib\n\nThe methods in the resource class and resource manager return\na wrapper class that has 'request_ids' property.\nThe caller can get request ids of the callee via the property.\n\nChange-Id: I5f90c31020e0dd672a160c7b587f41ba8f2b596c\nCo-authored-by: Ankit Agrawal <ankit11.agrawal@nttdata.com>\nImplements: blueprint return-request-id-to-caller\n""}, {'number': 3, 'created': '2016-02-10 07:57:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/c0db92095c4d202420fc71a0a990f0c6e3fa5db9', 'message': ""Add return-request-id-to-caller function(v3/contrib)\n\nAdd return-request-id-to-caller function to\nresources and resource managers in the following files.\n\n* keystoneclient/v3/contrib/endpoint_filter.py\n* keystoneclient/v3/contrib/endpoint_policy.py\n* keystoneclient/v3/contrib/simple_cert.py\n* keystoneclient/v3/contrib/federation/identity_providers.py\n* keystoneclient/v3/contrib/federation/mappings.py\n* keystoneclient/v3/contrib/federation/protocols.py\n* keystoneclient/v3/contrib/federation/service_providers.py\n* keystoneclient/v3/contrib/oauth1/access_tokens.py\n* keystoneclient/v3/contrib/oauth1/request_tokens.py\n\nThe methods in the resource class and resource manager return\na wrapper class that has 'request_ids' property.\nThe caller can get request ids of the callee via the property.\n\nChange-Id: I5f90c31020e0dd672a160c7b587f41ba8f2b596c\nCo-authored-by: Ankit Agrawal <ankit11.agrawal@nttdata.com>\nImplements: blueprint return-request-id-to-caller\n""}, {'number': 4, 'created': '2016-02-16 09:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/de00d768071b5e26206101106a1a8e22eff037f2', 'message': ""Add return-request-id-to-caller function(v3/contrib)\n\nAdd return-request-id-to-caller function to\nresources and resource managers in the following files.\n\n* keystoneclient/v3/contrib/endpoint_filter.py\n* keystoneclient/v3/contrib/endpoint_policy.py\n* keystoneclient/v3/contrib/simple_cert.py\n* keystoneclient/v3/contrib/federation/identity_providers.py\n* keystoneclient/v3/contrib/federation/mappings.py\n* keystoneclient/v3/contrib/federation/protocols.py\n* keystoneclient/v3/contrib/federation/service_providers.py\n* keystoneclient/v3/contrib/oauth1/access_tokens.py\n* keystoneclient/v3/contrib/oauth1/request_tokens.py\n\nThe methods in the resource class and resource manager return\na wrapper class that has 'request_ids' property.\nThe caller can get request ids of the callee via the property.\n\nChange-Id: I5f90c31020e0dd672a160c7b587f41ba8f2b596c\nCo-authored-by: Ankit Agrawal <ankit11.agrawal@nttdata.com>\nImplements: blueprint return-request-id-to-caller\n""}, {'number': 5, 'created': '2016-04-04 08:24:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/169cb890e40081c04193800633f4f0315a824a13', 'message': ""Add return-request-id-to-caller function(v3/contrib)\n\nAdd return-request-id-to-caller function to\nresources and resource managers in the following files.\n\n* keystoneclient/v3/contrib/endpoint_filter.py\n* keystoneclient/v3/contrib/endpoint_policy.py\n* keystoneclient/v3/contrib/simple_cert.py\n* keystoneclient/v3/contrib/federation/identity_providers.py\n* keystoneclient/v3/contrib/federation/mappings.py\n* keystoneclient/v3/contrib/federation/protocols.py\n* keystoneclient/v3/contrib/federation/service_providers.py\n* keystoneclient/v3/contrib/oauth1/access_tokens.py\n* keystoneclient/v3/contrib/oauth1/request_tokens.py\n\nThe methods in the resource class and resource manager return\na wrapper class that has 'request_ids' property.\nThe caller can get request ids of the callee via the property.\n\nChange-Id: I5f90c31020e0dd672a160c7b587f41ba8f2b596c\nCo-authored-by: Ankit Agrawal <ankit11.agrawal@nttdata.com>\nImplements: blueprint return-request-id-to-caller\n""}, {'number': 6, 'created': '2016-05-18 07:26:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/0c0636904924d84c2ed2eef02a70a76ccb0feb9c', 'message': ""Add return-request-id-to-caller function(v3/contrib)\n\nAdd return-request-id-to-caller function to\nresources and resource managers in the following files.\n\n* keystoneclient/v3/contrib/endpoint_filter.py\n* keystoneclient/v3/contrib/endpoint_policy.py\n* keystoneclient/v3/contrib/simple_cert.py\n* keystoneclient/v3/contrib/federation/identity_providers.py\n* keystoneclient/v3/contrib/federation/mappings.py\n* keystoneclient/v3/contrib/federation/protocols.py\n* keystoneclient/v3/contrib/federation/service_providers.py\n* keystoneclient/v3/contrib/oauth1/access_tokens.py\n* keystoneclient/v3/contrib/oauth1/request_tokens.py\n\nThe methods in the resource class and resource manager return\na wrapper class that has 'request_ids' property.\nThe caller can get request ids of the callee via the property.\n\nChange-Id: I5f90c31020e0dd672a160c7b587f41ba8f2b596c\nCo-authored-by: Ankit Agrawal <ankit11.agrawal@nttdata.com>\nImplements: blueprint return-request-id-to-caller\n""}, {'number': 7, 'created': '2016-06-14 03:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/ceb3f96c2d82c10069c4bd8e0b68d8ef2ea4ed89', 'message': ""Add return-request-id-to-caller function(v3/contrib)\n\nAdd return-request-id-to-caller function to\nresources and resource managers in the following files.\n\n* keystoneclient/v3/contrib/endpoint_filter.py\n* keystoneclient/v3/contrib/endpoint_policy.py\n* keystoneclient/v3/contrib/simple_cert.py\n* keystoneclient/v3/contrib/federation/identity_providers.py\n* keystoneclient/v3/contrib/federation/mappings.py\n* keystoneclient/v3/contrib/federation/protocols.py\n* keystoneclient/v3/contrib/federation/service_providers.py\n* keystoneclient/v3/contrib/oauth1/access_tokens.py\n* keystoneclient/v3/contrib/oauth1/request_tokens.py\n\nThe methods in the resource class and resource manager return\na wrapper class that has 'request_ids' property.\nThe caller can get request ids of the callee via the property.\n\nChange-Id: I5f90c31020e0dd672a160c7b587f41ba8f2b596c\nCo-authored-by: Ankit Agrawal <ankit11.agrawal@nttdata.com>\nImplements: blueprint return-request-id-to-caller\n""}, {'number': 8, 'created': '2016-08-19 09:01:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/154525a99e8878797c5cdd51090fc1f9f0cd4940', 'message': ""Add return-request-id-to-caller function(v3/contrib)\n\nAdd return-request-id-to-caller function to\nresources and resource managers in the following files.\n\n* keystoneclient/v3/contrib/endpoint_filter.py\n* keystoneclient/v3/contrib/endpoint_policy.py\n* keystoneclient/v3/contrib/simple_cert.py\n* keystoneclient/v3/contrib/federation/identity_providers.py\n* keystoneclient/v3/contrib/federation/mappings.py\n* keystoneclient/v3/contrib/federation/protocols.py\n* keystoneclient/v3/contrib/federation/service_providers.py\n* keystoneclient/v3/contrib/oauth1/access_tokens.py\n* keystoneclient/v3/contrib/oauth1/request_tokens.py\n\nThe methods in the resource class and resource manager return\na wrapper class that has 'request_ids' property.\nThe caller can get request ids of the callee via the property.\n\nChange-Id: I5f90c31020e0dd672a160c7b587f41ba8f2b596c\nCo-authored-by: Ankit Agrawal <ankit11.agrawal@nttdata.com>\nImplements: blueprint return-request-id-to-caller\n""}, {'number': 9, 'created': '2016-09-07 10:20:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/7d2421fd4cb1242aadd70e4253592f0731dbfe4e', 'message': ""Add return-request-id-to-caller function(v3/contrib)\n\nAdd return-request-id-to-caller function to\nresources and resource managers in the following files.\n\n* keystoneclient/v3/contrib/endpoint_filter.py\n* keystoneclient/v3/contrib/endpoint_policy.py\n* keystoneclient/v3/contrib/simple_cert.py\n* keystoneclient/v3/contrib/federation/identity_providers.py\n* keystoneclient/v3/contrib/federation/mappings.py\n* keystoneclient/v3/contrib/federation/protocols.py\n* keystoneclient/v3/contrib/federation/service_providers.py\n* keystoneclient/v3/contrib/oauth1/access_tokens.py\n* keystoneclient/v3/contrib/oauth1/request_tokens.py\n\nThe methods in the resource class and resource manager return\na wrapper class that has 'request_ids' property.\nThe caller can get request ids of the callee via the property.\n\nChange-Id: I5f90c31020e0dd672a160c7b587f41ba8f2b596c\nCo-authored-by: Ankit Agrawal <ankit11.agrawal@nttdata.com>\nImplements: blueprint return-request-id-to-caller\n""}, {'number': 10, 'created': '2016-10-11 06:40:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/80ee1d1f5aea693aa4a8b6ab19b98bd207e5100a', 'message': ""Add return-request-id-to-caller function(v3/contrib)\n\nAdd return-request-id-to-caller function to\nresources and resource managers in the following files.\n\n* keystoneclient/v3/contrib/endpoint_filter.py\n* keystoneclient/v3/contrib/endpoint_policy.py\n* keystoneclient/v3/contrib/simple_cert.py\n* keystoneclient/v3/contrib/federation/identity_providers.py\n* keystoneclient/v3/contrib/federation/mappings.py\n* keystoneclient/v3/contrib/federation/protocols.py\n* keystoneclient/v3/contrib/federation/service_providers.py\n* keystoneclient/v3/contrib/oauth1/access_tokens.py\n* keystoneclient/v3/contrib/oauth1/request_tokens.py\n\nThe methods in the resource class and resource manager return\na wrapper class that has 'request_ids' property.\nThe caller can get request ids of the callee via the property.\n\nChange-Id: I5f90c31020e0dd672a160c7b587f41ba8f2b596c\nCo-authored-by: Ankit Agrawal <ankit11.agrawal@nttdata.com>\nImplements: blueprint return-request-id-to-caller\n""}, {'number': 11, 'created': '2016-11-14 04:27:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/14b064fcc97def4f899d79720db96c50bc1d558e', 'message': ""Add return-request-id-to-caller function(v3/contrib)\n\nAdd return-request-id-to-caller function to\nresources and resource managers in the following files.\n\n* keystoneclient/v3/contrib/endpoint_filter.py\n* keystoneclient/v3/contrib/endpoint_policy.py\n* keystoneclient/v3/contrib/simple_cert.py\n* keystoneclient/v3/contrib/federation/identity_providers.py\n* keystoneclient/v3/contrib/federation/mappings.py\n* keystoneclient/v3/contrib/federation/protocols.py\n* keystoneclient/v3/contrib/federation/service_providers.py\n* keystoneclient/v3/contrib/oauth1/access_tokens.py\n* keystoneclient/v3/contrib/oauth1/request_tokens.py\n\nThe methods in the resource class and resource manager return\na wrapper class that has 'request_ids' property.\nThe caller can get request ids of the callee via the property.\n\nChange-Id: I5f90c31020e0dd672a160c7b587f41ba8f2b596c\nCo-authored-by: Ankit Agrawal <ankit11.agrawal@nttdata.com>\nImplements: blueprint return-request-id-to-caller\n""}, {'number': 12, 'created': '2017-07-26 12:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/342a91cbf6b7f42b012cc5904b8f40d826783841', 'message': ""Add return-request-id-to-caller function(v3/contrib)\n\nAdd return-request-id-to-caller function to\nresources and resource managers in the following files.\n\n* keystoneclient/v3/contrib/endpoint_filter.py\n* keystoneclient/v3/contrib/endpoint_policy.py\n* keystoneclient/v3/contrib/simple_cert.py\n* keystoneclient/v3/contrib/federation/identity_providers.py\n* keystoneclient/v3/contrib/federation/mappings.py\n* keystoneclient/v3/contrib/federation/protocols.py\n* keystoneclient/v3/contrib/federation/service_providers.py\n* keystoneclient/v3/contrib/oauth1/access_tokens.py\n* keystoneclient/v3/contrib/oauth1/request_tokens.py\n\nThe methods in the resource class and resource manager return\na 'base.Response' class that has 'request_ids' property.\nThe caller can get request ids of the callee via that property.\n\nChange-Id: I5f90c31020e0dd672a160c7b587f41ba8f2b596c\nCo-authored-by: Dinesh Bhor <dinesh.bhor@nttdata.com>\nCo-authored-by: Ankit Agrawal <ankit11.agrawal@nttdata.com>\nImplements: blueprint return-request-id-to-caller\n""}, {'number': 13, 'created': '2017-07-26 13:00:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/e836acf6bb603c6877720702c1a75dfe820ebaaf', 'message': ""Add return-request-id-to-caller function(v3/contrib)\n\nAdd return-request-id-to-caller function to\nresources and resource managers in the following files.\n\n* keystoneclient/v3/contrib/endpoint_filter.py\n* keystoneclient/v3/contrib/endpoint_policy.py\n* keystoneclient/v3/contrib/simple_cert.py\n* keystoneclient/v3/contrib/federation/identity_providers.py\n* keystoneclient/v3/contrib/federation/mappings.py\n* keystoneclient/v3/contrib/federation/protocols.py\n* keystoneclient/v3/contrib/federation/service_providers.py\n* keystoneclient/v3/contrib/oauth1/access_tokens.py\n* keystoneclient/v3/contrib/oauth1/request_tokens.py\n\nThe methods in the resource class and resource manager return\na 'base.Response' class that has 'request_ids' property.\nThe caller can get request ids of the callee via that property.\n\nChange-Id: I5f90c31020e0dd672a160c7b587f41ba8f2b596c\nCo-authored-by: Dinesh Bhor <dinesh.bhor@nttdata.com>\nCo-authored-by: Ankit Agrawal <ankit11.agrawal@nttdata.com>\nImplements: blueprint return-request-id-to-caller\n""}, {'number': 14, 'created': '2018-01-23 04:17:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/ec67dfc1477569f0439c086fe7a6d8045226b9d6', 'message': ""Add return-request-id-to-caller function(v3/contrib)\n\nAdd return-request-id-to-caller function to\nresources and resource managers in the following files.\n\n* keystoneclient/v3/contrib/endpoint_filter.py\n* keystoneclient/v3/contrib/endpoint_policy.py\n* keystoneclient/v3/contrib/simple_cert.py\n* keystoneclient/v3/contrib/federation/identity_providers.py\n* keystoneclient/v3/contrib/federation/mappings.py\n* keystoneclient/v3/contrib/federation/protocols.py\n* keystoneclient/v3/contrib/federation/service_providers.py\n* keystoneclient/v3/contrib/oauth1/access_tokens.py\n* keystoneclient/v3/contrib/oauth1/request_tokens.py\n\nThe methods in the resource class and resource manager return\na 'base.Response' class that has 'request_ids' property.\nThe caller can get request ids of the callee via that property.\n\nChange-Id: I5f90c31020e0dd672a160c7b587f41ba8f2b596c\nCo-authored-by: Dinesh Bhor <dinesh.bhor@nttdata.com>\nCo-authored-by: Ankit Agrawal <ankit11.agrawal@nttdata.com>\nImplements: blueprint return-request-id-to-caller\n""}, {'number': 15, 'created': '2018-02-23 02:56:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/ea955f8da931f0279abb2db12577a2663aa9cd9f', 'message': ""Add return-request-id-to-caller function(v3/contrib)\n\nAdded return-request-id-to-caller function tovresources and resource\nmanagers in the following files.\n\n* keystoneclient/v3/contrib/simple_cert.py\n* keystoneclient/v3/contrib/endpoint_policy.py\n* keystoneclient/v3/contrib/oauth1/access_tokens.py\n* keystoneclient/v3/contrib/oauth1/request_tokens.py\n\nAdding request-id to below V3 contrib API's is covered in base patch\n[1] but this patch is specifically for V3 API's so covered their test\ncases in this patch.\n\n* keystoneclient/v3/contrib/endpoint_filter.py\n* keystoneclient/v3/contrib/federation/identity_providers.py\n* keystoneclient/v3/contrib/federation/mappings.py\n* keystoneclient/v3/contrib/federation/protocols.py\n* keystoneclient/v3/contrib/federation/service_providers.py\n\nThe methods in the resource class and resource manager return\na 'base.Response' class that has 'request_ids' property.\nThe caller can get request ids of the callee via that property.\n\nChange-Id: I5f90c31020e0dd672a160c7b587f41ba8f2b596c\nCo-authored-by: Dinesh Bhor <dinesh.bhor@nttdata.com>\nCo-authored-by: Ankit Agrawal <ankit11.agrawal@nttdata.com>\nImplements: blueprint return-request-id-to-caller\n""}, {'number': 16, 'created': '2018-02-23 02:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/f5fbe64abb86aec8bc39009bd31b697971b99c88', 'message': ""Add return-request-id-to-caller function(v3/contrib)\n\nAdded return-request-id-to-caller function tovresources and resource\nmanagers in the following files.\n\n* keystoneclient/v3/contrib/simple_cert.py\n* keystoneclient/v3/contrib/endpoint_policy.py\n* keystoneclient/v3/contrib/oauth1/access_tokens.py\n* keystoneclient/v3/contrib/oauth1/request_tokens.py\n\nAdding request-id to below V3 contrib API's is covered in base patch\n[1] but this patch is specifically for V3 API's so covered their test\ncases in this patch.\n\n* keystoneclient/v3/contrib/endpoint_filter.py\n* keystoneclient/v3/contrib/federation/identity_providers.py\n* keystoneclient/v3/contrib/federation/mappings.py\n* keystoneclient/v3/contrib/federation/protocols.py\n* keystoneclient/v3/contrib/federation/service_providers.py\n\nThe methods in the resource class and resource manager return\na 'base.Response' class that has 'request_ids' property.\nThe caller can get request ids of the callee via that property.\n\n[1] https://review.openstack.org/#/c/329913\n\nChange-Id: I5f90c31020e0dd672a160c7b587f41ba8f2b596c\nCo-authored-by: Dinesh Bhor <dinesh.bhor@nttdata.com>\nCo-authored-by: Ankit Agrawal <ankit11.agrawal@nttdata.com>\nImplements: blueprint return-request-id-to-caller\n""}, {'number': 17, 'created': '2018-10-19 19:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/072330cfb1bf4ff43c1c8013298fef3e64420a9d', 'message': ""Add return-request-id-to-caller function(v3/contrib)\n\nAdded return-request-id-to-caller function tovresources and resource\nmanagers in the following files.\n\n* keystoneclient/v3/contrib/simple_cert.py\n* keystoneclient/v3/contrib/endpoint_policy.py\n* keystoneclient/v3/contrib/oauth1/access_tokens.py\n* keystoneclient/v3/contrib/oauth1/request_tokens.py\n\nAdding request-id to below V3 contrib API's is covered in base patch\n[1] but this patch is specifically for V3 API's so covered their test\ncases in this patch.\n\n* keystoneclient/v3/contrib/endpoint_filter.py\n* keystoneclient/v3/contrib/federation/identity_providers.py\n* keystoneclient/v3/contrib/federation/mappings.py\n* keystoneclient/v3/contrib/federation/protocols.py\n* keystoneclient/v3/contrib/federation/service_providers.py\n\nThe methods in the resource class and resource manager return\na 'base.Response' class that has 'request_ids' property.\nThe caller can get request ids of the callee via that property.\n\n[1] https://review.openstack.org/#/c/329913\n\nChange-Id: I5f90c31020e0dd672a160c7b587f41ba8f2b596c\nCo-authored-by: Dinesh Bhor <dinesh.bhor@nttdata.com>\nCo-authored-by: Ankit Agrawal <ankit11.agrawal@nttdata.com>\nImplements: blueprint return-request-id-to-caller\n""}, {'number': 18, 'created': '2018-10-22 08:47:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/bc5c8b3dac860163cc939ea94d9dd291bebe44b1', 'message': ""Add return-request-id-to-caller function(v3/contrib)\n\nAdded return-request-id-to-caller function tovresources and resource\nmanagers in the following files.\n\n* keystoneclient/v3/contrib/simple_cert.py\n* keystoneclient/v3/contrib/endpoint_policy.py\n* keystoneclient/v3/contrib/oauth1/access_tokens.py\n* keystoneclient/v3/contrib/oauth1/request_tokens.py\n\nAdding request-id to below V3 contrib API's is covered in base patch\n[1] but this patch is specifically for V3 API's so covered their test\ncases in this patch.\n\n* keystoneclient/v3/contrib/endpoint_filter.py\n* keystoneclient/v3/contrib/federation/identity_providers.py\n* keystoneclient/v3/contrib/federation/mappings.py\n* keystoneclient/v3/contrib/federation/protocols.py\n* keystoneclient/v3/contrib/federation/service_providers.py\n\nThe methods in the resource class and resource manager return\na 'base.Response' class that has 'request_ids' property.\nThe caller can get request ids of the callee via that property.\n\n[1] https://review.openstack.org/#/c/329913\n\nChange-Id: I5f90c31020e0dd672a160c7b587f41ba8f2b596c\nCo-authored-by: Dinesh Bhor <dinesh.bhor@nttdata.com>\nCo-authored-by: Ankit Agrawal <ankit11.agrawal@nttdata.com>\nCo-authored-by: Neha Alhat <neha.alhat@nttdata.com>\nImplements: blueprint return-request-id-to-caller\n""}, {'number': 19, 'created': '2018-10-22 10:35:30.000000000', 'files': ['keystoneclient/tests/unit/v3/test_oauth1.py', 'keystoneclient/tests/unit/v3/test_simple_cert.py', 'keystoneclient/v3/contrib/simple_cert.py', 'keystoneclient/tests/unit/v3/test_projects.py', 'keystoneclient/tests/unit/v3/test_federation.py', 'keystoneclient/v3/contrib/endpoint_policy.py', 'keystoneclient/v3/contrib/oauth1/access_tokens.py', 'keystoneclient/tests/unit/v3/utils.py', 'keystoneclient/v3/contrib/oauth1/request_tokens.py'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/e7621bddc16de6371a05567a8ab23e7ccd67fba7', 'message': ""Add return-request-id-to-caller function(v3/contrib)\n\nAdded return-request-id-to-caller function tovresources and resource\nmanagers in the following files.\n\n* keystoneclient/v3/contrib/simple_cert.py\n* keystoneclient/v3/contrib/endpoint_policy.py\n* keystoneclient/v3/contrib/oauth1/access_tokens.py\n* keystoneclient/v3/contrib/oauth1/request_tokens.py\n\nAdding request-id to below V3 contrib API's is covered in base patch\n[1] but this patch is specifically for V3 API's so covered their test\ncases in this patch.\n\n* keystoneclient/v3/contrib/endpoint_filter.py\n* keystoneclient/v3/contrib/federation/identity_providers.py\n* keystoneclient/v3/contrib/federation/mappings.py\n* keystoneclient/v3/contrib/federation/protocols.py\n* keystoneclient/v3/contrib/federation/service_providers.py\n\nThe methods in the resource class and resource manager return\na 'base.Response' class that has 'request_ids' property.\nThe caller can get request ids of the callee via that property.\n\n[1] https://review.openstack.org/#/c/329913\n\nChange-Id: I5f90c31020e0dd672a160c7b587f41ba8f2b596c\nCo-authored-by: Dinesh Bhor <dinesh.bhor@nttdata.com>\nCo-authored-by: Ankit Agrawal <ankit11.agrawal@nttdata.com>\nCo-authored-by: Neha Alhat <neha.alhat@nttdata.com>\nImplements: blueprint return-request-id-to-caller\n""}]",12,268003,e7621bddc16de6371a05567a8ab23e7ccd67fba7,70,12,19,11704,,,0,"Add return-request-id-to-caller function(v3/contrib)

Added return-request-id-to-caller function tovresources and resource
managers in the following files.

* keystoneclient/v3/contrib/simple_cert.py
* keystoneclient/v3/contrib/endpoint_policy.py
* keystoneclient/v3/contrib/oauth1/access_tokens.py
* keystoneclient/v3/contrib/oauth1/request_tokens.py

Adding request-id to below V3 contrib API's is covered in base patch
[1] but this patch is specifically for V3 API's so covered their test
cases in this patch.

* keystoneclient/v3/contrib/endpoint_filter.py
* keystoneclient/v3/contrib/federation/identity_providers.py
* keystoneclient/v3/contrib/federation/mappings.py
* keystoneclient/v3/contrib/federation/protocols.py
* keystoneclient/v3/contrib/federation/service_providers.py

The methods in the resource class and resource manager return
a 'base.Response' class that has 'request_ids' property.
The caller can get request ids of the callee via that property.

[1] https://review.openstack.org/#/c/329913

Change-Id: I5f90c31020e0dd672a160c7b587f41ba8f2b596c
Co-authored-by: Dinesh Bhor <dinesh.bhor@nttdata.com>
Co-authored-by: Ankit Agrawal <ankit11.agrawal@nttdata.com>
Co-authored-by: Neha Alhat <neha.alhat@nttdata.com>
Implements: blueprint return-request-id-to-caller
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/03/268003/12 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneclient/tests/unit/v3/test_oauth1.py', 'keystoneclient/tests/unit/v3/test_simple_cert.py', 'keystoneclient/v3/contrib/simple_cert.py', 'keystoneclient/tests/unit/v3/test_endpoint_filter.py', 'keystoneclient/tests/unit/v3/test_endpoint_policy.py', 'keystoneclient/tests/unit/v3/test_federation.py', 'keystoneclient/v3/contrib/endpoint_policy.py', 'keystoneclient/v3/contrib/oauth1/access_tokens.py', 'keystoneclient/v3/contrib/oauth1/request_tokens.py']",9,87362e051535d5009deb61936ee96c80e257ad6b,bp/return-request-id-to-caller," return self.resource_class(self, token, resp=resp)"," return self.resource_class(self, token)",46,18
openstack%2Fplacement~master~Iefa8ad22dcb6a128293ea71ab77c377db56e8d70,openstack/placement,master,Iefa8ad22dcb6a128293ea71ab77c377db56e8d70,Allow placement to start without a config file,MERGED,2018-11-20 17:48:35.000000000,2018-11-29 20:33:26.000000000,2018-11-29 20:33:25.000000000,"[{'_account_id': 7}, {'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-20 17:48:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/138945b0a42df880c7fd1ec388c8650b882c0736', 'message': 'Allow placement to start without a config file\n\nWith oslo.config 6.7.0 configuration options may be found in environment\nvariables. Because of the small number of options that placement\nrequires to run it is straightforward to source all config from the\nenvironment, useful in container-based environments.\n\nHowever, prior to this change, placement-the-wsgi-app required that a\nconfiguration file existed, placement.conf, either in /etc/placement or\nin a custom directory.\n\nThis change makes it so that the placement.conf can be any of:\n\n* in the custom directory\n* in the default project locations (including /etc/placement)\n* nowhere\n\nThe change maintains the behavior that if\n[placement_database]/connection is not set the application will fail to\nstart.\n\nCloses-Bug: #1802925\nChange-Id: Iefa8ad22dcb6a128293ea71ab77c377db56e8d70\n'}, {'number': 2, 'created': '2018-11-20 23:56:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/184b188e29d340a8924bf02fe925d752d5e05ac3', 'message': 'Allow placement to start without a config file\n\nWith oslo.config 6.7.0 configuration options may be found in environment\nvariables. Because of the small number of options that placement\nrequires to run it is straightforward to source all config from the\nenvironment, useful in container-based environments.\n\nHowever, prior to this change, placement-the-wsgi-app required that a\nconfiguration file existed, placement.conf, either in /etc/placement or\nin a custom directory.\n\nThis change makes it so that the placement.conf can be any of:\n\n* in the custom directory\n* in the default project locations (including /etc/placement)\n* nowhere\n\nThe change maintains the behavior that if\n[placement_database]/connection is not set the application will fail to\nstart.\n\nCloses-Bug: #1802925\nChange-Id: Iefa8ad22dcb6a128293ea71ab77c377db56e8d70\n'}, {'number': 3, 'created': '2018-11-27 10:38:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/abf8e6c1d1403229c72f012a1ca69dc4a4d6c94b', 'message': 'Allow placement to start without a config file\n\nWith oslo.config 6.7.0 configuration options may be found in environment\nvariables. Because of the small number of options that placement\nrequires to run it is straightforward to source all config from the\nenvironment, useful in container-based environments.\n\nHowever, prior to this change, placement-the-wsgi-app required that a\nconfiguration file existed, placement.conf, either in /etc/placement or\nin a custom directory.\n\nThis change makes it so that the placement.conf can be any of:\n\n* in the custom directory\n* in the default project locations (including /etc/placement)\n* nowhere\n\nThe change maintains the behavior that if\n[placement_database]/connection is not set the application will fail to\nstart.\n\nCloses-Bug: #1802925\nChange-Id: Iefa8ad22dcb6a128293ea71ab77c377db56e8d70\n'}, {'number': 4, 'created': '2018-11-29 11:42:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/647f9ba2ff6ed9b1e29fb2fc16716b924daf06f3', 'message': 'Allow placement to start without a config file\n\nWith oslo.config 6.7.0 configuration options may be found in environment\nvariables. Because of the small number of options that placement\nrequires to run it is straightforward to source all config from the\nenvironment, useful in container-based environments.\n\nHowever, prior to this change, placement-the-wsgi-app required that a\nconfiguration file existed, placement.conf, either in /etc/placement or\nin a custom directory.\n\nThis change makes it so that the placement.conf can be any of:\n\n* in the custom directory\n* in the default project locations (including /etc/placement)\n* nowhere\n\nThe change maintains the behavior that if\n[placement_database]/connection is not set the application will fail to\nstart.\n\nCloses-Bug: #1802925\nChange-Id: Iefa8ad22dcb6a128293ea71ab77c377db56e8d70\n'}, {'number': 5, 'created': '2018-11-29 13:29:15.000000000', 'files': ['requirements.txt', 'placement/wsgi.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/placement/commit/324e4f44da372925b3fa44cbc6bd57f4deee6ba2', 'message': 'Allow placement to start without a config file\n\nWith oslo.config 6.7.0 configuration options may be found in environment\nvariables. Because of the small number of options that placement\nrequires to run it is straightforward to source all config from the\nenvironment, useful in container-based environments.\n\nHowever, prior to this change, placement-the-wsgi-app required that a\nconfiguration file existed, placement.conf, either in /etc/placement or\nin a custom directory.\n\nThis change makes it so that the placement.conf can be any of:\n\n* in the custom directory\n* in the default project locations (including /etc/placement)\n* nowhere\n\nThe change maintains the behavior that if\n[placement_database]/connection is not set the application will fail to\nstart.\n\nThough this change is orthogonal to the oslo.config change, requirements\nand lower-constraints are updated to ensure the desired behavior.\n\nCloses-Bug: #1802925\nChange-Id: Iefa8ad22dcb6a128293ea71ab77c377db56e8d70\n'}]",4,619049,324e4f44da372925b3fa44cbc6bd57f4deee6ba2,21,4,5,11564,,,0,"Allow placement to start without a config file

With oslo.config 6.7.0 configuration options may be found in environment
variables. Because of the small number of options that placement
requires to run it is straightforward to source all config from the
environment, useful in container-based environments.

However, prior to this change, placement-the-wsgi-app required that a
configuration file existed, placement.conf, either in /etc/placement or
in a custom directory.

This change makes it so that the placement.conf can be any of:

* in the custom directory
* in the default project locations (including /etc/placement)
* nowhere

The change maintains the behavior that if
[placement_database]/connection is not set the application will fail to
start.

Though this change is orthogonal to the oslo.config change, requirements
and lower-constraints are updated to ensure the desired behavior.

Closes-Bug: #1802925
Change-Id: Iefa8ad22dcb6a128293ea71ab77c377db56e8d70
",git fetch https://review.opendev.org/openstack/placement refs/changes/49/619049/5 && git format-patch -1 --stdout FETCH_HEAD,['placement/wsgi.py'],1,138945b0a42df880c7fd1ec388c8650b882c0736,bug/1802925," dirname = env.get('OS_PLACEMENT_CONFIG_DIR', '').strip() if dirname: return [os.path.join(dirname, CONFIG_FILE)] else: return [] # This will raise cfg.RequiredOptError when a required option is not set # (notably the database connection string). We this to be a hard fail that # prevents the application from starting. The error will show up in the # wsgi server's logs. _parse_args([], default_config_files=conffile)"," dirname = env.get('OS_PLACEMENT_CONFIG_DIR', '/etc/placement').strip() return os.path.join(dirname, CONFIG_FILE) # This will raise cfg.ConfigFilesNotFoundError and cfg.RequiredOptError # when either conffile is not there or some required option is not set # (notably the database connection string). We want both of these to # be a hard fail and prevent the application from starting so we hard # fail here. The error will show up in the wsgi server's logs and the # app will not start. _parse_args([], default_config_files=[conffile])",10,9
openstack%2Fpython-zunclient~stable%2Fqueens~I93a4ec8804e74e17c478f2ee2ecf9b3402fcbd3f,openstack/python-zunclient,stable/queens,I93a4ec8804e74e17c478f2ee2ecf9b3402fcbd3f,Introduce gate_hook.sh in zunclient,MERGED,2018-11-29 03:10:03.000000000,2018-11-29 20:33:25.000000000,2018-11-29 20:33:25.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-29 03:10:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/26e493458a752b80e586814840fd5c614fe6f802', 'message': 'Re-introduce gate_hook.sh in zunclient\n\nThe script gate_hook.sh was removed at Zun side [1] as part of\nthe effort for migrating to zuul v3 native job. However, zunclient\nstill need this script and the removal causes the failure of the\nCI. This patch re-introduce the script at zunclient as a temporary\nfix. The long-term fix is to migrate the job to zuul v3 native\nas well.\n\n[1] https://review.openstack.org/#/c/512209/\n\nChange-Id: I93a4ec8804e74e17c478f2ee2ecf9b3402fcbd3f\n(cherry picked from commit d6448c622b57f574ebfdaa24634b3602d290c051)\n'}, {'number': 2, 'created': '2018-11-29 03:17:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/d93402666013cc6af0f3658155bd7a3aa7bc0999', 'message': 'Introduce gate_hook.sh in zunclient\n\nZunclient is using the script gate_hook.sh located at Zun side.\nHowever, this script causes the failure of the CI.\nThis patch copies the script to zunclient and modifies it to fix\nthe CI.\n\nChange-Id: I93a4ec8804e74e17c478f2ee2ecf9b3402fcbd3f\n(cherry picked from commit d6448c622b57f574ebfdaa24634b3602d290c051)\n'}, {'number': 3, 'created': '2018-11-29 03:18:13.000000000', 'files': ['playbooks/zunclient-devstack-docker-sql/run.yaml', 'zunclient/tests/functional/hooks/gate_hook.sh'], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/27829641dfd4425bb85e7cb5039071fcb8fdb4f6', 'message': 'Introduce gate_hook.sh in zunclient\n\nZunclient is using the script gate_hook.sh located at Zun side.\nHowever, this script causes the failure of the CI.\nThis patch copies the script to zunclient and modifies it to disable\ndevstack gate tempest to fix the CI.\n\nChange-Id: I93a4ec8804e74e17c478f2ee2ecf9b3402fcbd3f\n(cherry picked from commit d6448c622b57f574ebfdaa24634b3602d290c051)\n'}]",0,620772,27829641dfd4425bb85e7cb5039071fcb8fdb4f6,12,2,3,11536,,,0,"Introduce gate_hook.sh in zunclient

Zunclient is using the script gate_hook.sh located at Zun side.
However, this script causes the failure of the CI.
This patch copies the script to zunclient and modifies it to disable
devstack gate tempest to fix the CI.

Change-Id: I93a4ec8804e74e17c478f2ee2ecf9b3402fcbd3f
(cherry picked from commit d6448c622b57f574ebfdaa24634b3602d290c051)
",git fetch https://review.opendev.org/openstack/python-zunclient refs/changes/72/620772/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/zunclient-devstack-docker-sql/run.yaml', 'zunclient/tests/functional/hooks/gate_hook.sh']",2,26e493458a752b80e586814840fd5c614fe6f802,,"#!/bin/bash -x # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # This script is executed inside gate_hook function in devstack gate. # Keep all devstack settings here instead of project-config for easy # maintain if we want to change devstack config settings in future. driver=$1 db=$2 export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin kuryr-libnetwork https://git.openstack.org/openstack/kuryr-libnetwork"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin devstack-plugin-container https://git.openstack.org/openstack/devstack-plugin-container"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""ZUN_USE_UWSGI=True"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""KURYR_CONFIG_DIR=/etc/kuryr-libnetwork"" export DEVSTACK_GATE_TEMPEST=1 export DEVSTACK_GATE_TEMPEST_ALL_PLUGINS=1 export DEVSTACK_GATE_TEMPEST_REGEX=""zun_tempest_plugin.tests.tempest.api"" if [ ""$driver"" = ""docker"" ]; then export DEVSTACK_LOCAL_CONFIG+=$'\n'""ZUN_DRIVER=docker"" fi if [ ""$db"" = ""etcd"" ]; then export DEVSTACK_LOCAL_CONFIG+=$'\n'""ZUN_DB_TYPE=etcd"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""KURYR_ETCD_PORT=2379"" elif [ ""$db"" = ""sql"" ]; then export DEVSTACK_LOCAL_CONFIG+=$'\n'""ZUN_DB_TYPE=sql"" fi $BASE/new/devstack-gate/devstack-vm-gate.sh gate_retval=$? # Copy over docker systemd unit journals. mkdir -p $WORKSPACE/logs sudo journalctl -o short-precise --unit docker | sudo tee $WORKSPACE/logs/docker.txt > /dev/null exit $gate_retval ",,52,2
openstack%2Frally-openstack~master~Icdbf5e2ae542a1f0180b903e7651983b46c9bee9,openstack/rally-openstack,master,Icdbf5e2ae542a1f0180b903e7651983b46c9bee9,Add scenarios for octavia,ABANDONED,2018-11-06 16:10:45.000000000,2018-11-29 19:51:27.000000000,,"[{'_account_id': 24}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-06 16:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/8ded0d561997f7010fde440afe2f7f185dd0ed4e', 'message': 'Add scenarios for octavia\n\nAdd create and delete loadbalancers scenario.\n\nChange-Id: Icdbf5e2ae542a1f0180b903e7651983b46c9bee9\nSigned-off-by: Chuck Short <chucks@redhat.com>\n'}, {'number': 2, 'created': '2018-11-06 16:47:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/6e57e4de1847254baffe5e950921ac0093a930e5', 'message': 'Add scenarios for octavia\n\nAdd create and delete loadbalancers scenario.\n\nChange-Id: Icdbf5e2ae542a1f0180b903e7651983b46c9bee9\nSigned-off-by: Chuck Short <chucks@redhat.com>\n'}, {'number': 3, 'created': '2018-11-07 14:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/7dfeda7be3eba3e8ebfed22acba5dc8a1f61aeda', 'message': 'Add scenarios for octavia\n\nAdd create and delete loadbalancers scenario.\n\nAlso clean up some pep8 errors.\n\nChange-Id: Icdbf5e2ae542a1f0180b903e7651983b46c9bee9\nSigned-off-by: Chuck Short <chucks@redhat.com>\n'}, {'number': 4, 'created': '2018-11-07 16:19:17.000000000', 'files': ['tests/unit/scenarios/loadbalancer/test_loadbalancers.py', 'rally_openstack/cleanup/resources.py', 'rally-jobs/load-balancing.yaml', 'rally_openstack/scenarios/octavia/loadbalancers.py', 'samples/tasks/scenarios/octavia/octavia-create-and-delete-loadbalancers.yaml', 'samples/tasks/scenarios/octavia/octavia-create-and-delete-loadbalancers.json'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/4617dbccd696d2e4fac336dde87f16c00f914fb3', 'message': 'Add scenarios for octavia\n\nAdd create and delete loadbalancers scenario.\n\nAlso clean up some pep8 errors.\n\nChange-Id: Icdbf5e2ae542a1f0180b903e7651983b46c9bee9\nSigned-off-by: Chuck Short <chucks@redhat.com>\n'}]",0,615922,4617dbccd696d2e4fac336dde87f16c00f914fb3,9,2,4,24,,,0,"Add scenarios for octavia

Add create and delete loadbalancers scenario.

Also clean up some pep8 errors.

Change-Id: Icdbf5e2ae542a1f0180b903e7651983b46c9bee9
Signed-off-by: Chuck Short <chucks@redhat.com>
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/22/615922/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/scenarios/loadbalancer/test_loadbalancers.py', 'rally_openstack/scenarios/octavia/loadbalancers.py', 'samples/tasks/scenarios/octavia/octavia-create-and-delete-loadbalancers.yaml', 'samples/tasks/scenarios/octavia/octavia-create-and-delete-loadbalancers.json']",4,8ded0d561997f7010fde440afe2f7f185dd0ed4e,,"{ ""Octavia.create_and_delete_loadbalancers"": [ { ""runner"": { ""type"": ""constant"", ""times"": 5, ""concurrency"": 2 }, ""context"": { ""users"": { ""tenants"": 2, ""users_per_tenant"": 2 }, ""roles"": [""load-balancer_member""], ""network"": {} }, ""sla"": { ""failure_rate"": { ""max"": 0 } } } ] } ",,85,1
openstack%2Frally-openstack~master~I0ed423f05ff391b284414c7132786cec8b773770,openstack/rally-openstack,master,I0ed423f05ff391b284414c7132786cec8b773770,barbican: Add arguments to create secret name,ABANDONED,2018-11-05 00:13:08.000000000,2018-11-29 19:51:06.000000000,,"[{'_account_id': 24}, {'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-05 00:13:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/fc6e304ffc6ba98a62ede1ca854f35b1c00453a2', 'message': 'barbican: Add arguments to create secret/payload\n\nAdd arguments to allow the user to create the secret\nand payload\n\nChange-Id: I0ed423f05ff391b284414c7132786cec8b773770\nSigned-off-by: Chuck Short <chucks@redhat.com>\n'}, {'number': 2, 'created': '2018-11-14 20:25:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/27c5942f52be7a8d46213423aedcd1648e64f41a', 'message': 'barbican: Add arguments to create secret name\n\nAdd arguments to allow the user to create the secret name.\n\nChange-Id: I0ed423f05ff391b284414c7132786cec8b773770\nSigned-off-by: Chuck Short <chucks@redhat.com>\n'}, {'number': 3, 'created': '2018-11-15 14:03:00.000000000', 'files': ['rally_openstack/scenarios/barbican/secrets.py', 'rally_openstack/services/key_manager/barbican.py', 'samples/tasks/scenarios/barbican/create-and-get-secret.yaml', 'samples/tasks/contexts/key-manager.yaml', 'samples/tasks/scenarios/barbican/create-and-delete-secret.json', 'tests/unit/services/barbican/test_secrets.py', 'samples/tasks/scenarios/barbican/create-and-get-secret.json', 'samples/tasks/scenarios/barbican/create-and-list-secret.json', 'rally_openstack/contexts/barbican/__init__.py', 'samples/tasks/scenarios/barbican/create-and-delete-secret.yaml', 'samples/tasks/scenarios/barbican/create-and-list-secret.yaml', 'samples/tasks/contexts/key-manager.json', 'samples/tasks/scenarios/barbican/create-secret.yaml', 'rally_openstack/contexts/barbican/secrets.py', 'samples/tasks/scenarios/barbican/create-secret.json', 'tests/unit/scenarios/barbican/test_secrets.py', 'rally-jobs/barbican.yaml'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/9d6a79bc6d1d6eb599bc35adfdd5c715fdd8a52f', 'message': 'barbican: Add arguments to create secret name\n\nAdd arguments to allow the user to create the secret name.\n\nChange-Id: I0ed423f05ff391b284414c7132786cec8b773770\nSigned-off-by: Chuck Short <chucks@redhat.com>\n'}]",8,615454,9d6a79bc6d1d6eb599bc35adfdd5c715fdd8a52f,11,3,3,24,,,0,"barbican: Add arguments to create secret name

Add arguments to allow the user to create the secret name.

Change-Id: I0ed423f05ff391b284414c7132786cec8b773770
Signed-off-by: Chuck Short <chucks@redhat.com>
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/54/615454/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally_openstack/contexts/barbican/secrets.py', 'rally_openstack/scenarios/barbican/secrets.py', 'rally_openstack/services/key_manager/barbican.py', 'samples/tasks/contexts/key-manager.yaml', 'rally_openstack/contexts/barbican/__init__.py', 'samples/tasks/scenarios/barbican/create-and-delete-secret.yaml', 'samples/tasks/contexts/key-manager.json']",7,fc6e304ffc6ba98a62ede1ca854f35b1c00453a2,barbican-payload,"{ ""Dummy.openstack"": [ { ""args"": { ""sleep"": 0.1 }, ""runner"": { ""type"": ""constant"", ""times"": 4, ""concurrency"": 2 }, ""context"": { ""users"": { ""tenants"": 1, ""users_per_tenant"": 2 }, ""key_manager"": { ""secret"": ""secret"", ""payload"": ""rally_data"", ""secret_per_tenant"": 4 } } } ] } ",,126,7
openstack%2Fdevstack~stable%2Fqueens~I24b1ac8e773c12675e6b723e646e9e3558ff74e1,openstack/devstack,stable/queens,I24b1ac8e773c12675e6b723e646e9e3558ff74e1,Correct configuration setting using NUMBER_FAKE_NOVA_COMPUTE,ABANDONED,2018-11-19 20:38:57.000000000,2018-11-29 19:36:49.000000000,,"[{'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 22680}]","[{'number': 1, 'created': '2018-11-19 20:38:57.000000000', 'files': ['functions', 'lib/nova'], 'web_link': 'https://opendev.org/openstack/devstack/commit/c4748087134c9626bd94ec78eeea54648ae2185c', 'message': ""Correct configuration setting using NUMBER_FAKE_NOVA_COMPUTE\n\nIn Change-Id Ia3843818014f7c6c7526ef3aa9676bbddb8a85ca the 'host'\nsetting used for each of the fake compute hosts was accidentally named\n'nhost' ('\\nhost' was edited poorly), so the setting doesn't actually do\nanything: you create multiple nova-compute processes they think they are\nall on the same host and only one hypervisor and resource provider is\ncreated.\n\nWith the correction in place, the wait_for_compute function needs to be\nupdated to be aware of the fact that the hostnames on the compute\nservices will have a numeric prefix when the fake virt driver is used.\n\nChange-Id: I24b1ac8e773c12675e6b723e646e9e3558ff74e1\n""}]",2,618826,c4748087134c9626bd94ec78eeea54648ae2185c,11,6,1,22680,,,0,"Correct configuration setting using NUMBER_FAKE_NOVA_COMPUTE

In Change-Id Ia3843818014f7c6c7526ef3aa9676bbddb8a85ca the 'host'
setting used for each of the fake compute hosts was accidentally named
'nhost' ('\nhost' was edited poorly), so the setting doesn't actually do
anything: you create multiple nova-compute processes they think they are
all on the same host and only one hypervisor and resource provider is
created.

With the correction in place, the wait_for_compute function needs to be
updated to be aware of the fact that the hostnames on the compute
services will have a numeric prefix when the fake virt driver is used.

Change-Id: I24b1ac8e773c12675e6b723e646e9e3558ff74e1
",git fetch https://review.opendev.org/openstack/devstack refs/changes/26/618826/1 && git format-patch -1 --stdout FETCH_HEAD,"['functions', 'lib/nova']",2,c4748087134c9626bd94ec78eeea54648ae2185c,," iniset $fake_conf DEFAULT host ""${HOSTNAME}${i}"""," iniset $fake_conf DEFAULT nhost ""${HOSTNAME}${i}""",7,2
openstack%2Fneutron~master~Idf185d8012e6f53e24d5e6585ffc70e923bd9c80,openstack/neutron,master,Idf185d8012e6f53e24d5e6585ffc70e923bd9c80,Add release note for uplink status propagation,ABANDONED,2018-11-27 23:55:11.000000000,2018-11-29 19:36:12.000000000,,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-11-27 23:55:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ce015e6b72518e35083030f6d0d9a9f19ee63b1d', 'message': 'Add release note for uplink status propagation\n\nImplementation: https://review.openstack.org/#/c/571899/\n\nChange-Id: Idf185d8012e6f53e24d5e6585ffc70e923bd9c80\nRelated-Bug: #1722720\n'}, {'number': 2, 'created': '2018-11-28 19:21:22.000000000', 'files': ['releasenotes/notes/add-propagate_uplink_status-to-port-f4e53395e86eb3cb.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e94c9a999f0a226bc67827c57164c5bc250b0faa', 'message': 'Add release note for uplink status propagation\n\nImplementation: https://review.openstack.org/#/c/571899/\n\nChange-Id: Idf185d8012e6f53e24d5e6585ffc70e923bd9c80\nRelated-Bug: #1722720\n'}]",8,620425,e94c9a999f0a226bc67827c57164c5bc250b0faa,12,6,2,27654,,,0,"Add release note for uplink status propagation

Implementation: https://review.openstack.org/#/c/571899/

Change-Id: Idf185d8012e6f53e24d5e6585ffc70e923bd9c80
Related-Bug: #1722720
",git fetch https://review.opendev.org/openstack/neutron refs/changes/25/620425/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/add-propagate_uplink_status-to-port-f4e53395e86eb3cb.yaml'],1,ce015e6b72518e35083030f6d0d9a9f19ee63b1d,bug/1722720,"--- features: - | Introduce an attribute ``propagate_uplink_status`` to port. Right now, SRIOV mechanism driver leverages this attribute to decide if the VF link should follow the state of the PF. For example, if the PF is down, the VF link state is automatically set to down as well. The API extension ``uplink_status_propagation`` is introduced to indicate if this feature is supported. other: - | This feature can be turned on via configuration:: [ml2] extension_drivers = uplink_status_propagation ",,16,0
openstack%2Fironic-inspector~stable%2Fqueens~I8716a69586265a58520cc2c6bc0bbc00a7c159da,openstack/ironic-inspector,stable/queens,I8716a69586265a58520cc2c6bc0bbc00a7c159da,Handle validation failure if not all switch fields received,MERGED,2018-11-27 00:37:14.000000000,2018-11-29 19:34:15.000000000,2018-11-29 19:34:14.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-27 00:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/29335205e9e7db9f097124f8fd9a4af1ac11cf75', 'message': 'Handle validation failure if not all switch fields received\n\nThe Ironic API has a validation on the LocalLinkConnectionType to\nensure all mandatory values are included. Handle failures which\ncould occur if the switch does not send all mandatory fields.\n\nChange-Id: I8716a69586265a58520cc2c6bc0bbc00a7c159da\nStory: 2004238\nTask: 27761\n(cherry picked from commit 7703aab662db2de8e8fd75d739a923637c3d111f)\n(cherry picked from commit b235c9fee6df4627bdf7c2e85633e15d7884bb2b)\n'}, {'number': 2, 'created': '2018-11-27 15:36:34.000000000', 'files': ['ironic_inspector/test/unit/test_plugins_local_link_connection.py', 'releasenotes/notes/handle-patch-port-failure-9a8b85749104506f.yaml', 'ironic_inspector/plugins/local_link_connection.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/c9b739a9321fd677be6152c535069d880aa35a09', 'message': 'Handle validation failure if not all switch fields received\n\nThe Ironic API has a validation on the LocalLinkConnectionType to\nensure all mandatory values are included. Handle failures which\ncould occur if the switch does not send all mandatory fields.\n\nChange-Id: I8716a69586265a58520cc2c6bc0bbc00a7c159da\nStory: 2004238\nTask: 27761\n(cherry picked from commit b235c9fee6df4627bdf7c2e85633e15d7884bb2b)\n'}]",0,620187,c9b739a9321fd677be6152c535069d880aa35a09,9,3,2,21909,,,0,"Handle validation failure if not all switch fields received

The Ironic API has a validation on the LocalLinkConnectionType to
ensure all mandatory values are included. Handle failures which
could occur if the switch does not send all mandatory fields.

Change-Id: I8716a69586265a58520cc2c6bc0bbc00a7c159da
Story: 2004238
Task: 27761
(cherry picked from commit b235c9fee6df4627bdf7c2e85633e15d7884bb2b)
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/87/620187/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/test/unit/test_plugins_local_link_connection.py', 'releasenotes/notes/handle-patch-port-failure-9a8b85749104506f.yaml', 'ironic_inspector/plugins/local_link_connection.py']",3,29335205e9e7db9f097124f8fd9a4af1ac11cf75,1645571-stable/rocky-stable/queens,"from ironicclient import exceptions try: node_info.patch_port(port, patches) except exceptions.BadRequest as e: LOG.warning(""Failed to update port %(uuid)s: %(error)s"", {'uuid': port.uuid, 'error': e}, node_info=node_info)"," node_info.patch_port(port, patches)",31,1
openstack%2Fopenstacksdk~master~Ib3f8b45e1534198f1e03223c20348fb604a91a59,openstack/openstacksdk,master,Ib3f8b45e1534198f1e03223c20348fb604a91a59,Add CRUD methods for Neutron Port Forwarding,MERGED,2018-11-08 22:52:51.000000000,2018-11-29 19:31:46.000000000,2018-11-29 19:31:46.000000000,"[{'_account_id': 2}, {'_account_id': 10239}, {'_account_id': 11975}, {'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2018-11-08 22:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6b51daa42832cfed31f356ae0e3ddf754a7f08e2', 'message': ""Add CRUD methods for Neutron Port Forwarding\n\nIt's still WIP. I need to finish that.\n\nChange-Id: Ib3f8b45e1534198f1e03223c20348fb604a91a59\n""}, {'number': 2, 'created': '2018-11-09 22:56:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5322b4f6822aacd5d775b4f612f8c8bb0db2128e', 'message': 'Add CRUD methods for Neutron Port Forwarding\n\nFloating IP port forwarding API was implemented in\nNeutron in Rocky.\nThis patch adds support for it in SDK.\n\nChange-Id: Ib3f8b45e1534198f1e03223c20348fb604a91a59\n'}, {'number': 3, 'created': '2018-11-09 23:51:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/866386ce2610dfe306ee2c617d98bc92705e2a66', 'message': 'Add CRUD methods for Neutron Port Forwarding\n\nFloating IP port forwarding API was implemented in\nNeutron in Rocky.\nThis patch adds support for it in SDK.\n\nDepends-On: https://review.openstack.org/617045\nChange-Id: Ib3f8b45e1534198f1e03223c20348fb604a91a59\n'}, {'number': 4, 'created': '2018-11-10 08:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/cc33aaa84b182ec1d96de38f4961fbab43968e7b', 'message': 'Add CRUD methods for Neutron Port Forwarding\n\nFloating IP port forwarding API was implemented in\nNeutron in Rocky.\nThis patch adds support for it in SDK.\n\nDepends-On: https://review.openstack.org/617045\nChange-Id: Ib3f8b45e1534198f1e03223c20348fb604a91a59\n'}, {'number': 5, 'created': '2018-11-26 20:55:17.000000000', 'files': ['openstack/network/v2/_proxy.py', 'openstack/tests/unit/network/v2/test_port_forwarding.py', '.zuul.yaml', 'openstack/network/v2/port_forwarding.py', 'openstack/tests/functional/network/v2/test_port_forwarding.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9b29b8871998141c81964d7942b2681b42fd60af', 'message': 'Add CRUD methods for Neutron Port Forwarding\n\nFloating IP port forwarding API was implemented in\nNeutron in Rocky.\nThis patch adds support for it in SDK.\n\nDepends-On: https://review.openstack.org/617045\nChange-Id: Ib3f8b45e1534198f1e03223c20348fb604a91a59\n'}]",7,616710,9b29b8871998141c81964d7942b2681b42fd60af,26,6,5,11975,,,0,"Add CRUD methods for Neutron Port Forwarding

Floating IP port forwarding API was implemented in
Neutron in Rocky.
This patch adds support for it in SDK.

Depends-On: https://review.openstack.org/617045
Change-Id: Ib3f8b45e1534198f1e03223c20348fb604a91a59
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/10/616710/4 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/network/v2/_proxy.py', 'openstack/network/v2/port_forwarding.py', 'openstack/tests/functional/network/v2/test_port_forwarding.py']",3,6b51daa42832cfed31f356ae0e3ddf754a7f08e2,port_forwarding,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from openstack.network.v2 import floating_ip from openstack.network.v2 import network from openstack.network.v2 import port_forwarding as _port_forwarding from openstack.network.v2 import port from openstack.network.v2 import router from openstack.network.v2 import subnet from openstack.tests.functional import base class TestPortForwarding(base.BaseFunctionalTest): IPV4 = 4 FIP_ID = None EXT_CIDR = ""10.100.0.0/24"" INT_CIDR = ""10.101.0.0/24"" EXT_NET_ID = None INT_NET_ID = None EXT_SUB_ID = None INT_SUB_ID = None ROT_ID = None INTERNAL_PORT_ID = None INTERNAL_IP_ADDRESS = None INTERNAL_PORT = 8080 EXTERNAL_PORT = 80 PROTOCOL = ""tcp"" def setUp(self): super(TestPortForwarding, self).setUp() self.ROT_NAME = self.getUniqueString() self.EXT_NET_NAME = self.getUniqueString() self.EXT_SUB_NAME = self.getUniqueString() self.INT_NET_NAME = self.getUniqueString() self.INT_SUB_NAME = self.getUniqueString() # Create Exeternal Network args = {'router:external': True} net = self._create_network(self.EXT_NET_NAME, **args) self.EXT_NET_ID = net.id sub = self._create_subnet( self.EXT_SUB_NAME, self.EXT_NET_ID, self.EXT_CIDR) self.EXT_SUB_ID = sub.id # Create Internal Network net = self._create_network(self.INT_NET_NAME) self.INT_NET_ID = net.id sub = self._create_subnet( self.INT_SUB_NAME, self.INT_NET_ID, self.INT_CIDR) self.INT_SUB_ID = sub.id # Create Router args = {'external_gateway_info': {'network_id': self.EXT_NET_ID}} sot = self.conn.network.create_router(name=self.ROT_NAME, **args) assert isinstance(sot, router.Router) self.assertEqual(self.ROT_NAME, sot.name) self.ROT_ID = sot.id self.ROT = sot # Add Router's Interface to Internal Network sot = self.ROT.add_interface( self.conn.network, subnet_id=self.INT_SUB_ID) self.assertEqual(sot['subnet_id'], self.INT_SUB_ID) # Create Port in Internal Network prt = self.conn.network.create_port(network_id=self.INT_NET_ID) assert isinstance(prt, port.Port) self.INTERNAL_PORT_ID = prt.id self.INTERNAL_IP_ADDRESS = prt.fixed_ips[0]['ip_address'] # Create Floating IP. fip = self.conn.network.create_ip( floating_network_id=self.EXT_NET_ID) assert isinstance(fip, floating_ip.FloatingIP) self.FIP_ID = fip.id # Create Port Forwarding pf = self.conn.network.create_port_forwarding( floatingip_id=self.FIP_ID, internal_port_id=self.INTERNAL_PORT_ID, internal_ip_address=self.INTERNAL_IP_ADDRESS, internal_port=self.INTERNAL_PORT, external_port=self.EXTERNAL_PORT, protocol=self.PROTOCOL) assert isinstance(pf, port_forwarding.PortForwarding) self.PF = pf def tearDown(self): sot = self.conn.network.delete_port_forwarding( self.PF, self.FIP_ID, ignore_missing=False) self.assertIsNone(sot) sot = self.conn.network.delete_ip(self.FIP_ID, ignore_missing=False) self.assertIsNone(sot) sot = self.conn.network.delete_port( self.INTERNAL_PORT_ID, ignore_missing=False) self.assertIsNone(sot) sot = self.ROT.remove_interface( self.conn.network, subnet_id=self.INT_SUB_ID) self.assertEqual(sot['subnet_id'], self.INT_SUB_ID) sot = self.conn.network.delete_router( self.ROT_ID, ignore_missing=False) self.assertIsNone(sot) sot = self.conn.network.delete_subnet( self.EXT_SUB_ID, ignore_missing=False) self.assertIsNone(sot) sot = self.conn.network.delete_network( self.EXT_NET_ID, ignore_missing=False) self.assertIsNone(sot) sot = self.conn.network.delete_subnet( self.INT_SUB_ID, ignore_missing=False) self.assertIsNone(sot) sot = self.conn.network.delete_network( self.INT_NET_ID, ignore_missing=False) self.assertIsNone(sot) super(TestPortForwarding, self).tearDown() def _create_network(self, name, **args): self.name = name net = self.conn.network.create_network(name=name, **args) assert isinstance(net, network.Network) self.assertEqual(self.name, net.name) return net def _create_subnet(self, name, net_id, cidr): self.name = name self.net_id = net_id self.cidr = cidr sub = self.conn.network.create_subnet( name=self.name, ip_version=self.IPV4, network_id=self.net_id, cidr=self.cidr) assert isinstance(sub, subnet.Subnet) self.assertEqual(self.name, sub.name) return sub def test_find(self): sot = self.conn.network.find_port_forwarding( self.PF.port_forwarding_id, self.FIP_ID) self.assertEqual(self.INTERNAL_PORT_ID, sot.internal_port_id) self.assertEqual(self.INTERNAL_IP_ADDRESS, sot.internal_ip_address) self.assertEqual(self.INTERNAL_PORT, sot.internal_port) self.assertEqual(self.EXTERNAL_PORT, sot.external_port) self.assertEqual(self.PROTOCOL, sot.PROTOCOL) def test_get(self): sot = self.conn.network.get_port_forwarding( self.PF, self.FIP_ID) self.assertEqual(self.INTERNAL_PORT_ID, sot.internal_port_id) self.assertEqual(self.INTERNAL_IP_ADDRESS, sot.internal_ip_address) self.assertEqual(self.INTERNAL_PORT, sot.internal_port) self.assertEqual(self.EXTERNAL_PORT, sot.external_port) self.assertEqual(self.PROTOCOL, sot.PROTOCOL) def test_list(self): pf_ids = [o.port_forwarding_id for o in self.conn.network.port_forwardings(self.FIP_ID)] self.assertIn(self.PF.port_forwarding_ip, pf_ids) def test_update(self): NEW_EXTERNAL_PORT = 90 sot = self.conn.network.update_port_forwarding( self.PF.port_forwarding_id, self.FIP_ID, external_port=NEW_EXTERNAL_PORT) self.assertEqual(NEW_EXTERNAL_PORT, sot.external_port) ",,327,0
openstack%2Fpuppet-ceph~master~Ia6c2a3aa09ce8fd5a6d9c7c687c98134f27bbeb9,openstack/puppet-ceph,master,Ia6c2a3aa09ce8fd5a6d9c7c687c98134f27bbeb9,Remove ceph::rgw::apache_fastcgi,MERGED,2018-11-24 13:15:21.000000000,2018-11-29 19:21:20.000000000,2018-11-29 19:21:20.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-24 13:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/34eafb11f1c6142e8364f5d385ce67d1d91e3929', 'message': 'Remove ceph::rgw::apache_fastcgi\n\nThis class has been deprecated since many\nreleases back.\n\nChange-Id: Ia6c2a3aa09ce8fd5a6d9c7c687c98134f27bbeb9\n'}, {'number': 2, 'created': '2018-11-24 15:17:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/1e7703b9c78eefaed1e791ed3c6847dff805f1c9', 'message': 'Remove ceph::rgw::apache_fastcgi\n\nThis class has been deprecated since many\nreleases back.\n\nChange-Id: Ia6c2a3aa09ce8fd5a6d9c7c687c98134f27bbeb9\n'}, {'number': 3, 'created': '2018-11-24 18:22:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/c90ca12a867a44f047c75fc85f501eb78b494ba2', 'message': 'Remove ceph::rgw::apache_fastcgi\n\nThis class has been deprecated since many\nreleases back.\n\nChange-Id: Ia6c2a3aa09ce8fd5a6d9c7c687c98134f27bbeb9\n'}, {'number': 4, 'created': '2018-11-24 22:20:15.000000000', 'files': ['releasenotes/notes/remove-fcgi-f5651dfd6538fdd3.yaml', 'spec/defines/ceph_rgw_keystone_spec.rb', 'spec/defines/ceph_rgw_apache_fastcgi_spec.rb', 'manifests/rgw/apache_fastcgi.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/e77cead2ef9f3669b9dbd65229f4c01e28d13615', 'message': 'Remove ceph::rgw::apache_fastcgi\n\nThis class has been deprecated since many\nreleases back.\n\nChange-Id: Ia6c2a3aa09ce8fd5a6d9c7c687c98134f27bbeb9\n'}]",0,619881,e77cead2ef9f3669b9dbd65229f4c01e28d13615,25,4,4,16137,,,0,"Remove ceph::rgw::apache_fastcgi

This class has been deprecated since many
releases back.

Change-Id: Ia6c2a3aa09ce8fd5a6d9c7c687c98134f27bbeb9
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/81/619881/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-fcgi-f5651dfd6538fdd3.yaml', 'spec/defines/ceph_rgw_apache_fastcgi_spec.rb', 'manifests/rgw/apache_fastcgi.pp']",3,34eafb11f1c6142e8364f5d385ce67d1d91e3929,remove-fcgi,,"# # Copyright (C) 2014 Catalyst IT Limited. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # # Author: Ricardo Rocha <ricardo@catalyst.net.nz> # # Configures a ceph radosgw apache frontend with mod_fastcgi. # ## == Define: ceph::rgw::apache_fastcgi # # The RGW id. An alphanumeric string uniquely identifying the RGW. # ( example: radosgw.gateway ) # ### == Parameters # # [*admin_email*] Admin email for the radosgw reports. # Optional. Default is 'root@localhost'. # # [*docroot*] Location of the apache docroot. # Optional. Default is '/var/www'. # # [*fcgi_file*] Path to the fcgi file. # Optional. Default is '/var/www/s3gw.cgi'. # # [*rgw_port*] Port the rados gateway listens. # Optional. Default is 80. # # [*rgw_dns_name*] Hostname to use for the service. # Optional. Default is $fqdn. # # [*rgw_socket_path*] Path to socket file. # Optional. Default is '/tmp/radosgw.sock'. # # [*syslog*] Whether or not to log to syslog. # Optional. Default is true. # # [*ceph_apache_repo*] Whether to require the CEPH apache repo (ceph::repo::fastcgi). # Optional. Default is true. Check: # http://docs.ceph.com/docs/master/install/install-ceph-gateway/ # for more info on repository recommendations. # # [*apache_mods*] Whether to configure and enable a set of default Apache modules. # Optional. Defaults to false. # # [*apache_vhost*] Configures a default virtual host. # Optional. Defaults to false. # # [*apache_purge_configs*] Removes all other Apache configs and virtual hosts. # Optional. Defaults to true. # # [*apache_purge_vhost*] Whether to remove any configurations inside vhost_dir not managed # by Puppet. # Optional. Defaults to true. # # [*custom_apache_ports*] Array of ports to listen by Apache. # Optional. Works only if custom_apache set to true. Default is undef. # define ceph::rgw::apache_fastcgi ( $admin_email = 'root@localhost', $docroot = '/var/www', $fcgi_file = '/var/www/s3gw.fcgi', $rgw_dns_name = $::fqdn, $rgw_port = '80', $rgw_socket_path = $::ceph::params::rgw_socket_path, $syslog = true, $ceph_apache_repo = true, $apache_mods = false, $apache_vhost = false, $apache_purge_configs = true, $apache_purge_vhost = true, $custom_apache_ports = undef, ) { warning ('apache_fastcgi is depricated and will be removed in two releases (P+2)') class { '::apache': default_mods => $apache_mods, default_vhost => $apache_vhost, purge_configs => $apache_purge_configs, purge_vhost_dir => $apache_purge_vhost, } if $custom_apache_ports { apache::listen { $custom_apache_ports: } } if !$apache_mods { include ::apache::mod::auth_basic } include ::apache::mod::alias include ::apache::mod::mime include ::apache::mod::rewrite #Rewrite rule #Variable name shrunk in favor of not having #more than 140 chars per line $rr = '^/([a-zA-Z0-9-_.]*)([/]?.*) /s3gw.fcgi?page=$1&params=$2&%{QUERY_STRING} [E=HTTP_AUTHORIZATION:%{HTTP:Authorization},L]' apache::vhost { ""${rgw_dns_name}-radosgw"": servername => $rgw_dns_name, serveradmin => $admin_email, port => $rgw_port, docroot => $docroot, rewrite_rule => $rr, access_log => $syslog, error_log => $syslog, fastcgi_server => $fcgi_file, fastcgi_socket => $rgw_socket_path, fastcgi_dir => $docroot, } # radosgw fast-cgi script file { $fcgi_file: ensure => file, owner => 'root', group => 'root', mode => '0750', content => ""#!/bin/sh exec /usr/bin/radosgw -c /etc/ceph/ceph.conf -n ${name}"", } File[$fcgi_file] ~> Service['httpd'] # dependency on ceph apache repo if set $pkg_fastcgi = $::apache::params::mod_packages['fastcgi'] if $ceph_apache_repo { case $::osfamily { 'Debian': { Apt::Source['ceph-fastcgi'] -> Package[$pkg_fastcgi] } 'RedHat': { if ($::osfamily == 'Redhat' and versioncmp($::operatingsystemrelease, '7.0') >= 0) { warning('puppetlabs puppet-apache dropped support for fastcgi on EL7') $pkg_fastcgi_real = 'mod_fastcgi' } else { $pkg_fastcgi_real = $pkg_fastcgi } Yumrepo['ext-ceph-fastcgi'] -> Package[$pkg_fastcgi_real] } default: { fail(""Unsupported osfamily: ${::osfamily} operatingsystem: ${::operatingsystem}, \ module ${module_name} only supports osfamily Debian and RedHat"") } } } } ",4,305
openstack%2Fcharms.openstack~master~Ic3521c08cdaa207e1391a32e03e53b276c51b309,openstack/charms.openstack,master,Ic3521c08cdaa207e1391a32e03e53b276c51b309,Add helper to restart services,MERGED,2018-11-29 10:25:35.000000000,2018-11-29 19:16:04.000000000,2018-11-29 19:16:04.000000000,"[{'_account_id': 12549}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-29 10:25:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/99fad2fe3235ab117d4c1df0296add7d9c3ed404', 'message': 'Add helper to restart servcies\n\nChange-Id: Ic3521c08cdaa207e1391a32e03e53b276c51b309\n'}, {'number': 2, 'created': '2018-11-29 14:34:39.000000000', 'files': ['charms_openstack/charm/classes.py', 'unit_tests/charms_openstack/charm/test_classes.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/9ed46569871b4d2ae8580fc08a32c8cf85eb5a91', 'message': 'Add helper to restart services\n\nChange-Id: Ic3521c08cdaa207e1391a32e03e53b276c51b309\n'}]",0,620877,9ed46569871b4d2ae8580fc08a32c8cf85eb5a91,9,3,2,12549,,,0,"Add helper to restart services

Change-Id: Ic3521c08cdaa207e1391a32e03e53b276c51b309
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/77/620877/1 && git format-patch -1 --stdout FETCH_HEAD,"['charms_openstack/charm/classes.py', 'unit_tests/charms_openstack/charm/test_classes.py']",2,99fad2fe3235ab117d4c1df0296add7d9c3ed404,feature/restart-services," charm = MyOpenStackCharm(['interface1', 'interface2']) charm.services = ['svc1', 'sv2'] return charm def test_restart_services(self): self.patch_target('haproxy_enabled', return_value=False) self.patch_object(chm.os_utils, 'manage_payload_services') self.target.restart_services() svcs = ['svc1', 'sv2'] self.manage_payload_services.assert_has_calls([ mock.call('stop', svcs), mock.call('start', svcs)]) def test_restart_services_haproxy(self): self.patch_target('haproxy_enabled', return_value=True) self.patch_object(chm.os_utils, 'manage_payload_services') self.target.restart_services() svcs = ['svc1', 'sv2', 'haproxy'] self.manage_payload_services.assert_has_calls([ mock.call('stop', svcs), mock.call('start', svcs)]) "," return MyOpenStackCharm(['interface1', 'interface2'])",29,1
openstack%2Fnetworking-sfc~master~I988bcd75a4d81e362fe737b1459d6a593dbc74f4,openstack/networking-sfc,master,I988bcd75a4d81e362fe737b1459d6a593dbc74f4,Update min tox version to 2.0,MERGED,2018-11-02 03:09:20.000000000,2018-11-29 19:03:17.000000000,2018-11-29 19:03:17.000000000,"[{'_account_id': 18955}, {'_account_id': 21883}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28935}]","[{'number': 1, 'created': '2018-11-02 03:09:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/dcefc671cac3ee8e37b9ea2245d313c17da35e51', 'message': 'Update min tox version to 2.0\n\nThe commands used by constraints need at least tox 2.0.  Update to\nreflect reality, which should help with local running of constraints\ntargets.\n\nChange-Id: I988bcd75a4d81e362fe737b1459d6a593dbc74f4\n'}, {'number': 2, 'created': '2018-11-10 02:28:15.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/6f171fee70feedf70be073ee7b08b8ead2cfe258', 'message': 'Update min tox version to 2.0\n\nThe commands used by constraints need at least tox 2.0.  Update to\nreflect reality, which should help with local running of constraints\ntargets.\n\nChange-Id: I988bcd75a4d81e362fe737b1459d6a593dbc74f4\nRelated-Bug: 1801465\n'}]",0,614942,6f171fee70feedf70be073ee7b08b8ead2cfe258,13,5,2,28543,,,0,"Update min tox version to 2.0

The commands used by constraints need at least tox 2.0.  Update to
reflect reality, which should help with local running of constraints
targets.

Change-Id: I988bcd75a4d81e362fe737b1459d6a593dbc74f4
Related-Bug: 1801465
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/42/614942/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,dcefc671cac3ee8e37b9ea2245d313c17da35e51,bug/1801465,minversion = 2.0,minversion = 1.6,1,1
openstack%2Fnetworking-sfc~master~I168562c11ef13f57037d7d73b463318390b264fb,openstack/networking-sfc,master,I168562c11ef13f57037d7d73b463318390b264fb,"Correct ""openstack sfc port create"" and delete superfluous ""\""",MERGED,2018-11-26 06:55:38.000000000,2018-11-29 19:03:16.000000000,2018-11-29 19:03:16.000000000,"[{'_account_id': 841}, {'_account_id': 18955}, {'_account_id': 21883}, {'_account_id': 22348}, {'_account_id': 26490}]","[{'number': 1, 'created': '2018-11-26 06:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/c2d5e6844d589df0c2179e6e343e25b62f0b983b', 'message': 'Correct ""openstack sfc port create"" and delete superfluous ""\\""\n\nIn my opinion, create Neutron ports on network should be used ""openstack port create"".\n\nChange-Id: I168562c11ef13f57037d7d73b463318390b264fb\n'}, {'number': 2, 'created': '2018-11-28 11:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/0e145f4727b0152d1a0b52cd9edb4d2f8e11435e', 'message': 'Correct ""openstack sfc port create"" and delete superfluous ""\\""\n\nIn my opinion, create Neutron ports on network should be used ""openstack port create"".\n\nChange-Id: I168562c11ef13f57037d7d73b463318390b264fb\n'}, {'number': 3, 'created': '2018-11-28 11:34:52.000000000', 'files': ['doc/source/contributor/system_design_and_workflow.rst'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/13a5752be3f6b41aa3611d5962936a6a1fc67564', 'message': 'Correct ""openstack sfc port create"" and delete superfluous ""\\""\n\nIn my opinion, create Neutron ports on network should be used\n""openstack port create"".\n\nChange-Id: I168562c11ef13f57037d7d73b463318390b264fb\n'}]",2,619965,13a5752be3f6b41aa3611d5962936a6a1fc67564,14,5,3,29165,,,0,"Correct ""openstack sfc port create"" and delete superfluous ""\""

In my opinion, create Neutron ports on network should be used
""openstack port create"".

Change-Id: I168562c11ef13f57037d7d73b463318390b264fb
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/65/619965/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/system_design_and_workflow.rst'],1,c2d5e6844d589df0c2179e6e343e25b62f0b983b,bugfix_doc, openstack sfc port create --network net1 p1 openstack sfc port create --network net1 p2 openstack sfc port create --network net1 p3 openstack sfc port create --network net1 p4 openstack sfc port create --network net1 p5 openstack sfc port create --network net1 p6 --port-pair PP1 --port-pair PP2 PG1 , openstack sfc port create --name p1 net1 openstack sfc port create --name p2 net1 openstack sfc port create --name p3 net1 openstack sfc port create --name p4 net1 openstack sfc port create --name p5 net1 openstack sfc port create --name p6 net1 --port-pair PP1 --port-pair PP2 PG1 \,8,7
openstack%2Fneutron~master~Ifbb5f3ee2473aac98982bff0d2e6bb9b3e5ab5d6,openstack/neutron,master,Ifbb5f3ee2473aac98982bff0d2e6bb9b3e5ab5d6,Add protocol to port_forwarding uniq constraint,MERGED,2018-10-26 10:01:27.000000000,2018-11-29 19:00:33.000000000,2018-11-29 19:00:33.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 7249}, {'_account_id': 8871}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15309}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-10-26 10:01:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4cb8c4c49fe22e041aada3f4195ebf9261711704', 'message': 'Add protocol to port_forwarding uniq constraint\n\nFloating IP port_forwardings with different protocols can not have\nthe same internal or external port number to the same VM port. But\nwe can have different application server, for instance TCP server\nand UDP server, listen to the same port at same time.\n\nThis patch adds the protocol attribute to the DB uniq constraint\nto allow create different protocol port_forwardings with same\ninternal or external port number.\n\nCo-Authored-By: LIU Yulong <i@liuyulong.me>\nCloses-Bug: #1799155\nChange-Id: Ifbb5f3ee2473aac98982bff0d2e6bb9b3e5ab5d6\n'}, {'number': 2, 'created': '2018-10-29 02:00:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b8aae9ccc7594572a1f15c448c61937e57e8797a', 'message': 'Add protocol to port_forwarding uniq constraint\n\nFloating IP port_forwardings with different protocols can not have\nthe same internal or external port number to the same VM port. But\nwe can have different application server, for instance TCP server\nand UDP server, listen to the same port at same time.\n\nThis patch adds the protocol attribute to the DB uniq constraint\nto allow create different protocol port_forwardings with same\ninternal or external port number.\n\nCo-Authored-By: LIU Yulong <i@liuyulong.me>\nCloses-Bug: #1799155\nChange-Id: Ifbb5f3ee2473aac98982bff0d2e6bb9b3e5ab5d6\n'}, {'number': 3, 'created': '2018-10-30 03:30:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/15240b08d219871385a7f21298df2d70fbd342f9', 'message': 'Add protocol to port_forwarding uniq constraint\n\nFloating IP port_forwardings with different protocols can not have\nthe same internal or external port number to the same VM port. But\nwe can have different application server, for instance TCP server\nand UDP server, listen to the same port at same time.\n\nThis patch adds the protocol attribute to the DB uniq constraint\nto allow create different protocol port_forwardings with same\ninternal or external port number.\n\nCo-Authored-By: LIU Yulong <i@liuyulong.me>\nCloses-Bug: #1799155\nChange-Id: Ifbb5f3ee2473aac98982bff0d2e6bb9b3e5ab5d6\n'}, {'number': 4, 'created': '2018-11-02 06:25:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0aa993c4ebdfb8bbafd2de6cebf801d202054754', 'message': 'Add protocol to port_forwarding uniq constraint\n\nFloating IP port forwardings with different protocols can not have\nthe same internal or external port number to the same VM port. But\nwe can have different application servers, for instance TCP server\nand UDP server, listen to the same port at same time.\n\nThis patch adds the protocol attribute to the DB uniq constraint\nto allow creating different protocol port forwardings with same\ninternal or external port number.\n\nCo-Authored-By: LIU Yulong <i@liuyulong.me>\nCloses-Bug: #1799155\nChange-Id: Ifbb5f3ee2473aac98982bff0d2e6bb9b3e5ab5d6\n'}, {'number': 5, 'created': '2018-11-05 04:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7b08558528e435b5abceca2a562c22c2fb4e34c8', 'message': 'Add protocol to port_forwarding uniq constraint\n\nFloating IP port forwardings with different protocols can not have\nthe same internal or external port number to the same VM port. But\nwe can have different application servers, for instance TCP server\nand UDP server, listen to the same port at same time.\n\nThis patch adds the protocol attribute to the DB uniq constraint\nto allow creating different protocol port forwardings with same\ninternal or external port number.\n\nCo-Authored-By: LIU Yulong <i@liuyulong.me>\nCloses-Bug: #1799155\nChange-Id: Ifbb5f3ee2473aac98982bff0d2e6bb9b3e5ab5d6\n'}, {'number': 6, 'created': '2018-11-07 02:25:22.000000000', 'files': ['releasenotes/notes/change-port-forwarding-uniq-constraint-78ba3db20bce5fd2.yaml', 'neutron/db/models/port_forwarding.py', 'neutron/db/migration/alembic_migrations/versions/stein/expand/d72db3e25539_modify_uniq_port_forwarding.py', 'neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'neutron/services/portforwarding/pf_plugin.py', 'neutron/tests/unit/extensions/test_expose_port_forwarding_in_fip.py', 'neutron/objects/port_forwarding.py', 'neutron/tests/unit/objects/test_objects.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e17dac3ae9f64d726db7cee20c492b3507350349', 'message': 'Add protocol to port_forwarding uniq constraint\n\nFloating IP port forwardings with different protocols can not have\nthe same internal or external port number to the same VM port. But\nwe can have different application servers, for instance TCP server\nand UDP server, listen to the same port at same time.\n\nThis patch adds the protocol attribute to the DB uniq constraint\nto allow creating different protocol port forwardings with same\ninternal or external port number.\n\nCo-Authored-By: LIU Yulong <i@liuyulong.me>\nCloses-Bug: #1799155\nChange-Id: Ifbb5f3ee2473aac98982bff0d2e6bb9b3e5ab5d6\n'}]",33,613549,e17dac3ae9f64d726db7cee20c492b3507350349,72,16,6,9531,,,0,"Add protocol to port_forwarding uniq constraint

Floating IP port forwardings with different protocols can not have
the same internal or external port number to the same VM port. But
we can have different application servers, for instance TCP server
and UDP server, listen to the same port at same time.

This patch adds the protocol attribute to the DB uniq constraint
to allow creating different protocol port forwardings with same
internal or external port number.

Co-Authored-By: LIU Yulong <i@liuyulong.me>
Closes-Bug: #1799155
Change-Id: Ifbb5f3ee2473aac98982bff0d2e6bb9b3e5ab5d6
",git fetch https://review.opendev.org/openstack/neutron refs/changes/49/613549/5 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/migration/alembic_migrations/versions/stein/expand/d72db3e25539_modify_uniq_port_forwarding.py', 'neutron/db/models/port_forwarding.py', 'neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'neutron/services/portforwarding/pf_plugin.py', 'neutron/tests/unit/extensions/test_expose_port_forwarding_in_fip.py']",5,4cb8c4c49fe22e041aada3f4195ebf9261711704,bug/1799155," def test_negative_create_floatingip_port_forwarding(self): port_forwarding = { apidef.RESOURCE_NAME: {apidef.EXTERNAL_PORT: 2225, apidef.INTERNAL_PORT: 25, apidef.INTERNAL_PORT_ID: None, apidef.PROTOCOL: ""tcp"", apidef.INTERNAL_IP_ADDRESS: None}} ctx = context.get_admin_context() kwargs = {'arg_list': (extnet_apidef.EXTERNAL,), extnet_apidef.EXTERNAL: True} with self.network(**kwargs) as extnet, self.network() as innet: with self.subnet(network=extnet, cidr='200.0.0.0/22'), \ self.subnet(network=innet, cidr='10.0.0.0/24') as insub, \ self.router() as router: fip = self._make_floatingip(self.fmt, extnet['network']['id']) self._add_external_gateway_to_router(router['router']['id'], extnet['network']['id']) self._router_interface_action('add', router['router']['id'], insub['subnet']['id'], None) with self.port(subnet=insub) as port1: update_dict1 = { apidef.INTERNAL_PORT_ID: port1['port']['id'], apidef.INTERNAL_IP_ADDRESS: port1['port']['fixed_ips'][0]['ip_address']} port_forwarding[apidef.RESOURCE_NAME].update(update_dict1) self.pf_plugin.create_floatingip_port_forwarding( ctx, fip['floatingip']['id'], port_forwarding) update_dict2 = { apidef.PROTOCOL: ""udp"" } port_forwarding[apidef.RESOURCE_NAME].update(update_dict2) self.pf_plugin.create_floatingip_port_forwarding( ctx, fip['floatingip']['id'], port_forwarding) ",,127,7
openstack%2Fneutron~master~I2e7b53fdedb1837ddb0d685718d9a811ddac5733,openstack/neutron,master,I2e7b53fdedb1837ddb0d685718d9a811ddac5733,segments use neutron_lib placement client,MERGED,2018-08-13 13:21:53.000000000,2018-11-29 19:00:30.000000000,2018-11-29 19:00:29.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15554}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-08-13 13:21:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d4222aa34e4384345df61c205276141248d4e3d6', 'message': ""WIP: segments use neutron_lib placement client\n\nOriginally segments extension used it's own placement client.\nNow in neutron-lib there is a working actively designed and  tested\nclient for placement, thus we can change segments to use that, and\nremove the old placement client from neutron.\n\nChange-Id: I2e7b53fdedb1837ddb0d685718d9a811ddac5733\n""}, {'number': 2, 'created': '2018-08-13 13:34:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/35a1d8915a84d503d87c14ebe8371d0c6ee1b2ca', 'message': ""WIP: segments use neutron_lib placement client\n\nOriginally segments extension used it's own placement client.\nNow in neutron-lib there is a working actively designed and  tested\nclient for placement, thus we can change segments to use that, and\nremove the old placement client from neutron.\n\nChange-Id: I2e7b53fdedb1837ddb0d685718d9a811ddac5733\nDepends-On: https://review.openstack.org/580665\n""}, {'number': 3, 'created': '2018-08-17 14:25:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/15f95e21f6e7ed4430fa7457001c7d9beb22ae44', 'message': ""WIP: segments use neutron_lib placement client\n\nOriginally segments extension used it's own placement client.\nNow in neutron-lib there is a working actively designed and  tested\nclient for placement, thus we can change segments to use that, and\nremove the old placement client from neutron.\n\nChange-Id: I2e7b53fdedb1837ddb0d685718d9a811ddac5733\nDepends-On: https://review.openstack.org/580665\n""}, {'number': 4, 'created': '2018-10-01 16:10:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/148f1515cf4c0e5722d23e60e28799b8a21eeec1', 'message': ""WIP: segments use neutron_lib placement client\n\nOriginally segments extension used it's own placement client.\nNow in neutron-lib there is a working actively designed and  tested\nclient for placement, thus we can change segments to use that, and\nremove the old placement client from neutron.\n\nChange-Id: I2e7b53fdedb1837ddb0d685718d9a811ddac5733\nDepends-On: https://review.openstack.org/580665\n""}, {'number': 5, 'created': '2018-11-13 18:08:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7e6b0fdb1af0faa96fa1ffc7e325b8c5886b8203', 'message': ""segments use neutron_lib placement client\n\nOriginally segments extension used it's own placement client.\nNow in neutron-lib there is a working actively designed and  tested\nclient for placement, thus we can change segments to use that, and\nremove the old placement client from neutron.\n\nChange-Id: I2e7b53fdedb1837ddb0d685718d9a811ddac5733\nDepends-On: https://review.openstack.org/580665\n""}, {'number': 6, 'created': '2018-11-20 08:33:59.000000000', 'files': ['neutron/services/segments/placement_client.py', 'neutron/services/segments/plugin.py', 'neutron/tests/unit/extensions/test_segment.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/24eb49c55bb1f9f6b3f785e595002ab408037207', 'message': ""segments use neutron_lib placement client\n\nOriginally segments extension used it's own placement client.\nNow in neutron-lib there is a working actively designed and  tested\nclient for placement, thus we can change segments to use that, and\nremove the old placement client from neutron.\n\nChange-Id: I2e7b53fdedb1837ddb0d685718d9a811ddac5733\nDepends-On: https://review.openstack.org/580665\n""}]",0,591383,24eb49c55bb1f9f6b3f785e595002ab408037207,43,13,6,8313,,,0,"segments use neutron_lib placement client

Originally segments extension used it's own placement client.
Now in neutron-lib there is a working actively designed and  tested
client for placement, thus we can change segments to use that, and
remove the old placement client from neutron.

Change-Id: I2e7b53fdedb1837ddb0d685718d9a811ddac5733
Depends-On: https://review.openstack.org/580665
",git fetch https://review.opendev.org/openstack/neutron refs/changes/83/591383/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/segments/placement_client.py', 'neutron/services/segments/plugin.py', 'neutron/tests/unit/extensions/test_segment.py']",3,d4222aa34e4384345df61c205276141248d4e3d6,minimum-bandwidth-allocation-placement-api," self.mock_p_client.update_resource_provider_inventory.\ assert_not_called() self.mock_p_client.update_resource_provider_inventories.\ assert_called_with(segment_id, inventory) self.mock_p_client.update_resource_provider_inventories. call_args[0][1]['total']) self.mock_p_client.update_resource_provider_inventories. call_args[0][1]['reserved']) self.mock_p_client.update_resource_provider_inventory.\ assert_called_with(segment_id, inventory, seg_plugin.IPV4_RESOURCE_CLASS) self.mock_p_client.update_resource_provider_inventory. call_args[0][1]['total']) self.mock_p_client.update_resource_provider_inventory. call_args[0][1]['reserved']) self.mock_p_client.update_resource_provider_inventory.\ assert_called_with(segment_id, inventory, seg_plugin.IPV4_RESOURCE_CLASS) self.mock_p_client.update_resource_provider_inventory. call_args[0][1]['total']) self.mock_p_client.update_resource_provider_inventory. call_args[0][1]['reserved']) self.mock_p_client.update_resource_provider_inventory.\ assert_not_called() self.mock_p_client.update_resource_provider_inventory.\ assert_not_called() self.mock_p_client.update_resource_provider_inventory.\ assert_not_called() self.mock_p_client.update_resource_provider_inventory.\ assert_not_called() self.mock_p_client.update_resource_provider_inventory.\ side_effect = ( placement_exc.PlacementInventoryUpdateConflict( resource_provider=mock.ANY, resource_class=seg_plugin.IPV4_RESOURCE_CLASS)) self.mock_p_client.update_resource_provider_inventory. call_count)","from keystoneauth1 import exceptions as ks_excfrom neutron.services.segments import placement_clientfrom neutron.tests import base self.mock_p_client.update_inventory.assert_not_called() self.mock_p_client.create_inventory.assert_called_with( segment_id, inventory) self.mock_p_client.create_inventory.call_args[0][1]['total']) self.mock_p_client.create_inventory.call_args[0][1]['reserved']) self.mock_p_client.update_inventory.assert_called_with(segment_id, inventory, seg_plugin.IPV4_RESOURCE_CLASS) self.mock_p_client.update_inventory.call_args[0][1]['total']) self.mock_p_client.update_inventory.call_args[0][1]['reserved']) self.mock_p_client.update_inventory.assert_called_with(segment_id, inventory, seg_plugin.IPV4_RESOURCE_CLASS) self.mock_p_client.update_inventory.call_args[0][1]['total']) self.mock_p_client.update_inventory.call_args[0][1]['reserved']) self.mock_p_client.update_inventory.assert_not_called() self.mock_p_client.update_inventory.assert_not_called() self.mock_p_client.update_inventory.assert_not_called() self.mock_p_client.update_inventory.assert_not_called() self.mock_p_client.update_inventory.side_effect = ( placement_exc.PlacementInventoryUpdateConflict( resource_provider=mock.ANY, resource_class=seg_plugin.IPV4_RESOURCE_CLASS)) self.mock_p_client.update_inventory.call_count)class PlacementAPIClientTestCase(base.DietTestCase): """"""Test the Placement API client."""""" def setUp(self): super(PlacementAPIClientTestCase, self).setUp() self.mock_load_auth_p = mock.patch( 'keystoneauth1.loading.load_auth_from_conf_options') self.mock_load_auth = self.mock_load_auth_p.start() self.mock_request_p = mock.patch( 'keystoneauth1.session.Session.request') self.mock_request = self.mock_request_p.start() self.client = placement_client.PlacementAPIClient() @mock.patch('keystoneauth1.loading.load_session_from_conf_options') @mock.patch('keystoneauth1.loading.load_auth_from_conf_options') def test_constructor(self, load_auth_mock, load_sess_mock): mock_auth = mock.Mock() load_auth_mock.return_value = mock_auth placement_client.PlacementAPIClient() load_auth_mock.assert_called_once_with(cfg.CONF, 'placement') load_sess_mock.assert_called_once_with( cfg.CONF, 'placement', auth=mock_auth) def test_create_resource_provider(self): expected_payload = 'fake_resource_provider' self.client.create_resource_provider(expected_payload) expected_url = '/resource_providers' self.mock_request.assert_called_once_with( expected_url, 'POST', endpoint_filter={'region_name': mock.ANY, 'service_type': 'placement'}, json=expected_payload) def test_delete_resource_provider(self): rp_uuid = uuidutils.generate_uuid() self.client.delete_resource_provider(rp_uuid) expected_url = '/resource_providers/%s' % rp_uuid self.mock_request.assert_called_once_with( expected_url, 'DELETE', endpoint_filter={'region_name': mock.ANY, 'service_type': 'placement'}) def test_create_inventory(self): expected_payload = 'fake_inventory' rp_uuid = uuidutils.generate_uuid() self.client.create_inventory(rp_uuid, expected_payload) expected_url = '/resource_providers/%s/inventories' % rp_uuid self.mock_request.assert_called_once_with( expected_url, 'POST', endpoint_filter={'region_name': mock.ANY, 'service_type': 'placement'}, json=expected_payload) def test_get_inventory(self): rp_uuid = uuidutils.generate_uuid() resource_class = 'fake_resource_class' self.client.get_inventory(rp_uuid, resource_class) expected_url = '/resource_providers/%s/inventories/%s' % ( rp_uuid, resource_class) self.mock_request.assert_called_once_with( expected_url, 'GET', endpoint_filter={'region_name': mock.ANY, 'service_type': 'placement'}) def _test_get_inventory_not_found(self, details, expected_exception): rp_uuid = uuidutils.generate_uuid() resource_class = 'fake_resource_class' self.mock_request.side_effect = ks_exc.NotFound(details=details) self.assertRaises(expected_exception, self.client.get_inventory, rp_uuid, resource_class) def test_get_inventory_not_found_no_resource_provider(self): self._test_get_inventory_not_found( ""No resource provider with uuid"", placement_exc.PlacementResourceProviderNotFound) def test_get_inventory_not_found_no_inventory(self): self._test_get_inventory_not_found( ""No inventory of class"", placement_exc.PlacementInventoryNotFound) def test_get_inventory_not_found_unknown_cause(self): self._test_get_inventory_not_found(""Unknown cause"", ks_exc.NotFound) def test_update_inventory(self): expected_payload = 'fake_inventory' rp_uuid = uuidutils.generate_uuid() resource_class = 'fake_resource_class' self.client.update_inventory(rp_uuid, expected_payload, resource_class) expected_url = '/resource_providers/%s/inventories/%s' % ( rp_uuid, resource_class) self.mock_request.assert_called_once_with( expected_url, 'PUT', endpoint_filter={'region_name': mock.ANY, 'service_type': 'placement'}, json=expected_payload) def test_update_inventory_conflict(self): rp_uuid = uuidutils.generate_uuid() expected_payload = 'fake_inventory' resource_class = 'fake_resource_class' self.mock_request.side_effect = ks_exc.Conflict self.assertRaises(placement_exc.PlacementInventoryUpdateConflict, self.client.update_inventory, rp_uuid, expected_payload, resource_class) def test_associate_aggregates(self): expected_payload = 'fake_aggregates' rp_uuid = uuidutils.generate_uuid() self.client.associate_aggregates(rp_uuid, expected_payload) expected_url = '/resource_providers/%s/aggregates' % rp_uuid self.mock_request.assert_called_once_with( expected_url, 'PUT', endpoint_filter={'region_name': mock.ANY, 'service_type': 'placement'}, json=expected_payload, headers={'openstack-api-version': 'placement 1.1'}) def test_list_aggregates(self): rp_uuid = uuidutils.generate_uuid() self.client.list_aggregates(rp_uuid) expected_url = '/resource_providers/%s/aggregates' % rp_uuid self.mock_request.assert_called_once_with( expected_url, 'GET', endpoint_filter={'region_name': mock.ANY, 'service_type': 'placement'}, headers={'openstack-api-version': 'placement 1.1'}) def test_list_aggregates_not_found(self): rp_uuid = uuidutils.generate_uuid() self.mock_request.side_effect = ks_exc.NotFound self.assertRaises(placement_exc.PlacementAggregateNotFound, self.client.list_aggregates, rp_uuid) def test_placement_api_not_found(self): rp_uuid = uuidutils.generate_uuid() self.mock_request.side_effect = ks_exc.EndpointNotFound self.assertRaises(placement_exc.PlacementEndpointNotFound, self.client.list_aggregates, rp_uuid) ",46,352
openstack%2Fpuppet-pacemaker~master~I690d69c469232b9ef066163d9b77645524145af6,openstack/puppet-pacemaker,master,I690d69c469232b9ef066163d9b77645524145af6,Do not enable ubuntu bionic just yet,ABANDONED,2018-11-29 15:33:26.000000000,2018-11-29 18:59:31.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-11-29 15:33:26.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/24aa725830b2f9021cc8cf3dbf0f674e5a57e012', 'message': 'Do not enable ubuntu bionic just yet\n\nCI is not working with it and we need to spend some\ntime fixing it before enabling that.\n\nChange-Id: I690d69c469232b9ef066163d9b77645524145af6\n'}]",0,620939,24aa725830b2f9021cc8cf3dbf0f674e5a57e012,3,1,1,20172,,,0,"Do not enable ubuntu bionic just yet

CI is not working with it and we need to spend some
time fixing it before enabling that.

Change-Id: I690d69c469232b9ef066163d9b77645524145af6
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/39/620939/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,24aa725830b2f9021cc8cf3dbf0f674e5a57e012,," ""16.04"""," ""16.04"", ""18.04""",1,2
openstack%2Ftripleo-common~stable%2Frocky~I6520d0ca2e57030f452369360c1e9122353d7f8d,openstack/tripleo-common,stable/rocky,I6520d0ca2e57030f452369360c1e9122353d7f8d,Update swift_backup workflow success status message,MERGED,2018-11-21 01:35:29.000000000,2018-11-29 18:31:11.000000000,2018-11-29 18:31:11.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-21 01:35:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9f708d4b3843506e44071cceb69d43697eec9007', 'message': 'Update swift_backup workflow success status message\n\nThe result of the tripleo.parameters.update action\nshows the entire plan. When the TripleO client displays\nthe zaqar queue this results in an overly verbose\nmessage being displayed. Rather than display the\nfull output of the task, display only a summary\nof what the task did.\n\nChange-Id: I6520d0ca2e57030f452369360c1e9122353d7f8d\nCloses-Bug: #1804312\n'}, {'number': 2, 'created': '2018-11-21 14:44:36.000000000', 'files': ['workbooks/swift_backup.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/935bd8a0dc3e38b1450906df99072f77b2e817d9', 'message': 'Update swift_backup workflow success status message\n\nThe result of the tripleo.parameters.update action\nshows the entire plan. When the TripleO client displays\nthe zaqar queue this results in an overly verbose\nmessage being displayed. Rather than display the\nfull output of the task, display only a summary\nof what the task did.\n\nChange-Id: I6520d0ca2e57030f452369360c1e9122353d7f8d\nCloses-Bug: #1804312\n(cherry picked from commit cebf6d7e327141dfc0231e45a4b73b1c9e8ff293)\n'}]",1,619130,935bd8a0dc3e38b1450906df99072f77b2e817d9,12,4,2,18002,,,0,"Update swift_backup workflow success status message

The result of the tripleo.parameters.update action
shows the entire plan. When the TripleO client displays
the zaqar queue this results in an overly verbose
message being displayed. Rather than display the
full output of the task, display only a summary
of what the task did.

Change-Id: I6520d0ca2e57030f452369360c1e9122353d7f8d
Closes-Bug: #1804312
(cherry picked from commit cebf6d7e327141dfc0231e45a4b73b1c9e8ff293)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/30/619130/1 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/swift_backup.yaml'],1,9f708d4b3843506e44071cceb69d43697eec9007,bug/1804312, message: 'Temporary Swift GET/PUT URL parameters have successfully been updated.', message: <% task(set_put_tempurl).result %>,1,1
openstack%2Fproject-config~master~Ia15f6f943bab530e8b6fd96a2c57d091d60e3193,openstack/project-config,master,Ia15f6f943bab530e8b6fd96a2c57d091d60e3193,"Revert ""Halve ovh-bhs1 max-servers temporarily""",MERGED,2018-11-23 15:31:27.000000000,2018-11-29 18:28:20.000000000,2018-11-29 18:28:20.000000000,"[{'_account_id': 1}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-23 15:31:27.000000000', 'files': ['nodepool/nl04.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/970987e3ce517cca9b49b139d07b313b4d7cdfa7', 'message': 'Revert ""Halve ovh-bhs1 max-servers temporarily""\n\nThis reverts commit 521d1ceafeeb65dabc5ef280df619e3d928ee3b4. Merge\nonce testing of the CPU contention theory has concluded.\n\nChange-Id: Ia15f6f943bab530e8b6fd96a2c57d091d60e3193\n'}]",0,619750,970987e3ce517cca9b49b139d07b313b4d7cdfa7,10,5,1,5263,,,0,"Revert ""Halve ovh-bhs1 max-servers temporarily""

This reverts commit 521d1ceafeeb65dabc5ef280df619e3d928ee3b4. Merge
once testing of the CPU contention theory has concluded.

Change-Id: Ia15f6f943bab530e8b6fd96a2c57d091d60e3193
",git fetch https://review.opendev.org/openstack/project-config refs/changes/50/619750/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl04.openstack.org.yaml'],1,970987e3ce517cca9b49b139d07b313b4d7cdfa7,job-timeouts, max-servers: 159, max-servers: 79,1,1
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Frocky~I10f3b83e63ccdf08f9f782dee7f5be1fd7bbe139,openstack/openstack-ansible-lxc_hosts,stable/rocky,I10f3b83e63ccdf08f9f782dee7f5be1fd7bbe139,ensure the mount unit is started after reboot,MERGED,2018-11-27 19:33:04.000000000,2018-11-29 18:06:31.000000000,2018-11-29 18:06:31.000000000,"[{'_account_id': 1004}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 26647}]","[{'number': 1, 'created': '2018-11-27 19:33:04.000000000', 'files': ['templates/var-lib-machines.mount'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/f919f50d9da384ce019ca16fabb8a94cb56909b0', 'message': 'ensure the mount unit is started after reboot\n\n/var/lib/machines was not mounted after reboot\nbecause of missing install section\n\nChange-Id: I10f3b83e63ccdf08f9f782dee7f5be1fd7bbe139\n(cherry picked from commit 0fffb61ab78e9330379c77ca68f8d272c45ab3d0)\n'}]",0,620390,f919f50d9da384ce019ca16fabb8a94cb56909b0,18,5,1,26647,,,0,"ensure the mount unit is started after reboot

/var/lib/machines was not mounted after reboot
because of missing install section

Change-Id: I10f3b83e63ccdf08f9f782dee7f5be1fd7bbe139
(cherry picked from commit 0fffb61ab78e9330379c77ca68f8d272c45ab3d0)
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/90/620390/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/var-lib-machines.mount'],1,f919f50d9da384ce019ca16fabb8a94cb56909b0,, [Install] WantedBy=multi-user.target,,3,0
openstack%2Fcompute-hyperv~master~I09428c2e25bed41f99b51c08a677d7152d9680ee,openstack/compute-hyperv,master,I09428c2e25bed41f99b51c08a677d7152d9680ee,Prevent reverting resizes from leaking files,MERGED,2018-11-29 13:11:30.000000000,2018-11-29 17:40:29.000000000,2018-11-29 17:40:29.000000000,"[{'_account_id': 8213}, {'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-29 13:11:30.000000000', 'files': ['compute_hyperv/nova/vmops.py', 'compute_hyperv/tests/unit/test_vmops.py'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/976d316eb71cede6294f92b30e3011e4c618975c', 'message': 'Prevent reverting resizes from leaking files\n\nWhen reverting resizes, the manager will request instance files\ncleanup to be skipped if the hosts use shared storage, in which\ncase we\'d leak files if multiple CSVs are used.\n\nIt\'s safe to cleanup the instance files when reverting resizes\nas long as we preserve the ""*_revert"" dir.\n\nCloses-Bug: #1805833\n\nChange-Id: I09428c2e25bed41f99b51c08a677d7152d9680ee\n'}]",0,620908,976d316eb71cede6294f92b30e3011e4c618975c,7,3,1,8543,,,0,"Prevent reverting resizes from leaking files

When reverting resizes, the manager will request instance files
cleanup to be skipped if the hosts use shared storage, in which
case we'd leak files if multiple CSVs are used.

It's safe to cleanup the instance files when reverting resizes
as long as we preserve the ""*_revert"" dir.

Closes-Bug: #1805833

Change-Id: I09428c2e25bed41f99b51c08a677d7152d9680ee
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/08/620908/1 && git format-patch -1 --stdout FETCH_HEAD,"['compute_hyperv/nova/vmops.py', 'compute_hyperv/tests/unit/test_vmops.py']",2,976d316eb71cede6294f92b30e3011e4c618975c,bug/1805833,"from nova.compute import task_states @ddt.data({""force_destroy"": True, ""destroy_disks"": False}, {'vm_exists': False, 'planned_vm_exists': True}, {'task_state': task_states.RESIZE_REVERTING}, {'cleanup_migr_files': False}) force_destroy=False, task_state=task_states.DELETING, destroy_disks=True, cleanup_migr_files=True): mock_instance = fake_instance.fake_instance_obj( self.context, task_state=task_state) cleanup_migration_files=cleanup_migr_files, destroy_disks=destroy_disks) reverting_resize = task_state == task_states.RESIZE_REVERTING exp_migr_files_cleanup = cleanup_migr_files and not reverting_resize if destroy_disks or reverting_resize: mock_delete_disk_files.assert_called_once_with( mock_instance, self._pathutils.get_instance_dir.return_value, exp_migr_files_cleanup) else: mock_delete_disk_files.assert_not_called()"," @ddt.data({""force_destroy"": True}, {'vm_exists': False, 'planned_vm_exists': True}) force_destroy=False): mock_instance = fake_instance.fake_instance_obj(self.context) cleanup_migration_files=mock.sentinel.cleanup_migr_files) mock_delete_disk_files.assert_called_once_with( mock_instance, self._pathutils.get_instance_dir.return_value, mock.sentinel.cleanup_migr_files)",33,9
openstack%2Fcompute-hyperv~master~Ie151ed15bc806e0c16a363734d0c078fe358b899,openstack/compute-hyperv,master,Ie151ed15bc806e0c16a363734d0c078fe358b899,Report the correct image format to glance when snapshotting,MERGED,2018-11-29 13:10:50.000000000,2018-11-29 17:40:28.000000000,2018-11-29 17:40:28.000000000,"[{'_account_id': 8213}, {'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-29 13:10:50.000000000', 'files': ['compute_hyperv/nova/snapshotops.py', 'compute_hyperv/tests/unit/test_snapshotops.py'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/a9a82b2e9bdf0549cdbc2b8ad1f6d81e5ca63de3', 'message': 'Report the correct image format to glance when snapshotting\n\nWhen taking instance snapshots, the image format is always set to\n""vhd"", but it may as well be vhdx. This happens because of legacy\nreasons, as Glance used to reject vhdx images.\n\nCinder started to validate the image formats a few releases ago for\nsecurity reasons, so it will reject creating volumes from Glance\nimages that have incorrect image formats.\n\nThis change ensures that we\'ll set the right image format when taking\nsnapshots.\n\nCloses-Bug: #1805442\n\nChange-Id: Ie151ed15bc806e0c16a363734d0c078fe358b899\n'}]",0,620907,a9a82b2e9bdf0549cdbc2b8ad1f6d81e5ca63de3,7,3,1,8543,,,0,"Report the correct image format to glance when snapshotting

When taking instance snapshots, the image format is always set to
""vhd"", but it may as well be vhdx. This happens because of legacy
reasons, as Glance used to reject vhdx images.

Cinder started to validate the image formats a few releases ago for
security reasons, so it will reject creating volumes from Glance
images that have incorrect image formats.

This change ensures that we'll set the right image format when taking
snapshots.

Closes-Bug: #1805442

Change-Id: Ie151ed15bc806e0c16a363734d0c078fe358b899
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/07/620907/1 && git format-patch -1 --stdout FETCH_HEAD,"['compute_hyperv/nova/snapshotops.py', 'compute_hyperv/tests/unit/test_snapshotops.py']",2,a9a82b2e9bdf0549cdbc2b8ad1f6d81e5ca63de3,bug/1805442," self._vhdutils = self._snapshotops._vhdutils fake_fmt = 'fake_fmt' ""disk_format"": fake_fmt, self._vhdutils.get_vhd_format.return_value = fake_fmt.upper() self._vhdutils.get_vhd_format.assert_called_once_with( mock.sentinel.PATH)"," ""disk_format"": ""vhd"",",12,2
openstack%2Fcharm-neutron-gateway~stable%2F18.11~If7de988ddcd8817d02b261bea601d6922275890c,openstack/charm-neutron-gateway,stable/18.11,If7de988ddcd8817d02b261bea601d6922275890c,Set dhcp_domain for nova-metadata-api,MERGED,2018-11-29 09:24:49.000000000,2018-11-29 17:33:05.000000000,2018-11-29 17:33:05.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-29 09:24:49.000000000', 'files': ['templates/newton/nova.conf', 'templates/mitaka/nova.conf'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/ee0378463808105f7200a58746eccb9d48ab58ac', 'message': 'Set dhcp_domain for nova-metadata-api\n\nFor guest operating systems that rely on nova metadata rather than dhcp\noffers for host dns domain settings it is necessary to set dhcp_domain\nin the nova.conf.\n\nChange-Id: If7de988ddcd8817d02b261bea601d6922275890c\nPartial-Bug: #1805645\n'}]",0,620835,ee0378463808105f7200a58746eccb9d48ab58ac,10,4,1,12549,,,0,"Set dhcp_domain for nova-metadata-api

For guest operating systems that rely on nova metadata rather than dhcp
offers for host dns domain settings it is necessary to set dhcp_domain
in the nova.conf.

Change-Id: If7de988ddcd8817d02b261bea601d6922275890c
Partial-Bug: #1805645
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/35/620835/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/newton/nova.conf', 'templates/mitaka/nova.conf']",2,ee0378463808105f7200a58746eccb9d48ab58ac,bug/1805645-stable/18.11,"{% if dns_domain -%} # Per LP#1805645, dhcp_domain needs to be configured for nova-metadata-api # It gets this information from neutron. dhcp_domain = {{ dns_domain }} {% endif -%} ",,12,0
openstack%2Fopenstack-ansible-os_tempest~master~I1466b04ab377a93d4dd1f62564fcb49b863a1229,openstack/openstack-ansible-os_tempest,master,I1466b04ab377a93d4dd1f62564fcb49b863a1229,Enable support to pass override option to tempestconf,MERGED,2018-11-26 09:07:19.000000000,2018-11-29 17:12:55.000000000,2018-11-29 17:12:55.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 8367}, {'_account_id': 12393}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-26 09:07:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/6e47888ec67e64a7612fdc6cc151f27f25eee16b', 'message': 'Enable support to pass override option to tempestconf\n\nThis patch adds the variable tempest_tempestconf_extra_config that can\nbe passed as dictionary and will override some default options in\ntempestconf.\n\nChange-Id: I1466b04ab377a93d4dd1f62564fcb49b863a1229\n'}, {'number': 2, 'created': '2018-11-26 10:17:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/d02df91d5f4e65fb1a65379435b3391e1dc29826', 'message': 'Enable support to pass override option to tempestconf\n\nThis patch adds the variable tempest_tempestconf_extra_config that can\nbe passed as dictionary and will override some default options in\ntempestconf.\n\nChange-Id: I1466b04ab377a93d4dd1f62564fcb49b863a1229\n'}, {'number': 3, 'created': '2018-11-26 13:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/dbe8ed98e2faf210ffafb2e21a164971ea596815', 'message': 'Enable support to pass override option to tempestconf\n\nThis patch adds the variable tempest_tempestconf_extra_config that can\nbe passed as dictionary and will override some default options in\ntempestconf.\n\nChange-Id: I1466b04ab377a93d4dd1f62564fcb49b863a1229\n'}, {'number': 4, 'created': '2018-11-26 13:09:42.000000000', 'files': ['tasks/tempestconf.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/2d8c6cfb116a40681e9dd2c885abc0e999a8a48b', 'message': 'Enable support to pass override option to tempestconf\n\nThis patch adds the variable tempest_tempestconf_extra_cli_call_overrides\nthat can be passed as dictionary and will override some default options\nin tempestconf.\n\nChange-Id: I1466b04ab377a93d4dd1f62564fcb49b863a1229\n'}]",4,619986,2d8c6cfb116a40681e9dd2c885abc0e999a8a48b,38,6,4,8367,,,0,"Enable support to pass override option to tempestconf

This patch adds the variable tempest_tempestconf_extra_cli_call_overrides
that can be passed as dictionary and will override some default options
in tempestconf.

Change-Id: I1466b04ab377a93d4dd1f62564fcb49b863a1229
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/86/619986/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/tempestconf.yml', 'defaults/main.yml']",2,6e47888ec67e64a7612fdc6cc151f27f25eee16b,tempestconf-overrides,tempest_tempestconf_extra_config: auth.use_dynamic_credentials: true,,5,1
openstack%2Fvitrage~master~I67c1c8b2a7d944d0be4d030c66188e950617b1a8,openstack/vitrage,master,I67c1c8b2a7d944d0be4d030c66188e950617b1a8,Bug fix: delete outdated entities for OpenStack datasources,MERGED,2018-11-22 13:25:19.000000000,2018-11-29 16:55:29.000000000,2018-11-29 16:55:29.000000000,"[{'_account_id': 1736}, {'_account_id': 19134}, {'_account_id': 19159}, {'_account_id': 19184}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-22 13:25:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/209d1ec44655b2b86868fc9ff5937e004cb3a81f', 'message': 'Bug fix: delete outdated entities for OpenStack datasources\n\nOpenStack datasources delete entities from Vitrage when they\nreceive a notification about an entity deletion (e.g. nova.instance.delete.end).\nHowever, notifications may be missed sometimes. As a fallback,\nthe consistency enforcer should delete entities that were not\nupdated for a while, if they belong to datasources that implement\nshould_delete_outdated_entities=True\n\nIn general, every datasource that supports get_all should override\nthis function with True.\n\nChange-Id: I67c1c8b2a7d944d0be4d030c66188e950617b1a8\n'}, {'number': 2, 'created': '2018-11-25 16:11:52.000000000', 'files': ['vitrage/datasources/nova/instance/driver.py', 'vitrage/datasources/cinder/volume/driver.py', 'vitrage/datasources/heat/stack/driver.py', 'vitrage/tests/unit/entity_graph/base.py', 'vitrage/tests/functional/entity_graph/consistency/test_consistency.py', 'vitrage/datasources/neutron/port/driver.py', 'vitrage/datasources/neutron/network/driver.py', 'vitrage/datasources/nova/host/driver.py'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/a54f579f2a9ff2369443fef71a73feee5b0bcc14', 'message': 'Bug fix: delete outdated entities for OpenStack datasources\n\nOpenStack datasources delete entities from Vitrage when they\nreceive a notification about an entity deletion (e.g. nova.instance.delete.end).\nHowever, notifications may be missed sometimes. As a fallback,\nthe consistency enforcer should delete entities that were not\nupdated for a while, if they belong to datasources that implement\nshould_delete_outdated_entities=True\n\nIn general, every datasource that supports get_all should override\nthis function with True.\n\nChange-Id: I67c1c8b2a7d944d0be4d030c66188e950617b1a8\n'}]",0,619566,a54f579f2a9ff2369443fef71a73feee5b0bcc14,13,5,2,19159,,,0,"Bug fix: delete outdated entities for OpenStack datasources

OpenStack datasources delete entities from Vitrage when they
receive a notification about an entity deletion (e.g. nova.instance.delete.end).
However, notifications may be missed sometimes. As a fallback,
the consistency enforcer should delete entities that were not
updated for a while, if they belong to datasources that implement
should_delete_outdated_entities=True

In general, every datasource that supports get_all should override
this function with True.

Change-Id: I67c1c8b2a7d944d0be4d030c66188e950617b1a8
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/66/619566/1 && git format-patch -1 --stdout FETCH_HEAD,"['vitrage/datasources/cinder/volume/driver.py', 'vitrage/datasources/nova/instance/driver.py', 'vitrage/datasources/heat/stack/driver.py', 'vitrage/datasources/neutron/port/driver.py', 'vitrage/datasources/neutron/network/driver.py', 'vitrage/datasources/nova/host/driver.py']",6,209d1ec44655b2b86868fc9ff5937e004cb3a81f,delete_outdated_for_os, @staticmethod def should_delete_outdated_entities(): return True,,24,0
openstack%2Fmanila~driverfixes%2Focata~I0e3123483ce765f0da937fa7a179d347e2565fd5,openstack/manila,driverfixes/ocata,I0e3123483ce765f0da937fa7a179d347e2565fd5,Update .gitreview for driverfixes/ocata,ABANDONED,2018-10-08 20:28:16.000000000,2018-11-29 16:27:14.000000000,,"[{'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 24236}]","[{'number': 1, 'created': '2018-10-08 20:28:16.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/manila/commit/00eead5fc5d14a01204c7e2c160dc825b582ecdc', 'message': 'Update .gitreview for driverfixes/ocata\n\nChange-Id: I0e3123483ce765f0da937fa7a179d347e2565fd5\n'}]",0,608763,00eead5fc5d14a01204c7e2c160dc825b582ecdc,6,3,1,22816,,,0,"Update .gitreview for driverfixes/ocata

Change-Id: I0e3123483ce765f0da937fa7a179d347e2565fd5
",git fetch https://review.opendev.org/openstack/manila refs/changes/63/608763/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,00eead5fc5d14a01204c7e2c160dc825b582ecdc,create-ocata,defaultbranch=driverfixes/ocata,defaultbranch=stable/ocata,1,1
openstack%2Fopenstack-ansible-ops~master~Ia8214a273b38418808b063b0192bbf81bf455daf,openstack/openstack-ansible-ops,master,Ia8214a273b38418808b063b0192bbf81bf455daf,Allow the option to specify OSA git repo URL,MERGED,2018-11-28 17:24:51.000000000,2018-11-29 16:25:07.000000000,2018-11-29 16:25:06.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 27926}]","[{'number': 1, 'created': '2018-11-28 17:24:51.000000000', 'files': ['leap-upgrades/lib/functions.sh', 'leap-upgrades/lib/vars.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/2ec3466ad8875572a7bad42902127983fffd3165', 'message': 'Allow the option to specify OSA git repo URL\n\nGiven the leapfrog branches are all EOL and frozen, an operator\nmay need to make changes to branches on a local repo in order to combat\nbit rot over time.\n\nChange-Id: Ia8214a273b38418808b063b0192bbf81bf455daf\n'}]",0,620662,2ec3466ad8875572a7bad42902127983fffd3165,8,5,1,290,,,0,"Allow the option to specify OSA git repo URL

Given the leapfrog branches are all EOL and frozen, an operator
may need to make changes to branches on a local repo in order to combat
bit rot over time.

Change-Id: Ia8214a273b38418808b063b0192bbf81bf455daf
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/62/620662/1 && git format-patch -1 --stdout FETCH_HEAD,"['leap-upgrades/lib/functions.sh', 'leap-upgrades/lib/vars.sh']",2,2ec3466ad8875572a7bad42902127983fffd3165,set_repo_url,"export OSA_REPO_URL=""${OSA_REPO_URL:-https://git.openstack.org/openstack/openstack-ansible}""",,2,1
openstack%2Fcloudkitty~master~If7dfb82e523ca045c1f266396bc6e01406823f11,openstack/cloudkitty,master,If7dfb82e523ca045c1f266396bc6e01406823f11,Make tenant_id a string in hashmap models,MERGED,2018-10-30 09:43:36.000000000,2018-11-29 16:25:07.000000000,2018-11-29 16:25:07.000000000,"[{'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 23173}]","[{'number': 1, 'created': '2018-10-30 09:43:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/23023e061b07c56c4f9ca2ba021b4d5b6dc370e6', 'message': 'Make tenant_id a string in hashmap models\n\nSince scopes are now configurable, the scope_id (tenant_id in hashmap models) is\nnot necessarily a uuid anymore.\n\nThis updates the ""mapping"" and ""threshold"" models of\nthe hashmap module in order to remove uuid validation for the ""tenant_id""\nfield.\n\nWork items:\n\n* Changed the WSME type of tenant_id from Uuid to String\n\n* Added an alembic migration in order to increase the length of tenant_id\n  from 36 to 255.\n\nChange-Id: If7dfb82e523ca045c1f266396bc6e01406823f11\nStory: 2004200\nTask: 27703\n'}, {'number': 2, 'created': '2018-10-30 15:59:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/2c1d57d1214cb535eb201a5915ef5cccc921a756', 'message': 'Make tenant_id a string in hashmap models\n\nSince scopes are now configurable, the scope_id (tenant_id in hashmap models) is\nnot necessarily a uuid anymore.\n\nThis updates the ""mapping"" and ""threshold"" models of\nthe hashmap module in order to remove uuid validation for the ""tenant_id""\nfield.\n\nWork items:\n\n* Changed the WSME type of tenant_id from Uuid to String\n\n* Added an alembic migration in order to increase the length of tenant_id\n  from 36 to 255.\n\nChange-Id: If7dfb82e523ca045c1f266396bc6e01406823f11\nStory: 2004200\nTask: 27703\n'}, {'number': 3, 'created': '2018-11-15 10:15:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/cbdb280fa78aa24764f34560554b783753695b0f', 'message': 'Make tenant_id a string in hashmap models\n\nSince scopes are now configurable, the scope_id (tenant_id in hashmap models) is\nnot necessarily a uuid anymore.\n\nThis updates the ""mapping"" and ""threshold"" models of\nthe hashmap module in order to remove uuid validation for the ""tenant_id""\nfield.\n\nWork items:\n\n* Changed the WSME type of tenant_id from Uuid to String\n\n* Added an alembic migration in order to increase the length of tenant_id\n  from 36 to 255.\n\nChange-Id: If7dfb82e523ca045c1f266396bc6e01406823f11\nStory: 2004200\nTask: 27703\n'}, {'number': 4, 'created': '2018-11-29 08:32:20.000000000', 'files': ['cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/644faa4491fd_update_tenant_id_type_from_uuid_to_text.py', 'cloudkitty/rating/hash/datamodels/threshold.py', 'cloudkitty/rating/hash/db/sqlalchemy/models.py', 'cloudkitty/rating/hash/datamodels/mapping.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/d28469e6fde030fc3f405f0e198227f3b7bbcdaf', 'message': 'Make tenant_id a string in hashmap models\n\nSince scopes are now configurable, the scope_id (tenant_id in hashmap models) is\nnot necessarily a uuid anymore.\n\nThis updates the ""mapping"" and ""threshold"" models of\nthe hashmap module in order to remove uuid validation for the ""tenant_id""\nfield.\n\nWork items:\n\n* Changed the WSME type of tenant_id from Uuid to String\n\n* Added an alembic migration in order to increase the length of tenant_id\n  from 36 to 255.\n\nChange-Id: If7dfb82e523ca045c1f266396bc6e01406823f11\nStory: 2004200\nTask: 27703\n'}]",0,614157,d28469e6fde030fc3f405f0e198227f3b7bbcdaf,13,3,4,23060,,,0,"Make tenant_id a string in hashmap models

Since scopes are now configurable, the scope_id (tenant_id in hashmap models) is
not necessarily a uuid anymore.

This updates the ""mapping"" and ""threshold"" models of
the hashmap module in order to remove uuid validation for the ""tenant_id""
field.

Work items:

* Changed the WSME type of tenant_id from Uuid to String

* Added an alembic migration in order to increase the length of tenant_id
  from 36 to 255.

Change-Id: If7dfb82e523ca045c1f266396bc6e01406823f11
Story: 2004200
Task: 27703
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/57/614157/4 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/644faa4491fd_update_tenant_id_type_from_uuid_to_text.py', 'cloudkitty/rating/hash/datamodels/threshold.py', 'cloudkitty/rating/hash/db/sqlalchemy/models.py', 'cloudkitty/rating/hash/datamodels/mapping.py']",4,23023e061b07c56c4f9ca2ba021b4d5b6dc370e6,change-tenant_id-from-uuid-to-string," tenant_id = wtypes.wsattr(wtypes.text, mandatory=False, default=None) """"""ID of the hashmap tenant."""""""," tenant_id = wtypes.wsattr(ck_types.UuidType(), mandatory=False, default=None) """"""UUID of the hashmap tenant.""""""",103,10
openstack%2Fopenstack-ansible~stable%2Frocky~I313ac15be8803d925cdea7369bc61b36fc642bcd,openstack/openstack-ansible,stable/rocky,I313ac15be8803d925cdea7369bc61b36fc642bcd,haproxy: remove repo_cache service,MERGED,2018-11-27 15:05:54.000000000,2018-11-29 16:17:52.000000000,2018-11-29 16:17:52.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-27 15:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/10f782f931ce5ccaa3fff190b11c342178a0a1f4', 'message': ""haproxy: remove repo_cache service\n\nThe repo_cache service was removed in Rocky however we don't\nactually remove that file which means the configuration stays.\n\nChange-Id: I313ac15be8803d925cdea7369bc61b36fc642bcd\n""}, {'number': 2, 'created': '2018-11-27 15:14:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/edf64627005ab6dfceb02acd327a29690ba42290', 'message': ""haproxy: remove repo_cache service\n\nThe repo_cache service was removed in Rocky however we don't\nactually remove that file which means the configuration stays.\n\nDepends-On: I1db5932c559b5e04d330c114164869dd43c1cbb2\nChange-Id: I313ac15be8803d925cdea7369bc61b36fc642bcd\n""}, {'number': 3, 'created': '2018-11-28 14:12:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/bfcdbeca1caf5cefeed7d24843d671d3fe99df91', 'message': ""haproxy: remove repo_cache service\n\nThe repo_cache service was removed in Rocky however we don't\nactually remove that file which means the configuration stays.\n\nDepends-On: I1db5932c559b5e04d330c114164869dd43c1cbb2\nChange-Id: I313ac15be8803d925cdea7369bc61b36fc642bcd\n""}, {'number': 4, 'created': '2018-11-28 14:18:51.000000000', 'files': ['inventory/group_vars/haproxy/haproxy.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/43a165ee36e52648aad0732c487245e750c8cb63', 'message': ""haproxy: remove repo_cache service\n\nThe repo_cache service was removed in Rocky however we don't\nactually remove that file which means the configuration stays.\n\nDepends-On: I1db5932c559b5e04d330c114164869dd43c1cbb2\nChange-Id: I313ac15be8803d925cdea7369bc61b36fc642bcd\n""}]",0,620336,43a165ee36e52648aad0732c487245e750c8cb63,13,4,4,1004,,,0,"haproxy: remove repo_cache service

The repo_cache service was removed in Rocky however we don't
actually remove that file which means the configuration stays.

Depends-On: I1db5932c559b5e04d330c114164869dd43c1cbb2
Change-Id: I313ac15be8803d925cdea7369bc61b36fc642bcd
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/36/620336/4 && git format-patch -1 --stdout FETCH_HEAD,['inventory/group_vars/haproxy/haproxy.yml'],1,10f782f931ce5ccaa3fff190b11c342178a0a1f4,queens-to-rocky," # NOTE(mnaser): The repo_cache service has been removed in Rocky, so this # removes it to avoid having downed endpoints - service: haproxy_service_name: repo_cache state: absent",,5,0
openstack%2Fcharm-octavia~master~I29b15c5eb401646691f5281d2514128c40592613,openstack/charm-octavia,master,I29b15c5eb401646691f5281d2514128c40592613,Add ``service_auth`` section,MERGED,2018-11-19 14:27:03.000000000,2018-11-29 15:59:31.000000000,2018-11-29 15:59:31.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-19 14:27:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/4afa2f08c4b9f5418729e7b255726d17d9bf3dc0', 'message': 'Add ``service_auth`` section\n\nOctavia requries a ``service_auth`` section in addition to\nthe ``keystone_authtoken`` section for use with its OpenStack\nresource orchestration activities.\n\nIn our case they will be equal as we have already branched\nservice accounts out into a separate doman and project.\n\nChange-Id: I29b15c5eb401646691f5281d2514128c40592613\n'}, {'number': 2, 'created': '2018-11-21 16:09:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/2e88858b2cb79a3a94a6c79d26e979840336d353', 'message': 'Add ``service_auth`` section\n\nOctavia requries a ``service_auth`` section in addition to\nthe ``keystone_authtoken`` section for use with its OpenStack\nresource orchestration activities.\n\nIn our case they will be equal as we have already branched\nservice accounts out into a separate doman and project.\n\nChange-Id: I29b15c5eb401646691f5281d2514128c40592613\n'}, {'number': 3, 'created': '2018-11-27 16:13:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/7f9c2596964957e3359f9e23965d88fa84549810', 'message': 'Add ``service_auth`` section\n\nOctavia requries a ``service_auth`` section in addition to\nthe ``keystone_authtoken`` section for use with its OpenStack\nresource orchestration activities.\n\nIn our case they will be equal as we have already branched\nservice accounts out into a separate doman and project.\n\nChange-Id: I29b15c5eb401646691f5281d2514128c40592613\n'}, {'number': 4, 'created': '2018-11-27 16:27:10.000000000', 'files': ['src/templates/rocky/octavia.conf'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/0cc41b5dcd3ef1214b64cb9309bff00dba80a55b', 'message': 'Add ``service_auth`` section\n\nOctavia requries a ``service_auth`` section in addition to\nthe ``keystone_authtoken`` section for use with its OpenStack\nresource orchestration activities.\n\nIn our case they will be equal as we have already branched\nservice accounts out into a separate doman and project.\n\nChange-Id: I29b15c5eb401646691f5281d2514128c40592613\n'}]",0,618759,0cc41b5dcd3ef1214b64cb9309bff00dba80a55b,14,3,4,13686,,,0,"Add ``service_auth`` section

Octavia requries a ``service_auth`` section in addition to
the ``keystone_authtoken`` section for use with its OpenStack
resource orchestration activities.

In our case they will be equal as we have already branched
service accounts out into a separate doman and project.

Change-Id: I29b15c5eb401646691f5281d2514128c40592613
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/59/618759/1 && git format-patch -1 --stdout FETCH_HEAD,['src/templates/rocky/octavia.conf'],1,4afa2f08c4b9f5418729e7b255726d17d9bf3dc0,octavia-charm,[service_auth] auth_type = password auth_uri = {{ identity_service.service_protocol }}://{{ identity_service.service_host }}:{{ identity_service.service_port }} auth_url = {{ identity_service.auth_protocol }}://{{ identity_service.auth_host }}:{{ identity_service.auth_port }} project_domain_name = {{ identity_service.service_domain }} user_domain_name = {{ identity_service.service_domain }} project_name = {{ identity_service.service_tenant }} username = {{ identity_service.service_username }} password = {{ identity_service.service_password }} ,,10,0
openstack%2Fdevstack-plugin-container~master~Ib049d66058429e499f5d0932c4a749820bec73ff,openstack/devstack-plugin-container,master,Ib049d66058429e499f5d0932c4a749820bec73ff,Add support for CRI-O as container engine,MERGED,2018-11-27 19:04:50.000000000,2018-11-29 15:52:02.000000000,2018-11-29 15:52:01.000000000,"[{'_account_id': 9820}, {'_account_id': 11536}, {'_account_id': 11600}, {'_account_id': 14119}, {'_account_id': 14352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-27 19:04:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/123ebc2fb4580800f8ac161118f12f817c4a967c', 'message': 'Add support for CRI-O as container engine\n\nThis commit adds support for CRI-O. Support for Fedora/CentOS is in\nprogress.\n\nChange-Id: Ib049d66058429e499f5d0932c4a749820bec73ff\n'}, {'number': 2, 'created': '2018-11-28 19:19:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/17f6cfed1fc23e5b1e77c1de582d9fae1599e965', 'message': 'Add support for CRI-O as container engine\n\nThis commit adds support for CRI-O. Support for Fedora/CentOS is in\nprogress.\n\nChange-Id: Ib049d66058429e499f5d0932c4a749820bec73ff\n'}, {'number': 3, 'created': '2018-11-29 08:43:51.000000000', 'files': ['devstack/lib/crio', 'devstack/plugin.sh', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/63c7b8eddc22a57975fe0f3682c891bfb53956a0', 'message': 'Add support for CRI-O as container engine\n\nThis commit adds support for CRI-O. Support for Fedora/CentOS is in\nprogress.\n\nChange-Id: Ib049d66058429e499f5d0932c4a749820bec73ff\n'}]",3,620387,63c7b8eddc22a57975fe0f3682c891bfb53956a0,17,6,3,11600,,,0,"Add support for CRI-O as container engine

This commit adds support for CRI-O. Support for Fedora/CentOS is in
progress.

Change-Id: Ib049d66058429e499f5d0932c4a749820bec73ff
",git fetch https://review.opendev.org/openstack/devstack-plugin-container refs/changes/87/620387/3 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/lib/crio', 'devstack/plugin.sh', 'devstack/settings']",3,123ebc2fb4580800f8ac161118f12f817c4a967c,crio,"# Supported options are ""docker"" and ""crio"".",,104,0
openstack%2Fpython-freezerclient~master~I15b5f489891aeaa5191dc7400ef10fe7bd60c201,openstack/python-freezerclient,master,I15b5f489891aeaa5191dc7400ef10fe7bd60c201,add python 3.6 unit test job,MERGED,2018-11-28 06:51:43.000000000,2018-11-29 15:51:59.000000000,2018-11-29 15:51:58.000000000,"[{'_account_id': 21387}, {'_account_id': 22348}, {'_account_id': 22405}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-11-28 06:51:43.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/0a73a2d3de69d0742e83fc16488a2f0815b70924', 'message': 'add python 3.6 unit test job\n\nThis is a mechanically generated patch to add a unit test job running\nunder Python 3.6 as part of the python3-first goal.\n\nSee the python3-first goal document for details:\nhttps://governance.openstack.org/tc/goals/stein/python3-first.html\n\nChange-Id: I15b5f489891aeaa5191dc7400ef10fe7bd60c201\nStory: #2002586\n'}]",0,620480,0a73a2d3de69d0742e83fc16488a2f0815b70924,8,4,1,28543,,,0,"add python 3.6 unit test job

This is a mechanically generated patch to add a unit test job running
under Python 3.6 as part of the python3-first goal.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: I15b5f489891aeaa5191dc7400ef10fe7bd60c201
Story: #2002586
",git fetch https://review.opendev.org/openstack/python-freezerclient refs/changes/80/620480/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0a73a2d3de69d0742e83fc16488a2f0815b70924,,"envlist = py27,py35,py36,pep8,pylint,docs","envlist = py27,py35,pep8,pylint,docs",1,1
openstack%2Fgovernance~master~Iaf2fcd84faa4e6587200dca8ce98e83181a98d6e,openstack/governance,master,Iaf2fcd84faa4e6587200dca8ce98e83181a98d6e,Make Python 3 testing requirement less specific,ABANDONED,2018-10-16 15:23:11.000000000,2018-11-29 15:42:17.000000000,,"[{'_account_id': 2472}, {'_account_id': 4257}, {'_account_id': 5263}, {'_account_id': 10608}, {'_account_id': 11564}, {'_account_id': 11805}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-16 15:23:11.000000000', 'files': ['reference/pti/python.rst', 'reference/project-testing-interface.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/95627cbe5c02487332c4207f0da1a980eef8d801', 'message': 'Make Python 3 testing requirement less specific\n\nOur Python 3 versions used for testing have traditionally followed\nthe defaults available on the platforms we use to run these tests.\nAvoid conflicting with the main PTI by stating this in the Python\nPTI document. Drop the caveat saying this only applies to projects\nwhich are compatible with Python 3 since we now expect all\nPython-based projects to be working on at least getting (some subset\nof) their unit tests working on Python 3.\n\nChange-Id: Iaf2fcd84faa4e6587200dca8ce98e83181a98d6e\n'}]",8,611010,95627cbe5c02487332c4207f0da1a980eef8d801,21,8,1,5263,,,0,"Make Python 3 testing requirement less specific

Our Python 3 versions used for testing have traditionally followed
the defaults available on the platforms we use to run these tests.
Avoid conflicting with the main PTI by stating this in the Python
PTI document. Drop the caveat saying this only applies to projects
which are compatible with Python 3 since we now expect all
Python-based projects to be working on at least getting (some subset
of) their unit tests working on Python 3.

Change-Id: Iaf2fcd84faa4e6587200dca8ce98e83181a98d6e
",git fetch https://review.opendev.org/openstack/governance refs/changes/10/611010/1 && git format-patch -1 --stdout FETCH_HEAD,"['reference/pti/python.rst', 'reference/project-testing-interface.rst']",2,95627cbe5c02487332c4207f0da1a980eef8d801,formal-vote,.. _pti-linux-distros: ,,3,4
openstack%2Fopenstack-helm-infra~master~I00536dabadf9bd354219058d8efd054c60952bbd,openstack/openstack-helm-infra,master,I00536dabadf9bd354219058d8efd054c60952bbd,Fluentbit/Node Exporter: Remove unused tolerations key,MERGED,2018-11-27 18:38:24.000000000,2018-11-29 15:40:03.000000000,2018-11-29 15:40:03.000000000,"[{'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-11-27 18:38:24.000000000', 'files': ['prometheus-node-exporter/values.yaml', 'fluent-logging/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/26c377398367efd07dc1ff9a8e87898b25601e9c', 'message': 'Fluentbit/Node Exporter: Remove unused tolerations key\n\nThis removes the tolerations key from the labels entries. As the\nboolean check is on the pod.tolerations.enabled key instead, the\nlabels.foo.tolerations key is no longer used and should be removed\n\nChange-Id: I00536dabadf9bd354219058d8efd054c60952bbd\n'}]",0,620383,26c377398367efd07dc1ff9a8e87898b25601e9c,8,3,1,17591,,,0,"Fluentbit/Node Exporter: Remove unused tolerations key

This removes the tolerations key from the labels entries. As the
boolean check is on the pod.tolerations.enabled key instead, the
labels.foo.tolerations key is no longer used and should be removed

Change-Id: I00536dabadf9bd354219058d8efd054c60952bbd
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/83/620383/1 && git format-patch -1 --stdout FETCH_HEAD,"['prometheus-node-exporter/values.yaml', 'fluent-logging/values.yaml']",2,26c377398367efd07dc1ff9a8e87898b25601e9c,node-exporter/fix-tolerations,," #(NOTE:seungkyua): when tolerations is true, nodeSelector will be disabled. tolerations: false",0,4
openstack%2Fproject-config~master~Ide417bea45b541000ae10ec113de302ed25ffe62,openstack/project-config,master,Ide417bea45b541000ae10ec113de302ed25ffe62,Temporarily disable vexxhost-sjc1 in nodepool,ABANDONED,2018-11-29 14:38:34.000000000,2018-11-29 15:34:55.000000000,,"[{'_account_id': 2}, {'_account_id': 4162}, {'_account_id': 13252}]","[{'number': 1, 'created': '2018-11-29 14:38:34.000000000', 'files': ['nodepool/nl03.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/59abcd5cd92d34abfc77c05c5a2dceca809f56dd', 'message': ""Temporarily disable vexxhost-sjc1 in nodepool\n\nThe mirror01.sjc1.vexxhost.openstack.org instance seems to have\nbecome disconnected from the network as of ~02:30 UTC today and is\nfurther unable to reestablish a network connection, even following a\nreboot. While we attempt to ressurrect or replace it, take its\nregion offline in nodepool so that it doesn't create any further\ndisruption for running jobs.\n\nChange-Id: Ide417bea45b541000ae10ec113de302ed25ffe62\n""}]",0,620924,59abcd5cd92d34abfc77c05c5a2dceca809f56dd,6,3,1,5263,,,0,"Temporarily disable vexxhost-sjc1 in nodepool

The mirror01.sjc1.vexxhost.openstack.org instance seems to have
become disconnected from the network as of ~02:30 UTC today and is
further unable to reestablish a network connection, even following a
reboot. While we attempt to ressurrect or replace it, take its
region offline in nodepool so that it doesn't create any further
disruption for running jobs.

Change-Id: Ide417bea45b541000ae10ec113de302ed25ffe62
",git fetch https://review.opendev.org/openstack/project-config refs/changes/24/620924/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl03.openstack.org.yaml'],1,59abcd5cd92d34abfc77c05c5a2dceca809f56dd,vexxhost-sjc1, max-servers: 0, max-servers: 50,1,1
openstack%2Fneutron-dynamic-routing~master~I57d1da3126cb60e0e25d613a9766a799f331dab0,openstack/neutron-dynamic-routing,master,I57d1da3126cb60e0e25d613a9766a799f331dab0,Switch to new engine facade in test_bgp_dragent_scheduler.py,ABANDONED,2018-11-22 22:51:34.000000000,2018-11-29 15:33:22.000000000,,"[{'_account_id': 4187}, {'_account_id': 6854}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 27654}, {'_account_id': 28581}]","[{'number': 1, 'created': '2018-11-22 22:51:34.000000000', 'files': ['neutron_dynamic_routing/tests/unit/services/bgp/scheduler/test_bgp_dragent_scheduler.py'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/8e925563b393b22d09d8293354c0a2e001aa3ced', 'message': 'Switch to new engine facade in test_bgp_dragent_scheduler.py\n\nCloses-Bug: #1803745\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I57d1da3126cb60e0e25d613a9766a799f331dab0\n'}]",7,619652,8e925563b393b22d09d8293354c0a2e001aa3ced,13,6,1,27654,,,0,"Switch to new engine facade in test_bgp_dragent_scheduler.py

Closes-Bug: #1803745
Partially-Implements blueprint: enginefacade-switch

Change-Id: I57d1da3126cb60e0e25d613a9766a799f331dab0
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/52/619652/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_dynamic_routing/tests/unit/services/bgp/scheduler/test_bgp_dragent_scheduler.py'],1,8e925563b393b22d09d8293354c0a2e001aa3ced,bug/1803745,"from neutron_lib.db import api as db_api with db_api.CONTEXT_WRITER.using(self.ctx): agents = self._create_and_set_agents_down([self.host1, self.host2]) self._schedule_bind_bgp_speaker([agents[0]], self.bgp_speaker_id) self._kill_bgp_dragent([self.host1]) self.plugin.remove_bgp_speaker_from_down_dragents() binds = self._get_dragent_bgp_speaker_bindings(self.bgp_speaker_id) self.assertEqual(binds[0].agent_id, agents[1].id) with db_api.CONTEXT_WRITER.using(self.ctx): agents = self._create_and_set_agents_down([self.host1, self.host2]) self._schedule_bind_bgp_speaker([agents[0]], self.bgp_speaker_id) self._kill_bgp_dragent([self.host1, self.host2]) self.plugin.remove_bgp_speaker_from_down_dragents() binds = self._get_dragent_bgp_speaker_bindings(self.bgp_speaker_id) self.assertEqual(binds, []) with db_api.CONTEXT_WRITER.using(self.ctx): agents = self._create_and_set_agents_down([self.host1, self.host2]) self._schedule_bind_bgp_speaker([agents[0]], self.bgp_speaker_id) self._kill_bgp_dragent([self.host1, self.host2]) self.plugin.remove_bgp_speaker_from_down_dragents() binds = self._get_dragent_bgp_speaker_bindings(self.bgp_speaker_id) self.assertEqual(binds, []) # schedule a unbind bgp speaker agents = self._create_and_set_agents_down([self.host1]) self.scheduler.schedule_all_unscheduled_bgp_speakers(self.ctx) binds = self._get_dragent_bgp_speaker_bindings(self.bgp_speaker_id) self.assertEqual(binds[0].agent_id, agents[0].id)"," agents = self._create_and_set_agents_down([self.host1, self.host2]) self._schedule_bind_bgp_speaker([agents[0]], self.bgp_speaker_id) self._kill_bgp_dragent([self.host1]) self.plugin.remove_bgp_speaker_from_down_dragents() binds = self._get_dragent_bgp_speaker_bindings(self.bgp_speaker_id) self.assertEqual(binds[0].agent_id, agents[1].id) agents = self._create_and_set_agents_down([self.host1, self.host2]) self._schedule_bind_bgp_speaker([agents[0]], self.bgp_speaker_id) self._kill_bgp_dragent([self.host1, self.host2]) self.plugin.remove_bgp_speaker_from_down_dragents() binds = self._get_dragent_bgp_speaker_bindings(self.bgp_speaker_id) self.assertEqual(binds, []) agents = self._create_and_set_agents_down([self.host1, self.host2]) self._schedule_bind_bgp_speaker([agents[0]], self.bgp_speaker_id) self._kill_bgp_dragent([self.host1, self.host2]) self.plugin.remove_bgp_speaker_from_down_dragents() binds = self._get_dragent_bgp_speaker_bindings(self.bgp_speaker_id) self.assertEqual(binds, []) # schedule a unbind bgp speaker agents = self._create_and_set_agents_down([self.host1]) self.scheduler.schedule_all_unscheduled_bgp_speakers(self.ctx) binds = self._get_dragent_bgp_speaker_bindings(self.bgp_speaker_id) self.assertEqual(binds[0].agent_id, agents[0].id)",27,23
openstack%2Fpuppet-aodh~master~Ia24dded74c85a41ea595dc34adc055baac94535a,openstack/puppet-aodh,master,Ia24dded74c85a41ea595dc34adc055baac94535a,deprecated puppet-aodh,ABANDONED,2018-10-18 14:51:14.000000000,2018-11-29 15:24:36.000000000,,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 15519}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-18 14:51:14.000000000', 'files': ['manifests/init.pp', 'README.md'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/2e57de36742f68bac2f201c7d062f7b06eab23c3', 'message': 'deprecated puppet-aodh\n\nChange-Id: Ia24dded74c85a41ea595dc34adc055baac94535a\n'}]",0,611635,2e57de36742f68bac2f201c7d062f7b06eab23c3,8,6,1,2813,,,0,"deprecated puppet-aodh

Change-Id: Ia24dded74c85a41ea595dc34adc055baac94535a
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/35/611635/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'README.md']",2,2e57de36742f68bac2f201c7d062f7b06eab23c3,,*This module is DEPRECATED* ,,4,0
openstack%2Fgovernance~master~I58b0b9c03e94332e1ee35be1cc486c6c92188376,openstack/governance,master,I58b0b9c03e94332e1ee35be1cc486c6c92188376,Retire openstack-ansible-os_monasca-ui,MERGED,2018-11-12 12:54:09.000000000,2018-11-29 15:22:12.000000000,2018-11-29 15:22:12.000000000,"[{'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 4257}, {'_account_id': 5638}, {'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 16222}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 27143}]","[{'number': 1, 'created': '2018-11-12 12:54:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/623f0f8a988be571e6bec9b357fd77dd449407c2', 'message': 'Retire openstack-ansible-os_monasca-ui\n\nDepends-On: https://review.openstack.org/617195\nDepends-On: https://review.openstack.org/617204\nDepends-On: https://review.openstack.org/617212\nDepends-On: https://review.openstack.org/617321\nChange-Id: I58b0b9c03e94332e1ee35be1cc486c6c92188376\n'}, {'number': 2, 'created': '2018-11-20 17:26:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/6fa359916b38107d87b8822e7dcf2d6d696b4df6', 'message': 'Retire openstack-ansible-os_monasca-ui\n\nDepends-On: https://review.openstack.org/617195\nDepends-On: https://review.openstack.org/617204\nDepends-On: https://review.openstack.org/617212\nDepends-On: https://review.openstack.org/617321\nChange-Id: I58b0b9c03e94332e1ee35be1cc486c6c92188376\n'}, {'number': 3, 'created': '2018-11-21 11:39:36.000000000', 'files': ['reference/legacy.yaml', 'reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/7af02fc321533cfdc6a8c679176058f55380ed7d', 'message': 'Retire openstack-ansible-os_monasca-ui\n\nDepends-On: https://review.openstack.org/617195\nDepends-On: https://review.openstack.org/617204\nDepends-On: https://review.openstack.org/617212\nDepends-On: https://review.openstack.org/617321\nChange-Id: I58b0b9c03e94332e1ee35be1cc486c6c92188376\n'}]",4,617322,7af02fc321533cfdc6a8c679176058f55380ed7d,26,10,3,27143,,,0,"Retire openstack-ansible-os_monasca-ui

Depends-On: https://review.openstack.org/617195
Depends-On: https://review.openstack.org/617204
Depends-On: https://review.openstack.org/617212
Depends-On: https://review.openstack.org/617321
Change-Id: I58b0b9c03e94332e1ee35be1cc486c6c92188376
",git fetch https://review.opendev.org/openstack/governance refs/changes/22/617322/1 && git format-patch -1 --stdout FETCH_HEAD,"['reference/legacy.yaml', 'reference/projects.yaml']",2,623f0f8a988be571e6bec9b357fd77dd449407c2,project-update,, openstack-ansible-os_monasca-ui: repos: - openstack/openstack-ansible-os_monasca-ui,16,3
openstack%2Fkolla-ansible~master~If4a0919bfcd6b8d8a6bfd5df9001b4967e441e7e,openstack/kolla-ansible,master,If4a0919bfcd6b8d8a6bfd5df9001b4967e441e7e,Fix section keystone_authtoken of sahara.conf,MERGED,2018-11-28 22:04:41.000000000,2018-11-29 15:20:26.000000000,2018-11-29 10:23:06.000000000,"[{'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 23717}]","[{'number': 1, 'created': '2018-11-28 22:04:41.000000000', 'files': ['ansible/roles/sahara/templates/sahara.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b439d48ab321f1e30c99e3114bc2ac967f5a1efc', 'message': 'Fix section keystone_authtoken of sahara.conf\n\nTested on Rocky, it seems there is no admin_* variables and some others\nare missing (username/password/...) causing keystone to return http code\n400 responses.\n\nChange-Id: If4a0919bfcd6b8d8a6bfd5df9001b4967e441e7e\nCloses-Bug: #1805714\n'}]",2,620712,b439d48ab321f1e30c99e3114bc2ac967f5a1efc,9,3,1,29051,,,0,"Fix section keystone_authtoken of sahara.conf

Tested on Rocky, it seems there is no admin_* variables and some others
are missing (username/password/...) causing keystone to return http code
400 responses.

Change-Id: If4a0919bfcd6b8d8a6bfd5df9001b4967e441e7e
Closes-Bug: #1805714
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/12/620712/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/sahara/templates/sahara.conf.j2'],1,b439d48ab321f1e30c99e3114bc2ac967f5a1efc,bug/1805714,user_domain_name = {{ default_project_domain_name }} project_name = service project_domain_name = {{ default_project_domain_name }} username = {{ sahara_keystone_user }} password = {{ sahara_keystone_password }},www_authenticate_uri = {{ internal_protocol }}://{{ kolla_internal_fqdn }}:{{ keystone_public_port }}admin_user = {{ sahara_keystone_user }} admin_password = {{ sahara_keystone_password }} admin_tenant_name = service,5,4
openstack%2Fgovernance~master~Ib480c47d609de4fbe7be4cf3c1f05d464e8d343d,openstack/governance,master,Ib480c47d609de4fbe7be4cf3c1f05d464e8d343d,clarify chair responsibility for managing chair selection process,MERGED,2018-11-28 16:49:55.000000000,2018-11-29 15:17:59.000000000,2018-11-29 15:17:59.000000000,"[{'_account_id': 2472}, {'_account_id': 4257}, {'_account_id': 5638}, {'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-28 16:49:55.000000000', 'files': ['CHAIR.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/131b8b65620a9dff522b7b5c6aefaef5d220d8a9', 'message': 'clarify chair responsibility for managing chair selection process\n\nChange-Id: Ib480c47d609de4fbe7be4cf3c1f05d464e8d343d\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,620657,131b8b65620a9dff522b7b5c6aefaef5d220d8a9,11,7,1,2472,,,0,"clarify chair responsibility for managing chair selection process

Change-Id: Ib480c47d609de4fbe7be4cf3c1f05d464e8d343d
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/governance refs/changes/57/620657/1 && git format-patch -1 --stdout FETCH_HEAD,['CHAIR.rst'],1,131b8b65620a9dff522b7b5c6aefaef5d220d8a9,documentation-change,"* start the chair selection process by encouraging TC members to consider serving as chair by proposing a patch to the member list to add ""chair"" status next to their name * monitor and coordinate the discussion and selection of the new chair","* propose a patch to restore chair status, if planning to serve again",4,1
openstack%2Fgovernance~master~Ic73ca9bf3e9a1385c58161e449714ece3599baef,openstack/governance,master,Ic73ca9bf3e9a1385c58161e449714ece3599baef,update chair guide reference to closed mailing list,MERGED,2018-11-28 16:49:55.000000000,2018-11-29 15:17:58.000000000,2018-11-29 15:17:58.000000000,"[{'_account_id': 2472}, {'_account_id': 4257}, {'_account_id': 5638}, {'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-28 16:49:55.000000000', 'files': ['CHAIR.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/8612775743a258fad740846cceea29d74f494eae', 'message': 'update chair guide reference to closed mailing list\n\nChange-Id: Ic73ca9bf3e9a1385c58161e449714ece3599baef\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,620656,8612775743a258fad740846cceea29d74f494eae,10,6,1,2472,,,0,"update chair guide reference to closed mailing list

Change-Id: Ic73ca9bf3e9a1385c58161e449714ece3599baef
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/governance refs/changes/56/620656/1 && git format-patch -1 --stdout FETCH_HEAD,['CHAIR.rst'],1,8612775743a258fad740846cceea29d74f494eae,documentation-change,"* encourage all TC members to include the ""[tc]"" topic in their filter list for the openstack-discuss mailing list",* encourage all TC members to sign up for the openstack-tc mailing list (while it exists),2,2
openstack%2Fpuppet-ceilometer~master~Idb200319b86062f0d145cd1650349dd8337a953d,openstack/puppet-ceilometer,master,Idb200319b86062f0d145cd1650349dd8337a953d,deprecate pki related options,MERGED,2018-11-22 03:43:44.000000000,2018-11-29 15:09:49.000000000,2018-11-29 15:09:49.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-22 03:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/50ae4b0f131461b18266e06a78c436dea798568d', 'message': 'Deprecate check_revocations_for_cached option\n\ncheck_revocations_for_cached is deprecated for removel because of PKI\ntoken format is no longer supported.\nUpdate warning message and add a release note.\n\nChange-Id: Idb200319b86062f0d145cd1650349dd8337a953d\nCloses-Bug: #1804562\n'}, {'number': 2, 'created': '2018-11-23 02:26:14.000000000', 'files': ['spec/classes/ceilometer_keystone_authtoken_spec.rb', 'releasenotes/notes/deprecate_pki_related_parameters-8935812c56ec2750.yaml', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/6e5261868a59ae7f05a20b22f4e7bc66bce067ef', 'message': 'deprecate pki related options\n\ncheck_revocations_for_cached and hash_algorithms are deprecated for\nremovel because of PKI token format is no longer supported.\nUpdate warning message and add a release note.\n\nChange-Id: Idb200319b86062f0d145cd1650349dd8337a953d\nCloses-Bug: #1804562\nCloses-Bug: #1804720\n'}]",0,619412,6e5261868a59ae7f05a20b22f4e7bc66bce067ef,22,4,2,9414,,,0,"deprecate pki related options

check_revocations_for_cached and hash_algorithms are deprecated for
removel because of PKI token format is no longer supported.
Update warning message and add a release note.

Change-Id: Idb200319b86062f0d145cd1650349dd8337a953d
Closes-Bug: #1804562
Closes-Bug: #1804720
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/12/619412/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ceilometer_keystone_authtoken_spec.rb', 'releasenotes/notes/deprecate_check_revocations_for_cached_parameter-a57db548e43d5ffb.yaml', 'manifests/keystone/authtoken.pp']",3,50ae4b0f131461b18266e06a78c436dea798568d,bug/1804562,"# [*check_revocations_for_cached*] # (Optional) If true, the revocation list will be checked for cached tokens. # This requires that PKI tokens are configured on the identity server. # boolean value. # Defaults to undef. # $check_revocations_for_cached = undef, if $check_revocations_for_cached { warning('check_revocations_for_cached parameter is deprecated, has no effect and will be removed in the future.') } ","# [*check_revocations_for_cached*] # (Optional) If true, the revocation list will be checked for cached tokens. # This requires that PKI tokens are configured on the identity server. # boolean value. # Defaults to $::os_service_default. # $check_revocations_for_cached = $::os_service_default, check_revocations_for_cached => $check_revocations_for_cached,",15,11
openstack%2Ftripleo-quickstart-extras~master~I716da6f67bdc4ca9195d8f346794d7353e767493,openstack/tripleo-quickstart-extras,master,I716da6f67bdc4ca9195d8f346794d7353e767493,Fix regression of collect-logs package listing,ABANDONED,2018-11-15 13:16:21.000000000,2018-11-29 15:07:03.000000000,,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2018-11-15 13:16:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d7fd55a5a663ce3562c97592134eb0f99f5fbf81', 'message': 'Fix regression of collect-logs package listing\n\nError: unexpected EOF while looking for matching\nSee http://logs.openstack.org/91/610491/44/check/tripleo-ci-centos-7-scenario002-multinode-oooq-container/941fac4/logs/quickstart_collect_logs.log\n\nChange-Id: I716da6f67bdc4ca9195d8f346794d7353e767493\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/377\n'}, {'number': 2, 'created': '2018-11-15 14:17:33.000000000', 'files': ['roles/collect-logs/tasks/collect.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/74bdd86fa4dcef843aa3844553d561ed5f6f8f83', 'message': 'Fix regression of collect-logs package listing\n\nError: unexpected EOF while looking for matching\nSee http://logs.openstack.org/91/610491/44/check/tripleo-ci-centos-7-scenario002-multinode-oooq-container/941fac4/logs/quickstart_collect_logs.log\n\nChange-Id: I716da6f67bdc4ca9195d8f346794d7353e767493\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/377\n'}]",2,618163,74bdd86fa4dcef843aa3844553d561ed5f6f8f83,16,11,2,24162,,,0,"Fix regression of collect-logs package listing

Error: unexpected EOF while looking for matching
See http://logs.openstack.org/91/610491/44/check/tripleo-ci-centos-7-scenario002-multinode-oooq-container/941fac4/logs/quickstart_collect_logs.log

Change-Id: I716da6f67bdc4ca9195d8f346794d7353e767493
Story: https://tree.taiga.io/project/tripleo-ci-board/task/377
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/63/618163/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/collect-logs/tasks/collect.yml'],1,d7fd55a5a663ce3562c97592134eb0f99f5fbf81,oooq/collect-logs," ""${engine} exec $cont bash -c \""\$\(command -v dnf || command -v yum\) list installed\"""""," ""${engine} exec $cont bash -c \""\$(command -v dnf || command -v yum) list installed\""""",1,1
openstack%2Fneutron-lib~master~I978668ee073c26d6e05ea5e5a0a4e16a7e513fa1,openstack/neutron-lib,master,I978668ee073c26d6e05ea5e5a0a4e16a7e513fa1,Fix QoS alias api definition,MERGED,2018-11-28 00:15:15.000000000,2018-11-29 15:05:22.000000000,2018-11-29 15:05:22.000000000,"[{'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-28 00:15:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/2b32ad31bcec26bec55fbba78a5541e076d12624', 'message': 'Fix QoS alias api definition\n\nFix QoS alias api definition\n\nChange-Id: I978668ee073c26d6e05ea5e5a0a4e16a7e513fa1\n'}, {'number': 2, 'created': '2018-11-28 00:35:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/4e1001d9664f5da447f6bf8daff4ff160a35365a', 'message': 'Fix QoS alias api definition\n\nFix QoS alias api definition\n\nChange-Id: I978668ee073c26d6e05ea5e5a0a4e16a7e513fa1\n'}, {'number': 3, 'created': '2018-11-29 03:47:12.000000000', 'files': ['api-ref/source/v2/qos.inc', 'neutron_lib/tests/unit/api/definitions/test_qos_rules_alias.py', 'neutron_lib/api/definitions/qos_rules_alias.py', 'releasenotes/notes/qos-rules-alias-ext-fix-3f3f7dd21837cfec.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/ab284169b2f4a859affc995dbd4cd4eebf7b96e1', 'message': 'Fix QoS alias api definition\n\nChange [1] wrongly attempted to re-define bandwidth_limit_rules,\ndscp_marking_rules and minimum_bandwidth_rules as first level API\nresources, leading to conflicts in the QoS API. We now define\nalias_bandwidth_limit_rules, alias_dscp_marking_rules and\nalias_minimum_bandwidth_rules that will enable users to perform GET,\nPUT and DELETE operations on the corresponding QoS rules without having\nto specify the associated policy ID.\n\n[1] I5366dfee9b760ff5c884981582cdd17245b4d16f\n\nChange-Id: I978668ee073c26d6e05ea5e5a0a4e16a7e513fa1\nPartial-Bug: #1777627\n'}]",0,620429,ab284169b2f4a859affc995dbd4cd4eebf7b96e1,11,4,3,4694,,,0,"Fix QoS alias api definition

Change [1] wrongly attempted to re-define bandwidth_limit_rules,
dscp_marking_rules and minimum_bandwidth_rules as first level API
resources, leading to conflicts in the QoS API. We now define
alias_bandwidth_limit_rules, alias_dscp_marking_rules and
alias_minimum_bandwidth_rules that will enable users to perform GET,
PUT and DELETE operations on the corresponding QoS rules without having
to specify the associated policy ID.

[1] I5366dfee9b760ff5c884981582cdd17245b4d16f

Change-Id: I978668ee073c26d6e05ea5e5a0a4e16a7e513fa1
Partial-Bug: #1777627
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/29/620429/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/api/definitions/qos_rules_alias.py'],1,2b32ad31bcec26bec55fbba78a5541e076d12624,bug/1777627,"BANDWIDTH_LIMIT_RULES_ALIAS = ""alias_bandwidth_limit_rules"" DSCP_MARKING_RULES_ALIAS = 'alias_dscp_marking_rules' MIN_BANDWIDTH_RULES_ALIAS = 'alias_minimum_bandwidth_rules' BANDWIDTH_LIMIT_RULES_ALIAS: dict( }, }, }}), DSCP_MARKING_RULES_ALIAS: dict( }}), MIN_BANDWIDTH_RULES_ALIAS: dict( }, } } )"," qos.BANDWIDTH_LIMIT_RULES: dict( }, }, }}), qos.DSCP_MARKING_RULES: dict( }}), qos.MIN_BANDWIDTH_RULES: dict( }, }})",15,9
openstack%2Fopenstack-ansible-os_tempest~master~Ie1a9266ade6ef0cd411ad0f32ffc3d496d7bde0f,openstack/openstack-ansible-os_tempest,master,Ie1a9266ade6ef0cd411ad0f32ffc3d496d7bde0f,Added task to list tempest tests,MERGED,2018-11-20 15:45:38.000000000,2018-11-29 15:05:22.000000000,2018-11-29 15:05:22.000000000,"[{'_account_id': 6816}, {'_account_id': 8367}, {'_account_id': 12393}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-11-20 15:45:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/6cb86654f57f8dd5a72dd426d322efe012df13ec', 'message': 'Added task to list tempest tests\n\n* Most of the time once tempest workspace is created, os_tempest\n  directly jumps to run tempest tests. But it is necessary to make\n  sure that tempest discovers the tests before running. Running\n  tempest run -l makes sure that tempest tests are discovered. It\n  helps to find the issue early with the tempest plugins and their\n  tests discovery.\n\nChange-Id: Ie1a9266ade6ef0cd411ad0f32ffc3d496d7bde0f\n'}, {'number': 2, 'created': '2018-11-21 06:41:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/c3ac025bdd9e702f07507fb3e425734f4dbd2f49', 'message': 'Added task to list tempest tests\n\n* Most of the time once tempest workspace is created, os_tempest\n  directly jumps to run tempest tests. But it is necessary to\n  make sure that tempest discovers the tests before running.\n  Running tempest run -l makes sure that tempest tests are\n  discovered. It helps to find the issue early with the tempest\n  plugins and their tests discovery.\n\nChange-Id: Ie1a9266ade6ef0cd411ad0f32ffc3d496d7bde0f\n'}, {'number': 3, 'created': '2018-11-26 05:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/586984b0eb6ec404d8340c83378653ab86beeb28', 'message': 'Added task to list tempest tests\n\n* Most of the time once tempest workspace is created, os_tempest\n  directly jumps to run tempest tests. But it is necessary to\n  make sure that tempest discovers the tests before running.\n  Running tempest run -l makes sure that tempest tests are\n  discovered. It helps to find the issue early with the tempest\n  plugins and their tests discovery.\n\nChange-Id: Ie1a9266ade6ef0cd411ad0f32ffc3d496d7bde0f\n'}, {'number': 4, 'created': '2018-11-26 10:51:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/3413c9e937c3c38071e6fcebac4d04e43e97a886', 'message': 'Added task to list tempest tests\n\ntempest list-plugins just lists the installed tempest plugins discovered\nby tempest and it does not gurantee that listed tempest plugins tests are\ngoing to get listed/discovered by the tempest runner.\ntempest run -l will list all the tempest tests by checking relative imports\nof the listed tests and making sure we are good to run the tests by using\ntempest run and helps to avoid import errors during the running of tempest\ntests.\n\nChange-Id: Ie1a9266ade6ef0cd411ad0f32ffc3d496d7bde0f\n'}, {'number': 5, 'created': '2018-11-26 11:20:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/0957eea43d8efe909816f7b55390e6be715f8548', 'message': 'Added task to list tempest tests\n\ntempest list-plugins just lists the installed tempest plugins\ndiscovered by tempest and it does not gurantee that listed\ntempest plugins tests are going to get listed/discovered by the\ntempest runner.\ntempest run -l will list all the tempest tests by checking relative\nimports of the listed tests and making sure we are good to run the\ntests by using tempest run and helps to avoid import errors during\nthe running of tempest tests.\n\nChange-Id: Ie1a9266ade6ef0cd411ad0f32ffc3d496d7bde0f\n'}, {'number': 6, 'created': '2018-11-26 11:31:10.000000000', 'files': ['tasks/tempest_post_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/fcd258cb70427b82a3908a03c0b0f516d68a760f', 'message': 'Added task to list tempest tests\n\ntempest list-plugins just lists the installed tempest plugins\ndiscovered by tempest and it does not gurantee that listed\ntempest plugins tests are going to get listed/discovered by the\ntempest runner.\ntempest run -l will list all the tempest tests by checking relative\nimports of the listed tests and making sure we are good to run the\ntests by using tempest run and helps to avoid import errors during\nthe running of tempest tests.\n\nChange-Id: Ie1a9266ade6ef0cd411ad0f32ffc3d496d7bde0f\n'}]",8,619024,fcd258cb70427b82a3908a03c0b0f516d68a760f,36,6,6,12393,,,0,"Added task to list tempest tests

tempest list-plugins just lists the installed tempest plugins
discovered by tempest and it does not gurantee that listed
tempest plugins tests are going to get listed/discovered by the
tempest runner.
tempest run -l will list all the tempest tests by checking relative
imports of the listed tests and making sure we are good to run the
tests by using tempest run and helps to avoid import errors during
the running of tempest tests.

Change-Id: Ie1a9266ade6ef0cd411ad0f32ffc3d496d7bde0f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/24/619024/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/tempest_run.yml'],1,6cb86654f57f8dd5a72dd426d322efe012df13ec,unified_tempest," - name: List tempest tests shell: | set -e if [ -d {{ tempest_venv_bin }} ]; then . {{ tempest_venv_bin }}/activate fi tempest run -l args: chdir: ""{{ tempest_workspace }}"" executable: /bin/bash when: ""debug | bool"" tags: # don't trigger ANSIBLE0013 - skip_ansible_lint ",,16,0
openstack%2Fpymod2pkg~master~I4e87085c6cbb24367d8a7f839b4811d049ba7bf1,openstack/pymod2pkg,master,I4e87085c6cbb24367d8a7f839b4811d049ba7bf1,fix tox python3 overrides,MERGED,2018-09-29 23:52:52.000000000,2018-11-29 15:03:08.000000000,2018-11-29 15:03:08.000000000,"[{'_account_id': 7102}, {'_account_id': 8482}, {'_account_id': 13294}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 27153}, {'_account_id': 28935}]","[{'number': 1, 'created': '2018-09-29 23:52:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pymod2pkg/commit/f557e5163ab8fb3a3bc8ec7885f9eb69b9dc636e', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I4e87085c6cbb24367d8a7f839b4811d049ba7bf1\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2018-11-11 06:16:18.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/pymod2pkg/commit/1905e8bc930f7c3f1d8a798869d36a009afe110a', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I4e87085c6cbb24367d8a7f839b4811d049ba7bf1\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,606699,1905e8bc930f7c3f1d8a798869d36a009afe110a,15,7,2,2472,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I4e87085c6cbb24367d8a7f839b4811d049ba7bf1
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/pymod2pkg refs/changes/99/606699/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f557e5163ab8fb3a3bc8ec7885f9eb69b9dc636e,python3-first,basepython = python3basepython = python3,,2,0
openstack%2Frpm-packaging~master~I99574bd74efa4702e9ce203a837feab392714deb,openstack/rpm-packaging,master,I99574bd74efa4702e9ce203a837feab392714deb,Add new %__openstack_set_env macro,MERGED,2018-11-20 17:05:50.000000000,2018-11-29 15:03:07.000000000,2018-11-29 15:03:07.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 8161}, {'_account_id': 10384}, {'_account_id': 12393}, {'_account_id': 13294}, {'_account_id': 16312}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 22722}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-11-20 17:05:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/25c09fb9d8e34138c08a6283806674bbe0d3663a', 'message': 'Add new %__openstack_set_env macro\n\nThis sets environment variables required to build OpenStack Swift (python2 only)\nin RHEL between 7 and 9 buildroot\n\nChange-Id: I99574bd74efa4702e9ce203a837feab392714deb\n'}, {'number': 2, 'created': '2018-11-21 16:01:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/ebe88587cb04a9bd775dc023118944ea153e8093', 'message': 'Add new %__openstack_set_env macro\n\nThis sets environment variables required to build OpenStack Swift (python2 only)\nin RHEL between 7 and 9 buildroot\n\nChange-Id: I99574bd74efa4702e9ce203a837feab392714deb\n'}, {'number': 3, 'created': '2018-11-22 13:43:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/c220503bf1ee9bdb71483498942ba61e45bd8c82', 'message': 'Add new %__openstack_set_env macro\n\nThis sets environment variables required to build OpenStack Swift (python2 only)\nin RHEL between 7 and 9 buildroot\n\nChange-Id: I99574bd74efa4702e9ce203a837feab392714deb\n'}, {'number': 4, 'created': '2018-11-23 13:18:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/490675f03ffecc0af7e75dc6cf91fd5d0ad0dc43', 'message': 'Add new %__openstack_set_env macro\n\nThis sets environment variables required to build OpenStack Swift (python2 only)\nin RHEL between 7 and 9 buildroot\n\nChange-Id: I99574bd74efa4702e9ce203a837feab392714deb\n'}, {'number': 5, 'created': '2018-11-28 14:20:42.000000000', 'files': ['openstack/openstack-macros/macros.openstack-rdo', 'openstack/openstack-macros/openstack-macros.spec.j2', 'openstack/openstack-macros/macros.openstack-suse'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/c9dba5d6a8063c27f9bb1fdab9d2518ccfcc05df', 'message': 'Add new %__openstack_set_env macro\n\nThis sets environment variables required to build OpenStack Swift (python2 only)\nin RHEL between 7 and 9 buildroot\n\nChange-Id: I99574bd74efa4702e9ce203a837feab392714deb\n'}]",1,619042,c9dba5d6a8063c27f9bb1fdab9d2518ccfcc05df,38,11,5,10384,,,0,"Add new %__openstack_set_env macro

This sets environment variables required to build OpenStack Swift (python2 only)
in RHEL between 7 and 9 buildroot

Change-Id: I99574bd74efa4702e9ce203a837feab392714deb
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/42/619042/5 && git format-patch -1 --stdout FETCH_HEAD,['openstack/openstack-macros/macros.openstack-rdo'],1,25c09fb9d8e34138c08a6283806674bbe0d3663a,," # This macro defines environment variables available during the build # Currently sets: # - RHEL_ALLOW_PYTHON2_FOR_BUILD=1 # (enable python2 in RHEL between 7 and 9 buildroot) %__openstack_set_env %{lua: rhel_version=tonumber(rpm.expand(0%{?rhel})) if rhel_version > 7 then posix.env(""RHEL_ALLOW_PYTHON2_FOR_BUILD"",1) end }",,10,0
openstack%2Frpm-packaging~stable%2Frocky~Iffe2625bbe9cc89287e8a40c09175048fdd1936a,openstack/rpm-packaging,stable/rocky,Iffe2625bbe9cc89287e8a40c09175048fdd1936a,Update python-glanceclient to 2.13.0,MERGED,2018-11-08 16:50:41.000000000,2018-11-29 15:03:06.000000000,2018-11-29 15:03:06.000000000,"[{'_account_id': 1916}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-11-08 16:50:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/5d3d2ae6e96a40a7af221c8f667ed5dc8bf39214', 'message': 'Update python-glanceclient to 2.13.0\n\nChange-Id: Iffe2625bbe9cc89287e8a40c09175048fdd1936a\n'}, {'number': 2, 'created': '2018-11-28 13:03:39.000000000', 'files': ['openstack/python-glanceclient/python-glanceclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/ddb06cccf2d9fd22818b6c616852a2b243b13333', 'message': 'Update python-glanceclient to 2.13.0\n\nChange-Id: Iffe2625bbe9cc89287e8a40c09175048fdd1936a\n'}]",0,616626,ddb06cccf2d9fd22818b6c616852a2b243b13333,26,7,2,6593,,,0,"Update python-glanceclient to 2.13.0

Change-Id: Iffe2625bbe9cc89287e8a40c09175048fdd1936a
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/26/616626/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-glanceclient/python-glanceclient.spec.j2'],1,5d3d2ae6e96a40a7af221c8f667ed5dc8bf39214,,{% set upstream_version = upstream_version('2.13.0') %},{% set upstream_version = upstream_version('2.12.1') %},1,1
openstack%2Ftripleo-common~master~Icdf53a8775d3154394b99118838c1dfacf63748b,openstack/tripleo-common,master,Icdf53a8775d3154394b99118838c1dfacf63748b,Fix broken YAQL expressions in heat_environments.yaml,MERGED,2018-11-12 12:37:43.000000000,2018-11-29 14:47:50.000000000,2018-11-29 14:47:50.000000000,"[{'_account_id': 6926}, {'_account_id': 10873}, {'_account_id': 11444}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-12 12:37:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0f9d83c55dd26000f00f657fc02d207fd21c81f2', 'message': 'Fix broken YAQL expressions in heat_environments.yaml\n\nChange-Id: Icdf53a8775d3154394b99118838c1dfacf63748b\n'}, {'number': 2, 'created': '2018-11-27 13:55:39.000000000', 'files': ['workbooks/heat_environments.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ece0944f9cc3169b1dfba002e5d3c81a6ceb8d5f', 'message': 'Fix broken YAQL expressions in heat_environments.yaml\n\nChange-Id: Icdf53a8775d3154394b99118838c1dfacf63748b\n'}]",0,617311,ece0944f9cc3169b1dfba002e5d3c81a6ceb8d5f,11,5,2,9712,,,0,"Fix broken YAQL expressions in heat_environments.yaml

Change-Id: Icdf53a8775d3154394b99118838c1dfacf63748b
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/11/617311/2 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/heat_environments.yaml'],1,0f9d83c55dd26000f00f657fc02d207fd21c81f2,," status: <% $.get('status', 'SUCCESS') %> status: <% $.get('status', 'SUCCESS') %>"," status: <% $.get('status', 'SUCCESS') status: <% $.get('status', 'SUCCESS')",2,2
openstack%2Frpm-packaging~master~I45c4028303d1916eb8b1a218776e8c37ebb9fc37,openstack/rpm-packaging,master,I45c4028303d1916eb8b1a218776e8c37ebb9fc37,Update python-barbicanclient to 4.8.0,MERGED,2018-11-21 16:15:14.000000000,2018-11-29 14:43:25.000000000,2018-11-29 14:43:25.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-11-21 16:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/9fa95405b57e839925da14403b2a5227e89679aa', 'message': 'Update python-barbicanclient to 4.8.0\n\nChange-Id: I45c4028303d1916eb8b1a218776e8c37ebb9fc37\n'}, {'number': 2, 'created': '2018-11-21 18:17:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/4367e6d8e890f3db98b85c75d765175e90732aef', 'message': 'Update python-barbicanclient to 4.8.0\n\nChange-Id: I45c4028303d1916eb8b1a218776e8c37ebb9fc37\n'}, {'number': 3, 'created': '2018-11-27 14:08:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/4f01cb0dbd09dc7ba88a41a6e7f4c74f8e7a9ade', 'message': 'Update python-barbicanclient to 4.8.0\n\nChange-Id: I45c4028303d1916eb8b1a218776e8c37ebb9fc37\n'}, {'number': 4, 'created': '2018-11-29 08:35:46.000000000', 'files': ['openstack/python-barbicanclient/python-barbicanclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/d61425c4ddc0b35ff2dbc2605d4421a246f34876', 'message': 'Update python-barbicanclient to 4.8.0\n\nChange-Id: I45c4028303d1916eb8b1a218776e8c37ebb9fc37\n'}]",0,619288,d61425c4ddc0b35ff2dbc2605d4421a246f34876,28,6,4,6593,,,0,"Update python-barbicanclient to 4.8.0

Change-Id: I45c4028303d1916eb8b1a218776e8c37ebb9fc37
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/88/619288/4 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-barbicanclient/python-barbicanclient.spec.j2'],1,9fa95405b57e839925da14403b2a5227e89679aa,updates,{% set upstream_version = upstream_version('4.8.0') %},{% set upstream_version = upstream_version('4.7.0') %},1,1
openstack%2Fpuppet-ec2api~master~If6a8d4a55316103b8aad2e65796bfcafe807d231,openstack/puppet-ec2api,master,If6a8d4a55316103b8aad2e65796bfcafe807d231,Deprecate pki related options,MERGED,2018-11-22 03:43:48.000000000,2018-11-29 14:28:17.000000000,2018-11-29 14:28:17.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-22 03:43:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/36c6a123be2db56407175158f8be3cee318c5e36', 'message': 'Deprecate check_revocations_for_cached option\n\ncheck_revocations_for_cached is deprecated for removel because of PKI\ntoken format is no longer supported.\nUpdate warning message and add a release note.\n\nChange-Id: If6a8d4a55316103b8aad2e65796bfcafe807d231\nCloses-Bug: #1804562\n'}, {'number': 2, 'created': '2018-11-23 02:26:13.000000000', 'files': ['releasenotes/notes/deprecate_pki_related_parameters-a2b69be83a39aac4.yaml', 'spec/classes/ec2api_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/d22c97150e608441dcdfddfec8418552b5c5280f', 'message': 'Deprecate pki related options\n\ncheck_revocations_for_cached and hash_algorithms are deprecated for\nremovel because of PKI token format is no longer supported.\nUpdate warning message and add a release note.\n\nChange-Id: If6a8d4a55316103b8aad2e65796bfcafe807d231\nCloses-Bug: #1804562\nCloses-Bug: #1804720\n'}]",0,619429,d22c97150e608441dcdfddfec8418552b5c5280f,20,5,2,9414,,,0,"Deprecate pki related options

check_revocations_for_cached and hash_algorithms are deprecated for
removel because of PKI token format is no longer supported.
Update warning message and add a release note.

Change-Id: If6a8d4a55316103b8aad2e65796bfcafe807d231
Closes-Bug: #1804562
Closes-Bug: #1804720
",git fetch https://review.opendev.org/openstack/puppet-ec2api refs/changes/29/619429/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ec2api_keystone_authtoken_spec.rb', 'releasenotes/notes/deprecate_check_revocations_for_cached_parameter-9b23ef9d2bf00ea7.yaml', 'manifests/keystone/authtoken.pp']",3,36c6a123be2db56407175158f8be3cee318c5e36,bug/1804562,"# [*check_revocations_for_cached*] # (Optional) If true, the revocation list will be checked for cached tokens. # This requires that PKI tokens are configured on the identity server. # boolean value. # Defaults to undef. # $check_revocations_for_cached = undef, if $check_revocations_for_cached { warning('check_revocations_for_cached parameter is deprecated, has no effect and will be removed in the future.') } ","# [*check_revocations_for_cached*] # (Optional) If true, the revocation list will be checked for cached tokens. # This requires that PKI tokens are configured on the identity server. # boolean value. # Defaults to $::os_service_default. # $check_revocations_for_cached = $::os_service_default, check_revocations_for_cached => $check_revocations_for_cached,",15,11
openstack%2Fkuryr-kubernetes~master~Ie591d2bb8df492f34e55bb2e6c5923d51fb300dc,openstack/kuryr-kubernetes,master,Ie591d2bb8df492f34e55bb2e6c5923d51fb300dc,Remove unused functions from devstack/plugin.sh,MERGED,2018-11-27 13:22:06.000000000,2018-11-29 14:17:36.000000000,2018-11-29 14:17:36.000000000,"[{'_account_id': 6598}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2018-11-27 13:22:06.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a08e8adc5c53a09c17ddd111f695aee22a6042d4', 'message': 'Remove unused functions from devstack/plugin.sh\n\nSeems like get_distutils_data_path and\nget_hyperkube_container_cacert_setup_dir functions in plugin.sh are not\nmentioned anywhere in the project. This commit removes them.\n\nTrivialFix\n\nChange-Id: Ie591d2bb8df492f34e55bb2e6c5923d51fb300dc\n'}]",0,620312,a08e8adc5c53a09c17ddd111f695aee22a6042d4,11,5,1,11600,,,0,"Remove unused functions from devstack/plugin.sh

Seems like get_distutils_data_path and
get_hyperkube_container_cacert_setup_dir functions in plugin.sh are not
mentioned anywhere in the project. This commit removes them.

TrivialFix

Change-Id: Ie591d2bb8df492f34e55bb2e6c5923d51fb300dc
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/12/620312/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,a08e8adc5c53a09c17ddd111f695aee22a6042d4,remove-unused-devstack,,"function get_distutils_data_path { cat << EOF | python - from __future__ import print_function import distutils.dist import distutils.command.install inst = distutils.command.install.install(distutils.dist.Distribution()) inst.finalize_options() print(inst.install_data) EOF } function get_hyperkube_container_cacert_setup_dir { case ""$1"" in 1.[0-3].*) echo ""/data"";; *) echo ""/srv/kubernetes"" esac } ",0,20
openstack%2Fkuryr-kubernetes~master~Ic54dd5614e9294676fd55fdca91f2f8aed2cdd70,openstack/kuryr-kubernetes,master,Ic54dd5614e9294676fd55fdca91f2f8aed2cdd70,Enable KVM on Octavia jobs when nested virt is on,ABANDONED,2018-09-11 20:47:38.000000000,2018-11-29 14:11:50.000000000,,"[{'_account_id': 11600}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-11 20:47:38.000000000', 'files': ['playbooks/enable_kvm.yaml', '.zuul.d/octavia.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/666a4ad60f571fe19d698051dc14883ebc529ae3', 'message': ""Enable KVM on Octavia jobs when nested virt is on\n\nOctavia (and other projects) is doing that for a while - before stating\ndevstack-gate they're checking if nested virtualization is available. If\nit is, a DevStack option enabling it is turned on. This commit does the\nsame for Kuryr's jobs running Octavia.\n\nPlease note that limestone and ovh clouds are blacklisted as they're\nsuffering from kernel bug that makes them unable to work with KVM. This\nmay change in the future.\n\nChange-Id: Ic54dd5614e9294676fd55fdca91f2f8aed2cdd70\n""}]",0,601810,666a4ad60f571fe19d698051dc14883ebc529ae3,19,2,1,11600,,,0,"Enable KVM on Octavia jobs when nested virt is on

Octavia (and other projects) is doing that for a while - before stating
devstack-gate they're checking if nested virtualization is available. If
it is, a DevStack option enabling it is turned on. This commit does the
same for Kuryr's jobs running Octavia.

Please note that limestone and ovh clouds are blacklisted as they're
suffering from kernel bug that makes them unable to work with KVM. This
may change in the future.

Change-Id: Ic54dd5614e9294676fd55fdca91f2f8aed2cdd70
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/10/601810/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/enable_kvm.yaml', '.zuul.d/octavia.yaml']",2,666a4ad60f571fe19d698051dc14883ebc529ae3,enable-kvm, pre-run: - playbooks/get_amphora_tarball.yaml - playbooks/enable_kvm.yaml, pre-run: playbooks/get_amphora_tarball.yaml,14,1
openstack%2Fopenstack-ansible~stable%2Frocky~I6492c66ccc9d2b5b6de9ab6d08b377ac9e18e153,openstack/openstack-ansible,stable/rocky,I6492c66ccc9d2b5b6de9ab6d08b377ac9e18e153,Ensure that a consistent mirror is used for RDO,MERGED,2018-11-28 15:26:07.000000000,2018-11-29 13:43:24.000000000,2018-11-29 13:43:23.000000000,"[{'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-11-28 15:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/30000ac410a063d608eab208aed092dbda66e83e', 'message': 'Ensure that a consistent mirror is used for RDO\n\nThis patch replicates the code added to openstack-ansible-tests into\nthe integrated repo. It obtains a URL for the RDO repo at the start\nof a job which then has consistent contents for the duration of the job.\n\nChange-Id: I6492c66ccc9d2b5b6de9ab6d08b377ac9e18e153\n(cherry picked from commit 11a71e11313f7a424558c7d78f1a00e3b58b9565)\n'}, {'number': 2, 'created': '2018-11-28 15:27:35.000000000', 'files': ['tests/roles/bootstrap-host/tasks/prepare_aio_config.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0cd6fdbb614457496a00af2111025d1e0a56c129', 'message': 'Ensure that a consistent mirror is used for RDO\n\nThis patch replicates the code added to openstack-ansible-tests into\nthe integrated repo. It obtains a URL for the RDO repo at the start\nof a job which then has consistent contents for the duration of the job.\n\nChange-Id: I6492c66ccc9d2b5b6de9ab6d08b377ac9e18e153\n(cherry picked from commit 11a71e11313f7a424558c7d78f1a00e3b58b9565)\n'}]",0,620629,0cd6fdbb614457496a00af2111025d1e0a56c129,8,3,2,6816,,,0,"Ensure that a consistent mirror is used for RDO

This patch replicates the code added to openstack-ansible-tests into
the integrated repo. It obtains a URL for the RDO repo at the start
of a job which then has consistent contents for the duration of the job.

Change-Id: I6492c66ccc9d2b5b6de9ab6d08b377ac9e18e153
(cherry picked from commit 11a71e11313f7a424558c7d78f1a00e3b58b9565)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/29/620629/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/tasks/prepare_aio_config.yml'],1,30000ac410a063d608eab208aed092dbda66e83e,osa-mariadb-mirrors," # NOTE(mnaser): We need to make sure we pull the latest RDO mirror # which is hashed to avoid cache going stale during CI. export DLRN_BASE=${DLRN_BASE:-centos7-master/puppet-passed-ci} rdo_dlrn=`curl --silent ${NODEPOOL_RDO_PROXY}/${DLRN_BASE}/delorean.repo | grep baseurl | cut -d= -f2` if [[ -z ""$rdo_dlrn"" ]]; then echo ""Failed to parse dlrn hash"" exit 1 fi RDO_MIRROR_HOST=${rdo_dlrn/https:\/\/trunk.rdoproject.org/$NODEPOOL_RDO_PROXY} echo ""openstack_hosts_rdo_repo_url: '${RDO_MIRROR_HOST}'"" >> ${NODEPOOL_OVERRIDES}"," echo ""openstack_hosts_rdo_mirror_url: '${NODEPOOL_RDO_PROXY}'"" >> ${NODEPOOL_OVERRIDES}",11,1
openstack%2Fopenstack-ansible~stable%2Frocky~Id6982945509a174b0aaa74ccbdfa45adc5cfbb7a,openstack/openstack-ansible,stable/rocky,Id6982945509a174b0aaa74ccbdfa45adc5cfbb7a,Add MariaDB infrastructure mirrors,MERGED,2018-11-23 10:29:24.000000000,2018-11-29 13:43:22.000000000,2018-11-29 13:43:22.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-11-23 10:29:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/21ebd293129faddb4974c73cdde7e4da04cbce1e', 'message': 'Add MariaDB infrastructure mirrors\n\nIn order to ensure that deployment tests make use of the\nOpenStack-CI cached resources, we implement the override\nto consume them for the MariaDB packages.\n\nChange-Id: Id6982945509a174b0aaa74ccbdfa45adc5cfbb7a\n(cherry picked from commit 28f71196cde2b5bf440b909890126ecb55edb6db)\n'}, {'number': 2, 'created': '2018-11-28 14:12:58.000000000', 'files': ['tests/roles/bootstrap-host/tasks/prepare_aio_config.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/41a76e7899246aa84d198bcf28b754ec495ae1fc', 'message': 'Add MariaDB infrastructure mirrors\n\nIn order to ensure that deployment tests make use of the\nOpenStack-CI cached resources, we implement the override\nto consume them for the MariaDB packages.\n\nChange-Id: Id6982945509a174b0aaa74ccbdfa45adc5cfbb7a\n(cherry picked from commit 28f71196cde2b5bf440b909890126ecb55edb6db)\n'}]",0,619714,41a76e7899246aa84d198bcf28b754ec495ae1fc,19,5,2,6816,,,0,"Add MariaDB infrastructure mirrors

In order to ensure that deployment tests make use of the
OpenStack-CI cached resources, we implement the override
to consume them for the MariaDB packages.

Change-Id: Id6982945509a174b0aaa74ccbdfa45adc5cfbb7a
(cherry picked from commit 28f71196cde2b5bf440b909890126ecb55edb6db)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/14/619714/2 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/tasks/prepare_aio_config.yml'],1,21ebd293129faddb4974c73cdde7e4da04cbce1e,osa-mariadb-mirrors," echo ""galera_repo_host: '${NODEPOOL_MIRROR_HOST}:8080'"" >> ${NODEPOOL_OVERRIDES}",,1,1
openstack%2Fcloudkitty-specs~master~I64704d9e78a7c70c66cab3068fbc4addf87783a6,openstack/cloudkitty-specs,master,I64704d9e78a7c70c66cab3068fbc4addf87783a6,Spec: Refactor CloudKitty's documentation,MERGED,2018-10-26 10:12:03.000000000,2018-11-29 13:09:21.000000000,2018-11-29 13:09:21.000000000,"[{'_account_id': 2376}, {'_account_id': 7923}, {'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 23173}]","[{'number': 1, 'created': '2018-10-26 10:12:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/688c53597b24318e1bf9ebd741f2198b5d1c6f73', 'message': ""Spec: Refactor CloudKitty's documentation\n\nThis is a proposal for the new layout of cloudkitty's documentation,\n\nOnce this has been approved and discussed, we'll add some tasks to the\nassociated story.\n\nDepends-On: https://review.openstack.org/#/c/613339/\nChange-Id: I64704d9e78a7c70c66cab3068fbc4addf87783a6\nStory: 2004179\nTask: 27664\n""}, {'number': 2, 'created': '2018-10-26 12:58:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/256155e8a69acf043e4872a5470973ed9d54028a', 'message': ""Spec: Refactor CloudKitty's documentation\n\nThis is a proposal for the new layout of cloudkitty's documentation,\n\nOnce this has been approved and discussed, we'll add some tasks to the\nassociated story.\n\nDepends-On: https://review.openstack.org/#/c/613339/\nChange-Id: I64704d9e78a7c70c66cab3068fbc4addf87783a6\nStory: 2004179\nTask: 27664\n""}, {'number': 3, 'created': '2018-10-30 12:44:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/e4083a0fcedd049c833337406732da02c5955a43', 'message': ""Spec: Refactor CloudKitty's documentation\n\nThis is a proposal for the new layout of cloudkitty's documentation,\n\nOnce this has been approved and discussed, we'll add some tasks to the\nassociated story.\n\nDepends-On: https://review.openstack.org/#/c/613339/\nChange-Id: I64704d9e78a7c70c66cab3068fbc4addf87783a6\nStory: 2004179\nTask: 27664\n""}, {'number': 4, 'created': '2018-11-28 09:36:18.000000000', 'files': ['doc/source/index.rst', 'specs/stein/refactoring_cloudkittys_documentation.rst'], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/7baca66b9e4383ada336f69399677a1138103b09', 'message': ""Spec: Refactor CloudKitty's documentation\n\nThis is a proposal for the new layout of cloudkitty's documentation,\n\nOnce this has been approved and discussed, we'll add some tasks to the\nassociated story.\n\nDepends-On: https://review.openstack.org/#/c/613339/\nChange-Id: I64704d9e78a7c70c66cab3068fbc4addf87783a6\nStory: 2004179\nTask: 27664\n""}]",2,613550,7baca66b9e4383ada336f69399677a1138103b09,17,5,4,23060,,,0,"Spec: Refactor CloudKitty's documentation

This is a proposal for the new layout of cloudkitty's documentation,

Once this has been approved and discussed, we'll add some tasks to the
associated story.

Depends-On: https://review.openstack.org/#/c/613339/
Change-Id: I64704d9e78a7c70c66cab3068fbc4addf87783a6
Story: 2004179
Task: 27664
",git fetch https://review.opendev.org/openstack/cloudkitty-specs refs/changes/50/613550/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'specs/stein/refactoring_cloudkittys_documentation.rst']",2,688c53597b24318e1bf9ebd741f2198b5d1c6f73,ease-cloudkitty-contributions,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ====================================== Refactoring CloudKitty's documentation ====================================== https://storyboard.openstack.org/#!/story/2004179 CloudKitty's documentation needs to be refactored. This spec aims at proposing a new content layout. It is of course subject to discussion, as well on storyboard as on gerrit. Problem Description =================== Since Cloudkitty has been through major changes in the last releases, the current documentation layout and content causes several problems: * The layout is not intuitive: many people on IRC ask for information that is available in the documentation, but very hard to find. * Cloudkitty's architecture as well as the role of each component (fetcher, collector, rating module, storage backend...) is not explained clearly enough. This is a problem for operators, as they don't know how CloudKitty works internally, which is an issue when troubleshooting. * The configuration of metric collection is very poorly documented, leading most operators to stick to the default ``metrics.yml`` file, without knowing exactly what each entry means. * The developer documentation is almost non-existent: It only contains information about the v2 storage interface. It should be extended to help contributors. * The documentation also lacks an FAQ/troubleshooting part: Typical question is ""I deployed Cloudkitty with Devstack, why is summary 0 ?"". Proposed Change =============== The first thing in the documentation should be a very brief introduction about was CloudKitty is and does. Concerning people reading CloudKitty's documentation: they can be split into three groups; users, operators/admins, and developers. In consequence, proposed top-level sections after the short introduction would be the following: * Common introduction: What's the matter/need Cloudkitty aims to solve ? What's possible ? What's not (yet) ? What will never be supported ? In addition to these questions, there should be a general introduction on the different components, their roles and how they interact. * User documentation: How do I retrieve information through cloudkitty's API ? What kind of information can I get ? This is probably where the HTTP API reference should live. * Operator documentation: This section should detail the role of each component, and provide information about how to configure it. This is also where information on rating rule creation should live. Operators are also the target audience for the troubleshooting section. In opposition to the current approach (with keystone/openstack vs. without keystone/openstack), I believe that this part of the documentation should explain each component one by one: its purpose, how it can be used, existing implementations (list different collectors/fetchers/rating modules, and ideally provide a support matrix), and how it can be configured. Example of a usecase where configuration is hard to deduce from the documentation: CloudKitty is used without keystone authentication and collects prometheus metrics. However, in order to collect metrics from gnocchi, the collector needs to authenticate to keystone. How to configure this ? * Developer documentation: This section should provide implementation details about the different components cloudkitty is made of. It should explain contributors what they need to implement, which interfaces they should use, and how their contribution should be tested. Ideally, this should complete the docstrings of an interface. A (small and probably not complete enough) example of such a documentation can be found here: https://docs.openstack.org/cloudkitty/latest/developer/storage.html Here again, the documentation should be split by component. Alternatives ------------ I don't have any alternative layouts or contents in mind, but proposals are of course welcome! Data model impact ----------------- None REST API impact --------------- None, except maybe a better documentation of the API. Security impact --------------- None Notifications Impact -------------------- None Other end user impact --------------------- End users and contributors will have a better understanding of the project. Performance Impact ------------------ None Other deployer impact --------------------- Better understanding of the projet, troubleshooting made easier. Developer impact ---------------- Better understanding of the projet, contributing made easier. Implementation ============== Assignee(s) ----------- Luka Peschke is assigned for the work on the spec, and the integration of the new layout to the doc. Work on the content of the documentation will be dispatched once the spec has been reviewed, corrected and merged. Primary assignee: peschk_l Other contributors: None Work Items ---------- * Apply the new layout to cloudkitty's documentation * Write an introduction with a few schemas * TBD Dependencies ============ None Testing ======= None Documentation Impact ==================== The documentation will be completely modified, and a lot of content will be added. References ========== * Glance documentation, which is a good example of a documentation organised per user profile: https://docs.openstack.org/glance/latest/ * Some support matrixes: - Elastic product / OS: https://www.elastic.co/support/matrix - Kubernetes persistent volumes access modes: https://kubernetes.io/docs/concepts/storage/persistent-volumes/#access-modes ",,194,0
openstack%2Fkolla~master~Ibad7c51def3970a643c93122cb6cbbf5323c5ee5,openstack/kolla,master,Ibad7c51def3970a643c93122cb6cbbf5323c5ee5,Add Percona XtraBackup link in README,MERGED,2018-11-29 05:50:24.000000000,2018-11-29 12:57:16.000000000,2018-11-29 12:57:16.000000000,"[{'_account_id': 14826}, {'_account_id': 16984}, {'_account_id': 19316}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-29 05:50:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7d3f5b17dbc73df023b5e94eb4480233f9fedc56', 'message': 'Add Percona XtraBackup link in README\n\nChange-Id: Ibad7c51def3970a643c93122cb6cbbf5323c5ee5\n'}, {'number': 2, 'created': '2018-11-29 08:59:38.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/kolla/commit/f8747a8642c974c8615f4b3fba43a02db3946693', 'message': 'Add Percona XtraBackup link in README\n\nChange-Id: Ibad7c51def3970a643c93122cb6cbbf5323c5ee5\n'}]",1,620779,f8747a8642c974c8615f4b3fba43a02db3946693,11,4,2,23717,,,0,"Add Percona XtraBackup link in README

Change-Id: Ibad7c51def3970a643c93122cb6cbbf5323c5ee5
",git fetch https://review.opendev.org/openstack/kolla refs/changes/79/620779/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,7d3f5b17dbc73df023b5e94eb4480233f9fedc56,,- `Percona XtraBackup <https://www.percona.com/software/mysql-database/percona-xtrabackup/>`__ A tools which provides a method of performing a hot backup of your MySQL data while the system is running.,,3,0
openstack%2Fopenstack-ansible~stable%2Frocky~I70059d1b0f9eb774519420b14239ab7e3081e7eb,openstack/openstack-ansible,stable/rocky,I70059d1b0f9eb774519420b14239ab7e3081e7eb,Set SUSE ceph-distro job to non-voting,MERGED,2018-11-28 14:05:22.000000000,2018-11-29 12:49:30.000000000,2018-11-29 12:49:30.000000000,"[{'_account_id': 13095}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-11-28 14:05:22.000000000', 'files': ['zuul.d/project-templates.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d43ee8690221167ad69db74f65715229abb842ca', 'message': 'Set SUSE ceph-distro job to non-voting\n\nIn https://review.openstack.org/616481 we switched OSA stable/rocky\nfrom ceph-ansible 3.2 to 3.1, but https://review.openstack.org/614463\nmade the job voting before that merged. The 3.1 builds for SUSE do not\nwork (see related bug), so we switch this job to non-voting. Whenever\nthe issue is fixed upstream, we can revert this (and add the missing\ngate job too).\n\nChange-Id: I70059d1b0f9eb774519420b14239ab7e3081e7eb\nRelated-Bug: #1805637\n'}]",0,620607,d43ee8690221167ad69db74f65715229abb842ca,9,4,1,6816,,,0,"Set SUSE ceph-distro job to non-voting

In https://review.openstack.org/616481 we switched OSA stable/rocky
from ceph-ansible 3.2 to 3.1, but https://review.openstack.org/614463
made the job voting before that merged. The 3.1 builds for SUSE do not
work (see related bug), so we switch this job to non-voting. Whenever
the issue is fixed upstream, we can revert this (and add the missing
gate job too).

Change-Id: I70059d1b0f9eb774519420b14239ab7e3081e7eb
Related-Bug: #1805637
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/07/620607/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project-templates.yaml'],1,d43ee8690221167ad69db74f65715229abb842ca,bug/1805637, - openstack-ansible-deploy-distro_ceph-opensuse-423: voting: false, - openstack-ansible-deploy-distro_ceph-opensuse-423,2,1
openstack%2Frpm-packaging~stable%2Frocky~I79c8a4a888f90690ae3b060b2ade9a544dd64071,openstack/rpm-packaging,stable/rocky,I79c8a4a888f90690ae3b060b2ade9a544dd64071,"django.wsgi is deprecated, use wsgi.py",ABANDONED,2018-11-29 09:14:19.000000000,2018-11-29 12:41:46.000000000,,"[{'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-11-29 09:14:19.000000000', 'files': ['openstack/horizon/openstack-dashboard.conf.sample.suse', 'openstack/horizon/openstack-dashboard.conf.sample.rdo'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/66df8c6d7c6b97ecf021ec590dbc79fb0911feba', 'message': 'django.wsgi is deprecated, use wsgi.py\n\nhttps://bugs.launchpad.net/horizon/+bug/1763204\n\nChange-Id: I79c8a4a888f90690ae3b060b2ade9a544dd64071\n(cherry picked from commit cc37f1e995c35ea0e081fa44e667891f4223e0a5)\n'}]",0,620825,66df8c6d7c6b97ecf021ec590dbc79fb0911feba,6,4,1,23735,,,0,"django.wsgi is deprecated, use wsgi.py

https://bugs.launchpad.net/horizon/+bug/1763204

Change-Id: I79c8a4a888f90690ae3b060b2ade9a544dd64071
(cherry picked from commit cc37f1e995c35ea0e081fa44e667891f4223e0a5)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/25/620825/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/horizon/openstack-dashboard.conf.sample.suse', 'openstack/horizon/openstack-dashboard.conf.sample.rdo']",2,66df8c6d7c6b97ecf021ec590dbc79fb0911feba,, WSGIScriptAlias / /var/lib/openstack-dashboard/openstack_dashboard/wsgi/wsgi.py, WSGIScriptAlias / /var/lib/openstack-dashboard/openstack_dashboard/wsgi/django.wsgi,2,2
openstack%2Fcharm-neutron-gateway~stable%2F18.11~I8d78f0ef9e11f23224e893178c2cd37fdcc42671,openstack/charm-neutron-gateway,stable/18.11,I8d78f0ef9e11f23224e893178c2cd37fdcc42671,Add charmhelpers to sys.path in first position for actions,MERGED,2018-11-26 18:29:59.000000000,2018-11-29 12:31:02.000000000,2018-11-29 12:31:01.000000000,"[{'_account_id': 2424}, {'_account_id': 6737}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-26 18:29:59.000000000', 'files': ['actions/actions.py', 'actions/openstack_upgrade.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/ef5e7a36a9a97b1ef49cc1fde9f7a689b229eebd', 'message': 'Add charmhelpers to sys.path in first position for actions\n\nThis patch inserts the hooks directory in the first position to always\nprefer that version over any other available in the system.\n\nChange-Id: I8d78f0ef9e11f23224e893178c2cd37fdcc42671\nCloses-Bug: 1802182\n(cherry picked from commit 25200b5a1611280d5f05854eaeb2d00816428a9f)\n'}]",0,620134,ef5e7a36a9a97b1ef49cc1fde9f7a689b229eebd,10,5,1,2424,,,0,"Add charmhelpers to sys.path in first position for actions

This patch inserts the hooks directory in the first position to always
prefer that version over any other available in the system.

Change-Id: I8d78f0ef9e11f23224e893178c2cd37fdcc42671
Closes-Bug: 1802182
(cherry picked from commit 25200b5a1611280d5f05854eaeb2d00816428a9f)
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/34/620134/1 && git format-patch -1 --stdout FETCH_HEAD,"['actions/actions.py', 'actions/openstack_upgrade.py']",2,ef5e7a36a9a97b1ef49cc1fde9f7a689b229eebd,bug/1802182,"import os_path = os.path.dirname(os.path.realpath(__file__)) _hooks_dir = os.path.abspath(os.path.join(_path, "".."", ""hooks"")) def _add_path(path): if path not in sys.path: sys.path.insert(1, path) _add_path(_hooks_dir) ",sys.path.append('hooks/'),23,2
openstack%2Fpython-tripleoclient~master~I024595ed25c6726dbf503eb789b24fd91c38ae28,openstack/python-tripleoclient,master,I024595ed25c6726dbf503eb789b24fd91c38ae28,Add '/usr/share/ansible-modules' at ansible.cfg,ABANDONED,2018-11-27 11:14:16.000000000,2018-11-29 12:23:02.000000000,,"[{'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9196}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 27898}]","[{'number': 1, 'created': '2018-11-27 11:14:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4ca250beba818bec655bd820e83afe2f8a7dda15', 'message': 'Add --module-path to ansible-playbook calls\n\nDeployments that uses mistral can pass module_path option, and they are\nalways pointing it to /usr/share/ansible-modules, this review harcode\nthis value as is just an append to the default values and make possible\nto use ansible-pacemaker RPM at standalone, since standalone is not\nusing mistral.\n\nChange-Id: I024595ed25c6726dbf503eb789b24fd91c38ae28\n'}, {'number': 2, 'created': '2018-11-27 11:17:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/aecf5edc37847c0f1a79db82e2ca813bef45e86f', 'message': 'Add --module-path to ansible-playbook calls\n\nDeployments that uses mistral can pass module_path option, and they are\nalways pointing it to /usr/share/ansible-modules, this review harcode\nthis value as is just an append to the default values and make possible\nto use ansible-pacemaker RPM at standalone, since standalone is not\nusing mistral.\n\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/410?kanban-status=1447276\n\nChange-Id: I024595ed25c6726dbf503eb789b24fd91c38ae28\n'}, {'number': 3, 'created': '2018-11-28 10:00:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8a1514c42bd3e598ba2ab49a69a1091ce6303135', 'message': ""Add '/usr/share/ansible-modules' at ansible.cfg\n\nDeployments that uses mistral can pass module_path option, and they are\nalways pointing it to /usr/share/ansible-modules, this review harcode\nthis value as is just an append to the default values and make possible\nto use ansible-pacemaker RPM at standalone, since standalone is not\nusing mistral.\n\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/410?kanban-status=1447276\n\nChange-Id: I024595ed25c6726dbf503eb789b24fd91c38ae28\n""}, {'number': 4, 'created': '2018-11-28 11:06:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1db91d087ea77e04d56769831f882fc3323a763f', 'message': ""Add '/usr/share/ansible-modules' at ansible.cfg\n\nDeployments that uses mistral can pass module_path option, and they are\nalways pointing it to /usr/share/ansible-modules, this review harcode\nthis value as is just an append to the default values and make possible\nto use ansible-pacemaker RPM at standalone, since standalone is not\nusing mistral.\n\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/410?kanban-status=1447276\n\nChange-Id: I024595ed25c6726dbf503eb789b24fd91c38ae28\n""}, {'number': 5, 'created': '2018-11-28 11:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a6ab54c15369f87c59c92cb9a3347aaa7a6de427', 'message': ""Add '/usr/share/ansible-modules' at ansible.cfg\n\nDeployments that uses mistral can pass module_path option, and they are\nalways pointing it to /usr/share/ansible-modules, this review harcode\nthis value as is just an append to the default values and make possible\nto use ansible-pacemaker RPM at standalone, since standalone is not\nusing mistral.\n\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/410?kanban-status=1447276\n\nChange-Id: I024595ed25c6726dbf503eb789b24fd91c38ae28\n""}, {'number': 6, 'created': '2018-11-28 11:49:07.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ea2933bf90dda143da3e20caa7c295e0ea1fe8dd', 'message': ""Add '/usr/share/ansible-modules' at ansible.cfg\n\nDeployments that uses mistral can pass module_path option, and they are\nalways pointing it to /usr/share/ansible-modules, this review harcode\nthis value as is just an append to the default values and make possible\nto use ansible-pacemaker RPM at standalone, since standalone is not\nusing mistral.\n\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/410?kanban-status=1447276\n\nChange-Id: I024595ed25c6726dbf503eb789b24fd91c38ae28\n""}]",4,620292,ea2933bf90dda143da3e20caa7c295e0ea1fe8dd,14,10,6,27898,,,0,"Add '/usr/share/ansible-modules' at ansible.cfg

Deployments that uses mistral can pass module_path option, and they are
always pointing it to /usr/share/ansible-modules, this review harcode
this value as is just an append to the default values and make possible
to use ansible-pacemaker RPM at standalone, since standalone is not
using mistral.

Story: https://tree.taiga.io/project/tripleo-ci-board/task/410?kanban-status=1447276

Change-Id: I024595ed25c6726dbf503eb789b24fd91c38ae28
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/92/620292/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/tripleo/test_tripleo_upgrade.py', 'tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py']",3,4ca250beba818bec655bd820e83afe2f8a7dda15,," '--module-path', '/usr/share/ansible-modules/',",,8,0
openstack%2Ftempest-horizon~master~Id57e35ec7fd058a85953f3154d0be54934fa6e9b,openstack/tempest-horizon,master,Id57e35ec7fd058a85953f3154d0be54934fa6e9b,Update url in HACKING.rst,MERGED,2018-11-16 01:34:11.000000000,2018-11-29 12:09:02.000000000,2018-11-29 12:09:02.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-16 01:34:11.000000000', 'files': ['HACKING.rst'], 'web_link': 'https://opendev.org/openstack/tempest-horizon/commit/634b5c4551585b070414560dc448cd6ded8a6a8b', 'message': 'Update url in HACKING.rst\n\nChange-Id: Id57e35ec7fd058a85953f3154d0be54934fa6e9b\n'}]",0,618360,634b5c4551585b070414560dc448cd6ded8a6a8b,6,2,1,29423,,,0,"Update url in HACKING.rst

Change-Id: Id57e35ec7fd058a85953f3154d0be54934fa6e9b
",git fetch https://review.opendev.org/openstack/tempest-horizon refs/changes/60/618360/1 && git format-patch -1 --stdout FETCH_HEAD,['HACKING.rst'],1,634b5c4551585b070414560dc448cd6ded8a6a8b,,Read the OpenStack Style Commandments https://docs.openstack.org/hacking/latest/,Read the OpenStack Style Commandments http://docs.openstack.org/developer/hacking/,1,1
openstack%2Fpuppet-neutron~stable%2Frocky~I88d369082de1ce71cdeddf69287867c0af6d9e07,openstack/puppet-neutron,stable/rocky,I88d369082de1ce71cdeddf69287867c0af6d9e07,IPv6 support for ODL-OVS deployment,MERGED,2018-11-19 09:57:49.000000000,2018-11-29 12:05:05.000000000,2018-11-29 12:05:05.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 20866}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-19 09:57:49.000000000', 'files': ['spec/classes/neutron_plugins_ovs_opendaylight_spec.rb', 'releasenotes/notes/add-support-for-IPv6-deployment-8aa288ee1195f81c.yaml', 'manifests/plugins/ovs/opendaylight.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/06ef92f27e6610ca29a1fef9fc9ed42dcf23715e', 'message': 'IPv6 support for ODL-OVS deployment\n\nAdd feature to also set OVS manager to the IPv6\naddress of ODL based on ""enable_ipv6"" flag value.\n\nChange-Id: I88d369082de1ce71cdeddf69287867c0af6d9e07\nCloses-Bug: #1783067\n(cherry picked from commit c4e58a8f44233bd163a0d3345894a924ac4274a4)\n'}]",0,618719,06ef92f27e6610ca29a1fef9fc9ed42dcf23715e,23,6,1,20866,,,0,"IPv6 support for ODL-OVS deployment

Add feature to also set OVS manager to the IPv6
address of ODL based on ""enable_ipv6"" flag value.

Change-Id: I88d369082de1ce71cdeddf69287867c0af6d9e07
Closes-Bug: #1783067
(cherry picked from commit c4e58a8f44233bd163a0d3345894a924ac4274a4)
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/19/618719/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/neutron_plugins_ovs_opendaylight_spec.rb', 'releasenotes/notes/add-support-for-IPv6-deployment-8aa288ee1195f81c.yaml', 'manifests/plugins/ovs/opendaylight.pp']",3,06ef92f27e6610ca29a1fef9fc9ed42dcf23715e,ODL_IPv6_support-stable/rocky," $tls_ca_cert_file = undef, $enable_ipv6 = false, warning('TLS enabled, overriding all protocols') $odl_ovsdb_iface_proto = 'ssl' $ovsdb_server_iface_proto = 'pssl' $odl_check_url_proto = 'https' $ovsdb_arr = split($odl_ovsdb_iface, ' ') $odl_rest_port = regsubst($odl_check_url, '^.*:([0-9]+)/.*$', '\1') } else { $odl_ovsdb_iface_proto = 'tcp' $ovsdb_server_iface_proto = 'ptcp' $odl_check_url_proto = 'http' } if $enable_ipv6 { $ovsdb_server_ip = '[::1]' } else { $ovsdb_server_ip = '127.0.0.1' } $odl_ovsdb_iface_parsed = regsubst($odl_ovsdb_iface, 'tcp', $odl_ovsdb_iface_proto, 'G') $ovsdb_server_iface_parsed = ""${ovsdb_server_iface_proto}:6639:${ovsdb_server_ip}"" $odl_check_url_parsed = regsubst($odl_check_url, 'http', $odl_check_url_proto) exec { 'Wait for NetVirt OVSDB to come up': command => ""curl -g -k -o /dev/null --fail --silent --head -u ${odl_username}:${odl_password} ${odl_check_url_parsed}"","," $tls_ca_cert_file = undef if $odl_ovsdb_iface =~ /^tcp/ { warning('TLS enabled but odl_ovsdb_iface set to tcp. Will override to ssl') $odl_ovsdb_iface_parsed = regsubst($odl_ovsdb_iface, 'tcp:', 'ssl:', 'G') } else { $odl_ovsdb_iface_parsed = $odl_ovsdb_iface } if $ovsdb_server_iface =~ /^ptcp/ { warning('TLS enabled but ovsdb_server_iface set to ptcp. Will override to pssl') $ovsdb_server_iface_parsed = regsubst($ovsdb_server_iface, '^ptcp', 'pssl') } else { $ovsdb_server_iface_parsed = $ovsdb_server_iface } if $odl_check_url =~ /^http:/ { warning('TLS enabled but odl_check_url set to http. Will override to https') $odl_check_url_parsed = regsubst($odl_check_url, '^http:', 'https:') } else { $odl_check_url_parsed = $odl_check_url } $ovsdb_arr = split($odl_ovsdb_iface_parsed, ' ') $odl_rest_port = regsubst($odl_check_url_parsed, '^.*:([0-9]+)/.*$', '\1') } else { $odl_ovsdb_iface_parsed = $odl_ovsdb_iface $ovsdb_server_iface_parsed = $ovsdb_server_iface $odl_check_url_parsed = $odl_check_url } exec { 'Wait for NetVirt OVSDB to come up': command => ""curl -k -o /dev/null --fail --silent --head -u ${odl_username}:${odl_password} ${odl_check_url_parsed}"",",59,30
openstack%2Fcinder~master~I54228f667495030e43c67bec138bc24d9462d2ca,openstack/cinder,master,I54228f667495030e43c67bec138bc24d9462d2ca,Added Cinder Driver for Quantastor Storage,ABANDONED,2018-11-29 09:39:17.000000000,2018-11-29 11:49:15.000000000,,"[{'_account_id': 9008}, {'_account_id': 12369}, {'_account_id': 16897}, {'_account_id': 20284}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-11-29 09:39:17.000000000', 'files': ['doc/source/index.rst', 'doc/source/configuration/block-storage/volume-drivers.rst', 'cinder/volume/drivers/quantastor.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d391aa688c31fea139b31591b3a829530cc32ede', 'message': 'Added Cinder Driver for Quantastor Storage\n\nChange-Id: I54228f667495030e43c67bec138bc24d9462d2ca\n'}]",0,620854,d391aa688c31fea139b31591b3a829530cc32ede,9,7,1,29499,,,0,"Added Cinder Driver for Quantastor Storage

Change-Id: I54228f667495030e43c67bec138bc24d9462d2ca
",git fetch https://review.opendev.org/openstack/cinder refs/changes/54/620854/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/configuration/block-storage/volume-drivers.rst', 'cinder/volume/drivers/quantastor.py']",3,d391aa688c31fea139b31591b3a829530cc32ede,," help='The IP/FQDN of the Quantastor system ' help='The ID of the Quantastor pool or tier to use.'), help='The account on the Quantastor system ' help='The password for the Quantastor account being used', error_message = ('Error: The IP address of a Quantastor' 'system must be specified.') LOG.error(error_message) raise error_message if self.configuration.qs_pool_id == """": error_message = ('Error: The pool ID of a Quantastor' 'system must be specified.') LOG.error(error_message) raise error_message if self.configuration.qs_user == """": error_message = ('Error: The user account of a Quantastor ' 'system must be specified.') LOG.error(error_message) raise error_message if self.configuration.qs_password == """": error_message = ('Error: The password to the user account ' 'must be specified.') LOG.error(error_message) raise error_message LOG.debug(""connected to Quantastor system "" + sys_info._name + ""Found pool with ID "" + pool_info._id + "" named "" + pool_info._name) ""No setup errors found. Quantastor driver is ready for use."") exception_message = _(""Quantastor driver is not working."") LOG.debug(""Cloned volume %s was successfully created"", qs_clone) LOG.debug(""Volume = %s was successfully created"", qs_vol) LOG.debug(""Cloned volume %s was successfully created"", qs_clone) LOG.debug(""deleting a volume"") LOG.debug(""verifying that volume no longer exists"") LOG.debug(""Volume =%s was successfully deleted"", vol) LOG.debug(""Snapshot =%s was successfully created"", qs_snap) LOG.debug(""deleting a snapshot"") LOG.debug(""verifying that snapshot no longer exists"") LOG.debug(""Snapshot =%s was successfully deleted"", vol) # We dont use local path LOG.debug(volume[""provider_location""]) LOG.debug(volume[""host""]) LOG.debug(volume[""attached_host""]) LOG.debug(str(context)) LOG.debug(str(volume)) LOG.debug(str(connector)) LOG.debug(""Work done in terminate connection"") """"""attaching volume to host"""""" LOG.debug(ip_addr) LOG.debug(""Host with specified iqn not found. Creating \ LOG.debug(""Attaching volume to host"") LOG.debug(""Successfully attached volume to host"") """"""Terminating connection"""""" LOG.warning(""Warning: Unable to find volume"") LOG.debug(""Extending volume"") qs_size = out._size if str(qs_size) != str(self.gb_to_b_size(new_size)): LOG.debug(""Volume was successfully extended to %s"", qs_size) LOG.debug(""volume get"") LOG.debug(""pool get"") LOG.debug(""system get"")"," help='The IP/FQDN of the QuantaStor system ' help='The ID of the QuantaStor pool or tier to use.'), help='The account on the QuantaStor system ' help='The password for the QuantaStor account being used', LOG.info(""Initializing.."") LOG.info(self.configuration.qs_ip) LOG.info(self.configuration.qs_user) LOG.info(self.configuration.qs_password) errorMessage = ('Error: The IP address of a QuantaStor ' 'system must be specified.') LOG.error(errorMessage) raise errorMessage if self.configuration.qs_pool_id == """": errorMessage = ('Error: The pool ID of a QuantaStor ' 'system must be specified.') LOG.error(errorMessage) raise errorMessage if self.configuration.qs_user == """": errorMessage = ('Error: The user account of a QuantaStor ' 'system must be specified.') LOG.error(errorMessage) raise errorMessage if self.configuration.qs_password == """": errorMessage = ('Error: The password to the user account ' 'must be specified.') LOG.error(errorMessage) raise errorMessage LOG.info( ""connected to QuantaStor system "" + sys_info._name) LOG.info(""Found pool with ID "" + pool_info._id + "" named "" + pool_info._name) ""No setup errors found. QuantaStor driver is ready for use."") exception_message = _(""QuantaStor driver is not working."") LOG.info(""Creating cloned volume"") LOG.info(""Cloned volume was successfully created"") LOG.info(""creating a volume"") LOG.info(""Volume was successfully created"") LOG.info(""Create volume from snapshot"") LOG.info(""storageVolumeClone?&storageVolume="" + snapshot['name'] + ""&cloneName="" + volume['name'] + ""&accessMode=0&flags=0&provisionableId="" + self.configuration.qs_pool_id) LOG.info(""Cloned volume was successfully created"") LOG.info(""deleting a volume"") LOG.info(""verifying that volume no longer exists"") LOG.info(""Volume was successfully deleted"") LOG.info(""Creating snapshot"") LOG.info(""Snapshot was successfully created"") LOG.info(""deleting a snapshot"") LOG.info(""verifying that snapshot no longer exists"") LOG.info(""Snapshot was successfully deleted"") # We dont use local paths LOG.info(""Local path"") LOG.info(""Ensure export"") LOG.info(volume[""provider_location""]) LOG.info(volume[""host""]) LOG.info(volume[""attached_host""]) LOG.info(""Create export"") LOG.info(""context"") LOG.info(str(context)) LOG.info(""volume"") LOG.info(str(volume)) LOG.info(""connector"") LOG.info(str(connector)) LOG.info(""Calling initialize connection"") LOG.info(""Remove export"") LOG.info(""Work done in terminate connection"") LOG.info(""Initialize connection"") LOG.info(ip_addr) LOG.info(initiator) LOG.info(volume_name) LOG.info(host_name) LOG.info(""Host with specified iqn not found. Creating \ LOG.info(""Attaching volume to host"") LOG.info(result) LOG.info(""Successfully attached volume to host"") LOG.info(""Terminating connection"") LOG.info(""Warning: Unable to find volume"") LOG.info(""Extending volume"") if str(out._size) != str(self.gb_to_b_size(new_size)): LOG.info(""Volume was successfully extended"") LOG.info(""volume get"") LOG.info(""pool get"") LOG.info(""system get"")",61,97
openstack%2Fdiskimage-builder~master~I092e5ea88747b80c0e59c0aea4301d19009e0241,openstack/diskimage-builder,master,I092e5ea88747b80c0e59c0aea4301d19009e0241,Fix a typo in the help message of disk-image-create,MERGED,2018-11-23 09:09:47.000000000,2018-11-29 11:42:19.000000000,2018-11-29 11:42:19.000000000,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-23 09:09:47.000000000', 'files': ['diskimage_builder/lib/disk-image-create'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a64aa0cb47ab3a0c1ae6fc14307c5cf0954659c0', 'message': 'Fix a typo in the help message of disk-image-create\n\nChange-Id: I092e5ea88747b80c0e59c0aea4301d19009e0241\n'}]",0,619679,a64aa0cb47ab3a0c1ae6fc14307c5cf0954659c0,7,3,1,15197,,,0,"Fix a typo in the help message of disk-image-create

Change-Id: I092e5ea88747b80c0e59c0aea4301d19009e0241
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/79/619679/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/lib/disk-image-create'],1,a64aa0cb47ab3a0c1ae6fc14307c5cf0954659c0,fix-typo," echo "" -p package[,p2...] [-p p3] -- extra packages to install in the image. Runs once, after 'install.d' phase. Can be specified multiple times"""," echo "" -p package[,p2...] [-p p3] -- extra packages to install in the image. Runs once, after 'install.d' phase. Can be specified mulitple times""",1,1
openstack%2Fwatcher~master~Ibde67d7b7d7945657ad0b674e06b1edc9eb24a9f,openstack/watcher,master,Ibde67d7b7d7945657ad0b674e06b1edc9eb24a9f,Increase the unit test coverage of vm_workload_consolidation.py,MERGED,2018-11-22 08:30:33.000000000,2018-11-29 11:38:16.000000000,2018-11-29 11:38:16.000000000,"[{'_account_id': 12394}, {'_account_id': 13111}, {'_account_id': 14107}, {'_account_id': 18971}, {'_account_id': 19055}, {'_account_id': 19457}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 22775}, {'_account_id': 24501}, {'_account_id': 24872}, {'_account_id': 28748}]","[{'number': 1, 'created': '2018-11-22 08:30:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/118b2ffd1061dc85085f2aadcb2bcdf868c19657', 'message': 'WIP:Increase the unit test coverage of\nvm_workload_consolidation.py\n\nIncrease the test of the execute method which contains\nthe pre_execute(), do_execute(), post_execute() methods.\n\nChange-Id: Ibde67d7b7d7945657ad0b674e06b1edc9eb24a9f\n'}, {'number': 2, 'created': '2018-11-22 09:07:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/6cd688877907bbcdcd2d4bc24ddaabf8d70c1754', 'message': 'Increase the unit test coverage of\nvm_workload_consolidation.py\n\nIncrease the test of the execute method which contains\nthe pre_execute(), do_execute(), post_execute() methods.\nIncrease coverage from 82% to 87%.\n\nChange-Id: Ibde67d7b7d7945657ad0b674e06b1edc9eb24a9f\n'}, {'number': 3, 'created': '2018-11-23 06:48:31.000000000', 'files': ['watcher/tests/decision_engine/strategy/strategies/test_vm_workload_consolidation.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/ddba3573273bc0ccc39f15ab98a4451246fd2ec9', 'message': 'Increase the unit test coverage of\nvm_workload_consolidation.py\n\nIncrease the test of the execute method which contains\nthe pre_execute(), do_execute(), post_execute() methods.\nIncrease coverage from 82% to 87%.\n\nChange-Id: Ibde67d7b7d7945657ad0b674e06b1edc9eb24a9f\n'}]",2,619466,ddba3573273bc0ccc39f15ab98a4451246fd2ec9,14,12,3,28748,,,0,"Increase the unit test coverage of
vm_workload_consolidation.py

Increase the test of the execute method which contains
the pre_execute(), do_execute(), post_execute() methods.
Increase coverage from 82% to 87%.

Change-Id: Ibde67d7b7d7945657ad0b674e06b1edc9eb24a9f
",git fetch https://review.opendev.org/openstack/watcher refs/changes/66/619466/3 && git format-patch -1 --stdout FETCH_HEAD,['watcher/tests/decision_engine/strategy/strategies/test_vm_workload_consolidation.py'],1,118b2ffd1061dc85085f2aadcb2bcdf868c19657,," #cc = {'cpu': 1.0, 'ram': 1.0, 'disk': 1.0} #import pdb;pdb.set_trace() #self.strategy.offload_phase(cc) #self.strategy.consolidation_phase(cc) #self.strategy.optimize_solution() self.strategy.get_relative_cluster_utilization = mock.MagicMock() #self.strategy.get_available_compute_nodes = mock.MagicMock() self.strategy.do_execute() #import pdb;pdb.set_trace() n3 = self.strategy.solution.actions[2][ 'input_parameters']['resource_id'] n4 = self.strategy.solution.actions[3][ 'input_parameters']['resource_id'] 'resource_id': 'INSTANCE_1'}}, {'action_type': 'change_nova_service_state', 'input_parameters': {'state': 'disabled', 'disabled_reason': 'watcher_disabled', 'resource_id': n3}}, {'action_type': 'change_nova_service_state', 'input_parameters': {'state': 'disabled', 'disabled_reason': 'watcher_disabled', 'resource_id': n4}}]"," cc = {'cpu': 1.0, 'ram': 1.0, 'disk': 1.0} self.strategy.offload_phase(cc) self.strategy.consolidation_phase(cc) self.strategy.optimize_solution() 'resource_id': 'INSTANCE_1'}}]",24,5
openstack%2Fkuryr-kubernetes~master~I95c2d3e1760a938d40d57a99fb87b6f02ca7f64a,openstack/kuryr-kubernetes,master,I95c2d3e1760a938d40d57a99fb87b6f02ca7f64a,Work out situation with KUBERNETES_NODE_NAME,MERGED,2018-11-20 16:26:16.000000000,2018-11-29 11:33:46.000000000,2018-11-29 11:17:10.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2018-11-20 16:26:16.000000000', 'files': ['devstack/lib/kuryr_kubernetes', 'kuryr_kubernetes/utils.py', 'kuryr_kubernetes/tests/unit/test_utils.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/65e05c3b6d958abad90dd60dd0fe2087b1dba02b', 'message': 'Work out situation with KUBERNETES_NODE_NAME\n\nThis reverts commit f0cde86ee68027bd66597f2e4b8db4e10fa81e0b as it turns\nout that variable is actually used by kuryr-daemon and fixes the way\nkuryr-controller detects its identity to match how leader-elector is\ndoing it.\n\nChange-Id: I95c2d3e1760a938d40d57a99fb87b6f02ca7f64a\nCloses-Bug: 1798835\n'}]",0,619032,65e05c3b6d958abad90dd60dd0fe2087b1dba02b,16,6,1,11600,,,0,"Work out situation with KUBERNETES_NODE_NAME

This reverts commit f0cde86ee68027bd66597f2e4b8db4e10fa81e0b as it turns
out that variable is actually used by kuryr-daemon and fixes the way
kuryr-controller detects its identity to match how leader-elector is
doing it.

Change-Id: I95c2d3e1760a938d40d57a99fb87b6f02ca7f64a
Closes-Bug: 1798835
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/32/619032/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/lib/kuryr_kubernetes', 'kuryr_kubernetes/utils.py', 'kuryr_kubernetes/tests/unit/test_utils.py']",3,65e05c3b6d958abad90dd60dd0fe2087b1dba02b,bug/1798835," def test_get_node_name(self, m_gethostname):","import os def test_get_node_name_socket(self, m_gethostname): try: del os.environ['KUBERNETES_NODE_NAME'] except KeyError: pass @mock.patch('socket.gethostname') def test_get_node_name_envvar(self, m_gethostname): os.environ['KUBERNETES_NODE_NAME'] = 'bar' m_gethostname.return_value = 'foo' res = utils.get_node_name() self.assertEqual('bar', res) m_gethostname.assert_not_called() ",9,25
openstack%2Fpython-karborclient~master~Ib2da9cb008fad3f9d686a1409c83d98b7daebe68,openstack/python-karborclient,master,Ib2da9cb008fad3f9d686a1409c83d98b7daebe68,Convert trigger window from string to integer,MERGED,2018-11-28 17:31:36.000000000,2018-11-29 11:13:25.000000000,2018-11-29 11:13:25.000000000,"[{'_account_id': 21224}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-28 17:31:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-karborclient/commit/3ff72c41d8fa7e6dcd65ae806bd175697959ad1e', 'message': 'Convert this window field from a character to an integer in create trigger\n\nChange-Id: Ib2da9cb008fad3f9d686a1409c83d98b7daebe68\n'}, {'number': 2, 'created': '2018-11-29 03:22:57.000000000', 'files': ['karborclient/v1/triggers.py', 'karborclient/tests/unit/v1/test_triggers.py'], 'web_link': 'https://opendev.org/openstack/python-karborclient/commit/262799e3c04a09f41fcf1db261b2845aae05f24e', 'message': 'Convert trigger window from string to integer\n\nCloses-Bug: #1805755\n\nChange-Id: Ib2da9cb008fad3f9d686a1409c83d98b7daebe68\n'}]",1,620663,262799e3c04a09f41fcf1db261b2845aae05f24e,9,2,2,29272,,,0,"Convert trigger window from string to integer

Closes-Bug: #1805755

Change-Id: Ib2da9cb008fad3f9d686a1409c83d98b7daebe68
",git fetch https://review.opendev.org/openstack/python-karborclient refs/changes/63/620663/2 && git format-patch -1 --stdout FETCH_HEAD,"['karborclient/v1/triggers.py', 'karborclient/tests/unit/v1/test_triggers.py']",2,3ff72c41d8fa7e6dcd65ae806bd175697959ad1e,bug/1805755,"from karborclient.common.apiclient import exceptions cs.triggers.create('name', 'time', {}) 'properties': {}}}, def test_create_trigger_with_invalid_window(self): self.assertRaises(exceptions.CommandError, cs.triggers.create, 'name', 'time', {'window': 'fake'}) "," cs.triggers.create('name', 'time', 'properties') 'properties': 'properties'}},",15,2
openstack%2Fkolla-ansible~master~Ia13496156515d0f871e8fa9bd3584940a32759e9,openstack/kolla-ansible,master,Ia13496156515d0f871e8fa9bd3584940a32759e9,Set region_id for karbor_client,MERGED,2018-11-28 21:01:38.000000000,2018-11-29 11:08:06.000000000,2018-11-29 11:08:06.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 23717}]","[{'number': 1, 'created': '2018-11-28 21:01:38.000000000', 'files': ['ansible/roles/karbor/templates/karbor.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4bb5b3354736b0c253b645eb1482c36e4f34aa00', 'message': 'Set region_id for karbor_client\n\nregion_id has a default value hardcoded in Karbor code equal to\n""RegionOne"" which could be an issue if a different region is define.\n\nChange-Id: Ia13496156515d0f871e8fa9bd3584940a32759e9\nCloses-Bug: #1798125\n'}]",0,620695,4bb5b3354736b0c253b645eb1482c36e4f34aa00,8,4,1,16006,,,0,"Set region_id for karbor_client

region_id has a default value hardcoded in Karbor code equal to
""RegionOne"" which could be an issue if a different region is define.

Change-Id: Ia13496156515d0f871e8fa9bd3584940a32759e9
Closes-Bug: #1798125
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/95/620695/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/karbor/templates/karbor.conf.j2'],1,4bb5b3354736b0c253b645eb1482c36e4f34aa00,bug/1798125,region_id = {{ openstack_region_name }},,1,0
openstack%2Ftripleo-heat-templates~master~Id4cf0cc17bc331ae27f8d0ef8f285050330b7be0,openstack/tripleo-heat-templates,master,Id4cf0cc17bc331ae27f8d0ef8f285050330b7be0,Add ctlplane interface routes,MERGED,2018-09-25 00:12:13.000000000,2018-11-29 10:45:53.000000000,2018-11-29 10:45:53.000000000,"[{'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2018-09-25 00:12:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/59a6e4bda97abc9660ea062056f8dbdd049f78b4', 'message': ""Add ctlplane interface routes\n\nFor the isolated networks we use the subnets host_routes\nto set and get the routes for overcloud node interfaces.\n\nThis change add's this to the ctlplane interface.\n\nPartial: blueprint tripleo-routed-networks-templates\nChange-Id: Id4cf0cc17bc331ae27f8d0ef8f285050330b7be0\n""}, {'number': 2, 'created': '2018-10-15 11:12:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cf68007c84134d92e900270b8a1c8d4b77c649e4', 'message': ""Add ctlplane interface routes\n\nFor the isolated networks we use the subnets host_routes\nto set and get the routes for overcloud node interfaces.\n\nThis change add's this to the ctlplane interface.\n\nPartial: blueprint tripleo-routed-networks-templates\nChange-Id: Id4cf0cc17bc331ae27f8d0ef8f285050330b7be0\n""}, {'number': 3, 'created': '2018-10-21 19:28:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f741d376b7458e6d372625384655343b2ef6f3a8', 'message': ""Add ctlplane interface routes\n\nFor the isolated networks we use the subnets host_routes\nto set and get the routes for overcloud node interfaces.\n\nThis change add's this to the ctlplane interface.\n\nPartial: blueprint tripleo-routed-networks-templates\nChange-Id: Id4cf0cc17bc331ae27f8d0ef8f285050330b7be0\n""}, {'number': 4, 'created': '2018-10-22 14:42:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c5711b8ac0490091b6a43875dda81040823ad2dc', 'message': ""Add ctlplane interface routes\n\nFor the isolated networks we use the subnets host_routes\nto set and get the routes for overcloud node interfaces.\n\nThis change add's this to the ctlplane interface.\n\nPartial: blueprint tripleo-routed-networks-templates\nChange-Id: Id4cf0cc17bc331ae27f8d0ef8f285050330b7be0\n""}, {'number': 5, 'created': '2018-10-22 19:47:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b3e01f09300832796210bbc838a044183abf5570', 'message': ""Add ctlplane interface routes\n\nFor the isolated networks we use the subnets host_routes\nto set and get the routes for overcloud node interfaces.\n\nThis change add's this to the ctlplane interface.\n\nPartial: blueprint tripleo-routed-networks-templates\nChange-Id: Id4cf0cc17bc331ae27f8d0ef8f285050330b7be0\n""}, {'number': 6, 'created': '2018-10-24 20:59:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a5f6ec0f53fa15cc625a94b7fe0aaa78f1d7316f', 'message': ""Add ctlplane interface routes\n\nFor the isolated networks we use the subnets host_routes\nto set and get the routes for overcloud node interfaces.\n\nThis change add's this to the ctlplane interface.\n\nPartial: blueprint tripleo-routed-networks-templates\nChange-Id: Id4cf0cc17bc331ae27f8d0ef8f285050330b7be0\n""}, {'number': 7, 'created': '2018-10-26 01:28:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f4fb729b06e0312da0d1a7b5fa1dbdef43018dc5', 'message': ""Add ctlplane interface routes\n\nFor the isolated networks we use the subnets host_routes\nto set and get the routes for overcloud node interfaces.\n\nThis change add's this to the ctlplane interface.\n\nPartial: blueprint tripleo-routed-networks-templates\nChange-Id: Id4cf0cc17bc331ae27f8d0ef8f285050330b7be0\n""}, {'number': 8, 'created': '2018-10-26 23:00:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/19e7a44e142b0dede15aec65b8874632516bf9c5', 'message': ""Add ctlplane interface routes\n\nFor the isolated networks we use the subnets host_routes\nto set and get the routes for overcloud node interfaces.\n\nThis change add's this to the ctlplane interface.\n\nPartial: blueprint tripleo-routed-networks-templates\nChange-Id: Id4cf0cc17bc331ae27f8d0ef8f285050330b7be0\n""}, {'number': 9, 'created': '2018-10-28 02:22:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fc30a2a4226319dd9d1105462b76915fa18dd67f', 'message': ""Add ctlplane interface routes\n\nFor the isolated networks we use the subnets host_routes\nto set and get the routes for overcloud node interfaces.\n\nThis change add's this to the ctlplane interface.\n\nPartial: blueprint tripleo-routed-networks-templates\nChange-Id: Id4cf0cc17bc331ae27f8d0ef8f285050330b7be0\n""}, {'number': 10, 'created': '2018-10-30 12:39:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/499470a21d84e3b055473e3d91779f2156f111cc', 'message': ""Add ctlplane interface routes\n\nFor the isolated networks we use the subnets host_routes\nto set and get the routes for overcloud node interfaces.\n\nThis change add's this to the ctlplane interface.\n\nPartial: blueprint tripleo-routed-networks-templates\nChange-Id: Id4cf0cc17bc331ae27f8d0ef8f285050330b7be0\n""}, {'number': 11, 'created': '2018-11-10 09:55:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/422108be3b1c38f64f09822fb0c30698e459b6b4', 'message': ""Add ctlplane interface routes\n\nFor the isolated networks we use the subnets host_routes\nto set and get the routes for overcloud node interfaces.\n\nThis change add's this to the ctlplane interface.\n\nPartial: blueprint tripleo-routed-networks-templates\nChange-Id: Id4cf0cc17bc331ae27f8d0ef8f285050330b7be0\n""}, {'number': 12, 'created': '2018-11-11 12:16:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/875f27359f2b56ec26375f1a909603a71e7108f5', 'message': ""Add ctlplane interface routes\n\nFor the isolated networks we use the subnets host_routes\nto set and get the routes for overcloud node interfaces.\n\nThis change add's this to the ctlplane interface.\n\nPartial: blueprint tripleo-routed-networks-templates\nChange-Id: Id4cf0cc17bc331ae27f8d0ef8f285050330b7be0\n""}, {'number': 13, 'created': '2018-11-20 17:17:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7a6706cb5af6e39256669bef59aafd242a4367fa', 'message': ""Add ctlplane interface routes\n\nFor the isolated networks we use the subnets host_routes\nto set and get the routes for overcloud node interfaces.\n\nThis change add's this to the ctlplane interface.\n\nPartial: blueprint tripleo-routed-networks-templates\nChange-Id: Id4cf0cc17bc331ae27f8d0ef8f285050330b7be0\n""}, {'number': 14, 'created': '2018-11-22 21:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/51cfafdf5a4e90ffedf1ba51ee636643b4af222e', 'message': ""Add ctlplane interface routes\n\nFor the isolated networks we use the subnets host_routes\nto set and get the routes for overcloud node interfaces.\n\nThis change add's this to the ctlplane interface.\n\nPartial: blueprint tripleo-routed-networks-templates\nChange-Id: Id4cf0cc17bc331ae27f8d0ef8f285050330b7be0\n""}, {'number': 15, 'created': '2018-11-22 22:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fabfdb9fad3f2d4690c7a53e7d5c8d2f84da2fed', 'message': ""Add ctlplane interface routes\n\nFor the isolated networks we use the subnets host_routes\nto set and get the routes for overcloud node interfaces.\n\nThis change add's this to the ctlplane interface.\n\nPartial: blueprint tripleo-routed-networks-templates\nChange-Id: Id4cf0cc17bc331ae27f8d0ef8f285050330b7be0\n""}, {'number': 16, 'created': '2018-11-26 16:56:30.000000000', 'files': ['net-config-noop.j2.yaml', 'net-config-linux-bridge.j2.yaml', 'network/config/single-nic-vlans/controller-no-external.j2.yaml', 'net-config-static-bridge.j2.yaml', 'net-config-standalone.j2.yaml', 'puppet/role.role.j2.yaml', 'ci/environments/network/multiple-nics-ipv6/nic-configs/ceph-storage.yaml', 'ci/environments/network/multiple-nics-ipv6/nic-configs/compute.yaml', 'ci/common/net-config-multinode-os-net-config.yaml', 'net-config-static-bridge-with-external-dhcp.j2.yaml', 'ci/environments/network/multiple-nics/nic-configs/swift-storage.yaml', 'ci/environments/network/public-bond/nic-configs/ceph-storage.yaml', 'net-config-undercloud.j2.yaml', 'network/config/bond-with-vlans/controller-no-external.j2.yaml', 'network/config/bond-with-vlans/controller-v6.j2.yaml', 'ci/environments/network/public-bond/nic-configs/swift-storage.yaml', 'network/config/multiple-nics/compute-dvr.j2.yaml', 'ci/environments/network/multiple-nics/nic-configs/compute.yaml', 'network/config/multiple-nics/role.role.j2.yaml', 'ci/environments/network/multiple-nics-ipv6/nic-configs/swift-storage.yaml', 'ci/environments/network/public-bond/nic-configs/controller.yaml', 'ci/environments/network/public-bond/nic-configs/compute.yaml', 'net-config-static.j2.yaml', 'ci/common/net-config-multinode.yaml', 'ci/common/net-config-simple-bridge.yaml', 'ci/environments/network/public-bond/nic-configs/cinder-storage.yaml', 'ci/environments/network/multiple-nics-ipv6/nic-configs/controller.yaml', 'ci/environments/network/multiple-nics/nic-configs/cinder-storage.yaml', 'network/config/single-nic-linux-bridge-vlans/role.role.j2.yaml', 'network/config/multiple-nics/controller-v6.j2.yaml', 'network/config/single-nic-vlans/controller-v6.j2.yaml', 'ci/environments/network/multiple-nics/nic-configs/controller.yaml', 'ci/environments/network/multiple-nics-ipv6/nic-configs/cinder-storage.yaml', 'network/config/single-nic-vlans/role.role.j2.yaml', 'net-config-bridge.j2.yaml', 'net-config-bond.j2.yaml', 'network/config/bond-with-vlans/role.role.j2.yaml', 'ci/environments/network/multiple-nics/nic-configs/ceph-storage.yaml', 'network/config/single-nic-linux-bridge-vlans/controller-v6.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/055e2528720c8e4801ac97d7d48e1358aad87af4', 'message': ""Add ctlplane interface routes\n\nFor the isolated networks we use the subnets host_routes\nto set and get the routes for overcloud node interfaces.\n\nThis change add's this to the ctlplane interface.\n\nPartial: blueprint tripleo-routed-networks-templates\nChange-Id: Id4cf0cc17bc331ae27f8d0ef8f285050330b7be0\n""}]",0,604943,055e2528720c8e4801ac97d7d48e1358aad87af4,55,6,16,24245,,,0,"Add ctlplane interface routes

For the isolated networks we use the subnets host_routes
to set and get the routes for overcloud node interfaces.

This change add's this to the ctlplane interface.

Partial: blueprint tripleo-routed-networks-templates
Change-Id: Id4cf0cc17bc331ae27f8d0ef8f285050330b7be0
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/43/604943/8 && git format-patch -1 --stdout FETCH_HEAD,"['net-config-noop.j2.yaml', 'net-config-linux-bridge.j2.yaml', 'network/config/single-nic-vlans/controller-no-external.j2.yaml', 'net-config-static-bridge.j2.yaml', 'net-config-standalone.j2.yaml', 'puppet/role.role.j2.yaml', 'ci/environments/network/multiple-nics-ipv6/nic-configs/ceph-storage.yaml', 'ci/environments/network/multiple-nics-ipv6/nic-configs/compute.yaml', 'net-config-static-bridge-with-external-dhcp.j2.yaml', 'ci/environments/network/multiple-nics/nic-configs/swift-storage.yaml', 'ci/environments/network/public-bond/nic-configs/ceph-storage.yaml', 'net-config-undercloud.j2.yaml', 'network/config/bond-with-vlans/controller-no-external.j2.yaml', 'network/config/bond-with-vlans/controller-v6.j2.yaml', 'ci/environments/network/public-bond/nic-configs/swift-storage.yaml', 'network/config/multiple-nics/compute-dvr.j2.yaml', 'ci/environments/network/multiple-nics/nic-configs/compute.yaml', 'network/config/multiple-nics/role.role.j2.yaml', 'ci/environments/network/multiple-nics-ipv6/nic-configs/swift-storage.yaml', 'ci/environments/network/public-bond/nic-configs/controller.yaml', 'ci/environments/network/public-bond/nic-configs/compute.yaml', 'net-config-static.j2.yaml', 'ci/environments/network/public-bond/nic-configs/cinder-storage.yaml', 'ci/environments/network/multiple-nics-ipv6/nic-configs/controller.yaml', 'ci/environments/network/multiple-nics/nic-configs/cinder-storage.yaml', 'network/config/single-nic-linux-bridge-vlans/role.role.j2.yaml', 'network/config/multiple-nics/controller-v6.j2.yaml', 'network/config/single-nic-vlans/controller-v6.j2.yaml', 'ci/environments/network/multiple-nics/nic-configs/controller.yaml', 'ci/environments/network/multiple-nics-ipv6/nic-configs/cinder-storage.yaml', 'network/config/single-nic-vlans/role.role.j2.yaml', 'net-config-bridge.j2.yaml', 'net-config-bond.j2.yaml', 'network/config/bond-with-vlans/role.role.j2.yaml', 'ci/environments/network/multiple-nics/nic-configs/ceph-storage.yaml', 'network/config/single-nic-linux-bridge-vlans/controller-v6.j2.yaml']",36,59a6e4bda97abc9660ea062056f8dbdd049f78b4,bp/tripleo-routed-networks," ControlPlaneStaticRoutes: default: [] description: > Routes for the ctlplane network traffic. JSON route e.g. [{'destination':'10.0.0.0/16', 'nexthop':'10.0.0.1'}] Unless the default is changed, the parameter is automatically resolved from the subnet host_routes attribute. type: json list_concat_unique: - get_param: ControlPlaneStaticRoutes - - ip_netmask: 169.254.169.254/32 next_hop: get_param: EC2MetadataIp - default: true # NOTE(hjensas): This is the IPv4 default route next_hop: get_param: ControlPlaneDefaultRoute", - ip_netmask: 169.254.169.254/32 next_hop: get_param: EC2MetadataIp - default: true # NOTE(hjensas): This is the IPv4 default route next_hop: get_param: ControlPlaneDefaultRoute,372,63
openstack%2Ftripleo-heat-templates~master~I2f028ec7ac6cb280f5ddf30b12ff138cf20cd0fd,openstack/tripleo-heat-templates,master,I2f028ec7ac6cb280f5ddf30b12ff138cf20cd0fd,Remove unnecessary logs due to misconfiguration from pacemaker,MERGED,2018-10-24 14:22:22.000000000,2018-11-29 10:45:51.000000000,2018-11-29 10:45:51.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 11444}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}, {'_account_id': 29222}]","[{'number': 1, 'created': '2018-10-24 14:22:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9ba5d6bdd84bcc39fedd7e0d42447f1624147187', 'message': 'Remove unnecessary logs due to misconfiguration from pacemake\n\nThis happens because pacemaker bind mounts the\n/var/log/pacemaker/bundles/<bundle> to /var/log/ in the container\nand so it will be missing there.\n\nChange-Id: I2f028ec7ac6cb280f5ddf30b12ff138cf20cd0fd\nCloses-Bug: 1799716\n'}, {'number': 2, 'created': '2018-11-14 14:27:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/54f905f62a8087837841691f63a5fbba8c2efabd', 'message': 'Remove unnecessary logs due to misconfiguration from pacemaker\n\nThis happens because pacemaker bind mounts the\n/var/log/pacemaker/bundles/<bundle> to /var/log/ in the container\nand so it will be missing there.\n\nTested this on a queens deployment with this change and correctly\nobserved that no lines like the following appear in the logs:\n\n  su:pam_lastlog(su:session): unable to open /var/log/btmp: No such file or directory\n\nChange-Id: I2f028ec7ac6cb280f5ddf30b12ff138cf20cd0fd\nCloses-Bug: 1799716\n'}, {'number': 3, 'created': '2018-11-20 20:05:00.000000000', 'files': ['docker/services/pacemaker/rabbitmq.yaml', 'docker/services/pacemaker/rpc-rabbitmq.yaml', 'docker/services/pacemaker/notify-rabbitmq.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c8bf82501bec0e9e11b07cf01e23b5c41f5418a5', 'message': 'Remove unnecessary logs due to misconfiguration from pacemaker\n\nThis happens because pacemaker bind mounts the\n/var/log/pacemaker/bundles/<bundle> to /var/log/ in the container\nand so it will be missing there.\n\nTested this on a queens deployment with this change and correctly\nobserved that no lines like the following appear in the logs:\n\n  su:pam_lastlog(su:session): unable to open /var/log/btmp: No such file or directory\n\nChange-Id: I2f028ec7ac6cb280f5ddf30b12ff138cf20cd0fd\nCloses-Bug: 1799716\n'}]",0,613043,c8bf82501bec0e9e11b07cf01e23b5c41f5418a5,64,8,3,28522,,,0,"Remove unnecessary logs due to misconfiguration from pacemaker

This happens because pacemaker bind mounts the
/var/log/pacemaker/bundles/<bundle> to /var/log/ in the container
and so it will be missing there.

Tested this on a queens deployment with this change and correctly
observed that no lines like the following appear in the logs:

  su:pam_lastlog(su:session): unable to open /var/log/btmp: No such file or directory

Change-Id: I2f028ec7ac6cb280f5ddf30b12ff138cf20cd0fd
Closes-Bug: 1799716
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/43/613043/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/pacemaker/rabbitmq.yaml'],1,9ba5d6bdd84bcc39fedd7e0d42447f1624147187,bug/1799716, - dest: /var/log/btmp source: /dev/null owner: root group: utmp perm: '0600',,5,0
openstack%2Fkolla~stable%2Frocky~Ie1c688e74ec2aa3b6169c0a18a856dd0c92fe443,openstack/kolla,stable/rocky,Ie1c688e74ec2aa3b6169c0a18a856dd0c92fe443,Install UEFI related package for nova image,MERGED,2018-11-22 10:56:01.000000000,2018-11-29 10:41:59.000000000,2018-11-29 10:41:59.000000000,"[{'_account_id': 7488}, {'_account_id': 14826}, {'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 28614}]","[{'number': 1, 'created': '2018-11-22 10:56:01.000000000', 'files': ['docker/nova/nova-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/e61ac13d998ff8cb2cc4bc219e3c8299af85d6e8', 'message': 'Install UEFI related package for nova image\n\n- for x86_64 arch, install OVMF for RHEL family and ovmf for Debian\n  family\n- for aarch64 arch, install AAVMF for RHEL family and qemu-efi for\n  Debian family\n- there is no package support for ppc64le\n\nCloses-Bug: #1796558\nChange-Id: Ie1c688e74ec2aa3b6169c0a18a856dd0c92fe443\n(cherry picked from commit 60009339827ff81537d80f6a6d3dfa23ad36dbf1)\n'}]",0,619510,e61ac13d998ff8cb2cc4bc219e3c8299af85d6e8,10,6,1,19316,,,0,"Install UEFI related package for nova image

- for x86_64 arch, install OVMF for RHEL family and ovmf for Debian
  family
- for aarch64 arch, install AAVMF for RHEL family and qemu-efi for
  Debian family
- there is no package support for ppc64le

Closes-Bug: #1796558
Change-Id: Ie1c688e74ec2aa3b6169c0a18a856dd0c92fe443
(cherry picked from commit 60009339827ff81537d80f6a6d3dfa23ad36dbf1)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/10/619510/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/nova/nova-base/Dockerfile.j2'],1,e61ac13d998ff8cb2cc4bc219e3c8299af85d6e8,bug/1796558-stable/rocky," {% if base_arch == 'x86_64' %} {% set nova_base_packages = nova_base_packages + [ 'OVMF' ] %} {% elif base_arch == 'aarch64' %} {% set nova_base_packages = nova_base_packages + [ 'AAVMF' ] %} {% elif base_arch == 'ppc64le' %} {# NOTE(Jeffrey4l): no packages for ppc64le #} {% endif %} {% if base_arch == 'x86_64' %} {% set nova_base_packages = nova_base_packages + [ 'ovmf' ] %} {% elif base_arch == 'aarch64' %} {% set nova_base_packages = nova_base_packages + [ 'qemu-efi', ] %} {% elif base_arch == 'ppc64le' %} {# NOTE(Jeffrey4l): no packages for ppc64le #} {% endif %} {% if base_arch == 'x86_64' %} {% set nova_base_packages = nova_base_packages + [ 'OVMF' ] %} {% elif base_arch == 'aarch64' %} {% set nova_base_packages = nova_base_packages + [ 'AAVMF' ] %} {% elif base_arch == 'ppc64le' %} {# NOTE(Jeffrey4l): no packages for ppc64le #} {% endif %} {% if base_arch == 'x86_64' %} {% set nova_base_packages = nova_base_packages + [ 'ovmf' ] %} {% elif base_arch == 'aarch64' %} {% set nova_base_packages = nova_base_packages + [ 'qemu-efi', ] %} {% elif base_arch == 'ppc64le' %} {# NOTE(Jeffrey4l): no packages for ppc64le #} {% endif %} {% if base_distro in ['centos', 'oraclelinux', 'rhel'] %} {% if base_arch == 'x86_64' %} # NOTE(jeffrey4l): for x86_64, nova will validate the existence of /usr/share/OVMF/OVMF_CODE.fd RUN ln -sf /usr/share/OVMF/OVMF_CODE.secboot.fd /usr/share/OVMF/OVMF_CODE.fd {% endif %} {% endif %} ",,53,1
openstack%2Fplacement~master~I4dc2759a49efbe6f36bd4bd129075acdb7a7daa1,openstack/placement,master,I4dc2759a49efbe6f36bd4bd129075acdb7a7daa1,DNM: replace run_once with inline code,ABANDONED,2018-11-28 14:51:59.000000000,2018-11-29 10:34:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-11-28 14:51:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/2fd1fe1891e0f84821fd8de98b72bf647fb26588', 'message': 'DNM: replace run_once with inline code\n\nThis patch is here to try to troubleshoot the db race in\nhttps://review.openstack.org/#/c/617941/ in nova functional test\n\nChange-Id: I4dc2759a49efbe6f36bd4bd129075acdb7a7daa1\n'}, {'number': 2, 'created': '2018-11-28 17:05:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/3eda95fd626fd2681718f051655b89b287559f87', 'message': 'DNM: replace run_once with inline code\n\nThis patch is here to try to troubleshoot the db race in\nhttps://review.openstack.org/#/c/617941/ in nova functional test\n\nChange-Id: I4dc2759a49efbe6f36bd4bd129075acdb7a7daa1\n'}, {'number': 3, 'created': '2018-11-28 17:11:12.000000000', 'files': ['placement/db_api.py', 'placement/tests/fixtures.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/259e8ac1686736133769f5f16965ef51083e22a5', 'message': 'DNM: replace run_once with inline code\n\nThis patch is here to try to troubleshoot the db race in\nhttps://review.openstack.org/#/c/617941/ in nova functional test\n\nChange-Id: I4dc2759a49efbe6f36bd4bd129075acdb7a7daa1\n'}]",0,620617,259e8ac1686736133769f5f16965ef51083e22a5,5,1,3,9708,,,0,"DNM: replace run_once with inline code

This patch is here to try to troubleshoot the db race in
https://review.openstack.org/#/c/617941/ in nova functional test

Change-Id: I4dc2759a49efbe6f36bd4bd129075acdb7a7daa1
",git fetch https://review.opendev.org/openstack/placement refs/changes/17/620617/3 && git format-patch -1 --stdout FETCH_HEAD,"['placement/db_api.py', 'placement/tests/fixtures.py']",2,2fd1fe1891e0f84821fd8de98b72bf647fb26588,, placement_db.reset()," """"""Call this to allow the placement db fixture to be reconfigured in the same process. """""" placement_db.placement_context_manager.dispose_pool() # TODO(cdent): Future handling in sqlalchemy may allow doing this # in a less hacky way. placement_db.placement_context_manager._factory._started = False # Reset the run once decorator. placement_db.configure.reset()",24,15
openstack%2Fopenstack-helm-images~master~If4ff73c37ed8bccb9f6951f3ccdbb7640e9b55a5,openstack/openstack-helm-images,master,If4ff73c37ed8bccb9f6951f3ccdbb7640e9b55a5,Add openstack-helm repo images,MERGED,2018-11-28 14:13:44.000000000,2018-11-29 10:26:48.000000000,2018-11-29 10:26:47.000000000,"[{'_account_id': 17068}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-11-28 14:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/5e6875aa9525dc2d5aef4630a31e1f18e5f64716', 'message': ""Add openstack-helm repo images\n\nThis adds the building of the images present in the OpenStack-Helm\nrepository.\n\nImages follow the same process as images from the osh-infra\nrepository.\n\nKubernetes-entrypoint need refactoring to be independant of the\nMakefile, and therefore was not included in this patch, because\nit was not following other images' building process.\n\nLikewise, LOCI is not following these images building process,\nand therefore will be included in a different patch.\n\nThe manual build script do not expose the extra arguments\npreviously exposed, like KUBE_VERSION or OVS_VERSION by default.\nIt also means a future tagged version of this repository will\nuse the KUBE_VERSION or OVS_VERSION that are in tree, and\ntherefore very explicit.\n\nChange-Id: If4ff73c37ed8bccb9f6951f3ccdbb7640e9b55a5\n""}, {'number': 2, 'created': '2018-11-28 15:29:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/e8fc2cd149b4170ce0549728206f94fc6751dd33', 'message': 'Add openstack-helm repo images\n\nThis adds the building of the images present in the OpenStack-Helm\nrepository.\n\nImages follow the same process as images from the osh-infra\nrepository.\n\nKubernetes-entrypoint is not used anymore and therefore was\nnot migrated over.\n\nLikewise, LOCI is not following these images building process,\nand therefore will be included in a different patch.\n\nThe manual build script do not expose the extra arguments\npreviously exposed, like KUBE_VERSION or OVS_VERSION by default.\nIt also means a future tagged version of this repository will\nuse the KUBE_VERSION or OVS_VERSION that are in tree, and\ntherefore very explicit.\n\nChange-Id: If4ff73c37ed8bccb9f6951f3ccdbb7640e9b55a5\n'}, {'number': 3, 'created': '2018-11-28 15:50:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/ab558a93fa79d68996792174b177c5a2b500d401', 'message': 'Add openstack-helm repo images\n\nThis adds the building of the images present in the OpenStack-Helm\nrepository.\n\nImages follow the same process as images from the osh-infra\nrepository.\n\nKubernetes-entrypoint is not used anymore and therefore was\nnot migrated over.\n\nLikewise, LOCI is not following these images building process,\nand therefore will be included in a different patch.\n\nThe manual build script do not expose the extra arguments\npreviously exposed, like KUBE_VERSION or OVS_VERSION by default.\nIt also means a future tagged version of this repository will\nuse the KUBE_VERSION or OVS_VERSION that are in tree, and\ntherefore very explicit.\n\nChange-Id: If4ff73c37ed8bccb9f6951f3ccdbb7640e9b55a5\n'}, {'number': 4, 'created': '2018-11-28 15:50:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/3985b6f0d65f6b17f50b1e28ca4a8e616b97b530', 'message': 'Add openstack-helm repo images\n\nThis adds the building of the images present in the OpenStack-Helm\nrepository.\n\nImages follow the same process as images from the osh-infra\nrepository.\n\nKubernetes-entrypoint is not used anymore and therefore was\nnot migrated over.\n\nLikewise, LOCI is not following these images building process,\nand therefore will be included in a different patch.\n\nThe manual build script do not expose the extra arguments\npreviously exposed, like KUBE_VERSION or OVS_VERSION by default.\nIt also means a future tagged version of this repository will\nuse the KUBE_VERSION or OVS_VERSION that are in tree, and\ntherefore very explicit.\n\nChange-Id: If4ff73c37ed8bccb9f6951f3ccdbb7640e9b55a5\n'}, {'number': 5, 'created': '2018-11-29 08:45:57.000000000', 'files': ['gate-utils/Dockerfile.debian', 'doc/source/ceph-config-helper.rst', 'doc/source/tempest.rst', 'zuul.d/gate-utils.yaml', 'zuul.d/tempest.yaml', 'ceph-config-helper/build.sh', 'doc/source/gate-utils.rst', 'zuul.d/ceph-config-helper.yaml', 'openvswitch/build.sh', 'doc/source/index.rst', 'ceph-config-helper/Dockerfile.ubuntu_xenial', 'gate-utils/build.sh', 'tempest/Dockerfile.ubuntu_xenial', 'tempest/build.sh', 'doc/source/openvswitch.rst', 'openvswitch/Dockerfile.debian', 'zuul.d/openvswitch.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/0acfaab7b10208093d89cb63a1f39336f4d67894', 'message': 'Add openstack-helm repo images\n\nThis adds the building of the images present in the OpenStack-Helm\nrepository.\n\nImages follow the same process as images from the osh-infra\nrepository.\n\nKubernetes-entrypoint is not used anymore and therefore was\nnot migrated over.\n\nLikewise, LOCI is not following these images building process,\nand therefore will be included in a different patch.\n\nThe manual build script do not expose the extra arguments\npreviously exposed, like KUBE_VERSION or OVS_VERSION by default.\nIt also means a future tagged version of this repository will\nuse the KUBE_VERSION or OVS_VERSION that are in tree, and\ntherefore very explicit.\n\nChange-Id: If4ff73c37ed8bccb9f6951f3ccdbb7640e9b55a5\n'}]",2,620608,0acfaab7b10208093d89cb63a1f39336f4d67894,18,5,5,17068,,,0,"Add openstack-helm repo images

This adds the building of the images present in the OpenStack-Helm
repository.

Images follow the same process as images from the osh-infra
repository.

Kubernetes-entrypoint is not used anymore and therefore was
not migrated over.

Likewise, LOCI is not following these images building process,
and therefore will be included in a different patch.

The manual build script do not expose the extra arguments
previously exposed, like KUBE_VERSION or OVS_VERSION by default.
It also means a future tagged version of this repository will
use the KUBE_VERSION or OVS_VERSION that are in tree, and
therefore very explicit.

Change-Id: If4ff73c37ed8bccb9f6951f3ccdbb7640e9b55a5
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/08/620608/2 && git format-patch -1 --stdout FETCH_HEAD,"['gate-utils/Dockerfile.debian', 'doc/source/ceph-config-helper.rst', 'doc/source/tempest.rst', 'zuul.d/gate-utils.yaml', 'zuul.d/tempest.yaml', 'ceph-config-helper/build.sh', 'doc/source/gate-utils.rst', 'zuul.d/ceph-config-helper.yaml', 'openvswitch/build.sh', 'doc/source/index.rst', 'ceph-config-helper/Dockerfile.ubuntu_xenial', 'gate-utils/build.sh', 'tempest/Dockerfile.ubuntu_xenial', 'tempest/build.sh', 'doc/source/openvswitch.rst', 'openvswitch/Dockerfile.debian', 'zuul.d/openvswitch.yaml']",17,5e6875aa9525dc2d5aef4630a31e1f18e5f64716,add_zuul_jobs,"--- # Copyright 2018, SUSE LINUX GmbH. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - project: check: jobs: - openstack-helm-images-openvswitch-debian gate: jobs: - openstack-helm-images-openvswitch-debian #experimental: # jobs: # - openstack-helm-infra-five-ubuntu - job: name: openstack-helm-images-openvswitch parent: openstack-helm-images-base abstract: true files: - ^openvswitch/.* vars: image_path: openvswitch - job: name: openstack-helm-images-openvswitch-debian parent: openstack-helm-images-openvswitch files: - ^openvswitch/build.sh - ^openvswitch/Dockerfile.debian$ - ^zuul.d/openvswitch.yaml vars: distro: ""debian"" ",,449,0
openstack%2Fos-ken~master~I9b9e414b221c027955f88c912a21fb0300e1c2c0,openstack/os-ken,master,I9b9e414b221c027955f88c912a21fb0300e1c2c0,Remove all files in /debian directory,MERGED,2018-11-27 20:47:41.000000000,2018-11-29 10:26:47.000000000,2018-11-29 10:26:47.000000000,"[{'_account_id': 841}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-27 20:47:41.000000000', 'files': ['debian/docs', 'debian/python-ryu-doc.doc-base', 'debian/rules', 'debian/changelog', 'debian/ryu-bin.ryu.logrotate', 'debian/log.conf', 'debian/clean', 'debian/ryu-bin.dirs', 'debian/ryu.conf', 'debian/ryu-bin.postrm', 'debian/copyright', 'debian/python-ryu-doc.docs', 'debian/ryu-bin.manpages', 'debian/control', 'debian/ryu-bin.install', 'debian/ryu-bin.ryu.upstart', 'debian/compat', 'debian/source/format', 'debian/python-ryu.install'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/5e304b1f8703dfc2a2552f39775108b36f3f7244', 'message': 'Remove all files in /debian directory\n\nFiles in /debian directory is not used anymore.\n\nChange-Id: I9b9e414b221c027955f88c912a21fb0300e1c2c0\n'}]",1,620401,5e304b1f8703dfc2a2552f39775108b36f3f7244,11,3,1,27654,,,0,"Remove all files in /debian directory

Files in /debian directory is not used anymore.

Change-Id: I9b9e414b221c027955f88c912a21fb0300e1c2c0
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/01/620401/1 && git format-patch -1 --stdout FETCH_HEAD,"['debian/docs', 'debian/python-ryu-doc.doc-base', 'debian/rules', 'debian/changelog', 'debian/ryu-bin.ryu.logrotate', 'debian/log.conf', 'debian/clean', 'debian/ryu-bin.dirs', 'debian/ryu.conf', 'debian/ryu-bin.postrm', 'debian/copyright', 'debian/python-ryu-doc.docs', 'debian/ryu-bin.manpages', 'debian/control', 'debian/ryu-bin.install', 'debian/ryu-bin.ryu.upstart', 'debian/compat', 'debian/source/format', 'debian/python-ryu.install']",19,5e304b1f8703dfc2a2552f39775108b36f3f7244,,,usr/lib/python*/dist-packages/* ,0,284
openstack%2Fkolla-ansible~master~I8fc640891d0d58541198cc8f2e942d8db6e8d02f,openstack/kolla-ansible,master,I8fc640891d0d58541198cc8f2e942d8db6e8d02f,Fix Karbor endpoints,MERGED,2018-11-28 21:13:45.000000000,2018-11-29 10:23:05.000000000,2018-11-29 10:23:05.000000000,"[{'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 23717}]","[{'number': 1, 'created': '2018-11-28 21:13:45.000000000', 'files': ['ansible/roles/karbor/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/22284676f6cc3f6cca96819ce41434bedba83887', 'message': 'Fix Karbor endpoints\n\nFrom Karbor documentation, endpoints should be created with\n""%(project_id)s"" and not with ""%(tenant_id)s"".\n\nThis is very important because of this commit in Karbor which is\nlooking for a string ""project_id"".\n\nChange-Id: I8fc640891d0d58541198cc8f2e942d8db6e8d02f\nCloses-Bug: #1805705\n'}]",0,620699,22284676f6cc3f6cca96819ce41434bedba83887,7,3,1,16006,,,0,"Fix Karbor endpoints

From Karbor documentation, endpoints should be created with
""%(project_id)s"" and not with ""%(tenant_id)s"".

This is very important because of this commit in Karbor which is
looking for a string ""project_id"".

Change-Id: I8fc640891d0d58541198cc8f2e942d8db6e8d02f
Closes-Bug: #1805705
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/99/620699/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/karbor/defaults/main.yml'],1,22284676f6cc3f6cca96819ce41434bedba83887,bug/1805705,"karbor_admin_endpoint: ""{{ admin_protocol }}://{{ kolla_internal_fqdn }}:{{ karbor_api_port }}/v1/%(project_id)s"" karbor_internal_endpoint: ""{{ internal_protocol }}://{{ kolla_internal_fqdn }}:{{ karbor_api_port }}/v1/%(project_id)s"" karbor_public_endpoint: ""{{ public_protocol }}://{{ kolla_external_fqdn }}:{{ karbor_api_port }}/v1/%(project_id)s""","karbor_admin_endpoint: ""{{ admin_protocol }}://{{ kolla_internal_fqdn }}:{{ karbor_api_port }}/v1/%(tenant_id)s"" karbor_internal_endpoint: ""{{ internal_protocol }}://{{ kolla_internal_fqdn }}:{{ karbor_api_port }}/v1/%(tenant_id)s"" karbor_public_endpoint: ""{{ public_protocol }}://{{ kolla_external_fqdn }}:{{ karbor_api_port }}/v1/%(tenant_id)s""",3,3
openstack%2Fnova~master~Ie78e2b16e2366eae924717897b06c7e23370b399,openstack/nova,master,Ie78e2b16e2366eae924717897b06c7e23370b399,placement: avoid multiple join in _get_all_with_shared,ABANDONED,2017-11-12 14:51:25.000000000,2018-11-29 10:22:14.000000000,,"[{'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26490}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-11-12 14:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/73e4edc12210600a3ffef97ccd211ea87c4eca2d', 'message': 'placement: avoid multiple join in _get_all_with_shared\n\nThe number of joins used in the _get_all_with_shared is based on\nthe number of the requested resources. Using single join instead\nof multiple join can improve the performance.\n\nChange-Id: Ie78e2b16e2366eae924717897b06c7e23370b399\n'}, {'number': 2, 'created': '2017-11-13 03:09:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6d2d698a6434e96ff20e483d2bfa616b659e5b33', 'message': 'placement: avoid multiple join in _get_all_with_shared\n\nThe number of joins used in the _get_all_with_shared is based on\nthe number of the requested resources. Using single join instead\nof multiple join can improve the performance.\n\nChange-Id: Ie78e2b16e2366eae924717897b06c7e23370b399\n'}, {'number': 3, 'created': '2017-11-13 03:20:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d58aaed46bf7095ec0c0473a0f61c73759f88cc9', 'message': 'placement: avoid multiple join in _get_all_with_shared\n\nThe number of joins used in the _get_all_with_shared is based on\nthe number of the requested resources. Using single join instead\nof multiple join can improve the performance.\n\nChange-Id: Ie78e2b16e2366eae924717897b06c7e23370b399\n'}, {'number': 4, 'created': '2017-11-16 07:43:18.000000000', 'files': ['nova/objects/resource_provider.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/be637e723549e230867d822ecdeccfcb4ba44b30', 'message': 'placement: avoid multiple join in _get_all_with_shared\n\nThe number of joins used in the _get_all_with_shared is based on\nthe number of the requested resources. Using single join instead\nof multiple join can improve the performance.\n\nChange-Id: Ie78e2b16e2366eae924717897b06c7e23370b399\n'}]",10,519081,be637e723549e230867d822ecdeccfcb4ba44b30,52,17,4,5754,,,0,"placement: avoid multiple join in _get_all_with_shared

The number of joins used in the _get_all_with_shared is based on
the number of the requested resources. Using single join instead
of multiple join can improve the performance.

Change-Id: Ie78e2b16e2366eae924717897b06c7e23370b399
",git fetch https://review.opendev.org/openstack/nova refs/changes/81/519081/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/objects/resource_provider.py'],1,73e4edc12210600a3ffef97ccd211ea87c4eca2d,without_mutiple_join," # The SQL is as below: # # SELECT rpt.id, sharing_disk_gb.aggregate_id # FROM resource_providers AS rpt # JOIN inventories AS inv # ON inv.resource_provider_id = rpt.id # LEFT JOIN ( # SELECT allocs.resource_provider_id, allocs.resource_class_id, # sum(allocs.used) # FROM allocations AS allocs # WHERE allocs.resource_class_id in $(RESOURCE_CLASS_IDS) # GROUP BY allocs.resource_provider_id, allocs.resource_class_id # ) AS usages # ON usages.resource_provider_id = inv.resource_provider_id AND # usages.resource_class_id = inv.resource_class_id # LEFT JOIN resource_provider_aggregates AS shared_disk_gb # ON shared_disk_gb.resource_provider_id = rpt.resource_provider_id # LEFT JOIN resource_provider_aggregates AS sharing_disk_gb # ON shared_disk_gb.aggregate_id = sharing_disk_gb.aggregate_id AND # sharing_disk_gb.resource_provider_id IN $(SHARING_RESOURCE_PROVIDER_ID) # WHERE ( # inv.resource_class_id = 0 AND # ( # COALESCE(usages.used, 0) + $AMOUNT_VCPU <= # (inv.total + inv.reserved) # ) AND # inv.min_unit <= $AMOUNT_VCPU AND # inv.max_unit >= $AMOUNT_VCPU AND # $AMOUNT_VCPU % inv.step_size == 0 # ) OR ( # inv.resource_class_id = 1 AND # ( # COALESCE(usages.used, 0) + $AMOUNT_MEM <= # (inv.total + inv.reserved) # ) AND # inv.min_unit <= $AMOUNT_MEM AND # inv.max_unit >= $AMOUNT_MEM AND # $AMOUNT_MEM % inv.step_size == 0 # ) OR ( # inv.resource_class_id = 2 AND # ( # COALESCE(usages.used, 0) + $AMOUNT_DISK <= # (inv.total + inv.reserved) # ) AND # inv.min_unit <= $AMOUNT_DISK AND # inv.max_unit >= $AMOUNT_DISK AND # $AMOUNT_DISK % inv.step_size == 0 # ) # GROUP BY rpt.id # HAVING ( # ( # count(inv.resource_class_id) = 3 AND # sharing_disk_gb.aggregate_id IS NULL # ) OR # ( # COUNT(inv.resource_class_id) = 2 AND # sharing_disk_gb.aggregate_id IS NOT NULL # ) # ) inv = sa.alias(_INV_TBL, name=""inv"") # A derived table (subquery in the FROM clause or JOIN) against the # allocations table winnowed to only that resource class, grouped by # resource provider. usage_table = sa.alias( sa.select([ _ALLOC_TBL.c.resource_provider_id, _ALLOC_TBL.c.resource_class_id, sql.func.sum(_ALLOC_TBL.c.used).label('used'), ]).where( _ALLOC_TBL.c.resource_class_id.in_(resources.keys()) ).group_by( _ALLOC_TBL.c.resource_provider_id ).group_by( _ALLOC_TBL.c.resource_class_id ), name='usage', ) join_chain = sa.join( rpt, inv, sa.and_( rpt.c.id == inv.c.resource_provider_id, inv.c.resource_class_id.in_(resources.keys()) ) ) join_chain = sa.outerjoin( join_chain, usage_table, sa.and_( inv.c.resource_provider_id == usage_table.c.resource_provider_id, inv.c.resource_class_id == usage_table.c.resource_class_id ) ) inv.c.resource_class_id == rc_id, (sql.func.coalesce(usage_table.c.used, 0) + amount) <= (inv.c.total - inv.c.reserved) * inv.c.allocation_ratio inv.c.min_unit <= amount, inv.c.max_unit >= amount, amount % inv.c.step_size == 0, where_conds.append(usage_cond) if sps: sel = sa.select([rpt.c.id] + [sharing_tables[rc_id].c.aggregate_id for rc_id in sharing_tables.keys()]) sel = sel.where(sa.or_(*where_conds)) sel = sel.group_by(rpt.c.id).having( sa.or_( sa.func.count(inv.c.resource_class_id) == len(resources), sa.and_( (sa.func.count(inv.c.resource_class_id) == (len(resources) - len(sharing_tables))), *[sharing_tables[rc_id].c.aggregate_id != sa.null() for rc_id in sharing_tables.keys()] ) ) )"," # NOTE(jaypipes): The SQL we generate here depends on which resource # classes have providers that share that resource via an aggregate. # # We begin building a ""join chain"" by starting with a projection from the # resource_providers table: # # SELECT rp.id # FROM resource_providers AS rp # # in addition to a copy of resource_provider_aggregates for each resource # class that has a shared provider: # # resource_provider_aggregates AS sharing_{RC_NAME}, # # We then join to a copy of the inventories table for each resource we are # requesting: # # {JOIN TYPE} JOIN inventories AS inv_{RC_NAME} # ON {JOINING TABLE}.id = inv_{RC_NAME}.resource_provider_id # AND inv_{RC_NAME}.resource_class_id = $RC_ID # LEFT JOIN ( # SELECT resource_provider_id, SUM(used) AS used # FROM allocations # WHERE resource_class_id = $VCPU_ID # GROUP BY resource_provider_id # ) AS usage_{RC_NAME} # ON inv_{RC_NAME}.resource_provider_id = \ # usage_{RC_NAME}.resource_provider_id # # For resource classes that DO NOT have any shared resource providers, the # {JOIN TYPE} will be an INNER join, because we are filtering out any # resource providers that do not have local inventory of that resource # class. # # For resource classes that DO have shared resource providers, the {JOIN # TYPE} will be a LEFT (OUTER) join. # # For the first join, {JOINING TABLE} will be resource_providers. For each # subsequent resource class that is added to the SQL expression, {JOINING # TABLE} will be the alias of the inventories table that refers to the # previously-processed resource class. # # For resource classes that DO have shared providers, we also perform a # ""butterfly join"" against two copies of the resource_provider_aggregates # table: # # +-----------+ +------------+ +-------------+ +------------+ # | last_inv | | rpa_shared | | rpa_sharing | | rp_sharing | # +-----------| +------------+ +-------------+ +------------+ # | rp_id |=>| rp_id | | rp_id |<=| id | # | | | agg_id |<=| agg_id | | | # +-----------+ +------------+ +-------------+ +------------+ # # Note in the diagram above, we call the _get_providers_sharing_capacity() # for a resource class to construct the ""rp_sharing"" set/table. # # The first part of the butterfly join is an outer join against a copy of # the resource_provider_aggregates table in order to winnow results to # providers that are associated with any aggregate that the sharing # provider is associated with: # # LEFT JOIN resource_provider_aggregates AS shared_{RC_NAME} # ON {JOINING_TABLE}.id = shared_{RC_NAME}.resource_provider_id # # The above is then joined to the set of aggregates associated with the set # of sharing providers for that resource: # # LEFT JOIN resource_provider_aggregates AS sharing_{RC_NAME} # ON shared_{RC_NAME}.aggregate_id = sharing_{RC_NAME}.aggregate_id # # We calculate the WHERE conditions based on whether the resource class has # any shared providers. # # For resource classes that DO NOT have any shared resource providers, the # WHERE clause constructed finds resource providers that have inventory for # ""local"" resource providers: # # WHERE (COALESCE(usage_vcpu.used, 0) + $AMOUNT <= # (inv_{RC_NAME}.total + inv_{RC_NAME}.reserved) # * inv_{RC_NAME}.allocation_ratio # AND # inv_{RC_NAME}.min_unit <= $AMOUNT AND # inv_{RC_NAME}.max_unit >= $AMOUNT AND # $AMOUNT_VCPU % inv_{RC_NAME}.step_size == 0) # # For resource classes that DO have shared resource providers, the WHERE # clause is slightly more complicated: # # WHERE ( # inv_{RC_NAME}.resource_provider_id IS NOT NULL AND # ( # ( # COALESCE(usage_{RC_NAME}.used, 0) + $AMOUNT_VCPU <= # (inv_{RC_NAME}.total + inv_{RC_NAME}.reserved) # * inv_{RC_NAME}.allocation_ratio # ) AND # inv_{RC_NAME}.min_unit <= $AMOUNT_VCPU AND # inv_{RC_NAME}.max_unit >= $AMOUNT_VCPU AND # $AMOUNT_VCPU % inv_{RC_NAME}.step_size == 0 # ) OR # sharing_{RC_NAME}.resource_provider_id IS NOT NULL # ) # # Finally, we GROUP BY the resource provider ID: # # GROUP BY rp.id # # To show an example, here is the exact SQL that will be generated in an # environment that has a shared storage pool and compute nodes that have # vCPU and RAM associated with the same aggregate as the provider # representing the shared storage pool: # # SELECT rp.* # FROM resource_providers AS rp # INNER JOIN inventories AS inv_vcpu # ON rp.id = inv_vcpu.resource_provider_id # AND inv_vcpu.resource_class_id = $VCPU_ID # LEFT JOIN ( # SELECT resource_provider_id, SUM(used) AS used # FROM allocations # WHERE resource_class_id = $VCPU_ID # GROUP BY resource_provider_id # ) AS usage_vcpu # ON inv_vcpu.resource_provider_id = \ # usage_vcpu.resource_provider_id # INNER JOIN inventories AS inv_memory_mb # ON inv_vcpu.resource_provider_id = inv_memory_mb.resource_provider_id # AND inv_memory_mb.resource_class_id = $MEMORY_MB_ID # LEFT JOIN ( # SELECT resource_provider_id, SUM(used) AS used # FROM allocations # WHERE resource_class_id = $MEMORY_MB_ID # GROUP BY resource_provider_id # ) AS usage_memory_mb # ON inv_memory_mb.resource_provider_id = \ # usage_memory_mb.resource_provider_id # LEFT JOIN inventories AS inv_disk_gb # ON inv_memory_mb.resource_provider_id = \ # inv_disk_gb.resource_provider_id # AND inv_disk_gb.resource_class_id = $DISK_GB_ID # LEFT JOIN ( # SELECT resource_provider_id, SUM(used) AS used # FROM allocations # WHERE resource_class_id = $DISK_GB_ID # GROUP BY resource_provider_id # ) AS usage_disk_gb # ON inv_disk_gb.resource_provider_id = \ # usage_disk_gb.resource_provider_id # LEFT JOIN resource_provider_aggregates AS shared_disk_gb # ON inv_memory_mb.resource_provider_id = \ # shared_disk.resource_provider_id # LEFT JOIN resource_provider_aggregates AS sharing_disk_gb # ON shared_disk_gb.aggregate_id = sharing_disk_gb.aggregate_id # AND sharing_disk_gb.resource_provider_id IN ($RPS_SHARING_DISK) # WHERE ( # ( # COALESCE(usage_vcpu.used, 0) + $AMOUNT_VCPU <= # (inv_vcpu.total + inv_vcpu.reserved) # * inv_vcpu.allocation_ratio # ) AND # inv_vcpu.min_unit <= $AMOUNT_VCPU AND # inv_vcpu.max_unit >= $AMOUNT_VCPU AND # $AMOUNT_VCPU % inv_vcpu.step_size == 0 # ) AND ( # ( # COALESCE(usage_memory_mb.used, 0) + $AMOUNT_VCPU <= # (inv_memory_mb.total + inv_memory_mb.reserved) # * inv_memory_mb.allocation_ratio # ) AND # inv_memory_mb.min_unit <= $AMOUNT_MEMORY_MB AND # inv_memory_mb.max_unit >= $AMOUNT_MEMORY_MB AND # $AMOUNT_MEMORY_MB % inv_memory_mb.step_size == 0 # ) AND ( # inv_disk.resource_provider_id IS NOT NULL AND # ( # ( # COALESCE(usage_disk_gb.used, 0) + $AMOUNT_DISK_GB <= # (inv_disk_gb.total + inv_disk_gb.reserved) # * inv_disk_gb.allocation_ratio # ) AND # inv_disk_gb.min_unit <= $AMOUNT_DISK_GB AND # inv_disk_gb.max_unit >= $AMOUNT_DISK_GB AND # $AMOUNT_DISK_GB % inv_disk_gb.step_size == 0 # ) OR # sharing_disk_gb.resource_provider_id IS NOT NULL # ) # GROUP BY rp.id # Dict, keyed by resource class ID, of an aliased table object for the # inventories table winnowed to only that resource class. inv_tables = { rc_id: sa.alias(_INV_TBL, name='inv_%s' % name_map[rc_id]) for rc_id in resources.keys() } # Dict, keyed by resource class ID, of a derived table (subquery in the # FROM clause or JOIN) against the allocations table winnowed to only that # resource class, grouped by resource provider. usage_tables = { rc_id: sa.alias( sa.select([ _ALLOC_TBL.c.resource_provider_id, sql.func.sum(_ALLOC_TBL.c.used).label('used'), ]).where( _ALLOC_TBL.c.resource_class_id == rc_id ).group_by( _ALLOC_TBL.c.resource_provider_id ), name='usage_%s' % name_map[rc_id], ) for rc_id in resources.keys() } # Primary selection is on the resource_providers table and all of the # aliased table copies of resource_provider_aggregates for each resource # being shared sel = sa.select([rpt.c.id]) join_chain = None # The last inventory join lastij = None it = inv_tables[rc_id] ut = usage_tables[rc_id] if join_chain is None: rp_link = rpt jc = rpt.c.id == it.c.resource_provider_id else: rp_link = join_chain jc = lastij.c.resource_provider_id == it.c.resource_provider_id # We can do a more efficient INNER JOIN when we don't have shared # resource providers for this resource class joiner = sa.join if sps: joiner = sa.outerjoin inv_join = joiner( rp_link, it, sa.and_( jc, # Add a join condition winnowing this copy of inventories table # to only the resource class being analyzed in this loop... it.c.resource_class_id == rc_id, ), ) lastij = it usage_join = sa.outerjoin( inv_join, ut, it.c.resource_provider_id == ut.c.resource_provider_id, ) join_chain = usage_join (sql.func.coalesce(ut.c.used, 0) + amount) <= (it.c.total - it.c.reserved) * it.c.allocation_ratio it.c.min_unit <= amount, it.c.max_unit >= amount, amount % it.c.step_size == 0, if not sps: where_conds.append(usage_cond) else: cond = sa.or_( sa.and_( it.c.resource_provider_id != sa.null(), usage_cond, ), sharing.c.resource_provider_id != sa.null(), ) where_conds.append(cond) sel = sel.where(sa.and_(*where_conds)) sel = sel.group_by(rpt.c.id) ",117,268
openstack%2Fnova~master~I7c7ffb0702cea994eef4ff8cadaadccd65b68cd0,openstack/nova,master,I7c7ffb0702cea994eef4ff8cadaadccd65b68cd0,placement: ensure RP maps to those RPs that share with it,ABANDONED,2017-07-05 07:13:17.000000000,2018-11-29 10:22:01.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 5754}, {'_account_id': 6167}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11351}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-07-05 07:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/90d9f64d96d01e73cb89a62fcf787d0fe1a24053', 'message': 'placement: ensure shared RP maps with correct root RP\n\nThe shared resource provider should map with the correct\nroot resource provider, otherwise the wrong combination of\nallocation requests returned AllocationCandidates.get_by_filters().\n\nChange-Id: I7c7ffb0702cea994eef4ff8cadaadccd65b68cd0\nCloses-Bug: #1702420\n'}, {'number': 2, 'created': '2017-07-05 10:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4780cd9600df473fa0a6139d152e7dc4f937f4d1', 'message': 'placement: ensure shared RP maps with correct root RP\n\nThe shared resource provider should map with the correct\nroot resource provider, otherwise the wrong combination of\nallocation requests returned AllocationCandidates.get_by_filters().\n\nChange-Id: I7c7ffb0702cea994eef4ff8cadaadccd65b68cd0\nCloses-Bug: #1702420\n'}, {'number': 3, 'created': '2017-07-07 06:37:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/88f90387dd586a597475f93933fc03ea448a21df', 'message': 'placement: ensure shared RP maps with correct root RP\n\nThe shared resource provider should map with the correct\nroot resource provider, otherwise the wrong combination of\nallocation requests returned AllocationCandidates.get_by_filters().\n\nChange-Id: I7c7ffb0702cea994eef4ff8cadaadccd65b68cd0\nCloses-Bug: #1702420\n'}, {'number': 4, 'created': '2017-07-18 09:12:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/41584d292d5ab7a89eb5355031bbff8744286254', 'message': 'placement: ensure shared RP maps with correct root RP\n\nThe shared resource provider should map with the correct\nroot resource provider, otherwise the wrong combination of\nallocation requests returned AllocationCandidates.get_by_filters().\n\nChange-Id: I7c7ffb0702cea994eef4ff8cadaadccd65b68cd0\nCloses-Bug: #1702420\n'}, {'number': 5, 'created': '2017-07-31 01:24:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0af7d4ab0250c9f8d916009f8bd5aecd5b1bb1a2', 'message': 'placement: ensure shared RP maps with correct root RP\n\nThe shared resource provider should map with the correct\nroot resource provider, otherwise the wrong combination of\nallocation requests returned AllocationCandidates.get_by_filters().\n\nChange-Id: I7c7ffb0702cea994eef4ff8cadaadccd65b68cd0\nCloses-Bug: #1702420\n'}, {'number': 6, 'created': '2017-07-31 03:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ee18ab11077c9e327a847781c73ba1f83361d6e8', 'message': 'placement: ensure shared RP maps with correct root RP\n\nThe shared resource provider should map with the correct\nroot resource provider, otherwise the wrong combination of\nallocation requests returned AllocationCandidates.get_by_filters().\n\nChange-Id: I7c7ffb0702cea994eef4ff8cadaadccd65b68cd0\nCloses-Bug: #1702420\n'}, {'number': 7, 'created': '2017-08-08 11:23:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab051695f225d4dc81bf5f2635f64cc450abd736', 'message': 'placement: ensure sharing RPs maps combinates with correct shared RP\n\nThe sharing resource providers should map with the correct\nshared resource provider, otherwise the wrong combination of\nallocation requests returned AllocationCandidates.get_by_filters().\n\nChange-Id: I7c7ffb0702cea994eef4ff8cadaadccd65b68cd0\nCloses-Bug: #1702420\n'}, {'number': 8, 'created': '2017-08-08 11:51:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bbc6f7a8271c84672978427b9ade05459ddbe8a6', 'message': 'placement: ensure RP maps to those RPs that share with it\n\nResource providers should only map with those sharing resource providers\nthat are in the same aggregate, otherwise the wrong combination of\nallocation requests is returned by AllocationCandidates.get_by_filters().\n\nChange-Id: I7c7ffb0702cea994eef4ff8cadaadccd65b68cd0\nCloses-Bug: #1702420\n'}, {'number': 9, 'created': '2017-08-09 03:34:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5219ce858c01b3b1ba2b2690369e814fb4656cf7', 'message': 'placement: ensure RP maps to those RPs that share with it\n\nResource providers should only map with those sharing resource providers\nthat are in the same aggregate, otherwise the wrong combination of\nallocation requests is returned by AllocationCandidates.get_by_filters().\n\nChange-Id: I7c7ffb0702cea994eef4ff8cadaadccd65b68cd0\nCloses-Bug: #1702420\n'}, {'number': 10, 'created': '2017-08-09 09:23:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ea595cdbcb5197c60849fd8a857bd5d7338e86b1', 'message': 'placement: ensure RP maps to those RPs that share with it\n\nResource providers should only map with those sharing resource providers\nthat are in the same aggregate, otherwise the wrong combination of\nallocation requests is returned by AllocationCandidates.get_by_filters().\n\nChange-Id: I7c7ffb0702cea994eef4ff8cadaadccd65b68cd0\nCloses-Bug: #1702420\n'}, {'number': 11, 'created': '2017-08-10 05:24:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab3052fb53eaa82adff117ed29f432070fb73a4b', 'message': 'placement: ensure RP maps to those RPs that share with it\n\nResource providers should only map with those sharing resource providers\nthat are in the same aggregate, otherwise the wrong combination of\nallocation requests is returned by AllocationCandidates.get_by_filters().\n\nChange-Id: I7c7ffb0702cea994eef4ff8cadaadccd65b68cd0\nCloses-Bug: #1702420\n'}, {'number': 12, 'created': '2017-08-10 06:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a2b0d33ba387467966b1126c55c9f75b85b396e5', 'message': 'placement: ensure RP maps to those RPs that share with it\n\nResource providers should only map with those sharing resource providers\nthat are in the same aggregate, otherwise the wrong combination of\nallocation requests is returned by AllocationCandidates.get_by_filters().\n\nChange-Id: I7c7ffb0702cea994eef4ff8cadaadccd65b68cd0\nCloses-Bug: #1702420\n'}, {'number': 13, 'created': '2017-08-10 06:43:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7a00953d1d9a6ce5901dfcaa965a2ec0b69010ab', 'message': 'placement: ensure RP maps to those RPs that share with it\n\nResource providers should only map with those sharing resource providers\nthat are in the same aggregate, otherwise the wrong combination of\nallocation requests is returned by AllocationCandidates.get_by_filters().\n\nChange-Id: I7c7ffb0702cea994eef4ff8cadaadccd65b68cd0\nCloses-Bug: #1702420\n'}, {'number': 14, 'created': '2017-08-10 07:04:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7cec6068e5db5f0c02bd5237ed946e4032309ffc', 'message': ""placement: ensure RP maps to those RPs that share with it\n\nThe current impelementation doesn't generate the correct combinations\nfor the shared resource providers. The flowing cases are fixed in this\npatch:\n\n* Resource providers should only map with those sharing resource providers\nthat are in the same aggregate,\n* The Root ResourceProvider may share multiple resources from multiple\nsharing resource providers. The combination should be multiple.\n* Sharing resource providers are may just sharing to part of resource\nproviders.\n\nChange-Id: I7c7ffb0702cea994eef4ff8cadaadccd65b68cd0\nCloses-Bug: #1702420\n""}, {'number': 15, 'created': '2017-08-10 07:14:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/426bc5ddfc1daebc80e7c498dd91960bea6d0cca', 'message': ""placement: ensure RP maps to those RPs that share with it\n\nThe current impelementation doesn't generate the correct combinations\nfor the shared resource providers. The flowing cases are fixed in this\npatch:\n\n* Resource providers should only map with those sharing resource providers\nthat are in the same aggregate,\n* The Root ResourceProvider may share multiple resources from multiple\nsharing resource providers. The combination should be multiple.\n* Sharing resource providers are may just sharing to part of resource\nproviders.\n\nChange-Id: I7c7ffb0702cea994eef4ff8cadaadccd65b68cd0\nCloses-Bug: #1702420\n""}, {'number': 16, 'created': '2017-08-10 12:06:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/05db7cb9e92a376b0d30435ee92c09d28b3dac37', 'message': ""placement: ensure RP maps to those RPs that share with it\n\nThe current implementation doesn't generate the correct combinations\nfor the shared resource providers. The following cases are fixed in\nthis w\npatch:\n\n* Resource providers should only map with those sharing resource providers\nthat are in the same aggregate,\n* The Root ResourceProvider may share multiple resources from multiple\nsharing resource providers. The combination should be multiple.\n* It is not all the resource providers share resources from\nsame set of sharing resource providers.\n\nChange-Id: I7c7ffb0702cea994eef4ff8cadaadccd65b68cd0\nCloses-Bug: #1702420\n""}, {'number': 17, 'created': '2017-08-10 12:20:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1f918ee13dabd174ad788897f94d93ab5e493481', 'message': ""placement: ensure RP maps to those RPs that share with it\n\nThe current implementation doesn't generate the correct combinations\nfor the shared resource providers. The following cases are fixed in\nthis patch:\n\n* Resource providers should only map with those sharing resource providers\nthat are in the same aggregate,\n* The Root ResourceProvider may share multiple resources from multiple\nsharing resource providers. The combination should be multiple.\n* If not all the resource providers share resources from\nsame set of sharing resource providers.\n\nChange-Id: I7c7ffb0702cea994eef4ff8cadaadccd65b68cd0\nCloses-Bug: #1702420\n""}, {'number': 18, 'created': '2017-08-21 07:43:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d748efb09b3746b294b9fa8981fcee7841d0826', 'message': ""placement: ensure RP maps to those RPs that share with it\n\nThe current implementation doesn't generate the correct combinations\nfor the shared resource providers. The following cases are fixed in\nthis patch:\n\n* Resource providers should only map with those sharing resource providers\nthat are in the same aggregate,\n* The Root ResourceProvider may share multiple resources from multiple\nsharing resource providers. The combination should be multiple.\n* If not all the resource providers share resources from\nsame set of sharing resource providers.\n\nChange-Id: I7c7ffb0702cea994eef4ff8cadaadccd65b68cd0\nCloses-Bug: #1702420\n""}, {'number': 19, 'created': '2017-08-23 01:53:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9961df4ab8eeae863cb56551c12f67837b0424d2', 'message': ""placement: ensure RP maps to those RPs that share with it\n\nThe current implementation doesn't generate the correct combinations\nfor the shared resource providers. The following cases are fixed in\nthis patch:\n\n* Resource providers should only map with those sharing resource providers\nthat are in the same aggregate,\n* The Root ResourceProvider may share multiple resources from multiple\nsharing resource providers. The combination should be multiple.\n* If not all the resource providers share resources from\nsame set of sharing resource providers.\n\nChange-Id: I7c7ffb0702cea994eef4ff8cadaadccd65b68cd0\nCloses-Bug: #1702420\n""}, {'number': 20, 'created': '2017-08-29 09:55:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4e07409827c05f94c01bc6d7ccaa54f0c69cdb30', 'message': ""placement: ensure RP maps to those RPs that share with it\n\nThe current implementation doesn't generate the correct combinations\nfor the shared resource providers. The following cases are fixed in\nthis patch:\n\n* Resource providers should only map with those sharing resource providers\nthat are in the same aggregate,\n* The Root ResourceProvider may share multiple resources from multiple\nsharing resource providers. The combination should be multiple.\n* If not all the resource providers share resources from\nsame set of sharing resource providers.\n\nChange-Id: I7c7ffb0702cea994eef4ff8cadaadccd65b68cd0\nCloses-Bug: #1702420\n""}, {'number': 21, 'created': '2017-08-29 10:01:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4d60af3192c3dc71f970cafe6b76a53c681ac2e5', 'message': ""placement: ensure RP maps to those RPs that share with it\n\nThe current implementation doesn't generate the correct combinations\nfor the shared resource providers. The following cases are fixed in\nthis patch:\n\n* Resource providers should only map with those sharing resource providers\nthat are in the same aggregate,\n* The Root ResourceProvider may share multiple resources from multiple\nsharing resource providers. The combination should be multiple.\n* If not all the resource providers share resources from\nsame set of sharing resource providers.\n\nChange-Id: I7c7ffb0702cea994eef4ff8cadaadccd65b68cd0\nCloses-Bug: #1702420\n""}, {'number': 22, 'created': '2017-08-30 01:08:02.000000000', 'files': ['nova/objects/resource_provider.py', 'nova/tests/functional/db/test_resource_provider.py', 'nova/tests/unit/objects/test_resource_provider.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/27e5d0a20f11b3b8f92841ed0439dee57cf0ebf2', 'message': ""placement: ensure RP maps to those RPs that share with it\n\nThe current implementation doesn't generate the correct combinations\nfor the shared resource providers. The following cases are fixed in\nthis patch:\n\n* Resource providers should only map with those sharing resource providers\nthat are in the same aggregate,\n* The Root ResourceProvider may share multiple resources from multiple\nsharing resource providers. The combination should be multiple.\n* If not all the resource providers share resources from\nsame set of sharing resource providers.\n\nChange-Id: I7c7ffb0702cea994eef4ff8cadaadccd65b68cd0\nCloses-Bug: #1702420\n""}]",41,480379,27e5d0a20f11b3b8f92841ed0439dee57cf0ebf2,235,24,22,5754,,,0,"placement: ensure RP maps to those RPs that share with it

The current implementation doesn't generate the correct combinations
for the shared resource providers. The following cases are fixed in
this patch:

* Resource providers should only map with those sharing resource providers
that are in the same aggregate,
* The Root ResourceProvider may share multiple resources from multiple
sharing resource providers. The combination should be multiple.
* If not all the resource providers share resources from
same set of sharing resource providers.

Change-Id: I7c7ffb0702cea994eef4ff8cadaadccd65b68cd0
Closes-Bug: #1702420
",git fetch https://review.opendev.org/openstack/nova refs/changes/79/480379/22 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/resource_provider.py', 'nova/tests/functional/db/test_resource_provider.py']",2,90d9f64d96d01e73cb89a62fcf787d0fe1a24053,bug/1702420," def test_mulitple_local_with_shared(self): # The aggregate that will be associated to everything... agg1_uuid = uuidsentinel.agg1 agg2_uuid = uuidsentinel.agg2 # Create two compute node providers with VCPU, RAM and NO local disk cn1_uuid = uuidsentinel.cn1 cn1 = objects.ResourceProvider( self.context, name='cn1', uuid=cn1_uuid, ) cn1.create() cn2_uuid = uuidsentinel.cn2 cn2 = objects.ResourceProvider( self.context, name='cn2', uuid=cn2_uuid, ) cn2.create() cn3_uuid = uuidsentinel.cn3 cn3 = objects.ResourceProvider( self.context, name='cn3', uuid=cn3_uuid, ) cn3.create() # Populate the two compute node providers with inventory, sans DISK_GB for cn in (cn1, cn2, cn3): vcpu = objects.Inventory( resource_provider=cn, resource_class=fields.ResourceClass.VCPU, total=24, reserved=0, min_unit=1, max_unit=24, step_size=1, allocation_ratio=16.0, ) memory_mb = objects.Inventory( resource_provider=cn, resource_class=fields.ResourceClass.MEMORY_MB, total=1024, reserved=0, min_unit=64, max_unit=1024, step_size=1, allocation_ratio=1.5, ) inv_list = objects.InventoryList(objects=[vcpu, memory_mb]) cn.set_inventory(inv_list) # Create two shared storage pools ss1_uuid = uuidsentinel.ss1 ss1 = objects.ResourceProvider( self.context, name='shared storage 1', uuid=ss1_uuid, ) ss1.create() ss2_uuid = uuidsentinel.ss2 ss2 = objects.ResourceProvider( self.context, name='shared storage2', uuid=ss2_uuid, ) ss2.create() # Give the first shared storage pool some inventory of DISK_GB disk_gb = objects.Inventory( resource_provider=ss1, resource_class=fields.ResourceClass.DISK_GB, total=2000, reserved=100, min_unit=10, max_unit=2000, step_size=1, allocation_ratio=1.0, ) inv_list = objects.InventoryList(objects=[disk_gb]) ss1.set_inventory(inv_list) # Give the second shared storage pool some inventory of DISK_GB, but # less than the first one disk_gb = objects.Inventory( resource_provider=ss2, resource_class=fields.ResourceClass.DISK_GB, total=1000, reserved=100, min_unit=10, max_unit=1000, step_size=1, allocation_ratio=1.0, ) inv_list = objects.InventoryList(objects=[disk_gb]) ss2.set_inventory(inv_list) # Mark the shared storage pool as having inventory shared among any # provider associated via aggregate t = objects.Trait( self.context, name=""MISC_SHARES_VIA_AGGREGATE"", ) # TODO(jaypipes): Once MISC_SHARES_VIA_AGGREGATE is a standard # os-traits trait, we won't need to create() here. Instead, we will # just do: # t = objects.Trait.get_by_name( # self.context, # ""MISC_SHARES_VIA_AGGREGATE"", # ) t.create() ss1.set_traits(objects.TraitList(objects=[t])) ss2.set_traits(objects.TraitList(objects=[t])) # Now associate the first shared storage pool and first two compute # nodes with the same aggregate cn1.set_aggregates([agg1_uuid]) cn2.set_aggregates([agg1_uuid]) ss1.set_aggregates([agg1_uuid]) # Associate the second shared storage pool and the last compute node # with the same aggregate cn3.set_aggregates([agg2_uuid]) ss2.set_aggregates([agg2_uuid]) # Expect cn1, cn2 and ss1 have enough resource requested_resources = self._requested_resources() p_alts = rp_obj.AllocationCandidates.get_by_filters( self.context, filters={ 'resources': requested_resources, }, ) # cn1, cn2 and ss1 should be in the summaries p_sums = p_alts.provider_summaries self.assertEqual(3, len(p_sums)) p_sum_rps = set([ps.resource_provider.uuid for ps in p_sums]) self.assertEqual(set([cn1_uuid, cn2_uuid, ss1_uuid]), p_sum_rps) # Expect the allocation requests are ((cn1, ss1), (cn2, ss1)) a_reqs = p_alts.allocation_requests self.assertEqual(2, len(a_reqs)) a_req_rps = set() for ar in a_reqs: for rr in ar.resource_requests: a_req_rps.add(rr.resource_provider.uuid) self.assertEqual(set([cn1_uuid, cn2_uuid, ss_uuid]), a_req_rps) cn1_reqs = self._find_requests_for_provider(a_reqs, cn1_uuid) # There should be a req object for only VCPU and MEMORY_MB self.assertEqual(2, len(cn1_reqs)) cn1_req_vcpu = self._find_request_for_resource(cn1_reqs, 'VCPU') self.assertIsNotNone(cn1_req_vcpu) self.assertEqual(requested_resources['VCPU'], cn1_req_vcpu.amount) cn2_reqs = self._find_requests_for_provider(a_reqs, cn2_uuid) # There should NOT be an allocation resource request that lists a # compute node provider UUID for DISK_GB, since the shared storage pool # is the thing that is providing the disk cn1_req_disk = self._find_request_for_resource(cn1_reqs, 'DISK_GB') self.assertIsNone(cn1_req_disk) cn2_req_disk = self._find_request_for_resource(cn2_reqs, 'DISK_GB') self.assertIsNone(cn2_req_disk) # Let's check the second compute node for MEMORY_MB cn2_req_ram = self._find_request_for_resource(cn2_reqs, 'MEMORY_MB') self.assertIsNotNone(cn2_req_ram) self.assertEqual(requested_resources['MEMORY_MB'], cn2_req_ram.amount) # We should find the shared storage pool providing the DISK_GB for each # of the allocation requests ss_reqs = self._find_requests_for_provider(a_reqs, ss_uuid) self.assertEqual(2, len(ss_reqs)) # Shared storage shouldn't be listed as providing anything but disk... ss_req_ram = self._find_request_for_resource(ss_reqs, 'MEMORY_MB') self.assertIsNone(ss_req_ram) ss_req_disk = self._find_request_for_resource(ss_reqs, 'DISK_GB') self.assertIsNotNone(ss_req_disk) self.assertEqual(requested_resources['DISK_GB'], ss_req_disk.amount)",,225,1
openstack%2Fnova~master~Ia33b708ce46f997d3b85e6ce926e933680ad27ea,openstack/nova,master,Ia33b708ce46f997d3b85e6ce926e933680ad27ea,placement: func tests for multiple shared RPs,ABANDONED,2017-08-29 09:55:44.000000000,2018-11-29 10:21:47.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-08-29 09:55:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2a40f5f48721d04944566fc1b32518b5d607a049', 'message': ""placement: functional tests for multiple shared resource providers\n\nThis patch adds two function tests for the multiple shared resource\nproviders. Currently the 'GET /allocation_candidates' API can't work\ncorrectly for those cases.\n\nChange-Id: Ia33b708ce46f997d3b85e6ce926e933680ad27ea\nRelated-Bug: #1702420\n""}, {'number': 2, 'created': '2017-08-30 01:08:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6b61c821f50ba0b983c6a47a65c3f4bdc091209f', 'message': ""placement: functional tests for multiple shared resource providers\n\nThis patch adds two function tests for the multiple shared resource\nproviders. Currently the 'GET /allocation_candidates' API can't work\ncorrectly for those cases.\n\nChange-Id: Ia33b708ce46f997d3b85e6ce926e933680ad27ea\nRelated-Bug: #1702420\n""}, {'number': 3, 'created': '2017-11-28 16:05:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/657acb2de5b5398b7da1b26526e7f3ea2408ffb5', 'message': 'placement: func tests for multiple shared RPs\n\nThis patch adds two functional tests for the multiple shared resource\nproviders.\n\nChange-Id: Ia33b708ce46f997d3b85e6ce926e933680ad27ea\nRelated-Bug: #1702420\n'}, {'number': 4, 'created': '2017-12-01 14:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8ab2d1961e6c72b1968b7fc7fd71ae2b789af22b', 'message': 'placement: func tests for multiple shared RPs\n\nThis patch adds two functional tests for the multiple shared resource\nproviders.\n\nChange-Id: Ia33b708ce46f997d3b85e6ce926e933680ad27ea\nRelated-Bug: #1702420\n'}, {'number': 5, 'created': '2017-12-08 01:17:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0f2e2b5c9afa8a33903f12d331f935d0367e274b', 'message': 'placement: func tests for multiple shared RPs\n\nThis patch adds two functional tests for the multiple shared resource\nproviders.\n\nChange-Id: Ia33b708ce46f997d3b85e6ce926e933680ad27ea\nRelated-Bug: #1702420\n'}, {'number': 6, 'created': '2017-12-10 23:03:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9841cab6f4f0e5a6a6d36bdf51185ab4f1940fdd', 'message': 'placement: func tests for multiple shared RPs\n\nThis patch adds two functional tests for the multiple shared resource\nproviders.\n\nChange-Id: Ia33b708ce46f997d3b85e6ce926e933680ad27ea\nRelated-Bug: #1702420\n'}, {'number': 7, 'created': '2017-12-11 15:35:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/17c85e2a8c1d3511441db87d393662c072e987c7', 'message': 'placement: func tests for multiple shared RPs\n\nThis patch adds two functional tests for the multiple shared resource\nproviders.\n\nChange-Id: Ia33b708ce46f997d3b85e6ce926e933680ad27ea\nRelated-Bug: #1702420\n'}, {'number': 8, 'created': '2017-12-13 15:56:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b0f3bffeba2818a820d6e417e27c8bfe90d74153', 'message': 'placement: func tests for multiple shared RPs\n\nThis patch adds two functional tests for the multiple shared resource\nproviders.\n\nChange-Id: Ia33b708ce46f997d3b85e6ce926e933680ad27ea\nRelated-Bug: #1702420\n'}, {'number': 9, 'created': '2017-12-14 10:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0186372c0ec758367c6c0cb519872ff237d7ce02', 'message': 'placement: func tests for multiple shared RPs\n\nThis patch adds two functional tests for the multiple shared resource\nproviders.\n\nChange-Id: Ia33b708ce46f997d3b85e6ce926e933680ad27ea\nRelated-Bug: #1702420\n'}, {'number': 10, 'created': '2017-12-22 02:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0ae4278c884e28a32083b4be210729a0424cf109', 'message': 'placement: func tests for multiple shared RPs\n\nThis patch adds two functional tests for the multiple shared resource\nproviders.\n\nChange-Id: Ia33b708ce46f997d3b85e6ce926e933680ad27ea\nRelated-Bug: #1702420\n'}, {'number': 11, 'created': '2017-12-22 02:58:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c305fd694ff5fa2fec0f063ec0854ba2b4f207e9', 'message': 'placement: func tests for multiple shared RPs\n\nThis patch adds two functional tests for the multiple shared resource\nproviders.\n\nChange-Id: Ia33b708ce46f997d3b85e6ce926e933680ad27ea\nRelated-Bug: #1702420\n'}, {'number': 12, 'created': '2018-01-09 04:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/94accef001c3cbde1cf18ef429726e034fc1976c', 'message': 'placement: func tests for multiple shared RPs\n\nThis patch adds two functional tests for the multiple shared resource\nproviders.\n\nChange-Id: Ia33b708ce46f997d3b85e6ce926e933680ad27ea\nRelated-Bug: #1702420\n'}, {'number': 13, 'created': '2018-01-12 21:00:43.000000000', 'files': ['nova/tests/functional/db/test_allocation_candidates.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/093ceece4397ed9dd733035eb6f93b3480cdfc73', 'message': 'placement: func tests for multiple shared RPs\n\nThis patch adds two functional tests for the multiple shared resource\nproviders.\n\nChange-Id: Ia33b708ce46f997d3b85e6ce926e933680ad27ea\nRelated-Bug: #1702420\n'}]",3,498737,093ceece4397ed9dd733035eb6f93b3480cdfc73,73,15,13,5754,,,0,"placement: func tests for multiple shared RPs

This patch adds two functional tests for the multiple shared resource
providers.

Change-Id: Ia33b708ce46f997d3b85e6ce926e933680ad27ea
Related-Bug: #1702420
",git fetch https://review.opendev.org/openstack/nova refs/changes/37/498737/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/db/test_resource_provider.py'],1,2a40f5f48721d04944566fc1b32518b5d607a049,bug/1702420," def test_mulitple_local_with_shared(self): # The aggregate that will be associated to everything... agg1_uuid = uuidsentinel.agg1 agg2_uuid = uuidsentinel.agg2 # Create three compute node providers with VCPU, RAM and NO local disk cn1_uuid = uuidsentinel.cn1 cn1 = objects.ResourceProvider( self.ctx, name='cn1', uuid=cn1_uuid, ) cn1.create() cn2_uuid = uuidsentinel.cn2 cn2 = objects.ResourceProvider( self.ctx, name='cn2', uuid=cn2_uuid, ) cn2.create() cn3_uuid = uuidsentinel.cn3 cn3 = objects.ResourceProvider( self.ctx, name='cn3', uuid=cn3_uuid, ) cn3.create() # Populate the three compute node providers with inventory, # sans DISK_GB for cn in (cn1, cn2, cn3): vcpu = objects.Inventory( resource_provider=cn, resource_class=fields.ResourceClass.VCPU, total=24, reserved=0, min_unit=1, max_unit=24, step_size=1, allocation_ratio=16.0, ) memory_mb = objects.Inventory( resource_provider=cn, resource_class=fields.ResourceClass.MEMORY_MB, total=1024, reserved=0, min_unit=64, max_unit=1024, step_size=1, allocation_ratio=1.5, ) inv_list = objects.InventoryList(objects=[vcpu, memory_mb]) cn.set_inventory(inv_list) # Create two shared storage pools ss1_uuid = uuidsentinel.ss1 ss1 = objects.ResourceProvider( self.ctx, name='shared storage 1', uuid=ss1_uuid, ) ss1.create() ss2_uuid = uuidsentinel.ss2 ss2 = objects.ResourceProvider( self.ctx, name='shared storage2', uuid=ss2_uuid, ) ss2.create() # Give the first shared storage pool some inventory of DISK_GB disk_gb = objects.Inventory( resource_provider=ss1, resource_class=fields.ResourceClass.DISK_GB, total=2000, reserved=100, min_unit=10, max_unit=2000, step_size=1, allocation_ratio=1.0, ) inv_list = objects.InventoryList(objects=[disk_gb]) ss1.set_inventory(inv_list) # Give the second shared storage pool some inventory of DISK_GB, but # less than the first one disk_gb = objects.Inventory( resource_provider=ss2, resource_class=fields.ResourceClass.DISK_GB, total=1000, reserved=100, min_unit=10, max_unit=1000, step_size=1, allocation_ratio=1.0, ) inv_list = objects.InventoryList(objects=[disk_gb]) ss2.set_inventory(inv_list) # Mark the shared storage pool as having inventory shared among any # provider associated via aggregate t = objects.Trait.get_by_name( self.ctx, ""MISC_SHARES_VIA_AGGREGATE"", ) ss1.set_traits(objects.TraitList(objects=[t])) ss2.set_traits(objects.TraitList(objects=[t])) # Now associate the first shared storage pool and first two compute # nodes with the same aggregate cn1.set_aggregates([agg1_uuid]) cn2.set_aggregates([agg1_uuid]) ss1.set_aggregates([agg1_uuid]) # Associate the second shared storage pool and the last compute node # with the same aggregate cn3.set_aggregates([agg2_uuid]) ss2.set_aggregates([agg2_uuid]) # Expect cn1, cn2 and ss1 have enough resource requested_resources = self._requested_resources() p_alts = rp_obj.AllocationCandidates.get_by_filters( self.ctx, filters={ 'resources': requested_resources, }, ) # cn1, cn2 and ss1 should be in the summaries p_sums = p_alts.provider_summaries self.assertEqual(3, len(p_sums)) p_sum_rps = set([ps.resource_provider.uuid for ps in p_sums]) self.assertEqual(set([cn1_uuid, cn2_uuid, ss1_uuid]), p_sum_rps) # Expect the allocation requests are ((cn1, ss1), (cn2, ss1)) a_reqs = p_alts.allocation_requests self.assertEqual(2, len(a_reqs)) a_req_rps = set() for ar in a_reqs: for rr in ar.resource_requests: a_req_rps.add(rr.resource_provider.uuid) self.assertEqual(set([cn1_uuid, cn2_uuid, ss1_uuid]), a_req_rps) cn1_reqs = self._find_requests_for_provider(a_reqs, cn1_uuid) # There should be a req object for only VCPU and MEMORY_MB self.assertEqual(2, len(cn1_reqs)) cn1_req_vcpu = self._find_request_for_resource(cn1_reqs, 'VCPU') self.assertIsNotNone(cn1_req_vcpu) self.assertEqual(requested_resources['VCPU'], cn1_req_vcpu.amount) cn2_reqs = self._find_requests_for_provider(a_reqs, cn2_uuid) # There should NOT be an allocation resource request that lists a # compute node provider UUID for DISK_GB, since the shared storage pool # is the thing that is providing the disk cn1_req_disk = self._find_request_for_resource(cn1_reqs, 'DISK_GB') self.assertIsNone(cn1_req_disk) cn2_req_disk = self._find_request_for_resource(cn2_reqs, 'DISK_GB') self.assertIsNone(cn2_req_disk) # Let's check the second compute node for MEMORY_MB cn2_req_ram = self._find_request_for_resource(cn2_reqs, 'MEMORY_MB') self.assertIsNotNone(cn2_req_ram) self.assertEqual(requested_resources['MEMORY_MB'], cn2_req_ram.amount) # We should find the shared storage pool providing the DISK_GB for each # of the allocation requests ss_reqs = self._find_requests_for_provider(a_reqs, ss1_uuid) self.assertEqual(2, len(ss_reqs)) # Shared storage shouldn't be listed as providing anything but disk... ss_req_ram = self._find_request_for_resource(ss_reqs, 'MEMORY_MB') self.assertIsNone(ss_req_ram) ss_req_disk = self._find_request_for_resource(ss_reqs, 'DISK_GB') self.assertIsNotNone(ss_req_disk) self.assertEqual(requested_resources['DISK_GB'], ss_req_disk.amount) # Expect cn1, cn2, cn3, ss1 and ss2 have enough resource requested_resources = self._requested_resources() # Request less disk, then to get ss2 have enough resource requested_resources[fields.ResourceClass.DISK_GB] = 512 p_alts = rp_obj.AllocationCandidates.get_by_filters( self.ctx, filters={ 'resources': requested_resources, }, ) # cn1, cn2, cn3, ss1 and ss2 should be in the summaries p_sums = p_alts.provider_summaries self.assertEqual(5, len(p_sums)) p_sum_rps = set([ps.resource_provider.uuid for ps in p_sums]) self.assertEqual(set([cn1_uuid, cn2_uuid, cn3_uuid, ss1_uuid, ss2_uuid]), p_sum_rps) a_reqs = p_alts.allocation_requests self.assertEqual(3, len(a_reqs)) expected_allocation_reqs = ( set([cn1_uuid, ss1_uuid]), set([cn2_uuid, ss1_uuid]), set([cn3_uuid, ss2_uuid]) ) # Due to the bug #1702420, this doesn't work. # The current code will return the wrong combinations, like this: # [cn1, ss1_uuid, ss2_uuid], [cn2, ss1_uuid, ss2_uuid], # [cn3, ss1_uuid, ss2_uuid] # for ar in a_reqs: # a_req_rps = set() # for rr in ar.resource_requests: # a_req_rps.add(rr.resource_provider.uuid) # self.assertIn(a_req_rps, expected_allocation_reqs) def test_local_with_multiple_shared(self): # The aggregate that will be associated to everything... agg_uuid = uuidsentinel.agg # Create two compute node providers with VCPU, RAM and NO local disk cn1_uuid = uuidsentinel.cn1 cn1 = objects.ResourceProvider( self.ctx, name='cn1', uuid=cn1_uuid, ) cn1.create() cn2_uuid = uuidsentinel.cn2 cn2 = objects.ResourceProvider( self.ctx, name='cn2', uuid=cn2_uuid, ) cn2.create() # Populate the two compute node providers with inventory, # sans DISK_GB for cn in (cn1, cn2): vcpu = objects.Inventory( resource_provider=cn, resource_class=fields.ResourceClass.VCPU, total=24, reserved=0, min_unit=1, max_unit=24, step_size=1, allocation_ratio=16.0, ) memory_mb = objects.Inventory( resource_provider=cn, resource_class=fields.ResourceClass.MEMORY_MB, total=1024, reserved=0, min_unit=64, max_unit=1024, step_size=1, allocation_ratio=1.5, ) inv_list = objects.InventoryList(objects=[vcpu, memory_mb]) cn.set_inventory(inv_list) # Create one shared storage pool ss_uuid = uuidsentinel.ss ss = objects.ResourceProvider( self.ctx, name='shared storage', uuid=ss_uuid, ) ss.create() # Create one shared magic pool sm_uuid = uuidsentinel.sm sm = objects.ResourceProvider( self.ctx, name='shared magic', uuid=sm_uuid, ) sm.create() # Give the first shared storage pool some inventory of DISK_GB disk_gb = objects.Inventory( resource_provider=ss, resource_class=fields.ResourceClass.DISK_GB, total=2000, reserved=100, min_unit=10, max_unit=2000, step_size=1, allocation_ratio=1.0, ) inv_list = objects.InventoryList(objects=[disk_gb]) ss.set_inventory(inv_list) # Create the custom resource class for magic rc_magic = objects.ResourceClass( self.ctx, name='CUSTOM_MAGIC_RC') rc_magic.create() # Give the shared magic pool some inventory of # CUSTOM_MAGIC_RC inv_magic = objects.Inventory( resource_provider=sm, resource_class=rc_magic.name, total=1000, reserved=100, min_unit=10, max_unit=1000, step_size=1, allocation_ratio=1.0, ) inv_list = objects.InventoryList(objects=[inv_magic]) sm.set_inventory(inv_list) t = objects.Trait.get_by_name( self.ctx, ""MISC_SHARES_VIA_AGGREGATE"", ) ss.set_traits(objects.TraitList(objects=[t])) sm.set_traits(objects.TraitList(objects=[t])) # Now associate the two shared storage pools and two compute # nodes with the same aggregate cn1.set_aggregates([agg_uuid]) cn2.set_aggregates([agg_uuid]) ss.set_aggregates([agg_uuid]) sm.set_aggregates([agg_uuid]) # Expect cn1, cn2, ss and sm have enough resource requested_resources = self._requested_resources() requested_resources.update( {rc_magic.name: 10} ) p_alts = rp_obj.AllocationCandidates.get_by_filters( self.ctx, filters={ 'resources': requested_resources, }, ) # cn1, cn2, ss and sm should be in the summaries p_sums = p_alts.provider_summaries self.assertEqual(4, len(p_sums)) p_sum_rps = set([ps.resource_provider.uuid for ps in p_sums]) self.assertEqual(set([cn1_uuid, cn2_uuid, ss_uuid, sm_uuid]), p_sum_rps) # This doesn't works, since the bug #1702420. # Expects two allocations_requests, but it returns four with # current code. # a_reqs = p_alts.allocation_requests # self.assertEqual(2, len(a_reqs)) ar_list = [] for ar in p_alts.allocation_requests: rr_set = set() for rr in ar.resource_requests: rr_set.add(rr.resource_provider.uuid) ar_list.append(rr_set) # This doesn't works since the bug #1702420 # Expect two allocation requests, it is (cn1, ss, sm) and # (cn2, ss, sm) # But four allocation requests returned: # (cn1, ss), (cn2, ss), (cn1, sm), (cn2, sm) # self.assertEqual( # sorted([set([cn1_uuid, ss_uuid, sm_uuid]), # set([cn2_uuid, ss_uuid, sm_uuid])]), # sorted(ar_list)) ",,385,0
openstack%2Fkuryr-kubernetes~master~I3831f9bd96eac856b522ae27f8bb6d8fd7ddb5c5,openstack/kuryr-kubernetes,master,I3831f9bd96eac856b522ae27f8bb6d8fd7ddb5c5,devstack: allow overriding keystone config,ABANDONED,2017-07-26 16:53:15.000000000,2018-11-29 10:12:05.000000000,,"[{'_account_id': 6598}, {'_account_id': 14352}, {'_account_id': 15168}]","[{'number': 1, 'created': '2017-07-26 16:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b3490702f6162b6c16cbbff448489814de1f9962', 'message': 'devstack: allow overriding keystone config\n\nThis patch aims to support using devstack multi host when the undercloud\nis not deployed by devstack.\n\nChange-Id: I3831f9bd96eac856b522ae27f8bb6d8fd7ddb5c5\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n'}, {'number': 2, 'created': '2017-07-27 00:25:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/73c4ee188fcae6257c68f80f86f0e12468a2ac7d', 'message': 'devstack: allow overriding keystone config\n\nThis patch aims to support using devstack multi host when the undercloud\nis not deployed by devstack.\n\nChange-Id: I3831f9bd96eac856b522ae27f8bb6d8fd7ddb5c5\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n'}, {'number': 3, 'created': '2017-07-27 09:43:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2d71801d40a5401731266f23388d44e20f63226c', 'message': 'devstack: allow overriding keystone config\n\nThis patch aims to support using devstack multi host when the undercloud\nis not deployed by devstack.\n\nChange-Id: I3831f9bd96eac856b522ae27f8bb6d8fd7ddb5c5\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n'}, {'number': 4, 'created': '2017-07-27 10:27:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/52bc6f243c35729ce1ffc64547be01a9f7e9f053', 'message': 'devstack: allow overriding keystone config\n\nThis patch aims to support using devstack multi host when the undercloud\nis not deployed by devstack.\n\nChange-Id: I3831f9bd96eac856b522ae27f8bb6d8fd7ddb5c5\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n'}, {'number': 5, 'created': '2017-07-27 11:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/cef810ecd668a033cf55dd322ce04e2ce5f40930', 'message': 'devstack: allow overriding keystone config\n\nThis patch aims to support using devstack multi host when the undercloud\nis not deployed by devstack. This is achieved by allowing the user to\nspecify different credentials than the ones devstack assumes the service\nhost in a multi host scenario to have.\n\nChange-Id: I3831f9bd96eac856b522ae27f8bb6d8fd7ddb5c5\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n'}, {'number': 6, 'created': '2017-07-27 11:32:37.000000000', 'files': ['devstack/plugin.sh', 'devstack/local.conf.pod-in-vm.overcloud.sample', 'devstack/lib/kuryr_kubernetes', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/05fe9807d43f00ab640e6dd50a2808794c37c4ec', 'message': 'devstack: allow overriding keystone config\n\nThis patch aims to support using devstack multi host when the undercloud\nis not deployed by devstack. This is achieved by allowing the user to\nspecify different credentials than the ones devstack assumes the service\nhost in a multi host scenario to have.\n\nChange-Id: I3831f9bd96eac856b522ae27f8bb6d8fd7ddb5c5\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n'}]",3,487517,05fe9807d43f00ab640e6dd50a2808794c37c4ec,17,3,6,14352,,,0,"devstack: allow overriding keystone config

This patch aims to support using devstack multi host when the undercloud
is not deployed by devstack. This is achieved by allowing the user to
specify different credentials than the ones devstack assumes the service
host in a multi host scenario to have.

Change-Id: I3831f9bd96eac856b522ae27f8bb6d8fd7ddb5c5
Signed-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/17/487517/2 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'devstack/lib/kuryr_kubernetes', 'devstack/local.conf.pod-in-vm.overcloud.sample', 'devstack/settings']",4,b3490702f6162b6c16cbbff448489814de1f9962,bp/octavia-support, # Whether or not to assume Keystone has been deployed by devstack on the undercloud KURYR_USE_UNDERCLOUD_DEVSTACK_KEYSTONE_CONFIG=${KURYR_USE_UNDERCLOUD_DEVSTACK_KEYSTONE_CONFIG:-True} # Optional section to override Keystone and Auth config KURYR_USE_UNDERCLOUD_DEVSTACK_KEYSTONE_CONFIG=${KURYR_USE_UNDERCLOUD_DEVSTACK_KEYSTONE_CONFIG:-True} KURYR_UNDERCLOUD_KEYSTONE_URI=${KURYR_UNDERCLOUD_KEYSTONE_URI:-} KURYR_UNDERCLOUD_KEYSTONE_KURYR_USERNAME=${KURYR_UNDERCLOUD_KEYSTONE_KURYR_USERNAME:-kuryr} KURYR_UNDERCLOUD_KEYSTONE_KURYR_PASSWORD=${KURYR_UNDERCLOUD_KEYSTONE_KURYR_PASSWORD:-platypus} KURYR_UNDERCLOUD_KEYSTONE_KURYR_DOMAIN_NAME=${KURYR_UNDERCLOUD_KEYSTONE_KURYR_DOMAIN_NAME:-Default} KURYR_UNDERCLOUD_KEYSTONE_KURYR_PROJECT_NAME=${KURYR_UNDERCLOUD_KEYSTONE_KURYR_PROJECT_NAME:-k8s} KURYR_UNDERCLOUD_KEYSTONE_KURYR_PROJECT_DOMAIN_NAME=${KURYR_UNDERCLOUD_KEYSTONE_KURYR_PROJECT_DOMAIN_NAME:-Default},,100,17
openstack%2Fkuryr-kubernetes~master~Ib0cf433163292ee50c946af4e0b88eb3c9ccca00,openstack/kuryr-kubernetes,master,Ib0cf433163292ee50c946af4e0b88eb3c9ccca00,contrib: devstack-overcloud-heat,ABANDONED,2017-06-09 17:13:47.000000000,2018-11-29 10:11:53.000000000,,"[{'_account_id': 6598}, {'_account_id': 14885}, {'_account_id': 23567}]","[{'number': 1, 'created': '2017-06-09 17:13:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/46652a215021bf35cd1ee24a8fdcbd15d9d82707', 'message': '[WIP] contrib: devstack-overcloud-heat\n\nThis commit adds a new executable to devstack-heat that allows you to\ndeploy overclouds\n\nChange-Id: Ib0cf433163292ee50c946af4e0b88eb3c9ccca00\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n'}, {'number': 2, 'created': '2017-06-12 13:43:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/111df22503e87067d5ad87508b68139b7f5572c4', 'message': '[WIP] contrib: devstack-overcloud-heat\n\nThis commit adds a new executable to devstack-heat that allows you to\ndeploy overclouds\n\nChange-Id: Ib0cf433163292ee50c946af4e0b88eb3c9ccca00\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n'}, {'number': 3, 'created': '2017-06-13 08:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f3de63a26f91cdcc4bd780c6433c319d12a12533', 'message': '[WIP] contrib: devstack-overcloud-heat\n\nThis commit adds a new executable to devstack-heat that allows you to\ndeploy overclouds\n\nChange-Id: Ib0cf433163292ee50c946af4e0b88eb3c9ccca00\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n'}, {'number': 4, 'created': '2017-06-13 10:05:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/657c8e5a36b47ea09e1940f44781dc3d660b7ab2', 'message': '[WIP] contrib: devstack-overcloud-heat\n\nThis commit adds a new executable to devstack-heat that allows you to\ndeploy overclouds\n\nIf your undercloud is not set up by devstack. I recommend using:\n\n./devstack-overcloud-heat stack --override-keystone <gerrit_number>\n\nChange-Id: Ib0cf433163292ee50c946af4e0b88eb3c9ccca00\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n'}, {'number': 5, 'created': '2017-06-13 11:14:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/28d799ab22ed1bb7fb30c9d3349a4f7adb790f51', 'message': '[WIP] contrib: devstack-overcloud-heat\n\nThis commit adds a new executable to devstack-heat that allows you to\ndeploy overclouds\n\nIf your undercloud is not set up by devstack. I recommend using:\n\n./devstack-overcloud-heat stack --override-keystone <gerrit_number>\n\nTo unstack:\n\n./devstack-overcloud-heat unstack name_of_my_stack\n\nChange-Id: Ib0cf433163292ee50c946af4e0b88eb3c9ccca00\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n'}, {'number': 6, 'created': '2017-06-14 10:08:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e98968cc73f782d5ccec50e8fb6277c4a83d1336', 'message': '[WIP] contrib: devstack-overcloud-heat\n\nThis commit adds a new executable to devstack-heat that allows you to\ndeploy overclouds\n\nIf your undercloud is not set up by devstack. I recommend using:\n\n./devstack-overcloud-heat stack --override-keystone <gerrit_number>\n\nTo unstack:\n\n./devstack-overcloud-heat unstack name_of_my_stack\n\nImplements: blueprint devstack-deployment-tool\nChange-Id: Ib0cf433163292ee50c946af4e0b88eb3c9ccca00\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n'}, {'number': 7, 'created': '2017-06-14 11:08:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f23544d871e9eddaacd475ea5a08530941f2673e', 'message': ""contrib: devstack-overcloud-heat\n\nThis commit adds a new executable to devstack-heat that allows you to\ndeploy overclouds\n\nIf your undercloud is not set up by devstack. I recommend using:\n\n    ./devstack-overcloud-heat stack --override-keystone <gerrit_number>\n\nThis will make kuryr-kubernetes use the same credentials and the same\nkeystone that you are using to call ./devstack-overcloud-heat (the one\nin the openrc you sourced).\n\nTo unstack:\n\n    ./devstack-overcloud-heat unstack name_of_my_stack\n\nNote that if you unstack with the openstack cli instead, it will get\nstuck and you'll have a world of pain to unstack (dealing with hooks).\n\nIt is important to delete all the subports created in the overcloud for\npods before unstacking, otherwise the unstacking will fail, since the\ntrunks won't be allowed to be eliminated.\n\nImplements: blueprint devstack-deployment-tool\nChange-Id: Ib0cf433163292ee50c946af4e0b88eb3c9ccca00\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n""}, {'number': 8, 'created': '2017-06-15 09:04:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a8aa24ed8540cdd4be04678cc60c6f8b9754559f', 'message': ""contrib: devstack-overcloud-heat\n\nThis commit adds a new executable to devstack-heat that allows you to\ndeploy overclouds\n\nIf your undercloud is not set up by devstack. I recommend using:\n\n    ./devstack-overcloud-heat stack --override-keystone <gerrit_number>\n\nThis will make kuryr-kubernetes use the same credentials and the same\nkeystone that you are using to call ./devstack-overcloud-heat (the one\nin the openrc you sourced).\n\nTo unstack:\n\n    ./devstack-overcloud-heat unstack name_of_my_stack\n\nNote that if you unstack with the openstack cli instead, it will get\nstuck and you'll have a world of pain to unstack (dealing with hooks).\n\nIt is important to delete all the subports created in the overcloud for\npods before unstacking, otherwise the unstacking will fail, since the\ntrunks won't be allowed to be eliminated.\n\nImplements: blueprint devstack-deployment-tool\nChange-Id: Ib0cf433163292ee50c946af4e0b88eb3c9ccca00\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n""}, {'number': 9, 'created': '2017-06-16 10:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4403e0571577048fa67d767289b7d01af9b7cba6', 'message': ""contrib: devstack-overcloud-heat\n\nThis commit adds a new executable to devstack-heat that allows you to\ndeploy overclouds\n\nIf your undercloud is not set up by devstack. I recommend using:\n\n    ./devstack-overcloud-heat stack --override-keystone <gerrit_number>\n\nThis will make kuryr-kubernetes use the same credentials and the same\nkeystone that you are using to call ./devstack-overcloud-heat (the one\nin the openrc you sourced).\n\nTo unstack:\n\n    ./devstack-overcloud-heat unstack name_of_my_stack\n\nNote that if you unstack with the openstack cli instead, it will get\nstuck and you'll have a world of pain to unstack (dealing with hooks).\n\nIt is important to delete all the subports created in the overcloud for\npods before unstacking, otherwise the unstacking will fail, since the\ntrunks won't be allowed to be eliminated.\n\nImplements: blueprint devstack-deployment-tool\nChange-Id: Ib0cf433163292ee50c946af4e0b88eb3c9ccca00\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n""}, {'number': 10, 'created': '2017-07-05 06:20:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1548624d0a2ed3ca8b38398fa8ba571de017f046', 'message': ""contrib: devstack-overcloud-heat\n\nThis commit adds a new executable to devstack-heat that allows you to\ndeploy overclouds\n\nIf your undercloud is not set up by devstack. I recommend using:\n\n    ./devstack-overcloud-heat stack --override-keystone <gerrit_number>\n\nThis will make kuryr-kubernetes use the same credentials and the same\nkeystone that you are using to call ./devstack-overcloud-heat (the one\nin the openrc you sourced).\n\nTo unstack:\n\n    ./devstack-overcloud-heat unstack name_of_my_stack\n\nNote that if you unstack with the openstack cli instead, it will get\nstuck and you'll have a world of pain to unstack (dealing with hooks).\n\nIt is important to delete all the subports created in the overcloud for\npods before unstacking, otherwise the unstacking will fail, since the\ntrunks won't be allowed to be eliminated.\n\nImplements: blueprint devstack-deployment-tool\nChange-Id: Ib0cf433163292ee50c946af4e0b88eb3c9ccca00\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n""}, {'number': 11, 'created': '2017-07-30 07:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e3f67b7a380f1c7486ace4581bf2b530ee5c240d', 'message': ""contrib: devstack-overcloud-heat\n\nThis commit adds a new executable to devstack-heat that allows you to\ndeploy overclouds\n\nIf your undercloud is not set up by devstack. I recommend using:\n\n    ./devstack-overcloud-heat stack --override-keystone <gerrit_number>\n\nThis will make kuryr-kubernetes use the same credentials and the same\nkeystone that you are using to call ./devstack-overcloud-heat (the one\nin the openrc you sourced).\n\nTo unstack:\n\n    ./devstack-overcloud-heat unstack name_of_my_stack\n\nNote that if you unstack with the openstack cli instead, it will get\nstuck and you'll have a world of pain to unstack (dealing with hooks).\n\nIt is important to delete all the subports created in the overcloud for\npods before unstacking, otherwise the unstacking will fail, since the\ntrunks won't be allowed to be eliminated.\n\nImplements: blueprint devstack-deployment-tool\nChange-Id: Ib0cf433163292ee50c946af4e0b88eb3c9ccca00\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n""}, {'number': 12, 'created': '2017-07-30 07:48:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/8123e8d780a4c744bd04f392b5d0855149272b0a', 'message': ""contrib: devstack-overcloud-heat\n\nThis commit adds a new executable to devstack-heat that allows you to\ndeploy overclouds\n\nIf your undercloud is not set up by devstack. I recommend using:\n\n    ./devstack-overcloud-heat stack --override-keystone <gerrit_number>\n\nThis will make kuryr-kubernetes use the same credentials and the same\nkeystone that you are using to call ./devstack-overcloud-heat (the one\nin the openrc you sourced).\n\nTo unstack:\n\n    ./devstack-overcloud-heat unstack name_of_my_stack\n\nNote that if you unstack with the openstack cli instead, it will get\nstuck and you'll have a world of pain to unstack (dealing with hooks).\n\nIt is important to delete all the subports created in the overcloud for\npods before unstacking, otherwise the unstacking will fail, since the\ntrunks won't be allowed to be eliminated.\n\nImplements: blueprint devstack-deployment-tool\nChange-Id: Ib0cf433163292ee50c946af4e0b88eb3c9ccca00\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n""}, {'number': 13, 'created': '2017-07-30 09:16:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/45cf5e4b88142c5d20ca3d57b5b738ec481922df', 'message': ""contrib: devstack-overcloud-heat\n\nThis commit adds a new executable to devstack-heat that allows you to\ndeploy overclouds\n\nIf your undercloud is not set up by devstack. I recommend using:\n\n    ./devstack-overcloud-heat stack --override-keystone <gerrit_number>\n\nThis will make kuryr-kubernetes use the same credentials and the same\nkeystone that you are using to call ./devstack-overcloud-heat (the one\nin the openrc you sourced).\n\nTo unstack:\n\n    ./devstack-overcloud-heat unstack name_of_my_stack\n\nNote that if you unstack with the openstack cli instead, it will get\nstuck and you'll have a world of pain to unstack (dealing with hooks).\n\nIt is important to delete all the subports created in the overcloud for\npods before unstacking, otherwise the unstacking will fail, since the\ntrunks won't be allowed to be eliminated.\n\nImplements: blueprint devstack-deployment-tool\nChange-Id: Ib0cf433163292ee50c946af4e0b88eb3c9ccca00\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n""}, {'number': 14, 'created': '2017-08-27 05:14:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/98a7db24e015186d3a7c7a1cac5c030ec9a4dcb2', 'message': ""contrib: devstack-overcloud-heat\n\nThis commit adds a new executable to devstack-heat that allows you to\ndeploy overclouds\n\nIf your undercloud is not set up by devstack. I recommend using:\n\n    ./devstack-overcloud-heat stack --override-keystone <gerrit_number>\n\nThis will make kuryr-kubernetes use the same credentials and the same\nkeystone that you are using to call ./devstack-overcloud-heat (the one\nin the openrc you sourced).\n\nTo unstack:\n\n    ./devstack-overcloud-heat unstack name_of_my_stack\n\nNote that if you unstack with the openstack cli instead, it will get\nstuck and you'll have a world of pain to unstack (dealing with hooks).\n\nIt is important to delete all the subports created in the overcloud for\npods before unstacking, otherwise the unstacking will fail, since the\ntrunks won't be allowed to be eliminated.\n\nImplements: blueprint devstack-deployment-tool\nChange-Id: Ib0cf433163292ee50c946af4e0b88eb3c9ccca00\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n""}, {'number': 15, 'created': '2017-08-28 08:00:40.000000000', 'files': ['contrib/devstack-heat/hot_overcloud/parameters.yml', 'contrib/devstack-heat/hot_overcloud/trunk.yaml', 'contrib/devstack-heat/hot_overcloud/deployment.yml', 'contrib/devstack-heat/hot_overcloud/node.yaml', 'devstack/plugin.sh', 'devstack/local.conf.pod-in-vm.overcloud.sample', 'devstack/settings', 'contrib/devstack-heat/hot_overcloud/distro_deps.sh', 'contrib/devstack-heat/lib/devstack-heat', 'contrib/devstack-heat/devstack-overcloud-heat', 'contrib/devstack-heat/README.rst', 'contrib/devstack-heat/hot_overcloud/networking_deployment.yaml', 'devstack/lib/kuryr_kubernetes'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/188fd9bd600f450ba2413d9c63239ab66b72ed84', 'message': ""contrib: devstack-overcloud-heat\n\nThis commit adds a new executable to devstack-heat that allows you to\ndeploy overclouds\n\nIf your undercloud is not set up by devstack. I recommend using:\n\n    ./devstack-overcloud-heat stack --override-keystone <gerrit_number>\n\nThis will make kuryr-kubernetes use the same credentials and the same\nkeystone that you are using to call ./devstack-overcloud-heat (the one\nin the openrc you sourced).\n\nTo unstack:\n\n    ./devstack-overcloud-heat unstack name_of_my_stack\n\nNote that if you unstack with the openstack cli instead, it will get\nstuck and you'll have a world of pain to unstack (dealing with hooks).\n\nIt is important to delete all the subports created in the overcloud for\npods before unstacking, otherwise the unstacking will fail, since the\ntrunks won't be allowed to be eliminated.\n\nImplements: blueprint devstack-deployment-tool\nChange-Id: Ib0cf433163292ee50c946af4e0b88eb3c9ccca00\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n""}]",11,472763,188fd9bd600f450ba2413d9c63239ab66b72ed84,46,3,15,14352,,,0,"contrib: devstack-overcloud-heat

This commit adds a new executable to devstack-heat that allows you to
deploy overclouds

If your undercloud is not set up by devstack. I recommend using:

    ./devstack-overcloud-heat stack --override-keystone <gerrit_number>

This will make kuryr-kubernetes use the same credentials and the same
keystone that you are using to call ./devstack-overcloud-heat (the one
in the openrc you sourced).

To unstack:

    ./devstack-overcloud-heat unstack name_of_my_stack

Note that if you unstack with the openstack cli instead, it will get
stuck and you'll have a world of pain to unstack (dealing with hooks).

It is important to delete all the subports created in the overcloud for
pods before unstacking, otherwise the unstacking will fail, since the
trunks won't be allowed to be eliminated.

Implements: blueprint devstack-deployment-tool
Change-Id: Ib0cf433163292ee50c946af4e0b88eb3c9ccca00
Signed-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/63/472763/5 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/devstack-heat/hot_overcloud/parameters.yml', 'contrib/devstack-heat/lib/devstack-heat', 'contrib/devstack-heat/hot_overcloud/trunk.yaml', 'contrib/devstack-heat/devstack-overcloud-heat', 'contrib/devstack-heat/hot_overcloud/deployment.yml', 'contrib/devstack-heat/hot_overcloud/node.yaml', 'contrib/devstack-heat/hot_overcloud/networking_deployment.yaml']",7,46652a215021bf35cd1ee24a8fdcbd15d9d82707,bp/devstack-deployment-tool,"heat_template_version: 2014-10-16 description: Simple template to deploy kuryr resources parameters: public_net: type: string label: public net ID description: Public network for the node FIPs vm_net_cidr: type: string description: vm_net network address (CIDR notation) vm_net_gateway: type: string description: vm_net network gateway address pod_net_cidr: type: string description: pod_net network address (CIDR notation) pod_net_gateway: type: string description: pod_net network gateway address service_net_cidr: type: string description: service_net network address (CIDR notation) service_net_gateway: type: string description: service_net network gateway address service_router_port_ip: type: string description: IP for service router port default: 172.30.255.254 service_lbaas_ip: type: string description: IP for the kubernetes loadbalancer default: 172.30.0.1 resources: vm_net: type: OS::Neutron::Net properties: name: str_replace: template: ""__stack__/vm-net"" params: __stack__: { get_param: 'OS::stack_name' } vm_subnet: type: OS::Neutron::Subnet properties: network_id: { get_resource: vm_net } cidr: { get_param: vm_net_cidr } gateway_ip: { get_param: vm_net_gateway } name: str_replace: template: ""__stack__/vm-subnet"" params: __stack__: { get_param: 'OS::stack_name' } pod_net: type: OS::Neutron::Net properties: name: str_replace: template: ""__stack__/pod-net"" params: __stack__: { get_param: 'OS::stack_name' } pod_subnet: type: OS::Neutron::Subnet properties: network_id: { get_resource: pod_net } cidr: { get_param: pod_net_cidr } gateway_ip: { get_param: pod_net_gateway } enable_dhcp: False name: str_replace: template: ""__stack__/pod-subnet"" params: __stack__: { get_param: 'OS::stack_name' } service_net: type: OS::Neutron::Net properties: name: str_replace: template: ""__stack__/service-net"" params: __stack__: { get_param: 'OS::stack_name' } service_subnet: type: OS::Neutron::Subnet properties: network_id: { get_resource: service_net } cidr: { get_param: service_net_cidr } gateway_ip: { get_param: service_net_gateway } enable_dhcp: False name: str_replace: template: ""__stack__/service-subnet"" params: __stack__: { get_param: 'OS::stack_name' } k8s_lb: type: OS::Neutron::LBaaS::LoadBalancer properties: name: str_replace: template: ""__stack__/kubernetes-lb"" params: __stack__: { get_param: 'OS::stack_name' } vip_address: { get_param: service_lbaas_ip } vip_subnet: { get_resource: service_subnet } k8s_lb_listener: type: OS::Neutron::LBaaS::Listener properties: name: str_replace: template: ""__stack__/kubernetes-listener-tcp-443"" params: __stack__: { get_param: 'OS::stack_name' } loadbalancer: { get_resource: k8s_lb } protocol: HTTPS protocol_port: 443 k8s_lb_pool: type: OS::Neutron::LBaaS::Pool properties: name: str_replace: template: ""__stack__/kubernetes-https-pool"" params: __stack__: { get_param: 'OS::stack_name' } protocol: HTTPS lb_algorithm: ROUND_ROBIN listener: { get_resource: k8s_lb_listener } kuryr_router: type: OS::Neutron::Router properties: external_gateway_info: network: { get_param: public_net } name: str_replace: template: ""__stack__/router"" params: __stack__: { get_param: 'OS::stack_name' } kr_vm_iface: type: OS::Neutron::RouterInterface properties: router_id: { get_resource: kuryr_router } subnet_id: { get_resource: vm_subnet } kr_pod_iface: type: OS::Neutron::RouterInterface properties: router_id: { get_resource: kuryr_router } subnet_id: { get_resource: pod_subnet } service_router_port: type: OS::Neutron::Port properties: network: { get_resource: service_net} fixed_ips: - subnet: { get_resource: service_subnet } ip_address: { get_param: service_router_port_ip } name: service-router-port kr_service_iface: type: OS::Neutron::RouterInterface properties: router_id: { get_resource: kuryr_router } port: { get_resource: service_router_port } k8s_api_sg: type: OS::Neutron::SecurityGroup properties: name: str_replace: template: ""__stack__/k8s-api-sg"" params: __stack__: { get_param: 'OS::stack_name' } description: Ping and SSH rules: - protocol: icmp - ethertype: IPv4 remote_mode: remote_group_id - ethertype: IPv6 remote_mode: remote_group_id - protocol: tcp port_range_min: 22 port_range_max: 22 - protocol: tcp port_range_min: 8443 port_range_max: 8443 outputs: vm_net_id: value: { get_resource: vm_net } vm_subnet_id: value: { get_resource: vm_subnet } pod_subnet_id: value: { get_resource: pod_subnet } service_subnet_id: value: { get_resource: service_subnet } k8s_lb_pool_id: value: { get_resource: k8s_lb_pool } k8s_api_sg_id: value: { get_resource: k8s_api_sg } ",,816,0
openstack%2Fwatcher-tempest-plugin~master~Ib8d0a7e0bd57c75ac2fa6a0a6e94698d849e4255,openstack/watcher-tempest-plugin,master,Ib8d0a7e0bd57c75ac2fa6a0a6e94698d849e4255,Wait for auditplans to finish and before creating audits,MERGED,2018-11-21 11:22:54.000000000,2018-11-29 10:10:52.000000000,2018-11-29 10:10:52.000000000,"[{'_account_id': 19055}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 23735}]","[{'number': 1, 'created': '2018-11-21 11:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/9832e2454f814ca72bbdcd0dc0dfb96d5da545cf', 'message': 'Wait for auditplans to finish and before creating audits\n\nif an auditplan is underway any new audit are immediately marked\nCANCELLED. So the existing retry loop immediately returns retrying\nimmediately instead of retrying for 30secs\n\nInstead we should wait only on the audits created by this test.\n\nPartial-Bug:  #1801295\nChange-Id: Ib8d0a7e0bd57c75ac2fa6a0a6e94698d849e4255\n'}, {'number': 2, 'created': '2018-11-21 14:54:35.000000000', 'files': ['watcher_tempest_plugin/tests/api/admin/base.py'], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/b26b15c72d5b167dba1acec9525f97cd40c64a37', 'message': 'Wait for auditplans to finish and before creating audits\n\nif an auditplan is underway any new audit are immediately marked\nCANCELLED. So the existing retry loop immediately returns retrying\nimmediately instead of retrying for 30secs\n\nInstead we should wait only on the audits created by this test.\n\nPartial-Bug:  #1801295\nChange-Id: Ib8d0a7e0bd57c75ac2fa6a0a6e94698d849e4255\n'}]",0,619213,b26b15c72d5b167dba1acec9525f97cd40c64a37,12,4,2,23735,,,0,"Wait for auditplans to finish and before creating audits

if an auditplan is underway any new audit are immediately marked
CANCELLED. So the existing retry loop immediately returns retrying
immediately instead of retrying for 30secs

Instead we should wait only on the audits created by this test.

Partial-Bug:  #1801295
Change-Id: Ib8d0a7e0bd57c75ac2fa6a0a6e94698d849e4255
",git fetch https://review.opendev.org/openstack/watcher-tempest-plugin refs/changes/13/619213/2 && git format-patch -1 --stdout FETCH_HEAD,['watcher_tempest_plugin/tests/api/admin/base.py'],1,9832e2454f814ca72bbdcd0dc0dfb96d5da545cf,bug/1801295," # States where the object can only be DELETED (end of its life-cycle) AP_FINISHED_STATES = ('FAILED', 'SUCCEEDED', 'CANCELLED', 'SUPERSEDED') @classmethod def _are_all_action_plans_finished(cls): _, action_plans = cls.client.list_action_plans() return all([ap['state'] in cls.AP_FINISHED_STATES for ap in action_plans['action_plans']]) @classmethod def wait_for_all_action_plans_to_finish(cls): assert test_utils.call_until_true( func=cls._are_all_action_plans_finished, duration=300, sleep_for=5 ) cls.wait_for_all_action_plans_to_finish()",,17,0
openstack%2Fos-apply-config~stable%2Fpike~I0ad89fcde101ba6f3723ab2fa5a348c40452bae5,openstack/os-apply-config,stable/pike,I0ad89fcde101ba6f3723ab2fa5a348c40452bae5,fixes how os-apply-config handles invalid json,MERGED,2018-11-27 03:11:37.000000000,2018-11-29 10:10:51.000000000,2018-11-29 10:10:51.000000000,"[{'_account_id': 7144}, {'_account_id': 19736}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-27 03:11:37.000000000', 'files': ['os_apply_config/tests/test_collect_config.py', 'os_apply_config/collect_config.py'], 'web_link': 'https://opendev.org/openstack/os-apply-config/commit/aaa2f2181723da4b56a9de59e03fac8c96494bbf', 'message': 'fixes how os-apply-config handles invalid json\n\nIf invalid json is included as the last element in\nos_config_files.json it can silently break the file\ncustomizations managed by os-apply-config.\n\nMore details:\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1493303\n\nCloses-Bug: #1722321\nrhbz#1653510\n\nChange-Id: I0ad89fcde101ba6f3723ab2fa5a348c40452bae5\n(cherry picked from commit f462d6fec8a4ae5c76a8f5e0d36e5dbb48917256)\n'}]",0,620207,aaa2f2181723da4b56a9de59e03fac8c96494bbf,6,3,1,4571,,,0,"fixes how os-apply-config handles invalid json

If invalid json is included as the last element in
os_config_files.json it can silently break the file
customizations managed by os-apply-config.

More details:
https://bugzilla.redhat.com/show_bug.cgi?id=1493303

Closes-Bug: #1722321
rhbz#1653510

Change-Id: I0ad89fcde101ba6f3723ab2fa5a348c40452bae5
(cherry picked from commit f462d6fec8a4ae5c76a8f5e0d36e5dbb48917256)
",git fetch https://review.opendev.org/openstack/os-apply-config refs/changes/07/620207/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_apply_config/tests/test_collect_config.py', 'os_apply_config/collect_config.py']",2,aaa2f2181723da4b56a9de59e03fac8c96494bbf,bug/1722321," if conf and isinstance(conf, dict):", if conf:,8,2
openstack%2Fnova~master~I3cd3565b6651677552d8a27c9f7054b0322055fb,openstack/nova,master,I3cd3565b6651677552d8a27c9f7054b0322055fb,Remove get_node_uuid,MERGED,2018-11-28 22:27:53.000000000,2018-11-29 10:08:38.000000000,2018-11-29 10:08:38.000000000,"[{'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-11-28 22:27:53.000000000', 'files': ['nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8c318d0fb20fdfe0ae8e203245e4d4d6668c8a44', 'message': 'Remove get_node_uuid\n\nget_node_uuid was added in [1] and it was used [2], but that code was\nremoved in Stein [3].\n\n[1] I982b211e0315bdb9a816f346fafffd0f70e46d07\n[2] https://github.com/openstack/nova/blob/76136bfb01076da37351aaf11751dd557cb97ca4/nova/compute/manager.py#L3939\n[3] I0851e2d54a1fdc82fe3291fb7e286e790f121e92\n\nChange-Id: I3cd3565b6651677552d8a27c9f7054b0322055fb\n'}]",0,620715,8c318d0fb20fdfe0ae8e203245e4d4d6668c8a44,20,16,1,14070,,,0,"Remove get_node_uuid

get_node_uuid was added in [1] and it was used [2], but that code was
removed in Stein [3].

[1] I982b211e0315bdb9a816f346fafffd0f70e46d07
[2] https://github.com/openstack/nova/blob/76136bfb01076da37351aaf11751dd557cb97ca4/nova/compute/manager.py#L3939
[3] I0851e2d54a1fdc82fe3291fb7e286e790f121e92

Change-Id: I3cd3565b6651677552d8a27c9f7054b0322055fb
",git fetch https://review.opendev.org/openstack/nova refs/changes/15/620715/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/resource_tracker.py']",3,8c318d0fb20fdfe0ae8e203245e4d4d6668c8a44,remove-migration-allocation-compat,," def get_node_uuid(self, nodename): try: return self.compute_nodes[nodename].uuid except KeyError: raise exception.ComputeHostNotFound(host=nodename) ",0,19
openstack%2Fopenstack-helm-infra~master~I5465760f6e4bf63f1895898f74aafcfd9ee60951,openstack/openstack-helm-infra,master,I5465760f6e4bf63f1895898f74aafcfd9ee60951,"DNM, WIP: Kubernetes: 1.12.1 support",ABANDONED,2018-10-14 13:35:23.000000000,2018-11-29 10:07:58.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-14 13:35:23.000000000', 'files': ['tools/images/kubeadm-aio/Dockerfile', 'roles/build-images/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/25adaeb4bd4c00b84c49695751e1faa7548a146b', 'message': 'DNM, WIP: Kubernetes: 1.12.1 support\n\nChange-Id: I5465760f6e4bf63f1895898f74aafcfd9ee60951\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",0,610375,25adaeb4bd4c00b84c49695751e1faa7548a146b,3,1,1,20466,,,0,"DNM, WIP: Kubernetes: 1.12.1 support

Change-Id: I5465760f6e4bf63f1895898f74aafcfd9ee60951
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/75/610375/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/images/kubeadm-aio/Dockerfile', 'roles/build-images/defaults/main.yml']",2,25adaeb4bd4c00b84c49695751e1faa7548a146b,k8s/1.12.1, kubernetes: v1.12.1, kubernetes: v1.10.8,2,2
openstack%2Foslo.policy~master~I6a269b91436cac29bd72e11dbdc51ee74feca028,openstack/oslo.policy,master,I6a269b91436cac29bd72e11dbdc51ee74feca028,Enhance test to prevent JSON parsing regression,MERGED,2018-11-26 22:20:58.000000000,2018-11-29 09:59:42.000000000,2018-11-29 09:59:42.000000000,"[{'_account_id': 6928}, {'_account_id': 9796}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-26 22:20:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/9a621c1be983ced09376cda3b2f8e0f482ab1ed1', 'message': 'Enhance test to prevent JSON parsing regression\n\nChange I43782d245d7652ba69613b26fe598ac79ec19929 added a policy\nfile parsing optimization that had the affect of allowing some\nstrictly speaking invalid JSON policy files to be accepted.\nEnhance the test for bad JSON to look for this to prevent prevent\nformerly acceptable policy files from becoming invalid if the code\nis refactored at some point.\n\nAlso updates two related comments that had gotten out of sync\nwith the code.\n\nChange-Id: I6a269b91436cac29bd72e11dbdc51ee74feca028\n'}, {'number': 2, 'created': '2018-11-26 22:56:49.000000000', 'files': ['oslo_policy/tests/test_policy.py'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/1309c0c0ea570138c5ea04fc29a4f460c9aa90c4', 'message': 'Enhance test to prevent JSON parsing regression\n\nChange I43782d245d7652ba69613b26fe598ac79ec19929 added a policy\nfile parsing optimization that had the affect of allowing some\nstrictly speaking invalid JSON policy files to be accepted.\nEnhance the test for bad JSON to look for this to prevent\nformerly acceptable policy files from becoming invalid if\nthe code is refactored at some point.\n\nAlso updates two related comments that had gotten out of sync\nwith the code.\n\nChange-Id: I6a269b91436cac29bd72e11dbdc51ee74feca028\n'}]",0,620173,1309c0c0ea570138c5ea04fc29a4f460c9aa90c4,8,3,2,5314,,,0,"Enhance test to prevent JSON parsing regression

Change I43782d245d7652ba69613b26fe598ac79ec19929 added a policy
file parsing optimization that had the affect of allowing some
strictly speaking invalid JSON policy files to be accepted.
Enhance the test for bad JSON to look for this to prevent
formerly acceptable policy files from becoming invalid if
the code is refactored at some point.

Also updates two related comments that had gotten out of sync
with the code.

Change-Id: I6a269b91436cac29bd72e11dbdc51ee74feca028
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/73/620173/2 && git format-patch -1 --stdout FETCH_HEAD,['oslo_policy/tests/test_policy.py'],1,9a621c1be983ced09376cda3b2f8e0f482ab1ed1,prevent-json-regression," # When the JSON isn't valid, ValueError is raised on load. # However, since change I43782d245d7652ba69613b26fe598ac79ec19929, # policy.Rules.load() first tries loading with the really fast # jsonutils.loads(), and if that fails, it tries loading with # yaml.safe_load(). Since YAML is a superset of JSON, some strictly # invalid JSON can be parsed correctly by policy.Rules.load() without # raising an exception. But that means that since 1.17.0, we've been # accepting (strictly speaking) illegal JSON policy files, and for # backward compatibility, we should continue to do so. Thus the # following are here to prevent regressions: # JSON requires double quotes, but the YAML parser doesn't care bad_but_acceptable = """"""{ 'admin_or_owner': [[""role:admin""], [""project_id:%(project_id)s""]], 'default': [] }"""""" self.assertTrue(policy.Rules.load(bad_but_acceptable, 'default')) # JSON does not allow bare keys, but the YAML parser doesn't care bad_but_acceptable = """"""{ admin_or_owner: [[""role:admin""], [""project_id:%(project_id)s""]], default: [] }"""""" self.assertTrue(policy.Rules.load(bad_but_acceptable, 'default')) # JSON is picky about commas, but the YAML parser is more forgiving # (Note the trailing , in the exemplar is invalid JSON.) bad_but_acceptable = """"""{ admin_or_owner: [[""role:admin""], [""project_id:%(project_id)s""]], default: [], }"""""" self.assertTrue(policy.Rules.load(bad_but_acceptable, 'default')) # When the JSON is seriously invalid, ValueError is raised on load(). # (See test_load_json_invalid_exc for what 'seriously invalid' means.)"," # When the JSON isn't valid, ValueError is raised on load_json. # Note the trailing , in the exemplar is invalid JSON. # When the JSON isn't valid, ValueError is raised on load(). # Note the trailing , in the exemplar is invalid JSON.",35,4
openstack%2Fopenstack-helm-infra~master~I6afb08954f37eda1ed913a4b3acdaf6e2b89d30e,openstack/openstack-helm-infra,master,I6afb08954f37eda1ed913a4b3acdaf6e2b89d30e,Ingress: Break out helper container images,MERGED,2018-11-29 02:55:50.000000000,2018-11-29 09:47:39.000000000,2018-11-29 09:47:39.000000000,"[{'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-29 02:55:50.000000000', 'files': ['ingress/templates/deployment-ingress.yaml', 'ingress/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4803fe31d183313a894f8a1c8aae3544fe1abf8b', 'message': 'Ingress: Break out helper container images\n\nThis PS breaks out the helper container images, which is required\nnow that the ingress image is more compact.\n\nChange-Id: I6afb08954f37eda1ed913a4b3acdaf6e2b89d30e\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,620771,4803fe31d183313a894f8a1c8aae3544fe1abf8b,7,3,1,23928,,,0,"Ingress: Break out helper container images

This PS breaks out the helper container images, which is required
now that the ingress image is more compact.

Change-Id: I6afb08954f37eda1ed913a4b3acdaf6e2b89d30e
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/71/620771/1 && git format-patch -1 --stdout FETCH_HEAD,"['ingress/templates/deployment-ingress.yaml', 'ingress/values.yaml']",2,4803fe31d183313a894f8a1c8aae3544fe1abf8b,breakout-ingress-images, ingress_module_init: docker.io/openstackhelm/neutron:ocata ingress_routed_vip: docker.io/openstackhelm/neutron:ocata keepalived: docker.io/osixia/keepalived:1.4.5, keepalived: osixia/keepalived:1.4.5,6,4
openstack%2Fkolla~master~I2f3d04452c517f8643b124550148cc9d8320b937,openstack/kolla,master,I2f3d04452c517f8643b124550148cc9d8320b937,Bump storage available to Docker in CI to 25G,MERGED,2018-11-23 10:07:58.000000000,2018-11-29 09:45:13.000000000,2018-11-28 19:43:33.000000000,"[{'_account_id': 9820}, {'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 28614}]","[{'number': 1, 'created': '2018-11-23 10:07:58.000000000', 'files': ['tools/setup_RedHat.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/3d4f69f57920f87d12d00414ea0c980d0a958f97', 'message': 'Bump storage available to Docker in CI to 25G\n\nCurrently CentOS binary jobs are often failing due to running out of\nstorage while building images.\n\nSee\nhttp://logs.openstack.org/87/612887/8/check/kolla-build-centos-binary/b467920/logs/build/000_FAILED_heat-all.txt.gz\nfor an example, and\nhttp://logs.openstack.org/87/612887/8/check/kolla-build-centos-binary/b467920/logs/df.txt.gz\nfor the corresponding df output that shows the /var/lib/docker loopback\nmount at 97%.\n\nChange-Id: I2f3d04452c517f8643b124550148cc9d8320b937\n'}]",0,619707,3d4f69f57920f87d12d00414ea0c980d0a958f97,20,6,1,14826,,,0,"Bump storage available to Docker in CI to 25G

Currently CentOS binary jobs are often failing due to running out of
storage while building images.

See
http://logs.openstack.org/87/612887/8/check/kolla-build-centos-binary/b467920/logs/build/000_FAILED_heat-all.txt.gz
for an example, and
http://logs.openstack.org/87/612887/8/check/kolla-build-centos-binary/b467920/logs/df.txt.gz
for the corresponding df output that shows the /var/lib/docker loopback
mount at 97%.

Change-Id: I2f3d04452c517f8643b124550148cc9d8320b937
",git fetch https://review.opendev.org/openstack/kolla refs/changes/07/619707/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/setup_RedHat.sh'],1,3d4f69f57920f87d12d00414ea0c980d0a958f97,bump-ci-docker-storage, sudo dd if=/dev/zero of=/docker bs=1M count=25600, sudo dd if=/dev/zero of=/docker bs=1M count=20480,1,1
openstack%2Ffreezer-api~master~I06c6dc10b8c548f38cdbed1f5a1a4cb79bf79cb2,openstack/freezer-api,master,I06c6dc10b8c548f38cdbed1f5a1a4cb79bf79cb2,Add search_client unit test for search option from client cmd,MERGED,2018-11-29 06:51:15.000000000,2018-11-29 09:44:20.000000000,2018-11-29 09:44:20.000000000,"[{'_account_id': 22348}, {'_account_id': 22484}]","[{'number': 1, 'created': '2018-11-29 06:51:15.000000000', 'files': ['freezer_api/tests/unit/sqlalchemy/test_client.py'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/75d07f6fcc38f18afd42f4ec920d46c1f620b182', 'message': 'Add search_client unit test for search option from client cmd\n\nThis patch is for search_client unit test with search option.\nThis query is from client cmd.\n\nChange-Id: I06c6dc10b8c548f38cdbed1f5a1a4cb79bf79cb2\n'}]",0,620786,75d07f6fcc38f18afd42f4ec920d46c1f620b182,7,2,1,21387,,,0,"Add search_client unit test for search option from client cmd

This patch is for search_client unit test with search option.
This query is from client cmd.

Change-Id: I06c6dc10b8c548f38cdbed1f5a1a4cb79bf79cb2
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/86/620786/1 && git format-patch -1 --stdout FETCH_HEAD,['freezer_api/tests/unit/sqlalchemy/test_client.py'],1,75d07f6fcc38f18afd42f4ec920d46c1f620b182,addclientsearch," def test_add_and_search_client_with_all_opt_one_match(self): count = 0 clientids = [] while (count < 20): client_doc = copy.deepcopy(self.fake_client_doc) clientid = common.get_fake_client_id() client_doc['client_id'] = clientid client_doc['hostname'] = ""node1"" if count in [0, 4, 8, 12, 16]: client_doc['description'] = ""tecs"" client_id = self.dbapi.add_client(user_id=self.fake_user_id, doc=client_doc, project_id=self.fake_project_id) self.assertIsNotNone(client_id) self.assertEqual(clientid, client_id) clientids.append(client_id) count += 1 search_opt = {'match': [{'_all': '[{""description"": ""tecs""}]'}]} result = self.dbapi.get_client(project_id=self.fake_project_id, user_id=self.fake_user_id, limit=20, offset=0, search=search_opt) self.assertIsNotNone(result) self.assertEqual(len(result), 5) for index in range(len(result)): clientmap = result[index] description = clientmap['client'].get('description') self.assertEqual('tecs', description) def test_add_and_search_client_with_all_opt_two_match(self): count = 0 clientids = [] while (count < 20): client_doc = copy.deepcopy(self.fake_client_doc) clientid = common.get_fake_client_id() client_doc['client_id'] = clientid client_doc['hostname'] = ""node1"" if count in [0, 4, 8, 12, 16]: client_doc['hostname'] = ""node2"" if count in [4, 12]: client_doc['description'] = ""tecs"" client_id = self.dbapi.add_client(user_id=self.fake_user_id, doc=client_doc, project_id=self.fake_project_id) self.assertIsNotNone(client_id) self.assertEqual(clientid, client_id) clientids.append(client_id) count += 1 search_opt = {'match': [{'_all': '[{""description"": ""tecs""}, ' '{""hostname"": ""node2""}]'}]} result = self.dbapi.get_client(project_id=self.fake_project_id, user_id=self.fake_user_id, limit=20, offset=0, search=search_opt) self.assertIsNotNone(result) self.assertEqual(len(result), 2) for index in range(len(result)): clientmap = result[index] description = clientmap['client'].get('description') hostname = clientmap['client'].get('hostname') self.assertEqual('tecs', description) self.assertEqual('node2', hostname) def test_add_and_search_client_with_error_all_opt_return_alltuples(self): count = 0 clientids = [] while (count < 20): client_doc = copy.deepcopy(self.fake_client_doc) clientid = common.get_fake_client_id() client_doc['client_id'] = clientid client_doc['hostname'] = ""node1"" if count in [0, 4, 8, 12, 16]: client_doc['hostname'] = ""node2"" client_id = self.dbapi.add_client(user_id=self.fake_user_id, doc=client_doc, project_id=self.fake_project_id) self.assertIsNotNone(client_id) self.assertEqual(clientid, client_id) clientids.append(client_id) count += 1 search_opt = {'match': [{'_all': '{""hostname"": ""node2""}'}]} result = self.dbapi.get_client(project_id=self.fake_project_id, user_id=self.fake_user_id, limit=20, offset=0, search=search_opt) self.assertIsNotNone(result) self.assertEqual(len(result), 20) search_opt = {'match': [{'_all': 'hostname=node2'}]} result = self.dbapi.get_client(project_id=self.fake_project_id, user_id=self.fake_user_id, limit=20, offset=0, search=search_opt) self.assertIsNotNone(result) self.assertEqual(len(result), 20)",,116,0
openstack%2Ftrove~master~I9550e78f3e70885b276f5623fb1cb6b32b6ce892,openstack/trove,master,I9550e78f3e70885b276f5623fb1cb6b32b6ce892,Update http to https,MERGED,2018-11-12 02:09:37.000000000,2018-11-29 09:43:34.000000000,2018-11-29 09:43:34.000000000,"[{'_account_id': 22348}, {'_account_id': 29393}]","[{'number': 1, 'created': '2018-11-12 02:09:37.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/trove/commit/e3c4c59dc4e5db5cc0b2f844e26b676fb1492f1b', 'message': 'Update http to https\n\nmodify http link to https link\n\nChange-Id: I9550e78f3e70885b276f5623fb1cb6b32b6ce892\n'}]",0,617189,e3c4c59dc4e5db5cc0b2f844e26b676fb1492f1b,6,2,1,27366,,,0,"Update http to https

modify http link to https link

Change-Id: I9550e78f3e70885b276f5623fb1cb6b32b6ce892
",git fetch https://review.opendev.org/openstack/trove refs/changes/89/617189/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,e3c4c59dc4e5db5cc0b2f844e26b676fb1492f1b,,.. _Trove API Documentation: https://developer.openstack.org/api-ref/database/,.. _Trove API Documentation: http://developer.openstack.org/api-ref/database/,1,1
openstack%2Fcharm-neutron-api~master~I14fe163a445b6dcffccced762041942de7d6b41d,openstack/charm-neutron-api,master,I14fe163a445b6dcffccced762041942de7d6b41d,Pass dns-domain over neutron-api relation,MERGED,2018-11-28 18:44:41.000000000,2018-11-29 09:39:25.000000000,2018-11-29 09:39:25.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-28 18:44:41.000000000', 'files': ['unit_tests/test_neutron_api_hooks.py', 'hooks/neutron_api_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/f90eef2c4be311012509284ec2f6530c60192311', 'message': 'Pass dns-domain over neutron-api relation\n\nIn order to have nova-metadata-api use the same dns-domain as neutron\nwhen nova-metadata-api runs on nova-cloud-controller we must pass the\ndns-domain on the neutron-api relation.\n\nChange-Id: I14fe163a445b6dcffccced762041942de7d6b41d\nPartial-Bug: #1805645\n'}]",0,620678,f90eef2c4be311012509284ec2f6530c60192311,9,4,1,20805,,,0,"Pass dns-domain over neutron-api relation

In order to have nova-metadata-api use the same dns-domain as neutron
when nova-metadata-api runs on nova-cloud-controller we must pass the
dns-domain on the neutron-api relation.

Change-Id: I14fe163a445b6dcffccced762041942de7d6b41d
Partial-Bug: #1805645
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/78/620678/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_neutron_api_hooks.py', 'hooks/neutron_api_hooks.py']",2,f90eef2c4be311012509284ec2f6530c60192311,bug/1805645, # LP Bug#1805645 dns_domain = get_dns_domain() if dns_domain: relation_data['dns-domain'] = dns_domain ,,7,0
openstack%2Fcharm-neutron-gateway~master~If7de988ddcd8817d02b261bea601d6922275890c,openstack/charm-neutron-gateway,master,If7de988ddcd8817d02b261bea601d6922275890c,Set dhcp_domain for nova-metadata-api,MERGED,2018-11-28 17:57:51.000000000,2018-11-29 09:39:15.000000000,2018-11-29 09:39:15.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-28 17:57:51.000000000', 'files': ['templates/newton/nova.conf', 'templates/mitaka/nova.conf'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/684a93515d7a18d51e1faf9fb43c829f07abce52', 'message': 'Set dhcp_domain for nova-metadata-api\n\nFor guest operating systems that rely on nova metadata rather than dhcp\noffers for host dns domain settings it is necessary to set dhcp_domain\nin the nova.conf.\n\nChange-Id: If7de988ddcd8817d02b261bea601d6922275890c\nPartial-Bug: #1805645\n'}]",0,620668,684a93515d7a18d51e1faf9fb43c829f07abce52,10,4,1,20805,,,0,"Set dhcp_domain for nova-metadata-api

For guest operating systems that rely on nova metadata rather than dhcp
offers for host dns domain settings it is necessary to set dhcp_domain
in the nova.conf.

Change-Id: If7de988ddcd8817d02b261bea601d6922275890c
Partial-Bug: #1805645
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/68/620668/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/newton/nova.conf', 'templates/mitaka/nova.conf']",2,684a93515d7a18d51e1faf9fb43c829f07abce52,bug/1805645,"{% if dns_domain -%} # Per LP#1805645, dhcp_domain needs to be configured for nova-metadata-api # It gets this information from neutron. dhcp_domain = {{ dns_domain }} {% endif -%} ",,12,0
openstack%2Ftrove~master~I174ffd6e5799aa62df1d135b595c2958a902560a,openstack/trove,master,I174ffd6e5799aa62df1d135b595c2958a902560a,"[fix_typos] fix wrongly spell word ""configration """,MERGED,2018-11-14 03:36:35.000000000,2018-11-29 09:36:35.000000000,2018-11-29 09:36:35.000000000,"[{'_account_id': 22348}, {'_account_id': 29393}]","[{'number': 1, 'created': '2018-11-14 03:36:35.000000000', 'files': ['api-ref/source/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/trove/commit/eddfc83a048644ccc7cbb9b898794d9d0ec10e06', 'message': '[fix_typos] fix wrongly spell word ""configration ""\n\nChange-Id: I174ffd6e5799aa62df1d135b595c2958a902560a\n'}]",0,617866,eddfc83a048644ccc7cbb9b898794d9d0ec10e06,6,2,1,27382,,,0,"[fix_typos] fix wrongly spell word ""configration ""

Change-Id: I174ffd6e5799aa62df1d135b595c2958a902560a
",git fetch https://review.opendev.org/openstack/trove refs/changes/66/617866/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/parameters.yaml'],1,eddfc83a048644ccc7cbb9b898794d9d0ec10e06,fix_typos, configuration ``max_accepted_volume_size``)., configration ``max_accepted_volume_size``).,1,1
openstack%2Fopenstack-helm-images~master~I979fc15bde85f30d23d3c2a5ad720f90f7afa7b3,openstack/openstack-helm-images,master,I979fc15bde85f30d23d3c2a5ad720f90f7afa7b3,Add openSUSE Leap 15 VBMC image,MERGED,2018-11-26 14:04:00.000000000,2018-11-29 09:28:41.000000000,2018-11-29 09:28:40.000000000,"[{'_account_id': 17068}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-11-26 14:04:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/8c091b59914f3887f6a41c0e4ccb43c450c0e90c', 'message': 'Add openSUSE Leap 15 VBMC image\n\nChange-Id: I979fc15bde85f30d23d3c2a5ad720f90f7afa7b3\n'}, {'number': 2, 'created': '2018-11-26 14:15:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/262f81c6b7f5a8956837f5e110b00c97a09f5cff', 'message': 'Add openSUSE Leap 15 VBMC image\n\nChange-Id: I979fc15bde85f30d23d3c2a5ad720f90f7afa7b3\n'}, {'number': 3, 'created': '2018-11-26 14:29:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/a5053e9f22ea2d501c653d14498ab4cddea554a5', 'message': 'Add openSUSE Leap 15 VBMC image\n\nChange-Id: I979fc15bde85f30d23d3c2a5ad720f90f7afa7b3\n'}, {'number': 4, 'created': '2018-11-26 14:32:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/0e169483846b36d9c24b1181eeed1c52f09be63a', 'message': 'Add openSUSE Leap 15 VBMC image\n\nChange-Id: I979fc15bde85f30d23d3c2a5ad720f90f7afa7b3\n'}, {'number': 5, 'created': '2018-11-26 14:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/9abc65c7f68480d86a00f19a71916e956f97d539', 'message': 'Add openSUSE Leap 15 VBMC image\n\nChange-Id: I979fc15bde85f30d23d3c2a5ad720f90f7afa7b3\n'}, {'number': 6, 'created': '2018-11-26 14:56:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/8ec1e22a06f2e20908a792a062dd8307a52046a1', 'message': 'Add openSUSE Leap 15 VBMC image\n\nChange-Id: I979fc15bde85f30d23d3c2a5ad720f90f7afa7b3\n'}, {'number': 7, 'created': '2018-11-26 15:08:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/5f591a0393e19452ca35063a163e1aa18901e4ac', 'message': 'Add openSUSE Leap 15 VBMC image\n\nChange-Id: I979fc15bde85f30d23d3c2a5ad720f90f7afa7b3\n'}, {'number': 8, 'created': '2018-11-26 15:16:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/aed42d799d7b7de89a14a0f22761ce30d02c5b23', 'message': 'Add openSUSE Leap 15 VBMC image\n\nChange-Id: I979fc15bde85f30d23d3c2a5ad720f90f7afa7b3\n'}, {'number': 9, 'created': '2018-11-26 15:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/a2df6d8c8b0504980e5711faea39d473f5c1b624', 'message': 'Add openSUSE Leap 15 VBMC image\n\nChange-Id: I979fc15bde85f30d23d3c2a5ad720f90f7afa7b3\n'}, {'number': 10, 'created': '2018-11-26 16:05:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/b168afdbd0f3da264ebc1e39f4e8627531112107', 'message': 'Add openSUSE Leap 15 VBMC image\n\nChange-Id: I979fc15bde85f30d23d3c2a5ad720f90f7afa7b3\n'}, {'number': 11, 'created': '2018-11-26 16:08:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/55faa3bd6b1a9f54555584d3eca8f6f11aa33e79', 'message': 'Add openSUSE Leap 15 VBMC image\n\nCo-Authored-By: Stephanie Miller <stephane@alum.mit.edu>\nChange-Id: I979fc15bde85f30d23d3c2a5ad720f90f7afa7b3\n'}, {'number': 12, 'created': '2018-11-27 09:00:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/bfc757bfb7a35eda6569fda3a92cb2d1ec306d3c', 'message': 'Add openSUSE Leap 15 VBMC image\n\nCo-Authored-By: Stephanie Miller <stephane@alum.mit.edu>\nChange-Id: I979fc15bde85f30d23d3c2a5ad720f90f7afa7b3\n'}, {'number': 13, 'created': '2018-11-28 13:14:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/c54ca236f8c5c829dd14feeb872c3bb66c357f65', 'message': 'Add openSUSE Leap 15 VBMC image\n\nCo-Authored-By: Stephanie Miller <stephane@alum.mit.edu>\nChange-Id: I979fc15bde85f30d23d3c2a5ad720f90f7afa7b3\n'}, {'number': 14, 'created': '2018-11-28 15:51:11.000000000', 'files': ['vbmc/Dockerfile.suse_15', 'doc/source/vbmc.rst', 'zuul.d/vbmc.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/cd8e356a401a44d38e7edf50aa36d3cbeb0bbfc0', 'message': 'Add openSUSE Leap 15 VBMC image\n\nCo-Authored-By: Stephanie Miller <stephane@alum.mit.edu>\nChange-Id: I979fc15bde85f30d23d3c2a5ad720f90f7afa7b3\n'}]",0,620065,cd8e356a401a44d38e7edf50aa36d3cbeb0bbfc0,24,4,14,17068,,,0,"Add openSUSE Leap 15 VBMC image

Co-Authored-By: Stephanie Miller <stephane@alum.mit.edu>
Change-Id: I979fc15bde85f30d23d3c2a5ad720f90f7afa7b3
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/65/620065/14 && git format-patch -1 --stdout FETCH_HEAD,"['vbmc/Dockerfile.suse_15', 'doc/source/vbmc.rst']",2,8c091b59914f3887f6a41c0e4ccb43c450c0e90c,add_zuul_jobs,"Manual build ============ CentOS 7 -------- openSUSE Leap 15 ---------------- To build an openSUSE leap 15 image, you can export varibles before running the build script: .. code-block:: shell DISTRO=suse_15 ./vbmc/build.sh Should you want to have a specific version of vbmc for a different openSUSE base image, you can use the extra arguments for the build process, for example: .. code-block:: shell DISTRO=suse_15 extra_build_args=""--build-args PROJECT_REF=<SHA> --build-args FROM=<localimage>"" ./vbmc/build.sh",Manual build for CentOS 7 =========================Here are the instructions for building Xenial image: ,56,4
openstack%2Fopenstacksdk~master~Ie8676bba91fd2236b7f04b3f4d0e72d79a3f3925,openstack/openstacksdk,master,Ie8676bba91fd2236b7f04b3f4d0e72d79a3f3925,implement block-storage backup resource,MERGED,2018-08-13 16:05:23.000000000,2018-11-29 09:25:17.000000000,2018-11-29 09:25:17.000000000,"[{'_account_id': 2}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2018-08-13 16:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/601dee445dd8f8136d454075b56ed4899ca620c5', 'message': 'DNM: implement block-storage backup resource\n\nimplement Backup resource with respective functionality of te \nblock-storage.v2. Note that backup restore is not documented in the \nofficial API, but is implemented in the cinderclient\n\nChange-Id: Ie8676bba91fd2236b7f04b3f4d0e72d79a3f3925\n'}, {'number': 2, 'created': '2018-08-13 17:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/61cd746405a7b5c6e5af17bf665e03bf3e139e7a', 'message': 'DNM: implement block-storage backup resource\n\nimplement Backup resource with respective functionality of te \nblock-storage.v2. Note that backup restore is not documented in the \nofficial API, but is implemented in the cinderclient\n\nChange-Id: Ie8676bba91fd2236b7f04b3f4d0e72d79a3f3925\n'}, {'number': 3, 'created': '2018-08-14 07:23:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/bfe8d4e070c38ad7210e8c4d20b28c094cad82c6', 'message': 'DNM: implement block-storage backup resource\n\nimplement Backup resource with respective functionality of te \nblock-storage.v2. Note that backup restore is not documented in the \nofficial API, but is implemented in the cinderclient\n\nChange-Id: Ie8676bba91fd2236b7f04b3f4d0e72d79a3f3925\n'}, {'number': 4, 'created': '2018-08-15 16:14:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a0384c2778a2e4738ade9dc66d5c7adf9d4942bd', 'message': 'DNM: implement block-storage backup resource\n\nimplement Backup resource with respective functionality of te \nblock-storage.v2. Note that backup restore is not documented in the \nofficial API, but is implemented in the cinderclient\n\nChange-Id: Ie8676bba91fd2236b7f04b3f4d0e72d79a3f3925\n'}, {'number': 5, 'created': '2018-08-16 07:48:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d6cdc0654f029b061e0aaf0b7ef05fc843d7a434', 'message': '[WIP] implement block-storage backup resource\n\nimplement Backup resource with respective functionality of te \nblock-storage.v2. Note that backup restore is not documented in the \nofficial API, but is implemented in the cinderclient\n\nChange-Id: Ie8676bba91fd2236b7f04b3f4d0e72d79a3f3925\n'}, {'number': 6, 'created': '2018-08-21 14:40:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5bc22aa5661dce4aca43637828c88d674b7acd6c', 'message': 'implement block-storage backup resource\n\nimplement Backup resource with respective functionality of te \nblock-storage.v2. Note that backup restore is not documented in the \nofficial API, but is implemented in the cinderclient\n\nChange-Id: Ie8676bba91fd2236b7f04b3f4d0e72d79a3f3925\n'}, {'number': 7, 'created': '2018-10-29 14:43:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/bcbdcd9b50849783c6fc98916807cb4beaceb88a', 'message': 'implement block-storage backup resource\n\nimplement Backup resource with respective functionality of te \nblock-storage.v2. Note that backup restore is not documented in the \nofficial API, but is implemented in the cinderclient\n\nChange-Id: Ie8676bba91fd2236b7f04b3f4d0e72d79a3f3925\n'}, {'number': 8, 'created': '2018-10-30 08:52:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f91776a9a9fd674db097cd3020363f23e8c3bec3', 'message': 'implement block-storage backup resource\n\nimplement Backup resource with respective functionality of te \nblock-storage.v2. Note that backup restore is not documented in the \nofficial API, but is implemented in the cinderclient\n\nChange-Id: Ie8676bba91fd2236b7f04b3f4d0e72d79a3f3925\n'}, {'number': 9, 'created': '2018-10-30 11:12:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6ee2e4ac889eb6ecbc04db0f14c983e8542a2108', 'message': 'implement block-storage backup resource\n\nimplement Backup resource with respective functionality of te \nblock-storage.v2. Note that backup restore is not documented in the \nofficial API, but is implemented in the cinderclient\n\nChange-Id: Ie8676bba91fd2236b7f04b3f4d0e72d79a3f3925\n'}, {'number': 10, 'created': '2018-10-30 16:04:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/73d12602b5bd1a4c01be0ac5409853ddf1acd39a', 'message': 'implement block-storage backup resource\n\nimplement Backup resource with respective functionality of the \nblock-storage.v2\n\nChange-Id: Ie8676bba91fd2236b7f04b3f4d0e72d79a3f3925\n'}, {'number': 11, 'created': '2018-11-16 09:21:09.000000000', 'files': ['openstack/tests/unit/block_storage/v2/test_proxy.py', 'doc/source/user/resources/block_storage/v2/backup.rst', 'doc/source/user/proxies/block_storage.rst', 'openstack/block_storage/v2/_proxy.py', 'releasenotes/notes/block-storage-backup-5886e91fd6e423bf.yaml', 'openstack/block_storage/v2/backup.py', 'openstack/tests/unit/block_storage/v2/test_backup.py', 'doc/source/user/resources/block_storage/index.rst', 'openstack/tests/functional/block_storage/v2/test_backup.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/37a1decac136dff98149050e871dc7e159caa2e5', 'message': 'implement block-storage backup resource\n\nimplement Backup resource with respective functionality of the \nblock-storage.v2\n\nChange-Id: Ie8676bba91fd2236b7f04b3f4d0e72d79a3f3925\n'}]",0,591445,37a1decac136dff98149050e871dc7e159caa2e5,52,3,11,27900,,,0,"implement block-storage backup resource

implement Backup resource with respective functionality of the 
block-storage.v2

Change-Id: Ie8676bba91fd2236b7f04b3f4d0e72d79a3f3925
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/45/591445/6 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/block_storage/v2/test_proxy.py', 'doc/source/user/resources/block_storage/v2/backup.rst', 'doc/source/user/proxies/block_storage.rst', 'openstack/block_storage/v2/_proxy.py', 'releasenotes/notes/block-storage-backup-5886e91fd6e423bf.yaml', 'openstack/block_storage/v2/backup.py', 'openstack/tests/unit/block_storage/v2/test_backup.py', 'doc/source/user/resources/block_storage/index.rst', 'openstack/tests/functional/block_storage/v2/test_backup.py']",9,601dee445dd8f8136d454075b56ed4899ca620c5,backup,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from openstack.block_storage.v2 import volume as _volume from openstack.block_storage.v2 import backup as _backup from openstack.tests.functional import base class TestBackup(base.BaseFunctionalTest): def setUp(self): super(TestBackup, self).setUp() self.VOLUME_NAME = self.getUniqueString() self.VOLUME_ID = None self.BACKUP_NAME = self.getUniqueString() self.BACKUP_ID = None volume = self.conn.block_storage.create_volume( name=self.VOLUME_NAME, size=1) self.conn.block_storage.wait_for_status( volume, status='available', failures=['error'], interval=2, wait=120) assert isinstance(volume, _volume.Volume) self.VOLUME_ID = volume.id backup = self.conn.block_storage.create_backup( name=self.BACKUP_NAME, volume_id=volume.id) self.conn.block_storage.wait_for_status( backup, status='available', failures=['error'], interval=2, wait=120) assert isinstance(backup, _backup.Backup) self.assertEqual(self.BACKUP_NAME, backup.name) self.BACKUP_ID = backup.id def tearDown(self): sot = self.conn.block_storage.delete_backup( self.BACKUP_ID, ignore_missing=False) sot = self.conn.block_storage.delete_volume( self.VOLUME_ID, ignore_missing=False) self.assertIsNone(sot) super(TestBackup, self).tearDown() def test_get(self): sot = self.conn.block_storage.get_backup(self.BACKUP_ID) self.assertEqual(self.BACKUP_NAME, sot.name) ",,430,0
openstack%2Ffreezer-api~master~I835ff8d5174df056007b1fc28cd2b7e28bcc8676,openstack/freezer-api,master,I835ff8d5174df056007b1fc28cd2b7e28bcc8676,Add search_client unit test for search option from client api,MERGED,2018-11-29 06:22:52.000000000,2018-11-29 09:21:21.000000000,2018-11-29 09:21:21.000000000,"[{'_account_id': 22348}, {'_account_id': 22484}]","[{'number': 1, 'created': '2018-11-29 06:22:52.000000000', 'files': ['freezer_api/tests/unit/sqlalchemy/test_client.py'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/95da463dda611258d6e2f996695cee84ab48800e', 'message': 'Add search_client unit test for search option from client api\n\nThis patch is for client_search unit test with search option.\nThis query is from client api.\n\nChange-Id: I835ff8d5174df056007b1fc28cd2b7e28bcc8676\n'}]",0,620782,95da463dda611258d6e2f996695cee84ab48800e,7,2,1,21387,,,0,"Add search_client unit test for search option from client api

This patch is for client_search unit test with search option.
This query is from client api.

Change-Id: I835ff8d5174df056007b1fc28cd2b7e28bcc8676
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/82/620782/1 && git format-patch -1 --stdout FETCH_HEAD,['freezer_api/tests/unit/sqlalchemy/test_client.py'],1,95da463dda611258d6e2f996695cee84ab48800e,addclientsearch," def test_add_and_search_client_with_search_match_and_match_not(self): count = 0 clientids = [] while (count < 20): client_doc = copy.deepcopy(self.fake_client_doc) clientid = common.get_fake_client_id() client_doc['client_id'] = clientid client_doc['hostname'] = ""node1"" if count in [0, 4, 8, 12, 16]: client_doc['description'] = ""tecs"" if count in [4, 12]: client_doc['hostname'] = 'node2' client_id = self.dbapi.add_client(user_id=self.fake_user_id, doc=client_doc, project_id=self.fake_project_id) self.assertIsNotNone(client_id) self.assertEqual(clientid, client_id) clientids.append(client_id) count += 1 search_opt = {'match_not': [{'hostname': 'node2'}], 'match': [{'description': 'tecs'}]} result = self.dbapi.get_client(project_id=self.fake_project_id, user_id=self.fake_user_id, limit=20, offset=0, search=search_opt) self.assertIsNotNone(result) self.assertEqual(len(result), 3) for index in range(len(result)): clientmap = result[index] hostname = clientmap['client'].get('hostname') description = clientmap['client'].get('description') self.assertEqual('node1', hostname) self.assertEqual('tecs', description) def test_add_and_search_client_with_search_match_list(self): count = 0 clientids = [] while (count < 20): client_doc = copy.deepcopy(self.fake_client_doc) clientid = common.get_fake_client_id() client_doc['client_id'] = clientid client_doc['hostname'] = ""node1"" if count in [0, 4, 8, 12, 16]: client_doc['description'] = ""tecs"" if count in [4, 12]: client_doc['hostname'] = 'node2' client_id = self.dbapi.add_client(user_id=self.fake_user_id, doc=client_doc, project_id=self.fake_project_id) self.assertIsNotNone(client_id) self.assertEqual(clientid, client_id) clientids.append(client_id) count += 1 search_opt = {'match': [{'hostname': 'node2'}, {'description': 'tecs'}]} result = self.dbapi.get_client(project_id=self.fake_project_id, user_id=self.fake_user_id, limit=20, offset=0, search=search_opt) self.assertIsNotNone(result) self.assertEqual(len(result), 2) for index in range(len(result)): clientmap = result[index] hostname = clientmap['client'].get('hostname') description = clientmap['client'].get('description') self.assertEqual('node2', hostname) self.assertEqual('tecs', description) def test_add_and_search_client_with_search_match_not_list(self): count = 0 clientids = [] while (count < 20): client_doc = copy.deepcopy(self.fake_client_doc) clientid = common.get_fake_client_id() client_doc['client_id'] = clientid client_doc['hostname'] = ""node1"" if count in [0, 4, 8, 12, 16]: client_doc['description'] = ""tecs"" if count in [4, 12]: client_doc['hostname'] = 'node2' client_id = self.dbapi.add_client(user_id=self.fake_user_id, doc=client_doc, project_id=self.fake_project_id) self.assertIsNotNone(client_id) self.assertEqual(clientid, client_id) clientids.append(client_id) count += 1 search_opt = {'match_not': [{'hostname': 'node2'}, {'description': 'some usefule text here'}]} result = self.dbapi.get_client(project_id=self.fake_project_id, user_id=self.fake_user_id, limit=20, offset=0, search=search_opt) self.assertIsNotNone(result) self.assertEqual(len(result), 3) for index in range(len(result)): clientmap = result[index] hostname = clientmap['client'].get('hostname') description = clientmap['client'].get('description') self.assertEqual('node1', hostname) self.assertEqual('tecs', description)",,120,0
openstack%2Fopenstacksdk~master~I7ca516a0a38f66489284452810977e49338832f5,openstack/openstacksdk,master,I7ca516a0a38f66489284452810977e49338832f5,Add missing seperator between words,MERGED,2018-11-19 07:33:54.000000000,2018-11-29 09:19:00.000000000,2018-11-29 09:19:00.000000000,"[{'_account_id': 2}, {'_account_id': 10239}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2018-11-19 07:33:54.000000000', 'files': ['openstack/config/cloud_region.py', 'openstack/cloud/openstackcloud.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4d48309361c3247e491b86e622cb4d1ed03db297', 'message': 'Add missing seperator between words\n\nThis is to add missing seperator between words, usually\nin log messages.\n\nChange-Id: I7ca516a0a38f66489284452810977e49338832f5\n'}]",0,618704,4d48309361c3247e491b86e622cb4d1ed03db297,21,5,1,20190,,,0,"Add missing seperator between words

This is to add missing seperator between words, usually
in log messages.

Change-Id: I7ca516a0a38f66489284452810977e49338832f5
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/04/618704/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/config/cloud_region.py', 'openstack/cloud/openstackcloud.py']",2,4d48309361c3247e491b86e622cb4d1ed03db297,missing_ws, port_msg = ('Failed to delete port {port} for node ', port_msg = ('Failed to delete port {port} for node',2,2
openstack%2Frpm-packaging~master~I79c8a4a888f90690ae3b060b2ade9a544dd64071,openstack/rpm-packaging,master,I79c8a4a888f90690ae3b060b2ade9a544dd64071,"django.wsgi is deprecated, use wsgi.py",MERGED,2018-11-26 14:03:14.000000000,2018-11-29 09:14:19.000000000,2018-11-27 17:01:49.000000000,"[{'_account_id': 6593}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23735}]","[{'number': 1, 'created': '2018-11-26 14:03:14.000000000', 'files': ['openstack/horizon/openstack-dashboard.conf.sample.suse', 'openstack/horizon/openstack-dashboard.conf.sample.rdo'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/cc37f1e995c35ea0e081fa44e667891f4223e0a5', 'message': 'django.wsgi is deprecated, use wsgi.py\n\nhttps://bugs.launchpad.net/horizon/+bug/1763204\n\nChange-Id: I79c8a4a888f90690ae3b060b2ade9a544dd64071\n'}]",0,620064,cc37f1e995c35ea0e081fa44e667891f4223e0a5,14,5,1,23735,,,0,"django.wsgi is deprecated, use wsgi.py

https://bugs.launchpad.net/horizon/+bug/1763204

Change-Id: I79c8a4a888f90690ae3b060b2ade9a544dd64071
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/64/620064/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/horizon/openstack-dashboard.conf.sample.suse', 'openstack/horizon/openstack-dashboard.conf.sample.rdo']",2,cc37f1e995c35ea0e081fa44e667891f4223e0a5,, WSGIScriptAlias / /var/lib/openstack-dashboard/openstack_dashboard/wsgi/wsgi.py, WSGIScriptAlias / /var/lib/openstack-dashboard/openstack_dashboard/wsgi/django.wsgi,2,2
openstack%2Fbifrost~master~I7f2fc2afca6c8ee0f18efe8aa461bf906794e049,openstack/bifrost,master,I7f2fc2afca6c8ee0f18efe8aa461bf906794e049,Remove pre-emptive boot.ipxe copy,MERGED,2018-10-10 20:26:53.000000000,2018-11-29 09:12:18.000000000,2018-11-29 09:12:18.000000000,"[{'_account_id': 6133}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 19578}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-10 20:26:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/7eb9c815a9ccbd43f492335c6fde10dc639db27b', 'message': 'Remove pre-emptive boot.ipxe copy\n\nEarly on in bifrost, we used a static template for\na short time. As time evolved, so did the template,\nand we were able to rely upon the conductor placing\nthe boot.ipxe file upon startup.\n\nRemoved the template copy as it creates an invalid\nipxe boot configuration and creates confusion.\n\nChange-Id: I7f2fc2afca6c8ee0f18efe8aa461bf906794e049\n'}, {'number': 2, 'created': '2018-11-27 21:32:56.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/tasks/create_tftpboot.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/2d286dd7da5a77f65854a5a2904463aee3625308', 'message': ""Remove pre-emptive boot.ipxe copy\n\nEarly on in bifrost, we used a static template for\na short time. As time evolved, so did the template,\nand we were able to rely upon the conductor placing\nthe boot.ipxe file upon startup.\n\nIronic since performed the copy upon driver init\nas opposed to once a deployment has been requested.\n\nAs it is no longer needed, we shouldn't put an invalid\nipxe boot configuration in place. Removing legacy copy.\n\nChange-Id: I7f2fc2afca6c8ee0f18efe8aa461bf906794e049\n""}]",0,609536,2d286dd7da5a77f65854a5a2904463aee3625308,14,5,2,11655,,,0,"Remove pre-emptive boot.ipxe copy

Early on in bifrost, we used a static template for
a short time. As time evolved, so did the template,
and we were able to rely upon the conductor placing
the boot.ipxe file upon startup.

Ironic since performed the copy upon driver init
as opposed to once a deployment has been requested.

As it is no longer needed, we shouldn't put an invalid
ipxe boot configuration in place. Removing legacy copy.

Change-Id: I7f2fc2afca6c8ee0f18efe8aa461bf906794e049
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/36/609536/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-ironic-install/tasks/create_tftpboot.yml'],1,7eb9c815a9ccbd43f492335c6fde10dc639db27b,fix-ironic-config-deprecated-by-oslo,,"- name: ""Pre-stage boot.ipxe into {{ http_boot_folder }}/"" copy: src=boot.ipxe dest={{ http_boot_folder }}/boot.ipxe owner=ironic group=ironic mode=0744 ",0,3
openstack%2Fkeystone~master~I78e697f9f5fb975b4694ab1a61f608a6dce0fd3b,openstack/keystone,master,I78e697f9f5fb975b4694ab1a61f608a6dce0fd3b,Move test utility to common location,MERGED,2018-11-26 20:59:07.000000000,2018-11-29 09:00:01.000000000,2018-11-29 09:00:01.000000000,"[{'_account_id': 15054}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-26 20:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/465a0202746218b74c63f0188eaa49ac50396736', 'message': 'Move test utility to common location\n\nSeveral of the test clases for testing the service provider API were\nduplicating a method to build a request body. Instead of duplicating\na common and useful utility, we can move it to a generic place and\nshare it.\n\nThis commit creates a new method in keystone.tests.unit.core for\nbuilding service provider entities to be used in API and backend\ntests. A subsequent patch will rely on this for testing policy\nprotection of the service provider API.\n\nChange-Id: I78e697f9f5fb975b4694ab1a61f608a6dce0fd3b\n'}, {'number': 2, 'created': '2018-11-28 14:55:29.000000000', 'files': ['keystone/tests/unit/test_v3_federation.py', 'keystone/tests/unit/core.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/cb5a1fe0369391401ebf669871fbf3611573d5c8', 'message': 'Move test utility to common location\n\nSeveral of the test clases for testing the service provider API were\nduplicating a method to build a request body. Instead of duplicating\na common and useful utility, we can move it to a generic place and\nshare it.\n\nThis commit creates a new method in keystone.tests.unit.core for\nbuilding service provider entities to be used in API and backend\ntests. A subsequent patch will rely on this for testing policy\nprotection of the service provider API.\n\nChange-Id: I78e697f9f5fb975b4694ab1a61f608a6dce0fd3b\n'}]",0,620155,cb5a1fe0369391401ebf669871fbf3611573d5c8,15,3,2,5046,,,0,"Move test utility to common location

Several of the test clases for testing the service provider API were
duplicating a method to build a request body. Instead of duplicating
a common and useful utility, we can move it to a generic place and
share it.

This commit creates a new method in keystone.tests.unit.core for
building service provider entities to be used in API and backend
tests. A subsequent patch will rely on this for testing policy
protection of the service provider API.

Change-Id: I78e697f9f5fb975b4694ab1a61f608a6dce0fd3b
",git fetch https://review.opendev.org/openstack/keystone refs/changes/55/620155/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/test_v3_federation.py', 'keystone/tests/unit/core.py']",2,465a0202746218b74c63f0188eaa49ac50396736,test-utility-refactor,"def new_service_provider_ref(**kwargs): ref = { 'auth_url': 'https://' + uuid.uuid4().hex + '.com', 'enabled': True, 'description': uuid.uuid4().hex, 'sp_url': 'https://' + uuid.uuid4().hex + '.com', 'relay_state_prefix': CONF.saml.relay_state_prefix } ref.update(kwargs) return ref ",,34,51
openstack%2Fmonasca-ui~stable%2Fqueens~I15c53c05517a6f8eb0fc29f3adc3667485ee6772,openstack/monasca-ui,stable/queens,I15c53c05517a6f8eb0fc29f3adc3667485ee6772,Fix the partial missing metrics in Create Alarm Definition flow,MERGED,2018-11-27 16:48:57.000000000,2018-11-29 08:52:04.000000000,2018-11-29 08:52:04.000000000,"[{'_account_id': 22348}, {'_account_id': 26141}]","[{'number': 1, 'created': '2018-11-27 16:48:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/9b830c924c5f08a5d8ff820bf1a18a90ca8fb104', 'message': 'Fix the partial missing metrics in Create Alarm Definition flow\n\n- The UI will call the monasca-api more than once to get all\nmetrics when the limit of API is exceeded.\n\nChange-Id: I15c53c05517a6f8eb0fc29f3adc3667485ee6772\nStory: 2004430\nTask: 28091\n'}, {'number': 2, 'created': '2018-11-28 16:50:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/5b522a3f807b6e9ef2bb7ca5c1c07bcdad8436fc', 'message': 'Fix the partial missing metrics in Create Alarm Definition flow\n\n- The UI will call the monasca-api more than once to get all\nmetrics when the limit of API is exceeded.\n- Added compatibility to cassandra and influxdb\n\nChange-Id: I15c53c05517a6f8eb0fc29f3adc3667485ee6772\nStory: 2004430\nTask: 28091\n'}, {'number': 3, 'created': '2018-11-28 21:57:42.000000000', 'files': ['monitoring/alarmdefs/forms.py'], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/a845b2dceb26619cc5fb489b08325031484aa99f', 'message': 'Fix the partial missing metrics in Create Alarm Definition flow\n\n- The UI will call the monasca-api more than once to get all\nmetrics when the limit of API is exceeded.\n- Added compatibility to cassandra and influxdb\n\nChange-Id: I15c53c05517a6f8eb0fc29f3adc3667485ee6772\nStory: 2004430\nTask: 28091\n'}]",0,620362,a845b2dceb26619cc5fb489b08325031484aa99f,10,2,3,28062,,,0,"Fix the partial missing metrics in Create Alarm Definition flow

- The UI will call the monasca-api more than once to get all
metrics when the limit of API is exceeded.
- Added compatibility to cassandra and influxdb

Change-Id: I15c53c05517a6f8eb0fc29f3adc3667485ee6772
Story: 2004430
Task: 28091
",git fetch https://review.opendev.org/openstack/monasca-ui refs/changes/62/620362/3 && git format-patch -1 --stdout FETCH_HEAD,['monitoring/alarmdefs/forms.py'],1,9b830c924c5f08a5d8ff820bf1a18a90ca8fb104,show-metrics-stable/queens,"def _get_metrics_call(request, offset): return api.monitor.metrics_list(request, offset=offset) def _get_metrics(request): metrics_aggregation = [] offset = -1 while True: metrics_batch = _get_metrics_call(request, offset) if not metrics_batch: break metrics_aggregation += metrics_batch # next offset defined as the id of last metric. offset = metrics_batch[-1]['id'] return json.dumps(metrics_aggregation)",def _get_metrics(request): metrics = api.monitor.metrics_list(request) return json.dumps(metrics),15,2
openstack%2Fpython-aodhclient~master~I6ddaed05dcabab7b68ebdb99d6c4661aedb89121,openstack/python-aodhclient,master,I6ddaed05dcabab7b68ebdb99d6c4661aedb89121,Add Python 3.6 classifier to setup.cfg,MERGED,2018-11-29 06:59:26.000000000,2018-11-29 08:50:28.000000000,2018-11-29 08:50:28.000000000,"[{'_account_id': 1669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-29 06:59:26.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-aodhclient/commit/80cbf9906d65465eb8e600f8367cd259269b047b', 'message': 'Add Python 3.6 classifier to setup.cfg\n\nChange-Id: I6ddaed05dcabab7b68ebdb99d6c4661aedb89121\n'}]",0,620789,80cbf9906d65465eb8e600f8367cd259269b047b,6,2,1,17499,,,0,"Add Python 3.6 classifier to setup.cfg

Change-Id: I6ddaed05dcabab7b68ebdb99d6c4661aedb89121
",git fetch https://review.opendev.org/openstack/python-aodhclient refs/changes/89/620789/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,80cbf9906d65465eb8e600f8367cd259269b047b,, Programming Language :: Python :: 3.6,,1,0
openstack%2Fkolla-ansible~master~I8cafaa543ad09572bdbb6af1bbbd65f55fe42f8c,openstack/kolla-ansible,master,I8cafaa543ad09572bdbb6af1bbbd65f55fe42f8c,Allow configure java params for ODL karaf,MERGED,2018-09-14 17:30:22.000000000,2018-11-29 08:49:05.000000000,2018-10-08 09:44:19.000000000,"[{'_account_id': 9820}, {'_account_id': 10273}, {'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 23671}, {'_account_id': 23717}, {'_account_id': 28614}]","[{'number': 1, 'created': '2018-09-14 17:30:22.000000000', 'files': ['ansible/roles/opendaylight/defaults/main.yml', 'ansible/roles/opendaylight/tasks/config.yml', 'ansible/roles/opendaylight/templates/setenv.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/292f7c22e097bd939159d28eb531d690b1de2b02', 'message': 'Allow configure java params for ODL karaf\n\nAllow configure memory limits as variables in ODL karaf\njava instance.\nAllows us to define smaller memory settings for CI\nand bigger for prod environments.\n\nChange-Id: I8cafaa543ad09572bdbb6af1bbbd65f55fe42f8c\n'}]",0,602693,292f7c22e097bd939159d28eb531d690b1de2b02,15,9,1,19316,,,0,"Allow configure java params for ODL karaf

Allow configure memory limits as variables in ODL karaf
java instance.
Allows us to define smaller memory settings for CI
and bigger for prod environments.

Change-Id: I8cafaa543ad09572bdbb6af1bbbd65f55fe42f8c
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/93/602693/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/opendaylight/defaults/main.yml', 'ansible/roles/opendaylight/tasks/config.yml', 'ansible/roles/opendaylight/templates/setenv.j2']",3,292f7c22e097bd939159d28eb531d690b1de2b02,java-opts-odl," export JAVA_MAX_PERM_MEM=""{{ opendaylight_java_max_perm_mem }}"" export JAVA_MAX_MEM=""{{ opendaylight_java_max_mem }}"""," export JAVA_MAX_PERM_MEM=""512m"" export JAVA_MAX_MEM=""8g""",17,6
openstack%2Fpython-cloudkittyclient~master~Iaa415cd088d8d3a1661cfbd9f6bb467448bdc329,openstack/python-cloudkittyclient,master,Iaa415cd088d8d3a1661cfbd9f6bb467448bdc329,Rename exc.py to exception.py,ABANDONED,2017-06-30 09:27:28.000000000,2018-11-29 08:48:52.000000000,,"[{'_account_id': 3}, {'_account_id': 23060}]","[{'number': 1, 'created': '2017-06-30 09:27:28.000000000', 'files': ['cloudkittyclient/client.py', 'cloudkittyclient/common/base.py', 'cloudkittyclient/exception.py', 'cloudkittyclient/v1/shell.py', 'cloudkittyclient/common/utils.py', 'cloudkittyclient/shell.py', 'cloudkittyclient/v1/rating/hashmap/shell.py', 'cloudkittyclient/v1/rating/pyscripts/shell.py'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/2a3c0eb40ab5fa192a7ae9755708b53350044acd', 'message': 'Rename exc.py to exception.py\n\nIn most openstack projects, we use a full name exception.py.\nThis patch takes the convention for Cloudkittyclient.\n\nChange-Id: Iaa415cd088d8d3a1661cfbd9f6bb467448bdc329\n'}]",0,479224,2a3c0eb40ab5fa192a7ae9755708b53350044acd,4,2,1,24924,,,0,"Rename exc.py to exception.py

In most openstack projects, we use a full name exception.py.
This patch takes the convention for Cloudkittyclient.

Change-Id: Iaa415cd088d8d3a1661cfbd9f6bb467448bdc329
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/24/479224/1 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkittyclient/client.py', 'cloudkittyclient/common/base.py', 'cloudkittyclient/exception.py', 'cloudkittyclient/v1/shell.py', 'cloudkittyclient/common/utils.py', 'cloudkittyclient/shell.py', 'cloudkittyclient/v1/rating/hashmap/shell.py', 'cloudkittyclient/v1/rating/pyscripts/shell.py']",8,2a3c0eb40ab5fa192a7ae9755708b53350044acd,rename-exc,from cloudkittyclient import exception as exc,from cloudkittyclient import exc,7,7
openstack%2Fpython-cloudkittyclient~master~I5b94118eba45c10c13d77732a0ace64c54e97b05,openstack/python-cloudkittyclient,master,I5b94118eba45c10c13d77732a0ace64c54e97b05,Delete python bytecode before every test run,ABANDONED,2016-01-10 07:52:06.000000000,2018-11-29 08:48:01.000000000,,"[{'_account_id': 3}, {'_account_id': 23060}]","[{'number': 1, 'created': '2016-01-10 07:52:06.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/fc336305462e236a9608537f1796d1825a5cd5e5', 'message': 'Delete python bytecode before every test run\n\nBecause python creates pyc|pyo files and __pycache__\ndirectories during tox runs, certain changes in the tree,\nlike deletes of files, or switching branches, can create\nspurious errors.\n\nThe target bytecodes for deletion are in normal directories,\nbut not in dot started directory.\n\nChange-Id: I5b94118eba45c10c13d77732a0ace64c54e97b05\n'}]",0,265613,fc336305462e236a9608537f1796d1825a5cd5e5,4,2,1,20071,,,0,"Delete python bytecode before every test run

Because python creates pyc|pyo files and __pycache__
directories during tox runs, certain changes in the tree,
like deletes of files, or switching branches, can create
spurious errors.

The target bytecodes for deletion are in normal directories,
but not in dot started directory.

Change-Id: I5b94118eba45c10c13d77732a0ace64c54e97b05
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/13/265613/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,fc336305462e236a9608537f1796d1825a5cd5e5,del-python-bytecode-before-run-test,"commands = /usr/bin/find . -type f -name ""*.pyc"" -delete python setup.py testr --slowest --testr-args='{posargs}'",commands = python setup.py testr --slowest --testr-args='{posargs}',3,1
openstack%2Fpython-cloudkittyclient~master~Idbf554ba30dda1197e032c9f925dbf06983d8897,openstack/python-cloudkittyclient,master,Idbf554ba30dda1197e032c9f925dbf06983d8897,Show error message from body where no error key in body,ABANDONED,2016-11-17 04:21:02.000000000,2018-11-29 08:47:39.000000000,,"[{'_account_id': 3}, {'_account_id': 15917}, {'_account_id': 23060}, {'_account_id': 23654}]","[{'number': 1, 'created': '2016-11-17 04:21:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/b0cd2b57b7d215746dc7169ff0224e5ba174991e', 'message': 'Show error message from body where no error key in body\n\nWhen i use CLI with `cloudkitty hashmap-mapping-create -s service_id\n-c cost -v value -t rate -g group_id -p project_id`, the cloudkitty\nreturn body with `{u\'debuginfo\': None, u\'faultcode\': u\'Client\',\nu\'faultstring\': u""You can\'t specify a value and a service_id.""}`,\nand the client can\'t show the error message of faultstring.\n\nThis patch just fixs this.\n\nChange-Id: Idbf554ba30dda1197e032c9f925dbf06983d8897\n'}, {'number': 2, 'created': '2016-11-22 10:24:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/965ded5fc9982d9f2997b1f0359a743008c08b3b', 'message': 'Show error message from body where no error key in body\n\nWhen i use CLI with `cloudkitty hashmap-mapping-create -s service_id\n-c cost -v value -t rate -g group_id -p project_id`, the cloudkitty\nreturn body with `{u\'debuginfo\': None, u\'faultcode\': u\'Client\',\nu\'faultstring\': u""You can\'t specify a value and a service_id.""}`,\nand the client can\'t show the error message of faultstring.\n\nThis patch just fixs this.\n\nChange-Id: Idbf554ba30dda1197e032c9f925dbf06983d8897\n'}, {'number': 3, 'created': '2017-02-06 08:25:51.000000000', 'files': ['cloudkittyclient/apiclient/exceptions.py'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/5dd0404f7c66460367991e6783314fb4cac99ac6', 'message': 'Show error message from body where no error key in body\n\nWhen i use CLI with `cloudkitty hashmap-mapping-create -s service_id\n-c cost -v value -t rate -g group_id -p project_id`, the cloudkitty\nreturn body with `{u\'debuginfo\': None, u\'faultcode\': u\'Client\',\nu\'faultstring\': u""You can\'t specify a value and a service_id.""}`,\nand the client can\'t show the error message of faultstring.\n\nThis patch just fixes this.\n\nChange-Id: Idbf554ba30dda1197e032c9f925dbf06983d8897\n'}]",2,398738,5dd0404f7c66460367991e6783314fb4cac99ac6,11,4,3,23654,,,0,"Show error message from body where no error key in body

When i use CLI with `cloudkitty hashmap-mapping-create -s service_id
-c cost -v value -t rate -g group_id -p project_id`, the cloudkitty
return body with `{u'debuginfo': None, u'faultcode': u'Client',
u'faultstring': u""You can't specify a value and a service_id.""}`,
and the client can't show the error message of faultstring.

This patch just fixes this.

Change-Id: Idbf554ba30dda1197e032c9f925dbf06983d8897
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/38/398738/3 && git format-patch -1 --stdout FETCH_HEAD,['cloudkittyclient/openstack/common/apiclient/exceptions.py'],1,b0cd2b57b7d215746dc7169ff0224e5ba174991e,show_more_error_message," error_body = body.get(""error"", body) if isinstance(error_body, dict): kwargs[""message""] = (error_body.get(""message"") or error_body.get(""faultstring"")) kwargs[""details""] = (error_body.get(""details"") or"," error = body.get(list(body)[0]) if isinstance(error, dict): kwargs[""message""] = (error.get(""message"") or error.get(""faultstring"")) kwargs[""details""] = (error.get(""details"") or",5,5
openstack%2Fpython-cloudkittyclient~master~I30182d92dfaa5f953ba1d5362f2893f65c06613a,openstack/python-cloudkittyclient,master,I30182d92dfaa5f953ba1d5362f2893f65c06613a,Add region name when doing authentication,ABANDONED,2017-03-03 07:22:45.000000000,2018-11-29 08:47:20.000000000,,"[{'_account_id': 3}, {'_account_id': 21797}, {'_account_id': 23060}, {'_account_id': 23654}]","[{'number': 1, 'created': '2017-03-03 07:22:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/fec1188f8d89295534a2f1571a39b5497941c27d', 'message': 'Add region name when doing authentication\n\nIn multi region situation, the client always choices the default\nregion when no region name apply.\n\nChange-Id: I30182d92dfaa5f953ba1d5362f2893f65c06613a\n'}, {'number': 2, 'created': '2017-03-08 02:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/840a7214a688c0bcac4cfa11c9f771480e2aceb7', 'message': 'Add region name when doing authentication\n\nIn multi region situation, the client always choices the default\nregion when no region name apply.\n\nChange-Id: I30182d92dfaa5f953ba1d5362f2893f65c06613a\n'}, {'number': 3, 'created': '2017-03-08 02:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/ce0515d645ddcd2d04ef47b2b2b21518b1faf50c', 'message': 'Add region name when doing authentication\n\nIn multi region situation, the client always choices the default\nregion when no region name apply.\n\nChange-Id: I30182d92dfaa5f953ba1d5362f2893f65c06613a\n'}, {'number': 4, 'created': '2017-03-08 02:50:16.000000000', 'files': ['cloudkittyclient/client.py', 'cloudkittyclient/tests/test_client.py'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/c4fc74203ef3a289eabafe1da409d63bf4a9584c', 'message': 'Add region name when doing authentication\n\nIn multi region situation, the client always choices the default\nregion when no region name apply.\n\nChange-Id: I30182d92dfaa5f953ba1d5362f2893f65c06613a\n'}]",1,440961,c4fc74203ef3a289eabafe1da409d63bf4a9584c,18,4,4,23654,,,0,"Add region name when doing authentication

In multi region situation, the client always choices the default
region when no region name apply.

Change-Id: I30182d92dfaa5f953ba1d5362f2893f65c06613a
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/61/440961/4 && git format-patch -1 --stdout FETCH_HEAD,['cloudkittyclient/client.py'],1,fec1188f8d89295534a2f1571a39b5497941c27d,add_region_name," 'region_name': self.opts.get('region_name'),",,1,0
openstack%2Fpython-cloudkittyclient~master~I796d2c05a68c437cbae8bda29d5d69617cd4cd86,openstack/python-cloudkittyclient,master,I796d2c05a68c437cbae8bda29d5d69617cd4cd86,Add enable/disable status when list/get services,ABANDONED,2017-03-04 08:14:34.000000000,2018-11-29 08:46:53.000000000,,"[{'_account_id': 3}, {'_account_id': 15917}, {'_account_id': 17845}, {'_account_id': 21797}, {'_account_id': 23060}]","[{'number': 1, 'created': '2017-03-04 08:14:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/4a9957702643e38d799266f05094d37dabfaf4e3', 'message': 'Add enable/disable status when list/get services\n\nChange-Id: I796d2c05a68c437cbae8bda29d5d69617cd4cd86\nDepends-on:26d35c1817ff5766f2845c8ae55f506db7711941\n'}, {'number': 2, 'created': '2017-03-08 06:55:58.000000000', 'files': ['cloudkittyclient/v1/shell_cli.py', 'cloudkittyclient/v1/shell.py', 'cloudkittyclient/tests/v1/test_core.py', 'setup.cfg', 'cloudkittyclient/v1/collector/info.py'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/31d95873e8e42f363078d66baaa442eb937ad1c9', 'message': 'Add enable/disable status when list/get services\n\nChange-Id: I796d2c05a68c437cbae8bda29d5d69617cd4cd86\nDepends-on:I01a2880626751ec989be466fe31aeae5d0ba03da\n'}]",1,441582,31d95873e8e42f363078d66baaa442eb937ad1c9,10,5,2,15917,,,0,"Add enable/disable status when list/get services

Change-Id: I796d2c05a68c437cbae8bda29d5d69617cd4cd86
Depends-on:I01a2880626751ec989be466fe31aeae5d0ba03da
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/82/441582/1 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkittyclient/v1/shell_cli.py', 'cloudkittyclient/v1/shell.py', 'cloudkittyclient/tests/v1/test_core.py', 'setup.cfg', 'cloudkittyclient/v1/collector/info.py']",5,4a9957702643e38d799266f05094d37dabfaf4e3,bp/add_service_status,"# Copyright 2015 Objectif Libre # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from cloudkittyclient.common import base class Collector(base.Resource): key = 'collector' def __repr__(self): return ""<Collector %s>"" % self._info class CollectorInfoManager(base.CrudManager): resource_class = Collector base_url = ""/v1"" key = ""collector"" collection_key = ""collector"" ",,152,14
openstack%2Fpython-cloudkittyclient~master~Ia69ae245f07e46324b74e2be19fa0caff735edf8,openstack/python-cloudkittyclient,master,Ia69ae245f07e46324b74e2be19fa0caff735edf8,Fixed wrap from taking negative values,ABANDONED,2017-07-05 07:13:24.000000000,2018-11-29 08:46:27.000000000,,"[{'_account_id': 3}, {'_account_id': 23060}]","[{'number': 1, 'created': '2017-07-05 07:13:24.000000000', 'files': ['cloudkittyclient/common/cliutils.py'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/6b0cd3925e928c3351d7832c50c44ea6f66f2a85', 'message': 'Fixed wrap from taking negative values\n\nNow for wrap input it will take only postive integers as an input and\nif any negative numbers are give it will give output as ""Wrap argument\nshould be a positive integer"".\n\nChange-Id: Ia69ae245f07e46324b74e2be19fa0caff735edf8\n'}]",0,480380,6b0cd3925e928c3351d7832c50c44ea6f66f2a85,4,2,1,20401,,,0,"Fixed wrap from taking negative values

Now for wrap input it will take only postive integers as an input and
if any negative numbers are give it will give output as ""Wrap argument
should be a positive integer"".

Change-Id: Ia69ae245f07e46324b74e2be19fa0caff735edf8
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/80/480380/1 && git format-patch -1 --stdout FETCH_HEAD,['cloudkittyclient/common/cliutils.py'],1,6b0cd3925e928c3351d7832c50c44ea6f66f2a85,negative_wrap," elif wrap < 0: raise ValueError(_(""Wrap argument should be a positive integer""))",,2,0
openstack%2Fpython-cloudkittyclient~master~I5b7d1d58a8b4ea5ddf5537d684b3c5c0e0e3fdc6,openstack/python-cloudkittyclient,master,I5b7d1d58a8b4ea5ddf5537d684b3c5c0e0e3fdc6,Remove log translations,ABANDONED,2017-03-21 06:31:42.000000000,2018-11-29 08:46:16.000000000,,"[{'_account_id': 3}, {'_account_id': 8358}, {'_account_id': 21797}, {'_account_id': 23060}, {'_account_id': 23823}, {'_account_id': 23848}]","[{'number': 1, 'created': '2017-03-21 06:31:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/26a15493ea7efea3934f88627a51a34d2ee43230', 'message': 'Remove log translations\n\nLog messages are no longer being translated. This removes all use of\nthe _LE, _LI, and _LW translation markers to simplify logging and to\navoid confusion with new contributions.\n\nSee:\nhttp://lists.openstack.org/pipermail/openstack-i18n/2016-November/002574.html\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-March/113365.html\n\nChange-Id: I5b7d1d58a8b4ea5ddf5537d684b3c5c0e0e3fdc6\n'}, {'number': 2, 'created': '2017-07-05 07:35:12.000000000', 'files': ['cloudkittyclient/i18n.py'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/6e42952d5caed5b0377d9b91e9148350b2e9381a', 'message': 'Remove log translations\n\nLog messages are no longer being translated. This removes all use of\nthe _LE, _LI, and _LW translation markers to simplify logging and to\navoid confusion with new contributions.\n\nSee:\nhttps://review.openstack.org/#/c/446762/\nhttp://lists.openstack.org/pipermail/openstack-i18n/2016-November/002574.html\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-March/113365.html\n\nChange-Id: I5b7d1d58a8b4ea5ddf5537d684b3c5c0e0e3fdc6\n'}]",2,447875,6e42952d5caed5b0377d9b91e9148350b2e9381a,11,6,2,23848,,,0,"Remove log translations

Log messages are no longer being translated. This removes all use of
the _LE, _LI, and _LW translation markers to simplify logging and to
avoid confusion with new contributions.

See:
https://review.openstack.org/#/c/446762/
http://lists.openstack.org/pipermail/openstack-i18n/2016-November/002574.html
http://lists.openstack.org/pipermail/openstack-dev/2017-March/113365.html

Change-Id: I5b7d1d58a8b4ea5ddf5537d684b3c5c0e0e3fdc6
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/75/447875/2 && git format-patch -1 --stdout FETCH_HEAD,['cloudkittyclient/i18n.py'],1,26a15493ea7efea3934f88627a51a34d2ee43230,remove_log_translation,,_LI = _translators.log_info _LW = _translators.log_warning _LE = _translators.log_error _LC = _translators.log_critical,0,4
openstack%2Fmonasca-ui~stable%2Fpike~I15c53c05517a6f8eb0fc29f3adc3667485ee6772,openstack/monasca-ui,stable/pike,I15c53c05517a6f8eb0fc29f3adc3667485ee6772,Fix the partial missing metrics in Create Alarm Definition flow,MERGED,2018-11-27 16:49:23.000000000,2018-11-29 08:43:24.000000000,2018-11-29 08:43:24.000000000,"[{'_account_id': 22348}, {'_account_id': 26141}]","[{'number': 1, 'created': '2018-11-27 16:49:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/84c13b0e3947a054a530a1426f628cd89dd89a09', 'message': 'Fix the partial missing metrics in Create Alarm Definition flow\n\n- The UI will call the monasca-api more than once to get all\nmetrics when the limit of API is exceeded.\n\nChange-Id: I15c53c05517a6f8eb0fc29f3adc3667485ee6772\nStory: 2004430\nTask: 28091\n'}, {'number': 2, 'created': '2018-11-28 16:51:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/5fe1764d2b79a03e987dc690a53b30bee8b3e721', 'message': 'Fix the partial missing metrics in Create Alarm Definition flow\n\n- The UI will call the monasca-api more than once to get all\nmetrics when the limit of API is exceeded.\n- Added compatibility to cassandra and influxdb\n\nChange-Id: I15c53c05517a6f8eb0fc29f3adc3667485ee6772\nStory: 2004430\nTask: 28091\n'}, {'number': 3, 'created': '2018-11-28 21:57:52.000000000', 'files': ['monitoring/alarmdefs/forms.py'], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/0ffd912333cd46a4f3811519f38f6b7302035a3c', 'message': 'Fix the partial missing metrics in Create Alarm Definition flow\n\n- The UI will call the monasca-api more than once to get all\nmetrics when the limit of API is exceeded.\n- Added compatibility to cassandra and influxdb\n\nChange-Id: I15c53c05517a6f8eb0fc29f3adc3667485ee6772\nStory: 2004430\nTask: 28091\n'}]",0,620363,0ffd912333cd46a4f3811519f38f6b7302035a3c,10,2,3,28062,,,0,"Fix the partial missing metrics in Create Alarm Definition flow

- The UI will call the monasca-api more than once to get all
metrics when the limit of API is exceeded.
- Added compatibility to cassandra and influxdb

Change-Id: I15c53c05517a6f8eb0fc29f3adc3667485ee6772
Story: 2004430
Task: 28091
",git fetch https://review.opendev.org/openstack/monasca-ui refs/changes/63/620363/1 && git format-patch -1 --stdout FETCH_HEAD,['monitoring/alarmdefs/forms.py'],1,84c13b0e3947a054a530a1426f628cd89dd89a09,show-metrics-stable/pike,"def _get_metrics_call(request, offset): return api.monitor.metrics_list(request, offset=offset) def _get_metrics(request): metrics_aggregation = [] offset = -1 while True: metrics_batch = _get_metrics_call(request, offset) if not metrics_batch: break metrics_aggregation += metrics_batch # next offset defined as the id of last metric. offset = metrics_batch[-1]['id'] return json.dumps(metrics_aggregation)",def _get_metrics(request): metrics = api.monitor.metrics_list(request) return json.dumps(metrics),15,2
openstack%2Fmonasca-ui~stable%2Frocky~I15c53c05517a6f8eb0fc29f3adc3667485ee6772,openstack/monasca-ui,stable/rocky,I15c53c05517a6f8eb0fc29f3adc3667485ee6772,Fix the partial missing metrics in Create Alarm Definition flow,MERGED,2018-11-27 16:48:06.000000000,2018-11-29 08:43:22.000000000,2018-11-29 08:43:22.000000000,"[{'_account_id': 22348}, {'_account_id': 26141}]","[{'number': 1, 'created': '2018-11-27 16:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/a943bcd802c252c0661535ee34004c824446c961', 'message': 'Fix the partial missing metrics in Create Alarm Definition flow\n\n- The UI will call the monasca-api more than once to get all\nmetrics when the limit of API is exceeded.\n\nChange-Id: I15c53c05517a6f8eb0fc29f3adc3667485ee6772\nStory: 2004430\nTask: 28091\n'}, {'number': 2, 'created': '2018-11-28 16:50:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/c5b30232a70839fdea2e38ef84dbcedd8a9994ce', 'message': 'Fix the partial missing metrics in Create Alarm Definition flow\n\n- The UI will call the monasca-api more than once to get all\nmetrics when the limit of API is exceeded.\n- Added compatibility to cassandra and influxdb\n\nChange-Id: I15c53c05517a6f8eb0fc29f3adc3667485ee6772\nStory: 2004430\nTask: 28091\n'}, {'number': 3, 'created': '2018-11-28 21:57:29.000000000', 'files': ['monitoring/alarmdefs/forms.py'], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/d366225c571d4d9d467f25a0bea528b91a58558c', 'message': 'Fix the partial missing metrics in Create Alarm Definition flow\n\n- The UI will call the monasca-api more than once to get all\nmetrics when the limit of API is exceeded.\n- Added compatibility to cassandra and influxdb\n\nChange-Id: I15c53c05517a6f8eb0fc29f3adc3667485ee6772\nStory: 2004430\nTask: 28091\n'}]",0,620361,d366225c571d4d9d467f25a0bea528b91a58558c,10,2,3,28062,,,0,"Fix the partial missing metrics in Create Alarm Definition flow

- The UI will call the monasca-api more than once to get all
metrics when the limit of API is exceeded.
- Added compatibility to cassandra and influxdb

Change-Id: I15c53c05517a6f8eb0fc29f3adc3667485ee6772
Story: 2004430
Task: 28091
",git fetch https://review.opendev.org/openstack/monasca-ui refs/changes/61/620361/1 && git format-patch -1 --stdout FETCH_HEAD,['monitoring/alarmdefs/forms.py'],1,a943bcd802c252c0661535ee34004c824446c961,show-metrics-stable/rocky,"def _get_metrics_call(request, offset): return api.monitor.metrics_list(request, offset=offset) def _get_metrics(request): metrics_aggregation = [] offset = -1 while True: metrics_batch = _get_metrics_call(request, offset) if not metrics_batch: break metrics_aggregation += metrics_batch # next offset defined as the id of last metric. offset = metrics_batch[-1]['id'] return json.dumps(metrics_aggregation)",def _get_metrics(request): metrics = api.monitor.metrics_list(request) return json.dumps(metrics),15,2
openstack%2Fmonasca-ui~stable%2Focata~I15c53c05517a6f8eb0fc29f3adc3667485ee6772,openstack/monasca-ui,stable/ocata,I15c53c05517a6f8eb0fc29f3adc3667485ee6772,Fix the partial missing metrics in Create Alarm Definition flow,MERGED,2018-11-27 16:49:44.000000000,2018-11-29 08:43:20.000000000,2018-11-29 08:43:20.000000000,"[{'_account_id': 22348}, {'_account_id': 26141}]","[{'number': 1, 'created': '2018-11-27 16:49:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/9cc80908c7553e534f842abbcb2ced4e79a516bf', 'message': 'Fix the partial missing metrics in Create Alarm Definition flow\n\n- The UI will call the monasca-api more than once to get all\nmetrics when the limit of API is exceeded.\n\nChange-Id: I15c53c05517a6f8eb0fc29f3adc3667485ee6772\nStory: 2004430\nTask: 28091\n'}, {'number': 2, 'created': '2018-11-28 16:51:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/24e16cc8e8da401004b3e2528adfbf37b745b1ad', 'message': 'Fix the partial missing metrics in Create Alarm Definition flow\n\n- The UI will call the monasca-api more than once to get all\nmetrics when the limit of API is exceeded.\n- Added compatibility to cassandra and influxdb\n\nChange-Id: I15c53c05517a6f8eb0fc29f3adc3667485ee6772\nStory: 2004430\nTask: 28091\n'}, {'number': 3, 'created': '2018-11-28 22:09:53.000000000', 'files': ['monitoring/alarmdefs/forms.py'], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/1e28247a407be52861bcfee13cbef96c73606dd8', 'message': 'Fix the partial missing metrics in Create Alarm Definition flow\n\n- The UI will call the monasca-api more than once to get all\nmetrics when the limit of API is exceeded.\n- Added compatibility to cassandra and influxdb\n\nChange-Id: I15c53c05517a6f8eb0fc29f3adc3667485ee6772\nStory: 2004430\nTask: 28091\n'}]",0,620364,1e28247a407be52861bcfee13cbef96c73606dd8,10,2,3,28062,,,0,"Fix the partial missing metrics in Create Alarm Definition flow

- The UI will call the monasca-api more than once to get all
metrics when the limit of API is exceeded.
- Added compatibility to cassandra and influxdb

Change-Id: I15c53c05517a6f8eb0fc29f3adc3667485ee6772
Story: 2004430
Task: 28091
",git fetch https://review.opendev.org/openstack/monasca-ui refs/changes/64/620364/3 && git format-patch -1 --stdout FETCH_HEAD,['monitoring/alarmdefs/forms.py'],1,9cc80908c7553e534f842abbcb2ced4e79a516bf,show-metrics-stable/ocata,"def _get_metrics_call(request, offset): return api.monitor.metrics_list(request, offset=offset) def _get_metrics(request): metrics_aggregation = [] offset = -1 while True: metrics_batch = _get_metrics_call(request, offset) if not metrics_batch: break metrics_aggregation += metrics_batch # next offset defined as the id of last metric. offset = metrics_batch[-1]['id'] return json.dumps(metrics_aggregation)",def _get_metrics(request): metrics = api.monitor.metrics_list(request) return json.dumps(metrics),15,2
openstack%2Fmonasca-ui~master~I15c53c05517a6f8eb0fc29f3adc3667485ee6772,openstack/monasca-ui,master,I15c53c05517a6f8eb0fc29f3adc3667485ee6772,Fix the partial missing metrics in Create Alarm Definition flow,MERGED,2018-11-27 14:32:01.000000000,2018-11-29 08:43:18.000000000,2018-11-29 08:43:18.000000000,"[{'_account_id': 16222}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 26141}]","[{'number': 1, 'created': '2018-11-27 14:32:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/b7335a322d4a23b339c7e8597eedbd7aed567bac', 'message': 'Fix the partial missing metrics in Create Alarm Definition flow\n\n- The UI will call the monasca-api more than once to get all\nmetrics when the limit of API is exceeded.\n\nChange-Id: I15c53c05517a6f8eb0fc29f3adc3667485ee6772\nStory: 2004430\nTask: 28091\n'}, {'number': 2, 'created': '2018-11-28 16:47:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/e811d94d0d6b58bfff43133a54a421d94693e133', 'message': 'Fix the partial missing metrics in Create Alarm Definition flow\n\n- The UI will call the monasca-api more than once to get all\nmetrics when the limit of API is exceeded.\n- Added compatibility to cassandra and influxdb\n\nChange-Id: I15c53c05517a6f8eb0fc29f3adc3667485ee6772\nStory: 2004430\nTask: 28091\n'}, {'number': 3, 'created': '2018-11-28 21:56:34.000000000', 'files': ['monitoring/alarmdefs/forms.py'], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/f98f325fc2afd1d0b8b5b6a8ea3a063998078ffa', 'message': 'Fix the partial missing metrics in Create Alarm Definition flow\n\n- The UI will call the monasca-api more than once to get all\nmetrics when the limit of API is exceeded.\n- Added compatibility to cassandra and influxdb\n\nChange-Id: I15c53c05517a6f8eb0fc29f3adc3667485ee6772\nStory: 2004430\nTask: 28091\n'}]",0,620330,f98f325fc2afd1d0b8b5b6a8ea3a063998078ffa,14,4,3,28062,,,0,"Fix the partial missing metrics in Create Alarm Definition flow

- The UI will call the monasca-api more than once to get all
metrics when the limit of API is exceeded.
- Added compatibility to cassandra and influxdb

Change-Id: I15c53c05517a6f8eb0fc29f3adc3667485ee6772
Story: 2004430
Task: 28091
",git fetch https://review.opendev.org/openstack/monasca-ui refs/changes/30/620330/3 && git format-patch -1 --stdout FETCH_HEAD,['monitoring/alarmdefs/forms.py'],1,b7335a322d4a23b339c7e8597eedbd7aed567bac,show-metrics,"def _get_metrics_call(request, offset): return api.monitor.metrics_list(request, offset=offset) def _get_metrics(request): metrics_aggregation = [] offset = -1 while True: metrics_batch = _get_metrics_call(request, offset) if not metrics_batch: break metrics_aggregation += metrics_batch # next offset defined as the id of last metric. offset = metrics_batch[-1]['id'] return json.dumps(metrics_aggregation)",def _get_metrics(request): metrics = api.monitor.metrics_list(request) return json.dumps(metrics),15,2
openstack%2Ftripleo-docs~master~I2bf3a82383e35886f9e4684a59e636a1c2a2d014,openstack/tripleo-docs,master,I2bf3a82383e35886f9e4684a59e636a1c2a2d014,[Documentation] Fix link bugs.,MERGED,2018-11-28 14:50:19.000000000,2018-11-29 08:37:50.000000000,2018-11-29 08:37:50.000000000,"[{'_account_id': 3153}, {'_account_id': 8042}, {'_account_id': 8449}, {'_account_id': 10239}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 28522}]","[{'number': 1, 'created': '2018-11-28 14:50:19.000000000', 'files': ['doc/source/contributor/contributions.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/7ba13b431066afb9ff99e0120e53138199cbf203', 'message': '[Documentation] Fix link bugs.\n\nFix the link to learn how report a new bugs. The content has been moved.\n\nChange-Id: I2bf3a82383e35886f9e4684a59e636a1c2a2d014\nRelated-Bug: #1804642\n'}]",0,620615,7ba13b431066afb9ff99e0120e53138199cbf203,8,8,1,29222,,,0,"[Documentation] Fix link bugs.

Fix the link to learn how report a new bugs. The content has been moved.

Change-Id: I2bf3a82383e35886f9e4684a59e636a1c2a2d014
Related-Bug: #1804642
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/15/620615/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/contributions.rst'],1,7ba13b431066afb9ff99e0120e53138199cbf203,bug/1804642, <https://docs.openstack.org/project-team-guide/bugs.html>`_., <https://wiki.openstack.org/wiki/Bugs>`_.,1,1
openstack%2Fhorizon~master~Idfed41249cd6e74ff0ad209798dfc5f921552ed9,openstack/horizon,master,Idfed41249cd6e74ff0ad209798dfc5f921552ed9,"Updating ""Create an Encrypted Volume Type"" Picture",MERGED,2018-11-27 08:32:07.000000000,2018-11-29 08:37:42.000000000,2018-11-29 08:37:42.000000000,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2018-11-27 08:32:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d61da4729a33324e3f73ce953f5415a4791c46af', 'message': 'Fix: Updating ""Create an Encrypted Volume Type"" Picture\n\nWith reference to I038918e4beef2ea4d346127713855e0421e8b721.\nThe description for ""Key Size"" field is changed.\nSo picture for the same also need to be updated.\nThis patch updates the picture in the doc.\n\nChange-Id: Idfed41249cd6e74ff0ad209798dfc5f921552ed9\nRelated-Bug: #1780457\n'}, {'number': 2, 'created': '2018-11-29 04:34:44.000000000', 'files': ['doc/source/admin/figures/create_volume_type_encryption.png'], 'web_link': 'https://opendev.org/openstack/horizon/commit/a0b72d54c002b538c69aee8685380f48a0759313', 'message': 'Updating ""Create an Encrypted Volume Type"" Picture\n\nWith reference to I038918e4beef2ea4d346127713855e0421e8b721.\nThe description for ""Key Size"" field is changed.\nSo picture for the same also need to be updated.\nThis patch updates the picture in the doc.\n\nChange-Id: Idfed41249cd6e74ff0ad209798dfc5f921552ed9\nRelated-Bug: #1780457\n'}]",2,620257,a0b72d54c002b538c69aee8685380f48a0759313,10,3,2,29313,,,0,"Updating ""Create an Encrypted Volume Type"" Picture

With reference to I038918e4beef2ea4d346127713855e0421e8b721.
The description for ""Key Size"" field is changed.
So picture for the same also need to be updated.
This patch updates the picture in the doc.

Change-Id: Idfed41249cd6e74ff0ad209798dfc5f921552ed9
Related-Bug: #1780457
",git fetch https://review.opendev.org/openstack/horizon refs/changes/57/620257/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/figures/create_volume_type_encryption.png'],1,d61da4729a33324e3f73ce953f5415a4791c46af,bug/1780457,,,0,0
openstack%2Fneutron~master~Ib27dc223fcca56030ebb528625cc927fc60553e1,openstack/neutron,master,Ib27dc223fcca56030ebb528625cc927fc60553e1,Get centralized FIP only on router's snat host,MERGED,2018-11-19 13:33:59.000000000,2018-11-29 08:32:24.000000000,2018-11-27 17:56:49.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 7016}, {'_account_id': 8871}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11159}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28373}]","[{'number': 1, 'created': '2018-11-19 13:33:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0a870d4deff0c01a0928615ddcee2b9677ebb524', 'message': 'Get centralized FIP only on router\'s snat host\n\nIt may happen that L3 agent works in dvr_snat mode but\nit handles some router as ""normal"" dvr router because\nsnat for this router is handled on other node.\nIn such case we shouldn\'t try to get floating IPs cidrs fro\nsnat namespace as it doesn\'t exists on host.\n\nChange-Id: Ib27dc223fcca56030ebb528625cc927fc60553e1\nCloses-Bug: #1717302\n'}, {'number': 2, 'created': '2018-11-19 19:05:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a39742e8bf0ecfd1e8ae9085bfabf69da5be6d1b', 'message': 'Get centralized FIP only on router\'s snat host\n\nIt may happen that L3 agent works in dvr_snat mode but\nit handles some router as ""normal"" dvr router because\nsnat for this router is handled on other node.\nIn such case we shouldn\'t try to get floating IPs cidrs fro\nsnat namespace as it doesn\'t exists on host.\n\nChange-Id: Ib27dc223fcca56030ebb528625cc927fc60553e1\nRelated-Bug: #1717302\n'}, {'number': 3, 'created': '2018-11-21 13:57:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e65ff588e2b0496c32cee62f4ba6a79d91d23cc5', 'message': 'Get centralized FIP only on router\'s snat host\n\nIt may happen that L3 agent works in dvr_snat mode but\nit handles some router as ""normal"" dvr router because\nsnat for this router is handled on other node.\nIn such case we shouldn\'t try to get floating IPs cidrs\nfrom snat namespace as it doesn\'t exists on host.\n\nChange-Id: Ib27dc223fcca56030ebb528625cc927fc60553e1\nRelated-Bug: #1717302\n'}, {'number': 4, 'created': '2018-11-25 09:23:03.000000000', 'files': ['neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/dvr_edge_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7d0e1ccd34a473c511c9c2357421825539965e41', 'message': 'Get centralized FIP only on router\'s snat host\n\nIt may happen that L3 agent works in dvr_snat mode but\nit handles some router as ""normal"" dvr router because\nsnat for this router is handled on other node.\nIn such case we shouldn\'t try to get floating IPs cidrs\nfrom snat namespace as it doesn\'t exists on host.\n\nChange-Id: Ib27dc223fcca56030ebb528625cc927fc60553e1\nRelated-Bug: #1717302\n'}]",13,618750,7d0e1ccd34a473c511c9c2357421825539965e41,56,14,4,11975,,,0,"Get centralized FIP only on router's snat host

It may happen that L3 agent works in dvr_snat mode but
it handles some router as ""normal"" dvr router because
snat for this router is handled on other node.
In such case we shouldn't try to get floating IPs cidrs
from snat namespace as it doesn't exists on host.

Change-Id: Ib27dc223fcca56030ebb528625cc927fc60553e1
Related-Bug: #1717302
",git fetch https://review.opendev.org/openstack/neutron refs/changes/50/618750/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/l3/dvr_edge_router.py'],1,0a870d4deff0c01a0928615ddcee2b9677ebb524,bug/1717302, # Don't look for centralized FIP cidrs if gw_port don't exists or # this is not snat host if not ex_gw_port or not self._is_this_snat_host(): centralized_cidrs = self.get_centralized_fip_cidr_set(), if not ex_gw_port: centralized_cidrs = set() # Call get_centralized_fip_cidr_set only when snat_namespace exists if self.get_ex_gw_port() and self.snat_namespace.exists(): centralized_cidrs = self.get_centralized_fip_cidr_set(),4,5
openstack%2Fneutron-dynamic-routing~master~I6d92b3718810589c35974571278574d0906fce36,openstack/neutron-dynamic-routing,master,I6d92b3718810589c35974571278574d0906fce36,Fix _get_config_generator_config_definition() typo,MERGED,2018-11-01 03:16:41.000000000,2018-11-29 08:21:40.000000000,2018-11-29 08:21:39.000000000,"[{'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 4694}, {'_account_id': 6854}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 27153}]","[{'number': 1, 'created': '2018-11-01 03:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/1336756e5a7c79b056c206b89d44a9163567c453', 'message': 'Fix _get_config_generator_config_definition() typo\n\nArgument is config_file, but conf is used in method, just\nchange definition.  Necessary if using python3.\n\nChange-Id: I6d92b3718810589c35974571278574d0906fce36\n'}, {'number': 2, 'created': '2018-11-06 04:04:42.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/f358d7922f8a896b4adea49d7ac38b8d063eb201', 'message': 'Fix _get_config_generator_config_definition() typo\n\nArgument is config_file, but conf is used in method, just\nchange definition.  Necessary if using python3.\n\nChange-Id: I6d92b3718810589c35974571278574d0906fce36\n'}]",0,614686,f358d7922f8a896b4adea49d7ac38b8d063eb201,12,7,2,1131,,,0,"Fix _get_config_generator_config_definition() typo

Argument is config_file, but conf is used in method, just
change definition.  Necessary if using python3.

Change-Id: I6d92b3718810589c35974571278574d0906fce36
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/86/614686/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,1336756e5a7c79b056c206b89d44a9163567c453,python3-first,def _get_config_generator_config_definition(conf):,def _get_config_generator_config_definition(config_file):,1,1
openstack%2Fheat~master~Idb19dcd7e869085df7c740270d2fff8e4899fe5d,openstack/heat,master,Idb19dcd7e869085df7c740270d2fff8e4899fe5d,"Revert ""Ensure Functions can be created without stack definition""",ABANDONED,2018-11-28 08:46:59.000000000,2018-11-29 08:17:25.000000000,,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-28 08:46:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/506e63f1d0461e93e72f89de3f0e7c1f980afa4f', 'message': 'Revert ""Ensure Functions can be created without stack definition""\n\nThis reverts commit bb3ddcf5738a52867debb9c870548f5a67530e16.\n\nChange-Id: Idb19dcd7e869085df7c740270d2fff8e4899fe5d\nCloses-Bug: #1805589\n'}, {'number': 2, 'created': '2018-11-28 12:28:46.000000000', 'files': ['heat/engine/hot/functions.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/de06e57ce1bba86d50a3eff1982dc248a29a8dbb', 'message': 'Revert ""Ensure Functions can be created without stack definition""\n\nThis reverts commit bb3ddcf5738a52867debb9c870548f5a67530e16.\n\nChange-Id: Idb19dcd7e869085df7c740270d2fff8e4899fe5d\nCloses-Bug: #1805589\n'}]",0,620532,de06e57ce1bba86d50a3eff1982dc248a29a8dbb,7,2,2,7385,,,0,"Revert ""Ensure Functions can be created without stack definition""

This reverts commit bb3ddcf5738a52867debb9c870548f5a67530e16.

Change-Id: Idb19dcd7e869085df7c740270d2fff8e4899fe5d
Closes-Bug: #1805589
",git fetch https://review.opendev.org/openstack/heat refs/changes/32/620532/2 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/hot/functions.py'],1,506e63f1d0461e93e72f89de3f0e7c1f980afa4f,, self.parameters = self.stack.parameters self.files = self.stack.t.files," if self.stack is not None: self.parameters = self.stack.parameters else: self.parameters = None assert self.parameters is not None, ""No stack definition in Function"" self.files = self.stack.t.files if self.stack is not None else None assert self.files is not None, ""No stack definition in Function"" ",2,9
openstack%2Fkolla~master~I188eaad233c1dbdbfd1c115e02b0e1c66e307c20,openstack/kolla,master,I188eaad233c1dbdbfd1c115e02b0e1c66e307c20,ceph-base/dind: switch to btrfs-progs package,MERGED,2018-10-23 10:31:46.000000000,2018-11-29 08:01:15.000000000,2018-11-29 08:01:15.000000000,"[{'_account_id': 13039}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 24072}]","[{'number': 1, 'created': '2018-10-23 10:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5d5211333c116ff9f95bc83ec1acbec756aee87a', 'message': ""ceph-base: btrfs-tools is transitional package, use btrfs-progs instead\n\nStarting with 4.4.1 release btrfs-tools were renamed to btrfs-progs so\n*-tools package became transitional one.\n\nNext stable Debian release will not have 'btrfs-tools' package at all.\n\nChange-Id: I188eaad233c1dbdbfd1c115e02b0e1c66e307c20\n""}, {'number': 2, 'created': '2018-10-23 10:32:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f6eb7db41b299c8b515a96f5f21b379a2d3d7c5e', 'message': ""ceph-base: switch to btrfs-progs package\n\nStarting with 4.4.1 release btrfs-tools were renamed to btrfs-progs so\n*-tools package became transitional one.\n\nNext stable Debian release will not have 'btrfs-tools' package at all.\n\nChange-Id: I188eaad233c1dbdbfd1c115e02b0e1c66e307c20\n""}, {'number': 3, 'created': '2018-10-23 10:50:19.000000000', 'files': ['docker/ceph/ceph-base/Dockerfile.j2', 'docker/dind/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/96b6e4e1dbeb76769adae7c0bd855ffce49b6cf1', 'message': ""ceph-base/dind: switch to btrfs-progs package\n\nStarting with 4.4.1 release btrfs-tools were renamed to btrfs-progs so\n*-tools package became transitional one.\n\nNext stable Debian release will not have 'btrfs-tools' package at all.\n\nChange-Id: I188eaad233c1dbdbfd1c115e02b0e1c66e307c20\n""}]",0,612659,96b6e4e1dbeb76769adae7c0bd855ffce49b6cf1,21,5,3,24072,,,0,"ceph-base/dind: switch to btrfs-progs package

Starting with 4.4.1 release btrfs-tools were renamed to btrfs-progs so
*-tools package became transitional one.

Next stable Debian release will not have 'btrfs-tools' package at all.

Change-Id: I188eaad233c1dbdbfd1c115e02b0e1c66e307c20
",git fetch https://review.opendev.org/openstack/kolla refs/changes/59/612659/3 && git format-patch -1 --stdout FETCH_HEAD,['docker/ceph/ceph-base/Dockerfile.j2'],1,5d5211333c116ff9f95bc83ec1acbec756aee87a,612659," 'btrfs-progs',"," 'btrfs-tools',",1,1
openstack%2Fneutron-specs~master~I2e586bb6d51d32c0ac2a28b2429512cea036f363,openstack/neutron-specs,master,I2e586bb6d51d32c0ac2a28b2429512cea036f363,Network Segment Range Management,MERGED,2018-09-05 09:34:39.000000000,2018-11-29 07:56:56.000000000,2018-11-28 20:57:51.000000000,"[{'_account_id': 333}, {'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 7249}, {'_account_id': 8976}, {'_account_id': 11975}, {'_account_id': 12860}, {'_account_id': 13995}, {'_account_id': 15070}, {'_account_id': 15471}, {'_account_id': 17120}, {'_account_id': 22348}, {'_account_id': 27654}, {'_account_id': 28373}, {'_account_id': 28439}, {'_account_id': 28550}]","[{'number': 1, 'created': '2018-09-05 09:34:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/776695686e29c1930c208b5baf6356112366c0f0', 'message': 'Provider Network Management\n\nProvider networks are currently administered directly within ML2\nconfiguration files [1] and therefore must be managed as part of the\nhost deployment and management.\n\nThis spec proposes an extension to make provider networks a first-class\ncitizen of Neutron by introducing an extension which exposes provider\nnetwork management via the Neutron API.\n\n[1] /etc/neutron/plugins/ml2/ml2_conf.ini\n\nCo-Authored-By: Matt Peters <matt.peters@windriver.com>\n\nImplements: blueprint provider-network-management\nChange-Id: I2e586bb6d51d32c0ac2a28b2429512cea036f363\n'}, {'number': 2, 'created': '2018-10-15 01:25:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/c5806c22e88d3a5a7d0ce832061488220b822f32', 'message': 'Network Segment Range Management\n\nCurrently, network segment ranges are configured as an entry in ML2\nconfig file [1]_ that is statically defined for tenant network\nallocation and therefore must be managed as part of the host deployment\nand management. When a normal tenant user creates a network, Neutron\nassigns the next free segmentation ID (VLAN ID, VNI etc.) from the\nconfigured segment ranges; only anadministrator can assign a specific\nsegment ID via the provider extension.\n\nThis spec introduces an extension which exposes the segment range\nmanagement to be administered via the neutron API. In addition, it\nintroduces the ability for the administrator to control the segment\nranges globally or on a per-tenant basis.\n\n[1] /etc/neutron/plugins/ml2/ml2_conf.ini\n\nCo-Authored-By: Matt Peters <matt.peters@windriver.com>\n\nImplements: blueprint network-segment-range-management\nChange-Id: I2e586bb6d51d32c0ac2a28b2429512cea036f363\n'}, {'number': 3, 'created': '2018-10-19 04:11:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/cfca557181505b0820682dccc90ac4081c24ba35', 'message': 'Network Segment Range Management\n\nCurrently, network segment ranges are configured as an entry in ML2\nconfig file [1]_ that is statically defined for tenant network\nallocation and therefore must be managed as part of the host deployment\nand management. When a normal tenant user creates a network, Neutron\nassigns the next free segmentation ID (VLAN ID, VNI etc.) from the\nconfigured segment ranges; only anadministrator can assign a specific\nsegment ID via the provider extension.\n\nThis spec introduces an extension which exposes the segment range\nmanagement to be administered via the neutron API. In addition, it\nintroduces the ability for the administrator to control the segment\nranges globally or on a per-tenant basis.\n\n[1] /etc/neutron/plugins/ml2/ml2_conf.ini\n\nCo-Authored-By: Matt Peters <matt.peters@windriver.com>\n\nImplements: blueprint network-segment-range-management\nChange-Id: I2e586bb6d51d32c0ac2a28b2429512cea036f363\n'}, {'number': 4, 'created': '2018-10-20 01:16:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/83c84f1816f0d9a2bc851fbbe56b8ceab9bd9c42', 'message': 'Network Segment Range Management\n\nCurrently, network segment ranges are configured as an entry in ML2\nconfig file [1]_ that is statically defined for tenant network\nallocation and therefore must be managed as part of the host deployment\nand management. When a normal tenant user creates a network, Neutron\nassigns the next free segmentation ID (VLAN ID, VNI etc.) from the\nconfigured segment ranges; only anadministrator can assign a specific\nsegment ID via the provider extension.\n\nThis spec introduces an extension which exposes the segment range\nmanagement to be administered via the neutron API. In addition, it\nintroduces the ability for the administrator to control the segment\nranges globally or on a per-tenant basis.\n\n[1] /etc/neutron/plugins/ml2/ml2_conf.ini\n\nCo-Authored-By: Matt Peters <matt.peters@windriver.com>\n\nImplements: blueprint network-segment-range-management\nChange-Id: I2e586bb6d51d32c0ac2a28b2429512cea036f363\n'}, {'number': 5, 'created': '2018-10-23 13:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/f40134eb84c6585c4da4b4d81bcd5a40bfc442a2', 'message': 'Network Segment Range Management\n\nCurrently, network segment ranges are configured as an entry in ML2\nconfig file [1]_ that is statically defined for tenant network\nallocation and therefore must be managed as part of the host deployment\nand management. When a normal tenant user creates a network, Neutron\nassigns the next free segmentation ID (VLAN ID, VNI etc.) from the\nconfigured segment ranges; only an administrator can assign a specific\nsegment ID via the provider extension.\n\nThis spec introduces an extension which exposes the segment range\nmanagement to be administered via the Neutron API. In addition, it\nintroduces the ability for the administrator to control the segment\nranges globally or on a per-tenant basis.\n\n[1] /etc/neutron/plugins/ml2/ml2_conf.ini\n\nCo-Authored-By: Matt Peters <matt.peters@windriver.com>\n\nImplements: blueprint network-segment-range-management\nChange-Id: I2e586bb6d51d32c0ac2a28b2429512cea036f363\n'}, {'number': 6, 'created': '2018-11-27 17:14:35.000000000', 'files': ['specs/stein/network-segment-range-management.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/4c8156c804e8eb648d738122afbf048085187ade', 'message': 'Network Segment Range Management\n\nCurrently, network segment ranges are configured as an entry in ML2\nconfig file [1]_ that is statically defined for tenant network\nallocation and therefore must be managed as part of the host deployment\nand management. When a normal tenant user creates a network, Neutron\nassigns the next free segmentation ID (VLAN ID, VNI etc.) from the\nconfigured segment ranges; only an administrator can assign a specific\nsegment ID via the provider extension.\n\nThis spec introduces an extension which exposes the segment range\nmanagement to be administered via the Neutron API. In addition, it\nintroduces the ability for the administrator to control the segment\nranges globally or on a per-tenant basis.\n\n[1] /etc/neutron/plugins/ml2/ml2_conf.ini\n\nCo-Authored-By: Matt Peters <matt.peters@windriver.com>\n\nImplements: blueprint network-segment-range-management\nChange-Id: I2e586bb6d51d32c0ac2a28b2429512cea036f363\n'}]",165,599980,4c8156c804e8eb648d738122afbf048085187ade,40,17,6,28373,,,0,"Network Segment Range Management

Currently, network segment ranges are configured as an entry in ML2
config file [1]_ that is statically defined for tenant network
allocation and therefore must be managed as part of the host deployment
and management. When a normal tenant user creates a network, Neutron
assigns the next free segmentation ID (VLAN ID, VNI etc.) from the
configured segment ranges; only an administrator can assign a specific
segment ID via the provider extension.

This spec introduces an extension which exposes the segment range
management to be administered via the Neutron API. In addition, it
introduces the ability for the administrator to control the segment
ranges globally or on a per-tenant basis.

[1] /etc/neutron/plugins/ml2/ml2_conf.ini

Co-Authored-By: Matt Peters <matt.peters@windriver.com>

Implements: blueprint network-segment-range-management
Change-Id: I2e586bb6d51d32c0ac2a28b2429512cea036f363
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/80/599980/6 && git format-patch -1 --stdout FETCH_HEAD,['specs/stein/provider-network-management.rst'],1,776695686e29c1930c208b5baf6356112366c0f0,bp/network-segment-range-management,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =========================== Provider Network Management =========================== Launchpad blueprint: https://blueprints.launchpad.net/neutron/+spec/provider-network-management Provider networks are currently administered directly within ML2 configuration files [1] and therefore must be managed as part of the host deployment and management. This spec proposes an extension to make provider networks a first-class citizen of Neutron by introducing an extension which exposes provider network management via the Neutron API. Problem Description =================== The current neutron implementation sets entries in a config file to define settings such as segment information, MTU etc. for provider networks. It does not support another dynamic way (e.g. at the API level) once after initialization. Otherwise, neutron services have to be restarted in order to make any change to the configurations valid. Cloud network infrastructure deployments can be complex and non-homogeneous, therefore having the ability to semantically validate and audit the configuration is imperative for a successful deployment. Managed provider networks enable an added level of flexibility and control over the management of the network infrastructure. The managed segments of the provider networks facilitates per-tenant assignments (including shared). This enables a cloud administrator to directly control the tenant segment mapping, and ultimately the underlying layer2/layer3 path of the tenant traffic without exposing specific provider network information to the tenant user. The allocations for tenant networks will be allocated from the assigned projects of the provider network segments. Finally, providing this level of flexibility at the API level enables full network orchestration of the cloud infrastructure and tenant networks using standard REST API rather than needing to interact with the host configuration directly. Several example use cases are demonstrated below. UseCase I --------- Cloud administrators would like to display the provider network information and topology. A possible workflow is presented as follows: 1. Retrieve all the names of the managed provider networks available: openstack providernet list 2. View detailed information for a given managed provider network: openstack providernet show <providernet> 3. Obtain detailed information about provider networks being managed by the managed providernet and the segment ranges information: a. openstack net list on providernet <providernet> b. openstack providernet range show <providernet-range> UseCase II ---------- Cloud administrators find out that the VLAN IDs pre-deployed in the segment range are about to be used up so that an expansion is a must. A possible workflow is presented as follows: 1. Create a managed provider network: openstack providernet create <providernet> --type=vlan 2. Create segmentation ranges on provider network ""providernet"" for a given project: openstack providernet range create <providernet> --name <providernet-range> --project <project_uuid> --range 100-200 3. Update/Expand the VLAN segment range from ""100-200"" to ""100-300"": openstack providernet range update --name <providernet-range> --range 100-300 UseCase III ----------- Provider networks offer layer-2 connectivity to instances with optional support for DHCP and metadata services. These networks connect, or map, to existing layer-2 networks in the data center, typically using VLAN (802.1q) tagging to identify and separate them [2]. However the existing physical network infrastructures' configurations (segment, MTU etc.) may have to be changed due to some reasons, from time to time. When in this case, it is necessary to update the VLAN ID range, MTU etc. to keep aligned with the connection or mapping. The workflow is similar to UseCase II, while we need to create the managed provider network with an input MTU if we prefer a dynamic management for MTU at the same time. Proposed Change =============== Data Model Impact ----------------- The following new tables are added as part of the provider network management feature:: CREATE TABLE providernets ( id CHAR(36) NOT NULL PRI KEY, name VARCHAR(255) NOT NULL UNIQUE KEY, description VARCHAR(255), mtu INT NOT NULL, status VARCHAR(16), vlan_transparent BOOL NOT NULL, type ENUM(constants.PROVIDERNET_TYPES) NOT NULL ); CREATE TABLE providernet_ranges ( id CHAR(36) NOT NULL PRI KEY, tenant_id VARCHAR(255), name VARCHAR(255), description VARCHAR(255), shared BOOL NOT NULL, minimum INT, maximum INT, providernet_id CHAR(36), CONSTRAINT 'providernet_id_constraint' FOREIGN KEY ('providernet_id') REFERENCES 'providernets' ('id') ); CREATE TABLE providernet_range_vxlans ( id CHAR(36) NOT NULL PRI KEY, group VARCHAR(255) NOT NULL, port INT NOT NULL, ttl INT NOT NULL, providernet_range_id CHAR(36) NOT NULL, CONSTRAINT 'providernet_range_id_constraint' FOREIGN KEY ('providernet_range_id') REFERENCES 'providernet_ranges' ('id') ); Resource Extension ------------------ The following new resources are being introduced and their attributes maps would be like: .. code-block:: python PROVIDERNET_TYPE_LIST = ['flat', 'vlan', 'vxlan', 'gre'] RESOURCE_ATTRIBUTE_MAPS = { 'providernets': { 'id': {'allow_post': False, 'allow_put': False, 'is_visible': True}, 'name': {'allow_post': True, 'allow_put': False, 'is_visible': True, 'validate': {'type:not_empty_string': db_const.NAME_FIELD_SIZE}}, 'type': {'allow_post': True, 'allow_put': False, 'validate': {'type:values': PROVIDERNET_TYPE_LIST}, 'is_visible': True}, 'description': {'allow_post': True, 'allow_put': True, 'is_visible': True, 'default': None}, 'status': {'allow_post': False, 'allow_put': False, 'is_visible': True}, 'mtu': {'allow_post': True, 'allow_put': True, 'convert_to': converters.convert_to_int, 'validate': {'type:range': n_const.VALID_MTU_RANGE}, 'default': n_const.DEFAULT_MTU, 'is_visible': True}, 'vlan_transparent': {'allow_post': True, 'allow_put': True, 'convert_to': converters.convert_to_boolean, 'default': False, 'is_visible': True}, 'tenant_id': {'allow_post': True, 'allow_put': False, 'is_visible': False, 'default': None}, 'ranges': {'allow_post': False, 'allow_put': False, 'is_visible': True} }, 'providernet_ranges': { 'id': {'allow_post': False, 'allow_put': False, 'is_visible': True}, 'name': {'allow_post': True, 'allow_put': False, 'is_visible': True, 'default': None}, 'description': {'allow_post': True, 'allow_put': True, 'is_visible': True, 'default': None}, 'shared': {'allow_post': True, 'allow_put': False, 'convert_to': converters.convert_to_boolean, 'is_visible': True, 'default': True}, 'minimum': {'allow_post': True, 'allow_put': True, 'convert_to': converters.convert_to_int, 'is_visible': True}, 'maximum': {'allow_post': True, 'allow_put': True, 'convert_to': converters.convert_to_int, 'is_visible': True}, 'providernet_id': {'allow_post': True, 'allow_put': False, 'is_visible': True}, 'providernet_name': {'allow_post': False, 'allow_put': False, 'is_visible': True}, 'providernet_type': {'allow_post': False, 'allow_put': False, 'is_visible': True}, 'tenant_id': {'allow_post': True, 'allow_put': False, 'is_visible': True, 'default': None}, 'group': {'allow_post': True, 'allow_put': False, 'is_visible': True, 'validate': {'type:ip_mcast_address': None}, 'default': constants.ATTR_NOT_SPECIFIED}, 'port': {'allow_post': True, 'allow_put': False, 'convert_to': converters.convert_to_int, 'validate': {'type:values': n_const.VALID_VXLAN_UDP_PORTS}, 'default': n_const.DEFAULT_VXLAN_UDP_PORT, 'is_visible': True}, 'ttl': {'allow_post': True, 'allow_put': False, 'convert_to': converters.convert_to_int, 'validate': {'type:range': n_const.VALID_TTL_RANGE}, 'is_visible': True, 'default': constants.ATTR_NOT_SPECIFIED}, 'vxlan': {'allow_post': False, 'allow_put': False, 'is_visible': True} }, 'providernet_types': { 'type': {'allow_post': False, 'allow_put': False, 'validate': {'type:values': PROVIDERNET_TYPE_LIST}, 'is_visible': True}, 'description': {'allow_post': False, 'allow_put': False, 'is_visible': True} } } In addition neutron subnets will be extended with some fields to expose the network_type, physical_network and segmentation_id assigned to the subnets resource. .. code-block:: python EXTENDED_ATTRIBUTES_2_0 = { 'subnets': { 'network_type': {'allow_post': False, 'allow_put': False, 'enforce_policy': True, 'is_visible': True}, 'physical_network': {'allow_post': False, 'allow_put': False, 'enforce_policy': True, 'is_visible': True}, 'segmentation_id': {'allow_post': False, 'allow_put': False, 'convert_to': int, 'enforce_policy': True, 'default': constants.ATTR_NOT_SPECIFIED, 'is_visible': True} } } REST API Impact --------------- The following provider network management Rest APIs will be provided in line with the new resources previously introduced: List provider network types supported. GET /v2.0/providernet_types Create a provider network record for given network data. POST /v2.0/providernets/<providernet-uuid> Delete a provider network by id. DELETE /v2.0/providernets/<providernet-uuid> Update a provider network with given data. PUT /v2.0/providernets/<providernet-uuid> List provider networks. GET /v2.0/providernets List a provider network information. GET /v2.0/providernets/<providernet-uuid> Create a provider network segmentation id range record for given network data. POST /v2.0/providernet_ranges/<providernet_ranges-uuid> Delete a provider network segmentation id range by id. DELETE /v2.0/providernet_ranges/<providernet_ranges-uuid> Update a provider network segmentation id range with given data. PUT /v2.0/providernet_ranges/<providernet_ranges-uuid> List all provider network ranges. GET /v2.0/providernet_ranges List the network range information of a provider network by id. GET /v2.0/providernet_ranges/<providernet_ranges-uuid> Command Line Client Impact -------------------------- Openstack Client would add provider network management related CLIs, for instance: * openstack providernet type-list * openstack providernet list * openstack providernet show * openstack providernet create * openstack providernet update * openstack providernet delete * openstack providernet range-list * openstack providernet range-show * openstack providernet range-create * openstack providernet range-update * openstack providernet range-delete * openstack providernet net-list-on-providernet Other Impact ------------ * Agent-side changes for the synchronization of provider network information are expected to accommodate the server-side implementation. * This feature has a dependency on the system host management. Current network DHCP and router will have to be only scheduled/rescheduled to hosts that are attached to the provider networks (currently assigned to interfaces owned by the specified hosts) that are needed in order to correctly implement instances. * Necessary adjustments to the existing ML2 type manager and drivers are expected. Implementation ============== Assignee(s) ----------- Work Items ---------- * Add the DB model. * Extend current API. * Add the extension proposed and implement both the server-side and agent-side changes identified. * Modify type manager and drivers as well as all related references. * Add related tests. * Add CLI openstackclient. * Documentation. Dependencies ============ None Testing ======= Unit tests, functional tests, API tests and scenario tests are necessary. Documentation Impact ==================== The Neutron API reference will need to be updated. References ========== [1] /etc/neutron/plugins/ml2/ml2_conf.ini [2] https://docs.openstack.org/neutron/latest/admin/intro-os-networking.html Related Information ------------------- Neutron v2 API: https://developer.openstack.org/api-ref/network/v2/ ",,356,0
openstack%2Fpython-openstackclient~master~Ib3f881d34a82af97199ce51bfbefc6f3f08599f1,openstack/python-openstackclient,master,Ib3f881d34a82af97199ce51bfbefc6f3f08599f1,Updated the take_actions for unified limits,MERGED,2018-10-22 08:47:12.000000000,2018-11-29 07:54:07.000000000,2018-11-29 07:54:07.000000000,"[{'_account_id': 2}, {'_account_id': 970}, {'_account_id': 2218}, {'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 8556}, {'_account_id': 15054}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2018-10-22 08:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/9dac4da0a65a21ee44979366cf3800a8bc9d4526', 'message': 'Updated the take_actions for unified limits\n\nWhen user passes --region None, the find_resource\nof osc_lib calls get() of region. The get API of\nregion ignores the name param returning all the\nregions in result. As the find_resource checks\nmany cases against the result returned by get API.\nThe output comes greater than 1, thus returning\n""More than one region ID exist"" which is incorrect.\nHowever in case of region which cannot be filtered\nby name we do not require to check these many cases.\n\nThe solution is to directly call the get method of\nAPIs and returning No resource name exist with the\nxyz"" on passing invaid parameter. And returning all\nin case of None.\n\nThus created a new function get_resource which can\nbe used in future too by these types of API\'s.\n\nChange-Id: Ib3f881d34a82af97199ce51bfbefc6f3f08599f1\nCloses-bug: #1799513\n'}, {'number': 2, 'created': '2018-10-22 08:50:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/32f9a042fc24c2c7bf909463328902241663de79', 'message': 'Updated the take_actions for unified limits\n\nWhen user passes --region None, the find_resource\nof osc_lib calls get() of region. The get API of\nregion ignores the name param returning all the\nregions in result. As the find_resource checks\nmany cases against the result returned by get API.\nThe output comes greater than 1, thus returning\n""More than one region ID exist"" which is incorrect.\nHowever in case of region which cannot be filtered\nby name we do not require to check these many cases.\n\nThe solution is to directly call the get method of\nAPIs and returning No resource name exist with the\nxyz"" on passing invaid parameter. And returning all\nin case of None.\n\nThus created a new function get_resource which can\nbe used in future too by these types of API\'s.\n\nChange-Id: Ib3f881d34a82af97199ce51bfbefc6f3f08599f1\nCloses-bug: #1799153\n'}, {'number': 3, 'created': '2018-10-31 02:44:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/dbb0b5b053e0deddcaece2ad71d49e3735fa1e6b', 'message': 'Updated the take_actions for unified limits\n\nWhen user passes --region None, the find_resource\nof osc_lib calls get() of region. The get API of\nregion ignores the name param returning all the\nregions in result. As the find_resource checks\nmany cases against the result returned by get API.\nThe output comes greater than 1, thus returning\n""More than one region ID exist"" which is incorrect.\nHowever in case of region which cannot be filtered\nby name we do not require to check these many cases.\n\nThe solution is to directly call the get method of\nAPIs and returning No resource name exist with the\nxyz"" on passing invaid parameter. And returning all\nin case of None.\n\nThus created a new function get_resource which can\nbe used in future too by these types of API\'s.\n\nChange-Id: Ib3f881d34a82af97199ce51bfbefc6f3f08599f1\nCloses-bug: #1799153\n'}, {'number': 4, 'created': '2018-10-31 09:34:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/7932563a355cb0f4d3654fb3ceb5246eda393c3b', 'message': 'Updated the take_actions for unified limits\n\nWhen user passes --region None, the find_resource\nof osc_lib calls get() of region. The get API of\nregion ignores the name param returning all the\nregions in result. As the find_resource checks\nmany cases against the result returned by get API.\nThe output comes greater than 1, thus returning\n""More than one region ID exist"" which is incorrect.\nHowever in case of region which cannot be filtered\nby name we do not require to check these many cases.\n\nThe solution is to directly call the get method of\nAPIs and returning No resource name exist with the\nxyz"" on passing invaid parameter. And returning all\nin case of None.\n\nThus created a new function get_resource which can\nbe used in future too by these types of API\'s.\n\nChange-Id: Ib3f881d34a82af97199ce51bfbefc6f3f08599f1\nCloses-bug: #1799153\n'}, {'number': 5, 'created': '2018-11-01 01:23:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/11b45a2f4727812b37153c20cbdbdf190a2b4dea', 'message': 'Updated the take_actions for unified limits\n\nWhen user passes --region None, the find_resource\nof osc_lib calls get() of region. The get API of\nregion ignores the name param returning all the\nregions in result. As the find_resource checks\nmany cases against the result returned by get API.\nThe output comes greater than 1, thus returning\n""More than one region ID exist"" which is incorrect.\nHowever in case of region which cannot be filtered\nby name we do not require to check these many cases.\n\nThe solution is to directly call the get method of\nAPIs and returning No resource name exist with the\nxyz"" on passing invaid parameter. And returning all\nin case of None.\n\nThus created a new function get_resource which can\nbe used in future too by these types of API\'s.\n\nChange-Id: Ib3f881d34a82af97199ce51bfbefc6f3f08599f1\nCloses-bug: #1799153\n'}, {'number': 6, 'created': '2018-11-09 02:24:10.000000000', 'files': ['openstackclient/identity/v3/limit.py', 'openstackclient/identity/common.py', 'openstackclient/identity/v3/registered_limit.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/81fd5c995d7cce45f45e37af8a6b0309308a4cba', 'message': 'Updated the take_actions for unified limits\n\nWhen user passes --region None, the find_resource\nof osc_lib calls get() of region. The get API of\nregion ignores the name param returning all the\nregions in result. As the find_resource checks\nmany cases against the result returned by get API.\nThe output comes greater than 1, thus returning\n""More than one region ID exist"" which is incorrect.\nHowever in case of region which cannot be filtered\nby name we do not require to check these many cases.\n\nThe solution is to directly call the get method of\nAPIs and returning No resource name exist with the\nxyz"" on passing invaid parameter. And returning all\nin case of None.\n\nThus created a new function get_resource which can\nbe used in future too by these types of API\'s.\n\nChange-Id: Ib3f881d34a82af97199ce51bfbefc6f3f08599f1\nCloses-bug: #1799153\n'}]",17,612283,81fd5c995d7cce45f45e37af8a6b0309308a4cba,37,10,6,27621,,,0,"Updated the take_actions for unified limits

When user passes --region None, the find_resource
of osc_lib calls get() of region. The get API of
region ignores the name param returning all the
regions in result. As the find_resource checks
many cases against the result returned by get API.
The output comes greater than 1, thus returning
""More than one region ID exist"" which is incorrect.
However in case of region which cannot be filtered
by name we do not require to check these many cases.

The solution is to directly call the get method of
APIs and returning No resource name exist with the
xyz"" on passing invaid parameter. And returning all
in case of None.

Thus created a new function get_resource which can
be used in future too by these types of API's.

Change-Id: Ib3f881d34a82af97199ce51bfbefc6f3f08599f1
Closes-bug: #1799153
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/83/612283/4 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/identity/v3/limit.py', 'openstackclient/identity/common.py', 'openstackclient/identity/v3/registered_limit.py']",3,9dac4da0a65a21ee44979366cf3800a8bc9d4526,bug/1799513," val = getattr(parsed_args, 'region', None) if 'None' not in val: region = common_utils.get_resource( identity_client.regions, parsed_args.region ) val = getattr(parsed_args, 'region', None) if 'None' not in val: region = common_utils.get_resource( identity_client.regions, parsed_args.region ) val = getattr(parsed_args, 'region', None) if 'None' not in val: region = common_utils.get_resource( identity_client.regions, parsed_args.region )"," region = utils.find_resource( identity_client.regions, parsed_args.region ) region = utils.find_resource( identity_client.regions, parsed_args.region ) region = utils.find_resource( identity_client.regions, parsed_args.region )",39,15
openstack%2Fmistral~stable%2Frocky~I4dc2b1e059d66d16725417ea5aa27b978e2163f0,openstack/mistral,stable/rocky,I4dc2b1e059d66d16725417ea5aa27b978e2163f0,Add loging for sending an action to executor,MERGED,2018-11-28 14:33:30.000000000,2018-11-29 07:46:56.000000000,2018-11-29 07:46:56.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-28 14:33:30.000000000', 'files': ['releasenotes/notes/add_more_logging_for_sending_actions-c2ddd97027803ecd.yaml', 'mistral/executors/executor_server.py', 'mistral/rpc/clients.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/ce3d8607af6fb7556610e2047137e975bc23d13c', 'message': 'Add loging for sending an action to executor\n\nCloses-Bug: #1805579\nChange-Id: I4dc2b1e059d66d16725417ea5aa27b978e2163f0\n'}]",0,620611,ce3d8607af6fb7556610e2047137e975bc23d13c,6,2,1,8731,,,0,"Add loging for sending an action to executor

Closes-Bug: #1805579
Change-Id: I4dc2b1e059d66d16725417ea5aa27b978e2163f0
",git fetch https://review.opendev.org/openstack/mistral refs/changes/11/620611/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add_more_logging_for_sending_actions-c2ddd97027803ecd.yaml', 'mistral/executors/executor_server.py', 'mistral/rpc/clients.py']",3,ce3d8607af6fb7556610e2047137e975bc23d13c,bug/1805579-stable/rocky," LOG.debug( ""Sending an action to executor [action_ex_id=%s, action_cls=%s]"", action_ex_id, action_cls_str ) ",,23,2
openstack%2Fzun~stable%2Frocky~Ica077eda90e0d782c206eea7c446b6af646668f8,openstack/zun,stable/rocky,Ica077eda90e0d782c206eea7c446b6af646668f8,Add support for secure websocket connection,MERGED,2018-11-28 03:04:56.000000000,2018-11-29 07:27:01.000000000,2018-11-29 07:27:00.000000000,"[{'_account_id': 11536}, {'_account_id': 21428}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-28 03:04:56.000000000', 'files': ['zun/cmd/wsproxy.py', 'zun/conf/websocket_proxy.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/e5c588acfd7070b309b5285ac55dd3f0f6bfbfbe', 'message': 'Add support for secure websocket connection\n\nAdd a few SSL config for operator to turn on secure connection\non zun websocket proxy.\n\nChange-Id: Ica077eda90e0d782c206eea7c446b6af646668f8\nCloses-Bug: #1762511\n(cherry picked from commit 1bb994962be5822fdf992adf2ead07a72f6064f4)\n'}]",0,620441,e5c588acfd7070b309b5285ac55dd3f0f6bfbfbe,13,3,1,11536,,,0,"Add support for secure websocket connection

Add a few SSL config for operator to turn on secure connection
on zun websocket proxy.

Change-Id: Ica077eda90e0d782c206eea7c446b6af646668f8
Closes-Bug: #1762511
(cherry picked from commit 1bb994962be5822fdf992adf2ead07a72f6064f4)
",git fetch https://review.opendev.org/openstack/zun refs/changes/41/620441/1 && git format-patch -1 --stdout FETCH_HEAD,"['zun/cmd/wsproxy.py', 'zun/conf/websocket_proxy.py']",2,e5c588acfd7070b309b5285ac55dd3f0f6bfbfbe,bug/1762511-stable/rocky," cfg.BoolOpt('ssl_only', help=""Disallow non-encrypted connections.""), cfg.StrOpt('cert', default='', help=""Path to SSL certificate file.""), cfg.StrOpt('key', default='', help=""SSL key file (if separate from cert).""),",,11,0
openstack%2Fvitrage~master~I274d3ed5ee47e6daaa48b518b77ff68e92002111,openstack/vitrage,master,I274d3ed5ee47e6daaa48b518b77ff68e92002111,WIP  - Api performance enhancements,ABANDONED,2018-11-29 07:24:04.000000000,2018-11-29 07:25:17.000000000,,[],"[{'number': 1, 'created': '2018-11-29 07:24:04.000000000', 'files': ['vitrage/api/controllers/v1/topology.py', 'vitrage/tests/functional/api_handler/test_apis.py', 'vitrage/common/utils.py', 'vitrage/api/hooks.py', 'vitrage/graph/algo_driver/algorithm.py', 'vitrage/api_handler/apis/topology.py', 'vitrage/api/controllers/v1/alarm_base.py', 'vitrage/api_handler/apis/alarm.py', 'vitrage/api_handler/apis/resource.py', 'vitrage/api/app.py', 'vitrage/graph/algo_driver/networkx_algorithm.py', 'vitrage/graph/driver/networkx_graph.py', 'vitrage/tests/functional/api/v1/test_noauth.py', 'vitrage/api/controllers/v1/resource.py'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/686a3b1682593db7284e5d502a6b1267679058f2', 'message': 'WIP  - Api performance enhancements\n\n - Topology code refactored to be more efficient\n - Backend APIs returning large data sets compress the response\n - Garbage Collector configured to collect when there are few\n   collectable objects, rather then wait till there are many.\n - Garbage Collector called after every API call.\n\nChange-Id: Ieda233932aff7e6621845544d94f73960ece834c\n\nasdd\n\nChange-Id: I274d3ed5ee47e6daaa48b518b77ff68e92002111\n'}]",0,620795,686a3b1682593db7284e5d502a6b1267679058f2,2,0,1,19184,,,0,"WIP  - Api performance enhancements

 - Topology code refactored to be more efficient
 - Backend APIs returning large data sets compress the response
 - Garbage Collector configured to collect when there are few
   collectable objects, rather then wait till there are many.
 - Garbage Collector called after every API call.

Change-Id: Ieda233932aff7e6621845544d94f73960ece834c

asdd

Change-Id: I274d3ed5ee47e6daaa48b518b77ff68e92002111
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/95/620795/1 && git format-patch -1 --stdout FETCH_HEAD,"['vitrage/api/controllers/v1/topology.py', 'vitrage/tests/functional/api_handler/test_apis.py', 'vitrage/common/utils.py', 'vitrage/api/hooks.py', 'vitrage/graph/algo_driver/algorithm.py', 'vitrage/api_handler/apis/topology.py', 'vitrage/api/controllers/v1/alarm_base.py', 'vitrage/api_handler/apis/alarm.py', 'vitrage/api_handler/apis/resource.py', 'vitrage/api/app.py', 'vitrage/graph/algo_driver/networkx_algorithm.py', 'vitrage/graph/driver/networkx_graph.py', 'vitrage/tests/functional/api/v1/test_noauth.py', 'vitrage/api/controllers/v1/resource.py']",14,686a3b1682593db7284e5d502a6b1267679058f2,idan_hefetz/faster_topology,from vitrage.common.utils import decompress_obj resources = \ resources = decompress_obj(resources)['resources'], resources_json = \ LOG.info(resources_json) resources = json.loads(resources_json)['resources'],136,119
openstack%2Ftacker~master~Idab8f590aa98a1f943474e2c4c9e68ca4e3d1837,openstack/tacker,master,Idab8f590aa98a1f943474e2c4c9e68ca4e3d1837,fixed the domain using default value.,MERGED,2018-11-21 06:21:49.000000000,2018-11-29 07:20:56.000000000,2018-11-29 07:20:56.000000000,"[{'_account_id': 19644}, {'_account_id': 22348}, {'_account_id': 26222}, {'_account_id': 27181}, {'_account_id': 29339}, {'_account_id': 29383}, {'_account_id': 29470}]","[{'number': 1, 'created': '2018-11-21 06:21:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/bfcc4f19f380b051a2b889fe73dfc759b73e9d3e', 'message': 'fixed the domain using default value.\n\nThe value of domain is hard code.\nDue to the different Openstack installation configuration,\nthe values in the configuration file should be used.\n\nChange-Id: Idab8f590aa98a1f943474e2c4c9e68ca4e3d1837\n'}, {'number': 2, 'created': '2018-11-26 18:54:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/7681cacf01515e09bd92e9579ac0acd8330200d2', 'message': 'fixed the domain using default value.\n\nThe value of domain is hard code.\nDue to the different Openstack installation configuration,\nthe values in the configuration file should be used.\n\nChange-Id: Idab8f590aa98a1f943474e2c4c9e68ca4e3d1837\n'}, {'number': 3, 'created': '2018-11-26 19:05:20.000000000', 'files': ['tacker/alarm_receiver.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/3c78af7d86d4358e30f2122f9c7405a8ec6ccfe7', 'message': 'fixed the domain using default value.\n\nThe value of domain is hard code.\nDue to the different Openstack installation configuration,\nthe values in the configuration file should be used.\n\nChange-Id: Idab8f590aa98a1f943474e2c4c9e68ca4e3d1837\n'}]",2,619149,3c78af7d86d4358e30f2122f9c7405a8ec6ccfe7,23,7,3,27181,,,0,"fixed the domain using default value.

The value of domain is hard code.
Due to the different Openstack installation configuration,
the values in the configuration file should be used.

Change-Id: Idab8f590aa98a1f943474e2c4c9e68ca4e3d1837
",git fetch https://review.opendev.org/openstack/tacker refs/changes/49/619149/3 && git format-patch -1 --stdout FETCH_HEAD,['tacker/alarm_receiver.py'],1,bfcc4f19f380b051a2b889fe73dfc759b73e9d3e,fixed_defalut_domain," user_domain_name=auth.user_domain_name, project_domain_name=auth.project_domain_name)"," user_domain_name='default', project_domain_name='default')",2,2
openstack%2Ffreezer-api~master~I7c785a5e0d097b7084a6534ea6052298d751f0ad,openstack/freezer-api,master,I7c785a5e0d097b7084a6534ea6052298d751f0ad,Add client search for sql,MERGED,2018-11-29 03:37:29.000000000,2018-11-29 07:15:18.000000000,2018-11-29 07:15:18.000000000,"[{'_account_id': 22348}, {'_account_id': 22484}]","[{'number': 1, 'created': '2018-11-29 03:37:29.000000000', 'files': ['freezer_api/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/7b55e1bc54c3b5239802c610863804953f9b69c8', 'message': 'Add client search for sql\n\nThe patch add client search\n\nChange-Id: I7c785a5e0d097b7084a6534ea6052298d751f0ad\n'}]",0,620775,7b55e1bc54c3b5239802c610863804953f9b69c8,6,2,1,21387,,,0,"Add client search for sql

The patch add client search

Change-Id: I7c785a5e0d097b7084a6534ea6052298d751f0ad
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/75/620775/1 && git format-patch -1 --stdout FETCH_HEAD,['freezer_api/db/sqlalchemy/api.py'],1,7b55e1bc54c3b5239802c610863804953f9b69c8,addclientsearch," # If search opt is wrong, filter will not work, # return all tuples. try: clients = filter_tuple_by_search_opt(clients, search) except Exception as e: LOG.error(e) ", search = search or {},7,1
openstack%2Ffreezer-api~master~I7286610a652cc9552c26fb8b956846fc135f793f,openstack/freezer-api,master,I7286610a652cc9552c26fb8b956846fc135f793f,Add search_session unit test for search option from client cmd,MERGED,2018-11-29 00:47:42.000000000,2018-11-29 07:12:04.000000000,2018-11-29 07:12:04.000000000,"[{'_account_id': 21387}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-29 00:47:42.000000000', 'files': ['freezer_api/tests/unit/sqlalchemy/test_session.py'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/1cc79e1567729b15cf8fbe874e97671edcc0cbdd', 'message': 'Add search_session unit test for search option from client cmd\n\nThis patch is for search_session unit test with search option.\nThis query is from client cmd.\n\nChange-Id: I7286610a652cc9552c26fb8b956846fc135f793f\n'}]",0,620759,1cc79e1567729b15cf8fbe874e97671edcc0cbdd,7,2,1,22484,,,0,"Add search_session unit test for search option from client cmd

This patch is for search_session unit test with search option.
This query is from client cmd.

Change-Id: I7286610a652cc9552c26fb8b956846fc135f793f
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/59/620759/1 && git format-patch -1 --stdout FETCH_HEAD,['freezer_api/tests/unit/sqlalchemy/test_session.py'],1,1cc79e1567729b15cf8fbe874e97671edcc0cbdd,bug/gengchc," def test_session_list_with_search_with_all_opt_one_match(self): count = 0 sessionids = [] while (count < 20): doc = copy.deepcopy(self.fake_session_3) if count in [0, 4, 8, 12, 16]: doc['hold_off'] = 100 session_id = self.dbapi.add_session(project_id=self.fake_session_3. get('project_id'), user_id=self.fake_session_3. get('user_id'), doc=doc) self.assertIsNotNone(session_id) sessionids.append(session_id) count += 1 search_opt = {'match': [{'_all': '[{""hold_off"": 100}]'}]} result = self.dbapi.search_session(user_id=self.fake_session_3. get('user_id'), project_id=self.fake_session_3. get('project_id'), offset=0, limit=20, search=search_opt) self.assertIsNotNone(result) self.assertEqual(len(result), 5) for index in range(len(result)): sessionmap = result[index] self.assertEqual(100, sessionmap['hold_off']) def test_session_list_with_search_with_all_opt_two_matches(self): count = 0 sessionids = [] while (count < 20): doc = copy.deepcopy(self.fake_session_3) if count in [0, 4, 8, 12, 16]: doc['hold_off'] = 100 if count in [4, 12]: doc['schedule']['schedule_date'] = '2018-12-12T00:00:00' session_id = self.dbapi.add_session(project_id=self.fake_session_3. get('project_id'), user_id=self.fake_session_3. get('user_id'), doc=doc) self.assertIsNotNone(session_id) sessionids.append(session_id) count += 1 search_opt = {'match': [{'_all': '[{""hold_off"": 100},' '{""schedule_date"": ' '""2018-12-12T00:00:00""}]'}]} result = self.dbapi.search_session(user_id=self.fake_session_3. get('user_id'), project_id=self.fake_session_3. get('project_id'), offset=0, limit=20, search=search_opt) self.assertIsNotNone(result) self.assertEqual(len(result), 2) for index in range(len(result)): sessionmap = result[index] self.assertEqual(100, sessionmap['hold_off']) self.assertEqual('2018-12-12T00:00:00', sessionmap['schedule']['schedule_date']) def test_session_list_with_search_error_all_opt_return_alltuples(self): count = 0 sessionids = [] while (count < 20): doc = copy.deepcopy(self.fake_session_3) if count in [0, 4, 8, 12, 16]: doc['hold_off'] = 100 session_id = self.dbapi.add_session(project_id=self.fake_session_3. get('project_id'), user_id=self.fake_session_3. get('user_id'), doc=doc) self.assertIsNotNone(session_id) sessionids.append(session_id) count += 1 search_opt = {'match': [{'_all': '{""hold_off"": 100}'}]} result = self.dbapi.search_session(user_id=self.fake_session_3. get('user_id'), project_id=self.fake_session_3. get('project_id'), offset=0, limit=20, search=search_opt) self.assertIsNotNone(result) self.assertEqual(len(result), 20) search_opt = {'match': [{'_all': 'hold_off=100'}]} result = self.dbapi.search_session(user_id=self.fake_session_3. get('user_id'), project_id=self.fake_session_3. get('project_id'), offset=0, limit=20, search=search_opt) self.assertIsNotNone(result) self.assertEqual(len(result), 20)",,108,0
openstack%2Frequirements~master~I4cdbee60b90b585f6b1479638accf130930bd619,openstack/requirements,master,I4cdbee60b90b585f6b1479638accf130930bd619,update constraint for paunch to new release 4.1.0,MERGED,2018-11-28 12:33:05.000000000,2018-11-29 07:07:39.000000000,2018-11-29 07:07:38.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-28 12:33:05.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/762f5a7353579a4a24c57b5551a54159de2a37c7', 'message': 'update constraint for paunch to new release 4.1.0\n\nChange-Id: I4cdbee60b90b585f6b1479638accf130930bd619\nmeta:version: 4.1.0\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nmeta:release:Commit: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nmeta:release:Change-Id: Ife0f74131301d71aae50d9b39db40a39b1c545d0\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,620593,762f5a7353579a4a24c57b5551a54159de2a37c7,8,2,1,11131,,,0,"update constraint for paunch to new release 4.1.0

Change-Id: I4cdbee60b90b585f6b1479638accf130930bd619
meta:version: 4.1.0
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Juan Antonio Osorio Robles <jaosorior@redhat.com>
meta:release:Commit: Juan Antonio Osorio Robles <jaosorior@redhat.com>
meta:release:Change-Id: Ife0f74131301d71aae50d9b39db40a39b1c545d0
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/93/620593/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,762f5a7353579a4a24c57b5551a54159de2a37c7,new-release,paunch===4.1.0,paunch===4.0.0,1,1
openstack%2Ftripleo-common~master~I877cf123d3ef4df045c95f8484e0b5f1ae66a8ba,openstack/tripleo-common,master,I877cf123d3ef4df045c95f8484e0b5f1ae66a8ba,Specify python interpreter for undercloud,MERGED,2018-11-21 21:02:52.000000000,2018-11-29 06:57:36.000000000,2018-11-29 06:57:35.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 29222}]","[{'number': 1, 'created': '2018-11-21 21:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/107e7da8ffce22046c0d444e1fa1466bf42c2099', 'message': 'Specify python interpreter for undercloud\n\nWe always gather facts for the undercloud and which should match the\npython interpreter that the inventory code was generated with.  This is\noverridable with the --deploy-python-interpreter.\n\nThere is a single case where these might be mismatched from the\novercloud if a user is running python2.7 mistral containers on a python3\nundercloud and uses config-download to deploy against python2.7\nhosts. But I beleive this is not going to be a supported use case so we\nshould be able to default to the python version used to generate the\ninventory file or use a specified value from the command line.\n\nChange-Id: I877cf123d3ef4df045c95f8484e0b5f1ae66a8ba\nRelated-Blueprint: python3-support\n'}, {'number': 2, 'created': '2018-11-26 16:47:49.000000000', 'files': ['tripleo_common/inventory.py', 'tripleo_common/tests/test_inventory.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2c76f9fed9be56ba4d23346407eaae6bfb1ab456', 'message': 'Specify python interpreter for undercloud\n\nWe always gather facts for the undercloud and which should match the\npython interpreter that the inventory code was generated with.  This is\noverridable with the --deploy-python-interpreter.\n\nThere is a single case where these might be mismatched from the\novercloud if a user is running python2.7 mistral containers on a python3\nundercloud and uses config-download to deploy against python2.7\nhosts. But I beleive this is not going to be a supported use case so we\nshould be able to default to the python version used to generate the\ninventory file or use a specified value from the command line.\n\nChange-Id: I877cf123d3ef4df045c95f8484e0b5f1ae66a8ba\nRelated-Blueprint: python3-support\n'}]",0,619357,2c76f9fed9be56ba4d23346407eaae6bfb1ab456,14,6,2,14985,,,0,"Specify python interpreter for undercloud

We always gather facts for the undercloud and which should match the
python interpreter that the inventory code was generated with.  This is
overridable with the --deploy-python-interpreter.

There is a single case where these might be mismatched from the
overcloud if a user is running python2.7 mistral containers on a python3
undercloud and uses config-download to deploy against python2.7
hosts. But I beleive this is not going to be a supported use case so we
should be able to default to the python version used to generate the
inventory file or use a specified value from the command line.

Change-Id: I877cf123d3ef4df045c95f8484e0b5f1ae66a8ba
Related-Blueprint: python3-support
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/57/619357/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/inventory.py', 'tripleo_common/tests/test_inventory.py']",2,107e7da8ffce22046c0d444e1fa1466bf42c2099,bp/python3-support,"import sys 'ansible_python_interpreter': sys.executable, 'ansible_python_interpreter': 'foo', 'ansible_python_interpreter': sys.executable,",,11,0
openstack%2Fpython-tripleoclient~master~I3a4bf279d6d1c2c35c000e7b38b147a026cfcfb4,openstack/python-tripleoclient,master,I3a4bf279d6d1c2c35c000e7b38b147a026cfcfb4,Improve bulk symlink error handling,MERGED,2018-11-21 21:48:22.000000000,2018-11-29 06:57:35.000000000,2018-11-29 06:57:35.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-21 21:48:22.000000000', 'files': ['tripleoclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e348fab9514f44baf1acc39633cd06bd375b4568', 'message': ""Improve bulk symlink error handling\n\nIf the tempdir doesn't exist, we can get a cryptic error message when\nusing the bulk_symlink function. This change checks that the temp dir we\nare to use exists prior to consuming it and throws a message indicating\nthe folder doesn't exist.\n\nChange-Id: I3a4bf279d6d1c2c35c000e7b38b147a026cfcfb4\nCloses-Bug: #1804527\n""}]",2,619363,e348fab9514f44baf1acc39633cd06bd375b4568,10,5,1,14985,,,0,"Improve bulk symlink error handling

If the tempdir doesn't exist, we can get a cryptic error message when
using the bulk_symlink function. This change checks that the temp dir we
are to use exists prior to consuming it and throws a message indicating
the folder doesn't exist.

Change-Id: I3a4bf279d6d1c2c35c000e7b38b147a026cfcfb4
Closes-Bug: #1804527
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/63/619363/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/utils.py'],1,e348fab9514f44baf1acc39633cd06bd375b4568,bug/1804527," tmp = None try: if not os.path.exists(tmpd): raise exceptions.NotFound(""{} does not exist. Cannot create a "" ""temp folder using this path"".format( tmpd)) if tmp: shutil.rmtree(tmp, ignore_errors=True)"," try: shutil.rmtree(tmp, ignore_errors=True)",7,1
openstack%2Fpuppet-manila~master~Ib5dc556c9e39ff80161cfa35ce176a18b9ea6074,openstack/puppet-manila,master,Ib5dc556c9e39ff80161cfa35ce176a18b9ea6074,Deprecate pki related options,MERGED,2018-11-22 03:43:45.000000000,2018-11-29 06:50:23.000000000,2018-11-29 06:50:23.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-22 03:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/0d64bb911a05d1edcc2ea9061956225f5a47eaba', 'message': 'Deprecate check_revocations_for_cached option\n\ncheck_revocations_for_cached is deprecated for removel because of PKI\ntoken format is no longer supported.\nUpdate warning message and add a release note.\n\nChange-Id: Ib5dc556c9e39ff80161cfa35ce176a18b9ea6074\nCloses-Bug: #1804562\n'}, {'number': 2, 'created': '2018-11-23 02:26:13.000000000', 'files': ['spec/classes/manila_keystone_authtoken_spec.rb', 'releasenotes/notes/deprecate_pki_related_parameters-b0901e5e64816b64.yaml', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/c75873e4a5a33806c0ddefeebe9dea47492c4c48', 'message': 'Deprecate pki related options\n\ncheck_revocations_for_cached and hash_algorithms are deprecated for\nremovel because of PKI token format is no longer supported.\nUpdate warning message and add a release note.\n\nChange-Id: Ib5dc556c9e39ff80161cfa35ce176a18b9ea6074\nCloses-Bug: #1804562\nCloses-Bug: #1804720\n'}]",0,619419,c75873e4a5a33806c0ddefeebe9dea47492c4c48,17,4,2,9414,,,0,"Deprecate pki related options

check_revocations_for_cached and hash_algorithms are deprecated for
removel because of PKI token format is no longer supported.
Update warning message and add a release note.

Change-Id: Ib5dc556c9e39ff80161cfa35ce176a18b9ea6074
Closes-Bug: #1804562
Closes-Bug: #1804720
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/19/619419/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate_check_revocations_for_cached_parameter-83a5b9cb4748d600.yaml', 'spec/classes/manila_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp']",3,0d64bb911a05d1edcc2ea9061956225f5a47eaba,bug/1804562,"# [*check_revocations_for_cached*] # (Optional) If true, the revocation list will be checked for cached tokens. # This requires that PKI tokens are configured on the identity server. # boolean value. # Defaults to undef. # $check_revocations_for_cached = undef, if $check_revocations_for_cached { warning('check_revocations_for_cached parameter is deprecated, has no effect and will be removed in the future.') } ","# [*check_revocations_for_cached*] # (Optional) If true, the revocation list will be checked for cached tokens. # This requires that PKI tokens are configured on the identity server. # boolean value. # Defaults to $::os_service_default. # $check_revocations_for_cached = $::os_service_default, check_revocations_for_cached => $check_revocations_for_cached,",15,11
openstack%2Fpython-manilaclient~master~If8c81705fbe211e0e4fc4f7e1aece48b5584081f,openstack/python-manilaclient,master,If8c81705fbe211e0e4fc4f7e1aece48b5584081f,add python 3.6 unit test job,ABANDONED,2018-11-28 07:12:42.000000000,2018-11-29 06:48:23.000000000,,"[{'_account_id': 11904}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-11-28 07:12:42.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/c6c71da64e2c95ba27729ed93b8f22e7ac88c4ee', 'message': 'add python 3.6 unit test job\n\nThis is a mechanically generated patch to add a unit test job running\nunder Python 3.6 as part of the python3-first goal.\n\nSee the python3-first goal document for details:\nhttps://governance.openstack.org/tc/goals/stein/python3-first.html\n\nChange-Id: If8c81705fbe211e0e4fc4f7e1aece48b5584081f\nStory: #2002586\n'}]",0,620497,c6c71da64e2c95ba27729ed93b8f22e7ac88c4ee,8,4,1,28543,,,0,"add python 3.6 unit test job

This is a mechanically generated patch to add a unit test job running
under Python 3.6 as part of the python3-first goal.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: If8c81705fbe211e0e4fc4f7e1aece48b5584081f
Story: #2002586
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/97/620497/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c6c71da64e2c95ba27729ed93b8f22e7ac88c4ee,,"envlist = py36,py35,py27,pep8","envlist = py35,py27,pep8",1,1
openstack%2Fpython-openstackclient~master~I430dffb60046d4f26b7f5c41c9e2b546456ac776,openstack/python-openstackclient,master,I430dffb60046d4f26b7f5c41c9e2b546456ac776,add python 3.6 unit test job,ABANDONED,2018-11-28 07:47:25.000000000,2018-11-29 06:40:13.000000000,,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-11-28 07:47:25.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/8419139060ff9c39a2f85aac673165a1a778826c', 'message': 'add python 3.6 unit test job\n\nThis is a mechanically generated patch to add a unit test job running\nunder Python 3.6 as part of the python3-first goal.\n\nSee the python3-first goal document for details:\nhttps://governance.openstack.org/tc/goals/stein/python3-first.html\n\nChange-Id: I430dffb60046d4f26b7f5c41c9e2b546456ac776\nStory: #2002586\n'}]",0,620511,8419139060ff9c39a2f85aac673165a1a778826c,5,3,1,28543,,,0,"add python 3.6 unit test job

This is a mechanically generated patch to add a unit test job running
under Python 3.6 as part of the python3-first goal.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: I430dffb60046d4f26b7f5c41c9e2b546456ac776
Story: #2002586
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/11/620511/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8419139060ff9c39a2f85aac673165a1a778826c,,"envlist = py36,py35,py27,pep8","envlist = py35,py27,pep8",1,1
openstack%2Fpython-neutronclient~master~If05f3f3e76b01e333a70a2303a3ba3b735f5fa99,openstack/python-neutronclient,master,If05f3f3e76b01e333a70a2303a3ba3b735f5fa99,add python 3.6 unit test job,ABANDONED,2018-11-28 07:40:37.000000000,2018-11-29 06:38:59.000000000,,"[{'_account_id': 1131}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-11-28 07:40:37.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/05c828fdc0eda3524bb12a1426123fe5138bd644', 'message': 'add python 3.6 unit test job\n\nThis is a mechanically generated patch to add a unit test job running\nunder Python 3.6 as part of the python3-first goal.\n\nSee the python3-first goal document for details:\nhttps://governance.openstack.org/tc/goals/stein/python3-first.html\n\nChange-Id: If05f3f3e76b01e333a70a2303a3ba3b735f5fa99\nStory: #2002586\n'}]",0,620508,05c828fdc0eda3524bb12a1426123fe5138bd644,5,3,1,28543,,,0,"add python 3.6 unit test job

This is a mechanically generated patch to add a unit test job running
under Python 3.6 as part of the python3-first goal.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: If05f3f3e76b01e333a70a2303a3ba3b735f5fa99
Story: #2002586
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/08/620508/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,05c828fdc0eda3524bb12a1426123fe5138bd644,,"envlist = py36,py35,py27,pypy,pep8","envlist = py35,py27,pypy,pep8",1,1
openstack%2Fpuppet-designate~master~I6d7b74c6a21943953f8de5dd0ed0ec59835cd05d,openstack/puppet-designate,master,I6d7b74c6a21943953f8de5dd0ed0ec59835cd05d,Deprecate pki related options,MERGED,2018-11-22 03:43:45.000000000,2018-11-29 06:20:58.000000000,2018-11-29 06:20:58.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-22 03:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/664bd3fa2e9feef2cea55d99aabbdae82fe05149', 'message': 'Deprecate check_revocations_for_cached option\n\ncheck_revocations_for_cached is deprecated for removel because of PKI\ntoken format is no longer supported.\nUpdate warning message and add a release note.\n\nChange-Id: I6d7b74c6a21943953f8de5dd0ed0ec59835cd05d\nCloses-Bug: #1804562\n'}, {'number': 2, 'created': '2018-11-23 02:26:13.000000000', 'files': ['spec/classes/designate_keystone_authtoken_spec.rb', 'releasenotes/notes/deprecate_pki_related_parameters-ba08edad6f3ff4a3.yaml', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/abb9ba6f3588c979cfd12772eb9c3530e4e0726a', 'message': 'Deprecate pki related options\n\ncheck_revocations_for_cached and hash_algorithms are deprecated for\nremovel because of PKI token format is no longer supported.\nUpdate warning message and add a release note.\n\nChange-Id: I6d7b74c6a21943953f8de5dd0ed0ec59835cd05d\nCloses-Bug: #1804562\nCloses-Bug: #1804720\n'}]",0,619418,abb9ba6f3588c979cfd12772eb9c3530e4e0726a,22,5,2,9414,,,0,"Deprecate pki related options

check_revocations_for_cached and hash_algorithms are deprecated for
removel because of PKI token format is no longer supported.
Update warning message and add a release note.

Change-Id: I6d7b74c6a21943953f8de5dd0ed0ec59835cd05d
Closes-Bug: #1804562
Closes-Bug: #1804720
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/18/619418/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate_check_revocations_for_cached_parameter-9576d38f8772df36.yaml', 'spec/classes/designate_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp']",3,664bd3fa2e9feef2cea55d99aabbdae82fe05149,bug/1804562,"# [*check_revocations_for_cached*] # (Optional) If true, the revocation list will be checked for cached tokens. # This requires that PKI tokens are configured on the identity server. # boolean value. # Defaults to undef. # $check_revocations_for_cached = undef, if $check_revocations_for_cached { warning('check_revocations_for_cached parameter is deprecated, has no effect and will be removed in the future.') } ","# [*check_revocations_for_cached*] # (Optional) If true, the revocation list will be checked for cached tokens. # This requires that PKI tokens are configured on the identity server. # boolean value. # Defaults to $::os_service_default. # $check_revocations_for_cached = $::os_service_default, check_revocations_for_cached => $check_revocations_for_cached,",15,11
openstack%2Fmistral~master~I4dc2b1e059d66d16725417ea5aa27b978e2163f0,openstack/mistral,master,I4dc2b1e059d66d16725417ea5aa27b978e2163f0,Add loging for sending an action to executor,MERGED,2018-11-28 06:49:46.000000000,2018-11-29 06:14:55.000000000,2018-11-29 06:14:55.000000000,"[{'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 9029}, {'_account_id': 9712}, {'_account_id': 15895}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 27008}]","[{'number': 1, 'created': '2018-11-28 06:49:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/83fbda82d8e4190e887729a98c6bf526a103184b', 'message': 'Add loging for sending an action to executor\n\nChange-Id: I4dc2b1e059d66d16725417ea5aa27b978e2163f0\n'}, {'number': 2, 'created': '2018-11-28 07:14:33.000000000', 'files': ['releasenotes/notes/add_more_logging_for_sending_actions-c2ddd97027803ecd.yaml', 'mistral/executors/executor_server.py', 'mistral/rpc/clients.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/0fb96bbd2b87d10d0911314ab594dfa152d4f47f', 'message': 'Add loging for sending an action to executor\n\nCloses-Bug: #1805579\nChange-Id: I4dc2b1e059d66d16725417ea5aa27b978e2163f0\n'}]",1,620478,0fb96bbd2b87d10d0911314ab594dfa152d4f47f,14,8,2,8731,,,0,"Add loging for sending an action to executor

Closes-Bug: #1805579
Change-Id: I4dc2b1e059d66d16725417ea5aa27b978e2163f0
",git fetch https://review.opendev.org/openstack/mistral refs/changes/78/620478/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/executors/executor_server.py', 'mistral/rpc/clients.py']",2,83fbda82d8e4190e887729a98c6bf526a103184b,bug/1805579," LOG.debug( ""Sending an action to executor [action_ex_id=%s, action_cls=%s]"", action_ex_id, action_cls_str ) ",,6,1
openstack%2Fpuppet-senlin~master~Ieaf6176f0308bbf051e7b4dcd7e9fea793c5bc36,openstack/puppet-senlin,master,Ieaf6176f0308bbf051e7b4dcd7e9fea793c5bc36,Remove pki related options,MERGED,2018-11-22 03:43:44.000000000,2018-11-29 06:08:42.000000000,2018-11-29 06:08:42.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-22 03:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-senlin/commit/6f271d6f35ccfa17b8985a93ceeb1218f4fb322a', 'message': 'Deprecate check_revocations_for_cached option\n\ncheck_revocations_for_cached is deprecated for removel because of PKI\ntoken format is no longer supported.\nUpdate warning message and add a release note.\n\nChange-Id: Ieaf6176f0308bbf051e7b4dcd7e9fea793c5bc36\nCloses-Bug: #1804562\n'}, {'number': 2, 'created': '2018-11-23 02:26:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-senlin/commit/f445b8c4105dbbc69ad3940e547c0073dfb84a27', 'message': 'Deprecate pki related options\n\ncheck_revocations_for_cached and hash_algorithms are deprecated for\nremovel because of PKI token format is no longer supported.\n\nChange-Id: Ieaf6176f0308bbf051e7b4dcd7e9fea793c5bc36\nCloses-Bug: #1804562\nCloses-Bug: #1804720\n'}, {'number': 3, 'created': '2018-11-26 01:14:22.000000000', 'files': ['spec/classes/senlin_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-senlin/commit/6a76a88bbd8526d03ae10718af6e3822fec023f7', 'message': 'Remove pki related options\n\ncheck_revocations_for_cached and hash_algorithms are deprecated for\nremovel because of PKI token format is no longer supported. We can\nremove them.\n\nChange-Id: Ieaf6176f0308bbf051e7b4dcd7e9fea793c5bc36\nCloses-Bug: #1804562\nCloses-Bug: #1804720\n'}]",0,619406,6a76a88bbd8526d03ae10718af6e3822fec023f7,15,4,3,9414,,,0,"Remove pki related options

check_revocations_for_cached and hash_algorithms are deprecated for
removel because of PKI token format is no longer supported. We can
remove them.

Change-Id: Ieaf6176f0308bbf051e7b4dcd7e9fea793c5bc36
Closes-Bug: #1804562
Closes-Bug: #1804720
",git fetch https://review.opendev.org/openstack/puppet-senlin refs/changes/06/619406/3 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/senlin_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp']",2,6f271d6f35ccfa17b8985a93ceeb1218f4fb322a,bug/1804562,,"# [*check_revocations_for_cached*] # (Optional) If true, the revocation list will be checked for cached tokens. # This requires that PKI tokens are configured on the identity server. # boolean value. # Defaults to $::os_service_default. # $check_revocations_for_cached = $::os_service_default, check_revocations_for_cached => $check_revocations_for_cached,",0,11
openstack%2Fswift~master~Ie4cd8ae038501c8abc43d09cf0b207ca375a4366,openstack/swift,master,Ie4cd8ae038501c8abc43d09cf0b207ca375a4366,Add chaging secret key for external KMS section,MERGED,2018-08-17 00:52:57.000000000,2018-11-29 05:54:42.000000000,2018-11-29 05:54:42.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 27190}]","[{'number': 1, 'created': '2018-08-17 00:52:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f42c94119549d6b9b0df81f559d0663a08245c50', 'message': ""Add chaging secret key for external KMS section\n\nThis patch updates the overview_encryption page to add a\n`Changing the encryption root secret of external KMS's` section\nto point out the slight difference in naming. I.E:\n\n  key_id_<secret_id> vs. encryption_root_secret_<secret_id>\n\nThis patch refers to both multikey support in the KMIP and KMS\nkey masters, so really should land after both of them.\n\nRelated-Change-Id: Ie52508e47d15ec5c4e96902d3c9f5f282d275683\nRelated-Change-Id: I4f485dcb31e5bea511c4e539c54681091fc5bb1c\nChange-Id: Ie4cd8ae038501c8abc43d09cf0b207ca375a4366\n""}, {'number': 2, 'created': '2018-08-21 00:12:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2f0da6cfac999d567b50a9800a93d51d0c15930d', 'message': ""Add chaging secret key for external KMS section\n\nThis patch updates the overview_encryption page to add a\n`Changing the encryption root secret of external KMS's` section\nto point out the slight difference in naming. I.E:\n\n  key_id_<secret_id> vs. encryption_root_secret_<secret_id>\n\nThis patch refers to both multikey support in the KMIP and KMS\nkey masters, so really should land after both of them.\n\nRelated-Change-Id: Ie52508e47d15ec5c4e96902d3c9f5f282d275683\nRelated-Change-Id: I4f485dcb31e5bea511c4e539c54681091fc5bb1c\nChange-Id: Ie4cd8ae038501c8abc43d09cf0b207ca375a4366\n""}, {'number': 3, 'created': '2018-10-18 22:21:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d97de1fe388e43c21b0bfbd8cadc50008acbc429', 'message': ""Add chaging secret key for external KMS section\n\nThis patch updates the overview_encryption page to add a\n`Changing the encryption root secret of external KMS's` section\nto point out the slight difference in naming. I.E:\n\n  key_id_<secret_id> vs. encryption_root_secret_<secret_id>\n\nThis patch refers to both multikey support in the KMIP and KMS\nkey masters, so really should land after both of them.\n\nRelated-Change-Id: Ie52508e47d15ec5c4e96902d3c9f5f282d275683\nRelated-Change-Id: I4f485dcb31e5bea511c4e539c54681091fc5bb1c\nChange-Id: Ie4cd8ae038501c8abc43d09cf0b207ca375a4366\n""}, {'number': 4, 'created': '2018-11-26 22:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4c882d89c945f9144d4c30878777b1e993e3cd7f', 'message': ""Add chaging secret key for external KMS section\n\nThis patch updates the overview_encryption page to add a\n`Changing the encryption root secret of external KMS's` section\nto point out the slight difference in naming. I.E:\n\n  key_id_<secret_id> vs. encryption_root_secret_<secret_id>\n\nThis patch refers to both multikey support in the KMIP and KMS\nkey masters, so really should land after both of them.\n\nRelated-Change-Id: Ie52508e47d15ec5c4e96902d3c9f5f282d275683\nRelated-Change-Id: I4f485dcb31e5bea511c4e539c54681091fc5bb1c\nChange-Id: Ie4cd8ae038501c8abc43d09cf0b207ca375a4366\n""}, {'number': 5, 'created': '2018-11-27 05:39:06.000000000', 'files': ['doc/source/overview_encryption.rst'], 'web_link': 'https://opendev.org/openstack/swift/commit/34aef9d091d60e567d3631010b288d7f4d49a532', 'message': ""Add chaging secret key for external KMS section\n\nThis patch updates the overview_encryption page to add a\n`Changing the encryption root secret of external KMS's` section\nto point out the slight difference in naming. I.E:\n\n  key_id_<secret_id> vs. encryption_root_secret_<secret_id>\n\nThis patch refers to both multikey support in the KMIP and KMS\nkey masters, so really should land after both of them.\n\nRelated-Change-Id: Ie52508e47d15ec5c4e96902d3c9f5f282d275683\nRelated-Change-Id: I4f485dcb31e5bea511c4e539c54681091fc5bb1c\nChange-Id: Ie4cd8ae038501c8abc43d09cf0b207ca375a4366\n""}]",0,592773,34aef9d091d60e567d3631010b288d7f4d49a532,18,4,5,7233,,,0,"Add chaging secret key for external KMS section

This patch updates the overview_encryption page to add a
`Changing the encryption root secret of external KMS's` section
to point out the slight difference in naming. I.E:

  key_id_<secret_id> vs. encryption_root_secret_<secret_id>

This patch refers to both multikey support in the KMIP and KMS
key masters, so really should land after both of them.

Related-Change-Id: Ie52508e47d15ec5c4e96902d3c9f5f282d275683
Related-Change-Id: I4f485dcb31e5bea511c4e539c54681091fc5bb1c
Change-Id: Ie4cd8ae038501c8abc43d09cf0b207ca375a4366
",git fetch https://review.opendev.org/openstack/swift refs/changes/73/592773/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/overview_encryption.rst'],1,f42c94119549d6b9b0df81f559d0663a08245c50,multikey,".. _changing_the_root_secret: to the ``encryption_root_secret_<secret_id>`` option and restart the proxy-server. Do this for all proxies. Next, set the ``active_root_secret_id`` option to the new secret id and restart the proxy. Again, do this for all proxies. This process ensures that all proxies will have the new key available for *decryption* before any proxy uses it for *encryption*.Changing the encryption root secret of external KMS's ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Because the KMS and KMIP keymaster's derive from the default KeyMaster they also have to ability to define multiple keys. The only difference is the key option names. Instead of using the form `encryption_root_secret_<secret_id>` both external KMS's use `key_id_<secret_id>`, as it is an extension of their existing configuration. For example:: ... key_id = 1234567890 key_id_foo = 0987654321 key_id_bar = 5432106789 active_root_secret_id = foo ... Other then that, the process is the same as :ref:`changing_the_root_secret`."," to the ``key_id_<secret_id>`` option and restart the proxy-server. Do this for all proxies. Next, set the ``active_root_secret_id`` option to the new secret id and restart the proxy. Again, do this for all proxies. This process ensures that all proxies will have the new key available for *decryption* before any proxy uses it for *encryption*.",25,5
openstack%2Fswift~master~I4f485dcb31e5bea511c4e539c54681091fc5bb1c,openstack/swift,master,I4f485dcb31e5bea511c4e539c54681091fc5bb1c,Multi-key KMS keymaster,MERGED,2018-08-14 03:19:49.000000000,2018-11-29 05:54:40.000000000,2018-11-29 05:54:40.000000000,"[{'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 27190}]","[{'number': 1, 'created': '2018-08-14 03:19:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f144a3b29889d62a718fd2d3905d71bdbb6742e8', 'message': ""Multi-key KMS keymaster\n\nNow that the trivial keymaster supports multiple keys, let's not\nforget about the KMS/Barbican keymaster. Additional keys are\nconfigured as:\n\n    key_id_<secret_id> = <KMS unique identifier>\n\nAs with the trivial keymaster, the key to use for PUTs and POSTs is\nspecified with:\n\n    active_secret_id = <secret_id>\n\nChange-Id: I4f485dcb31e5bea511c4e539c54681091fc5bb1c\n""}, {'number': 2, 'created': '2018-08-16 03:57:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/af2b49d3c297a9b5b945c64f1b114bb225edb35b', 'message': ""Multi-key KMS keymaster\n\nNow that the trivial keymaster supports multiple keys, let's not\nforget about the KMS/Barbican keymaster. Additional keys are\nconfigured as:\n\n    key_id_<secret_id> = <KMS unique identifier>\n\nAs with the trivial keymaster, the key to use for PUTs and POSTs is\nspecified with:\n\n    active_root_secret_id = <secret_id>\n\nChange-Id: I4f485dcb31e5bea511c4e539c54681091fc5bb1c\n""}, {'number': 3, 'created': '2018-08-17 18:00:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/94cc1cbeac7043620a720d56d034152bdced2297', 'message': ""Multi-key KMS keymaster\n\nNow that the trivial keymaster supports multiple keys, let's not\nforget about the KMS/Barbican keymaster. Additional keys are\nconfigured as:\n\n    key_id_<secret_id> = <KMS unique identifier>\n\nAs with the trivial keymaster, the key to use for PUTs and POSTs is\nspecified with:\n\n    active_root_secret_id = <secret_id>\n\nChange-Id: I4f485dcb31e5bea511c4e539c54681091fc5bb1c\n""}, {'number': 4, 'created': '2018-10-30 02:33:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0719c493d16fdcd5523ae459711b394587e8a2f6', 'message': ""Multi-key KMS keymaster\n\nNow that the trivial keymaster supports multiple keys, let's not\nforget about the KMS/Barbican keymaster. Additional keys are\nconfigured as:\n\n    key_id_<secret_id> = <KMS unique identifier>\n\nAs with the trivial keymaster, the key to use for PUTs and POSTs is\nspecified with:\n\n    active_root_secret_id = <secret_id>\n\nChange-Id: I4f485dcb31e5bea511c4e539c54681091fc5bb1c\n""}, {'number': 5, 'created': '2018-11-26 22:44:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9e225c195f49af35c97bf137e1f9ccaccac771fe', 'message': ""Multi-key KMS keymaster\n\nNow that the trivial keymaster supports multiple keys, let's not\nforget about the KMS/Barbican keymaster. Additional keys are\nconfigured as:\n\n    key_id_<secret_id> = <KMS unique identifier>\n\nAs with the trivial keymaster, the key to use for PUTs and POSTs is\nspecified with:\n\n    active_root_secret_id = <secret_id>\n\nChange-Id: I4f485dcb31e5bea511c4e539c54681091fc5bb1c\n""}, {'number': 6, 'created': '2018-11-27 05:39:06.000000000', 'files': ['swift/common/middleware/crypto/kms_keymaster.py', 'test/unit/common/middleware/crypto/test_kms_keymaster.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/fda3052a2d5c747fbf3e36c5d02ae1cee8488509', 'message': ""Multi-key KMS keymaster\n\nNow that the trivial keymaster supports multiple keys, let's not\nforget about the KMS/Barbican keymaster. Additional keys are\nconfigured as:\n\n    key_id_<secret_id> = <KMS unique identifier>\n\nAs with the trivial keymaster, the key to use for PUTs and POSTs is\nspecified with:\n\n    active_root_secret_id = <secret_id>\n\nChange-Id: I4f485dcb31e5bea511c4e539c54681091fc5bb1c\n""}]",4,591555,fda3052a2d5c747fbf3e36c5d02ae1cee8488509,27,5,6,7233,,,0,"Multi-key KMS keymaster

Now that the trivial keymaster supports multiple keys, let's not
forget about the KMS/Barbican keymaster. Additional keys are
configured as:

    key_id_<secret_id> = <KMS unique identifier>

As with the trivial keymaster, the key to use for PUTs and POSTs is
specified with:

    active_root_secret_id = <secret_id>

Change-Id: I4f485dcb31e5bea511c4e539c54681091fc5bb1c
",git fetch https://review.opendev.org/openstack/swift refs/changes/55/591555/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/middleware/crypto/kms_keymaster.py'],1,f144a3b29889d62a718fd2d3905d71bdbb6742e8,multikey," 'auth_endpoint', 'api_class', 'key_id*', 'active_secret_id') root_secrets = {} for opt, secret_id, key_id in self._load_multikey_opts( conf, 'key_id'): key = manager.get(ctxt, key_id) if key is None: raise ValueError(""Retrieval of encryption root secret with "" ""key_id '%s' returned None."" % conf.get('key_id')) try: if (key.bit_length < 256) or (key.algorithm.lower() != ""aes""): raise ValueError('encryption root secret stored in the ' 'external KMS must be an AES key of at ' 'least 256 bits (provided key ' 'length: %d, provided key algorithm: %s)' % (key.bit_length, key.algorithm)) if (key.format != 'RAW'): raise ValueError('encryption root secret stored in the ' 'external KMS must be in RAW format and ' 'not e.g., as a base64 encoded string ' '(format of key with uuid %s: %s)' % (key_id, key.format)) except Exception: raise ValueError(""Secret with key_id '%s' is not a symmetric "" ""key (type: %s)"" % (key_id), str(type(key))) root_secrets[secret_id] = key.get_encoded() return root_secrets"," 'auth_endpoint', 'api_class', 'key_id') key = manager.get(ctxt, conf.get('key_id')) if key is None: raise ValueError(""Retrieval of encryption root secret with key_id "" ""'%s' returned None."" % conf.get('key_id')) try: if (key.bit_length < 256) or (key.algorithm.lower() != ""aes""): raise ValueError('encryption root secret stored in the ' 'external KMS must be an AES key of at least ' '256 bits (provided key length: %d, provided ' 'key algorithm: %s)' % (key.bit_length, key.algorithm)) if (key.format != 'RAW'): raise ValueError('encryption root secret stored in the ' 'external KMS must be in RAW format and not ' 'e.g., as a base64 encoded string (format of ' 'key with uuid %s: %s)' % (conf.get('key_id'), key.format)) except Exception: raise ValueError(""Secret with key_id '%s' is not a symmetric key "" ""(type: %s)"" % (conf.get('key_id'), str(type(key)))) return key.get_encoded()",29,23
openstack%2Fproject-config~master~I85d59632d5761b2d42d06eaef4b77284c2a956ec,openstack/project-config,master,I85d59632d5761b2d42d06eaef4b77284c2a956ec,Add opendev-website jobs,MERGED,2018-11-28 16:11:33.000000000,2018-11-29 05:00:58.000000000,2018-11-29 05:00:58.000000000,"[{'_account_id': 2}, {'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-28 16:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/ec60436106b1168df1e63e6810e6157c138b91e3', 'message': 'Add opendev-website project to Zuul\n\nChange-Id: I85d59632d5761b2d42d06eaef4b77284c2a956ec\n'}, {'number': 2, 'created': '2018-11-28 21:34:51.000000000', 'files': ['playbooks/publish/opendev-afs.yaml', 'zuul.d/opendev-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/1e4762ad65b3f61fe3bd21076b7df259689d2115', 'message': 'Add opendev-website jobs\n\nChange-Id: I85d59632d5761b2d42d06eaef4b77284c2a956ec\n'}]",5,620646,1e4762ad65b3f61fe3bd21076b7df259689d2115,19,4,2,1,,,0,"Add opendev-website jobs

Change-Id: I85d59632d5761b2d42d06eaef4b77284c2a956ec
",git fetch https://review.opendev.org/openstack/project-config refs/changes/46/620646/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/publish/opendev-afs.yaml', 'zuul.d/opendev-jobs.yaml', 'zuul/main.yaml']",3,ec60436106b1168df1e63e6810e6157c138b91e3,, - openstack-infra/opendev-website,,23,0
openstack%2Fironic~master~I678a7aff4685b8d807570a6bc69bebfaa2960c4e,openstack/ironic,master,I678a7aff4685b8d807570a6bc69bebfaa2960c4e,Fix Chinese quotes,MERGED,2018-11-28 11:19:52.000000000,2018-11-29 04:19:59.000000000,2018-11-28 13:43:56.000000000,"[{'_account_id': 10343}, {'_account_id': 14208}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-28 11:19:52.000000000', 'files': ['api-ref/source/parameters.yaml', 'doc/source/admin/drivers/ilo.rst', 'doc/source/contributor/code-contribution-guide.rst', 'doc/source/admin/drivers/irmc.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2344bb5ea5174bad0b011ebc7ef2063741876983', 'message': 'Fix Chinese quotes\n\nChange-Id: I678a7aff4685b8d807570a6bc69bebfaa2960c4e\n'}]",0,620565,2344bb5ea5174bad0b011ebc7ef2063741876983,8,4,1,25747,,,0,"Fix Chinese quotes

Change-Id: I678a7aff4685b8d807570a6bc69bebfaa2960c4e
",git fetch https://review.opendev.org/openstack/ironic refs/changes/65/620565/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'doc/source/admin/drivers/ilo.rst', 'doc/source/contributor/code-contribution-guide.rst', 'doc/source/admin/drivers/irmc.rst']",4,2344bb5ea5174bad0b011ebc7ef2063741876983,, ironic node object's properties: node object's properties which override the parameter values in, ironic node object’s properties: node object’s properties which override the parameter values in,7,7
openstack%2Fdiskimage-builder~master~I66d5f6ee62cc4d9ee14c64e819b4db57d035d09f,openstack/diskimage-builder,master,I66d5f6ee62cc4d9ee14c64e819b4db57d035d09f,Fix unit tests for elements,MERGED,2018-11-22 01:13:19.000000000,2018-11-29 03:53:43.000000000,2018-11-29 03:53:43.000000000,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-22 01:13:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/8006886728f860b4d7d1be1863ddd4252c7d9f8b', 'message': 'Fix unit tests for elements\n\nIt looks like we dropped running these probably when we moved the\nelements around.  For testtools to find the test scripts we need to\nadd the __init__.py files to make the directories look like modules.\n\nChange-Id: I66d5f6ee62cc4d9ee14c64e819b4db57d035d09f\n'}, {'number': 2, 'created': '2018-11-22 01:31:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/2afd4852e3531b53a1e0e03523581c9a4d62900d', 'message': 'Fix unit tests for elements\n\nIt looks like we dropped running these probably when we moved the\nelements around.  For testtools to find the test scripts we need to\nadd the __init__.py files to make the directories look like modules.\n\nChange-Id: I66d5f6ee62cc4d9ee14c64e819b4db57d035d09f\n'}, {'number': 3, 'created': '2018-11-22 03:14:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/1e0f97ef773617c8a8d82908369c557a9eaccc71', 'message': 'Fix unit tests for elements\n\nIt looks like we dropped running these probably when we moved the\nelements around.  For testtools to find the test scripts we need to\nadd the __init__.py files to make the directories look like modules.\n\nChange-Id: I66d5f6ee62cc4d9ee14c64e819b4db57d035d09f\n'}, {'number': 4, 'created': '2018-11-22 09:09:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/37290a22ff67cadaea89c5eeee16e834d082d38d', 'message': 'Fix unit tests for elements\n\nIt looks like we dropped running these probably when we moved the\nelements around.  For testtools to find the test scripts we need to\nadd the __init__.py files to make the directories look like modules.\nAlso prevent copying any .pyc or cache files in as hooks.\n\nChange-Id: I66d5f6ee62cc4d9ee14c64e819b4db57d035d09f\n'}, {'number': 5, 'created': '2018-11-27 02:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/08c3df71acb7c76f39f7fd54160a3aa89fa81d82', 'message': 'Fix unit tests for elements\n\nIt looks like we dropped running these probably when we moved the\nelements around.  For testtools to find the test scripts we need to\nadd the __init__.py files to make the directories look like modules.\nAlso prevent copying any .pyc or cache files in as hooks.\n\nChange-Id: I66d5f6ee62cc4d9ee14c64e819b4db57d035d09f\n'}, {'number': 6, 'created': '2018-11-28 00:25:12.000000000', 'files': ['diskimage_builder/elements/svc-map/__init__.py', 'diskimage_builder/lib/common-functions', 'diskimage_builder/elements/cache-url/tests/test_cache_url.py', 'diskimage_builder/elements/__init__.py'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/0da1d3a419d4301fecb7a788ae0a6f8b52d18436', 'message': 'Fix unit tests for elements\n\nIt looks like we dropped running these probably when we moved the\nelements around.  For testtools to find the test scripts we need to\nadd the __init__.py files to make the directories look like modules.\nAlso prevent copying any .pyc or cache files in as hooks.\n\nChange-Id: I66d5f6ee62cc4d9ee14c64e819b4db57d035d09f\n'}]",0,619387,0da1d3a419d4301fecb7a788ae0a6f8b52d18436,40,3,6,7118,,,0,"Fix unit tests for elements

It looks like we dropped running these probably when we moved the
elements around.  For testtools to find the test scripts we need to
add the __init__.py files to make the directories look like modules.
Also prevent copying any .pyc or cache files in as hooks.

Change-Id: I66d5f6ee62cc4d9ee14c64e819b4db57d035d09f
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/87/619387/2 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/svc-map/__init__.py', 'diskimage_builder/elements/cache-url/tests/test_cache_url.py', 'diskimage_builder/elements/__init__.py']",3,8006886728f860b4d7d1be1863ddd4252c7d9f8b,simple-init-networkmanager,,,2,2
openstack%2Fgovernance~master~I7e4a15aa8d63ef77c60e0b93887e3c2ffe075149,openstack/governance,master,I7e4a15aa8d63ef77c60e0b93887e3c2ffe075149,start document with chair's responsibilities,MERGED,2018-11-19 19:17:17.000000000,2018-11-29 03:49:24.000000000,2018-11-28 17:07:37.000000000,"[{'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 4257}, {'_account_id': 8556}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-19 19:17:17.000000000', 'files': ['CHAIR.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/0368cea20e1a9c8c902e2f3757abaf8ad7da21c9', 'message': ""start document with chair's responsibilities\n\nStart a reviewable document with the chair's responsibilities. This\nisn't included in the published documentation for now because it is\nmeant as a set of informal notes rather than a binding document.\n\nChange-Id: I7e4a15aa8d63ef77c60e0b93887e3c2ffe075149\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n""}]",6,618810,0368cea20e1a9c8c902e2f3757abaf8ad7da21c9,13,6,1,2472,,,0,"start document with chair's responsibilities

Start a reviewable document with the chair's responsibilities. This
isn't included in the published documentation for now because it is
meant as a set of informal notes rather than a binding document.

Change-Id: I7e4a15aa8d63ef77c60e0b93887e3c2ffe075149
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/governance refs/changes/10/618810/1 && git format-patch -1 --stdout FETCH_HEAD,['CHAIR.rst'],1,0368cea20e1a9c8c902e2f3757abaf8ad7da21c9,documentation-change,"=========================== TC Chair Responsibilities =========================== .. note:: This document is maintained as a simple text file, outside of the published governance document, because it is meant to be used for shared notes rather than as an official ""guide to being TC chair"". General ======= * Keep the Board informed of important decisions * email the board chair and secretary with brief summaries of decisions, linking to the public discussion (e.g., resuming meetings, election outcome, etc.) * Manage formal TC meetings * maintain the agenda in the wiki https://wiki.openstack.org/wiki/Meetings/TechnicalCommittee * Manage the initiative tracker * https://wiki.openstack.org/wiki/Technical_Committee_Tracker * Review proposals to the openstack/governance repo (see below) * Coordinate the agenda for joint leadership meetings with the board (see below) * Send weekly update emails to openstack-dev (see below) Around TC elections =================== During the election period all current TC members continue to serve, even if their term is up and they are not running again. Committee membership changes when the election results are published. When the election results are available: * welcome new and returning members * update the tech-committee group in gerrit: https://review.openstack.org/#/admin/groups/205,members to remove members who should no longer be included and add new members * encourage all TC members to vote on the patch prepared by the election officials with the new roster * encourage all TC members to sign up for the openstack-tc mailing list (while it exists) * propose a patch to remove current chair and vice chair After the election results are confirmed: * propose a patch to restore chair status, if planning to serve again * after a chair is selected, ensure they appear in the tech-committee-chair group in gerrit: https://review.openstack.org/#/admin/groups/206,members * the outgoing chair should notify the board chair and secretary of the new TC membership and chair * start the liaison assignment process (see below) After the chair status is confirmed: * propose a patch to appoint a vice chair Project Team Liaisons ===================== Each term of the TC we designate 2 members to be liaisons to each project team (https://wiki.openstack.org/wiki/OpenStack_health_tracker). * update the wiki to remove the current list of liaisons, leaving the project team names there * encourage TC members to volunteer to act as liaisons for the project teams they want (set a deadline, ~1 week) * use tools/assign_liaisons.py to randomly assign the remaining members to fill in any gaps Governance Repo Patches ======================= Different changes to openstack/governance use different voting rules. The chair is responsible for setting the topic for each change to the right value, and monitoring reviews so we know when it is OK to approve them or when they need to be rejected. https://governance.openstack.org/tc/reference/charter.html#motions and https://governance.openstack.org/tc/reference/house-rules.html cover the voting rules Running ""tox -e check-review-status"" builds a report to show the current status of each patch. Keep in mind that even patches that are technically ready for approval may need to be held if there is strong minority dissent or someone key to the discussion hasn't had a chance to participate. Remind TC members to review patches that are lingering without review. Joint Leadership Meetings ========================= The TC, User Committee, Board of Directors, and leaders of other Foundation projects meet at the Summit to discuss topics of interest to the entire group. Work with the Chair of the Board to build the agenda for the meeting, using input from the TC about topics that we want/need to discuss. Weekly Update Emails ==================== We use weekly email summaries of TC activity as a way to communicate with the rest of the community more easily. These are especially important for folks who do not have time to follow all of the discussions directly. The summary should include: * updates about ongoing discussions, including links to mailing list threads, IRC logs, and reviews * a list of the top 1-2 of things TC members should be focusing on for the next week, such as reviews or mailing list threads ",,124,0
openstack%2Fzun~stable%2Fqueens~Ica077eda90e0d782c206eea7c446b6af646668f8,openstack/zun,stable/queens,Ica077eda90e0d782c206eea7c446b6af646668f8,Add support for secure websocket connection,MERGED,2018-11-28 15:01:42.000000000,2018-11-29 03:46:46.000000000,2018-11-29 03:46:46.000000000,"[{'_account_id': 21428}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-28 15:01:42.000000000', 'files': ['zun/cmd/wsproxy.py', 'zun/conf/websocket_proxy.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/b8d8595fa376d56c87600510b8aba8fdcc013390', 'message': 'Add support for secure websocket connection\n\nAdd a few SSL config for operator to turn on secure connection\non zun websocket proxy.\n\nChange-Id: Ica077eda90e0d782c206eea7c446b6af646668f8\nCloses-Bug: #1762511\n(cherry picked from commit 1bb994962be5822fdf992adf2ead07a72f6064f4)\n'}]",0,620620,b8d8595fa376d56c87600510b8aba8fdcc013390,6,2,1,11536,,,0,"Add support for secure websocket connection

Add a few SSL config for operator to turn on secure connection
on zun websocket proxy.

Change-Id: Ica077eda90e0d782c206eea7c446b6af646668f8
Closes-Bug: #1762511
(cherry picked from commit 1bb994962be5822fdf992adf2ead07a72f6064f4)
",git fetch https://review.opendev.org/openstack/zun refs/changes/20/620620/1 && git format-patch -1 --stdout FETCH_HEAD,"['zun/cmd/wsproxy.py', 'zun/conf/websocket_proxy.py']",2,b8d8595fa376d56c87600510b8aba8fdcc013390,bug/1762511-stable/rocky-stable/queens," cfg.BoolOpt('ssl_only', help=""Disallow non-encrypted connections.""), cfg.StrOpt('cert', default='', help=""Path to SSL certificate file.""), cfg.StrOpt('key', default='', help=""SSL key file (if separate from cert).""),",,11,0
openstack%2Fpython-zunclient~master~I93a4ec8804e74e17c478f2ee2ecf9b3402fcbd3f,openstack/python-zunclient,master,I93a4ec8804e74e17c478f2ee2ecf9b3402fcbd3f,Re-introduce gate_hook.sh in zunclient,MERGED,2018-07-07 17:15:04.000000000,2018-11-29 03:10:03.000000000,2018-07-07 19:47:12.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-07 17:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/cbd9e5b75b37ec4aabbcfbc107bca2400794e12f', 'message': 'Re-introduce gate_hook.sh in zunclient\n\nThe script gate_hook.sh was removed at Zun side [1] as part of\nthe effort for migrating to zuul v3 native job. However, zunclient\nstill need this script and the removal causes the failure of the\nCI. This patch re-introduce the script at zunclient as a temporary\nfix. The long-term fix is to migrate the job to zuul v3 native\nas well.\n\n[1] https://review.openstack.org/#/c/512209/\n\nChange-Id: I93a4ec8804e74e17c478f2ee2ecf9b3402fcbd3f\n'}, {'number': 2, 'created': '2018-07-07 17:49:11.000000000', 'files': ['playbooks/zunclient-devstack-docker-sql/run.yaml', 'zunclient/tests/functional/hooks/gate_hook.sh'], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/d6448c622b57f574ebfdaa24634b3602d290c051', 'message': 'Re-introduce gate_hook.sh in zunclient\n\nThe script gate_hook.sh was removed at Zun side [1] as part of\nthe effort for migrating to zuul v3 native job. However, zunclient\nstill need this script and the removal causes the failure of the\nCI. This patch re-introduce the script at zunclient as a temporary\nfix. The long-term fix is to migrate the job to zuul v3 native\nas well.\n\n[1] https://review.openstack.org/#/c/512209/\n\nChange-Id: I93a4ec8804e74e17c478f2ee2ecf9b3402fcbd3f\n'}]",0,580814,d6448c622b57f574ebfdaa24634b3602d290c051,9,2,2,11536,,,0,"Re-introduce gate_hook.sh in zunclient

The script gate_hook.sh was removed at Zun side [1] as part of
the effort for migrating to zuul v3 native job. However, zunclient
still need this script and the removal causes the failure of the
CI. This patch re-introduce the script at zunclient as a temporary
fix. The long-term fix is to migrate the job to zuul v3 native
as well.

[1] https://review.openstack.org/#/c/512209/

Change-Id: I93a4ec8804e74e17c478f2ee2ecf9b3402fcbd3f
",git fetch https://review.opendev.org/openstack/python-zunclient refs/changes/14/580814/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/zunclient-devstack-docker-sql/run.yaml', 'zunclient/tests/functional/hooks/gate_hook.sh']",2,cbd9e5b75b37ec4aabbcfbc107bca2400794e12f,,"#!/bin/bash -x # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # This script is executed inside gate_hook function in devstack gate. # Keep all devstack settings here instead of project-config for easy # maintain if we want to change devstack config settings in future. driver=$1 db=$2 export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin kuryr-libnetwork https://git.openstack.org/openstack/kuryr-libnetwork"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin devstack-plugin-container https://git.openstack.org/openstack/devstack-plugin-container"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""ZUN_USE_UWSGI=True"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""KURYR_CONFIG_DIR=/etc/kuryr-libnetwork"" export DEVSTACK_GATE_TEMPEST=1 export DEVSTACK_GATE_TEMPEST_ALL_PLUGINS=1 export DEVSTACK_GATE_TEMPEST_REGEX=""zun_tempest_plugin.tests.tempest.api"" if [ ""$driver"" = ""docker"" ]; then export DEVSTACK_LOCAL_CONFIG+=$'\n'""ZUN_DRIVER=docker"" fi if [ ""$db"" = ""etcd"" ]; then export DEVSTACK_LOCAL_CONFIG+=$'\n'""ZUN_DB_TYPE=etcd"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""KURYR_ETCD_PORT=2379"" elif [ ""$db"" = ""sql"" ]; then export DEVSTACK_LOCAL_CONFIG+=$'\n'""ZUN_DB_TYPE=sql"" fi $BASE/new/devstack-gate/devstack-vm-gate.sh gate_retval=$? # Copy over docker systemd unit journals. mkdir -p $WORKSPACE/logs sudo journalctl -o short-precise --unit docker | sudo tee $WORKSPACE/logs/docker.txt > /dev/null exit $gate_retval ",,52,2
openstack%2Fopenstack-ansible~stable%2Fpike~Idf47baab272c0383704bf62781190f19a697fd58,openstack/openstack-ansible,stable/pike,Idf47baab272c0383704bf62781190f19a697fd58,Update all SHAs for 16.0.23,MERGED,2018-11-19 21:31:22.000000000,2018-11-29 03:08:01.000000000,2018-11-29 03:08:01.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-19 21:31:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3cc5dabae9142179f1b66af94655f8ca4b49b81c', 'message': 'Update all SHAs for 16.0.23\n\nThis patch:\n- updates all the roles to the latest available stable SHAs\n- copies the release notes from the updated roles into the integrated repo\n- updates all the OpenStack Service SHAs\n\nDepends-On: https://review.openstack.org/618838\nChange-Id: Idf47baab272c0383704bf62781190f19a697fd58\n'}, {'number': 2, 'created': '2018-11-28 16:35:08.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'group_vars/all/all.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5a8dc13f94a5eb4f4e124678d5b08407b91fa8ca', 'message': 'Update all SHAs for 16.0.23\n\nThis patch:\n- updates all the roles to the latest available stable SHAs\n- copies the release notes from the updated roles into the integrated repo\n- updates all the OpenStack Service SHAs\n\nDepends-On: https://review.openstack.org/618838\nChange-Id: Idf47baab272c0383704bf62781190f19a697fd58\n'}]",0,618840,5a8dc13f94a5eb4f4e124678d5b08407b91fa8ca,16,3,2,17068,,,0,"Update all SHAs for 16.0.23

This patch:
- updates all the roles to the latest available stable SHAs
- copies the release notes from the updated roles into the integrated repo
- updates all the OpenStack Service SHAs

Depends-On: https://review.openstack.org/618838
Change-Id: Idf47baab272c0383704bf62781190f19a697fd58
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/40/618840/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'group_vars/all/all.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'ansible-role-requirements.yml']",4,3cc5dabae9142179f1b66af94655f8ca4b49b81c,release_osa, version: 66f0e91edcec1449c7376316fe403a6c6b20d34a, version: c46b2744896fc26fd900c2c882d6e5bb2427db55,35,35
openstack%2Fpython-zunclient~stable%2Frocky~I441946dc168db645744da093e215f65fa1ca3637,openstack/python-zunclient,stable/rocky,I441946dc168db645744da093e215f65fa1ca3637,"Set HTTP header ""Origin"" when using websocket",MERGED,2018-11-28 03:06:10.000000000,2018-11-29 03:02:06.000000000,2018-11-29 03:02:06.000000000,"[{'_account_id': 21428}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-28 03:06:10.000000000', 'files': ['zunclient/common/websocketclient/websocketclient.py'], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/3adcd73ac7024ae084532d0d8fb264dad245b694', 'message': 'Set HTTP header ""Origin"" when using websocket\n\nThis is because if this header is missing, the websocket client\nwill populate this header as ""http://..."", which is incorrect\nif we are using secure connection (in which this header should\nbe ""https://..."").\n\nChange-Id: I441946dc168db645744da093e215f65fa1ca3637\nRelated-Bug: #1762511\n(cherry picked from commit 67660449617b2a884735f000f922faafe69659b0)\n'}]",0,620443,3adcd73ac7024ae084532d0d8fb264dad245b694,7,2,1,11536,,,0,"Set HTTP header ""Origin"" when using websocket

This is because if this header is missing, the websocket client
will populate this header as ""http://..."", which is incorrect
if we are using secure connection (in which this header should
be ""https://..."").

Change-Id: I441946dc168db645744da093e215f65fa1ca3637
Related-Bug: #1762511
(cherry picked from commit 67660449617b2a884735f000f922faafe69659b0)
",git fetch https://review.opendev.org/openstack/python-zunclient refs/changes/43/620443/1 && git format-patch -1 --stdout FETCH_HEAD,['zunclient/common/websocketclient/websocketclient.py'],1,3adcd73ac7024ae084532d0d8fb264dad245b694,bug/1762511-stable/rocky,"import six.moves.urllib.parse as urlparse origin=self._compute_origin_header(url), def _compute_origin_header(self, url): origin = urlparse.urlparse(url) if origin.scheme == 'wss': return ""https://%s:%s"" % (origin.hostname, origin.port) else: return ""http://%s:%s"" % (origin.hostname, origin.port) ",,9,0
openstack%2Ffreezer~master~I937eb4c3f2ec746a31987b01071088de047f4b40,openstack/freezer,master,I937eb4c3f2ec746a31987b01071088de047f4b40,Update link address of installation guide,MERGED,2018-11-28 11:08:23.000000000,2018-11-29 01:59:02.000000000,2018-11-29 01:59:02.000000000,"[{'_account_id': 21387}, {'_account_id': 22348}, {'_account_id': 22484}]","[{'number': 1, 'created': '2018-11-28 11:08:23.000000000', 'files': ['doc/source/install/index.rst'], 'web_link': 'https://opendev.org/openstack/freezer/commit/285b59a048c08e0899c819c1fa7ce7d0713c915c', 'message': 'Update link address of installation guide\n\nChange-Id: I937eb4c3f2ec746a31987b01071088de047f4b40\n'}]",0,620560,285b59a048c08e0899c819c1fa7ce7d0713c915c,7,3,1,25747,,,0,"Update link address of installation guide

Change-Id: I937eb4c3f2ec746a31987b01071088de047f4b40
",git fetch https://review.opendev.org/openstack/freezer refs/changes/60/620560/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/index.rst'],1,285b59a048c08e0899c819c1fa7ce7d0713c915c,,<https://docs.openstack.org/install-guide/>`_.,<https://docs.openstack.org/project-install-guide/ocata/>`_.,1,1
openstack%2Fproject-config~master~I6d0bede66676ef73df176609997807f079e9bd56,openstack/project-config,master,I6d0bede66676ef73df176609997807f079e9bd56,Add opendev-website project to Zuul,MERGED,2018-11-28 21:34:51.000000000,2018-11-29 01:48:31.000000000,2018-11-29 01:48:31.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-28 21:34:51.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ceff6392613d9f772bb0fa31135ef9efc90605c7', 'message': 'Add opendev-website project to Zuul\n\nChange-Id: I6d0bede66676ef73df176609997807f079e9bd56\n'}]",0,620704,ceff6392613d9f772bb0fa31135ef9efc90605c7,7,3,1,1,,,0,"Add opendev-website project to Zuul

Change-Id: I6d0bede66676ef73df176609997807f079e9bd56
",git fetch https://review.opendev.org/openstack/project-config refs/changes/04/620704/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,ceff6392613d9f772bb0fa31135ef9efc90605c7,, - openstack-infra/opendev-website,,1,0
openstack%2Fcyborg~master~Id2937563145c36ab371d2ee2b013e906895297a3,openstack/cyborg,master,Id2937563145c36ab371d2ee2b013e906895297a3,List accelerators for all-tenants by default,MERGED,2018-11-26 10:06:32.000000000,2018-11-29 01:24:12.000000000,2018-11-29 01:24:12.000000000,"[{'_account_id': 14107}, {'_account_id': 14131}, {'_account_id': 17813}, {'_account_id': 22348}, {'_account_id': 22899}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 27458}]","[{'number': 1, 'created': '2018-11-26 10:06:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/25abab35653b715b14a1f4fa8b3864b0af9c67f7', 'message': 'List accelerators for all-tenants by default\n\nThis patch fixes the following bug :\nFPGA resources already been reported in DB but cyborg accelerator-list\nreturns none\nStory: #2004424\nTask: #28076\n\nChange-Id: Id2937563145c36ab371d2ee2b013e906895297a3\n'}, {'number': 2, 'created': '2018-11-28 11:45:17.000000000', 'files': ['cyborg/api/controllers/v1/accelerators.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/d63b85870fba4984110550ea7a9bfa63b911c94b', 'message': 'List accelerators for all-tenants by default\n\nThis patch fixes the following bug :\nFPGA resources already been reported in DB but cyborg accelerator-list\nreturns none\nStory: #2004424\nTask: #28076\n\nChange-Id: Id2937563145c36ab371d2ee2b013e906895297a3\n'}]",0,619997,d63b85870fba4984110550ea7a9bfa63b911c94b,12,8,2,24872,,,0,"List accelerators for all-tenants by default

This patch fixes the following bug :
FPGA resources already been reported in DB but cyborg accelerator-list
returns none
Story: #2004424
Task: #28076

Change-Id: Id2937563145c36ab371d2ee2b013e906895297a3
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/97/619997/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/api/controllers/v1/accelerators.py'],1,25abab35653b715b14a1f4fa8b3864b0af9c67f7,, all_tenants=True):, all_tenants=None):,1,1
openstack%2Fnova-specs~master~I2615881f70f587b5134e389fc1bfbd85f180785b,openstack/nova-specs,master,I2615881f70f587b5134e389fc1bfbd85f180785b,Spec for volume-backed flavors,ABANDONED,2017-10-13 21:30:10.000000000,2018-11-29 01:08:25.000000000,,"[{'_account_id': 3}, {'_account_id': 136}, {'_account_id': 1004}, {'_account_id': 2033}, {'_account_id': 2243}, {'_account_id': 3189}, {'_account_id': 6873}, {'_account_id': 7156}, {'_account_id': 8768}, {'_account_id': 8864}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2017-10-13 21:30:10.000000000', 'files': ['specs/queens/approved/volume-backed-flavors.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/a522b5a8b35ec00b9d75744b39d9cc10ff3066e7', 'message': 'Spec for volume-backed flavors\n\nProposes a discoverable way for admins to define flavors as being\nbacked by persistent storage and simplify the user experience for\ncreating a volume-backed instance.\n\nAPIImpact\n\nSpec for blueprint volume-backed-flavors\n\nChange-Id: I2615881f70f587b5134e389fc1bfbd85f180785b\n'}]",18,511965,a522b5a8b35ec00b9d75744b39d9cc10ff3066e7,15,13,1,6873,,,0,"Spec for volume-backed flavors

Proposes a discoverable way for admins to define flavors as being
backed by persistent storage and simplify the user experience for
creating a volume-backed instance.

APIImpact

Spec for blueprint volume-backed-flavors

Change-Id: I2615881f70f587b5134e389fc1bfbd85f180785b
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/65/511965/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/queens/approved/volume-backed-flavors.rst'],1,a522b5a8b35ec00b9d75744b39d9cc10ff3066e7,bp/volume-backed-flavors,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ===================== Volume-backed flavors ===================== `<https://blueprints.launchpad.net/nova/+spec/volume-backed-flavors>`_ Proposes a discoverable way for admins to define flavors as being backed by persistent storage and simplify the user experience for creating a volume-backed instance. Problem description =================== There are two main problems this spec is trying to address. #. Operators would like to use the block storage service for all of their storage needs, including ""ephemeral"" storage for compute instances. However, there is no good interoperable way to force users to create volume-backed instances which will use that block storage since ``block_device_mapping_v2`` is optional when creating an instance. #. The ``block_device_mapping_v2`` request schema is powerful but very complicated which makes it hard for users and SDK/CLI/library tooling to specify correctly. Some of this complexity can be hidden in CLI and other orchestration tooling, but that has to then be copied across all tools. Use Cases --------- As an operator, I want to use my reliable and plentiful persistent block storage for all of my compute needs, and leave compute host local disk reserved for the running of the compute host operating system, hypervisor, networking agent, etc. As a user, I want a simple way to request a volume-backed instance without having to earn a masters degree in the ``block_device_mapping_v2`` domain-specific language. Proposed change =============== In a new microversion, allow operators to set a new ``volume_backed`` boolean attribute on a flavor. By default, this would be False for backward compatibility. A goal of this change is that the process of creating a volume-backed instance is simplified for the end user, similar to the 2.37 compute API for the ""get me a network"" effort. A *volume* BDM in this context is one that is considered to be a BDM where ``destination_type=volume`` and ``source_type`` is not ``blank``. User-defined and image-defined *volume* block device mappings in a server create request would take precedence over the ``volume_backed`` value of the flavor. * A user-defined BDM is where the user specifies a ``block_device_mapping_v2`` entry in the ``POST /servers`` request. * An image-defined BDM [1]_ is one where ``block_device_mapping_v2`` metadata is stored in an image, typically from an image snapshot taken of a volume-backed instance. Creating a new instance from a snapshot image with BDM metadata will result in a new volume-backed instance with the snapshot image as the root disk. * For completeness, there is also something called flavor-defined BDMs [2]_ but that is only for swap and ephemeral disks when the flavor swap and/or ephemeral values are greater than zero. If ``volume_backed=True`` and there are no user or image-defined *volume* BDMs, then the compute API will automatically add an entry to the ``block_device_mapping_v2`` list using the provided flavor and image details during the server create request, e.g.:: { 'source_type': 'image', 'boot_index': '0', 'destination_type': 'volume', 'uuid': image_id, 'volume_size': flavor['root_gb'], 'delete_on_termination': False, } If the user wants anything more custom with the block device mapping such as a different ``bus_type``, ``delete_on_termination`` or device ``tag`` values they would need to specify a ``block_device_mapping_v2`` entry in the request. .. note:: The ``delete_on_termination`` flag for BDMs auto-created via the flavor would be set to False which is the same as the default when specifying ``block_device_mapping_v2`` today. There are pros and cons to this: * To simplify the user experience for getting a volume-backed instance, we need to not delete the volume on instance termination, otherwise it's not a persistent volume. Users arguably are booting from volume for long-lived pets where they do not want to lose the disk if the instance has to be rebuilt or deleted. * For users that do not want a persistent volume-backed instance, if ``volume_backed=True`` is the only kind of flavor available in a given cloud then the user will have to delete the volume in addition to deleting the instance when they are done with it. This trades one complication, the server create request, for another, the resource cleanup. * For operators that do not want to use local compute host disk for ephemeral instances, this does mean that users would start to get persistent volumes for any instances using a ``volume_backed=True`` flavor when really what the operator wants is those volumes to be treated as ephemeral and get deleted when the instance is deleted. .. todo:: Resolve the issues with delete_on_termination and if the volume_backed attribute should really be a boolean, or if it should be something like ""false"", ""ephemeral"", ""persistent"" which would give the operator the choice of defining if they provide these at all, and if so, are they persistent or not. **Discoverability considerations** There will be discoverability issues with this given it's a new flavor attribute in a microversion. For example, an admin creates all of their flavors with ``volume_backed=True`` so Nova is going to create a volume-backed instance for all instances. However, if the user is only listing and showing flavor details at v2.1 (or any lower microversion than the one that added the new attribute), then they might be surprised why they have a volume-backed instance, and they might even delete it while it's being created (at the same time as the server create) which will actually make the server create fail. Hopefully the name of the flavor will be sufficient to explain it is a volume-backed flavor even if the attribute (or soon to be description field [3]_) does not get exposed to the user on v2.1. **Resize considerations** When resizing an instance, the user specifies a different flavor. To keep things as simple as possible, we will not support resizing from a ``volume_backed=False`` flavor to a ``volume_backed=True`` flavor, or vice-versa. Attempting to do so would result in a ``400 HTTPBadRequest`` response. While we could do something like ignore that attribute and only concern ourselves with the ``vcpus``, ``disk`` and ``ram`` flavor attributes during resize like normal, it would be confusing to allow resizing between flavors with different ``volume_backed`` values if we did not actually change the root disk, because the instance would report using a flavor which might not accurately reflect its root disk. Think of this like trying to rebuild a volume-backed instance with a new image; the image in the root disk does not actually get replaced in this case which leads to a confusing user experience. Alternatives ------------ There have been several related attempts at solving some of these same issues. #. Using `api-paste middleware`_ to auto-inject a volume BDM in a server create request. This is a very similar idea to what is proposed in this spec except it is not discoverable by the end user nor is it interoperable across clouds since it is deployment-specific. #. There was a `spec approved`_ in the Newton release which proposed adding a ``local_disks`` flavor attribute in the API. The goal was for the admin to set all flavors to have ``local_disks=False`` and force the usage of persistent storage with block device mappings. However, the user experience in this proposal was poor because it meant that if a user used one of these flavors and did not specify a ``block_device_mapping_v2`` entry, they would get an error response from the server, have to fix their request and retry. That does not solve the simplicity goal of this spec for the end user. #. There was a `proof-of-concept patch`_ proposed which used an ``is_bdm_flavor`` flavor extra spec to toggle the auto-volume BDM behavior. That was very similar to what is proposed here, except it relies on flavor extra specs which are not standardized so it is not interoperable. The argument could be made that end users can see flavor extra specs by default and figure out what the flavor does, however, deployments can configure their policy rules to not allow non-admin users to see extra spec details. #. Another alternative that has been discussed several times [4]_ is implementing a Cinder ephemeral image backend driver. Operators could configure the computes that they want to not use local disk with this image type and it would create a Cinder volume automatically which would be deleted when the instance is deleted. If we implemented this, it would also provide support for all of the various Cinder volume types and backends like rbd and scaleio, so those existing backends in Nova could be deprecated in favor of the generic Cinder backend. This would also mean allowing to specify volume type when creating an instance in Nova, at least via flavor extra spec. However, the image backend code is already complicated so adding new backends is not trivial, and there is no clear owner for working on this so it has never gotten traction. The image backend code is also per virt driver, so writing something like this would also potentially require making it generic across virt drivers. What is proposed in *this* spec, however, will work the same regardless of virt driver. .. _api-paste middleware: https://gist.github.com/mgagne/161bd7eaeb4c747fa1ae97c0bc43c093 .. _spec approved: https://specs.openstack.org/openstack/nova-specs/specs/newton/approved/flavor-root-disk-none.html .. _proof-of-concept patch: https://review.openstack.org/#/c/432503/ Data model impact ----------------- Add a Boolean ``volume_backed`` column to the ``nova_api.flavors`` table. The default value would be False. REST API impact --------------- In a new microversion: * **POST /flavors** Allow specifying an optional ``volume_backed`` boolean attribute in a flavor create request. Request sample:: { ""flavor"": { ""name"": ""1024ram-2vcpu-10disk-persistent"", ""ram"": 1024, ""vcpus"": 2, ""disk"": 10, ""volume_backed"": True } } Response sample:: { ""flavor"": { ""OS-FLV-DISABLED:disabled"": false, ""disk"": 10, ""OS-FLV-EXT-DATA:ephemeral"": 0, ""os-flavor-access:is_public"": true, ""id"": ""fe688ad6-0fca-48ef-a4b0-c705d2427dc4"", ""links"": [ { ""href"": ""http://openstack.example.com/v2/flavors/fe688ad6-0fca-48ef-a4b0-c705d2427dc4"", ""rel"": ""self"" }, { ""href"": ""http://openstack.example.com/flavors/fe688ad6-0fca-48ef-a4b0-c705d2427dc4"", ""rel"": ""bookmark"" } ], ""name"": ""1024ram-2vcpu-10disk-persistent"", ""ram"": 1024, ""swap"": """", ""vcpus"": 2, ""rxtx_factor"": 1.0, ""volume_backed"": True } } * **GET /flavors and GET /flavors/{flavor_id}** Return the ``volume_backed`` value in the response. * **GET /servers/detail and GET /servers/{server_id}** Return the ``volume_backed`` value in the server response in the embedded ``flavor`` entry. Security impact --------------- None Notifications impact -------------------- Add the ``volume_backed`` value to flavor create and delete versioned notifications. Other end user impact --------------------- For volume-backed instances, the user has to have enough quota in the block storage service to create a new volume for each instance that is created. This would become a more limiting factor if a cloud chose to make all flavors volume-backed, however, it is not a fundamentally new issue introduced by this spec. Performance Impact ------------------ Creating volume-backed instances does make the create operation take longer since the compute service has to orchestrate the volume creation, but this is no different from how things work today. It would have to be something deployers using this feature would have to account for however if they make all of their flavors volume-backed. Other deployer impact --------------------- When creating a volume-backed instance fails in the ``nova-compute`` service, either because the volume create or attach failed, there is no cleanup of the volume and reschedule to another compute host. This is a known issue [5]_. Therefore, if a deployment only had volume-backed flavors they would have to be careful about making sure they have a high chance of success of creating all instances with a backing volume. Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Matt Riedemann (mriedem) <mriedem.os@gmail.com> Other contributors: None Work Items ---------- * Make the microversion API changes described above for the new ``volume_backed`` flavor attribute. * Update python-novaclient to allow setting and showing the ``volume_backed`` attribute in flavor and server CLIs and python API bindings. Dependencies ============ None Testing ======= * Unit testing for negative scenarios. * Functional API samples testing for positive ""happy path"" scenarios. * Tempest scenario testing for the new microversion. Documentation Impact ==================== * The compute REST API reference would be updated for the new microversion. * The compute flavors guide would be updated for the new ``volume_backed`` attribute. References ========== .. [1] https://github.com/openstack/nova/blob/16.0.0/nova/compute/api.py#L622 .. [2] https://github.com/openstack/nova/blob/16.0.0/nova/compute/api.py#L647 .. [3] https://review.openstack.org/#/c/501017/ .. [4] http://lists.openstack.org/pipermail/openstack-dev/2017-May/117012.html .. [5] https://bugs.launchpad.net/nova/+bug/1488111 * `Block Device Mapping User Documentation <https://docs.openstack.org/nova/pike/user/block-device-mapping.html>`_ * `Boston Forum session etherpad <https://etherpad.openstack.org/p/BOS-forum-using-cinder-for-nova-ephemeral-storage>`_ History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Queens - Introduced ",,371,0
openstack%2Fopenstack-helm-infra~master~I13a6f5eb21494746c2b77e340e8d0dcb0d81a591,openstack/openstack-helm-infra,master,I13a6f5eb21494746c2b77e340e8d0dcb0d81a591,"Add failure domains, and device classes for custom CRUSH rules",MERGED,2018-11-24 01:04:37.000000000,2018-11-29 00:42:05.000000000,2018-11-29 00:42:04.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 24554}, {'_account_id': 28372}, {'_account_id': 29053}, {'_account_id': 29106}, {'_account_id': 29268}, {'_account_id': 29528}]","[{'number': 1, 'created': '2018-11-24 01:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fdc39934079a1abe134732ed4eb1243dc100a1f8', 'message': 'Add CRUSH device class support for co-existing SSD and HDD OSDs\n\nAllow creating custom crush rules using the ssd,hdd device classes\nwith multiple failure domains. Additionally autodetect the number\nof OSDs for each class which is required for calculating the\nplacement groups for each pool.\n\nChange-Id: I13a6f5eb21494746c2b77e340e8d0dcb0d81a591\n'}, {'number': 2, 'created': '2018-11-24 06:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/82cb7675794e72d23d02f30afc6a495c28f3ee3f', 'message': 'Add CRUSH device class support for co-existing SSD and HDD OSDs\n\nAllow creating custom crush rules using the ssd,hdd device classes\nwith multiple failure domains. Additionally autodetect the number\nof OSDs for each class which is required for calculating the\nplacement groups for each pool.\n\nChange-Id: I13a6f5eb21494746c2b77e340e8d0dcb0d81a591\n'}, {'number': 3, 'created': '2018-11-24 15:01:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/48c9f0dbb572bbf437fed3fa6847d90358accd04', 'message': ""ceph improvements: failure domains, and device classes for CRUSH\n\nLargely taken from Kranthi's PS.\n\nAdded support for creating custom CRUSH rules based off of failure\ndomains and device classes. Cleaned up the PG Calculation, to auto\ndetect the number of OSDs in a cluster.\n\nChange-Id: I13a6f5eb21494746c2b77e340e8d0dcb0d81a591\n""}, {'number': 4, 'created': '2018-11-24 16:13:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ef9bbed83ed18dfbe07bfd80d5b2e20d0e47e922', 'message': ""ceph improvements: failure domains, and device classes for CRUSH\n\nLargely taken from Kranthi's PS.\n\nAdded support for creating custom CRUSH rules based off of failure\ndomains (osd,host,rack) and device classes (sdd,hdd). Cleaned up\nthe PG Calculation, to auto detect the number of OSDs in a cluster.\n\nChange-Id: I13a6f5eb21494746c2b77e340e8d0dcb0d81a591\n""}, {'number': 5, 'created': '2018-11-24 23:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e581893c7e05b20b3dd69997b644c60f774f2649', 'message': ""ceph improvements: failure domains, and device classes for CRUSH\n\nLargely taken from Kranthi's PS.\n\n - Added support for creating custom CRUSH rules based off of failure\ndomains (osd,host,rack) and device classes (sdd,hdd).\n- Basic logic around the PG calculator to autodetect the number of\nOSDs globally and per device class.\n- Code cleanups of unused variables.\n\nChange-Id: I13a6f5eb21494746c2b77e340e8d0dcb0d81a591\n""}, {'number': 6, 'created': '2018-11-26 02:58:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fa7d3927db30fcf7375fa16be725098cd7995bd3', 'message': ""ceph improvements: failure domains, and device classes for CRUSH\n\nLargely taken from Kranthi's PS.\n\n - Added support for creating custom CRUSH rules based off of failure\ndomains (osd,host,rack,room,pod,datacenter) and device classes\n(sdd,hdd).\n- Basic logic around the PG calculator to autodetect the number of\nOSDs globally and per device class.\n- Code cleanups of unused variables.\n\nChange-Id: I13a6f5eb21494746c2b77e340e8d0dcb0d81a591\n""}, {'number': 7, 'created': '2018-11-26 14:33:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/76ecb2ced9d8734fce123efcc8fa63fdc2d8c756', 'message': ""ceph improvements: failure domains, and device classes for CRUSH\n\nLargely taken from Kranthi's PS.\n\n - Added support for creating custom CRUSH rules based off of failure\ndomains (osd,host,rack,room,pod,datacenter) and device classes\n(sdd,hdd).\n- Basic logic around the PG calculator to autodetect the number of\nOSDs globally and per device class.\n- Code cleanups of unused variables.\n\nChange-Id: I13a6f5eb21494746c2b77e340e8d0dcb0d81a591\n""}, {'number': 8, 'created': '2018-11-26 16:47:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9c208412628323d74306b472ea18bb4dd8ab876c', 'message': ""ceph improvements: failure domains, and device classes for CRUSH\n\nLargely inspired and taken from Kranthi's PS.\n\n - Added support for creating custom CRUSH rules based off of failure\ndomains (osd,host,rack,room,pod,datacenter) and device classes\n(sdd,hdd).\n- Basic logic around the PG calculator to autodetect the number of\nOSDs globally and per device class.\n- Code cleanups of unused variables.\n\nChange-Id: I13a6f5eb21494746c2b77e340e8d0dcb0d81a591\n""}, {'number': 9, 'created': '2018-11-26 16:53:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7495c36c0864343d66ec55ee3ac062b6dfd5f4ac', 'message': ""ceph improvements: failure domains, and device classes for CRUSH\n\nLargely inspired and taken from Kranthi's PS.\n\n - Added support for creating custom CRUSH rules based off of failure\ndomains (osd,host,rack,room,pod,datacenter) and device classes\n(sdd,hdd).\n- Basic logic around the PG calculator to autodetect the number of\nOSDs globally and per device class.\n- Code cleanups of unused variables.\n\nChange-Id: I13a6f5eb21494746c2b77e340e8d0dcb0d81a591\n""}, {'number': 10, 'created': '2018-11-26 18:59:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/af9e37ae5ef83d1791832fa1fa33699585f20f79', 'message': ""ceph improvements: failure domains, and device classes for CRUSH\n\nLargely inspired and taken from Kranthi's PS.\n\n - Added support for creating custom CRUSH rules based off of failure\ndomains (osd,host,rack,room,pod,datacenter) and device classes\n(sdd,hdd).\n- Basic logic around the PG calculator to autodetect the number of\nOSDs globally and per device class (required when using custom crush\nrules that specify device classes).\n\nChange-Id: I13a6f5eb21494746c2b77e340e8d0dcb0d81a591\n""}, {'number': 11, 'created': '2018-11-26 19:01:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3e9ae654449a1f4468d3c06f96486f6bf30cd096', 'message': ""Add failure domains, and device class for custom CRUSH rules\n\nLargely inspired and taken from Kranthi's PS.\n\n - Add support for creating custom CRUSH rules based off of failure\ndomains (osd,host,rack,room,pod,datacenter) and device classes\n(sdd,hdd).\n- Basic logic around the PG calculator to autodetect the number of\nOSDs globally and per device class (required when using custom crush\nrules that specify device classes).\n\nChange-Id: I13a6f5eb21494746c2b77e340e8d0dcb0d81a591\n""}, {'number': 12, 'created': '2018-11-26 19:01:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e9ca1db6aec2d68debee1aaf52d6fca6015365ec', 'message': ""Add failure domains, and device classes for custom CRUSH rules\n\nLargely inspired and taken from Kranthi's PS.\n\n - Add support for creating custom CRUSH rules based off of failure\ndomains (osd,host,rack,room,pod,datacenter) and device classes\n(sdd,hdd).\n- Basic logic around the PG calculator to autodetect the number of\nOSDs globally and per device class (required when using custom crush\nrules that specify device classes).\n\nChange-Id: I13a6f5eb21494746c2b77e340e8d0dcb0d81a591\n""}, {'number': 13, 'created': '2018-11-27 15:18:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/577bbcdcf587602d387010964fb3be14a8d934fc', 'message': ""Add failure domains, and device classes for custom CRUSH rules\n\nLargely inspired and taken from Kranthi's PS.\n\n - Add support for creating custom CRUSH rules based off of failure\ndomains and device classes (ssd & hdd)\n- Basic logic around the PG calculator to autodetect the number of\nOSDs globally and per device class (required when using custom crush\nrules that specify device classes).\n\nChange-Id: I13a6f5eb21494746c2b77e340e8d0dcb0d81a591\n""}, {'number': 14, 'created': '2018-11-27 15:37:38.000000000', 'files': ['ceph-osd/templates/daemonset-osd.yaml', 'ceph-client/templates/bin/pool/_init.sh.tpl', 'ceph-osd/values.yaml', 'ceph-client/values.yaml', 'ceph-osd/templates/bin/osd/_directory.sh.tpl', 'ceph-osd/templates/bin/osd/_block.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6e8c289c133137bdc29248c4c2594fb1e81bcef7', 'message': ""Add failure domains, and device classes for custom CRUSH rules\n\nLargely inspired and taken from Kranthi's PS.\n\n - Add support for creating custom CRUSH rules based off of failure\ndomains and device classes (ssd & hdd)\n- Basic logic around the PG calculator to autodetect the number of\nOSDs globally and per device class (required when using custom crush\nrules that specify device classes).\n\nChange-Id: I13a6f5eb21494746c2b77e340e8d0dcb0d81a591\n""}]",0,619817,6e8c289c133137bdc29248c4c2594fb1e81bcef7,40,10,14,29268,,,0,"Add failure domains, and device classes for custom CRUSH rules

Largely inspired and taken from Kranthi's PS.

 - Add support for creating custom CRUSH rules based off of failure
domains and device classes (ssd & hdd)
- Basic logic around the PG calculator to autodetect the number of
OSDs globally and per device class (required when using custom crush
rules that specify device classes).

Change-Id: I13a6f5eb21494746c2b77e340e8d0dcb0d81a591
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/17/619817/14 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-client/templates/bin/pool/_init.sh.tpl', 'ceph-client/values.yaml', 'ceph-osd/templates/bin/osd/_directory.sh.tpl', 'ceph-osd/templates/bin/osd/_block.sh.tpl']",4,fdc39934079a1abe134732ed4eb1243dc100a1f8,DISK_CLASSES,if [ grep -q rack ${CRUSH_RULE} ]; then,"if [ ""x${CRUSH_RULE}"" == ""xrack_replicated_rule"" ]; then",92,24
openstack%2Fkayobe~master~Ia8691d127bb6ce57dcd6fdac25f0357844f5cbaa,openstack/kayobe,master,Ia8691d127bb6ce57dcd6fdac25f0357844f5cbaa,Bump Ansible to 2.6.x,MERGED,2018-11-07 09:20:10.000000000,2018-11-29 00:31:14.000000000,2018-11-29 00:31:14.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 28022}, {'_account_id': 28048}]","[{'number': 1, 'created': '2018-11-07 09:20:10.000000000', 'files': ['requirements.txt', 'ansible/roles/kolla-ansible/templates/requirements.txt.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a0b4ab57a45260f3be9f062b1faa89589b605d65', 'message': 'Bump Ansible to 2.6.x\n\nBump the maximum supported version of Ansible to 2.6.x for both Kayobe\nand Kolla Ansible.\n\nChange-Id: Ia8691d127bb6ce57dcd6fdac25f0357844f5cbaa\nStory: 2004287\nTask: 27839\n'}]",0,616121,a0b4ab57a45260f3be9f062b1faa89589b605d65,21,6,1,14826,,,0,"Bump Ansible to 2.6.x

Bump the maximum supported version of Ansible to 2.6.x for both Kayobe
and Kolla Ansible.

Change-Id: Ia8691d127bb6ce57dcd6fdac25f0357844f5cbaa
Story: 2004287
Task: 27839
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/21/616121/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'ansible/roles/kolla-ansible/templates/requirements.txt.j2']",2,a0b4ab57a45260f3be9f062b1faa89589b605d65,story/2004287,ansible<2.7,ansible<2.6,2,2
openstack%2Fnova~master~I9c2111f7377df65c1fc3c72323f85483b3295989,openstack/nova,master,I9c2111f7377df65c1fc3c72323f85483b3295989,Avoid requesting DISK_GB allocation for root_gb on BFV instances,MERGED,2018-07-06 16:54:53.000000000,2018-11-29 00:29:17.000000000,2018-07-21 16:17:41.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-06 16:54:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/82be7923267a7734447076a8b713f23ad5b131c2', 'message': 'Avoid requesting DISK_GB allocation for root_gb on BFV instances\n\nRight now, we still ask placement for a disk allocation covering\nswap, ephemeral, and root disks for the instance even if the instance\nis going to be volume-backed. This patch makes us not include the\nroot size in that calculation for placement, avoiding a false\nfailure because the volume size is counted against the compute\'s\navailable space.\n\nTo do this, we need another flag in request_spec to track the\nBFV-ness of the instance. Right now, this patch just sets that on\nnew builds and the scheduler client assumes a lack of said flag\nas ""I don\'t know, so assume not-BFV"" for compatibility. A\nsubsequent patch can calculate that flag for existing instances\nso that we will be able to heal over time by migrating instances\nor re-writing their allocations to reflect reality.\n\nChange-Id: I9c2111f7377df65c1fc3c72323f85483b3295989\n'}, {'number': 2, 'created': '2018-07-06 19:43:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d9c3dc8690e4c2a7706d797bb603704e32e263c3', 'message': 'Avoid requesting DISK_GB allocation for root_gb on BFV instances\n\nRight now, we still ask placement for a disk allocation covering\nswap, ephemeral, and root disks for the instance even if the instance\nis going to be volume-backed. This patch makes us not include the\nroot size in that calculation for placement, avoiding a false\nfailure because the volume size is counted against the compute\'s\navailable space.\n\nTo do this, we need another flag in request_spec to track the\nBFV-ness of the instance. Right now, this patch just sets that on\nnew builds and the scheduler client assumes a lack of said flag\nas ""I don\'t know, so assume not-BFV"" for compatibility. A\nsubsequent patch can calculate that flag for existing instances\nso that we will be able to heal over time by migrating instances\nor re-writing their allocations to reflect reality.\n\nRelated-Bug: #1469179\nChange-Id: I9c2111f7377df65c1fc3c72323f85483b3295989\n'}, {'number': 3, 'created': '2018-07-11 20:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6bd32cada5b23c2d7f386cd134ce1d632e2ce6fe', 'message': 'Avoid requesting DISK_GB allocation for root_gb on BFV instances\n\nRight now, we still ask placement for a disk allocation covering\nswap, ephemeral, and root disks for the instance even if the instance\nis going to be volume-backed. This patch makes us not include the\nroot size in that calculation for placement, avoiding a false\nfailure because the volume size is counted against the compute\'s\navailable space.\n\nTo do this, we need another flag in request_spec to track the\nBFV-ness of the instance. Right now, this patch just sets that on\nnew builds and the scheduler client assumes a lack of said flag\nas ""I don\'t know, so assume not-BFV"" for compatibility. A\nsubsequent patch can calculate that flag for existing instances\nso that we will be able to heal over time by migrating instances\nor re-writing their allocations to reflect reality.\n\nPartial-Bug: #1469179\nChange-Id: I9c2111f7377df65c1fc3c72323f85483b3295989\n'}, {'number': 4, 'created': '2018-07-11 21:10:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4dc370e890ab4991046c99d00b56c0d3328c0d7c', 'message': 'Avoid requesting DISK_GB allocation for root_gb on BFV instances\n\nRight now, we still ask placement for a disk allocation covering\nswap, ephemeral, and root disks for the instance even if the instance\nis going to be volume-backed. This patch makes us not include the\nroot size in that calculation for placement, avoiding a false\nfailure because the volume size is counted against the compute\'s\navailable space.\n\nTo do this, we need another flag in request_spec to track the\nBFV-ness of the instance. Right now, this patch just sets that on\nnew builds and the scheduler client assumes a lack of said flag\nas ""I don\'t know, so assume not-BFV"" for compatibility. A\nsubsequent patch can calculate that flag for existing instances\nso that we will be able to heal over time by migrating instances\nor re-writing their allocations to reflect reality.\n\nPartial-Bug: #1469179\nChange-Id: I9c2111f7377df65c1fc3c72323f85483b3295989\n'}, {'number': 5, 'created': '2018-07-18 15:14:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c4e1d0e7b637701838e001c7d9b824ae67949296', 'message': 'Avoid requesting DISK_GB allocation for root_gb on BFV instances\n\nRight now, we still ask placement for a disk allocation covering\nswap, ephemeral, and root disks for the instance even if the instance\nis going to be volume-backed. This patch makes us not include the\nroot size in that calculation for placement, avoiding a false\nfailure because the volume size is counted against the compute\'s\navailable space.\n\nTo do this, we need another flag in request_spec to track the\nBFV-ness of the instance. Right now, this patch just sets that on\nnew builds and the scheduler client assumes a lack of said flag\nas ""I don\'t know, so assume not-BFV"" for compatibility. A\nsubsequent patch can calculate that flag for existing instances\nso that we will be able to heal over time by migrating instances\nor re-writing their allocations to reflect reality.\n\nPartial-Bug: #1469179\nChange-Id: I9c2111f7377df65c1fc3c72323f85483b3295989\n'}, {'number': 6, 'created': '2018-07-18 19:48:38.000000000', 'files': ['nova/objects/request_spec.py', 'nova/tests/unit/objects/test_objects.py', 'nova/tests/unit/objects/test_request_spec.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/scheduler/utils.py', 'releasenotes/notes/bfv-instances-no-longer-allocate-from-compute-95d048fbe9867c34.yaml', 'nova/tests/functional/test_servers.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/03c596a9f4324e572bc04d4bbad09a6d3d47366c', 'message': 'Avoid requesting DISK_GB allocation for root_gb on BFV instances\n\nRight now, we still ask placement for a disk allocation covering\nswap, ephemeral, and root disks for the instance even if the instance\nis going to be volume-backed. This patch makes us not include the\nroot size in that calculation for placement, avoiding a false\nfailure because the volume size is counted against the compute\'s\navailable space.\n\nTo do this, we need another flag in request_spec to track the\nBFV-ness of the instance. Right now, this patch just sets that on\nnew builds and the scheduler client assumes a lack of said flag\nas ""I don\'t know, so assume not-BFV"" for compatibility. A\nsubsequent patch can calculate that flag for existing instances\nso that we will be able to heal over time by migrating instances\nor re-writing their allocations to reflect reality.\n\nPartial-Bug: #1469179\nChange-Id: I9c2111f7377df65c1fc3c72323f85483b3295989\n'}]",27,580720,03c596a9f4324e572bc04d4bbad09a6d3d47366c,125,20,6,4393,,,0,"Avoid requesting DISK_GB allocation for root_gb on BFV instances

Right now, we still ask placement for a disk allocation covering
swap, ephemeral, and root disks for the instance even if the instance
is going to be volume-backed. This patch makes us not include the
root size in that calculation for placement, avoiding a false
failure because the volume size is counted against the compute's
available space.

To do this, we need another flag in request_spec to track the
BFV-ness of the instance. Right now, this patch just sets that on
new builds and the scheduler client assumes a lack of said flag
as ""I don't know, so assume not-BFV"" for compatibility. A
subsequent patch can calculate that flag for existing instances
so that we will be able to heal over time by migrating instances
or re-writing their allocations to reflect reality.

Partial-Bug: #1469179
Change-Id: I9c2111f7377df65c1fc3c72323f85483b3295989
",git fetch https://review.opendev.org/openstack/nova refs/changes/20/580720/6 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/request_spec.py', 'nova/tests/unit/objects/test_objects.py', 'nova/tests/unit/objects/test_request_spec.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/scheduler/utils.py', 'nova/tests/functional/test_servers.py', 'nova/compute/api.py']",7,82be7923267a7734447076a8b713f23ad5b131c2,bug/1469179," if block_device_mapping: # Record whether or not we are a BFV instance root = block_device_mapping.root_bdm() req_spec.is_bfv = root and root.is_volume or False else: # If we have no BDMs, we're clearly not BFV req_spec.is_bfv = False ",,107,9
openstack%2Fnova~master~Ia19264ae7c88bb03ed3118795d4011ceb62ef92c,openstack/nova,master,Ia19264ae7c88bb03ed3118795d4011ceb62ef92c,Properly track local root disk usage during moves,MERGED,2018-10-08 21:37:57.000000000,2018-11-29 00:28:24.000000000,2018-10-31 19:02:09.000000000,"[{'_account_id': 782}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9373}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23312}, {'_account_id': 26458}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-10-08 21:37:57.000000000', 'files': ['nova/tests/functional/test_boot_from_volume.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a99722bb854d2ba99c3abc2d2738ba281148fde4', 'message': 'Properly track local root disk usage during moves\n\nChange I0839470c4bcfb16590a0d87b306d683b059bf8a9 fixed\nroot disk usage tracking for volume-backed instances\nwhen performing an instance_claim which happens during\nthe initial server create and unshelve. However, root\ndisk reporting is still wrong for volume-backed instances\nduring move claims (resize and evacuate) because a move\nclaim calls _update_usage_from_migration which passes a\nFlavor object to ResourceTracker._get_usage_dict() and\nthat method didn\'t have ""is_bfv"" logic in that scenario.\n\nThis fixes the bug by always passing the instance object\nto the _get_usage_dict() method so we can determine if\nit\'s volume-backed and if so report the root_gb usage as 0.\n\nThe related functional regression test is updated\nappropriately to show the bug is fixed for volume-backed\ninstances.\n\nChange-Id: Ia19264ae7c88bb03ed3118795d4011ceb62ef92c\nCloses-Bug: #1796737\n'}]",7,608777,a99722bb854d2ba99c3abc2d2738ba281148fde4,28,20,1,6873,,,0,"Properly track local root disk usage during moves

Change I0839470c4bcfb16590a0d87b306d683b059bf8a9 fixed
root disk usage tracking for volume-backed instances
when performing an instance_claim which happens during
the initial server create and unshelve. However, root
disk reporting is still wrong for volume-backed instances
during move claims (resize and evacuate) because a move
claim calls _update_usage_from_migration which passes a
Flavor object to ResourceTracker._get_usage_dict() and
that method didn't have ""is_bfv"" logic in that scenario.

This fixes the bug by always passing the instance object
to the _get_usage_dict() method so we can determine if
it's volume-backed and if so report the root_gb usage as 0.

The related functional regression test is updated
appropriately to show the bug is fixed for volume-backed
instances.

Change-Id: Ia19264ae7c88bb03ed3118795d4011ceb62ef92c
Closes-Bug: #1796737
",git fetch https://review.opendev.org/openstack/nova refs/changes/77/608777/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/test_boot_from_volume.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/resource_tracker.py']",3,a99722bb854d2ba99c3abc2d2738ba281148fde4,bug/1796737," instance_type, instance, numa_topology=numa_topology) itype, instance, numa_topology=numa_topology) self._update_usage(self._get_usage_dict(instance, instance), nodename, sign=sign) def _get_usage_dict(self, object_or_dict, instance, **updates): :param instance: nova.objects.Instance for the related operation; this is needed to determine if the instance is volume-backed def _is_bfv(): if instance.uuid in self.is_bfv: is_bfv = self.is_bfv[instance.uuid] instance._context, instance) self.is_bfv[instance.uuid] = is_bfv return is_bfv usage = {} if isinstance(object_or_dict, objects.Instance): is_bfv = _is_bfv() if _is_bfv(): usage['root_gb'] = 0"," instance_type, numa_topology=numa_topology) itype, numa_topology=numa_topology) self._update_usage(self._get_usage_dict(instance), nodename, sign=sign) def _get_usage_dict(self, object_or_dict, **updates): usage = {} if isinstance(object_or_dict, objects.Instance): if object_or_dict.uuid in self.is_bfv: is_bfv = self.is_bfv[object_or_dict.uuid] object_or_dict._context, object_or_dict) self.is_bfv[object_or_dict.uuid] = is_bfv",60,35
openstack%2Fkolla-ansible~master~Ibb02b82aa6de204e502fb9e05ba1d5762a464a1f,openstack/kolla-ansible,master,Ibb02b82aa6de204e502fb9e05ba1d5762a464a1f,Fix Chinese quotes,ABANDONED,2018-11-28 08:55:52.000000000,2018-11-29 00:24:41.000000000,,"[{'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 28614}]","[{'number': 1, 'created': '2018-11-28 08:55:52.000000000', 'files': ['releasenotes/notes/onos-support-2ea385cceb8104d6.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c1da25e19028d4468f321135fc3a06c8f3247dd7', 'message': 'Fix Chinese quotes\n\nChange-Id: Ibb02b82aa6de204e502fb9e05ba1d5762a464a1f\n'}]",0,620536,c1da25e19028d4468f321135fc3a06c8f3247dd7,6,4,1,25747,,,0,"Fix Chinese quotes

Change-Id: Ibb02b82aa6de204e502fb9e05ba1d5762a464a1f
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/36/620536/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/onos-support-2ea385cceb8104d6.yaml'],1,c1da25e19028d4468f321135fc3a06c8f3247dd7,," Add onos support, Networking-onos is Neutron's sub-project to provide connectivity between Neutron/Neutron's sub-project's and ONOS."," Add onos support, Networking-onos is Neutron’s sub-project to provide connectivity between Neutron/Neutron’s sub-project’s and ONOS.",2,2
openstack%2Fcongress~master~I57de34d2b185b8e9838dd288d3673149391f0024,openstack/congress,master,I57de34d2b185b8e9838dd288d3673149391f0024,Set Tempest's service_available setting for congress,MERGED,2018-11-27 08:24:40.000000000,2018-11-29 00:06:18.000000000,2018-11-29 00:06:18.000000000,"[{'_account_id': 11278}, {'_account_id': 18591}, {'_account_id': 22348}, {'_account_id': 25553}]","[{'number': 1, 'created': '2018-11-27 08:24:40.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/congress/commit/6611df0e2da0abc96979c52da0013535abf79428', 'message': ""Set Tempest's service_available setting for congress\n\nTempest's service_available config option includes all the service\navailability which is further used by tests to take decision of skip\nor run the test.\n\nFor example, [service_available].congress is true then, congress test will run\nor if [service_available].congress is false then, all congress related tests either\nin telemetry tempest plugin or any other plugins will be skipped.\n\nThis commit add the setting of congress service[1] on congress devstack plugin.\n\nCloses-Bug: #1743688\n[1] http://git.openstack.org/cgit/openstack/congress-tempest-plugin/tree/congress_tempest_plugin/config.py#n24\n\nChange-Id: I57de34d2b185b8e9838dd288d3673149391f0024\n""}]",0,620255,6611df0e2da0abc96979c52da0013535abf79428,13,4,1,8556,,,0,"Set Tempest's service_available setting for congress

Tempest's service_available config option includes all the service
availability which is further used by tests to take decision of skip
or run the test.

For example, [service_available].congress is true then, congress test will run
or if [service_available].congress is false then, all congress related tests either
in telemetry tempest plugin or any other plugins will be skipped.

This commit add the setting of congress service[1] on congress devstack plugin.

Closes-Bug: #1743688
[1] http://git.openstack.org/cgit/openstack/congress-tempest-plugin/tree/congress_tempest_plugin/config.py#n24

Change-Id: I57de34d2b185b8e9838dd288d3673149391f0024
",git fetch https://review.opendev.org/openstack/congress refs/changes/55/620255/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,6611df0e2da0abc96979c52da0013535abf79428,bug/1743688," iniset $TEMPEST_CONFIG service_available congress ""True""",,1,0
openstack%2Ftripleo-ui~master~I92a8980b5afb773cec0e97a4c457b8ce5dbc4e15,openstack/tripleo-ui,master,I92a8980b5afb773cec0e97a4c457b8ce5dbc4e15,Enable deletion of deployment upon successful deployment,MERGED,2018-11-27 14:33:30.000000000,2018-11-28 23:50:34.000000000,2018-11-28 23:35:52.000000000,"[{'_account_id': 7509}, {'_account_id': 10873}, {'_account_id': 17888}, {'_account_id': 20970}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-27 14:33:30.000000000', 'files': ['src/js/components/deployment_plan/DeploymentSuccess.js'], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/7450cf8df92276343afa5e023f4c83981f6caad8', 'message': 'Enable deletion of deployment upon successful deployment\n\nThis change fixes an improper import that prevented the user from\nseeing the delete deployment button if the deployment was successful.\n\nChange-Id: I92a8980b5afb773cec0e97a4c457b8ce5dbc4e15\nStory: 2004431\nTask: 28092\n'}]",0,620332,7450cf8df92276343afa5e023f4c83981f6caad8,10,5,1,10112,,,0,"Enable deletion of deployment upon successful deployment

This change fixes an improper import that prevented the user from
seeing the delete deployment button if the deployment was successful.

Change-Id: I92a8980b5afb773cec0e97a4c457b8ce5dbc4e15
Story: 2004431
Task: 28092
",git fetch https://review.opendev.org/openstack/tripleo-ui refs/changes/32/620332/1 && git format-patch -1 --stdout FETCH_HEAD,['src/js/components/deployment_plan/DeploymentSuccess.js'],1,7450cf8df92276343afa5e023f4c83981f6caad8,deployment_success_button_fix,"import { REDEPLOY, UNDEPLOY } from '../../constants/DeploymentActionsConstants';","import { REDEPLOY, UNDEPLOY } from '../../constants/DeploymentConstants';",1,1
openstack%2Fhorizon~master~Ia6b1c99c277c4cd5b19deae5212c7806b4b06a23,openstack/horizon,master,Ia6b1c99c277c4cd5b19deae5212c7806b4b06a23,Fixed path after moving wsgi/django.wsgi to wsgi.py,MERGED,2018-09-06 10:03:54.000000000,2018-11-28 23:38:31.000000000,2018-09-19 22:59:27.000000000,"[{'_account_id': 841}, {'_account_id': 8648}, {'_account_id': 10068}, {'_account_id': 16628}, {'_account_id': 21486}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-06 10:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/162e4075a63d15d94ec4547c0bac25ab4487e2ff', 'message': 'Fixed path after openstack_dashboard/wsgi/django.wsgi was moved to openstack_dashboard/wsgi.py\n\nChange-Id: Ia6b1c99c277c4cd5b19deae5212c7806b4b06a23\nCloses-Bug: 1791043\n'}, {'number': 2, 'created': '2018-09-06 10:04:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/8ac8b0d2e64649a8d9e71f934b7968ba80cea724', 'message': 'Fixed path after openstack_dashboard/wsgi/django.wsgi was\nmoved to openstack_dashboard/wsgi.py\n\nChange-Id: Ia6b1c99c277c4cd5b19deae5212c7806b4b06a23\nCloses-Bug: 1791043\n'}, {'number': 3, 'created': '2018-09-06 10:05:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/7e99abfe8c321829c665e7fa2276941e70b78994', 'message': 'Fixed path after openstack_dashboard/wsgi/django.wsgi\nwas moved to openstack_dashboard/wsgi.py\n\nChange-Id: Ia6b1c99c277c4cd5b19deae5212c7806b4b06a23\nCloses-Bug: 1791043\n'}, {'number': 4, 'created': '2018-09-06 10:06:01.000000000', 'files': ['openstack_dashboard/wsgi.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/71be92dd42ca3c6e81ad36909e8fc4bf707b60c8', 'message': 'Fixed path after moving wsgi/django.wsgi to wsgi.py\n\nChange-Id: Ia6b1c99c277c4cd5b19deae5212c7806b4b06a23\nCloses-Bug: 1791043\n'}]",0,600400,71be92dd42ca3c6e81ad36909e8fc4bf707b60c8,22,6,4,29058,,,0,"Fixed path after moving wsgi/django.wsgi to wsgi.py

Change-Id: Ia6b1c99c277c4cd5b19deae5212c7806b4b06a23
Closes-Bug: 1791043
",git fetch https://review.opendev.org/openstack/horizon refs/changes/00/600400/4 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/wsgi.py'],1,162e4075a63d15d94ec4547c0bac25ab4487e2ff,bug/1791043," os.path.dirname(os.path.realpath(__file__)), '..')))"," os.path.dirname(os.path.realpath(__file__)), '../..')))",1,1
openstack%2Fpython-tripleoclient~stable%2Frocky~Ibbf7c6101539bdf575c23295c1b9fa4bfc84cff7,openstack/python-tripleoclient,stable/rocky,Ibbf7c6101539bdf575c23295c1b9fa4bfc84cff7,Add docker bridge ip option to the undercloud.conf,MERGED,2018-11-21 07:59:36.000000000,2018-11-28 23:35:52.000000000,2018-11-28 23:35:52.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-11-21 07:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/19a51815cb568ef56af357f599176bde3957467e', 'message': 'Add docker bridge ip option to the undercloud.conf\n\nAdd docker_bip option to the undercloud.conf in order\nto easily override the value of: DockerNetworkOptions\nthrough the undercloud.conf\n\nChange-Id: Ibbf7c6101539bdf575c23295c1b9fa4bfc84cff7\n(cherry picked from commit a22bb051903e2c84d47e93fbffd0c36e3a61b051)\n'}, {'number': 2, 'created': '2018-11-26 08:23:55.000000000', 'files': ['tripleoclient/config/undercloud.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/config/test_config_undercloud.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0eea26ec1aa9fad8e7bb759e15e38c1d4c120c37', 'message': 'Add docker bridge ip option to the undercloud.conf\n\nAdd docker_bip option to the undercloud.conf in order\nto easily override the value of: DockerNetworkOptions\nthrough the undercloud.conf\n\nChange-Id: Ibbf7c6101539bdf575c23295c1b9fa4bfc84cff7\n(cherry picked from commit a22bb051903e2c84d47e93fbffd0c36e3a61b051)\n'}]",0,619167,0eea26ec1aa9fad8e7bb759e15e38c1d4c120c37,17,7,2,26343,,,0,"Add docker bridge ip option to the undercloud.conf

Add docker_bip option to the undercloud.conf in order
to easily override the value of: DockerNetworkOptions
through the undercloud.conf

Change-Id: Ibbf7c6101539bdf575c23295c1b9fa4bfc84cff7
(cherry picked from commit a22bb051903e2c84d47e93fbffd0c36e3a61b051)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/67/619167/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/config/undercloud.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/config/test_config_undercloud.py']",3,19a51815cb568ef56af357f599176bde3957467e,undercloud/docker/network/option-stable/rocky," 'docker_bip', 'docker_bip',",,8,1
openstack%2Fdesignate~master~Ie064cb1212e960700ef24fa3ae7bde18e56eeedc,openstack/designate,master,Ie064cb1212e960700ef24fa3ae7bde18e56eeedc,Fix the record_types for CAA and NAPTR,MERGED,2018-11-27 07:31:02.000000000,2018-11-28 23:15:03.000000000,2018-11-28 23:15:03.000000000,"[{'_account_id': 8099}, {'_account_id': 13252}, {'_account_id': 20104}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 26721}]","[{'number': 1, 'created': '2018-11-27 07:31:02.000000000', 'files': ['designate/storage/impl_sqlalchemy/migrate_repo/versions/102_support_caa_records.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/89d28b22a555ead443efc222756e5dcd23edc78f', 'message': 'Fix the record_types for CAA and NAPTR\n\nCo-Authored-By: Jake Yip <jake.yip@unimelb.edu.au>\n\nChange-Id: Ie064cb1212e960700ef24fa3ae7bde18e56eeedc\n'}]",0,620241,89d28b22a555ead443efc222756e5dcd23edc78f,18,6,1,26721,,,0,"Fix the record_types for CAA and NAPTR

Co-Authored-By: Jake Yip <jake.yip@unimelb.edu.au>

Change-Id: Ie064cb1212e960700ef24fa3ae7bde18e56eeedc
",git fetch https://review.opendev.org/openstack/designate refs/changes/41/620241/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/storage/impl_sqlalchemy/migrate_repo/versions/102_support_caa_records.py'],1,89d28b22a555ead443efc222756e5dcd23edc78f,," 'PTR', 'SSHFP', 'SOA', 'NAPTR', 'CAA'] 'PTR', 'SSHFP', 'SOA', 'NAPTR']"," 'PTR', 'SSHFP', 'SOA', 'CAA'] 'PTR', 'SSHFP', 'SOA']",2,2
openstack%2Fmonasca-common~master~I5981e40ecf62cd123ff1969109a8b4b0b9ec204d,openstack/monasca-common,master,I5981e40ecf62cd123ff1969109a8b4b0b9ec204d,Add wrapper for Confluent Kafka async Producer,MERGED,2018-10-23 15:01:38.000000000,2018-11-28 22:55:24.000000000,2018-11-28 22:55:24.000000000,"[{'_account_id': 10311}, {'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 26141}, {'_account_id': 26733}]","[{'number': 1, 'created': '2018-10-23 15:01:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/34a95cf05b2978d560a48e117b552025e75858d4', 'message': 'Add wrapper for Confluent Kafka async Producer\n\nStory: 2003705\nTask: 27630\nChange-Id: I5981e40ecf62cd123ff1969109a8b4b0b9ec204d\n'}, {'number': 2, 'created': '2018-10-24 08:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/5af635d0e2f44876b71242ea98da8172bc3b8480', 'message': 'Add wrapper for Confluent Kafka async Producer\n\nStory: 2003705\nTask: 27630\nChange-Id: I5981e40ecf62cd123ff1969109a8b4b0b9ec204d\n'}, {'number': 3, 'created': '2018-11-27 12:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/ff6776dbf7dbbaa308d998c68260ab77499e5d27', 'message': 'Add wrapper for Confluent Kafka async Producer\n\nStory: 2003705\nTask: 27630\nChange-Id: I5981e40ecf62cd123ff1969109a8b4b0b9ec204d\n'}, {'number': 4, 'created': '2018-11-27 14:55:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/e5ad376176893f0fbfd56ef7bcc49aace9d2957f', 'message': 'Add wrapper for Confluent Kafka async Producer\n\nStory: 2003705\nTask: 27630\nChange-Id: I5981e40ecf62cd123ff1969109a8b4b0b9ec204d\n'}, {'number': 5, 'created': '2018-11-27 16:28:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/4391cfcf3bc18a504f3e600fb90d25c314bb0760', 'message': 'Add wrapper for Confluent Kafka async Producer\n\nStory: 2003705\nTask: 27630\nChange-Id: I5981e40ecf62cd123ff1969109a8b4b0b9ec204d\n'}, {'number': 6, 'created': '2018-11-28 08:57:16.000000000', 'files': ['requirements.txt', 'monasca_common/confluent_kafka/producer.py', 'monasca_common/confluent_kafka/__init__.py', 'lower-constraints.txt', 'monasca_common/tests/test_confluent_kafka.py'], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/a8b68cbc1932045dcb8fbc7aab2a26e0b63bc06e', 'message': 'Add wrapper for Confluent Kafka async Producer\n\nStory: 2003705\nTask: 27630\nChange-Id: I5981e40ecf62cd123ff1969109a8b4b0b9ec204d\n'}]",4,612725,a8b68cbc1932045dcb8fbc7aab2a26e0b63bc06e,22,6,6,16222,,,0,"Add wrapper for Confluent Kafka async Producer

Story: 2003705
Task: 27630
Change-Id: I5981e40ecf62cd123ff1969109a8b4b0b9ec204d
",git fetch https://review.opendev.org/openstack/monasca-common refs/changes/25/612725/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'monasca_common/confluent_kafka/producer.py', 'monasca_common/confluent_kafka/__init__.py', 'lower-constraints.txt']",4,34a95cf05b2978d560a48e117b552025e75858d4,612725,confluent-kafka==0.11.0,,85,0
openstack%2Fdevstack~master~Ib61dadd305a7e105633761ac92f6fdefbe039459,openstack/devstack,master,Ib61dadd305a7e105633761ac92f6fdefbe039459,Remove spaces on variable NETWORK_API_EXTENSIONS,ABANDONED,2018-11-23 15:40:21.000000000,2018-11-28 22:46:32.000000000,,"[{'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-11-23 15:40:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/d9ac3b88b6bfaa684dbb53884a2d976f8a251614', 'message': 'Remove spaces on variable NETWORK_API_EXTENSIONS\n\nThis allows users to provide the list of extensions with spaces\nin between. For example:\n\n  NETWORK_API_EXTENSIONS=""ext1, ext2, ext3""\n\nWe will remove the spaces in between, so the result would be:\n\n  ""ext1,ext2,ext3""\n\nThis is because if the variable is provided by yaml (i.e. Zuul job)\nand the list is too long so we want to break it into multiple lines.\nYaml will replace newline with space so we need to remove the space.\n\nNeeded-By: https://review.openstack.org/#/c/619642/\n\nChange-Id: Ib61dadd305a7e105633761ac92f6fdefbe039459\n'}, {'number': 2, 'created': '2018-11-23 16:34:49.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/0534e0843308d886889084b1653b705fc9c4d4ba', 'message': 'Remove spaces on variable NETWORK_API_EXTENSIONS\n\nThis allows users to provide the list of extensions with spaces\nin between. For example:\n\n  NETWORK_API_EXTENSIONS=""ext1, ext2, ext3""\n\nWe will remove the spaces in between, so the result would be:\n\n  ""ext1,ext2,ext3""\n\nThis is because if the variable is provided by yaml (i.e. Zuul job)\nand the list is too long so we want to break it into multiple lines.\nYaml will replace newline with space so we need to remove the space.\n\nNeeded-By: https://review.openstack.org/#/c/619642/\n\nChange-Id: Ib61dadd305a7e105633761ac92f6fdefbe039459\n'}]",0,619751,0534e0843308d886889084b1653b705fc9c4d4ba,10,7,2,27654,,,0,"Remove spaces on variable NETWORK_API_EXTENSIONS

This allows users to provide the list of extensions with spaces
in between. For example:

  NETWORK_API_EXTENSIONS=""ext1, ext2, ext3""

We will remove the spaces in between, so the result would be:

  ""ext1,ext2,ext3""

This is because if the variable is provided by yaml (i.e. Zuul job)
and the list is too long so we want to break it into multiple lines.
Yaml will replace newline with space so we need to remove the space.

Needed-By: https://review.openstack.org/#/c/619642/

Change-Id: Ib61dadd305a7e105633761ac92f6fdefbe039459
",git fetch https://review.opendev.org/openstack/devstack refs/changes/51/619751/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,d9ac3b88b6bfaa684dbb53884a2d976f8a251614,," network_api_extensions=${NETWORK_API_EXTENSIONS:-$(iniget $tmp_cfg_file network-feature-enabled api_extensions)} network_api_extensions=$(echo $network_api_extensions | tr -d "" "")"," network_api_extensions=${NETWORK_API_EXTENSIONS:-$(iniget $tmp_cfg_file network-feature-enabled api_extensions | tr -d "" "")}",2,1
openstack%2Fcharm-openstack-dashboard~master~I09e0cb02d7f4faefacdefb6ae279314774a8b44b,openstack/charm-openstack-dashboard,master,I09e0cb02d7f4faefacdefb6ae279314774a8b44b,WIP - sanity check CI for malformed install hook content,ABANDONED,2018-11-28 21:50:45.000000000,2018-11-28 22:46:02.000000000,,[{'_account_id': 20635}],"[{'number': 1, 'created': '2018-11-28 21:50:45.000000000', 'files': ['hooks/install'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/86448ee6f48dc1685d36798c16ab1afe6e6276a8', 'message': 'WIP - sanity check CI for malformed install hook content\n\nChange-Id: I09e0cb02d7f4faefacdefb6ae279314774a8b44b\n'}]",0,620709,86448ee6f48dc1685d36798c16ab1afe6e6276a8,3,1,1,20635,,,0,"WIP - sanity check CI for malformed install hook content

Change-Id: I09e0cb02d7f4faefacdefb6ae279314774a8b44b
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/09/620709/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/install'],1,86448ee6f48dc1685d36798c16ab1afe6e6276a8,fud,# FUD - expect the following line to fail CI!,,1,0
openstack%2Frequirements~master~Id0c9aea054b60c8d84cc8f565866d780d9950bdd,openstack/requirements,master,Id0c9aea054b60c8d84cc8f565866d780d9950bdd,Updated from generate-constraints,ABANDONED,2018-11-28 06:32:21.000000000,2018-11-28 22:38:57.000000000,,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-28 06:32:21.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ad0aa8b6d008e46681b48fe9017770a376ac6314', 'message': 'Updated from generate-constraints\n\nChange-Id: Id0c9aea054b60c8d84cc8f565866d780d9950bdd\n'}]",0,620469,ad0aa8b6d008e46681b48fe9017770a376ac6314,5,2,1,11131,,,0,"Updated from generate-constraints

Change-Id: Id0c9aea054b60c8d84cc8f565866d780d9950bdd
",git fetch https://review.opendev.org/openstack/requirements refs/changes/69/620469/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,ad0aa8b6d008e46681b48fe9017770a376ac6314,openstack/requirements/constraints,pytest===4.0.1tornado===4.5.3;python_version=='3.4' tornado===4.5.3;python_version=='3.5' tornado===4.5.3;python_version=='3.6' tornado===5.1.1;python_version=='2.7'pycryptodomex===3.7.2ruamel.yaml===0.15.80autobahn===18.11.2keyring===16.1.1opentracing===2.0.0pysaml2===4.6.4bottle===0.12.14dogpile.cache===0.6.8salt===2018.3.3botocore===1.12.53oslo.policy===1.41.1alembic===1.0.5sphinx-testing===0.8.1colorama===0.4.1scikit-learn===0.20.1,pytest===4.0.0tornado===4.5.3pycryptodomex===3.7.0ruamel.yaml===0.15.79autobahn===18.11.1keyring===16.1.0opentracing===1.3.0pysaml2===4.6.3bottle===0.12.13dogpile.cache===0.6.7salt===2018.3.2botocore===1.12.50oslo.policy===1.41.0alembic===1.0.3sphinx-testing===0.8.0colorama===0.4.0scikit-learn===0.20.0,20,17
openstack%2Frequirements~master~I2d33201609e32c80ac09bd5e8f9c982cc5e04555,openstack/requirements,master,I2d33201609e32c80ac09bd5e8f9c982cc5e04555,Updated from generate-constraints,MERGED,2018-11-24 06:21:29.000000000,2018-11-28 22:30:46.000000000,2018-11-28 22:30:46.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-24 06:21:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/3f40386b6f5dc1299a3281899514315b6ed4325e', 'message': 'Updated from generate-constraints\n\nChange-Id: I2d33201609e32c80ac09bd5e8f9c982cc5e04555\n'}, {'number': 2, 'created': '2018-11-25 06:11:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/def480bdecf2bf91eeed592911de8df4da8165a2', 'message': 'Updated from generate-constraints\n\nChange-Id: I2d33201609e32c80ac09bd5e8f9c982cc5e04555\n'}, {'number': 3, 'created': '2018-11-26 06:30:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/3e8ef1a2cc9a07833cbb52da1575241f03e6ae6a', 'message': 'Updated from generate-constraints\n\nChange-Id: I2d33201609e32c80ac09bd5e8f9c982cc5e04555\n'}, {'number': 4, 'created': '2018-11-27 06:30:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/9ed3c3584b433d1f8aa28e3564744dfd50de665e', 'message': 'Updated from generate-constraints\n\nChange-Id: I2d33201609e32c80ac09bd5e8f9c982cc5e04555\n'}, {'number': 5, 'created': '2018-11-27 16:48:36.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/243c5512bce67e0ca9169ed5d96452a48bc97810', 'message': 'Updated from generate-constraints\n\nChange-Id: I2d33201609e32c80ac09bd5e8f9c982cc5e04555\n'}]",0,619853,243c5512bce67e0ca9169ed5d96452a48bc97810,23,2,5,11131,,,0,"Updated from generate-constraints

Change-Id: I2d33201609e32c80ac09bd5e8f9c982cc5e04555
",git fetch https://review.opendev.org/openstack/requirements refs/changes/53/619853/5 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,3f40386b6f5dc1299a3281899514315b6ed4325e,openstack/requirements/constraints/noclob,pytest===4.0.1tornado===4.5.3;python_version=='3.4' tornado===4.5.3;python_version=='3.5' tornado===4.5.3;python_version=='3.6' tornado===5.1.1;python_version=='2.7'python-zunclient===3.2.1autobahn===18.11.2opentracing===2.0.0pysaml2===4.6.4salt===2018.3.3sphinx-testing===0.8.1scikit-learn===0.20.1,pytest===4.0.0tornado===4.5.3python-zunclient===3.2.0autobahn===18.11.1opentracing===1.3.0pysaml2===4.6.3salt===2018.3.2sphinx-testing===0.8.0scikit-learn===0.20.0,12,9
openstack%2Frequirements~master~Ifb5d3922f27a7626f2774620e303abf78561595c,openstack/requirements,master,Ifb5d3922f27a7626f2774620e303abf78561595c,update constraint for oslo.policy to new release 1.41.1,MERGED,2018-11-27 17:03:42.000000000,2018-11-28 22:28:44.000000000,2018-11-28 22:28:44.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-27 17:03:42.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/c2c3a0f4a8baa1d7b280cb4a9f5d0f3d39442eb0', 'message': 'update constraint for oslo.policy to new release 1.41.1\n\nChange-Id: Ifb5d3922f27a7626f2774620e303abf78561595c\nmeta:version: 1.41.1\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nmeta:release:Commit: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nmeta:release:Change-Id: Ib03c4050d6ac78fd06cf4d0949c84e87da22ebc1\nmeta:release:Code-Review+1: Javier Peña <jpena@redhat.com>\nmeta:release:Code-Review+1: Lance Bragstad <lbragstad@gmail.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Moisés Guimarães de Medeiros <moguimar@redhat.com>\nmeta:release:Code-Review+1: Ben Nemec <openstack@nemebean.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,620366,c2c3a0f4a8baa1d7b280cb4a9f5d0f3d39442eb0,18,3,1,11131,,,0,"update constraint for oslo.policy to new release 1.41.1

Change-Id: Ifb5d3922f27a7626f2774620e303abf78561595c
meta:version: 1.41.1
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Juan Antonio Osorio Robles <jaosorior@redhat.com>
meta:release:Commit: Juan Antonio Osorio Robles <jaosorior@redhat.com>
meta:release:Change-Id: Ib03c4050d6ac78fd06cf4d0949c84e87da22ebc1
meta:release:Code-Review+1: Javier Peña <jpena@redhat.com>
meta:release:Code-Review+1: Lance Bragstad <lbragstad@gmail.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Moisés Guimarães de Medeiros <moguimar@redhat.com>
meta:release:Code-Review+1: Ben Nemec <openstack@nemebean.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/66/620366/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,c2c3a0f4a8baa1d7b280cb4a9f5d0f3d39442eb0,new-release,oslo.policy===1.41.1,oslo.policy===1.41.0,1,1
openstack%2Fnova~master~If7ab77b1a755d7ef40017c643610b8a5ce2abd5b,openstack/nova,master,If7ab77b1a755d7ef40017c643610b8a5ce2abd5b,DNM: Trust the report client cache more,ABANDONED,2018-11-01 23:06:33.000000000,2018-11-28 22:18:37.000000000,,"[{'_account_id': 2033}, {'_account_id': 8768}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9373}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 26936}]","[{'number': 1, 'created': '2018-11-01 23:06:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5187ea57e9f3b45972813a63fa81323b928b3498', 'message': ""WIP: Trust the report client cache more\n\nAt the moment, this patch does a handful of things:\n\n- On SIGHUP to the compute service, we'll now invalidate the report\n  client's provider tree cache and reset the refresh timers.\n  TODO: reno for this\n- update_from_provider_tree now\n  - is stop-on-first-failure, not best-effort\n  - invalidates caches for providers in the whole tree surrounding the\n    provider for which the failure was encountered. This is to ensure a\n    clean slate for the next update. (See [1] for a scenario that\n    justifies this change.)\n  ...which means we needed to\n- Add a new ProviderTree.remove_tree() method. The remove() method\n  removed the specified node and its *sub*tree. In contrast, the\n  remove_tree() method removes the entire tree around the specified\n  node, and returns the UUIDs of all the removed nodes.\n- Percolate the is_new_compute_node flag in the resource tracker down\n  into _update_from_placement, and use it as a signal to decide whether\n  to force _get_provider_tree_and_ensure_root to refresh.\n- Make _get_provider_tree_and_ensure_root key off of whether the name\n  kwarg was specified to decide whether the caller intended it to create\n  the provider. If not, and the association refresh timer hasn't expired\n  for the cached provider record, don't refresh it.\n  TODO: This is too implicit; either make a new kwarg or split this into\n        two methods (I think the latter).\n  TODO: Remove the parent_provider_uuid kwarg. Were not using it.\n- Start considering the root provider in the association refresh logic.\n  Before, we were always doing the GET /rps?in_tree={u} call for that\n  guy. Now we won't unless we think it's stale.\n  TODO: Should this part of the change be based on a different conf\n        option, and/or limited to when\n        resource_provider_association_refresh == 0  ?\n- Change the CONF.compute.resource_provider_association_refresh option\n  to allow zero, meaning we *never* refresh (except on SIGHUP - see\n  above).\n  TODO: reno for this\n\nTODO: Tests\nTODO: Probably split this into multiple patches\nTODO: ML discussion\nTODO: Probably needs a bp/spec\n\n[1] https://github.com/openstack/nova/blob/5a101e1417f492a549b0403f6fa61f5e55582f43/nova/scheduler/client/report.py#L652\n\nChange-Id: If7ab77b1a755d7ef40017c643610b8a5ce2abd5b\n""}, {'number': 2, 'created': '2018-11-05 16:11:25.000000000', 'files': ['nova/conf/compute.py', 'nova/tests/functional/test_report_client.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py', 'nova/conductor/manager.py', 'nova/compute/manager.py', 'nova/tests/functional/test_aggregates.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5585c202416e3d97e8c8161ba57cb09bf82460d9', 'message': ""DNM: Trust the report client cache more\n\nDNM: I'm going to rework this and split it up. Making this commit to\nsave my work for reference.\n\nThis reduces the number of calls made to placement by the resource\ntracker's periodic update to refresh our local provider cache, and\nallows for eliminating refreshing completely via config. The theory\nbeing that:\n\n- Placement should not be changing out of band, except for the cases\n  noted below, so there's no need to keep refreshing the cache.\n- Externally-owned child providers (e.g. neutron-owned bandwidth\n  providers, cyborg-owned accelerator providers) are fully owned and\n  managed by their owners. The compute service only cares about\n  providers it owns, and doesn't even need to know about the others.\n  (Except for purposes of scheduling, which doesn't use the cache.)\n- Manual changes (e.g. via the CLI) can be followed up with a SIGHUP to\n  the compute service to cause the cache to be refreshed.\n\nAt the moment, this patch does a handful of things, which may need to be\nseparated.\n\n- On SIGHUP to the compute service, we'll now invalidate the report\n  client's provider tree cache and reset the refresh timers.\n  TODO: reno for this\n- On failure, update_from_provider_tree now\n  - raises right away, rather than trying to continue updating other\n    pieces.\n  - invalidates the entire provider cache rather than just the offending\n    provider. This is to ensure a clean slate for the next update. (See\n    [1] for a scenario that justifies this change.)\n- Percolates the is_new_compute_node flag in the resource tracker down\n  into _update_from_placement, and uses it as a signal to decide whether\n  to ensure_resource_provider($compute). Otherwise we just use\n  get_provider_tree (see below).\n- Resolve the long-standing ugliness that was\n  get_provider_tree_and_ensure_root by splitting it into\n  - get_provider_tree, a read-only operation that refreshes the cache if\n    refresh timers have expired, and returns a copy of it; and\n  - ensure_resource_provider (which already existed, but was private).\n- Start considering the root provider in the association refresh logic.\n  Before, we were always doing the GET /rps?in_tree={u} call for that\n  guy. Now we won't unless we think it's stale.\n- Change the CONF.compute.resource_provider_association_refresh option\n  to allow zero, meaning we *never* refresh (except on SIGHUP - see\n  above).\n  TODO: reno for this\n\nThere's an openstack-dev [2] / openstack-operators [3] email thread\ndiscussing this.\n\nTODO: Tests\nTODO: Probably split this into multiple patches\nTODO: Probably needs a bp/spec\n\n[1] https://github.com/openstack/nova/blob/5a101e1417f492a549b0403f6fa61f5e55582f43/nova/scheduler/client/report.py#L652\n[2] http://lists.openstack.org/pipermail/openstack-dev/2018-November/136251.html\n[3] http://lists.openstack.org/pipermail/openstack-operators/2018-November/016138.html\n\nChange-Id: If7ab77b1a755d7ef40017c643610b8a5ce2abd5b\n""}]",16,614886,5585c202416e3d97e8c8161ba57cb09bf82460d9,35,20,2,14070,,,0,"DNM: Trust the report client cache more

DNM: I'm going to rework this and split it up. Making this commit to
save my work for reference.

This reduces the number of calls made to placement by the resource
tracker's periodic update to refresh our local provider cache, and
allows for eliminating refreshing completely via config. The theory
being that:

- Placement should not be changing out of band, except for the cases
  noted below, so there's no need to keep refreshing the cache.
- Externally-owned child providers (e.g. neutron-owned bandwidth
  providers, cyborg-owned accelerator providers) are fully owned and
  managed by their owners. The compute service only cares about
  providers it owns, and doesn't even need to know about the others.
  (Except for purposes of scheduling, which doesn't use the cache.)
- Manual changes (e.g. via the CLI) can be followed up with a SIGHUP to
  the compute service to cause the cache to be refreshed.

At the moment, this patch does a handful of things, which may need to be
separated.

- On SIGHUP to the compute service, we'll now invalidate the report
  client's provider tree cache and reset the refresh timers.
  TODO: reno for this
- On failure, update_from_provider_tree now
  - raises right away, rather than trying to continue updating other
    pieces.
  - invalidates the entire provider cache rather than just the offending
    provider. This is to ensure a clean slate for the next update. (See
    [1] for a scenario that justifies this change.)
- Percolates the is_new_compute_node flag in the resource tracker down
  into _update_from_placement, and uses it as a signal to decide whether
  to ensure_resource_provider($compute). Otherwise we just use
  get_provider_tree (see below).
- Resolve the long-standing ugliness that was
  get_provider_tree_and_ensure_root by splitting it into
  - get_provider_tree, a read-only operation that refreshes the cache if
    refresh timers have expired, and returns a copy of it; and
  - ensure_resource_provider (which already existed, but was private).
- Start considering the root provider in the association refresh logic.
  Before, we were always doing the GET /rps?in_tree={u} call for that
  guy. Now we won't unless we think it's stale.
- Change the CONF.compute.resource_provider_association_refresh option
  to allow zero, meaning we *never* refresh (except on SIGHUP - see
  above).
  TODO: reno for this

There's an openstack-dev [2] / openstack-operators [3] email thread
discussing this.

TODO: Tests
TODO: Probably split this into multiple patches
TODO: Probably needs a bp/spec

[1] https://github.com/openstack/nova/blob/5a101e1417f492a549b0403f6fa61f5e55582f43/nova/scheduler/client/report.py#L652
[2] http://lists.openstack.org/pipermail/openstack-dev/2018-November/136251.html
[3] http://lists.openstack.org/pipermail/openstack-operators/2018-November/016138.html

Change-Id: If7ab77b1a755d7ef40017c643610b8a5ce2abd5b
",git fetch https://review.opendev.org/openstack/nova refs/changes/86/614886/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/compute.py', 'nova/scheduler/client/report.py', 'nova/compute/provider_tree.py', 'nova/conductor/manager.py', 'nova/tests/unit/compute/test_provider_tree.py', 'nova/compute/manager.py', 'nova/compute/resource_tracker.py']",7,5187ea57e9f3b45972813a63fa81323b928b3498,trust-the-cache," self._update(context, cn, startup=startup, is_new_compute_node=is_new_compute_node) def _update_to_placement(self, context, compute_node, startup, is_new_compute_node): kwargs = {} # If this is a new compute node, signal that we need to create the # compute node resource provider by passing the name. Otherwise, # omitting the name kwarg signals that the compute node should exist # in placement already. if is_new_compute_node: kwargs['name'] = compute_node.hypervisor_hostname context, compute_node.uuid, **kwargs) def _update(self, context, compute_node, startup=False, is_new_compute_node=False): self._update_to_placement(context, compute_node, startup, is_new_compute_node)"," self._update(context, cn, startup=startup) def _update_to_placement(self, context, compute_node, startup): context, compute_node.uuid, name=compute_node.hypervisor_hostname) def _update(self, context, compute_node, startup=False): self._update_to_placement(context, compute_node, startup)",106,44
openstack%2Fneutron-tempest-plugin~master~I137fd6649c7c9bb21ac62902705f97728c68167a,openstack/neutron-tempest-plugin,master,I137fd6649c7c9bb21ac62902705f97728c68167a,Turn the list of extensions into multi-line (Queens jobs),ABANDONED,2018-11-23 22:11:14.000000000,2018-11-28 22:17:39.000000000,,"[{'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-11-23 22:11:14.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/d3d8ef8a7b2a294b37e0ac3316b8cd2b196037df', 'message': 'Turn the list of extensions into multi-line (Queens jobs)\n\nThe intent is to avoid potential merge conflicts and improve\nreadability. In addition, it might improve the history searching\non using tool like ""git blame"".\n\nChange-Id: I137fd6649c7c9bb21ac62902705f97728c68167a\n'}]",0,619803,d3d8ef8a7b2a294b37e0ac3316b8cd2b196037df,4,3,1,27654,,,0,"Turn the list of extensions into multi-line (Queens jobs)

The intent is to avoid potential merge conflicts and improve
readability. In addition, it might improve the history searching
on using tool like ""git blame"".

Change-Id: I137fd6649c7c9bb21ac62902705f97728c68167a
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/03/619803/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d3d8ef8a7b2a294b37e0ac3316b8cd2b196037df,," NETWORK_API_EXTENSIONS: >- "" address-scope, agent, allowed-address-pairs, auto-allocated-topology, availability_zone, binding, default-subnetpools, dhcp_agent_scheduler, dns-domain-ports, dns-integration, dvr, ext-gw-mode, external-net, extra_dhcp_opt, extraroute, flavors, ip-substring-filtering, l3-flavors, l3-ha, l3_agent_scheduler, logging, metering, multi-provider, net-mtu, net-mtu-writable, network-ip-availability, network_availability_zone, pagination, port-security, project-id, provider, qos, quotas, quota_details, rbac-policies, router, router_availability_zone, security-group, segment, service-type, sorting, standard-attr-description, standard-attr-revisions, standard-attr-timestamp, standard-attr-tag, subnet_allocation, tag, tag-ext, trunk, trunk-details "" NETWORK_API_EXTENSIONS: >- "" address-scope, agent, allowed-address-pairs, auto-allocated-topology, availability_zone, binding, default-subnetpools, dhcp_agent_scheduler, dns-integration, ext-gw-mode, external-net, extra_dhcp_opt, extraroute, flavors, ip-substring-filtering, l3-flavors, l3-ha, l3_agent_scheduler, logging, metering, multi-provider, net-mtu, net-mtu-writable, network-ip-availability, network_availability_zone, pagination, port-security, port-security-groups-filtering, project-id, provider, qos, qos-fip, quotas, quota_details, rbac-policies, router, router_availability_zone, security-group, segment, service-type, sorting, standard-attr-description, standard-attr-revisions, standard-attr-timestamp, standard-attr-tag, subnet_allocation, tag, tag-ext, trunk, trunk-details """," NETWORK_API_EXTENSIONS: address-scope,agent,allowed-address-pairs,auto-allocated-topology,availability_zone,binding,default-subnetpools,dhcp_agent_scheduler,dns-domain-ports,dns-integration,dvr,ext-gw-mode,external-net,extra_dhcp_opt,extraroute,flavors,ip-substring-filtering,l3-flavors,l3-ha,l3_agent_scheduler,logging,metering,multi-provider,net-mtu,net-mtu-writable,network-ip-availability,network_availability_zone,pagination,port-security,project-id,provider,qos,quotas,quota_details,rbac-policies,router,router_availability_zone,security-group,segment,service-type,sorting,standard-attr-description,standard-attr-revisions,standard-attr-timestamp,standard-attr-tag,subnet_allocation,tag,tag-ext,trunk,trunk-details NETWORK_API_EXTENSIONS: address-scope,agent,allowed-address-pairs,auto-allocated-topology,availability_zone,binding,default-subnetpools,dhcp_agent_scheduler,dns-integration,ext-gw-mode,external-net,extra_dhcp_opt,extraroute,flavors,ip-substring-filtering,l3-flavors,l3-ha,l3_agent_scheduler,logging,metering,multi-provider,net-mtu,net-mtu-writable,network-ip-availability,network_availability_zone,pagination,port-security,project-id,provider,qos,qos-fip,quotas,quota_details,rbac-policies,router,router_availability_zone,security-group,port-security-groups-filtering,segment,service-type,sorting,standard-attr-description,standard-attr-revisions,standard-attr-timestamp,standard-attr-tag,subnet_allocation,tag,tag-ext,trunk,trunk-details",106,2
openstack%2Fneutron-tempest-plugin~master~Ia5713bcdc7e0a296aeeb17cdd17f52be30922b3a,openstack/neutron-tempest-plugin,master,Ia5713bcdc7e0a296aeeb17cdd17f52be30922b3a,Turn the list of extensions into multi-line (Rocky jobs),ABANDONED,2018-11-23 22:09:42.000000000,2018-11-28 22:17:33.000000000,,"[{'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-11-23 22:09:42.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/bf016e75f5d17b2eaa2eddc59973ad5e6b3ebc7a', 'message': 'Turn the list of extensions into multi-line (Rocky jobs)\n\nThe intent is to avoid potential merge conflicts and improve\nreadability. In addition, it might improve the history searching\non using tool like ""git blame"".\n\nChange-Id: Ia5713bcdc7e0a296aeeb17cdd17f52be30922b3a\n'}]",0,619802,bf016e75f5d17b2eaa2eddc59973ad5e6b3ebc7a,4,3,1,27654,,,0,"Turn the list of extensions into multi-line (Rocky jobs)

The intent is to avoid potential merge conflicts and improve
readability. In addition, it might improve the history searching
on using tool like ""git blame"".

Change-Id: Ia5713bcdc7e0a296aeeb17cdd17f52be30922b3a
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/02/619802/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,bf016e75f5d17b2eaa2eddc59973ad5e6b3ebc7a,," NETWORK_API_EXTENSIONS: >- "" address-scope, agent, allowed-address-pairs, auto-allocated-topology, availability_zone, binding, default-subnetpools,dhcp_agent_scheduler, dns-domain-ports, dns-integration, dvr, empty-string-filtering, ext-gw-mode, external-net, extra_dhcp_opt, extraroute, fip-port-details, flavors, ip-substring-filtering, l3-flavors, l3-ha, l3_agent_scheduler, logging, metering, multi-provider, net-mtu, net-mtu-writable, network-ip-availability, network_availability_zone, pagination, port-mac-address-regenerate, port-security, port-security-groups-filtering, project-id, provider, qos, qos-fip, quotas, quota_details, rbac-policies, router, router_availability_zone, security-group, segment, service-type, sorting, standard-attr-description, standard-attr-revisions, standard-attr-segment, standard-attr-timestamp, standard-attr-tag, subnet_allocation, trunk, trunk-details "" NETWORK_API_EXTENSIONS: >- "" address-scope, agent, allowed-address-pairs, auto-allocated-topology, availability_zone, binding, default-subnetpools, dhcp_agent_scheduler, dns-domain-ports, dns-integration, ext-gw-mode, external-net, extra_dhcp_opt, extraroute, fip-port-details, flavors, ip-substring-filtering, l3-flavors, l3-ha, l3_agent_scheduler, logging, metering, multi-provider, net-mtu, net-mtu-writable, network-ip-availability, network_availability_zone, pagination, port-security, port-security-groups-filtering, project-id, provider, qos, qos-fip, quotas, quota_details, rbac-policies, router, router_availability_zone, security-group, segment, service-type, sorting, standard-attr-description, standard-attr-revisions, standard-attr-timestamp, standard-attr-tag, subnet_allocation, tag, tag-ext, trunk, trunk-details """," NETWORK_API_EXTENSIONS: address-scope,agent,allowed-address-pairs,auto-allocated-topology,availability_zone,binding,default-subnetpools,dhcp_agent_scheduler,dns-domain-ports,dns-integration,dvr,empty-string-filtering,ext-gw-mode,external-net,extra_dhcp_opt,extraroute,fip-port-details,flavors,ip-substring-filtering,l3-flavors,l3-ha,l3_agent_scheduler,logging,metering,multi-provider,net-mtu,net-mtu-writable,network-ip-availability,network_availability_zone,pagination,port-security,project-id,provider,qos,qos-fip,quotas,quota_details,rbac-policies,router,router_availability_zone,security-group,port-mac-address-regenerate,port-security-groups-filtering,segment,service-type,sorting,standard-attr-description,standard-attr-revisions,standard-attr-segment,standard-attr-timestamp,standard-attr-tag,subnet_allocation,trunk,trunk-details NETWORK_API_EXTENSIONS: address-scope,agent,allowed-address-pairs,auto-allocated-topology,availability_zone,binding,default-subnetpools,dhcp_agent_scheduler,dns-domain-ports,dns-integration,ext-gw-mode,external-net,extra_dhcp_opt,extraroute,fip-port-details,flavors,ip-substring-filtering,l3-flavors,l3-ha,l3_agent_scheduler,logging,metering,multi-provider,net-mtu,net-mtu-writable,network-ip-availability,network_availability_zone,pagination,port-security,project-id,provider,qos,qos-fip,quotas,quota_details,rbac-policies,router,router_availability_zone,security-group,port-security-groups-filtering,segment,service-type,sorting,standard-attr-description,standard-attr-revisions,standard-attr-timestamp,standard-attr-tag,subnet_allocation,tag,tag-ext,trunk,trunk-details",111,2
openstack%2Fnova~master~I01f20f275bbd5451ace5c1e6f41ab38d488dae4e,openstack/nova,master,I01f20f275bbd5451ace5c1e6f41ab38d488dae4e,Add release note for Aggregate[Core|Ram|Disk]Filter change,MERGED,2018-02-05 21:30:42.000000000,2018-11-28 22:16:20.000000000,2018-02-08 18:16:36.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7156}, {'_account_id': 7166}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23312}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-02-05 21:30:42.000000000', 'files': ['releasenotes/notes/agg-resource-filters-6e24c92a69afa85f.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/1c4d2f4cbdf096cbd79297338cfb40d15875f930', 'message': 'Add release note for Aggregate[Core|Ram|Disk]Filter change\n\nRelated-Bug: #1742827\n\nChange-Id: I01f20f275bbd5451ace5c1e6f41ab38d488dae4e\n'}]",8,541018,1c4d2f4cbdf096cbd79297338cfb40d15875f930,25,11,1,4690,,,0,"Add release note for Aggregate[Core|Ram|Disk]Filter change

Related-Bug: #1742827

Change-Id: I01f20f275bbd5451ace5c1e6f41ab38d488dae4e
",git fetch https://review.opendev.org/openstack/nova refs/changes/18/541018/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/agg-resource-filters-6e24c92a69afa85f.yaml'],1,1c4d2f4cbdf096cbd79297338cfb40d15875f930,bug/1742827,"--- upgrade: - | Starting in Ocata, there is a behavior change where aggregate-based overcommit ratios will no longer be honored during scheduling for the FilterScheduler. Instead, overcommit values must be set on a per-compute-node basis in the Nova configuration files. If you have been relying on per-aggregate overcommit, during your upgrade, you must change to using per-compute-node overcommit ratios in order for your scheduling behavior to stay consistent. Otherwise, you may notice increased NoValidHost scheduling failures as the aggregate-based overcommit is no longer being considered. You can safely remove the AggregateCoreFilter, AggregateRamFilter, and AggregateDiskFilter from your ``[filter_scheduler]enabled_filters`` and you do not need to replace them with any other core/ram/disk filters. The placement query in the FilterScheduler takes care of the core/ram/disk filtering, so CoreFilter, RamFilter, and DiskFilter are redundant. Please see the mailing list thread for more information: http://lists.openstack.org/pipermail/openstack-operators/2018-January/014748.html ",,22,0
openstack%2Fpuppet-manila~master~Ic2d1b67a470361fc87fc6f65af6ddf628745e364,openstack/puppet-manila,master,Ic2d1b67a470361fc87fc6f65af6ddf628745e364,Replace ::keystone:python by ::keystone:client,MERGED,2018-11-28 08:53:42.000000000,2018-11-28 22:06:48.000000000,2018-11-28 22:06:48.000000000,"[{'_account_id': 13294}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-28 08:53:42.000000000', 'files': ['manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/e5adf97c8085071bc9adc0d05cba6f765a69da28', 'message': 'Replace ::keystone:python by ::keystone:client\n\n::keystone:python has been removed in [1].\n\n[1] https://review.openstack.org/#/c/619378\n\nChange-Id: Ic2d1b67a470361fc87fc6f65af6ddf628745e364\n'}]",0,620535,e5adf97c8085071bc9adc0d05cba6f765a69da28,14,5,1,16312,,,0,"Replace ::keystone:python by ::keystone:client

::keystone:python has been removed in [1].

[1] https://review.openstack.org/#/c/619378

Change-Id: Ic2d1b67a470361fc87fc6f65af6ddf628745e364
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/35/620535/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/api.pp'],1,e5adf97c8085071bc9adc0d05cba6f765a69da28,, require ::keystone::client, require ::keystone::python,1,1
openstack%2Fnova-specs~master~I646041c872c4172219df2527820a672a0a2cb736,openstack/nova-specs,master,I646041c872c4172219df2527820a672a0a2cb736,Support volume-backed server rebuild,MERGED,2018-01-10 05:51:53.000000000,2018-11-28 21:51:24.000000000,2018-11-28 21:51:23.000000000,"[{'_account_id': 136}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 6484}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 7198}, {'_account_id': 8768}, {'_account_id': 9555}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 10224}, {'_account_id': 11904}, {'_account_id': 12408}, {'_account_id': 12484}, {'_account_id': 15888}, {'_account_id': 16137}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 22378}, {'_account_id': 23083}, {'_account_id': 24849}, {'_account_id': 26458}, {'_account_id': 27487}, {'_account_id': 27594}, {'_account_id': 27602}, {'_account_id': 27615}, {'_account_id': 28842}]","[{'number': 1, 'created': '2018-01-10 05:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/39afeb093717ad48455b63db6ee5fa4e42d2f1e8', 'message': 'Support volume-backed server rebuild\n\nThe spec is describing the operation of rebuild the volume-backed\nserver.\n\nChange-Id: I646041c872c4172219df2527820a672a0a2cb736\nImplements:blueprint volume-backed-server-rebuild\n'}, {'number': 2, 'created': '2018-01-10 06:50:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/1f322001377abe12cf5b389626cd389f5acc6b23', 'message': 'Support volume-backed server rebuild\n\nThe spec is describing the operation of rebuild the volume-backed\nserver.\n\nChange-Id: I646041c872c4172219df2527820a672a0a2cb736\nImplements:blueprint volume-backed-server-rebuild\n'}, {'number': 3, 'created': '2018-01-10 07:22:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/f9e4003ba67517084818ff036bdeb69d8690b661', 'message': 'Support volume-backed server rebuild\n\nThe spec is describing the operation of rebuild the volume-backed\nserver.\n\nChange-Id: I646041c872c4172219df2527820a672a0a2cb736\nImplements:blueprint volume-backed-server-rebuild\n'}, {'number': 4, 'created': '2018-01-10 11:30:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/f687654141375f883b4b05af6b30ba2ee37991f3', 'message': 'Support volume-backed server rebuild\n\nThe spec is describing the operation of rebuild the volume-backed\nserver.\n\nChange-Id: I646041c872c4172219df2527820a672a0a2cb736\nImplements:blueprint volume-backed-server-rebuild\n'}, {'number': 5, 'created': '2018-03-14 08:27:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/4628a6a94a7e5b82bf1d0c96a8dc6ea9a5f2f9f0', 'message': 'Support volume-backed server rebuild\n\nThe spec is describing the operation of rebuild the volume-backed\nserver.\n\nChange-Id: I646041c872c4172219df2527820a672a0a2cb736\nImplements:blueprint volume-backed-server-rebuild\n'}, {'number': 6, 'created': '2018-03-22 03:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/56f43a4ed99656e5e743bb45c0d2e47c2d3078e8', 'message': 'Support volume-backed server rebuild\n\nThe spec is describing the operation of rebuild the volume-backed\nserver.\n\nChange-Id: I646041c872c4172219df2527820a672a0a2cb736\nImplements:blueprint volume-backed-server-rebuild\n'}, {'number': 7, 'created': '2018-03-24 04:38:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/2bf80f9f69dffb87867168ca3b492750e6947d6c', 'message': 'Support volume-backed server rebuild\n\nThe spec is describing the operation of rebuild the volume-backed\nserver.\n\nChange-Id: I646041c872c4172219df2527820a672a0a2cb736\nImplements:blueprint volume-backed-server-rebuild\n'}, {'number': 8, 'created': '2018-10-17 07:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/a54b2f28df00d39bb86decb4798a73379b5dc0f9', 'message': 'Support volume-backed server rebuild\n\nThe spec is describing the operation of rebuild the volume-backed\nserver.\n\nChange-Id: I646041c872c4172219df2527820a672a0a2cb736\nImplements:blueprint volume-backed-server-rebuild\n'}, {'number': 9, 'created': '2018-10-17 07:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/0be1231b083c5d41b04ef5e7b61a472beb833615', 'message': 'Support volume-backed server rebuild\n\nThe spec is describing the operation of rebuild the volume-backed\nserver.\n\nChange-Id: I646041c872c4172219df2527820a672a0a2cb736\nImplements:blueprint volume-backed-server-rebuild\n'}, {'number': 10, 'created': '2018-10-22 11:46:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/87f299fbe4d0a5342d938a3bb5e63337e497fdd4', 'message': 'Support volume-backed server rebuild\n\nThe spec is describing the operation of rebuild the volume-backed\nserver.\n\nChange-Id: I646041c872c4172219df2527820a672a0a2cb736\nImplements:blueprint volume-backed-server-rebuild\n'}, {'number': 11, 'created': '2018-11-02 09:26:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/0096e0602452c754755aaa050fa38d64831ae457', 'message': 'Support volume-backed server rebuild\n\nThe spec is describing the operation of rebuild the volume-backed\nserver.\n\nChange-Id: I646041c872c4172219df2527820a672a0a2cb736\nImplements:blueprint volume-backed-server-rebuild\n'}, {'number': 12, 'created': '2018-11-02 10:20:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/434d34a7adedfd96b61d3b2dd2396a906f7ee004', 'message': 'Support volume-backed server rebuild\n\nThe spec is describing the operation of rebuild the volume-backed\nserver.\n\nChange-Id: I646041c872c4172219df2527820a672a0a2cb736\nImplements:blueprint volume-backed-server-rebuild\n'}, {'number': 13, 'created': '2018-11-20 03:46:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/bfb0ecba90263be1068989cf3c179cfe2d4bddff', 'message': 'Support volume-backed server rebuild\n\nThe spec is describing the operation of rebuild the volume-backed\nserver.\n\nChange-Id: I646041c872c4172219df2527820a672a0a2cb736\nImplements:blueprint volume-backed-server-rebuild\n'}, {'number': 14, 'created': '2018-11-20 06:04:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/071d7a97b942d6862f963b7c94804d7c36c661bf', 'message': 'Support volume-backed server rebuild\n\nThe spec is describing the operation of rebuild the volume-backed\nserver.\n\nChange-Id: I646041c872c4172219df2527820a672a0a2cb736\nImplements:blueprint volume-backed-server-rebuild\n'}, {'number': 15, 'created': '2018-11-28 15:59:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/63224db9f57bbfeb4f55c35aa9c9fda80da558c9', 'message': 'Support volume-backed server rebuild\n\nThe spec is describing the operation of rebuild the volume-backed\nserver with a new image.\n\nSpec for blueprint volume-backed-server-rebuild\n\nChange-Id: I646041c872c4172219df2527820a672a0a2cb736\n'}, {'number': 16, 'created': '2018-11-28 19:40:40.000000000', 'files': ['specs/stein/approved/volume-backed-server-rebuild.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/967737966fc684723a5628d2bd4e177408d77893', 'message': 'Support volume-backed server rebuild\n\nThe spec is describing the operation of rebuild the volume-backed\nserver with a new image.\n\nSpec for blueprint volume-backed-server-rebuild\n\nChange-Id: I646041c872c4172219df2527820a672a0a2cb736\n'}]",138,532407,967737966fc684723a5628d2bd4e177408d77893,97,28,16,27594,,,0,"Support volume-backed server rebuild

The spec is describing the operation of rebuild the volume-backed
server with a new image.

Spec for blueprint volume-backed-server-rebuild

Change-Id: I646041c872c4172219df2527820a672a0a2cb736
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/07/532407/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/rocky/approved/volume-backed-server-rebuild.rst'],1,39afeb093717ad48455b63db6ee5fa4e42d2f1e8,bp/volume-backed-server-rebuild,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== volume-backed server rebuild ========================================== https://blueprints.launchpad.net/nova/+spec/volume-backed-server-rebuild Now nova rebuild the volume backed instance as make it a fast failure in the API.But we have been offering volume-backed instance for more than 4 years and our users love it. Problem description =================== Currently Nova rebuild is only support instances which are booted from images. The volume-backed instance cannot be rebuild.Trying to create a volume-backed instance's rebuild will raise a invalidrequest exception. Use Cases --------- When user need to rebuild the volume backed server. Proposed change =============== Change existing API for rebuild the volume backed server firstly.Then go through the original rebuild the image backed server 's process.Until we get root_bdm in manager.we create a new volume with the new image,if the image is the snapshot for volume backed server,we create a new image according to the snapshot,else,we create the new volume according to the image.In the process of creating volume we should ensure the new volume 's property the same as the old volume,such as the type,this is kind of important, particularly for BFV. Update the root BDM to point to the new volume. Delete the old volume. Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- Now nova rebuild the volume backed instance as make it a fast failure in the API.If achieve this,we will change the rebuild request 's response code to 202. Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- User can provide any format image to rebuild the volume backed server. Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Upgrade impact -------------- None Implementation ============== Assignee(s) ----------- Primary assignee: ramboman Work Items ---------- * Create a new volume with the new image_id * Update the root BDM to point to the new volume * Delete the old volume Dependencies ============ None Testing ======= The following tests are added. * Nova unit tests * Nova functional tests * Provide image which any format to rebuild Documentation Impact ==================== We will delete the API documentation 's Note about rebuild the volume backed server. The following document is updated. * API Reference References ========== * This is the discuss about rebuild the volume backed server http://lists.openstack.org/pipermail/openstack-dev/2017-October/123255.html .. [#] https://review.openstack.org/#/c/528740/ .. [#] https://blueprints.launchpad.net/nova/+spec/volume-backed-server-rebuild History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Rocky - Introduced ",,160,0
openstack%2Fopenstack-ansible-ceph_client~master~Ica80f6e69764ef46c4158e0c372e9a435ad49e50,openstack/openstack-ansible-ceph_client,master,Ica80f6e69764ef46c4158e0c372e9a435ad49e50,SUSE: Fix ceph packages for Leap 15,MERGED,2018-11-05 11:49:07.000000000,2018-11-28 21:13:02.000000000,2018-11-28 21:13:02.000000000,"[{'_account_id': 538}, {'_account_id': 1004}, {'_account_id': 2799}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 10607}, {'_account_id': 12402}, {'_account_id': 13095}, {'_account_id': 14805}, {'_account_id': 15993}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-11-05 11:49:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/ac870be55d5c6191a252b15933a1827ddcd947ff', 'message': 'SUSE: Fix ceph packages for Leap 15\n\nCeph is python3-only in Leap 15 so we need to adjust the package names.\n\nChange-Id: Ica80f6e69764ef46c4158e0c372e9a435ad49e50\n'}, {'number': 2, 'created': '2018-11-05 12:09:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/7a969519af60a5a6d9fd3b12ffae0d52275c969b', 'message': 'SUSE: Fix ceph packages for Leap 15\n\nCeph is python3-only in Leap 15 so we need to adjust the package names.\n\nChange-Id: Ica80f6e69764ef46c4158e0c372e9a435ad49e50\n'}, {'number': 3, 'created': '2018-11-05 13:24:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/ad100a4db50626501f48c814432764fb92af1238', 'message': 'SUSE: Fix ceph packages for Leap 15\n\nCeph is python3-only in Leap 15 so we need to adjust the package names.\n\nChange-Id: Ica80f6e69764ef46c4158e0c372e9a435ad49e50\n'}, {'number': 4, 'created': '2018-11-05 13:53:59.000000000', 'files': ['vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/9bf4a212ff761d399b7ceb8ec963434a95678048', 'message': 'SUSE: Fix ceph packages for Leap 15\n\nCeph is python3-only in Leap 15 so we need to adjust the package names.\n\nChange-Id: Ica80f6e69764ef46c4158e0c372e9a435ad49e50\n'}]",0,615535,9bf4a212ff761d399b7ceb8ec963434a95678048,15,16,4,23163,,,0,"SUSE: Fix ceph packages for Leap 15

Ceph is python3-only in Leap 15 so we need to adjust the package names.

Change-Id: Ica80f6e69764ef46c4158e0c372e9a435ad49e50
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/35/615535/4 && git format-patch -1 --stdout FETCH_HEAD,['vars/suse.yml'],1,ac870be55d5c6191a252b15933a1827ddcd947ff,osa-add-leap-150," - ""{{ (ansible_distribution_version is version ('42', '>=')) | ternary('python-cephfs', 'python3-cephfs') }}"" - ""{{ (ansible_distribution_version is version ('42', '>=')) | ternary('python-rados', 'python3-rados') }}"" - ""{{ (ansible_distribution_version is version ('42', '>=')) | ternary('python-rbd', 'python3-rbd') }}"" - ""{{ (ansible_distribution_version is version ('42', '>=')) | ternary('python-rgw', 'python3-rgw') }}""", - python-cephfs - python-rados - python-rbd - python-rgw,4,4
openstack%2Fneutron-lib~master~I524c7101fa2dcbc5bd78587bf1fc8107faca70b5,openstack/neutron-lib,master,I524c7101fa2dcbc5bd78587bf1fc8107faca70b5,Support fetching specific db column in OVO,MERGED,2018-11-20 17:30:50.000000000,2018-11-28 20:42:36.000000000,2018-11-27 15:12:35.000000000,"[{'_account_id': 5367}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 27654}, {'_account_id': 28581}]","[{'number': 1, 'created': '2018-11-20 17:30:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/b1a9d158971512e8f1b5458170bacc1984f6fd0c', 'message': ""Support fetching specific db column in OVO\n\nThis commit introduces a new method 'get_values' in\nneutron_lib.db.model_query module. Callers can leverage\nthis method to fetch specific field of a OVO.\n\nRelated patch in Neutron: https://review.openstack.org/#/c/610182/\n\nChange-Id: I524c7101fa2dcbc5bd78587bf1fc8107faca70b5\n""}, {'number': 2, 'created': '2018-11-26 20:22:00.000000000', 'files': ['neutron_lib/db/model_query.py', 'releasenotes/notes/add-support-for-fetching-specific-column-in-OVO-81b764b203849776.yaml', 'neutron_lib/tests/unit/db/test_model_query.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/5aad62cbc0144a52feef21651d2e42b8a66201e4', 'message': ""Support fetching specific db column in OVO\n\nThis commit introduces a new method 'get_values' in\nneutron_lib.db.model_query module. Callers can leverage\nthis method to fetch specific field of a OVO.\n\nRelated patch in Neutron: https://review.openstack.org/#/c/610182/\n\nChange-Id: I524c7101fa2dcbc5bd78587bf1fc8107faca70b5\n""}]",10,619047,5aad62cbc0144a52feef21651d2e42b8a66201e4,13,5,2,27654,,,0,"Support fetching specific db column in OVO

This commit introduces a new method 'get_values' in
neutron_lib.db.model_query module. Callers can leverage
this method to fetch specific field of a OVO.

Related patch in Neutron: https://review.openstack.org/#/c/610182/

Change-Id: I524c7101fa2dcbc5bd78587bf1fc8107faca70b5
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/47/619047/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/db/model_query.py', 'releasenotes/notes/add-support-for-fetching-specific-column-in-OVO-81b764b203849776.yaml']",2,b1a9d158971512e8f1b5458170bacc1984f6fd0c,,--- features: - | Add method ``get_values`` in neutron_lib.db.model_query. This method allow callers to fetch specific column from a database model. ,,24,2
openstack%2Fkolla~stable%2Fpike~Ie1c688e74ec2aa3b6169c0a18a856dd0c92fe443,openstack/kolla,stable/pike,Ie1c688e74ec2aa3b6169c0a18a856dd0c92fe443,Install UEFI related package for nova image,MERGED,2018-11-22 10:56:39.000000000,2018-11-28 20:03:02.000000000,2018-11-28 20:03:02.000000000,"[{'_account_id': 7488}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23717}]","[{'number': 1, 'created': '2018-11-22 10:56:39.000000000', 'files': ['docker/nova/nova-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/76bc71a91bd5022da0b0b4602da6348cc1856b01', 'message': 'Install UEFI related package for nova image\n\n- for x86_64 arch, install OVMF for RHEL family and ovmf for Debian\n  family\n- for aarch64 arch, install AAVMF for RHEL family and qemu-efi for\n  Debian family\n- there is no package support for ppc64le\n\nCloses-Bug: #1796558\nChange-Id: Ie1c688e74ec2aa3b6169c0a18a856dd0c92fe443\n(cherry picked from commit 60009339827ff81537d80f6a6d3dfa23ad36dbf1)\n'}]",0,619512,76bc71a91bd5022da0b0b4602da6348cc1856b01,7,4,1,19316,,,0,"Install UEFI related package for nova image

- for x86_64 arch, install OVMF for RHEL family and ovmf for Debian
  family
- for aarch64 arch, install AAVMF for RHEL family and qemu-efi for
  Debian family
- there is no package support for ppc64le

Closes-Bug: #1796558
Change-Id: Ie1c688e74ec2aa3b6169c0a18a856dd0c92fe443
(cherry picked from commit 60009339827ff81537d80f6a6d3dfa23ad36dbf1)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/12/619512/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/nova/nova-base/Dockerfile.j2'],1,76bc71a91bd5022da0b0b4602da6348cc1856b01,bug/1796558-stable/rocky-stable/queens-stable/pike," {% if base_arch == 'x86_64' %} {% set nova_base_packages = nova_base_packages + [ 'OVMF' ] %} {% elif base_arch == 'aarch64' %} {% set nova_base_packages = nova_base_packages + [ 'AAVMF' ] %} {% elif base_arch == 'ppc64le' %} {# NOTE(Jeffrey4l): no packages for ppc64le #} {% endif %} {% if base_arch == 'x86_64' %} {% set nova_base_packages = nova_base_packages + [ 'ovmf' ] %} {% elif base_arch == 'aarch64' %} {% set nova_base_packages = nova_base_packages + [ 'qemu-efi', ] %} {% elif base_arch == 'ppc64le' %} {# NOTE(Jeffrey4l): no packages for ppc64le #} {% endif %} {% if base_arch == 'x86_64' %} {% set nova_base_packages = nova_base_packages + [ 'OVMF' ] %} {% elif base_arch == 'aarch64' %} {% set nova_base_packages = nova_base_packages + [ 'AAVMF' ] %} {% elif base_arch == 'ppc64le' %} {# NOTE(Jeffrey4l): no packages for ppc64le #} {% endif %} {% if base_arch == 'x86_64' %} {% set nova_base_packages = nova_base_packages + [ 'ovmf' ] %} {% elif base_arch == 'aarch64' %} {% set nova_base_packages = nova_base_packages + [ 'qemu-efi', ] %} {% elif base_arch == 'ppc64le' %} {# NOTE(Jeffrey4l): no packages for ppc64le #} {% endif %} {% if base_distro in ['centos', 'oraclelinux', 'rhel'] %} {% if base_arch == 'x86_64' %} # NOTE(jeffrey4l): for x86_64, nova will validate the existence of /usr/share/OVMF/OVMF_CODE.fd RUN ln -sf /usr/share/OVMF/OVMF_CODE.secboot.fd /usr/share/OVMF/OVMF_CODE.fd {% endif %} {% endif %} ",,53,1
openstack%2Fkolla~stable%2Fqueens~Ie1c688e74ec2aa3b6169c0a18a856dd0c92fe443,openstack/kolla,stable/queens,Ie1c688e74ec2aa3b6169c0a18a856dd0c92fe443,Install UEFI related package for nova image,MERGED,2018-11-22 10:56:21.000000000,2018-11-28 20:03:01.000000000,2018-11-28 20:03:01.000000000,"[{'_account_id': 7488}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23717}]","[{'number': 1, 'created': '2018-11-22 10:56:21.000000000', 'files': ['docker/nova/nova-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/96ea0051c0ee674a4cc8445438a918cb2945e76a', 'message': 'Install UEFI related package for nova image\n\n- for x86_64 arch, install OVMF for RHEL family and ovmf for Debian\n  family\n- for aarch64 arch, install AAVMF for RHEL family and qemu-efi for\n  Debian family\n- there is no package support for ppc64le\n\nCloses-Bug: #1796558\nChange-Id: Ie1c688e74ec2aa3b6169c0a18a856dd0c92fe443\n(cherry picked from commit 60009339827ff81537d80f6a6d3dfa23ad36dbf1)\n'}]",0,619511,96ea0051c0ee674a4cc8445438a918cb2945e76a,8,4,1,19316,,,0,"Install UEFI related package for nova image

- for x86_64 arch, install OVMF for RHEL family and ovmf for Debian
  family
- for aarch64 arch, install AAVMF for RHEL family and qemu-efi for
  Debian family
- there is no package support for ppc64le

Closes-Bug: #1796558
Change-Id: Ie1c688e74ec2aa3b6169c0a18a856dd0c92fe443
(cherry picked from commit 60009339827ff81537d80f6a6d3dfa23ad36dbf1)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/11/619511/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/nova/nova-base/Dockerfile.j2'],1,96ea0051c0ee674a4cc8445438a918cb2945e76a,bug/1796558-stable/rocky-stable/queens," {% if base_arch == 'x86_64' %} {% set nova_base_packages = nova_base_packages + [ 'OVMF' ] %} {% elif base_arch == 'aarch64' %} {% set nova_base_packages = nova_base_packages + [ 'AAVMF' ] %} {% elif base_arch == 'ppc64le' %} {# NOTE(Jeffrey4l): no packages for ppc64le #} {% endif %} {% if base_arch == 'x86_64' %} {% set nova_base_packages = nova_base_packages + [ 'ovmf' ] %} {% elif base_arch == 'aarch64' %} {% set nova_base_packages = nova_base_packages + [ 'qemu-efi', ] %} {% elif base_arch == 'ppc64le' %} {# NOTE(Jeffrey4l): no packages for ppc64le #} {% endif %} {% if base_arch == 'x86_64' %} {% set nova_base_packages = nova_base_packages + [ 'OVMF' ] %} {% elif base_arch == 'aarch64' %} {% set nova_base_packages = nova_base_packages + [ 'AAVMF' ] %} {% elif base_arch == 'ppc64le' %} {# NOTE(Jeffrey4l): no packages for ppc64le #} {% endif %} {% if base_arch == 'x86_64' %} {% set nova_base_packages = nova_base_packages + [ 'ovmf' ] %} {% elif base_arch == 'aarch64' %} {% set nova_base_packages = nova_base_packages + [ 'qemu-efi', ] %} {% elif base_arch == 'ppc64le' %} {# NOTE(Jeffrey4l): no packages for ppc64le #} {% endif %} {% if base_distro in ['centos', 'oraclelinux', 'rhel'] %} {% if base_arch == 'x86_64' %} # NOTE(jeffrey4l): for x86_64, nova will validate the existence of /usr/share/OVMF/OVMF_CODE.fd RUN ln -sf /usr/share/OVMF/OVMF_CODE.secboot.fd /usr/share/OVMF/OVMF_CODE.fd {% endif %} {% endif %} ",,53,1
openstack%2Frpm-packaging~master~Ie6aa8eb8d0116f218e9ebd6522bc409efa0ab564,openstack/rpm-packaging,master,Ie6aa8eb8d0116f218e9ebd6522bc409efa0ab564,Update futurist to 1.8.0,MERGED,2018-11-21 16:15:14.000000000,2018-11-28 19:59:21.000000000,2018-11-28 19:59:21.000000000,"[{'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-11-21 16:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/1b53cf9b3dd966164d4f6288a0d6f225ebcc7fcf', 'message': 'Update futurist to 1.8.0\n\nChange-Id: Ie6aa8eb8d0116f218e9ebd6522bc409efa0ab564\n'}, {'number': 2, 'created': '2018-11-23 09:02:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a2016ba6d3f0bf64ca042ce1c0ed09d09201d40a', 'message': 'Update futurist to 1.8.0\n\nChange-Id: Ie6aa8eb8d0116f218e9ebd6522bc409efa0ab564\n'}, {'number': 3, 'created': '2018-11-23 09:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/41d6af694e2d9efffa664c0bc2e2f3bd2374ecca', 'message': 'Update futurist to 1.8.0\n\nChange-Id: Ie6aa8eb8d0116f218e9ebd6522bc409efa0ab564\n'}, {'number': 4, 'created': '2018-11-28 16:34:08.000000000', 'files': ['openstack/futurist/futurist.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/6457817237a6d6d6738c6826fb9bebb17008f68c', 'message': 'Update futurist to 1.8.0\n\nAlso fix BuildRequires and doc build\n\nChange-Id: Ie6aa8eb8d0116f218e9ebd6522bc409efa0ab564\n'}]",1,619294,6457817237a6d6d6738c6826fb9bebb17008f68c,19,5,4,6593,,,0,"Update futurist to 1.8.0

Also fix BuildRequires and doc build

Change-Id: Ie6aa8eb8d0116f218e9ebd6522bc409efa0ab564
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/94/619294/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/futurist/futurist.spec.j2'],1,1b53cf9b3dd966164d4f6288a0d6f225ebcc7fcf,updates,{% set upstream_version = upstream_version('1.8.0') %},{% set upstream_version = upstream_version('1.7.0') %},1,1
openstack%2Fpython-heatclient~master~Ie069aaaff1646a70f3717fc6f9c7252949c4e5fd,openstack/python-heatclient,master,Ie069aaaff1646a70f3717fc6f9c7252949c4e5fd,"Replace deprecated ""decodestring()"" by ""decodebytes()""",MERGED,2018-11-02 09:23:52.000000000,2018-11-28 19:37:37.000000000,2018-11-28 19:37:37.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-02 09:23:52.000000000', 'files': ['heatclient/tests/unit/test_template_utils.py'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/02d0090c4762703383cde00cd80ea6dadad565e5', 'message': 'Replace deprecated ""decodestring()"" by ""decodebytes()""\n\ndecodestring() is deprecated alias of decodebytes()\nhttps://docs.python.org/3/library/base64.html#base64.decodestring\n\nThe same has been done for nova:\nhttps://review.openstack.org/#/c/610401/\n\nChange-Id: Ie069aaaff1646a70f3717fc6f9c7252949c4e5fd\n'}]",0,615112,02d0090c4762703383cde00cd80ea6dadad565e5,7,2,1,25903,,,0,"Replace deprecated ""decodestring()"" by ""decodebytes()""

decodestring() is deprecated alias of decodebytes()
https://docs.python.org/3/library/base64.html#base64.decodestring

The same has been done for nova:
https://review.openstack.org/#/c/610401/

Change-Id: Ie069aaaff1646a70f3717fc6f9c7252949c4e5fd
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/12/615112/1 && git format-patch -1 --stdout FETCH_HEAD,['heatclient/tests/unit/test_template_utils.py'],1,02d0090c4762703383cde00cd80ea6dadad565e5,decodestring,"from oslo_serialization import base64 raw_content = base64.decode_as_bytes(content) self.assertIn(b'\0', base64.decode_as_bytes(content)) decoded_content = base64.decode_as_bytes(content) self.assertIn(b'\0', base64.decode_as_bytes(content)) decoded_content = base64.decode_as_bytes(content) self.assertNotIn('\0', base64.decode_as_bytes(content)) decoded_content = base64.decode_as_bytes(content)","import base64 raw_content = base64.decodestring(content) self.assertIn(b'\0', base64.decodestring(content)) decoded_content = base64.decodestring(content) self.assertIn(b'\0', base64.decodestring(content)) decoded_content = base64.decodestring(content) self.assertNotIn('\0', base64.decodestring(content)) decoded_content = base64.decodestring(content)",8,8
openstack%2Frpm-packaging~master~Ieba7886642950a7d34892462137047615a1da0f2,openstack/rpm-packaging,master,Ieba7886642950a7d34892462137047615a1da0f2,Update cliff to 2.14.0,MERGED,2018-11-21 16:15:14.000000000,2018-11-28 19:37:36.000000000,2018-11-28 19:37:36.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-11-21 16:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/28993aa54715f6ecbf0d29458fa7bbac8accd0bf', 'message': 'Update cliff to 2.14.0\n\nChange-Id: Ieba7886642950a7d34892462137047615a1da0f2\n'}, {'number': 2, 'created': '2018-11-21 18:17:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/030f677920bd7b90301471cd0d89660af5b6cab0', 'message': 'Update cliff to 2.14.0\n\nChange-Id: Ieba7886642950a7d34892462137047615a1da0f2\n'}, {'number': 3, 'created': '2018-11-28 15:55:36.000000000', 'files': ['openstack/cliff/cliff.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/c5bb0f439a08ce47049688e04c8e64f8cd881241', 'message': 'Update cliff to 2.14.0\n\nChange-Id: Ieba7886642950a7d34892462137047615a1da0f2\n'}]",0,619291,c5bb0f439a08ce47049688e04c8e64f8cd881241,22,6,3,6593,,,0,"Update cliff to 2.14.0

Change-Id: Ieba7886642950a7d34892462137047615a1da0f2
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/91/619291/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/cliff/cliff.spec.j2'],1,28993aa54715f6ecbf0d29458fa7bbac8accd0bf,updates,{% set upstream_version = upstream_version('2.14.0') %},{% set upstream_version = upstream_version('2.13.0') %},1,1
openstack%2Frpm-packaging~master~I4cfb83fdc5b44c90707b80b26bc5fa7220886f40,openstack/rpm-packaging,master,I4cfb83fdc5b44c90707b80b26bc5fa7220886f40,Update stevedore to 1.30.0,MERGED,2018-11-21 16:15:14.000000000,2018-11-28 19:35:43.000000000,2018-11-28 19:35:43.000000000,"[{'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-11-21 16:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/7b7ba7810fc4ad302cff4115bd1a187e3243a3ed', 'message': 'Update stevedore to 1.30.0\n\nChange-Id: I4cfb83fdc5b44c90707b80b26bc5fa7220886f40\n'}, {'number': 2, 'created': '2018-11-21 18:18:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/32ca68c134d0c2a30cd4c757d7e39e293595a062', 'message': 'Update stevedore to 1.30.0\n\nChange-Id: I4cfb83fdc5b44c90707b80b26bc5fa7220886f40\n'}, {'number': 3, 'created': '2018-11-22 22:48:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/d7a7aa0854eb84b7a65e71b55d221e62c585d5aa', 'message': 'Update stevedore to 1.30.0\n\nChange-Id: I4cfb83fdc5b44c90707b80b26bc5fa7220886f40\n'}, {'number': 4, 'created': '2018-11-28 14:36:46.000000000', 'files': ['openstack/stevedore/stevedore.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/169fb9769428e2046daf47b285516c7f9870239c', 'message': 'Update stevedore to 1.30.0\n\nChange-Id: I4cfb83fdc5b44c90707b80b26bc5fa7220886f40\n'}]",0,619298,169fb9769428e2046daf47b285516c7f9870239c,21,5,4,6593,,,0,"Update stevedore to 1.30.0

Change-Id: I4cfb83fdc5b44c90707b80b26bc5fa7220886f40
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/98/619298/3 && git format-patch -1 --stdout FETCH_HEAD,['openstack/stevedore/stevedore.spec.j2'],1,7b7ba7810fc4ad302cff4115bd1a187e3243a3ed,updates,{% set upstream_version = upstream_version('1.30.0') %},{% set upstream_version = upstream_version('1.29.0') %},1,1
openstack%2Fcinder~master~I496d30ecf6390f51cdd8e547b7345b3da30e92de,openstack/cinder,master,I496d30ecf6390f51cdd8e547b7345b3da30e92de,api-ref: document encryption type provider choices,MERGED,2018-11-15 12:42:17.000000000,2018-11-28 19:31:57.000000000,2018-11-16 01:35:20.000000000,"[{'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10135}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-11-15 12:42:17.000000000', 'files': ['api-ref/source/v3/volumes-v3-types.inc', 'api-ref/source/v3/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e7732680e0a57a7fba52ca91df5ae4d1cb1dc51d', 'message': ""api-ref: document encryption type provider choices\n\nThis updates the encrypted volume type provider\nparameter descriptions for the create and update\nrequests to note the two choices of 'luks' and 'plain'.\nSince we don't want those choices in the response\nparameter descriptions, the parameters have to be\nbroken down a bit in the parameters.yaml file to\nbe request/response and optional/required.\n\nThere are currently other supported values for the\nencryption type provider, including the legacy\nclasspath values, but we want people using the\nnon-legacy values so only luks and plain are\ndocumented here, and luks is marked as the\nrecommended choice over plain (dm-crypt).\n\nChange-Id: I496d30ecf6390f51cdd8e547b7345b3da30e92de\nCloses-Bug: #1803513\n""}]",2,618147,e7732680e0a57a7fba52ca91df5ae4d1cb1dc51d,35,31,1,6873,,,0,"api-ref: document encryption type provider choices

This updates the encrypted volume type provider
parameter descriptions for the create and update
requests to note the two choices of 'luks' and 'plain'.
Since we don't want those choices in the response
parameter descriptions, the parameters have to be
broken down a bit in the parameters.yaml file to
be request/response and optional/required.

There are currently other supported values for the
encryption type provider, including the legacy
classpath values, but we want people using the
non-legacy values so only luks and plain are
documented here, and luks is marked as the
recommended choice over plain (dm-crypt).

Change-Id: I496d30ecf6390f51cdd8e547b7345b3da30e92de
Closes-Bug: #1803513
",git fetch https://review.opendev.org/openstack/cinder refs/changes/47/618147/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v3/volumes-v3-types.inc', 'api-ref/source/v3/parameters.yaml']",2,e7732680e0a57a7fba52ca91df5ae4d1cb1dc51d,bug/1803513,provider: # required response parameter (get/create)provider_optional: # optional response parameter (update)provider_req: # required request parameter (create) description: | The class that provides encryption support. Choices are: * luks - relies on Linux Unified Key Setup (recommended) * plain - relies on dm-crypt in: body required: true type: string provider_req_optional: # optional request parameter (update) description: | The class that provides encryption support. Choices are: * luks - relies on Linux Unified Key Setup (recommended) * plain - relies on dm-crypt in: body required: false type: string,provider:provider_optional:,22,4
openstack%2Fproject-config~master~I59e68333a30edb647e4702fe756f7262d31817a3,openstack/project-config,master,I59e68333a30edb647e4702fe756f7262d31817a3,Create opendev-website project,MERGED,2018-11-28 16:06:55.000000000,2018-11-28 19:29:44.000000000,2018-11-28 19:29:44.000000000,"[{'_account_id': 2}, {'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-28 16:06:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/fa5f97bdfd12bfb8cb4b0f66bcbdd5eea4fd6382', 'message': 'Create opendev-website project\n\nThis will hold the contents for the opendev.org website.\n\nChange-Id: I59e68333a30edb647e4702fe756f7262d31817a3\n'}, {'number': 2, 'created': '2018-11-28 16:09:30.000000000', 'files': ['gerrit/acls/openstack-infra/opendev-website.config', 'gerritbot/channels.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/8c5667dc0fcc1fec8c324970654776bd3b9a9598', 'message': 'Create opendev-website project\n\nThis will hold the contents for the opendev.org website.\n\nChange-Id: I59e68333a30edb647e4702fe756f7262d31817a3\n'}]",0,620643,8c5667dc0fcc1fec8c324970654776bd3b9a9598,8,3,2,1,,,0,"Create opendev-website project

This will hold the contents for the opendev.org website.

Change-Id: I59e68333a30edb647e4702fe756f7262d31817a3
",git fetch https://review.opendev.org/openstack/project-config refs/changes/43/620643/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerritbot/channels.yaml', 'gerrit/projects.yaml']",2,fa5f97bdfd12bfb8cb4b0f66bcbdd5eea4fd6382,,- project: openstack-infra/opendev-website use-storyboard: true groups: - openstack-ci description: The contents of the OpenDev website,,6,0
openstack%2Fkolla~stable%2Frocky~I6946ab96cd758ef6eed56c9c4130046ac884b5e3,openstack/kolla,stable/rocky,I6946ab96cd758ef6eed56c9c4130046ac884b5e3,horizon: regenerate compressed javascript and css on configuration changes,MERGED,2018-10-15 08:51:39.000000000,2018-11-28 19:24:47.000000000,2018-11-28 19:24:47.000000000,"[{'_account_id': 8745}, {'_account_id': 13039}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 23717}]","[{'number': 1, 'created': '2018-10-15 08:51:39.000000000', 'files': ['docker/horizon/extend_start.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/5cd71cd7bb201a720067d1d850f94aade86f4b6f', 'message': 'horizon: regenerate compressed javascript and css on configuration changes\n\npreviously, the horizon container would not re-rerun the manage.py\ncollectstatic/compress tasks when configuration files in\n/etc/openstack-dashboard/local-settings.d were modified (or added or\ndeleted).  This commit modifies the checksum calculation to take all\nconfiguration files into account.\n\nCloses-bug: 1778963\nChange-Id: I6946ab96cd758ef6eed56c9c4130046ac884b5e3\n(cherry picked from commit 863f565b08867b87f3df7d1fc091ac26be90a1e8)\n'}]",0,610455,5cd71cd7bb201a720067d1d850f94aade86f4b6f,11,5,1,13039,,,0,"horizon: regenerate compressed javascript and css on configuration changes

previously, the horizon container would not re-rerun the manage.py
collectstatic/compress tasks when configuration files in
/etc/openstack-dashboard/local-settings.d were modified (or added or
deleted).  This commit modifies the checksum calculation to take all
configuration files into account.

Closes-bug: 1778963
Change-Id: I6946ab96cd758ef6eed56c9c4130046ac884b5e3
(cherry picked from commit 863f565b08867b87f3df7d1fc091ac26be90a1e8)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/55/610455/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/horizon/extend_start.sh'],1,5cd71cd7bb201a720067d1d850f94aade86f4b6f,bug/1778963-stable/rocky,# Regenerate the compressed javascript and css if any configuration files have # changed. Use a static modification date when generating the tarball # so that we only trigger on content changes. function settings_bundle { tar -cf- --mtime=1970-01-01 \ /etc/openstack-dashboard/local_settings \ /etc/openstack-dashboard/custom_local_settings \ /etc/openstack-dashboard/local_settings.d 2> /dev/null } function settings_changed { changed=1 hash_path=/var/lib/kolla/.settings.md5sum.txt if [[ ! -f $hash_path ]] || ! settings_bundle | md5sum -c --status $hash_path || [[ $FORCE_GENERATE == yes ]]; then changed=0 settings_bundle | md5sum > $hash_path fi ,"# NOTE(jeffrey4l, niedbalski): The local_settings and custom_local_settings files # affect django-compress behavior, so re-generate the compressed # javascript and css if any of those setting files changed function settings_changed { declare -A settings=( ['/etc/openstack-dashboard/local_settings']=""/var/lib/kolla/.local_settings.md5sum.txt"" ['/etc/openstack-dashboard/custom_local_settings']=""/var/lib/kolla/.custom_local_settings.md5sum.txt"") declare -x changed=1 for path in ""${!settings[@]}""; do if [[ ! -f ${settings[$path]} || $(md5sum -c --status ${settings[$path]};echo $?) != 0 || ${FORCE_GENERATE} == ""yes"" ]]; then changed=0 md5sum ${path} > ${settings[$path]} fi done",18,11
openstack%2Fproject-config~master~I356056ef488a77288378e8348468e5ec68ccfe39,openstack/project-config,master,I356056ef488a77288378e8348468e5ec68ccfe39,Set yarn_lock_file_path for zuul-tarball jobs,MERGED,2018-11-28 15:28:44.000000000,2018-11-28 19:24:46.000000000,2018-11-28 19:24:45.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 16068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-28 15:28:44.000000000', 'files': ['playbooks/zuul-tarball/pre.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/e8b60cf06cabf88c2d1b4793eaba6f6208084905', 'message': ""Set yarn_lock_file_path for zuul-tarball jobs\n\nWe need to override the path to our yarn.lock file, as we don't have it\nin the top-level directory for zuul.\n\nChange-Id: I356056ef488a77288378e8348468e5ec68ccfe39\nDepends-On: https://review.openstack.org/620628\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n""}]",0,620631,e8b60cf06cabf88c2d1b4793eaba6f6208084905,8,4,1,4162,,,0,"Set yarn_lock_file_path for zuul-tarball jobs

We need to override the path to our yarn.lock file, as we don't have it
in the top-level directory for zuul.

Change-Id: I356056ef488a77288378e8348468e5ec68ccfe39
Depends-On: https://review.openstack.org/620628
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/31/620631/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/zuul-tarball/pre.yaml'],1,e8b60cf06cabf88c2d1b4793eaba6f6208084905,," - role: install-yarn yarn_lock_file_path: ""{{ zuul.project.src_dir }}/web/yarn.lock""", - install-yarn,2,1
openstack%2Fpython-heatclient~master~Ie594fc55eb54d48d96157e31a319f0ff97afc9be,openstack/python-heatclient,master,Ie594fc55eb54d48d96157e31a319f0ff97afc9be,Update min tox version to 2.0,MERGED,2018-10-21 02:16:48.000000000,2018-11-28 19:21:16.000000000,2018-11-28 19:21:16.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}, {'_account_id': 28935}]","[{'number': 1, 'created': '2018-10-21 02:16:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/069061930f91c0fd88997a097808674c2dee82f2', 'message': 'Update min tox version to 2.0\n\nThe commands used by constraints need at least tox 2.0.  Update to\nreflect reality, which should help with local running of constraints\ntargets.\n\nChange-Id: Ie594fc55eb54d48d96157e31a319f0ff97afc9be\n'}, {'number': 2, 'created': '2018-11-05 09:20:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/527c79374476180a4489a19d22fe6212634fd503', 'message': 'Update min tox version to 2.0\n\nThe commands used by constraints need at least tox 2.0.  Update to\nreflect reality, which should help with local running of constraints\ntargets.\n\nChange-Id: Ie594fc55eb54d48d96157e31a319f0ff97afc9be\nCloses-Bug:  #1801691\n'}, {'number': 3, 'created': '2018-11-26 07:27:14.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/4ae211699400fa471ac5defda6a0a21c14c3e69a', 'message': 'Update min tox version to 2.0\n\nThe commands used by constraints need at least tox 2.0.  Update to\nreflect reality, which should help with local running of constraints\ntargets.\n\nChange-Id: Ie594fc55eb54d48d96157e31a319f0ff97afc9be\nCloses-Bug:  #1801691\n'}]",0,612112,4ae211699400fa471ac5defda6a0a21c14c3e69a,12,3,3,26297,,,0,"Update min tox version to 2.0

The commands used by constraints need at least tox 2.0.  Update to
reflect reality, which should help with local running of constraints
targets.

Change-Id: Ie594fc55eb54d48d96157e31a319f0ff97afc9be
Closes-Bug:  #1801691
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/12/612112/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,069061930f91c0fd88997a097808674c2dee82f2,bug/1801691,minversion = 2.0,minversion = 1.6,1,1
openstack%2Fheat~master~I3507bf3b824e0580a501dd48db11fca6366c4fbe,openstack/heat,master,I3507bf3b824e0580a501dd48db11fca6366c4fbe,Add Release Notes in README,MERGED,2018-11-12 02:02:31.000000000,2018-11-28 19:21:14.000000000,2018-11-28 19:21:14.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}, {'_account_id': 27496}]","[{'number': 1, 'created': '2018-11-12 02:02:31.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/heat/commit/f956a0fb659e28cdbceb928d83eeb9d16fab5382', 'message': 'Add Release Notes in README\n\nAdd Release notes in README.rst\n\nChange-Id: I3507bf3b824e0580a501dd48db11fca6366c4fbe\n'}]",0,617186,f956a0fb659e28cdbceb928d83eeb9d16fab5382,7,3,1,27346,,,0,"Add Release Notes in README

Add Release notes in README.rst

Change-Id: I3507bf3b824e0580a501dd48db11fca6366c4fbe
",git fetch https://review.opendev.org/openstack/heat refs/changes/86/617186/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,f956a0fb659e28cdbceb928d83eeb9d16fab5382,,* Release Notes: https://docs.openstack.org/releasenotes/heat/,,1,0
openstack%2Fopenstack-helm-images~master~I2d01e3f2c34d6dd7db4a1c3897dc4b994bf02623,openstack/openstack-helm-images,master,I2d01e3f2c34d6dd7db4a1c3897dc4b994bf02623,Add build process and osh-infra images,MERGED,2018-11-05 14:33:59.000000000,2018-11-28 18:58:09.000000000,2018-11-28 18:58:09.000000000,"[{'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-11-05 14:33:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/c2b854aaf4b37da7efd120999eacee186b3cea65', 'message': '[WIP] Add zuul jobs for image building\n\nThis will add the image building into zuul.d folder.\n\nEach folder will be a series of images to build. Inside the\nfolders, a build.sh shell script shall be responsible for building\nthe images for all openstack branches.\n\nEach job will be focusing on their own images, in order to avoid\nuseless rebuild of images.\n\nA job will be required per distribution.\n\nChange-Id: I2d01e3f2c34d6dd7db4a1c3897dc4b994bf02623\n'}, {'number': 2, 'created': '2018-11-21 14:37:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/d3efab5e66f805931228e5a2d2909cc7a1f5923d', 'message': '[WIP] Add zuul jobs for image building\n\nThis will add the image building into zuul.d folder.\n\nEach folder will be a series of images to build. Inside the\nfolders, a build.sh shell script shall be responsible for building\nthe images for all openstack branches.\n\nEach job will be focusing on their own images, in order to avoid\nuseless rebuild of images.\n\nA job will be required per distribution.\n\nChange-Id: I2d01e3f2c34d6dd7db4a1c3897dc4b994bf02623\n'}, {'number': 3, 'created': '2018-11-21 16:12:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/f5c2da904e43e93f9a5ef1364ef420c75588914f', 'message': '[WIP] Add zuul jobs for image building\n\nThis will add the image building into zuul.d folder.\n\nEach folder will be a series of images to build. Inside the\nfolders, a build.sh shell script shall be responsible for building\nthe images for all openstack branches.\n\nEach job will be focusing on their own images, in order to avoid\nuseless rebuild of images.\n\nA job will be required per distribution.\n\nChange-Id: I2d01e3f2c34d6dd7db4a1c3897dc4b994bf02623\n'}, {'number': 4, 'created': '2018-11-21 16:20:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/d0c6a8791bf7879bcc33a9c9a4b27ca63db05496', 'message': ""[WIP] Add zuul jobs for image building\n\nThis will add the image building into zuul.d folder.\n\nEach folder will be a series of images to build. Inside the\nfolders, Dockerfiles, with different names per distribution.\n\nA script can be introduced in the future (Makefile) to build\none or multiple of those images, but this isn't part of this\ncommit.\n\nEach job will be focusing on their own images, in order to avoid\nuseless rebuild of images.\n\nA job will be required per distribution.\n\nChange-Id: I2d01e3f2c34d6dd7db4a1c3897dc4b994bf02623\n""}, {'number': 5, 'created': '2018-11-22 08:31:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/ae3eb7bbf2fab0ecc4632fbedaa93ae5d0df093c', 'message': ""[WIP] Add zuul jobs for image building\n\nThis will add the image building into zuul.d folder.\n\nEach folder will be a series of images to build. Inside the\nfolders, Dockerfiles, with different names per distribution.\n\nA script can be introduced in the future (Makefile) to build\none or multiple of those images, but this isn't part of this\ncommit.\n\nEach job will be focusing on their own images, in order to avoid\nuseless rebuild of images.\n\nA job will be required per distribution.\n\nChange-Id: I2d01e3f2c34d6dd7db4a1c3897dc4b994bf02623\n""}, {'number': 6, 'created': '2018-11-22 08:51:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/2d0cf5fdf76657702f9f598c4f26ff12a94335b6', 'message': ""[WIP] Add zuul jobs for image building\n\nThis will add the image building into zuul.d folder.\n\nEach folder will be a series of images to build. Inside the\nfolders, Dockerfiles, with different names per distribution.\n\nA script can be introduced in the future (Makefile) to build\none or multiple of those images, but this isn't part of this\ncommit.\n\nEach job will be focusing on their own images, in order to avoid\nuseless rebuild of images.\n\nA job will be required per distribution.\n\nChange-Id: I2d01e3f2c34d6dd7db4a1c3897dc4b994bf02623\n""}, {'number': 7, 'created': '2018-11-22 10:22:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/16a74f1ab92c41b476602a4a85395285c8011fb4', 'message': ""[WIP] Add zuul jobs for image building\n\nThis will add the image building into zuul.d folder.\n\nEach folder will be a series of images to build. Inside the\nfolders, Dockerfiles, with different names per distribution.\n\nA script can be introduced in the future (Makefile) to build\none or multiple of those images, but this isn't part of this\ncommit.\n\nEach job will be focusing on their own images, in order to avoid\nuseless rebuild of images.\n\nA job will be required per distribution.\n\nChange-Id: I2d01e3f2c34d6dd7db4a1c3897dc4b994bf02623\n""}, {'number': 8, 'created': '2018-11-22 10:30:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/6f1daa454b1509651607ddf837411bbf6fee8144', 'message': ""[WIP] Add zuul jobs for image building\n\nThis will add the image building into zuul.d folder.\n\nEach folder will be a series of images to build. Inside the\nfolders, Dockerfiles, with different names per distribution.\n\nA script can be introduced in the future (Makefile) to build\none or multiple of those images, but this isn't part of this\ncommit.\n\nEach job will be focusing on their own images, in order to avoid\nuseless rebuild of images.\n\nA job will be required per distribution.\n\nChange-Id: I2d01e3f2c34d6dd7db4a1c3897dc4b994bf02623\n""}, {'number': 9, 'created': '2018-11-22 10:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/e986b29ddb5f643d08bdb44e75c19f37d985a572', 'message': ""[WIP] Add zuul jobs for image building\n\nThis will add the image building into zuul.d folder.\n\nEach folder will be a series of images to build. Inside the\nfolders, Dockerfiles, with different names per distribution.\n\nA script can be introduced in the future (Makefile) to build\none or multiple of those images, but this isn't part of this\ncommit.\n\nEach job will be focusing on their own images, in order to avoid\nuseless rebuild of images.\n\nA job will be required per distribution.\n\nChange-Id: I2d01e3f2c34d6dd7db4a1c3897dc4b994bf02623\n""}, {'number': 10, 'created': '2018-11-22 13:07:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/3954fffa3fe7ee4aecda9fe3ac8a22191957db43', 'message': ""[WIP] Add zuul jobs for image building\n\nThis will add the image building into zuul.d folder.\n\nEach folder will be a series of images to build. Inside the\nfolders, Dockerfiles, with different names per distribution.\n\nA script can be introduced in the future (Makefile) to build\none or multiple of those images, but this isn't part of this\ncommit.\n\nEach job will be focusing on their own images, in order to avoid\nuseless rebuild of images.\n\nA job will be required per distribution.\n\nChange-Id: I2d01e3f2c34d6dd7db4a1c3897dc4b994bf02623\n""}, {'number': 11, 'created': '2018-11-22 13:37:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/58aebb518901fb228d4f78e51c31fe0470146f0d', 'message': ""[WIP] Add zuul jobs for image building\n\nThis will add the image building into zuul.d folder.\n\nEach folder will be a series of images to build. Inside the\nfolders, Dockerfiles, with different names per distribution.\n\nA script can be introduced in the future (Makefile) to build\none or multiple of those images, but this isn't part of this\ncommit.\n\nEach job will be focusing on their own images, in order to avoid\nuseless rebuild of images.\n\nA job will be required per distribution.\n\nDepends-On: https://review.openstack.org/609616\nDepends-On: https://review.openstack.org/616678\nChange-Id: I2d01e3f2c34d6dd7db4a1c3897dc4b994bf02623\n""}, {'number': 12, 'created': '2018-11-22 14:59:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/aac13fb322abdc71e023d3ee8bb26acdcfdebcac', 'message': ""[WIP] Add zuul jobs for image building\n\nThis patch adds image building process.\n\nEach folder will contain a 'kind' of images to build. Each folder will\nhave a parent job. Inheritence of the parent job per folder will be used\nto have distribution variants (centos_7, ubuntu_xenial, opensuse_15).\n\nFolders containing Dockerfiles (a different Dockerfiles per\ndistribution), will be able to call the docker building play\n(docker-build.yml).\n\nA script can be introduced in a later patchset, to introduce a global\nbuilding feature, which will build ALL the image for users for a given\ndistribution, using a Makefile.\n\nChange-Id: I2d01e3f2c34d6dd7db4a1c3897dc4b994bf02623\n""}, {'number': 13, 'created': '2018-11-23 10:44:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/585f2468333c28c88ea04610dccd465feaf445ee', 'message': 'Add build process and osh-infra images\n\nThis patch adds image building process.\n\nEach folder will contain a \'kind\' of images to build. Each folder will\nhave a parent job. Inheritence of the parent job per folder will be used\nto have distribution variants (centos_7, ubuntu_xenial, opensuse_15).\n\nFolders containing Dockerfiles (a different Dockerfiles per\ndistribution), will be able to call the docker building play\n(docker-build.yml).\n\nA script can be introduced in a later patchset, to introduce a global\nbuilding feature, which will build ALL the image for users for a given\ndistribution, using a Makefile.\n\nDockerfiles come from openstack-helm-infra repos, but with the\nfollowing changes:\n* The deprecated ""MAINTAINER"" directive has been replaced with\n  LABEL maintainer=<maintaineremail>\n* If Dockerfiles\' default arguments were mismatching the\n  documentation or Makefiles, they were adapted (see libvirt).\n\nEach folder is given a convenience build script, to locally build\nonly one image. That script gets included to avoid repeating\nourselves in the documentation.\n\nChange-Id: I2d01e3f2c34d6dd7db4a1c3897dc4b994bf02623\n'}, {'number': 14, 'created': '2018-11-23 10:45:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/6f270d5be40848924a6fafa24bf5b3c514e9b3e8', 'message': 'Add build process and osh-infra images\n\nThis patch adds image building process.\n\nEach folder will contain a \'kind\' of images to build. Each folder will\nhave a parent job. Inheritence of the parent job per folder will be used\nto have distribution variants (centos_7, ubuntu_xenial, opensuse_15).\n\nFolders containing Dockerfiles (a different Dockerfiles per\ndistribution), will be able to call the docker building play\n(docker-build.yml).\n\nA script can be introduced in a later patchset, to introduce a global\nbuilding feature, which will build ALL the image for users for a given\ndistribution, using a Makefile.\n\nDockerfiles come from openstack-helm-infra repos, but with the\nfollowing changes:\n* The deprecated ""MAINTAINER"" directive has been replaced with\n  LABEL maintainer=<maintaineremail>\n* If Dockerfiles\' default arguments were mismatching the\n  documentation or Makefiles, they were adapted (see libvirt).\n\nEach folder is given a convenience build script, to locally build\nonly one image. That script gets included to avoid repeating\nourselves in the documentation.\n\nChange-Id: I2d01e3f2c34d6dd7db4a1c3897dc4b994bf02623\n'}, {'number': 15, 'created': '2018-11-23 10:47:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/7ad88f8264637f2c7b673ad6a8a6768bbe9dedee', 'message': 'Add build process and osh-infra images\n\nThis patch adds image building process.\n\nEach folder will contain a \'kind\' of images to build. Each folder will\nhave a parent job. Inheritence of the parent job per folder will be used\nto have distribution variants (centos_7, ubuntu_xenial, opensuse_15).\n\nFolders containing Dockerfiles (a different Dockerfiles per\ndistribution), will be able to call the docker building play\n(docker-build.yml).\n\nA script can be introduced in a later patchset, to introduce a global\nbuilding feature, which will build ALL the image for users for a given\ndistribution, using a Makefile.\n\nDockerfiles come from openstack-helm-infra repos, but with the\nfollowing changes:\n* The deprecated ""MAINTAINER"" directive has been replaced with\n  LABEL maintainer=<maintaineremail>\n* If Dockerfiles\' default arguments were mismatching the\n  documentation or Makefiles, they were adapted (see libvirt).\n\nEach folder is given a convenience build script, to locally build\nonly one image. That script gets included to avoid repeating\nourselves in the documentation.\n\nChange-Id: I2d01e3f2c34d6dd7db4a1c3897dc4b994bf02623\n'}, {'number': 16, 'created': '2018-11-23 11:19:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/3e16b73dab1e1b9d7044c0bde474ccc5b8fe882e', 'message': 'Add build process and osh-infra images\n\nThis patch adds image building process.\n\nEach folder will contain a \'kind\' of images to build. Each folder will\nhave a parent job. Inheritence of the parent job per folder will be used\nto have distribution variants (centos_7, ubuntu_xenial, opensuse_15).\n\nFolders containing Dockerfiles (a different Dockerfiles per\ndistribution), will be able to call the docker building play\n(docker-build.yml).\n\nA script can be introduced in a later patchset, to introduce a global\nbuilding feature, which will build ALL the image for users for a given\ndistribution, using a Makefile.\n\nDockerfiles come from openstack-helm-infra repos, but with the\nfollowing changes:\n* The deprecated ""MAINTAINER"" directive has been replaced with\n  LABEL maintainer=<maintaineremail>\n* If Dockerfiles\' default arguments were mismatching the\n  documentation or Makefiles, they were adapted (see libvirt).\n\nEach folder is given a convenience build script, to locally build\nonly one image. That script gets included to avoid repeating\nourselves in the documentation.\n\nChange-Id: I2d01e3f2c34d6dd7db4a1c3897dc4b994bf02623\n'}, {'number': 17, 'created': '2018-11-23 13:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/ea59ae31fbbd5229096778757d948070c77cc1b5', 'message': 'Add build process and osh-infra images\n\nThis patch adds image building process.\n\nEach folder will contain a \'kind\' of images to build. Each folder will\nhave a parent job. Inheritence of the parent job per folder will be used\nto have distribution variants (centos_7, ubuntu_xenial, opensuse_15).\n\nFolders containing Dockerfiles (a different Dockerfiles per\ndistribution), will be able to call the docker building play\n(docker-build.yml).\n\nA script can be introduced in a later patchset, to introduce a global\nbuilding feature, which will build ALL the image for users for a given\ndistribution, using a Makefile.\n\nDockerfiles come from openstack-helm-infra repos, but with the\nfollowing changes:\n* The deprecated ""MAINTAINER"" directive has been replaced with\n  LABEL maintainer=<maintaineremail>\n* If Dockerfiles\' default arguments were mismatching the\n  documentation or Makefiles, they were adapted (see libvirt).\n\nEach folder is given a convenience build script, to locally build\nonly one image. That script gets included to avoid repeating\nourselves in the documentation.\n\nChange-Id: I2d01e3f2c34d6dd7db4a1c3897dc4b994bf02623\n'}, {'number': 18, 'created': '2018-11-24 10:28:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/6d0ede40415ec6009469eff1028732033f69327f', 'message': 'Add build process and osh-infra images\n\nThis patch adds image building process for OSH.\n\nEach root folder contains a \'kind\' of images to build. Each folder will\nhave its own parent job, inheriting from a \'openstack-helm-images-base\'\njob. The folder \'parent job\' is used for building distribution\nvariants (centos_7, ubuntu_xenial, opensuse_15).\n\nFolders containing Dockerfiles (a different Dockerfiles per\ndistribution) will use the docker building play (docker-build.yml).\n\nDockerfiles come from openstack-helm-infra repository,\nwith the following changes:\n* The deprecated ""MAINTAINER"" directive has been replaced with\n  LABEL maintainer=<maintaineremail>\n* If Dockerfiles\' default arguments were mismatching the\n  documentation or Makefiles, they were adapted (see libvirt).\n* Relative paths to the openstack-helm-infra repo have been removed.\n\nEach folder is given a convenience build script (build.sh) which\ncan be used to build a specific image.\nThis script\'s content gets included in the documentation to avoid\nduplications of content.\n\nThis patch focuses on each image separately.\nAnother patch will be added to deal with a repo-wide image building\nprocess, whether for CI purposes, or for developer\'s purposes,\nwith the help of a Makefile.\n\nNote: The kubeadm-aio image building is currently broken, due to\nits reliance on the openstack-helm-infra charts to be built.\nIt means we have circular dependencies, and those need to be\nfigured out in a different commit.\n\nChange-Id: I2d01e3f2c34d6dd7db4a1c3897dc4b994bf02623\n'}, {'number': 19, 'created': '2018-11-26 10:55:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/8469569eb5ac3179657fe01294fc9562e998df9f', 'message': 'Add build process and osh-infra images\n\nThis patch adds image building process for OSH.\n\nEach root folder contains a \'kind\' of images to build. Each folder will\nhave its own parent job, inheriting from a \'openstack-helm-images-base\'\njob. The folder \'parent job\' is used for building distribution\nvariants (centos_7, ubuntu_xenial, opensuse_15).\n\nFolders containing Dockerfiles (a different Dockerfiles per\ndistribution) will use the docker building play (docker-build.yml).\n\nDockerfiles come from openstack-helm-infra repository,\nwith the following changes:\n* The deprecated ""MAINTAINER"" directive has been replaced with\n  LABEL maintainer=<maintaineremail>\n* If Dockerfiles\' default arguments were mismatching the\n  documentation or Makefiles, they were adapted (see libvirt).\n* Relative paths to the openstack-helm-infra repo have been removed.\n\nEach folder is given a convenience build script (build.sh) which\ncan be used to build a specific image.\nThis script\'s content gets included in the documentation to avoid\nduplications of content.\n\nThis patch focuses on each image separately.\nAnother patch will be added to deal with a repo-wide image building\nprocess, whether for CI purposes, or for developer\'s purposes,\nwith the help of a Makefile.\n\nNote: The kubeadm-aio image building is currently broken, due to\nits reliance on the openstack-helm-infra charts to be built.\nIt means we have circular dependencies, and those need to be\nfigured out in a different commit.\n\nChange-Id: I2d01e3f2c34d6dd7db4a1c3897dc4b994bf02623\n'}, {'number': 20, 'created': '2018-11-26 14:14:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/69f2eb14f58ea3f3c363f43b1dc0de541a29a8a9', 'message': 'Add build process and osh-infra images\n\nThis patch adds image building process for OSH.\n\nEach root folder contains a \'kind\' of images to build. Each folder will\nhave its own parent job, inheriting from a \'openstack-helm-images-base\'\njob. The folder \'parent job\' is used for building distribution\nvariants (centos_7, ubuntu_xenial, opensuse_15).\n\nFolders containing Dockerfiles (a different Dockerfiles per\ndistribution) will use the docker building play (docker-build.yml).\n\nDockerfiles come from openstack-helm-infra repository,\nwith the following changes:\n* The deprecated ""MAINTAINER"" directive has been replaced with\n  LABEL maintainer=<maintaineremail>\n* If Dockerfiles\' default arguments were mismatching the\n  documentation or Makefiles, they were adapted (see libvirt).\n* Relative paths to the openstack-helm-infra repo have been removed.\n\nEach folder is given a convenience build script (build.sh) which\ncan be used to build a specific image.\nThis script\'s content gets included in the documentation to avoid\nduplications of content.\n\nThis patch focuses on each image separately.\nAnother patch will be added to deal with a repo-wide image building\nprocess, whether for CI purposes, or for developer\'s purposes,\nwith the help of a Makefile.\n\nNote: The kubeadm-aio image building is currently broken, due to\nits reliance on the openstack-helm-infra charts to be built.\nIt means we have circular dependencies, and those need to be\nfigured out in a different commit.\n\nChange-Id: I2d01e3f2c34d6dd7db4a1c3897dc4b994bf02623\n'}, {'number': 21, 'created': '2018-11-26 14:15:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/7bfbf4947942332e542a914d6d954ec17d529b71', 'message': 'Add build process and osh-infra images\n\nThis patch adds image building process for OSH.\n\nEach root folder contains a \'kind\' of images to build. Each folder will\nhave its own parent job, inheriting from a \'openstack-helm-images-base\'\njob. The folder \'parent job\' is used for building distribution\nvariants (centos_7, ubuntu_xenial, opensuse_15).\n\nFolders containing Dockerfiles (a different Dockerfiles per\ndistribution) will use the docker building play (docker-build.yml).\n\nDockerfiles come from openstack-helm-infra repository,\nwith the following changes:\n* The deprecated ""MAINTAINER"" directive has been replaced with\n  LABEL maintainer=<maintaineremail>\n* If Dockerfiles\' default arguments were mismatching the\n  documentation or Makefiles, they were adapted (see libvirt).\n* Relative paths to the openstack-helm-infra repo have been removed.\n\nEach folder is given a convenience build script (build.sh) which\ncan be used to build a specific image.\nThis script\'s content gets included in the documentation to avoid\nduplications of content.\n\nThis patch focuses on each image separately.\nAnother patch will be added to deal with a repo-wide image building\nprocess, whether for CI purposes, or for developer\'s purposes,\nwith the help of a Makefile.\n\nNote: The kubeadm-aio image building is currently broken, due to\nits reliance on the openstack-helm-infra charts to be built.\nIt means we have circular dependencies, and those need to be\nfigured out in a different commit.\n\nChange-Id: I2d01e3f2c34d6dd7db4a1c3897dc4b994bf02623\n'}, {'number': 22, 'created': '2018-11-26 15:14:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/90207c9e32165db5b53b6fe4c2c9a125b9176d52', 'message': 'Add build process and osh-infra images\n\nThis patch adds image building process for OSH.\n\nEach root folder contains a \'kind\' of images to build. Each folder will\nhave its own parent job, inheriting from a \'openstack-helm-images-base\'\njob. The folder \'parent job\' is used for building distribution\nvariants (centos_7, ubuntu_xenial, opensuse_15).\n\nFolders containing Dockerfiles (a different Dockerfiles per\ndistribution) will use the docker building play (docker-build.yml).\n\nDockerfiles come from openstack-helm-infra repository,\nwith the following changes:\n* The deprecated ""MAINTAINER"" directive has been replaced with\n  LABEL maintainer=<maintaineremail>\n* If Dockerfiles\' default arguments were mismatching the\n  documentation or Makefiles, they were adapted (see libvirt).\n* Relative paths to the openstack-helm-infra repo have been removed.\n\nEach folder is given a convenience build script (build.sh) which\ncan be used to build a specific image.\nThis script\'s content gets included in the documentation to avoid\nduplications of content.\n\nThis patch focuses on each image separately.\nAnother patch will be added to deal with a repo-wide image building\nprocess, whether for CI purposes, or for developer\'s purposes,\nwith the help of a Makefile.\n\nNote: The kubeadm-aio image building is currently broken, due to\nits reliance on the openstack-helm-infra charts to be built.\nIt means we have circular dependencies, and those need to be\nfigured out in a different commit.\n\nChange-Id: I2d01e3f2c34d6dd7db4a1c3897dc4b994bf02623\n'}, {'number': 23, 'created': '2018-11-26 15:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/eeaacc5d7b70f4be7088719d3feee4fc1da9834f', 'message': 'Add build process and osh-infra images\n\nThis patch adds image building process for OSH.\n\nEach root folder contains a \'kind\' of images to build. Each folder will\nhave its own parent job, inheriting from a \'openstack-helm-images-base\'\njob. The folder \'parent job\' is used for building distribution\nvariants (centos_7, ubuntu_xenial, opensuse_15).\n\nFolders containing Dockerfiles (a different Dockerfiles per\ndistribution) will use the docker building play (docker-build.yml).\n\nDockerfiles come from openstack-helm-infra repository,\nwith the following changes:\n* The deprecated ""MAINTAINER"" directive has been replaced with\n  LABEL maintainer=<maintaineremail>\n* If Dockerfiles\' default arguments were mismatching the\n  documentation or Makefiles, they were adapted (see libvirt).\n* Relative paths to the openstack-helm-infra repo have been removed.\n\nEach folder is given a convenience build script (build.sh) which\ncan be used to build a specific image.\nThis script\'s content gets included in the documentation to avoid\nduplications of content.\n\nThis patch focuses on each image separately.\nAnother patch will be added to deal with a repo-wide image building\nprocess, whether for CI purposes, or for developer\'s purposes,\nwith the help of a Makefile.\n\nNote: The kubeadm-aio image building is currently broken, due to\nits reliance on the openstack-helm-infra charts to be built.\nIt means we have circular dependencies, and those need to be\nfigured out in a different commit.\n\nChange-Id: I2d01e3f2c34d6dd7db4a1c3897dc4b994bf02623\n'}, {'number': 24, 'created': '2018-11-27 09:00:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/7cf9d51ce4bb65f8b483a14214770886d43ed651', 'message': 'Add build process and osh-infra images\n\nThis patch adds image building process for OSH.\n\nEach root folder contains a \'kind\' of images to build. Each folder will\nhave its own parent job, inheriting from a \'openstack-helm-images-base\'\njob. The folder \'parent job\' is used for building distribution\nvariants (centos_7, ubuntu_xenial, opensuse_15).\n\nFolders containing Dockerfiles (a different Dockerfiles per\ndistribution) will use the docker building play (docker-build.yml).\n\nDockerfiles come from openstack-helm-infra repository,\nwith the following changes:\n* The deprecated ""MAINTAINER"" directive has been replaced with\n  LABEL maintainer=<maintaineremail>\n* If Dockerfiles\' default arguments were mismatching the\n  documentation or Makefiles, they were adapted (see libvirt).\n* Relative paths to the openstack-helm-infra repo have been removed.\n\nEach folder is given a convenience build script (build.sh) which\ncan be used to build a specific image.\nThis script\'s content gets included in the documentation to avoid\nduplications of content.\n\nThis patch focuses on each image separately.\nAnother patch will be added to deal with a repo-wide image building\nprocess, whether for CI purposes, or for developer\'s purposes,\nwith the help of a Makefile.\n\nNote: The kubeadm-aio image building is currently broken, due to\nits reliance on the openstack-helm-infra charts to be built.\nIt means we have circular dependencies, and those need to be\nfigured out in a different commit.\n\nChange-Id: I2d01e3f2c34d6dd7db4a1c3897dc4b994bf02623\n'}, {'number': 25, 'created': '2018-11-27 10:50:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/4b332ef4baa652837604f39b7743988d599f1990', 'message': 'Add build process and osh-infra images\n\nThis patch adds image building process for OSH.\n\nEach root folder contains a \'kind\' of images to build. Each folder will\nhave its own parent job, inheriting from a \'openstack-helm-images-base\'\njob. The folder \'parent job\' is used for building distribution\nvariants (centos_7, ubuntu_xenial, opensuse_15).\n\nFolders containing Dockerfiles (a different Dockerfiles per\ndistribution) will use the docker building play (docker-build.yml).\n\nDockerfiles come from openstack-helm-infra repository,\nwith the following changes:\n* The deprecated ""MAINTAINER"" directive has been replaced with\n  LABEL maintainer=<maintaineremail>\n* If Dockerfiles\' default arguments were mismatching the\n  documentation or Makefiles, they were adapted (see libvirt).\n* Relative paths to the openstack-helm-infra repo have been removed.\n\nEach folder is given a convenience build script (build.sh) which\ncan be used to build a specific image.\nThis script\'s content gets included in the documentation to avoid\nduplications of content.\n\nThis patch focuses on each image separately.\nAnother patch will be added to deal with a repo-wide image building\nprocess, whether for CI purposes, or for developer\'s purposes,\nwith the help of a Makefile.\n\nNote: The kubeadm-aio image building is currently broken, due to\nits reliance on the openstack-helm-infra charts to be built.\nIt means we have circular dependencies, and those need to be\nfigured out in a different commit.\n\nChange-Id: I2d01e3f2c34d6dd7db4a1c3897dc4b994bf02623\n'}, {'number': 26, 'created': '2018-11-27 10:51:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/31f043a1fb99eb9f0c09a2fa742dee5bc10991db', 'message': 'Add build process and osh-infra images\n\nThis patch adds image building process for OSH.\n\nEach root folder contains a \'kind\' of images to build. Each folder will\nhave its own parent job, inheriting from a \'openstack-helm-images-base\'\njob. The folder \'parent job\' is used for building distribution\nvariants (centos_7, ubuntu_xenial, opensuse_15).\n\nFolders containing Dockerfiles (a different Dockerfiles per\ndistribution) will use the docker building play (docker-build.yml).\n\nDockerfiles come from openstack-helm-infra repository,\nwith the following changes:\n* The deprecated ""MAINTAINER"" directive has been replaced with\n  LABEL maintainer=<maintaineremail>\n* If Dockerfiles\' default arguments were mismatching the\n  documentation or Makefiles, they were adapted (see libvirt).\n* Relative paths to the openstack-helm-infra repo have been removed.\n\nEach folder is given a convenience build script (build.sh) which\ncan be used to build a specific image.\nThis script\'s content gets included in the documentation to avoid\nduplications of content.\n\nThis patch focuses on each image separately.\nAnother patch will be added to deal with a repo-wide image building\nprocess, whether for CI purposes, or for developer\'s purposes,\nwith the help of a Makefile.\n\nNote: The kubeadm-aio image building is currently broken, due to\nits reliance on the openstack-helm-infra charts to be built.\nIt means we have circular dependencies, and those need to be\nfigured out in a different commit.\n\nChange-Id: I2d01e3f2c34d6dd7db4a1c3897dc4b994bf02623\n'}, {'number': 27, 'created': '2018-11-27 10:52:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/329d7f90b9486d525ae74ca84c027f17e8da0ba2', 'message': 'Add build process and osh-infra images\n\nThis patch adds image building process for OSH.\n\nEach root folder contains a \'kind\' of images to build. Each folder will\nhave its own parent job, inheriting from a \'openstack-helm-images-base\'\njob. The folder \'parent job\' is used for building distribution\nvariants (centos_7, ubuntu_xenial, opensuse_15).\n\nFolders containing Dockerfiles (a different Dockerfiles per\ndistribution) will use the docker building play (docker-build.yml).\n\nDockerfiles come from openstack-helm-infra repository,\nwith the following changes:\n* The deprecated ""MAINTAINER"" directive has been replaced with\n  LABEL maintainer=<maintaineremail>\n* If Dockerfiles\' default arguments were mismatching the\n  documentation or Makefiles, they were adapted (see libvirt).\n* Relative paths to the openstack-helm-infra repo have been removed.\n\nEach folder is given a convenience build script (build.sh) which\ncan be used to build a specific image.\nThis script\'s content gets included in the documentation to avoid\nduplications of content.\n\nThis patch focuses on each image separately.\nAnother patch will be added to deal with a repo-wide image building\nprocess, whether for CI purposes, or for developer\'s purposes,\nwith the help of a Makefile.\n\nNote: The kubeadm-aio image building is currently broken, due to\nits reliance on the openstack-helm-infra charts to be built.\nIt means we have circular dependencies, and those need to be\nfigured out in a different commit.\n\nChange-Id: I2d01e3f2c34d6dd7db4a1c3897dc4b994bf02623\n'}, {'number': 28, 'created': '2018-11-27 10:59:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/cd314ec0042542e7d6c9a0a1a5e44696bf8440f4', 'message': 'Add build process and osh-infra images\n\nThis patch adds image building process for OSH.\n\nEach root folder contains a \'kind\' of images to build. Each folder will\nhave its own parent job, inheriting from a \'openstack-helm-images-base\'\njob. The folder \'parent job\' is used for building distribution\nvariants (centos_7, ubuntu_xenial, opensuse_15).\n\nFolders containing Dockerfiles (a different Dockerfiles per\ndistribution) will use the docker building play (docker-build.yml).\n\nDockerfiles come from openstack-helm-infra repository,\nwith the following changes:\n* The deprecated ""MAINTAINER"" directive has been replaced with\n  LABEL maintainer=<maintaineremail>\n* If Dockerfiles\' default arguments were mismatching the\n  documentation or Makefiles, they were adapted (see libvirt).\n* Relative paths to the openstack-helm-infra repo have been removed.\n\nEach folder is given a convenience build script (build.sh) which\ncan be used to build a specific image.\nThis script\'s content gets included in the documentation to avoid\nduplications of content.\n\nThis patch focuses on each image separately.\nAnother patch will be added to deal with a repo-wide image building\nprocess, whether for CI purposes, or for developer\'s purposes,\nwith the help of a Makefile.\n\nNote: The kubeadm-aio image building is currently broken, due to\nits reliance on the openstack-helm-infra charts to be built.\nIt means we have circular dependencies, and those need to be\nfigured out in a different commit.\n\nChange-Id: I2d01e3f2c34d6dd7db4a1c3897dc4b994bf02623\n'}, {'number': 29, 'created': '2018-11-27 11:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/c03d6137303e016c8a353cdf4ffba1c417fab085', 'message': 'Add build process and osh-infra images\n\nThis patch adds image building process for OSH.\n\nEach root folder contains a \'kind\' of images to build. Each folder will\nhave its own parent job, inheriting from a \'openstack-helm-images-base\'\njob. The folder \'parent job\' is used for building distribution\nvariants (centos_7, ubuntu_xenial, opensuse_15).\n\nFolders containing Dockerfiles (a different Dockerfiles per\ndistribution) will use the docker building play (docker-build.yml).\n\nDockerfiles come from openstack-helm-infra repository,\nwith the following changes:\n* The deprecated ""MAINTAINER"" directive has been replaced with\n  LABEL maintainer=<maintaineremail>\n* If Dockerfiles\' default arguments were mismatching the\n  documentation or Makefiles, they were adapted (see libvirt).\n* Relative paths to the openstack-helm-infra repo have been removed.\n\nEach folder is given a convenience build script (build.sh) which\ncan be used to build a specific image.\nThis script\'s content gets included in the documentation to avoid\nduplications of content.\n\nThis patch focuses on each image separately.\nAnother patch will be added to deal with a repo-wide image building\nprocess, whether for CI purposes, or for developer\'s purposes,\nwith the help of a Makefile.\n\nNote: The kubeadm-aio image building is currently broken, due to\nits reliance on the openstack-helm-infra charts to be built.\nIt means we have circular dependencies, and those need to be\nfigured out in a different commit.\n\nChange-Id: I2d01e3f2c34d6dd7db4a1c3897dc4b994bf02623\n'}, {'number': 30, 'created': '2018-11-27 12:28:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/7bdcbf7d2cfcbfe3b6a200e0127de0d78fdd9406', 'message': 'Add build process and osh-infra images\n\nThis patch adds image building process for OSH.\n\nEach root folder contains a \'kind\' of images to build. Each folder will\nhave its own parent job, inheriting from a \'openstack-helm-images-base\'\njob. The folder \'parent job\' is used for building distribution\nvariants (centos_7, ubuntu_xenial, opensuse_15).\n\nFolders containing Dockerfiles (a different Dockerfiles per\ndistribution) will use the docker building play (docker-build.yml).\n\nDockerfiles come from openstack-helm-infra repository,\nwith the following changes:\n* The deprecated ""MAINTAINER"" directive has been replaced with\n  LABEL maintainer=<maintaineremail>\n* If Dockerfiles\' default arguments were mismatching the\n  documentation or Makefiles, they were adapted (see libvirt).\n* Relative paths to the openstack-helm-infra repo have been removed.\n\nEach folder is given a convenience build script (build.sh) which\ncan be used to build a specific image.\nThis script\'s content gets included in the documentation to avoid\nduplications of content.\n\nThis patch focuses on each image separately.\nAnother patch will be added to deal with a repo-wide image building\nprocess, whether for CI purposes, or for developer\'s purposes,\nwith the help of a Makefile.\n\nNote: The kubeadm-aio image building is currently broken, due to\nits reliance on the openstack-helm-infra charts to be built.\nIt means we have circular dependencies, and those need to be\nfigured out in a different commit.\n\nChange-Id: I2d01e3f2c34d6dd7db4a1c3897dc4b994bf02623\n'}, {'number': 31, 'created': '2018-11-27 12:28:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/31912697cc29e98b27cae0528dec8c7a27ddc56d', 'message': 'Add build process and osh-infra images\n\nThis patch adds image building process for OSH.\n\nEach root folder contains a \'kind\' of images to build. Each folder will\nhave its own parent job, inheriting from a \'openstack-helm-images-base\'\njob. The folder \'parent job\' is used for building distribution\nvariants (centos_7, ubuntu_xenial, opensuse_15).\n\nFolders containing Dockerfiles (a different Dockerfiles per\ndistribution) will use the docker building play (docker-build.yml).\n\nDockerfiles come from openstack-helm-infra repository,\nwith the following changes:\n* The deprecated ""MAINTAINER"" directive has been replaced with\n  LABEL maintainer=<maintaineremail>\n* If Dockerfiles\' default arguments were mismatching the\n  documentation or Makefiles, they were adapted (see libvirt).\n* Relative paths to the openstack-helm-infra repo have been removed.\n\nEach folder is given a convenience build script (build.sh) which\ncan be used to build a specific image.\nThis script\'s content gets included in the documentation to avoid\nduplications of content.\n\nThis patch focuses on each image separately.\nAnother patch will be added to deal with a repo-wide image building\nprocess, whether for CI purposes, or for developer\'s purposes,\nwith the help of a Makefile.\n\nNote: The kubeadm-aio image building is currently broken, due to\nits reliance on the openstack-helm-infra charts to be built.\nIt means we have circular dependencies, and those need to be\nfigured out in a different commit.\n\nChange-Id: I2d01e3f2c34d6dd7db4a1c3897dc4b994bf02623\n'}, {'number': 32, 'created': '2018-11-27 13:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/17a1f77d45ca1fd6f1490e7b93621e0056a8d6da', 'message': 'Add build process and osh-infra images\n\nThis patch adds image building process for OSH.\n\nEach root folder contains a \'kind\' of images to build. Each folder will\nhave its own parent job, inheriting from a \'openstack-helm-images-base\'\njob. The folder \'parent job\' is used for building distribution\nvariants (centos_7, ubuntu_xenial, opensuse_15).\n\nFolders containing Dockerfiles (a different Dockerfiles per\ndistribution) will use the docker building play (docker-build.yml).\n\nDockerfiles come from openstack-helm-infra repository,\nwith the following changes:\n* The deprecated ""MAINTAINER"" directive has been replaced with\n  LABEL maintainer=<maintaineremail>\n* If Dockerfiles\' default arguments were mismatching the\n  documentation or Makefiles, they were adapted (see libvirt).\n* Relative paths to the openstack-helm-infra repo have been removed.\n\nEach folder is given a convenience build script (build.sh) which\ncan be used to build a specific image.\nThis script\'s content gets included in the documentation to avoid\nduplications of content.\n\nThis patch focuses on each image separately.\nAnother patch will be added to deal with a repo-wide image building\nprocess, whether for CI purposes, or for developer\'s purposes,\nwith the help of a Makefile.\n\nNote: The kubeadm-aio image building is currently broken, due to\nits reliance on the openstack-helm-infra charts to be built.\nIt means we have circular dependencies, and those need to be\nfigured out in a different commit.\n\nChange-Id: I2d01e3f2c34d6dd7db4a1c3897dc4b994bf02623\n'}, {'number': 33, 'created': '2018-11-27 13:50:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/96bbacb77c257eaef5136e26033c3a00e0d5be23', 'message': 'Add build process and osh-infra images\n\nThis patch adds image building process for OSH.\n\nEach root folder contains a \'kind\' of images to build. Each folder will\nhave its own parent job, inheriting from a \'openstack-helm-images-base\'\njob. The folder \'parent job\' is used for building distribution\nvariants (centos_7, ubuntu_xenial, opensuse_15).\n\nFolders containing Dockerfiles (a different Dockerfiles per\ndistribution) will use the docker building play (docker-build.yml).\n\nDockerfiles come from openstack-helm-infra repository,\nwith the following changes:\n* The deprecated ""MAINTAINER"" directive has been replaced with\n  LABEL maintainer=<maintaineremail>\n* If Dockerfiles\' default arguments were mismatching the\n  documentation or Makefiles, they were adapted (see libvirt).\n* Relative paths to the openstack-helm-infra repo have been removed.\n\nEach folder is given a convenience build script (build.sh) which\ncan be used to build a specific image.\nThis script\'s content gets included in the documentation to avoid\nduplications of content.\n\nThis patch focuses on each image separately.\nAnother patch will be added to deal with a repo-wide image building\nprocess, whether for CI purposes, or for developer\'s purposes,\nwith the help of a Makefile.\n\nNote: The kubeadm-aio image building is currently broken, due to\nits reliance on the openstack-helm-infra charts to be built.\nIt means we have circular dependencies, and those need to be\nfigured out in a different commit.\n\nChange-Id: I2d01e3f2c34d6dd7db4a1c3897dc4b994bf02623\n'}, {'number': 34, 'created': '2018-11-28 09:15:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/231c09f1246ead70c3d7337717da75a63f78d612', 'message': 'Add build process and osh-infra images\n\nThis patch adds image building process for OSH.\n\nEach root folder contains a \'kind\' of images to build. Each folder will\nhave its own parent job, inheriting from a \'openstack-helm-images-base\'\njob. The folder \'parent job\' is used for building distribution\nvariants (centos_7, ubuntu_xenial, opensuse_15).\n\nFolders containing Dockerfiles (a different Dockerfiles per\ndistribution) will use the docker building play (docker-build.yml).\n\nDockerfiles come from openstack-helm-infra repository,\nwith the following changes:\n* The deprecated ""MAINTAINER"" directive has been replaced with\n  LABEL maintainer=<maintaineremail>\n* If Dockerfiles\' default arguments were mismatching the\n  documentation or Makefiles, they were adapted (see libvirt).\n* Relative paths to the openstack-helm-infra repo have been removed.\n\nEach folder is given a convenience build script (build.sh) which\ncan be used to build a specific image.\nThis script\'s content gets included in the documentation to avoid\nduplications of content.\n\nThis patch focuses on each image separately.\nAnother patch will be added to deal with a repo-wide image building\nprocess, whether for CI purposes, or for developer\'s purposes,\nwith the help of a Makefile.\n\nNote: The kubeadm-aio image building is currently broken, due to\nits reliance on the openstack-helm-infra charts to be built.\nIt means we have circular dependencies, and those need to be\nfigured out in a different commit.\n\nChange-Id: I2d01e3f2c34d6dd7db4a1c3897dc4b994bf02623\n'}, {'number': 35, 'created': '2018-11-28 10:19:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/6672c05685937b7d3ef1c2587d1c6e0f461ceb58', 'message': '[WIP] Add build process and osh-infra images\n\nThis patch adds image building process for OSH.\n\nEach root folder contains a \'kind\' of images to build. Each folder will\nhave its own parent job, inheriting from a \'openstack-helm-images-base\'\njob. The folder \'parent job\' is used for building distribution\nvariants (centos_7, ubuntu_xenial, opensuse_15).\n\nFolders containing Dockerfiles (a different Dockerfiles per\ndistribution) will use the docker building play (docker-build.yml).\n\nDockerfiles come from openstack-helm-infra repository,\nwith the following changes:\n* The deprecated ""MAINTAINER"" directive has been replaced with\n  LABEL maintainer=<maintaineremail>\n* If Dockerfiles\' default arguments were mismatching the\n  documentation or Makefiles, they were adapted (see libvirt).\n* Relative paths to the openstack-helm-infra repo have been removed.\n\nEach folder is given a convenience build script (build.sh) which\ncan be used to build a specific image.\nThis script\'s content gets included in the documentation to avoid\nduplications of content.\n\nThis patch focuses on each image separately.\nAnother patch will be added to deal with a repo-wide image building\nprocess, whether for CI purposes, or for developer\'s purposes,\nwith the help of a Makefile.\n\nChange-Id: I2d01e3f2c34d6dd7db4a1c3897dc4b994bf02623\n'}, {'number': 36, 'created': '2018-11-28 11:01:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/44c4b3e46fb2307e273da3c55ad562537717052d', 'message': '[WIP] Add build process and osh-infra images\n\nThis patch adds image building process for OSH.\n\nEach root folder contains a \'kind\' of images to build. Each folder will\nhave its own parent job, inheriting from a \'openstack-helm-images-base\'\njob. The folder \'parent job\' is used for building distribution\nvariants (centos_7, ubuntu_xenial, opensuse_15).\n\nFolders containing Dockerfiles (a different Dockerfiles per\ndistribution) will use the docker building play (docker-build.yml).\n\nDockerfiles come from openstack-helm-infra repository,\nwith the following changes:\n* The deprecated ""MAINTAINER"" directive has been replaced with\n  LABEL maintainer=<maintaineremail>\n* If Dockerfiles\' default arguments were mismatching the\n  documentation or Makefiles, they were adapted (see libvirt).\n* Relative paths to the openstack-helm-infra repo have been removed.\n\nEach folder is given a convenience build script (build.sh) which\ncan be used to build a specific image.\nThis script\'s content gets included in the documentation to avoid\nduplications of content.\n\nThis patch focuses on each image separately.\nAnother patch will be added to deal with a repo-wide image building\nprocess, whether for CI purposes, or for developer\'s purposes,\nwith the help of a Makefile.\n\nChange-Id: I2d01e3f2c34d6dd7db4a1c3897dc4b994bf02623\n'}, {'number': 37, 'created': '2018-11-28 13:13:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/bf862f88ddf8f57a9c84a1124877cc0b1a6ff60d', 'message': 'Add build process and osh-infra images\n\nThis patch adds image building process for OSH.\n\nEach root folder contains a \'kind\' of images to build. Each folder will\nhave its own parent job, inheriting from a \'openstack-helm-images-base\'\njob. The folder \'parent job\' is used for building distribution\nvariants (centos_7, ubuntu_xenial, opensuse_15).\n\nFolders containing Dockerfiles (a different Dockerfiles per\ndistribution) will use the docker building play (docker-build.yml).\n\nDockerfiles come from openstack-helm-infra repository,\nwith the following changes:\n* The deprecated ""MAINTAINER"" directive has been replaced with\n  LABEL maintainer=<maintaineremail>\n* If Dockerfiles\' default arguments were mismatching the\n  documentation or Makefiles, they were adapted (see libvirt).\n* Relative paths to the openstack-helm-infra repo have been removed.\n\nEach folder is given a convenience build script (build.sh) which\ncan be used to build a specific image manually.\n\nThis script\'s content gets included in the documentation to avoid\nduplications of content.\n\nThis patch focuses on each image separately.\n\nAnother patch will be added to deal with a repo-wide image building\nprocess, whether for CI purposes, or for developer\'s purposes,\nwith the help of a Makefile.\n\nNote: Kubeadm-aio image was not imported in this process due to\ncircular dependencies: Image building currently requires the\nhelm charts of openstack-helm-infra.\n\nChange-Id: I2d01e3f2c34d6dd7db4a1c3897dc4b994bf02623\n'}, {'number': 38, 'created': '2018-11-28 15:48:01.000000000', 'files': ['zuul.d/base-project.yaml', 'vbmc/Dockerfile.centos_7', 'zuul.d/libvirt.yaml', 'zuul.d/playbooks/docker-build.yml', 'mariadb/Dockerfile.ubuntu_xenial', 'doc/source/mariadb.rst', 'zuul.d/playbooks/pre-run.yml', 'zuul.d/vbmc.yaml', 'zuul.d/base-jobs.yaml', 'doc/source/index.rst', 'libvirt/build.sh', 'vbmc/build.sh', 'doc/source/vbmc.rst', 'libvirt/Dockerfile.ubuntu_xenial', 'doc/source/libvirt.rst', 'mariadb/build.sh', 'zuul.d/mariadb.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/8468a18ae3686558489f502079b46e65e227e1f8', 'message': 'Add build process and osh-infra images\n\nThis patch adds image building process for OSH.\n\nEach root folder contains a \'kind\' of images to build. Each folder will\nhave its own parent job, inheriting from a \'openstack-helm-images-base\'\njob. The folder \'parent job\' is used for building distribution\nvariants (centos_7, ubuntu_xenial, opensuse_15).\n\nFolders containing Dockerfiles (a different Dockerfiles per\ndistribution) will use the docker building play (docker-build.yml).\n\nDockerfiles come from openstack-helm-infra repository,\nwith the following changes:\n* The deprecated ""MAINTAINER"" directive has been replaced with\n  LABEL maintainer=<maintaineremail>\n* If Dockerfiles\' default arguments were mismatching the\n  documentation or Makefiles, they were adapted (see libvirt).\n* Relative paths to the openstack-helm-infra repo have been removed.\n\nEach folder is given a convenience build script (build.sh) which\ncan be used to build a specific image manually.\n\nThis script\'s content gets included in the documentation to avoid\nduplications of content.\n\nThis patch focuses on each image separately.\n\nAnother patch will be added to deal with a repo-wide image building\nprocess, whether for CI purposes, or for developer\'s purposes,\nwith the help of a Makefile.\n\nNote: Kubeadm-aio image was not imported in this process due to\ncircular dependencies: Image building currently requires the\nhelm charts of openstack-helm-infra.\n\nChange-Id: I2d01e3f2c34d6dd7db4a1c3897dc4b994bf02623\n'}]",7,615571,8468a18ae3686558489f502079b46e65e227e1f8,73,3,38,17068,,,0,"Add build process and osh-infra images

This patch adds image building process for OSH.

Each root folder contains a 'kind' of images to build. Each folder will
have its own parent job, inheriting from a 'openstack-helm-images-base'
job. The folder 'parent job' is used for building distribution
variants (centos_7, ubuntu_xenial, opensuse_15).

Folders containing Dockerfiles (a different Dockerfiles per
distribution) will use the docker building play (docker-build.yml).

Dockerfiles come from openstack-helm-infra repository,
with the following changes:
* The deprecated ""MAINTAINER"" directive has been replaced with
  LABEL maintainer=<maintaineremail>
* If Dockerfiles' default arguments were mismatching the
  documentation or Makefiles, they were adapted (see libvirt).
* Relative paths to the openstack-helm-infra repo have been removed.

Each folder is given a convenience build script (build.sh) which
can be used to build a specific image manually.

This script's content gets included in the documentation to avoid
duplications of content.

This patch focuses on each image separately.

Another patch will be added to deal with a repo-wide image building
process, whether for CI purposes, or for developer's purposes,
with the help of a Makefile.

Note: Kubeadm-aio image was not imported in this process due to
circular dependencies: Image building currently requires the
helm charts of openstack-helm-infra.

Change-Id: I2d01e3f2c34d6dd7db4a1c3897dc4b994bf02623
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/71/615571/33 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/libvirt.yaml', 'zuul.d/kubeadm-aio.yaml', 'zuul.d/mariadb.yaml', 'zuul.d/vbmc.yaml']",4,c2b854aaf4b37da7efd120999eacee186b3cea65,add_zuul_jobs,"--- # Copyright 2018, SUSE LINUX GmbH. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - project: templates: - publish-openstack-docs-pti check: jobs: - openstack-helm-images-vbmc-ubuntu_xenial gate: jobs: - openstack-helm-images-vbmc-ubuntu_xenial #experimental: # jobs: # - openstack-helm-infra-five-ubuntu - job: name: openstack-helm-images-vbmc #This checks out the right repos, ignore documentation changes, #and make sure the runner is used. #parent: openstack-helm-base abstract: true files: - ^vbmc/.* vars: # The build script should rebuild for all branches, as there is # no branching in this repo, and a change for master branch will # likely effect all the branches. script_list: - ""./vbmc/build.sh {{ distro | default('') }}"" - job: name: openstack-helm-images-vbmc-ubuntu_xenial parent: openstack-helm-images-vbmc vars: distro: ""ubuntu_xenial"" ",,192,0
openstack%2Ftacker~master~Ie6e4e9342cea396dc6b4bb77680c59d7cc3b177d,openstack/tacker,master,Ie6e4e9342cea396dc6b4bb77680c59d7cc3b177d,fixed http ping vnf support ipv6,MERGED,2018-11-26 18:02:23.000000000,2018-11-28 18:56:15.000000000,2018-11-28 18:56:15.000000000,"[{'_account_id': 18955}, {'_account_id': 19644}, {'_account_id': 22348}, {'_account_id': 26222}, {'_account_id': 29339}, {'_account_id': 29383}]","[{'number': 1, 'created': '2018-11-26 18:02:23.000000000', 'files': ['tacker/vnfm/monitor_drivers/http_ping/http_ping.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/ca12522dc5390b57501bfd20b91b3f49716741fe', 'message': 'fixed http ping vnf support ipv6\n\nNow monitor the VNF. If the VNF address is IPV6,\nit cannot use ""http://\' + mgmt_ip + \':\' + str(port)"",\nshould use ""http://[\' + mgmt_ip + \']:\' + str(port)""\n\nChange-Id: Ie6e4e9342cea396dc6b4bb77680c59d7cc3b177d\n'}]",0,620122,ca12522dc5390b57501bfd20b91b3f49716741fe,13,6,1,27181,,,0,"fixed http ping vnf support ipv6

Now monitor the VNF. If the VNF address is IPV6,
it cannot use ""http://' + mgmt_ip + ':' + str(port)"",
should use ""http://[' + mgmt_ip + ']:' + str(port)""

Change-Id: Ie6e4e9342cea396dc6b4bb77680c59d7cc3b177d
",git fetch https://review.opendev.org/openstack/tacker refs/changes/22/620122/1 && git format-patch -1 --stdout FETCH_HEAD,['tacker/vnfm/monitor_drivers/http_ping/http_ping.py'],1,ca12522dc5390b57501bfd20b91b3f49716741fe,fixed_vnf_http_ping_support_ipv6,import netaddr if netaddr.valid_ipv6(mgmt_ip): url = 'http://[' + mgmt_ip + ']:' + str(port) ,,5,0
openstack%2Ftacker~master~I5bebb959578f2b7007416aa2bf817565fe364afe,openstack/tacker,master,I5bebb959578f2b7007416aa2bf817565fe364afe,fixed zabbix url support ipv6,MERGED,2018-11-27 06:21:58.000000000,2018-11-28 18:54:29.000000000,2018-11-28 18:54:28.000000000,"[{'_account_id': 18955}, {'_account_id': 19644}, {'_account_id': 22348}, {'_account_id': 26222}, {'_account_id': 29339}]","[{'number': 1, 'created': '2018-11-27 06:21:58.000000000', 'files': ['tacker/vnfm/monitor_drivers/zabbix/zabbix.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/601446ed91cb5e15229f7823018a0ea61b7a33b7', 'message': 'fixed zabbix url support ipv6\n\nNow monitor the VNF. If the zabbix address is IPV6,\nit cannot use ""http://ip:port"",\nshould use ""http://[ip]:port""\n\nChange-Id: I5bebb959578f2b7007416aa2bf817565fe364afe\n'}]",0,620218,601446ed91cb5e15229f7823018a0ea61b7a33b7,8,5,1,27181,,,0,"fixed zabbix url support ipv6

Now monitor the VNF. If the zabbix address is IPV6,
it cannot use ""http://ip:port"",
should use ""http://[ip]:port""

Change-Id: I5bebb959578f2b7007416aa2bf817565fe364afe
",git fetch https://review.opendev.org/openstack/tacker refs/changes/18/620218/1 && git format-patch -1 --stdout FETCH_HEAD,['tacker/vnfm/monitor_drivers/zabbix/zabbix.py'],1,601446ed91cb5e15229f7823018a0ea61b7a33b7,fixed_zabixip_support_ipv6,"import netaddr str(zabbixport) + zapi.URL if netaddr.valid_ipv6(zabbixip): self.URL = ""http://["" + zabbixip + ""]:"" + \ str(zabbixport) + zapi.URL", str(zabbixport) + zapi.URL_,5,1
openstack%2Ftacker~master~Iac7540cb06fcfb9cd4413985613db4c9b47e5537,openstack/tacker,master,Iac7540cb06fcfb9cd4413985613db4c9b47e5537,Raise exception for None vnfd_yaml.,MERGED,2018-11-27 13:31:57.000000000,2018-11-28 18:54:28.000000000,2018-11-28 18:54:28.000000000,"[{'_account_id': 18955}, {'_account_id': 19644}, {'_account_id': 22348}, {'_account_id': 26222}, {'_account_id': 27181}, {'_account_id': 29383}]","[{'number': 1, 'created': '2018-11-27 13:31:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/c30555f8d62dcc5eaab2a4190af49102bd6063db', 'message': 'Raise exception for None vnfd_yaml.\n\nRaise InvalidInput execption for None VNFD, and correct error logging.\n\nChange-Id: Iac7540cb06fcfb9cd4413985613db4c9b47e5537\n'}, {'number': 2, 'created': '2018-11-28 06:47:16.000000000', 'files': ['tacker/vnfm/infra_drivers/openstack/translate_template.py', 'tacker/vnfm/infra_drivers/kubernetes/translate_template.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/95ee71f398fcb0a28f76d58bf528de5b5a6297b3', 'message': 'Raise exception for None vnfd_yaml.\n\nRaise InvalidInput execption for None VNFD, and correct error logging.\n\nChange-Id: Iac7540cb06fcfb9cd4413985613db4c9b47e5537\n'}]",0,620314,95ee71f398fcb0a28f76d58bf528de5b5a6297b3,14,6,2,18955,,,0,"Raise exception for None vnfd_yaml.

Raise InvalidInput execption for None VNFD, and correct error logging.

Change-Id: Iac7540cb06fcfb9cd4413985613db4c9b47e5537
",git fetch https://review.opendev.org/openstack/tacker refs/changes/14/620314/2 && git format-patch -1 --stdout FETCH_HEAD,['tacker/vnfm/infra_drivers/openstack/translate_template.py'],1,c30555f8d62dcc5eaab2a4190af49102bd6063db,,"from tacker.common import exceptions LOG.error(""VNFD is not provided, so no vnf is created !!"") raise exceptions.InvalidInput(""VNFD template is None."")"," # TODO(kangaraj-manickam) raise user level exception LOG.info(""VNFD is not provided, so no vnf is created !!"") return",3,3
openstack%2Fkolla~stable%2Focata~I32da6dc1a65d3bfcaa59b4c9136e389af1f9b551,openstack/kolla,stable/ocata,I32da6dc1a65d3bfcaa59b4c9136e389af1f9b551,Fix the horizon failed to start,MERGED,2018-11-16 10:13:18.000000000,2018-11-28 18:52:37.000000000,2018-11-28 18:52:37.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 29344}]","[{'number': 1, 'created': '2018-11-16 10:13:18.000000000', 'files': ['docker/horizon/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/2f6dbefd5f885a45013d6ee4df30708bf796fd04', 'message': 'Fix the horizon failed to start\n\nCurrently, Horzion container fails to start when enabled designate,\nmurano, magnum and so on. This patch is to fix it.\n\nChange-Id: I32da6dc1a65d3bfcaa59b4c9136e389af1f9b551\nCloses-Bug: #1744428\n(cherry picked from commit 8ab42604186064d61a6b9a024a37ade1f885f204)\n'}]",0,618502,2f6dbefd5f885a45013d6ee4df30708bf796fd04,11,6,1,14826,,,0,"Fix the horizon failed to start

Currently, Horzion container fails to start when enabled designate,
murano, magnum and so on. This patch is to fix it.

Change-Id: I32da6dc1a65d3bfcaa59b4c9136e389af1f9b551
Closes-Bug: #1744428
(cherry picked from commit 8ab42604186064d61a6b9a024a37ade1f885f204)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/02/618502/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/horizon/Dockerfile.j2'],1,2f6dbefd5f885a45013d6ee4df30708bf796fd04,bug/1744428-stable/ocata, && rm -rf /usr/lib/python2.7/site-packages/openstack_dashboard \,,1,0
openstack%2Fkolla-ansible~master~Icb7edbac5df316af68972cafa448a261c26747b0,openstack/kolla-ansible,master,Icb7edbac5df316af68972cafa448a261c26747b0,Update the reference of External MariaDB,MERGED,2018-11-23 14:55:19.000000000,2018-11-28 18:50:54.000000000,2018-11-28 18:50:54.000000000,"[{'_account_id': 10068}, {'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 28614}]","[{'number': 1, 'created': '2018-11-23 14:55:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b3fdb45f32462dd6e8e0e4db9437a9c3c9123dbe', 'message': 'Fixing Documentation Bug #1804850\n\nChange-Id: Icb7edbac5df316af68972cafa448a261c26747b0\n'}, {'number': 2, 'created': '2018-11-28 11:29:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3c0b8439a060f7bafd248ef67ab41a314ecce5f6', 'message': 'Closes-Bug: #1804850\n\nChange-Id: Icb7edbac5df316af68972cafa448a261c26747b0\n'}, {'number': 3, 'created': '2018-11-28 15:49:53.000000000', 'files': ['doc/source/reference/databases/external-mariadb-guide.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/33ee19611824a5660176787ddd64e149e0d69a38', 'message': 'Update the reference of External MariaDB\n\nCloses-Bug: #1804850\nChange-Id: Icb7edbac5df316af68972cafa448a261c26747b0\n'}]",3,619743,33ee19611824a5660176787ddd64e149e0d69a38,17,6,3,20088,,,0,"Update the reference of External MariaDB

Closes-Bug: #1804850
Change-Id: Icb7edbac5df316af68972cafa448a261c26747b0
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/43/619743/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/external-mariadb-guide.rst'],1,b3fdb45f32462dd6e8e0e4db9437a9c3c9123dbe,bug/1804850, [mariadb] database_address: myexternalmariadbloadbalancer.com, [mariadb:children] database_address: myexternalloadbalancer.com,2,2
openstack%2Fnova~master~I2f676966136a78bb9600626852584f838cb08c5b,openstack/nova,master,I2f676966136a78bb9600626852584f838cb08c5b,Give drop_move_claim() correct docstring,MERGED,2018-11-26 22:09:27.000000000,2018-11-28 18:50:50.000000000,2018-11-28 18:50:50.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-11-26 22:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d304463953dcc6ef0addb9473dcf1146f4ebf9d6', 'message': 'Give drop_move_claim() correct docstring\n\nPreviously, there was a just a comment about removing usage on the\ndestination node. This is incorrect: usage is removed on the compute\nhost specified by the nodename parameter to the method. This patch\ncorrects this in a proper docstring.\n\nChange-Id: I2f676966136a78bb9600626852584f838cb08c5b\n'}, {'number': 2, 'created': '2018-11-26 22:16:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/adffd410d665f84d279d686e716bb699e9386594', 'message': 'Give drop_move_claim() correct docstring\n\nPreviously, there was a just a comment about removing usage on the\ndestination node. This is incorrect: usage is removed on the compute\nhost specified by the nodename parameter to the method. This patch\ncorrects this in a proper docstring.\n\nChange-Id: I2f676966136a78bb9600626852584f838cb08c5b\n'}, {'number': 3, 'created': '2018-11-27 00:35:14.000000000', 'files': ['nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3e32e76d83a15bc7bb43aa41c1fefc2ea15d7176', 'message': 'Give drop_move_claim() correct docstring\n\nPreviously, there was a just a comment about removing usage on the\ndestination node. This is incorrect: usage is removed on the compute\nhost specified by the nodename parameter to the method. This patch\ncorrects this in a proper docstring.\n\nChange-Id: I2f676966136a78bb9600626852584f838cb08c5b\n'}]",9,620170,3e32e76d83a15bc7bb43aa41c1fefc2ea15d7176,36,16,3,8864,,,0,"Give drop_move_claim() correct docstring

Previously, there was a just a comment about removing usage on the
destination node. This is incorrect: usage is removed on the compute
host specified by the nodename parameter to the method. This patch
corrects this in a proper docstring.

Change-Id: I2f676966136a78bb9600626852584f838cb08c5b
",git fetch https://review.opendev.org/openstack/nova refs/changes/70/620170/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/resource_tracker.py'],1,d304463953dcc6ef0addb9473dcf1146f4ebf9d6,," """"""Remove usage for an incoming/outgoing migration. :param nodename: Host on which to remove usage. If the migration succeeded, this is normally the source. If it failed, this is normally the destination. """"""", # Remove usage for an incoming/outgoing migration on the destination # node.,6,2
openstack%2Frpm-packaging~master~Ia00cc6cbafd8fed9535c1db24315a4195d9e8b1e,openstack/rpm-packaging,master,Ia00cc6cbafd8fed9535c1db24315a4195d9e8b1e,Drop Bareon,MERGED,2018-11-28 15:48:30.000000000,2018-11-28 18:47:15.000000000,2018-11-28 18:47:15.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-11-28 15:48:30.000000000', 'files': ['openstack/Bareon/Bareon.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/e15c7df98b8a6f71506f38f1e902a63077a1a78e', 'message': 'Drop Bareon\n\nLast commit in the Bareon git repo is from 2017[1] and there is no Rocky\nrelease[2] so drop the package.\n\n[1] https://git.openstack.org/cgit/openstack/bareon/log/\n[2] https://releases.openstack.org/rocky/index.html\n\nChange-Id: Ia00cc6cbafd8fed9535c1db24315a4195d9e8b1e\n'}]",0,620640,e15c7df98b8a6f71506f38f1e902a63077a1a78e,9,5,1,7102,,,0,"Drop Bareon

Last commit in the Bareon git repo is from 2017[1] and there is no Rocky
release[2] so drop the package.

[1] https://git.openstack.org/cgit/openstack/bareon/log/
[2] https://releases.openstack.org/rocky/index.html

Change-Id: Ia00cc6cbafd8fed9535c1db24315a4195d9e8b1e
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/40/620640/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/Bareon/Bareon.spec.j2'],1,e15c7df98b8a6f71506f38f1e902a63077a1a78e,,,"%global pypi_name Bareon %global sname bareon %global sversion 0.0.1a3 {% set upstream_version = '0.0.1.a3' %} {% set rpm_release = '1' %} Name: {{ py2name('Bareon') }} Version: {{ py2rpmversion() }} Release: {{ py2rpmrelease() }} Summary: OpenStack bareon tool License: {{ license('Apache-2.0') }} Group: System/Management URL: https://launchpad.net/%{sname} Source0: https://files.pythonhosted.org/packages/source/B/Bareon/%{sname}-%{sversion}.tar.gz BuildRequires: openstack-macros BuildRequires: {{ py2pkg('jsonschema') }} BuildRequires: {{ py2pkg('mock') }} BuildRequires: {{ py2pkg('oslo.config') }} BuildRequires: {{ py2pkg('oslo.serialization') }} BuildRequires: {{ py2pkg('pbr') }} BuildRequires: {{ py2pkg('requests-mock') }} BuildRequires: {{ py2pkg('setuptools') }} BuildRequires: {{ py2pkg('unittest2') }} BuildRequires: {{ py2pkg('yaml') }} Requires: bzip2 Requires: coreutils Requires: dmidecode Requires: e2fsprogs Requires: ethtool Requires: gdisk Requires: genisoimage Requires: gzip Requires: lvm2 Requires: mdadm Requires: parted Requires: pciutils Requires: psmisc Requires: {{ py2pkg('Jinja2') }} Requires: {{ py2pkg('PyYAML') }} Requires: {{ py2pkg('iso8601') }} Requires: {{ py2pkg('jsonschema') }} Requires: {{ py2pkg('oslo.config') }} Requires: {{ py2pkg('oslo.serialization') }} Requires: {{ py2pkg('requests') }} Requires: {{ py2pkg('six') }} Requires: {{ py2pkg('stevedore') }} Requires: {{ py2pkg('urllib3') }} Requires: tar Requires: udev Requires: xfsprogs Requires: xz BuildArch: noarch %if ! 0%{?suse_version} Requires: cloud-utils Requires: debootstrap Requires: openssh-clients Requires: util-linux-ng %endif %description Bareon is nothing more than just a set of data driven executable scripts: * One of these scripts is used for building operating system images. One can run this script on wherever needed passing a set of repository URIs and a set of package names that are to be installed into the image. * Another script is used for the actual provisioning. This script being installed into a ramdisk (live image) can be run to provision an operating system on a hard drive. When running one needs to pass input data that contain information about disk partitions, initial node configuration, operating system image location, etc. This script is to prepare disk partitions according to the input data, download operating system images and put these images on partitions. %package doc Summary: Documentation for OpenStack bareon BuildRequires: {{ py2pkg('Sphinx') }} BuildRequires: {{ py2pkg('oslosphinx') }} %description doc Documentation for OpenStack bareon tool. %prep %autosetup -n %{sname}-%{sversion} %py_req_cleanup %build %{py2_build} # generate html docs %{__python2} setup.py build_sphinx # remove the sphinx-build leftovers rm -rf doc/build/html/.{doctrees,buildinfo} %install %{py2_install} mkdir -p %{buildroot}/%{_sysconfdir}/bareon mkdir -p %{buildroot}%{_datadir}/%{sname}/cloud-init-templates install -p -D -m 640 etc/bareon/bareon.conf.sample %{buildroot}/%{_sysconfdir}/bareon/bareon.conf install -p -D -m 644 cloud-init-templates/* %{buildroot}%{_datadir}/%{sname}/cloud-init-templates %files %license LICENSE %doc ChangeLog README.md %dir %{_sysconfdir}/bareon %config(noreplace) %attr(-, root, root) %{_sysconfdir}/bareon/bareon.conf %dir %{_datadir}/%{sname} %{_datadir}/%{sname}/cloud-init-templates %{_bindir}/bareon-* %{python2_sitelib}/%{sname} %{python2_sitelib}/*.egg-info %files doc %doc doc/build/html %license LICENSE %changelog ",0,114
openstack%2Fheat-agents~master~Ieb809d57570a33fa2df03502c5c06cf7da5acfdf,openstack/heat-agents,master,Ieb809d57570a33fa2df03502c5c06cf7da5acfdf,Fix broken git.openstack.org URLs in the docs,MERGED,2018-11-23 21:15:34.000000000,2018-11-28 18:45:24.000000000,2018-11-28 18:45:24.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-23 21:15:34.000000000', 'files': ['doc/source/index.rst', 'doc/source/install/hooks/apply-config.rst'], 'web_link': 'https://opendev.org/openstack/heat-agents/commit/4f940ec270dc3bab2000c1d4814880d4a684fd53', 'message': 'Fix broken git.openstack.org URLs in the docs\n\nChange-Id: Ieb809d57570a33fa2df03502c5c06cf7da5acfdf\n'}]",0,619799,4f940ec270dc3bab2000c1d4814880d4a684fd53,6,2,1,167,,,0,"Fix broken git.openstack.org URLs in the docs

Change-Id: Ieb809d57570a33fa2df03502c5c06cf7da5acfdf
",git fetch https://review.opendev.org/openstack/heat-agents refs/changes/99/619799/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/install/hooks/apply-config.rst']",2,4f940ec270dc3bab2000c1d4814880d4a684fd53,missing-dot,.. _os-apply-config: https://git.openstack.org/cgit/openstack/os-apply-config .. _tripleo-image-elements: https://git.openstack.org/cgit/openstack/tripleo-image-elements .. _os-refresh-config: https://git.openstack.org/cgit/openstack/os-refresh-config,.. _os-apply-config: https://git.openstackorg/cgit/openstack/os-apply-config .. _tripleo-image-elements: https://git.openstackorg/cgit/openstack/tripleo-image-elements .. _os-refresh-config: https://git.openstackorg/cgit/openstack/os-refresh-config,7,7
openstack%2Fheat-agents~master~I3b69f534e327ca2d49c5da668192d316eafda30c,openstack/heat-agents,master,I3b69f534e327ca2d49c5da668192d316eafda30c,fix tox python3 overrides,MERGED,2018-09-29 23:49:59.000000000,2018-11-28 18:45:23.000000000,2018-11-28 18:45:23.000000000,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 28935}]","[{'number': 1, 'created': '2018-09-29 23:49:59.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/heat-agents/commit/be0a5b024e16454688dc76c87de6a70f50fb8f32', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I3b69f534e327ca2d49c5da668192d316eafda30c\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,606635,be0a5b024e16454688dc76c87de6a70f50fb8f32,16,6,1,2472,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I3b69f534e327ca2d49c5da668192d316eafda30c
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/heat-agents refs/changes/35/606635/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,be0a5b024e16454688dc76c87de6a70f50fb8f32,python3-first,basepython = python3basepython = python3basepython = python3basepython = python3,,4,0
openstack%2Fpython-heatclient~master~Ib0555887cb55ccae1f680eab843958e6980cec8f,openstack/python-heatclient,master,Ib0555887cb55ccae1f680eab843958e6980cec8f,modify the tox version requirement,ABANDONED,2018-11-10 09:03:16.000000000,2018-11-28 18:44:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-11-10 09:03:16.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/bd1fff911388ab56370b21e34c6ec8179b311f49', 'message': 'modify the tox version requirement\n\nChange-Id: Ib0555887cb55ccae1f680eab843958e6980cec8f\n'}]",0,617104,bd1fff911388ab56370b21e34c6ec8179b311f49,3,1,1,27866,,,0,"modify the tox version requirement

Change-Id: Ib0555887cb55ccae1f680eab843958e6980cec8f
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/04/617104/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,bd1fff911388ab56370b21e34c6ec8179b311f49,,minversion = 2.0,minversion = 1.6,1,1
openstack%2Fansible-role-systemd_service~stable%2Frocky~I69540efd2c993912b042a1b6b6a1dc279542f325,openstack/ansible-role-systemd_service,stable/rocky,I69540efd2c993912b042a1b6b6a1dc279542f325,Allow user/group to be overriden in unit section,MERGED,2018-11-27 18:48:22.000000000,2018-11-28 18:25:08.000000000,2018-11-28 18:25:08.000000000,"[{'_account_id': 1004}, {'_account_id': 16011}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-27 18:48:22.000000000', 'files': ['templates/systemd-service.j2'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/a085a50c338b2eeaa87ed50eaaa22564d7c12968', 'message': 'Allow user/group to be overriden in unit section\n\nThe unit section allows for user/group to be set via global variable\nhowever in some cases a specific unit may need to have a different\nuser/group setup. This change allows for the users to be defined in the\nservice definition and falls back to the global default.\n\nChange-Id: I69540efd2c993912b042a1b6b6a1dc279542f325\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n(cherry picked from commit f79988efcadee3da7c68619de88d0d9ec74fa837)\n'}]",0,620386,a085a50c338b2eeaa87ed50eaaa22564d7c12968,8,4,1,7353,,,0,"Allow user/group to be overriden in unit section

The unit section allows for user/group to be set via global variable
however in some cases a specific unit may need to have a different
user/group setup. This change allows for the users to be defined in the
service definition and falls back to the global default.

Change-Id: I69540efd2c993912b042a1b6b6a1dc279542f325
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
(cherry picked from commit f79988efcadee3da7c68619de88d0d9ec74fa837)
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_service refs/changes/86/620386/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/systemd-service.j2'],1,a085a50c338b2eeaa87ed50eaaa22564d7c12968,,User={{ item.systemd_user_name | default(systemd_user_name) }} Group={{ item.systemd_group_name | default(systemd_group_name) }},User={{ systemd_user_name }} Group={{ systemd_group_name }},2,2
openstack%2Foslo.service~stable%2Frocky~I37b38c8e1382cdf28a533dfcfc017d238c3f2684,openstack/oslo.service,stable/rocky,I37b38c8e1382cdf28a533dfcfc017d238c3f2684,Maintain private interface for loopingcall._ThreadingEvent,MERGED,2018-11-21 19:35:47.000000000,2018-11-28 18:03:37.000000000,2018-11-28 18:03:37.000000000,"[{'_account_id': 2472}, {'_account_id': 4257}, {'_account_id': 6928}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2018-11-21 19:35:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/4575d9140e0c324ccca16f3526664cb3d9267911', 'message': ""Maintain private interface for loopingcall._ThreadingEvent\n\nA previous patch replaced the _Event() function and _ThreadingEvent()\nclass in oslo_service.loopingcall with a single _Event() class. However,\nsome consumers of oslo_service (including Nova) were relying on the\nprivate interface to mock methods during unit testing, which prevents\nthem updating to the latest version of oslo.service.\n\nMake '_ThreadingEvent' a reference to the _Event class, so that the\nprivate interface does not change.\n\nThis is a stable-only change, because on master we now require consumers\nto use oslo_service.fixture.SleepFixture rather than rely on the private\ninterface.\n\nChange-Id: I37b38c8e1382cdf28a533dfcfc017d238c3f2684\nRelated-Bug: #1798774\n""}, {'number': 2, 'created': '2018-11-22 00:21:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/c59b570d3749326b320bea71fe4ff2b99f410457', 'message': ""Maintain private interface for loopingcall._ThreadingEvent\n\nA previous patch replaced the _Event() function and _ThreadingEvent()\nclass in oslo_service.loopingcall with a single _Event() class. However,\nsome consumers of oslo_service (including Nova) were relying on the\nprivate interface to mock methods during unit testing, which prevents\nthem updating to the latest version of oslo.service.\n\nMake '_ThreadingEvent' a reference to the _Event class, and add\ndeprecated methods compatible with the previous interface, so that the\nprivate interface does not change.\n\nThis is a stable-only change, because on master we now require consumers\nto use oslo_service.fixture.SleepFixture rather than rely on the private\ninterface.\n\nChange-Id: I37b38c8e1382cdf28a533dfcfc017d238c3f2684\nRelated-Bug: #1798774\n""}, {'number': 3, 'created': '2018-11-26 15:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/6a431c22bbe4335349ec468e888e3a46251c2acd', 'message': ""Maintain private interface for loopingcall._ThreadingEvent\n\nA previous patch replaced the _Event() function and _ThreadingEvent()\nclass in oslo_service.loopingcall with a single _Event() class. However,\nsome consumers of oslo_service (including Nova) were relying on the\nprivate interface to mock methods during unit testing, which prevents\nthem updating to the latest version of oslo.service.\n\nMake '_ThreadingEvent' a reference to the _Event class, and add\ndeprecated methods compatible with the previous interface, so that the\nprivate interface does not change.\n\nThis is a stable-only change, because on master we now require consumers\nto use oslo_service.fixture.SleepFixture rather than rely on the private\ninterface.\n\nChange-Id: I37b38c8e1382cdf28a533dfcfc017d238c3f2684\nRelated-Bug: #1798774\n""}, {'number': 4, 'created': '2018-11-26 16:57:12.000000000', 'files': ['oslo_service/loopingcall.py'], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/d555763f8f2fd56ae3e11990d095a52097e452f4', 'message': ""Maintain private interface for loopingcall._ThreadingEvent\n\nA previous patch replaced the _Event() function and _ThreadingEvent()\nclass in oslo_service.loopingcall with a single _Event() class. However,\nsome consumers of oslo_service (including Nova) were relying on the\nprivate interface to mock methods during unit testing, which prevents\nthem updating to the latest version of oslo.service.\n\nMake '_ThreadingEvent' a reference to the _Event class, and add\ndeprecated methods compatible with the previous interface, so that the\nprivate interface does not change.\n\nThis is a stable-only change, because on master we now require consumers\nto use oslo_service.fixture.SleepFixture rather than rely on the private\ninterface.\n\nChange-Id: I37b38c8e1382cdf28a533dfcfc017d238c3f2684\nRelated-Bug: #1798774\n""}]",2,619342,d555763f8f2fd56ae3e11990d095a52097e452f4,20,6,4,4257,,,0,"Maintain private interface for loopingcall._ThreadingEvent

A previous patch replaced the _Event() function and _ThreadingEvent()
class in oslo_service.loopingcall with a single _Event() class. However,
some consumers of oslo_service (including Nova) were relying on the
private interface to mock methods during unit testing, which prevents
them updating to the latest version of oslo.service.

Make '_ThreadingEvent' a reference to the _Event class, and add
deprecated methods compatible with the previous interface, so that the
private interface does not change.

This is a stable-only change, because on master we now require consumers
to use oslo_service.fixture.SleepFixture rather than rely on the private
interface.

Change-Id: I37b38c8e1382cdf28a533dfcfc017d238c3f2684
Related-Bug: #1798774
",git fetch https://review.opendev.org/openstack/oslo.service refs/changes/42/619342/4 && git format-patch -1 --stdout FETCH_HEAD,['oslo_service/loopingcall.py'],1,4575d9140e0c324ccca16f3526664cb3d9267911,bug/1798774,# For backwards compatibility with tests in consumers that were relying on the # private interface. _ThreadingEvent = _Event ,,5,0
openstack%2Fglance-specs~master~Ic030184c3c073615b466477799d8e826451aa5bb,openstack/glance-specs,master,Ic030184c3c073615b466477799d8e826451aa5bb,Spec Lite: Add glance-cache-manage utility using v2 API,MERGED,2018-10-10 09:01:54.000000000,2018-11-28 17:54:56.000000000,2018-11-28 17:54:56.000000000,"[{'_account_id': 2537}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 19138}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-10 09:01:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/32ed11ad52f07ffc26908e4c032954603ce1a798', 'message': 'Spec Lite: Readding glance-cache-manage for v2\n\nChange-Id: Ic030184c3c073615b466477799d8e826451aa5bb\n'}, {'number': 2, 'created': '2018-10-16 04:47:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/4101fc75a4961225b94dd1edd89c7568d86e0d41', 'message': 'Spec Lite: Add glance-cache-manage utility using v2 API\n\nChange-Id: Ic030184c3c073615b466477799d8e826451aa5bb\n'}, {'number': 3, 'created': '2018-11-01 10:11:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/42958f17fb6c2641a3fdd3410fb0ebf9fa5e2e1a', 'message': 'Spec Lite: Add glance-cache-manage utility using v2 API\n\nChange-Id: Ic030184c3c073615b466477799d8e826451aa5bb\n'}, {'number': 4, 'created': '2018-11-15 05:18:52.000000000', 'files': ['specs/stein/approved/glance/spec-lite-readding-glance-cache-manage-for-v2.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/862f2212c7a382a832456829be8bd6f2f9ee2561', 'message': 'Spec Lite: Add glance-cache-manage utility using v2 API\n\nChange-Id: Ic030184c3c073615b466477799d8e826451aa5bb\n'}]",17,609331,862f2212c7a382a832456829be8bd6f2f9ee2561,25,7,4,19138,,,0,"Spec Lite: Add glance-cache-manage utility using v2 API

Change-Id: Ic030184c3c073615b466477799d8e826451aa5bb
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/31/609331/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/stein/approved/glance/spec-lite-readding-glance-cache-manage-for-v2.rst', 'specs/stein/approved/index.rst']",2,32ed11ad52f07ffc26908e4c032954603ce1a798,cache-manage,Stein approved specs for Glance: .. toctree:: :glob: :maxdepth: 1 glance/*,TODO: fill this in until a new approved space is added.,70,1
openstack%2Fopenstacksdk~master~Ib3c47bd64593f559c2c2dfd7cae6853e1e64f737,openstack/openstacksdk,master,Ib3c47bd64593f559c2c2dfd7cae6853e1e64f737,Update link address for vendor support,MERGED,2018-11-24 02:09:13.000000000,2018-11-28 17:39:53.000000000,2018-11-28 17:39:53.000000000,"[{'_account_id': 2}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2018-11-24 02:09:13.000000000', 'files': ['doc/source/user/multi-cloud-demo.rst'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/bcc9965a43a21be17fc86cd9c20cb81a848294dd', 'message': 'Update link address for vendor support\n\nChange-Id: Ib3c47bd64593f559c2c2dfd7cae6853e1e64f737\n'}]",1,619830,bcc9965a43a21be17fc86cd9c20cb81a848294dd,7,3,1,25747,,,0,"Update link address for vendor support

Change-Id: Ib3c47bd64593f559c2c2dfd7cae6853e1e64f737
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/30/619830/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/multi-cloud-demo.rst'],1,bcc9965a43a21be17fc86cd9c20cb81a848294dd,, https://docs.openstack.org/openstacksdk/latest/user/config/vendor-support.html, https://docs.openstack.org/os-client-config/latest/user/vendor-support.html,1,1
openstack%2Fpuppet-tempest~master~I7f11d81b421c4e54ba3178bc586bd9f46e7bf9ad,openstack/puppet-tempest,master,I7f11d81b421c4e54ba3178bc586bd9f46e7bf9ad,Convert to rspec-puppet-facts,MERGED,2018-11-24 14:47:16.000000000,2018-11-28 17:33:38.000000000,2018-11-28 17:33:38.000000000,"[{'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-24 14:47:16.000000000', 'files': ['spec/classes/tempest_config_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/e7baa14889cf23c5e06c1f5571cfbc2f00650630', 'message': 'Convert to rspec-puppet-facts\n\nChange-Id: I7f11d81b421c4e54ba3178bc586bd9f46e7bf9ad\n'}]",0,619895,e7baa14889cf23c5e06c1f5571cfbc2f00650630,13,3,1,16137,,,0,"Convert to rspec-puppet-facts

Change-Id: I7f11d81b421c4e54ba3178bc586bd9f46e7bf9ad
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/95/619895/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/tempest_config_spec.rb'],1,e7baa14889cf23c5e06c1f5571cfbc2f00650630,," { :tempest_config => { shared_examples 'tempest::config' do it { is_expected.to contain_tempest_config('DEFAULT/foo').with_value('fooValue') is_expected.to contain_tempest_config('DEFAULT/bar').with_value('barValue') is_expected.to contain_tempest_config('DEFAULT/baz').with_ensure('absent') } on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge!(OSDefaults.get_facts()) end it_behaves_like 'tempest::config' end end", { :tempest_config => { it 'configures arbitrary tempest configurations' do is_expected.to contain_tempest_config('DEFAULT/foo').with_value('fooValue') is_expected.to contain_tempest_config('DEFAULT/bar').with_value('barValue') is_expected.to contain_tempest_config('DEFAULT/baz').with_ensure('absent'),19,6
openstack%2Foslo.context~master~I620d647499abaf5a7103d82af22a190fcc0b3fae,openstack/oslo.context,master,I620d647499abaf5a7103d82af22a190fcc0b3fae,Implement domain-scope for context objects,MERGED,2018-10-26 16:24:28.000000000,2018-11-28 17:25:23.000000000,2018-11-28 17:25:23.000000000,"[{'_account_id': 1297}, {'_account_id': 2218}, {'_account_id': 2271}, {'_account_id': 2472}, {'_account_id': 2813}, {'_account_id': 4190}, {'_account_id': 5638}, {'_account_id': 6159}, {'_account_id': 6928}, {'_account_id': 7191}, {'_account_id': 8770}, {'_account_id': 9107}, {'_account_id': 9796}, {'_account_id': 10873}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2018-10-26 16:24:28.000000000', 'files': ['oslo_context/tests/test_context.py', 'oslo_context/context.py'], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/f65408df5cd5924f2879c3ee94d07fd27cb2cf73', 'message': 'Implement domain-scope for context objects\n\nThe OpenStack identity sevice issues domain-scoped tokens and\nkeystonemiddlware sets a specific header when it validates a\ndomain-scoped token. This commit allows context objects to set\ndomain_id attributes for tokens scoped to a domain and also processes\nthe domain ID header from keystonemiddlware.\n\nChange-Id: I620d647499abaf5a7103d82af22a190fcc0b3fae\n'}]",0,613635,f65408df5cd5924f2879c3ee94d07fd27cb2cf73,10,17,1,5046,,,0,"Implement domain-scope for context objects

The OpenStack identity sevice issues domain-scoped tokens and
keystonemiddlware sets a specific header when it validates a
domain-scoped token. This commit allows context objects to set
domain_id attributes for tokens scoped to a domain and also processes
the domain ID header from keystonemiddlware.

Change-Id: I620d647499abaf5a7103d82af22a190fcc0b3fae
",git fetch https://review.opendev.org/openstack/oslo.context refs/changes/35/613635/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_context/tests/test_context.py', 'oslo_context/context.py']",2,f65408df5cd5924f2879c3ee94d07fd27cb2cf73,," 'domain_id': ['HTTP_X_DOMAIN_ID'], 'domain_id': self.domain_id,",,34,0
openstack%2Fkuryr-kubernetes~master~If4d42f866d2d64cae63736f4c206bedca039258b,openstack/kuryr-kubernetes,master,If4d42f866d2d64cae63736f4c206bedca039258b,Add quota readiness check to controller,MERGED,2018-11-18 21:04:40.000000000,2018-11-28 17:19:26.000000000,2018-11-28 17:19:26.000000000,"[{'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2018-11-18 21:04:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/956966c5141c720bc3eb9324c6461b55c0f9930d', 'message': '[WIP] Add quota readiness check to controller\n\nCurrently, if the number of neutron resources requested reaches\nthe quota, kuryr-controller is marked as unhealthy and restarted.\nIn order to avoid the constant restart of the pod, this patch adds a new\nreadiness checks to check if kuryr project is over quota.\n\nChange-Id: If4d42f866d2d64cae63736f4c206bedca039258b\n'}, {'number': 2, 'created': '2018-11-19 20:22:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6b57eefcf3f63fdccfd896ef5e7c3fc54047a29c', 'message': '[WIP] Add quota readiness check to controller\n\nCurrently, if the number of neutron resources requested reaches\nthe quota, kuryr-controller is marked as unhealthy and restarted.\nIn order to avoid the constant restart of the pod, this patch adds a new\nreadiness checks to check if kuryr project is over quota.\n\nChange-Id: If4d42f866d2d64cae63736f4c206bedca039258b\n'}, {'number': 3, 'created': '2018-11-19 20:29:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/aa34d31cea1466524f352c8cfed557ec97af8565', 'message': '[WIP] Add quota readiness check to controller\n\nCurrently, if the number of neutron resources requested reaches\nthe quota, kuryr-controller is marked as unhealthy and restarted.\nIn order to avoid the constant restart of the pod, this patch adds a new\nreadiness checks to check if kuryr project is over quota.\n\nChange-Id: If4d42f866d2d64cae63736f4c206bedca039258b\n'}, {'number': 4, 'created': '2018-11-19 22:49:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c50cb473f69f981aeb173027bb7725eee37ade84', 'message': 'Add quota readiness check to controller\n\nCurrently, if the number of neutron resources requested reaches\nthe quota, kuryr-controller is marked as unhealthy and restarted.\nIn order to avoid the constant restart of the pod, this patch adds\na new readiness checks that checks if the resources used by\nthe enabled handlers are over quota.\n\nChange-Id: If4d42f866d2d64cae63736f4c206bedca039258b\n'}, {'number': 5, 'created': '2018-11-20 20:46:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3feeb523c2da5486b18a08ffee28749beab8a537', 'message': 'Add quota readiness check to controller\n\nCurrently, if the number of neutron resources requested reaches\nthe quota, kuryr-controller is marked as unhealthy and restarted.\nIn order to avoid the constant restart of the pod, this patch adds\na new readiness checks that checks if the resources used by\nthe enabled handlers are over quota.\n\nCloses-Bug: 1804310\nChange-Id: If4d42f866d2d64cae63736f4c206bedca039258b\n'}, {'number': 6, 'created': '2018-11-20 23:37:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/5871c939812cf5274366ef47e2a4eff2f84ac1a4', 'message': 'Add quota readiness check to controller\n\nCurrently, if the number of neutron resources requested reaches\nthe quota, kuryr-controller is marked as unhealthy and restarted.\nIn order to avoid the constant restart of the pod, this patch adds\na new readiness checks that checks if the resources used by\nthe enabled handlers are over quota.\n\nCloses-Bug: 1804310\nChange-Id: If4d42f866d2d64cae63736f4c206bedca039258b\n'}, {'number': 7, 'created': '2018-11-21 10:13:59.000000000', 'files': ['kuryr_kubernetes/cni/binding/bridge.py', 'kuryr_kubernetes/tests/unit/controller/managers/test_health.py', 'kuryr_kubernetes/cni/binding/base.py', 'kuryr_kubernetes/controller/handlers/namespace.py', 'kuryr_kubernetes/utils.py', 'kuryr_kubernetes/controller/handlers/policy.py', 'kuryr_kubernetes/handlers/health.py', 'kuryr_kubernetes/watcher.py', 'kuryr_kubernetes/cni/daemon/service.py', 'kuryr_kubernetes/tests/unit/handlers/test_health.py', 'kuryr_kubernetes/controller/handlers/vif.py', 'kuryr_kubernetes/controller/managers/health.py', 'kuryr_kubernetes/opts.py', 'kuryr_kubernetes/cni/binding/sriov.py', 'kuryr_kubernetes/tests/unit/test_watcher.py', 'kuryr_kubernetes/handlers/retry.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b215aae1462bd8e8cc2a060ba638105652b4e7a3', 'message': 'Add quota readiness check to controller\n\nCurrently, if the number of neutron resources requested reaches\nthe quota, kuryr-controller is marked as unhealthy and restarted.\nIn order to avoid the constant restart of the pod, this patch adds\na new readiness checks that checks if the resources used by\nthe enabled handlers are over quota.\n\nCloses-Bug: 1804310\nChange-Id: If4d42f866d2d64cae63736f4c206bedca039258b\n'}]",12,618655,b215aae1462bd8e8cc2a060ba638105652b4e7a3,31,4,7,27032,,,0,"Add quota readiness check to controller

Currently, if the number of neutron resources requested reaches
the quota, kuryr-controller is marked as unhealthy and restarted.
In order to avoid the constant restart of the pod, this patch adds
a new readiness checks that checks if the resources used by
the enabled handlers are over quota.

Closes-Bug: 1804310
Change-Id: If4d42f866d2d64cae63736f4c206bedca039258b
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/55/618655/7 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/managers/health.py', 'kuryr_kubernetes/handlers/retry.py']",2,956966c5141c720bc3eb9324c6461b55c0f9930d,add_quota_check,"from neutronclient.common import exceptions as n_exc if not isinstance(ex, n_exc.OverQuotaClient): LOG.debug('Report handler unhealthy %s', self._handler) self._handler.set_health_status(healthy=False)"," LOG.debug('Report handler unhealthy %s', self._handler) self._handler.set_health_status(healthy=False)",30,12
openstack%2Fpatrole~master~I39b10e06d9bcbf6fa939ee4603e830bb935e716b,openstack/patrole,master,I39b10e06d9bcbf6fa939ee4603e830bb935e716b,Add List Available Zones test cases for RBAC.,MERGED,2018-09-28 14:54:57.000000000,2018-11-28 17:11:38.000000000,2018-11-28 17:11:38.000000000,"[{'_account_id': 8911}, {'_account_id': 16274}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 27078}, {'_account_id': 27977}]","[{'number': 1, 'created': '2018-09-28 14:54:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/af3304e8da14b0e60fbfbab8fbe88b8031978453', 'message': 'Add List Available Zones test cases for RBAC.\n\nThis commit includes list available zones tests for RBAC\nThe operation is only\n- List available zones\n\nThis commit is dependent on a commit of neutron-tempest-plugin:\nhttps://review.openstack.org/#/c/605766/3\n\nChange-Id: I39b10e06d9bcbf6fa939ee4603e830bb935e716b\n'}, {'number': 2, 'created': '2018-10-03 14:25:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/69d4c3f6d84c8cbf7545fcff2c30eab6985d12c8', 'message': 'Add List Available Zones test cases for RBAC.\n\nThis commit includes list available zones tests for RBAC\nThe operation is only\n- List available zones\n\nThis commit is dependent on a commit of neutron-tempest-plugin:\nhttps://review.openstack.org/#/c/605766/3\n\nChange-Id: I39b10e06d9bcbf6fa939ee4603e830bb935e716b\n'}, {'number': 3, 'created': '2018-10-03 14:29:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/55391a2f3b3bfa5ec7d3305f7a34d6888aed7b5d', 'message': 'Add List Available Zones test cases for RBAC.\n\nThis commit includes list available zones tests for RBAC\nThe operation is only\n- List available zones\n\nThis commit is dependent on a commit of neutron-tempest-plugin:\nhttps://review.openstack.org/#/c/605766/3\n\nChange-Id: I39b10e06d9bcbf6fa939ee4603e830bb935e716b\n'}, {'number': 4, 'created': '2018-10-03 14:36:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/feec3d040257a72c8c4b62df9a2cc310f2f5738c', 'message': 'Add List Available Zones test cases for RBAC.\n\nThis commit includes list available zones tests for RBAC\nThe operation is only\n- List available zones\n\nThis commit is dependent on a commit of neutron-tempest-plugin:\nhttps://review.openstack.org/#/c/605766/3\n\nChange-Id: I39b10e06d9bcbf6fa939ee4603e830bb935e716b\n'}, {'number': 5, 'created': '2018-10-04 07:52:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/01fe54a952c9e92ef8fcb5bbf2ded7e4587bd260', 'message': 'Add List Available Zones test cases for RBAC.\n\nThis commit includes list available zones tests for RBAC\nThe operation is only\n- List available zones\n\nThis commit is dependent on a commit of neutron-tempest-plugin:\nhttps://review.openstack.org/#/c/605766/3\n\nChange-Id: I39b10e06d9bcbf6fa939ee4603e830bb935e716b\n'}, {'number': 6, 'created': '2018-10-04 11:12:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/e5bde95127f8e4190273a0b2ba2dcca4093e05b7', 'message': 'Add List Available Zones test cases for RBAC.\n\nThis commit includes list available zones tests for RBAC\nThe operation is only\n- List available zones\n\nThis commit is dependent on a commit of neutron-tempest-plugin:\nhttps://review.openstack.org/#/c/605766/3\n\nChange-Id: I39b10e06d9bcbf6fa939ee4603e830bb935e716b\n'}, {'number': 7, 'created': '2018-10-04 11:19:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/971ab64e1c503230f7c76f2bc114643f5f9b38cb', 'message': 'Add List Available Zones test cases for RBAC.\n\nThis commit includes list available zones tests for RBAC\nThe operation is only\n- List available zones\n\nThis commit is dependent on a commit of neutron-tempest-plugin\nDependent-Change-ID: I881e3e038a775bd826b5c5675cb95e949f9c717e\n\nChange-Id: I39b10e06d9bcbf6fa939ee4603e830bb935e716b\n'}, {'number': 8, 'created': '2018-10-05 11:06:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/058395ce5b1acfc30dc407d2e5ac27a66f0d7e97', 'message': 'Add List Available Zones test cases for RBAC.\n\nThis commit includes list available zones tests for RBAC\nThe operation is only\n- List available zones\n\nThis commit is dependent on a commit of neutron-tempest-plugin\nDependent-Change-ID: I881e3e038a775bd826b5c5675cb95e949f9c717e\n\nChange-Id: I39b10e06d9bcbf6fa939ee4603e830bb935e716b\n'}, {'number': 9, 'created': '2018-10-05 11:11:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/0e204ac7f2cd34e8f0fa5a430310cf5c9f21ac63', 'message': 'Add List Available Zones test cases for RBAC.\n\nThis commit includes list available zones tests for RBAC\nThe operation is only\n- List available zones\n\nThis commit is dependent on a commit of neutron-tempest-plugin\nDependent-Change-ID: I881e3e038a775bd826b5c5675cb95e949f9c717e\n\nChange-Id: I39b10e06d9bcbf6fa939ee4603e830bb935e716b\n'}, {'number': 10, 'created': '2018-10-23 14:58:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/88ae7d7aeaef056b81514c62f82d7a9017b734c3', 'message': 'Add List Available Zones test cases for RBAC.\n\nThis commit includes list available zones tests for RBAC\nThe operation is only\n- List available zones\n\nThis commit is dependent on a commit of neutron-tempest-plugin\nDepends-On: I881e3e038a775bd826b5c5675cb95e949f9c717e\n\nChange-Id: I39b10e06d9bcbf6fa939ee4603e830bb935e716b\n'}, {'number': 11, 'created': '2018-11-14 13:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/6bdc249501c559f18ce04c248fb335798511aa06', 'message': 'Add List Available Zones test cases for RBAC.\n\nThis commit includes list available zones tests for RBAC\nThe operation is only\n- List available zones\n\nThis commit is dependent on a commit of neutron-tempest-plugin\nDepends-On: I881e3e038a775bd826b5c5675cb95e949f9c717e\n\nChange-Id: I39b10e06d9bcbf6fa939ee4603e830bb935e716b\n'}, {'number': 12, 'created': '2018-11-14 13:10:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/fa7a38fddc4e3c90bfac3bfc32c9c702a33784a3', 'message': 'Add List Available Zones test cases for RBAC.\n\nThis commit includes list available zones tests for RBAC\nThe operation is only\n- List available zones\n\nThis commit is dependent on a commit of neutron-tempest-plugin\nDepends-On: I881e3e038a775bd826b5c5675cb95e949f9c717e\n\nChange-Id: I39b10e06d9bcbf6fa939ee4603e830bb935e716b\n'}, {'number': 13, 'created': '2018-11-19 16:11:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/d3733e59bd64198f26fa139d3e6bf7eebe74e759', 'message': 'Add List Available Zones test cases for RBAC.\n\nThis commit includes list available zones tests for RBAC\nThe operation is only\n- List available zones\n\nThis commit is dependent on a commit of patrole\nDepends-On: I5f39efc8aa0004d4ad435cbd6b8fb037c33832d6\n\nThis commit is also dependent on a commit of neutron\nDepends-On: I7e5e706c44136e0b565f3ee18e15f1166d82040d\n\nChange-Id: I39b10e06d9bcbf6fa939ee4603e830bb935e716b\n'}, {'number': 14, 'created': '2018-11-19 17:31:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/7d1379788a65ed6dcd7e02efeb4ff8daaf067193', 'message': 'Add List Available Zones test cases for RBAC.\n\nThis commit includes list available zones tests for RBAC\nThe operation is only\n- List available zones\n\nThis commit is also dependent on a commit of neutron\nDepends-On: I7e5e706c44136e0b565f3ee18e15f1166d82040d\n\nChange-Id: I39b10e06d9bcbf6fa939ee4603e830bb935e716b\n'}, {'number': 15, 'created': '2018-11-19 18:21:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/a176e3679c572fbdfe0a1261863cab76673ad867', 'message': 'Add List Available Zones test cases for RBAC.\n\nThis commit includes list available zones tests for RBAC\nThe operation is only\n- List available zones\n\nDepends-On: I5f39efc8aa0004d4ad435cbd6b8fb037c33832d6\n\nDepends-On: I7e5e706c44136e0b565f3ee18e15f1166d82040d\n\nChange-Id: I39b10e06d9bcbf6fa939ee4603e830bb935e716b\n'}, {'number': 16, 'created': '2018-11-20 08:53:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/72b7417ed2f3ee0b3f4e4e7737de6beddeeaab0c', 'message': 'Add List Available Zones test cases for RBAC.\n\nThis commit includes list available zones tests for RBAC\nThe operation is only\n- List available zones\n\nDepends-On: I7e5e706c44136e0b565f3ee18e15f1166d82040d\n\nChange-Id: I39b10e06d9bcbf6fa939ee4603e830bb935e716b\n'}, {'number': 17, 'created': '2018-11-21 11:42:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/b21d58bfe2eae8328fa6d6314ea734acf1557469', 'message': 'Add List Available Zones test cases for RBAC.\n\nThis commit includes list available zones tests for RBAC\nThe operation is only\n- List available zones\n\nDepends-On: I7e5e706c44136e0b565f3ee18e15f1166d82040d\n\nChange-Id: I39b10e06d9bcbf6fa939ee4603e830bb935e716b\n'}, {'number': 18, 'created': '2018-11-21 16:04:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/328f58c5e181fdd853b153dbfff486c967e529d9', 'message': 'Add List Available Zones test cases for RBAC.\n\nThis commit includes list available zones tests for RBAC\nThe operation is only\n- List available zones\n\nDepends-On: I7e5e706c44136e0b565f3ee18e15f1166d82040d\n\nChange-Id: I39b10e06d9bcbf6fa939ee4603e830bb935e716b\n'}, {'number': 19, 'created': '2018-11-22 07:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/e25b277ad05925e2be9bda98ff889578ce114f36', 'message': 'Add List Available Zones test cases for RBAC.\n\nThis commit includes list available zones tests for RBAC\nThe operation is only\n- List available zones\n\nDepends-On: I7e5e706c44136e0b565f3ee18e15f1166d82040d\n\nChange-Id: I39b10e06d9bcbf6fa939ee4603e830bb935e716b\n'}, {'number': 20, 'created': '2018-11-26 16:04:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/7d74bb935bc2ab201ada53196f5295fb070d2266', 'message': 'Add List Available Zones test cases for RBAC.\n\nThis commit includes list available zones tests for RBAC\nThe operation is only\n- List available zones\n\nDepends-On: I7e5e706c44136e0b565f3ee18e15f1166d82040d\n\nChange-Id: I39b10e06d9bcbf6fa939ee4603e830bb935e716b\n'}, {'number': 21, 'created': '2018-11-27 09:33:09.000000000', 'files': ['patrole_tempest_plugin/tests/api/network/test_availability_zones_rbac.py'], 'web_link': 'https://opendev.org/openstack/patrole/commit/02f6606b42888b0fe56a98dc028e3507264f4221', 'message': 'Add List Available Zones test cases for RBAC.\n\nThis commit includes list available zones tests for RBAC\nThe operation is only\n- List available zones\n\nDepends-On: I7e5e706c44136e0b565f3ee18e15f1166d82040d\n\nChange-Id: I39b10e06d9bcbf6fa939ee4603e830bb935e716b\n'}]",32,606102,02f6606b42888b0fe56a98dc028e3507264f4221,82,6,21,27977,,,0,"Add List Available Zones test cases for RBAC.

This commit includes list available zones tests for RBAC
The operation is only
- List available zones

Depends-On: I7e5e706c44136e0b565f3ee18e15f1166d82040d

Change-Id: I39b10e06d9bcbf6fa939ee4603e830bb935e716b
",git fetch https://review.opendev.org/openstack/patrole refs/changes/02/606102/16 && git format-patch -1 --stdout FETCH_HEAD,['patrole_tempest_plugin/tests/api/network/test_available_zones_rbac.py'],1,af3304e8da14b0e60fbfbab8fbe88b8031978453,generic-list,"# Copyright 2018 AT&T Corporation. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest.lib import decorators from patrole_tempest_plugin import rbac_rule_validation from patrole_tempest_plugin.tests.api.network import rbac_base as base class AvailabilityZoneRbacTest(base.BaseNetworkPluginRbacTest): @classmethod def resource_setup(cls): super(AvailabilityZoneRbacTest, cls).resource_setup() @rbac_rule_validation.action(service=""neutron"", rule=""get_available_zones"") @decorators.idempotent_id('3c521be8-c32e-11e8-a611-080027758b73') def test_list_all_availability_zone_rbac(self): """"""List all available zones. RBAC test for the neutron list all available zone policy """""" with self.rbac_utils.override_role(self): self.ntp_client.list_all_availability_zones() ",,38,0
openstack%2Fpatrole~master~I5f39efc8aa0004d4ad435cbd6b8fb037c33832d6,openstack/patrole,master,I5f39efc8aa0004d4ad435cbd6b8fb037c33832d6,Helper for validating RBAC list actions,MERGED,2018-10-08 02:57:48.000000000,2018-11-28 17:11:37.000000000,2018-11-28 17:11:37.000000000,"[{'_account_id': 1921}, {'_account_id': 5196}, {'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 7350}, {'_account_id': 8556}, {'_account_id': 8911}, {'_account_id': 16274}, {'_account_id': 17896}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 23140}, {'_account_id': 23185}, {'_account_id': 23186}, {'_account_id': 27078}]","[{'number': 1, 'created': '2018-10-08 02:57:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/a676be460bbf58a06f133701635e79edbd35ba32', 'message': ""Test list functions of Neutron's API\n\nAdd generic function to test list function of Neutron's API.\nAdd RBAC test for list_routers.\nAdd RBAC test for list_subnetpools.\n\nChange-Id: I5f39efc8aa0004d4ad435cbd6b8fb037c33832d6\n""}, {'number': 2, 'created': '2018-10-08 03:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/bbdf920a337c9480f1a535e69014b41095d2f41d', 'message': ""Test list functions of Neutron's API\n\nAdd generic function to test list function of Neutron's API.\nAdd RBAC test for list_routers [0].\nAdd RBAC test for list_subnetpools [1].\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#list-routers\n[1] https://developer.openstack.org/api-ref/network/v2/index.html#list-subnet-pools\n\nChange-Id: I5f39efc8aa0004d4ad435cbd6b8fb037c33832d6\n""}, {'number': 3, 'created': '2018-10-08 12:55:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/a201dd5b0f1c517eaf8c5015c037d5eb583e4e63', 'message': ""Test list functions of Neutron's API\n\nAdd generic function to test list function of Neutron's API.\nAdd RBAC test for list_routers [0].\nAdd RBAC test for list_subnetpools [1].\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#list-routers\n[1] https://developer.openstack.org/api-ref/network/v2/index.html#list-subnet-pools\n\nChange-Id: I5f39efc8aa0004d4ad435cbd6b8fb037c33832d6\n""}, {'number': 4, 'created': '2018-10-08 16:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/5aa0041055f6a01b422751c9c8a008c8aeb1f554', 'message': ""Test list functions of Neutron's API\n\nAdd generic function to test list function of Neutron's API.\nAdd RBAC tests for\n    * list_routers [0]\n    * list_subnetpools [1]\n    * list_networks [2]\n    * list_ports [3]\n    * list_trunks [4]\n    * list_address_scopes [5]\n    * list_floatingips [6]\n    * list_subnets [7]\n    * list_rbac_policies [8]\n    * list_metering_labels [10]\n    * list_metering_label_rules [11]\n    * list_qos_policies [12]\n    * list_dscp_marking_rules [13]\n\nUpdate RBAC tests to use validate_list function for:\n    *  list_security_groups [9]\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#list-routers\n[1] https://developer.openstack.org/api-ref/network/v2/index.html#list-subnet-pools\n[2] https://developer.openstack.org/api-ref/network/v2/index.html#list-networks\n[3] https://developer.openstack.org/api-ref/network/v2/index.html#list-ports\n[4] https://developer.openstack.org/api-ref/network/v2/index.html#list-trunks\n[5] https://developer.openstack.org/api-ref/network/v2/index.html#list-address-scopes\n[6] https://developer.openstack.org/api-ref/network/v2/index.html#list-floating-ips\n[7] https://developer.openstack.org/api-ref/network/v2/index.html#list-subnets\n[8] https://developer.openstack.org/api-ref/network/v2/index.html#list-rbac-policies\n[9] https://developer.openstack.org/api-ref/network/v2/index.html#list-security-groups\n[10] https://developer.openstack.org/api-ref/network/v2/index.html#list-metering-labels\n[11] https://developer.openstack.org/api-ref/network/v2/index.html#list-metering-label-rules\n[12] https://developer.openstack.org/api-ref/network/v2/index.html#list-qos-policies\n[13] https://developer.openstack.org/api-ref/network/v2/index.html#list-dscp-marking-rules-for-qos-policy\n\nChange-Id: I5f39efc8aa0004d4ad435cbd6b8fb037c33832d6\n""}, {'number': 5, 'created': '2018-10-08 19:20:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/d03b4777670bca9dc50268e78a84de519a408193', 'message': ""Test list functions of Neutron's API\n\nAdd generic function to test list function of Neutron's API.\nAdd RBAC tests for\n    * list_routers [0]\n    * list_subnetpools [1]\n    * list_networks [2]\n    * list_ports [3]\n    * list_trunks [4]\n    * list_address_scopes [5]\n    * list_floatingips [6]\n    * list_rbac_policies [8]\n    * list_metering_labels [10]\n    * list_metering_label_rules [11]\n    * list_qos_policies [12]\n    * list_dscp_marking_rules [13]\n\nUpdate RBAC tests to use validate_list function for:\n    * list_subnets [7]\n    * list_security_groups [9]\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#list-routers\n[1] https://developer.openstack.org/api-ref/network/v2/index.html#list-subnet-pools\n[2] https://developer.openstack.org/api-ref/network/v2/index.html#list-networks\n[3] https://developer.openstack.org/api-ref/network/v2/index.html#list-ports\n[4] https://developer.openstack.org/api-ref/network/v2/index.html#list-trunks\n[5] https://developer.openstack.org/api-ref/network/v2/index.html#list-address-scopes\n[6] https://developer.openstack.org/api-ref/network/v2/index.html#list-floating-ips\n[7] https://developer.openstack.org/api-ref/network/v2/index.html#list-subnets\n[8] https://developer.openstack.org/api-ref/network/v2/index.html#list-rbac-policies\n[9] https://developer.openstack.org/api-ref/network/v2/index.html#list-security-groups\n[10] https://developer.openstack.org/api-ref/network/v2/index.html#list-metering-labels\n[11] https://developer.openstack.org/api-ref/network/v2/index.html#list-metering-label-rules\n[12] https://developer.openstack.org/api-ref/network/v2/index.html#list-qos-policies\n[13] https://developer.openstack.org/api-ref/network/v2/index.html#list-dscp-marking-rules-for-qos-policy\n\nChange-Id: I5f39efc8aa0004d4ad435cbd6b8fb037c33832d6\n""}, {'number': 6, 'created': '2018-10-09 15:15:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/436b373d0d1c3b3b051a05339aba8d984105c1ca', 'message': ""Test list functions of Neutron's API\n\nAdd validate_list function to test the list functions of Neutron's API\nAdd RBAC tests for\n    * list_routers [0]\n    * list_subnetpools [1]\n    * list_networks [2]\n    * list_ports [3]\n    * list_trunks [4]\n    * list_address_scopes [5]\n    * list_floatingips [6]\n    * list_rbac_policies [8]\n    * list_metering_labels [10]\n    * list_metering_label_rules [11]\n    * list_qos_policies [12]\n    * list_dscp_marking_rules [13]\n\nUpdate RBAC tests to use validate_list function for:\n    * list_subnets [7]\n    * list_security_groups [9]\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#list-routers\n[1] https://developer.openstack.org/api-ref/network/v2/index.html#list-subnet-pools\n[2] https://developer.openstack.org/api-ref/network/v2/index.html#list-networks\n[3] https://developer.openstack.org/api-ref/network/v2/index.html#list-ports\n[4] https://developer.openstack.org/api-ref/network/v2/index.html#list-trunks\n[5] https://developer.openstack.org/api-ref/network/v2/index.html#list-address-scopes\n[6] https://developer.openstack.org/api-ref/network/v2/index.html#list-floating-ips\n[7] https://developer.openstack.org/api-ref/network/v2/index.html#list-subnets\n[8] https://developer.openstack.org/api-ref/network/v2/index.html#list-rbac-policies\n[9] https://developer.openstack.org/api-ref/network/v2/index.html#list-security-groups\n[10] https://developer.openstack.org/api-ref/network/v2/index.html#list-metering-labels\n[11] https://developer.openstack.org/api-ref/network/v2/index.html#list-metering-label-rules\n[12] https://developer.openstack.org/api-ref/network/v2/index.html#list-qos-policies\n[13] https://developer.openstack.org/api-ref/network/v2/index.html#list-dscp-marking-rules-for-qos-policy\n\nChange-Id: I5f39efc8aa0004d4ad435cbd6b8fb037c33832d6\n""}, {'number': 7, 'created': '2018-10-09 18:38:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/a719a64688d1cf7009d23e3b7607caed278f3b69', 'message': ""Test list functions of Neutron's API\n\nAdd validate_list function to test the list functions of Neutron's API\nAdd RBAC tests for\n    * list_routers [0]\n    * list_subnetpools [1]\n    * list_networks [2]\n    * list_ports [3]\n    * list_trunks [4]\n    * list_address_scopes [5]\n    * list_floatingips [6]\n    * list_rbac_policies [8]\n    * list_metering_labels [10]\n    * list_metering_label_rules [11]\n    * list_qos_policies [12]\n    * list_dscp_marking_rules [13]\n\nUpdate RBAC tests to use validate_list function for:\n    * list_subnets [7]\n    * list_security_groups [9]\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#list-routers\n[1] https://developer.openstack.org/api-ref/network/v2/index.html#list-subnet-pools\n[2] https://developer.openstack.org/api-ref/network/v2/index.html#list-networks\n[3] https://developer.openstack.org/api-ref/network/v2/index.html#list-ports\n[4] https://developer.openstack.org/api-ref/network/v2/index.html#list-trunks\n[5] https://developer.openstack.org/api-ref/network/v2/index.html#list-address-scopes\n[6] https://developer.openstack.org/api-ref/network/v2/index.html#list-floating-ips\n[7] https://developer.openstack.org/api-ref/network/v2/index.html#list-subnets\n[8] https://developer.openstack.org/api-ref/network/v2/index.html#list-rbac-policies\n[9] https://developer.openstack.org/api-ref/network/v2/index.html#list-security-groups\n[10] https://developer.openstack.org/api-ref/network/v2/index.html#list-metering-labels\n[11] https://developer.openstack.org/api-ref/network/v2/index.html#list-metering-label-rules\n[12] https://developer.openstack.org/api-ref/network/v2/index.html#list-qos-policies\n[13] https://developer.openstack.org/api-ref/network/v2/index.html#list-dscp-marking-rules-for-qos-policy\n\nChange-Id: I5f39efc8aa0004d4ad435cbd6b8fb037c33832d6\n""}, {'number': 8, 'created': '2018-10-09 21:01:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/05f94170231603f351fbf7970b7921a9b871b92c', 'message': ""Test list functions of Neutron's API\n\nAdd validate_list function to test the list functions of Neutron's API\nAdd RBAC tests for\n    * list_routers [0]\n    * list_subnetpools [1]\n    * list_networks [2]\n    * list_ports [3]\n    * list_trunks [4]\n    * list_address_scopes [5]\n    * list_floatingips [6]\n    * list_rbac_policies [8]\n    * list_metering_labels [10]\n    * list_metering_label_rules [11]\n    * list_qos_policies [12]\n    * list_dscp_marking_rules [13]\n    * list_agents [14]\n    * list_segments [15]\n\nUpdate RBAC tests to use validate_list function for:\n    * list_subnets [7]\n    * list_security_groups [9]\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#list-routers\n[1] https://developer.openstack.org/api-ref/network/v2/index.html#list-subnet-pools\n[2] https://developer.openstack.org/api-ref/network/v2/index.html#list-networks\n[3] https://developer.openstack.org/api-ref/network/v2/index.html#list-ports\n[4] https://developer.openstack.org/api-ref/network/v2/index.html#list-trunks\n[5] https://developer.openstack.org/api-ref/network/v2/index.html#list-address-scopes\n[6] https://developer.openstack.org/api-ref/network/v2/index.html#list-floating-ips\n[7] https://developer.openstack.org/api-ref/network/v2/index.html#list-subnets\n[8] https://developer.openstack.org/api-ref/network/v2/index.html#list-rbac-policies\n[9] https://developer.openstack.org/api-ref/network/v2/index.html#list-security-groups\n[10] https://developer.openstack.org/api-ref/network/v2/index.html#list-metering-labels\n[11] https://developer.openstack.org/api-ref/network/v2/index.html#list-metering-label-rules\n[12] https://developer.openstack.org/api-ref/network/v2/index.html#list-qos-policies\n[13] https://developer.openstack.org/api-ref/network/v2/index.html#list-dscp-marking-rules-for-qos-policy\n[14] https://developer.openstack.org/api-ref/network/v2/index.html#list-all-agents\n[15] https://developer.openstack.org/api-ref/network/v2/index.html#list-segments\n\nChange-Id: I5f39efc8aa0004d4ad435cbd6b8fb037c33832d6\n""}, {'number': 9, 'created': '2018-10-09 21:07:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/0a4bf6efa15eb1f37211c3e68882d7160d353792', 'message': ""Test list functions of Neutron's API\n\nAdd validate_list function to test the list functions of Neutron's API\nAdd RBAC tests for\n    * list_routers [0]\n    * list_subnetpools [1]\n    * list_networks [2]\n    * list_ports [3]\n    * list_trunks [4]\n    * list_address_scopes [5]\n    * list_floatingips [6]\n    * list_rbac_policies [8]\n    * list_metering_labels [10]\n    * list_metering_label_rules [11]\n    * list_qos_policies [12]\n    * list_dscp_marking_rules [13]\n    * list_agents [14]\n    * list_segments [15]\n\nUpdate RBAC tests to use validate_list function for:\n    * list_subnets [7]\n    * list_security_groups [9]\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#list-routers\n[1] https://developer.openstack.org/api-ref/network/v2/index.html#list-subnet-pools\n[2] https://developer.openstack.org/api-ref/network/v2/index.html#list-networks\n[3] https://developer.openstack.org/api-ref/network/v2/index.html#list-ports\n[4] https://developer.openstack.org/api-ref/network/v2/index.html#list-trunks\n[5] https://developer.openstack.org/api-ref/network/v2/index.html#list-address-scopes\n[6] https://developer.openstack.org/api-ref/network/v2/index.html#list-floating-ips\n[7] https://developer.openstack.org/api-ref/network/v2/index.html#list-subnets\n[8] https://developer.openstack.org/api-ref/network/v2/index.html#list-rbac-policies\n[9] https://developer.openstack.org/api-ref/network/v2/index.html#list-security-groups\n[10] https://developer.openstack.org/api-ref/network/v2/index.html#list-metering-labels\n[11] https://developer.openstack.org/api-ref/network/v2/index.html#list-metering-label-rules\n[12] https://developer.openstack.org/api-ref/network/v2/index.html#list-qos-policies\n[13] https://developer.openstack.org/api-ref/network/v2/index.html#list-dscp-marking-rules-for-qos-policy\n[14] https://developer.openstack.org/api-ref/network/v2/index.html#list-all-agents\n[15] https://developer.openstack.org/api-ref/network/v2/index.html#list-segments\n\nChange-Id: I5f39efc8aa0004d4ad435cbd6b8fb037c33832d6\n""}, {'number': 10, 'created': '2018-10-11 01:05:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/eb63469c9a6340b9a8c2c8a6be78578db902e54a', 'message': ""Test list functions of Neutron's API\n\nAdd validate_list function to test the list functions of Neutron's API\nAdd RBAC tests for\n    * list_routers [0]\n    * list_subnetpools [1]\n    * list_networks [2]\n    * list_ports [3]\n    * list_trunks [4]\n    * list_address_scopes [5]\n    * list_floatingips [6]\n    * list_rbac_policies [8]\n    * list_metering_labels [10]\n    * list_metering_label_rules [11]\n    * list_qos_policies [12]\n    * list_dscp_marking_rules [13]\n    * list_agents [14]\n    * list_segments [15]\n\nUpdate RBAC tests to use validate_list function for:\n    * list_subnets [7]\n    * list_security_groups [9]\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#list-routers\n[1] https://developer.openstack.org/api-ref/network/v2/index.html#list-subnet-pools\n[2] https://developer.openstack.org/api-ref/network/v2/index.html#list-networks\n[3] https://developer.openstack.org/api-ref/network/v2/index.html#list-ports\n[4] https://developer.openstack.org/api-ref/network/v2/index.html#list-trunks\n[5] https://developer.openstack.org/api-ref/network/v2/index.html#list-address-scopes\n[6] https://developer.openstack.org/api-ref/network/v2/index.html#list-floating-ips\n[7] https://developer.openstack.org/api-ref/network/v2/index.html#list-subnets\n[8] https://developer.openstack.org/api-ref/network/v2/index.html#list-rbac-policies\n[9] https://developer.openstack.org/api-ref/network/v2/index.html#list-security-groups\n[10] https://developer.openstack.org/api-ref/network/v2/index.html#list-metering-labels\n[11] https://developer.openstack.org/api-ref/network/v2/index.html#list-metering-label-rules\n[12] https://developer.openstack.org/api-ref/network/v2/index.html#list-qos-policies\n[13] https://developer.openstack.org/api-ref/network/v2/index.html#list-dscp-marking-rules-for-qos-policy\n[14] https://developer.openstack.org/api-ref/network/v2/index.html#list-all-agents\n[15] https://developer.openstack.org/api-ref/network/v2/index.html#list-segments\n\nChange-Id: I5f39efc8aa0004d4ad435cbd6b8fb037c33832d6\n""}, {'number': 11, 'created': '2018-10-11 14:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/15a3b2f5caa2cf5555a1c1b979e925d30c96f266', 'message': ""Test list functions of Neutron's API\n\nAdd override_role_and_validate_list function to RbacUtils to validate\nthe list functions of Neutron's API\nImplement the unit tests for the override_role_and_validate_list\nfunction and the ValidateListContext class.\n\nAdd RBAC tests for\n    * list_routers [0]\n    * list_subnetpools [1]\n    * list_networks [2]\n    * list_ports [3]\n    * list_trunks [4]\n    * list_address_scopes [5]\n    * list_floatingips [6]\n    * list_rbac_policies [8]\n    * list_metering_labels [10]\n    * list_metering_label_rules [11]\n    * list_qos_policies [12]\n    * list_dscp_marking_rules [13]\n    * list_agents [14]\n    * list_segments [15]\n\nUpdate RBAC tests to use validate_list function for:\n    * list_subnets [7]\n    * list_security_groups [9]\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#list-routers\n[1] https://developer.openstack.org/api-ref/network/v2/index.html#list-subnet-pools\n[2] https://developer.openstack.org/api-ref/network/v2/index.html#list-networks\n[3] https://developer.openstack.org/api-ref/network/v2/index.html#list-ports\n[4] https://developer.openstack.org/api-ref/network/v2/index.html#list-trunks\n[5] https://developer.openstack.org/api-ref/network/v2/index.html#list-address-scopes\n[6] https://developer.openstack.org/api-ref/network/v2/index.html#list-floating-ips\n[7] https://developer.openstack.org/api-ref/network/v2/index.html#list-subnets\n[8] https://developer.openstack.org/api-ref/network/v2/index.html#list-rbac-policies\n[9] https://developer.openstack.org/api-ref/network/v2/index.html#list-security-groups\n[10] https://developer.openstack.org/api-ref/network/v2/index.html#list-metering-labels\n[11] https://developer.openstack.org/api-ref/network/v2/index.html#list-metering-label-rules\n[12] https://developer.openstack.org/api-ref/network/v2/index.html#list-qos-policies\n[13] https://developer.openstack.org/api-ref/network/v2/index.html#list-dscp-marking-rules-for-qos-policy\n[14] https://developer.openstack.org/api-ref/network/v2/index.html#list-all-agents\n[15] https://developer.openstack.org/api-ref/network/v2/index.html#list-segments\n\nChange-Id: I5f39efc8aa0004d4ad435cbd6b8fb037c33832d6\n""}, {'number': 12, 'created': '2018-10-11 14:59:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/b9d7cbfc582939bf1090713a8d35a2efc7b4ad58', 'message': ""Test list functions of Neutron's API\n\nAdd override_role_and_validate_list function to RbacUtils to validate\nthe list functions of Neutron's API\nImplement the unit tests for the override_role_and_validate_list\nfunction and the ValidateListContext class.\n\nAdd RBAC tests for\n    * list_routers [0]\n    * list_subnetpools [1]\n    * list_networks [2]\n    * list_ports [3]\n    * list_trunks [4]\n    * list_address_scopes [5]\n    * list_floatingips [6]\n    * list_rbac_policies [8]\n    * list_metering_labels [10]\n    * list_metering_label_rules [11]\n    * list_qos_policies [12]\n    * list_dscp_marking_rules [13]\n    * list_agents [14]\n    * list_segments [15]\n\nUpdate RBAC tests to use validate_list function for:\n    * list_subnets [7]\n    * list_security_groups [9]\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#list-routers\n[1] https://developer.openstack.org/api-ref/network/v2/index.html#list-subnet-pools\n[2] https://developer.openstack.org/api-ref/network/v2/index.html#list-networks\n[3] https://developer.openstack.org/api-ref/network/v2/index.html#list-ports\n[4] https://developer.openstack.org/api-ref/network/v2/index.html#list-trunks\n[5] https://developer.openstack.org/api-ref/network/v2/index.html#list-address-scopes\n[6] https://developer.openstack.org/api-ref/network/v2/index.html#list-floating-ips\n[7] https://developer.openstack.org/api-ref/network/v2/index.html#list-subnets\n[8] https://developer.openstack.org/api-ref/network/v2/index.html#list-rbac-policies\n[9] https://developer.openstack.org/api-ref/network/v2/index.html#list-security-groups\n[10] https://developer.openstack.org/api-ref/network/v2/index.html#list-metering-labels\n[11] https://developer.openstack.org/api-ref/network/v2/index.html#list-metering-label-rules\n[12] https://developer.openstack.org/api-ref/network/v2/index.html#list-qos-policies\n[13] https://developer.openstack.org/api-ref/network/v2/index.html#list-dscp-marking-rules-for-qos-policy\n[14] https://developer.openstack.org/api-ref/network/v2/index.html#list-all-agents\n[15] https://developer.openstack.org/api-ref/network/v2/index.html#list-segments\n\nChange-Id: I5f39efc8aa0004d4ad435cbd6b8fb037c33832d6\n""}, {'number': 13, 'created': '2018-10-11 19:44:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/e296e54d47180ca6a375cf91c947fb064fb0264c', 'message': 'Test list actions\n\nAdd override_role_and_validate_list function to RbacUtils to validate\nthe list actions.\nImplement the unit tests for the override_role_and_validate_list\nfunction and the ValidateListContext class.\n\nChange-Id: I5f39efc8aa0004d4ad435cbd6b8fb037c33832d6\n'}, {'number': 14, 'created': '2018-11-05 20:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/a8a9568ce040b27a9f89775e83cf8890889f7f37', 'message': 'Test list actions\n\nAdd override_role_and_validate_list function to RbacUtils to validate\nthe list actions.\nImplement the unit tests for the override_role_and_validate_list\nfunction and the ValidateListContext class.\n\nChange-Id: I5f39efc8aa0004d4ad435cbd6b8fb037c33832d6\n'}, {'number': 15, 'created': '2018-11-09 23:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/ef4ca5a5bb68d5389be2d31d7ac47e139a28d1c0', 'message': 'Test list actions\n\nAdd override_role_and_validate_list function to RbacUtils to validate\nthe list actions.\nImplement the unit tests for the override_role_and_validate_list\nfunction and the ValidateListContext class.\n\nChange-Id: I5f39efc8aa0004d4ad435cbd6b8fb037c33832d6\n'}, {'number': 16, 'created': '2018-11-10 03:58:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/01a9799ef96d25e53dbf4839374d13244734fcb0', 'message': 'Test list actions\n\nAdd override_role_and_validate_list function to RbacUtils to validate\nthe list actions.\nImplement the unit tests for the override_role_and_validate_list\nfunction and the ValidateListContext class.\n\nChange-Id: I5f39efc8aa0004d4ad435cbd6b8fb037c33832d6\n'}, {'number': 17, 'created': '2018-11-10 04:03:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/6e05b56e5aad5b9eff54b9e95f0140eee89bdfd8', 'message': 'Test list actions\n\nAdd override_role_and_validate_list function to RbacUtils to validate\nthe list actions.\nImplement the unit tests for the override_role_and_validate_list\nfunction and the ValidateListContext class.\n\nChange-Id: I5f39efc8aa0004d4ad435cbd6b8fb037c33832d6\n'}, {'number': 18, 'created': '2018-11-10 19:20:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/b7c58593bc697d24319c1948f00d16d1d0c074f2', 'message': 'Test list actions\n\nAdd override_role_and_validate_list function to RbacUtils to validate\nthe list actions.\nImplement the unit tests for the override_role_and_validate_list\nfunction and the ValidateListContext class.\n\nChange-Id: I5f39efc8aa0004d4ad435cbd6b8fb037c33832d6\n'}, {'number': 19, 'created': '2018-11-10 22:02:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/5791d27cd6fe498a23aad1be456cf37375d16343', 'message': 'Test list actions\n\nAdd override_role_and_validate_list function to RbacUtils to validate\nthe list actions.\nImplement the unit tests for the override_role_and_validate_list\nfunction and the ValidateListContext class.\n\nChange-Id: I5f39efc8aa0004d4ad435cbd6b8fb037c33832d6\n'}, {'number': 20, 'created': '2018-11-10 22:05:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/ae99e2b05a5fcf45597f8b18163d288ca78acf34', 'message': 'Test list actions\n\nAdd override_role_and_validate_list function to RbacUtils to validate\nthe list actions.\nImplement the unit tests for the override_role_and_validate_list\nfunction and the ValidateListContext class.\n\nChange-Id: I5f39efc8aa0004d4ad435cbd6b8fb037c33832d6\n'}, {'number': 21, 'created': '2018-11-12 14:18:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/714c9de6f4ded79362145da730123a1ffca434d6', 'message': ""Helper for validating RBAC list actions\n\nList RBAC actions typically perform soft authorization checks meaning\nthat the response bodies omit resources that the user isn't authorized\nto see.\nFor example, if an admin user creates a user, member role might not be\nable to see that user when listing all the users in a tenant,\ndepending on the RBAC rule.\nThis patch set adds override_role_and_validate_list function to\nRbacUtils to validate RBAC flows for API list actions.\n\nChange-Id: I5f39efc8aa0004d4ad435cbd6b8fb037c33832d6\n""}, {'number': 22, 'created': '2018-11-13 15:16:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/b285c10cc6dee024b93051f85c776a496e059278', 'message': ""Helper for validating RBAC list actions\n\nList RBAC actions typically perform soft authorization checks meaning\nthat the response bodies omit resources that the user isn't authorized\nto see.\nFor example, if an admin user creates a user, member role might not be\nable to see that user when listing all the users in a tenant,\ndepending on the RBAC rule.\nThis patch set adds override_role_and_validate_list function to\nRbacUtils to validate RBAC flows for API list actions.\n\nChange-Id: I5f39efc8aa0004d4ad435cbd6b8fb037c33832d6\n""}, {'number': 23, 'created': '2018-11-14 18:59:03.000000000', 'files': ['patrole_tempest_plugin/tests/unit/test_rbac_utils.py', 'patrole_tempest_plugin/rbac_utils.py', 'patrole_tempest_plugin/rbac_exceptions.py', 'releasenotes/notes/override-role-and-validate-list-d3b80f773674a652.yaml'], 'web_link': 'https://opendev.org/openstack/patrole/commit/bab9e9467ce8bba3ce001414221e72cae8267d9d', 'message': ""Helper for validating RBAC list actions\n\nList RBAC actions typically perform soft authorization checks meaning\nthat the response bodies omit resources that the user isn't authorized\nto see.\nFor example, if an admin user creates a user, member role might not be\nable to see that user when listing all the users in a tenant,\ndepending on the RBAC rule.\nThis patch set adds override_role_and_validate_list function to\nRbacUtils to validate RBAC flows for API list actions.\n\nChange-Id: I5f39efc8aa0004d4ad435cbd6b8fb037c33832d6\n""}]",89,608484,bab9e9467ce8bba3ce001414221e72cae8267d9d,86,16,23,8911,,,0,"Helper for validating RBAC list actions

List RBAC actions typically perform soft authorization checks meaning
that the response bodies omit resources that the user isn't authorized
to see.
For example, if an admin user creates a user, member role might not be
able to see that user when listing all the users in a tenant,
depending on the RBAC rule.
This patch set adds override_role_and_validate_list function to
RbacUtils to validate RBAC flows for API list actions.

Change-Id: I5f39efc8aa0004d4ad435cbd6b8fb037c33832d6
",git fetch https://review.opendev.org/openstack/patrole refs/changes/84/608484/16 && git format-patch -1 --stdout FETCH_HEAD,"['patrole_tempest_plugin/tests/api/network/test_routers_rbac.py', 'patrole_tempest_plugin/tests/api/network/test_subnetpools_rbac.py', 'patrole_tempest_plugin/tests/api/network/rbac_base.py']",3,a676be460bbf58a06f133701635e79edbd35ba32,generic-list,"from tempest.lib import exceptions as lib_exc def validate_list(self, resources_name, list_func, list_kwargs=None, create_func=None, create_kwargs=None): """"""Helper to test the list functions of Neutron API :param resources_name: Name of the resources. :param list_func: Function to get a list of the resources to which the tenant has access. :param list_kwargs: Filters for ``list_func``. :param create_func: Function to create a resource. Automatically adds the ID of a created resource to ``list_kwargs``. :param create_kwargs: Additional arguments for ``create_func``. :return: True if the result of list_func doesn't contain the resource created by create_func or number of resources in before override_role and after are different. """""" def check_id(resources, resource_id): for resource in resources: if resource['id'] == resource_id: return False return True def check_len(resources, old_len): return len(resources) != old_len list_kwargs = list_kwargs or {} if create_func is not None: create_kwargs = create_kwargs or {} validate_arg = create_func(**create_kwargs)['id'] validate_func = check_id list_kwargs['id'] = validate_arg else: validate_arg = len(list_func(**list_kwargs)[resources_name]) validate_func = check_len with self.rbac_utils.override_role(self): resources = list_func(**list_kwargs)[resources_name] if validate_func(resources, validate_arg): raise lib_exc.Forbidden() ",,69,0
openstack%2Fplacement~master~I7fbcdec784216198f70eba0cff97ee24f78ead29,openstack/placement,master,I7fbcdec784216198f70eba0cff97ee24f78ead29,Fix typo,MERGED,2018-11-28 09:21:06.000000000,2018-11-28 17:11:36.000000000,2018-11-28 17:11:36.000000000,"[{'_account_id': 11564}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-28 09:21:06.000000000', 'files': ['doc/source/contributor/quick-dev.rst'], 'web_link': 'https://opendev.org/openstack/placement/commit/e67d6f753ed84d39cf6389b9f37769d0b38f28c1', 'message': 'Fix typo\n\nChange-Id: I7fbcdec784216198f70eba0cff97ee24f78ead29\n'}]",0,620541,e67d6f753ed84d39cf6389b9f37769d0b38f28c1,6,2,1,25747,,,0,"Fix typo

Change-Id: I7fbcdec784216198f70eba0cff97ee24f78ead29
",git fetch https://review.opendev.org/openstack/placement refs/changes/41/620541/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/quick-dev.rst'],1,e67d6f753ed84d39cf6389b9f37769d0b38f28c1,, environment for the placement service. This isn't meant to be the, enviroment for the placement service. This isn't meant to be the,1,1
openstack%2Fneutron-tempest-plugin~master~I055b4053c795554deeaf167922de58ff49c96725,openstack/neutron-tempest-plugin,master,I055b4053c795554deeaf167922de58ff49c96725,call remove_router_extra_routes only when extra_routes is enabled,MERGED,2018-11-28 00:38:27.000000000,2018-11-28 17:05:44.000000000,2018-11-28 17:05:43.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 20751}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-28 00:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/3eeab32e621b90f90ca985059318b434c4b7e93d', 'message': ""call remove_router_extra_routes only when extra_routes is enabled\n\n - check if 'routes' is present in the router dict before calling\n   cleanup for extra_routes extension\n\nChange-Id: I055b4053c795554deeaf167922de58ff49c96725\n""}, {'number': 2, 'created': '2018-11-28 00:48:00.000000000', 'files': ['neutron_tempest_plugin/api/base.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/49819a7b034273a0959959f59989d563bc77236d', 'message': ""call remove_router_extra_routes only when extra_routes is enabled\n\n - check if 'routes' is present in the router dict before calling\n   cleanup for extra_routes extension\n\nCloses-Bug: #1805235\nChange-Id: I055b4053c795554deeaf167922de58ff49c96725\n""}]",0,620431,49819a7b034273a0959959f59989d563bc77236d,9,6,2,20751,,,0,"call remove_router_extra_routes only when extra_routes is enabled

 - check if 'routes' is present in the router dict before calling
   cleanup for extra_routes extension

Closes-Bug: #1805235
Change-Id: I055b4053c795554deeaf167922de58ff49c96725
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/31/620431/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/api/base.py'],1,3eeab32e621b90f90ca985059318b434c4b7e93d,bug/1805235, if 'routes' in router: client.remove_router_extra_routes(router['id']), client.remove_router_extra_routes(router['id']),2,1
openstack%2Ftacker~master~I7c85503bc20bf55903efe8955e23aefbae5450cc,openstack/tacker,master,I7c85503bc20bf55903efe8955e23aefbae5450cc,fixed error tacker wiki url,MERGED,2018-11-27 06:28:47.000000000,2018-11-28 17:05:44.000000000,2018-11-28 17:05:44.000000000,"[{'_account_id': 19644}, {'_account_id': 22348}, {'_account_id': 26222}, {'_account_id': 29339}, {'_account_id': 29383}]","[{'number': 1, 'created': '2018-11-27 06:28:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/87fb0446b07265f421efda0b5cba6f7595036cbf', 'message': 'fixed error tacker wiki url\n\ntacker wiki url is incorrect, fixed it.\n\nChange-Id: I7c85503bc20bf55903efe8955e23aefbae5450cc\n'}, {'number': 2, 'created': '2018-11-27 09:54:48.000000000', 'files': ['tacker/extensions/common_services.py', 'tacker/extensions/vnfm.py', 'tacker/extensions/nfvo.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/a80777ef01eb66de71d0d3ac81d1863545d49a60', 'message': 'fixed error tacker wiki url\n\ntacker wiki url is incorrect, fixed it.\n\nChange-Id: I7c85503bc20bf55903efe8955e23aefbae5450cc\n'}]",0,620221,a80777ef01eb66de71d0d3ac81d1863545d49a60,17,5,2,27181,,,0,"fixed error tacker wiki url

tacker wiki url is incorrect, fixed it.

Change-Id: I7c85503bc20bf55903efe8955e23aefbae5450cc
",git fetch https://review.opendev.org/openstack/tacker refs/changes/21/620221/2 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/extensions/common_services.py', 'tacker/extensions/vnfm.py', 'tacker/extensions/nfvo.py']",3,87fb0446b07265f421efda0b5cba6f7595036cbf,fixed_errot_tacker_wiki_url, return 'https://wiki.openstack.org/Tacker', return 'http://wiki.openstack.org/Tacker',3,3
openstack%2Fansible-role-redhat-subscription~master~I6448d2f7258c2b00b8617f8e12fd06b53d28dc83,openstack/ansible-role-redhat-subscription,master,I6448d2f7258c2b00b8617f8e12fd06b53d28dc83,Make it more explicit that rhsm_activation_key and rhsm_repos are exclusive,MERGED,2018-11-27 18:18:07.000000000,2018-11-28 17:03:45.000000000,2018-11-28 17:03:45.000000000,"[{'_account_id': 13039}, {'_account_id': 14985}, {'_account_id': 15184}, {'_account_id': 18851}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-27 18:18:07.000000000', 'files': ['tasks/main.yml', 'README.md'], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/6eae85cba8cf773d0ce3d981d98ecce04c876dcd', 'message': ""Make it more explicit that rhsm_activation_key and rhsm_repos are exclusive\n\nIf the operator is using an activation key, the repositories that are\nassociated to the subscription are configured in the Red Hat portal or in the\nlocal instance of Satellite if any.\nWe can't specify rhsm_repos parameter if you are using rhsm_activation_key.\nOtherwise, if you we rhsm_username and rhsm_password, we can use rhsm_repos\nto select which parameters are deployed.\n\nThis patch:\n- adds a debug message in the tasks/main when both options are defined.\n- documents this situation in the README.\n- adds 2 use cases in the README, one with Satellite and one with\n  Portal.\n\nChange-Id: I6448d2f7258c2b00b8617f8e12fd06b53d28dc83\n""}]",0,620380,6eae85cba8cf773d0ce3d981d98ecce04c876dcd,8,5,1,3153,,,0,"Make it more explicit that rhsm_activation_key and rhsm_repos are exclusive

If the operator is using an activation key, the repositories that are
associated to the subscription are configured in the Red Hat portal or in the
local instance of Satellite if any.
We can't specify rhsm_repos parameter if you are using rhsm_activation_key.
Otherwise, if you we rhsm_username and rhsm_password, we can use rhsm_repos
to select which parameters are deployed.

This patch:
- adds a debug message in the tasks/main when both options are defined.
- documents this situation in the README.
- adds 2 use cases in the README, one with Satellite and one with
  Portal.

Change-Id: I6448d2f7258c2b00b8617f8e12fd06b53d28dc83
",git fetch https://review.opendev.org/openstack/ansible-role-redhat-subscription refs/changes/80/620380/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'README.md']",2,6eae85cba8cf773d0ce3d981d98ecce04c876dcd,fix/rhsm," About repositories ------------------ If you are using an activation key, the repositories that are associated to the subscription are configured in the Red Hat portal or in your local instance of Satellite. You can't specify rhsm_repos parameter if you are using rhsm_activation_key. Otherwise, if you use rhsm_username and rhsm_password, you can use rhsm_repos to select which parameters are deployed. Example Playbook with Red Hat portal ------------------------------------ - rhel-7-server-rpms - rhel-ha-for-rhel-7-server-rpms roles: - openstack.redhat-subscription Example Playbook with Satellite 6 --------------------------------- :: - hosts: all vars: rhsm_activation_key: ""secrete_key"" rhsm_org_id: ""Default_Organization"" rhsm_server_hostname: ""mysatserver.com"" rhsm_baseurl: ""https://mysatserver.com/pulp/repos"" rhsm_method: satellite rhsm_insecure: yes",Example Playbook ---------------- - rhel-7-server-openstack-8-rpms,39,3
openstack%2Foperations-guide~master~I137724b249257d0ea75b229f9eb6e8c211aa1544,openstack/operations-guide,master,I137724b249257d0ea75b229f9eb6e8c211aa1544,Update Horizon Admin Guide URL,MERGED,2018-11-12 14:42:32.000000000,2018-11-28 16:46:44.000000000,2018-11-28 16:46:44.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28606}]","[{'number': 1, 'created': '2018-11-12 14:42:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/f3241a0c276569b36b26ad08ad84cd0558ad692f', 'message': 'Update Horizon Admin Guide URL\n\nThis patch updates the link for the Admin guide in the ""Lay of the\nLand"" section to point directly at the Horizon guide isntead of the\ntop level page with all the admin guides.\n\nChange-Id: I137724b249257d0ea75b229f9eb6e8c211aa1544\n'}, {'number': 2, 'created': '2018-11-27 16:02:42.000000000', 'files': ['doc/source/ops-lay-of-the-land.rst'], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/d5f7843301c425395e8e9274e4916172198e9456', 'message': 'Update Horizon Admin Guide URL\n\nThis patch updates the link for the Admin guide in the ""Lay of the\nLand"" section to point directly at the Horizon guide isntead of the\ntop level page with all the admin guides. Now with (hopefully)\nworking URL and fixed typo.\n\nChange-Id: I137724b249257d0ea75b229f9eb6e8c211aa1544\n'}]",2,617344,d5f7843301c425395e8e9274e4916172198e9456,11,3,2,10905,,,0,"Update Horizon Admin Guide URL

This patch updates the link for the Admin guide in the ""Lay of the
Land"" section to point directly at the Horizon guide isntead of the
top level page with all the admin guides. Now with (hopefully)
working URL and fixed typo.

Change-Id: I137724b249257d0ea75b229f9eb6e8c211aa1544
",git fetch https://review.opendev.org/openstack/operations-guide refs/changes/44/617344/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/ops-lay-of-the-land.rst'],1,f3241a0c276569b36b26ad08ad84cd0558ad692f,erik-horizon-url,end users can do. Refer to the Horizon Administraton Guide <https://docs.openstack.org/horizon/latest/admin/> for,end users can do. Refer to the `OpenStack Administrator Guide <https://docs.openstack.org/latest/admin/>`__ for,2,2
openstack%2Fosc-lib~master~I4aa1fadac7828aae7407dd535bed9ab72dce74c4,openstack/osc-lib,master,I4aa1fadac7828aae7407dd535bed9ab72dce74c4,Remove pypy job,MERGED,2018-11-12 13:47:04.000000000,2018-11-28 16:38:27.000000000,2018-11-28 16:38:27.000000000,"[{'_account_id': 2}, {'_account_id': 841}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-12 13:47:04.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/osc-lib/commit/83969521efa1e166333a835c5930febc7aa20c51', 'message': ""Remove pypy job\n\nWe're not supporting this any more\n\nChange-Id: I4aa1fadac7828aae7407dd535bed9ab72dce74c4\nSigned-off-by: Dean Troyer <dtroyer@gmail.com>\n""}]",0,617336,83969521efa1e166333a835c5930febc7aa20c51,8,4,1,970,,,0,"Remove pypy job

We're not supporting this any more

Change-Id: I4aa1fadac7828aae7407dd535bed9ab72dce74c4
Signed-off-by: Dean Troyer <dtroyer@gmail.com>
",git fetch https://review.opendev.org/openstack/osc-lib refs/changes/36/617336/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,83969521efa1e166333a835c5930febc7aa20c51,no-pypy,, - openstack-pypy-jobs-nonvoting,0,1
openstack%2Fkolla~master~Ie83a1e11adb0ae3f26318031eb5ba433f78d24cb,openstack/kolla,master,Ie83a1e11adb0ae3f26318031eb5ba433f78d24cb,Add a source puppet-tripleo image,ABANDONED,2018-11-23 14:11:59.000000000,2018-11-28 16:34:05.000000000,,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 9592}, {'_account_id': 13039}, {'_account_id': 14985}, {'_account_id': 19316}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-23 14:11:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d77d11c0b08815ba85332535fe9c76392bf00686', 'message': 'Add puppet-tripleo image\n\nThis is a base for the tripleoclient image, and it is also used by\nTripleO deployment steps, when configuring containers with puppet.\n\nThis allows to keep puppet-tripleo that pulls in the hole openstack\npuppet modules (and not only) world, out of the base container images,\neffectively reducing the containers images size for TripleO.\n\nRelated-Bug: #1804822\n\nChange-Id: Ie83a1e11adb0ae3f26318031eb5ba433f78d24cb\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2018-11-26 11:03:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/49407bd59a4d5ae37b278112318ec62184ba9496', 'message': 'Add a source puppet-tripleo image on top of base\n\nProvides a base for the tripleoclient image, and it is also used by\nTripleO deployment steps, when configuring containers with puppet.\n\nDo not build the tripleoclient on top of openstack-base, it pulls in\nthe hole world, that is not needed to just allow the tripleo client\nfunctioning. All of its real dependencies will be instead ensured\nvia the tripleo client package dependencies.\n\nSo the resulting build chain becomes:\n\n* base -> puppet-tripleo -> tripleoclient (nothing is dulplicated in\n  the layers)\n\ninstead of maintaining both as:\n\n* base -> puppet-tripleo\n* base -> openstack-base -> tripleoclient (duiplicates puppet-tripleo)\n\nThis also allows to keep puppet-tripleo that pulls in the hole\nopenstack puppet modules (and not only) world, out of the base\ncontainer images, effectively reducing the containers images size for\nTripleO.\n\nRelated-Bug: #1804822\n\nChange-Id: Ie83a1e11adb0ae3f26318031eb5ba433f78d24cb\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2018-11-27 12:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/99c9e00477e07f029b3e887a383a13666f1cff60', 'message': 'Add a source puppet-tripleo image\n\nIt is needed for TripleO deployment steps, when configuring\ncontainers with puppet.\n\nThis also allows to keep puppet-tripleo that pulls in the hole\nopenstack puppet modules (and puppet/ruby/systemd) worlds, out of the\nbase container images, effectively reducing the containers images size\nfor TripleO and CVEs to maintain for unrelated components that have\nnothing to TripleO not OpenStack, like ruby or systemd or puppet\nitself.\n\nRelated-Bug: #1804822\n\nChange-Id: Ie83a1e11adb0ae3f26318031eb5ba433f78d24cb\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2018-11-27 12:41:58.000000000', 'files': ['kolla/image/build.py', 'releasenotes/notes/add-puppet-tripleo-image-0fe1eefef5c4bf6b.yaml', 'docker/puppet-tripleo/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/f9e178477627f6f280bfe03785494b2e5a158c9a', 'message': 'Add a source puppet-tripleo image\n\nIt is needed for TripleO deployment steps, when configuring\ncontainers with puppet.\n\nThis also allows to keep puppet-tripleo that pulls in the hole\nopenstack puppet modules (and puppet/ruby/systemd) worlds, out of the\nbase container images, effectively reducing the containers images size\nfor TripleO and CVEs to maintain for unrelated components that have\nnothing to TripleO nor to OpenStack, like ruby or systemd or puppet\nitself.\n\nRelated-Bug: #1804822\n\nChange-Id: Ie83a1e11adb0ae3f26318031eb5ba433f78d24cb\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",10,619736,f9e178477627f6f280bfe03785494b2e5a158c9a,24,9,4,6926,,,0,"Add a source puppet-tripleo image

It is needed for TripleO deployment steps, when configuring
containers with puppet.

This also allows to keep puppet-tripleo that pulls in the hole
openstack puppet modules (and puppet/ruby/systemd) worlds, out of the
base container images, effectively reducing the containers images size
for TripleO and CVEs to maintain for unrelated components that have
nothing to TripleO nor to OpenStack, like ruby or systemd or puppet
itself.

Related-Bug: #1804822

Change-Id: Ie83a1e11adb0ae3f26318031eb5ba433f78d24cb
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/36/619736/1 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'releasenotes/notes/add-puppet-tripleo-image-0fe1eefef5c4bf6b.yaml', 'docker/puppet-tripleo/Dockerfile.j2', 'kolla/common/config.py']",4,d77d11c0b08815ba85332535fe9c76392bf00686,base-container-reduction," 'puppet-tripleo': { 'type': 'url', 'location': ('$tarballs_base/puppet-tripleo/' 'puppet-tripleo-master.tar.gz')},",,47,0
openstack%2Ftripleo-heat-templates~master~I88ff623ca4d712ae81769ad2d95af220fffb1682,openstack/tripleo-heat-templates,master,I88ff623ca4d712ae81769ad2d95af220fffb1682,Optimize config containers used for puppet steps,ABANDONED,2018-11-26 13:56:04.000000000,2018-11-28 16:33:57.000000000,,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 8042}, {'_account_id': 8833}, {'_account_id': 10873}, {'_account_id': 11090}, {'_account_id': 13039}, {'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-26 13:56:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/29790f71dc9b342d3452c1b4810ad688bd86232e', 'message': 'Optimize config containers used for puppet steps\n\nCurrently, we include puppet-tripleo into the base container image,\nwhich affects the size of all containers for all services. Then tht\nconfigures services with puppet via FooConfigImage images defaulting\nto their main service images.\n\nKeeping the puppet bits in the service images adds approximately 16MB\nto the base layer. We use like a 101 images for a typical deployment,\nhaving a 146 of total images. For edge scenarios, where there are\npotentially (tens of) thousands nodes distributed over high latency\nand limited bandwidth WAN networks, that poses a problem.\n\nTo improve that, use a single DockerPuppetTripleoImage image,\nwhich contains puppet-tripleo with its dependencies, to configure\ncontainerized services via puppet* deployment steps. That image may\nstill be overriden via customizable FooConfigImage, so that keeps this\nchange a backwards compatible.\n\nCloses-Bug: #1804822\nDepends-On: https://review.openstack.org/619744\n\nChange-Id: I88ff623ca4d712ae81769ad2d95af220fffb1682\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2018-11-26 14:45:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8eecc3c0ccd1a9abfc0daac580f5e922b32743a3', 'message': 'Optimize config containers used for puppet steps\n\nCurrently, we include puppet-tripleo into the base container image,\nwhich affects the size of all containers for all services. Then tht\nconfigures services with puppet via FooConfigImage images defaulting\nto their main service images.\n\nKeeping the puppet bits in the service images adds approximately 16MB\nto the base layer. We use like a 101 images for a typical deployment,\nhaving a 146 of total images. For edge scenarios, where there are\npotentially (tens of) thousands nodes distributed over high latency\nand limited bandwidth WAN networks, that poses a problem.\n\nTo improve that, use a single DockerPuppetTripleoImage image,\nwhich contains puppet-tripleo with its dependencies, to configure\ncontainerized services via puppet* deployment steps. That image may\nstill be overriden via customizable FooConfigImage, so that keeps this\nchange a backwards compatible.\n\nCo-Authored-By: Thomas Hervé <therve@redhat.com>\nCloses-Bug: #1804822\nDepends-On: https://review.openstack.org/619744\n\nChange-Id: I88ff623ca4d712ae81769ad2d95af220fffb1682\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2018-11-26 14:55:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d8b44dd2765a5786112c33d71d32c65944291841', 'message': 'Optimize config containers used for puppet steps\n\nCurrently, we include puppet-tripleo into the base container image,\nwhich affects the size of all containers for all services. Then tht\nconfigures services with puppet via FooConfigImage images defaulting\nto their main service images.\n\nKeeping the puppet bits in the service images adds approximately 16MB\nto the base layer. We use like a 101 images for a typical deployment,\nhaving a 146 of total images. For edge scenarios, where there are\npotentially (tens of) thousands nodes distributed over high latency\nand limited bandwidth WAN networks, that poses a problem.\n\nTo improve that, use a single DockerPuppetTripleoImage image,\nwhich contains puppet-tripleo with its dependencies, to configure\ncontainerized services via puppet* deployment steps. That image may\nstill be overriden via customizable FooConfigImage, so that keeps this\nchange a backwards compatible.\n\nCo-Authored-By: Thomas Hervé <therve@redhat.com>\nCloses-Bug: #1804822\nDepends-On: https://review.openstack.org/619744\n\nChange-Id: I88ff623ca4d712ae81769ad2d95af220fffb1682\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2018-11-27 14:26:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2804c8c3d3c5e075c722f31190c0cd9043af62d3', 'message': 'Optimize config containers used for puppet steps\n\nCurrently, we include puppet-tripleo and its dependencies, like puppet,\nwhich also pulls in ruby, systemd and more of it into the base container image.\nFirstly, that affects the size of the base layer and number of packages to\nupdate in CI for all containers for all services. And secondly,\nintroduces more subjects for potential CVEs fixes and attack vectors\nfor all containers.\n\nTo improve that, consume puppet et al bits from a side car container\ncreated from the given DockerPuppetTripleoImage image.\n\nCo-Authored-By: Thomas Hervé <therve@redhat.com>\nCloses-Bug: #1804822\nDepends-On: https://review.openstack.org/619744\n\nChange-Id: I88ff623ca4d712ae81769ad2d95af220fffb1682\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 5, 'created': '2018-11-28 11:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6eafb59b79638753c354dae94b6719ee3ae6e77e', 'message': 'Optimize config containers used for puppet steps\n\nCurrently, we include puppet-tripleo and its dependencies, like puppet,\n  which also pulls in ruby, systemd and more of it into the base\n  container image.\n\nThat self-containing architecture of containers badly affects:\n\n* the size of the base layer and all containers images as an\n  additional 300MB (adds an extra 30% of size).\n* Edge cases, where we have containers images to be distributed, at\n  least once to hit local registries, over high-latency and limited\n  bandwith, highly unreliable WAN connections.\n* numbers of packages to update in CI for all containers for all\n  services (CI jobs do not rebuild containers so each container gets\n  updated for those 300MB of extra size).\n* security and the surface of attacks, by introducing systemd et al as\n  additional subjects for CVE fixes to maintain for all containers.\n* services uptime, by additional restarts of services related to\n  security maintanence of irrelevant to openstack components sitting\n  as a dead weight in containers images for ever.\n\nTo improve that, consume puppet et al bits from a side car container\ncreated from the given DockerPuppetTripleoImage image. That effectively\n""merges"" runtime the individual services config containers and puppet\nbinaries/ manifests, introducing a Virtual Configuration Management Pod\nabstraction.\n\nTechnically we could instead use native podman pods for that, but\ncurrently let\'s stick to --volumes-from as we potentially may want to\nhave it backported for long time releases for better supporting of Edge\nscenarios, like Distributed Compute Node (DCN).\n\nAlternatively, we could do that ""merging"" build-time, in layers, by\nsplitting the config- vs runtime- services container images. But that\nwould buy nothing neither for the end size (it only would become more\nimages to fetch), nor security (more images to maintain and config\nimages would still have to be patched for unrelated, like systemd,\nthings) of images.\n\nCo-Authored-By: Thomas Hervé <therve@redhat.com>\nPartial-Bug: #1804822\nDepends-On: https://review.openstack.org/620061\n\nChange-Id: I88ff623ca4d712ae81769ad2d95af220fffb1682\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 6, 'created': '2018-11-28 11:33:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/09a55b37792ad2b3b9500d6edd47d291deae0c9c', 'message': 'Optimize config containers used for puppet steps\n\nCurrently, we include puppet-tripleo and its dependencies, like puppet,\n  which also pulls in ruby, systemd and more of it into the base\n  container image.\n\nThat self-containing architecture of containers badly affects:\n\n* the size of the base layer and all containers images as an\n  additional 300MB (adds an extra 30% of size).\n* Edge cases, where we have containers images to be distributed, at\n  least once to hit local registries, over high-latency and limited\n  bandwith, highly unreliable WAN connections.\n* numbers of packages to update in CI for all containers for all\n  services (CI jobs do not rebuild containers so each container gets\n  updated for those 300MB of extra size).\n* security and the surface of attacks, by introducing systemd et al as\n  additional subjects for CVE fixes to maintain for all containers.\n* services uptime, by additional restarts of services related to\n  security maintanence of irrelevant to openstack components sitting\n  as a dead weight in containers images for ever.\n\nTo improve that, consume puppet et al bits from a side car container\ncreated from the given DockerPuppetTripleoImage image. That effectively\n""merges"" runtime the individual services config containers and puppet\nbinaries/ manifests, introducing a Virtual Configuration Management Pod\nabstraction.\n\nTechnically we could instead use native podman pods for that, but\ncurrently let\'s stick to --volumes-from as we potentially may want to\nhave it backported for long time releases for better supporting of Edge\nscenarios, like Distributed Compute Node (DCN).\n\nAlternatively, we could do that ""merging"" build-time, in layers, by\nsplitting the config- vs runtime- services container images. But that\nwould buy nothing neither for the end size (it only would become more\nimages to fetch), nor security (more images to maintain and config\nimages would still have to be patched for unrelated, like systemd,\nthings) of images.\n\nCo-Authored-By: Thomas Hervé <therve@redhat.com>\nPartial-Bug: #1804822\nDepends-On: https://review.openstack.org/620310\n\nChange-Id: I88ff623ca4d712ae81769ad2d95af220fffb1682\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 7, 'created': '2018-11-28 11:33:51.000000000', 'files': ['common/deploy-steps.j2', 'common/deploy-steps-tasks.yaml', 'docker/docker-puppet.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4b3da13dbef607623687ea836f713466faa4c38c', 'message': 'Optimize config containers used for puppet steps\n\nCurrently, we include puppet-tripleo and its dependencies, like puppet,\n  which also pulls in ruby, systemd and more of it into the base\n  container image.\n\nThat self-containing architecture of containers badly affects:\n\n* the size of the base layer and all containers images as an\n  additional 300MB (adds an extra 30% of size).\n* Edge cases, where we have containers images to be distributed, at\n  least once to hit local registries, over high-latency and limited\n  bandwith, highly unreliable WAN connections.\n* numbers of packages to update in CI for all containers for all\n  services (CI jobs do not rebuild containers so each container gets\n  updated for those 300MB of extra size).\n* security and the surface of attacks, by introducing systemd et al as\n  additional subjects for CVE fixes to maintain for all containers.\n* services uptime, by additional restarts of services related to\n  security maintanence of irrelevant to openstack components sitting\n  as a dead weight in containers images for ever.\n\nTo improve that, consume puppet et al bits from a side car container\ncreated from the given DockerPuppetTripleoImage image. That effectively\n""merges"" runtime the individual services config containers and puppet\nbinaries/ manifests, introducing a Virtual Configuration Management Pod\nabstraction.\n\nTechnically we could instead use native podman pods for that, but\ncurrently let\'s stick to --volumes-from as we potentially may want to\nhave it backported for long time releases for better supporting of Edge\nscenarios, like Distributed Compute Node (DCN).\n\nAlternatively, we could do that ""merging"" build-time, in layers, by\nsplitting the config- vs runtime- services container images. But that\nwould buy nothing neither for the end size (it only would become more\nimages to fetch), nor security (more images to maintain and config\nimages would still have to be patched for unrelated, like systemd,\nthings) of images.\n\nCo-Authored-By: Thomas Hervé <therve@redhat.com>\nPartial-Bug: #1804822\nDepends-On: https://review.openstack.org/619744\n\nChange-Id: I88ff623ca4d712ae81769ad2d95af220fffb1682\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",11,620061,4b3da13dbef607623687ea836f713466faa4c38c,36,12,7,6926,,,0,"Optimize config containers used for puppet steps

Currently, we include puppet-tripleo and its dependencies, like puppet,
  which also pulls in ruby, systemd and more of it into the base
  container image.

That self-containing architecture of containers badly affects:

* the size of the base layer and all containers images as an
  additional 300MB (adds an extra 30% of size).
* Edge cases, where we have containers images to be distributed, at
  least once to hit local registries, over high-latency and limited
  bandwith, highly unreliable WAN connections.
* numbers of packages to update in CI for all containers for all
  services (CI jobs do not rebuild containers so each container gets
  updated for those 300MB of extra size).
* security and the surface of attacks, by introducing systemd et al as
  additional subjects for CVE fixes to maintain for all containers.
* services uptime, by additional restarts of services related to
  security maintanence of irrelevant to openstack components sitting
  as a dead weight in containers images for ever.

To improve that, consume puppet et al bits from a side car container
created from the given DockerPuppetTripleoImage image. That effectively
""merges"" runtime the individual services config containers and puppet
binaries/ manifests, introducing a Virtual Configuration Management Pod
abstraction.

Technically we could instead use native podman pods for that, but
currently let's stick to --volumes-from as we potentially may want to
have it backported for long time releases for better supporting of Edge
scenarios, like Distributed Compute Node (DCN).

Alternatively, we could do that ""merging"" build-time, in layers, by
splitting the config- vs runtime- services container images. But that
would buy nothing neither for the end size (it only would become more
images to fetch), nor security (more images to maintain and config
images would still have to be patched for unrelated, like systemd,
things) of images.

Co-Authored-By: Thomas Hervé <therve@redhat.com>
Partial-Bug: #1804822
Depends-On: https://review.openstack.org/619744

Change-Id: I88ff623ca4d712ae81769ad2d95af220fffb1682
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/61/620061/7 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/gnocchi-metricd.yaml', 'docker/services/qdrouterd.yaml', 'docker/services/aodh-api.yaml', 'docker/services/barbican-api.yaml', 'docker/services/designate-central.yaml', 'docker/services/database/mongodb.yaml', 'docker/services/octavia-housekeeping.yaml', 'docker/services/nova-libvirt.yaml', 'docker/services/metrics/qdr.yaml', 'docker/services/pacemaker/notify-rabbitmq.yaml', 'docker/services/ironic-pxe.yaml', 'docker/services/mistral-api.yaml', 'docker/services/tacker.yaml', 'docker/services/iscsid.yaml', 'docker/services/cinder-volume.yaml', 'docker/services/designate-worker.yaml', 'docker/services/neutron-plugin-ml2-ansible.yaml', 'docker/services/sensu-client.yaml', 'docker/services/ovn-controller.yaml', 'docker/services/pacemaker/rabbitmq.yaml', 'docker/services/database/mysql.yaml', 'docker/services/neutron-l2gw-api.yaml', 'docker/services/pacemaker/cinder-backup.yaml', 'docker/services/heat-engine.yaml', 'docker/services/manila-share.yaml', 'docker/services/manila-scheduler.yaml', 'docker/services/cinder-api.yaml', 'docker/services/etcd.yaml', 'docker/services/swift-storage.yaml', 'docker/services/messaging/rpc-rabbitmq.yaml', 'docker/services/tripleo-ui.yaml', 'docker/services/nova-consoleauth.yaml', 'docker/services/nova-conductor.yaml', 'docker/services/neutron-l3.yaml', 'docker/services/neutron-sfc-api.yaml', 'docker/services/nova-migration-target.yaml', 'docker/services/nova-vnc-proxy.yaml', 'docker/services/pacemaker/cinder-volume.yaml', 'docker/services/mistral-executor.yaml', 'docker/services/nova-metadata.yaml', 'docker/services/octavia-worker.yaml', 'docker/services/messaging/notify-rabbitmq.yaml', 'docker/services/zaqar.yaml', 'docker/services/ceilometer-agent-ipmi.yaml', 'docker/services/pacemaker/rpc-rabbitmq.yaml', 'docker/services/heat-api-cfn.yaml', 'docker/services/tempest.yaml', 'docker/services/glance-api.yaml', 'docker/services/rabbitmq.yaml', 'docker/services/ceilometer-agent-notification.yaml', 'docker/services/metrics/collectd.yaml', 'docker/services/horizon.yaml', 'docker/services/octavia-api.yaml', 'docker/services/ironic-inspector.yaml', 'docker/services/nova-api.yaml', 'docker/services/memcached.yaml', 'docker/services/pacemaker/ovn-dbs.yaml', 'docker/services/heat-api.yaml', 'docker/services/pacemaker/database/mysql.yaml', 'docker/services/ironic-conductor.yaml', 'docker/services/ovn-metadata.yaml', 'docker/services/ec2-api.yaml', 'docker/services/cinder-scheduler.yaml', 'docker/services/gnocchi-api.yaml', 'docker/services/pacemaker/haproxy.yaml', 'docker/services/nova-scheduler.yaml', 'docker/services/sahara-api.yaml', 'docker/services/novajoin.yaml', 'docker/services/logrotate-crond.yaml', 'docker/services/nova-placement.yaml', 'docker/services/pacemaker/database/redis.yaml', 'docker/services/congress.yaml', 'docker/services/neutron-sriov-agent.yaml', 'docker/services/octavia-health-manager.yaml', 'docker/services/haproxy.yaml', 'docker/services/rsyslog-sidecar.yaml', 'docker/services/panko-api.yaml', 'docker/services/neutron-plugin-ml2-cisco-vts.yaml', 'docker/services/nova-ironic.yaml', 'docker/services/neutron-lbaas-api.yaml', 'docker/services/opendaylight-api.yaml', 'docker/services/gnocchi-statsd.yaml', 'docker/services/ceilometer-agent-central.yaml', 'docker/services/designate-api.yaml', 'docker/services/mistral-event-engine.yaml', 'docker/services/database/redis.yaml', 'docker/services/designate-sink.yaml', 'docker/services/neutron-dhcp.yaml', 'docker/services/pacemaker/manila-share.yaml', 'docker/services/manila-api.yaml', 'docker/services/neutron-plugin-ml2.yaml', 'docker/services/designate-mdns.yaml', 'docker/services/liquidio-compute-config.yaml', 'docker/services/multipathd.yaml', 'docker/services/pacemaker/clustercheck.yaml', 'docker/services/neutron-ovs-dpdk-agent.yaml', 'docker/services/ceilometer-agent-compute.yaml', 'docker/services/aodh-listener.yaml', 'docker/services/designate-producer.yaml', 'docker/services/neutron-api.yaml', 'docker/services/neutron-ovs-agent.yaml', 'docker/services/cinder-backup.yaml', 'docker/services/ironic-neutron-agent.yaml', 'docker/services/aodh-notifier.yaml', 'docker/services/ironic-api.yaml', 'docker/services/keystone.yaml', 'docker/services/aodh-evaluator.yaml', 'docker/services/swift-ringbuilder.yaml', 'docker/services/keepalived.yaml', 'docker/services/messaging/rpc-qdrouterd.yaml', 'docker/services/fluentd.yaml', 'docker/services/neutron-metadata.yaml', 'docker/services/sahara-engine.yaml', 'docker/services/swift-proxy.yaml', 'docker/services/mistral-engine.yaml', 'docker/services/neutron-bgpvpn-api.yaml', 'docker/services/nova-compute.yaml']",117,29790f71dc9b342d3452c1b4810ad688bd86232e,base-container-reduction," DockerPuppetTripleoImage: description: The default container image used for puppet config steps type: string DockerNovaLibvirtConfigImage: default: '' config_image_unset: {equals : [{get_param: DockerNovaLibvirtConfigImage}, '']} config_image: if: - config_image_unset - {get_param: DockerPuppetTripleoImage} - {get_param: DockerNovaLibvirtConfigImage}", DockerNovaLibvirtConfigImage: config_image: {get_param: DockerNovaLibvirtConfigImage},1309,118
openstack%2Ftripleo-common~master~I460f8e4ca36791d526d559c87653135717f6f4ec,openstack/tripleo-common,master,I460f8e4ca36791d526d559c87653135717f6f4ec,Optimize base and upper layer for containers,ABANDONED,2018-11-27 13:02:37.000000000,2018-11-28 16:33:42.000000000,,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8042}, {'_account_id': 10873}, {'_account_id': 13039}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 27898}, {'_account_id': 28223}]","[{'number': 1, 'created': '2018-11-27 13:02:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1ebf0848b1b9a9b664cee295701fcf118289e4f1', 'message': 'Remove puppet et al bits from the base image layer\n\nDo not add puppet and modules for it into the base layer and end images\nfor containerized openstack services. That reduces the size of images\nand CVEs to maintain for unrelated components, like puppet itself, and\nits ruby and systemd dependencies.\n\nChange-Id: I460f8e4ca36791d526d559c87653135717f6f4ec\nDepends-On: https://review.openstack.org/620061\nCloses-Bug: #1804822\n'}, {'number': 2, 'created': '2018-11-28 10:54:57.000000000', 'files': ['container-images/tripleo_kolla_template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/783a08b726e16fcb3751845b6e3927759e7d43ce', 'message': 'Optimize base and upper layer for containers\n\n* Do not add puppet et al bits into the base image layer.\n* Remove packages dependencies systemd/systemd-libs/dbus from all\n  containers via Kolla footers, unless it will be fixed at the\n  packaging level.\n\nThat reduces the size of the base layer and end images a lot\n(more than 280MB), and also improves security as it cuts off\nfuture maintenance for unrelated components.\n\nWe have to keep ruby yet in the base layer, for side-car config\ncontainers working alongside config images in t-h-t (see the\ndependency change for details).\n\nAlternatively, we could split config vs runtime services container images,\nbut that would buy nothing neither for the end size (it only would\nbecome more things to fetch), nor security (config images would still\nhave to be patched for unrelated, like systemd, things) of images.\n\nChange-Id: I460f8e4ca36791d526d559c87653135717f6f4ec\nDepends-On: https://review.openstack.org/620061\nCloses-Bug: #1804822\n'}]",1,620310,783a08b726e16fcb3751845b6e3927759e7d43ce,14,13,2,6926,,,0,"Optimize base and upper layer for containers

* Do not add puppet et al bits into the base image layer.
* Remove packages dependencies systemd/systemd-libs/dbus from all
  containers via Kolla footers, unless it will be fixed at the
  packaging level.

That reduces the size of the base layer and end images a lot
(more than 280MB), and also improves security as it cuts off
future maintenance for unrelated components.

We have to keep ruby yet in the base layer, for side-car config
containers working alongside config images in t-h-t (see the
dependency change for details).

Alternatively, we could split config vs runtime services container images,
but that would buy nothing neither for the end size (it only would
become more things to fetch), nor security (config images would still
have to be patched for unrelated, like systemd, things) of images.

Change-Id: I460f8e4ca36791d526d559c87653135717f6f4ec
Depends-On: https://review.openstack.org/620061
Closes-Bug: #1804822
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/10/620310/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_kolla_template_overrides.j2'],1,1ebf0848b1b9a9b664cee295701fcf118289e4f1,base-container-reduction,"# This installs requirements generic requirements, like rsync for docker-puppet.py # to move the generated config to /var/lib/config-data# NOTE: puppet and modules for it, should not be present in end images due to # the images size and security considerations {% set base_centos_binary_packages_append = ['openstack-tripleo-common-container-base', 'rsync', 'cronie', 'crudini'] %}","# This installs the puppet dependency in the base container and includes helper scripts # Rsync is required for docker-puppet.py to move the generated config to /var/lib/config-data{% set base_centos_binary_packages_append = ['openstack-tripleo-common-container-base', 'rsync', 'cronie', 'crudini', 'puppet-tripleo'] %}",5,3
openstack%2Ftripleo-common~master~If7b106cd757378ec7a71778eef5b3a8199dbc77a,openstack/tripleo-common,master,If7b106cd757378ec7a71778eef5b3a8199dbc77a,Add puppet-tripleo container,ABANDONED,2018-11-23 14:55:33.000000000,2018-11-28 16:33:37.000000000,,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8042}, {'_account_id': 13039}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 28223}]","[{'number': 1, 'created': '2018-11-23 14:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/433e3995e40fb0fd77a525f0f6f88797a59a1425', 'message': ""Add puppet-tripleo container\n\nWe'd like to use this container as a base for the tripleoclient\ncontainer and as a side car container for deployment steps configuring\nservices with puppet.\n\nThe t-h-t service for puppet-tripleo will likely be a noop so that\nwe can simply use the existing 'overcloud container image prepare'\ncommands to obtain this new container. It is also consumed as a\ndependency container for the same purpose nooped t-h-t service for\nTripleoclient.\n\nRelated: blueprint zero-footprint\nRelated-Bug: #1804822\n\nChange-Id: If7b106cd757378ec7a71778eef5b3a8199dbc77a\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 2, 'created': '2018-11-23 15:22:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2e3fb099e856f5b9f7618c265d2fbd0a8f14cfe3', 'message': ""Add puppet-tripleo container\n\nWe'd like to use this container as a base for the tripleoclient\ncontainer and as a side car container for deployment steps configuring\nservices with puppet.\n\nThe t-h-t service for puppet-tripleo will likely be a noop so that\nwe can simply use the existing 'overcloud container image prepare'\ncommands to obtain this new container. It is also consumed as a\ndependency container for the same purpose nooped t-h-t service for\nTripleoclient.\n\nRelated: blueprint zero-footprint\nRelated-Bug: #1804822\n\nChange-Id: If7b106cd757378ec7a71778eef5b3a8199dbc77a\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 3, 'created': '2018-11-26 11:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b6b9359324a9f3efdc2b9de035c55ef57340521b', 'message': ""Add puppet-tripleo container as a ConfigImage\n\nDefine DockerPuppetTripleoImage as a common for all services\nconfig image. Allow FooConfigImage params to be customized by\nusers instead of autogenerating it. That maintains the customizable\nFooConfigImage interface as a backwards compatible.\n\nThe t-h-t service for puppet-tripleo will likely be a noop so that\nwe can simply use the existing 'overcloud container image prepare'\ncommands to obtain this new container. It is also consumed as a\ndependency container for the Tripleoclient service.\n\nRelated: blueprint zero-footprint\nRelated-Bug: #1804822\n\nChange-Id: If7b106cd757378ec7a71778eef5b3a8199dbc77a\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 4, 'created': '2018-11-26 14:54:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3b1a7e7c45ad7bf99d5f4720e4fce746f9803da1', 'message': ""Add puppet-tripleo container as a ConfigImage\n\nDefine DockerPuppetTripleoImage as a common for all services\nconfig image. Allow FooConfigImage params to be customized by\nusers instead of autogenerating it. That maintains the customizable\nFooConfigImage interface as a backwards compatible.\n\nThe t-h-t service for puppet-tripleo will likely be a noop so that\nwe can simply use the existing 'overcloud container image prepare'\ncommands to obtain this new container. It is also consumed as a\ndependency container for the Tripleoclient service.\n\nRelated: blueprint zero-footprint\nRelated-Bug: #1804822\n\nDepends-On: https://review.openstack.org/620081\nChange-Id: If7b106cd757378ec7a71778eef5b3a8199dbc77a\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 5, 'created': '2018-11-27 12:36:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8520c19ef2647c44836631306ed938752c7ce101', 'message': ""Add puppet-tripleo container\n\nDefine DockerPuppetTripleoImage to be used as a side car source\ncontainer containing puppet bits to be used alongside the services\nconfig images, when configuring services in t-h-t deployment steps.\n\nThe t-h-t service for puppet-tripleo will likely be a noop so that\nwe can simply use the existing 'overcloud container image prepare'\ncommands to obtain this new container.\n\nRelated-Bug: #1804822\n\nChange-Id: If7b106cd757378ec7a71778eef5b3a8199dbc77a\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 6, 'created': '2018-11-27 12:46:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5a227f83b0542fc2862d740e4b7ecf064cf8e1d1', 'message': ""Add puppet-tripleo container\n\nDefine DockerPuppetTripleoImage to be used as a side car source\ncontainer with all puppet bits to be used alongside the services\nconfig images, when configuring services in t-h-t deployment steps.\n\nThe t-h-t service for puppet-tripleo will likely be a noop so that\nwe can simply use the existing 'overcloud container image prepare'\ncommands to obtain this new container.\n\nRelated-Bug: #1804822\n\nChange-Id: If7b106cd757378ec7a71778eef5b3a8199dbc77a\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 7, 'created': '2018-11-27 13:02:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c73ca6a0d03dde691a7a48d91edc1fb8cdd31351', 'message': ""Add puppet-tripleo container\n\nDefine DockerPuppetTripleoImage to be used as a side car source\ncontainer with all puppet bits to be used alongside the services\nconfig images, when configuring services in t-h-t deployment steps.\n\nThe t-h-t service for puppet-tripleo will likely be a noop so that\nwe can simply use the existing 'overcloud container image prepare'\ncommands to obtain this new container.\n\nRelated-Bug: #1804822\n\nChange-Id: If7b106cd757378ec7a71778eef5b3a8199dbc77a\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 8, 'created': '2018-11-28 10:54:57.000000000', 'files': ['container-images/overcloud_containers.yaml', 'container-images/tripleo_kolla_template_overrides.j2', 'container-images/overcloud_containers.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e9c5f9c3340e85cd8135c74cf7c0f70051bdb9f8', 'message': ""Add puppet-tripleo container\n\nDefine DockerPuppetTripleoImage to be used as a side car source\ncontainer with all puppet bits to be used alongside the services\nconfig images, when configuring services in t-h-t deployment steps.\n\nThe t-h-t service for puppet-tripleo will likely be a noop so that\nwe can simply use the existing 'overcloud container image prepare'\ncommands to obtain this new container.\n\nAdditionally, remove systemd/systemd-libs/dbus installed via RPM\ndependencies of puppet as we do not want to maintain it and it is not\nneeded for containers. That is due to security and size of end images\nreasons.\n\nRelated-Bug: #1804822\n\nChange-Id: If7b106cd757378ec7a71778eef5b3a8199dbc77a\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}]",1,619744,e9c5f9c3340e85cd8135c74cf7c0f70051bdb9f8,33,12,8,6926,,,0,"Add puppet-tripleo container

Define DockerPuppetTripleoImage to be used as a side car source
container with all puppet bits to be used alongside the services
config images, when configuring services in t-h-t deployment steps.

The t-h-t service for puppet-tripleo will likely be a noop so that
we can simply use the existing 'overcloud container image prepare'
commands to obtain this new container.

Additionally, remove systemd/systemd-libs/dbus installed via RPM
dependencies of puppet as we do not want to maintain it and it is not
needed for containers. That is due to security and size of end images
reasons.

Related-Bug: #1804822

Change-Id: If7b106cd757378ec7a71778eef5b3a8199dbc77a
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/44/619744/8 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/overcloud_containers.yaml', 'container-images/overcloud_containers.yaml.j2']",2,433e3995e40fb0fd77a525f0f6f88797a59a1425,base-container-reduction,"# NOTE: the PuppetTripleo service will likely be just a stub to allow # us to obtain the wanted puppet bits via the prepare commands. - imagename: ""{{namespace}}/{{name_prefix}}puppet-tripleo{{name_suffix}}:{{tag}}"" params: - DockerPuppetTripleoImage services: - OS::TripleO::Services::PuppetTripleo - OS::TripleO::Services::TripleoClient # us to obtain this container (and puppet bits) via the prepare commands.",# us to obtain this container via the prepare commands.,12,1
openstack%2Fcinder~master~I7775eb4b563b1cfa15e5392aefc93ec065d44130,openstack/cinder,master,I7775eb4b563b1cfa15e5392aefc93ec065d44130,Imported Translations from Zanata,MERGED,2018-11-15 07:44:03.000000000,2018-11-28 16:31:57.000000000,2018-11-15 09:37:25.000000000,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-11-15 07:44:03.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/cinder/commit/92f6ac2165b8ade67722e20c590d0acd9e840bd0', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I7775eb4b563b1cfa15e5392aefc93ec065d44130\n'}]",0,618094,92f6ac2165b8ade67722e20c590d0acd9e840bd0,31,27,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I7775eb4b563b1cfa15e5392aefc93ec065d44130
",git fetch https://review.opendev.org/openstack/cinder refs/changes/94/618094/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,92f6ac2165b8ade67722e20c590d0acd9e840bd0,zanata/translations,"""POT-Creation-Date: 2018-11-13 20:36+0000\n""""PO-Revision-Date: 2018-11-14 05:34+0000\n""msgid ""13.0.0.0rc1-242"" msgstr ""13.0.0.0rc1-242""","""POT-Creation-Date: 2018-11-06 15:55+0000\n""""PO-Revision-Date: 2018-11-07 06:07+0000\n""msgid ""13.0.0.0rc1-237"" msgstr ""13.0.0.0rc1-237""",4,4
openstack%2Fansible-role-redhat-subscription~master~I180eb65a01832da76d5c433d9b13f8e410e24d04,openstack/ansible-role-redhat-subscription,master,I180eb65a01832da76d5c433d9b13f8e410e24d04,sat6: pull & deploy katello certs,MERGED,2018-11-26 22:51:22.000000000,2018-11-28 16:30:28.000000000,2018-11-28 16:30:28.000000000,"[{'_account_id': 14985}, {'_account_id': 17904}, {'_account_id': 18851}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-26 22:51:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/a381e565d62ace696f9550f270afa65210875853', 'message': 'sat6: pull & deploy katello certs\n\nFor a node to communicate correctly with Katello, it needs the right SSL\ncertificates in place, and facts configured in RHSM.\n\nIt is provided by katello-ca-consumer-latest.noarch.rpm with\nkatello-rhsm-consumer script.\n\nThis patch installs the rpm and runs the script.\n\nChange-Id: I180eb65a01832da76d5c433d9b13f8e410e24d04\nCloses-Bug: #1805249\n'}, {'number': 2, 'created': '2018-11-26 23:08:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/e2383e065035435632fcd5e26be43d8a7fab56c4', 'message': 'sat6: pull & deploy katello certs\n\nFor a node to communicate correctly with Katello, it needs the right SSL\ncertificates in place, and facts configured in RHSM.\n\nIt is provided by katello-ca-consumer-latest.noarch.rpm with\nkatello-rhsm-consumer script.\n\nThis patch installs the rpm and runs the script.\n\nChange-Id: I180eb65a01832da76d5c433d9b13f8e410e24d04\nCloses-Bug: #1805249\n'}, {'number': 3, 'created': '2018-11-27 17:00:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/8e53bfe194a2706342c1a590dbda293516e26184', 'message': 'sat6: pull & deploy katello certs\n\nFor a node to communicate correctly with Katello, it needs the right SSL\ncertificates in place, and facts configured in RHSM.\n\nIt is provided by katello-ca-consumer-latest.noarch.rpm with\nkatello-rhsm-consumer script.\n\nThis patch installs the rpm and runs the script.\n\nChange-Id: I180eb65a01832da76d5c433d9b13f8e410e24d04\nCloses-Bug: #1805249\n'}, {'number': 4, 'created': '2018-11-27 18:41:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/11ac154048ee9446c017979e6032e7b30ecbfb56', 'message': 'sat6: pull & deploy katello certs\n\nFor a node to communicate correctly with Katello, it needs the right SSL\ncertificates in place, and facts configured in RHSM.\n\nIt is provided by katello-ca-consumer-latest.noarch.rpm with\nkatello-rhsm-consumer script.\n\nThis patch installs the rpm and runs the script.\n\nChange-Id: I180eb65a01832da76d5c433d9b13f8e410e24d04\nCloses-Bug: #1805249\n'}, {'number': 5, 'created': '2018-11-27 18:44:44.000000000', 'files': ['tasks/satellite-6.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/dba48a053190ec67a7f957120561a677d246bcd5', 'message': 'sat6: pull & deploy katello certs\n\nFor a node to communicate correctly with Katello, it needs the right SSL\ncertificates in place, and facts configured in RHSM.\n\nIt is provided by katello-ca-consumer-latest.noarch.rpm with\nkatello-rhsm-consumer script.\n\nThis patch installs the rpm and runs the script.\n\nChange-Id: I180eb65a01832da76d5c433d9b13f8e410e24d04\nCloses-Bug: #1805249\n'}]",1,620176,dba48a053190ec67a7f957120561a677d246bcd5,14,4,5,3153,,,0,"sat6: pull & deploy katello certs

For a node to communicate correctly with Katello, it needs the right SSL
certificates in place, and facts configured in RHSM.

It is provided by katello-ca-consumer-latest.noarch.rpm with
katello-rhsm-consumer script.

This patch installs the rpm and runs the script.

Change-Id: I180eb65a01832da76d5c433d9b13f8e410e24d04
Closes-Bug: #1805249
",git fetch https://review.opendev.org/openstack/ansible-role-redhat-subscription refs/changes/76/620176/3 && git format-patch -1 --stdout FETCH_HEAD,['tasks/satellite-6.yml'],1,a381e565d62ace696f9550f270afa65210875853,bug/1805249,"- name: SATELLITE 6 | Install katello-ca-consumer yum: name: ""{{ rhsm_satellite_url }}/pub/katello-ca-consumer-latest.noarch.rpm"" state: present # This script is provided by katello-ca-consumer and takes care of deploying # the katello certificates and prepare the config in RHSM. - name: SATELLITE 6 | Execute katello-rhsm-consumer shell: katello-rhsm-consumer","- name: SATELLITE 6 | Set RHSM facts copy: content: ""{{ rhsm_facts | to_json }}\n"" dest: /etc/rhsm/facts/katello.facts vars: rhsm_facts: network.hostname-override: ""{{ ansible_facts.fqdn }}"" - name: SATELLITE 6 | Install CA certificates copy: content: ""{{ rhsm_katello_ca }}\n"" dest: /etc/rhsm/ca/{{ item }} owner: root group: root mode: 0644 loop: ""{{ rhsm_ca_files }}""",9,16
openstack%2Fpython-tricircleclient~master~I7c3fad62437ab96e8b1e02bb9c38bc1138f7fce8,openstack/python-tricircleclient,master,I7c3fad62437ab96e8b1e02bb9c38bc1138f7fce8,add python 3.6 unit test job,MERGED,2018-11-28 08:07:27.000000000,2018-11-28 16:27:59.000000000,2018-11-28 16:27:59.000000000,"[{'_account_id': 8726}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-11-28 08:07:27.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-tricircleclient/commit/45db1391f2c0c6615edd89a528332d95aae375f0', 'message': 'add python 3.6 unit test job\n\nThis is a mechanically generated patch to add a unit test job running\nunder Python 3.6 as part of the python3-first goal.\n\nSee the python3-first goal document for details:\nhttps://governance.openstack.org/tc/goals/stein/python3-first.html\n\nChange-Id: I7c3fad62437ab96e8b1e02bb9c38bc1138f7fce8\nStory: #2002586\n'}]",0,620523,45db1391f2c0c6615edd89a528332d95aae375f0,7,3,1,28543,,,0,"add python 3.6 unit test job

This is a mechanically generated patch to add a unit test job running
under Python 3.6 as part of the python3-first goal.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: I7c3fad62437ab96e8b1e02bb9c38bc1138f7fce8
Story: #2002586
",git fetch https://review.opendev.org/openstack/python-tricircleclient refs/changes/23/620523/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,45db1391f2c0c6615edd89a528332d95aae375f0,,"envlist = py36,py35,py27,pep8","envlist = py35,py27,pep8",1,1
openstack%2Fcontributor-guide~master~Idfe8e08311fbd5703fbee8206217a9fc6aee0f10,openstack/contributor-guide,master,Idfe8e08311fbd5703fbee8206217a9fc6aee0f10,Fix some findings regarding openstack-discuss ML,MERGED,2018-11-24 12:55:59.000000000,2018-11-28 16:23:03.000000000,2018-11-28 16:23:03.000000000,"[{'_account_id': 2472}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-24 12:55:59.000000000', 'files': ['doc/source/operators/participate.rst', 'doc/source/common/governance.rst', 'doc/source/contributing/intro.rst'], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/81ef72971d8f85575d7b0aa72cc5b5ed58106611', 'message': 'Fix some findings regarding openstack-discuss ML\n\nChange-Id: Idfe8e08311fbd5703fbee8206217a9fc6aee0f10\n'}]",0,619879,81ef72971d8f85575d7b0aa72cc5b5ed58106611,7,3,1,17765,,,0,"Fix some findings regarding openstack-discuss ML

Change-Id: Idfe8e08311fbd5703fbee8206217a9fc6aee0f10
",git fetch https://review.opendev.org/openstack/contributor-guide refs/changes/79/619879/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/operators/participate.rst', 'doc/source/common/governance.rst', 'doc/source/contributing/intro.rst']",3,81ef72971d8f85575d7b0aa72cc5b5ed58106611,,for help on the `OpenStack Discuss Mailing list <http://lists.openstack.org/cgi-bin/mailman/listinfo/openstack-discuss>`_ prefixing,for help on the `OpenStack Dev Mailing list <http://lists.openstack.org/cgi-bin/mailman/listinfo/openstack-dev>`_ prefixing,10,7
openstack%2Ftripleo-heat-templates~master~I9c7151b0085cd2d341e17f78dc75d1781cb7ae9d,openstack/tripleo-heat-templates,master,I9c7151b0085cd2d341e17f78dc75d1781cb7ae9d,Standalone: Disable persisting VIPs on /etc/hosts,MERGED,2018-10-24 16:40:50.000000000,2018-11-28 16:22:09.000000000,2018-11-02 15:23:20.000000000,"[{'_account_id': 3153}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2018-10-24 16:40:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d64038c0bf14d52d7a0d623cac4b42ea6c0ef51c', 'message': 'Standalone: Disable persisting VIPs on /etc/hosts for standalone\n\nThis adds the needed parameter to the standalone environment file.\n\nChange-Id: I9c7151b0085cd2d341e17f78dc75d1781cb7ae9d\nRelated-Bug: #1799724\n'}, {'number': 2, 'created': '2018-10-24 16:41:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f9ad55fc9be35dd22f5e16d546c99635c992d631', 'message': 'Standalone: Disable persisting VIPs on /etc/hosts\n\nThis adds the needed parameter to the standalone environment file.\n\nChange-Id: I9c7151b0085cd2d341e17f78dc75d1781cb7ae9d\nRelated-Bug: #1799724\n'}, {'number': 3, 'created': '2018-10-25 14:38:24.000000000', 'files': ['sample-env-generator/standalone.yaml', 'environments/standalone/standalone-tripleo.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dfa015d273415042eae9de85fb85ad1b444ad09c', 'message': 'Standalone: Disable persisting VIPs on /etc/hosts\n\nThis adds the needed parameter to the standalone environment file.\n\nChange-Id: I9c7151b0085cd2d341e17f78dc75d1781cb7ae9d\nRelated-Bug: #1799724\n'}]",6,613106,dfa015d273415042eae9de85fb85ad1b444ad09c,24,6,3,10873,,,0,"Standalone: Disable persisting VIPs on /etc/hosts

This adds the needed parameter to the standalone environment file.

Change-Id: I9c7151b0085cd2d341e17f78dc75d1781cb7ae9d
Related-Bug: #1799724
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/06/613106/1 && git format-patch -1 --stdout FETCH_HEAD,"['sample-env-generator/standalone.yaml', 'environments/standalone/standalone-overcloud.yaml']",2,d64038c0bf14d52d7a0d623cac4b42ea6c0ef51c,bug/1799724, # Set to true to append per network Vips to /etc/hosts on each node. # Type: string AddVipsToEtcHosts: False ,,11,1
openstack%2Fneutron~master~Ide14df18639f46e029765c9fc4beb2b23c33c205,openstack/neutron,master,Ide14df18639f46e029765c9fc4beb2b23c33c205,Use apply_filters from neutron-lib,ABANDONED,2018-11-27 21:30:26.000000000,2018-11-28 16:17:01.000000000,,"[{'_account_id': 5367}, {'_account_id': 10385}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-11-27 21:30:26.000000000', 'files': ['neutron/db/_model_query.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/69cd320cf4f4b7e55bd9e5ecba3e3b45a0b7b50f', 'message': ""Use apply_filters from neutron-lib\n\nThis patch switches use of the apply_filters method over to\nneutron-lib's implementation.\n\nChange-Id: Ide14df18639f46e029765c9fc4beb2b23c33c205\n""}]",2,620410,69cd320cf4f4b7e55bd9e5ecba3e3b45a0b7b50f,7,5,1,27654,,,0,"Use apply_filters from neutron-lib

This patch switches use of the apply_filters method over to
neutron-lib's implementation.

Change-Id: Ide14df18639f46e029765c9fc4beb2b23c33c205
",git fetch https://review.opendev.org/openstack/neutron refs/changes/10/620410/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/_model_query.py'],1,69cd320cf4f4b7e55bd9e5ecba3e3b45a0b7b50f,,apply_filters = model_query.apply_filters,"def apply_filters(query, model, filters, context=None): if filters: for key, value in filters.items(): column = getattr(model, key, None) # NOTE(kevinbenton): if column is a hybrid property that # references another expression, attempting to convert to # a boolean will fail so we must compare to None. # See ""An Important Expression Language Gotcha"" in: # docs.sqlalchemy.org/en/rel_0_9/changelog/migration_06.html if column is not None: if not value: query = query.filter(sql.false()) return query if isinstance(column, associationproxy.AssociationProxy): # association proxies don't support in_ so we have to # do multiple equals matches query = query.filter( or_(*[column == v for v in value])) elif isinstance(value, obj_utils.FilterObj): query = query.filter(value.filter(column)) elif None in value: # in_() operator does not support NULL element so we have # to do multiple equals matches query = query.filter( or_(*[column == v for v in value])) else: query = query.filter(column.in_(value)) elif key == 'shared' and hasattr(model, 'rbac_entries'): # translate a filter on shared into a query against the # object's rbac entries rbac = model.rbac_entries.property.mapper.class_ matches = [rbac.target_tenant == '*'] if context: matches.append(rbac.target_tenant == context.tenant_id) # any 'access_as_shared' records that match the # wildcard or requesting tenant is_shared = and_(rbac.action == 'access_as_shared', or_(*matches)) if not value[0]: # NOTE(kevinbenton): we need to find objects that don't # have an entry that matches the criteria above so # we use a subquery to exclude them. # We can't just filter the inverse of the query above # because that will still give us a network shared to # our tenant (or wildcard) if it's shared to another # tenant. # This is the column joining the table to rbac via # the object_id. We can't just use model.id because # subnets join on network.id so we have to inspect the # relationship. join_cols = model.rbac_entries.property.local_columns oid_col = list(join_cols)[0] is_shared = ~oid_col.in_( query.session.query(rbac.object_id).filter(is_shared) ) elif (not context or not db_utils.model_query_scope_is_project( context, model)): # we only want to join if we aren't using the subquery # and if we aren't already joined because this is a # scoped query query = query.outerjoin(model.rbac_entries) query = query.filter(is_shared) for hook in get_hooks(model): result_filter = helpers.resolve_ref( hook.get('result_filters', None)) if result_filter: query = result_filter(query, filters) return query ",1,71
openstack%2Frpm-packaging~master~Iaa86b038ec21ce20de37f185fe2ce36cd34485cb,openstack/rpm-packaging,master,Iaa86b038ec21ce20de37f185fe2ce36cd34485cb,update oslo.log to v3.40.1,MERGED,2018-09-26 03:09:29.000000000,2018-11-28 15:59:50.000000000,2018-11-28 15:59:50.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 8482}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28613}]","[{'number': 1, 'created': '2018-09-26 03:09:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/381cd929c8a44c24ed3cf81cb666714345fa94dc', 'message': 'update oslo.log to v3.40.1\n\nChange-Id: Iaa86b038ec21ce20de37f185fe2ce36cd34485cb\n'}, {'number': 2, 'created': '2018-09-27 02:40:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/8908d47d5ac6b0a76660ca0901c07957560c8a9a', 'message': 'update oslo.log to v3.40.1\n\nChange-Id: Iaa86b038ec21ce20de37f185fe2ce36cd34485cb\n'}, {'number': 3, 'created': '2018-09-27 23:43:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/c5b145f5f8d46594ccc67893688ec38a2633edd2', 'message': 'update oslo.log to v3.40.1\n\nChange-Id: Iaa86b038ec21ce20de37f185fe2ce36cd34485cb\n'}, {'number': 4, 'created': '2018-10-09 09:11:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/085f22da4b78a7d3b3de17a732565a2c800678f4', 'message': 'update oslo.log to v3.40.1\n\nChange-Id: Iaa86b038ec21ce20de37f185fe2ce36cd34485cb\n'}, {'number': 5, 'created': '2018-10-10 07:28:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/23bf1d75070d3bcbea3f4ee42bc2f7af0d087012', 'message': 'update oslo.log to v3.40.1\n\nChange-Id: Iaa86b038ec21ce20de37f185fe2ce36cd34485cb\n'}, {'number': 6, 'created': '2018-10-10 07:39:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/d33d8b5e1fd3cccb6721bcffb1068fd828577f2c', 'message': 'update oslo.log to v3.40.1\n\nChange-Id: Iaa86b038ec21ce20de37f185fe2ce36cd34485cb\n'}, {'number': 7, 'created': '2018-11-14 14:09:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/b05db6cdaaeef66668afdf26661b40699a493abf', 'message': 'update oslo.log to v3.40.1\n\nChange-Id: Iaa86b038ec21ce20de37f185fe2ce36cd34485cb\n'}, {'number': 8, 'created': '2018-11-14 14:20:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/6bed87f4d7d251e06157404f468f401d123a916a', 'message': 'update oslo.log to v3.40.1\n\nChange-Id: Iaa86b038ec21ce20de37f185fe2ce36cd34485cb\n'}, {'number': 9, 'created': '2018-11-14 14:47:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/ea84d6001cd66f3f9db4ec63a6f9870395b2c439', 'message': 'update oslo.log to v3.40.1\n\nChange-Id: Iaa86b038ec21ce20de37f185fe2ce36cd34485cb\n'}, {'number': 10, 'created': '2018-11-21 14:14:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/5a20ec6d9289f12724cb82fdba06d444dda7e030', 'message': 'update oslo.log to v3.40.1\n\nChange-Id: Iaa86b038ec21ce20de37f185fe2ce36cd34485cb\n'}, {'number': 11, 'created': '2018-11-28 13:03:12.000000000', 'files': ['openstack/oslo.log/oslo.log.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/d003e1caf7cf0f963650844febae7aa90c808b50', 'message': 'update oslo.log to v3.40.1\n\nChange-Id: Iaa86b038ec21ce20de37f185fe2ce36cd34485cb\n'}]",0,605318,d003e1caf7cf0f963650844febae7aa90c808b50,63,8,11,28613,,,0,"update oslo.log to v3.40.1

Change-Id: Iaa86b038ec21ce20de37f185fe2ce36cd34485cb
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/18/605318/9 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.log/oslo.log.spec.j2'],1,381cd929c8a44c24ed3cf81cb666714345fa94dc,oslo.log,{% set upstream_version = upstream_version('3.40.1') %},{% set upstream_version = upstream_version('3.39.0') %},1,1
openstack%2Fproject-team-guide~master~Id30b268a90c71c23fbdfca430816f014d23e58db,openstack/project-team-guide,master,Id30b268a90c71c23fbdfca430816f014d23e58db,Add documentation for dependency management tools,MERGED,2018-11-03 19:31:47.000000000,2018-11-28 15:57:50.000000000,2018-11-28 15:57:50.000000000,"[{'_account_id': 2}, {'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 11564}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-03 19:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/ae259348b24a2bee905398c154d907b8bc97764f', 'message': 'Add documentation for dependency management tools\n\nThis is part of updating requirements documentation, centralizing it in\none location.\n\nChange-Id: Id30b268a90c71c23fbdfca430816f014d23e58db\nStory: 2003792\n'}, {'number': 2, 'created': '2018-11-05 16:20:42.000000000', 'files': ['doc/source/dependency-management.rst'], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/13361dee3d4ecfeb6429c614360cf0e89bfc8d95', 'message': 'Add documentation for dependency management tools\n\nThis is part of updating requirements documentation, centralizing it in\none location.\n\nChange-Id: Id30b268a90c71c23fbdfca430816f014d23e58db\nStory: 2003792\n'}]",13,615388,13361dee3d4ecfeb6429c614360cf0e89bfc8d95,17,8,2,14288,,,0,"Add documentation for dependency management tools

This is part of updating requirements documentation, centralizing it in
one location.

Change-Id: Id30b268a90c71c23fbdfca430816f014d23e58db
Story: 2003792
",git fetch https://review.opendev.org/openstack/project-team-guide refs/changes/88/615388/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/dependency-management.rst'],1,ae259348b24a2bee905398c154d907b8bc97764f,add-examples-to-dep-management," or 3. As part of the same review, run the following command ``generate-constraints -b blacklist.txt -p /usr/bin/python2.7 \ -p /usr/bin/python3.6 -r global-requirements.txt --version-map 3.6:3.4 \ --version-map 3.6:3.5 > upper-constraints.txt``. Be sure to only update or add constraints related to your addition.1. Remove the dependency from the requirements and constraints files within the project tree. Be sure to check the docs folder as well.Tools ===== All tools require ``openstack_requirements`` to be installed (e.g. in a Python virtualenv). All tools have the ``--help`` option, which is the authoritative documentation for that command. generate-constraints -------------------- Compile a constraints file showing the versions resulting from installing all of ``global-requirements.txt``:: generate-constraints -p /usr/bin/python2.7 -p /usr/bin/python3.6 \ -r global-requirements.txt -b blacklist.txt --version-map 3.6:3.4 \ --version-map 3.6:3.5 > new-constraints.txt edit-constraints ---------------- Replace all references to a package in a constraints file with a new specification. Used by DevStack to enable git installations of libraries that are normally constrained:: edit-constraints oslo.db ""-e file://opt/stack/oslo.db#egg=oslo.db"" build-lower-constraints ----------------------- Combine multiple lower-constraints.txt files to produce a list of the highest version of each package mentioned in the files. This can be used to produce the ""highest minimum"" for a global lower constraints list (a.k.a., the ""TJ Maxx"").:: tox -e venv -- build-lower-constraints input1.txt input2.txt Where the input files are lower-constraints.txt or requirements.txt files from one or more projects. If the inputs are requirements files, a lower constraints list for the requirements is produced. If the inputs are lower-constraints.txt, the output includes the highest version of each package referenced in the files. check-requirements ------------------ Run the validation checks from the ``requirements-check`` job locally using the ``requirements-check`` tox environment.:: tox -e requirements-check -- /path/to/repo/to/test"," or 3. Add a recent version to ``upper-constraints.txt`` in the same repository at the same time.1. Remove the dependency from the requirements files in the project tree, including the ``lower-constraints.txt`` file.",58,4
openstack%2Fpuppet-manila~master~I6e61660c492a67c2af2dbaa80d6c47bf799cda18,openstack/puppet-manila,master,I6e61660c492a67c2af2dbaa80d6c47bf799cda18,Remove keystone::python,ABANDONED,2018-11-28 15:46:17.000000000,2018-11-28 15:47:53.000000000,,[],"[{'number': 1, 'created': '2018-11-28 15:46:17.000000000', 'files': ['manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/38c9eb4160cf33fe5a502a508e4d01b67201dea0', 'message': 'Remove keystone::python\n\nIt was removed from keystone via\nhttps://review.openstack.org/#/c/619378/ and has been deprecated since\nnewton\n\nChange-Id: I6e61660c492a67c2af2dbaa80d6c47bf799cda18\n'}]",0,620638,38c9eb4160cf33fe5a502a508e4d01b67201dea0,2,0,1,14985,,,0,"Remove keystone::python

It was removed from keystone via
https://review.openstack.org/#/c/619378/ and has been deprecated since
newton

Change-Id: I6e61660c492a67c2af2dbaa80d6c47bf799cda18
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/38/620638/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/api.pp'],1,38c9eb4160cf33fe5a502a508e4d01b67201dea0,,, require ::keystone::python,0,1
openstack%2Fopenstacksdk~master~Idedee2b394e2ed412a69880d4bc9315737e1c3ed,openstack/openstacksdk,master,Idedee2b394e2ed412a69880d4bc9315737e1c3ed,Change approach to detailed listings of baremetal resources,MERGED,2018-11-22 14:59:40.000000000,2018-11-28 15:43:23.000000000,2018-11-28 15:43:23.000000000,"[{'_account_id': 2}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2018-11-22 14:59:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/86e33c6e9aefd267952859bad8088fecced460b2', 'message': '[WIP] Change approach to detailed listings of baremetal resources\n\nThe current approach with separate ResourceDetail classes suffers\nfrom serious flows and is barely usable. For example for nodes:\n* get_node() returns complete Node objects\n* nodes() returns incomplete Node objects\n* nodes(details=True) returns NodeDetail objects, which are exactly\n  like complete Node objects, except that you cannot do anything\n  with them: updating, listing VIFs, etc.\n\nThis change consolidates everything into Node (Port, etc) objects\nand deprecates NodeDetail (PortDetail, etc). I would highly recommend\nthe same approach taken for other ResourceDetail objects.\n\nChange-Id: Idedee2b394e2ed412a69880d4bc9315737e1c3ed\n'}, {'number': 2, 'created': '2018-11-23 08:15:00.000000000', 'files': ['openstack/baremetal/v1/_proxy.py', 'openstack/baremetal/v1/port.py', 'openstack/tests/functional/baremetal/test_baremetal_port.py', 'openstack/tests/unit/baremetal/v1/test_chassis.py', 'openstack/tests/unit/baremetal/v1/test_port.py', 'releasenotes/notes/baremetal-details-09b27fba82111cfb.yaml', 'openstack/tests/functional/baremetal/test_baremetal_node.py', 'openstack/baremetal/v1/_common.py', 'openstack/baremetal/v1/chassis.py', 'openstack/tests/unit/baremetal/v1/test_node.py', 'openstack/baremetal/v1/port_group.py', 'openstack/tests/unit/baremetal/v1/test_proxy.py', 'openstack/tests/functional/baremetal/test_baremetal_port_group.py', 'openstack/tests/unit/baremetal/v1/test_port_group.py', 'openstack/resource.py', 'openstack/baremetal/v1/node.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5c5478d774b8b6abb196d3ed27331a07efb98c88', 'message': 'Change approach to detailed listings of baremetal resources\n\nThe current approach with separate ResourceDetail classes suffers\nfrom serious flows and is barely usable. For example for nodes:\n* get_node() returns complete Node objects\n* nodes() returns incomplete Node objects\n* nodes(details=True) returns NodeDetail objects, which are exactly\n  like complete Node objects, except that you cannot do anything\n  with them: updating, listing VIFs, etc.\nThis is confusing and essentially requires the caller to issue\na redundant get_node call after listing detailed nodes.\n\nThis change consolidates everything into Node (Port, etc) objects\nand deprecates NodeDetail (PortDetail, etc). I would highly recommend\nthe same approach taken for other ResourceDetail objects.\n\nChange-Id: Idedee2b394e2ed412a69880d4bc9315737e1c3ed\n'}]",0,619594,5c5478d774b8b6abb196d3ed27331a07efb98c88,11,4,2,10239,,,0,"Change approach to detailed listings of baremetal resources

The current approach with separate ResourceDetail classes suffers
from serious flows and is barely usable. For example for nodes:
* get_node() returns complete Node objects
* nodes() returns incomplete Node objects
* nodes(details=True) returns NodeDetail objects, which are exactly
  like complete Node objects, except that you cannot do anything
  with them: updating, listing VIFs, etc.
This is confusing and essentially requires the caller to issue
a redundant get_node call after listing detailed nodes.

This change consolidates everything into Node (Port, etc) objects
and deprecates NodeDetail (PortDetail, etc). I would highly recommend
the same approach taken for other ResourceDetail objects.

Change-Id: Idedee2b394e2ed412a69880d4bc9315737e1c3ed
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/94/619594/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/baremetal/v1/_proxy.py', 'openstack/baremetal/v1/port_group.py', 'openstack/resource.py', 'openstack/baremetal/v1/port.py', 'openstack/baremetal/v1/_common.py', 'openstack/baremetal/v1/chassis.py', 'openstack/baremetal/v1/node.py']",7,86e33c6e9aefd267952859bad8088fecced460b2,bm-details,"class Node(_common.ListMixin, resource.Resource):NodeDetail = Node","class Node(resource.Resource):class NodeDetail(Node): base_path = '/nodes/detail' # capabilities allow_create = False allow_fetch = False allow_commit = False allow_delete = False allow_list = True _query_mapping = resource.QueryParameters( 'associated', 'conductor_group', 'driver', 'fault', 'provision_state', 'resource_class', instance_id='instance_uuid', is_maintenance='maintenance', ) #: The UUID of the node resource. id = resource.Body(""uuid"", alternate_id=True)",53,83
